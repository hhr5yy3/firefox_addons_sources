/*! For license information please see app.js.LICENSE.txt */
(()=>{var e,t,s,a={87946:(e,t,s)=>{const a=s(96815),n=s(65207),r=s(25627);a.scripting||(a.scripting=new n(a)),a.storage.session||(a.storage.session=new r),a.action||(a.action=a.browserAction),e.exports=a},65207:e=>{e.exports=class{constructor(e){this.browser=e}async executeScript(e){return e.func?await this._insertJsFunc(e):this._insertJsFiles(e)}insertCSS(e){let t=null;const s=e.files;for(let a=s.length-1;a>=0;--a){const n={file:s[a],runAt:"document_end",frameId:e.target?.frameIds[0]};t=this._createCssCallback(e.target.tabId,n,t)}t&&t()}_createJsCallback(e,t,s){return()=>chrome.tabs.executeScript(e,t,s)}_createCssCallback(e,t,s){return()=>chrome.tabs.insertCSS(e,t,s)}_insertJsFiles(e){let t=null;const s=e.files;for(let a=s.length-1;a>=0;--a){const n={file:s[a],runAt:"document_end",frameId:e.target?.frameIds[0]};t=this._createJsCallback(e.target.tabId,n,t)}t&&t()}async _insertJsFunc(e){const t=JSON.stringify(e.args),s=`;${e.func.name}.apply(window, ${t});`,a={code:e.func.toString()+s,runAt:"document_end",frameId:e.target?.frameIds[0]},n=await this.browser.tabs.executeScript(e.target.tabId,a);return n?.map((e=>({result:e})))}}},25627:e=>{e.exports=class{constructor(){this._storedData={}}async get(e){const t=typeof e;if("string"!==t&&"undefined"!==t)throw new Error(`Expected keys type of "string" but received an unsopprted type: ${t}`);return e?this._storedData[e]?{[e]:this._storedData[e]}:{}:this._storedData}async set(e){if("object"!=typeof e)throw new Error('Expected keys type of "object" but received an unsopprted type: '+typeof e);for(const t in e)this._storedData[t]=JSON.parse(JSON.stringify(e[t]))}async remove(e){delete this._storedData[e]}async clear(){this._storedData={}}}},10598:(e,t,s)=>{"use strict";var a=s(96540),n=s(40961),r=s(54625),i=s(56347),o=s(5556),l=s.n(o);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},c.apply(null,arguments)}const d=a.createContext({user:null,users:null,roles:null,rememberMeOptions:{},resources:null,resource:null,shareResources:null,selectedResources:null,selectedUser:null,folders:null,resourceCommentId:null,mustRefreshComments:!1,siteSettings:null,userSettings:null,onCheckIsAuthenticatedRequested:null});function h(e){return class extends a.Component{render(){return a.createElement(d.Consumer,null,(t=>a.createElement(e,c({context:t},this.props))))}}}const m=d;function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},p.apply(null,arguments)}const u=a.createContext({onGoToAdministrationRequested:()=>{},onGoToAdministrationSelfRegistrationRequested:()=>{},onGoToAdministrationMfaRequested:()=>{},onGoToAdministrationUsersDirectoryRequested:()=>{},onGoToAdministrationEmailNotificationsRequested:()=>{},onGoToAdministrationSubscriptionRequested:()=>{},onGoToAdministrationInternationalizationRequested:()=>{},onGoToAdministrationAccountRecoveryRequested:()=>{},onGoToAdministrationSmtpSettingsRequested:()=>{},onGoToAdministrationSsoRequested:()=>{},onGoToAdministrationPasswordPoliciesRequested:()=>{},onGoToAdministrationUserPassphrasePoliciesRequested:()=>{},onGoToAdministrationPasswordExpirySettingsRequested:()=>{},onGoToAdministrationHealthcheckRequested:()=>{},onGoToPasswordsRequested:()=>{},onGoToUsersRequested:()=>{},onGoToUserSettingsProfileRequested:()=>{},onGoToUserSettingsPassphraseRequested:()=>{},onGoToUserSettingsSecurityTokenRequested:()=>{},onGoToUserSettingsThemeRequested:()=>{},onGoToUserSettingsMfaRequested:()=>{},onGoToUserSettingsKeysRequested:()=>{},onGoToUserSettingsMobileRequested:()=>{},onGoToUserSettingsDesktopRequested:()=>{},onGoToUserSettingsAccountRecoveryRequested:()=>{},onGoToNewTab:()=>{},onGoToAdministrationRbacsRequested:()=>{}});class g extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{onGoToNewTab:this.onGoToNewTab.bind(this),onGoToAdministrationRequested:this.onGoToAdministrationRequested.bind(this),onGoToAdministrationMfaRequested:this.onGoToAdministrationMfaRequested.bind(this),onGoToAdministrationUsersDirectoryRequested:this.onGoToAdministrationUsersDirectoryRequested.bind(this),onGoToAdministrationEmailNotificationsRequested:this.onGoToAdministrationEmailNotificationsRequested.bind(this),onGoToAdministrationSubscriptionRequested:this.onGoToAdministrationSubscriptionRequested.bind(this),onGoToAdministrationInternationalizationRequested:this.onGoToAdministrationInternationalizationRequested.bind(this),onGoToAdministrationAccountRecoveryRequested:this.onGoToAdministrationAccountRecoveryRequested.bind(this),onGoToAdministrationSmtpSettingsRequested:this.onGoToAdministrationSmtpSettingsRequested.bind(this),onGoToAdministrationSelfRegistrationRequested:this.onGoToAdministrationSelfRegistrationRequested.bind(this),onGoToAdministrationSsoRequested:this.onGoToAdministrationSsoRequested.bind(this),onGoToAdministrationMfaPolicyRequested:this.onGoToAdministrationMfaPolicyRequested.bind(this),onGoToAdministrationPasswordPoliciesRequested:this.onGoToAdministrationPasswordPoliciesRequested.bind(this),onGoToAdministrationUserPassphrasePoliciesRequested:this.onGoToAdministrationUserPassphrasePoliciesRequested.bind(this),onGoToAdministrationPasswordExpirySettingsRequested:this.onGoToAdministrationPasswordExpirySettingsRequested.bind(this),onGoToAdministrationHealthcheckRequested:this.onGoToAdministrationHealthcheckRequested.bind(this),onGoToPasswordsRequested:this.onGoToPasswordsRequested.bind(this),onGoToUsersRequested:this.onGoToUsersRequested.bind(this),onGoToUserSettingsProfileRequested:this.onGoToUserSettingsProfileRequested.bind(this),onGoToUserSettingsPassphraseRequested:this.onGoToUserSettingsPassphraseRequested.bind(this),onGoToUserSettingsSecurityTokenRequested:this.onGoToUserSettingsSecurityTokenRequested.bind(this),onGoToUserSettingsThemeRequested:this.onGoToUserSettingsThemeRequested.bind(this),onGoToUserSettingsMfaRequested:this.onGoToUserSettingsMfaRequested.bind(this),onGoToUserSettingsKeysRequested:this.onGoToUserSettingsKeysRequested.bind(this),onGoToUserSettingsMobileRequested:this.onGoToUserSettingsMobileRequested.bind(this),onGoToUserSettingsDesktopRequested:this.onGoToUserSettingsDesktopRequested.bind(this),onGoToUserSettingsAccountRecoveryRequested:this.onGoToUserSettingsAccountRecoveryRequested.bind(this),onGoToAdministrationRbacsRequested:this.onGoToAdministrationRbacsRequested.bind(this)}}async goTo(e,t){if(e===this.props.context.name)await this.props.history.push({pathname:t});else{const e=`${this.props.context.userSettings?this.props.context.userSettings.getTrustedDomain():this.props.context.trustedDomain}${t}`;window.open(e,"_parent","noopener,noreferrer")}}onGoToNewTab(e){window.open(e,"_blank","noopener,noreferrer")}async onGoToAdministrationRequested(){let e="/app/administration/email-notification";this.isMfaEnabled?e="/app/administration/mfa":this.isUserDirectoryEnabled?e="/app/administration/users-directory":this.isSmtpSettingsEnable?e="/app/administration/smtp-settings":this.isSelfRegistrationEnable?e="/app/administration/self-registation":this.isPasswordPoliciesEnable?e="/app/administration/password-policies":this.isUserPassphrasePoliciesEnable?e="/app/administration/user-passphrase-policies":this.isPasswordExpiryEnable&&(e="/app/administration/password-expiry"),await this.goTo("api",e)}async onGoToAdministrationMfaRequested(){await this.goTo("api","/app/administration/mfa")}async onGoToAdministrationMfaPolicyRequested(){await this.goTo("api","/app/administration/mfa-policy")}async onGoToAdministrationPasswordPoliciesRequested(){await this.goTo("browser-extension","/app/administration/password-policies")}async onGoToAdministrationSelfRegistrationRequested(){await this.goTo("api","/app/administration/self-registration")}async onGoToAdministrationUsersDirectoryRequested(){await this.goTo("api","/app/administration/users-directory")}async onGoToAdministrationHealthcheckRequested(){await this.goTo("api","/app/administration/healthcheck")}async onGoToAdministrationEmailNotificationsRequested(){await this.goTo("api","/app/administration/email-notification")}async onGoToAdministrationSmtpSettingsRequested(){await this.goTo("api","/app/administration/smtp-settings")}async onGoToAdministrationSubscriptionRequested(){await this.goTo("browser-extension","/app/administration/subscription")}async onGoToAdministrationInternationalizationRequested(){await this.goTo("api","/app/administration/internationalization")}async onGoToAdministrationAccountRecoveryRequested(){await this.goTo("browser-extension","/app/administration/account-recovery")}async onGoToAdministrationSsoRequested(){await this.goTo("browser-extension","/app/administration/sso")}async onGoToAdministrationRbacsRequested(){await this.goTo("api","/app/administration/rbacs")}async onGoToAdministrationUserPassphrasePoliciesRequested(){await this.goTo("browser-extension","/app/administration/user-passphrase-policies")}async onGoToAdministrationPasswordExpirySettingsRequested(){await this.goTo("browser-extension","/app/administration/password-expiry")}get isMfaEnabled(){const e=this.props.context.siteSettings;return e&&e.canIUse("multiFactorAuthentication")}get isUserDirectoryEnabled(){const e=this.props.context.siteSettings;return e&&e.canIUse("directorySync")}get isSmtpSettingsEnable(){const e=this.props.context.siteSettings;return e&&e.canIUse("smtpSettings")}get isSelfRegistrationEnable(){const e=this.props.context.siteSettings;return e&&e.canIUse("selfRegistration")}get isPasswordPoliciesEnable(){const e=this.props.context.siteSettings;return e&&e.canIUse("passwordPoliciesUpdate")}get isUserPassphrasePoliciesEnable(){const e=this.props.context.siteSettings;return e&&e.canIUse("userPassphrasePolicies")}get isPasswordExpiryEnable(){const e=this.props.context.siteSettings;return e&&e.canIUse("passwordExpiry")}async onGoToPasswordsRequested(){await this.goTo("browser-extension","/app/passwords")}async onGoToUsersRequested(){await this.goTo("browser-extension","/app/users")}async onGoToUserSettingsProfileRequested(){await this.goTo("browser-extension","/app/settings/profile")}async onGoToUserSettingsPassphraseRequested(){await this.goTo("browser-extension","/app/settings/passphrase")}async onGoToUserSettingsSecurityTokenRequested(){await this.goTo("browser-extension","/app/settings/security-token")}async onGoToUserSettingsThemeRequested(){await this.goTo("browser-extension","/app/settings/theme")}async onGoToUserSettingsMfaRequested(){let e="api";window.chrome?.webview&&(e="browser-extension"),await this.goTo(e,"/app/settings/mfa")}async onGoToUserSettingsDuoSetupRequested(){let e="api";window.chrome?.webview&&(e="browser-extension"),await this.goTo(e,"/app/settings/mfa")}async onGoToUserSettingsKeysRequested(){await this.goTo("browser-extension","/app/settings/keys")}async onGoToUserSettingsMobileRequested(){await this.goTo("browser-extension","/app/settings/mobile")}async onGoToUserSettingsDesktopRequested(){await this.goTo("browser-extension","/app/settings/desktop")}async onGoToUserSettingsAccountRecoveryRequested(){await this.goTo("browser-extension","/app/settings/account-recovery")}render(){return a.createElement(u.Provider,{value:this.state},this.props.children)}}g.displayName="NavigationContextProvider",g.propTypes={context:l().object,children:l().any,location:l().object,match:l().object,history:l().object};const C=(0,i.y)(h(g));function b(e){return class extends a.Component{render(){return a.createElement(u.Consumer,null,(t=>a.createElement(e,p({navigationContext:t},this.props))))}}}var E=s(84628);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},f.apply(null,arguments)}const y=a.createContext({dialogs:[],open:()=>{},close:()=>{}});class v extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{dialogs:[],open:(e,t)=>{const s=(0,E.A)();return this.setState({dialogs:[...this.state.dialogs,{key:s,Dialog:e,DialogProps:t}]}),s},close:e=>this.setState({dialogs:this.state.dialogs.filter((t=>e!==t.key))}),closeAll:()=>this.setState({dialogs:[]})}}render(){return a.createElement(y.Provider,{value:this.state},this.props.children)}}function k(e){return class extends a.Component{render(){return a.createElement(y.Consumer,null,(t=>a.createElement(e,f({dialogContext:t},this.props))))}}}v.displayName="DialogContextProvider",v.propTypes={children:l().any};var w=s(32389);class x{}class S extends x{static execute(){return!0}}class N extends x{static execute(){return!1}}const R="Folders.use",I="Resources.import",_="Resources.export",D="Resources.seeActivities",T="Resources.seeComments",P="Secrets.preview",A="Secrets.copy",M="Share.viewList",U="Tags.use",F="Users.viewWorkspace",L="Mobile.transfer",O="Desktop.transfer",V="Profil.accountRecovery",H="Administration.viewWorkspace",q="Folders.share",j="Allow",W="Deny",z="AllowIfGroupManagerInOneGroup",B={[j]:S,[W]:N,[z]:class extends x{static execute(e){return e.groups_users.some((e=>e.is_admin))}}},G={[R]:B[j]},K={[H]:B[W]};class ${static getByRbac(e){return B[e.controlFunction]||(console.warn(`Could not find control function for the given rbac entity (${e.id})`),N)}static getDefaultForAdminAndUiAction(e){return G[e]||S}static getDefaultForUserAndUiAction(e){return K[e]||S}}class Z extends Error{constructor(e="Entity validation error."){super(e),this.name="EntityValidationError",this.details={}}addError(e,t,s){if("string"!=typeof e)throw new TypeError("EntityValidationError addError property should be a string.");if("string"!=typeof t)throw new TypeError("EntityValidationError addError rule should be a string.");if("string"!=typeof s)throw new TypeError("EntityValidationError addError message should be a string.");Object.prototype.hasOwnProperty.call(this.details,e)||(this.details[e]={}),this.details[e][t]=s}getError(e,t){if(!this.hasError(e,t))return null;const s=this.details[e];return t?s[t]:s}hasError(e,t){if("string"!=typeof e)throw new TypeError("EntityValidationError hasError property should be a string.");const s=this.details&&Object.prototype.hasOwnProperty.call(this.details,e);if(!s)return!1;if(!t)return s;if("string"!=typeof t)throw new TypeError("EntityValidationError hasError rule should be a string.");return Object.prototype.hasOwnProperty.call(this.details[e],t)}hasErrors(){return Object.keys(this.details).length>0}getFirstRuleErrorByField(e){if(!this.hasError(e))return null;const t=this.details[e];return t[Object.keys(t)[0]]}}const Y=Z;var J=s(57761),X=s.n(J);class Q extends Error{constructor(e="Collection validation error."){super(e),this.name="CollectionValidationError",this.errors=[]}addItemValidationError(e,t){if(!Number.isInteger(e))throw new TypeError('CollectionValidationError::addEntityValidationError expects "position" to be an integer.');if(!(t instanceof Y||t instanceof Q))throw new TypeError('CollectionValidationError::addEntityValidationError expects "entityValidationError" to be an instance of EntityValidationError or CollectionValidationError.');this.errors[e]=t}addCollectionValidationError(e,t){if("string"!=typeof e)throw new TypeError('CollectionValidationError::addCollectionValidationError expects "rule" to be a string.');if("string"!=typeof t)throw new TypeError('CollectionValidationError::addCollectionValidationError expects "error" to be a string.');this.errors[e]=t}get details(){const e={};for(const t in this.errors)this.errors[t]instanceof Y||this.errors[t]instanceof Q?e[t]=this.errors[t].details:e[t]=this.errors[t];return e}}const ee=Q;class te{static validateSchema(e,t){if(!t)throw new TypeError(`Could not validate entity ${e}. No schema for entity ${e}.`);if(!t.type)throw new TypeError(`Could not validate entity ${e}. Type missing.`);if("array"!==t.type){if("object"===t.type){if(!t.required||!Array.isArray(t.required))throw new TypeError(`Could not validate entity ${e}. Schema error: no required properties.`);if(!t.properties||!Object.keys(t).length)throw new TypeError(`Could not validate entity ${e}. Schema error: no properties.`);const s=t.properties;for(const e in s){if(!Object.prototype.hasOwnProperty.call(s,e)||!s[e].type&&!s[e].anyOf)throw TypeError(`Invalid schema. Type missing for ${e}...`);if(s[e].anyOf&&(!Array.isArray(s[e].anyOf)||!s[e].anyOf.length))throw new TypeError(`Invalid schema, prop ${e} anyOf should be an array`)}}}else if(!t.items)throw new TypeError(`Could not validate entity ${e}. Schema error: missing item definition.`)}static validate(e,t,s){if(!e||!t||!s)throw new TypeError(`Could not validate entity ${e}. No data provided.`);switch(s.type){case"object":return te.validateObject(e,t,s);case"array":return te.validateArray(e,t,s);default:throw new TypeError(`Could not validate entity ${e}. Unsupported type.`)}}static validateArray(e,t,s){let a;const n=te.validateProp("items",t,s);if("number"==typeof s.minItems&&(te.isGreaterThanOrEqual(t.length,s.minItems)||(a=te.handleCollectionValidationError("minItems",`The items array should contain at least ${s.minItems} item(s).`,a))),a)throw a;return n}static validateObject(e,t,s){const a=s.required,n=s.properties,r={};let i;for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s))if(null!==t?.[s]||!0!==n[s]?.nullable){if(a.includes(s)){if(!Object.prototype.hasOwnProperty.call(t,s)){i=te.getOrInitEntityValidationError(e,i),i.addError(s,"required",`The ${s} is required.`);continue}}else if(!Object.prototype.hasOwnProperty.call(t,s))continue;try{r[s]=te.validateProp(s,t[s],n[s])}catch(t){if(!(t instanceof Y))throw t;i=te.getOrInitEntityValidationError(e,i),i.details[s]=t.details[s]}}else r[s]=null;if(i)throw i;return r}static getOrInitEntityValidationError(e,t){return t||new Y(`Could not validate entity ${e}.`)}static validateProp(e,t,s){if(s.anyOf)return te.validateAnyOf(e,t,s.anyOf),t;if(te.validatePropType(e,t,s),s.enum)return te.validatePropEnum(e,t,s),t;switch(s.type){case"string":te.validatePropTypeString(e,t,s);break;case"integer":case"number":te.validatePropTypeNumber(e,t,s);break;case"array":te.validatePropTypeArray(e,t,s);break;case"object":case"boolean":case"blob":case"null":break;case"x-custom":te.validatePropCustom(e,t,s);break;default:throw new TypeError(`Could not validate property ${e}. Unsupported prop type ${s.type}`)}return t}static validatePropType(e,t,s){if(!te.isValidPropType(t,s.type))throw te.handlePropertyValidationError(e,"type",`The ${e} is not a valid ${s.type}.`)}static validatePropCustom(e,t,s){try{s.validationCallback(t)}catch(t){throw te.handlePropertyValidationError(e,"custom",`The ${e} is not valid: ${t.message}`)}}static validatePropTypeString(e,t,s){let a;if(s.format&&(te.isValidStringFormat(t,s.format)||(a=te.handlePropertyValidationError(e,"format",`The ${e} is not a valid ${s.format}.`,a))),s.notEmpty&&(te.isValidStringNotEmpty(t)||(a=te.handlePropertyValidationError(e,"notEmpty",`The ${e} should be not empty`,a))),s.length&&(te.isValidStringLength(t,s.length,s.length)||(a=te.handlePropertyValidationError(e,"length",`The ${e} should be ${s.length} character in length.`,a))),s.minLength&&(te.isValidStringLength(t,s.minLength)||(a=te.handlePropertyValidationError(e,"minLength",`The ${e} should be ${s.minLength} character in length minimum.`,a))),s.maxLength&&(te.isValidStringLength(t,0,s.maxLength)||(a=te.handlePropertyValidationError(e,"maxLength",`The ${e} should be ${s.maxLength} character in length maximum.`,a))),s.pattern&&(X().matches(t,s.pattern)||(a=te.handlePropertyValidationError(e,"pattern",`The ${e} is not valid.`,a))),s.custom&&(s.custom(t)||(a=te.handlePropertyValidationError(e,"custom",`The ${e} is not valid.`,a))),a)throw a}static handlePropertyValidationError(e,t,s,a=null){return(a=a||new Y(`Could not validate property ${e}.`)).addError(e,t,s),a}static handleCollectionValidationError(e,t,s=null){return(s=s||new ee("Could not validate collection.")).addCollectionValidationError(e,t),s}static validatePropTypeNumber(e,t,s){let a;if("number"==typeof s.minimum&&(te.isGreaterThanOrEqual(t,s.minimum)||(a=te.handlePropertyValidationError(e,"minimum",`The ${e} should be greater or equal to ${s.minimum}.`,a))),"number"==typeof s.maximum&&(te.isLesserThanOrEqual(t,s.maximum)||(a=te.handlePropertyValidationError(e,"maximum",`The ${e} should be lesser or equal to ${s.maximum}.`,a))),a)throw a}static validatePropTypeArray(e,t,s){let a;if(s?.items&&"object"==typeof s.items){for(let n=0;n<t.length;n++){const r=`${e}.${n}`;try{this.validateProp(r,t[n],s.items)}catch(t){if(!(t instanceof Y))throw t;{a=te.getOrInitEntityValidationError(e,a);const s=t.details[r];a.details[e]={...a.details[e],[n]:s}}}}if(a)throw a}}static validatePropEnum(e,t,s){if(!te.isPropInEnum(t,s.enum)){const t=new Y(`Could not validate property ${e}.`);throw t.addError(e,"enum",`The ${e} value is not included in the supported list.`),t}}static validateAnyOf(e,t,s){for(let a=0;a<s.length;a++)try{return void te.validateProp(e,t,s[a])}catch(e){}const a=new Y(`Could not validate property ${e}.`);throw a.addError(e,"type",`The ${e} does not match any of the supported types.`),a}static isValidPropType(e,t){if(Array.isArray(t))throw new TypeError("EntitySchema isValidPropType multiple types are not supported.");if("string"!=typeof t)throw new TypeError("EntitySchema isValidPropType type is invalid.");switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"string":return"string"==typeof e;case"integer":return Number.isInteger(e);case"number":return"number"==typeof e;case"object":return"object"==typeof e;case"array":return Array.isArray(e);case"blob":return e instanceof Blob;case"x-custom":return!0;default:throw new TypeError("EntitySchema validation type not supported.")}}static isValidStringFormat(e,t){if("string"!=typeof t)throw new TypeError("EntitySchema validPropFormat format is invalid.");switch(t){case"uuid":return X().isUUID(e);case"email":case"idn-email":return X().isEmail(e);case"date-time":return X().isISO8601(e);case"x-url":return X().isURL(e,{require_tld:!1});case"x-hex-color":return X().isHexColor(e);case"x-base64":return X().isBase64(e);default:throw new TypeError(`EntitySchema string validation format ${t} is not supported.`)}}static isValidStringNotEmpty(e){return!X().isEmpty(e,{ignore_whitespace:!0})}static isValidStringLength(e,t,s){return t=t||0,X().isLength(e,t,s)}static isPropInEnum(e,t){if(!t||!Array.isArray(t)||!t.length)throw new TypeError("EntitySchema enum schema cannot be empty.");return t.includes(e)}static isGreaterThanOrEqual(e,t){return e>=t}static isLesserThanOrEqual(e,t){return e<=t}}const se=te;class ae{constructor(e,t={}){(t?.clone??!0)&&(e=JSON.parse(JSON.stringify(e))),this._props=e}toDto(){return JSON.parse(JSON.stringify(this))}toJSON(){return this._props}_hasProp(e){if(!e.includes(".")){const t=ae._normalizePropName(e);return Object.prototype.hasOwnProperty.call(this._props,t)}try{return this._getPropByPath(e),!0}catch(e){return!1}}_getPropByPath(e){return ae._normalizePropName(e).split(".").reduce(((e,t)=>{if(Object.prototype.hasOwnProperty.call(e,t))return e[t];throw new Error}),this._props)}static _normalizePropName(e){return e.replace(/([A-Z])/g,((e,t)=>`_${t.toLowerCase()}`)).replace(/\._/,".").replace(/^_/,"").replace(/^\./,"")}}const ne=ae,re=class extends ne{static _cachedSchema={};constructor(e={},t={}){super(e,t),this.marshall(),(t?.validate??1)&&(this.validateSchema(t?.schema),this.validateBuildRules(t?.validateBuildRules))}marshall(){}validateSchema(e=null){this._props=se.validate(this.constructor.name,this._props,e??this.cachedSchema)}get cachedSchema(){return this.constructor._cachedSchema[this.constructor.name]||(this.constructor._cachedSchema[this.constructor.name]=this.constructor.getSchema()),this.constructor._cachedSchema[this.constructor.name]}static getSchema(){throw new Error("The entity class should declare its schema.")}validateBuildRules(e={}){}};class ie extends re{static getSchema(){return{type:"object",required:["id","name"],properties:{id:{type:"string",format:"uuid"},name:{type:"string",enum:[ie.ROLE_ADMIN,ie.ROLE_USER,ie.ROLE_GUEST,ie.ROLE_ROOT]},description:{type:"string",maxLength:255},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"}}}}get id(){return this._props.id}get name(){return this._props.name}get description(){return this._props.description||null}get created(){return this._props.created||null}get modified(){return this._props.modified||null}isAdmin(){return this.name===ie.ROLE_ADMIN}static get ENTITY_NAME(){return"Role"}static get ROLE_ADMIN(){return"admin"}static get ROLE_USER(){return"user"}static get ROLE_GUEST(){return"guest"}static get ROLE_ROOT(){return"root"}}const oe=ie;class le{static canRoleUseUiAction(e,t,s){if(window.chrome?.webview){const a=t.findRbacByActionName(s);return this.getByRbacOrDefault(a,s,e)}const a=new oe(e.role);if(a.isAdmin())return $.getDefaultForAdminAndUiAction(s).execute();const n=t.findRbacByRoleAndUiActionName(a,s);return this.getByRbacOrDefault(n,s,e)}static getByRbacOrDefault(e,t,s){return e?$.getByRbac(e).execute(s):$.getDefaultForUserAndUiAction(t).execute()}}function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ce.apply(null,arguments)}const de=a.createContext({canIUseUiAction:()=>{}});class he extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{canIUseUiAction:this.canIUseUiAction.bind(this)}}canIUseUiAction(e){return le.canRoleUseUiAction(this.props.context.loggedInUser,this.props.context.rbacs,e)}render(){return a.createElement(de.Provider,{value:this.state},this.props.children)}}he.propTypes={context:l().any,children:l().any};const me=h(he);function pe(e){return class extends a.Component{render(){return a.createElement(de.Consumer,null,(t=>a.createElement(e,ce({rbacContext:t},this.props))))}}}class ue extends a.Component{getClassName(){let e=`svg-icon ${this.props.name}`;return this.props.big&&(e+=" icon-only"),this.props.baseline&&(e+=" baseline"),this.props.dim&&(e+=" dim"),e}getWidth(e){return this.props.width||e}getHeight(e){return this.props.height||e}render(){return a.createElement("span",{className:this.getClassName(),onClick:this.props.onClick,style:this.props.style},"2-columns"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M7.97528 1.43999V15.24M7.97528 1.43999H13.3453C13.5466 1.43866 13.7461 1.47733 13.9323 1.55375C14.1185 1.63017 14.2878 1.74282 14.4301 1.88516C14.5725 2.0275 14.6851 2.19669 14.7615 2.38292C14.838 2.56915 14.8766 2.7687 14.8753 2.96999V13.7C14.8766 13.9018 14.838 14.1018 14.7617 14.2886C14.6854 14.4754 14.5729 14.6452 14.4307 14.7883C14.2885 14.9315 14.1194 15.0451 13.9332 15.1226C13.7469 15.2001 13.547 15.24 13.3453 15.24H7.97528V1.43999ZM7.97528 1.43999H2.6153C2.41353 1.43867 2.21346 1.47727 2.02667 1.55357C1.83989 1.62987 1.67005 1.74236 1.52692 1.88457C1.38378 2.02677 1.2702 2.19588 1.19269 2.38217C1.11517 2.56845 1.07525 2.76823 1.07526 2.96999V13.7C1.07526 14.1084 1.2375 14.5001 1.52631 14.7889C1.81511 15.0777 2.20686 15.24 2.6153 15.24H7.97528V1.43999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"3-dots-h"===this.props.name&&a.createElement("svg",{width:"16",height:"3",viewBox:"0 0 16 3",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("circle",{cx:"1.5",cy:"1.5",r:"1.5",fill:"var(--icon-color)",stroke:"none"}),a.createElement("circle",{cx:"8",cy:"1.5",r:"1.5",fill:"var(--icon-color)",stroke:"none"}),a.createElement("circle",{cx:"14.5",cy:"1.5",r:"1.5",fill:"var(--icon-color)",stroke:"none"})),"3-dots-v"===this.props.name&&a.createElement("svg",{width:"3",height:"16",viewBox:"0 0 3 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("circle",{cx:"1.5",cy:"1.5",r:"1.5",fill:"var(--icon-color)",stroke:"none"}),a.createElement("circle",{cx:"1.5",cy:"8",r:"1.5",fill:"var(--icon-color)",stroke:"none"}),a.createElement("circle",{cx:"1.5",cy:"14.5",r:"1.5",fill:"var(--icon-color)",stroke:"none"})),"add"===this.props.name&&a.createElement("svg",{width:"13",height:"12",viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M6.51996 1.50999V11.17",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.68994 6.34H11.3499",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"arrow-left"===this.props.name&&a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M10.62 6.34H0.959961",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5.77995 11.17L0.949951 6.34L5.77995 1.50999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"arrow-right"===this.props.name&&a.createElement("svg",{width:"13",height:"12",viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1.61993 6.34H11.2799",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M6.47992 1.50999L11.3099 6.34L6.47992 11.17",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"ascending"===this.props.name&&a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M4.87466 9.07V1.61",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.13467 5.34L4.87466 1.61L8.60464 5.34",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"ban"===this.props.name&&a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M7.58527 13.33C10.8935 13.33 13.5753 10.6482 13.5753 7.34001C13.5753 4.03182 10.8935 1.35001 7.58527 1.35001C4.27708 1.35001 1.59528 4.03182 1.59528 7.34001C1.59528 10.6482 4.27708 13.33 7.58527 13.33Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.34528 3.11L11.8152 11.57",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"broken-link"===this.props.name&&a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M7.76352 11.73L6.76352 12.73C6.44415 13.0524 6.0633 13.3075 5.64352 13.48C5.22571 13.6553 4.7766 13.7438 4.32352 13.74C3.40986 13.7429 2.53235 13.3833 1.88351 12.74C1.56332 12.4205 1.30928 12.0409 1.13596 11.6231C0.962628 11.2053 0.873383 10.7573 0.873383 10.305C0.873383 9.85264 0.962628 9.40473 1.13596 8.9869C1.30928 8.56907 1.56332 8.18952 1.88351 7.87L2.88351 6.87",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M11.6635 7.82999L12.6635 6.82999C12.986 6.51063 13.241 6.12976 13.4135 5.70999C13.592 5.29282 13.6838 4.84374 13.6835 4.38999C13.6837 3.70751 13.4815 3.0403 13.1024 2.47277C12.7233 1.90524 12.1844 1.4629 11.5539 1.2017C10.9234 0.940496 10.2296 0.872172 9.56021 1.00537C8.89085 1.13857 8.27598 1.46731 7.79349 1.94999L6.79349 2.94999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M11.1735 11.24L3.36349 3.42999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"calendar"===this.props.name&&a.createElement("svg",{width:"15",height:"17",viewBox:"0 0 15 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M12.7348 2.64999H2.7748C1.99055 2.64999 1.35475 3.28575 1.35475 4.06999V14.03C1.35475 14.8142 1.99055 15.45 2.7748 15.45H12.7348C13.519 15.45 14.1548 14.8142 14.1548 14.03V4.06999C14.1548 3.28575 13.519 2.64999 12.7348 2.64999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.5948 1.23V4.07",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4.9048 1.23V4.07",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.35475 6.92H14.1548",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"camera"===this.props.name&&a.createElement("svg",{width:"18",height:"15",viewBox:"0 0 18 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M16.5953 12.07C16.5926 12.429 16.4482 12.7723 16.1934 13.0252C15.9387 13.2781 15.5941 13.42 15.2352 13.42H3.04523C2.68718 13.42 2.34381 13.2778 2.09064 13.0246C1.83746 12.7714 1.69525 12.428 1.69525 12.07V4.59C1.69525 4.23196 1.83746 3.88858 2.09064 3.63541C2.34381 3.38224 2.68718 3.24001 3.04523 3.24001H5.74518L7.09528 1.24001H11.1452L12.4952 3.24001H15.1953C15.5542 3.24 15.8986 3.38191 16.1534 3.6348C16.4081 3.88769 16.5526 4.23105 16.5552 4.59L16.5953 12.07Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M9.16522 10.72C10.6564 10.72 11.8652 9.51118 11.8652 8.02001C11.8652 6.52884 10.6564 5.32001 9.16522 5.32001C7.67405 5.32001 6.46527 6.52884 6.46527 8.02001C6.46527 9.51118 7.67405 10.72 9.16522 10.72Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"caret-down"===this.props.name&&a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1 3L5 7L9 3",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"caret-left"===this.props.name&&a.createElement("svg",{width:"10",height:"10",transform:"rotate(90)",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1 3L5 7L9 3",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"caret-right"===this.props.name&&a.createElement("svg",{width:"10",height:"10",transform:"rotate(270)",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1 3L5 7L9 3",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"caret-up"===this.props.name&&a.createElement("svg",{width:"10",height:"10",transform:"rotate(180)",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1 3L5 7L9 3",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"check"===this.props.name&&a.createElement("svg",{width:this.getWidth(15),height:this.getHeight(11),viewBox:"0 0 15 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.6647 0.940002L4.86478 9.74L0.864777 5.74",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"clock"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M7.69485 15.18C11.4725 15.18 14.5348 12.1176 14.5348 8.34C14.5348 4.56237 11.4725 1.5 7.69485 1.5C3.91723 1.5 0.854767 4.56237 0.854767 8.34C0.854767 12.1176 3.91723 15.18 7.69485 15.18Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M7.69485 4.23V8.34L10.4248 9.71",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"close-circle"===this.props.name&&a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M7.42523 13.33C10.7334 13.33 13.4152 10.6482 13.4152 7.34001C13.4152 4.03182 10.7334 1.35001 7.42523 1.35001C4.11705 1.35001 1.43524 4.03182 1.43524 7.34001C1.43524 10.6482 4.11705 13.33 7.42523 13.33Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M9.12518 5.65001L5.73517 9.03001",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5.73517 5.65001L9.12518 9.03001",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"close"===this.props.name&&a.createElement("svg",{width:this.getWidth(11),height:this.getHeight(11),viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M9.69525 1.2L1.41522 9.48",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.41522 1.2L9.69525 9.48",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"copy-to-clipboard"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.6147 6.27H7.40469C7.22347 6.27 7.04405 6.3057 6.87662 6.37505C6.70919 6.4444 6.55707 6.54605 6.42892 6.6742C6.30078 6.80234 6.19908 6.95447 6.12973 7.1219C6.06038 7.28933 6.02469 7.46878 6.02469 7.65001V13.86C6.02469 14.226 6.17012 14.577 6.42892 14.8358C6.68772 15.0946 7.03869 15.24 7.40469 15.24H13.6147C13.9807 15.24 14.3317 15.0946 14.5905 14.8358C14.8493 14.577 14.9947 14.226 14.9947 13.86V7.65001C14.9947 7.46878 14.959 7.28933 14.8897 7.1219C14.8203 6.95447 14.7186 6.80234 14.5905 6.6742C14.4623 6.54605 14.3102 6.4444 14.1428 6.37505C13.9754 6.3057 13.7959 6.27 13.6147 6.27Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.26468 10.41H2.57468C2.38882 10.4136 2.20425 10.3791 2.03226 10.3086C1.86026 10.2381 1.70449 10.1331 1.57468 10C1.44256 9.86948 1.33818 9.71364 1.26773 9.54181C1.19728 9.36998 1.16224 9.1857 1.1647 9V2.82C1.16281 2.63439 1.19811 2.45027 1.26852 2.27852C1.33894 2.10677 1.44303 1.95086 1.57468 1.82C1.70499 1.68827 1.86107 1.58477 2.03311 1.51596C2.20515 1.44714 2.38946 1.41448 2.57468 1.42H8.7847C8.968 1.41862 9.14969 1.45404 9.31906 1.52416C9.48843 1.59428 9.64204 1.69767 9.77072 1.82822C9.8994 1.95877 10.0006 2.11381 10.0683 2.28417C10.1359 2.45453 10.1687 2.63674 10.1647 2.82V3.51",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"descending"===this.props.name&&a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M5.40469 1.61V9.07",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M9.13467 5.34L5.40469 9.07L1.6647 5.34",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"document"===this.props.name&&a.createElement("svg",{width:"14",height:"17",viewBox:"0 0 14 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M8.47476 1.39999H2.92471C2.74218 1.39999 2.5615 1.43594 2.39285 1.5058C2.22421 1.57565 2.071 1.67804 1.94193 1.80711C1.81285 1.93619 1.71039 2.08942 1.64053 2.25806C1.57068 2.42671 1.53482 2.60746 1.53482 2.78999V13.89C1.53482 14.0721 1.5708 14.2523 1.64078 14.4204C1.71075 14.5885 1.81333 14.7411 1.94254 14.8694C2.07174 14.9976 2.225 15.0991 2.39359 15.1678C2.56217 15.2366 2.74265 15.2713 2.92471 15.27H11.2448C11.4268 15.2713 11.6073 15.2366 11.7759 15.1678C11.9445 15.0991 12.0979 14.9976 12.2271 14.8694C12.3563 14.7411 12.4587 14.5885 12.5287 14.4204C12.5987 14.2523 12.6348 14.0721 12.6348 13.89V5.58999L8.47476 1.39999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.46475 1.39999V5.56999H12.6248",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M9.85477 9.03H4.30472",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M9.85477 11.81H4.30472",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5.69473 6.25999H4.99478H4.30472",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"download-a"===this.props.name&&a.createElement("svg",{width:"17",height:"15",viewBox:"0 0 17 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M6.01358 10.65L8.65359 13.29L11.2936 10.65",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.65359 7.34V13.29",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M14.5135 11.36C15.0875 10.9566 15.518 10.3808 15.7425 9.71616C15.9671 9.05151 15.974 8.33258 15.7622 7.66375C15.5504 6.99492 15.131 6.411 14.5648 5.99674C13.9986 5.58248 13.3151 5.35944 12.6135 5.36H11.7835C11.5878 4.58232 11.2178 3.85932 10.7015 3.24567C10.1852 2.63202 9.53617 2.14378 8.80345 1.81786C8.07073 1.49194 7.27349 1.33687 6.47203 1.36438C5.67056 1.39189 4.88587 1.60126 4.17723 1.97666C3.46858 2.35205 2.85455 2.88365 2.38157 3.53126C1.90859 4.17886 1.58909 4.92553 1.44712 5.7148C1.30516 6.50407 1.34445 7.31529 1.56211 8.08712C1.77978 8.85895 2.17005 9.5712 2.70347 10.17",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"download"===this.props.name&&a.createElement("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M15.3233 10.64V13.7C15.3246 13.9018 15.286 14.1018 15.2097 14.2886C15.1334 14.4754 15.0209 14.6452 14.8787 14.7883C14.7365 14.9315 14.5674 15.0451 14.3811 15.1226C14.1949 15.2001 13.9951 15.24 13.7933 15.24H3.06332C2.86109 15.24 2.66081 15.2002 2.47397 15.1228C2.28713 15.0454 2.11737 14.9319 1.97437 14.7889C1.83136 14.6459 1.71793 14.4762 1.64053 14.2893C1.56314 14.1025 1.52332 13.9022 1.52332 13.7V10.64",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4.59332 6.81L8.43332 10.64L12.2633 6.81",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.43332 10.64V1.44",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"edit"===this.props.name&&a.createElement("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M7.53454 2.85999H2.70452C2.52292 2.85866 2.34289 2.89345 2.17486 2.96233C2.00683 3.03121 1.85417 3.13281 1.72576 3.26122C1.59735 3.38963 1.49575 3.54229 1.42687 3.71032C1.35799 3.87835 1.32318 4.0584 1.32451 4.23999V13.9C1.31899 14.0852 1.35164 14.2696 1.42046 14.4416C1.48928 14.6136 1.59281 14.7697 1.72454 14.9C1.8554 15.0316 2.01128 15.1357 2.18303 15.2062C2.35478 15.2766 2.53892 15.3119 2.72454 15.31H12.3845C12.7489 15.3048 13.0969 15.1578 13.3546 14.9001C13.6123 14.6424 13.7593 14.2944 13.7645 13.93V9.06999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M12.7045 1.82C12.9733 1.55934 13.3303 1.4094 13.7045 1.4C13.8966 1.39867 14.0871 1.43552 14.2648 1.50842C14.4426 1.58132 14.604 1.68882 14.7399 1.82466C14.8757 1.9605 14.9832 2.12197 15.0561 2.29971C15.129 2.47745 15.1659 2.6679 15.1646 2.86C15.1622 3.04677 15.1229 3.23124 15.0491 3.40284C14.9753 3.57443 14.8685 3.72979 14.7346 3.86L8.18451 10.42L5.42456 11.11L6.11456 8.35L12.7045 1.82Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"envelope"===this.props.name&&a.createElement("svg",{width:"16",height:"13",viewBox:"0 0 16 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M2.96527 1.24001H13.1552C13.493 1.24 13.8171 1.37348 14.0568 1.61137C14.2966 1.84925 14.4326 2.17226 14.4352 2.51V10.16C14.4326 10.4977 14.2966 10.8208 14.0568 11.0586C13.8171 11.2965 13.493 11.43 13.1552 11.43H2.96527C2.62752 11.43 2.30342 11.2965 2.06366 11.0586C1.8239 10.8208 1.68788 10.4977 1.68524 10.16V2.51C1.68788 2.17226 1.8239 1.84925 2.06366 1.61137C2.30342 1.37348 2.62752 1.24 2.96527 1.24001V1.24001Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M14.4352 2.52L8.06525 6.98L1.69525 2.52",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"expand"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M10.4549 1.73H14.8548V6.14",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M6.04483 14.95H1.6348V10.54",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M14.8648 1.73L9.71487 6.87",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.6348 14.95L6.77481 9.81",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"external-link"===this.props.name&&a.createElement("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.2239 9.10001V13.7C13.2239 14.1084 13.0617 14.5001 12.7729 14.7889C12.4841 15.0778 12.0924 15.24 11.6839 15.24H3.25388C3.05289 15.2412 2.85377 15.2019 2.66824 15.1246C2.48272 15.0473 2.31461 14.9335 2.17392 14.79C2.03098 14.6468 1.91764 14.4768 1.84043 14.2898C1.76321 14.1028 1.72363 13.9023 1.72391 13.7V5.27C1.72653 4.86503 1.88859 4.47739 2.17496 4.19103C2.46132 3.90466 2.84891 3.74263 3.25388 3.74001H7.85391",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.9239 1.44H15.5239V6.04",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M7.08389 9.87L15.5239 1.44",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"eye-close"===this.props.name&&a.createElement("svg",{width:"18",height:"17",viewBox:"0 0 18 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M10.2347 9.8C10.0451 10.0025 9.81744 10.1656 9.56473 10.28C9.30808 10.3893 9.0335 10.4503 8.75473 10.46C8.47778 10.4605 8.20314 10.4096 7.94473 10.31C7.68694 10.2031 7.45254 10.0469 7.25473 9.85001C7.05246 9.65668 6.89537 9.42107 6.79471 9.16C6.69246 8.90261 6.64477 8.62678 6.65469 8.35C6.65565 8.07447 6.71357 7.80211 6.82474 7.55C6.94001 7.29486 7.10291 7.06406 7.30472 6.87L10.2347 9.8ZM12.8647 12.44C11.6829 13.3356 10.2473 13.8329 8.76474 13.86C3.93474 13.86 1.17471 8.34 1.17471 8.34C2.03377 6.73809 3.22745 5.33978 4.67471 4.24L12.8647 12.44ZM7.30472 2.98C7.77695 2.87138 8.26016 2.81769 8.74472 2.82C13.5747 2.82 16.3347 8.34 16.3347 8.34C15.9175 9.12411 15.418 9.86159 14.8447 10.54L7.30472 2.98Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.17471 0.75L16.3547 15.93",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"eye-open"===this.props.name&&a.createElement("svg",{width:"17",height:"13",viewBox:"0 0 17 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M0.99472 6.33999C0.99472 6.33999 3.75475 0.819992 8.58475 0.819992C13.4147 0.819992 16.1747 6.33999 16.1747 6.33999C16.1747 6.33999 13.4147 11.86 8.58475 11.86C3.75475 11.86 0.99472 6.33999 0.99472 6.33999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.58475 8.40999C8.99415 8.40999 9.39436 8.28859 9.73477 8.06113C10.0752 7.83368 10.3405 7.51038 10.4972 7.13214C10.6538 6.7539 10.6948 6.33769 10.615 5.93615C10.5351 5.53461 10.3379 5.16577 10.0484 4.87628C9.75894 4.58678 9.3901 4.38964 8.98856 4.30976C8.58702 4.22989 8.17082 4.27089 7.79257 4.42756C7.41433 4.58423 7.09101 4.84955 6.86356 5.18996C6.6361 5.53037 6.51474 5.93058 6.51474 6.33999C6.51474 6.88899 6.7328 7.4155 7.121 7.8037C7.5092 8.1919 8.03575 8.40999 8.58475 8.40999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"filter"===this.props.name&&a.createElement("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M16.8734 1.44H1.54337L7.67337 8.69V13.71L10.7334 15.24V8.69L16.8734 1.44Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"folder"===this.props.name&&a.createElement("svg",{width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M14 10.77C14.0011 10.9326 13.9672 11.0937 13.9006 11.2433C13.834 11.393 13.736 11.528 13.6127 11.64C13.3673 11.8712 13.0363 12.0006 12.6916 12H2.29792C1.95325 12.0006 1.62224 11.8712 1.37683 11.64C1.25729 11.5257 1.16249 11.3901 1.09784 11.2408C1.03319 11.0915 0.999929 10.9316 1 10.77V2.22C1.00148 1.89698 1.13701 1.58771 1.37683 1.36C1.62224 1.12877 1.95325 0.999403 2.29792 1H5.54266L6.85103 2.84H12.6916C13.0363 2.8394 13.3673 2.96877 13.6127 3.2C13.7348 3.31089 13.832 3.44427 13.8986 3.59209C13.9651 3.73991 13.9996 3.89909 14 4.06V10.77Z",fill:"var(--icon-background-color)",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"folders"===this.props.name&&a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.9438 12.5803C13.9455 12.7685 13.9124 12.9552 13.8464 13.1293C13.7804 13.3035 13.6829 13.4616 13.5595 13.5943C13.309 13.8584 12.972 14.0042 12.6222 13.9999H2.3125C1.96297 14.0031 1.62631 13.8574 1.37525 13.5943C1.25312 13.4611 1.15697 13.3027 1.09257 13.1285C1.02816 12.9543 0.996821 12.7679 1.00035 12.5803V5.92825C0.996282 5.74059 1.02739 5.55399 1.09182 5.37971C1.15626 5.20542 1.25268 5.04707 1.37525 4.91422C1.4979 4.78073 1.64403 4.67516 1.805 4.60376C1.96597 4.53235 2.13853 4.49655 2.3125 4.49847H5.54599L6.8394 6.59751H12.6597C13.0013 6.60275 13.3274 6.75187 13.5689 7.01317C13.8104 7.27447 13.9483 7.62737 13.9531 7.99687L13.9438 12.5803Z",fill:"var(--icon-background-color)",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.04723 2.42985C1.04316 2.24219 1.07426 2.05559 1.1387 1.88131C1.20313 1.70702 1.29955 1.54868 1.42212 1.41582C1.54477 1.28233 1.6909 1.17676 1.85188 1.10535C2.01285 1.03395 2.1854 0.998153 2.35937 1.00007H6.8863L8.17968 3.09911H12.7066C13.0481 3.10435 13.3743 3.25347 13.6158 3.51477C13.8574 3.77607 13.9952 4.12896 14 4.49847",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"info-circle"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M8.25473 15.24C9.61942 15.24 10.9535 14.8353 12.0882 14.0771C13.2229 13.319 14.1072 12.2413 14.6295 10.9805C15.1517 9.71971 15.2884 8.33235 15.0221 6.99388C14.7559 5.65541 14.0987 4.42595 13.1338 3.46097C12.1688 2.49599 10.9393 1.83882 9.60086 1.57259C8.26239 1.30635 6.87504 1.44299 5.61423 1.96524C4.35342 2.48748 3.27579 3.37187 2.51761 4.50657C1.75943 5.64127 1.35471 6.97531 1.35471 8.34C1.35735 10.1692 2.0852 11.9227 3.37863 13.2161C4.67206 14.5095 6.42555 15.2374 8.25473 15.24Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.25473 11.1V8.34",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.25473 5.65V5.59",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"internal-link"===this.props.name&&a.createElement("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1.52392 8.8V3.28C1.5226 3.038 1.56925 2.79813 1.66125 2.5743C1.75325 2.35046 1.88875 2.14709 2.05987 1.97597C2.231 1.80484 2.43436 1.66936 2.6582 1.57736C2.88204 1.48536 3.12189 1.43867 3.36389 1.44H13.4839C13.9719 1.44 14.4399 1.63386 14.785 1.97892C15.13 2.32399 15.3239 2.792 15.3239 3.28V13.4C15.3229 13.6402 15.2753 13.8779 15.1839 14.1C15.0899 14.3236 14.9542 14.5272 14.7839 14.7C14.4387 15.0443 13.9714 15.2383 13.4839 15.24H7.96393",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5.35385 6.75999H9.95389V11.4",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.5239 15.24L9.95389 6.75999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"layout"===this.props.name&&a.createElement("svg",{width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M11.8629 1.19H2.30292C1.54629 1.19 0.932922 1.80337 0.932922 2.56V12.12C0.932922 12.8766 1.54629 13.49 2.30292 13.49H11.8629C12.6195 13.49 13.2329 12.8766 13.2329 12.12V2.56C13.2329 1.80337 12.6195 1.19 11.8629 1.19Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M0.932922 5.29001H13.2329",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5.03296 13.49V5.29001",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"license"===this.props.name&&a.createElement("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M14.2155 8.58999C14.9711 7.80057 15.3874 6.74663 15.3755 5.65392C15.3635 4.5612 14.9242 3.51661 14.1515 2.7439C13.3788 1.97119 12.3342 1.5318 11.2415 1.51986C10.1487 1.50791 9.09484 1.92436 8.30542 2.67999L3.60535 7.38V13.3H9.52539L14.2155 8.58999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M11.2654 5.59L1.51538 15.34",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M12.3154 10.47H6.39539",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"life-ring"===this.props.name&&a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M7.70966 13.43C11.0731 13.43 13.7996 10.7034 13.7996 7.34C13.7996 3.97659 11.0731 1.25 7.70966 1.25C4.34624 1.25 1.61969 3.97659 1.61969 7.34C1.61969 10.7034 4.34624 13.43 7.70966 13.43Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M7.70966 9.77999C9.05723 9.77999 10.1497 8.68757 10.1497 7.33999C10.1497 5.99242 9.05723 4.89999 7.70966 4.89999C6.36208 4.89999 5.26971 5.99242 5.26971 7.33999C5.26971 8.68757 6.36208 9.77999 7.70966 9.77999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.40973 3.03L5.98969 5.62",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M9.43964 9.06L12.0197 11.65",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M9.43964 5.62L12.0197 3.03",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M9.43964 5.62L11.5897 3.47",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.40973 11.65L5.98969 9.06",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"link"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M6.84119 9.03C7.13202 9.43825 7.50715 9.77928 7.94119 10.03C8.37534 10.2686 8.85677 10.4086 9.3512 10.44C9.86059 10.4745 10.3709 10.3889 10.8412 10.19C11.3076 10.0211 11.731 9.75138 12.0812 9.39999L14.1512 7.33C14.6209 6.84495 14.938 6.23271 15.0631 5.56918C15.1883 4.90564 15.1159 4.21998 14.8551 3.59716C14.5943 2.97435 14.1564 2.44177 13.5958 2.06543C13.0351 1.68909 12.3764 1.48553 11.7012 1.47999C11.2503 1.47878 10.8036 1.56647 10.3866 1.73806C9.96966 1.90966 9.59061 2.16177 9.27118 2.47999L8.08118 3.58999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M9.64117 7.65C9.34989 7.23849 8.97075 6.89691 8.53118 6.65C8.09831 6.40942 7.61823 6.266 7.12432 6.22974C6.63042 6.19347 6.13455 6.26522 5.67118 6.44C5.20474 6.60886 4.78133 6.87861 4.43118 7.23L2.36119 9.3C1.87601 9.78489 1.54639 10.4034 1.41442 11.0765C1.28246 11.7497 1.35414 12.4469 1.62033 13.079C1.88651 13.7112 2.33511 14.2497 2.90881 14.6257C3.48251 15.0017 4.15529 15.1982 4.84118 15.19C5.29207 15.1912 5.73876 15.1035 6.15573 14.9319C6.57269 14.7603 6.95174 14.5082 7.27117 14.19L8.45117 13.01",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"list"===this.props.name&&a.createElement("svg",{width:"17",height:"12",viewBox:"0 0 17 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M4.95473 1.53999H15.3548",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4.95473 6.34H15.3548",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4.95473 11.14H15.3548",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M0.954727 1.53999H0.964737",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M0.954727 6.34H0.964737",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M0.954727 11.14H0.964737",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"log-out"===this.props.name&&a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M5.44388 13.59H2.68387C2.49801 13.5936 2.31338 13.5591 2.14139 13.4886C1.96939 13.4181 1.81368 13.3131 1.68387 13.18C1.55176 13.0495 1.44737 12.8936 1.37692 12.7218C1.30647 12.55 1.27143 12.3657 1.27389 12.18V2.51C1.272 2.32439 1.3073 2.14028 1.37772 1.96853C1.44813 1.79678 1.55222 1.64087 1.68387 1.51C1.81418 1.37827 1.9702 1.27478 2.14224 1.20596C2.31428 1.13714 2.49866 1.10448 2.68387 1.11001H5.44388",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.2739 10.79L13.7239 7.34L10.2739 3.89",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M13.7239 7.34H5.44388",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"plus-circle"===this.props.name&&a.createElement("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M5.38519 9.63999C7.76002 9.63999 9.68524 7.71482 9.68524 5.33999C9.68524 2.96517 7.76002 1.03999 5.38519 1.03999C3.01037 1.03999 1.08527 2.96517 1.08527 5.33999C1.08527 7.71482 3.01037 9.63999 5.38519 9.63999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5.38519 3.62V7.06",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.66522 5.34H7.10516",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"plus-square"===this.props.name&&a.createElement("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M9.12531 1.03999H2.43524C1.90505 1.03999 1.47528 1.4698 1.47528 1.99999V8.68999C1.47528 9.22019 1.90505 9.64999 2.43524 9.64999H9.12531C9.6555 9.64999 10.0853 9.22019 10.0853 8.68999V1.99999C10.0853 1.4698 9.6555 1.03999 9.12531 1.03999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5.77533 3.42999V7.24999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.8653 5.34H7.68524",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"power"===this.props.name&&a.createElement("svg",{width:"15",height:"17",viewBox:"0 0 15 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M11.9098 4.59C12.7908 5.47109 13.3908 6.59365 13.6338 7.81571C13.8768 9.03777 13.752 10.3045 13.2751 11.4556C12.7983 12.6067 11.9908 13.5906 10.9548 14.2828C9.91882 14.9751 8.70077 15.3445 7.45477 15.3445C6.20878 15.3445 4.99079 14.9751 3.95477 14.2828C2.91876 13.5906 2.11125 12.6067 1.6344 11.4556C1.15755 10.3045 1.03278 9.03777 1.27582 7.81571C1.51885 6.59365 2.11881 5.47109 2.99982 4.59",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M7.47981 1.34V8.34",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"printer"===this.props.name&&a.createElement("svg",{width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M3.38623 5.49V1.17H10.7863V5.49",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.38627 11.04H2.14628C1.98391 11.04 1.82314 11.0079 1.67326 10.9454C1.52337 10.883 1.38734 10.7915 1.27299 10.6762C1.15864 10.5609 1.06822 10.4242 1.007 10.2738C0.945777 10.1234 0.914858 9.96237 0.916178 9.8V6.72001C0.916178 6.39379 1.04586 6.08093 1.27653 5.85026C1.5072 5.61959 1.82006 5.49001 2.14628 5.49001H11.9762C12.3034 5.48999 12.6173 5.61926 12.8495 5.84965C13.0818 6.08003 13.2136 6.39287 13.2162 6.72001V9.8C13.2162 10.1289 13.0856 10.4443 12.8531 10.6768C12.6205 10.9094 12.3051 11.04 11.9762 11.04H10.7463",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.7863 8.56999H3.38623V13.51H10.7863V8.56999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"question-circle"===this.props.name&&a.createElement("svg",{width:this.getWidth(16),height:this.getHeight(16),viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M8.04996 15.24C9.41465 15.24 10.7487 14.8353 11.8834 14.0771C13.0181 13.319 13.9025 12.2413 14.4247 10.9805C14.947 9.71971 15.0836 8.33235 14.8174 6.99388C14.5511 5.65541 13.894 4.42595 12.929 3.46097C11.964 2.49599 10.7345 1.83882 9.39608 1.57259C8.05761 1.30635 6.67026 1.44299 5.40945 1.96524C4.14864 2.48748 3.071 3.37187 2.31282 4.50657C1.55464 5.64127 1.14996 6.97531 1.14996 8.34C1.14996 10.17 1.87692 11.925 3.17092 13.219C4.46492 14.513 6.21996 15.24 8.04996 15.24Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M6.03998 6.27001C6.20089 5.80813 6.52015 5.41815 6.94115 5.16921C7.36216 4.92026 7.85772 4.82844 8.33997 4.91001C8.8197 4.99744 9.25434 5.24832 9.56998 5.62001C9.88695 5.99449 10.0606 6.46939 10.06 6.96001C10.06 8.34001 7.98997 9.03001 7.98997 9.03001",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.04993 11.79V11.73",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"refresh-1"===this.props.name&&a.createElement("svg",{width:"17",height:"14",viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M15.4753 2.14V6.04H11.5753",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.18524 12.54V8.64H5.08527",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M2.81525 5.39C3.33356 3.92951 4.41025 2.73435 5.8089 2.0669C7.20755 1.39945 8.8138 1.31425 10.2752 1.83001C11.097 2.11893 11.8425 2.59081 12.4553 3.21L15.4553 6.04M1.16522 8.64001L4.16522 11.47C4.86357 12.1684 5.72733 12.6787 6.67609 12.9532C7.62484 13.2277 8.62773 13.2575 9.59113 13.0399C10.5545 12.8222 11.4471 12.3642 12.1857 11.7085C12.9243 11.0528 13.485 10.2208 13.8152 9.29",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"refresh"===this.props.name&&a.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1.60464 2.06999V6.06999H5.54471",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.25467 9.29999C3.57205 10.2045 4.1047 11.0183 4.80667 11.6711C5.50864 12.3239 6.3588 12.7962 7.28397 13.0471C8.20913 13.2981 9.18158 13.3203 10.1172 13.1117C11.0529 12.9032 11.9237 12.4701 12.6547 11.85C13.2373 11.3277 13.7104 10.695 14.0465 9.98847C14.3827 9.28196 14.5751 8.51572 14.6128 7.73422C14.6505 6.95272 14.5327 6.17152 14.2661 5.43591C13.9996 4.70031 13.5897 4.02495 13.0601 3.44902C12.5305 2.87309 11.8918 2.40804 11.1811 2.08087C10.4703 1.75369 9.70175 1.57089 8.91983 1.54307C8.13792 1.51526 7.3583 1.64298 6.62613 1.91882C5.89396 2.19467 5.22387 2.61315 4.65469 3.14999L1.65469 6.01999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"save"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.4247 15.24H2.69469C2.28625 15.24 1.89456 15.0777 1.60576 14.7889C1.31695 14.5001 1.15471 14.1084 1.15471 13.7V2.96999C1.1547 2.76823 1.19463 2.56845 1.27214 2.38217C1.34965 2.19588 1.46323 2.02677 1.60637 1.88457C1.7495 1.74236 1.91934 1.62987 2.10612 1.55357C2.29291 1.47727 2.49292 1.43867 2.69469 1.43999H11.1247L14.9547 5.26999V13.7C14.956 13.9018 14.9174 14.1018 14.8411 14.2886C14.7648 14.4754 14.6523 14.6452 14.5101 14.7883C14.3679 14.9315 14.1988 15.0451 14.0125 15.1226C13.8262 15.2001 13.6265 15.24 13.4247 15.24Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M11.8947 15.24V9.10999H4.22472V15.24",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4.22472 1.43999V5.26999H10.3647",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"search"===this.props.name&&a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M7.20346 12.17C8.29521 12.17 9.36247 11.8462 10.2702 11.2397C11.178 10.6332 11.8855 9.77105 12.3033 8.7624C12.7211 7.75375 12.8304 6.64387 12.6174 5.57309C12.4044 4.50232 11.8787 3.51875 11.1067 2.74676C10.3347 1.97478 9.35114 1.44905 8.28036 1.23606C7.20959 1.02307 6.09974 1.13238 5.09109 1.55018C4.08245 1.96797 3.22028 2.67548 2.61374 3.58324C2.00719 4.491 1.6835 5.55824 1.6835 6.64999C1.6835 8.11399 2.26506 9.51802 3.30026 10.5532C4.33546 11.5884 5.73947 12.17 7.20346 12.17V12.17Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M14.1035 13.59L11.1035 10.59",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"share"===this.props.name&&a.createElement("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M11.4733 5.58C12.6166 5.58 13.5434 4.65323 13.5434 3.51C13.5434 2.36677 12.6166 1.44 11.4733 1.44C10.3301 1.44 9.40335 2.36677 9.40335 3.51C9.40335 4.65323 10.3301 5.58 11.4733 5.58Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.19333 10.41C4.33656 10.41 5.26334 9.48323 5.26334 8.34C5.26334 7.19677 4.33656 6.27 3.19333 6.27C2.0501 6.27 1.12335 7.19677 1.12335 8.34C1.12335 9.48323 2.0501 10.41 3.19333 10.41Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M11.4733 15.24C12.6166 15.24 13.5434 14.3132 13.5434 13.17C13.5434 12.0268 12.6166 11.1 11.4733 11.1C10.3301 11.1 9.40335 12.0268 9.40335 13.17C9.40335 14.3132 10.3301 15.24 11.4733 15.24Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4.98334 9.38L9.69333 12.13",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M9.69333 4.55L4.98334 7.3",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"star"===this.props.name&&a.createElement("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M7.30478 0.110001L9.32474 4.21L13.8548 4.87L10.5747 8.06L11.3548 12.57L7.30478 10.44L3.25479 12.57L4.03476 8.06L0.754791 4.87L5.28476 4.21L7.30478 0.110001Z",fill:"var(--icon-favorites-color)"})),"star-stroke"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M8 1.77L10.02 5.87L14.55 6.53L11.2699 9.72L12.05 14.23L8 12.1L3.95001 14.23L4.72998 9.72L1.45001 6.53L5.97998 5.87L8 1.77Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinejoin:"round"})),"switch"===this.props.name&&a.createElement("svg",{width:"18",height:"15",viewBox:"0 0 18 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M16.5154 10.8L13.7454 13.58L10.9753 10.8",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M9.58545 1.09999H10.9653C11.7009 1.09999 12.4065 1.39151 12.9276 1.9107C13.4487 2.42989 13.7427 3.13442 13.7454 3.86999V13.59",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.27539 3.87999L4.04541 1.09999L6.81543 3.87999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.19543 13.59H6.81543C6.45083 13.5913 6.08955 13.5206 5.75232 13.382C5.41509 13.2434 5.1085 13.0396 4.85022 12.7822C4.59194 12.5249 4.38702 12.2191 4.24719 11.8823C4.10736 11.5456 4.0354 11.1846 4.0354 10.82V1.12",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"theme-dark"===this.props.name&&a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.14 7.31001C13.0365 8.40623 12.6232 9.45037 11.9483 10.3204C11.2734 11.1904 10.3648 11.8503 9.32868 12.2229C8.29257 12.5956 7.17169 12.6656 6.09724 12.4248C5.02279 12.1841 4.03916 11.6424 3.26118 10.8632C2.4832 10.084 1.94314 9.09942 1.70405 8.02459C1.46497 6.94976 1.53678 5.82909 1.91108 4.79356C2.28539 3.75804 2.94664 2.85046 3.8177 2.17692C4.68876 1.50337 5.73364 1.09169 6.83003 0.990005C6.19481 1.86018 5.8913 2.92863 5.97419 4.0028C6.05709 5.07697 6.52085 6.08621 7.28205 6.84863C8.04326 7.61104 9.05177 8.07648 10.1258 8.16107C11.1998 8.24567 12.2688 7.94385 13.14 7.31001V7.31001Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"theme-light"===this.props.name&&a.createElement("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M8.47571 11.23C10.2541 11.23 11.6957 9.78835 11.6957 8.00999C11.6957 6.23164 10.2541 4.78999 8.47571 4.78999C6.69735 4.78999 5.25574 6.23164 5.25574 8.00999C5.25574 9.78835 6.69735 11.23 8.47571 11.23Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.47571 0.919998V2.21",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.47571 13.82V15.11",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.45569 3L4.37573 3.91",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M12.5757 12.11L13.4857 13.03",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.37573 8.00999H2.66577",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M14.2758 8.00999H15.5657",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.45569 13.03L4.37573 12.11",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M12.5757 3.91L13.4857 3",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"trash"===this.props.name&&a.createElement("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1.30994 4.2H13.6899",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4.75995 4.19999V2.81999C4.75806 2.63438 4.79335 2.45026 4.86377 2.27851C4.93419 2.10676 5.03829 1.95085 5.16994 1.81999C5.30095 1.68922 5.45711 1.58635 5.62898 1.5176C5.80086 1.44885 5.98488 1.41565 6.16994 1.41999H8.92995C9.11154 1.41866 9.29158 1.45345 9.45961 1.52233C9.62764 1.59121 9.78031 1.69281 9.90872 1.82122C10.0371 1.94963 10.1387 2.10229 10.2076 2.27032C10.2765 2.43835 10.3113 2.6184 10.3099 2.79999V4.17999L4.75995 4.19999ZM12.3799 4.17999V13.84C12.3843 14.0251 12.3511 14.2091 12.2823 14.3809C12.2136 14.5528 12.1107 14.709 11.9799 14.84C11.8491 14.9716 11.6932 15.0758 11.5214 15.1462C11.3497 15.2166 11.1656 15.2519 10.9799 15.25H4.07994C3.7121 15.2474 3.36007 15.1001 3.09996 14.84C2.83985 14.5799 2.69256 14.2278 2.68994 13.86V4.19999L12.3799 4.17999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M6.13995 7.64999V11.79",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.89996 7.64999V11.79",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"txt"===this.props.name&&a.createElement("svg",{width:"17",height:"12",viewBox:"0 0 17 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M12.0753 4.78H0.875366",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M15.2754 1.58H0.875366",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M15.2754 7.98H0.875366",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M12.0753 11.18H0.875366",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"upload-a"===this.props.name&&a.createElement("svg",{width:"17",height:"15",viewBox:"0 0 17 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M10.7482 9.98L8.10822 7.34L5.4682 9.98",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.10822 7.34V13.28",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M13.6383 11.59C14.2828 11.24 14.7924 10.6853 15.0865 10.0134C15.3807 9.34158 15.4426 8.59089 15.2626 7.87992C15.0825 7.16895 14.6707 6.53821 14.0923 6.08732C13.5138 5.63642 12.8018 5.39107 12.0684 5.39H11.2283C11.0717 4.70118 10.7786 4.05078 10.3661 3.47732C9.95362 2.90385 9.43025 2.41898 8.82702 2.05142C8.22379 1.68385 7.553 1.44107 6.85425 1.33744C6.1555 1.23382 5.44297 1.27145 4.75903 1.44813C4.07509 1.6248 3.43358 1.93692 2.87243 2.366C2.31129 2.79507 1.84193 3.33239 1.49219 3.94612C1.14244 4.55985 0.919424 5.23753 0.836302 5.93901C0.753179 6.6405 0.811675 7.35153 1.0083 8.03C1.21212 8.83805 1.60647 9.58555 2.15832 10.21",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.7482 9.98L8.10822 7.34L5.4682 9.98",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"upload"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M15.1234 10.64V13.7C15.1234 14.1067 14.9625 14.4969 14.6758 14.7854C14.3892 15.0739 14.0001 15.2374 13.5934 15.24H2.85333C2.44663 15.2374 2.05752 15.0739 1.77087 14.7854C1.48423 14.4969 1.32333 14.1067 1.32333 13.7V10.64",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M12.0634 5.27L8.22336 1.44L4.39334 5.27",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.22336 1.44V10.64",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"user"===this.props.name&&a.createElement("svg",{width:"13",height:"15",viewBox:"0 0 13 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M11.9329 13.59V12.17C11.9305 11.4474 11.6458 10.7543 11.1395 10.2386C10.6332 9.72301 9.94542 9.42564 9.22295 9.40999H3.70296C3.34014 9.40867 2.98065 9.47915 2.64519 9.61739C2.30974 9.75562 2.00495 9.95887 1.7484 10.2154C1.49185 10.472 1.28858 10.7768 1.15035 11.1122C1.01211 11.4477 0.941629 11.8072 0.94295 12.17V13.59",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M6.41296 6.64999C6.95884 6.64999 7.49247 6.48812 7.94635 6.18485C8.40023 5.88157 8.75396 5.45052 8.96286 4.9462C9.17176 4.44187 9.22643 3.88693 9.11993 3.35154C9.01344 2.81615 8.75056 2.32437 8.36456 1.93838C7.97857 1.55238 7.4868 1.28952 6.95142 1.18302C6.41603 1.07653 5.86107 1.13118 5.35675 1.34008C4.85243 1.54898 4.42138 1.90274 4.1181 2.35662C3.81483 2.8105 3.65295 3.34411 3.65295 3.88999C3.65559 4.62118 3.94723 5.32166 4.46426 5.83869C4.98129 6.35572 5.68178 6.64736 6.41296 6.64999V6.64999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"users"===this.props.name&&a.createElement("svg",{width:"18",height:"15",viewBox:"0 0 18 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M12.1038 13.59V12.17C12.1124 11.799 12.0449 11.4302 11.9056 11.0862C11.7663 10.7423 11.5581 10.4305 11.2938 10.17C11.0319 9.90758 10.7199 9.70061 10.3763 9.56145C10.0326 9.42228 9.66448 9.35376 9.2938 9.35999H3.77378C3.04963 9.38607 2.36453 9.69487 1.8654 10.2202C1.36627 10.7455 1.09287 11.4455 1.1038 12.17V13.59",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M6.6138 6.64999C7.15968 6.64999 7.69331 6.48812 8.14719 6.18485C8.60107 5.88157 8.95483 5.45052 9.16373 4.9462C9.37262 4.44187 9.42727 3.88693 9.32077 3.35154C9.21428 2.81615 8.95139 2.32437 8.5654 1.93838C8.17941 1.55238 7.68764 1.28952 7.15225 1.18302C6.61686 1.07653 6.06191 1.13118 5.55759 1.34008C5.05326 1.54898 4.62221 1.90274 4.31894 2.35662C4.01567 2.8105 3.85379 3.34411 3.85379 3.88999C3.85643 4.62118 4.14804 5.32166 4.66507 5.83869C5.1821 6.35572 5.88261 6.64736 6.6138 6.64999V6.64999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M16.2738 13.59V12.17C16.2709 11.5583 16.0672 10.9645 15.6938 10.48C15.324 9.98829 14.7989 9.63591 14.2038 9.48",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M11.4438 1.22C12.0403 1.37297 12.5662 1.72595 12.9338 2.22C13.3101 2.703 13.5144 3.29774 13.5144 3.91C13.5144 4.52226 13.3101 5.117 12.9338 5.6C12.5662 6.09405 12.0403 6.44703 11.4438 6.6",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"video"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.6053 1.59H3.04523C2.23337 1.59 1.57526 2.24814 1.57526 3.06V13.62C1.57526 14.4319 2.23337 15.09 3.04523 15.09H13.6053C14.4171 15.09 15.0753 14.4319 15.0753 13.62V3.06C15.0753 2.24814 14.4171 1.59 13.6053 1.59Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4.94525 1.59V15.09",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M11.6953 1.59V15.09",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.57526 8.34H15.0753",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.57526 4.97H4.94525",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.57526 11.71H4.94525",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M11.6953 11.71H15.0753",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M11.6953 4.97H15.0753",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"warning"===this.props.name&&a.createElement("svg",{width:this.getWidth(16),height:this.getHeight(15),viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M7.04506 1.94L1.39504 11.38C1.30734 11.5316 1.25039 11.699 1.22756 11.8726C1.20473 12.0462 1.21645 12.2227 1.26198 12.3918C1.30751 12.5609 1.38602 12.7193 1.49294 12.858C1.59986 12.9967 1.73308 13.1129 1.88503 13.2C2.08111 13.3184 2.30599 13.3807 2.53505 13.38H13.845C14.0205 13.3787 14.1941 13.3427 14.3556 13.274C14.5171 13.2053 14.6634 13.1054 14.7862 12.9799C14.9089 12.8544 15.0055 12.7058 15.0706 12.5428C15.1356 12.3798 15.1677 12.2055 15.1651 12.03C15.1657 11.8009 15.1034 11.5761 14.985 11.38L9.33498 1.94C9.2446 1.78868 9.12507 1.65685 8.98329 1.55214C8.84152 1.44744 8.68038 1.37195 8.50917 1.33008C8.33797 1.28821 8.1602 1.28079 7.9861 1.30824C7.812 1.33569 7.64503 1.39748 7.49501 1.49C7.312 1.60289 7.15795 1.75699 7.04506 1.94V1.94Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.1951 5.37V8.04",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.1951 10.71H8.20511",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"chevron-left"===this.props.name&&a.createElement("svg",{width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M5.76616 10.805L0.936157 5.975L5.76616 1.145",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"chevron-right"===this.props.name&&a.createElement("svg",{width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M0.766174 1.145L5.59618 5.975L0.766174 10.805",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"cog"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M12.7254 6.42L12.4355 5.7C12.3855 5.13 13.5555 3.92 13.3255 3.7L12.7654 3.13C12.7654 3.13 12.4354 2.80999 12.2054 2.56999C11.9754 2.32999 10.7554 3.57 10.2054 3.47L9.49545 3.17C9.05545 2.8 9.02545 1.11 8.69545 1.11H7.12544C6.79544 1.11 6.77545 2.8 6.33545 3.17L5.61545 3.47C5.05545 3.52 3.84545 2.33999 3.61545 2.56999C3.38545 2.79999 3.05545 3.13 3.05545 3.13L2.49545 3.7C2.25545 3.93 3.43545 5.14 3.38545 5.7L3.08545 6.42C2.72545 6.85 1.08545 6.88001 1.08545 7.21001V8.8C1.08545 9.13 2.77545 9.15 3.08545 9.59L3.38545 10.31C3.38545 10.87 2.25545 12.09 2.49545 12.31L3.05545 12.87L3.61545 13.43C3.85545 13.67 5.06545 12.49 5.61545 12.54L6.33545 12.84C6.77545 13.2 6.79544 14.84 7.12544 14.84H8.72545C9.05545 14.84 9.08545 13.15 9.52545 12.84L10.2354 12.54C10.8054 12.54 12.0154 13.67 12.2354 13.43L12.7955 12.87L13.3555 12.31C13.5855 12.08 12.4155 10.86 12.4655 10.31L12.7254 9.64C13.0954 9.2 14.7854 9.18001 14.7854 8.85001V7.25999C14.8254 6.87999 13.1354 6.85 12.7254 6.42ZM7.88545 10.19C7.45189 10.192 7.02749 10.0652 6.66603 9.82579C6.30457 9.58636 6.02233 9.24502 5.85504 8.84503C5.68775 8.44504 5.64295 8.00439 5.72632 7.57892C5.80969 7.15344 6.01747 6.76228 6.32335 6.455C6.62922 6.14772 7.01941 5.93816 7.4445 5.85284C7.86959 5.76753 8.31044 5.81031 8.7112 5.97577C9.11195 6.14123 9.45458 6.42192 9.69566 6.78227C9.93675 7.14263 10.0654 7.56643 10.0654 8C10.0656 8.57226 9.84174 9.12185 9.44179 9.53114C9.04184 9.94044 8.49756 10.1769 7.92545 10.19H7.88545Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"contrast"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M8.30612 14.875C9.67081 14.875 11.0049 14.4703 12.1396 13.7121C13.2743 12.954 14.1587 11.8763 14.6809 10.6155C15.2032 9.35471 15.3398 7.96734 15.0735 6.62888C14.8073 5.29041 14.1502 4.06094 13.1852 3.09596C12.2202 2.13098 10.9907 1.47382 9.65225 1.20758C8.31378 0.941342 6.92643 1.07799 5.66562 1.60023C4.40481 2.12248 3.32718 3.00687 2.569 4.14157C1.81082 5.27627 1.40613 6.61031 1.40613 7.97501C1.40613 9.805 2.13309 11.56 3.42709 12.854C4.72109 14.1481 6.47613 14.875 8.30612 14.875V14.875Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.30612 1.07501C6.47613 1.07501 4.72109 1.80196 3.42709 3.09596C2.13309 4.38996 1.40613 6.14501 1.40613 7.97501C1.40613 9.805 2.13309 11.56 3.42709 12.854C4.72109 14.1481 6.47613 14.875 8.30612 14.875V1.07501Z",fill:"var(--icon-color)",stroke:"none"})),"copy-to-clipboard-2"===this.props.name&&a.createElement("svg",{width:"14",height:"16",viewBox:"0 0 14 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M11.0061 2.55C11.3774 2.55 11.7335 2.6975 11.9961 2.96005C12.2586 3.2226 12.4061 3.57869 12.4061 3.95V13.75C12.4061 14.1213 12.2586 14.4774 11.9961 14.7399C11.7335 15.0025 11.3774 15.15 11.0061 15.15H2.60611C2.23481 15.15 1.87872 15.0025 1.61617 14.7399C1.35361 14.4774 1.20612 14.1213 1.20612 13.75V3.95C1.20612 3.57869 1.35361 3.2226 1.61617 2.96005C1.87872 2.6975 2.23481 2.55 2.60611 2.55",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.9061 2.22H8.2261C8.2261 1.84339 8.0765 1.48221 7.8102 1.21591C7.54389 0.94961 7.18271 0.800003 6.80611 0.800003C6.4295 0.800003 6.0683 0.94961 5.802 1.21591C5.5357 1.48221 5.38611 1.84339 5.38611 2.22H4.7061C4.52045 2.22 4.3424 2.29374 4.21112 2.42502C4.07985 2.55629 4.0061 2.73435 4.0061 2.92V3.62C4.0061 3.80565 4.07985 3.9837 4.21112 4.11497C4.3424 4.24625 4.52045 4.32001 4.7061 4.32001H8.9061C9.09175 4.32001 9.26979 4.24625 9.40106 4.11497C9.53234 3.9837 9.60611 3.80565 9.60611 3.62V2.92C9.60611 2.73435 9.53234 2.55629 9.40106 2.42502C9.26979 2.29374 9.09175 2.22 8.9061 2.22Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"home-1"===this.props.name&&a.createElement("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M7.54611 0.934998L1.20612 5.86499V13.605C1.20873 13.9781 1.35812 14.3353 1.62198 14.5991C1.88584 14.863 2.24297 15.0124 2.61612 15.015H5.61612V8.755H9.52612V15.015H12.5261C12.8985 15.0098 13.2541 14.8596 13.5174 14.5963C13.7807 14.333 13.931 13.9773 13.9361 13.605V5.86499L7.54611 0.934998Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"home"===this.props.name&&a.createElement("svg",{width:"13",height:"14",viewBox:"0 0 13 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M6.56547 0.764991L0.975466 5.115V11.945C0.974867 12.2743 1.10424 12.5905 1.33547 12.825C1.57112 13.0544 1.88658 13.1835 2.21546 13.185H4.83547V7.665H8.28546V13.185H10.9055C11.2348 13.1856 11.551 13.0562 11.7855 12.825C11.9031 12.7107 11.9965 12.5739 12.0601 12.4227C12.1237 12.2715 12.1561 12.109 12.1555 11.945V5.115L6.56547 0.764991Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"key"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M4.96613 14.385C6.75553 14.385 8.20613 12.9344 8.20613 11.145C8.20613 9.3556 6.75553 7.905 4.96613 7.905C3.17672 7.905 1.72614 9.3556 1.72614 11.145C1.72614 12.9344 3.17672 14.385 4.96613 14.385Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M14.5461 1.565L7.2561 8.845",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M13.3461 5.735L15.2061 3.875",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"lock-open"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{fill:"none"},a.createElement("rect",{height:"7.37",rx:".75",stroke:"var(--icon-color)",strokeLinejoin:"round",strokeWidth:"var(--icon-stroke-width)",width:"9.81",x:"3.09",y:"7.43"}),a.createElement("path",{d:"m14.39 6.15v-1.61c0-1.85-.68-3.35-1.52-3.35-.84 0-1.52 1.5-1.52 3.35v2.89",stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"var(--icon-stroke-width)"}),a.createElement("path",{d:"m0 0h16v16h-16z"}))),"lock"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M10.2155 7.41H1.90546C1.49124 7.41 1.15546 7.74579 1.15546 8.16V14.03C1.15546 14.4442 1.49124 14.78 1.90546 14.78H10.2155C10.6297 14.78 10.9655 14.4442 10.9655 14.03V8.16C10.9655 7.74579 10.6297 7.41 10.2155 7.41Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinejoin:"round"}),a.createElement("path",{d:"M2.72546 7.39999V4.52C2.72546 3.63153 3.07841 2.77945 3.70666 2.1512C4.3349 1.52295 5.18699 1.17 6.07546 1.17V1.17C6.96394 1.17 7.81603 1.52295 8.44427 2.1512C9.07252 2.77945 9.42546 3.63153 9.42546 4.52V7.39999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"settings"===this.props.name&&a.createElement("svg",{width:"13",height:"16",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M0.786133 3.105H3.55614",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5.98615 3.105H11.7262",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M0.786133 7.97501H8.09613",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.5361 7.97501H11.7261",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M0.786133 12.835H3.82614",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M6.2561 12.835H11.7261",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.55615 1.285V4.935",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.09613 6.145V9.795",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.82617 11.015V14.665",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"tag"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.62 8.39256L14.93 4.53256C14.9802 4.38718 14.989 4.23071 14.9554 4.08062C14.9219 3.93053 14.8473 3.79272 14.74 3.68255L12.38 1.32255C12.2698 1.21524 12.132 1.14064 11.9819 1.10709C11.8318 1.07354 11.6754 1.08236 11.53 1.13255L7.66999 2.44256C7.54938 2.48377 7.43989 2.5522 7.34999 2.64256L1.43999 8.62255C1.3638 8.6987 1.30335 8.78912 1.26211 8.88863C1.22087 8.98815 1.19965 9.09483 1.19965 9.20255C1.19965 9.31028 1.22087 9.41694 1.26211 9.51646C1.30335 9.61598 1.3638 9.70641 1.43999 9.78256L6.34999 14.6226C6.42614 14.6987 6.51656 14.7592 6.61608 14.8004C6.7156 14.8417 6.82227 14.8629 6.92999 14.8629C7.03772 14.8629 7.14439 14.8417 7.2439 14.8004C7.34342 14.7592 7.43384 14.6987 7.50999 14.6226L13.44 8.69256C13.5206 8.60648 13.582 8.50421 13.62 8.39256V8.39256Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeMiterlimit:"10",strokeLinecap:"round"}),a.createElement("path",{d:"M11.78 5.34255C12.3433 5.34255 12.8 4.88588 12.8 4.32255C12.8 3.75922 12.3433 3.30256 11.78 3.30256C11.2167 3.30256 10.76 3.75922 10.76 4.32255C10.76 4.88588 11.2167 5.34255 11.78 5.34255Z",fill:"var(--icon-color)",stroke:"none"})),"2-columns-narrow-right"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.4927 1.01001H2.75269C1.90769 1.01001 1.22266 1.69501 1.22266 2.54001V13.28C1.22266 14.125 1.90769 14.81 2.75269 14.81H13.4927C14.3377 14.81 15.0226 14.125 15.0226 13.28V2.54001C15.0226 1.69501 14.3377 1.01001 13.4927 1.01001Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.4227 1.01001V14.81",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"2+2-columns"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.0927 1.01001H2.35266C1.50767 1.01001 0.822693 1.69501 0.822693 2.54001V13.28C0.822693 14.125 1.50767 14.81 2.35266 14.81H13.0927C13.9376 14.81 14.6227 14.125 14.6227 13.28V2.54001C14.6227 1.69501 13.9376 1.01001 13.0927 1.01001Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.0226 1.01001V7.91",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5.35266 7.91V14.81",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M14.6227 7.91H0.822693",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"3+1-columns"===this.props.name&&a.createElement("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.2927 1.66H2.55267C1.70768 1.66 1.02264 2.34501 1.02264 3.19V13.93C1.02264 14.775 1.70768 15.46 2.55267 15.46H13.2927C14.1377 15.46 14.8227 14.775 14.8227 13.93V3.19C14.8227 2.34501 14.1377 1.66 13.2927 1.66Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5.62268 1.66V6.51999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.2227 1.66V6.51999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M14.8227 6.51999H1.02264",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"bug"===this.props.name&&a.createElement("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M7.73268 5.40999C8.15113 5.40867 8.56568 5.48993 8.95265 5.64916C9.33962 5.80838 9.6914 6.04242 9.98775 6.33785C10.2841 6.63327 10.5192 6.98427 10.6796 7.37074C10.8401 7.75721 10.9227 8.17154 10.9227 8.58998V9.98998C10.9227 10.836 10.5866 11.6474 9.98836 12.2457C9.39012 12.8439 8.57872 13.18 7.73268 13.18C7.31424 13.18 6.89991 13.0974 6.51344 12.937C6.12697 12.7765 5.77597 12.5414 5.48055 12.245C5.18512 11.9487 4.95111 11.5969 4.79189 11.21C4.63267 10.823 4.55137 10.4084 4.55269 9.98998V8.58998C4.55269 7.74659 4.88772 6.93775 5.48409 6.34139C6.08045 5.74502 6.88929 5.40999 7.73268 5.40999V5.40999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5.74268 5.41V4.69C5.74268 4.2577 5.91441 3.8431 6.22009 3.53741C6.52578 3.23173 6.94038 3.06 7.37268 3.06H8.09265C8.52495 3.06 8.93955 3.23173 9.24524 3.53741C9.55092 3.8431 9.72266 4.2577 9.72266 4.69V5.41",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M6.06268 1.45999C6.99268 1.64999 7.61268 2.11999 7.62268 2.64999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M9.40265 1.45999C8.47265 1.64999 7.85265 2.11999 7.84265 2.64999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.8627 7.95999L13.5427 6.51001L12.5427 4.31",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.9227 9.29999H13.0226L14.1627 11.8",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.5427 11.51L12.0126 12.78L10.5427 14.91",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4.52264 7.95999L1.84265 6.51001L2.84265 4.31",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4.46265 9.29999H2.36267L1.22266 11.8",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4.84265 11.51L3.36267 12.78L4.84265 14.91",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"cloud"===this.props.name&&a.createElement("svg",{width:"17",height:"13",viewBox:"0 0 17 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M12.2073 5.06497H11.3573C11.1192 4.10573 10.616 3.2328 9.90537 2.54587C9.19474 1.85894 8.30523 1.38569 7.33847 1.18018C6.3717 0.974661 5.36663 1.04515 4.43801 1.38361C3.5094 1.72206 2.69467 2.31484 2.08688 3.09424C1.47909 3.87364 1.10273 4.80825 1.00077 5.79135C0.898818 6.77445 1.07538 7.76642 1.51029 8.65396C1.94521 9.5415 2.62095 10.2889 3.46035 10.8107C4.29975 11.3325 5.26897 11.6077 6.25733 11.605H12.2073C13.0746 11.605 13.9063 11.2605 14.5196 10.6472C15.1328 10.034 15.4773 9.20222 15.4773 8.33496C15.4773 7.4677 15.1328 6.63598 14.5196 6.02274C13.9063 5.40949 13.0746 5.06497 12.2073 5.06497V5.06497Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"columns-caret-left"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.6927 1.01001H2.9527C2.1077 1.01001 1.42267 1.69501 1.42267 2.54001V13.28C1.42267 14.125 2.1077 14.81 2.9527 14.81H13.6927C14.5377 14.81 15.2227 14.125 15.2227 13.28V2.54001C15.2227 1.69501 14.5377 1.01001 13.6927 1.01001Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M6.02271 1.01001V14.81",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M11.9327 5.59L9.61267 7.91L11.9327 10.23",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"columns-caret-right"===this.props.name&&a.createElement("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.8927 1.01001H3.15265C2.30765 1.01001 1.62268 1.69501 1.62268 2.54001V13.28C1.62268 14.125 2.30765 14.81 3.15265 14.81H13.8927C14.7377 14.81 15.4227 14.125 15.4227 13.28V2.54001C15.4227 1.69501 14.7377 1.01001 13.8927 1.01001Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M6.22266 1.01001V14.81",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M9.81268 10.23L12.1327 7.91L9.81268 5.59",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"columns-narrow-left"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.6927 1.01001H2.95267C2.10767 1.01001 1.42267 1.69501 1.42267 2.54001V13.28C1.42267 14.125 2.10767 14.81 2.95267 14.81H13.6927C14.5377 14.81 15.2227 14.125 15.2227 13.28V2.54001C15.2227 1.69501 14.5377 1.01001 13.6927 1.01001Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M6.02264 1.01001V14.81",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"columns"===this.props.name&&a.createElement("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M13.8926 1.66H3.15265C2.30765 1.66 1.62265 2.34501 1.62265 3.19V13.93C1.62265 14.775 2.30765 15.46 3.15265 15.46H13.8926C14.7376 15.46 15.4227 14.775 15.4227 13.93V3.19C15.4227 2.34501 14.7376 1.66 13.8926 1.66Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M6.22266 1.66V15.46",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.8227 1.66V15.46",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"dashboard-2"===this.props.name&&a.createElement("svg",{width:"17",height:"13",viewBox:"0 0 17 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M14.1126 3.82999C15.0921 5.06821 15.6243 6.6012 15.6227 8.17999C15.6218 9.26541 15.3721 10.3362 14.8927 11.31",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M2.20267 11.28C1.72784 10.3157 1.48147 9.25491 1.48267 8.18001C1.48722 7.09544 1.74051 6.02639 2.22309 5.0551C2.70566 4.0838 3.40465 3.23616 4.26624 2.57741C5.12783 1.91865 6.12907 1.46634 7.19291 1.25529C8.25675 1.04424 9.35483 1.08005 10.4027 1.36",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.55267 8.17999L12.4326 2.34",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M15.6227 8.17999H14.0527",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.55267 1.12V2.69",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.56262 3.19L4.67264 4.29999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.49268 8.17999H3.06268",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"dice"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M7.14615 5.29L1.81615 6.97C1.50297 7.07105 1.24229 7.29153 1.09065 7.58358C0.939009 7.87563 0.908637 8.2157 1.00615 8.52999L2.68616 13.86C2.78515 14.175 3.00477 14.4381 3.29706 14.5917C3.58934 14.7453 3.93054 14.7771 4.24615 14.68L9.57616 13C9.73199 12.9511 9.87662 12.8719 10.0018 12.7669C10.1269 12.6619 10.23 12.5333 10.3053 12.3883C10.3806 12.2433 10.4265 12.0849 10.4403 11.9222C10.4542 11.7595 10.4358 11.5956 10.3862 11.44L8.70616 6.1C8.60511 5.78683 8.38463 5.52612 8.09257 5.37448C7.80052 5.22283 7.46044 5.19249 7.14615 5.29V5.29Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M11.6762 10.09C11.8345 10.1286 11.9988 10.1353 12.1597 10.1098C12.3207 10.0843 12.4749 10.0271 12.6135 9.94154C12.7521 9.85595 12.8724 9.74366 12.9673 9.61122C13.0621 9.47877 13.1297 9.32879 13.1662 9.17L14.4562 3.72001C14.5313 3.40046 14.4766 3.06417 14.3041 2.78486C14.1317 2.50556 13.8555 2.30603 13.5362 2.23002L8.09618 0.940016C7.77417 0.867702 7.43664 0.924619 7.15614 1.09852C6.87565 1.27243 6.67459 1.54943 6.59618 1.87001L6.13617 3.87001",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.43617 9.62C3.878 9.62 4.23618 9.26184 4.23618 8.82001C4.23618 8.37818 3.878 8.01999 3.43617 8.01999C2.99434 8.01999 2.63617 8.37818 2.63617 8.82001C2.63617 9.26184 2.99434 9.62 3.43617 9.62Z",fill:"var(--icon-color)",stroke:"none"}),a.createElement("path",{d:"M6.88617 8.51999C7.328 8.51999 7.68617 8.16183 7.68617 7.72C7.68617 7.27817 7.328 6.92001 6.88617 6.92001C6.44434 6.92001 6.08618 7.27817 6.08618 7.72C6.08618 8.16183 6.44434 8.51999 6.88617 8.51999Z",fill:"var(--icon-color)",stroke:"none"}),a.createElement("path",{d:"M5.69617 10.79C6.13799 10.79 6.49617 10.4318 6.49617 9.98999C6.49617 9.54816 6.13799 9.19 5.69617 9.19C5.25434 9.19 4.89618 9.54816 4.89618 9.98999C4.89618 10.4318 5.25434 10.79 5.69617 10.79Z",fill:"var(--icon-color)",stroke:"none"}),a.createElement("path",{d:"M4.52618 13.05C4.96801 13.05 5.32619 12.6918 5.32619 12.25C5.32619 11.8082 4.96801 11.45 4.52618 11.45C4.08436 11.45 3.7262 11.8082 3.7262 12.25C3.7262 12.6918 4.08436 13.05 4.52618 13.05Z",fill:"var(--icon-color)",stroke:"none"}),a.createElement("path",{d:"M7.96614 11.97C8.40797 11.97 8.76614 11.6118 8.76614 11.17C8.76614 10.7282 8.40797 10.37 7.96614 10.37C7.52431 10.37 7.16614 10.7282 7.16614 11.17C7.16614 11.6118 7.52431 11.97 7.96614 11.97Z",fill:"var(--icon-color)",stroke:"none"}),a.createElement("path",{d:"M11.2362 8.48999C11.678 8.48999 12.0362 8.13183 12.0362 7.69C12.0362 7.24817 11.678 6.89001 11.2362 6.89001C10.7943 6.89001 10.4362 7.24817 10.4362 7.69C10.4362 8.13183 10.7943 8.48999 11.2362 8.48999Z",fill:"var(--icon-color)",stroke:"none"}),a.createElement("path",{d:"M8.54616 4.14001C8.98799 4.14001 9.34616 3.78182 9.34616 3.34C9.34616 2.89817 8.98799 2.54001 8.54616 2.54001C8.10433 2.54001 7.74615 2.89817 7.74615 3.34C7.74615 3.78182 8.10433 4.14001 8.54616 4.14001Z",fill:"var(--icon-color)",stroke:"none"})),"face-ID"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1.35001 5.07001V2.51001C1.34869 2.33845 1.38134 2.16831 1.44608 2.00943C1.51082 1.85055 1.60637 1.70607 1.72722 1.58429C1.84807 1.46251 1.99183 1.36585 2.15021 1.2999C2.30859 1.23394 2.47845 1.19998 2.65002 1.19998H4.95001",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.72 1.19998H13.29C13.4616 1.19998 13.6315 1.23394 13.7898 1.2999C13.9482 1.36585 14.092 1.46251 14.2128 1.58429C14.3337 1.70607 14.4292 1.85055 14.494 2.00943C14.5587 2.16831 14.5913 2.33845 14.59 2.51001V4.79999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M14.59 10.59V13.16C14.59 13.5057 14.4534 13.8374 14.2098 14.0828C13.9663 14.3282 13.6357 14.4674 13.29 14.47H10.99",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5.22 14.45H2.67C2.3243 14.4473 1.99366 14.3082 1.75014 14.0628C1.50663 13.8174 1.36999 13.4857 1.37 13.14V10.84",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4.94 5.53V7.13",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M11.01 5.53V7.13",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M7.97 5.39999V8.23999C7.97002 8.38679 7.9124 8.52774 7.80953 8.63248C7.70666 8.73721 7.56678 8.79737 7.42 8.79999H7.31",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.1 10.28C9.49291 10.8839 8.67138 11.223 7.81503 11.223C6.95867 11.223 6.13715 10.8839 5.53003 10.28",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"fingerprint"===this.props.name&&a.createElement("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M8.68002 16C7.83861 15.3719 7.15609 14.5553 6.68721 13.6158C6.21833 12.6763 5.97612 11.64 5.98003 10.59C6.01806 10.0205 6.27111 9.48669 6.68794 9.09676C7.10478 8.70683 7.65424 8.48989 8.22502 8.48989C8.79581 8.48989 9.34526 8.70683 9.7621 9.09676C10.1789 9.48669 10.432 10.0205 10.47 10.59C10.47 10.8841 10.528 11.1754 10.6405 11.4472C10.7531 11.719 10.9181 11.9659 11.1261 12.1739C11.3341 12.3819 11.581 12.5469 11.8528 12.6595C12.1246 12.772 12.4159 12.83 12.71 12.83C13.0042 12.83 13.2955 12.772 13.5672 12.6595C13.839 12.5469 14.0859 12.3819 14.2939 12.1739C14.5019 11.9659 14.6669 11.719 14.7795 11.4472C14.8921 11.1754 14.95 10.8841 14.95 10.59C14.9417 8.90033 14.2971 7.27584 13.1447 6.04012C11.9923 4.8044 10.4167 4.04814 8.73169 3.92202C7.04672 3.7959 5.37609 4.30918 4.05258 5.35958C2.72907 6.40997 1.84984 7.9204 1.59003 9.58998",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeMiterlimit:"10",strokeLinecap:"round"}),a.createElement("path",{d:"M12.6801 10.59C12.6801 9.39652 12.2059 8.25193 11.362 7.40802C10.5181 6.56411 9.37353 6.09 8.18005 6.09C6.98658 6.09 5.84198 6.56411 4.99807 7.40802C4.15416 8.25193 3.68005 9.39652 3.68005 10.59C3.67942 12.0766 4.04704 13.5402 4.75005 14.85",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeMiterlimit:"10",strokeLinecap:"round"}),a.createElement("path",{d:"M3.52002 2.98998C5.11912 2.00811 6.98513 1.55064 8.85704 1.68153C10.7289 1.81242 12.5131 2.52514 13.96 3.71999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeMiterlimit:"10",strokeLinecap:"round"}),a.createElement("path",{d:"M8.22003 10.59C8.2202 11.6349 8.58483 12.6471 9.2511 13.4521C9.91736 14.2571 10.8435 14.8045 11.87 15",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeMiterlimit:"10",strokeLinecap:"round"})),"folder-root"===this.props.name&&a.createElement("svg",{width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M14 10.7744C14.0001 10.9354 13.9668 11.0948 13.9022 11.2436C13.8375 11.3923 13.7427 11.5275 13.6232 11.6413C13.3765 11.8699 13.0463 11.9985 12.7021 12H2.29791C1.95367 11.9985 1.62347 11.8699 1.37681 11.6413C1.25728 11.5275 1.16248 11.3923 1.09782 11.2436C1.03317 11.0948 0.999929 10.9354 1 10.7744V2.22555C0.999929 2.06459 1.03317 1.90517 1.09782 1.75643C1.16248 1.6077 1.25728 1.47257 1.37681 1.35871C1.62347 1.13012 1.95367 1.00152 2.29791 1H5.55314L6.85105 2.83333H12.7021C13.0463 2.83485 13.3765 2.96345 13.6232 3.19204C13.7427 3.30589 13.8375 3.44106 13.9022 3.58979C13.9668 3.73853 14.0001 3.89792 14 4.05888V10.7744Z",fill:"var(--icon-background-color)",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M7.49995 4.91578L4.25519 7.26721V10.9937C4.25519 11.1733 4.33018 11.3457 4.46366 11.4727C4.59714 11.5998 4.77817 11.6712 4.96694 11.6712H6.46372V8.68208H8.45245V11.6712H9.9597C10.0532 11.6715 10.1458 11.6541 10.232 11.6199C10.3183 11.5856 10.3965 11.5353 10.4621 11.4719C10.5938 11.344 10.6688 11.1727 10.6715 10.9937V7.26721L7.49995 4.91578Z",fill:"var(--icon-color)",stroke:"none"})),"folder-shared"===this.props.name&&a.createElement("svg",{width:"15",height:"13",viewBox:"0 0 15 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M14 10.7744C14.0001 10.9354 13.9668 11.0948 13.9022 11.2436C13.8375 11.3923 13.7427 11.5275 13.6232 11.6413C13.3765 11.8699 13.0463 11.9985 12.7021 12H2.2979C1.95366 11.9985 1.62347 11.8699 1.37681 11.6413C1.25728 11.5275 1.16248 11.3923 1.09782 11.2436C1.03317 11.0948 0.999929 10.9354 1 10.7744V2.22555C0.999929 2.06459 1.03317 1.90517 1.09782 1.75643C1.16248 1.6077 1.25728 1.47256 1.37681 1.35871C1.62347 1.13012 1.95366 1.00152 2.2979 1H5.55314L6.85104 2.83333H12.7021C13.0463 2.83485 13.3765 2.96345 13.6232 3.19204C13.7427 3.30589 13.8375 3.44106 13.9022 3.58979C13.9668 3.73853 14.0001 3.89791 14 4.05888V10.7744Z",fill:"var(--icon-background-color)",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.3889 12V10.7246C10.3922 10.3531 10.2418 9.99517 9.97022 9.72827C9.83273 9.59843 9.66922 9.49625 9.48941 9.42779C9.30959 9.35932 9.11715 9.32597 8.92353 9.32972H6.05557C5.8655 9.3284 5.67704 9.36305 5.50116 9.43168C5.32528 9.50031 5.1655 9.60154 5.03109 9.72948C4.89668 9.85743 4.79034 10.0095 4.71824 10.177C4.64615 10.3444 4.60973 10.5238 4.61112 10.7047V11.9801",fill:"var(--icon-color)",stroke:"none"}),a.createElement("path",{d:"M7.49998 7.97461C7.78567 7.97461 8.06493 7.89397 8.30247 7.74288C8.54001 7.5918 8.72515 7.37705 8.83448 7.1258C8.9438 6.87456 8.97241 6.59808 8.91667 6.33136C8.86094 6.06464 8.72337 5.81965 8.52136 5.62735C8.31935 5.43505 8.06198 5.30409 7.78178 5.25103C7.50159 5.19798 7.21116 5.22523 6.94722 5.3293C6.68329 5.43337 6.45769 5.60961 6.29897 5.83573C6.14025 6.06184 6.05554 6.32766 6.05554 6.59961C6.05554 6.96428 6.20772 7.31404 6.47861 7.5719C6.74949 7.82977 7.11689 7.97461 7.49998 7.97461Z",fill:"var(--icon-color)",stroke:"none"})),"heart-o"===this.props.name&&a.createElement("svg",{width:"17",height:"15",viewBox:"0 0 17 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M8.46701 14.12C8.39968 14.1229 8.33253 14.1109 8.27032 14.085C8.20811 14.0591 8.15238 14.0198 8.10702 13.97L2.98703 9.04L2.75701 8.82L2.30703 8.29C2.10475 8.03461 1.91773 7.76746 1.747 7.48998C1.56775 7.17196 1.42039 6.837 1.30703 6.48998C1.1817 6.1264 1.11749 5.74455 1.11703 5.35998C1.08303 4.84662 1.15416 4.33172 1.32611 3.84682C1.49806 3.36192 1.76721 2.91725 2.11703 2.54C2.50658 2.19036 2.9619 1.92184 3.45639 1.75014C3.95087 1.57845 4.4746 1.50701 4.997 1.54C5.33771 1.5472 5.67517 1.60793 5.997 1.71999C6.34988 1.83562 6.68607 1.99697 6.997 2.19997C7.26741 2.3717 7.52783 2.5587 7.777 2.76C7.99865 2.93314 8.20908 3.12018 8.40701 3.32C8.59918 3.11788 8.80644 2.93068 9.027 2.76C9.247 2.58 9.50703 2.39997 9.80703 2.19997C10.1184 1.99766 10.4545 1.83635 10.807 1.71999C11.1286 1.60695 11.4662 1.54619 11.807 1.54C12.3295 1.50645 12.8534 1.57762 13.3479 1.74935C13.8425 1.92107 14.2978 2.18989 14.687 2.54C15.0388 2.9159 15.3092 3.36039 15.4813 3.84563C15.6534 4.33088 15.7234 4.84641 15.687 5.35998C15.6358 6.06837 15.4442 6.75949 15.1231 7.39303C14.802 8.02656 14.358 8.58983 13.817 9.04998L8.70703 13.97C8.64352 14.0425 8.56002 14.0947 8.46701 14.12Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"heart"===this.props.name&&a.createElement("svg",{width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M8.05462 13.12C7.98595 13.1217 7.91766 13.1093 7.854 13.0835C7.79034 13.0577 7.73269 13.0191 7.68462 12.97L2.57461 8.04L2.34463 7.82L1.89462 7.29C1.68905 7.03708 1.5019 6.7697 1.33462 6.48998C1.15536 6.17196 1.00798 5.837 0.894616 5.48998C0.769279 5.1264 0.705073 4.74455 0.704614 4.35998C0.670613 3.84662 0.74177 3.33172 0.91372 2.84682C1.08567 2.36192 1.35479 1.91725 1.70461 1.54C2.09386 1.18989 2.54913 0.921074 3.04369 0.74935C3.53826 0.577625 4.06216 0.506451 4.58462 0.539999C4.92533 0.547199 5.26278 0.607934 5.58462 0.719992C5.93749 0.835618 6.27369 0.996973 6.58462 1.19997C6.88462 1.39997 7.14462 1.58 7.36462 1.76C7.58627 1.93314 7.79669 2.12018 7.99462 2.32C8.18679 2.11788 8.39405 1.93068 8.61462 1.76C8.83462 1.58 9.09462 1.39997 9.39462 1.19997C9.70594 0.997665 10.042 0.836354 10.3946 0.719992C10.716 0.606272 11.0537 0.545489 11.3946 0.539999C11.9171 0.506451 12.441 0.577625 12.9355 0.74935C13.4301 0.921074 13.8854 1.18989 14.2746 1.54C14.6264 1.9159 14.8968 2.36039 15.0689 2.84563C15.241 3.33088 15.311 3.84641 15.2746 4.35998C15.2235 5.06837 15.0317 5.75949 14.7107 6.39303C14.3896 7.02656 13.9457 7.58983 13.4046 8.04998L8.29461 12.97C8.23111 13.0425 8.14763 13.0947 8.05462 13.12V13.12Z",fill:"var(--icon-color)",stroke:"none"})),"heartbeat"===this.props.name&&a.createElement("svg",{width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M14.524 7.18165H9.754L8.55402 13.14L6.14401 1.69998L4.95401 7.03865H1.284",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"Pin"===this.props.name&&a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M8.98903 8.67999L10.849 5.16L11.019 5.32999C11.2505 5.55539 11.5609 5.68152 11.884 5.68152C12.2072 5.68152 12.5175 5.55539 12.749 5.32999C12.863 5.21661 12.9535 5.08183 13.0152 4.93338C13.0769 4.78493 13.1087 4.62576 13.1087 4.465C13.1087 4.30423 13.0769 4.14506 13.0152 3.99661C12.9535 3.84817 12.863 3.71338 12.749 3.60001L10.419 1.26999C10.1896 1.04058 9.87847 0.911713 9.55403 0.911713C9.22959 0.911713 8.91844 1.04058 8.68903 1.26999C8.45961 1.4994 8.33073 1.81057 8.33073 2.13501C8.33073 2.45945 8.45961 2.77059 8.68903 3L8.86903 3.16998L5.33904 5.03C4.87276 4.77332 4.33557 4.67547 3.80873 4.75125C3.28189 4.82703 2.79407 5.07229 2.41904 5.44998L2.00903 5.85001L8.16904 12.01L8.56903 11.61C8.94755 11.2334 9.19324 10.7438 9.26901 10.2152C9.34478 9.68667 9.2465 9.14779 8.98903 8.67999V8.67999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.89906 10.13L1.29907 12.73",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"plug"===this.props.name&&a.createElement("svg",{width:"13",height:"15",viewBox:"0 0 13 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M4.01277 5.26999C3.52129 5.84389 3.26446 6.58213 3.29362 7.33716C3.32278 8.09219 3.63577 8.8084 4.17005 9.34268C4.70434 9.87697 5.42058 10.19 6.17561 10.2191C6.93064 10.2483 7.66884 9.99148 8.24275 9.5L10.3528 7.38998L6.13276 3.16L4.01277 5.26999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4.01273 9.5L1.96271 11.5C1.7532 11.7098 1.61057 11.9769 1.5528 12.2677C1.49503 12.5585 1.52473 12.8599 1.63816 13.1339C1.75158 13.4078 1.94364 13.642 2.19007 13.8068C2.4365 13.9716 2.72623 14.0597 3.02271 14.06H12.0227",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.17273 2.82999L9.46271 1.54001",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M10.6927 5.35001L11.9828 4.06",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M5.58276 2.62L10.8528 7.89001",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"server"===this.props.name&&a.createElement("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M12.2891 8.79999H2.47908C1.93232 8.79999 1.48907 9.24325 1.48907 9.79001V11.77C1.48907 12.3168 1.93232 12.76 2.47908 12.76H12.2891C12.8358 12.76 13.2791 12.3168 13.2791 11.77V9.79001C13.2791 9.24325 12.8358 8.79999 12.2891 8.79999Z",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.48907 7.01001V5.82999C1.48907 5.56477 1.59443 5.31043 1.78197 5.12289C1.9695 4.93536 2.22386 4.82999 2.48907 4.82999H12.2991C12.5643 4.82999 12.8186 4.93536 13.0062 5.12289C13.1937 5.31043 13.2991 5.56477 13.2991 5.82999V7.01001",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M1.48907 3.04999V1.87C1.48907 1.60478 1.59443 1.35044 1.78197 1.1629C1.9695 0.975366 2.22386 0.869995 2.48907 0.869995H12.2991C12.5643 0.869995 12.8186 0.975366 13.0062 1.1629C13.1937 1.35044 13.2991 1.60478 13.2991 1.87V3.04999",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M3.46906 3.60999C3.88327 3.60999 4.21906 3.2742 4.21906 2.85999C4.21906 2.44577 3.88327 2.10999 3.46906 2.10999C3.05484 2.10999 2.71906 2.44577 2.71906 2.85999C2.71906 3.2742 3.05484 3.60999 3.46906 3.60999Z",fill:"var(--icon-color)",stroke:"none"}),a.createElement("path",{d:"M3.46906 7.57001C3.88327 7.57001 4.21906 7.23422 4.21906 6.82001C4.21906 6.40579 3.88327 6.07001 3.46906 6.07001C3.05484 6.07001 2.71906 6.40579 2.71906 6.82001C2.71906 7.23422 3.05484 7.57001 3.46906 7.57001Z",fill:"var(--icon-color)",stroke:"none"}),a.createElement("path",{d:"M3.46906 11.53C3.88327 11.53 4.21906 11.1942 4.21906 10.78C4.21906 10.3658 3.88327 10.03 3.46906 10.03C3.05484 10.03 2.71906 10.3658 2.71906 10.78C2.71906 11.1942 3.05484 11.53 3.46906 11.53Z",fill:"var(--icon-color)",stroke:"none"})),"share-2"===this.props.name&&a.createElement("svg",{width:"17",height:"14",viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M8.11267 11.7L6.36267 13.21L6.32269 7.70999L1.16266 5.44L15.9727 1.45999L10.7827 12.82L8.21265 8.38",fill:"none",stroke:"var(--icon-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"failed"===this.props.name&&a.createElement("svg",{width:"127",height:"127",viewBox:"0 0 127 127",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("circle",{cx:"63.25",cy:"63.1909",r:"61",stroke:"var(--icon-failed-color)",strokeWidth:"4"}),a.createElement("g",{clipPath:"url(#clip0_174_687280)"},a.createElement("path",{d:"M63.249 32.4197L63.249 69.784",stroke:"var(--icon-failed-color)",strokeWidth:"6.66667",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M63.249 85.2234H63.1493",stroke:"var(--icon-failed-color)",strokeWidth:"6.66667",strokeLinecap:"round",strokeLinejoin:"round"})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_174_687280"},a.createElement("rect",{width:"68.1081",height:"68.1081",fill:"var(--icon-exclamation-color)",transform:"translate(29.1959 29.137)"})))),"success"===this.props.name&&a.createElement("svg",{width:"127",height:"127",viewBox:"0 0 127 127",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("circle",{cx:"63.25",cy:"63.1909",r:"61",stroke:"var(--icon-success-color)",strokeWidth:"4"}),a.createElement("path",{d:"M85.9519 46.1641L54.7357 77.3803L40.5465 63.1911",stroke:"var(--icon-success-color)",strokeWidth:"6.69935",strokeLinecap:"round",strokeLinejoin:"round"})),"exclamation"===this.props.name&&a.createElement("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M6.70175 0.0187378C5.51507 0.0187378 4.35498 0.370631 3.36829 1.02992C2.38159 1.68921 1.61254 2.62628 1.15842 3.72264C0.704293 4.81899 0.585428 6.02539 0.816939 7.18927C1.04845 8.35316 1.62007 9.42228 2.45918 10.2614C3.29829 11.1005 4.36718 11.6719 5.53107 11.9035C6.69495 12.135 7.90159 12.0161 8.99794 11.562C10.0943 11.1079 11.0313 10.3389 11.6905 9.35217C12.3498 8.36548 12.7017 7.20539 12.7017 6.0187C12.7017 4.42741 12.0695 2.90129 10.9443 1.77607C9.81911 0.650856 8.29305 0.0187378 6.70175 0.0187378Z",fill:"var(--icon-exclamation-background-color)"}),a.createElement("path",{d:"M6.71118 3.0694L6.71118 6.6279",stroke:"var(--icon-exclamation-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M6.71118 9H6.70169",stroke:"var(--icon-exclamation-color)",vectorEffect:"non-scaling-stroke",strokeWidth:"var(--icon-stroke-width)",strokeLinecap:"round",strokeLinejoin:"round"})),"spinner"===this.props.name&&a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("circle",{cx:"8",cy:"8",r:"8",transform:"translate(1 1)",fill:"none",stroke:"var(--spinner-background)",strokeWidth:"var(--spinner-stroke-width)"}),a.createElement("ellipse",{id:"loading",rx:"8",ry:"8",transform:"translate(9 9)",fill:"none",stroke:"var(--spinner-color)",strokeWidth:"var(--spinner-stroke-width)",strokeLinecap:"round"})),"timer"===this.props.name&&a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("ellipse",{rx:"8",ry:"8",transform:"translate(10 10)",fill:"none",stroke:"var(--timer-background)",strokeWidth:"var(--timer-stroke-width)"}),a.createElement("ellipse",{id:"timer-progress",rx:"8",ry:"8",transform:"matrix(0-1 1 0 10 10)",fill:"none",stroke:"var(--timer-color)",strokeLinecap:"round",strokeWidth:"var(--timer-stroke-width)"})))}}ue.defaultProps={big:!1,baseline:!1,dim:!1,onClick:()=>{}},ue.propTypes={name:l().string,big:l().bool,dim:l().bool,baseline:l().bool,onClick:l().func,style:l().object,width:l().number,height:l().number};const ge=ue;class Ce extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleCloseClick=this.handleCloseClick.bind(this)}handleCloseClick(){this.props.onClose()}render(){return a.createElement("button",{type:"button",disabled:this.props.disabled,className:"dialog-close button button-transparent",onClick:this.handleCloseClick},a.createElement(ge,{name:"close"}),a.createElement("span",{className:"visually-hidden"},a.createElement(w.x6,null,"Close")))}}Ce.propTypes={onClose:l().func,disabled:l().bool};const be=(0,w.CI)("common")(Ce);class Ee extends a.Component{render(){return a.createElement("div",{className:"tooltip",tabIndex:"0"},this.props.children,a.createElement("span",{className:`tooltip-text ${this.props.direction}`},this.props.message))}}Ee.defaultProps={direction:"right"},Ee.propTypes={children:l().any,message:l().any.isRequired,direction:l().string};const fe=Ee;class ye extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleKeyDown=this.handleKeyDown.bind(this),this.handleClose=this.handleClose.bind(this)}handleKeyDown(e){27===e.keyCode&&this.handleClose()}handleClose(){this.props.disabled||this.props.onClose()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,{capture:!1})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,{capture:!1})}render(){return a.createElement("div",{className:`${this.props.className} dialog-wrapper`},a.createElement("div",{className:"dialog"},a.createElement("div",{className:"dialog-header"},a.createElement("div",{className:"dialog-title-wrapper"},a.createElement("h2",null,a.createElement("span",{className:"dialog-header-title"},this.props.title),this.props.subtitle&&a.createElement("span",{className:"dialog-header-subtitle"},this.props.subtitle)),this.props.tooltip&&""!==this.props.tooltip&&a.createElement(fe,{message:this.props.tooltip},a.createElement(ge,{name:"info-circle"}))),a.createElement(be,{onClose:this.handleClose,disabled:this.props.disabled})),a.createElement("div",{className:"dialog-content"},this.props.children)))}}ye.propTypes={children:l().node,className:l().string,title:l().oneOfType([l().arrayOf(l().node),l().node,l().string]),subtitle:l().string,tooltip:l().string,disabled:l().bool,onClose:l().func};const ve=ye;class ke extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{showErrorDetails:!1}}bindCallbacks(){this.handleKeyDown=this.handleKeyDown.bind(this),this.handleErrorDetailsToggle=this.handleErrorDetailsToggle.bind(this)}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,{capture:!0})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,{capture:!0})}getTitle(){return this.props.title?this.props.title:this.props.t("There was an unexpected error...")}getMessage(){return this.props.error.message}handleKeyDown(e){27!==e.keyCode&&13!==e.keyCode||(e.stopPropagation(),this.props.onClose())}handleErrorDetailsToggle(){this.setState({showErrorDetails:!this.state.showErrorDetails})}get hasErrorDetails(){return Boolean(this.props.error.data?.body)||Boolean(this.props.error.details)}formatErrors(){const e=this.props.error?.details||this.props.error?.data;return JSON.stringify(e,null,4)}render(){return a.createElement(ve,{className:"dialog-wrapper error-dialog",onClose:this.props.onClose,title:this.getTitle()},a.createElement("div",{className:"form-content"},a.createElement("p",null,this.getMessage()),this.hasErrorDetails&&a.createElement("div",{className:"accordion error-details"},a.createElement("div",{className:"accordion-header"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleErrorDetailsToggle},a.createElement(w.x6,null,"Error details"),a.createElement(ge,{baseline:!0,name:this.state.showErrorDetails?"caret-up":"caret-down"}))),this.state.showErrorDetails&&a.createElement("div",{className:"accordion-content"},a.createElement("div",{className:"input text"},a.createElement("label",{htmlFor:"js_field_debug",className:"visuallyhidden"},a.createElement(w.x6,null,"Error details")),a.createElement("textarea",{id:"js_field_debug",defaultValue:this.formatErrors(),readOnly:!0}))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement("button",{type:"button",className:"button primary warning",onClick:this.props.onClose},"Ok")))}}ke.propTypes={title:l().string,error:l().object.isRequired,onClose:l().func,t:l().func};const we=(0,w.CI)("common")(ke);class xe extends a.Component{constructor(){super(),this.bindCallbacks()}bindCallbacks(){this.handleSignOutClick=this.handleSignOutClick.bind(this)}isSelected(e){let t=!1;return"passwords"===e?t=/^\/app\/(passwords|folders)/.test(this.props.location.pathname):"users"===e?t=/^\/app\/(users|groups)/.test(this.props.location.pathname):"administration"===e&&(t=/^\/app\/administration/.test(this.props.location.pathname)),t}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}async handleSignOutClick(){try{await this.props.context.onLogoutRequested()}catch(e){this.props.dialogContext.open(we,{error:e})}}render(){const e=this.props.rbacContext.canIUseUiAction(F),t=this.props.rbacContext.canIUseUiAction(H);return a.createElement("nav",null,a.createElement("div",{className:"primary navigation top"},a.createElement("ul",null,a.createElement("li",{key:"password"},a.createElement("div",{className:"row "+(this.isSelected("passwords")?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"passwords link no-border",type:"button",onClick:this.props.navigationContext.onGoToPasswordsRequested},a.createElement("span",null,a.createElement(w.x6,null,"passwords"))))))),e&&a.createElement("li",{key:"users"},a.createElement("div",{className:"row "+(this.isSelected("users")?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"users link no-border",type:"button",onClick:this.props.navigationContext.onGoToUsersRequested},a.createElement("span",null,a.createElement(w.x6,null,"users"))))))),this.isLoggedInUserAdmin()&&t&&a.createElement("li",{key:"administration"},a.createElement("div",{className:"row "+(this.isSelected("administration")?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"administration link no-border",type:"button",onClick:this.props.navigationContext.onGoToAdministrationRequested},a.createElement("span",null,a.createElement(w.x6,null,"administration"))))))),a.createElement("li",{key:"help"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("a",{className:"help",href:"https://help.passbolt.com",role:"button",target:"_blank",rel:"noopener noreferrer"},a.createElement("span",null,a.createElement(w.x6,null,"help"))))))),a.createElement("li",{key:"logout",className:"right"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"sign-out link no-border",type:"button",onClick:this.handleSignOutClick},a.createElement("span",null,a.createElement(w.x6,null,"sign out"))))))))))}}xe.propTypes={context:l().object,rbacContext:l().any,navigationContext:l().any,history:l().object,location:l().object,dialogContext:l().object};const Se=h(pe((0,i.y)(b(k((0,w.CI)("common")(xe))))));function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ne.apply(null,arguments)}const Re=a.createContext({feedbacks:[],displaySuccess:()=>{},displayError:()=>{},remove:()=>{}});class Ie extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{feedbacks:[],displaySuccess:this.displaySuccess.bind(this),displayError:this.displayError.bind(this),remove:this.remove.bind(this)}}async displaySuccess(e){await this.setState({feedbacks:[...this.state.feedbacks,{id:(0,E.A)(),type:"success",message:e}]})}async displayError(e){await this.setState({feedbacks:[...this.state.feedbacks,{id:(0,E.A)(),type:"error",message:e}]})}async remove(e){await this.setState({feedbacks:this.state.feedbacks.filter((t=>e.id!==t.id))})}render(){return a.createElement(Re.Provider,{value:this.state},this.props.children)}}function _e(e){return class extends a.Component{render(){return a.createElement(Re.Consumer,null,(t=>a.createElement(e,Ne({actionFeedbackContext:t},this.props))))}}}Ie.displayName="ActionFeedbackContextProvider",Ie.propTypes={children:l().any};class De extends a.Component{static get DEFAULT_WAIT_TO_CLOSE_TIME_IN_MS(){return 500}constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{shouldRender:!0,isPersisted:!1,timeoutId:null}}componentDidMount(){this.displayWithTimer(this.props.displayTimeInMs)}componentDidUpdate(e){const t=e&&e.feedback.id!==this.props.feedback.id,s=e&&this.props.displayTimeInMs&&e.displayTimeInMs!==this.props.displayTimeInMs;t?(this.setState({shouldRender:!0}),this.displayWithTimer(this.props.displayTimeInMs)):s&&this.updateTimer(this.props.displayTimeInMs)}componentWillUnmount(){this.state.timeoutId&&clearTimeout(this.state.timeoutId)}bindCallbacks(){this.persist=this.persist.bind(this),this.displayWithTimer=this.displayWithTimer.bind(this),this.close=this.close.bind(this)}displayWithTimer(e){this.state.timeoutId&&clearTimeout(this.state.timeoutId);const t=setTimeout(this.close,e),s=Date.now();this.setState({timeoutId:t,time:s})}updateTimer(e){const t=e-(Date.now()-this.state.time);t>0?this.displayWithTimer(t):(clearTimeout(this.state.timeoutId),this.close())}persist(){this.state.timeoutId&&!this.state.isPersisted&&(clearTimeout(this.state.timeoutId),this.setState({isPersisted:!0}))}close(){this.setState({shouldRender:!1}),setTimeout(this.props.onClose,De.DEFAULT_WAIT_TO_CLOSE_TIME_IN_MS)}render(){return a.createElement(a.Fragment,null,a.createElement("div",{className:"notification",onMouseOver:this.persist,onMouseLeave:this.displayWithTimer,onClick:this.close},a.createElement("div",{className:`message animated ${this.state.shouldRender?"fadeInUp":"fadeOutUp"} ${this.props.feedback.type}`},a.createElement("span",{className:"content"},a.createElement("strong",null,"success"===this.props.feedback.type&&a.createElement(a.Fragment,null,a.createElement(w.x6,null,"Success"),": "),"error"===this.props.feedback.type&&a.createElement(a.Fragment,null,a.createElement(w.x6,null,"Error"),": ")),this.props.feedback.message))))}}De.propTypes={feedback:l().object,onClose:l().func,displayTimeInMs:l().number};const Te=(0,w.CI)("common")(De);class Pe extends a.Component{constructor(e){super(e),this.bindCallbacks()}static get DEFAULT_DISPLAY_TIME_IN_MS(){return 5e3}static get DEFAULT_DISPLAY_MIN_TIME_IN_MS(){return 1200}bindCallbacks(){this.close=this.close.bind(this)}get feedbackToDisplay(){return this.props.actionFeedbackContext.feedbacks[0]}get length(){return this.props.actionFeedbackContext.feedbacks.length}get hasFeedbacks(){return this.length>0}async close(e){await this.props.actionFeedbackContext.remove(e)}render(){const e=this.length>1?Pe.DEFAULT_DISPLAY_MIN_TIME_IN_MS:Pe.DEFAULT_DISPLAY_TIME_IN_MS;return a.createElement(a.Fragment,null,this.hasFeedbacks&&a.createElement("div",{className:"notification-container"},a.createElement(Te,{feedback:this.feedbackToDisplay,onClose:()=>this.close(this.feedbackToDisplay),displayTimeInMs:e})))}}Pe.propTypes={actionFeedbackContext:l().any};const Ae=_e(Pe);function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Me.apply(null,arguments)}class Ue extends a.Component{constructor(e){super(e),this.bindCallback()}bindCallback(){this.close=this.close.bind(this)}async close(e){const t=this.props.dialogContext.dialogs.find((({key:t})=>t===e));t?.DialogProps?.onClose&&t.DialogProps.onClose(),this.props.dialogContext.close(e)}render(){return a.createElement(a.Fragment,null,this.props.dialogContext.dialogs.map((({key:e,Dialog:t,DialogProps:s})=>a.createElement(t,Me({key:e},s,{onClose:()=>this.close(e)})))),this.props.children)}}Ue.propTypes={dialogContext:l().any,children:l().any};const Fe=k(Ue);function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Le.apply(null,arguments)}const Oe=a.createContext({counter:[],add:()=>{},remove:()=>{}});class Ve extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{counter:0,add:()=>{this.setState({counter:this.state.counter+1})},remove:()=>{this.setState({counter:Math.min(this.state.counter-1,0)})}}}render(){return a.createElement(Oe.Provider,{value:this.state},this.props.children)}}function He(e){return class extends a.Component{render(){return a.createElement(Oe.Consumer,null,(t=>a.createElement(e,Le({loadingContext:t},this.props))))}}}Ve.propTypes={children:l().any};const qe=(e,t)=>{if(void 0===e||"string"!=typeof e||!e.length)return!1;if((t=t||{}).whitelistedProtocols&&!Array.isArray(t.whitelistedProtocols))throw new TypeError("The whitelistedProtocols should be an array of string.");if(t.defaultProtocol&&"string"!=typeof t.defaultProtocol)throw new TypeError("The defaultProtocol should be a string.");const s=t.whitelistedProtocols||[je.HTTP,je.HTTPS],a=[je.JAVASCRIPT],n=t.defaultProtocol||"";!/^((?!:\/\/).)*:\/\//.test(e)&&n&&(e=`${n}//${e}`);try{const t=new URL(e);return!a.includes(t.protocol)&&!!s.includes(t.protocol)&&t.href}catch(e){return!1}},je={FTP:"http:",FTPS:"https:",HTTP:"http:",HTTPS:"https:",JAVASCRIPT:"javascript:",SSH:"ssh:"};var We=s(6685);class ze extends ne{constructor(e,t={}){super(se.validate(ze.ENTITY_NAME,e,ze.getSchema()),t)}static getSchema(){return{type:"object",required:["propertyName","asc"],properties:{propertyName:{type:"string"},asc:{type:"boolean"}}}}get propertyName(){return this._props.propertyName}get asc(){return this._props.asc}static get ENTITY_NAME(){return"Sorter"}}const Be=ze;class Ge extends ne{constructor(e,t={}){super(se.validate(Ge.ENTITY_NAME,e,Ge.getSchema()),t)}static getSchema(){return{type:"object",required:["id","label"],properties:{id:{type:"string",pattern:/^[a-zA-Z]+$/,maxLength:255},label:{type:"string",pattern:/^[a-zA-Z]+$/,maxLength:255},width:{type:"number"},position:{type:"integer"},show:{type:"boolean"}}}}get id(){return this._props.id}get label(){return this._props.label}get width(){return this._props.width}get position(){return this._props.position}get show(){return this._props.show}static get ENTITY_NAME(){return"ColumnSetting"}}const Ke=Ge;class $e extends Error{constructor(e,t,s){if(super(s=s||"Entity collection error."),"number"!=typeof e)throw new TypeError("EntityCollectionError requires a valid position");if(!t||"string"!=typeof t)throw new TypeError("EntityCollectionError requires a valid rule");if(!s||"string"!=typeof s)throw new TypeError("EntityCollectionError requires a valid message");this.position=e,this.rule=t}}const Ze=$e;class Ye{constructor(e=[],t={}){const s=t?.clone??!0;this._items=[],s&&(e=JSON.parse(JSON.stringify(e))),this._props=e}toDto(){return JSON.parse(JSON.stringify(this._items))}toJSON(){return this.toDto()}get items(){return this._items}get length(){return this._items.length}[Symbol.iterator](){let e=0;return{next:()=>e<this._items.length?{value:this._items[e++],done:!1}:{done:!0}}}getAll(e,t){if("string"!=typeof e)throw new TypeError("EntityCollection excludeAll expects propName to be string.");if("string"!=typeof t)throw new TypeError("EntityCollection excludeAll expects search to be string.");return this._items.filter((s=>Object.prototype.hasOwnProperty.call(s._props,e)&&s._props[e]===t))}getFirst(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("EntityCollection getFirst by expect propName and search to be strings");const s=this.getAll(e,t);if(s&&s.length)return s[0]}extract(e){if("string"!=typeof e)throw new TypeError("EntityCollection extract expects propName to be a string.");return this._items.reduce(((t,s)=>(void 0!==s._props[e]&&t.push(s._props[e]),t)),[])}push(e){return this._items.push(e),this._items.length}unshift(e){return this._items.unshift(e),this._items.length}filterByPropertyValueIn(e,t,s=!0){if("string"!=typeof e)throw new TypeError("EntityCollection filterByPropertyValueIn expects propName to be a string.");if(!Array.isArray(t))throw new TypeError("EntityCollection filterByPropertyValueIn expects needles to be an array.");this.filterByCallback((a=>{const n=Object.prototype.hasOwnProperty.call(a._props,e);return!(s&&!n||n&&!t.includes(a._props[e]))}))}filterByCallback(e){if("function"!=typeof e)throw new TypeError("EntityCollection filterByCallback expects callback to be a function.");for(let t=this._items.length-1;t>=0;t--)e(this._items[t])||this._items.splice(t,1)}assertUniqueByProperty(e,t){const s=`unique_${e}`,a=this.extract(e),n=new Set;t=t||`The collection should only contain items with unique values for the property: ${e}.`,a.forEach(((e,a)=>{if(n.add(e),a!==n.size-1)throw new Ze(a,s,t)}))}assertNotExist(e,t,s={}){if(void 0===t)return;let a=s?.haystackSet;if(!a){const t=this.extract(e);a=new Set(t)}if(a.has(t)){const t=new Y,a=s?.message||`The collection already includes an element that has a property (${e}) with an identical value.`;throw t.addError(e,"unique",a),t}}}const Je=Ye;class Xe extends Je{constructor(e,t={}){super(se.validate(Xe.ENTITY_NAME,e,Xe.getSchema()),t),this._props.forEach((e=>{this.push(e)})),this._props=null}static getSchema(){return{type:"array",items:Ke.getSchema()}}push(e){if(!e||"object"!=typeof e)throw new TypeError("ColumnsSettingCollection push parameter should be an object.");e instanceof Ke&&(e=e.toDto());const t=new Ke(e);this.assertUniqueId(t),super.push(t)}removeById(e){this._items=this.items.filter((t=>t.id!==e))}toHashTable(){return this.items.reduce(((e,t)=>(e[t.id]=t.toDto(),e)),{})}deepMerge(e){const t=e.toDto().reduce(((e,t)=>{const s=e.findIndex((e=>e.id===t.id));return s>-1?(e[s]=Object.assign(e[s],t),e):[...e,t]}),this.toDto());return new this.constructor(t)}updateColumnShowValueFromDefault(e,t){const s=t=>t.id===e,a=this.constructor.DEFAULT.items.find(s).toDto();a.show=t;const n=this.items.findIndex(s);this.items[n]=new Ke(a)}hasDifferentShowValue(e){return!e||this.items.some(((t,s)=>t?.show!==e.items[s]?.show))}assertUniqueId(e){this.items.forEach(((t,s)=>{if(t.id&&t.id===e.id)throw new Ze(s,Xe.RULE_UNIQUE_ID,`ColumnSetting id ${e.id} already exists.`)}))}static get ENTITY_NAME(){return"ColumnsSetting"}static get RULE_UNIQUE_ID(){return"unique_id"}static get DEFAULT(){return new Xe([])}static createFromDefault(e=null){return null!==e?this.DEFAULT.deepMerge(e):this.DEFAULT}}const Qe=Xe;class et extends ne{constructor(e,t={}){super(se.validate(et.ENTITY_NAME,e,et.getSchema()),t),this._props.columns_setting&&(this._columns_setting=new Qe(this._props.columns_setting,{clone:!1})),delete this._props._columns_setting,this._props.sorter&&(this._sorter=new Be(this._props.sorter,{clone:!1})),delete this._props.sorter}static getSchema(){return{type:"object",required:["columns_setting","sorter"],properties:{columns_setting:Qe.getSchema(),sorter:Be.getSchema()}}}toDto(e){const t=Object.assign({},this._props);return e?(this.columnsSetting&&e.columns_setting&&(t.columns_setting=this.columnsSetting.toDto()),this.sorter&&e.sorter&&(t.sorter=this.sorter.toDto()),t):t}toJSON(){return this.toDto(et.ALL_CONTAIN_OPTIONS)}get columnsSetting(){return this._columns_setting}get sorter(){return this._sorter}static get ENTITY_NAME(){return"GridUserSetting"}static get ALL_CONTAIN_OPTIONS(){return{columns_setting:!0,sorter:!0}}}const tt=et,st=class{constructor(e){this.port=e}async getSetting(){try{const e=await this.port.request("passbolt.resources.get-grid-setting");return null!==e?new tt(e):null}catch(e){return console.debug(e),null}}async setSetting(e){await this.port.request("passbolt.resources.set-grid-setting",e.toJSON())}},at=class extends Qe{static get DEFAULT(){return new Qe([{id:"favorite",label:"Favorite",position:1,show:!0},{id:"attentionRequired",label:"Attention",position:2,show:!0},{id:"name",label:"Name",position:3,show:!0},{id:"expired",label:"Expiry",position:4,show:!0},{id:"username",label:"Username",position:5,show:!0},{id:"password",label:"Password",position:6,show:!0},{id:"totp",label:"TOTP",position:7,show:!0},{id:"uri",label:"URI",position:8,show:!0},{id:"modified",label:"Modified",position:9,show:!0},{id:"location",label:"Location",position:10,show:!0}])}},nt=(e,t,s)=>{if(null===e)return"n/a";if("Infinity"===e)return t("Never");const a=We.c9.fromISO(e),n=a.diffNow().toMillis();return n>-1e3&&n<0?t("Just now"):a.toRelative({locale:s})},rt=(e,t,s)=>e?nt(e,t,s):t("Never"),it=e=>e?.toUTC().toISO()||null;function ot(){return ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ot.apply(null,arguments)}const lt=a.createContext({getSettings:()=>{},getDefaultExpirationDate:()=>{},findSettings:()=>{},isFeatureEnabled:()=>{}});class ct extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{settings:null,findSettings:this.findSettings.bind(this),getSettings:this.getSettings.bind(this),getDefaultExpirationDate:this.getDefaultExpirationDate.bind(this),isFeatureEnabled:this.isFeatureEnabled.bind(this)}}async findSettings(){if(!this.props.context.siteSettings.canIUse("passwordExpiry")||null!==this.getSettings())return;const e=await this.props.context.port.request("passbolt.password-expiry.get-or-find");this.setState({settings:e})}getSettings(){return this.state.settings}getDefaultExpirationDate(){if(!this.props.context.siteSettings.canIUse("passwordExpiryPolicies"))return null;const e=this.getSettings();if(!e?.default_expiry_period)return null;const t=e.default_expiry_period,s=We.c9.utc().plus({days:t});return it(s)}isFeatureEnabled(){const e=this.getSettings();return!(!this.props.context.siteSettings.canIUse("passwordExpiry")||!e)&&Boolean(e.id)}render(){return a.createElement(lt.Provider,{value:this.state},this.props.children)}}ct.propTypes={context:l().any,children:l().any,t:l().any};const dt=h((0,w.CI)("common")(ct));function ht(e){return class extends a.Component{render(){return a.createElement(lt.Consumer,null,(t=>a.createElement(e,ot({passwordExpiryContext:t},this.props))))}}}const mt=class{constructor(e={}){this.id=e.id,this.field=e.field,this.label=e.label,this.width=e.width,this.defaultWidth=e.defaultWidth,this.resizable=e.resizable,this.draggable=e.draggable,this.sortable=e.sortable,this.getValue=e.getValue,this.cellRenderer=e.cellRenderer,this.headerCellRenderer=e.headerCellRenderer}},pt="attentionRequired",ut="expired",gt="location",Ct="totp",bt="expired",Et=(e,t)=>t.split(".").reduce(((e,t)=>e?.[t]),e);function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ft.apply(null,arguments)}const yt=a.createContext({filter:{type:null,payload:null},sorter:{propertyName:"modified",asc:!1},filteredResources:[],selectedResources:[],columnsResourceSetting:[],details:{resource:null,folder:null},scrollTo:{resource:null},refresh:{permissions:!1},resourceFileToImport:null,resourceFileImportResult:null,lockDisplayDetail:!0,resourcesToExport:{resourcesIds:null,foldersIds:null},onLockDetail:()=>{},onResourceScrolled:()=>{},onResourceEdited:()=>{},onResourceDescriptionEdited:()=>{},onResourceDescriptionDecrypted:()=>{},onResourceShared:()=>{},onResourcePermissionsRefreshed:()=>{},onResourceCopied:()=>{},onResourcePreviewed:()=>{},onResourceActivitiesRefreshed:()=>{},onSorterChanged:()=>{},onResourceSelected:{all:()=>{},none:()=>{},multiple:()=>{},range:()=>{},single:()=>{}},onResourceFileToImport:()=>{},onResourceFileImportResult:()=>{},onResourcesToExport:()=>{},onGoToResourceUriRequested:()=>{},onChangeColumnView:()=>{},onChangeColumnsSettings:()=>{},getHierarchyFolderCache:()=>{}});class vt extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.initializeProperties(),this.gridResourceUserSetting=new st(e.context.port)}get defaultState(){return{filter:{type:xt.NONE},sorter:new Be({propertyName:"modified",asc:!1}),filteredResources:null,selectedResources:[],columnsResourceSetting:null,details:{resource:null,folder:null},scrollTo:{resource:null},refresh:{activities:!1,permissions:!1},resourceFileToImport:null,resourceFileImportResult:null,lockDisplayDetail:!0,resourcesToExport:null,onLockDetail:this.handleLockDetail.bind(this),onResourceScrolled:this.handleResourceScrolled.bind(this),onResourceEdited:this.handleResourceEdited.bind(this),onResourceDescriptionEdited:this.handleResourceDescriptionEdited.bind(this),onResourceDescriptionDecrypted:this.handleResourceDescriptionDecryted.bind(this),onResourceShared:this.handleResourceShared.bind(this),onResourcePermissionsRefreshed:this.handleResourcePermissionsRefreshed.bind(this),onResourceCopied:this.handleResourceCopied.bind(this),onResourcePreviewed:this.handleResourcePreviewed.bind(this),onResourceActivitiesRefreshed:this.handleResourceActivitiesRefreshed.bind(this),onSorterChanged:this.handleSorterChange.bind(this),onResourceSelected:{all:this.handleAllResourcesSelected.bind(this),none:this.handleNoneResourcesSelected.bind(this),multiple:this.handleMultipleResourcesSelected.bind(this),range:this.handleResourceRangeSelected.bind(this),single:this.handleResourceSelected.bind(this)},onResourceFileToImport:this.handleResourceFileToImport.bind(this),onResourceFileImportResult:this.handleResourceFileImportResult.bind(this),onResourcesToExport:this.handleResourcesToExportChange.bind(this),onGoToResourceUriRequested:this.onGoToResourceUriRequested.bind(this),onChangeColumnView:this.handleChangeColumnView.bind(this),onChangeColumnsSettings:this.handleChangeColumnsSettings.bind(this),getHierarchyFolderCache:this.getHierarchyFolderCache.bind(this)}}initializeProperties(){this.resources=null,this.folders=null,this.foldersMapById={},this.hierarchyFolderCache={}}async componentDidMount(){await this.props.passwordExpiryContext.findSettings(),this.loadGridResourceSetting(),this.populate(),this.handleResourcesWaitedFor()}async componentDidUpdate(e,t){await this.handleResourcesLoaded(),await this.handleFoldersChange(),await this.handleResourcesChange(),await this.handleRouteChange(e.location),await this.handleFilterChange(t.filter),await this.redirectAfterSelection()}isFilterEqual(e,t){if(e.type!==t.type)return!1;switch(e.type){case xt.GROUP:return e?.payload?.group?.id===t?.payload?.group?.id;case xt.FOLDER:return e?.payload?.folder?.id===t?.payload?.folder?.id;case xt.TAG:return e?.payload?.tag?.id===t?.payload?.tag?.id;case xt.TEXT:return e?.payload===t?.payload;default:return!0}}async handleFilterChange(e){if(!this.isFilterEqual(e,this.state.filter)){if(e.type===xt.NONE)return;await this.unselectAll(),this.state.filter.type!==xt.GROUP&&await this.populate()}}async handleFoldersChange(){this.props.context.folders!==this.folders&&(this.folders=this.props.context.folders,this.foldersMapById=this.folders.reduce(((e,t)=>(e[t.id]=t,e)),{}),this.hierarchyFolderCache={},await this.refreshSearchFilter(),await this.updateDetails())}async handleResourcesChange(){this.props.context.resources&&this.props.context.resources!==this.resources&&(this.resources=this.props.context.resources,await this.search(this.state.filter),await this.updateDetails(),await this.unselectUnknownResources())}async handleRouteChange(e){const t=this.props.location.key!==e.key,s=!this.props.location.key,a=this.state.filter.type===xt.NONE;!t&&!a||s||(await this.handleFolderRouteChange(),await this.handleResourceRouteChange())}async handleFolderRouteChange(){if(null===this.props.context.folders)return;const e=this.props.match.params.filterByFolderId;if(!e)return;const t=this.props.context.folders.find((t=>t.id===e));t?(await this.search({type:xt.FOLDER,payload:{folder:t}}),await this.detailFolder(t)):this.handleUnknownFolder()}async handleResourceRouteChange(){if(!this.props.location.pathname.includes("passwords"))return;if("expired"===this.props.match.params?.filterType)return void this.handleExpiredResourceRouteChange();const e=this.props.match.params.selectedResourceId;e?this.handleSingleResourceRouteChange(e):this.handleAllResourceRouteChange()}async handleSingleResourceRouteChange(e){if(null!==this.resources){const t=this.resources.find((t=>t.id===e));this.state.filter.type===xt.NONE&&await this.search({type:xt.ALL}),t?(await this.selectFromRoute(t),await this.scrollTo(t),await this.detailResource(t)):this.handleUnknownResource()}}async handleAllResourceRouteChange(){if(null===this.resources)return;const e=this.props.location.state?.filter||{type:xt.ALL},t=this.state.filter===e;await this.detailNothing(),t||await this.search(e)}async handleExpiredResourceRouteChange(){if(null===this.resources)return;const e={type:xt.EXPIRED},t=this.state.filter===e;await this.detailNothing(),t||await this.search(e)}async handleLockDetail(){const e=!this.state.lockDisplayDetail;this.setState({lockDisplayDetail:e})}handleUnknownResource(){this.props.actionFeedbackContext.displayError("The resource does not exist"),this.props.history.push({pathname:"/app/passwords"})}handleUnknownFolder(){this.props.actionFeedbackContext.displayError("The folder does not exist"),this.props.history.push({pathname:"/app/passwords"})}async handleResourceScrolled(){await this.scrollNothing()}async handleResourceEdited(){await this.refreshSelectedResourceActivities()}async handleResourceDescriptionEdited(){await this.refreshSelectedResourceActivities()}async handleResourceDescriptionDecryted(){await this.refreshSelectedResourceActivities()}async handleResourceShared(){await this.refreshSelectedResourceActivities(),await this.refreshSelectedResourcePermissions()}async handleResourcePermissionsRefreshed(){await this.setResourcesPermissionsAsRefreshed()}async handleResourceCopied(){await this.refreshSelectedResourceActivities()}async handleResourcePreviewed(){await this.refreshSelectedResourceActivities()}async handleResourceActivitiesRefreshed(){await this.setResourceActivitiesAsRefreshed()}async handleSorterChange(e){await this.updateSorter(e),await this.sort()}async handleAllResourcesSelected(){await this.selectAll(),await this.detailNothing()}async handleNoneResourcesSelected(){await this.unselectAll(),await this.detailNothing()}async handleMultipleResourcesSelected(e){await this.selectMultiple(e),await this.detailsResourceIfSingleSelection()}async handleResourceRangeSelected(e){await this.selectRange(e)}async handleResourceSelected(e){await this.select(e)}handleResourcesWaitedFor(){this.props.loadingContext.add()}handleResourcesLoaded(){null===this.resources&&this.props.context.resources&&(this.props.loadingContext.remove(),this.handleResourcesLoaded=()=>{})}async handleResourceFileToImport(e){await this.import(e)}async handleResourceFileImportResult(e){await this.updateImportResult(e)}async handleResourcesToExportChange({resourcesIds:e,foldersIds:t}){await this.updateResourcesToExport({resourcesIds:e,foldersIds:t})}onGoToResourceUriRequested(e){const t=qe(e,{whiteListedProtocols:St,defaultProtocol:je.HTTPS});t&&window.open(t,"_blank","noopener,noreferrer")}get canUseFolders(){return this.props.context.siteSettings.canIUse("folders")&&this.props.rbacContext.canIUseUiAction(R)}populate(){this.canUseFolders&&this.props.context.port.request("passbolt.folders.update-local-storage"),this.props.context.port.request("passbolt.resources.update-local-storage")}async search(e){if(null===this.state.columnsResourceSetting)return void this.setState({filter:e});const t=e.type===xt.RECENTLY_MODIFIED,s={[xt.ROOT_FOLDER]:this.searchByRootFolder.bind(this),[xt.FOLDER]:this.searchByFolder.bind(this),[xt.TAG]:this.searchByTag.bind(this),[xt.GROUP]:this.searchByGroup.bind(this),[xt.TEXT]:this.searchByText.bind(this),[xt.ITEMS_I_OWN]:this.searchByItemsIOwn.bind(this),[xt.FAVORITE]:this.searchByFavorite.bind(this),[xt.SHARED_WITH_ME]:this.seachBySharedWithMe.bind(this),[xt.RECENTLY_MODIFIED]:this.searchByRecentlyModified.bind(this),[xt.EXPIRED]:this.seachByExpired.bind(this),[xt.ALL]:this.searchAll.bind(this),[xt.NONE]:()=>{}};await s[e.type](e),t?await this.resetSorter():await this.sort()}async searchAll(e){await this.setState({filter:e,filteredResources:this.resources})}async searchByRootFolder(e){const t=this.resources.filter((e=>!e.folder_parent_id));await this.setState({filter:e,filteredResources:t})}async searchByFolder(e){const t=e.payload.folder.id,s=this.resources.filter((e=>e.folder_parent_id===t));await this.setState({filter:e,filteredResources:s})}async searchByTag(e){const t=e.payload.tag.id,s=this.resources.filter((e=>e.tags&&e.tags.length>0&&e.tags.filter((e=>e.id===t)).length>0));await this.setState({filter:e,filteredResources:s})}async searchByText(e){const t=e.payload,s=t&&t.split(/\s+/)||[""],a=this.props.context.siteSettings.canIUse("tags"),n={},r=(e,t)=>(e=>new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(e),"i"))(e).test(t),i=e=>this.foldersMapById[e],o=(e,t)=>{const s=e+t;return void 0===n[s]&&(n[s]=((e,t)=>((e,t)=>r(e,t?.name))(e,t)||t?.folder_parent_id&&o(e,t.folder_parent_id))(e,i(t))),n[s]},l=this.resources.filter((e=>s.every((t=>((e,t)=>((e,t)=>["name","username","description"].some((s=>r(e,t.metadata?.[s]))))(e,t)||((e,t)=>t.metadata?.uris?.some((t=>r(e,t))))(e,t)||a&&((e,t)=>t.tags?.some((t=>r(e,t.slug))))(e,t)||t?.folder_parent_id&&o(e,t.folder_parent_id))(t,e)))));await this.setState({filter:e,filteredResources:l})}async searchByGroup(e){this.isFilterEqual(this.state.filter,e)&&Boolean(this.state.filteredResources)||(this.props.loadingContext.add(),this.setState({filter:e,selectedResources:[]},(async()=>{const t=await this.props.context.port.request("passbolt.resources.find-all-ids-by-is-shared-with-group",e.payload.group.id)||[],s=this.resources.filter((e=>t.includes(e.id)));this.setState({filteredResources:s}),this.props.loadingContext.remove()})))}async searchByItemsIOwn(e){const t=this.resources.filter((e=>15===e.permission.type));await this.setState({filter:e,filteredResources:t})}async searchByFavorite(e){const t=this.resources.filter((e=>null!==e.favorite));await this.setState({filter:e,filteredResources:t})}async seachBySharedWithMe(e){const t=this.resources.filter((e=>e.permission.type<15));await this.setState({filter:e,filteredResources:t})}async searchByRecentlyModified(e){const t=this.resources.sort(((e,t)=>We.c9.fromISO(t.modified)<We.c9.fromISO(e.modified)?-1:1));await this.setState({filter:e,filteredResources:t})}async refreshSearchFilter(){if(this.state.filter.type===xt.FOLDER)if(this.folders.some((e=>e.id===this.state.filter.payload.folder.id))){const e=this.folders.find((e=>e.id===this.state.filter.payload.folder.id)),t=Object.assign(this.state.filter,{payload:{folder:e}});await this.setState({filter:t})}else{const e={type:xt.ALL};this.props.history.push({pathname:"/app/passwords",state:{filter:e}})}}async seachByExpired(e){const t=this.resources.filter((e=>e.expired&&new Date(e.expired)<=new Date));this.setState({filter:e,filteredResources:t})}async select(e){const t=1===this.state.selectedResources.length&&this.state.selectedResources[0].id===e.id;await this.setState({selectedResources:t?[]:[e]})}async selectFromRoute(e){if(1!==this.state.selectedResources.length||this.state.selectedResources[0].id!==e.id){const t=[e];await this.setState({selectedResources:t})}}async selectMultiple(e){const t=this.state.selectedResources.filter((t=>t.id!==e.id)),s=this.state.selectedResources.length!==t.length?t:[...this.state.selectedResources,e];await this.setState({selectedResources:s})}async selectRange(e){if(0===this.state.selectedResources.length)await this.select(e);else{const t=e=>t=>t.id===e.id,s=e=>this.state.filteredResources.findIndex(t(e)),a=s(this.state.selectedResources[0]),n=s(e);let r;r=a>n?this.state.filteredResources.slice(n,a+1).reverse():this.state.filteredResources.slice(a,n+1),await this.setState({selectedResources:r})}}async selectAll(){await this.setState({selectedResources:[...this.state.filteredResources]})}async unselectAll(){0!==this.state.selectedResources.length&&await this.setState({selectedResources:[]})}async unselectUnknownResources(){const e=this.resources.filter((e=>this.state.selectedResources.some((e=>t=>t.id===e.id)(e)))).filter((e=>this.state.filteredResources.includes(e)));await this.setState({selectedResources:e})}redirectAfterSelection(){if(null===this.resources||this.canUseFolders&&null===this.folders)return;if(1===this.state.selectedResources.length)return void(this.props.location.pathname!==`/app/passwords/view/${this.state.selectedResources[0].id}`&&this.props.history.push(`/app/passwords/view/${this.state.selectedResources[0].id}`));const{filter:e}=this.state;e.type!==xt.FOLDER?e.type!==xt.EXPIRED?"/app/passwords"!==this.props.location.pathname&&this.props.history.push({pathname:"/app/passwords",state:{filter:e}}):"/app/passwords/filter/expired"!==this.props.location.pathname&&this.props.history.push({pathname:"/app/passwords/filter/expired"}):this.props.location.pathname!==`/app/folders/view/${this.state.filter.payload.folder.id}`&&this.props.history.push({pathname:`/app/folders/view/${this.state.filter.payload.folder.id}`})}async updateSorter(e){const t=this.state.sorter.propertyName!==e||!this.state.sorter.asc,s=new Be({propertyName:e,asc:t});this.setState({sorter:s},(()=>this.updateGridSetting()))}async resetSorter(){const e=new Be({propertyName:"modified",asc:!1});this.setState({sorter:e},(()=>this.updateGridSetting()))}async sort(){const e=e=>this.state.sorter.asc?e:(e=>(t,s)=>-e(t,s))(e),t="favorite"===this.state.sorter.propertyName?(e,t)=>e===t?0:e?-1:1:(e,t)=>(e||"").localeCompare(t||""),s=((t,s)=>e(((e,a)=>s(Et(e,t),Et(a,t)))))(this.state.sorter.propertyName,t);null!==this.state.filteredResources&&await this.setState({filteredResources:[...this.state.filteredResources.sort(s)]})}async detailFolder(e){await this.setState({details:{folder:e,resource:null}})}async detailResource(e){await this.setState({details:{folder:null,resource:e}})}async detailNothing(){(this.state.details.resource||this.state.details.folder)&&await this.setState({details:{folder:null,resource:null}})}async detailsResourceIfSingleSelection(){1===this.state.selectedResources.length?await this.detailResource(this.state.selectedResources[0]):await this.detailNothing()}async updateDetails(){if(this.state.details.resource||this.state.details.folder)if(this.state.details.resource){const e=this.resources.find((e=>e.id===this.state.details.resource.id));await this.setState({details:{resource:e}})}else{const e=this.folders.find((e=>e.id===this.state.details.folder.id));await this.setState({details:{folder:e}})}}async scrollTo(e){await this.setState({scrollTo:{resource:e}})}async scrollNothing(){await this.setState({scrollTo:{}})}async refreshSelectedResourceActivities(){const e=Object.assign({},this.state.refresh,{activities:!0});await this.setState({refresh:e})}async setResourceActivitiesAsRefreshed(){const e=Object.assign({},this.state.refresh,{activities:!1});await this.setState({refresh:e})}async refreshSelectedResourcePermissions(){const e=Object.assign({},this.state.refresh,{permissions:!0});await this.setState({refresh:e})}async setResourcesPermissionsAsRefreshed(){const e=Object.assign({},this.state.refresh,{permissions:!1});await this.setState({refresh:e})}async import(e){await this.setState({resourceFileToImport:e})}async updateImportResult(e){await this.setState({resourceFileImportResult:e})}async updateResourcesToExport({resourcesIds:e,foldersIds:t}){await this.setState({resourcesToExport:{resourcesIds:e,foldersIds:t}})}async loadGridResourceSetting(){const e=await this.gridResourceUserSetting.getSetting(),t=at.createFromDefault(e?.columnsSetting);this.props.context.siteSettings.canIUse("totpResourceTypes")||t.removeById(Ct),this.props.passwordExpiryContext.isFeatureEnabled()||t.removeById(ut),this.hasAttentionRequiredColumn()||t.removeById(pt),this.canUseFolders||t.removeById(gt);const s=e?.sorter||this.state.sorter;this.setState({columnsResourceSetting:t,sorter:s},(async()=>{await this.search(this.state.filter);const e=this.state.selectedResources;1===e.length&&await this.scrollTo(e[0])}))}hasAttentionRequiredColumn(){return this.props.passwordExpiryContext.isFeatureEnabled()}async handleChangeColumnView(e,t){const s=new at(this.state.columnsResourceSetting.toDto());s.updateColumnShowValueFromDefault(e,t),this.setState({columnsResourceSetting:s},(()=>this.updateGridSetting()))}async handleChangeColumnsSettings(e){const t=this.state.columnsResourceSetting.deepMerge(new at(e));this.setState({columnsResourceSetting:t},(()=>this.updateGridSetting()))}async updateGridSetting(){const e=new tt({columns_setting:this.state.columnsResourceSetting.toDto(),sorter:this.state.sorter.toDto()});await this.gridResourceUserSetting.setSetting(e)}getHierarchyFolderCache(e){return null===e?[]:(void 0===this.hierarchyFolderCache[e]&&(this.hierarchyFolderCache[e]=this.getHierarchyFolder(e)),this.hierarchyFolderCache[e])}getHierarchyFolder(e){const t=[];let s=e;for(;s;){const e=this.foldersMapById[s];if(!e)return t;t.unshift(e),s=e.folder_parent_id}return t}render(){return a.createElement(yt.Provider,{value:this.state},this.props.children)}}vt.displayName="ResourceWorkspaceContextProvider",vt.propTypes={context:l().any,children:l().any,location:l().object,match:l().object,history:l().object,actionFeedbackContext:l().object,passwordExpiryContext:l().object,rbacContext:l().any,loadingContext:l().object};const kt=h(pe(ht(He(_e((0,i.y)(vt))))));function wt(e){return class extends a.Component{render(){return a.createElement(yt.Consumer,null,(t=>a.createElement(e,ft({resourceWorkspaceContext:t},this.props))))}}}const xt={NONE:"NONE",ALL:"ALL",FOLDER:"FILTER-BY-FOLDER",ROOT_FOLDER:"FILTER-BY-ROOT-FOLDER",TAG:"FILTER-BY-TAG",GROUP:"FILTER-BY-GROUP",TEXT:"FILTER-BY-TEXT-SEARCH",ITEMS_I_OWN:"FILTER-BY-ITEMS-I-OWN",FAVORITE:"FILTER-BY-FAVORITE",SHARED_WITH_ME:"FILTER-BY-SHARED-WITH-ME",RECENTLY_MODIFIED:"FILTER-BY-RECENTLY-MODIFIED",EXPIRED:"FILTER-BY-EXPIRED"},St=[je.FTP,je.FTPS,je.HTTPS,je.HTTP,je.SSH];function Nt(){return Nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Nt.apply(null,arguments)}const Rt=a.createContext({policies:null,getPolicies:()=>{},findPolicies:()=>{},shouldRunDictionaryCheck:()=>{}});class It extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{policies:null,getPolicies:this.getPolicies.bind(this),findPolicies:this.findPolicies.bind(this),shouldRunDictionaryCheck:this.shouldRunDictionaryCheck.bind(this)}}async findPolicies(){if(null!==this.getPolicies())return;const e=await this.props.context.port.request("passbolt.password-policies.get");this.setState({policies:e})}getPolicies(){return this.state.policies}shouldRunDictionaryCheck(){return Boolean(this.state.policies?.external_dictionary_check)}render(){return a.createElement(Rt.Provider,{value:this.state},this.props.children)}}It.propTypes={context:l().any,children:l().any};const _t=h(It);function Dt(e){return class extends a.Component{render(){return a.createElement(Rt.Consumer,null,(t=>a.createElement(e,Nt({passwordPoliciesContext:t},this.props))))}}}function Tt(){return Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Tt.apply(null,arguments)}const Pt=a.createContext({settings:null,lastGeneratedPassword:null,getSettings:()=>{},onPasswordGenerated:()=>{},consumeLastGeneratedPassword:()=>{},resetSecretGeneratorSettings:()=>{}});class At extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{settings:null,lastGeneratedPassword:null,onPasswordGenerated:this.onPasswordGenerated.bind(this),getSettings:this.getSettings.bind(this),consumeLastGeneratedPassword:this.consumeLastGeneratedPassword.bind(this),resetSecretGeneratorSettings:this.resetSecretGeneratorSettings.bind(this)}}componentDidMount(){this.resetSecretGeneratorSettings()}async resetSecretGeneratorSettings(){await this.props.passwordPoliciesContext.findPolicies();const e=this.props.passwordPoliciesContext.getPolicies();this.setState({settings:e})}getSettings(){return this.state.settings}onPasswordGenerated(e,t){this.setState({lastGeneratedPassword:e,settings:t})}consumeLastGeneratedPassword(){const e=this.state.lastGeneratedPassword;return this.setState({lastGeneratedPassword:null}),e}render(){return a.createElement(Pt.Provider,{value:this.state},this.props.children)}}At.displayName="ResourcePasswordGeneratorContextProvider",At.propTypes={context:l().any,passwordPoliciesContext:l().object,children:l().any};const Mt=h(Dt(At));function Ut(e){return class extends a.Component{render(){return a.createElement(Pt.Consumer,null,(t=>a.createElement(e,Tt({resourcePasswordGeneratorContext:t},this.props))))}}}var Ft=s(12121),Lt=s.n(Ft);class Ot extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.getClassName=this.getClassName.bind(this)}getClassName(){let e="button primary";return this.props.warning?e+=" warning":this.props.attention&&(e+=" attention"),this.props.disabled&&(e+=" disabled"),this.props.processing&&(e+=" processing"),this.props.big&&(e+=" big"),this.props.medium&&(e+=" medium"),this.props.fullWidth&&(e+=" full-width"),e}render(){return a.createElement("button",{type:"submit",className:this.getClassName(),disabled:this.props.disabled},this.props.value||a.createElement(w.x6,null,"Save"),this.props.processing&&a.createElement(ge,{name:"spinner"}))}}Ot.defaultProps={warning:!1,attention:!1},Ot.propTypes={processing:l().bool,disabled:l().bool,value:l().oneOfType([l().arrayOf(l().node),l().node,l().string]),warning:l().bool,attention:l().bool,big:l().bool,medium:l().bool,fullWidth:l().bool};const Vt=(0,w.CI)("common")(Ot);class Ht extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleClick=this.handleClick.bind(this)}handleClick(){this.props.disabled||this.props.onClick()}render(){return a.createElement("button",{type:"button",disabled:this.props.disabled,className:"link cancel",onClick:this.handleClick},this.props.value)}}Ht.defaultProps={value:a.createElement(w.x6,null,"Cancel")},Ht.propTypes={disabled:l().bool,onClick:l().func,value:l().oneOfType([l().arrayOf(l().node),l().node,l().string])};const qt=(0,w.CI)("common")(Ht);var jt=s(76459),Wt=s.n(jt);const zt=/img\/avatar\/user(_medium)?\.png$/;class Bt extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{error:!1}}bindCallbacks(){this.handleError=this.handleError.bind(this)}get avatarUrl(){return this.props?.user?.profile?.avatar?.url?.medium}propsHasUrl(){return Boolean(this.avatarUrl)}propsUrlHasProtocol(){return this.avatarUrl.startsWith("https://")||this.avatarUrl.startsWith("http://")}formatUrl(e){return`${this.props.baseUrl}/${e}`}isDefaultAvatarUrlFromApi(){return zt.test(this.avatarUrl)}getAvatarSrc(){return this.propsHasUrl()?this.propsUrlHasProtocol()?this.avatarUrl:this.formatUrl(this.avatarUrl):null}handleError(){console.error(`Could not load avatar image url: ${this.getAvatarSrc()}`),this.setState({error:!0})}getAltText(){const e=this.props?.user;return e?.first_name&&e?.last_name?this.props.t("Avatar of user {{first_name}} {{last_name}}.",{firstname:e.first_name,lastname:e.last_name}):"..."}render(){const e=this.getAvatarSrc(),t=this.state.error||this.isDefaultAvatarUrlFromApi()||!e;return a.createElement("div",{className:`${this.props.className} ${this.props.attentionRequired?"attention-required":""}`},t&&a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42 42","aria-labelledby":"svg-title"},a.createElement("title",{id:"svg-title"},this.getAltText()),a.createElement("circle",{fill:"#939598",cx:"21",cy:"21",r:"21"}),a.createElement("path",{fill:"#ffffff",d:"m21,23.04c-4.14,0-7.51-3.37-7.51-7.51s3.37-7.51,7.51-7.51,7.51,3.37,7.51,7.51-3.37,7.51-7.51,7.51Z"}),a.createElement("path",{fill:"#ffffff",d:"m27.17,26.53h-12.33c-2.01,0-3.89.78-5.31,2.2-1.42,1.42-2.2,3.3-2.2,5.31v1.15c3.55,3.42,8.36,5.53,13.67,5.53s10.13-2.11,13.67-5.53v-1.15c0-2.01-.78-3.89-2.2-5.31-1.42-1.42-3.3-2.2-5.31-2.2Z"})),!t&&a.createElement("img",{src:e,onError:this.handleError,alt:this.getAltText()}),this.props.attentionRequired&&a.createElement(ge,{name:"exclamation"}))}}Bt.defaultProps={className:"avatar user-avatar"},Bt.propTypes={baseUrl:l().string,user:l().object,attentionRequired:l().bool,className:l().string,t:l().func};const Gt=(0,w.CI)("common")(Bt);class Kt extends a.Component{getAltText(){return this.props.t("Avatar of the {{group_name}} group.",{group_name:this.props.group?.name})}render(){return a.createElement("div",{className:"avatar user-avatar"},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42 42","aria-labelledby":"svg-title"},a.createElement("title",{id:"svg-title"},this.getAltText()),a.createElement("circle",{fill:"#939598",cx:"21",cy:"21",r:"21"}),a.createElement("path",{fill:"white",d:"m36.59,24.69h-9.55c-.94,0-1.84.23-2.66.64h2.68c2.32,0,4.49.9,6.13,2.54,1.54,1.54,2.42,3.56,2.52,5.72,1.94-2.26,3.35-4.97,4.09-7.94-.94-.63-2.05-.96-3.21-.96Zm-9.65,1.84h-12.33c-2.01,0-3.89.78-5.31,2.2-1.42,1.42-2.2,3.3-2.2,5.31v.44c3.53,3.64,8.45,5.91,13.9,5.91s9.96-2.08,13.45-5.45v-.89c0-2.01-.78-3.89-2.2-5.31-1.42-1.42-3.3-2.2-5.31-2.2Zm1.02-6.02c1.03.91,2.38,1.48,3.86,1.48,3.21,0,5.81-2.61,5.81-5.81s-2.61-5.81-5.81-5.81c-1.24,0-2.39.39-3.33,1.06.66,1.23,1.04,2.63,1.04,4.12,0,1.85-.58,3.56-1.56,4.97Zm-7.19,2.53c4.14,0,7.51-3.37,7.51-7.51s-3.37-7.51-7.51-7.51-7.51,3.37-7.51,7.51,3.37,7.51,7.51,7.51Z"}),a.createElement("path",{fill:"white",d:"m32.25,28.73c-1.42-1.42-3.3-2.2-5.31-2.2h-12.33c-2.01,0-3.89.78-5.31,2.2-1.42,1.42-2.2,3.3-2.2,5.31v.44c3.53,3.64,8.45,5.91,13.9,5.91s9.96-2.08,13.45-5.45v-.89c0-2.01-.78-3.89-2.2-5.31Zm-11.48-5.69c4.14,0,7.51-3.37,7.51-7.51s-3.37-7.51-7.51-7.51-7.51,3.37-7.51,7.51,3.37,7.51,7.51,7.51Zm-6.28,2.29h2.14c-.13-.19-.28-.37-.44-.54-.79-.79-1.85-1.23-2.97-1.23h-6.9c-1.12,0-2.18.44-2.97,1.23-.44.44-.76.97-.97,1.54.71,2.49,1.91,4.78,3.49,6.75.21-1.97,1.07-3.8,2.49-5.21,1.63-1.64,3.81-2.54,6.13-2.54Zm-4.72-3.72c1.4,0,2.64-.7,3.41-1.76-.73-1.27-1.15-2.74-1.15-4.31,0-.53.06-1.05.15-1.56-.68-.48-1.51-.77-2.41-.77-2.32,0-4.2,1.88-4.2,4.2s1.88,4.2,4.2,4.2Z"})))}}Kt.propTypes={group:l().object,t:l().func};const $t=(0,w.CI)("common")(Kt),Zt=e=>Boolean(e?.disabled&&new Date(e.disabled)<=new Date),Yt=e=>Boolean(e?.deleted)?"deleted":Zt(e)?"suspended":"active";class Jt extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{hasToDisplayTooltip:!1,direction:"",top:0,left:0}}bindCallbacks(){this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.findBestPosition=this.findBestPosition.bind(this)}createRefs(){this.tooltipRef=a.createRef(),this.tooltipTextRef=a.createRef()}handleMouseEnter(){this.props.onMouseHover?.(),this.setState({hasToDisplayTooltip:!0},this.findBestPosition)}handleMouseLeave(){this.setState({hasToDisplayTooltip:!1,direction:""})}findBestPosition(){const e=this.tooltipRef.current.getBoundingClientRect(),t=this.tooltipTextRef.current.getBoundingClientRect(),{innerHeight:s,innerWidth:a}=window,n=e.top+e.height/2-t.height/2,r=e.left+e.width/2-t.width/2;n+t.height<=s&&n>=0?e.right+t.width<=a?this.setState({direction:"right",left:e.right+10,top:n}):e.left-t.width>0&&this.setState({direction:"left",left:e.left-t.width-10,top:n}):r>=0&&r+t.width<=a?e.top-t.height<=0?this.setState({direction:"bottom",left:r,top:e.bottom+10}):e.top-t.height<=s&&this.setState({direction:"top",left:r,top:e.top-t.height-10}):this.findPositionWithMoreSpace(e,t,n,r)}findPositionWithMoreSpace(e,t,s,a){const{innerHeight:n,innerWidth:r}=window,i=n-e.top+r-a,o=n-e.bottom+r-a,l=r-e.right+n-s,c=r-e.left+n-s;l>c&&l>i&&l>o?this.setState({direction:"right",left:e.right-e.width/2,top:s}):c>i&&c>o?this.setState({direction:"left",left:e.left+e.width/2,top:s}):i>o?this.setState({direction:"top",left:a,top:e.top-t.height}):this.setState({direction:"bottom",left:a,top:e.bottom})}render(){return a.createElement("div",{className:"tooltip-portal",tabIndex:"0",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},a.createElement("span",{ref:this.tooltipRef},this.props.children),this.state.hasToDisplayTooltip&&(0,n.createPortal)(a.createElement("span",{ref:this.tooltipTextRef,className:`tooltip-portal-text ${this.state.direction}`,style:{top:`${this.state.top}px`,left:`${this.state.left}px`}},this.props.message),document.body))}}Jt.propTypes={children:l().any,message:l().any.isRequired,onMouseHover:l().func};const Xt=Jt;class Qt extends a.Component{render(){return a.createElement("div",{className:"fingerprint skeleton"},a.createElement("div",{className:"fingerprint-line"},""),a.createElement("div",{className:"fingerprint-line"},""),a.createElement("div",{className:"shimmer shimmer-tooltip"}))}}const es=Qt;class ts extends a.Component{render(){return a.createElement("div",{className:"fingerprint"},a.createElement("div",{className:"fingerprint-line"},this.props.fingerprint?.substring(0,20)?.replace(/.{4}/g,"$& ")),a.createElement("div",{className:"fingerprint-line"},this.props.fingerprint?.substring(20)?.replace(/.{4}/g,"$& ")))}}ts.propTypes={fingerprint:l().string.isRequired};const ss=ts;class as extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{tooltipFingerprintMessage:null}}bindCallbacks(){this.handleClick=this.handleClick.bind(this),this.onTooltipFingerprintMouseHover=this.onTooltipFingerprintMouseHover.bind(this)}getTitle(){return this.props.user?`${this.props.user.profile.first_name} ${this.props.user.profile.last_name}`:`${this.props.group.name}`}getSubtitle(){return this.props.user?this.props.user.username:this.props.group?this.props.t("{{count}} group member",{count:this.props.group.user_count}):""}async onTooltipFingerprintMouseHover(){if(this.state.tooltipFingerprintMessage)return;const e=await this.props.context.port.request("passbolt.keyring.get-public-key-info-by-user",this.props.user.id),t=a.createElement(ss,{fingerprint:e.fingerprint});this.setState({tooltipFingerprintMessage:t})}getClassName(){return this.props.selected?"row selected":"row"}handleClick(){this.props.onClick(this.props.id)}get isCurrentUserSuspended(){return this.props.canShowUserAsSuspended&&Zt(this.props.user)}render(){return a.createElement("li",{className:"autocomplete-item "+(this.isCurrentUserSuspended?"suspended":"")},a.createElement("div",{className:this.getClassName()},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell "},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleClick},this.props.user&&a.createElement(Gt,{user:this.props.user,baseUrl:this.props.baseUrl}),this.props.group&&a.createElement($t,{group:this.props.group}),a.createElement("div",{className:"user"},a.createElement("span",{className:"user-fullname-container"},a.createElement("span",{className:"name ellipsis"},this.getTitle(),this.isCurrentUserSuspended&&a.createElement("span",{className:"suspended"}," ",a.createElement(w.x6,null,"(suspended)"))),this.props.user&&a.createElement(Xt,{message:this.state.tooltipFingerprintMessage||a.createElement(es,null),direction:"auto",onMouseHover:this.onTooltipFingerprintMouseHover},a.createElement(ge,{name:"info-circle",baseline:!0}))),a.createElement("span",{className:"details ellipsis"},this.getSubtitle())))))))}}as.defaultProps={canShowUserAsSuspended:!1},as.propTypes={context:l().object,baseUrl:l().string,id:l().number,user:l().object,group:l().object,selected:l().bool,onClick:l().func,canShowUserAsSuspended:l().bool.isRequired,t:l().func};const ns=h((0,w.CI)("common")(as));class rs extends a.Component{render(){return a.createElement("li",null,a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("p",null,"No one found")))))}}const is=rs;class os extends a.Component{render(){return a.createElement("li",null,a.createElement("div",{className:"row loading"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("div",{className:"loading"},a.createElement(ge,{name:"spinner"})),a.createElement("div",{className:"info"},a.createElement("span",{className:"name"},"Loading..."),a.createElement("span",{className:"details"},"Please wait."))))))}}const ls=os;class cs extends a.Component{constructor(e){super(e),this.bindCallbacks(),this.createInputRefs(),this.state=this.getDefaultState(),this.cache={},this.cacheExpiry=1e4}getDefaultState(){return{loading:!0,processing:!1,selected:null,autocompleteItems:null,name:"loading...",nameError:!1}}componentDidMount(){this.setState({loading:!1,name:""},(()=>{this.inputRef.current.focus()})),document.addEventListener("keydown",this.handleKeyDown,{capture:!0})}componentDidUpdate(e){e.disabled!==this.props.disabled&&this.inputRef.current.focus()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,{capture:!0})}createInputRefs(){this.listRef=a.createRef(),this.inputRef=a.createRef()}bindCallbacks(){this.handleKeyDown=this.handleKeyDown.bind(this),this.selectNext=this.selectNext.bind(this),this.selectPrevious=this.selectPrevious.bind(this),this.handleAutocompleteChangeDebounced=Wt()(this.handleAutocompleteChange.bind(this),300),this.handleSelect=this.handleSelect.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}async getItems(e){return this.setState({processing:!0}),await this.props.searchCallback(e)}async autocompleteSearch(e){if(!this.cache[e]||this.cache[e].cacheExpiry<(new Date).getTime()){const t=await this.getItems(e);this.cache[e]=t,this.cache[e].cacheExpiry=(new Date).getTime()+this.cacheExpiry}return this.cache[e]}closeAutocomplete(){this.cache={},this.setState({processing:!1,autocompleteItems:null,selected:null}),this.props.onClose()}handleKeyDown(e){if(!this.state.disabled&&!this.state.processing&&null!==this.state.autocompleteItems){if(40===e.keyCode)return e.preventDefault(),void this.selectNext();if(38===e.keyCode)return e.preventDefault(),void this.selectPrevious();if(13===e.keyCode||9===e.keyCode){if(null===this.state.selected)return;e.preventDefault(),this.handleSelect(this.state.selected)}}}handleSelect(e){const t=this.state.autocompleteItems[e];this.cache={},this.setState({name:""}),this.props.onSelect(t),this.closeAutocomplete()}handleInputChange(e){const t=e.target,s="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState({[a]:s}),"name"===a&&this.handleNameUpdate(s)}handleNameUpdate(e){e?e.endsWith(" ")||this.handleAutocompleteChangeDebounced(e):this.closeAutocomplete()}async handleAutocompleteChange(e){if(e)try{const t=await this.autocompleteSearch(e);let s=null;if(t.length>0&&(s=0),this.props.onOpen(),e===this.state.name)return new Promise((e=>{this.setState({autocompleteItems:t,processing:!1,selected:s},e())}))}catch(e){console.error(e),this.closeAutocomplete(),this.setState({serviceError:e.message})}else this.closeAutocomplete()}selectPrevious(){0===this.state.selected||null===this.state.selected?this.setState({selected:this.state.autocompleteItems.length-1}):this.setState({selected:this.state.selected-1}),this.scrollToSelectedItem()}selectNext(){null===this.state.selected||this.state.selected===this.state.autocompleteItems.length-1?this.setState({selected:0}):this.setState({selected:this.state.selected+1}),this.scrollToSelectedItem()}isItemSelected(e){return null!==this.state.selected&&e===this.state.selected}getPlaceholder(){return this.props.disabled?"please wait...":this.props.placeholder}isInputDisabled(){return this.state.loading||this.props.disabled}scrollToSelectedItem(){if(this.state.autocompleteItems&&0!==this.state.autocompleteItems.length){const e=this.listRef.current.scrollHeight/this.state.autocompleteItems.length,t=this.listRef.current.clientHeight,s=t-e*Math.round(t/e),a=e*this.state.selected,n=this.listRef.current.scrollTop;0===a?this.listRef.current.scrollTop=0:a-s<n?this.listRef.current.scrollTop=this.listRef.current.scrollTop-t:a>n+t&&(this.listRef.current.scrollTop=a)}else this.listRef.current.scrollTop=0}static get DISPLAY_LIMIT(){return 10}render(){return a.createElement("div",null,a.createElement("div",null,a.createElement("div",{className:"input text autocomplete "+(this.isInputDisabled()?"disabled":"")},a.createElement("label",{htmlFor:this.props.id},this.props.label),a.createElement("input",{id:this.props.id,name:this.props.name,ref:this.inputRef,maxLength:"64",type:"text",placeholder:this.getPlaceholder(),autoComplete:"off",value:this.state.name,disabled:this.isInputDisabled(),onChange:this.handleInputChange})),(this.state.processing||this.state.autocompleteItems)&&a.createElement("div",{className:"autocomplete-wrapper"},a.createElement("div",{className:"autocomplete-content scroll",ref:this.listRef},a.createElement("ul",null,this.state.processing&&this.state.name&&a.createElement(ls,null),!this.state.processing&&(!this.state.autocompleteItems||!this.state.autocompleteItems.length)&&a.createElement(is,null),!this.state.processing&&this.state.autocompleteItems&&this.state.autocompleteItems.map(((e,t)=>e.username?a.createElement(ns,{key:t,id:t,onClick:this.handleSelect,baseUrl:this.props.baseUrl,canShowUserAsSuspended:this.props.canShowUserAsSuspended,user:e,selected:this.isItemSelected(t)}):a.createElement(ns,{key:t,id:t,group:e,selected:this.isItemSelected(t),onClick:this.handleSelect,baseUrl:this.props.baseUrl}))))))))}}cs.defaultProps={canShowUserAsSuspended:!1},cs.propTypes={baseUrl:l().string,id:l().string,searchCallback:l().func,onSelect:l().func,onOpen:l().func,onClose:l().func,label:l().string,disabled:l().bool,name:l().string,placeholder:l().string,canShowUserAsSuspended:l().bool.isRequired};const ds=cs;class hs extends a.Component{render(){return a.createElement("li",{className:"row skeleton"},a.createElement("div",{className:"avatar"}),a.createElement("div",{className:"aro"},a.createElement("div",{className:"aro-name"}),a.createElement("div",{className:"aro-details"})),a.createElement("div",{className:"select rights"}),a.createElement("div",{className:"actions"}),a.createElement("div",{className:"shimmer"}))}}hs.propTypes={};const ms=hs,ps=new class{allPropTypes=(...e)=>(...t)=>{const s=e.map((e=>e(...t))).filter(Boolean);if(0===s.length)return;const a=s.map((e=>e.message)).join("\n");return new Error(a)}};class us extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(e),this.bindCallback(),this.createRefs()}getDefaultState(e){return{selectedValue:e.value,search:"",open:!1,style:void 0}}get listItemsFiltered(){const e=this.props.items.filter((e=>e.value!==this.state.selectedValue));return this.props.search&&""!==this.state.search?this.getItemsMatch(e,this.state.search):e}get selectedItemLabel(){const e=this.props.items&&this.props.items.find((e=>e.value===this.state.selectedValue));return e&&e.label||a.createElement(a.Fragment,null,"")}static getDerivedStateFromProps(e,t){return void 0!==e.value&&e.value!==t.selectedValue?{selectedValue:e.value}:null}bindCallback(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDocumentContextualMenuEvent=this.handleDocumentContextualMenuEvent.bind(this),this.handleDocumentDragStartEvent=this.handleDocumentDragStartEvent.bind(this),this.handleDocumentScrollEvent=this.handleDocumentScrollEvent.bind(this),this.handleSelectClick=this.handleSelectClick.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleItemClick=this.handleItemClick.bind(this),this.handleSelectKeyDown=this.handleSelectKeyDown.bind(this),this.handleItemKeyDown=this.handleItemKeyDown.bind(this),this.handleBlur=this.handleBlur.bind(this)}createRefs(){this.selectedItemRef=a.createRef(),this.selectItemsRef=a.createRef(),this.itemsRef=a.createRef()}componentDidMount(){document.addEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.addEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.addEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0}),document.addEventListener("scroll",this.handleDocumentScrollEvent,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.removeEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.removeEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0}),document.removeEventListener("scroll",this.handleDocumentScrollEvent,{capture:!0})}handleDocumentClickEvent(e){this.selectedItemRef.current.contains(e.target)||this.selectItemsRef.current.contains(e.target)||this.closeSelect()}handleDocumentContextualMenuEvent(e){this.selectedItemRef.current.contains(e.target)||this.selectItemsRef.current.contains(e.target)||this.closeSelect()}handleDocumentDragStartEvent(){this.closeSelect()}handleDocumentScrollEvent(e){this.itemsRef.current.contains(e.target)||this.closeSelect()}handleSelectClick(){if(this.props.disabled)this.closeSelect();else{const e=!this.state.open;e?this.forceVisibilitySelect():this.resetStyleSelect(),this.setState({open:e})}}getFirstParentWithTransform(){let e=this.selectedItemRef.current.parentElement;for(;null!==e&&""===e.style.getPropertyValue("transform");)e=e.parentElement;return e}forceVisibilitySelect(){const e=this.selectedItemRef.current.getBoundingClientRect(),{width:t,height:s}=e;let{top:a,left:n}=e;const r=this.getFirstParentWithTransform();if(r){const e=r.getBoundingClientRect();a-=e.top,n-=e.left}const i={position:"fixed",zIndex:1,width:t,height:s,top:a,left:n};this.setState({style:i})}handleBlur(e){e.currentTarget.contains(e.relatedTarget)||this.closeSelect()}closeSelect(){this.resetStyleSelect(),this.setState({open:!1})}resetStyleSelect(){this.setState({style:void 0})}handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.setState({[a]:s})}handleItemClick(e){if(this.setState({selectedValue:e.value,open:!1}),"function"==typeof this.props.onChange){const t={target:{value:e.value,name:this.props.name}};this.props.onChange(t)}this.closeSelect()}getItemsMatch(e,t){const s=t&&t.split(/\s+/)||[""];return e.filter((e=>s.every((t=>((e,t)=>(e=>new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(e),"i"))(e).test(t))(t,e.label)))))}handleSelectKeyDown(e){switch(e.keyCode){case 13:return e.stopPropagation(),void this.handleSelectClick();case 40:return e.preventDefault(),e.stopPropagation(),void(this.state.open?this.focusItem(0):this.handleSelectClick());case 38:return e.preventDefault(),e.stopPropagation(),void(this.state.open?this.focusItem(this.listItemsFiltered.length-1):this.handleSelectClick());case 27:return e.stopPropagation(),void this.closeSelect();default:return}}focusItem(e){this.itemsRef.current.childNodes[e]?.focus()}handleItemKeyDown(e,t){switch(e.keyCode){case 13:return e.stopPropagation(),void this.handleItemClick(t);case 40:return e.stopPropagation(),e.preventDefault(),void(e.target.nextSibling?e.target.nextSibling.focus():this.focusItem(0));case 38:return e.stopPropagation(),e.preventDefault(),void(e.target.previousSibling?e.target.previousSibling.focus():this.focusItem(this.listItemsFiltered.length-1));default:return}}hasFilteredItems(){return this.listItemsFiltered.length>0}render(){return a.createElement("div",{className:`select-container ${this.props.className}`,style:{width:this.state.style?.width,height:this.state.style?.height}},a.createElement("div",{onKeyDown:this.handleSelectKeyDown,onBlur:this.handleBlur,id:this.props.id,className:`select ${this.props.direction} ${this.state.open?"open":""}`,style:this.state.style},a.createElement("div",{ref:this.selectedItemRef,className:"selected-value "+(this.props.disabled?"disabled":""),tabIndex:this.props.disabled?-1:0,onClick:this.handleSelectClick},a.createElement("span",{className:"value"},this.selectedItemLabel),a.createElement(ge,{name:"caret-down"})),a.createElement("div",{ref:this.selectItemsRef,className:"select-items "+(this.state.open?"visible":"")},this.props.search&&a.createElement(a.Fragment,null,a.createElement("input",{className:"search-input",name:"search",value:this.state.search,onChange:this.handleInputChange,type:"text"}),a.createElement(ge,{name:"search"})),a.createElement("ul",{ref:this.itemsRef,className:"items"},this.hasFilteredItems()&&this.listItemsFiltered.map((e=>a.createElement("li",{tabIndex:e.disabled?-1:0,key:e.value,className:`option ${e.value}`,onKeyDown:t=>this.handleItemKeyDown(t,e),onClick:()=>this.handleItemClick(e)},e.label))),!this.hasFilteredItems()&&this.props.search&&a.createElement("li",{className:"option no-results"},a.createElement(w.x6,null,"No results match")," ",a.createElement("span",null,this.state.search))))))}}us.defaultProps={id:"",name:"select",className:"",direction:"bottom"},us.propTypes={id:l().string,name:l().string,className:l().string,direction:l().oneOf(Object.values({top:"top",bottom:"bottom",left:"left",right:"right"})),search:l().bool,items:l().array,value:ps.allPropTypes(l().oneOfType([l().string,l().number,l().bool]),((e,t,s)=>{const a=e[t],n=e.items;if(null!==a&&n.length>0&&n.every((e=>e.value!==a)))return new Error(`Invalid prop ${t} passed to ${s}. Expected the value ${a} in items.`)})),disabled:l().bool,onChange:l().func};const gs=(0,w.CI)("common")(us);class Cs extends a.Component{render(){return a.createElement("div",{className:"group-user-details-tooltip skeleton"},a.createElement("div",{className:"email"},""),a.createElement("div",{className:"fingerprint"},a.createElement("div",{className:"fingerprint-line"},""),a.createElement("div",{className:"fingerprint-line"},"")),a.createElement("div",{className:"shimmer shimmer-tooltip"}))}}const bs=Cs;class Es extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{tooltipFingerprintMessage:null}}bindCallbacks(){this.onTooltipFingerprintMouseHover=this.onTooltipFingerprintMouseHover.bind(this)}getUserFullname(){const e=this.props.groupUser.user;return`${e.profile.first_name} ${e.profile.last_name}`}isUserSuspended(e){return this.props.context.siteSettings.canIUse("disableUser")&&Zt(e)}get isManagerSelectOptions(){return[{value:!1,label:a.createElement(w.x6,null,"Member")},{value:!0,label:a.createElement(w.x6,null,"Group manager")}]}async onTooltipFingerprintMouseHover(){if(this.state.tooltipFingerprintMessage)return;const e=await this.props.context.port.request("passbolt.keyring.get-public-key-info-by-user",this.props.groupUser.user.id),t=a.createElement("div",{className:"group-user-details-tooltip"},a.createElement("div",{className:"email ellipsis"},a.createElement("strong",null,this.props.groupUser.user.username)),a.createElement(ss,{fingerprint:e.fingerprint}));this.setState({tooltipFingerprintMessage:t})}render(){const e=this.isUserSuspended(this.props.groupUser.user);return a.createElement("li",{className:`row ${this.props.isMemberChanged?"permission-updated":""} ${e?"suspended":""}`},a.createElement(Gt,{baseUrl:this.props.context.userSettings.getTrustedDomain(),user:this.props.groupUser.user}),a.createElement("div",{className:"aro"},a.createElement("div",{className:"aro-name"},a.createElement("span",{className:"ellipsis"},this.getUserFullname(),e&&a.createElement("span",{className:"suspended"}," ",a.createElement(w.x6,null,"(suspended)"))),a.createElement(Xt,{message:this.state.tooltipFingerprintMessage||a.createElement(bs,null),direction:"auto",onMouseHover:this.onTooltipFingerprintMouseHover},a.createElement(ge,{name:"info-circle",baseline:!0}))),a.createElement("div",{className:"permission_changes"},this.props.isMemberAdded&&a.createElement("span",null,a.createElement(w.x6,null,"Will be added")),this.props.isMemberChanged&&!this.props.isMemberAdded&&a.createElement("span",null,a.createElement(w.x6,null,"Will be updated")),!this.props.isMemberChanged&&!this.props.isMemberAdded&&a.createElement("span",null,a.createElement(w.x6,null,"Unchanged")))),a.createElement("div",{className:"rights"},a.createElement(gs,{className:"permission inline",value:this.props.groupUser.is_admin,items:this.isManagerSelectOptions,onChange:e=>this.props.onMemberRoleChange(e,this.props.groupUser),disabled:!this.props.areActionsAllowed,direction:this.props.isLastItemDisplayed?"top":"bottom"})),a.createElement("div",{className:"actions"},a.createElement("button",{type:"button",title:this.props.t("Remove"),className:"remove-item button-transparent",disabled:!this.props.areActionsAllowed,onClick:e=>this.props.onMemberRemoved(e,this.props.groupUser)},a.createElement(ge,{name:"close"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"Remove")))))}}Es.defaultProps={isMemberChanged:!1,isMemberAdded:!1,areActionsAllowed:!1,isLastItemDisplayed:!1},Es.propTypes={context:l().any,groupUser:l().object.isRequired,onMemberRoleChange:l().func.isRequired,onMemberRemoved:l().func.isRequired,isMemberChanged:l().bool,isMemberAdded:l().bool,areActionsAllowed:l().bool,isLastItemDisplayed:l().bool,t:l().func};const fs=h((0,w.CI)("common")(Es));function ys(e,t,s){const a=e.length>=t,n=s("this is the maximum size for this field, make sure your data was not truncated");return a?n:""}const vs=128,ks=255,ws=255,xs=4096,Ss=1e4,Ns=1024;class Rs extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.createRefs(),this.bindHandlers()}get defaultState(){return{groupToEdit:{name:"",groupsUsers:[]},actions:{processing:!1,loading:!0},errors:{},nameWarning:"",validation:{hasAlreadyBeenValidated:!1}}}componentDidMount(){this.populate()}componentDidUpdate(){if(this.groupToEdit&&this.isLoading){const e=Object.assign(this.state.actions,{loading:!1});this.setState({actions:e})}}createRefs(){this.references={name:a.createRef()},this.listRef=a.createRef()}bindHandlers(){this.handleSubmit=this.handleSubmit.bind(this),this.handleClose=this.handleClose.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleMemberRoleChange=this.handleMemberRoleChange.bind(this),this.handleMemberRemoved=this.handleMemberRemoved.bind(this),this.handleAutocompleteSelect=this.handleAutocompleteSelect.bind(this),this.handleAutocompleteClose=this.handleAutocompleteClose.bind(this),this.handleAutocompleteOpen=this.handleAutocompleteOpen.bind(this),this.fetchAutocompleteItems=this.fetchAutocompleteItems.bind(this),this.renderItem=this.renderItem.bind(this)}populate(){const e=this.groupToEdit.name,t=JSON.parse(JSON.stringify(this.groupToEdit.groups_users));t.map(this.decorateGroupUserWithUser.bind(this)),this.sortGroupsUsersAlphabeticallyByUserFullName(t),this.setState({groupToEdit:{name:e,groupsUsers:t}})}sortGroupsUsersAlphabeticallyByUserFullName(e){e.sort(((e,t)=>this.getUserFullname(e.user).localeCompare(this.getUserFullname(t.user))))}decorateGroupUserWithUser(e){return e.user=this.findUser(e.user_id),e}findUser(e){return this.props.context.users.find((t=>t.id===e))}get groupToEdit(){return this.props.userWorkspaceContext.groupToEdit}get isProcessing(){return this.state.actions.processing}get isLoading(){return this.state.actions.loading}get areActionsAllowed(){return!this.isProcessing&&!this.isLoading}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}get hasMembersChanges(){const e=this.state.groupToEdit.groupsUsers;return!(this.groupToEdit.groups_users.length===e.length)||e.some((e=>this.isMemberChanged(e)))}get hasMembers(){return this.groupsUsers.length>0}get hasManager(){return this.groupsUsers.filter((e=>e.is_admin)).length>0}get isManager(){return this.groupToEdit.groups_users.some((e=>e.user_id===this.props.context.loggedInUser.id&&e.is_admin))}get groupsUsers(){return this.state.groupToEdit.groupsUsers}get hasSubmitDisabled(){return!this.hasManager||!this.areActionsAllowed}handleNameChange(e){this.updateName(e.target.value)}handleMemberRoleChange(e,t){const s=!0===e.target.value;this.updateMemberRole(t,s)}handleMemberRemoved(e,t){this.removeMember(t)}async handleSubmit(e){e.preventDefault(),this.resetErrors();const t=Object.assign(this.state.actions,{processing:!0});if(this.setState({actions:t}),this.validate(),this.hasErrors())return this.handleValidateError();await this.updateGroup().then(this.onEditSuccess.bind(this)).catch(this.onEditFailure.bind(this)).finally((()=>{const e=Object.assign(this.state.actions,{processing:!1});this.setState({actions:e})}))}handleValidateError(){const e=Object.assign(this.state.actions,{processing:!1});this.setState({actions:e}),this.focusFieldError()}focusFieldError(){this.hasErrors("name")&&this.references.name.current.focus()}handleClose(){this.close()}handleAutocompleteOpen(){this.setState({autocompleteOpen:!0})}handleAutocompleteClose(){this.setState({autocompleteOpen:!1})}handleAutocompleteSelect(e){const t=this.groupToEdit.groups_users.find((t=>t.user_id===e.id));t?this.restoreMember(t):this.addMember(e)}isMember(e){return this.groupsUsers.some((t=>t.user_id===e.id))}isMemberChanged(e){const t=this.groupToEdit.groups_users.find((t=>t.id===e.id));return void 0===t||t.is_admin!==e.is_admin}isMemberAdded(e){return void 0===e.id}updateName(e){if(this.setState({groupToEdit:Object.assign({},this.state.groupToEdit,{name:e})}),this.state.validation.hasAlreadyBeenValidated)this.validateName();else{const t=ys(e,50,this.translate);this.setState({nameWarning:t})}}updateGroupsUsers(e,t){const s=Object.assign({},this.state.groupToEdit,{groups_users:e});this.setState({groupToEdit:s},(()=>{t&&this.listRef.current.scrollTo(this.groupsUsers.length-1)}))}updateMemberRole(e,t){const s=this.groupsUsers.findIndex((t=>t.user_id===e.user_id));e.is_admin=t,this.groupsUsers[s]=e,this.updateGroupsUsers(this.groupsUsers)}addMember(e){const t=!this.hasManager,s={user_id:e.id,is_admin:t};this.decorateGroupUserWithUser(s),this.groupsUsers.push(s),this.updateGroupsUsers(this.groupsUsers,!0)}restoreMember(e){this.decorateGroupUserWithUser(e),this.groupsUsers.push(e),this.updateGroupsUsers(this.groupsUsers,!0)}removeMember(e){const t=this.groupsUsers.findIndex((t=>t.user_id===e.user_id)),s=this.groupsUsers;s.splice(t,1),this.updateGroupsUsers(s)}validate(){this.validateName(),this.setState({validation:Object.assign({},this.state.validation,{hasAlreadyBeenValidated:!0})})}validateName(){this.resetErrors("name"),""===this.state.groupToEdit.name.trim()&&this.setError("name","empty")}setError(e,t,s){s=s||!0;const a=this.state.errors||{};a[e]=a[e]||{},a[e][t]=s,this.setState({errors:a})}resetErrors(e){let t={};e&&(t=this.state.errors,delete t[e]),this.setState({errors:t})}hasErrors(e,t){const s=this.state.errors||{};if(!s)return!1;if(!e){const e=(e,t)=>e||this.hasErrors(t);return Object.getOwnPropertyNames(s).reduce(e,!1)}return t?s[e]&&void 0!==s[e][t]:"object"==typeof s[e]}hasGroupNameAlreadyExists(e){return e?.body?.name?.group_unique}async updateGroup(){const e={id:this.groupToEdit.id,name:this.state.groupToEdit.name,groups_users:this.groupsUsers.map((e=>({id:e.id||void 0,user_id:e.user_id,is_admin:e.is_admin})))};await this.props.context.port.request("passbolt.groups.update",e)}async onEditSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The group has been updated successfully")),this.close()}onEditFailure(e){"UserAbortsOperationError"===e.name?this.setState({processing:!1}):this.hasGroupNameAlreadyExists(e.data)?(this.setError("name","alreadyExists"),this.setState({processing:!1})):(console.error(e),this.onError(e),this.setState({processing:!1}))}onError(e){const t={error:e};this.props.dialogContext.open(we,t)}close(){this.props.location.pathname.includes("groups/edit")&&this.props.history.push(this.props.location.pathname.replace("edit","view")),this.props.onClose()}formatFingerprint(e){const t=e.toUpperCase().replace(/.{4}/g,"$& ");return a.createElement(a.Fragment,null,t.substr(0,24),a.createElement("br",null),t.substr(25))}getUserFullname(e){return`${e.profile.first_name} ${e.profile.last_name}`}async fetchAutocompleteItems(e){const t=(e=e.toLowerCase())&&e.split(/\s+/)||[""],s=(e,t)=>(e=>new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(e),"i"))(e).test(t);let a=0;return this.props.context.users.filter((e=>{const n=a<ds.DISPLAY_LIMIT&&!0===e.active&&!this.isMember(e)&&(e=>t.every((t=>((e,t)=>((e,t)=>s(e,t.username))(e,t)||((e,t)=>s(e,t.profile.first_name)||s(e,t.profile.last_name))(e,t))(t,e))))(e);return n&&a++,n}))}renderItem(e,t){const s=this.groupsUsers[e],n=this.isMemberChanged(s),r=this.isMemberAdded(s),i=s.user_id;return a.createElement(fs,{key:i,itemKey:i,isMemberChanged:n,isMemberAdded:r,groupUser:s,onMemberRoleChange:this.handleMemberRoleChange,onMemberRemoved:this.handleMemberRemoved,areActionsAllowed:this.areActionsAllowed,isLastItemDisplayed:t>=2})}renderContainer(e,t){return a.createElement("ul",{className:"permissions groups_users",ref:t},e)}get isSuspendedUserFeatureEnabled(){return this.props.context.siteSettings.canIUse("disableUser")}get translate(){return this.props.t}render(){return a.createElement(ve,{className:"edit-group-dialog",title:this.translate("Edit group"),onClose:this.handleClose,disabled:!this.areActionsAllowed},this.props.context.loggedInUser&&a.createElement("form",{className:"group-form",onSubmit:this.handleSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input text required ${this.hasErrors("name")?"error":""} ${this.areActionsAllowed&&this.isLoggedInUserAdmin()?"":"disabled"}`},a.createElement("label",{htmlFor:"js_field_name"},a.createElement(w.x6,null,"Group name")),a.createElement("input",{id:"group-name-input","aria-required":!0,ref:this.references.name,value:this.state.groupToEdit.name,maxLength:"50",type:"text",placeholder:this.translate("group name"),onChange:this.handleNameChange,disabled:!this.areActionsAllowed||!this.isLoggedInUserAdmin()}),this.hasErrors("name","empty")&&a.createElement("div",{className:"name error-message"},a.createElement(w.x6,null,"A name is required.")),this.hasErrors("name","alreadyExists")&&a.createElement("div",{className:"name error-message"},a.createElement(w.x6,null,"The group name already exists.")),this.state.nameWarning&&a.createElement("div",{className:"name warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.nameWarning)),a.createElement("div",{className:"input required"},a.createElement("label",null,a.createElement(w.x6,null,"Group members"),this.state.nameWarning&&a.createElement(ge,{name:"exclamation"})))),a.createElement("div",{className:"group_members"},a.createElement("div",{className:"form-content scroll permission-edit"},this.isLoading&&a.createElement("ul",{className:"permissions groups_users"},a.createElement(ms,null),a.createElement(ms,null),a.createElement(ms,null)),!this.isLoading&&a.createElement(Lt(),{ref:this.listRef,itemRenderer:this.renderItem,itemsRenderer:this.renderContainer,length:this.groupsUsers.length,minSize:4,type:this.groupsUsers.length<3?"simple":"uniform",threshold:30})),!this.isLoading&&!this.hasMembers&&a.createElement("div",{className:"message warning"},a.createElement("span",null,a.createElement(w.x6,null,"The group is empty, please add a group manager."))),this.hasMembers&&!this.hasManager&&a.createElement("div",{className:"message error at-least-one-manager"},a.createElement("span",null,a.createElement(w.x6,null,"Please make sure there is at least one group manager."))),!this.isLoading&&!this.isManager&&a.createElement("div",{className:"message warning feedback cannot-add-user"},a.createElement("span",null,a.createElement(w.x6,null,"Only the group manager can add new people to a group."))),this.hasMembersChanges&&this.hasManager&&a.createElement("div",{className:"message warning feedback"},a.createElement("span",null,a.createElement(w.x6,null,"You need to click save for the changes to take place.")))),this.isManager&&a.createElement("div",{className:"form-content permission-add"},a.createElement(ds,{id:"user-name-input",name:"name",label:this.translate("Add people"),placeholder:this.translate("Start typing a person name"),searchCallback:this.fetchAutocompleteItems,onSelect:this.handleAutocompleteSelect,onOpen:this.handleAutocompleteOpen,onClose:this.handleAutocompleteClose,disabled:!this.areActionsAllowed,baseUrl:this.props.context.userSettings.getTrustedDomain(),canShowUserAsSuspended:this.isSuspendedUserFeatureEnabled})),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{onClick:this.handleClose,disabled:!this.areActionsAllowed}),a.createElement(Vt,{value:this.translate("Save"),disabled:this.hasSubmitDisabled,processing:this.isProcessing}))))}}Rs.propTypes={context:l().any,actionFeedbackContext:l().any,onClose:l().func,dialogContext:l().any,location:l().object,history:l().object,userWorkspaceContext:l().object,t:l().func};const Is=h((0,i.y)(As(_e(k((0,w.CI)("common")(Rs))))));function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_s.apply(null,arguments)}const Ds=a.createContext({filter:{type:null,payload:null},sorter:{propertyName:"user",asc:!1},filteredUsers:[],selectedUsers:[],details:{user:null,group:null,locked:!0},scrollTo:{user:null},groupToEdit:null,isAccessAllowed:()=>{},onUserScrolled:()=>{},onDetailsLocked:()=>{},onSorterChanged:()=>{},onUserSelected:{single:()=>{}},onGroupToEdit:()=>{},shouldDisplaySuspendedUsersFilter:()=>{}});class Ts extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.initializeProperties()}get defaultState(){return{filter:{type:Ms.NONE},sorter:{propertyName:"modified",asc:!1},filteredUsers:[],selectedUsers:[],details:{user:null,group:null,locked:!0},scrollTo:{user:null},groupToEdit:null,isAccessAllowed:this.isAccessAllowed.bind(this),getTranslatedRoleName:this.getTranslatedRoleName.bind(this),onUserScrolled:this.handleUserScrolled.bind(this),onDetailsLocked:this.handleDetailsLocked.bind(this),onSorterChanged:this.handleSorterChange.bind(this),onUserSelected:{single:this.handleUserSelected.bind(this)},onGroupToEdit:this.handleGroupToEdit.bind(this),isAttentionRequired:this.isAttentionRequired.bind(this),shouldDisplaySuspendedUsersFilter:this.shouldDisplaySuspendedUsersFilter.bind(this)}}initializeProperties(){this.users=null,this.groups=[],this.routeLocationKey=null}componentDidMount(){this.isAccessAllowed()&&(this.populate(),this.handleUsersWaitedFor())}isAccessAllowed(){return this.props.rbacContext.canIUseUiAction(F)}async componentDidUpdate(e,t){await this.handleFilterChange(t.filter),this.handleUsersLoaded(),await this.handleUsersChange(),await this.handleGroupsChange(),await this.handleRouteChange(e.location)}async handleFilterChange(e){e!==this.state.filter&&e.type!==Ms.NONE&&(this.populate(),await this.unselectAll())}async handleUsersChange(){this.props.context.users&&this.props.context.users!==this.users&&(this.users=this.props.context.users,await this.search(this.state.filter),await this.updateDetails(),await this.unselectUnknownUsers())}async handleGroupsChange(){this.props.context.groups&&this.props.context.groups!==this.groups&&(this.groups=this.props.context.groups,await this.refreshSearchFilter(),await this.updateDetails())}async handleRouteChange(e){const t=this.props.location.key!==e.key,s=this.props.location.key!==this.routeLocationKey;this.routeLocationKey=this.props.location.key;const a=this.state.filter.type===Ms.NONE;(t&&s||a)&&(await this.handleGroupRouteChange(),await this.handleUserRouteChange())}async handleGroupRouteChange(){if(null!==this.users&&null!==this.groups){const e=this.props.match.params.selectedGroupId;if(e&&this.props.context.groups){const t=this.props.context.groups.find((t=>t.id===e));t?(await this.search({type:Ms.GROUP,payload:{group:t}}),await this.detailGroup(t),this.props.location.pathname.includes("edit")&&(await this.updateGroupToEdit(t),this.props.dialogContext.open(Is))):this.handleUnknownGroup()}}}async handleUserRouteChange(){if(this.props.location.pathname.includes("users")||this.props.location.pathname.includes("account-recovery-requests/review")){const e=this.props.match.params.selectedUserId;e?await this.handleSingleUserRouteChange(e):await this.handleAllUserRouteChange()}}async handleSingleUserRouteChange(e){if(null!==this.users){const t=this.users.find((t=>t.id===e));this.state.filter.type===Ms.NONE&&await this.search({type:Ms.ALL}),t?(await this.selectFromRoute(t),await this.scrollTo(t),await this.detailUser(t)):this.handleUnknownUser()}}async handleAllUserRouteChange(){if(null!==this.users){const e=this.props.location.state?.filter||{type:Ms.ALL};await this.search(e),await this.detailNothing()}}async handleDetailsLocked(){await this.lockDetails()}handleUnknownUser(){this.props.actionFeedbackContext.displayError("The user does not exist"),this.props.history.push({pathname:"/app/users"})}handleUnknownGroup(){this.props.actionFeedbackContext.displayError("The group does not exist"),this.props.history.push({pathname:"/app/users"})}async handleUserScrolled(){await this.scrollNothing()}async handleSorterChange(e){await this.updateSorter(e),await this.sort()}async handleUserSelected(e){await this.select(e),this.redirectAfterSelection()}async handleGroupToEdit(e){await this.updateGroupToEdit(e)}handleUsersWaitedFor(){this.props.loadingContext.add()}handleUsersLoaded(){null===this.users&&this.props.context.users&&(this.props.loadingContext.remove(),this.handleUsersLoaded=()=>{})}isAttentionRequired(e){return Boolean(e.pending_account_recovery_request)}populate(){this.props.context.port.request("passbolt.users.update-local-storage"),this.props.context.port.request("passbolt.groups.update-local-storage")}async search(e){const t=e.type===Ms.RECENTLY_MODIFIED,s={[Ms.GROUP]:this.searchByGroup.bind(this),[Ms.TEXT]:this.searchByText.bind(this),[Ms.RECENTLY_MODIFIED]:this.searchByRecentlyModified.bind(this),[Ms.SUSPENDED_USER]:this.searchBySuspendedUsers.bind(this),[Ms.ALL]:this.searchAll.bind(this),[Ms.NONE]:()=>{}};await s[e.type](e),t?await this.resetSorter():await this.sort()}async searchAll(e){this.setState({filter:e,filteredUsers:this.users})}async searchByGroup(e){const t=e.payload.group.groups_users.map((e=>e.user_id)),s=this.users.filter((e=>t.some((t=>t===e.id))));this.setState({filter:e,filteredUsers:s})}async searchByText(e){const t=e.payload,s=t&&t.split(/\s+/)||[""],a=(e,t)=>(e=>new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(e),"i"))(e).test(t),n=this.users.filter((e=>s.every((t=>((e,t)=>((e,t)=>a(e,t.username))(e,t)||((e,t)=>a(e,t.profile.first_name)||a(e,t.profile.last_name))(e,t))(t,e)))));this.setState({filter:e,filteredUsers:n})}async searchByRecentlyModified(e){const t=this.users.sort(((e,t)=>We.c9.fromISO(t.modified)<We.c9.fromISO(e.modified)?-1:1));this.setState({filter:e,filteredUsers:t})}async searchBySuspendedUsers(e){const t=this.users.filter((e=>Zt(e)));this.setState({filter:e,filteredUsers:t})}async refreshSearchFilter(){if(this.state.filter.type===Ms.GROUP)if(this.groups.some((e=>e.id===this.state.filter.payload.group.id))){const e=this.groups.find((e=>e.id===this.state.filter.payload.group.id)),t=Object.assign(this.state.filter,{payload:{group:e}});await this.search(t)}else{const e={type:Ms.ALL};this.props.history.push({pathname:"/app/users",state:{filter:e}})}}async select(e){const t=1===this.state.selectedUsers.length&&this.state.selectedUsers[0].id===e.id;this.setState({selectedUsers:t?[]:[e]})}async selectFromRoute(e){const t=[e];this.setState({selectedUsers:t})}async unselectAll(){0!==this.state.selectedUsers.length&&this.setState({selectedUsers:[]})}async unselectUnknownUsers(){const e=this.state.selectedUsers.filter((e=>this.users.some((e=>t=>t.id===e.id)(e))));this.setState({selectedUsers:e})}redirectAfterSelection(){if(null!==this.users&&null!==this.groups)if(1===this.state.selectedUsers.length)this.props.history.push(`/app/users/view/${this.state.selectedUsers[0].id}`);else{const{filter:e}=this.state;e.type===Ms.GROUP?this.props.location.pathname!==`/app/groups/view/${this.state.filter.payload.group.id}`&&this.props.history.push({pathname:`/app/groups/view/${this.state.filter.payload.group.id}`}):"/app/users"!==this.props.location.pathname&&this.props.history.push({pathname:"/app/users",state:{filter:e}})}}async updateSorter(e){const t={propertyName:e,asc:this.state.sorter.propertyName!==e||!this.state.sorter.asc};this.setState({sorter:t})}async resetSorter(){this.setState({sorter:{propertyName:"modified",asc:!1}})}async sort(){const e=e=>this.state.sorter.asc?e:(e=>(t,s)=>-e(t,s))(e),t=(t,s)=>e(((e,a)=>s(e[t],a[t]))),s=t=>e(t),a=e=>`${e.profile.first_name} ${e.profile.last_name}`,n=["modified","last_logged_in"].includes(this.state.sorter.propertyName)?(e,t)=>e?t&&We.c9.fromISO(e)<We.c9.fromISO(t)?-1:1:-1:(e,t)=>(e||"").localeCompare(t||""),r="name"===this.state.sorter.propertyName,i="is_mfa_enabled"===this.state.sorter.propertyName,o="role.name"===this.state.sorter.propertyName,l="disabled"===this.state.sorter.propertyName,c="attentionRequired"===this.state.sorter.propertyName,d="account_recovery_user_setting.status"===this.state.sorter.propertyName;let h;h=r?s(((e,t)=>a(e).localeCompare(a(t)))):i?s(((e,t)=>t.is_mfa_enabled===e.is_mfa_enabled?0:t.is_mfa_enabled?-1:1)):c?s(((e,t)=>this.isAttentionRequired(t)===this.isAttentionRequired(e)?0:this.isAttentionRequired(t)?1:-1)):o?t("role_id",((e,t)=>this.getTranslatedRoleName(e).localeCompare(this.getTranslatedRoleName(t)))):d?s(((e,t)=>t?.account_recovery_user_setting?.status===e?.account_recovery_user_setting?.status?0:t?.account_recovery_user_setting?.status?-1:1)):l?s(((e,t)=>Zt(e)===Zt(t)?0:Zt(t)?-1:1)):t(this.state.sorter.propertyName,n),this.setState({filteredUsers:this.state.filteredUsers.sort(h)})}async detailGroup(e){const t=this.state.details.locked;this.setState({details:{group:e,user:null,locked:t}})}async detailUser(e){const t=this.state.details.locked;this.setState({details:{group:null,user:e,locked:t}})}async detailNothing(){if(this.state.details.user||this.state.details.group){const e=this.state.details.locked;this.setState({details:{group:null,user:null,locked:e}})}}async lockDetails(){const e=this.state.details,t=this.state.details.locked;this.setState({details:Object.assign({},e,{locked:!t})})}async updateDetails(){if(this.state.details.user||this.state.details.group){const e=this.state.details.user,t=this.state.details.locked;if(e){const e=this.users.find((e=>e.id===this.state.details.user.id));this.setState({details:{user:e,group:null,locked:t}})}else{const e=this.groups.find((e=>e.id===this.state.details.group.id));this.setState({details:{group:e,user:null,locked:t}})}}}async scrollTo(e){this.setState({scrollTo:{user:e}})}async scrollNothing(){this.setState({scrollTo:{}})}async updateGroupToEdit(e){this.setState({groupToEdit:e})}getTranslatedRoleName(e){return this.props.context.roles?this.props.t(this.props.context.roles.find((t=>t.id===e)).name):""}shouldDisplaySuspendedUsersFilter(){return this.props.context.siteSettings.canIUse("disableUser")&&"admin"===this.props.context.loggedInUser.role.name}render(){return a.createElement(Ds.Provider,{value:this.state},this.props.children)}}Ts.displayName="UserWorkspaceContextProvider",Ts.propTypes={context:l().any,children:l().any,location:l().object,match:l().object,history:l().object,actionFeedbackContext:l().object,loadingContext:l().object,dialogContext:l().any,rbacContext:l().object,t:l().func};const Ps=h((0,i.y)(pe(k(_e(He((0,w.CI)("common")(Ts)))))));function As(e){return class extends a.Component{render(){return a.createElement(Ds.Consumer,null,(t=>a.createElement(e,_s({userWorkspaceContext:t},this.props))))}}}const Ms={NONE:"NONE",ALL:"ALL",GROUP:"FILTER-BY-GROUP",TEXT:"FILTER-BY-TEXT-SEARCH",RECENTLY_MODIFIED:"FILTER-BY-RECENTLY-MODIFIED",SUSPENDED_USER:"FILTER-BY-SUSPENDED-USER"};function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Us.apply(null,arguments)}const Fs=a.createContext({ContextualMenu:null,show:()=>{},hide:()=>{}});class Ls extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{contextualMenus:[],show:(e,t)=>this.setState({contextualMenus:[...this.state.contextualMenus,{ContextualMenuComponent:e,componentProps:t}]}),hide:e=>this.setState({contextualMenus:this.state.contextualMenus.filter(((t,s)=>s!==e))})}}render(){return a.createElement(Fs.Provider,{value:this.state},this.props.children)}}function Os(e){return class extends a.Component{render(){return a.createElement(Fs.Consumer,null,(t=>a.createElement(e,Us({contextualMenuContext:t},this.props))))}}}function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Vs.apply(null,arguments)}Ls.displayName="ContextualMenuContextProvider",Ls.propTypes={children:l().any};class Hs extends a.Component{constructor(e){super(e),this.createRefs(),this.bindCallback()}bindCallback(){this.handleHide=this.handleHide.bind(this)}createRefs(){this.elementRef=a.createRef()}handleHide(e){this.props.contextualMenuContext.hide(e)}render(){return a.createElement("div",{ref:this.elementRef},this.props.contextualMenuContext.contextualMenus.map(((e,t)=>a.createElement(e.ContextualMenuComponent,Vs({key:t,hide:()=>this.handleHide(t)},e.componentProps)))))}}Hs.propTypes={contextualMenuContext:l().any};const qs=Os(Hs);class js extends a.Component{constructor(e){super(e),this.bindHandlers()}bindHandlers(){this.handleProgressEnd=this.handleProgressEnd.bind(this)}handleProgressEnd(){this.props.onProgressCompleted()}render(){return a.createElement("div",{className:"update-loading-bar"},a.createElement("div",{className:"progress-bar"},a.createElement("span",{className:"progress",onTransitionEnd:this.handleProgressEnd,style:{width:`${this.props.progress}%`||0}})))}}js.propTypes={progress:l().number,onProgressCompleted:l().func};const Ws=js;class zs extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers()}componentDidUpdate(e){this.handleLoadingCounterChanged(e)}get defaultState(){return{progressRate:0,mustShow:!1}}bindHandlers(){this.handleProgressCompleted=this.handleProgressCompleted.bind(this)}handleProgressCompleted(){100===this.state.progressRate&&this.reset()}handleLoadingCounterChanged(e){if(e.loadingContext.counter!==this.props.loadingContext.counter){const t=0===e.loadingContext.counter&&this.props.loadingContext.counter>0,s=e.loadingContext.counter>0&&0===this.props.loadingContext.counter;t?this.load(80):s&&this.load(100)}}reset(){this.setState({progressRate:0,mustShow:!1})}load(e){this.setState({mustShow:!0}),setTimeout((()=>{this.setState({progressRate:e})}))}render(){return a.createElement("div",{className:"loading-bar-wrapper"},this.state.mustShow&&a.createElement(Ws,{progress:this.state.progressRate,onProgressCompleted:this.handleProgressCompleted}))}}zs.propTypes={loadingContext:l().any};const Bs=He(zs);class Gs extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.createRefs(),this.bindCallbacks()}get defaultState(){return{positionY:this.props.top}}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDocumentContextualMenuEvent=this.handleDocumentContextualMenuEvent.bind(this),this.handleDocumentDragStartEvent=this.handleDocumentDragStartEvent.bind(this),this.handleDocumentScrollEvent=this.handleDocumentScrollEvent.bind(this)}createRefs(){this.elementRef=a.createRef()}componentDidMount(){this.adjustPositionY(),document.addEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.addEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.addEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0}),document.addEventListener("scroll",this.handleDocumentScrollEvent,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.removeEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.removeEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0}),document.removeEventListener("scroll",this.handleDocumentScrollEvent,{capture:!0})}handleDocumentScrollEvent(){this.props.hide()}handleDocumentClickEvent(e){this.elementRef.current.contains(e.target)||(e.stopPropagation(),this.props.hide())}handleDocumentContextualMenuEvent(e){this.elementRef.current.contains(e.target)||this.props.hide()}handleDocumentDragStartEvent(){this.props.hide()}adjustPositionY(){const e=this.elementRef.current.offsetHeight;this.props.top+e>window.innerHeight&&(this.setState({positionY:window.innerHeight-e}),this.elementRef.current.style.zIndex=1e3)}getStyle(){return{position:"absolute",display:"block",left:this.props.left,top:this.state.positionY}}render(){return a.createElement("ul",{ref:this.elementRef,className:`contextual-menu ${this.props.className}`,style:this.getStyle()},this.props.children)}}Gs.defaultProps={className:""},Gs.propTypes={children:l().any,left:l().number,hide:l().func,top:l().number,className:l().string};const Ks=Gs;class $s extends a.Component{constructor(e,t){super(e,t),this.state=this.defaultState,this.createInputRefs(),this.bindEventHandlers()}get defaultState(){const e=this.props.context.users.find((e=>e.id===this.props.context.editUserDialogProps.id)),t=this.props.context.roles.find((t=>t.id===e.role_id)),s=e.disabled?new Date(e.disabled):null;return{loading:!0,processing:!1,first_name:e.profile.first_name,first_nameError:null,first_nameWarning:"",last_name:e.profile.last_name,last_nameError:null,last_nameWarning:"",username:e.username,disabled:s,is_admin:"admin"===t.name,hasAlreadyBeenValidated:!1}}componentDidMount(){this.setState({loading:!1},(()=>{this.firstNameRef.current.focus()}))}get isLoggedInUserAsEditing(){return this.props.context.editUserDialogProps&&this.props.context.loggedInUser&&this.props.context.editUserDialogProps.id===this.props.context.loggedInUser.id}createInputRefs(){this.firstNameRef=a.createRef(),this.lastNameRef=a.createRef()}bindEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleFirstNameInputOnKeyUp=this.handleFirstNameInputOnKeyUp.bind(this),this.handleLastNameInputOnKeyUp=this.handleLastNameInputOnKeyUp.bind(this),this.handleCheckboxClick=this.handleCheckboxClick.bind(this),this.handleIsSuspendedCheckboxClick=this.handleIsSuspendedCheckboxClick.bind(this)}handleClose(){this.props.context.setContext({editUserDialogProps:null}),this.props.onClose()}handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.setState({[a]:s})}handleCheckboxClick(e){const t=e.target,s=t.checked,a=t.name;this.setState({[a]:s})}handleIsSuspendedCheckboxClick(e){const t=e.target.checked?new Date:null;this.setState({disabled:t})}handleFirstNameInputOnKeyUp(){if(this.state.hasAlreadyBeenValidated){const e=this.validateFirstNameInput();this.setState(e)}else{const e=ys(this.state.first_name,vs,this.translate);this.setState({first_nameWarning:e})}}handleLastNameInputOnKeyUp(){if(this.state.hasAlreadyBeenValidated){const e=this.validateLastNameInput();this.setState(e)}else{const e=ys(this.state.last_name,vs,this.translate);this.setState({last_nameWarning:e})}}async handleFormSubmit(e){if(e.preventDefault(),this.setState({hasAlreadyBeenValidated:!0}),!this.state.processing){if(this.toggleProcessing(),await this.validate(),this.hasValidationError())return this.toggleProcessing(),void this.focusFirstFieldError();try{await this.updateUser(),await this.handleSaveSuccess()}catch(e){this.handleSaveError(e)}}}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The user has been updated successfully")),await this.updateLoggedInUserIfNeeded(),this.props.onClose()}handleSaveError(e){"UserAbortsOperationError"===e.name||(console.error(e),this.handleError(e)),this.setState({processing:!1})}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}toggleProcessing(){const e=this.state.processing;this.setState({processing:!e})}focusFirstFieldError(){this.state.first_nameError?this.firstNameRef.current.focus():this.state.last_nameError&&this.lastNameRef.current.focus()}async updateUser(){const e=this.props.context.roles.find((e=>this.state.is_admin?"admin"===e.name:"user"===e.name)),t={id:this.props.context.editUserDialogProps.id,username:this.state.username,profile:{first_name:this.state.first_name,last_name:this.state.last_name},role_id:e.id};return this.isSuspendedUserFeatureEnabled()&&(t.disabled=this.getFormattedDate(this.state.disabled)),await this.props.context.port.request("passbolt.users.update",t)}async updateLoggedInUserIfNeeded(){if(this.isLoggedInUserAsEditing){const e=await this.props.context.port.request("passbolt.users.find-logged-in-user",!0);this.props.context.setContext({loggedInUser:e})}await this.props.context.setContext({editUserDialogProps:null})}async validate(){return await Promise.all([this.validateFirstNameInput(),this.validateLastNameInput()]),this.hasValidationError()}async validateFirstNameInput(){let e=null;return this.state.first_name.trim().length||(e=this.translate("A first name is required.")),this.setState({first_nameError:e})}async validateLastNameInput(){let e=null;return this.state.last_name.trim().length||(e=this.translate("A last name is required.")),this.setState({last_nameError:e})}hasValidationError(){return null!==this.state.first_nameError||null!==this.state.last_nameError}isUserSuspended(){return!!this.state.disabled&&new Date(this.state.disabled)<=new Date}get suspendedDate(){return this.state.disabled?We.c9.fromJSDate(new Date(this.state.disabled)).setLocale(this.props.context.locale).toLocaleString(We.c9.DATETIME_FULL):null}hasAllInputDisabled(){return this.state.processing||this.state.loading}isSuspendedUserFeatureEnabled(){return this.props.context.siteSettings.canIUse("disableUser")}getFormattedDate(e){if(!(e&&e instanceof Date))return null;const t=e=>e.toString().padStart(2,"0");return`${e.getFullYear()}-${t(e.getUTCMonth()+1)}-${t(e.getUTCDate())}T${t(e.getUTCHours())}:${t(e.getUTCMinutes())}:${t(e.getUTCSeconds())}`}get translate(){return this.props.t}render(){const e=this.isUserSuspended();return a.createElement(ve,{className:"user-edit-dialog",title:this.translate("Edit User"),onClose:this.handleClose,disabled:this.hasAllInputDisabled()},a.createElement("form",{className:"user-edit-form",onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input text required ${this.state.first_nameError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",{htmlFor:"user-first-name-input"},a.createElement(w.x6,null,"First name"),this.state.first_nameWarning&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"user-first-name-input",name:"first_name",ref:this.firstNameRef,type:"text",value:this.state.first_name,placeholder:this.translate("First name"),required:"required",disabled:this.hasAllInputDisabled(),onKeyUp:this.handleFirstNameInputOnKeyUp,onChange:this.handleInputChange,autoComplete:"off",autoFocus:!0}),this.state.first_nameError&&a.createElement("div",{className:"first_name error-message"},this.state.first_nameError),this.state.first_nameWarning&&a.createElement("div",{className:"firstname warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.first_nameWarning)),a.createElement("div",{className:`input text required ${this.state.last_nameError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",{htmlFor:"user-last-name-input"},a.createElement(w.x6,null,"Last name")),a.createElement("input",{id:"user-last-name-input",name:"last_name",maxLength:"128",ref:this.lastNameRef,type:"text",value:this.state.last_name,placeholder:this.translate("Last name"),required:"required",disabled:this.hasAllInputDisabled(),onKeyUp:this.handleLastNameInputOnKeyUp,onChange:this.handleInputChange,autoComplete:"off",autoFocus:!0}),this.state.last_nameError&&a.createElement("div",{className:"last_name error-message"},this.state.last_nameError),this.state.last_nameWarning&&a.createElement("div",{className:"lastname warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.last_nameWarning)),a.createElement("div",{className:"input text required disabled"},a.createElement("label",{htmlFor:"user-username-input"},a.createElement(w.x6,null,"Username / Email"),this.state.last_nameWarning&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"user-username-input",name:"username",maxLength:"128",type:"text",value:this.state.username,placeholder:this.translate("Username"),required:"required",disabled:!0,autoComplete:"off",autoFocus:!0})),a.createElement("div",{className:"input checkbox-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Role")),a.createElement("span",{className:"input toggle-switch form-element ready"},a.createElement("input",{id:"is_admin_checkbox",name:"is_admin",disabled:this.isLoggedInUserAsEditing||this.hasAllInputDisabled(),onChange:this.handleCheckboxClick,className:"toggle-switch-checkbox checkbox",checked:this.state.is_admin,type:"checkbox"}),a.createElement("label",{htmlFor:"is_admin_checkbox"},a.createElement(w.x6,null,"This user is an administrator")),a.createElement(fe,{message:this.translate("Administrators can add and delete users. They can also create groups and assign group managers. By default they can not see all passwords.")},a.createElement(ge,{name:"info-circle"}))),this.isSuspendedUserFeatureEnabled()&&a.createElement("span",{className:"input toggle-switch form-element ready"},a.createElement("input",{id:"is_suspended_checkbox",name:"disabled",disabled:this.isLoggedInUserAsEditing||this.hasAllInputDisabled(),onChange:this.handleIsSuspendedCheckboxClick,checked:e,type:"checkbox",className:"toggle-switch-checkbox checkbox"}),a.createElement("label",{htmlFor:"is_suspended_checkbox"}," ",a.createElement(w.x6,null,"Suspend this user")),a.createElement(fe,{message:this.translate("This user will not be able to sign in to passbolt and receive email notifications. Other users can share resource with it and add this user to a group.")},a.createElement(ge,{name:"info-circle"}))))),!e&&this.state.disabled&&a.createElement("div",{className:"message warning"},a.createElement(w.x6,null,a.createElement("b",null,"Warning:")," Suspension is scheduled for the ",this.suspendedDate)),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleClose}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Save")}))))}}$s.propTypes={context:l().any,actionFeedbackContext:l().any,onClose:l().func,dialogContext:l().any,t:l().func};const Zs=h(_e(k((0,w.CI)("common")($s))));class Ys extends a.Component{constructor(e,t){super(e,t),this.state=this.defaultState,this.bindEventHandlers()}get defaultState(){return{actions:{processing:!1}}}bindEventHandlers(){this.handleConfirm=this.handleConfirm.bind(this),this.handleClose=this.handleClose.bind(this)}get user(){return this.props.userWorkspaceContext.selectedUsers[0]}get isProcessing(){return this.state.actions.processing}get areActionsDisabled(){return this.isProcessing}handleConfirm(e){e.preventDefault(),this.disableMFA()}handleClose(){this.close()}async disableMFA(){await this.setState({actions:{processing:!0}}),await this.props.context.port.request("passbolt.mfa.disable-for-user",this.user.id).then(this.onDisableMFASuccess.bind(this)).catch(this.onDisableMFAFailure.bind(this))}async onDisableMFASuccess(){await this.setState({actions:{processing:!1}}),this.props.actionFeedbackContext.displaySuccess(this.translate("Multi-factor authentication has been disabled successfully")),this.props.onClose()}onDisableMFAFailure(e){this.setState({actions:{processing:!1}});const t={error:e};this.props.dialogContext.open(we,t)}close(){this.props.onClose()}get translate(){return this.props.t}render(){const e=`${this.user.profile.first_name} ${this.user.profile.last_name}`,t=this.user.username;return a.createElement(ve,{title:this.translate("Are you sure?"),onClose:this.handleClose,disabled:this.areActionsDisabled},a.createElement("form",{onSubmit:this.handleConfirm,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("p",null,a.createElement(w.x6,null,"You are about to disable second-factor authentication (MFA) for the user ",a.createElement("strong",null,{name:e}," (",{username:t},")"),".")),a.createElement("p",null,a.createElement(w.x6,null,"Existing settings will be lost. This action cannot be undone."))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.areActionsDisabled,onClick:this.handleClose}),a.createElement(Vt,{value:this.translate("Disable MFA"),warning:!0,processing:this.isProcessing,disabled:this.areActionsDisabled}))))}}Ys.propTypes={context:l().any,actionFeedbackContext:l().any,onClose:l().func,dialogContext:l().any,userWorkspaceContext:l().any,t:l().func};const Js=h(As(_e(k((0,w.CI)("common")(Ys)))));class Xs extends a.Component{constructor(e,t){super(e,t),this.initializeProperties(),this.state=this.getDefaultState(),this.initEventHandlers()}initializeProperties(){this.groupsErrors=this.getGroupsErrors(),this.groupsGroupsUsersOptions=this.getGroupsGroupsUsersOptionsMap(),this.foldersErrors=this.getFoldersErrors(),this.resourcesErrors=this.getResourcesErrors(),this.acosPermissionsOptions=this.getAcosPermissionsOptionsMap()}getDefaultState(){return{processing:!1,owners:this.populateDefaultOwners(),managers:this.populateDefaultManagers()}}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleOnChangeOwner=this.handleOnChangeOwner.bind(this),this.handleOnChangeManager=this.handleOnChangeManager.bind(this)}getGroupsErrors(){const e=this.props.context.deleteUserWithConflictsDialogProps.errors;return(e.groups&&e.groups.sole_manager||[]).sort(((e,t)=>e.name.localeCompare(t.name)))}getFoldersErrors(){const e=this.props.context.deleteUserWithConflictsDialogProps.errors;return(e.folders&&e.folders.sole_owner||[]).sort(((e,t)=>e.name.localeCompare(t.name)))}getResourcesErrors(){const e=this.props.context.deleteUserWithConflictsDialogProps.errors;return(e.resources&&e.resources.sole_owner||[]).sort(((e,t)=>e.metadata.name.localeCompare(t.metadata.name)))}getGroupsGroupsUsersOptionsMap(){return this.groupsErrors.reduce(((e,t)=>Object.assign(e,{[t.id]:this.getGroupGroupsUsersOptions(t)})),{})}getGroupGroupsUsersOptions(e){let t=e.groups_users;return t=this.filterOutUserToDeleteFromGroupsUsers(t),t=this.decorateGroupsUsersWithUserEntity(t),t=this.sortGroupsUsersAlphabeticallyByUserFullName(t),t}filterOutUserToDeleteFromGroupsUsers(e){return e.filter((e=>e.user_id!==this.userToDelete.id))}decorateGroupsUsersWithUserEntity(e){return e.forEach((e=>e.user=this.getUser(e.user_id))),e}sortGroupsUsersAlphabeticallyByUserFullName(e){return e.sort(((e,t)=>this.getUserFullName(e.user).localeCompare(this.getUserFullName(t.user))))}getAcosPermissionsOptionsMap(){const e={};return this.resourcesErrors.forEach((t=>{e[t.id]=this.getAcoPermissionsOptions(t)})),this.foldersErrors.forEach((t=>{e[t.id]=this.getAcoPermissionsOptions(t)})),e}getAcoPermissionsOptions(e){let t=e.permissions;return t=this.filterOutUserToDeleteFromPermissions(t),t=this.decoratePermissionWithAcoEntity(t),t=this.sortPermissionsAlphabeticallyByAcoName(t),t}filterOutUserToDeleteFromPermissions(e){return e.filter((e=>e.aro_foreign_key!==this.userToDelete.id))}decoratePermissionWithAcoEntity(e){return e.forEach((e=>{"Group"===e.aro?e.group=this.getGroup(e.aro_foreign_key):e.user=this.getUser(e.aro_foreign_key)})),e}sortPermissionsAlphabeticallyByAcoName(e){return e.sort(((e,t)=>{const s="Group"===e.aro?e.group.name:this.getUserFullName(e.user),a="Group"===t.aro?t.group.name:this.getUserFullName(t.user);return s.localeCompare(a)}))}getUser(e){return this.props.context.users.find((t=>t.id===e))}getGroup(e){return this.props.context.groups.find((t=>t.id===e))}getUserFullName(e){return`${e.profile.first_name} ${e.profile.last_name}`}async handleFormSubmit(e){e.preventDefault(),this.state.processing||await this.delete()}handleCloseClick(){this.props.onClose(),this.props.context.setContext({deleteUserWithConflictsDialogProps:null})}handleOnChangeOwner(e,t){const s=e.target.value,a=this.state.owners;Object.assign(a,{[t]:s}),this.setState({owners:a})}handleOnChangeManager(e,t){const s=e.target.value,a=this.state.managers;Object.assign(a,{[t]:s}),this.setState({managers:a})}createPermissionOwnersTransfer(){if(null!=this.state.owners){const e=[];for(const[t,s]of Object.entries(this.state.owners))e.push({id:s,aco_foreign_key:t});return e}return null}createPermissionManagersTransfer(){if(null!==this.state.managers){const e=[];for(const[t,s]of Object.entries(this.state.managers))e.push({id:s,group_id:t});return e}return null}createUserDeleteTransfer(){const e={};return(this.hasResourcesConflict()||this.hasFolderConflict())&&(e.owners=this.createPermissionOwnersTransfer()),this.hasGroupsConflict()&&(e.managers=this.createPermissionManagersTransfer()),e}async delete(){this.setState({processing:!0});try{const e=this.createUserDeleteTransfer();this.props.loadingContext.add(),await this.props.context.port.request("passbolt.users.delete",this.userToDelete.id,e),this.props.loadingContext.remove(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The user has been deleted successfully")),this.props.onClose(),this.props.context.setContext({deleteUserWithConflictsDialogProps:null})}catch(e){this.props.loadingContext.remove(),"UserAbortsOperationError"===e.name||(console.error(e),this.handleError(e)),this.setState({processing:!1})}}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}populateDefaultOwners(){const e={};return this.hasResourcesConflict()&&this.resourcesErrors.forEach((t=>{const s=this.acosPermissionsOptions[t.id][0];s&&(e[t.id]=s.id)})),this.hasFolderConflict()&&this.foldersErrors.forEach((t=>{const s=this.acosPermissionsOptions[t.id][0];s&&(e[t.id]=s.id)})),e}populateDefaultManagers(){return this.groupsErrors.reduce(((e,t)=>{const s=this.groupsGroupsUsersOptions[t.id][0];return Object.assign(e,{[t.id]:s.id})}),{})}get userToDelete(){return this.props.context.deleteUserWithConflictsDialogProps.user}hasFolderConflict(){return this.foldersErrors&&this.foldersErrors.length>0}hasResourcesConflict(){return this.resourcesErrors&&this.resourcesErrors.length>0}hasGroupsConflict(){return this.groupsErrors&&this.groupsErrors.length>0}getAcoPermissionsList(e){const t=e=>"User"===e.aro&&this.getUserOptionLabel(e.user)||"Group"===e.aro&&e.group.name;return this.acosPermissionsOptions[e]?.map((e=>({value:e.id,label:t(e)})))||[]}getGroupUsersList(e){return this.groupsGroupsUsersOptions[e]?.map((e=>({value:e.id,label:this.getUserOptionLabel(e.user)})))||[]}getUserOptionLabel(e){return`${e.profile.first_name} ${e.profile.last_name} (${e.username})`}hasAllInputDisabled(){return this.state.processing}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("You cannot delete this user!"),onClose:this.handleCloseClick,disabled:this.state.processing,className:"delete-user-dialog"},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content intro"},a.createElement("p",null,a.createElement(w.x6,null,"You are about to delete the user ",a.createElement("strong",{className:"dialog-variable"},{user:this.getUserFullName(this.userToDelete)}),".")),a.createElement("p",null,a.createElement(w.x6,null,"This user is the sole owner of some content. You need to transfer the ownership to others to continue."))),a.createElement("div",{className:"ownership-transfer"},this.hasFolderConflict()&&a.createElement("div",null,a.createElement("h3",null,a.createElement(w.x6,null,"Folders")),a.createElement("ul",{className:"ownership-transfer-items"},this.foldersErrors.map((e=>a.createElement("li",{key:e.id},a.createElement("div",{className:"select-wrapper input required "+(this.state.processing?"disabled":"")},a.createElement("label",{htmlFor:"transfer_folder_owner"},e.name," (",a.createElement(w.x6,null,"Folder"),") ",a.createElement(w.x6,null,"new owner"),":"),a.createElement(gs,{className:"form-element",value:this.state.owners[e.id],items:this.getAcoPermissionsList(e.id),onChange:t=>this.handleOnChangeOwner(t,e.id)}))))))),this.hasResourcesConflict()&&a.createElement("div",null,a.createElement("h3",null,a.createElement(w.x6,null,"Resources")),a.createElement("ul",{className:"ownership-transfer-items"},this.resourcesErrors.map((e=>a.createElement("li",{key:e.id},a.createElement("div",{className:"select-wrapper input required "+(this.state.processing?"disabled":"")},a.createElement("label",{htmlFor:"transfer_resource_owner"},e.metadata.name," (",a.createElement(w.x6,null,"Resource"),") ",a.createElement(w.x6,null,"new owner"),":"),a.createElement(gs,{className:"form-element",value:this.state.owners[e.id],items:this.getAcoPermissionsList(e.id),onChange:t=>this.handleOnChangeOwner(t,e.id)}))))))),this.hasGroupsConflict()&&a.createElement("div",null,a.createElement("h3",null,a.createElement(w.x6,null,"Groups")),a.createElement("ul",{className:"ownership-transfer-items"},this.groupsErrors.map((e=>a.createElement("li",{key:e.id},a.createElement("div",{className:"select-wrapper input required "+(this.state.processing?"disabled":"")},a.createElement("label",{htmlFor:"transfer_group_manager"},e.name," (",a.createElement(w.x6,null,"Group"),") ",a.createElement(w.x6,null,"new manager"),":"),a.createElement(gs,{className:"form-element",value:this.state.managers[e.id],items:this.getGroupUsersList(e.id),onChange:t=>this.handleOnChangeManager(t,e.id)})))))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseClick}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Delete"),warning:!0}))))}}Xs.propTypes={context:l().any,onClose:l().func,actionFeedbackContext:l().any,dialogContext:l().any,loadingContext:l().any,t:l().func};const Qs=h(He(_e(k((0,w.CI)("common")(Xs)))));class ea extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.initEventHandlers()}getDefaultState(){return{processing:!1}}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this)}async handleFormSubmit(e){e.preventDefault(),this.state.processing||await this.delete()}handleCloseClick(){this.props.onClose(),this.props.context.setContext({deleteUserDialogProps:null})}async delete(){this.setState({processing:!0});try{this.props.loadingContext.add(),await this.props.context.port.request("passbolt.users.delete",this.props.context.deleteUserDialogProps.user.id),this.props.loadingContext.remove(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The user has been deleted successfully")),this.props.onClose(),this.props.context.setContext({deleteUserDialogProps:null})}catch(e){this.props.loadingContext.remove(),"UserAbortsOperationError"===e.name||(console.error(e),this.handleError(e)),this.setState({processing:!1})}}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}hasAllInputDisabled(){return this.state.processing}getUser(){return`${this.props.context.deleteUserDialogProps.user.profile.first_name} ${this.props.context.deleteUserDialogProps.user.profile.last_name} (${this.props.context.deleteUserDialogProps.user.username})`}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("Delete user?"),onClose:this.handleCloseClick,disabled:this.state.processing,className:"delete-user-dialog"},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("p",null,a.createElement(w.x6,null,"Are you sure you want to delete ",a.createElement("strong",{className:"dialog-variable"},{user:this.getUser()}),"?")),a.createElement("p",null,a.createElement(w.x6,null,"This action cannot be undone. All the data associated with this user will be permanently deleted."))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseClick}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Delete"),warning:!0}))))}}ea.propTypes={context:l().any,onClose:l().func,actionFeedbackContext:l().any,dialogContext:l().any,loadingContext:l().any,t:l().func};const ta=h(He(_e(k((0,w.CI)("common")(ea)))));function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},sa.apply(null,arguments)}const aa=a.createContext({workflows:[],start:()=>{},stop:()=>{}});class na extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{workflows:[],start:(e,t)=>{const s=(0,E.A)();return this.setState({workflows:[...this.state.workflows,{key:s,Workflow:e,workflowProps:t}]}),s},stop:async e=>await this.setState({workflows:this.state.workflows.filter((t=>e!==t.key))})}}render(){return a.createElement(aa.Provider,{value:this.state},this.props.children)}}function ra(e){return class extends a.Component{render(){return a.createElement(aa.Consumer,null,(t=>a.createElement(e,sa({workflowContext:t},this.props))))}}}function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ia.apply(null,arguments)}na.displayName="WorkflowContextProvider",na.propTypes={children:l().any};const oa=a.createContext({accountRecoveryOrganizationPolicy:null,status:null,isDataLoaded:!1,findAccountRecoveryPolicy:()=>{},getOrganizationPolicy:()=>{},getRequestor:()=>{},getRequestedDate:()=>{},getPolicy:()=>{},getUserAccountRecoverySubscriptionStatus:()=>{},isAccountRecoveryChoiceRequired:()=>{},isPolicyEnabled:()=>{},loadAccountRecoveryPolicy:()=>{},reloadAccountRecoveryPolicy:()=>{},isReady:()=>{}});class la extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{accountRecoveryOrganizationPolicy:null,status:null,isDataLoaded:!1,findAccountRecoveryPolicy:this.findAccountRecoveryPolicy.bind(this),getOrganizationPolicy:this.getOrganizationPolicy.bind(this),getRequestor:this.getRequestor.bind(this),getRequestedDate:this.getRequestedDate.bind(this),getPolicy:this.getPolicy.bind(this),getUserAccountRecoverySubscriptionStatus:this.getUserAccountRecoverySubscriptionStatus.bind(this),setUserAccountRecoveryStatus:this.setUserAccountRecoveryStatus.bind(this),isAccountRecoveryChoiceRequired:this.isAccountRecoveryChoiceRequired.bind(this),isPolicyEnabled:this.isPolicyEnabled.bind(this),loadAccountRecoveryPolicy:this.loadAccountRecoveryPolicy.bind(this),reloadAccountRecoveryPolicy:this.reloadAccountRecoveryPolicy.bind(this),isReady:this.isReady.bind(this)}}async loadAccountRecoveryPolicy(){this.state.isDataLoaded||await this.findAccountRecoveryPolicy()}async reloadAccountRecoveryPolicy(){await this.findAccountRecoveryPolicy()}async findAccountRecoveryPolicy(){if(!this.props.context.siteSettings.canIUse("accountRecovery"))return;const e=this.props.context.loggedInUser;if(!e)return;const t=await this.props.accountRecoveryUserService.getOrganizationAccountRecoverySettings(),s=e.account_recovery_user_setting?.status||la.STATUS_PENDING;this.setState({accountRecoveryOrganizationPolicy:t,status:s,isDataLoaded:!0})}isReady(){return this.state.isDataLoaded}getOrganizationPolicy(){return this.state.accountRecoveryOrganizationPolicy}getRequestedDate(){return this.getOrganizationPolicy()?.modified}getRequestor(){return this.getOrganizationPolicy()?.creator}getPolicy(){return this.getOrganizationPolicy()?.policy}getUserAccountRecoverySubscriptionStatus(){return this.state.status}setUserAccountRecoveryStatus(e){this.setState({status:e})}isAccountRecoveryChoiceRequired(){if(null===this.getOrganizationPolicy())return!1;const e=this.getPolicy();return this.state.status===la.STATUS_PENDING&&e!==la.POLICY_DISABLED}isPolicyEnabled(){const e=this.getPolicy();return e&&e!==la.POLICY_DISABLED}static get STATUS_PENDING(){return"pending"}static get POLICY_DISABLED(){return"disabled"}static get POLICY_MANDATORY(){return"mandatory"}static get POLICY_OPT_OUT(){return"opt-out"}static get STATUS_APPROVED(){return"approved"}render(){return a.createElement(oa.Provider,{value:this.state},this.props.children)}}la.propTypes={context:l().any.isRequired,children:l().any,accountRecoveryUserService:l().object.isRequired};const ca=h(la);function da(e){return class extends a.Component{render(){return a.createElement(oa.Consumer,null,(t=>a.createElement(e,ia({accountRecoveryContext:t},this.props))))}}}class ha extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{viewPassword:!1,hasPassphraseFocus:!1}}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handlePasswordInputFocus=this.handlePasswordInputFocus.bind(this),this.handlePasswordInputBlur=this.handlePasswordInputBlur.bind(this),this.handleViewPasswordButtonClick=this.handleViewPasswordButtonClick.bind(this)}handleInputChange(e){this.props.onChange&&this.props.onChange(e)}handlePasswordInputFocus(){this.setState({hasPassphraseFocus:!0})}handlePasswordInputBlur(){this.setState({hasPassphraseFocus:!1})}handleViewPasswordButtonClick(){this.props.disabled||this.setState({viewPassword:!this.state.viewPassword})}get securityTokenStyle(){const e={background:this.props.securityToken.textColor,color:this.props.securityToken.backgroundColor},t={background:this.props.securityToken.backgroundColor,color:this.props.securityToken.textColor};return this.state.hasPassphraseFocus?e:t}get passphraseInputStyle(){const e={background:this.props.securityToken.backgroundColor,color:this.props.securityToken.textColor,"--passphrase-placeholder-color":this.props.securityToken.textColor};return this.state.hasPassphraseFocus?e:void 0}get previewStyle(){const e={"--icon-color":this.props.securityToken.textColor,"--icon-background-color":this.props.securityToken.backgroundColor};return this.state.hasPassphraseFocus?e:void 0}render(){return a.createElement("div",{className:`input password ${this.props.disabled?"disabled":""} ${this.state.hasPassphraseFocus?"":"no-focus"} ${this.props.securityToken?"security":""}`,style:this.props.securityToken?this.passphraseInputStyle:void 0},a.createElement("input",{id:this.props.id,name:this.props.name,maxLength:"4096",placeholder:this.props.placeholder,type:this.state.viewPassword&&!this.props.disabled?"text":"password",onKeyUp:this.props.onKeyUp,value:this.props.value,onFocus:this.handlePasswordInputFocus,onBlur:this.handlePasswordInputBlur,onChange:this.handleInputChange,disabled:this.props.disabled,readOnly:this.props.readOnly,autoComplete:this.props.autoComplete,"aria-required":!0,ref:this.props.inputRef}),this.props.preview&&a.createElement("div",{className:"password-view-wrapper"},a.createElement("button",{type:"button",onClick:this.handleViewPasswordButtonClick,style:this.props.securityToken?this.previewStyle:void 0,className:"password-view infield button-transparent "+(this.props.disabled?"disabled":"")},!this.state.viewPassword&&a.createElement(ge,{name:"eye-open"}),this.state.viewPassword&&a.createElement(ge,{name:"eye-close"}),a.createElement("span",{className:"visually-hidden"},a.createElement(w.x6,null,"View")))),this.props.securityToken&&a.createElement("div",{className:"security-token-wrapper"},a.createElement("span",{className:"security-token",style:this.securityTokenStyle},this.props.securityToken.code)))}}ha.defaultProps={id:"",name:"",autoComplete:"off"},ha.propTypes={context:l().any,id:l().string,name:l().string,value:l().string,placeholder:l().string,autoComplete:l().string,inputRef:l().object,disabled:l().bool,readOnly:l().bool,preview:l().bool,onChange:l().func,onKeyUp:l().func,securityToken:l().shape({code:l().string,backgroundColor:l().string,textColor:l().string})};const ma=(0,w.CI)("common")(ha);class pa extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createInputRef()}get defaultState(){return{processing:!1,key:"",keyError:"",password:"",passwordError:"",passwordWarning:"",hasAlreadyBeenValidated:!1,selectedFile:null}}bindCallbacks(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleKeyInputKeyUp=this.handleKeyInputKeyUp.bind(this),this.handlePasswordInputKeyUp=this.handlePasswordInputKeyUp.bind(this),this.handleSelectFile=this.handleSelectFile.bind(this),this.handleSelectOrganizationKeyFile=this.handleSelectOrganizationKeyFile.bind(this)}createInputRef(){this.keyInputRef=a.createRef(),this.fileUploaderRef=a.createRef(),this.passwordInputRef=a.createRef()}handleKeyInputKeyUp(){if(this.state.hasAlreadyBeenValidated){const e=this.validateKeyInput();this.setState(e)}}async handleSelectOrganizationKeyFile(e){const[t]=e.target.files,s=await this.readOrganizationKeyFile(t);await this.fillOrganizationKey(s),this.setState({selectedFile:t}),this.state.hasAlreadyBeenValidated&&await this.validate()}readOrganizationKeyFile(e){const t=new FileReader;return new Promise(((s,a)=>{t.onloadend=()=>{try{s(t.result)}catch(e){a(e)}},t.readAsText(e)}))}async fillOrganizationKey(e){await this.setState({key:e})}validateKeyInput(){const e=this.state.key.trim();let t="";return e.length||(t=this.translate("An organization key is required.")),new Promise((e=>{this.setState({keyError:t},e)}))}focusFirstFieldError(){this.state.keyError?this.keyInputRef.current.focus():this.state.passwordError&&this.passwordInputRef.current.focus()}handlePasswordInputKeyUp(){if(this.state.hasAlreadyBeenValidated)this.setState({passwordError:""});else{const e=this.state.password.length>=4096,t=this.translate("this is the maximum size for this field, make sure your data was not truncated"),s=e?t:"";this.setState({passwordWarning:s})}}handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.setState({[a]:s})}handleSelectFile(){this.fileUploaderRef.current.click()}async handleFormSubmit(e){e.preventDefault(),this.state.processing||await this.save()}async save(){if(this.setState({hasAlreadyBeenValidated:!0}),await this.toggleProcessing(),!await this.validate())return this.handleValidateError(),void await this.toggleProcessing();const e={armored_key:this.state.key,passphrase:this.state.password};try{await this.props.context.port.request("passbolt.account-recovery.validate-organization-private-key",e),await this.props.onSubmit(e),await this.toggleProcessing(),this.props.onClose()}catch(e){await this.handleSubmitError(e),await this.toggleProcessing()}}async handleSubmitError(e){"UserAbortsOperationError"!==e.name&&("WrongOrganizationRecoveryKeyError"===e.name?this.setState({expectedFingerprintError:e.expectedFingerprint}):"InvalidMasterPasswordError"===e.name?this.setState({passwordError:this.translate("This is not a valid passphrase.")}):"BadSignatureMessageGpgKeyError"===e.name||"GpgKeyError"===e.name?this.setState({keyError:e.message}):(console.error("Uncaught uncontrolled error"),this.onUnexpectedError(e)))}onUnexpectedError(e){const t={error:e};this.props.dialogContext.open(we,t)}handleValidateError(){this.focusFirstFieldError()}async validate(){return this.setState({keyError:"",passwordError:"",expectedFingerprintError:""}),await this.validateKeyInput(),""===this.state.keyError&&""===this.state.passwordError}async toggleProcessing(){await this.setState({processing:!this.state.processing})}hasAllInputDisabled(){return this.state.processing}handleCloseClick(){this.props.onClose()}formatFingerprint(e){if(!e)return a.createElement(a.Fragment,null);const t=e.toUpperCase().replace(/.{4}/g,"$& ");return a.createElement(a.Fragment,null,t.substr(0,24),a.createElement("br",null),t.substr(25))}get selectedFilename(){return this.state.selectedFile?this.state.selectedFile.name:""}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("Organization Recovery Key"),onClose:this.handleCloseClick,disabled:this.state.processing,className:"provide-organization-recover-key-dialog"},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content provide-organization-key"},a.createElement("div",{className:"input textarea required "+(this.state.keyError||this.state.expectedFingerprintError?"error":"")},a.createElement("label",{htmlFor:"organization-recover-form-key"},a.createElement(w.x6,null,"Enter the private key used by your organization for account recovery")),a.createElement("textarea",{id:"organization-recover-form-key",name:"key",value:this.state.key,onKeyUp:this.handleKeyInputKeyUp,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),ref:this.keyInputRef,className:"required",placeholder:this.translate("Paste the OpenPGP Private key here"),required:"required",autoComplete:"off",autoFocus:!0})),a.createElement("div",{className:"input file"},a.createElement("input",{type:"file",id:"dialog-import-private-key",ref:this.fileUploaderRef,disabled:this.hasAllInputDisabled(),onChange:this.handleSelectOrganizationKeyFile}),a.createElement("label",{htmlFor:"dialog-import-private-key"},a.createElement(w.x6,null,"Select a file to import")),a.createElement("div",{className:"input-file-inline"},a.createElement("input",{type:"text",disabled:!0,placeholder:this.translate("No file selected"),defaultValue:this.selectedFilename}),a.createElement("button",{className:"button primary",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleSelectFile},a.createElement("span",null,a.createElement(w.x6,null,"Choose a file")))),this.state.keyError&&a.createElement("div",{className:"key error-message"},this.state.keyError),this.state.expectedFingerprintError&&a.createElement("div",{className:"key error-message"},a.createElement(w.x6,null,"Error, this is not the current organization recovery key."),a.createElement("br",null),a.createElement(w.x6,null,"Expected fingerprint:"),a.createElement("br",null),a.createElement("br",null),a.createElement("span",{className:"fingerprint"},this.formatFingerprint(this.state.expectedFingerprintError)))),a.createElement("div",{className:"input-password-wrapper input "+(this.state.passwordError?"error":"")},a.createElement("label",{htmlFor:"generate-organization-key-form-password"},a.createElement(w.x6,null,"Organization key passphrase"),this.state.passwordWarning&&a.createElement(ge,{name:"exclamation"})),a.createElement(ma,{id:"generate-organization-key-form-password",name:"password",placeholder:this.translate("Passphrase"),autoComplete:"new-password",onKeyUp:this.handlePasswordInputKeyUp,value:this.state.password,securityToken:this.props.context.userSettings.getSecurityToken(),preview:!0,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),inputRef:this.passwordInputRef}),this.state.passwordError&&a.createElement("div",{className:"password error-message"},this.state.passwordError),this.state.passwordWarning&&a.createElement("div",{className:"password warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.passwordWarning))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseClick}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Submit")}))))}}pa.propTypes={context:l().any.isRequired,onClose:l().func,onSubmit:l().func,actionFeedbackContext:l().any,dialogContext:l().object,t:l().func};const ua=h(k((0,w.CI)("common")(pa)));class ga extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{status:"rejected",processing:!1}}bindCallbacks(){this.handleSubmit=this.handleSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this)}async toggleProcessing(){await this.setState({processing:!this.state.processing})}get isProcessing(){return this.state.processing}async handleSubmit(e){e.preventDefault(),this.state.processing||await this.submit()}async submit(){await this.toggleProcessing();try{await this.props.onSubmit(this.state.status),await this.toggleProcessing(),this.props.onClose()}catch(e){await this.toggleProcessing(),this.onUnexpectedError(e)}}onUnexpectedError(e){const t={error:e};this.props.dialogContext.open(we,t)}handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.setState({[a]:s})}get fingerprint(){const e=this.props.accountRecoveryRequest.fingerprint.toUpperCase().replace(/.{4}/g,"$& ");return a.createElement(a.Fragment,null,e.substr(0,24),a.createElement("br",null),e.substr(25))}get creatorRole(){return this.props.context.roles.find((e=>e.id===this.creator.role_id)).name}get creator(){return this.props.accountRecoveryRequest.creator}get creatorName(){return a.createElement(a.Fragment,null,this.creator.profile.first_name," ",this.creator.profile.last_name," (",this.creator.username,")")}get date(){return this.props.accountRecoveryRequest.created}handleCloseClick(){this.props.onCancel(),this.props.onClose()}get translate(){return this.props.t}render(){const e=Yt(this.creator);return a.createElement(ve,{title:this.translate("Review account recovery request"),onClose:this.handleCloseClick,disabled:this.state.processing,className:"review-account-recovery-dialog"},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("div",{className:"form-content"},a.createElement("ul",null,a.createElement("li",{className:"usercard-detailed-col-2"},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement("div",null,a.createElement(fe,{message:this.fingerprint,direction:"bottom"},a.createElement("span",{className:"name-with-tooltip"},this.creatorName)),"",a.createElement("span",{className:"name"},a.createElement(w.x6,null,"requested an account recovery"))),a.createElement("div",{className:"subinfo light"},a.createElement("span",{className:"dateTimeAgo"},nt(this.date,this.props.t,this.props.context.locale)),a.createElement("span",{className:"chips-group"},a.createElement("span",{className:`chips user-status ${e}`},this.props.t(e)),a.createElement("span",{className:`chips user-role ${this.creatorRole}`},this.creatorRole))))),a.createElement(Gt,{user:this.creator,baseUrl:this.props.context.userSettings.getTrustedDomain(),attentionRequired:!0}))),a.createElement("label",null,a.createElement(w.x6,null,"How do you want to proceed?")),a.createElement("div",{className:"radiolist-alt"},a.createElement("div",{className:"input radio "+("rejected"===this.state.status?"checked":"")},a.createElement("input",{type:"radio",value:"rejected",onChange:this.handleInputChange,name:"status",checked:"rejected"===this.state.status,id:"statusRecoverAccountReject",disabled:this.isProcessing}),a.createElement("label",{htmlFor:"statusRecoverAccountReject"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Reject")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,this.creatorName," did not initiate this request.")))),a.createElement("div",{className:"input radio "+("approved"===this.state.status?"checked":"")},a.createElement("input",{type:"radio",value:"approved",onChange:this.handleInputChange,name:"status",checked:"approved"===this.state.status,id:"statusRecoverAccountAccept",disabled:this.isProcessing}),a.createElement("label",{htmlFor:"statusRecoverAccountAccept"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Approve")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"I verified with ",a.createElement("span",null,this.creatorName)," that the request is valid.")))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://help.passbolt.com/faq/start/account-recovery/review-request",className:"button button-left "+(this.isProcessing?"disabled":""),disabled:this.isProcessing},a.createElement(w.x6,null,"Learn more")),a.createElement(qt,{disabled:this.isProcessing,onClick:this.handleCloseClick}),a.createElement(Vt,{value:this.translate("Submit"),disabled:this.isProcessing,processing:this.isProcessing}))))}}ga.propTypes={context:l().any.isRequired,accountRecoveryRequest:l().object.isRequired,dialogContext:l().object,onClose:l().func,onCancel:l().func,onSubmit:l().func,t:l().func};const Ca=h(k((0,w.CI)("common")(ga)));class ba extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{responseStatus:null,accountRecoveryRequest:null,currentOpenedDialog:null}}async componentDidMount(){await this.props.accountRecoveryContext.loadAccountRecoveryPolicy(),await this.getAccountRecoveryRequest(),await this.displayReviewAccountRecoveryDialog()}async getAccountRecoveryRequest(){let e=this.props.accountRecoveryRequest;e||(e=await this.props.context.port.request("passbolt.account-recovery.get-request",this.props.accountRecoveryRequestId)),this.setState({accountRecoveryRequest:e})}bindCallbacks(){this.handleCancelDialog=this.handleCancelDialog.bind(this),this.reviewAccountRecoveryRequest=this.reviewAccountRecoveryRequest.bind(this),this.handleSave=this.handleSave.bind(this),this.handleError=this.handleError.bind(this)}async displayReviewAccountRecoveryDialog(){const e=this.props.dialogContext.open(Ca,{accountRecoveryRequest:this.state.accountRecoveryRequest,onCancel:this.handleCancelDialog,onSubmit:this.reviewAccountRecoveryRequest});this.setState({currentOpenedDialog:e})}displayProvideAccountRecoveryOrganizationKeyDialog(){const e=this.props.dialogContext.open(ua,{onCancel:this.handleCancelDialog,onSubmit:this.handleSave});this.setState({currentOpenedDialog:e})}handleCancelDialog(){this.props.onStop(),this.props.dialogContext.close(this.state.currentOpenedDialog)}reviewAccountRecoveryRequest(e){this.setState({responseStatus:e}),"approved"!==e?this.handleSave():this.displayProvideAccountRecoveryOrganizationKeyDialog()}async handleSave(e){try{await this.props.context.port.request("passbolt.account-recovery.review-request",this.state.accountRecoveryRequest.id,this.state.responseStatus,e),await this.props.actionFeedbackContext.displaySuccess(this.props.t("The account recovery review has been saved successfully")),this.props.onStop()}catch(e){if("UserAbortsOperationError"===e.name)return;this.handleError(e)}}async handleError(e){const t={error:e};this.props.dialogContext.open(we,t),this.props.onStop(),this.props.dialogContext.close(this.state.currentOpenedDialog)}render(){return a.createElement(a.Fragment,null)}}const Ea=(e,t,s)=>{if(!e.accountRecoveryRequestId&&!e.accountRecoveryRequest)return new Error(`One of 'accountRecoveryRequestId' or 'accountRecoveryRequest' is required by '${s}' component.`);e.accountRecoveryRequestId&&l().checkPropTypes({accountRecoveryRequestId:l().string},e,t,s),e.accountRecoveryRequest&&l().checkPropTypes({accountRecoveryRequestId:l().object},e,t,s)};ba.propTypes={onStop:l().func.isRequired,dialogContext:l().any,actionFeedbackContext:l().object,accountRecoveryContext:l().object,context:l().object,accountRecoveryRequestId:Ea,accountRecoveryRequest:Ea,t:l().func};const fa=h(da(k(_e((0,w.CI)("common")(ba)))));class ya{static async copy(e,t){if(navigator.clipboard)try{await navigator.clipboard.writeText(e)}catch{ya.copyWithBrowserExtension(e,t)}else ya.copyWithBrowserExtension(e,t)}static copyWithBrowserExtension(e,t){t.request("passbolt.clipboard.copy",e)}}const va=ya;class ka extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handlePermalinkCopy=this.handlePermalinkCopy.bind(this),this.handlePublicKeyCopy=this.handlePublicKeyCopy.bind(this),this.handleUsernameCopy=this.handleUsernameCopy.bind(this),this.handleEditClickEvent=this.handleEditClickEvent.bind(this),this.handleResendInviteClickEvent=this.handleResendInviteClickEvent.bind(this),this.handleDeleteClickEvent=this.handleDeleteClickEvent.bind(this),this.handleDisableMfaEvent=this.handleDisableMfaEvent.bind(this),this.handleReviewRecoveryRequestClickEvent=this.handleReviewRecoveryRequestClickEvent.bind(this)}get canIUseMfa(){return this.props.context.siteSettings.canIUse("multiFactorAuthentication")&&this.isLoggedInUserAdmin()}get canDisableMfaForUser(){return this.props.user.is_mfa_enabled}get user(){return this.props.user}get canIUseResend(){return this.isLoggedInUserAdmin()}get canResendInviteToUser(){return this.user&&!this.user.active}async handlePermalinkCopy(){const e=`${this.props.context.userSettings.getTrustedDomain()}/app/users/view/${this.user.id}`;await va.copy(e,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The permalink has been copied to clipboard")),this.props.hide()}async handleUsernameCopy(){const e=`${this.user.username}`;await va.copy(e,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The email has been copied to clipboard")),this.props.hide()}async handlePublicKeyCopy(){const e=await this.props.context.port.request("passbolt.keyring.get-public-key-info-by-user",this.user.id);await va.copy(e.armored_key,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The public key has been copied to clipboard")),this.props.hide()}handleEditClickEvent(){const e={id:this.user.id};this.props.context.setContext({editUserDialogProps:e}),this.props.dialogContext.open(Zs),this.props.hide()}handleResendInviteClickEvent(){this.resendInvite()}handleDisableMfaEvent(){this.disableMFA()}async handleDeleteClickEvent(){try{await this.props.context.port.request("passbolt.users.delete-dry-run",this.user.id),this.displayDeleteUserDialog()}catch(e){"DeleteDryRunError"===e.name?this.displayDeleteUserWithConflictsDialog(e.errors):this.handleError(e)}this.props.hide()}displayDeleteUserDialog(){const e={user:this.user};this.props.context.setContext({deleteUserDialogProps:e}),this.props.dialogContext.open(ta)}displayDeleteUserWithConflictsDialog(e){const t={user:this.user,errors:e};this.props.context.setContext({deleteUserWithConflictsDialogProps:t}),this.props.dialogContext.open(Qs)}handleReviewRecoveryRequestClickEvent(){const e=this.user.pending_account_recovery_request.id;this.props.workflowContext.start(fa,{accountRecoveryRequestId:e}),this.props.hide()}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}canIUseEdit(){return this.isLoggedInUserAdmin()}canIUseDelete(){return this.isLoggedInUserAdmin()}canIReviewAccountRecoveryRequest(){return this.props.context.siteSettings.canIUse("accountRecovery")&&this.isLoggedInUserAdmin()}canDeleteUser(){return this.props.context.loggedInUser.id!==this.user.id}canCopyPublicKey(){return this.user.active}hasPendingAccountRecoveryRequest(){return this.user&&Boolean(this.user.pending_account_recovery_request)}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}disableMFA(){this.props.dialogContext.open(Js),this.props.hide()}resendInvite(){this.props.context.port.request("passbolt.users.resend-invite",this.user.username).then(this.onResendInviteSuccess.bind(this)).catch(this.onResendInviteFailure.bind(this))}onResendInviteSuccess(){this.props.actionFeedbackContext.displaySuccess(this.translate("The invite has been resent successfully")),this.props.hide()}onResendInviteFailure(e){const t={error:e};this.props.hide(),this.props.dialogContext.open(we,t)}get translate(){return this.props.t}render(){return a.createElement(Ks,{hide:this.props.hide,left:this.props.left,top:this.props.top},a.createElement("li",{key:"copy-user-permalink",className:"opened"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handlePermalinkCopy},a.createElement("span",null,a.createElement(w.x6,null,"Copy permalink"))))))),a.createElement("li",{key:"copy-public-key",className:"opened"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",onClick:this.handlePublicKeyCopy,disabled:!this.canCopyPublicKey(),className:"link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Copy public key"))))))),a.createElement("li",{key:"copy-username",className:"separator-after opened"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleUsernameCopy},a.createElement("span",null,a.createElement(w.x6,null,"Copy email address"))))))),this.canIUseEdit()&&a.createElement("li",{key:"edit-user",className:"ready"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",id:"edit",onClick:this.handleEditClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Edit"))))))),this.canIUseResend&&a.createElement("li",{key:"resend-invite-user",className:"ready"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",id:"resend",onClick:this.handleResendInviteClickEvent,disabled:!this.canResendInviteToUser,className:"link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Resend invite"))))))),this.canIUseMfa&&a.createElement("li",{key:"disable-user-mfa",className:"ready"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",id:"disable-mfa",onClick:this.handleDisableMfaEvent,disabled:!this.canDisableMfaForUser,className:"link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Disable MFA"))))))),this.canIUseDelete()&&a.createElement("li",{key:"delete-user",className:"ready"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",id:"delete",onClick:this.handleDeleteClickEvent,disabled:!this.canDeleteUser(),className:"link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Delete"))))))),this.canIReviewAccountRecoveryRequest()&&a.createElement("li",{key:"review-recovery-user",className:"ready"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",id:"review-recovery",onClick:this.handleReviewRecoveryRequestClickEvent,disabled:!this.hasPendingAccountRecoveryRequest(),className:"link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Review recovery request"))))))))}}ka.propTypes={context:l().any,hide:l().func,left:l().number,top:l().number,workflowContext:l().any,dialogContext:l().any,user:l().object,actionFeedbackContext:l().any,t:l().func};const wa=h(ra(k(_e((0,w.CI)("common")(ka)))));class xa extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.initEventHandlers(),this.createRefs()}getDefaultState(){return{}}initEventHandlers(){this.handleUserSelected=this.handleUserSelected.bind(this),this.handleUserRightClick=this.handleUserRightClick.bind(this),this.handleCheckboxWrapperClick=this.handleCheckboxWrapperClick.bind(this),this.handleSortByColumnClick=this.handleSortByColumnClick.bind(this)}createRefs(){this.listRef=a.createRef(),this.dragFeedbackElement=a.createRef()}componentDidMount(){this.props.accountRecoveryContext.loadAccountRecoveryPolicy()}componentDidUpdate(){this.handleUserScroll()}handleUserScroll(){const e=this.props.userWorkspaceContext.scrollTo.user;e&&(this.scrollTo(e.id),this.props.userWorkspaceContext.onUserScrolled())}async handleUserSelected(e,t){e.preventDefault(),e.stopPropagation(),await this.selectUser(t)}async handleUserRightClick(e,t){e.preventDefault(),this.displayContextualMenu(e,t),await this.selectUserIfNotAlreadySelected(t)}handleCheckboxWrapperClick(e,t){e.stopPropagation(),this.props.userWorkspaceContext.onUserSelected.single(t)}async handleSortByColumnClick(e,t){this.props.userWorkspaceContext.onSorterChanged(t)}get users(){return this.props.userWorkspaceContext.filteredUsers}get selectedUsers(){return this.props.userWorkspaceContext.selectedUsers}isUserSelected(e){return this.props.userWorkspaceContext.selectedUsers.some((t=>e.id===t.id))}displayContextualMenu(e,t){const s={left:e.pageX,top:e.pageY,user:t};this.props.contextualMenuContext.show(wa,s)}async selectUser(e){await this.props.userWorkspaceContext.onUserSelected.single(e)}scrollTo(e){const t=this.users.findIndex((t=>t.id===e)),[s,a]=this.listRef.current.getVisibleRange();(t<s||t>a)&&this.listRef.current.scrollTo(t)}async selectUserIfNotAlreadySelected(e){const[t]=this.props.userWorkspaceContext.selectedUsers;(!t||t.id!==e.id)&&await this.selectUser(e)}renderTable(e,t){return a.createElement("table",{style:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"}},a.createElement("tbody",{ref:t},e))}isSortedColumn(e){return this.props.userWorkspaceContext.sorter.propertyName===e}isSortedAsc(){return this.props.userWorkspaceContext.sorter.asc}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}hasAttentionRequiredColumn(){return this.props.context.siteSettings.canIUse("accountRecovery")&&this.isLoggedInUserAdmin()}hasMfaColumn(){return this.props.context.siteSettings.canIUse("multiFactorAuthentication")&&this.isLoggedInUserAdmin()}hasSuspendedColumn(){return this.props.context.siteSettings.canIUse("disableUser")&&this.isLoggedInUserAdmin()}hasAccountRecoveryColumn(){return this.props.context.siteSettings.canIUse("accountRecovery")&&this.isLoggedInUserAdmin()&&this.props.accountRecoveryContext.isPolicyEnabled()}renderItem(e,t){const s=this.users[e],n=this.isUserSelected(s),r=this.hasSuspendedColumn()&&Zt(s),i=nt(s.modified,this.props.t,this.props.context.locale),o=s.last_logged_in?nt(s.last_logged_in,this.props.t,this.props.context.locale):"",l=this.props.userWorkspaceContext.getTranslatedRoleName(s.role_id),c=s.is_mfa_enabled?this.translate("Enabled"):this.translate("Disabled"),d=`${n?"selected":""} ${s.active?"":"inactive"} ${r?"suspended":""}`,h=Boolean(s.pending_account_recovery_request);return a.createElement("tr",{id:`user_${s.id}`,key:t,className:d,onClick:e=>this.handleUserSelected(e,s),onContextMenu:e=>this.handleUserRightClick(e,s)},a.createElement("td",{className:"cell-checkbox selections s-cell"},a.createElement("div",{className:"input checkbox"},a.createElement("input",{type:"checkbox",id:`checkbox_multiple_select_checkbox_${s.id}`,checked:n,readOnly:!0,onClick:e=>this.handleCheckboxWrapperClick(e,s)}),a.createElement("span",{className:"visually-hidden"},a.createElement(w.x6,null,"Select user")))),this.hasAttentionRequiredColumn()&&a.createElement("td",{className:"s-cell attention-required"},h&&a.createElement(ge,{name:"exclamation",baseline:!0})),a.createElement("td",{className:"cell-name l-cell"},a.createElement("div",{title:`${s.profile.first_name} ${s.profile.last_name}`},`${s.profile.first_name} ${s.profile.last_name}`)),a.createElement("td",{className:"cell-username l-cell username"},a.createElement("div",{title:s.username},s.username)),a.createElement("td",{className:"cell-role m-cell role"},a.createElement("div",{title:l},l)),this.hasSuspendedColumn()&&a.createElement("td",{className:"cell-role m-cell suspended"},a.createElement("div",null,r?this.translate("Yes"):this.translate("No"))),a.createElement("td",{className:"cell-modified m-cell"},a.createElement("div",{title:s.modified},i)),a.createElement("td",{className:"cell-last_logged_in m-cell"},a.createElement("div",{title:s.last_logged_in},o)),this.hasMfaColumn()&&a.createElement("td",{className:"cell-is_mfa_enabled m-cell"},a.createElement("div",null,c)),this.hasAccountRecoveryColumn()&&a.createElement("td",{className:"cell-is_account_recovery_enabled m-cell"},a.createElement("div",null,{approved:a.createElement(w.x6,null,"Approved"),rejected:a.createElement(w.x6,null,"Rejected"),[void 0]:a.createElement(w.x6,null,"Pending")}[s?.account_recovery_user_setting?.status])))}get translate(){return this.props.t}render(){const e=null!==this.users,t=e&&0===this.users.length,s=this.props.userWorkspaceContext.filter.type;return a.createElement("div",{className:"tableview ready "+(t?"empty":"")},!e&&a.createElement("div",{className:"empty-content"}),e&&a.createElement(a.Fragment,null,t&&s===Ms.TEXT&&a.createElement("div",{className:"empty-content"},a.createElement("h2",null,a.createElement(w.x6,null,"None of the users matched this search.")),a.createElement("p",{className:"try-another-search"},a.createElement(w.x6,null,"Try another search or use the left panel to navigate into your organization."))),!t&&a.createElement(a.Fragment,null,a.createElement("div",{className:"tableview-header"},a.createElement("table",null,a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:"cell-checkbox selections s-cell"},a.createElement("div",{className:"input checkbox"},a.createElement("input",{type:"checkbox",name:"select all",checked:!1,readOnly:!0}),a.createElement("span",{className:"visually-hidden"},a.createElement(w.x6,null,"Select all")))),this.hasAttentionRequiredColumn()&&a.createElement("th",{className:"s-cell attention-required"},a.createElement("button",{className:"link no-border",type:"button",onClick:e=>this.handleSortByColumnClick(e,"attentionRequired")},a.createElement("div",{className:"cell-header"},a.createElement("span",{className:"cell-header-text"},a.createElement(ge,{name:"exclamation",baseline:!0})),a.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("attentionRequired")&&this.isSortedAsc()&&a.createElement(ge,{name:"ascending"}),this.isSortedColumn("attentionRequired")&&!this.isSortedAsc()&&a.createElement(ge,{name:"descending"}))))),a.createElement("th",{className:"cell-name l-cell sortable"},a.createElement("button",{className:"link no-border",type:"button",onClick:e=>this.handleSortByColumnClick(e,"name")},a.createElement("div",{className:"cell-header"},a.createElement("span",{className:"cell-header-text"},a.createElement(w.x6,null,"Name")),a.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("name")&&this.isSortedAsc()&&a.createElement(ge,{name:"ascending"}),this.isSortedColumn("name")&&!this.isSortedAsc()&&a.createElement(ge,{name:"descending"}))))),a.createElement("th",{className:"cell-username l-cell username sortable"},a.createElement("button",{className:"link no-border",type:"button",onClick:e=>this.handleSortByColumnClick(e,"username")},a.createElement("div",{className:"cell-header"},a.createElement("span",{className:"cell-header-text"},a.createElement(w.x6,null,"Username")),a.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("username")&&this.isSortedAsc()&&a.createElement(ge,{name:"ascending"}),this.isSortedColumn("username")&&!this.isSortedAsc()&&a.createElement(ge,{name:"descending"}))))),a.createElement("th",{className:"cell-role m-cell role sortable"},a.createElement("button",{className:"link no-border",type:"button",onClick:e=>this.handleSortByColumnClick(e,"role.name")},a.createElement("div",{className:"cell-header"},a.createElement("span",{className:"cell-header-text"},a.createElement(w.x6,null,"Role")),a.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("role.name")&&this.isSortedAsc()&&a.createElement(ge,{name:"ascending"}),this.isSortedColumn("role.name")&&!this.isSortedAsc()&&a.createElement(ge,{name:"descending"}))))),this.hasSuspendedColumn()&&a.createElement("th",{className:"cell-role m-cell suspended"},a.createElement("button",{className:"link no-border",type:"button",onClick:e=>this.handleSortByColumnClick(e,"disabled")},a.createElement("div",{className:"cell-header"},a.createElement("span",{className:"cell-header-text"},a.createElement(w.x6,null,"Suspended")),a.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("disabled")&&this.isSortedAsc()&&a.createElement(ge,{name:"ascending"}),this.isSortedColumn("disabled")&&!this.isSortedAsc()&&a.createElement(ge,{name:"descending"}))))),a.createElement("th",{className:"cell-modified m-cell sortable"},a.createElement("button",{className:"link no-border",type:"button",onClick:e=>this.handleSortByColumnClick(e,"modified")},a.createElement("div",{className:"cell-header"},a.createElement("span",{className:"cell-header-text"},a.createElement(w.x6,null,"Modified")),a.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("modified")&&this.isSortedAsc()&&a.createElement(ge,{name:"ascending"}),this.isSortedColumn("modified")&&!this.isSortedAsc()&&a.createElement(ge,{name:"descending"}))))),a.createElement("th",{className:"cell-last_logged_in m-cell sortable"},a.createElement("button",{className:"link no-border",type:"button",onClick:e=>this.handleSortByColumnClick(e,"last_logged_in")},a.createElement("div",{className:"cell-header"},a.createElement("span",{className:"cell-header-text"},a.createElement(w.x6,null,"Last logged in")),a.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("last_logged_in")&&this.isSortedAsc()&&a.createElement(ge,{name:"ascending"}),this.isSortedColumn("last_logged_in")&&!this.isSortedAsc()&&a.createElement(ge,{name:"descending"}))))),this.hasMfaColumn()&&a.createElement("th",{className:"cell-is_mfa_enabled m-cell sortable"},a.createElement("button",{className:"link no-border",type:"button",onClick:e=>this.handleSortByColumnClick(e,"is_mfa_enabled")},a.createElement("div",{className:"cell-header"},a.createElement("span",{className:"cell-header-text"},a.createElement(w.x6,null,"MFA")),a.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("is_mfa_enabled")&&this.isSortedAsc()&&a.createElement(ge,{name:"ascending"}),this.isSortedColumn("is_mfa_enabled")&&!this.isSortedAsc()&&a.createElement(ge,{name:"descending"}))))),this.hasAccountRecoveryColumn()&&a.createElement("th",{className:"cell-account_recovery_user_setting_status m-cell sortable"},a.createElement("button",{className:"link no-border",type:"button",onClick:e=>this.handleSortByColumnClick(e,"account_recovery_user_setting.status")},a.createElement("div",{className:"cell-header"},a.createElement("span",{className:"cell-header-text"},a.createElement(w.x6,null,"Account recovery")),a.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("account_recovery_user_setting.status")&&this.isSortedAsc()&&a.createElement(ge,{name:"ascending"}),this.isSortedColumn("account_recovery_user_setting.status")&&!this.isSortedAsc()&&a.createElement(ge,{name:"descending"}))))))))),a.createElement("div",{className:"tableview-content scroll"},a.createElement(Lt(),{itemRenderer:(e,t)=>this.renderItem(e,t),itemsRenderer:(e,t)=>this.renderTable(e,t),length:this.users.length,pageSize:20,minSize:20,type:"uniform",ref:this.listRef})))))}}xa.propTypes={context:l().any,userWorkspaceContext:l().any,actionFeedbackContext:l().any,contextualMenuContext:l().any,accountRecoveryContext:l().object,t:l().func};const Sa=h((0,i.y)(_e(Os(As(da((0,w.CI)("common")(xa)))))));class Na extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!0}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this)}componentDidMount(){this.props.accountRecoveryContext.loadAccountRecoveryPolicy()}get user(){return this.props.userWorkspaceContext.details.user}getRoleName(){if(this.props.context.roles){const e=this.props.context.roles.find((e=>e.id===this.user.role_id));return e?e.name:""}return""}handleTitleClicked(){this.setState({open:!this.state.open})}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}hasMfaSection(){return this.props.context.siteSettings.canIUse("multiFactorAuthentication")&&this.isLoggedInUserAdmin()&&this.user.active}hasDisableUserSection(){return this.props.context.siteSettings.canIUse("disableUser")}hasAccountRecoverySection(){return this.props.context.siteSettings.canIUse("accountRecovery")&&this.isLoggedInUserAdmin()&&this.props.accountRecoveryContext.isPolicyEnabled()&&this.user.active}get translate(){return this.props.t}render(){const e=this.getRoleName(),t=nt(this.user.modified,this.props.t,this.props.context.locale),s=this.user.active?this.translate("Activated"):this.translate("Activation pending");return a.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTitleClicked},a.createElement(w.x6,null,"Information"),this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},a.createElement("ul",null,a.createElement("li",{className:"role"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Role")),a.createElement("span",{className:"value capitalize"},e)),a.createElement("li",{className:"modified"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Modified")),a.createElement("span",{className:"value",title:this.user.modified},t)),a.createElement("li",{className:"status"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Status")),a.createElement("span",{className:"value"},s)),this.hasAccountRecoverySection()&&a.createElement("li",{className:"account-recovery-status"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Account recovery")),a.createElement("span",{className:"value"},{approved:a.createElement(w.x6,null,"Approved"),rejected:a.createElement(w.x6,null,"Rejected"),[void 0]:a.createElement(w.x6,null,"Pending")}[this.user?.account_recovery_user_setting?.status])),this.hasMfaSection()&&a.createElement("li",{className:"mfa"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"MFA")),a.createElement("span",{className:"value"},{[!0]:a.createElement(w.x6,null,"Enabled"),[!1]:a.createElement(w.x6,null,"Disabled"),[void 0]:a.createElement(w.x6,null,"Disabled")}[this.user?.is_mfa_enabled])),this.hasDisableUserSection()&&a.createElement("li",{className:"suspended"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Suspended")),a.createElement("span",{className:"value"},{[!1]:a.createElement(w.x6,null,"No"),[!0]:a.createElement(w.x6,null,"Yes")}[Zt(this.user)])))))}}Na.propTypes={context:l().any,userWorkspaceContext:l().object,accountRecoveryContext:l().object,t:l().func};const Ra=h(As(da((0,w.CI)("common")(Na))));class Ia extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!1}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this)}get groups(){const{groups:e}=this.props.context;if(!e)return[];const t=this.props.userWorkspaceContext.details.user;if(t){const s=e=>e.groups_users.some((e=>e.user_id===t.id)),a=e=>e.groups_users.find((e=>e.user_id===t.id)),n=e=>e.is_admin?this.translate("Group manager"):this.translate("Member"),r=e=>Object.assign({},e,{role:n(a(e))});return e.filter(s).map(r)}return[]}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}handleTitleClicked(){this.setState({open:!this.state.open})}get translate(){return this.props.t}render(){const e=this.groups,t=e.length>0;return a.createElement("div",{className:"detailed-user-groups accordion sidebar-section "+(this.state.open?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTitleClicked},"Groups",this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},a.createElement("ul",null,this.state.open&&t&&e.map((e=>a.createElement("li",{key:e.id,className:"permission usercard-col-2"},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement("div",{className:"name"},e.name),a.createElement("div",{className:"subinfo"},e.role))),a.createElement($t,{group:e})))),!t&&a.createElement("em",{className:"empty-feedback empty-group-feedback"},a.createElement(w.x6,null,"The user is not a member of any group yet")))))}}Ia.propTypes={context:l().any,userWorkspaceContext:l().object,t:l().func};const _a=h(As((0,w.CI)("common")(Ia)));class Da extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!1,gpgkeyInfo:{},loading:!1}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this),this.handlePublicKeyCopy=this.handlePublicKeyCopy.bind(this)}async componentDidUpdate(e){await this.handleUserChange(e.userWorkspaceContext.details.user)}async handleUserChange(e){this.state.open&&this.user.id!==e.id&&await this.fetchGpgkeyInfo()}async fetchGpgkeyInfo(){const e=await this.props.context.port.request("passbolt.keyring.get-public-key-info-by-user",this.user.id),t=e.fingerprint,s=this.gpgkeyType[e.algorithm],a=this.formatDate(e.created);let n;n=null===e.expires?"n/a":"Infinity"===e.expires?this.translate("Never"):this.formatDate(e.expires);const r={fingerprint:t,type:s,created:a,expires:n,armoredKey:e.armored_key};this.setState({gpgkeyInfo:r})}formatDate(e){try{return We.c9.fromJSDate(new Date(e)).setLocale(this.props.context.locale).toLocaleString(We.c9.DATETIME_FULL)}catch(e){return""}}get gpgkeyType(){return{rsa:"RSA",elgamal:"Elgamal",dsa:"DSA",ecdh:"ECDH",ecdsa:"ECDSA",eddsa:"EdDSA",aedh:"AEDH",aedsa:"AEDSA"}}get user(){return this.props.userWorkspaceContext.details.user}formatFingerprint(e){const t=(e=e||"").toUpperCase().replace(/.{4}/g,"$& ");return a.createElement(a.Fragment,null,t.substr(0,24),a.createElement("br",null),t.substr(25))}async handleTitleClicked(){this.state.open?await this.setState({gpgkeyInfo:{},open:!1}):(await this.setState({open:!0,loading:!0}),await this.fetchGpgkeyInfo(),await this.setState({loading:!1}))}async handlePublicKeyCopy(){const e=this.state.gpgkeyInfo.armoredKey;await va.copy(e,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The public key has been copied to clipboard"))}get translate(){return this.props.t}render(){const e=this.state.loading;return a.createElement("div",{className:"key-information accordion sidebar-section "+(this.state.open?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{type:"button",onClick:this.handleTitleClicked,className:"link no-border"},a.createElement(w.x6,null,"Public key"),this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},e&&a.createElement("ul",null,a.createElement("li",{className:"processing-wrapper"},a.createElement(ge,{name:"spinner"}),a.createElement("span",{className:"processing-text"},a.createElement(w.x6,null,"Retrieving public key")))),!e&&a.createElement("ul",null,a.createElement("li",{className:"fingerprint"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Fingerprint")),a.createElement("span",{className:"value"},this.formatFingerprint(this.state.gpgkeyInfo.fingerprint))),a.createElement("li",{className:"type"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Type")),a.createElement("span",{className:"value"},this.state.gpgkeyInfo.type)),a.createElement("li",{className:"created"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Created")),a.createElement("span",{className:"value"},this.state.gpgkeyInfo.created)),a.createElement("li",{className:"expires"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Expires")),a.createElement("span",{className:"value"},this.state.gpgkeyInfo.expires)),a.createElement("li",{className:"key"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Public key")),a.createElement("span",{className:"value"},a.createElement("button",{type:"button",className:"button-icon copy-public-key",onClick:this.handlePublicKeyCopy},a.createElement(ge,{name:"copy-to-clipboard"})))),a.createElement("li",{className:"gpgkey"},a.createElement("textarea",{className:"code",value:this.state.gpgkeyInfo.armoredKey,disabled:!0})))))}}Da.propTypes={context:l().any,userWorkspaceContext:l().object,actionFeedbackContext:l().object,t:l().func,i18n:l().any};const Ta=h(_e(As((0,w.CI)("common")(Da))));class Pa extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{loading:!0,open:!1,userRequests:[]}}async componentDidUpdate(e){await this.handleUserChange(e.userWorkspaceContext.details.user),await this.handleUserPendingAccountRecoveryRequestChange(e.userWorkspaceContext.details.user)}async handleUserChange(e){if(this.selectedUser.id!==e.id&&this.state.open){const e=Object.assign({},this.defaultState,{open:!0});await this.setState(e),await this.findUserRequests(),this.setState({loading:!1})}}async handleUserPendingAccountRecoveryRequestChange(e){this.state.open&&e?.pending_account_recovery_request?.status!==this.props.userWorkspaceContext.details.user?.pending_account_recovery_request?.status&&(await this.setState({loading:!0}),await this.findUserRequests(),await this.setState({loading:!1}))}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this),this.handleReviewClicked=this.handleReviewClicked.bind(this)}async handleTitleClicked(){if(this.state.open){const e=this.defaultState;this.setState(e)}else await this.setState({loading:!0,open:!0}),await this.findUserRequests(),this.setState({loading:!1})}handleReviewClicked(){const e=this.selectedUser.pending_account_recovery_request.id;this.props.workflowContext.start(fa,{accountRecoveryRequestId:e})}async findUserRequests(){const e=(await this.props.context.port.request("passbolt.account-recovery.get-user-requests",this.selectedUser.id)).sort(((e,t)=>new Date(t.created)-new Date(e.created)));this.setState({userRequests:e})}get selectedUser(){return this.props.userWorkspaceContext.details.user}get isAccountRecoveryPending(){return Boolean(this.selectedUser.pending_account_recovery_request)}get hasUserRequests(){return this.state.userRequests.length>0}get previousAccountRecoveryRequest(){return this.isAccountRecoveryPending?this.state.userRequests.length>1?this.state.userRequests[1]:null:this.hasUserRequests?this.state.userRequests[0]:null}capitalizeFirstLetter(e){return e[0].toUpperCase()+e.slice(1)}render(){return a.createElement("div",{className:"detailed-account-recovery accordion sidebar-section "+(this.state.open?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleTitleClicked},a.createElement("span",null,a.createElement(w.x6,null,"Account recovery"),this.isAccountRecoveryPending&&a.createElement(ge,{name:"exclamation",baseline:!0})),this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},this.state.loading&&a.createElement("div",{className:"processing-wrapper"},a.createElement(ge,{name:"spinner"}),a.createElement("span",{className:"processing-text"},a.createElement(w.x6,null,"Retrieving account recovery"))),!this.state.loading&&a.createElement("ul",null,this.isAccountRecoveryPending&&a.createElement("li",{className:"pending-request-status"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Current status")),a.createElement("button",{type:"button",onClick:this.handleReviewClicked},"Review")),a.createElement("li",{className:"previous-request"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Previous recovery")),a.createElement("span",{className:"value"},this.previousAccountRecoveryRequest?`${this.capitalizeFirstLetter(this.previousAccountRecoveryRequest.status)} ${nt(this.previousAccountRecoveryRequest.created,this.props.t,this.props.context.locale)}`:"Never")),a.createElement("li",{className:"requests-count"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Number of recovery")),a.createElement("span",{className:"value"},this.state.userRequests.length)))))}}Pa.propTypes={context:l().any,userWorkspaceContext:l().object,workflowContext:l().any,t:l().func};const Aa=h(ra(As((0,w.CI)("common")(Pa))));class Ma extends a.Component{constructor(e){super(e),this.bindCallbacks()}componentDidMount(){this.props.accountRecoveryContext.loadAccountRecoveryPolicy()}bindCallbacks(){this.handlePermalinkClick=this.handlePermalinkClick.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this)}get user(){return this.props.userWorkspaceContext.details.user}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}async handlePermalinkClick(){const e=`${this.props.context.userSettings.getTrustedDomain()}/app/users/view/${this.user.id}`;await va.copy(e,this.props.context.port),await this.props.actionFeedbackContext.displaySuccess(this.translate("The permalink has been copied to clipboard"))}handleCloseClick(){this.props.userWorkspaceContext.onDetailsLocked()}get translate(){return this.props.t}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}isAccountRecoveryEnabled(){return this.props.accountRecoveryContext.isPolicyEnabled()}get hasAttentionRequired(){return this.isAccountRecoveryEnabled()&&Boolean(this.user.pending_account_recovery_request)}isUserSuspended(e){return this.props.context.siteSettings.canIUse("disableUser")&&Zt(e)}render(){return a.createElement("div",{className:"panel aside ready"},a.createElement("div",{className:"sidebar user"},a.createElement("div",{className:"sidebar-header "+(this.isUserSuspended(this.user)?"suspended":"")},a.createElement("div",{className:"teaser-image  "+(this.hasAttentionRequired?"attention-required":"")},a.createElement(Gt,{user:this.user,baseUrl:this.baseUrl,attentionRequired:this.hasAttentionRequired})),a.createElement("h3",null,a.createElement("div",{className:"title-wrapper"},a.createElement("span",{className:"name"},`${this.user.profile.first_name} ${this.user.profile.last_name}`),a.createElement("button",{type:"button",className:"title-link link no-border",title:this.translate("Copy the link to this user"),onClick:this.handlePermalinkClick},a.createElement(ge,{name:"link"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"Copy the link to this user")))),a.createElement("span",{className:"subtitle"},this.user.username)),a.createElement("button",{type:"button",className:"dialog-close button-transparent",onClick:this.handleCloseClick},a.createElement(ge,{name:"close"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"Close")))),a.createElement(Ra,null),this.user.active&&a.createElement(_a,null),this.user.active&&a.createElement(Ta,null),this.isAccountRecoveryEnabled()&&this.user.active&&this.isLoggedInUserAdmin()&&a.createElement(Aa,null)))}}Ma.propTypes={context:l().any,actionFeedbackContext:l().any,userWorkspaceContext:l().any,accountRecoveryContext:l().object,t:l().func};const Ua=h(da(As(_e((0,w.CI)("common")(Ma)))));class Fa extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{moreMenuOpen:!1}}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDetailsLockedEvent=this.handleDetailsLockedEvent.bind(this),this.handleEditClickEvent=this.handleEditClickEvent.bind(this),this.handleDeleteClickEvent=this.handleDeleteClickEvent.bind(this),this.handleMoreClickEvent=this.handleMoreClickEvent.bind(this),this.handleDisableMfaEvent=this.handleDisableMfaEvent.bind(this),this.handleCopyPermalinkEvent=this.handleCopyPermalinkEvent.bind(this),this.handleResendInviteClickEvent=this.handleResendInviteClickEvent.bind(this),this.handleReviewRecoveryRequestEvent=this.handleReviewRecoveryRequestEvent.bind(this)}createRefs(){this.moreMenuRef=a.createRef()}componentDidMount(){document.addEventListener("click",this.handleDocumentClickEvent,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent,{capture:!0})}get canDelete(){const e=this.selectedUser&&this.props.context.loggedInUser.id!==this.selectedUser.id;return!this.isButtonDisabled()&&e}handleDetailsLockedEvent(){this.props.userWorkspaceContext.onDetailsLocked()}handleCopyPermalinkEvent(){this.copyPermalink()}handleResendInviteClickEvent(){this.resendInvite()}hasDetailsLocked(){return this.props.userWorkspaceContext.details.locked}handleEditClickEvent(){const e={id:this.selectedUser.id};this.props.context.setContext({editUserDialogProps:e}),this.props.dialogContext.open(Zs)}async handleDeleteClickEvent(){try{await this.props.context.port.request("passbolt.users.delete-dry-run",this.selectedUser.id),this.displayDeleteUserDialog()}catch(e){"DeleteDryRunError"===e.name?this.displayDeleteUserWithConflictsDialog(e.errors):this.handleError(e)}}displayDeleteUserDialog(){const e={user:this.selectedUser};this.props.context.setContext({deleteUserDialogProps:e}),this.props.dialogContext.open(ta)}displayDeleteUserWithConflictsDialog(e){const t={user:this.selectedUser,errors:e};this.props.context.setContext({deleteUserWithConflictsDialogProps:t}),this.props.dialogContext.open(Qs)}handleError(e){const t={message:e.message};this.props.context.setContext({errorDialogProps:t}),this.props.dialogContext.open(we)}handleMoreClickEvent(){this.toggleMoreMenu()}handleDisableMfaEvent(){this.disableMFA()}handleDocumentClickEvent(e){this.moreMenuRef.current&&this.moreMenuRef.current.contains(e.target)||this.closeMoreMenu()}handleReviewRecoveryRequestEvent(){this.closeMoreMenu();const e=this.selectedUser.pending_account_recovery_request.id;this.props.workflowContext.start(fa,{accountRecoveryRequestId:e})}get selectedUser(){return this.props.userWorkspaceContext.selectedUsers[0]}get hasMoreActionAllowed(){return this.hasOneUserSelected()}get canCopyPermalink(){return Boolean(this.selectedUser)}get canIUseMfa(){return this.props.context.siteSettings.canIUse("multiFactorAuthentication")}get canDisableMfaForUser(){return this.selectedUser&&this.selectedUser.is_mfa_enabled}get canIUseResend(){return this.isLoggedInUserAdmin()}get canResendInviteToUser(){return this.selectedUser&&!this.selectedUser.active}canIReviewAccountRecoveryRequest(){return this.props.context.siteSettings.canIUse("accountRecovery")&&this.isLoggedInUserAdmin()}hasPendingAccountRecoveryRequest(){return this.selectedUser&&Boolean(this.selectedUser.pending_account_recovery_request)}hasOneUserSelected(){return 1===this.props.userWorkspaceContext.selectedUsers.length}isButtonDisabled(){return!this.hasOneUserSelected()}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}disableMFA(){this.closeMoreMenu(),this.props.dialogContext.open(Js)}toggleMoreMenu(){const e=!this.state.moreMenuOpen;this.setState({moreMenuOpen:e})}closeMoreMenu(){this.setState({moreMenuOpen:!1})}async copyPermalink(){this.closeMoreMenu();const e=`${this.props.context.userSettings.getTrustedDomain()}/app/users/view/${this.selectedUser.id}`;await va.copy(e,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The permalink has been copied to clipboard"))}resendInvite(){this.props.context.port.request("passbolt.users.resend-invite",this.selectedUser.username).then(this.onResendInviteSuccess.bind(this)).catch(this.onResendInviteFailure.bind(this))}onResendInviteSuccess(){this.props.actionFeedbackContext.displaySuccess(this.translate("The invite has been resent successfully")),this.toggleMoreMenu()}onResendInviteFailure(e){const t={error:e};this.toggleMoreMenu(),this.props.dialogContext.open(we,t)}get translate(){return this.props.t}render(){return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},this.isLoggedInUserAdmin()&&a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",disabled:this.isButtonDisabled(),onClick:this.handleEditClickEvent},a.createElement(ge,{name:"edit"}),a.createElement("span",null,a.createElement(w.x6,null,"Edit")))),a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.canDelete,onClick:this.handleDeleteClickEvent},a.createElement(ge,{name:"trash"}),a.createElement("span",null,a.createElement(w.x6,null,"Delete")))),a.createElement("div",{className:"dropdown",ref:this.moreMenuRef},a.createElement("button",{type:"button",className:"more "+(this.state.moreMenuOpen?"open":""),disabled:!this.hasMoreActionAllowed,onClick:this.handleMoreClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"More")),a.createElement(ge,{name:"caret-down"})),a.createElement("ul",{className:"dropdown-content menu right "+(this.state.moreMenuOpen?"visible":"")},a.createElement("li",{id:"copy-user-permalink",className:"separator-after"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",onClick:this.handleCopyPermalinkEvent,disabled:!this.canCopyPermalink,className:"link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Copy permalink to clipboard"))))))),this.canIUseResend&&a.createElement("li",{id:"resend-invite-user",className:"separator-after"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",onClick:this.handleResendInviteClickEvent,disabled:!this.canResendInviteToUser,className:"link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Resend invite"))))))),this.canIUseMfa&&a.createElement("li",{id:"disable-mfa-action",className:""},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",id:"disable-mfa",onClick:this.handleDisableMfaEvent,disabled:!this.canDisableMfaForUser,className:"link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Disable MFA"))))))),this.canIReviewAccountRecoveryRequest()&&a.createElement("li",{key:"review-recovery-user"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",id:"review-recovery",onClick:this.handleReviewRecoveryRequestEvent,disabled:!this.hasPendingAccountRecoveryRequest(),className:"link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Review recovery request"))))))))))),a.createElement("div",{className:"actions secondary"},a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",className:"button-toggle button-action-icon info "+(this.hasDetailsLocked()?"selected":""),onClick:this.handleDetailsLockedEvent},a.createElement(ge,{name:"info-circle",big:!0}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"View detail")))))))}}Fa.propTypes={context:l().any,userWorkspaceContext:l().any,workflowContext:l().any,dialogContext:l().any,actionFeedbackContext:l().object,t:l().func};const La=h(_e(ra(k(As((0,w.CI)("common")(Fa))))));class Oa extends a.Component{render(){return a.createElement("div",{className:"col1"},a.createElement("div",{className:"logo-svg no-img"},a.createElement("svg",{height:"25px",role:"img","aria-labelledby":"logo",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"100%",viewBox:"0 30 450 20"},a.createElement("title",{id:"logo"},"Passbolt logo"),a.createElement("g",{clipPath:"url(#clip0)"},a.createElement("path",{d:"M12.1114 26.4938V52.609h7.4182c4.9203 0 8.3266-1.0597 10.3704-3.1035 2.0438-2.0438 3.0278-5.5258 3.0278-10.2947 0-4.6175-.9083-7.8724-2.8007-9.7648-1.8924-2.0438-5.0717-2.9522-9.6891-2.9522h-8.3266zM0 16.5776h23.3144c7.0398 0 12.4899 2.0438 16.4261 6.2071 3.9362 4.1633 5.9043 9.9162 5.9043 17.2588 0 3.0278-.3785 5.8286-1.2111 8.3265-.8327 2.498-2.0438 4.8446-3.7091 6.8884-1.9681 2.498-4.3904 4.3147-7.1155 5.4501-2.8007 1.0598-6.4342 1.5896-11.0516 1.5896H12.1114v16.5775H0v-62.298zM70.0188 53.1389H85.158v-9.462H70.9272c-2.8008 0-4.7689.3785-5.8287 1.1354-1.0597.757-1.5896 2.1195-1.5896 4.0119 0 1.5896.4542 2.7251 1.2869 3.4063.8326.6056 2.5736.9084 5.223.9084zM53.9712 16.5776h24.7527c6.2827 0 10.9759 1.4383 14.1551 4.3147 3.1793 2.8765 4.7689 7.1155 4.7689 12.7927v28.6888H65.0985c-4.5417 0-8.0994-1.1354-10.5217-3.4063s-3.6334-5.5258-3.6334-9.7648c0-5.223 1.3625-8.9322 4.1633-11.203 2.8007-2.2709 7.4939-3.4064 14.0794-3.4064h15.8962v-1.1354c0-2.7251-.8326-4.6175-2.4222-5.7529-1.5897-1.1355-4.3904-1.6653-8.5537-1.6653H53.9712v-9.4621zM107.488 52.8356h25.51c2.271 0 3.936-.3784 4.92-1.0597 1.06-.6813 1.59-1.8167 1.59-3.4063 0-1.5897-.53-2.7251-1.59-3.4064-1.059-.7569-2.725-1.1354-4.92-1.1354h-10.446c-6.207 0-10.37-.9841-12.566-2.8765-2.195-1.8924-3.255-5.2987-3.255-10.0676 0-4.9202 1.287-8.5536 3.937-10.9002 2.649-2.3466 6.737-3.482 12.187-3.482h25.964v9.5377h-21.347c-3.482 0-5.753.3028-6.812.9083-1.06.6056-1.59 1.6654-1.59 3.255 0 1.4382.454 2.498 1.362 3.1035.909.6813 2.423.9841 4.391.9841h10.976c4.996 0 8.856 1.2111 11.43 3.5577 2.649 2.3466 3.936 5.6772 3.936 10.0676 0 4.239-1.211 7.721-3.558 10.3704-2.346 2.6493-5.298 4.0119-9.007 4.0119h-31.112v-9.4621zM159.113 52.8356h25.51c2.271 0 3.936-.3784 4.92-1.0597 1.06-.6813 1.59-1.8167 1.59-3.4063 0-1.5897-.53-2.7251-1.59-3.4064-1.059-.7569-2.725-1.1354-4.92-1.1354h-10.446c-6.207 0-10.37-.9841-12.566-2.8765-2.195-1.8924-3.255-5.2987-3.255-10.0676 0-4.9202 1.287-8.5536 3.937-10.9002 2.649-2.3466 6.737-3.482 12.187-3.482h25.964v9.5377h-21.347c-3.482 0-5.753.3028-6.812.9083-1.06.6056-1.59 1.6654-1.59 3.255 0 1.4382.454 2.498 1.362 3.1035.909.6813 2.423.9841 4.391.9841h10.976c4.996 0 8.856 1.2111 11.43 3.5577 2.649 2.3466 3.936 5.6772 3.936 10.0676 0 4.239-1.211 7.721-3.558 10.3704-2.346 2.6493-5.298 4.0119-9.007 4.0119h-31.263v-9.4621h.151zM223.607 0v16.5775h10.37c4.617 0 8.251.5298 11.052 1.6653 2.8 1.0597 5.147 2.8764 7.115 5.3744 1.665 2.1195 2.876 4.3904 3.709 6.9641.833 2.4979 1.211 5.2987 1.211 8.3265 0 7.3426-1.968 13.0955-5.904 17.2588-3.936 4.1633-9.386 6.2071-16.426 6.2071h-23.315V0h12.188zm7.342 26.4937h-7.418v26.1152h8.326c4.618 0 7.873-.9841 9.69-2.8765 1.892-1.9681 2.8-5.223 2.8-9.9162 0-4.7689-1.059-8.1752-3.103-10.219-1.968-2.1195-5.45-3.1035-10.295-3.1035zM274.172 39.5132c0 4.3904.984 7.721 3.027 10.219 2.044 2.4223 4.845 3.6334 8.554 3.6334 3.633 0 6.434-1.2111 8.554-3.6334 2.044-2.4223 3.103-5.8286 3.103-10.219s-1.059-7.721-3.103-10.1433c-2.044-2.4222-4.845-3.6334-8.554-3.6334-3.633 0-6.434 1.2112-8.554 3.6334-2.043 2.4223-3.027 5.8286-3.027 10.1433zm35.88 0c0 7.1912-2.196 12.9441-6.586 17.2588-4.39 4.2389-10.219 6.4341-17.637 6.4341-7.418 0-13.323-2.1195-17.713-6.4341-4.391-4.3147-6.586-9.9919-6.586-17.1831 0-7.1911 2.195-12.944 6.586-17.2587 4.39-4.3147 10.295-6.5099 17.713-6.5099 7.342 0 13.247 2.1952 17.637 6.5099 4.39 4.239 6.586 9.9919 6.586 17.183zM329.884 62.3737h-12.565V0h12.565v62.3737zM335.712 16.5775h8.554V0h12.111v16.5775h12.793v9.1592h-12.793v18.4699c0 3.4063.606 5.7529 1.742 7.1154 1.135 1.2869 3.179 1.9681 6.055 1.9681h4.996v9.1593h-11.127c-4.466 0-7.873-1.2112-10.295-3.7091-2.346-2.498-3.558-6.0557-3.558-10.6732V25.7367h-8.553v-9.1592h.075z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M446.532 30.884L419.433 5.52579c-2.347-2.19519-6.056-2.19519-8.478 0L393.923 21.4977c4.466 1.6653 7.948 5.3744 9.235 9.9919h23.012c1.211 0 2.119.984 2.119 2.1195v3.482c0 1.2111-.984 2.1195-2.119 2.1195h-2.649v4.9202c0 1.2112-.985 2.1195-2.12 2.1195h-5.829c-1.211 0-2.119-.984-2.119-2.1195v-4.9202h-10.219c-1.287 4.6932-4.769 8.478-9.311 10.0676l17.108 15.9719c2.346 2.1952 6.055 2.1952 8.478 0l27.023-25.3582c2.574-2.4223 2.574-6.5099 0-9.0079z",fill:"#E10600"}),a.createElement("path",{d:"M388.927 28.3862c-1.135 0-2.195.3028-3.179.757-2.271 1.1354-3.86 3.482-3.86 6.2071 0 2.6493 1.438 4.9202 3.633 6.1314.984.5298 2.12.8326 3.331.8326 3.86 0 6.964-3.1035 6.964-6.964.151-3.7848-3.028-6.9641-6.889-6.9641z",fill:"#E10600"})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0"},a.createElement("path",{fill:"#fff",d:"M0 0h448.5v78.9511H0z"})))),a.createElement("h1",null,a.createElement("span",null,"Passbolt"))))}}const Va=Oa,Ha="mandatory";class qa extends Error{constructor(e,t){super(e),this.name="PassboltApiFetchError",this.data=t||{}}}const ja=qa;class Wa extends Error{constructor(){super("An internal error occurred. The server response could not be parsed. Please contact your administrator."),this.name="PassboltBadResponseError"}}const za=Wa;class Ba extends Error{constructor(e){super(e=e||"The service is unavailable"),this.name="PassboltServiceUnavailableError"}}const Ga=Ba,Ka=["GET","POST","PUT","DELETE"];class $a{constructor(e){if(this.options=e,!this.options.getBaseUrl())throw new TypeError("ApiClient constructor error: baseUrl is required.");if(!this.options.getResourceName())throw new TypeError("ApiClient constructor error: resourceName is required.");try{let e=this.options.getBaseUrl().toString();e.endsWith("/")&&(e=e.slice(0,-1));let t=this.options.getResourceName();t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,-1)),this.baseUrl=`${e}/${t}`,this.baseUrl=new URL(this.baseUrl)}catch(e){throw new TypeError("ApiClient constructor error: b.")}this.apiVersion="api-version=v2"}getDefaultHeaders(){return{Accept:"application/json","content-type":"application/json"}}async buildFetchOptions(){const e=await this.options.getHeaders();return{credentials:"include",headers:{...this.getDefaultHeaders(),...e}}}async get(e,t){this.assertValidId(e);const s=this.buildUrl(`${this.baseUrl}/${e}`,t||{});return this.fetchAndHandleResponse("GET",s)}async delete(e,t,s,a){let n;this.assertValidId(e),void 0===a&&(a=!1),n=a?this.buildUrl(`${this.baseUrl}/${e}/dry-run`,s||{}):this.buildUrl(`${this.baseUrl}/${e}`,s||{});let r=null;return t&&(r=this.buildBody(t)),this.fetchAndHandleResponse("DELETE",n,r)}async findAll(e){const t=this.buildUrl(this.baseUrl.toString(),e||{});return this.fetchAndHandleResponse("GET",t)}async create(e,t){const s=this.buildUrl(this.baseUrl.toString(),t||{}),a=this.buildBody(e);return this.fetchAndHandleResponse("POST",s,a)}async update(e,t,s,a){let n;this.assertValidId(e),void 0===a&&(a=!1),n=a?this.buildUrl(`${this.baseUrl}/${e}/dry-run`,s||{}):this.buildUrl(`${this.baseUrl}/${e}`,s||{});let r=null;return t&&(r=this.buildBody(t)),this.fetchAndHandleResponse("PUT",n,r)}async updateAll(e,t={}){const s=this.buildUrl(this.baseUrl.toString(),t),a=e?this.buildBody(e):null;return this.fetchAndHandleResponse("PUT",s,a)}assertValidId(e){if(!e)throw new TypeError("ApiClient.assertValidId error: id cannot be empty");if("string"!=typeof e)throw new TypeError("ApiClient.assertValidId error: id should be a string")}assertMethod(e){if("string"!=typeof e)throw new TypeError("ApiClient.assertValidMethod method should be a string.");if(Ka.indexOf(e.toUpperCase())<0)throw new TypeError(`ApiClient.assertValidMethod error: method ${e} is not supported.`)}assertUrl(e){if(!e)throw new TypeError("ApliClient.assertUrl error: url is required.");if(!(e instanceof URL))throw new TypeError("ApliClient.assertUrl error: url should be a valid URL object.");if("https:"!==e.protocol&&"http:"!==e.protocol)throw new TypeError("ApliClient.assertUrl error: url protocol should only be https or http.")}assertBody(e){if(!(e instanceof FormData)&&"string"!=typeof e)throw new TypeError("ApiClient.assertBody error: body should be a string or a FormData.")}buildBody(e){return JSON.stringify(e)}buildUrl(e,t){if("string"!=typeof e)throw new TypeError("ApiClient.buildUrl error: url should be a string.");const s=new URL(`${e}.json?${this.apiVersion}`);t=t||{};for(const[e,a]of Object.entries(t)){if("string"!=typeof e)throw new TypeError("ApiClient.buildUrl error: urlOptions key should be a string.");if("string"==typeof a)s.searchParams.append(e,a);else{if(!Array.isArray(a))throw new TypeError("ApiClient.buildUrl error: urlOptions value should be a string or array.");a.forEach((t=>{s.searchParams.append(e,t)}))}}return s}async sendRequest(e,t,s,a){this.assertUrl(t),this.assertMethod(e),s&&this.assertBody(s);const n="undefined"!=typeof customApiClientFetch?customApiClientFetch:fetch,r={...await this.buildFetchOptions(),...a};r.method=e,s&&(r.body=s);try{return await n(t.toString(),r)}catch(e){throw console.error(e),navigator.onLine?new Ga("Unable to reach the server, an unexpected error occurred"):new Ga("Unable to reach the server, you are not connected to the network")}}async fetchAndHandleResponse(e,t,s,a){const n=await this.sendRequest(e,t,s,a);return this.parseResponseJson(n)}async parseResponseJson(e){let t;try{t=await e.json()}catch(t){throw console.debug(e.url.toString(),t),new za(t,e)}if(!e.ok){const s=t.header.message;throw new ja(s,{code:e.status,body:t.body})}return t}}const Za=class{constructor(e){this.apiClientOptions=e}async findAllSettings(){return this.initClient(),(await this.apiClient.findAll()).body}async save(e){return this.initClient(),(await this.apiClient.create(e)).body}async getUserSettings(){return this.initClient("setup/select"),(await this.apiClient.findAll()).body}initClient(e="settings"){this.apiClientOptions.setResourceName(`mfa/${e}`),this.apiClient=new $a(this.apiClientOptions)}},Ya=class{constructor(e){e.setResourceName("mfa-policies/settings"),this.apiClient=new $a(e)}async find(){return(await this.apiClient.findAll()).body}async save(e){await this.apiClient.create(e)}};function Ja(){return Ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ja.apply(null,arguments)}const Xa="Overview",Qa="Totp Overview",en="Scan totp code",tn="View a totp configuration",sn="Setup Yubikey",an=a.createContext({state:null,setup:null,provider:null,getPolicy:()=>{},getMfaOrganisationSettings:()=>{},getMfaUserSettings:()=>{},findPolicy:()=>{},setProcessing:()=>{},isProcessing:()=>{},clearContext:()=>{},isMfaChoiceRequired:()=>{},checkMfaChoiceRequired:()=>{},hasMfaUserSettings:()=>{},navigate:()=>{},setProvider:()=>{},goToProviderList:()=>{},validateTotpCode:()=>{},removeProvider:()=>{},validateYubikeyCode:()=>{}});class nn extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.props.context.getApiClientOptions&&(this.mfaService=new Za(this.props.context.getApiClientOptions()),this.mfaPolicyService=new Ya(this.props.context.getApiClientOptions()))}get defaultState(){return{state:Xa,setup:null,policy:null,provider:null,processing:!0,mfaUserSettings:null,mfaOrganisationSettings:null,mfaChoiceRequired:!1,getPolicy:this.getPolicy.bind(this),getMfaOrganisationSettings:this.getMfaOrganisationSettings.bind(this),getMfaUserSettings:this.getMfaUserSettings.bind(this),findPolicy:this.findPolicy.bind(this),findMfaSettings:this.findMfaSettings.bind(this),isProcessing:this.isProcessing.bind(this),setProcessing:this.setProcessing.bind(this),hasMfaSettings:this.hasMfaSettings.bind(this),hasMfaOrganisationSettings:this.hasMfaOrganisationSettings.bind(this),hasMfaUserSettings:this.hasMfaUserSettings.bind(this),clearContext:this.clearContext.bind(this),checkMfaChoiceRequired:this.checkMfaChoiceRequired.bind(this),isMfaChoiceRequired:this.isMfaChoiceRequired.bind(this),navigate:this.navigate.bind(this),setProvider:this.setProvider.bind(this),goToProviderList:this.goToProviderList.bind(this),validateTotpCode:this.validateTotpCode.bind(this),removeProvider:this.removeProvider.bind(this),validateYubikeyCode:this.validateYubikeyCode.bind(this)}}async findPolicy(){if(this.getPolicy())return;this.setProcessing(!0);let e=null,t=null;t=this.mfaPolicyService?await this.mfaPolicyService.find():await this.props.context.port.request("passbolt.mfa-policy.get-policy"),e=t?t.policy:null,this.setState({policy:e}),this.setProcessing(!1)}async findMfaSettings(){this.setProcessing(!0);let e=null,t=null,s=null;e=this.mfaService?await this.mfaService.getUserSettings():await this.props.context.port.request("passbolt.mfa-policy.get-mfa-settings"),t=e.MfaAccountSettings,s=e.MfaOrganizationSettings,this.setState({mfaUserSettings:t}),this.setState({mfaOrganisationSettings:s}),this.setProcessing(!1)}getPolicy(){return this.state.policy}getMfaOrganisationSettings(){return this.state.mfaOrganisationSettings}getMfaUserSettings(){return this.state.mfaUserSettings}hasMfaSettings(){return!this.hasMfaOrganisationSettings()||this.hasMfaUserSettings()}hasMfaOrganisationSettings(){return this.state.mfaOrganisationSettings&&Object.values(this.state.mfaOrganisationSettings).some((e=>e))}hasMfaUserSettings(){return this.state.mfaUserSettings&&Object.values(this.state.mfaUserSettings).some((e=>e))}isProcessing(){return this.state.processing}setProcessing(e){this.setState({processing:e})}clearContext(){const{policy:e,processing:t}=this.defaultState;this.setState({policy:e,processing:t})}async checkMfaChoiceRequired(){if(await this.findPolicy(),null===this.getPolicy()||this.getPolicy()!==Ha)return!1;await this.findMfaSettings(),this.setState({mfaChoiceRequired:!this.hasMfaSettings()})}isMfaChoiceRequired(){return this.state.mfaChoiceRequired}navigate(e){this.setState({state:e})}goToProviderList(){this.setState({state:Xa,provider:null})}setProvider(e){this.setState({provider:e})}async validateTotpCode(e,t){try{this.setProcessing(!0),await this.props.context.port.request("passbolt.mfa-setup.verify-totp-code",{otpProvisioningUri:e,totp:t})}catch(e){throw console.error(e),e}finally{this.setProcessing(!1)}}async validateYubikeyCode(e){try{this.setProcessing(!0),await this.props.context.port.request("passbolt.mfa-setup.verify-yubikey-code",{hotp:e})}catch(e){throw console.error(e),e}finally{this.setProcessing(!1)}}async removeProvider(){try{this.setProcessing(!0),await this.props.context.port.request("passbolt.mfa-setup.remove-provider",{provider:this.state.provider})}catch(e){throw console.error(e),e}finally{this.setProcessing(!1)}}render(){return a.createElement(an.Provider,{value:this.state},this.props.children)}}nn.propTypes={context:l().any,children:l().any};const rn=h(nn);function on(e){return class extends a.Component{render(){return a.createElement(an.Consumer,null,(t=>a.createElement(e,Ja({mfaContext:t},this.props))))}}}class ln extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks(),this.createRefs()}getDefaultState(){return{open:!1,loading:!0}}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDocumentContextualMenuEvent=this.handleDocumentContextualMenuEvent.bind(this),this.handleDocumentDragStartEvent=this.handleDocumentDragStartEvent.bind(this),this.handleToggleMenuClick=this.handleToggleMenuClick.bind(this),this.handleProfileClick=this.handleProfileClick.bind(this),this.handleThemeClick=this.handleThemeClick.bind(this),this.handleMobileAppsClick=this.handleMobileAppsClick.bind(this)}componentDidMount(){document.addEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.addEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.addEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0}),this.props.context.siteSettings.canIUse("mfaPolicies")&&this.props.mfaContext.checkMfaChoiceRequired()}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.removeEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.removeEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}createRefs(){this.userBadgeMenuRef=a.createRef()}get canIUseThemeCapability(){return this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("accountSettings")}get canIUseMobileCapability(){return this.props.rbacContext.canIUseUiAction(L)&&this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("mobile")}handleDocumentClickEvent(e){this.userBadgeMenuRef.current.contains(e.target)||this.closeUserBadgeMenu()}handleDocumentContextualMenuEvent(e){this.userBadgeMenuRef.current.contains(e.target)||this.closeUserBadgeMenu()}handleDocumentDragStartEvent(){this.closeUserBadgeMenu()}closeUserBadgeMenu(){this.setState({open:!1})}getUserFullName(){return this.props.user&&this.props.user.profile?`${this.props.user.profile.first_name} ${this.props.user.profile.last_name}`:"..."}getUserUsername(){return this.props.user&&this.props.user.username?`${this.props.user.username}`:"..."}handleToggleMenuClick(e){e.preventDefault();const t=!this.state.open;this.setState({open:t})}handleProfileClick(){this.props.navigationContext.onGoToUserSettingsProfileRequested(),this.closeUserBadgeMenu()}handleThemeClick(){this.props.navigationContext.onGoToUserSettingsThemeRequested(),this.closeUserBadgeMenu()}handleMobileAppsClick(){this.props.navigationContext.onGoToUserSettingsMobileRequested(),this.closeUserBadgeMenu()}get attentionRequired(){return this.props.accountRecoveryContext.isAccountRecoveryChoiceRequired()||this.props.mfaContext.isMfaChoiceRequired()}render(){return a.createElement("div",{className:"col3 profile-wrapper"},a.createElement("div",{className:"user profile dropdown",ref:this.userBadgeMenuRef},a.createElement("div",{className:"avatar-with-name button "+(this.state.open?"open":""),onClick:this.handleToggleMenuClick},a.createElement(Gt,{user:this.props.user,className:"avatar picture left-cell",baseUrl:this.props.baseUrl,attentionRequired:this.attentionRequired}),a.createElement("div",{className:"details center-cell"},a.createElement("span",{className:"name"},this.getUserFullName()),a.createElement("span",{className:"email"},this.getUserUsername())),a.createElement("div",{className:"more right-cell"},a.createElement("button",{type:"button",className:"link no-border"},a.createElement(ge,{name:"caret-down"})))),this.state.open&&a.createElement("ul",{className:"dropdown-content right visible"},a.createElement("li",{key:"profile"},a.createElement("div",{className:"row"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleProfileClick},a.createElement("span",null,a.createElement(w.x6,null,"Profile")),this.attentionRequired&&a.createElement(ge,{name:"exclamation",baseline:!0})))),this.canIUseThemeCapability&&a.createElement("li",{key:"theme"},a.createElement("div",{className:"row"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleThemeClick},a.createElement("span",null,a.createElement(w.x6,null,"Theme"))))),this.canIUseMobileCapability&&a.createElement("li",{id:"user-badge-menu-mobile",key:"mobile"},a.createElement("div",{className:"row"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleMobileAppsClick},a.createElement("span",null,a.createElement(w.x6,null,"Mobile Apps")),a.createElement("span",{className:"chips new"},"new")))))))}}ln.propTypes={context:l().object,navigationContext:l().any,mfaContext:l().object,accountRecoveryContext:l().object,baseUrl:l().string,user:l().object,rbacContext:l().any};const cn=h(pe(b(da(on((0,w.CI)("common")(ln))))));class dn extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleFilterClickEvent=this.handleFilterClickEvent.bind(this),this.handleHide=this.handleHide.bind(this)}handleFilterClickEvent(e){this.props.onFilterSelected(e),this.handleHide()}handleHide(){"function"==typeof this.props.onBeforeHide&&this.props.onBeforeHide(),this.props.hide()}render(){return a.createElement(Ks,{hide:this.handleHide,left:this.props.left,top:this.props.top,className:this.props.className},a.createElement("li",{key:"option-filter-all-groups",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",id:"all-groups",onClick:()=>this.handleFilterClickEvent(yn.all)},a.createElement("span",null,a.createElement(w.x6,null,"All groups"))))))),a.createElement("li",{key:"option-filter-groups-manage",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",id:"groups-manage",onClick:()=>this.handleFilterClickEvent(yn.manage)},a.createElement("span",null,a.createElement(w.x6,null,"Groups I manage"))))))),a.createElement("li",{key:"option-filter-groups-member",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",id:"groups-member",onClick:()=>this.handleFilterClickEvent(yn.member)},a.createElement("span",null,a.createElement(w.x6,null,"Groups I am member of"))))))))}}dn.propTypes={onFilterSelected:l().func,left:l().number,hide:l().func,onBeforeHide:l().func,top:l().number,className:l().string};const hn=(0,w.CI)("common")(dn);class mn extends a.Component{constructor(e,t){super(e,t),this.initializeProperties(),this.state=this.defaultState,this.initEventHandlers()}initializeProperties(){this.foldersErrors=this.getFoldersErrors(),this.resourcesErrors=this.getResourcesErrors(),this.acosPermissionsOptions=this.getAcosPermissionsOptionsMap()}get defaultState(){return{processing:!1,owners:this.populateDefaultOwners()}}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleOnChangeOwner=this.handleOnChangeOwner.bind(this)}getFoldersErrors(){const e=this.props.context.deleteGroupWithConflictsDialogProps.errors;return(e.folders&&e.folders.sole_owner||[]).sort(((e,t)=>e.name.localeCompare(t.name)))}getResourcesErrors(){const e=this.props.context.deleteGroupWithConflictsDialogProps.errors;return(e.resources&&e.resources.sole_owner||[]).sort(((e,t)=>e.metadata.name.localeCompare(t.metadata.name)))}getAcosPermissionsOptionsMap(){const e={};return this.resourcesErrors.forEach((t=>{e[t.id]=this.getAcoPermissionsOptions(t)})),this.foldersErrors.forEach((t=>{e[t.id]=this.getAcoPermissionsOptions(t)})),e}getAcoPermissionsOptions(e){let t=e.permissions;return t=this.filterOutGroupToDeleteFromPermissions(t),t=this.decoratePermissionWithAcoEntity(t),t=this.sortPermissionsAlphabeticallyByAcoName(t),t}filterOutGroupToDeleteFromPermissions(e){return e.filter((e=>e.aro_foreign_key!==this.groupToDelete.id))}decoratePermissionWithAcoEntity(e){return e.forEach((e=>{"Group"===e.aro?e.group=this.getGroup(e.aro_foreign_key):e.user=this.getUser(e.aro_foreign_key)})),e}sortPermissionsAlphabeticallyByAcoName(e){return e.sort(((e,t)=>{const s="Group"===e.aro?e.group.name:this.getUserFullName(e.user),a="Group"===t.aro?t.group.name:this.getUserFullName(t.user);return s.localeCompare(a)}))}getUser(e){return this.props.context.users.find((t=>t.id===e))}getGroup(e){return this.props.context.groups.find((t=>t.id===e))}getUserFullName(e){return`${e.profile.first_name} ${e.profile.last_name}`}async handleFormSubmit(e){e.preventDefault(),this.state.processing||await this.delete()}handleCloseClick(){this.props.onClose(),this.props.context.setContext({deleteUserWithConflictsDialogProps:null})}handleOnChangeOwner(e,t){const s=e.target.value,a=this.state.owners;Object.assign(a,{[t]:s}),this.setState({owners:a})}createPermissionOwnersTransfer(){if(null!=this.state.owners){const e=[];for(const[t,s]of Object.entries(this.state.owners))e.push({id:s,aco_foreign_key:t});return e}return null}createUserDeleteTransfer(){return{owners:this.createPermissionOwnersTransfer()}}async delete(){this.setState({processing:!0});try{const e=this.createUserDeleteTransfer();this.props.loadingContext.add(),await this.props.context.port.request("passbolt.groups.delete",this.groupToDelete.id,e),this.props.loadingContext.remove(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The group has been deleted successfully")),this.props.onClose(),this.props.context.setContext({deleteUserWithConflictsDialogProps:null})}catch(e){this.props.loadingContext.remove(),"UserAbortsOperationError"===e.name||(console.error(e),this.handleError(e)),this.setState({processing:!1})}}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}hasAllInputDisabled(){return this.state.processing}populateDefaultOwners(){const e={};return this.hasResourcesConflict()&&this.resourcesErrors.forEach((t=>{const s=this.acosPermissionsOptions[t.id][0];s&&(e[t.id]=s.id)})),this.hasFolderConflict()&&this.foldersErrors.forEach((t=>{const s=this.acosPermissionsOptions[t.id][0];s&&(e[t.id]=s.id)})),e}get groupToDelete(){return this.props.context.deleteGroupWithConflictsDialogProps.group}hasFolderConflict(){return this.foldersErrors&&this.foldersErrors.length>0}hasResourcesConflict(){return this.resourcesErrors&&this.resourcesErrors.length>0}getAcoPermissionsList(e){const t=e=>"User"===e.aro&&this.getUserOptionLabel(e.user)||"Group"===e.aro&&e.group.name;return this.acosPermissionsOptions[e]?.map((e=>({value:e.id,label:t(e)})))||[]}getUserOptionLabel(e){return`${e.profile.first_name} ${e.profile.last_name} (${e.username})`}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("You cannot delete this group!"),onClose:this.handleCloseClick,disabled:this.state.processing,className:"delete-group-dialog"},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content intro"},a.createElement("p",null,a.createElement(w.x6,null,"You are about to delete the group ",a.createElement("strong",{className:"dialog-variable"},{groupName:this.groupToDelete.name}),".")),a.createElement("p",null,a.createElement(w.x6,null,"This group is the sole owner of some content. You need to transfer the ownership to others to continue."))),a.createElement("div",{className:"ownership-transfer"},this.hasFolderConflict()&&a.createElement("div",null,a.createElement("h3",null,a.createElement(w.x6,null,"Folders")),a.createElement("ul",{className:"ownership-transfer-items"},this.foldersErrors.map((e=>a.createElement("li",{key:e.id},a.createElement("div",{className:"select-wrapper input required "+(this.state.processing?"disabled":"")},a.createElement("label",{htmlFor:"transfer_folder_owner"},e.name," ",a.createElement(w.x6,null,"(Folder) new owner:")),a.createElement(gs,{className:"form-element",value:this.state.owners[e.id],items:this.getAcoPermissionsList(e.id),onChange:t=>this.handleOnChangeOwner(t,e.id)}))))))),this.hasResourcesConflict()&&a.createElement("div",null,a.createElement("h3",null,a.createElement(w.x6,null,"Passwords")),a.createElement("ul",{className:"ownership-transfer-items"},this.resourcesErrors.map((e=>a.createElement("li",{key:e.id},a.createElement("div",{className:"select-wrapper input required "+(this.state.processing?"disabled":"")},a.createElement("label",{htmlFor:"transfer_resource_owner"},e.metadata.name," (",a.createElement(w.x6,null,"Password"),") ",a.createElement(w.x6,null,"new owner"),":"),a.createElement(gs,{className:"form-element",value:this.state.owners[e.id],items:this.getAcoPermissionsList(e.id),onChange:t=>this.handleOnChangeOwner(t,e.id)})))))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseClick}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Delete"),warning:!0}))))}}mn.propTypes={context:l().any,onClose:l().func,actionFeedbackContext:l().any,dialogContext:l().any,loadingContext:l().any,t:l().func};const pn=h(He(_e(k((0,w.CI)("common")(mn)))));class un extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.initEventHandlers()}getDefaultState(){return{processing:!1}}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this)}async handleFormSubmit(e){e.preventDefault(),this.state.processing||await this.delete()}handleCloseClick(){this.props.onClose(),this.props.context.setContext({deleteGroupDialogProps:null})}async delete(){this.setState({processing:!0});try{this.props.loadingContext.add(),await this.props.context.port.request("passbolt.groups.delete",this.group.id),this.props.loadingContext.remove(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The group has been deleted successfully")),this.props.onClose(),this.props.context.setContext({deleteGroupDialogProps:null})}catch(e){this.props.loadingContext.remove(),"UserAbortsOperationError"===e.name||(console.error(e),this.handleError(e)),this.setState({processing:!1})}}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}hasAllInputDisabled(){return this.state.processing}get group(){return this.props.context.deleteGroupDialogProps.group}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("Delete group?"),onClose:this.handleCloseClick,disabled:this.state.processing,className:"delete-group-dialog"},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("p",null,a.createElement(w.x6,null,"Are you sure you want to delete the group ",a.createElement("strong",{className:"dialog-variable"},{groupName:this.group.name}),"?")),a.createElement("p",null,a.createElement(w.x6,null,"This action cannot be undone. Users in this group may lose access to the content shared with it."))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseClick}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Delete"),warning:!0}))))}}un.propTypes={context:l().any,onClose:l().func,actionFeedbackContext:l().any,dialogContext:l().any,loadingContext:l().any,t:l().func};const gn=h(He(_e(k((0,w.CI)("common")(un)))));class Cn extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleDeleteClickEvent=this.handleDeleteClickEvent.bind(this),this.handleEditGroup=this.handleEditGroup.bind(this),this.handleHide=this.handleHide.bind(this)}get group(){return this.props.group}get isCurrentUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}async handleDeleteClickEvent(){try{await this.props.context.port.request("passbolt.groups.delete-dry-run",this.group.id),this.displayDeleteGroupDialog()}catch(e){"DeleteDryRunError"===e.name?this.displayDeleteGroupWithConflictsDialog(e.errors):this.handleError(e)}this.handleHide()}displayDeleteGroupDialog(){const e={group:this.group};this.props.context.setContext({deleteGroupDialogProps:e}),this.props.dialogContext.open(gn)}displayDeleteGroupWithConflictsDialog(e){const t={group:this.group,errors:e};this.props.context.setContext({deleteGroupWithConflictsDialogProps:t}),this.props.dialogContext.open(pn)}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}async handleEditGroup(){await this.props.userWorkspaceContext.onGroupToEdit(this.props.group),this.props.dialogContext.open(Is),this.handleHide()}handleHide(){"function"==typeof this.props.onBeforeHide&&this.props.onBeforeHide(this.props.group.id),this.props.hide()}render(){return a.createElement(Ks,{hide:this.handleHide,left:this.props.left,top:this.props.top,className:this.props.className},a.createElement("li",{key:"option-filter-all-groups",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",id:"edit-group",onClick:this.handleEditGroup},a.createElement("span",null,a.createElement(w.x6,null,"Edit group"))))))),this.isCurrentUserAdmin&&a.createElement("li",{key:"option-delete-group",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",id:"delete-group",onClick:this.handleDeleteClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Delete Group"))))))))}}Cn.propTypes={context:l().any,hide:l().func,onBeforeHide:l().func,left:l().number,top:l().number,group:l().object,className:l().string,dialogContext:l().any,userWorkspaceContext:l().object};const bn=h(As(k((0,w.CI)("common")(Cn))));class En extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{open:!0,title:this.translate("All groups"),filterType:null,moreTitleMenuOpen:!1,moreMenuOpenGroupId:null}}bindCallbacks(){this.handleTitleClickEvent=this.handleTitleClickEvent.bind(this),this.handleTitleMoreClickEvent=this.handleTitleMoreClickEvent.bind(this),this.handleCloseTitleMoreMenu=this.handleCloseTitleMoreMenu.bind(this),this.handleTitleContextualMenuEvent=this.handleTitleContextualMenuEvent.bind(this),this.handleFilterGroupType=this.handleFilterGroupType.bind(this),this.handleGroupSelected=this.handleGroupSelected.bind(this),this.handleMoreClickEvent=this.handleMoreClickEvent.bind(this),this.handleCloseMoreMenu=this.handleCloseMoreMenu.bind(this),this.handleContextualMenuEvent=this.handleContextualMenuEvent.bind(this)}handleTitleClickEvent(){const e=!this.state.open;this.setState({open:e})}handleTitleContextualMenuEvent(e){e.preventDefault(),this.showContextualMenu(e.pageY,e.pageX)}handleTitleMoreClickEvent(e){const t=!this.state.moreTitleMenuOpen;if(this.setState({moreTitleMenuOpen:t}),t){const{left:t,top:s}=e.currentTarget.getBoundingClientRect();this.showContextualMenu(s+18,t,"right")}}handleCloseTitleMoreMenu(){this.setState({moreTitleMenuOpen:!1})}handleContextualMenuEvent(e,t){if(e.preventDefault(),this.isCurrentUserAdmin){const s=e.pageY,a={group:t,left:e.pageX,top:s};this.props.contextualMenuContext.show(bn,a)}}handleGroupSelected(e,t){const{id:s}=t;this.props.history.push(`/app/groups/view/${s}`)}handleFilterGroupType(e){this.setState({filterType:e},(()=>{this.updateTitle()}))}handleMoreClickEvent(e,t){const s=this.state.moreMenuOpenGroupId===t.id?null:t.id;if(this.setState({moreMenuOpenGroupId:s}),s){const{left:s,top:a}=e.currentTarget.getBoundingClientRect(),n={group:t,left:s,top:a+18,className:"right",onBeforeHide:this.handleCloseMoreMenu};this.props.contextualMenuContext.show(bn,n)}}handleCloseMoreMenu(e){this.state.moreMenuOpenGroupId===e&&this.setState({moreMenuOpenGroupId:null})}get titles(){return{[yn.manage]:this.translate("Groups I manage"),[yn.member]:this.translate("Groups I am member of"),default:this.translate("All groups")}}get filters(){return{[yn.manage]:e=>e.my_group_user&&e.my_group_user.is_admin,[yn.member]:e=>e.my_group_user&&!e.my_group_user.is_admin,[yn.all]:e=>e}}get filteredGroups(){const e=this.state.filterType||yn.all,t=this.filters[e];return this.groupsSorted.filter(t)}get isCurrentUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}get groups(){return this.props.context.groups}get groupsSorted(){return this.groups.sort(((e,t)=>e.name.localeCompare(t.name)))}showContextualMenu(e,t,s=""){const a={left:t,onFilterSelected:this.handleFilterGroupType,onBeforeHide:this.handleCloseTitleMoreMenu,top:e,className:s};this.props.contextualMenuContext.show(hn,a)}updateTitle(){const e=this.titles[this.state.filterType]||this.titles.default;this.setState({title:e})}isLoading(){return null===this.groups}hasGroup(){return this.filteredGroups.length>0}isSelected(e){const t=this.props.userWorkspaceContext.filter.type===Ms.GROUP,s=this.props.userWorkspaceContext.filter.payload,a=s&&s.group;return t&&a.id===e.id}canShowMore(e){const t=e.my_group_user&&e.my_group_user.is_admin;return this.isCurrentUserAdmin||t}get translate(){return this.props.t}render(){return a.createElement("div",{className:"navigation-secondary-tree navigation-secondary navigation-groups accordion"},a.createElement("ul",{className:"accordion-header"},a.createElement("li",{className:"node root "+(this.state.open?"open":"close")},a.createElement("div",{className:"row title"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("h3",null,a.createElement("span",{className:"folders-label",onClick:this.handleTitleClickEvent},a.createElement("button",{type:"button",className:"link no-border",onContextMenu:this.handleTitleContextualMenuEvent},a.createElement(a.Fragment,null,this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})),this.state.title))))),a.createElement("div",{className:"dropdown right-cell more-ctrl"},a.createElement("button",{type:"button",className:this.state.moreTitleMenuOpen?"open":"",onClick:this.handleTitleMoreClickEvent},a.createElement(ge,{name:"3-dots-h"})))))),this.state.open&&a.createElement("div",{className:"accordion-content"},this.isLoading()&&a.createElement("div",{className:"processing-wrapper"},a.createElement(ge,{name:"spinner"}),a.createElement("span",{className:"processing-text"},a.createElement(w.x6,null,"Retrieving groups"))),!this.isLoading()&&!this.hasGroup()&&a.createElement("em",{className:"empty-content"},a.createElement(w.x6,null,"empty")),!this.isLoading()&&this.hasGroup()&&a.createElement("ul",{className:"tree ready"},this.filteredGroups.map((e=>a.createElement("li",{className:"node root group-item",key:e.id},a.createElement("div",{className:"row  "+(this.isSelected(e)?"selected":"")},a.createElement("div",{className:"main-cell-wrapper",onClick:t=>this.handleGroupSelected(t,e),onContextMenu:t=>this.handleContextualMenuEvent(t,e)},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",title:e.name},a.createElement(ge,{name:"users"}),a.createElement("span",{className:"ellipsis"},e.name)))),this.canShowMore(e)&&a.createElement("div",{className:"dropdown right-cell more-ctrl"},a.createElement("button",{type:"button",onClick:t=>this.handleMoreClickEvent(t,e),className:this.state.moreMenuOpenGroupId===e.id?"open":""},a.createElement(ge,{name:"3-dots-h"}))))))))))}}En.propTypes={context:l().any,userWorkspaceContext:l().any,history:l().object,contextualMenuContext:l().any,t:l().func};const fn=h((0,i.y)(As(Os((0,w.CI)("common")(En))))),yn={all:"all",manage:"manage",member:"member"};class vn extends a.Component{constructor(e){super(e),this.bindHandlers()}bindHandlers(){this.handleAllItemsClick=this.handleAllItemsClick.bind(this),this.handleRecentlyModifiedClick=this.handleRecentlyModifiedClick.bind(this),this.handleSuspendedUsersClick=this.handleSuspendedUsersClick.bind(this)}get isAllItemsSelected(){return this.props.userWorkspaceContext.filter.type===Ms.ALL}get isRecentlyModifiedSelected(){return this.props.userWorkspaceContext.filter.type===Ms.RECENTLY_MODIFIED}get isSuspendedUsersSelected(){return this.props.userWorkspaceContext.filter.type===Ms.SUSPENDED_USER}handleAllItemsClick(){const e={type:Ms.ALL};this.props.history.push({pathname:"/app/users",state:{filter:e}})}handleRecentlyModifiedClick(){const e={type:Ms.RECENTLY_MODIFIED};this.props.history.push({pathname:"/app/users",state:{filter:e}})}handleSuspendedUsersClick(){const e={type:Ms.SUSPENDED_USER};this.props.history.push({pathname:"/app/users",state:{filter:e}})}get shouldDisplaySuspendedUsersFilter(){return this.props.userWorkspaceContext.shouldDisplaySuspendedUsersFilter()}render(){return a.createElement("div",{className:"navigation-secondary navigation-shortcuts"},a.createElement("ul",null,a.createElement("li",null,a.createElement("div",{className:"row "+(this.isAllItemsSelected?"selected":""),onClick:this.handleAllItemsClick},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",id:"all-users"},a.createElement("span",null,a.createElement(w.x6,null,"All users"))))))),a.createElement("li",null,a.createElement("div",{className:"row "+(this.isRecentlyModifiedSelected?"selected":""),onClick:this.handleRecentlyModifiedClick},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",id:"recently-modified"},a.createElement("span",null,a.createElement(w.x6,null,"Recently modified"))))))),this.shouldDisplaySuspendedUsersFilter&&a.createElement("li",null,a.createElement("div",{className:"row "+(this.isSuspendedUsersSelected?"selected":""),onClick:this.handleSuspendedUsersClick},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",id:"suspended-users"},a.createElement("span",null,a.createElement(w.x6,null,"Suspended users")))))))))}}vn.propTypes={history:l().object,userWorkspaceContext:l().object};const kn=(0,i.y)(As((0,w.CI)("common")(vn)));class wn extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createReferences()}bindCallbacks(){this.handleChangeEvent=this.handleChangeEvent.bind(this),this.handleSubmitButtonFocus=this.handleSubmitButtonFocus.bind(this),this.handleSubmitButtonBlur=this.handleSubmitButtonBlur.bind(this),this.handleOnSubmitEvent=this.handleOnSubmitEvent.bind(this)}get defaultState(){return{hasSubmitButtonFocus:!1}}createReferences(){this.searchInputRef=a.createRef()}handleChangeEvent(e){const t=e.target.value;this.props.onSearch&&this.props.onSearch(t)}handleSubmitButtonFocus(){this.setState({hasSubmitButtonFocus:!0})}handleSubmitButtonBlur(){this.setState({hasSubmitButtonFocus:!1})}handleOnSubmitEvent(e){if(e.preventDefault(),this.props.onSearch){const e=this.searchInputRef.current.value;this.props.onSearch(e)}}render(){return a.createElement("div",{className:"col2 search-wrapper"},a.createElement("form",{className:"search",onSubmit:this.handleOnSubmitEvent},a.createElement("div",{className:`input search required ${this.state.hasSubmitButtonFocus?"no-focus":""} ${this.props.disabled?"disabled":""}`},a.createElement("label",null,a.createElement(w.x6,null,"Search")),a.createElement("input",{ref:this.searchInputRef,className:"required",type:"search",disabled:this.props.disabled?"disabled":"",onChange:this.handleChangeEvent,placeholder:this.props.placeholder||this.props.t("Search"),value:this.props.value}),a.createElement("div",{className:"search-button-wrapper"},a.createElement("button",{className:"button button-transparent",value:this.props.t("Search"),onBlur:this.handleSubmitButtonBlur,onFocus:this.handleSubmitButtonFocus,type:"submit",disabled:this.props.disabled?"disabled":""},a.createElement(ge,{name:"search"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"Search")))))))}}wn.propTypes={disabled:l().bool,onSearch:l().func,placeholder:l().string,value:l().string,t:l().func},wn.defaultProps={disabled:!1};const xn=(0,w.CI)("common")(wn);class Sn extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}bindCallbacks(){this.handleSearchEvent=this.handleSearchEvent.bind(this)}get defaultState(){return{text:"",debounceTimeoutIt:null}}componentDidUpdate(e){this.handleFilterChanged(e.userWorkspaceContext.filter)}componentWillUnmount(){clearTimeout(this.state.debounceTimeoutIt)}handleFilterChanged(e){const t=e.type===Ms.TEXT,s=this.props.userWorkspaceContext.filter.type===Ms.TEXT;t&&!s&&this.setState({text:""})}handleSearchEvent(e){this.search(e)}search(e){clearTimeout(this.state.debounceTimeoutId);const t=setTimeout((()=>{const t={type:Ms.TEXT,payload:e};this.props.history.push({pathname:"/app/users",state:{filter:t}})}),300);this.setState({debounceTimeoutId:t,text:e})}render(){return a.createElement(xn,{disabled:this.props.disabled,onSearch:this.handleSearchEvent,placeholder:this.props.t("Search users"),value:this.state.text})}}Sn.propTypes={disabled:l().bool,userWorkspaceContext:l().object,history:l().object,t:l().func};const Nn=(0,i.y)(As((0,w.CI)("common")(Sn)));class Rn extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!0}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this)}get group(){return this.props.userWorkspaceContext.details.group}handleTitleClicked(){this.setState({open:!this.state.open})}get translate(){return this.props.t}render(){const e=nt(this.group.created,this.props.t,this.props.context.locale),t=nt(this.group.modified,this.props.t,this.props.context.locale),s=this.props.context.users.find((e=>e.id===this.group.modified_by)),n=s?`${s.profile.first_name} ${s.profile.last_name}`:this.translate("Unknown user"),r=this.group.groups_users.length;return a.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTitleClicked},a.createElement(w.x6,null,"Information"),this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},a.createElement("ul",null,a.createElement("li",{className:"created"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Created")),a.createElement("span",{className:"value",title:this.group.created},e)),a.createElement("li",{className:"modified"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Modified")),a.createElement("span",{className:"value",title:this.group.modified},t)),a.createElement("li",{className:"modified-by"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Modified by")),a.createElement("span",{className:"value"},n)),a.createElement("li",{className:"members"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Members")),a.createElement("span",{className:"value"},r)))))}}Rn.propTypes={context:l().any,userWorkspaceContext:l().object,t:l().func};const In=h(As((0,w.CI)("common")(Rn)));class _n extends a.Component{get user(){return this.props.context.users.find((e=>e.id===this.props.groupUser.user_id))}get roleName(){return this.props.groupUser.is_admin?"Group manager":"Member"}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}render(){const e=this.props.context.siteSettings.canIUse("siteSettings")&&Zt(this.user);return a.createElement("li",{key:this.user.id,className:"permission usercard-col-2 "+(e?"suspended":"")},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement("div",{className:"name"},`${this.user.profile.first_name} ${this.user.profile.last_name}`,e&&a.createElement("span",{className:"suspended"}," ",a.createElement(w.x6,null,"(suspended)"))),a.createElement("div",{className:"subinfo"},this.props.t(this.roleName)))),a.createElement(Gt,{user:this.user,baseUrl:this.baseUrl}))}}_n.propTypes={context:l().any,groupUser:l().object,userWorkspaceContext:l().object,t:l().func};const Dn=h(As((0,w.CI)("common")(_n)));class Tn extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!1}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this),this.handleEditGroup=this.handleEditGroup.bind(this)}get group(){return this.props.userWorkspaceContext.details.group}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}handleTitleClicked(){this.setState({open:!this.state.open})}async handleEditGroup(){await this.props.userWorkspaceContext.onGroupToEdit(this.group),this.props.dialogContext.open(Is)}isLoading(){return!this.props.context.users}render(){return a.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTitleClicked},a.createElement(w.x6,null,"Group members"),this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},a.createElement("button",{type:"button",className:"section-action button-transparent",onClick:this.handleEditGroup},a.createElement(ge,{name:"edit"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"Edit"))),this.isLoading()&&a.createElement("div",{className:"processing-wrapper"},a.createElement(ge,{name:"spinner"}),a.createElement("span",{className:"processing-text"},a.createElement(w.x6,null,"Retrieving group members"))),!this.isLoading()&&this.state.open&&a.createElement(a.Fragment,null,a.createElement("ul",null,this.group.groups_users.map((e=>a.createElement(Dn,{key:e.id,groupUser:e})))))))}}Tn.propTypes={context:l().any,userWorkspaceContext:l().object,dialogContext:l().object};const Pn=h(k(As((0,w.CI)("common")(Tn))));class An extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handlePermalinkClick=this.handlePermalinkClick.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this)}get group(){return this.props.userWorkspaceContext.details.group}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}async handlePermalinkClick(){const e=`${this.props.context.userSettings.getTrustedDomain()}/app/groups/view/${this.group.id}`;await va.copy(e,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The permalink has been copied to clipboard"))}handleCloseClick(){this.props.userWorkspaceContext.onDetailsLocked()}get translate(){return this.props.t}render(){return a.createElement("div",{className:"panel aside ready"},a.createElement("div",{className:"sidebar user"},a.createElement("div",{className:"sidebar-header"},a.createElement("div",{className:"teaser-image"},a.createElement($t,{group:this.group})),a.createElement("h3",null,a.createElement("div",{className:"title-wrapper"},a.createElement("span",{className:"name sidebar-header-title"},this.group.name),a.createElement("button",{type:"button",className:"title-link link no-border",title:this.translate("Copy the link to this group"),onClick:this.handlePermalinkClick},a.createElement(ge,{name:"link"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"Copy the link to this group")))),a.createElement("span",{className:"subtitle"},a.createElement(w.x6,null,"Group"))),a.createElement("button",{type:"button",className:"dialog-close button-transparent",onClick:this.handleCloseClick},a.createElement(ge,{name:"close"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"Close"))))),a.createElement(In,null),a.createElement(Pn,null))}}An.propTypes={context:l().any,actionFeedbackContext:l().any,userWorkspaceContext:l().any,t:l().func};const Mn=h(_e(As((0,w.CI)("common")(An))));class Un{constructor(e){this.settings=this.sanitizeDto(e)}sanitizeDto(e){const t=JSON.parse(JSON.stringify(e));return this.sanitizeEmailValidateRegex(t),t}sanitizeEmailValidateRegex(e){const t=e?.passbolt?.email?.validate?.regex;t&&"string"==typeof t&&t.trim().length&&(e.passbolt.email.validate.regex=t.trim().replace(/^\/+/,"").replace(/\/+$/,""))}canIUse(e){let t=!1;const s=`passbolt.plugins.${e}`,a=Et(this.settings,s)||null;if(a&&"object"==typeof a){const e=Et(a,"enabled");void 0!==e&&!0!==e||(t=!0)}return t}getPluginSettings(e){const t=`passbolt.plugins.${e}`;return Et(this.settings,t)}getRememberMeOptions(){return(this.getPluginSettings("rememberMe")||{}).options||{}}get hasRememberMeUntilILogoutOption(){return void 0!==(this.getRememberMeOptions()||{})[-1]}getServerTimezone(){return Et(this.settings,"passbolt.app.server_timezone")}get termsLink(){const e=Et(this.settings,"passbolt.legal.terms.url");return!!e&&qe(e)}get privacyLink(){const e=Et(this.settings,"passbolt.legal.privacy_policy.url");return!!e&&qe(e)}get registrationPublic(){return!0===Et(this.settings,"passbolt.registration.public")}get debug(){return!0===Et(this.settings,"app.debug")}get url(){return Et(this.settings,"app.url")||""}get version(){return Et(this.settings,"app.version.number")}get locale(){return Et(this.settings,"app.locale")||Un.DEFAULT_LOCALE.locale}async setLocale(e){this.settings.app.locale=e}get supportedLocales(){return Et(this.settings,"passbolt.plugins.locale.options")||Un.DEFAULT_SUPPORTED_LOCALES}get generatorConfiguration(){return Et(this.settings,"passbolt.plugins.generator.configuration")}get emailValidateRegex(){return this.settings?.passbolt?.email?.validate?.regex||null}static get DEFAULT_SUPPORTED_LOCALES(){return[Un.DEFAULT_LOCALE]}static get DEFAULT_LOCALE(){return{locale:"en-UK",label:"English"}}}var Fn=s(53050),Ln=s.n(Fn);class On{static validate(e){return"string"==typeof e&&Ln()("^[\\p{L}0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\p{L}0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[_\\p{L}0-9][-_\\p{L}0-9]*\\.)*(?:[\\p{L}0-9][-\\p{L}0-9]{0,62})\\.(?:(?:[a-z]{2}\\.)?[a-z]{2,})$","i").test(e)}}class Vn{constructor(e){if("string"!=typeof e)throw Error("The regex should be a string.");this.regex=new(Ln())(e)}validate(e){return"string"==typeof e&&this.regex.test(e)}}class Hn{static validate(e,t){return Hn.getValidator(t).validate(e)}static getValidator(e){return e&&e instanceof Un&&e.emailValidateRegex?new Vn(e.emailValidateRegex):On}}class qn extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.createInputRefs(),this.bindEventHandlers()}componentDidMount(){this.setState({loading:!1},(()=>{this.firstNameRef.current.focus()}))}get defaultState(){return{loading:!0,processing:!1,first_name:"",first_nameError:null,first_nameWarning:"",last_name:"",last_nameError:null,last_nameWarning:"",username:"",usernameError:null,usernameWarning:"",is_admin:!1,hasAlreadyBeenValidated:!1}}createInputRefs(){this.firstNameRef=a.createRef(),this.lastNameRef=a.createRef(),this.usernameRef=a.createRef()}bindEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleFirstNameInputKeyUp=this.handleFirstNameInputKeyUp.bind(this),this.handleLastNameInputOnKeyUp=this.handleLastNameInputOnKeyUp.bind(this),this.handleUsernameInputOnKeyUp=this.handleUsernameInputOnKeyUp.bind(this),this.handleCheckboxClick=this.handleCheckboxClick.bind(this)}handleClose(){this.props.onClose()}handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.setState({[a]:s})}handleCheckboxClick(e){const t=e.target,s=t.checked,a=t.name;this.setState({[a]:s})}handleFirstNameInputKeyUp(){if(this.state.hasAlreadyBeenValidated){const e=this.validateFirstNameInput();this.setState(e)}else{const e=ys(this.state.first_name,vs,this.translate);this.setState({first_nameWarning:e})}}handleLastNameInputOnKeyUp(){if(this.state.hasAlreadyBeenValidated){const e=this.validateLastNameInput();this.setState(e)}else{const e=ys(this.state.last_name,vs,this.translate);this.setState({last_nameWarning:e})}}handleUsernameInputOnKeyUp(){if(this.state.hasAlreadyBeenValidated){const e=this.validateUsernameInput();this.setState(e)}else{const e=ys(this.state.username,vs,this.translate);this.setState({usernameWarning:e})}}async handleFormSubmit(e){if(e.preventDefault(),await this.setState({hasAlreadyBeenValidated:!0}),!this.state.processing){if(await this.toggleProcessing(),await this.validate(),this.hasValidationError())return await this.toggleProcessing(),void this.focusFirstFieldError();try{await this.createUser(),await this.handleSaveSuccess()}catch(e){this.handleSaveError(e)}}}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The user has been added successfully")),this.props.onClose()}handleSaveError(e){"UserAbortsOperationError"===e.name?this.setState({processing:!1}):this.hasUsernameAlreadyExists(e.data)?this.setState({processing:!1,usernameError:e.data.body.username.uniqueUsername}):(console.error(e),this.handleError(e),this.setState({processing:!1}))}hasUsernameAlreadyExists(e){return e&&e.body&&e.body.username&&e.body.username.uniqueUsername}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}async toggleProcessing(){const e=this.state.processing;return this.setState({processing:!e})}focusFirstFieldError(){this.state.first_nameError?this.firstNameRef.current.focus():this.state.last_nameError?this.lastNameRef.current.focus():this.state.username&&this.usernameRef.current.focus()}async createUser(){const e=this.props.context.roles.find((e=>this.state.is_admin?"admin"===e.name:"user"===e.name)),t={profile:{first_name:this.state.first_name,last_name:this.state.last_name},username:this.state.username.trim(),role_id:e.id};return await this.props.context.port.request("passbolt.users.create",t)}async validate(){return await Promise.all([this.validateFirstNameInput(),this.validateLastNameInput(),this.validateUsernameInput()]),this.hasValidationError()}async validateFirstNameInput(){let e=null;return this.state.first_name.trim().length||(e=this.translate("A first name is required.")),this.setState({first_nameError:e})}async validateLastNameInput(){let e=null;return this.state.last_name.trim().length||(e=this.translate("A last name is required.")),this.setState({last_nameError:e})}async validateUsernameInput(){let e=null;const t=this.state.username.trim();return t.length?Hn.validate(t,this.props.context.siteSettings)||(e=this.translate("The username should be a valid username address.")):e=this.translate("A username is required."),this.setState({usernameError:e})}hasValidationError(){return null!==this.state.first_nameError||null!==this.state.last_nameError||null!==this.state.usernameError}hasAllInputDisabled(){return this.state.processing||this.state.loading}get translate(){return this.props.t}render(){return a.createElement(ve,{className:"user-create-dialog",title:this.translate("Add User"),onClose:this.handleClose,disabled:this.hasAllInputDisabled()},a.createElement("form",{className:"user-create-form",onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input text required ${this.state.first_nameError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",{htmlFor:"user-first-name-input"},a.createElement(w.x6,null,"First name"),this.state.first_nameWarning&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"user-first-name-input",name:"first_name",ref:this.firstNameRef,type:"text",value:this.state.first_name,placeholder:this.translate("First name"),required:"required",disabled:this.hasAllInputDisabled(),maxLength:"128",onKeyUp:this.handleFirstNameInputKeyUp,onChange:this.handleInputChange,autoComplete:"off",autoFocus:!0}),this.state.first_nameError&&a.createElement("div",{className:"first_name error-message"},this.state.first_nameError),this.state.first_nameWarning&&a.createElement("div",{className:"firstname warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.first_nameWarning)),a.createElement("div",{className:`input text required ${this.state.last_nameError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",{htmlFor:"user-last-name-input"},a.createElement(w.x6,null,"Last name"),this.state.last_nameWarning&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"user-last-name-input",name:"last_name",ref:this.lastNameRef,maxLength:"128",type:"text",value:this.state.last_name,placeholder:this.translate("Last name"),required:"required",disabled:this.hasAllInputDisabled(),onKeyUp:this.handleLastNameInputOnKeyUp,onChange:this.handleInputChange,autoComplete:"off",autoFocus:!0}),this.state.last_nameError&&a.createElement("div",{className:"last_name error-message"},this.state.last_nameError),this.state.last_nameWarning&&a.createElement("div",{className:"lastname warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.last_nameWarning)),a.createElement("div",{className:`input text required ${this.state.usernameError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",{htmlFor:"user-username-input"},a.createElement(w.x6,null,"Username / Email"),this.state.usernameWarning&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"user-username-input",name:"username",maxLength:"128",ref:this.usernameRef,type:"text",value:this.state.username,placeholder:this.translate("Email"),required:"required",disabled:this.hasAllInputDisabled(),onKeyUp:this.handleUsernameInputOnKeyUp,onChange:this.handleInputChange,autoComplete:"off",autoFocus:!0}),this.state.usernameError&&a.createElement("div",{className:"username error-message"},this.state.usernameError),this.state.usernameWarning&&a.createElement("div",{className:"username warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.usernameWarning)),a.createElement("div",{className:"input checkbox-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Role")),a.createElement("span",{className:"input toggle-switch form-element ready"},a.createElement("input",{id:"is_admin_checkbox",name:"is_admin",disabled:this.isLoggedInUserAsEditing||this.hasAllInputDisabled(),onChange:this.handleCheckboxClick,className:"toggle-switch-checkbox checkbox",checked:this.state.is_admin,type:"checkbox"}),a.createElement("label",{htmlFor:"is_admin_checkbox"},a.createElement(w.x6,null,"This user is an administrator")),a.createElement(fe,{message:this.translate("Administrators can add and delete users. They can also create groups and assign group managers. By default they can not see all passwords.")},a.createElement(ge,{name:"info-circle"}))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleClose}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Save")}))))}}qn.propTypes={context:l().any,actionFeedbackContext:l().any,onClose:l().func,dialogContext:l().any,t:l().func};const jn=h(_e(k((0,w.CI)("common")(qn))));class Wn extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindEventHandlers(),this.createRef()}get defaultState(){return{loading:!0,processing:!1,name:"",nameError:"",nameWarning:"",groups_users:[],autocompleteOpen:!1}}bindEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleAutocompleteSelect=this.handleAutocompleteSelect.bind(this),this.handleAutocompleteClose=this.handleAutocompleteClose.bind(this),this.handleAutocompleteOpen=this.handleAutocompleteOpen.bind(this),this.fetchAutocompleteItems=this.fetchAutocompleteItems.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleNameInputKeyUp=this.handleNameInputKeyUp.bind(this),this.handleSelectUpdate=this.handleSelectUpdate.bind(this),this.handleDeleteClickEvent=this.handleDeleteClickEvent.bind(this),this.renderItem=this.renderItem.bind(this),this.renderContainer=this.renderContainer.bind(this)}createRef(){this.groupUsersListRef=a.createRef(),this.nameInputRef=a.createRef()}async componentDidMount(){await this.addCurrentUser(),this.setState({loading:!1},(()=>{this.nameInputRef.current.focus()}))}handleClose(){this.props.onClose()}handleAutocompleteOpen(){this.setState({autocompleteOpen:!0})}handleAutocompleteClose(){this.setState({autocompleteOpen:!1})}handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.setState({[a]:s})}handleNameInputKeyUp(){const e=this.validateNameInput();this.setState(e);const t=ys(this.state.name,50,this.translate);this.setState({nameWarning:t})}handleSelectUpdate(e,t){const s=!0===e.target.value,a=Object.assign(this.state.groups_users),n=a.findIndex((e=>e.user.id===t));a[n]=Object.assign(a[n],{is_admin:s}),this.setState({groups_users:a})}handleDeleteClickEvent(e,t){const s=Object.assign(this.state.groups_users),a=s.findIndex((e=>e.user.id===t));s.splice(a,1),this.setState({groups_users:s})}async handleFormSubmit(e){if(e.preventDefault(),await this.validate()){if(!this.state.processing){await this.toggleProcessing();try{await this.createGroup(),await this.handleSaveSuccess()}catch(e){this.handleSaveError(e)}}}else this.handleValidateError()}handleValidateError(){this.setState({processing:!1}),this.focusFieldError()}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The group has been created successfully.")),this.props.onClose()}handleSaveError(e){"UserAbortsOperationError"===e.name?this.setState({processing:!1}):this.hasGroupNameAlreadyExists(e.data)?this.setState({processing:!1,nameError:e.data.body.name.group_unique}):(console.error(e),this.handleError(e),this.setState({processing:!1}))}hasGroupNameAlreadyExists(e){return e&&e.body&&e.body.name&&e.body.name.group_unique}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}async addCurrentUser(){const[e]=await this.decorateUsersWithGpgKey([this.props.context.loggedInUser]);this.state.groups_users.push({user:e,is_admin:!0})}async toggleProcessing(){const e=this.state.processing;return this.setState({processing:!e})}focusFieldError(){this.state.nameError&&this.nameInputRef.current.focus()}validateNameInput(){const e=this.state.name.trim();let t="";return e.length||(t=this.translate("A name is required.")),new Promise((e=>{this.setState({nameError:t},e)}))}async validate(){return this.setState({error:"",nameError:""}),await this.validateNameInput(),""===this.state.nameError}handleAutocompleteSelect(e){const t=this.state.groups_users,s=0===this.state.groups_users.length;t.push({user:e,is_admin:s}),this.setState({groups_users:t},(()=>{this.groupUsersListRef.current.scrollTo(t.length-1)}))}async createGroup(){const e=this.state.groups_users.map((e=>({user_id:e.user.id,is_admin:e.is_admin}))),t={name:this.state.name,groups_users:e};return await this.props.context.port.request("passbolt.groups.create",t)}async fetchAutocompleteItems(e){const t=(e=e.toLowerCase())&&e.split(/\s+/)||[""],s=e=>this.state.groups_users.some((t=>t.user.id===e.id)),a=(e,t)=>(e=>new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(e),"i"))(e).test(t);let n=0;const r=this.props.context.users.filter((e=>{const r=n<ds.DISPLAY_LIMIT&&!0===e.active&&!s(e)&&(e=>t.every((t=>((e,t)=>((e,t)=>a(e,t.username))(e,t)||((e,t)=>a(e,t.profile.first_name)||a(e,t.profile.last_name))(e,t))(t,e))))(e);return r&&n++,r}));return this.decorateUsersWithGpgKey(r)}async decorateUsersWithGpgKey(e){return await Promise.all(e.map((async e=>Object.assign(e,{gpgkey:await this.props.context.port.request("passbolt.keyring.get-public-key-info-by-user",e.id)}))))}hasAllInputDisabled(){return this.state.processing||this.state.loading}hasManager(){return this.hasMembers()&&this.state.groups_users.some((e=>!0===e.is_admin))}hasMembers(){return this.state.groups_users.length>0}hasSubmitDisabled(){return!this.hasManager()||this.hasAllInputDisabled()}formatFingerprint(e){const t=e.toUpperCase().replace(/.{4}/g,"$& ");return a.createElement(a.Fragment,null,t.substr(0,24),a.createElement("br",null),t.substr(25))}get permissions(){return[{value:!1,label:this.translate("Member")},{value:!0,label:this.translate("Group manager")}]}renderItem(e,t){const s=this.state.groups_users[e],n=s.user.id;return a.createElement(fs,{key:n,itemKey:n,groupUser:s,onMemberRoleChange:e=>this.handleSelectUpdate(e,s.user.id),onMemberRemoved:e=>this.handleDeleteClickEvent(e,s.user.id),isLastItemDisplayed:t>=2,isMemberChanged:!0,isMemberAdded:!0,areActionsAllowed:!this.hasAllInputDisabled()})}renderContainer(e,t){return a.createElement("ul",{className:"permissions groups_users",ref:t},e)}get isSuspendedUserFeatureEnabled(){return this.props.context.siteSettings.canIUse("disableUser")}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("Create group"),className:"edit-group-dialog",onClose:this.handleClose,disabled:this.hasAllInputDisabled()},a.createElement("form",{className:"group-form",onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input text required ${this.state.nameError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",{htmlFor:"group_name"},a.createElement(w.x6,null,"Group name"),this.state.nameWarning&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"group-name-input",name:"name","aria-required":!0,className:"required",maxLength:"50",type:"text",placeholder:this.translate("group name"),onKeyUp:this.handleNameInputKeyUp,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),ref:this.nameInputRef}),this.state.nameError&&a.createElement("div",{className:"name error-message"},this.state.nameError),this.state.nameWarning&&a.createElement("div",{className:"name warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.nameWarning)),a.createElement("div",{className:"input required"},a.createElement("label",{htmlFor:"group_permission"},a.createElement(w.x6,null,"Group members")))),a.createElement("div",{className:"group_members"},a.createElement("div",{className:"form-content scroll permission-edit"},this.hasMembers()&&a.createElement(Lt(),{ref:this.groupUsersListRef,itemRenderer:this.renderItem,itemsRenderer:this.renderContainer,length:this.state.groups_users.length,minSize:4,type:this.state.groups_users.length<3?"simple":"uniform",threshold:30})),!this.hasMembers()&&a.createElement("div",{className:"message warning"},a.createElement("span",null,a.createElement(w.x6,null,"The group is empty, please add a group manager."))),this.hasMembers()&&!this.hasManager()&&a.createElement("div",{className:"message error"},a.createElement("span",null,a.createElement(w.x6,null,"Please make sure there is at least one group manager."))),this.hasManager()&&a.createElement("div",{className:"message warning"},a.createElement("span",null,a.createElement(w.x6,null,"You need to click save for the changes to take place."))),this.state.nameWarning&&a.createElement("div",{className:"message warning"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.nameWarning),a.createElement("div",{className:"form-content permission-add"},a.createElement(ds,{id:"user-name-input",name:"name",label:this.translate("Add people"),placeholder:this.translate("Start typing a person name"),searchCallback:this.fetchAutocompleteItems,onSelect:this.handleAutocompleteSelect,onOpen:this.handleAutocompleteOpen,onClose:this.handleAutocompleteClose,disabled:this.hasAllInputDisabled(),baseUrl:this.props.context.userSettings.getTrustedDomain(),canShowUserAsSuspended:this.isSuspendedUserFeatureEnabled}))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleClose}),a.createElement(Vt,{disabled:this.hasSubmitDisabled(),processing:this.state.processing,value:this.translate("Save")}))))}}Wn.propTypes={context:l().any,onClose:l().func,actionFeedbackContext:l().any,dialogContext:l().any,t:l().func};const zn=h(_e(k((0,w.CI)("common")(Wn))));class Bn extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{createMenuOpen:!1}}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDocumentContextualMenuEvent=this.handleDocumentContextualMenuEvent.bind(this),this.handleDocumentDragStartEvent=this.handleDocumentDragStartEvent.bind(this),this.handleCreateClickEvent=this.handleCreateClickEvent.bind(this),this.handleCreateMenuUserClickEvent=this.handleCreateMenuUserClickEvent.bind(this),this.handleCreateMenuGroupClickEvent=this.handleCreateMenuGroupClickEvent.bind(this)}componentDidMount(){document.addEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.addEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.addEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.removeEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.removeEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}createRefs(){this.createMenuRef=a.createRef()}handleDocumentClickEvent(e){this.createMenuRef.current&&this.createMenuRef.current.contains(e.target)||this.handleCloseCreateMenu()}handleDocumentContextualMenuEvent(e){this.createMenuRef.current.contains(e.target)||this.handleCloseCreateMenu()}handleDocumentDragStartEvent(){this.handleCloseCreateMenu()}handleCreateClickEvent(){const e=!this.state.createMenuOpen;this.setState({createMenuOpen:e})}handleCreateMenuUserClickEvent(){this.openCreateUserDialog(),this.handleCloseCreateMenu()}openCreateUserDialog(){this.props.dialogContext.open(jn)}handleCreateMenuGroupClickEvent(){this.openCreateGroupDialog(),this.handleCloseCreateMenu()}openCreateGroupDialog(){this.props.dialogContext.open(zn)}handleCloseCreateMenu(){this.setState({createMenuOpen:!1})}canIUseCreate(){return this.isLoggedInUserAdmin()}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}render(){return a.createElement("div",{className:"col1 main-action-wrapper"},this.canIUseCreate()&&a.createElement("div",{className:"dropdown",ref:this.createMenuRef},a.createElement("button",{type:"button",className:"create primary "+(this.state.createMenuOpen?"open":""),onClick:this.handleCreateClickEvent},a.createElement(ge,{name:"add"}),a.createElement("span",null,a.createElement(w.x6,null,"Create"))),a.createElement("ul",{className:"dropdown-content menu right "+(this.state.createMenuOpen?"visible":"")},a.createElement("li",{id:"user_action"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleCreateMenuUserClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"New user"))))))),a.createElement("li",{id:"group_action"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleCreateMenuGroupClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"New group"))))))))))}}Bn.propTypes={context:l().any,dialogContext:l().any};const Gn=h(k((0,w.CI)("common")(Bn)));class Kn extends a.Component{render(){let e=0;return a.createElement("div",{className:"breadcrumbs"},a.createElement("ul",{className:"menu"},this.props.items&&this.props.items.map((t=>(e++,a.createElement("li",{className:"ellipsis",key:e},t))))),this.props.children)}}Kn.propTypes={items:l().array,children:l().any};const $n=Kn;class Zn extends a.Component{render(){return a.createElement("button",{type:"button",className:"link no-border inline ellipsis",onClick:this.props.onClick},this.props.name)}}Zn.propTypes={name:l().string,onClick:l().func};const Yn=Zn;class Jn extends a.Component{get items(){const e=[this.allUsersBreadcrumb];switch(this.props.userWorkspaceContext.filter.type){case Ms.NONE:return[];case Ms.ALL:return e;case Ms.TEXT:{const t=!this.props.userWorkspaceContext.filter.payload,s=this.props.userWorkspaceContext.filter.payload;return t?e:[...e,this.getLastBreadcrumb(`${this.translate("Search:")} ${s}`)]}case Ms.SUSPENDED_USER:return[...e,this.getLastBreadcrumb(this.translate("Suspended users"))];case Ms.RECENTLY_MODIFIED:return[...e,this.getLastBreadcrumb(this.translate("Recently modified"))];case Ms.GROUP:{const t=this.props.userWorkspaceContext.filter.payload.group,s=t&&t.name||this.translate("N/A");return[...e,this.getLastBreadcrumb(`${s} ${this.translate("(group)")}`)]}}return[]}get allUsersBreadcrumb(){return a.createElement(Yn,{name:this.translate("All users"),onClick:this.props.navigationContext.onGoToUsersRequested})}getLastBreadcrumb(e){return a.createElement(Yn,{name:e,onClick:this.onLastBreadcrumbClick.bind(this)})}async onLastBreadcrumbClick(){const e=this.props.location.pathname;this.props.history.push({pathname:e})}get translate(){return this.props.t}render(){return a.createElement($n,{items:this.items},a.createElement("span",{className:"chips"},this.props.userWorkspaceContext.filteredUsers.length))}}Jn.propTypes={userWorkspaceContext:l().object,location:l().object,history:l().object,navigationContext:l().any,t:l().func};const Xn=(0,i.y)(b(As((0,w.CI)("common")(Jn))));class Qn extends a.Component{componentDidMount(){this.handleRoute()}async handleRoute(){const e=this.props.match.params.accountRecoveryRequestId;let t;try{t=await this.props.context.port.request("passbolt.account-recovery.get-request",e)}catch(e){return void this.handleAccountRecoveryRequestNotFound()}const s=this.props.context.users.find((e=>e.id===t.user_id));s?(await this.props.userWorkspaceContext.onUserSelected.single(s),this.props.workflowContext.start(fa,{accountRecoveryRequest:t})):this.handleAccountRecoveryRequestUserNotFound()}handleAccountRecoveryRequestNotFound(){this.props.actionFeedbackContext.displayError(this.props.t("The account recovery request does not exist."))}handleAccountRecoveryRequestUserNotFound(){this.props.actionFeedbackContext.displayError(this.props.t("The user who requested an account recovery does not exist."))}render(){return a.createElement(a.Fragment,null)}}Qn.propTypes={actionFeedbackContext:l().any,context:l().any,history:l().object,match:l().object,t:l().func,userWorkspaceContext:l().any,workflowContext:l().any};const er=h(As(_e(ra((0,i.y)((0,w.CI)("common")(Qn))))));class tr extends a.Component{get errorTitle(){return{403:this.props.t("Whoops... access is denied"),404:this.props.t("Whoops... looks like you are lost.")}[this.props.errorCode]||""}get errorDescription(){return{403:this.props.t("Access is restricted to authorized users only."),404:this.props.t("We could not find the page you are looking for.")}[this.props.errorCode]||""}render(){return a.createElement("div",{className:"http-error"},a.createElement("h3",null,this.props.errorCode),a.createElement("h4",null,this.errorTitle),a.createElement("div",null,a.createElement("p",null,this.errorDescription)))}}tr.propTypes={errorCode:l().number.isRequired,t:l().func};const sr=(0,w.CI)("common")(tr);class ar extends a.Component{get mustDisplayUserDetails(){const{details:e}=this.props.userWorkspaceContext;return e.user&&e.locked}get mustDisplayGroupDetails(){const{details:e}=this.props.userWorkspaceContext;return e.group&&e.locked}get isAccessAllowed(){return this.props.userWorkspaceContext.isAccessAllowed()}render(){return a.createElement("div",null,this.props.context.users&&a.createElement(i.qh,{path:"/app/account-recovery/requests/review/:accountRecoveryRequestId",component:er}),a.createElement("div",{className:"header second"},a.createElement(Va,null),a.createElement(Nn,null),a.createElement(cn,{baseUrl:this.props.context.userSettings.getTrustedDomain(),user:this.props.context.loggedInUser})),a.createElement("div",{className:"header third"},a.createElement(Gn,null),this.isAccessAllowed&&a.createElement(La,null)),a.createElement("div",{className:"panel main"},this.isAccessAllowed?a.createElement(a.Fragment,null,a.createElement("div",{className:"panel left"},a.createElement(kn,null),a.createElement(fn,null)),a.createElement("div",{className:"panel middle"},a.createElement(Xn,null),a.createElement(Sa,null),this.mustDisplayUserDetails&&a.createElement(Ua,null),this.mustDisplayGroupDetails&&a.createElement(Mn,null))):a.createElement(sr,{errorCode:403})))}}ar.propTypes={context:l().any,history:l().any,userWorkspaceContext:l().any};const nr=h((0,i.y)(As(ar)));class rr extends a.Component{render(){return a.createElement(i.rd,{to:"/app/passwords"})}}const ir=(0,i.y)(rr);class or extends a.Component{get isMfaEnabled(){return this.props.context.siteSettings.canIUse("multiFactorAuthentication")}get canIUseThemeCapability(){return this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("accountSettings")}get canIUseMobileCapability(){return this.props.rbacContext.canIUseUiAction(L)&&this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("mobile")}get canIUseDesktopCapability(){return this.props.rbacContext.canIUseUiAction(O)&&this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("desktop")}get canIUseAccountRecoveryCapability(){return this.props.rbacContext.canIUseUiAction(V)&&this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("accountRecovery")}render(){const e=e=>this.props.location.pathname.endsWith(e);return a.createElement("div",{className:"navigation-secondary navigation-shortcuts"},a.createElement("ul",null,a.createElement("li",null,a.createElement("div",{className:"row "+(e("profile")?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsProfileRequested},a.createElement("span",null,a.createElement(w.x6,null,"Profile"))))))),a.createElement("li",null,a.createElement("div",{className:"row "+(e("keys")?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsKeysRequested},a.createElement("span",null,a.createElement(w.x6,null,"Keys inspector"))))))),a.createElement("li",null,a.createElement("div",{className:"row "+(e("passphrase")?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsPassphraseRequested},a.createElement("span",null,a.createElement(w.x6,null,"Passphrase"))))))),a.createElement("li",null,a.createElement("div",{className:"row "+(e("security-token")?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsSecurityTokenRequested},a.createElement("span",null,a.createElement(w.x6,null,"Security token"))))))),this.canIUseThemeCapability&&a.createElement("li",null,a.createElement("div",{className:"row "+(e("theme")?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsThemeRequested},a.createElement("span",null,a.createElement(w.x6,null,"Theme"))))))),this.isMfaEnabled&&a.createElement("li",null,a.createElement("div",{className:"row "+(e("mfa")?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsMfaRequested},a.createElement("span",null,a.createElement(w.x6,null,"Multi Factor Authentication")),this.props.hasPendingMfaChoice&&a.createElement(ge,{name:"exclamation",baseline:!0})))))),this.canIUseAccountRecoveryCapability&&a.createElement("li",null,a.createElement("div",{className:"row "+(e("account-recovery")?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsAccountRecoveryRequested},a.createElement("span",null,a.createElement(w.x6,null,"Account Recovery")),this.props.hasPendingAccountRecoveryChoice&&a.createElement(ge,{name:"exclamation",baseline:!0})))))),this.canIUseMobileCapability&&a.createElement("li",{id:"navigation-item-mobile-setup"},a.createElement("div",{className:"row "+(e("mobile")?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsMobileRequested},a.createElement("span",null,a.createElement(w.x6,null,"Mobile setup"))))))),this.canIUseDesktopCapability&&a.createElement("li",{id:"navigation-item-desktop-setup"},a.createElement("div",{className:"row "+(e("desktop")?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsDesktopRequested},a.createElement("span",null,a.createElement(w.x6,null,"Desktop app setup")))))))))}}or.propTypes={context:l().any,navigationContext:l().any,history:l().object,location:l().object,hasPendingAccountRecoveryChoice:l().bool,hasPendingMfaChoice:l().bool,rbacContext:l().any};const lr=h(pe((0,i.y)(b((0,w.CI)("common")(or)))));class cr extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers(),this.createReferences()}get defaultState(){return{avatarFile:null,actions:{processing:!1},errors:{message:null},validation:{hasAlreadyBeenValidated:!1}}}createReferences(){this.fileUploaderRef=a.createRef()}get user(){return this.props.context.loggedInUser}get isProcessing(){return this.state.actions.processing}get areActionsAllowed(){return!this.isProcessing}get hasValidationError(){return null!==this.state.errors.message}bindHandlers(){this.handleSelectFile=this.handleSelectFile.bind(this),this.handleAvatarFileSelected=this.handleAvatarFileSelected.bind(this),this.handleUpload=this.handleUpload.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleClose=this.handleClose.bind(this)}handleSelectFile(){this.fileUploaderRef.current.click()}async handleAvatarFileSelected(e){const[t]=e.target.files;if(await this.select(t),this.state.validation.hasAlreadyBeenValidated){const e=this.validateAvatarInput();this.setState(e)}}handleUpload(e){e.preventDefault(),this.upload()}handleCancel(){this.close()}handleClose(){this.close()}async select(e){await this.setState({avatarFile:e})}async upload(){if(this.state.actions.processing)return;if(await this.setState({validation:{hasAlreadyBeenValidated:!0}}),await this.toggleProcessing(),await this.validateAvatarInput(),this.hasValidationError)return void await this.toggleProcessing();const e=await this.createAvatarDto();await this.props.context.port.request("passbolt.users.update-avatar",this.user.id,e).then(this.onUploadSuccess.bind(this)).catch(this.onUploadFailure.bind(this))}async createAvatarDto(){const{fileBase64:e,mimeType:t}=await this.readFile();return{fileBase64:e,mimeType:t,filename:this.selectedFilename}}async validateAvatarInput(){let e=null;return this.state.avatarFile||(e=this.translate("A file is required.")),this.setState({errors:{message:e}})}async onUploadSuccess(){await this.toggleProcessing(),await this.refreshUserProfile(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The user has been updated successfully")),this.props.onClose()}async onUploadFailure(e){if(console.error(e),await this.toggleProcessing(),this.hasFileError(e.data))this.setState({errors:{message:e.data.body.profile.avatar.file.validMimeType}});else{const t={error:e};this.props.dialogContext.open(we,t)}}hasFileError(e){return e&&e.body&&e.body.profile&&e.body.profile.avatar&&e.body.profile.avatar.file&&e.body.profile.avatar.file.validMimeType}close(){this.props.onClose()}readFile(){const e=new FileReader;return new Promise(((t,s)=>{e.onloadend=e=>{try{const s=e.target.result,a=s.split(",")[1],n=s.split(",")[0].split(":")[1].split(";")[0];t({fileBase64:a,mimeType:n})}catch(e){s(e)}},e.readAsDataURL(this.state.avatarFile)}))}async toggleProcessing(){const e=this.state.actions.processing;await this.setState({actions:Object.assign(this.state.actions,{processing:!e})})}async refreshUserProfile(){const e=await this.props.context.port.request("passbolt.users.find-logged-in-user",!0);this.props.context.setContext({loggedInUser:e})}get selectedFilename(){return this.state.avatarFile?this.state.avatarFile.name:""}get translate(){return this.props.t}render(){return a.createElement(ve,{className:"update-avatar-dialog",onClose:this.handleClose,disabled:!this.areActionsAllowed,title:this.translate("Edit Avatar")},a.createElement("form",{onSubmit:this.handleUpload,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input file required ${this.areActionsAllowed?"":"disabled"} ${this.hasValidationError?"error":""}`},a.createElement("input",{"aria-required":!0,id:"dialog-upload-avatar-input",type:"file",ref:this.fileUploaderRef,onChange:this.handleAvatarFileSelected,accept:"image/*"}),a.createElement("label",{htmlFor:"dialog-upload-avatar-input"},a.createElement(w.x6,null,"Avatar")),a.createElement("div",{className:"input-file-inline"},a.createElement("input",{type:"text",disabled:!0,placeholder:this.translate("No file selected"),defaultValue:this.selectedFilename}),a.createElement("button",{type:"button",disabled:!this.areActionsAllowed,className:"primary",onClick:this.handleSelectFile},a.createElement("span",{className:"ellipsis"},a.createElement(w.x6,null,"Choose a file")))),this.state.errors.message&&a.createElement("div",{className:"error-message"},this.state.errors.message))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:!this.areActionsAllowed,processing:this.isProcessing,onClick:this.handleCancel}),a.createElement(Vt,{disabled:!this.areActionsAllowed,processing:this.isProcessing,value:this.translate("Save")}))))}}cr.propTypes={context:l().any,onClose:l().func,dialogContext:l().object,actionFeedbackContext:l().object,t:l().func};const dr=h(_e(k((0,w.CI)("common")(cr))));function hr(){return hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},hr.apply(null,arguments)}const mr=a.createContext({state:null,oldPassphrase:null,onIntroductionPassphraseRequested:()=>{},onProvidePassphraseRequested:()=>{},onCheckProvidePassphraseRequested:()=>{},onUpdatePassphraseRequested:()=>{},onGoToIntroductionPassphraseRequested:()=>{},onDownloadRecoveryKitRequested:()=>{},onUpdateSecurityTokenRequested:()=>{},onUpdateUserLocaleRequested:()=>{}});class pr extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{state:Cr.INITIAL_STATE,oldPassphrase:null,onIntroductionPassphraseRequested:this.onIntroductionPassphraseRequested.bind(this),onProvidePassphraseRequested:this.onProvidePassphraseRequested.bind(this),onCheckProvidePassphraseRequested:this.onCheckProvidePassphraseRequested.bind(this),onUpdatePassphraseRequested:this.onUpdatePassphraseRequested.bind(this),onGoToIntroductionPassphraseRequested:this.onGoToIntroductionPassphraseRequested.bind(this),onDownloadRecoveryKitRequested:this.onDownloadRecoveryKitRequested.bind(this),onUpdateSecurityTokenRequested:this.onUpdateSecurityTokenRequested.bind(this),onUpdateLocaleUserRequested:this.handleUpdateLocaleUserRequested.bind(this)}}async onIntroductionPassphraseRequested(){await this.setState({state:Cr.PASSPHRASE_INTRODUCTION})}async onProvidePassphraseRequested(){await this.setState({state:Cr.PASSPHRASE_TO_PROVIDE_REQUESTED})}async onCheckProvidePassphraseRequested(e){await this.props.context.port.request("passbolt.auth.verify-passphrase",e),await this.setState({state:Cr.PASSPHRASE_TO_PROVIDE_CHECKED,oldPassphrase:e})}async onGoToIntroductionPassphraseRequested(){await this.setState({state:Cr.PASSPHRASE_INTRODUCTION,oldPassphrase:null})}async onUpdatePassphraseRequested(e){await this.props.context.port.request("passbolt.user.update-private-key",this.state.oldPassphrase,e),await this.setState({state:Cr.PASSPHRASE_UPDATED,oldPassphrase:null})}async onDownloadRecoveryKitRequested(){await this.props.context.port.request("passbolt.keyring.download-my-private-key")}async onUpdateSecurityTokenRequested(e){await this.props.context.port.request("passbolt.users.update-security-token",e)}async handleUpdateLocaleUserRequested(e){await this.props.context.port.request("passbolt.locale.update-user-locale",e)}render(){return a.createElement(mr.Provider,{value:this.state},this.props.children)}}pr.propTypes={context:l().any,children:l().any};const ur=h(pr);function gr(e){return class extends a.Component{render(){return a.createElement(mr.Consumer,null,(t=>a.createElement(e,hr({userSettingsContext:t},this.props))))}}}const Cr={INITIAL_STATE:"Initial State",PASSPHRASE_INTRODUCTION:"Passphrase Introduction",PASSPHRASE_TO_PROVIDE_REQUESTED:"Passphrase To Provide Requested",PASSPHRASE_TO_PROVIDE_CHECKED:"Passphrase To Provide Checked",PASSPHRASE_UPDATED:"Passphrase Updated"};class br extends a.Component{constructor(e){super(e),this.bindHandlers()}get user(){return this.props.context.loggedInUser}bindHandlers(){this.handleUploadPicture=this.handleUploadPicture.bind(this)}handleUploadPicture(){this.props.dialogContext.open(dr)}get userLocaleLabel(){const e=(this.props.context.siteSettings.supportedLocales||[]).find((e=>e.locale===this.props.context.locale));return e?e.label:"N/A"}get translate(){return this.props.t}get canIUseLocale(){return this.props.context.siteSettings.canIUse("locale")}get canIUseUploadAvatarCapability(){return this.props.rbacContext.canIUseUiAction("Avatar.upload")}render(){return a.createElement("div",{className:"grid grid-responsive-12 profile-detailed-information"},this.user&&a.createElement("div",{className:"row"},a.createElement("div",{className:"profile col6 main-column"},a.createElement("h3",null,a.createElement(w.x6,null,"Profile")),a.createElement("table",{className:"table-info profile"},a.createElement("tbody",null,a.createElement("tr",{className:"name"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Name")),a.createElement("td",{className:"value"},`${this.user.profile.first_name} ${this.user.profile.last_name}`)),a.createElement("tr",{className:"email"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Email")),a.createElement("td",{className:"value"},this.user.username)),a.createElement("tr",{className:"role"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Role")),a.createElement("td",{className:"value"},this.user.role.name)),a.createElement("tr",{className:"modified"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Modified")),a.createElement("td",{className:"value"},nt(this.user.modified,this.props.t,this.props.context.locale))),a.createElement("tr",{className:"created"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Created")),a.createElement("td",{className:"value"},nt(this.user.created,this.props.t,this.props.context.locale))))),this.canIUseLocale&&a.createElement(a.Fragment,null,a.createElement("h4",null,a.createElement(w.x6,null,"Internationalisation")),a.createElement("table",{className:"table-info profile"},a.createElement("tbody",null,a.createElement("tr",{className:"locale"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Language")),a.createElement("td",{className:"value"},this.userLocaleLabel)))))),a.createElement("div",{className:"col5 secondary-column last"},a.createElement("div",{className:"sidebar"},a.createElement("h3",null,a.createElement(w.x6,null,"Avatar")),a.createElement("div",{className:"avatar"},a.createElement("div",{className:"value"},a.createElement(Gt,{user:this.props.context.loggedInUser,baseUrl:this.props.context.userSettings.getTrustedDomain(),className:""}))),this.canIUseUploadAvatarCapability&&a.createElement("div",null,a.createElement("button",{className:"button edit-avatar-action",title:this.translate("Upload a new avatar picture"),type:"button",onClick:this.handleUploadPicture},a.createElement(ge,{name:"upload"}),a.createElement("span",{className:"help-text"},a.createElement(w.x6,null,"Upload a new avatar picture"))))))))}}br.propTypes={context:l().any,rbacContext:l().object,dialogContext:l().object,userSettingsContext:l().object,t:l().func,i18n:l().any};const Er=h(k(gr(pe((0,w.CI)("common")(br)))));class fr extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{themes:[],selectedTheme:null}}async componentDidMount(){await this.populate()}bindHandlers(){this.onSelectSuccess=this.onSelectSuccess.bind(this),this.onSelectFailure=this.onSelectFailure.bind(this),this.onSelectFinally=this.onSelectFinally.bind(this)}handleThemeSelected(e){this.select(e)}async populate(){this.props.loadingContext.add();const e=await this.props.context.port.request("passbolt.themes.find-all"),t=this.props.context.userSettings.getTheme();this.setState({themes:e,selectedTheme:t}),this.props.loadingContext.remove()}select(e){this.state.selectedTheme!==e.name&&(this.props.loadingContext.add(),this.setState({selectedTheme:e.name}),this.props.context.port.request("passbolt.themes.change",e.name).then(this.onSelectSuccess).catch(this.onSelectFailure).finally(this.onSelectFinally))}async onSelectSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The theme has been updated successfully"))}async onSelectFailure(e){const t={error:e};this.props.dialogContext.open(we,t)}async onSelectFinally(){await this.props.loadingContext.remove()}convertUrlToWebAccessibleResources(e){return`/webAccessibleResources/img/themes/${/\/([a-zA-Z-_]*\.png)$/.exec(e)[1]}`}render(){const e=e=>this.state.selectedTheme===e.name?"selected":"";return a.createElement("div",{className:"grid grid-responsive-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-column"},a.createElement("h3",null,a.createElement(w.x6,null,"Theme")),a.createElement("div",{className:"themes"},a.createElement("div",{className:"col12"},a.createElement("ul",null,this.state.themes.map((t=>a.createElement("li",{key:t.id},a.createElement("div",{className:`main-cell theme ${e(t)}`},a.createElement("button",{type:"button",onClick:()=>this.handleThemeSelected(t)},a.createElement("img",{src:this.convertUrlToWebAccessibleResources(t.preview)}),a.createElement("div",{className:"theme-desc"},t.name))))))))))))}}fr.propTypes={context:l().any,actionFeedbackContext:l().object,dialogContext:l().object,loadingContext:l().object,t:l().func};const yr=h(_e(k(He((0,w.CI)("common")(fr)))));class vr extends a.Component{get items(){return[a.createElement(Yn,{key:"bread-1",name:this.translate("All users"),onClick:this.props.navigationContext.onGoToUsersRequested}),a.createElement(Yn,{key:"bread-2",name:this.loggedInUserName,onClick:this.props.navigationContext.onGoToUserSettingsProfileRequested}),a.createElement(Yn,{key:"bread-3",name:this.getLastBreadcrumbItemName,onClick:this.onLastBreadcrumbClick.bind(this)})]}get loggedInUserName(){const e=this.props.context.loggedInUser;return e?`${e.profile.first_name} ${e.profile.last_name}`:""}get getLastBreadcrumbItemName(){const e={profile:this.translate("Profile"),passphrase:this.translate("Passphrase"),"security-token":this.translate("Security token"),theme:this.translate("Theme"),mfa:this.translate("Multi Factor Authentication"),duo:this.translate("Multi Factor Authentication"),keys:this.translate("Keys inspector"),mobile:this.translate("Mobile transfer"),"account-recovery":this.translate("Account Recovery"),"smtp-settings":this.translate("Email server")};return e[Object.keys(e).find((e=>this.props.location.pathname.endsWith(e)))]}async onLastBreadcrumbClick(){const e=this.props.location.pathname;this.props.history.push({pathname:e})}get translate(){return this.props.t}render(){return a.createElement($n,{items:this.items})}}vr.propTypes={context:l().any,location:l().object,history:l().object,navigationContext:l().any,t:l().func};const kr=h((0,i.y)(b((0,w.CI)("common")(vr))));class wr extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers(),this.createReferences()}async componentDidMount(){await this.populate()}get defaultState(){return{profile:{first_name:"",last_name:"",username:"",locale:"en-UK"},actions:{processing:!1},errors:{isFirstnameEmpty:!1,isLastnameEmpty:!1},hasAlreadyBeenValidated:!1}}get isProcessing(){return this.state.actions.processing}get areActionsAllowed(){return!this.isProcessing}get hasErrors(){return Object.values(this.state.errors).some((e=>e))}bindHandlers(){this.handleInputChange=this.handleInputChange.bind(this),this.handleClose=this.handleClose.bind(this),this.handleSave=this.handleSave.bind(this)}createReferences(){this.firstnameRef=a.createRef(),this.lastnameRef=a.createRef()}async handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.setState({profile:Object.assign(this.state.profile,{[a]:s})}),this.state.hasAlreadyBeenValidated&&await this.validate()}handleClose(){this.close()}async handleSave(e){e.preventDefault(),await this.save()}async populate(){const{first_name:e,last_name:t}=this.props.context.loggedInUser.profile,s=this.props.context.locale;await this.setState({profile:{first_name:e,last_name:t,locale:s}})}async save(){if(await this.setState({hasAlreadyBeenValidated:!0}),await this.toggleProcessing(),await this.validate(),this.hasErrors)return await this.toggleProcessing(),void this.focusFirstFieldError();await this.updateUserProfile().then(this.onSaveSuccess.bind(this)).catch(this.onSaveError.bind(this))}async updateUserProfile(){const e=this.buildUserToUpdateDto();if(await this.props.context.port.request("passbolt.users.update",e),this.canIUseLocale){const e=this.buildLocaleToUpdateDto();await this.props.userSettingsContext.onUpdateLocaleUserRequested(e)}}buildUserToUpdateDto(){const{id:e,username:t}=this.props.context.loggedInUser;return{id:e,username:t,profile:{first_name:this.state.profile.first_name,last_name:this.state.profile.last_name}}}buildLocaleToUpdateDto(){return{locale:this.state.profile.locale}}async onSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The user has been updated successfully"));const e=await this.props.context.port.request("passbolt.users.find-logged-in-user",!0);this.props.context.setContext({loggedInUser:e}),this.props.context.onUpdateLocaleRequested(),this.props.onClose()}async onSaveError(e){await this.toggleProcessing();const t={error:e};this.props.dialogContext.open(we,t)}close(){this.props.onClose()}async validate(){const e=e=>0===e.trim().length,t={isFirstnameEmpty:e(this.state.profile.first_name),isLastnameEmpty:e(this.state.profile.last_name)};await this.setState({errors:t})}focusFirstFieldError(){this.state.errors.isFirstnameEmpty?this.firstnameRef.current.focus():this.state.errors.isLastnameEmpty&&this.lastnameRef.current.focus()}async toggleProcessing(){const e=this.state.actions.processing;return this.setState({actions:Object.assign(this.state.actions,{processing:!e})})}get translate(){return this.props.t}get supportedLocales(){return this.props.context.siteSettings.supportedLocales?this.props.context.siteSettings.supportedLocales.map((e=>({value:e.locale,label:e.label}))):[]}get canIUseLocale(){return this.props.context.siteSettings.canIUse("locale")}render(){const e=this.state.errors.isFirstnameEmpty?"error":"",t=this.state.errors.isLastnameEmpty?"error":"";return a.createElement(ve,{title:this.translate("Edit profile"),onClose:this.handleClose,disabled:!this.areActionsAllowed},a.createElement("form",{className:"user-edit-form",onSubmit:this.handleSave,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input text required ${e} ${this.areActionsAllowed?"":"disabled"}`},a.createElement("label",{htmlFor:"user-profile-firstname-input"},a.createElement(w.x6,null,"First name")),a.createElement("input",{id:"user-profile-firstname-input",name:"first_name",type:"text",placeholder:this.translate("First name"),required:"required",autoComplete:"off",autoFocus:!0,ref:this.firstnameRef,value:this.state.profile.first_name,onChange:this.handleInputChange,disabled:!this.areActionsAllowed}),this.state.errors.isFirstnameEmpty&&a.createElement("div",{className:"first_name error-message"},a.createElement(w.x6,null,"A first name is required."))),a.createElement("div",{className:`input text required ${t} ${this.areActionsAllowed?"":"disabled"}`},a.createElement("label",{htmlFor:"user-profile-lastname-input"},a.createElement(w.x6,null,"Last name")),a.createElement("input",{id:"user-profile-lastname-input",name:"last_name",type:"text",placeholder:this.translate("Last name"),required:"required",autoComplete:"off",ref:this.lastnameRef,value:this.state.profile.last_name,onChange:this.handleInputChange,disabled:!this.areActionsAllowed}),this.state.errors.isLastnameEmpty&&a.createElement("div",{className:"last_name error-message"},a.createElement(w.x6,null,"A last name is required."))),a.createElement("div",{className:"input text required disabled"},a.createElement("label",{htmlFor:"user-profile-username-input"},a.createElement(w.x6,null,"Username / Email")),a.createElement("input",{id:"user-profile-username-input",name:"username",type:"text",disabled:!0,"aria-required":!0,value:this.props.context.loggedInUser.username})),this.canIUseLocale&&a.createElement("div",{className:"select-wrapper input required "+(this.areActionsAllowed?"":"disabled")},a.createElement("label",{htmlFor:"user-profile-locale-input"},a.createElement(w.x6,null,"Language")),a.createElement(gs,{id:"user-profile-locale-input",name:"locale",value:this.state.profile.locale,items:this.supportedLocales,disabled:!this.areActionsAllowed,onChange:this.handleInputChange}))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:!this.areActionsAllowed,onClick:this.handleClose}),a.createElement(Vt,{disabled:!this.areActionsAllowed,processing:this.isProcessing,value:this.translate("Save")}))))}}wr.propTypes={context:l().any,onClose:l().func,dialogContext:l().object,userSettingsContext:l().object,actionFeedbackContext:l().object,t:l().func};const xr=h(_e(k(gr((0,w.CI)("common")(wr)))));class Sr extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleEdit=this.handleEdit.bind(this),this.handleDownloadPublicKey=this.handleDownloadPublicKey.bind(this),this.handleDownloadPrivateKey=this.handleDownloadPrivateKey.bind(this)}handleEdit(){this.props.dialogContext.open(xr)}async handleDownloadPublicKey(){await this.props.context.port.request("passbolt.keyring.download-my-public-key")}async handleDownloadPrivateKey(){await this.props.context.port.request("passbolt.keyring.download-my-private-key")}render(){const{path:e}=this.props.match;return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",{className:"ready"},a.createElement(i.qh,{path:`${e}/profile`},a.createElement("li",null,a.createElement("button",{type:"button",className:"ready",onClick:this.handleEdit},a.createElement(ge,{name:"edit"}),a.createElement("span",null,a.createElement(w.x6,null,"Edit"))))),a.createElement(i.qh,{path:`${e}/keys`},a.createElement("li",null,a.createElement("button",{type:"button",className:"ready",onClick:this.handleDownloadPublicKey},a.createElement(ge,{name:"download"}),a.createElement("span",null,a.createElement(w.x6,null,"Public")))),a.createElement("li",null,a.createElement("button",{type:"button",className:"ready",onClick:this.handleDownloadPrivateKey},a.createElement(ge,{name:"download"}),a.createElement("span",null,a.createElement(w.x6,null,"Private"))))))))}}Sr.propTypes={context:l().any,match:l().object,dialogContext:l().any};const Nr=h((0,i.y)(k((0,w.CI)("common")(Sr))));class Rr extends a.Component{constructor(e){super(e),this.state=this.defaultState}async componentDidMount(){await this.populate()}async componentDidUpdate(){await this.populateIfNeeded()}get defaultState(){return{gpgKeyInfo:null}}get user(){return this.props.context.loggedInUser}async populate(){if(this.user){const e=await this.fetchGpgkeyInfo();await this.setState({gpgKeyInfo:e})}}async populateIfNeeded(){const e=this.user&&!this.state.gpgKeyInfo,t=this.user&&this.state.gpgKeyInfo;if(e){const e=await this.fetchGpgkeyInfo();await this.setState({gpgKeyInfo:e})}else t&&(this.populateIfNeeded=()=>{})}async fetchGpgkeyInfo(){const e=await this.props.context.port.request("passbolt.keyring.get-public-key-info-by-user",this.user.id),t=e.key_id,s=this.gpgkeyType[e.algorithm],a=e.user_ids,n=this.formatDate(e.created);let r;return r=null===e.expires?"n/a":"Infinity"===e.expires?this.translate("Never"):this.formatDate(e.expires),{keyId:t,type:s,uIds:a,created:n,expires:r,armoredKey:e.armored_key,fingerprint:e.fingerprint,length:e.length}}get gpgkeyType(){return{rsa:"RSA",elgamal:"Elgamal",dsa:"DSA",ecdh:"ECDH",ecdsa:"ECDSA",eddsa:"EdDSA",aedh:"AEDH",aedsa:"AEDSA"}}formatDate(e){try{return We.c9.fromJSDate(new Date(e)).setLocale(this.props.context.locale).toLocaleString(We.c9.DATETIME_FULL)}catch(e){return""}}get gpgKeyInfo(){return this.state.gpgKeyInfo||{}}get fingerprint(){let e=this.gpgKeyInfo.fingerprint;return e&&(e=e.toUpperCase().replace(/.{4}(?=.)/g,"$& "),e=a.createElement(a.Fragment,null,e.substr(0,24),a.createElement("br",null),e.substr(25))),e}get uId(){const e=this.gpgKeyInfo.uIds&&this.gpgKeyInfo.uIds[0];return e?`${e.name} <${e.email}>`:""}get translate(){return this.props.t}render(){return a.createElement("div",{className:"grid grid-responsive-12 profile-key-inspector-information"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col6 main-column key-info"},a.createElement("h3",null,a.createElement(w.x6,null,"Information for public and secret key")),a.createElement("table",{className:"table-info",id:"privkeyinfo"},a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,a.createElement(w.x6,null,"Key Id")),a.createElement("td",{className:"keyId"},a.createElement(fe,{message:this.translate("sorry you can only have one key set at the moment"),direction:"top"},a.createElement(gs,{className:"inline",id:"keyId",value:this.gpgKeyInfo.keyId,items:[{value:this.gpgKeyInfo.keyId,label:this.gpgKeyInfo.keyId}],disabled:!0})))),a.createElement("tr",null,a.createElement("td",null,a.createElement(w.x6,null,"Uid")),a.createElement("td",{className:"uid"},this.uId)),a.createElement("tr",null,a.createElement("td",null,a.createElement(w.x6,null,"Fingerprint")),a.createElement("td",{className:"fingerprint"},this.fingerprint)),a.createElement("tr",null,a.createElement("td",null,a.createElement(w.x6,null,"Created")),a.createElement("td",{className:"created"},this.gpgKeyInfo.created)),a.createElement("tr",null,a.createElement("td",null,a.createElement(w.x6,null,"Expires")),a.createElement("td",{className:"expires"},this.gpgKeyInfo.expires)),a.createElement("tr",null,a.createElement("td",null,a.createElement(w.x6,null,"Key length")),a.createElement("td",{className:"length"},this.gpgKeyInfo.length)),a.createElement("tr",null,a.createElement("td",null,a.createElement(w.x6,null,"Algorithm")),a.createElement("td",{className:"algorithm"},this.gpgKeyInfo.type))))),a.createElement("div",{className:"col6 secondary-column last key-export"},a.createElement("div",{className:"sidebar"},a.createElement("h3",null,a.createElement(w.x6,null,"Public key block")),a.createElement("div",{className:"input textarea gpgkey",rel:"publicKey"},a.createElement("textarea",{defaultValue:this.gpgKeyInfo.armoredKey,className:"fluid code",readOnly:!0}))))))}}Rr.propTypes={context:l().any,t:l().func,i18n:l().any};const Ir=h((0,w.CI)("common")(Rr));class _r extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{processing:!1,understandPassphrase:!1,understandPassphraseError:null}}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}async toggleProcessing(){await this.setState({processing:!this.state.processing})}handleInputChange(e){const t=e.target,s="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState({[a]:s})}handleSubmit(e){e.preventDefault(),this.startUpdatePassphrase()}async startUpdatePassphrase(){if(!this.state.processing){if(await this.toggleProcessing(),await this.validateUnderstandPassphrase(),this.hasValidationError())return void await this.toggleProcessing();this.props.userSettingsContext.onProvidePassphraseRequested()}}async validateUnderstandPassphrase(){const e=!this.state.understandPassphrase;return this.setState({understandPassphraseError:e})}hasValidationError(){return this.state.understandPassphraseError}hasAllInputDisabled(){return this.state.processing}render(){return a.createElement("div",{className:"grid grid-responsive-12 profile-passphrase"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col7 main-column"},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("h3",null,a.createElement(w.x6,null,"Before getting started...")),a.createElement("div",{className:"password-management-bg"}),a.createElement("p",null,a.createElement(w.x6,null,"The passphrase is stored on your device and never sent server side."),"",a.createElement(w.x6,null,"Changing your passphrase will only change it locally."),"",a.createElement(w.x6,null,"If you have multiple browsers configured, the passphrase will need to be changed in all places individually.")),a.createElement("div",{className:"input checkbox "+(this.state.understandPassphraseError?"error":"")},a.createElement("input",{id:"passphrase-update-understand",type:"checkbox",checked:this.state.understandPassphrase,disabled:this.hasAllInputDisabled(),name:"understandPassphrase",onChange:this.handleInputChange}),a.createElement("label",{htmlFor:"passphrase-update-understand"}," ",a.createElement(w.x6,null,"Ok, I understand what I need to do."))),a.createElement("div",{className:"submit-wrapper"},a.createElement("button",{className:"button primary submit",type:"submit",disabled:this.hasAllInputDisabled()},a.createElement(w.x6,null,"Start"))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"What is the role of the passphrase?")),a.createElement("p",null,a.createElement(w.x6,null,"The passphrase is used to encrypt your secret key, which is required to decrypt your secrets, such as the passwords.")),a.createElement("p",null,a.createElement(w.x6,null,"Without the private key and the passphrase it is not possible to decrypt!")),a.createElement("a",{className:"button",href:"https://help.passbolt.com/tech/auth.html",target:"_blank",rel:"noopener noreferrer"},a.createElement("span",null,a.createElement(w.x6,null,"Learn more")))))))}}_r.propTypes={userSettingsContext:l().object};const Dr=gr((0,w.CI)("common")(_r));class Tr extends a.Component{render(){return a.createElement("div",{className:"login-processing"},a.createElement("h1",null,this.props.title),a.createElement("div",{className:"processing-wrapper"},a.createElement(ge,{name:"spinner"})))}}Tr.propTypes={title:l().oneOfType([l().arrayOf(l().node),l().node,l().string])},Tr.defaultProps={title:a.createElement(w.x6,null,"Please wait...")};const Pr=(0,w.CI)("common")(Tr);class Ar extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createInputRef()}get defaultState(){return{processing:!1,passphrase:"",passphraseError:null}}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleCancel=this.handleCancel.bind(this)}createInputRef(){this.passphraseInputRef=a.createRef()}componentDidMount(){this.focusOnPassphrase()}focusOnPassphrase(){this.passphraseInputRef.current.focus()}async toggleProcessing(){await this.setState({processing:!this.state.processing})}handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.setState({[a]:s})}async handleSubmit(e){e.preventDefault(),this.state.processing||(await this.toggleProcessing(),await this.checkPassphrase())}async checkPassphrase(){this.props.userSettingsContext.onCheckProvidePassphraseRequested(this.state.passphrase).catch(this.onCheckFailure.bind(this))}onCheckFailure(e){if(this.toggleProcessing(),"InvalidMasterPasswordError"===e.name)this.setState({passphraseError:this.translate("The passphrase is invalid.")});else{const t={error:e};this.props.dialogContext.open(we,t)}}handleCancel(){this.props.userSettingsContext.onGoToIntroductionPassphraseRequested()}IsValidPassphrase(){return""!==this.state.passphrase.trim()}hasAllInputDisabled(){return this.state.processing}mustBeDisabled(){return this.hasAllInputDisabled()||!this.IsValidPassphrase()}get translate(){return this.props.t}render(){return a.createElement("div",{className:"grid grid-responsive-12 profile-passphrase"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col7 main-column"},a.createElement("form",{className:"enter-passphrase",onSubmit:this.handleSubmit},a.createElement("h3",null,a.createElement(w.x6,null,"Please enter your passphrase to continue")),a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input-password-wrapper input required ${this.state.passphraseError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",{htmlFor:"passphrase-input"},a.createElement(w.x6,null,"Passphrase")),a.createElement(ma,{id:"passphrase-input",autoComplete:"off",name:"passphrase",placeholder:this.translate("Passphrase"),inputRef:this.passphraseInputRef,value:this.state.passphrase,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),preview:!0,securityToken:this.props.context.userSettings.getSecurityToken()}),this.state.passphraseError&&a.createElement("div",{className:"error-message"},this.state.passphraseError),!this.state.passphraseError&&a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"You need to enter your current passphrase.")))),a.createElement("div",{className:"submit-wrapper"},a.createElement("button",{className:"button cancel",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleCancel},a.createElement(w.x6,null,"Cancel")),a.createElement(Vt,{primary:!0,disabled:this.mustBeDisabled(),processing:this.state.processing,value:this.translate("Verify")})))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"What if I forgot my passphrase?")),a.createElement("p",null,a.createElement(w.x6,null,"Unfortunately you need your passphrase in order to continue. If you forgot it, please contact your administrator.")),a.createElement("a",{className:"button",href:"https://www.passbolt.com/docs/user/settings/browser/account-recovery-setup/",target:"_blank",rel:"noopener noreferrer"},a.createElement("span",null,a.createElement(w.x6,null,"Learn more")))))))}}Ar.propTypes={context:l().any,userSettingsContext:l().object,dialogContext:l().any,t:l().func};const Mr=h(k(gr((0,w.CI)("common")(Ar))));class Ur extends a.Component{render(){return a.createElement("div",{className:"illustration icon-feedback"},a.createElement("div",{className:this.props.name}))}}Ur.defaultProps={},Ur.propTypes={name:l().string};const Fr=Ur;class Lr extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleDownloadBackup=this.handleDownloadBackup.bind(this)}handleDownloadBackup(){this.download()}async download(){await this.props.userSettingsContext.onDownloadRecoveryKitRequested()}render(){return a.createElement("div",{className:"grid grid-responsive-12 profile-passphrase"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col7 main-column last"},a.createElement("h3",null,a.createElement(w.x6,null,"The passphrase was updated!")),a.createElement("div",{className:"message warning"},a.createElement("p",null,a.createElement("strong",null,a.createElement(w.x6,null,"Warning: This recovery kit replace the old one."))),a.createElement("p",null,a.createElement("strong",null,a.createElement(w.x6,null,"You will need this recovery kit later to access your account (for example on a new device).")))),a.createElement("div",{className:"feedback-card"},a.createElement(Fr,{name:"success"}),a.createElement("div",{className:"additional-information"},a.createElement("p",null,a.createElement(w.x6,null,"Your passphrase has been changed. Make sure you keep a backup of your secret key encrypted with this new passphrase.")),a.createElement("p",null,a.createElement(w.x6,null,"Keep this backup in a safe place, you will need it in case of emergency.")),a.createElement("button",{type:"button",className:"button primary",onClick:this.handleDownloadBackup},a.createElement(w.x6,null,"Download backup")))))))}}Lr.propTypes={userSettingsContext:l().object};const Or=gr((0,w.CI)("common")(Lr)),Vr={"en-UK":["abdominal","acclimate","accompany","activator","acuteness","aerospace","affecting","affection","affidavit","affiliate","afflicted","afterglow","afterlife","aftermath","aftermost","afternoon","aggregate","agonizing","agreeable","agreeably","agreement","alabaster","albatross","algorithm","alienable","alongside","amazingly","ambiguity","ambiguous","ambitious","ambulance","amendable","amendment","amplifier","amusement","anaerobic","anatomist","angelfish","angriness","anguished","animating","animation","animosity","announcer","answering","antarctic","anthology","antiquely","antiquity","antitoxic","antitrust","antiviral","antivirus","appealing","appeasing","appendage","appetizer","appliance","applicant","appointee","appraisal","appraiser","apprehend","arbitrary","arbitrate","armadillo","arrogance","ascension","ascertain","asparagus","astrology","astronaut","astronomy","atrocious","attendant","attention","attentive","attractor","attribute","audacious","augmented","authentic","autograph","automaker","automated","automatic","autopilot","available","avalanche","backboard","backboned","backfield","backlands","backlight","backpedal","backshift","backspace","backstage","backtrack","backwater","bacterium","bagginess","balancing","bannister","barometer","barracuda","barricade","bartender","basically","battalion","battering","blanching","blandness","blaspheme","blasphemy","blatantly","blunderer","bodacious","boogeyman","boogieman","boondocks","borrowing","botanical","boundless","bountiful","breeching","brilliant","briskness","broadband","broadcast","broadness","broadside","broadways","bronchial","brownnose","brutishly","buccaneer","bucktooth","buckwheat","bulginess","bulldozer","bullfight","bunkhouse","cabdriver","calculate","calibrate","camcorder","canopener","capillary","capricorn","captivate","captivity","cardboard","cardstock","carefully","caregiver","caretaker","carnation","carnivore","carpenter","carpentry","carrousel","cartridge","cartwheel","catatonic","catchable","cathedral","cattishly","caucasian","causation","cauterize","celestial","certainly","certainty","certified","challenge","chamomile","chaperone","character","charbroil","chemicals","cherisher","chihuahua","childcare","childhood","childless","childlike","chokehold","circulate","clamshell","clergyman","clubhouse","clustered","coagulant","coastland","coastline","cofounder","cognition","cognitive","coherence","collected","collector","collision","commodity","commodore","commotion","commuting","compacted","compacter","compactly","compactor","companion","component","composite","composure","comprised","computing","concerned","concierge","condiment","condition","conducive","conductor","confidant","confident","confiding","configure","confining","confusing","confusion","congenial","congested","conjoined","connected","connector","consensus","consoling","consonant","constable","constrain","constrict","construct","consuming","container","contented","contently","contusion","copartner","cornbread","cornfield","cornflake","cornstalk","corporate","corroding","corrosive","cosmetics","cosponsor","countable","countdown","countless","crabgrass","craftsman","craftwork","cranberry","craziness","creamlike","creatable","crestless","crispness","crudeness","cruelness","crummiest","crunching","crushable","cubbyhole","culminate","cultivate","cupbearer","curliness","curvature","custodian","customary","customize","cytoplasm","cytoplast","dandelion","daredevil","darkening","darwinism","dastardly","deafening","dealmaker","debatable","decathlon","deceiving","deception","deceptive","decidable","decimeter","decompose","decorated","decorator","dedicator","defection","defective","defendant","defensive","deflation","deflected","deflector","degrading","dehydrate","delegator","delicious","delighted","delirious","deliverer","demanding","demeaning","democracy","demystify","denatured","deodorant","deodorize","departure","depletion","depravity","deprecate","desecrate","deserving","designate","designing","deskbound","destitute","detection","detective","detention","detergent","detonator","deviation","devotedly","devouring","dexterity","dexterous","diagnoses","diagnosis","diaphragm","dictation","difficult","diffusion","diffusive","diligence","dinginess","direction","directive","directory","dirtiness","disbelief","discharge","discourse","disengage","disfigure","disinfect","disliking","dislocate","dismantle","disparate","disparity","dispersal","dispersed","disperser","displease","disregard","dividable","divisible","divisibly","dizziness","dollhouse","doorframe","dormitory","dragonfly","dragonish","drainable","drainpipe","dramatize","dreadlock","dreamboat","dreamland","dreamless","dreamlike","drinkable","drop-down","dubiously","duplicate","duplicity","dwindling","earthlike","earthling","earthworm","eastbound","eastcoast","eccentric","ecologist","economist","ecosphere","ecosystem","education","effective","efficient","eggbeater","egomaniac","egotistic","elaborate","eldercare","electable","elevating","elevation","eliminate","elongated","eloquence","elsewhere","embattled","embellish","embroider","emergency","emphasize","empirical","emptiness","enactment","enchanted","enchilada","enclosure","encounter","encourage","endearing","endocrine","endorphin","endowment","endurable","endurance","energetic","engraving","enigmatic","enjoyable","enjoyably","enjoyment","enlarging","enlighten","entangled","entertain","entourage","enunciate","epidermal","epidermis","epileptic","equipment","equivocal","eradicate","ergonomic","escalator","escapable","esophagus","espionage","essential","establish","estimator","estranged","ethically","euphemism","evaluator","evaporate","everglade","evergreen","everybody","evolution","excavator","exceeding","exception","excitable","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","exemplary","exemplify","exemption","exerciser","exfoliate","exonerate","expansion","expansive","expectant","expedited","expediter","expensive","expletive","exploring","exposable","expulsion","exquisite","extending","extenuate","extortion","extradite","extrovert","extruding","exuberant","facecloth","faceplate","facsimile","factsheet","fanciness","fantasize","fantastic","favorable","favorably","ferocious","festivity","fidgeting","financial","finishing","flagstick","flagstone","flammable","flashback","flashbulb","flashcard","flattered","flatterer","flavorful","flavoring","footboard","footprint","fragility","fragrance","fraternal","freemason","freestyle","freezable","frequency","frightful","frigidity","frivolous","frostbite","frostlike","frugality","frustrate","gainfully","gallantly","gallstone","galvanize","gathering","gentleman","geography","geologist","geometric","geriatric","germicide","germinate","germproof","gestation","gibberish","giddiness","gigahertz","gladiator","glamorous","glandular","glorified","glorifier","glutinous","goldsmith","goofiness","graceless","gradation","gradually","grappling","gratified","gratitude","graveness","graveyard","gravitate","greedless","greyhound","grievance","grimacing","griminess","grumbling","guacamole","guileless","gumminess","habitable","hamburger","hamstring","handbrake","handclasp","handcraft","handiness","handiwork","handlebar","handprint","handsfree","handshake","handstand","handwoven","handwrite","hankering","haphazard","happening","happiness","hardcover","hardening","hardiness","hardwired","harmonica","harmonics","harmonize","hastiness","hatchback","hatchling","headboard","headcount","headdress","headfirst","headphone","headpiece","headscarf","headstand","headstone","heaviness","heftiness","hemstitch","herbicide","hesitancy","humiliate","humongous","humorless","hunchback","hundredth","hurricane","huskiness","hydration","hydroxide","hyperlink","hypertext","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","idealness","identical","illicitly","imaginary","imitation","immersion","immorally","immovable","immovably","impatient","impending","imperfect","implement","implicate","implosion","implosive","important","impotence","impotency","imprecise","impromptu","improving","improvise","imprudent","impulsive","irregular","irritable","irritably","isolating","isolation","italicize","itinerary","jackknife","jailbreak","jailhouse","jaywalker","jeeringly","jockstrap","jolliness","joylessly","jubilance","judgingly","judiciary","juiciness","justifier","kilometer","kinswoman","laborious","landowner","landscape","landslide","lankiness","legislate","legwarmer","lethargic","levitator","liability","librarian","limelight","litigator","livestock","lubricant","lubricate","luckiness","lucrative","ludicrous","luminance","lumpiness","lunchroom","lunchtime","luridness","lustfully","lustiness","luxurious","lyrically","machinist","magnesium","magnetism","magnetize","magnifier","magnitude","majorette","makeshift","malformed","mammogram","mandatory","manhandle","manicotti","manifesto","manliness","marauding","margarine","margarita","marmalade","marshland","marsupial","marvelous","masculine","matchbook","matchless","maternity","matriarch","matrimony","mayflower","modulator","moistness","molecular","monastery","moneybags","moneyless","moneywise","monologue","monstrous","moodiness","moonlight","moonscape","moonshine","moonstone","morbidity","mortality","mortician","mortified","mothproof","motivator","motocross","mountable","mousiness","moustache","multitask","multitude","mummified","municipal","murkiness","murmuring","mushiness","muskiness","mustiness","mutilated","mutilator","mystified","nanometer","nastiness","navigator","nebulizer","neglector","negligent","negotiate","neurology","ninetieth","numerator","nuttiness","obedience","oblivious","obnoxious","obscurity","observant","observing","obsession","obsessive","obstinate","obtrusive","occultist","occupancy","onslaught","operating","operation","operative","oppressed","oppressor","opulently","outnumber","outplayed","outskirts","outsource","outspoken","overblown","overboard","overbuilt","overcrowd","overdraft","overdrawn","overdress","overdrive","overeager","overeater","overexert","overgrown","overjoyed","overlabor","overlying","overnight","overplant","overpower","overprice","overreach","overreact","overshoot","oversight","oversized","oversleep","overspend","overstate","overstock","overstuff","oversweet","overthrow","overvalue","overwrite","oxidation","oxidizing","pacemaker","palatable","palpitate","panhandle","panoramic","pantomime","pantyhose","paparazzi","parachute","paragraph","paralegal","paralyses","paralysis","paramedic","parameter","paramount","parasitic","parchment","partition","partridge","passenger","passivism","patchwork","paternity","patriarch","patronage","patronize","pavestone","pediatric","pedometer","penholder","penniless","pentagram","percolate","perennial","perfected","perfectly","periscope","perkiness","perpetual","perplexed","persecute","persevere","persuaded","persuader","pessimism","pessimist","pesticide","petroleum","petticoat","pettiness","phonebook","phoniness","phosphate","plausible","plausibly","playgroup","playhouse","playmaker","plaything","plentiful","plexiglas","plutonium","pointless","polyester","polygraph","porcupine","portfolio","postnasal","powdering","prankster","preaching","precision","predefine","preflight","preformed","pregnancy","preheated","prelaunch","preoccupy","preschool","prescribe","preseason","president","presuming","pretended","pretender","prevalent","prewashed","primarily","privatize","proactive","probation","probiotic","procedure","procreate","profanity","professed","professor","profusely","prognosis","projector","prolonged","promenade","prominent","promotion","pronounce","proofread","propeller","proponent","protector","prototype","protozoan","providing","provoking","provolone","proximity","prudishly","publisher","pulmonary","pulverize","punctuate","punctured","pureblood","purgatory","purposely","pursuable","pushchair","pushiness","pyromania","qualified","qualifier","quartered","quarterly","quickness","quicksand","quickstep","quintuple","quizzical","quotation","radiantly","radiation","rancidity","ravishing","reacquire","reanalyze","reappoint","reapprove","rearrange","rebalance","recapture","recharger","recipient","reclining","reclusive","recognize","recollect","reconcile","reconfirm","reconvene","rectangle","rectified","recycling","reexamine","referable","reference","refinance","reflected","reflector","reformist","refueling","refurbish","refurnish","refutable","registrar","regretful","regulator","rehydrate","reimburse","reiterate","rejoicing","relapsing","relatable","relenting","relieving","reluctant","remindful","remission","remodeler","removable","rendering","rendition","renewable","renewably","renovator","repackage","repacking","repayment","repossess","repressed","reprimand","reprocess","reproduce","reprogram","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","requisite","reshuffle","residence","residency","resilient","resistant","resisting","resurface","resurrect","retaining","retaliate","retention","retrieval","retriever","reverence","reversing","reversion","revisable","revivable","revocable","revolving","riverbank","riverboat","riverside","rockiness","rockslide","roundness","roundworm","runaround","sacrament","sacrifice","saddlebag","safeguard","safehouse","salvaging","salvation","sanctuary","sandblast","sandpaper","sandstone","sandstorm","sanitizer","sappiness","sarcastic","sasquatch","satirical","satisfied","sauciness","saxophone","scapegoat","scarecrow","scariness","scavenger","schematic","schilling","scientist","scorebook","scorecard","scoreless","scoundrel","scrambled","scrambler","scrimmage","scrounger","sculpture","secluding","seclusion","sectional","selection","selective","semicolon","semifinal","semisweet","sensation","sensitive","sensitize","sensually","september","sequester","serotonin","sevenfold","seventeen","shadiness","shakiness","sharpener","sharpness","shiftless","shininess","shivering","shortcake","shorthand","shortlist","shortness","shortwave","showpiece","showplace","shredding","shrubbery","shuffling","silliness","similarly","simmering","sincerity","situation","sixtyfold","skedaddle","skintight","skyrocket","slackness","slapstick","sliceable","slideshow","slighting","slingshot","slouching","smartness","smilingly","smokeless","smokiness","smuggling","snowboard","snowbound","snowdrift","snowfield","snowflake","snowiness","snowstorm","spearfish","spearhead","spearmint","spectacle","spectator","speculate","spellbind","spendable","spherical","spiritism","spiritual","splashing","spokesman","spotlight","sprinkled","sprinkler","squatting","squealing","squeamish","squeezing","squishier","stability","stabilize","stainable","stainless","stalemate","staleness","starboard","stargazer","starlight","startling","statistic","statutory","steadfast","steadying","steerable","steersman","stegosaur","sterility","sterilize","sternness","stiffness","stillness","stimulant","stimulate","stipulate","stonewall","stoneware","stonework","stoplight","stoppable","stopwatch","storeroom","storewide","straggler","straining","strangely","strategic","strenuous","strongbox","strongman","structure","stumbling","stylishly","subarctic","subatomic","subdivide","subheader","submarine","submersed","submitter","subscribe","subscript","subsector","subsiding","subsidize","substance","subsystem","subwoofer","succulent","suffering","suffocate","sulphuric","superbowl","superglue","superhero","supernova","supervise","supremacy","surcharge","surfacing","surfboard","surrender","surrogate","surviving","sustained","sustainer","swaddling","swampland","swiftness","swimmable","symphonic","synthesis","synthetic","tableware","tackiness","taekwondo","tarantula","tastiness","theatrics","thesaurus","thickness","thirstily","thirsting","threefold","throbbing","throwaway","throwback","thwarting","tightness","tightrope","tinderbox","tiptoeing","tradition","trailside","transform","translate","transpire","transport","transpose","trapezoid","treachery","treadmill","trembling","tribesman","tributary","trickster","trifocals","trimester","troubling","trustable","trustless","turbulent","twentieth","twiddling","twistable","ultimatum","umbilical","unabashed","unadorned","unadvised","unaligned","unaltered","unarmored","unashamed","unaudited","unbalance","unblended","unblessed","unbounded","unbraided","unbuckled","uncertain","unchanged","uncharted","unclaimed","unclamped","unclothed","uncolored","uncorrupt","uncounted","uncrushed","uncurious","undamaged","undaunted","undecided","undefined","undercoat","undercook","underdone","underfeed","underfoot","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underrate","undertake","undertone","undertook","underwear","underwent","underwire","undesired","undiluted","undivided","undrafted","undrilled","uneatable","unelected","unengaged","unethical","unexpired","unexposed","unfailing","unfeeling","unfitting","unfixable","unfocused","unfounded","unfrosted","ungreased","unguarded","unhappily","unhealthy","unhearing","unhelpful","unhitched","uniformed","uniformly","unimpeded","uninjured","uninstall","uninsured","uninvited","unisexual","universal","unknotted","unknowing","unlearned","unleveled","unlighted","unlikable","unlimited","unlivable","unlocking","unlovable","unluckily","unmanaged","unmasking","unmatched","unmindful","unmixable","unmovable","unnamable","unnatural","unnerving","unnoticed","unopposed","unpainted","unpiloted","unplanned","unplanted","unpleased","unpledged","unpopular","unraveled","unreached","unreeling","unrefined","unrelated","unretired","unrevised","unrivaled","unroasted","unruffled","unscathed","unscented","unsecured","unselfish","unsettled","unshackle","unsheathe","unshipped","unsightly","unskilled","unspoiled","unstaffed","unstamped","unsterile","unstirred","unstopped","unstuffed","unstylish","untainted","untangled","untoasted","untouched","untracked","untrained","untreated","untrimmed","unvarying","unveiling","unvisited","unwarlike","unwatched","unwelcome","unwilling","unwitting","unwomanly","unworldly","unworried","unwrapped","unwritten","upcountry","uplifting","urologist","uselessly","vagrantly","vagueness","valuables","vaporizer","vehicular","veneering","ventricle","verbalize","vertebrae","viability","viewpoint","vindicate","violation","viscosity","vivacious","vividness","wackiness","washbasin","washboard","washcloth","washhouse","washstand","whimsical","wieldable","wikipedia","willfully","willpower","wolverine","womanhood","womankind","womanless","womanlike","worrisome","worsening","worshiper","wrongdoer","wrongness","yesterday","zestfully","zigzagged","zookeeper","zoologist","abnormal","abrasion","abrasive","abruptly","absentee","absently","absinthe","absolute","abstract","accuracy","accurate","accustom","achiness","acquaint","activate","activism","activist","activity","aeration","aerobics","affected","affluent","aflutter","agnostic","agreeing","alienate","alkaline","alkalize","almighty","alphabet","although","altitude","aluminum","amaretto","ambiance","ambition","amicably","ammonium","amniotic","amperage","amusable","anaconda","aneurism","animator","annotate","annoying","annually","anointer","anteater","antelope","antennae","antibody","antidote","antihero","antiques","antirust","anyplace","anything","anywhere","appendix","appetite","applause","approach","approval","aptitude","aqueduct","ardently","arguable","arguably","armchair","arrogant","aspirate","astonish","atlantic","atonable","attendee","attitude","atypical","audacity","audience","audition","autistic","avenging","aversion","aviation","babbling","backache","backdrop","backfire","backhand","backlash","backless","backpack","backrest","backroom","backside","backslid","backspin","backstab","backtalk","backward","backwash","backyard","bacteria","baffling","baguette","bakeshop","balsamic","banister","bankable","bankbook","banknote","bankroll","barbecue","bargraph","baritone","barrette","barstool","barterer","battered","blatancy","blighted","blinking","blissful","blizzard","bloating","bloomers","blooming","blustery","boastful","boasting","bondless","bonehead","boneless","bonelike","bootlace","borrower","botanist","bottling","bouncing","bounding","breeches","breeding","brethren","broiling","bronzing","browbeat","browsing","bruising","brunette","brussels","bubbling","buckshot","buckskin","buddhism","buddhist","bullfrog","bullhorn","bullring","bullseye","bullwhip","bunkmate","busybody","cadillac","calamari","calamity","calculus","camisole","campfire","campsite","canister","cannabis","capacity","cardigan","cardinal","careless","carmaker","carnival","cartload","cassette","casually","casualty","catacomb","catalyst","catalyze","catapult","cataract","catching","catering","catfight","cathouse","cautious","cavalier","celibacy","celibate","ceramics","ceremony","cesarean","cesspool","chaffing","champion","chaplain","charcoal","charging","charting","chastise","chastity","chatroom","chatting","cheating","chewable","childish","chirping","chitchat","chivalry","chloride","chlorine","choosing","chowtime","cilantro","cinnamon","circling","circular","citation","clambake","clanking","clapping","clarinet","clavicle","clerical","climatic","clinking","closable","clothing","clubbing","clumsily","coasting","coauthor","coeditor","cogwheel","coherent","cohesive","coleslaw","coliseum","collapse","colonial","colonist","colonize","colossal","commence","commerce","composed","composer","compound","compress","computer","conceded","conclude","concrete","condense","confetti","confider","confined","conflict","confound","confront","confused","congrats","congress","conjuror","constant","consumer","contempt","contents","contrite","cornball","cornhusk","cornmeal","coronary","corporal","corridor","cosigner","counting","covenant","coveting","coziness","crabbing","crablike","crabmeat","cradling","craftily","crawfish","crawlers","crawling","crayfish","creasing","creation","creative","creature","credible","credibly","crescent","cresting","crewless","crewmate","cringing","crisping","criteria","crumpled","cruncher","crusader","crushing","cucumber","cufflink","culinary","culpable","cultural","customer","cylinder","daffodil","daintily","dallying","dandruff","dangling","daringly","darkened","darkness","darkroom","datebook","daughter","daunting","daybreak","daydream","daylight","dazzling","deafness","debating","debtless","deceased","deceiver","december","decipher","declared","decrease","dedicate","deepness","defacing","defender","deferral","deferred","defiance","defiling","definite","deflator","deforest","degraded","degrease","dejected","delegate","deletion","delicacy","delicate","delirium","delivery","delusion","demeanor","democrat","demotion","deniable","departed","deplored","depraved","deputize","deranged","designed","designer","deskwork","desolate","destruct","detached","detector","detonate","detoxify","deviancy","deviator","devotion","devourer","devoutly","diabetes","diabetic","diabolic","diameter","dictator","diffused","diffuser","dilation","diligent","diminish","directed","directly","direness","disabled","disagree","disallow","disarray","disaster","disburse","disclose","discolor","discount","discover","disgrace","dislodge","disloyal","dismount","disorder","dispatch","dispense","displace","disposal","disprove","dissuade","distance","distaste","distinct","distract","distress","district","distrust","dividend","dividers","dividing","divinely","divinity","division","divisive","divorcee","doctrine","document","domelike","domestic","dominion","dominoes","donation","doorbell","doorknob","doornail","doorpost","doorstep","doorstop","doubling","dragging","dragster","drainage","dramatic","dreadful","dreamily","drearily","drilling","drinking","dripping","drivable","driveway","dropkick","drowsily","duckbill","duckling","ducktail","dullness","dumpling","dumpster","duration","dwelling","dynamite","dyslexia","dyslexic","earphone","earpiece","earplugs","easiness","eastward","economic","edginess","educated","educator","eggplant","eggshell","election","elective","elephant","elevator","eligible","eligibly","elliptic","eloquent","embezzle","embolism","emission","emoticon","empathic","emphases","emphasis","emphatic","employed","employee","employer","emporium","encircle","encroach","endanger","endeared","endpoint","enduring","energize","enforced","enforcer","engaging","engraved","engraver","enjoying","enlarged","enlisted","enquirer","entering","enticing","entrench","entryway","envelope","enviable","enviably","envision","epidemic","epidural","epilepsy","epilogue","epiphany","equation","erasable","escalate","escapade","escapist","escargot","espresso","esteemed","estimate","estrogen","eternity","evacuate","evaluate","everyday","everyone","evidence","excavate","exchange","exciting","existing","exorcism","exorcist","expenses","expiring","explicit","exponent","exporter","exposure","extended","exterior","external","fabulous","facebook","facedown","faceless","facelift","facility","familiar","famished","fastball","fastness","favoring","favorite","felt-tip","feminine","feminism","feminist","feminize","fernlike","ferocity","festival","fiddling","fidelity","fiftieth","figurine","filtrate","finalist","finalize","fineness","finished","finisher","fiscally","flagpole","flagship","flanking","flannels","flashily","flashing","flatfoot","flatness","flattery","flatware","flatworm","flavored","flaxseed","flogging","flounder","flypaper","follicle","fondling","fondness","football","footbath","footgear","foothill","foothold","footless","footnote","footpath","footrest","footsore","footwear","footwork","founding","fountain","fraction","fracture","fragment","fragrant","freckled","freckles","freebase","freefall","freehand","freeload","freeness","freeware","freewill","freezing","frenzied","frequent","friction","frighten","frigidly","frostily","frosting","fructose","frugally","galleria","gambling","gangrene","gatherer","gauntlet","generous","genetics","geologic","geometry","geranium","germless","gigabyte","gigantic","giggling","giveaway","glancing","glaucoma","gleaming","gloating","gloomily","glorious","glowworm","goatskin","goldfish","goldmine","goofball","gorgeous","graceful","gracious","gradient","graduate","graffiti","grafting","granddad","grandkid","grandson","granular","gratuity","greasily","greedily","greeting","grieving","grievous","grinning","groggily","grooving","grudging","grueling","grumpily","guidable","guidance","gullible","gurgling","gyration","habitant","habitual","handball","handbook","handcart","handclap","handcuff","handgrip","handheld","handling","handmade","handpick","handrail","handwash","handwork","handyman","hangnail","hangover","happiest","hardcopy","hardcore","harddisk","hardened","hardener","hardhead","hardness","hardship","hardware","hardwood","harmless","hatchery","hatching","hazelnut","haziness","headache","headband","headgear","headlamp","headless","headlock","headrest","headroom","headsman","headwear","helpless","helpline","henchman","heritage","hesitant","hesitate","hexagram","huddling","humbling","humility","humorist","humorous","humpback","hungrily","huntress","huntsman","hydrated","hydrogen","hypnoses","hypnosis","hypnotic","idealism","idealist","idealize","identify","identity","ideology","ignition","illusion","illusive","imagines","imbecile","immature","imminent","immobile","immodest","immortal","immunity","immunize","impaired","impeding","imperial","implicit","impolite","importer","imposing","impotent","imprison","improper","impurity","irrigate","irritant","irritate","islamist","isolated","jailbird","jalapeno","jaundice","jingling","jokester","jokingly","joyfully","joystick","jubilant","judicial","juggling","junction","juncture","junkyard","justness","juvenile","kangaroo","keenness","kerchief","kerosene","kilobyte","kilogram","kilowatt","kindling","kindness","kissable","knapsack","knickers","laboring","labrador","ladylike","landfall","landfill","landlady","landless","landline","landlord","landmark","landmass","landmine","landside","language","latitude","latticed","lavender","laxative","laziness","lecturer","leggings","lethargy","leverage","levitate","licorice","ligament","likeness","likewise","limpness","linguini","linguist","linoleum","litigate","luckless","lukewarm","luminous","lunchbox","luncheon","lushness","lustrous","lyricism","lyricist","macarena","macaroni","magazine","magician","magnetic","magnolia","mahogany","majestic","majority","makeover","managing","mandarin","mandolin","manicure","manpower","marathon","marbling","marigold","maritime","massager","matchbox","matching","material","maternal","maturely","maturing","maturity","maverick","maximize","mobility","mobilize","modified","moisture","molasses","molecule","molehill","monetary","monetize","mongoose","monkhood","monogamy","monogram","monopoly","monorail","monotone","monotype","monoxide","monsieur","monument","moonbeam","moonlike","moonrise","moonwalk","morality","morbidly","morphine","morphing","mortally","mortuary","mothball","motivate","mountain","mounting","mournful","mulberry","multiple","multiply","mumbling","munchkin","muscular","mushroom","mutation","national","nativity","naturist","nautical","navigate","nearness","neatness","negation","negative","negligee","neurosis","neurotic","nickname","nicotine","nineteen","nintendo","numbness","numerate","numerous","nuptials","nutrient","nutshell","obedient","obituary","obligate","oblivion","observer","obsessed","obsolete","obstacle","obstruct","occupant","occupier","ointment","olympics","omission","omnivore","oncoming","onlooker","onscreen","operable","operator","opponent","opposing","opposite","outboard","outbound","outbreak","outburst","outclass","outdated","outdoors","outfield","outflank","outgoing","outhouse","outlying","outmatch","outreach","outright","outscore","outshine","outshoot","outsider","outsmart","outtakes","outthink","outweigh","overarch","overbill","overbite","overbook","overcast","overcoat","overcome","overcook","overfeed","overfill","overflow","overfull","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overkill","overlaid","overload","overlook","overlord","overpass","overplay","overrate","override","overripe","overrule","overshot","oversold","overstay","overstep","overtake","overtime","overtone","overture","overturn","overview","oxymoron","pacifier","pacifism","pacifist","paddling","palpable","pampered","pamperer","pamphlet","pancreas","pandemic","panorama","parabola","parakeet","paralyze","parasail","parasite","parmesan","passable","passably","passcode","passerby","passover","passport","password","pastrami","paternal","patience","pavement","pavilion","paycheck","payphone","peculiar","peddling","pedicure","pedigree","pegboard","penalize","penknife","pentagon","perceive","perjurer","peroxide","petition","phrasing","placidly","platform","platinum","platonic","platypus","playable","playback","playlist","playmate","playroom","playtime","pleading","plethora","plunging","pointing","politely","popsicle","populace","populate","porridge","portable","porthole","portside","possible","possibly","postcard","pouncing","powdered","praising","prancing","prankish","preacher","preamble","precinct","predator","pregnant","premiere","premises","prenatal","preorder","pretense","previous","prideful","princess","pristine","probable","probably","proclaim","procurer","prodigal","profound","progress","prologue","promoter","prompter","promptly","proofing","properly","property","proposal","protegee","protract","protrude","provable","provided","provider","province","prowling","punctual","punisher","purchase","purebred","pureness","purifier","purplish","pursuant","purveyor","pushcart","pushover","puzzling","quadrant","quaintly","quarters","quotable","radiance","radiated","radiator","railroad","rambling","reabsorb","reaction","reactive","reaffirm","reappear","rearview","reassign","reassure","reattach","reburial","rebuttal","reckless","recliner","recovery","recreate","recycled","recycler","reemerge","refinery","refining","refinish","reforest","reformat","reformed","reformer","refreeze","refusing","register","registry","regulate","rekindle","relation","relative","reliable","reliably","reliance","relocate","remedial","remember","reminder","removing","renderer","renegade","renounce","renovate","rentable","reoccupy","repaying","repeated","repeater","rephrase","reporter","reproach","resample","research","reselect","reseller","resemble","resident","residual","resigned","resolute","resolved","resonant","resonate","resource","resubmit","resupply","retainer","retiring","retorted","reusable","reverend","reversal","revision","reviving","revolver","richness","riddance","ripeness","ripening","rippling","riverbed","riveting","robotics","rockband","rockfish","rocklike","rockstar","roulette","rounding","roundish","rumbling","sabotage","saddling","safeness","salaried","salutary","sampling","sanction","sanctity","sandbank","sandfish","sandworm","sanitary","satiable","saturate","saturday","scalding","scallion","scalping","scanning","scarcity","scarring","schedule","scheming","schnapps","scolding","scorpion","scouring","scouting","scowling","scrabble","scraggly","scribble","scribing","scrubbed","scrubber","scrutiny","sculptor","secluded","securely","security","sedation","sedative","sediment","seducing","selected","selector","semantic","semester","semisoft","senorita","sensuous","sequence","serrated","sessions","settling","severity","shakable","shamrock","shelving","shifting","shoplift","shopping","shoptalk","shortage","shortcut","showcase","showdown","showgirl","showroom","shrapnel","shredder","shrewdly","shrouded","shucking","siberian","silenced","silencer","simplify","singular","sinister","situated","sixtieth","sizzling","skeletal","skeleton","skillful","skimming","skimpily","skincare","skinhead","skinless","skinning","skipping","skirmish","skydiver","skylight","slacking","slapping","slashing","slighted","slightly","slimness","slinging","slobbery","sloppily","smashing","smelting","smuggler","smugness","sneezing","snipping","snowbird","snowdrop","snowfall","snowless","snowplow","snowshoe","snowsuit","snugness","spearman","specimen","speckled","spectrum","spelling","spending","spinning","spinster","spirited","splashed","splatter","splendid","splendor","splicing","splinter","splotchy","spoilage","spoiling","spookily","sporting","spotless","spotting","spyglass","squabble","squander","squatted","squatter","squealer","squeegee","squiggle","squiggly","stagnant","stagnate","staining","stalling","stallion","stapling","stardust","starfish","starless","starring","starship","starting","starving","steadier","steadily","steering","sterling","stifling","stimulus","stingily","stinging","stingray","stinking","stoppage","stopping","storable","stowaway","straddle","strained","strainer","stranger","strangle","strategy","strength","stricken","striking","striving","stroller","strongly","struggle","stubborn","stuffing","stunning","sturdily","stylized","subduing","subfloor","subgroup","sublease","sublevel","submerge","subpanel","subprime","subsonic","subtitle","subtotal","subtract","sufferer","suffrage","suitable","suitably","suitcase","sulphate","superior","superjet","superman","supermom","supplier","sureness","surgical","surprise","surround","survival","survivor","suspense","swapping","swimming","swimsuit","swimwear","swinging","sycamore","sympathy","symphony","syndrome","synopses","synopsis","tableful","tackling","tactical","tactless","talisman","tameness","tapeless","tapering","tapestry","tartness","tattered","tattling","theology","theorize","thespian","thieving","thievish","thinness","thinning","thirteen","thousand","threaten","thriving","throttle","throwing","thumping","thursday","tidiness","tightwad","tingling","tinkling","tinsmith","traction","trailing","tranquil","transfer","trapdoor","trapping","traverse","travesty","treading","trespass","triangle","tribunal","trickery","trickily","tricking","tricolor","tricycle","trillion","trimming","trimness","tripping","trolling","trombone","tropical","trousers","trustful","trusting","tubeless","tumbling","turbofan","turbojet","tweezers","twilight","twisting","ultimate","umbrella","unafraid","unbeaten","unbiased","unbitten","unbolted","unbridle","unbroken","unbundle","unburned","unbutton","uncapped","uncaring","uncoated","uncoiled","uncombed","uncommon","uncooked","uncouple","uncurled","underage","underarm","undercut","underdog","underfed","underpay","undertow","underuse","undocked","undusted","unearned","uneasily","unedited","unending","unenvied","unfasten","unfilled","unfitted","unflawed","unframed","unfreeze","unfrozen","unfunded","unglazed","ungloved","ungraded","unguided","unharmed","unheated","unhidden","unicycle","uniquely","unissued","universe","unjustly","unlawful","unleaded","unlinked","unlisted","unloaded","unloader","unlocked","unlovely","unloving","unmanned","unmapped","unmarked","unmasked","unmolded","unmoving","unneeded","unopened","unpadded","unpaired","unpeeled","unpicked","unpinned","unplowed","unproven","unranked","unrented","unrigged","unrushed","unsaddle","unsalted","unsavory","unsealed","unseated","unseeing","unseemly","unselect","unshaken","unshaved","unshaven","unsigned","unsliced","unsmooth","unsocial","unsoiled","unsolved","unsorted","unspoken","unstable","unsteady","unstitch","unsubtle","unsubtly","unsuited","untagged","untapped","unthawed","unthread","untimely","untitled","unturned","unusable","unvalued","unvaried","unveiled","unvented","unviable","unwanted","unwashed","unwieldy","unworthy","upcoming","upheaval","uplifted","uprising","upstairs","upstream","upstroke","upturned","urethane","vacation","vagabond","vagrancy","vanquish","variable","variably","vascular","vaseline","vastness","velocity","vendetta","vengeful","venomous","verbally","vertical","vexingly","vicinity","viewable","viewless","vigorous","vineyard","violator","virtuous","viselike","visiting","vitality","vitalize","vitamins","vocalist","vocalize","vocation","volatile","washable","washbowl","washroom","waviness","whacking","whenever","whisking","whomever","whooping","wildcard","wildfire","wildfowl","wildland","wildlife","wildness","winnings","wireless","wisplike","wobbling","wreckage","wrecking","wrongful","yearbook","yearling","yearning","zeppelin","abdomen","abiding","ability","abreast","abridge","absence","absolve","abstain","acclaim","account","acetone","acquire","acrobat","acronym","actress","acutely","aerosol","affront","ageless","agility","agonize","aground","alfalfa","algebra","almanac","alright","amenity","amiable","ammonia","amnesty","amplify","amusing","anagram","anatomy","anchovy","ancient","android","angelic","angling","angrily","angular","animate","annuity","another","antacid","anthill","antonym","anybody","anymore","anytime","apostle","appease","applaud","applied","approve","apricot","armband","armhole","armless","armoire","armored","armrest","arousal","arrange","arrival","ashamed","aspirin","astound","astride","atrophy","attempt","auction","audible","audibly","average","aviator","awkward","backing","backlit","backlog","badland","badness","baggage","bagging","bagpipe","balance","balcony","banking","banshee","barbell","barcode","barista","barmaid","barrack","barrier","battery","batting","bazooka","blabber","bladder","blaming","blazing","blemish","blinked","blinker","bloated","blooper","blubber","blurred","boaster","bobbing","bobsled","bobtail","bolster","bonanza","bonding","bonfire","booting","bootleg","borough","boxlike","breeder","brewery","brewing","bridged","brigade","brisket","briskly","bristle","brittle","broaden","broadly","broiler","brought","budding","buffalo","buffing","buffoon","bulldog","bullion","bullish","bullpen","bunkbed","busload","cabbage","caboose","cadmium","cahoots","calcium","caliber","caloric","calorie","calzone","camping","candied","canning","canteen","capable","capably","capital","capitol","capsize","capsule","caption","captive","capture","caramel","caravan","cardiac","carless","carload","carnage","carpool","carport","carried","cartoon","carving","carwash","cascade","catalog","catcall","catcher","caterer","catfish","catlike","cattail","catwalk","causing","caution","cavalry","certify","chalice","chamber","channel","chapped","chapter","charger","chariot","charity","charred","charter","chasing","chatter","cheddar","chemist","chevron","chewing","choking","chooser","chowder","citable","citadel","citizen","clapped","clapper","clarify","clarity","clatter","cleaver","clicker","climate","clobber","cloning","closure","clothes","clubbed","clutter","coastal","coaster","cobbler","coconut","coexist","collage","collide","comfort","commend","comment","commode","commute","company","compare","compile","compost","comrade","concave","conceal","concept","concert","concise","condone","conduit","confess","confirm","conform","conical","conjure","consent","console","consult","contact","contend","contest","context","contort","contour","control","convene","convent","copilot","copious","corncob","coroner","correct","corrode","corsage","cottage","country","courier","coveted","coyness","crafter","cranial","cranium","craving","crazily","creamed","creamer","crested","crevice","crewman","cricket","crimson","crinkle","crinkly","crisped","crisply","critter","crouton","crowbar","crucial","crudely","cruelly","cruelty","crumpet","crunchy","crushed","crusher","cryptic","crystal","cubical","cubicle","culprit","culture","cupcake","cupping","curable","curator","curling","cursive","curtain","custard","custody","customs","cycling","cyclist","dancing","darkish","darling","dawdler","daycare","daylong","dayroom","daytime","dazzler","dealing","debrief","decency","decibel","decimal","decline","default","defense","defiant","deflate","defraud","defrost","delouse","density","dentist","denture","deplete","depress","deprive","derived","deserve","desktop","despair","despise","despite","destiny","detract","devalue","deviant","deviate","devious","devotee","diagram","dictate","dimness","dingbat","diocese","dioxide","diploma","dipping","disband","discard","discern","discuss","disdain","disjoin","dislike","dismiss","disobey","display","dispose","dispute","disrupt","distant","distill","distort","divided","dolphin","donated","donator","doorman","doormat","doorway","drained","drainer","drapery","drastic","dreaded","dribble","driller","driving","drizzle","drizzly","dropbox","droplet","dropout","dropper","duchess","ducking","dumping","durable","durably","dutiful","dwelled","dweller","dwindle","dynamic","dynasty","earache","eardrum","earflap","earlobe","earmark","earmuff","earring","earshot","earthen","earthly","easeful","easiest","eatable","eclipse","ecology","economy","edition","effects","egotism","elastic","elderly","elevate","elitism","ellipse","elusive","embargo","embassy","emblaze","emerald","emotion","empathy","emperor","empower","emptier","enclose","encrust","encrypt","endless","endnote","endorse","engaged","engorge","engross","enhance","enjoyer","enslave","ensnare","entitle","entrust","entwine","envious","episode","equator","equinox","erasure","erratic","esquire","essence","etching","eternal","ethanol","evacuee","evasion","evasive","evident","exalted","example","exclaim","exclude","exhaust","expanse","explain","explode","exploit","explore","express","extinct","extrude","faceted","faction","factoid","factual","faculty","failing","falsify","fanatic","fancied","fanfare","fanning","fantasy","fascism","fasting","favored","federal","fencing","ferment","festive","fiction","fidgety","fifteen","figment","filling","finally","finance","finicky","finless","finlike","flaccid","flagman","flakily","flanked","flaring","flatbed","flatten","flattop","fleshed","florist","flyable","flyaway","flyover","footage","footing","footman","footpad","footsie","founder","fragile","framing","frantic","fraying","freebee","freebie","freedom","freeing","freeway","freight","fretful","fretted","frisbee","fritter","frosted","gaining","gallery","gallows","gangway","garbage","garland","garment","garnish","gauging","generic","gentile","geology","gestate","gesture","getaway","getting","giddily","gimmick","gizzard","glacial","glacier","glamour","glaring","glazing","gleeful","gliding","glimmer","glimpse","glisten","glitter","gloater","glorify","glowing","glucose","glutton","goggles","goliath","gondola","gosling","grading","grafted","grandly","grandma","grandpa","granite","granola","grapple","gratify","grating","gravity","grazing","greeter","grimace","gristle","grouped","growing","gruffly","grumble","grumbly","guiding","gumball","gumdrop","gumming","gutless","guzzler","habitat","hacking","hacksaw","haggler","halogen","hammock","hamster","handbag","handful","handgun","handled","handler","handoff","handsaw","handset","hangout","happier","happily","hardhat","harmful","harmony","harness","harpist","harvest","hastily","hatchet","hatless","heading","headset","headway","heavily","heaving","hedging","helpful","helping","hemlock","heroics","heroism","herring","herself","hexagon","humming","hunting","hurling","hurried","husband","hydrant","iciness","ideally","imaging","imitate","immerse","impeach","implant","implode","impound","imprint","improve","impulse","islamic","isotope","issuing","italics","jackpot","janitor","january","jarring","jasmine","jawless","jawline","jaybird","jellied","jitters","jittery","jogging","joining","joyride","jugular","jujitsu","jukebox","juniper","junkman","justice","justify","karaoke","kindred","kinetic","kinfolk","kinship","kinsman","kissing","kitchen","kleenex","krypton","labored","laborer","ladybug","lagging","landing","lantern","lapping","latrine","launder","laundry","legible","legibly","legroom","legwork","leotard","letdown","lettuce","liberty","library","licking","lifting","liftoff","limeade","limping","linseed","liquefy","liqueur","livable","lividly","luckily","lullaby","lumping","lumpish","lustily","machine","magenta","magical","magnify","majesty","mammary","manager","manatee","mandate","manhole","manhood","manhunt","mankind","manlike","manmade","mannish","marbled","marbles","marital","married","marxism","mashing","massive","mastiff","matador","matcher","maximum","moaning","mobster","modular","moisten","mollusk","mongrel","monitor","monsoon","monthly","moocher","moonlit","morally","mortify","mounted","mourner","movable","mullets","mummify","mundane","mushily","mustang","mustard","mutable","myspace","mystify","napping","nastily","natural","nearest","nemeses","nemesis","nervous","neutron","nuclear","nucleus","nullify","numbing","numeral","numeric","nursery","nursing","nurture","nutcase","nutlike","obliged","obscure","obvious","octagon","october","octopus","ominous","onboard","ongoing","onshore","onstage","opacity","operate","opossum","osmosis","outback","outcast","outcome","outgrow","outlast","outline","outlook","outmost","outpost","outpour","outrage","outrank","outsell","outward","overact","overall","overbid","overdue","overfed","overlap","overlay","overpay","overrun","overtly","overuse","oxidant","oxidize","pacific","padding","padlock","pajamas","pampers","pancake","panning","panther","paprika","papyrus","paradox","parched","parking","parkway","parsley","parsnip","partake","parting","partner","passage","passing","passion","passive","pastime","pasture","patient","patriot","payable","payback","payment","payroll","pelican","penalty","pendant","pending","pennant","pension","percent","perfume","perjury","petunia","phantom","phoenix","phonics","placard","placate","planner","plaster","plastic","plating","platter","playful","playing","playoff","playpen","playset","pliable","plunder","plywood","pointed","pointer","polygon","polymer","popcorn","popular","portion","postage","postbox","posting","posture","postwar","pouring","powdery","pranker","praying","preachy","precise","precook","predict","preface","pregame","prelude","premium","prepaid","preplan","preshow","presoak","presume","preteen","pretext","pretzel","prevail","prevent","preview","primary","primate","privacy","private","probing","problem","process","prodigy","produce","product","profane","profile","progeny","program","propose","prorate","proving","provoke","prowess","prowler","pruning","psychic","pulsate","pungent","purging","puritan","pursuit","pushing","pushpin","putdown","pyramid","quaking","qualify","quality","quantum","quarrel","quartet","quicken","quickly","quintet","ragweed","railcar","railing","railway","ranging","ranking","ransack","ranting","rasping","ravioli","reactor","reapply","reawake","rebirth","rebound","rebuild","rebuilt","recital","reclaim","recluse","recolor","recount","rectify","reenact","reenter","reentry","referee","refined","refocus","refract","refrain","refresh","refried","refusal","regalia","regally","regress","regroup","regular","reissue","rejoice","relapse","related","relearn","release","reliant","relieve","relight","remarry","rematch","remnant","remorse","removal","removed","remover","renewal","renewed","reoccur","reorder","repaint","replace","replica","reprint","reprise","reptile","request","require","reroute","rescuer","reshape","reshoot","residue","respect","rethink","retinal","retired","retiree","retouch","retrace","retract","retrain","retread","retreat","retrial","retying","reunion","reunite","reveler","revenge","revenue","revered","reverse","revisit","revival","reviver","rewrite","ribcage","rickety","ricotta","rifling","rigging","rimless","rinsing","ripcord","ripping","riptide","risotto","ritalin","riveter","roaming","robbing","rocking","rotting","rotunda","roundup","routine","routing","rubbing","rubdown","rummage","rundown","running","rupture","sabbath","saddled","sadness","saffron","sagging","salvage","sandbag","sandbar","sandbox","sanding","sandlot","sandpit","sapling","sarcasm","sardine","satchel","satisfy","savanna","savings","scabbed","scalded","scaling","scallop","scandal","scanner","scarily","scholar","science","scooter","scoring","scoured","scratch","scrawny","scrooge","scruffy","scrunch","scuttle","secrecy","secular","segment","seismic","seizing","seltzer","seminar","senator","serpent","service","serving","setback","setting","seventh","seventy","shadily","shading","shakily","shaking","shallot","shallow","shampoo","shaping","sharper","sharpie","sharply","shelter","shifter","shimmer","shindig","shingle","shining","shopper","shorten","shorter","shortly","showbiz","showing","showman","showoff","shrivel","shudder","shuffle","siamese","sibling","sighing","silicon","sincere","singing","sinless","sinuous","sitting","sixfold","sixteen","sixties","sizable","sizably","skating","skeptic","skilled","skillet","skimmed","skimmer","skipper","skittle","skyline","skyward","slacked","slacker","slander","slashed","slather","slicing","sliding","sloping","slouchy","smartly","smasher","smashup","smitten","smoking","smolder","smother","snagged","snaking","snippet","snooper","snoring","snorkel","snowcap","snowman","snuggle","species","specked","speller","spender","spinach","spindle","spinner","spinout","spirits","splashy","splurge","spoiled","spoiler","sponsor","spotted","spotter","spousal","sputter","squeeze","squishy","stadium","staging","stained","stamina","stammer","stardom","staring","starlet","starlit","starter","startle","startup","starved","stature","statute","staunch","stellar","stencil","sterile","sternum","stiffen","stiffly","stimuli","stinger","stipend","stoning","stopped","stopper","storage","stowing","stratus","stretch","strudel","stubbed","stubble","stubbly","student","studied","stuffed","stumble","stunned","stunner","styling","stylist","subdued","subject","sublime","subplot","subside","subsidy","subsoil","subtext","subtype","subzero","suction","suffice","suggest","sulfate","sulfide","sulfite","support","supreme","surface","surgery","surging","surname","surpass","surplus","surreal","survive","suspect","suspend","swagger","swifter","swiftly","swimmer","swinger","swizzle","swooned","symptom","synapse","synergy","t-shirt","tabasco","tabloid","tacking","tactful","tactics","tactile","tadpole","tainted","tannery","tanning","tantrum","tapered","tapioca","tapping","tarnish","tasting","theater","thermal","thermos","thicken","thicket","thimble","thinner","thirsty","thrower","thyself","tidings","tighten","tightly","tigress","timothy","tinfoil","tinwork","tipping","tracing","tractor","trading","traffic","tragedy","traitor","trapeze","trapped","trapper","treason","trekker","tremble","tribune","tribute","triceps","trickle","trident","trilogy","trimmer","trinity","triumph","trivial","trodden","tropics","trouble","truffle","trustee","tubular","tucking","tuesday","tuition","turbine","turmoil","twiddle","twisted","twister","twitter","unaired","unawake","unaware","unbaked","unblock","unboxed","uncanny","unchain","uncheck","uncivil","unclasp","uncloak","uncouth","uncover","uncross","uncrown","uncured","undated","undergo","undoing","undress","undying","unearth","uneaten","unequal","unfazed","unfiled","unfixed","ungodly","unhappy","unheard","unhinge","unicorn","unified","unifier","unkempt","unknown","unlaced","unlatch","unleash","unlined","unloved","unlucky","unmixed","unmoral","unmoved","unnamed","unnerve","unpaved","unquote","unrated","unrobed","unsaved","unscrew","unstuck","unsworn","untaken","untamed","untaxed","untimed","untried","untruth","untwist","untying","unusual","unvocal","unweave","unwired","unwound","unwoven","upchuck","upfront","upgrade","upright","upriver","upscale","upstage","upstart","upstate","upswing","uptight","uranium","urgency","urology","useable","utensil","utility","utilize","vacancy","vaguely","valiant","vanilla","vantage","variety","various","varmint","varnish","varsity","varying","vending","venture","verbose","verdict","version","vertigo","veteran","victory","viewing","village","villain","vintage","violate","virtual","viscous","visible","visibly","visitor","vitally","vividly","vocally","voicing","voltage","volumes","voucher","walmart","wannabe","wanting","washday","washing","washout","washtub","wasting","whoever","whoopee","wielder","wildcat","willing","wincing","winking","wistful","womanly","worried","worrier","wrangle","wrecker","wriggle","wriggly","wrinkle","wrinkly","writing","written","wronged","wrongly","wrought","yanking","yapping","yelling","yiddish","zealous","zipfile","zipping","zoology","abacus","ablaze","abroad","absurd","accent","aching","acting","action","active","affair","affirm","afford","aflame","afloat","afraid","agency","agenda","aghast","agreed","aliens","almost","alumni","always","ambush","amends","amount","amulet","amused","amuser","anchor","anemia","anemic","angled","angler","angles","animal","anthem","antics","antler","anyhow","anyone","anyway","apache","appear","armful","arming","armory","around","arrest","arrive","ascend","ascent","asleep","aspect","aspire","astute","atrium","attach","attain","attest","attire","august","author","autism","avatar","avenge","avenue","awaken","awhile","awning","babble","babied","baboon","backed","backer","backup","badass","baffle","bagful","bagged","baggie","bakery","baking","bamboo","banana","banish","banked","banker","banner","banter","barbed","barber","barley","barman","barrel","basics","basket","batboy","battle","bauble","blazer","bleach","blinks","blouse","bluish","blurry","bobbed","bobble","bobcat","bogged","boggle","bonded","bonnet","bonsai","booted","bootie","boring","botany","bottle","bottom","bounce","bouncy","bovine","boxcar","boxing","breach","breath","breeze","breezy","bright","broken","broker","bronco","bronze","browse","brunch","bubble","bubbly","bucked","bucket","buckle","budget","buffed","buffer","bulgur","bundle","bungee","bunion","busboy","busily","cabana","cabbie","cackle","cactus","caddie","camera","camper","campus","canary","cancel","candle","canine","canned","cannon","cannot","canola","canopy","canyon","capped","carbon","carded","caress","caring","carrot","cartel","carton","casing","casino","casket","catchy","catnap","catnip","catsup","cattle","caucus","causal","caviar","cavity","celery","celtic","cement","census","chance","change","chaste","chatty","cheese","cheesy","cherub","chewer","chirpy","choice","choosy","chosen","chrome","chubby","chummy","cinema","circle","circus","citric","citrus","clammy","clamor","clause","clench","clever","client","clinic","clique","clover","clumsy","clunky","clutch","cobalt","cobweb","coerce","coffee","collar","collie","colony","coming","common","compel","comply","concur","copied","copier","coping","copper","cornea","corned","corner","corral","corset","cortex","cosmic","cosmos","cotton","county","cozily","cradle","crafty","crayon","crazed","crease","create","credit","creole","cringe","crispy","crouch","crummy","crying","cuddle","cuddly","cupped","curdle","curfew","curing","curled","curler","cursor","curtly","curtsy","cussed","cyclic","cymbal","dagger","dainty","dander","danger","dangle","dating","daybed","deacon","dealer","debate","debtor","debunk","decade","deceit","decent","decode","decree","deduce","deduct","deepen","deeply","deface","defame","defeat","defile","define","deftly","defuse","degree","delete","deluge","deluxe","demise","demote","denial","denote","dental","depict","deploy","deport","depose","deputy","derail","detail","detest","device","diaper","dicing","dilute","dimmed","dimmer","dimple","dinghy","dining","dinner","dipped","dipper","disarm","dismay","disown","diving","doable","docile","dollar","dollop","domain","doodle","dorsal","dosage","dotted","douche","dreamt","dreamy","dreary","drench","drippy","driven","driver","drudge","dubbed","duffel","dugout","duller","duplex","duress","during","earful","earthy","earwig","easily","easing","easter","eatery","eating","eclair","edging","editor","effort","egging","eggnog","either","elated","eldest","eleven","elixir","embark","emblem","embody","emboss","enable","enamel","encode","encore","ending","energy","engine","engulf","enrage","enrich","enroll","ensure","entail","entire","entity","entomb","entrap","entree","enzyme","equate","equity","erased","eraser","errand","errant","eskimo","estate","ethics","evolve","excess","excuse","exhale","exhume","exodus","expand","expend","expert","expire","expose","extent","extras","fabric","facial","facing","factor","fading","falcon","family","famine","faster","faucet","fedora","feeble","feisty","feline","fender","ferret","ferris","fervor","fester","fiddle","figure","filing","filled","filler","filter","finale","finite","flashy","flatly","fleshy","flight","flinch","floral","flying","follow","fondly","fondue","footer","fossil","foster","frayed","freely","french","frenzy","friday","fridge","friend","fringe","frolic","frosty","frozen","frying","galley","gallon","galore","gaming","gander","gangly","garage","garden","gargle","garlic","garnet","garter","gating","gazing","geiger","gender","gently","gerbil","giblet","giggle","giggly","gigolo","gilled","girdle","giving","gladly","glance","glider","glitch","glitzy","gloomy","gluten","gnarly","google","gopher","gorged","gossip","gothic","gotten","graded","grader","granny","gravel","graves","greedy","grinch","groggy","groove","groovy","ground","grower","grudge","grunge","gurgle","gutter","hacked","hacker","halved","halves","hamlet","hamper","handed","hangup","hankie","harbor","hardly","hassle","hatbox","hatred","hazard","hazily","hazing","headed","header","helium","helmet","helper","herald","herbal","hermit","hubcap","huddle","humble","humbly","hummus","humped","humvee","hunger","hungry","hunter","hurdle","hurled","hurler","hurray","husked","hybrid","hyphen","idiocy","ignore","iguana","impale","impart","impish","impose","impure","iodine","iodize","iphone","itunes","jackal","jacket","jailer","jargon","jersey","jester","jigsaw","jingle","jockey","jogger","jovial","joyous","juggle","jumble","junior","junkie","jurist","justly","karate","keenly","kennel","kettle","kimono","kindle","kindly","kisser","kitten","kosher","ladder","ladies","lagged","lagoon","landed","lapdog","lapped","laptop","lather","latter","launch","laurel","lavish","lazily","legacy","legend","legged","legume","length","lesser","letter","levers","liable","lifter","likely","liking","lining","linked","liquid","litmus","litter","little","lively","living","lizard","lugged","lumber","lunacy","lushly","luster","luxury","lyrics","maggot","maimed","making","mammal","manger","mangle","manila","manned","mantis","mantra","manual","margin","marina","marine","marlin","maroon","marrow","marshy","mascot","mashed","masses","mating","matrix","matron","matted","matter","mayday","moaner","mobile","mocker","mockup","modify","module","monday","mooing","mooned","morale","mosaic","motion","motive","moving","mowing","mulled","mumble","muppet","museum","musket","muster","mutate","mutiny","mutual","muzzle","myself","naming","napkin","napped","narrow","native","nature","nearby","nearly","neatly","nebula","nectar","negate","nephew","neuron","neuter","nibble","nimble","nimbly","nuclei","nugget","number","numbly","nutmeg","nuzzle","object","oblong","obtain","obtuse","occupy","ocelot","octane","online","onward","oppose","outage","outbid","outfit","outing","outlet","output","outwit","oxford","oxygen","oyster","pacify","padded","paddle","paging","palace","paltry","panama","pantry","papaya","parade","parcel","pardon","parish","parlor","parole","parrot","parted","partly","pasted","pastel","pastor","patchy","patrol","pauper","paving","pawing","payday","paying","pebble","pebbly","pectin","pellet","pelvis","pencil","penpal","perish","pester","petite","petted","phobia","phoney","phrase","plasma","plated","player","pledge","plenty","plural","pointy","poison","poking","police","policy","polish","poncho","poplar","popper","porous","portal","portly","posing","possum","postal","posted","poster","pounce","powwow","prance","prayer","precut","prefix","prelaw","prepay","preppy","preset","pretty","prewar","primal","primer","prison","prissy","pronto","proofs","proton","proved","proven","prozac","public","pucker","pueblo","pumice","pummel","puppet","purely","purify","purist","purity","purple","pusher","pushup","puzzle","python","quarry","quench","quiver","racing","racism","racoon","radial","radish","raffle","ragged","raging","raider","raisin","raking","ramble","ramrod","random","ranged","ranger","ranked","rarity","rascal","ravage","ravine","raving","reason","rebate","reboot","reborn","rebuff","recall","recant","recast","recede","recent","recess","recite","recoil","recopy","record","recoup","rectal","refill","reflex","reflux","refold","refund","refuse","refute","regain","reggae","regime","region","reheat","rehire","rejoin","relish","relive","reload","relock","remake","remark","remedy","remold","remote","rename","rental","rented","renter","reopen","repair","repave","repeal","repent","replay","repose","repost","resale","reseal","resend","resent","resize","resort","result","resume","retail","retake","retold","retool","return","retype","reveal","reverb","revert","revise","revoke","revolt","reward","rewash","rewind","rewire","reword","rework","rewrap","ribbon","riches","richly","ridden","riding","rimmed","ripple","rising","roamer","robust","rocker","rocket","roping","roster","rotten","roving","rubbed","rubber","rubble","ruckus","rudder","ruined","rumble","runner","runway","sacred","sadden","safari","safely","salami","salary","saline","saloon","salute","sample","sandal","sanded","savage","savior","scabby","scarce","scared","scenic","scheme","scorch","scored","scorer","scotch","scouts","screen","scribe","script","scroll","scurvy","second","secret","sector","sedate","seduce","seldom","senate","senior","septic","septum","sequel","series","sermon","sesame","settle","shabby","shaded","shadow","shanty","sheath","shelve","sherry","shield","shifty","shimmy","shorts","shorty","shower","shrank","shriek","shrill","shrimp","shrine","shrink","shrubs","shrunk","siding","sierra","siesta","silent","silica","silver","simile","simple","simply","singer","single","sinner","sister","sitcom","sitter","sizing","sizzle","skater","sketch","skewed","skewer","skiing","skinny","slacks","sleeve","sliced","slicer","slider","slinky","sliver","slogan","sloped","sloppy","sludge","smoked","smooth","smudge","smudgy","smugly","snazzy","sneeze","snitch","snooze","snugly","specks","speech","sphere","sphinx","spider","spiffy","spinal","spiral","spleen","splice","spoils","spoken","sponge","spongy","spooky","sports","sporty","spotty","spouse","sprain","sprang","sprawl","spring","sprint","sprite","sprout","spruce","sprung","squall","squash","squeak","squint","squire","squirt","stable","staple","starch","starry","static","statue","status","stench","stereo","stifle","stingy","stinky","stitch","stooge","streak","stream","street","stress","strewn","strict","stride","strife","strike","strive","strobe","strode","struck","strung","stucco","studio","stuffy","stupor","sturdy","stylus","sublet","subpar","subtly","suburb","subway","sudden","sudoku","suffix","suitor","sulfur","sullen","sultry","supper","supply","surely","surfer","survey","swerve","switch","swivel","swoosh","system","tables","tablet","tackle","taking","talcum","tamale","tamper","tanned","target","tarmac","tartar","tartly","tassel","tattle","tattoo","tavern","thesis","thinly","thirty","thrash","thread","thrift","thrill","thrive","throat","throng","tidbit","tiling","timing","tingle","tingly","tinker","tinsel","tipoff","tipped","tipper","tiptop","tiring","tissue","trance","travel","treble","tremor","trench","triage","tricky","trifle","tripod","trophy","trough","trowel","trunks","tumble","turban","turkey","turret","turtle","twelve","twenty","twisty","twitch","tycoon","umpire","unable","unbend","unbent","unclad","unclip","unclog","uncork","undead","undone","unease","uneasy","uneven","unfair","unfold","unglue","unholy","unhook","unison","unkind","unless","unmade","unpack","unpaid","unplug","unread","unreal","unrest","unripe","unroll","unruly","unsafe","unsaid","unseen","unsent","unsnap","unsold","unsure","untidy","untold","untrue","unused","unwary","unwell","unwind","unworn","upbeat","update","upheld","uphill","uphold","upload","uproar","uproot","upside","uptake","uptown","upward","upwind","urchin","urgent","urging","usable","utmost","utopia","vacant","vacate","valium","valley","vanish","vanity","varied","vastly","veggie","velcro","velvet","vendor","verify","versus","vessel","viable","viewer","violet","violin","vision","volley","voting","voyage","waffle","waggle","waking","walnut","walrus","wanted","wasabi","washed","washer","waving","whacky","whinny","whoops","widely","widget","wilder","wildly","willed","willow","winner","winter","wiring","wisdom","wizard","wobble","wobbly","wooing","wreath","wrench","yearly","yippee","yogurt","yonder","zodiac","zombie","zoning","abide","acorn","affix","afoot","agent","agile","aging","agony","ahead","alarm","album","alias","alibi","alike","alive","aloft","aloha","alone","aloof","amaze","amber","amigo","amino","amiss","among","ample","amply","amuck","anger","anime","ankle","annex","antsy","anvil","aorta","apple","apply","april","apron","aptly","arena","argue","arise","armed","aroma","arose","array","arson","ashen","ashes","aside","askew","atlas","attic","audio","avert","avoid","await","award","aware","awoke","bacon","badge","badly","bagel","baggy","baked","balmy","banjo","barge","basil","basin","basis","batch","baton","blade","blame","blank","blast","bleak","bleep","blend","bless","blimp","bling","blitz","bluff","blunt","blurb","blurt","blush","bogus","boned","boney","bonus","booth","boots","boozy","borax","botch","boxer","briar","bribe","brick","bride","bring","brink","brook","broom","brunt","brush","brute","buddy","buggy","bulge","bully","bunch","bunny","cable","cache","cacti","caddy","cadet","cameo","canal","candy","canon","carat","cargo","carol","carry","carve","catty","cause","cedar","chafe","chain","chair","chant","chaos","chaps","charm","chase","cheek","cheer","chemo","chess","chest","chevy","chewy","chief","chili","chill","chimp","chive","chomp","chuck","chump","chunk","churn","chute","cider","cinch","civic","civil","claim","clamp","clang","clash","clasp","class","clean","clear","cleat","cleft","clerk","cling","cloak","clock","clone","cloud","clump","coach","cocoa","comfy","comic","comma","conch","coral","corny","couch","cough","could","cover","cramp","crane","crank","crate","crave","crazy","creed","creme","crepe","crept","cried","crier","crimp","croak","crock","crook","croon","cross","crowd","crown","crumb","crust","cupid","curly","curry","curse","curve","curvy","cushy","cycle","daily","dairy","daisy","dance","dandy","dares","dealt","debit","debug","decaf","decal","decay","decoy","defog","deity","delay","delta","denim","dense","depth","derby","deuce","diary","dimly","diner","dingo","dingy","ditch","ditto","ditzy","dizzy","dodge","dodgy","doily","doing","dolly","donor","donut","doozy","dowry","drank","dress","dried","drier","drift","drone","drool","droop","drove","drown","ducky","duvet","dwarf","dweeb","eagle","early","easel","eaten","ebony","ebook","ecard","eject","elbow","elite","elope","elude","elves","email","ember","emcee","emote","empty","ended","envoy","equal","error","erupt","essay","ether","evade","evict","evoke","exact","exert","exile","expel","fable","false","fancy","feast","femur","fence","ferry","fetal","fetch","fever","fiber","fifth","fifty","filth","finch","finer","flail","flaky","flame","flask","flick","flier","fling","flint","flirt","float","flock","floss","flyer","folic","foyer","frail","frame","frays","fresh","fried","frill","frisk","front","froth","frown","fruit","gaffe","gains","gamma","gauze","gecko","genre","gents","getup","giant","giddy","gills","given","giver","gizmo","glade","glare","glass","glory","gloss","glove","going","gonad","gooey","goofy","grain","grant","grape","graph","grasp","grass","gravy","green","grief","grill","grime","grimy","groin","groom","grope","grout","grove","growl","grunt","guide","guise","gully","gummy","gusto","gusty","haiku","hanky","happy","hardy","harsh","haste","hasty","haunt","haven","heave","hedge","hefty","hence","henna","herbs","hertz","human","humid","hurry","icing","idiom","igloo","image","imply","irate","issue","ivory","jaunt","jawed","jelly","jiffy","jimmy","jolly","judge","juice","juicy","jumbo","juror","kabob","karma","kebab","kitty","knelt","knoll","koala","kooky","kudos","ladle","lance","lanky","lapel","large","lasso","latch","legal","lemon","level","lilac","lilly","limes","limit","lingo","lived","liver","lucid","lunar","lurch","lusty","lying","macaw","magma","maker","mango","mangy","manly","manor","march","mardi","marry","mauve","maybe","mocha","molar","moody","morse","mossy","motor","motto","mouse","mousy","mouth","movie","mower","mulch","mumbo","mummy","mumps","mural","murky","mushy","music","musky","musty","nacho","nanny","nappy","nervy","never","niece","nifty","ninja","ninth","nutty","nylon","oasis","ocean","olive","omega","onion","onset","opium","other","otter","ought","ounce","outer","ovary","ozone","paced","pagan","pager","panda","panic","pants","paper","parka","party","pasta","pasty","patio","paver","payee","payer","pecan","penny","perch","perky","pesky","petal","petri","petty","phony","photo","plank","plant","plaza","pleat","pluck","poach","poise","poker","polar","polio","polka","poppy","poser","pouch","pound","power","press","pried","primp","print","prior","prism","prize","probe","prone","prong","props","proud","proxy","prude","prune","pulse","punch","pupil","puppy","purge","purse","pushy","quack","quail","quake","qualm","query","quiet","quill","quilt","quirk","quote","rabid","radar","radio","rally","ranch","rants","raven","reach","rebel","rehab","relax","relay","relic","remix","reply","rerun","reset","retry","reuse","rhyme","rigid","rigor","rinse","ritzy","rival","roast","robin","rocky","rogue","roman","rover","royal","rumor","runny","rural","sadly","saggy","saint","salad","salon","salsa","sandy","santa","sappy","sassy","satin","saucy","sauna","saved","savor","scale","scant","scarf","scary","scion","scoff","scone","scoop","scope","scorn","scrap","scuba","scuff","sedan","sepia","serve","setup","shack","shady","shaft","shaky","shale","shame","shank","shape","share","shawl","sheep","sheet","shelf","shell","shine","shiny","shirt","shock","shone","shore","shout","shove","shown","showy","shrug","shush","silly","siren","sixth","skied","skier","skies","skirt","skype","slain","slang","slate","sleek","sleep","sleet","slept","slick","slimy","slurp","slush","small","smell","smile","smirk","smite","smith","smock","smoky","snack","snare","snarl","sneak","sneer","snide","sniff","snore","snort","snout","snowy","snuff","speak","speed","spent","spied","spill","spilt","spiny","spoof","spool","spoon","spore","spout","spray","spree","sprig","squad","squid","stack","staff","stage","stamp","stand","stank","stark","stash","state","stays","steam","steed","steep","stick","stilt","stock","stoic","stoke","stole","stomp","stony","stood","stool","stoop","storm","stout","stove","straw","stray","strep","strum","strut","stuck","study","stump","stung","stunt","suave","sugar","suing","sushi","swarm","swear","sweat","sweep","swell","swept","swipe","swirl","swoop","swore","sworn","swung","syrup","tabby","tacky","talon","tamer","tarot","taste","tasty","taunt","thank","theft","theme","these","thigh","thing","think","thong","thorn","those","thumb","tiara","tibia","tidal","tiger","timid","trace","track","trade","train","traps","trash","treat","trend","trial","tried","trout","truce","truck","trump","truth","tubby","tulip","tummy","tutor","tweak","tweed","tweet","twerp","twice","twine","twins","twirl","tying","udder","ultra","uncle","uncut","unify","union","unlit","untie","until","unwed","unzip","upper","urban","usage","usher","usual","utter","valid","value","vegan","venue","venus","verse","vibes","video","viper","viral","virus","visor","vista","vixen","voice","voter","vowed","vowel","wafer","waged","wager","wages","wagon","waltz","watch","water","wharf","wheat","whiff","whiny","whole","widen","widow","width","wince","wired","wispy","woozy","worry","worst","wound","woven","wrath","wrist","xerox","yahoo","yeast","yield","yo-yo","yodel","yummy","zebra","zesty","zippy","able","acid","acre","acts","afar","aged","ahoy","aide","aids","ajar","aloe","alto","amid","anew","aqua","area","army","ashy","atom","atop","avid","awry","axis","barn","bash","bath","bats","blah","blip","blob","blog","blot","boat","body","boil","bolt","bony","book","boss","both","boxy","brim","bulb","bulk","bunt","bush","bust","buzz","cage","cake","calm","cane","cape","case","cash","chef","chip","chop","chug","city","clad","claw","clay","clip","coat","coil","coke","cola","cold","colt","coma","come","cone","cope","copy","cork","cost","cozy","crib","crop","crux","cube","cure","cusp","darn","dart","dash","data","dawn","dean","deck","deed","deem","defy","deny","dial","dice","dill","dime","dish","disk","dock","dole","dork","dose","dove","down","doze","drab","draw","drew","drum","duct","dude","duke","duly","dupe","dusk","dust","duty","each","eats","ebay","echo","edge","edgy","emit","envy","epic","even","evil","exes","exit","fade","fall","fame","fang","feed","feel","film","five","flap","fled","flip","flop","foam","foil","folk","font","food","fool","from","gala","game","gave","gawk","gear","geek","gift","glue","gnat","goal","goes","golf","gone","gong","good","goon","gore","gory","gout","gown","grab","gray","grew","grid","grip","grit","grub","gulf","gulp","guru","gush","guts","half","halt","hash","hate","hazy","heap","heat","huff","hula","hulk","hull","hunk","hurt","hush","icky","icon","idly","ipad","ipod","iron","item","java","jaws","jazz","jeep","jinx","john","jolt","judo","july","jump","june","jury","keep","kelp","kept","kick","kiln","kilt","king","kite","kiwi","knee","kung","lair","lake","lard","lark","lash","last","late","lazy","left","lego","lend","lens","lent","life","lily","limb","line","lint","lion","lisp","list","lung","lure","lurk","mace","malt","mama","many","math","mold","most","move","much","muck","mule","mute","mutt","myth","nail","name","nape","navy","neon","nerd","nest","next","oboe","ogle","oink","okay","omen","omit","only","onto","onyx","oops","ooze","oozy","opal","open","ouch","oval","oven","palm","pang","path","pelt","perm","peso","plod","plop","plot","plow","ploy","plug","plus","poem","poet","pogo","polo","pond","pony","pope","pork","posh","pout","pull","pulp","puma","punk","purr","putt","quit","race","rack","raft","rage","rake","ramp","rare","rash","ream","rely","reps","rice","ride","rift","rind","rink","riot","rise","risk","robe","romp","rope","rosy","ruby","rule","runt","ruse","rush","rust","saga","sage","said","sake","salt","same","sank","sash","scam","self","send","shed","ship","shun","shut","sift","silk","silo","silt","size","skid","slab","slam","slaw","sled","slip","slit","slot","slug","slum","smog","snap","snub","spew","spry","spud","spur","stem","step","stew","stir","such","suds","sulk","swab","swan","sway","taco","take","tall","tank","taps","task","that","thaw","thee","thud","thus","tidy","tile","till","tilt","tint","tiny","tray","tree","trio","turf","tusk","tutu","twig","tyke","unit","upon","used","user","veal","very","vest","veto","vice","visa","void","wake","walk","wand","wasp","wavy","wham","wick","wife","wifi","wilt","wimp","wind","wing","wipe","wiry","wise","wish","wolf","womb","woof","wool","word","work","xbox","yard","yarn","yeah","yelp","yoga","yoyo","zero","zips","zone","zoom","aim","art","bok","cod","cut","dab","dad","dig","dry","duh","duo","eel","elf","elk","elm","emu","fax","fit","foe","fog","fox","gab","gag","gap","gas","gem","guy","had","hug","hut","ice","icy","ion","irk","ivy","jab","jam","jet","job","jot","keg","lid","lip","map","mom","mop","mud","mug","nag","net","oaf","oak","oat","oil","old","opt","owl","pep","pod","pox","pry","pug","rug","rut","say","shy","sip","sly","tag","try","tug","tux","wad","why","wok","wow","yam","yen","yin","zap","zen","zit"]};var Hr=s(62052),qr=s.n(Hr);const jr=[{id:"not_available",label:"n/a",strength:0},{id:"very-weak",label:"Very weak",strength:1},{id:"weak",label:"Weak",strength:60},{id:"fair",label:"Fair",strength:80},{id:"strong",label:"Strong",strength:112},{id:"very-strong",label:"Very strong",strength:128}],Wr={mask_upper:{label:"A-Z",characters:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]},mask_lower:{label:"a-z",characters:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]},mask_digit:{label:"0-9",characters:["0","1","2","3","4","5","6","7","8","9"]},mask_char1:{label:"# $ % & @ ^ ~",characters:["#","$","%","&","@","^","~"]},mask_parenthesis:{label:"{ [ ( | ) ] }",characters:["{","(","[","|","]",")","}"]},mask_char2:{label:". , : ;",characters:[".",",",":",";"]},mask_char3:{label:"' \" `",characters:["'",'"',"`"]},mask_char4:{label:"/ \\ _ -",characters:["/","\\","_","-"]},mask_char5:{label:"< * + ! ? =",characters:["<","*","+","!","?","="]},mask_emoji:{label:"",characters:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]}},zr=["O","l","|","I","0","1"],Br=Object.values(Wr).flatMap((e=>e.characters)),Gr={evaluateMaxPasswordEntropy:e=>{const t=Object.entries(Wr).filter((([t])=>e[t])).reduce(((e,[t])=>[...e,...Wr[t].characters]),[]).filter((t=>!e.exclude_look_alike_chars||!zr.includes(t)));return Kr(e.length,t.length)},entropyPassword:(e="")=>{const t=(new(qr())).splitGraphemes(e);let s=0;for(const[e]of Object.entries(Wr)){const a=Wr[e];t.some((e=>a.characters.includes(e)))&&(s+=a.characters.length)}const a=new Set(t.filter((e=>!Br.includes(e))));return Kr(t.length,s+a.size)},entropyPassphrase:(e=0,t="")=>Kr(e,3*Vr["en-UK"].length)+Gr.entropyPassword(t),strength:(e=0)=>jr.reduce(((t,s)=>t?s.strength>t.strength&&e>=s.strength?s:t:s)),calculEntropy:Kr};function Kr(e,t){return e&&t?e*(Math.log(t)/Math.log(2)):0}const $r=["O","l","|","I","0","1"];function Zr(e,t){const s=new Uint32Array(1);window.crypto.getRandomValues(s);const a=s[0]/4294967296;return Math.floor(a*(t-e+1))+e}const Yr=function(e){const t=Object.entries(Wr),s=[];t.forEach((([t])=>{e[t]&&s.push(Wr[t])}));const a=e.length;if(!(s.length>0&&a>=e.min_length&&a<=e.max_length))return"";let n=[];var r;n=s.reduce(((e,t)=>[...e,...t.characters]),[]),e.exclude_look_alike_chars&&(n=(r=n)?r.reduce(((e,t)=>($r.includes(t)||e.push(t),e)),[]):r);let i="",o=0,l=0;const c=Math.floor(Gr.calculEntropy(a,n.length));do{let e="";for(let t=0;t<a;t++)e+=n[Zr(0,n.length-1)];const t=Gr.entropyPassword(e);t>l&&(i=e,l=t)}while(l<c&&o++<10);return i};const Jr=e=>{const t=e.words;if(!(t>=e.min_words&&t<=e.max_words))return"";const s=e.word_case,a=Vr["en-UK"];return Array.from({length:t},(()=>function(e,t){const s=()=>e[function(e,t){const s=new Uint32Array(1);window.crypto.getRandomValues(s);const a=s[0]/4294967296;return Math.floor(a*(t-0+1))+0}(0,e.length-1)];switch(t){case"lowercase":return s().toLowerCase();case"uppercase":return s().toUpperCase();case"camelcase":return(a=s()).charAt(0).toUpperCase()+a.slice(1);default:return s()}var a}(a,s))).join(e.word_separator)},Xr=function(e){const t={isPassphrase:!1};if(!e)return t;const s=Vr["en-UK"].reduce(((e,t)=>{const s=e.remainingSecret.replace(new RegExp(t,"g"),""),a=(e.remainingSecret.length-s.length)/t.length;return{numberReplacement:e.numberReplacement+a,remainingSecret:s}}),{numberReplacement:0,remainingSecret:e.toLowerCase()}),a=s.remainingSecret,n=s.numberReplacement-1;if(1===n)return-1===e.indexOf(a)||e.startsWith(a)||e.endsWith(a)?t:{numberWords:2,separator:a,isPassphrase:!0};if(0==a.length)return{numberWords:s.numberReplacement,separator:"",isPassphrase:!0};if(a.length%n!=0)return t;const r=a.length/n,i=a.substring(0,r),o=String(i).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1"),l=0===a.replace(new RegExp(o,"g"),"").length;return{numberWords:s.numberReplacement,separator:i,isPassphrase:l&&!e.startsWith(i)&&!e.endsWith(i)}},Qr=e=>{const t=e.default_generator;return"password"===t?Yr(e.password_generator_settings):"passphrase"===t?Jr(e.passphrase_generator_settings):void 0},ei=e=>{const{numberWords:t,separator:s,isPassphrase:a}=Xr(e);return a?Gr.entropyPassphrase(t,s):Gr.entropyPassword(e)},ti=class{constructor(e){this.port=e}async evaluateSecret(e){let t=!0,s=!0;try{t=await this.checkIfPasswordPowned(e)}catch(e){t=!1,s=!1}return{inDictionary:t,isPwnedServiceAvailable:s}}async checkIfPasswordPowned(e){return await this.port.request("passbolt.secrets.powned-password",e)>0}};class si extends a.PureComponent{static getRelativeEntropyPosition(e){return 100-99/(1+Math.pow(e/90,3))}formatEntropy(e){return(e=e||0).toFixed(1)}get relativeTargetEntropyRatio(){return si.getRelativeEntropyPosition(this.props.targetEntropy)}get targetEntropyPositionStyle(){return{left:`calc(${this.relativeTargetEntropyRatio}% - 0.6rem`}}get colorClassName(){return this.hasEntropy()?this.props.entropy>=this.props.targetEntropy?"reached":this.props.isMinimumEntropyRequired?"required":"recommended":""}get targetTooltipMessage(){return this.props.isMinimumEntropyRequired?this.props.t("Minimal requirement"):this.props.t("Minimal recommendation")}get currentEntropyTooltipMessage(){return a.createElement(a.Fragment,null,a.createElement(w.x6,null,"Entropy: ",this.formatEntropy(this.props.entropy)," / ",this.formatEntropy(this.props.targetEntropy)," bits"))}get passwordStrengthLabel(){if(!this.hasEntropy()&&!this.hasError())return a.createElement(w.x6,null,"Quality");const e=Gr.strength(this.props.entropy);return a.createElement(a.Fragment,null,e.label)}getProgresseBarStyle(e){return{width:`${si.getRelativeEntropyPosition(e)}%`}}hasEntropy(){return null!==this.props.entropy&&void 0!==this.props.entropy}hasError(){return this.props.error}render(){return a.createElement("div",{className:"password-complexity with-goal"},a.createElement("span",{className:"complexity-text"},a.createElement(fe,{message:this.currentEntropyTooltipMessage},this.passwordStrengthLabel," ",a.createElement(ge,{name:"info-circle"}))),a.createElement("span",{className:"progress"},a.createElement("span",{className:"progress-bar background"}),a.createElement("span",{className:`progress-bar target ${this.colorClassName}`,style:this.hasEntropy()?this.getProgresseBarStyle(this.props.targetEntropy):null}),a.createElement("span",{className:`progress-bar foreground ${this.colorClassName}`,style:this.hasEntropy()?this.getProgresseBarStyle(this.props.entropy):null}),a.createElement("span",{className:`target-entropy ${this.colorClassName}`,style:this.targetEntropyPositionStyle},a.createElement(fe,{message:this.targetTooltipMessage},a.createElement("span",{className:"tooltip-anchor"})))))}}si.defaultProps={isMinimumEntropyRequired:!0},si.propTypes={targetEntropy:l().number.isRequired,isMinimumEntropyRequired:l().bool.isRequired,entropy:l().number,error:l().bool,t:l().func};const ai=(0,w.CI)("common")(si);function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ni.apply(null,arguments)}const ri=a.createContext({getSettings:()=>{},findSettings:()=>{}});class ii extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{settings:null,findSettings:this.findSettings.bind(this),getSettings:this.getSettings.bind(this)}}async findSettings(){const e=await this.props.context.port.request("passbolt.user-passphrase-policies.find");this.setState({settings:e})}getSettings(){return this.state.settings}render(){return a.createElement(ri.Provider,{value:this.state},this.props.children)}}ii.propTypes={context:l().any,children:l().any,t:l().any};const oi=h((0,w.CI)("common")(ii));class li extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.isPwndProcessingPromise=null,this.bindEventHandlers(),this.createReferences()}get defaultState(){return{passphrase:"",passphraseEntropy:null,actions:{processing:!1}}}get areActionsAllowed(){return!this.isProcessing}get isValid(){const e={notInDictionary:!this.state.passphraseInDictionnary,enoughEntropy:this.isMinimumRequiredEntropyReached(this.state.passphraseEntropy)};return Object.values(e).every((e=>e))}get mustBeDisabled(){return!this.isValid||this.isProcessing}get isProcessing(){return this.state.actions.processing}bindEventHandlers(){this.handlePassphraseChange=this.handlePassphraseChange.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}createReferences(){this.passphraseInput=a.createRef()}async componentDidMount(){await this.props.userPassphrasePoliciesContext.findSettings(),this.focusOnPassphrase(),this.initPwnedPasswordService()}focusOnPassphrase(){this.passphraseInput.current.focus()}initPwnedPasswordService(){this.props.userPassphrasePoliciesContext.getSettings().external_dictionary_check&&(this.pownedService=new ti(this.props.context.port))}handlePassphraseChange(e){const t={passphrase:e.target.value,passphraseEntropy:null,passphraseInDictionnary:!1};if(!t.passphrase.length)return t.passphraseInDictionnary=!1,void this.setState(t);t.passphraseEntropy=ei(t.passphrase),this.setState(t)}async handleSubmit(e){e.preventDefault(),this.toggleProcessing(),this.isValid?(await this.evaluatePassphraseIsInDictionary(this.state.passphrase)||await this.generateGpgKey(),this.toggleProcessing()):this.toggleProcessing()}async evaluatePassphraseIsInDictionary(e){if(!this.pownedService)return!1;const t=(await this.pownedService.evaluateSecret(e)).inDictionary;return this.setState({passphraseInDictionnary:t}),t}async generateGpgKey(){try{await this.props.userSettingsContext.onUpdatePassphraseRequested(this.state.passphrase)}catch(e){this.onGpgKeyGeneratedFailure(e)}}onGpgKeyGeneratedFailure(e){this.toggleProcessing(),this.props.dialogContext.open(we,{error:e})}handleCancel(){this.props.userSettingsContext.onGoToIntroductionPassphraseRequested()}toggleProcessing(){const e={...this.state.actions,processing:!this.state.actions.processing};this.setState({actions:e})}toggleObfuscate(){this.setState({isObfuscated:!this.state.isObfuscated})}isMinimumRequiredEntropyReached(e){return e&&e>=this.props.userPassphrasePoliciesContext.getSettings().entropy_minimum}render(){const e=this.props.userPassphrasePoliciesContext.getSettings();if(!e)return null;const t=this.state.passphraseInDictionnary?0:this.state.passphraseEntropy;return a.createElement("div",{className:"grid grid-responsive-12 profile-passphrase"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col7 main-column"},a.createElement("form",{className:"enter-passphrase",onSubmit:this.handleSubmit},a.createElement("h3",null,a.createElement(w.x6,null,"Please enter a new passphrase")),a.createElement("div",{className:"form-content"},a.createElement("div",{className:"input-password-wrapper input required"},a.createElement(ma,{id:"passphrase-input",autoComplete:"off",inputRef:this.passphraseInput,value:this.state.passphrase,preview:!0,securityToken:this.props.context.userSettings.getSecurityToken(),onChange:this.handlePassphraseChange,disabled:!this.areActionsAllowed}),a.createElement(ai,{entropy:t,targetEntropy:e.entropy_minimum}),a.createElement(a.Fragment,null,this.state.passphraseInDictionnary&&a.createElement("div",{className:"invalid-passphrase error-message"},a.createElement(w.x6,null,"The passphrase is part of an exposed data breach."))))),a.createElement("div",{className:"submit-wrapper"},a.createElement("button",{className:"button cancel",type:"button",disabled:!this.areActionsAllowed,onClick:this.handleCancel},a.createElement(w.x6,null,"Cancel")),a.createElement(Vt,{primary:!0,disabled:this.mustBeDisabled,processing:this.isProcessing,value:this.props.t("Update")})))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Tips for choosing a good passphrase")),a.createElement("p",null,a.createElement(w.x6,null,"Make sure your passphrase is hard to guess but also that is long enough. For example you can use your favorite lyric from a song, grab the first couple of characters from the words in your favorite line."))))))}}li.propTypes={context:l().any,userSettingsContext:l().object,userPassphrasePoliciesContext:l().object.isRequired,dialogContext:l().any,t:l().func};const ci=h(k(gr((di=(0,w.CI)("common")(li),class extends a.Component{render(){return a.createElement(ri.Consumer,null,(e=>a.createElement(di,ni({userPassphrasePoliciesContext:e},this.props))))}}))));var di;class hi extends a.Component{componentDidMount(){this.initializePassphrase()}initializePassphrase(){this.userSettingsContext.onIntroductionPassphraseRequested()}get userSettingsContext(){return this.props.userSettingsContext}render(){switch(this.userSettingsContext.state){case Cr.PASSPHRASE_INTRODUCTION:return a.createElement(Dr,null);case Cr.PASSPHRASE_TO_PROVIDE_REQUESTED:return a.createElement(Mr,null);case Cr.PASSPHRASE_TO_PROVIDE_CHECKED:return a.createElement(ci,null);case Cr.PASSPHRASE_UPDATED:return a.createElement(Or,null);default:return a.createElement(Pr,null)}}}hi.propTypes={userSettingsContext:l().object};const mi=gr(hi);var pi=s(92994),ui=s(82885);class gi extends Error{constructor(e){super(e=e||"The external service is unavailable"),this.name="ExternalServiceUnavailableError"}}const Ci=gi;class bi extends Error{constructor(e){super(e=e||"An error occurred when requesting the external service."),this.name="ExternalServiceError"}}const Ei=bi;class fi{static async pwnedPasswords(e){if("string"!=typeof e){const e=new Error("Input password must be a string.");return Promise.reject(e)}const t=new ui.A("SHA-1","TEXT");t.update(e);const s=t.getHash("HEX"),a=s.substr(0,5),n=s.substr(5),r="https://api.pwnedpasswords.com/range/"+a;let i;try{i=await fetch(r)}catch(e){throw new Ci("pwnedpasswords API service is not available")}if(200!==i.status)throw new Ei(`Failed to request pwnedpasswords API: ${i.status}`);return(await i.text()).split("\n").map((e=>e.split(":"))).filter((e=>e[0].toLowerCase()===n)).map((e=>Number(e[1]))).shift()||0}}const yi=[{id:"not_available",label:"n/a",strength:0},{id:"very-weak",label:"very weak",strength:1},{id:"weak",label:"weak",strength:60},{id:"fair",label:"fair",strength:80},{id:"strong",label:"strong",strength:112},{id:"very-strong",label:"very strong",strength:128}],vi={alpha:{size:26,data:"abcdefghijklmnopqrstuvwxyz",pattern:/[a-z]/},uppercase:{size:26,data:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",pattern:/[A-Z]/},digit:{size:10,data:"0123456789",pattern:/[0-9]/},special:{size:32,data:"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",pattern:/[!"#$%&\'\(\)*+,\-./:;<=>?@\[\\\]^_`{|}~]/}};class ki{static randomRange(e,t){const s=new Uint32Array(1);window.crypto.getRandomValues(s);const a=s[0]/4294967296;return Math.floor(a*(t-e+1))+e}static getStrength(e){e=e||"";const t=Gr.entropyPassword(e);return yi.reduce(((e,s)=>e?s.strength>e.strength&&t>=s.strength?s:e:s))}static generate(e,t){let s="",a=[];e=e||18,t=t||["alpha","uppercase","digit","special"];for(const e in t)a=[...a,...vi[t[e]].data];let n=0;const r=Gr.calculEntropy(e,a.length);do{s="";for(let t=0;t<e;t++)s+=a[this.randomRange(0,a.length-1)]}while(Gr.entropyPassword(s)<r&&n++<10);return s}static async ispwned(e){return await fi.pwnedPasswords(e)>0}}const wi=/^[a-zA-Z0-9-_]{3}$/;class xi extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindEventHandlers(),this.createReferences()}componentDidMount(){this.getSecurityTokenFromLoggedInUser()}get defaultState(){return{background:"",code:"",actions:{processing:!1},hasBeenValidated:!1,errors:{emptyCode:!1,lengthCode:!1,invalidRegex:!1}}}getSecurityTokenFromLoggedInUser(){const e=this.props.context.userSettings.getSecurityToken().backgroundColor,t=this.props.context.userSettings.getSecurityToken().code;this.setState({background:e,code:t})}get defaultColors(){return["#f44336","#9c27b0","#3f51b5","#03a9f4","#009688","#8bc34a","#ffeb3b","#ff9800","#795548","#607d8b","#000000","#f6f6f6"]}get textColor(){const e=this.state.background.substr(1).match(/(\S{2})/g);return(299*parseInt(e[0],16)+587*parseInt(e[1],16)+114*parseInt(e[2],16))/1e3>125?"#000000":"#ffffff"}get securityTokenStyle(){return this.state.background?{backgroundColor:this.state.background,color:this.textColor}:void 0}get areActionsAllowed(){return!this.state.actions.processing}get isValid(){return Object.values(this.state.errors).every((e=>!e))}get isProcessing(){return this.state.actions.processing}bindEventHandlers(){this.handleSubmit=this.handleSubmit.bind(this),this.handleSelectColor=this.handleSelectColor.bind(this),this.handleRandomize=this.handleRandomize.bind(this),this.handleChangeCode=this.handleChangeCode.bind(this)}createReferences(){this.tokenCodeInputRef=a.createRef()}async handleSubmit(e){e.preventDefault(),await this.validate(),this.isValid&&(await this.toggleProcessing(),await this.save())}async handleSelectColor(e){this.areActionsAllowed&&(await this.selectColor(e),this.state.hasBeenValidated&&await this.validate())}handleRandomize(){this.randomizeCode(),this.randomizeColor()}async handleChangeCode(e){const t=e.target.value;await this.selectCode(t),this.state.hasBeenValidated&&await this.validate()}async save(){const e={color:this.state.background,textcolor:this.textColor,code:this.state.code};try{await this.props.userSettingsContext.onUpdateSecurityTokenRequested(e),await this.props.actionFeedbackContext.displaySuccess(this.props.t("The security token has been updated successfully")),await this.toggleProcessing()}catch(e){await this.onSaveFailure(e)}}async onSaveFailure(e){await this.toggleProcessing();const t={error:e};this.props.dialogContext.open(we,t)}async selectColor(e){e.hex!==this.state.background&&await this.setState({background:e.hex})}async selectCode(e){await this.setState({code:e})}async randomizeCode(){const e=ki.generate(3,["uppercase"]);await this.selectCode(e),this.state.hasBeenValidated&&await this.validate()}async randomizeColor(){let e;do{const t=parseInt(ki.generate(3,["digit"]))%this.defaultColors.length;e={hex:this.defaultColors[t]}}while(e.hex===this.state.background);await this.selectColor(e)}async validate(){const{code:e}=this.state,t=""===e.trim();if(t)return void await this.setState({hasBeenValidated:!0,errors:{emptyCode:t}});const s=3!==e.trim().length;if(s)return void await this.setState({hasBeenValidated:!0,errors:{lengthCode:s}});const a=(n=e.trim(),!new(Ln())(wi).test(n));var n;a?await this.setState({hasBeenValidated:!0,errors:{invalidRegex:a}}):await this.setState({hasBeenValidated:!0,errors:{}})}async toggleProcessing(){await this.setState({actions:{processing:!this.state.actions.processing}})}get hasErrors(){return this.state.errors&&(this.state.errors.emptyCode||this.state.errors.lengthCode||this.state.errors.invalidRegex)}render(){const e=this.isProcessing?"processing":"";return a.createElement("div",{className:"grid grid-responsive-12 profile-choose-security-token"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col7 main-column"},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("h3",null,a.createElement(w.x6,null,"Update the Security Token")),a.createElement("div",{className:`input-security-token input required ${this.hasErrors?"error":""} ${this.areActionsAllowed?"":"disabled"}`},a.createElement("div",{className:"label-required-inline"},a.createElement("label",{htmlFor:"security-token-text"},a.createElement(w.x6,null,"Security token")),a.createElement(fe,{message:this.props.t("Only alphanumeric, dash and underscore characters are accepted.")},a.createElement(ge,{name:"info-circle"}))),a.createElement("input",{id:"security-token-text",ref:this.tokenCodeInputRef,type:"text","aria-required":!0,className:"input text required",name:"text",maxLength:"3",style:this.securityTokenStyle,value:this.state.code,onChange:this.handleChangeCode,disabled:!this.areActionsAllowed}),a.createElement("input",{type:"hidden",id:"security-token-background-color",name:"security-token-background-color"}),a.createElement("input",{type:"hidden",id:"security-token-text-color",name:"security-token-text-color"}),a.createElement(pi.z0,{color:this.state.background,onChange:this.handleSelectColor,width:240,circleSize:24,circleSpacing:16,colors:this.defaultColors}),a.createElement("div",{className:"randomize-button-wrapper"},a.createElement("button",{type:"button",className:"randomize-button link "+(this.isProcessing?"disabled":""),disabled:this.isProcessing,onClick:this.handleRandomize},a.createElement(w.x6,null,"Randomize")))),this.state.hasBeenValidated&&a.createElement("div",{className:"input text"},this.state.errors.emptyCode&&a.createElement("div",{className:"empty-code error-message"},a.createElement(w.x6,null,"The security token code should not be empty.")),this.state.errors.lengthCode&&a.createElement("div",{className:"not-good-length-code error-message"},a.createElement(w.x6,null,"The security token code should be 3 characters long.")),this.state.errors.invalidRegex&&a.createElement("div",{className:"not-good-regex-code error-message"},a.createElement(w.x6,null,"The security token code should contains only alphanumeric, dash and underscore characters."))),a.createElement("div",{className:"submit-wrapper"},a.createElement("button",{className:`button primary medium ${e}`,type:"submit",disabled:this.isProcessing},a.createElement(w.x6,null,"Save"))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Why is this token needed?")),a.createElement("p",null,a.createElement(w.x6,null,"This security token will be displayed when your passphrase is requested, so you can verify quickly the form is coming from passbolt."),"",a.createElement(w.x6,null,"This will help protect you from ",a.createElement("a",{href:"https://en.wikipedia.org/wiki/Phishing",target:"_blank",rel:"noopener noreferrer"},"phishing attacks"),"."))))))}}xi.propTypes={context:l().object,userSettingsContext:l().object,dialogContext:l().any,actionFeedbackContext:l().object,t:l().func};const Si=h(k(_e(gr((0,w.CI)("common")(xi)))));var Ni=s(87583);class Ri extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{showErrorDetails:!1}}bindHandlers(){this.handleErrorDetailsToggle=this.handleErrorDetailsToggle.bind(this)}get errorData(){let e="No data available.";return this.props.error?(e+="Message \n----------------------\n",e+=this.props.error.message,e+="\n\n",this.props.error.data&&(e+="Data \n----------------------\n",e+=JSON.stringify(this.props.error.data),e+="\n\n"),e+="Stack \n----------------------\n",e+=this.props.error.stack,e):e}handleErrorDetailsToggle(){this.toggleErrorDetails()}toggleErrorDetails(){this.setState({showErrorDetails:!this.state.showErrorDetails})}get message(){return this.props.error.message||"No message."}render(){return a.createElement("div",{className:"accordion error-details"},a.createElement("div",{className:"accordion-header"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleErrorDetailsToggle},a.createElement(ge,{baseline:!0,name:this.state.showErrorDetails?"caret-down":"caret-right"}),a.createElement(w.x6,null,"Error details"))),this.state.showErrorDetails&&a.createElement("div",{className:"accordion-content"},a.createElement("div",{className:"input text"},a.createElement("label",{htmlFor:"show-error-details",className:"visuallyhidden"},this.props.error.message),a.createElement("textarea",{id:"show-error-details",defaultValue:`${this.errorData}`,readOnly:!0}))))}}Ri.propTypes={error:l().object};const Ii=(0,w.CI)("common")(Ri);class _i extends a.Component{render(){return a.createElement("span",{className:"svg-icon mobile-transfer"},a.createElement("svg",{width:"304",height:"250",viewBox:"0 0 304 250",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_1573_970258)"},a.createElement("path",{d:"M176.131 148.383L178.446 143.014H0.681641V148.192C0.681641 153.31 4.8455 157.474 9.96332 157.474H179.708L176.131 148.384V148.383Z",fill:"black"}),a.createElement("path",{d:"M209.986 0.416504H34.0147C26.9447 0.416504 21.1929 6.16835 21.1929 13.2384V140.171H180.453L183.097 138.736L175.671 126.717L176.212 118.699C176.381 116.211 177.444 113.87 179.207 112.108C180.934 110.381 183.185 109.361 185.531 109.14L178.642 101.617C175.676 98.186 175.62 93.1567 178.508 89.6607C180.786 86.902 184.438 85.7254 187.856 86.5644V37.704C187.856 32.5743 192.03 28.4002 197.16 28.4002H222.808V13.2398C222.808 6.16982 217.056 0.417978 209.986 0.417978V0.416504Z",fill:"black"}),a.createElement("path",{d:"M129.893 39.2993H124.632V57.7152H129.893V39.2993Z",fill:"white"}),a.createElement("path",{d:"M114.107 39.2993H119.37V44.5616V68.2399H100.952V62.979H114.107V39.2993Z",fill:"white"}),a.createElement("path",{d:"M108.846 39.2993H90.4302V57.7152H108.846V39.2993Z",fill:"white"}),a.createElement("path",{d:"M108.846 84.0269H90.4302V102.443H108.846V84.0269Z",fill:"white"}),a.createElement("path",{d:"M108.846 78.7645H90.4302V62.979H95.691V73.5022H108.846V78.7645Z",fill:"white"}),a.createElement("path",{d:"M135.155 102.441H114.107L114.108 97.179H129.894V84.0254H135.155V102.441Z",fill:"white"}),a.createElement("path",{d:"M153.572 89.2877H145.679V97.1804H153.572V102.443H140.417V84.0269H153.572V89.2877Z",fill:"white"}),a.createElement("path",{d:"M153.572 78.763H135.155V68.2399H129.894V78.763H119.371V84.0254H124.633V89.2862H114.108V73.5007H124.633V62.9775H140.419V73.5007H153.572V78.763Z",fill:"white"}),a.createElement("path",{d:"M153.572 62.979H145.679V68.2413H153.572V62.979Z",fill:"white"}),a.createElement("path",{d:"M153.572 39.2993H135.155V57.7152H153.572V39.2993Z",fill:"white"}),a.createElement("path",{d:"M148.311 44.5615H140.418V52.4543H148.311V44.5615Z",fill:"black"}),a.createElement("path",{d:"M103.584 89.2876H95.6909V97.1803H103.584V89.2876Z",fill:"black"}),a.createElement("path",{d:"M103.584 44.5615H95.6909V52.4543H103.584V44.5615Z",fill:"black"}),a.createElement("path",{d:"M302.537 248.442L284.761 197.945V148.697L274.417 115.186L268.298 108.338L265.682 99.4283C264.942 96.9055 262.361 95.3956 259.8 95.9869C257.956 96.413 256.514 97.8491 256.082 99.6922L255.455 102.364V115.186L259.41 123.345L262.531 140.981L255.455 135.234",stroke:"var(--icon-color)",strokeWidth:"2.92532",strokeMiterlimit:"10",strokeLinecap:"round"}),a.createElement("path",{d:"M243.965 248.442L241.343 230.29L204.042 176.79",stroke:"var(--icon-color)",strokeWidth:"2.92532",strokeMiterlimit:"10",strokeLinecap:"round"}),a.createElement("path",{d:"M187.33 131.04L191.075 126.322V113.478L189.696 112.812C186.949 111.485 183.664 112.04 181.507 114.196C180.28 115.423 179.54 117.052 179.423 118.782L178.95 125.797L187.33 139.362",stroke:"var(--icon-color)",strokeWidth:"2.92532",strokeMiterlimit:"10",strokeLinecap:"round"}),a.createElement("path",{d:"M191.075 91.1982L187.847 89.681C185.405 88.7845 182.664 89.5247 181.009 91.5299C179.105 93.836 179.142 97.1786 181.097 99.4404L191.075 110.334",stroke:"var(--icon-color)",strokeWidth:"2.92532",strokeMiterlimit:"10",strokeLinecap:"round"}),a.createElement("path",{d:"M186.421 155.68L192.974 150.699L194.633 146.777C195.388 144.992 195.116 142.936 193.92 141.409C192.315 139.356 189.462 138.765 187.172 140.008L181.964 142.834L179.605 148.308L183.537 158.3L191.075 163.804",stroke:"var(--icon-color)",strokeWidth:"2.92532",strokeMiterlimit:"10",strokeLinecap:"round"}),a.createElement("path",{d:"M249.286 31.4058H197.244C193.836 31.4058 191.075 34.1674 191.075 37.5749V139.538C192.17 139.825 193.179 140.461 193.92 141.409C195.116 142.936 195.389 144.992 194.633 146.777L192.974 150.699L191.075 152.143V170.621C191.075 174.028 193.836 176.79 197.244 176.79H249.286C252.694 176.79 255.455 174.028 255.455 170.621V37.5749C255.455 34.1674 252.694 31.4058 249.286 31.4058V31.4058Z",fill:"black"}),a.createElement("path",{d:"M249.286 31.4058H197.244C193.836 31.4058 191.075 34.1674 191.075 37.5749V139.538C192.17 139.825 193.179 140.461 193.92 141.409C195.116 142.936 195.389 144.992 194.633 146.777L192.974 150.699L191.075 152.143V170.621C191.075 174.028 193.836 176.79 197.244 176.79H249.286C252.694 176.79 255.455 174.028 255.455 170.621V37.5749C255.455 34.1674 252.694 31.4058 249.286 31.4058V31.4058Z",stroke:"white",strokeWidth:"0.836015",strokeMiterlimit:"10"}),a.createElement("path",{d:"M186.421 155.68L192.974 150.699L194.633 146.777C195.388 144.992 195.116 142.936 193.92 141.409C192.315 139.356 189.462 138.765 187.172 140.008L181.964 142.834L179.605 148.308L183.537 158.3",stroke:"var(--icon-color)",strokeWidth:"2.92532",strokeMiterlimit:"10",strokeLinecap:"round"}),a.createElement("path",{d:"M204.351 61.8384H214.787V72.2746H204.351V61.8384ZM211.806 69.2932V64.8212H207.334V69.2932H211.806Z",fill:"white"}),a.createElement("path",{d:"M229.695 61.8384H240.131V72.2746H229.695V61.8384ZM237.15 69.2932V64.8212H232.678V69.2932H237.15Z",fill:"white"}),a.createElement("path",{d:"M204.351 87.1831H214.787V97.6193H204.351V87.1831ZM211.806 94.6365V90.1645H207.334V94.6365H211.806Z",fill:"white"}),a.createElement("path",{d:"M217.769 94.6365H226.714V87.1831H229.695V97.6193H217.769V94.6379V94.6365Z",fill:"white"}),a.createElement("path",{d:"M232.678 87.1826H240.132V90.164H235.66V94.636H240.132V97.6173H232.678V87.1812V87.1826Z",fill:"white"}),a.createElement("path",{d:"M204.351 75.2559H207.332V81.2186H214.786V84.1999H204.35V75.2544L204.351 75.2559Z",fill:"white"}),a.createElement("path",{d:"M217.769 81.2186H223.733V75.2559H232.678V81.2186H240.132V84.1999H229.695V78.2372H226.714V84.1999H220.751V87.1812H223.733V90.1626H217.769V81.2171V81.2186Z",fill:"white"}),a.createElement("path",{d:"M235.66 75.2559V78.2372H240.132V75.2559H235.66Z",fill:"white"}),a.createElement("path",{d:"M223.733 61.8384V72.2746H226.714V61.8384H223.733Z",fill:"white"}),a.createElement("path",{d:"M210.314 75.2559H217.769V61.8384H220.75V64.8197V78.2372H210.314V75.2559Z",fill:"white"}),a.createElement("path",{d:"M197.931 70.5114V58.3427C197.931 56.4009 199.505 54.8262 201.447 54.8262H213.616",stroke:"white",strokeWidth:"0.836015",strokeMiterlimit:"10",strokeLinecap:"round"}),a.createElement("path",{d:"M230.866 54.8262H243.034C244.976 54.8262 246.551 56.4009 246.551 58.3427V70.5114",stroke:"white",strokeWidth:"0.836015",strokeMiterlimit:"10",strokeLinecap:"round"}),a.createElement("path",{d:"M246.552 88.9448V101.113C246.552 103.055 244.977 104.63 243.035 104.63H230.867",stroke:"white",strokeWidth:"0.836015",strokeMiterlimit:"10",strokeLinecap:"round"}),a.createElement("path",{d:"M213.616 104.632H201.447C199.505 104.632 197.931 103.057 197.931 101.115V88.9468",stroke:"white",strokeWidth:"0.836015",strokeMiterlimit:"10",strokeLinecap:"round"}),a.createElement("path",{d:"M178.446 143.013H0.681641V148.191C0.681641 153.309 4.8455 157.473 9.96332 157.473H179.708",stroke:"white",strokeWidth:"0.836015",strokeMiterlimit:"10"}),a.createElement("path",{d:"M222.808 28.3992V13.2403C222.808 6.1703 217.056 0.418457 209.986 0.418457H34.0147C26.9447 0.418457 21.1929 6.1703 21.1929 13.2403V140.172H180.453",stroke:"white",strokeWidth:"0.836015",strokeMiterlimit:"10"})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1573_970258"},a.createElement("rect",{width:"303.736",height:"249.905",fill:"white",transform:"translate(0.26416)"})))))}}const Di=_i,Ti="https required",Pi="start",Ai="in progress",Mi="complete",Ui="cancel",Fi="error";class Li extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.timeout=void 0,this.request=0,this.bindHandlers()}get defaultState(){return{step:this.isRunningUnderHttps?Pi:Ti,page:0,processing:!1,qrCodes:void 0,debug:!0,error:void 0,showErrorDetails:!1,transferDto:void 0}}get user(){return this.context.loggedInUser}get translate(){return this.props.t}get domain(){return this.context.userSettings.getTrustedDomain()}bindHandlers(){this.handleClickStart=this.handleClickStart.bind(this),this.handleClickCancel=this.handleClickCancel.bind(this),this.handleClickDone=this.handleClickDone.bind(this)}async handleClickStart(){try{await this.toggleProcessing(),await this.createTransfer(),await this.toggleProcessing()}catch(e){return"UserAbortsOperationError"===e.name?this.handleTransferCancel():this.handleTransferError(e)}}async buildFirstQrCode(e,t,s){if(!e)throw new Error(this.translate("Server response is empty."));if(e.total_pages!==t||e.hash!==s){const a=new Error(this.translate("Server response does not match initial request."));throw a.data={transferDto:e,totalPages:t,hash:s},a}if(!e.authentication_token||!e.authentication_token.token)throw new Error(this.translate("Authentication token is missing from server response."));const a=this.getTransferMetadataDataAsString(e),n=this.stringToSlices(a,0);if(!n||0===n.length)throw new Error(this.translate("Sorry, it is not possible to proceed. The first QR code is empty."));if(n.length>1)throw new Error(this.translate("Sorry, it is not possible to proceed. The first QR code is too big."));return await this.getQrCode(n[0])}getTransferMetadataDataAsString(e){return JSON.stringify({transfer_id:e.id,user_id:this.user.id,domain:this.domain,total_pages:e.total_pages,hash:e.hash,authentication_token:e.authentication_token.token})}async getTransferDataAsString(){const e=await this.getFingerprint(),t=await this.getPrivateKey();return JSON.stringify({user_id:this.user.id,fingerprint:e,armored_key:t})}async getTransferHash(e){return await async function(e){if(!e||"string"!=typeof e)throw new Error("SHA-512 require a non empty string.");const t=(new TextEncoder).encode(e),s=await crypto.subtle.digest("SHA-512",t);return Array.from(new Uint8Array(s)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(e)}async buildQrCodes(e){const t=this.stringToSlices(e,1),s=[];for(let e=0;e<t.length;e++){const a=await this.getQrCode(t[e]);s.push(a)}return s}stringToSlices(e,t){const s=[],a=1462,n=Math.ceil(e.length/a);if(n>255)throw new Error("Cannot transfer the data, the private key is too big.");void 0===t&&(t=0);for(let r=0;r<n;r++){const n=t+r,i=1..toString(16),o=n.toString(16).padStart(2,"0"),l=new Uint8ClampedArray([i.charCodeAt(0),o.charCodeAt(0),o.charCodeAt(1)]),c=0===r?0:r*a;let d=0===r?a:a*(r+1);d=d>e.length?e.length:d;const h=e.slice(c,d),m=this.str2bytes(h);s[r]=Uint8ClampedArray.from([...l,...m])}return s}str2bytes(e){const t=new Uint8ClampedArray(e.length);for(let s=0,a=e.length;s<a;s++)t[s]=e.charCodeAt(s);return t}async getQrCode(e){try{const t=(new TextDecoder).decode(e);return await Ni.toDataURL([{data:t,mode:"byte"}],{version:27,errorCorrectionLevel:"L",type:"image/jpeg",quality:1,margin:4})}catch(e){this.handleError(e)}}async getPrivateKey(){return await this.context.port.request("passbolt.keyring.get-private-key")}async getFingerprint(){const e=await this.context.port.request("passbolt.keyring.get-public-key-info-by-user",this.user.id);if(!e||!e.fingerprint)throw new Error("The user fingerprint is not set.");return e.fingerprint}async createTransfer(){const e=await this.getTransferDataAsString(),t=await this.getTransferHash(e),s=await this.buildQrCodes(e),a=s.length+1;try{const e={total_pages:a,hash:t},n=await this.context.port.request("passbolt.mobile.transfer.create",e),r=await this.buildFirstQrCode(n,a,t);s.unshift(r),this.setState({qrCodes:s,step:"in progress",page:0,transferDto:n},(()=>{this.setInterval()}))}catch(e){this.handleError(e)}}async getUpdatedTransfer(){let e;try{this.request=1,e=await this.context.port.request("passbolt.mobile.transfer.get",this.state.transferDto.id),this.request=0}catch(e){return void await this.handleTransferError(e)}if(e)switch(e.status){case Pi:break;case Ai:e.current_page!==this.state.page&&await this.handleTransferUpdated(e);break;case Mi:await this.handleTransferComplete();break;case Fi:await this.handleTransferError();break;case Ui:await this.handleTransferCancelled();break;default:await this.handleTransferError(new Error("Unsupported status"))}}async handleTransferUpdated(e){this.setState({transferDto:e,step:Ai,page:e.current_page})}async handleTransferCancel(){await this.toggleProcessing(),this.clearInterval();try{if(this.state.transferDto&&this.state.transferDto!==Ui){const e={id:this.state.transferDto.id,status:Ui};await this.context.port.request("passbolt.mobile.transfer.update",e)}}catch(e){console.error(e)}this.setState(this.defaultState)}async handleTransferCancelled(){this.clearInterval();const e=this.defaultState;e.step=Ui,this.setState(e)}async handleTransferComplete(){this.clearInterval();const e=this.defaultState;e.step=Mi,this.setState(e)}async handleTransferError(e){if(this.clearInterval(),!e){const t=this.translate("The transfer was cancelled because the other client returned an error.");e=new Error(t)}this.handleError(e)}componentWillUnmount(){this.clearInterval()}setInterval(){this.timeout=window.setInterval((()=>{0===this.request&&this.getUpdatedTransfer()}),333)}clearInterval(){this.timeout&&(window.clearInterval(this.timeout),this.timeout=null),this.request=0}async handleClickCancel(){this.handleTransferCancel()}async handleClickDone(){this.clearInterval(),this.setState(this.defaultState)}async toggleProcessing(){const e=this.state.processing;return new Promise((t=>{this.setState({processing:!e},t())}))}handleError(e){console.error(e),this.setState({step:Fi,error:e})}getCurrentQrCodeSrc(){return void 0===this.state.qrCodes[this.state.page]?"":this.state.qrCodes[this.state.page]}get isRunningUnderHttps(){const e=this.props.context.userSettings.getTrustedDomain();return"https:"===new URL(e).protocol}render(){const e=this.state.processing?"processing":"";return a.createElement("div",{className:"grid grid-responsive-12 profile-mobile-transfer"},a.createElement("div",{className:"row"},this.state.step===Pi&&a.createElement(a.Fragment,null,a.createElement("div",{className:"profile col6 main-column mobile-transfer-step-start"},a.createElement("h3",null,a.createElement(w.x6,null,"Welcome to the mobile app setup")),a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"Download the mobile app")),a.createElement("p",null,a.createElement(w.x6,null,"Passbolt is available on AppStore & PlayStore")),a.createElement("a",{className:"app-store",href:"https://apps.apple.com/lv/app/passbolt-password-manager/id1569629432",target:"_blank",rel:"noopener noreferrer"}),a.createElement("a",{className:"play-store",href:"https://play.google.com/store/apps/details?id=com.passbolt.mobile.android",target:"_blank",rel:"noopener noreferrer"}),a.createElement("h4",null,a.createElement(w.x6,null,"Transfer your account key")),a.createElement("div",{className:"transfer-account"},a.createElement(Di,null),a.createElement("div",{className:"submit-wrapper"},a.createElement("p",null,a.createElement(w.x6,null,"Click here to start once the mobile application is installed and opened on your phone and you are ready to scan QR codes.")),a.createElement("button",{type:"button",className:`button primary ${e}`,role:"button",onClick:this.handleClickStart},a.createElement(w.x6,null,"Start"))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Get started in 5 easy steps")),a.createElement("p",null,a.createElement(w.x6,null,"1. Install the application from the store.")),a.createElement("p",null,a.createElement(w.x6,null,"2. Open the application on your phone.")),a.createElement("p",null,a.createElement("strong",null,a.createElement(w.x6,null,"3. Click start, here, in your browser."))),a.createElement("p",null,a.createElement(w.x6,null,"4. Scan the QR codes with your phone.")),a.createElement("p",null,a.createElement(w.x6,null,"5. And you are done!")),a.createElement("a",{className:"button",href:"https://help.passbolt.com/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation")))))),this.state.step===Ai&&a.createElement(a.Fragment,null,a.createElement("div",{className:"profile col6 main-column mobile-transfer-step-in-progress"},a.createElement("h3",null,a.createElement(w.x6,null,"Transfer in progress...")),a.createElement("img",{id:"qr-canvas",style:{width:"325px",height:"325px"},src:this.getCurrentQrCodeSrc()}),a.createElement("div",{className:"submit-wrapper"},a.createElement("button",{className:`button cancel ${e}`,type:"button",onClick:this.handleClickCancel},a.createElement(w.x6,null,"Cancel")))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Get started in 5 easy steps")),a.createElement("p",null,a.createElement(w.x6,null,"1. Install the application from the store.")),a.createElement("p",null,a.createElement(w.x6,null,"2. Open the application on your phone.")),a.createElement("p",null,a.createElement(w.x6,null,"3. Click start, here, in your browser.")),a.createElement("p",null,a.createElement(w.x6,null,a.createElement("strong",null,"4. Scan the QR codes with your phone."))),a.createElement("p",null,a.createElement(w.x6,null,"5. And you are done!")),a.createElement("a",{className:"button",href:"https://help.passbolt.com/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation")))))),this.state.step===Mi&&a.createElement(a.Fragment,null,a.createElement("div",{className:"profile main-column col6 mobile-transfer-step-complete"},a.createElement("h3",null,a.createElement(w.x6,null,"Transfer complete!")),a.createElement("div",{className:"feedback-card"},a.createElement(Fr,{name:"success"}),a.createElement("div",{className:"additional-information"},a.createElement("p",null,a.createElement(w.x6,null,"You are now ready to continue the setup on your phone."),"",a.createElement(w.x6,null,"You can restart this process if you want to configure another phone.")),a.createElement("div",{className:"submit-wrapper"},a.createElement("button",{className:`button primary ${e}`,type:"button",onClick:this.handleClickDone},a.createElement(w.x6,null,"Configure another phone")))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Get started in 5 easy steps")),a.createElement("p",null,a.createElement(w.x6,null,"1. Install the application from the store.")),a.createElement("p",null,a.createElement(w.x6,null,"2. Open the application on your phone.")),a.createElement("p",null,a.createElement(w.x6,null,"3. Click start, here, in your browser.")),a.createElement("p",null,a.createElement(w.x6,null,"4. Scan the QR codes with your phone.")),a.createElement("p",null,a.createElement(w.x6,null,a.createElement("strong",null,"5. And you are done!"))),a.createElement("a",{className:"button",href:"https://help.passbolt.com/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation")))))),this.state.step===Ui&&a.createElement(a.Fragment,null,a.createElement("div",{className:"profile main-column col6 mobile-transfer-step-error"},a.createElement("h3",null,a.createElement(w.x6,null,"The operation was cancelled.")),a.createElement("div",{className:"feedback-card"},a.createElement(Fr,{name:"error"}),a.createElement("div",{className:"additional-information"},a.createElement("p",null,a.createElement(w.x6,null,"If there was an issue during the transfer, either the operation was cancelled on the mobile side, or the authentication token expired."),"",a.createElement(w.x6,null,"Please try again later or contact your administrator.")),a.createElement("div",{className:"submit-wrapper"},a.createElement("button",{className:`button primary ${e}`,type:"button",onClick:this.handleClickStart},a.createElement(w.x6,null,"Restart")))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Need some help?")),a.createElement("p",null,a.createElement(w.x6,null,"Contact your administrator with details about what went wrong.")),a.createElement("p",null,a.createElement(w.x6,null,"Alternatively you can also get in touch with support on community forum or via the paid support channels.")),a.createElement("a",{className:"button",href:"https://help.passbolt.com/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Help site")))))),this.state.step===Fi&&a.createElement(a.Fragment,null,a.createElement("div",{className:"profile col6 main-column mobile-transfer-step-error"},a.createElement("h3",null,a.createElement(w.x6,null,"Oops, something went wrong")),a.createElement("div",{className:"feedback-card"},a.createElement(Fr,{name:"error"}),a.createElement("div",{className:"additional-information"},a.createElement("p",null,a.createElement(w.x6,null,"There was an issue during the transfer. Please try again later or contact your administrator.")),a.createElement("div",{className:"submit-wrapper"},a.createElement("button",{className:`button primary ${e}`,type:"button",onClick:this.handleClickStart},a.createElement(w.x6,null,"Restart"))))),a.createElement(Ii,{error:this.state.error})),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Need some help?")),a.createElement("p",null,a.createElement(w.x6,null,"Contact your administrator with the error details.")),a.createElement("p",null,a.createElement(w.x6,null,"Alternatively you can also get in touch with support on community forum or via the paid support channels.")),a.createElement("a",{className:"button",href:"https://help.passbolt.com/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Help site")))))),this.state.step===Ti&&a.createElement(a.Fragment,null,a.createElement("div",{className:"profile col6 main-column mobile-transfer-step-https-required"},a.createElement("h3",null,a.createElement(w.x6,null,"Mobile Apps")),a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"Sorry the Mobile app setup feature is only available in a secure context (HTTPS).")),a.createElement("p",null,a.createElement(w.x6,null,"Please contact your administrator to fix this issue."))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Need some help?")),a.createElement("p",null,a.createElement(w.x6,null,"Contact your administrator with the error details.")),a.createElement("p",null,a.createElement(w.x6,null,"Alternatively you can also get in touch with support on community forum or via the paid support channels.")),a.createElement("a",{className:"button",href:"https://help.passbolt.com/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Help site"))))))))}}Li.contextType=m,Li.propTypes={context:l().object,dialogContext:l().object,userSettingsContext:l().object,t:l().func,i18n:l().any};const Oi=h(k(gr((0,w.CI)("common")(Li))));class Vi extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{status:null,processing:!1}}bindCallbacks(){this.handleSubmit=this.handleSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.close=this.close.bind(this)}componentDidMount(){"opt-in"===this.props.organizationPolicy.policy?this.setState({status:"rejected"}):this.setState({status:"approved"})}toggleProcessing(){this.setState({processing:!this.state.processing})}get isProcessing(){return this.state.processing}async handleSubmit(e){e.preventDefault(),this.toggleProcessing();const t={status:this.state.status};try{await this.props.context.port.request("passbolt.account-recovery.save-user-settings",t),this.props.accountRecoveryContext.setUserAccountRecoveryStatus(this.state.status);const e=await this.props.context.port.request("passbolt.users.find-logged-in-user",!0);this.props.context.setContext({loggedInUser:e}),this.props.actionFeedbackContext.displaySuccess(this.translate("The account recovery subscription setting has been updated.")),this.close()}catch(e){if(this.toggleProcessing(),"UserAbortsOperationError"===e.name)return;console.error(e),this.handleError(e)}}close(){this.props.onClose(),"/app/settings/account-recovery"!==this.props.location.pathname&&this.props.history.push("/app/settings/account-recovery")}handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.setState({[a]:s})}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}canReject(){return"mandatory"!==this.props.organizationPolicy.policy}formatFingerprint(e){const t=(e=e||"").toUpperCase().replace(/.{4}/g,"$& ");return a.createElement(a.Fragment,null,t.substr(0,24),a.createElement("br",null),t.substr(25))}get requestorRole(){return this.props.context.roles.find((e=>e.id===this.requestor.role_id)).name}get requestor(){return this.props.organizationPolicy.creator}get requestorName(){return a.createElement(a.Fragment,null,this.requestor.profile.first_name," ",this.requestor.profile.last_name," (",this.requestor.username,")")}get date(){return this.props.organizationPolicy.modified}get type(){return"mandatory"===this.props.organizationPolicy.policy?"Mandatory":"opt-out"===this.props.organizationPolicy.policy?"Recommended":"Optional"}get translate(){return this.props.t}render(){const e=Yt(this.requestor);return a.createElement(ve,{title:`${this.translate("Recovery")} (${this.type})`,onClose:this.close,disabled:this.state.processing,className:"recovery-account-policy-dialog"},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("div",{className:"form-content"},a.createElement("p",null,a.createElement(w.x6,null,"It is possible and recommended to share securely your recovery kit with your organization recovery contacts."),"",a.createElement(w.x6,null,"They will be able to help you in case you lose it.")),a.createElement("ul",null,a.createElement("li",{className:"usercard-detailed-col-2"},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement(fe,{message:this.formatFingerprint(this.requestor.gpgkey.fingerprint),direction:"bottom"},a.createElement("span",{className:"name-with-tooltip"},this.requestorName)),"",a.createElement("span",{className:"name"},a.createElement(w.x6,null,"requested this operation")),a.createElement("div",{className:"subinfo light"},a.createElement("span",{className:"dateTimeAgo"},nt(this.date,this.props.t,this.props.context.locale)),a.createElement("span",{className:"chips-group"},a.createElement("span",{className:`chips user-status ${e}`},this.props.t(e)),a.createElement("span",{className:`chips user-role ${this.requestorRole}`},this.requestorRole))))),a.createElement(Gt,{user:this.requestor,baseUrl:this.props.context.userSettings.getTrustedDomain()}))),a.createElement("div",{className:"radiolist-alt"},this.canReject()&&a.createElement("div",{className:"input radio "+("rejected"===this.state.status?"checked":"")},a.createElement("input",{type:"radio",value:"rejected",onChange:this.handleInputChange,name:"status",checked:"rejected"===this.state.status,id:"statusRecoverAccountReject",disabled:this.isProcessing}),a.createElement("label",{htmlFor:"statusRecoverAccountReject"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Reject")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"I do not want to share a copy of my private key & passphrase with my organization recovery contacts.")))),a.createElement("div",{className:"input radio "+("approved"===this.state.status?"checked":"")},a.createElement("input",{type:"radio",value:"approved",onChange:this.handleInputChange,name:"status",checked:"approved"===this.state.status,id:"statusRecoverAccountAccept",disabled:this.isProcessing}),a.createElement("label",{htmlFor:"statusRecoverAccountAccept"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Accept")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"I agree to share securely a copy of my private key & passphrase with my organization recovery contacts.")))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.passbolt.com/docs/user/settings/browser/account-recovery-setup/",className:"button button-left "+(this.isProcessing?"disabled":""),disabled:this.isProcessing},a.createElement(w.x6,null,"Learn more")),a.createElement(qt,{disabled:this.isProcessing,onClick:this.close}),a.createElement(Vt,{value:this.translate("Save"),disabled:this.isProcessing,processing:this.isProcessing}))))}}Vi.propTypes={context:l().any,accountRecoveryContext:l().any,dialogContext:l().object,organizationPolicy:l().object,actionFeedbackContext:l().object,onClose:l().func,history:l().object,location:l().object,t:l().func};const Hi=(0,i.y)(h(_e(da(k((0,w.CI)("common")(Vi))))));class qi extends a.Component{async componentDidMount(){await this.handleRoute()}async handleRoute(){if(this.props.accountRecoveryContext.getPolicy()!==la.POLICY_DISABLED)return this.props.accountRecoveryContext.getUserAccountRecoverySubscriptionStatus()===la.STATUS_APPROVED?(this.showAlreadyEnrolledFeedback(),void this.redirectToSettingsPage()):void this.props.dialogContext.open(Hi,{organizationPolicy:this.props.accountRecoveryContext.getOrganizationPolicy()});this.redirectToSettingsPage()}async showAlreadyEnrolledFeedback(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("You already enrolled to the account recovery program"))}redirectToSettingsPage(){this.props.history.push("/app/settings/account-recovery")}render(){return null}}qi.propTypes={dialogContext:l().any,accountRecoveryContext:l().object,history:l().object,actionFeedbackContext:l().any,t:l().func};const ji=(0,i.y)(k(da(_e((0,w.CI)("common")(qi)))));class Wi extends a.Component{constructor(e){super(e),this.bindCallbacks()}async componentDidMount(){await this.props.accountRecoveryContext.loadAccountRecoveryPolicy()}bindCallbacks(){this.handleReviewClick=this.handleReviewClick.bind(this)}hasNotApprovedStatus(){return"approved"!==this.props.accountRecoveryContext.status}formatFingerprint(e){return e?e.toUpperCase().replace(/.{4}(?=.)/g,"$& "):""}isStatusApproved(){return"approved"===this.props.accountRecoveryContext.status}handleReviewClick(){this.props.dialogContext.open(Hi,{organizationPolicy:this.props.accountRecoveryContext.getOrganizationPolicy()})}get requestor(){return this.props.accountRecoveryContext.getRequestor()}get requestorRole(){return this.props.context.roles.find((e=>e.id===this.requestor.role_id)).name}get requestorName(){return a.createElement(a.Fragment,null,this.requestor.profile.first_name," ",this.requestor.profile.last_name," (",this.requestor.username,")")}get requestorFingerprint(){const e=this.requestor;return e&&e.gpgkey.fingerprint}get requestedDate(){return this.props.accountRecoveryContext.getRequestedDate()}get isAccountRecoveryFeatureEnabled(){return"disabled"!==this.policy}get policy(){return this.props.accountRecoveryContext.getPolicy()}get isReady(){return this.props.accountRecoveryContext.isReady()}get translate(){return this.props.t}render(){const e=Yt(this.requestor);return a.createElement(a.Fragment,null,this.props.context.loggedInUser&&this.props.accountRecoveryContext.getOrganizationPolicy()&&a.createElement(i.qh,{exact:!0,path:"/app/settings/account-recovery/edit",component:ji}),a.createElement("div",{className:"grid grid-responsive-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col8 account-recovery-profile main-column"},this.isReady&&this.isAccountRecoveryFeatureEnabled&&a.createElement(a.Fragment,null,a.createElement("h3",null,a.createElement(w.x6,null,"Account Recovery")),a.createElement("p",null,a.createElement(w.x6,null,"It is possible to share securely your recovery kit with the administrator."),"",a.createElement(w.x6,null,"They will be able to help you in case you lose it."),"",a.createElement(w.x6,null,"Otherwise, you may lose access to your data.")),a.createElement("div",{className:"account-recovery-status"},a.createElement("div",{className:"account-recovery-review"},a.createElement("p",{className:"status-wrapper"},a.createElement(w.x6,null,"Status"),":",a.createElement("span",{className:`account-recovery-hints ${this.props.accountRecoveryContext.status}`}),a.createElement("span",{className:"status"},this.props.accountRecoveryContext.status)),this.hasNotApprovedStatus()&&!this.isStatusApproved()&&a.createElement("button",{type:"button",className:"button primary",onClick:this.handleReviewClick},a.createElement(w.x6,null,"Review"))),this.hasNotApprovedStatus()&&a.createElement("ul",null,a.createElement("li",{className:"usercard-detailed-col-2"},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement("div",null,a.createElement(fe,{message:this.formatFingerprint(this.requestorFingerprint),direction:"bottom"},a.createElement("span",{className:"name-with-tooltip"},this.requestorName)),"",a.createElement("span",{className:"name"},a.createElement(w.x6,null,"requested this operation"))),a.createElement("div",{className:"subinfo light"},a.createElement("span",{className:"dateTimeAgo"},nt(this.requestedDate,this.props.t,this.props.context.locale)),a.createElement("span",{className:"chips-group"},a.createElement("span",{className:`chips user-status ${e}`},this.props.t(e)),a.createElement("span",{className:`chips user-role ${this.requestorRole}`},this.requestorRole))))),a.createElement(Gt,{user:this.requestor,baseUrl:this.props.context.userSettings.getTrustedDomain()}))))),this.isReady&&!this.isAccountRecoveryFeatureEnabled&&a.createElement(a.Fragment,null,a.createElement("h3",null,a.createElement(w.x6,null,"Account Recovery")),a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"Sorry the account recovery feature is not enabled for this organization.")),a.createElement("p",null,a.createElement(w.x6,null,"Please contact your administrator to enable the account recovery feature.")))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Need some help?")),a.createElement("p",null,a.createElement(w.x6,null,"For more information about account recovery, checkout the dedicated page on the help website.")),a.createElement("a",{className:"button",href:"https://help.passbolt.com/faq/start/account-recovery/subscribe",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"life-ring"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation"))))))))}}Wi.propTypes={context:l().any,accountRecoveryContext:l().any,date:l().string,t:l().func,dialogContext:l().object};const zi=h(da(k((0,w.CI)("common")(Wi))));class Bi extends a.Component{constructor(e){super(e),this.bindHandlers()}bindHandlers(){this.handleDownloadAccount=this.handleDownloadAccount.bind(this)}async handleDownloadAccount(){try{await this.props.context.port.request("passbolt.desktop.export-account"),await this.props.actionFeedbackContext.displaySuccess(this.props.t("The account kit has been downloaded successfully."))}catch(e){if("UserAbortsOperationError"!==e.name)return this.handleError(e)}}async handleError(e){await this.props.actionFeedbackContext.displayError(e.message)}render(){return a.createElement("div",{className:"grid grid-responsive-12 profile-desktop-export"},a.createElement("div",{className:"row"},a.createElement(a.Fragment,null,a.createElement("div",{className:"desktop-section col6 main-column"},a.createElement("h3",null,a.createElement(w.x6,null,"Welcome to the desktop app setup")),a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"Download the desktop app")),a.createElement("p",null,a.createElement(w.x6,null,"Passbolt is available on the Windows store.")),a.createElement("a",{className:"windows-store",href:"https://apps.microsoft.com/detail/passbolt/9PFXS2WVKVPB",target:"_blank",rel:"noopener noreferrer"},a.createElement("svg",{width:"160",height:"56",viewBox:"0 0 160 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_94_20105)"},a.createElement("path",{d:"M159.592 0.410278H0.425781V55.2598H159.592V0.410278Z",fill:"black"}),a.createElement("path",{d:"M0.833333 0.802676H159.167V54.8495H0.833333V0.802676ZM0 55.6522H160V0H0V55.6522Z",fill:"#D2D2D2"}),a.createElement("path",{d:"M28.5742 12.2363H13.0557V27.1839H28.5742V12.2363Z",fill:"#F25022"}),a.createElement("path",{d:"M45.7036 12.2363H30.1851V27.1839H45.7036V12.2363Z",fill:"#7FBA00"}),a.createElement("path",{d:"M28.5742 28.7179H13.0557V43.6655H28.5742V28.7179Z",fill:"#00A4EF"}),a.createElement("path",{d:"M45.7036 28.7179H30.1851V43.6655H45.7036V28.7179Z",fill:"#FFB900"}),a.createElement("path",{d:"M75.6113 29.0747C75.6113 28.6287 75.778 28.272 76.1113 27.9688C76.4447 27.6655 76.8336 27.5228 77.2965 27.5228C77.778 27.5228 78.1854 27.6834 78.5002 27.9866C78.815 28.2898 78.9817 28.6644 78.9817 29.0747C78.9817 29.5028 78.815 29.8773 78.4817 30.1627C78.1484 30.466 77.7595 30.6087 77.278 30.6087C76.7965 30.6087 76.4076 30.466 76.0743 30.1627C75.778 29.8595 75.6113 29.5028 75.6113 29.0747ZM78.6669 43.6655H75.9076V32.3389H78.6669V43.6655Z",fill:"white"}),a.createElement("path",{d:"M87.0743 41.7212C87.4817 41.7212 87.9447 41.632 88.4447 41.4537C88.9447 41.2753 89.3891 41.0256 89.815 40.7223V43.2017C89.3706 43.4514 88.8706 43.6298 88.315 43.7547C87.7595 43.8795 87.1298 43.9509 86.4632 43.9509C84.741 43.9509 83.3336 43.4158 82.241 42.3634C81.1484 41.311 80.6113 39.9553 80.6113 38.3322C80.6113 36.5128 81.1669 35.0144 82.278 33.8372C83.3891 32.6599 84.9447 32.0713 86.9817 32.0713C87.5002 32.0713 88.0187 32.1426 88.5558 32.2675C89.0928 32.3924 89.5002 32.5529 89.815 32.7134V35.2642C89.3891 34.9609 88.9447 34.729 88.5002 34.5685C88.0558 34.408 87.5928 34.3188 87.1298 34.3188C86.0373 34.3188 85.1669 34.6577 84.4817 35.3355C83.815 36.0133 83.4817 36.9409 83.4817 38.1003C83.4817 39.2419 83.7965 40.1337 84.4447 40.7759C85.0928 41.418 85.9632 41.7212 87.0743 41.7212Z",fill:"white"}),a.createElement("path",{d:"M97.6855 32.1605C97.9077 32.1605 98.1114 32.1784 98.278 32.1962C98.4447 32.2319 98.6114 32.2675 98.7225 32.3032V34.9966C98.5743 34.8896 98.3706 34.8004 98.0929 34.7112C97.8151 34.6221 97.4818 34.5685 97.0743 34.5685C96.3892 34.5685 95.8151 34.8361 95.3521 35.3891C94.8892 35.942 94.6484 36.7804 94.6484 37.9398V43.6655H91.8892V32.3389H94.6484V34.1226H94.6855C94.9447 33.4983 95.3151 33.0167 95.8336 32.6778C96.3521 32.3389 96.9632 32.1605 97.6855 32.1605Z",fill:"white"}),a.createElement("path",{d:"M98.8706 38.1716C98.8706 36.2987 99.4262 34.8182 100.519 33.7123C101.611 32.6242 103.148 32.0713 105.093 32.0713C106.926 32.0713 108.371 32.6064 109.408 33.6588C110.445 34.7112 110.963 36.1382 110.963 37.9219C110.963 39.7591 110.408 41.2218 109.315 42.3099C108.222 43.3979 106.722 43.9331 104.834 43.9331C103.019 43.9331 101.556 43.4158 100.5 42.3812C99.4076 41.3645 98.8706 39.9553 98.8706 38.1716ZM101.759 38.0824C101.759 39.2597 102.037 40.1694 102.593 40.7937C103.148 41.418 103.945 41.7212 104.982 41.7212C105.982 41.7212 106.759 41.418 107.278 40.7937C107.797 40.1694 108.074 39.2419 108.074 38.0111C108.074 36.7982 107.797 35.8706 107.259 35.2463C106.722 34.622 105.945 34.3188 104.963 34.3188C103.945 34.3188 103.167 34.6398 102.593 35.2998C102.037 35.9598 101.759 36.8695 101.759 38.0824Z",fill:"white"}),a.createElement("path",{d:"M115.074 35.3177C115.074 35.6923 115.204 35.9955 115.445 36.2095C115.704 36.4236 116.259 36.6912 117.111 37.0301C118.222 37.4582 119 37.9398 119.445 38.4749C119.889 39.01 120.111 39.6521 120.111 40.4013C120.111 41.4715 119.685 42.3277 118.833 42.9699C117.982 43.612 116.833 43.9331 115.389 43.9331C114.907 43.9331 114.37 43.8796 113.778 43.7547C113.185 43.6477 112.685 43.4871 112.278 43.3266V40.7045C112.778 41.0434 113.315 41.311 113.907 41.5072C114.482 41.7034 115.019 41.8104 115.482 41.8104C116.111 41.8104 116.574 41.7212 116.87 41.5607C117.167 41.4002 117.315 41.1148 117.315 40.7045C117.315 40.3299 117.167 40.0267 116.852 39.777C116.537 39.5273 115.963 39.224 115.093 38.903C114.074 38.4927 113.352 38.0289 112.926 37.5117C112.5 36.9944 112.278 36.3344 112.278 35.5496C112.278 34.5328 112.704 33.6945 113.537 33.0345C114.37 32.3745 115.463 32.0535 116.815 32.0535C117.222 32.0535 117.685 32.0891 118.204 32.1783C118.722 32.2675 119.148 32.3745 119.482 32.5172V35.0501C119.111 34.8182 118.685 34.622 118.204 34.4437C117.722 34.2831 117.222 34.1939 116.759 34.1939C116.241 34.1939 115.815 34.301 115.537 34.4972C115.222 34.6934 115.074 34.9788 115.074 35.3177Z",fill:"white"}),a.createElement("path",{d:"M121.333 38.1716C121.333 36.2987 121.889 34.8182 122.982 33.7123C124.074 32.6242 125.611 32.0713 127.556 32.0713C129.389 32.0713 130.833 32.6064 131.871 33.6588C132.908 34.7112 133.426 36.1382 133.426 37.9219C133.426 39.7591 132.871 41.2218 131.778 42.3099C130.685 43.3979 129.185 43.9331 127.296 43.9331C125.482 43.9331 124.019 43.4158 122.963 42.3812C121.871 41.3645 121.333 39.9553 121.333 38.1716ZM124.204 38.0824C124.204 39.2597 124.482 40.1694 125.037 40.7937C125.593 41.418 126.389 41.7212 127.426 41.7212C128.426 41.7212 129.204 41.418 129.722 40.7937C130.241 40.1694 130.519 39.2419 130.519 38.0111C130.519 36.7982 130.241 35.8706 129.704 35.2463C129.167 34.622 128.389 34.3188 127.408 34.3188C126.389 34.3188 125.611 34.6398 125.037 35.2998C124.482 35.9598 124.204 36.8695 124.204 38.0824Z",fill:"white"}),a.createElement("path",{d:"M142.556 34.5328V40.3477C142.556 41.5607 142.852 42.4525 143.426 43.059C144 43.6655 144.889 43.9509 146.056 43.9509C146.445 43.9509 146.852 43.9152 147.26 43.826C147.667 43.7368 147.963 43.6655 148.13 43.5584V41.3466C147.963 41.4536 147.76 41.5428 147.537 41.6142C147.315 41.6855 147.111 41.7212 146.963 41.7212C146.408 41.7212 145.982 41.5785 145.723 41.2931C145.463 41.0077 145.334 40.5083 145.334 39.8126V34.515H148.149V32.3388H145.352V28.9854L142.574 29.8059V32.3567H138.445V30.9832C138.445 30.3054 138.593 29.7881 138.908 29.4314C139.223 29.0746 139.667 28.9141 140.241 28.9141C140.537 28.9141 140.797 28.9497 141.037 29.0211C141.26 29.0924 141.426 29.1638 141.519 29.2173V26.9163C141.315 26.845 141.093 26.8093 140.834 26.7736C140.574 26.7379 140.278 26.7201 139.945 26.7201C138.686 26.7201 137.649 27.0947 136.852 27.8617C136.056 28.6287 135.649 29.5919 135.649 30.787V32.3567H133.686V34.5328H135.649V43.6833H138.445V34.5328H142.556Z",fill:"white"}),a.createElement("path",{d:"M73.2407 27.8617V43.6655H70.3889V31.2864H70.3518L65.2592 43.6655H63.3703L58.1481 31.2864H58.1111V43.6655H55.4814V27.8617H59.5555L64.2777 39.5808H64.3518L69.3333 27.8617H73.2407Z",fill:"white"}),a.createElement("path",{d:"M62.9631 21.0301C61.9816 21.5652 60.8705 21.8328 59.6298 21.8328C58.6853 21.8328 57.852 21.6366 57.1113 21.2263C56.389 20.8339 55.815 20.2631 55.4261 19.5318C55.0372 18.8005 54.8335 17.9799 54.8335 17.0702C54.8335 16.107 55.0557 15.233 55.4816 14.4838C55.9076 13.7347 56.5187 13.1282 57.315 12.7001C58.1113 12.272 59.0002 12.058 60.0002 12.058C60.5002 12.058 61.0002 12.1115 61.5002 12.2007C62.0002 12.2899 62.4076 12.4147 62.7224 12.5574V13.9844C61.9816 13.5028 61.0372 13.2709 59.889 13.2709C59.2039 13.2709 58.5928 13.4315 58.0372 13.7525C57.4816 14.0736 57.0557 14.5195 56.7594 15.0725C56.4631 15.6433 56.315 16.2854 56.315 16.9989C56.315 18.1226 56.6298 19.0145 57.2409 19.6745C57.852 20.3345 58.7039 20.6555 59.7779 20.6555C60.4631 20.6555 61.0742 20.5307 61.5928 20.2631V17.8194H59.5002V16.6422H62.9631V21.0301Z",fill:"white"}),a.createElement("path",{d:"M70.9444 18.6577H66.0925C66.111 19.3355 66.3332 19.8528 66.7036 20.2274C67.0925 20.5841 67.5925 20.7803 68.2221 20.7803C69.0555 20.7803 69.7777 20.5484 70.4073 20.0847V21.2262C70.1295 21.4046 69.7777 21.5652 69.3518 21.6722C68.9258 21.7792 68.4814 21.8327 68.0369 21.8327C66.9814 21.8327 66.1481 21.5295 65.574 20.923C64.9999 20.3165 64.7036 19.4604 64.7036 18.3544C64.7036 17.6766 64.8518 17.0523 65.1295 16.5172C65.4073 15.9643 65.8147 15.5362 66.3147 15.2329C66.8147 14.9297 67.3888 14.7692 67.9999 14.7692C68.9073 14.7692 69.6295 15.0546 70.1481 15.6254C70.6666 16.1961 70.9258 16.981 70.9258 17.9977V18.6577H70.9444ZM69.5925 17.641C69.5925 17.0523 69.4444 16.6064 69.1666 16.3032C68.8888 15.9999 68.4999 15.8394 67.9814 15.8394C67.5184 15.8394 67.111 15.9999 66.7592 16.321C66.4073 16.6421 66.2036 17.088 66.0925 17.641H69.5925Z",fill:"white"}),a.createElement("path",{d:"M76.204 21.6008C76.0744 21.6721 75.9078 21.7257 75.667 21.7613C75.4448 21.797 75.2411 21.8148 75.0559 21.8148C73.7596 21.8148 73.1115 21.1192 73.1115 19.7457V15.9999H71.9263V14.9297H73.1115V13.3243L74.4633 12.9141V14.9118H76.1855V15.9821H74.4633V19.5138C74.4633 19.9598 74.5374 20.2808 74.6855 20.4592C74.8337 20.6376 75.0929 20.7268 75.4818 20.7268C75.7411 20.7268 75.9818 20.6554 76.1855 20.5127V21.6008H76.204Z",fill:"white"}),a.createElement("path",{d:"M82.9073 12.5395C82.9073 12.7536 82.8332 12.9319 82.6666 13.0925C82.4999 13.253 82.2962 13.3243 82.0555 13.3243C81.8147 13.3243 81.611 13.253 81.4444 13.0925C81.2777 12.9498 81.2036 12.7536 81.2036 12.5217C81.2036 12.2898 81.2962 12.0936 81.4629 11.9509C81.6295 11.8082 81.8332 11.719 82.0555 11.719C82.2777 11.719 82.4814 11.7903 82.6481 11.9509C82.8332 12.1293 82.9073 12.3076 82.9073 12.5395ZM82.7221 21.6722H81.3703V14.9297H82.7221V21.6722Z",fill:"white"}),a.createElement("path",{d:"M88.5927 21.6008C88.4631 21.6721 88.2964 21.7257 88.0557 21.7613C87.8335 21.797 87.6298 21.8148 87.4446 21.8148C86.1483 21.8148 85.5001 21.1192 85.5001 19.7457V15.9999H84.3149V14.9297H85.5001V13.3243L86.852 12.9141V14.9118H88.5742V15.9821H86.852V19.5138C86.852 19.9598 86.9261 20.2808 87.0742 20.4592C87.2224 20.6376 87.4816 20.7268 87.8705 20.7268C88.1298 20.7268 88.3705 20.6554 88.5742 20.5127V21.6008H88.5927Z",fill:"white"}),a.createElement("path",{d:"M97.4445 12.7893C97.2223 12.6822 96.9816 12.6109 96.7038 12.6109C95.9445 12.6109 95.5741 13.0568 95.5741 13.9487V14.9119H97.1667V15.9821H95.5741V21.6544H94.2223V16H93.0371V14.9297H94.2223V13.8952C94.2223 13.1817 94.426 12.6109 94.8519 12.1828C95.2779 11.7547 95.8519 11.5406 96.5927 11.5406C96.963 11.5406 97.2408 11.5763 97.463 11.6655V12.7893H97.4445Z",fill:"white"}),a.createElement("path",{d:"M102.426 16.2318C102.352 16.1783 102.204 16.1248 102.019 16.0713C101.833 16.0356 101.667 15.9999 101.537 15.9999C101.056 15.9999 100.667 16.214 100.371 16.6242C100.074 17.0345 99.9261 17.5696 99.9261 18.2296V21.6721H98.5742V14.9297H99.9261V16.2853H99.9631C100.111 15.8215 100.352 15.4648 100.667 15.1972C100.982 14.9297 101.352 14.8048 101.759 14.8048C102.037 14.8048 102.259 14.8405 102.408 14.894V16.2318H102.426Z",fill:"white"}),a.createElement("path",{d:"M110.148 18.2653C110.148 19.3533 109.815 20.2274 109.167 20.8695C108.519 21.5116 107.648 21.8327 106.574 21.8327C105.519 21.8327 104.667 21.5116 104.037 20.8873C103.408 20.263 103.093 19.4247 103.093 18.3723C103.093 17.2485 103.426 16.3745 104.074 15.7324C104.722 15.0902 105.611 14.7692 106.741 14.7692C107.796 14.7692 108.63 15.0724 109.222 15.6967C109.852 16.321 110.148 17.1772 110.148 18.2653ZM108.759 18.3009C108.759 17.4983 108.574 16.8918 108.222 16.4815C107.852 16.0713 107.352 15.8572 106.685 15.8572C106.019 15.8572 105.482 16.0713 105.093 16.5172C104.704 16.9453 104.519 17.5696 104.519 18.3544C104.519 19.1215 104.704 19.7101 105.093 20.1382C105.482 20.5663 106 20.7803 106.685 20.7803C107.371 20.7803 107.889 20.5663 108.241 20.156C108.574 19.7101 108.759 19.1036 108.759 18.3009Z",fill:"white"}),a.createElement("path",{d:"M122.241 21.6722H120.889V17.8372C120.889 17.1415 120.778 16.6421 120.556 16.321C120.333 15.9999 119.945 15.8573 119.407 15.8573C118.963 15.8573 118.574 16.0535 118.278 16.4459C117.963 16.8383 117.815 17.3199 117.815 17.855V21.6722H116.463V17.7123C116.463 16.4816 115.963 15.8573 114.982 15.8573C114.519 15.8573 114.13 16.0535 113.833 16.428C113.537 16.8026 113.389 17.2842 113.389 17.8729V21.69H112.037V14.9297H113.389V15.9821H113.407C113.907 15.1616 114.648 14.7692 115.593 14.7692C116.037 14.7692 116.445 14.894 116.815 15.1259C117.167 15.3578 117.426 15.6967 117.593 16.1248C117.87 15.661 118.185 15.3221 118.574 15.0903C118.963 14.8762 119.407 14.7513 119.926 14.7513C121.463 14.7513 122.222 15.661 122.222 17.4983V21.6722H122.241Z",fill:"white"})),a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_94_20105"},a.createElement("rect",{width:"160",height:"55.6522",fill:"white"}))))),a.createElement("h4",null,a.createElement(w.x6,null,"Transfer your account kit")),a.createElement("p",null,a.createElement(w.x6,null,"An account kit is required to transfer your profile and private key to the desktop app.")),a.createElement("div",{className:"submit-wrapper"},a.createElement("button",{type:"button",id:"download-account-kit",className:"button primary",role:"button",onClick:this.handleDownloadAccount},a.createElement(w.x6,null,"Download your account kit")))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Get started in 5 easy steps")),a.createElement("p",null,a.createElement(w.x6,null,"1. Click download the account kit.")),a.createElement("p",null,a.createElement(w.x6,null,"2. Install the application from the store.")),a.createElement("p",null,a.createElement(w.x6,null,"3. Open the application.")),a.createElement("p",null,a.createElement(w.x6,null,"4. Upload the account kit on the desktop app.")),a.createElement("p",null,a.createElement(w.x6,null,"5. And you are done!")),a.createElement("a",{className:"button",href:"https://www.passbolt.com/docs/user/quickstart/desktop/windows-app/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation"))))))))}}Bi.propTypes={context:l().object,actionFeedbackContext:l().any,t:l().func};const Gi=h(_e((0,w.CI)("common")(Bi))),Ki=[{id:"totp",name:"TOTP authenticator",icon:a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",height:"5em",viewBox:"0 0 97 97",version:"1.1"},a.createElement("defs",null,a.createElement("circle",{id:"path-1",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-3",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-5",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-7",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-9",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-11",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-13",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-15",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-17",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-19",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-21",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-23",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-25",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-27",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-29",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-31",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("circle",{id:"path-33",cx:"48.5",cy:"48.5",r:"48.5"}),a.createElement("radialGradient",{cx:"14.6639205%",cy:"14.5530682%",fx:"14.6639205%",fy:"14.5530682%",r:"99.826875%",id:"radialGradient-35"},"  ",a.createElement("stop",{stopColor:"#FFFFFF",stopOpacity:"0.1",offset:"0%"}),"  ",a.createElement("stop",{stopColor:"#FFFFFF",stopOpacity:"0",offset:"100%"}))),a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"authenticator"},"  ",a.createElement("g",{id:"Clipped"},"    ",a.createElement("g",{id:"Oval-Clipped"},"      ",a.createElement("mask",{id:"mask-2",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-1"}),"      "),"      ",a.createElement("g",{id:"path-1"}),"      ",a.createElement("circle",{id:"Oval",fill:"#616161",fillRule:"nonzero",mask:"url(#mask-2)",cx:"48.5",cy:"48.5",r:"48.5"}),"    "),"    ",a.createElement("g",{id:"Group-Clipped"},"      ",a.createElement("mask",{id:"mask-4",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-3"}),"      "),"      ",a.createElement("g",{id:"path-3"}),"      ",a.createElement("g",{id:"Group",mask:"url(#mask-4)"},"        ",a.createElement("g",{transform:"translate(-1.000000, -1.000000)"},"          ",a.createElement("g",{transform:"translate(0.590909, 0.590909)"},"            ",a.createElement("path",{d:"M48.9090909,79.7727273 C31.8624432,79.7727273 18.0454545,65.9557386 18.0454545,48.9090909 C18.0454545,31.8624432 31.8624432,18.0454545 48.9090909,18.0454545 C57.4296591,18.0454545 65.1455682,21.5010795 70.7340909,27.0840909 L83.2063068,14.611875 C74.4267045,5.83778409 62.3017045,0.40909091 48.9090909,0.40909091 C22.1238636,0.40909091 0.40909091,22.1238636 0.40909091,48.9090909 C0.40909091,75.6943182 22.1238636,97.409091 48.9090909,97.409091 C62.3017045,97.409091 74.4267045,91.9803977 83.2063068,83.2063068 L70.7340909,70.7340909 C65.1455682,76.3171023 57.4296591,79.7727273 48.9090909,79.7727273 Z",id:"Shape",fill:"#9E9E9E",fillRule:"nonzero"}),"          "),"        "),"      "),"    "),"    ",a.createElement("g",{id:"Shape-Clipped"},"      ",a.createElement("mask",{id:"mask-6",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-5"}),"      "),"      ",a.createElement("g",{id:"path-5"}),"      ",a.createElement("path",{d:"M79.3636364,48.5 L63.9318182,48.5 C63.9318182,39.9794318 57.0205682,33.0681818 48.5,33.0681818 C39.9794318,33.0681818 33.0681818,39.9794318 33.0681818,48.5 C33.0681818,52.6500568 34.7105682,56.4143182 37.3780682,59.1920455 C37.3780682,59.1920455 37.3780682,59.1920455 37.3780682,59.1920455 L37.3670455,59.2030682 L56.4749432,78.3109659 L56.4804545,78.3164773 C69.658125,74.8002273 79.3636364,62.7854545 79.3636364,48.5 Z",id:"Shape",fill:"#424242",fillRule:"nonzero",mask:"url(#mask-6)"}),"    "),"    ",a.createElement("g",{id:"Shape-Clipped"},"      ",a.createElement("mask",{id:"mask-8",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-7"}),"      "),"      ",a.createElement("g",{id:"path-7"}),"      ",a.createElement("path",{d:"M97,48.5 L79.3636364,48.5 C79.3636364,62.7854545 69.6526136,74.8002273 56.4804545,78.3164773 L70.0990341,91.9350568 C86.0434091,83.9931818 97,67.5252273 97,48.5 Z",id:"Shape",fill:"#616161",fillRule:"nonzero",mask:"url(#mask-8)"}),"    "),"    ",a.createElement("g",{id:"Shape-Clipped"},"      ",a.createElement("mask",{id:"mask-10",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-9"}),"      "),"      ",a.createElement("g",{id:"path-9"}),"      ",a.createElement("path",{d:"M48.5,96.4488636 C21.8084659,96.4488636 0.154318182,74.8828977 0.00551136364,48.2244318 C0.00551136364,48.318125 0,48.4063068 0,48.5 C0,75.2852273 21.7147727,97 48.5,97 C75.2852273,97 97,75.2852273 97,48.5 C97,48.4063068 96.9944886,48.318125 96.9944886,48.2244318 C96.8456818,74.8828977 75.1915341,96.4488636 48.5,96.4488636 Z",id:"Shape",fillOpacity:"0.1",fill:"#212121",fillRule:"nonzero",mask:"url(#mask-10)"}),"    "),"    ",a.createElement("g",{id:"Shape-Clipped"},"      ",a.createElement("mask",{id:"mask-12",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-11"}),"      "),"      ",a.createElement("g",{id:"path-11"}),"      ",a.createElement("path",{d:"M56.4804545,78.3164773 L56.9103409,78.7463636 C69.8620455,75.0868182 79.3636364,63.1822727 79.3636364,49.0511364 L79.3636364,48.5 C79.3636364,62.7854545 69.6526136,74.8002273 56.4804545,78.3164773 Z",id:"Shape",fillOpacity:"0.05",fill:"#FFFFFF",fillRule:"nonzero",mask:"url(#mask-12)"}),"    "),"    ",a.createElement("g",{id:"Group-Clipped"},"      ",a.createElement("mask",{id:"mask-14",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-13"}),"      "),"      ",a.createElement("g",{id:"path-13"}),"      ",a.createElement("g",{id:"Group",mask:"url(#mask-14)"},"        ",a.createElement("g",{transform:"translate(39.000000, 39.000000)"},"          ",a.createElement("g",{transform:"translate(0.681818, 0.681818)"},"            ",a.createElement("g",null,"              ",a.createElement("path",{d:"M48.5,4.40909091 L8.81818182,4.40909091 C6.38215909,4.40909091 4.40909091,6.38215909 4.40909091,8.81818182 C4.40909091,11.2542045 6.38215909,13.2272727 8.81818182,13.2272727 L48.5,13.2272727 C50.9360227,13.2272727 52.9090909,11.2542045 52.9090909,8.81818182 C52.9090909,6.38215909 50.9360227,4.40909091 48.5,4.40909091 Z",id:"Shape",fill:"#9E9E9E",fillRule:"nonzero"}),"            "),"            ",a.createElement("path",{d:"M48.5,4.40909091 L8.81818182,4.40909091 C6.38215909,4.40909091 4.40909091,6.38215909 4.40909091,8.81818182 C4.40909091,11.2542045 6.38215909,13.2272727 8.81818182,13.2272727 L48.5,13.2272727 C50.9360227,13.2272727 52.9090909,11.2542045 52.9090909,8.81818182 C52.9090909,6.38215909 50.9360227,4.40909091 48.5,4.40909091 Z",id:"Shape",fill:"#BDBDBD",fillRule:"nonzero",opacity:"0.5"}),"          "),"        "),"      "),"    "),"    ",a.createElement("g",{id:"Oval-Clipped"},"      ",a.createElement("mask",{id:"mask-16",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-15"}),"      "),"      ",a.createElement("g",{id:"path-15"}),"      ",a.createElement("circle",{id:"Oval",fill:"#BDBDBD",fillRule:"nonzero",mask:"url(#mask-16)",cx:"8.81818182",cy:"48.5",r:"3.30681818"}),"    "),"    ",a.createElement("g",{id:"Oval-Clipped"},"      ",a.createElement("mask",{id:"mask-18",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-17"}),"      "),"      ",a.createElement("g",{id:"path-17"}),"      ",a.createElement("circle",{id:"Oval",fill:"#BDBDBD",fillRule:"nonzero",mask:"url(#mask-18)",cx:"48.5",cy:"8.81818182",r:"3.30681818"}),"    "),"    ",a.createElement("g",{id:"Oval-Clipped"},"      ",a.createElement("mask",{id:"mask-20",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-19"}),"      "),"      ",a.createElement("g",{id:"path-19"}),"      ",a.createElement("circle",{id:"Oval",fill:"#BDBDBD",fillRule:"nonzero",mask:"url(#mask-20)",cx:"48.5",cy:"88.1818182",r:"3.30681818"}),"    "),"    ",a.createElement("g",{id:"Oval-Clipped"},"      ",a.createElement("mask",{id:"mask-22",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-21"}),"      "),"      ",a.createElement("g",{id:"path-21"}),"      ",a.createElement("circle",{id:"Oval",fill:"#BDBDBD",fillRule:"nonzero",mask:"url(#mask-22)",cx:"20.3920455",cy:"20.4416477",r:"3.30681818"}),"    "),"    ",a.createElement("g",{id:"Oval-Clipped"},"      ",a.createElement("mask",{id:"mask-24",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-23"}),"      "),"      ",a.createElement("g",{id:"path-23"}),"      ",a.createElement("circle",{id:"Oval",fill:"#BDBDBD",fillRule:"nonzero",mask:"url(#mask-24)",cx:"20.3920455",cy:"76.6079545",r:"3.30681818"}),"    "),"    ",a.createElement("g",{id:"Oval-Clipped"},"      ",a.createElement("mask",{id:"mask-26",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-25"}),"      "),"      ",a.createElement("g",{id:"path-25"}),"      ",a.createElement("circle",{id:"Oval",fill:"#757575",fillRule:"nonzero",mask:"url(#mask-26)",cx:"76.6079545",cy:"76.6079545",r:"3.30681818"}),"    "),"    ",a.createElement("g",{id:"Shape-Clipped"},"      ",a.createElement("mask",{id:"mask-28",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-27"}),"      "),"      ",a.createElement("g",{id:"path-27"}),"      ",a.createElement("path",{d:"M48.5,44.6420455 L88.1818182,44.6420455 C90.5241477,44.6420455 92.4365909,46.4718182 92.574375,48.7755682 C92.5798864,48.681875 92.5909091,48.5936932 92.5909091,48.5 C92.5909091,46.0639773 90.6178409,44.0909091 88.1818182,44.0909091 L48.5,44.0909091 C46.0639773,44.0909091 44.0909091,46.0639773 44.0909091,48.5 C44.0909091,48.5936932 44.0964205,48.681875 44.1074432,48.7755682 C44.2452273,46.4718182 46.1576705,44.6420455 48.5,44.6420455 Z",id:"Shape",fillOpacity:"0.2",fill:"#FFFFFF",fillRule:"nonzero",mask:"url(#mask-28)"}),"    "),"    ",a.createElement("g",{id:"Shape-Clipped"},"      ",a.createElement("mask",{id:"mask-30",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-29"}),"      "),"      ",a.createElement("g",{id:"path-29"}),"      ",a.createElement("path",{d:"M92.574375,48.7755682 C92.4310795,51.0793182 90.5186364,52.9090909 88.1818182,52.9090909 L48.5,52.9090909 C46.1576705,52.9090909 44.2452273,51.0793182 44.1074432,48.7755682 C44.0964205,48.8692614 44.0909091,48.9574432 44.0909091,49.0511364 C44.0909091,51.4871591 46.0639773,53.4602273 48.5,53.4602273 L88.1818182,53.4602273 C90.6178409,53.4602273 92.5909091,51.4871591 92.5909091,49.0511364 C92.5909091,48.9574432 92.5853977,48.8692614 92.574375,48.7755682 Z",id:"Shape",fillOpacity:"0.2",fill:"#212121",fillRule:"nonzero",mask:"url(#mask-30)"}),"    "),"    ",a.createElement("g",{id:"Shape-Clipped"},"      ",a.createElement("mask",{id:"mask-32",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-31"}),"      "),"      ",a.createElement("g",{id:"path-31"}),"      ",a.createElement("path",{d:"M48.5,18.1875 C57.0205682,18.1875 64.7364773,21.643125 70.325,27.2261364 L83.0672727,14.4783523 C82.9735795,14.3846591 82.8853977,14.2909659 82.7917045,14.2027841 L70.325,26.675 C64.7364773,21.0919886 57.0205682,17.6363636 48.5,17.6363636 C31.4533523,17.6363636 17.6363636,31.4533523 17.6363636,48.5 C17.6363636,48.5936932 17.641875,48.681875 17.641875,48.7755682 C17.7906818,31.8556818 31.5470455,18.1875 48.5,18.1875 Z",id:"Shape",fillOpacity:"0.1",fill:"#212121",fillRule:"nonzero",mask:"url(#mask-32)"}),"    "),"    ",a.createElement("g",{id:"Shape-Clipped"},"      ",a.createElement("mask",{id:"mask-34",fill:"white"},"        ",a.createElement("use",{xlinkHref:"#path-33"}),"      "),"      ",a.createElement("g",{id:"path-33"}),"      ",a.createElement("path",{d:"M48.5,79.3636364 C31.5470455,79.3636364 17.7906818,65.6954545 17.641875,48.7755682 C17.641875,48.8692614 17.6363636,48.9574432 17.6363636,49.0511364 C17.6363636,66.0977841 31.4533523,79.9147727 48.5,79.9147727 C51.4155114,79.9147727 54.2318182,79.5014205 56.9048295,78.7463636 L56.4749432,78.3164773 C53.9342045,78.994375 51.2611932,79.3636364 48.5,79.3636364 Z M48.5,0 C21.7147727,0 0,21.7147727 0,48.5 C0,48.5936932 0.00551136364,48.681875 0.00551136364,48.7755682 C0.154318182,22.1171023 21.8084659,0.551136364 48.5,0.551136364 C61.7548295,0.551136364 73.7640909,5.86960227 82.5161364,14.4838636 L82.7972159,14.2027841 C74.0176136,5.42869318 61.8926136,0 48.5,0 Z",id:"Shape",fillOpacity:"0.1",fill:"#FFFFFF",fillRule:"nonzero",mask:"url(#mask-34)"}),"    "),"  "),"  ",a.createElement("circle",{id:"Oval",fill:"url(#radialGradient-35)",fillRule:"nonzero",cx:"48.5",cy:"48.5",r:"48.5"})))),configuration:{title:"Time based One Time Password (TOTP) is enabled!",description:"When logging in from a new device you will need to enter a unique verification code generated by an app on your mobile. "}},{id:"duo",name:"Duo",icon:a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1333.3333 1333.3333",xmlSpace:"preserve",id:"svg2",version:"1.1",height:"5em"},a.createElement("metadata",{id:"metadata8"}),a.createElement("defs",{id:"defs6"}),a.createElement("g",{transform:"matrix(1.3333333,0,0,-1.3333333,0,1333.3333)",id:"g10"},a.createElement("g",{transform:"scale(0.1)",id:"g12"},a.createElement("path",{id:"path14",style:{fill:"#59b734",fillOpacity:1,fillRule:"nonzero",stroke:"none"},d:"M 10000,4999.95 C 10000,2238.49 7761.44,0 5000.09,0 2238.52,0 0,2238.49 0,4999.95 0,7761.4 2238.52,10000 5000.09,10000 7761.44,10000 10000,7761.4 10000,4999.95"}),a.createElement("path",{id:"path16",style:{fill:"#ffffff",fillOpacity:1,fillRule:"nonzero",stroke:"none"},d:"M 2627.97,3949.39 H 1493.72 V 5018.13 H 3760.13 C 3726.28,4422.09 3232.32,3949.39 2627.97,3949.39"}),a.createElement("path",{id:"path18",style:{fill:"#e6f3d8",fillOpacity:1,fillRule:"nonzero",stroke:"none"},d:"M 2627.97,3949.39 H 1493.72 V 5018.13 H 3760.13 C 3726.28,4422.09 3232.32,3949.39 2627.97,3949.39"}),a.createElement("path",{id:"path20",style:{fill:"#ffffff",fillOpacity:1,fillRule:"nonzero",stroke:"none"},d:"M 2627.97,6217.81 H 1493.72 V 5149.06 h 2266.41 c -33.85,595.83 -527.81,1068.75 -1132.16,1068.75"}),a.createElement("path",{id:"path22",style:{fill:"#ffffff",fillOpacity:1,fillRule:"nonzero",stroke:"none"},d:"M 3866.76,6217.81 V 5083.64 c 0,-604.43 472.93,-1098.45 1068.86,-1132.27 V 6217.81 H 3866.76"}),a.createElement("path",{id:"path24",style:{fill:"#ffffff",fillOpacity:1,fillRule:"nonzero",stroke:"none"},d:"m 7373.94,3949.39 c -604.24,0 -1098.13,472.7 -1132.15,1068.74 h 2264.49 c -34,-596.04 -527.95,-1068.74 -1132.34,-1068.74"}),a.createElement("path",{id:"path26",style:{fill:"#e6f3d8",fillOpacity:1,fillRule:"nonzero",stroke:"none"},d:"m 7373.94,3949.39 c -604.24,0 -1098.13,472.7 -1132.15,1068.74 h 2264.49 c -34,-596.04 -527.95,-1068.74 -1132.34,-1068.74"}),a.createElement("path",{id:"path28",style:{fill:"#ffffff",fillOpacity:1,fillRule:"nonzero",stroke:"none"},d:"m 7373.94,6217.81 c -604.24,0 -1098.12,-472.92 -1132.15,-1068.75 h 2264.49 c -34,595.83 -527.95,1068.75 -1132.34,1068.75"}),a.createElement("path",{id:"path30",style:{fill:"#ffffff",fillOpacity:1,fillRule:"nonzero",stroke:"none"},d:"M 6133.06,3951.37 H 5066.27 V 6217.82 H 6135.15 V 5083.64 c 0,-22.03 -0.81,-43.7 -2.09,-65.51 V 3951.37"}),a.createElement("path",{id:"path32",style:{fill:"#e6f3d8",fillOpacity:1,fillRule:"nonzero",stroke:"none"},d:"M 6133.06,3951.37 H 5066.27 V 6217.82 H 6135.15 V 5083.64 c 0,-22.03 -0.81,-43.7 -2.09,-65.51 V 3951.37"})))),configuration:{title:"Duo multi-factor authentication is enabled!",description:"When logging in you will be asked to perform Duo Authentication."}},{id:"yubikey",name:"Yubikey",icon:a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 38 38",version:"1.1",height:"5em"},a.createElement("title",null,"yubikey"),a.createElement("desc",null,"Created with Sketch."),a.createElement("defs",null),a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"yubikey",fillRule:"nonzero"},a.createElement("circle",{id:"Oval",fill:"#9ACA3C",cx:"19",cy:"19",r:"19"}),a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"19.6330475 18.8594925 22.5979793 11.0088111 27 11 19.6744596 27.8124413 15.0292528 27.8212523 17.14832 23.1601856 12 11.0273144 16.4962993 11.0185033"})))),configuration:{title:"Yubikey One Time Password is enabled!",description:"When logging in from a new device you will need a unique code generated by your yubikey."}}];class $i extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleProviderClick=this.handleProviderClick.bind(this)}async componentDidMount(){await this.getMfaSettings()}async getMfaSettings(){await this.props.mfaContext.findMfaSettings()}get isRunningUnderHttps(){const e=this.props.context.userSettings.getTrustedDomain();return"https:"===new URL(e).protocol}get organisationMfaProviders(){const e=this.props.mfaContext.getMfaOrganisationSettings();return this.canUseDuoProvider||delete e.duo,e}get userMfaSettings(){const e=this.props.mfaContext.getMfaUserSettings();return this.canUseDuoProvider||delete e.duo,e}getProvider(e){return Ki.find((t=>t.id===e))}get isProcessing(){return this.props.mfaContext.isProcessing()}get canUseDuoProvider(){return this.props.rbacContext.canIUseUiAction("Duo.configuration")}handleProviderClick(e){const t=this.props.mfaContext.getMfaUserSettings();if(this.props.mfaContext.setProvider(e),t[e])this.props.mfaContext.navigate(tn);else switch(e){case"totp":this.props.mfaContext.navigate(Qa);break;case"duo":this.props.navigationContext.onGoToUserSettingsDuoSetupRequested();break;case"yubikey":this.props.mfaContext.navigate(sn)}}render(){return a.createElement("div",{className:"grid grid-responsive-12"},a.createElement("div",{className:"row mfa-provider-list"},a.createElement("div",{className:"mfa-setup col8 main-column"},a.createElement("h3",null,a.createElement(w.x6,null,"Multi factor authentication")),!this.isProcessing&&a.createElement(a.Fragment,null,!this.isRunningUnderHttps&&a.createElement("p",{className:"description"},a.createElement(w.x6,null,"Sorry the multi factor authentication feature is only available in a secure context (HTTPS).")),this.isRunningUnderHttps&&!this.props.mfaContext.hasMfaOrganisationSettings()&&a.createElement(a.Fragment,null,a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"Sorry no multi factor authentication is enabled for this organization.")),a.createElement("p",{className:"description"},a.createElement(w.x6,null,"Please contact your administrator to enable multi-factor authentication."))),this.isRunningUnderHttps&&this.props.mfaContext.hasMfaOrganisationSettings()&&a.createElement(a.Fragment,null,a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"Please select a provider")),a.createElement("ul",{className:"mfa-providers"},this.organisationMfaProviders.totp&&a.createElement("li",{id:"totp"},a.createElement("a",{href:"#",onClick:()=>this.handleProviderClick("totp")},a.createElement("div",{className:"provider-img"},this.getProvider("totp").icon),a.createElement("span",{className:"provider-name"},this.getProvider("totp").name)),a.createElement("div",{className:`mfa-provider-status ${this.userMfaSettings.totp}`},this.userMfaSettings.totp?a.createElement(w.x6,null,"Enabled"):a.createElement(w.x6,null,"Disabled"))),this.organisationMfaProviders.duo&&a.createElement("li",{id:"duo"},a.createElement("a",{href:"#",onClick:()=>this.handleProviderClick("duo")},a.createElement("div",{className:"provider-img"},this.getProvider("duo").icon),a.createElement("span",{className:"provider-name"},this.getProvider("duo").name)),a.createElement("div",{className:`mfa-provider-status ${this.userMfaSettings.duo}`},this.userMfaSettings.duo?a.createElement(w.x6,null,"Enabled"):a.createElement(w.x6,null,"Disabled"))),this.organisationMfaProviders.yubikey&&a.createElement("li",{id:"yubikey"},a.createElement("a",{href:"#",onClick:()=>this.handleProviderClick("yubikey")},a.createElement("div",{className:"provider-img"},this.getProvider("yubikey").icon),a.createElement("span",{className:"provider-name"},this.getProvider("yubikey").name)),a.createElement("div",{className:`mfa-provider-status ${this.userMfaSettings.yubikey}`},this.userMfaSettings.yubikey?a.createElement(w.x6,null,"Enabled"):a.createElement(w.x6,null,"Disabled"))))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"What is multi-factor authentication?")),a.createElement("p",{className:"description"},a.createElement(w.x6,null,"Multi-factor authentication (MFA) is a method of confirming a user's identity that requires presenting two or more pieces of evidence (or factor).")),a.createElement("a",{className:"button",href:"https://help.passbolt.com/start",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation")))))))}}$i.propTypes={context:l().object,t:l().func,mfaContext:l().object,rbacContext:l().any,navigationContext:l().any};const Zi=h(on(pe(b((0,w.CI)("common")($i)))));class Yi extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createInputRef()}bindCallbacks(){this.handleCancelClick=this.handleCancelClick.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}get defaultState(){return{qrCode:null,toptCode:"",uri:"",isSubmitted:!1,error:{isRequired:!1,invalidCode:!1}}}async componentDidMount(){this.focusOnOtpInput(),await this.getQrCode()}createInputRef(){this.otpInputRef=a.createRef()}focusOnOtpInput(){this.otpInputRef.current.focus()}getIssuer(){const e=this.props.context.userSettings.getTrustedDomain(),t=new URL(e);let s=t.hostname+t.pathname;return s=s.replace(":",""),s=s.replace(/\/$/,""),s}async getQrCodeUri(){const e=await this.props.context.port.request("passbolt.mfa-setup.get-totp-code");return this.setState({uri:e}),e}handleInputChange(e){const t=e.target.value;""!==this.state.toptCode&&this.setError("isRequired",!1),this.setState({toptCode:t})}async handleSubmit(e){e.preventDefault();try{this.setState({isSubmitted:!0}),""===this.state.toptCode?this.setError("isRequired",!0):(await this.props.mfaContext.validateTotpCode(this.state.uri,this.state.toptCode),this.props.mfaContext.navigate(tn),await this.props.mfaContext.findMfaSettings())}catch(e){this.setError("invalidCode",!0)}}setError(e,t){const s=Object.assign({},this.state.error,{[e]:t});this.setState({error:s})}handleCancelClick(){this.props.mfaContext.goToProviderList()}async getQrCode(){const e=await this.getQrCodeUri(),t=await Ni.toDataURL([{data:e,mode:"byte"}],{type:"image/jpeg",quality:1});this.setState({qrCode:t})}hasAllInputDisabled(){return this.props.mfaContext.isProcessing()}render(){return a.createElement("div",{className:"grid grid-responsive-12"},a.createElement("div",{className:"row mfa-setup totp-scan-code"},a.createElement("div",{className:"col8 main-column totp-setup"},a.createElement("h3",null,a.createElement(w.x6,null,"Time based One Time Password (TOTP)")),a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"Scan this bar code")),a.createElement("div",{className:"qrcode"},a.createElement("img",{id:"qr-canvas",src:this.state.qrCode})),a.createElement("div",{className:"input-verify"},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("div",{className:"input text required"},a.createElement("label",{htmlFor:"totp"},a.createElement(w.x6,null,"One Time Password (OTP)")),a.createElement("input",{type:"text",name:"totp",placeholder:"123456",autoComplete:"off",onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),ref:this.otpInputRef}),this.state.error.isRequired&&this.state.isSubmitted&&a.createElement("div",{className:"code-required error-message"},a.createElement(w.x6,null,"A OTP code is required.")),this.state.error.invalidCode&&this.state.isSubmitted&&a.createElement("div",{className:"invalid-code error-message"},a.createElement(w.x6,null,"This OTP is not valid."))),a.createElement("div",{className:"helptext"},a.createElement(w.x6,null,"Enter the six digit number as presented on your phone or tablet.")))),a.createElement("div",{className:"actions-wrapper"},a.createElement("button",{className:"button cancel",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleCancelClick},a.createElement("span",null,a.createElement(w.x6,null,"Cancel"))),a.createElement("button",{className:"button primary",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleSubmit},a.createElement("span",null,a.createElement(w.x6,null,"Validate"))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Requirements")),a.createElement("p",null,a.createElement(w.x6,null,"To proceed you need to install an application that supports Time Based One Time Passwords (TOTP) on your phone or tablet such as:"),a.createElement("a",{href:"https://support.google.com/accounts/answer/1066447",target:"_blank",rel:"noopener noreferrer"},"Google Authenticator")," ",a.createElement(w.x6,null,"or")," ",a.createElement("a",{href:"https://freeotp.github.io/",target:"_blank",rel:"noopener noreferrer"},"FreeOTP"),"."),a.createElement("a",{className:"button",href:"https://help.passbolt.com/start",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation")))))))}}Yi.propTypes={context:l().object,t:l().func,mfaContext:l().object,port:l().object};const Ji=h(on((0,w.CI)("common")(Yi)));class Xi extends a.Component{render(){return a.createElement("svg",{width:"177",height:"243",viewBox:"0 0 177 243",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{x:"0.699504",y:"-0.699504",width:"121.714",height:"229.437",rx:"14.6896",transform:"matrix(-1 0 0 1 150.056 7.48083)",fill:"white"}),a.createElement("rect",{x:"-2.09851",y:"2.09851",width:"116.118",height:"223.841",rx:"11.8916",transform:"matrix(-1 0 0 1 144.46 7.48083)",fill:"white"}),a.createElement("path",{d:"M40.8511 64.7021C41.1451 64.7021 41.3634 64.7681 41.5059 64.9001C41.6484 65.0321 41.7196 65.2429 41.7196 65.5324V67.2088H41.4474L41.3754 66.8443H41.3574C41.2884 66.9343 41.2163 67.01 41.1413 67.0715C41.0663 67.1315 40.9793 67.1773 40.8803 67.2088C40.7828 67.2388 40.6628 67.2538 40.5203 67.2538C40.3703 67.2538 40.2368 67.2276 40.1197 67.175C40.0042 67.1225 39.9127 67.043 39.8452 66.9365C39.7792 66.83 39.7462 66.695 39.7462 66.5315C39.7462 66.2855 39.8437 66.0964 40.0387 65.9644C40.2338 65.8324 40.5308 65.7604 40.9298 65.7484L41.3551 65.7304V65.5796C41.3551 65.3666 41.3094 65.2174 41.2178 65.1318C41.1263 65.0463 40.9973 65.0036 40.8308 65.0036C40.7018 65.0036 40.5788 65.0223 40.4618 65.0598C40.3448 65.0973 40.2338 65.1416 40.1287 65.1926L40.014 64.9091C40.125 64.8521 40.2525 64.8033 40.3965 64.7628C40.5405 64.7223 40.692 64.7021 40.8511 64.7021ZM41.3506 65.9937L40.9748 66.0094C40.6673 66.0214 40.4505 66.0717 40.3245 66.1602C40.1985 66.2487 40.1355 66.374 40.1355 66.536C40.1355 66.677 40.1782 66.7813 40.2638 66.8488C40.3493 66.9163 40.4625 66.95 40.6035 66.95C40.8226 66.95 41.0018 66.8893 41.1413 66.7678C41.2809 66.6462 41.3506 66.464 41.3506 66.221V65.9937ZM43.3668 67.2538C43.0548 67.2538 42.8073 67.1473 42.6242 66.9343C42.4427 66.7213 42.352 66.4047 42.352 65.9847C42.352 65.5601 42.445 65.2399 42.631 65.0238C42.817 64.8063 43.0645 64.6976 43.3736 64.6976C43.5041 64.6976 43.6181 64.7148 43.7156 64.7493C43.8131 64.7838 43.8971 64.8303 43.9676 64.8888C44.0381 64.9458 44.0974 65.0111 44.1454 65.0846H44.1724C44.1664 65.0381 44.1604 64.9743 44.1544 64.8933C44.1484 64.8123 44.1454 64.7463 44.1454 64.6953V63.7075H44.5189V67.2088H44.2174L44.1611 66.8578H44.1454C44.0989 66.9313 44.0396 66.998 43.9676 67.058C43.8971 67.118 43.8123 67.166 43.7133 67.2021C43.6158 67.2366 43.5003 67.2538 43.3668 67.2538ZM43.4253 66.9433C43.6893 66.9433 43.8761 66.8683 43.9856 66.7183C44.0951 66.5682 44.1499 66.3455 44.1499 66.0499V65.9824C44.1499 65.6689 44.0974 65.4281 43.9924 65.2601C43.8889 65.0921 43.6998 65.0081 43.4253 65.0081C43.1958 65.0081 43.024 65.0966 42.91 65.2736C42.796 65.4491 42.739 65.6892 42.739 65.9937C42.739 66.2967 42.7953 66.5307 42.9078 66.6958C43.0218 66.8608 43.1943 66.9433 43.4253 66.9433ZM46.2336 64.7021C46.5276 64.7021 46.7459 64.7681 46.8884 64.9001C47.0309 65.0321 47.1022 65.2429 47.1022 65.5324V67.2088H46.8299L46.7579 66.8443H46.7399C46.6709 66.9343 46.5989 67.01 46.5239 67.0715C46.4489 67.1315 46.3618 67.1773 46.2628 67.2088C46.1653 67.2388 46.0453 67.2538 45.9028 67.2538C45.7528 67.2538 45.6193 67.2276 45.5023 67.175C45.3868 67.1225 45.2952 67.043 45.2277 66.9365C45.1617 66.83 45.1287 66.695 45.1287 66.5315C45.1287 66.2855 45.2262 66.0964 45.4213 65.9644C45.6163 65.8324 45.9133 65.7604 46.3123 65.7484L46.7376 65.7304V65.5796C46.7376 65.3666 46.6919 65.2174 46.6004 65.1318C46.5089 65.0463 46.3798 65.0036 46.2133 65.0036C46.0843 65.0036 45.9613 65.0223 45.8443 65.0598C45.7273 65.0973 45.6163 65.1416 45.5113 65.1926L45.3965 64.9091C45.5075 64.8521 45.635 64.8033 45.779 64.7628C45.9231 64.7223 46.0746 64.7021 46.2336 64.7021ZM46.7331 65.9937L46.3573 66.0094C46.0498 66.0214 45.833 66.0717 45.707 66.1602C45.581 66.2487 45.518 66.374 45.518 66.536C45.518 66.677 45.5608 66.7813 45.6463 66.8488C45.7318 66.9163 45.845 66.95 45.9861 66.95C46.2051 66.95 46.3843 66.8893 46.5239 66.7678C46.6634 66.6462 46.7331 66.464 46.7331 66.221V65.9937ZM51.3461 65.5661C51.3461 65.7087 51.3296 65.8482 51.2966 65.9847C51.2651 66.1197 51.2163 66.242 51.1503 66.3515C51.0843 66.4595 51.0018 66.5457 50.9028 66.6102C50.8053 66.6747 50.6898 66.707 50.5563 66.707C50.4167 66.707 50.3057 66.6665 50.2232 66.5855C50.1407 66.5045 50.0912 66.4085 50.0747 66.2975H50.0545C49.9975 66.416 49.9134 66.5142 49.8024 66.5922C49.6929 66.6687 49.5579 66.707 49.3974 66.707C49.1634 66.707 48.9826 66.6297 48.8551 66.4752C48.7291 66.3192 48.6661 66.1122 48.6661 65.8542C48.6661 65.6532 48.7058 65.4754 48.7853 65.3209C48.8663 65.1649 48.9796 65.0426 49.1251 64.9541C49.2721 64.8641 49.4454 64.8191 49.6449 64.8191C49.7784 64.8191 49.9082 64.8303 50.0342 64.8528C50.1602 64.8753 50.2607 64.9001 50.3357 64.9271L50.2907 65.8339C50.2892 65.8894 50.2877 65.9322 50.2862 65.9622C50.2847 65.9907 50.284 66.0132 50.284 66.0297C50.284 66.1917 50.3125 66.3012 50.3695 66.3582C50.428 66.4137 50.4985 66.4415 50.581 66.4415C50.6815 66.4415 50.7655 66.4025 50.833 66.3245C50.902 66.245 50.9545 66.1392 50.9905 66.0072C51.0266 65.8737 51.0446 65.7259 51.0446 65.5639C51.0446 65.2774 50.9868 65.0328 50.8713 64.8303C50.7558 64.6278 50.596 64.4733 50.392 64.3668C50.1895 64.2603 49.9562 64.207 49.6922 64.207C49.4296 64.207 49.1964 64.2483 48.9924 64.3308C48.7898 64.4133 48.6181 64.5303 48.4771 64.6818C48.3375 64.8318 48.2318 65.0103 48.1598 65.2174C48.0878 65.4244 48.0518 65.6532 48.0518 65.9037C48.0518 66.2097 48.1058 66.47 48.2138 66.6845C48.3233 66.899 48.4831 67.0625 48.6931 67.175C48.9046 67.2861 49.1619 67.3416 49.4649 67.3416C49.6479 67.3416 49.8242 67.3213 49.9937 67.2808C50.1632 67.2403 50.3147 67.1945 50.4482 67.1435V67.4361C50.3162 67.4916 50.1685 67.5366 50.005 67.5711C49.8414 67.6071 49.6614 67.6251 49.4649 67.6251C49.1034 67.6251 48.7943 67.5568 48.5378 67.4203C48.2813 67.2853 48.0848 67.0903 47.9483 66.8353C47.8117 66.5802 47.7435 66.2742 47.7435 65.9172C47.7435 65.6276 47.7877 65.3614 47.8762 65.1183C47.9663 64.8753 48.0953 64.6646 48.2633 64.486C48.4328 64.3075 48.6376 64.1695 48.8776 64.072C49.1191 63.973 49.3906 63.9235 49.6922 63.9235C50.0147 63.9235 50.2997 63.9902 50.5473 64.1238C50.7963 64.2558 50.9913 64.4448 51.1323 64.6908C51.2748 64.9353 51.3461 65.2271 51.3461 65.5661ZM49.0014 65.8632C49.0014 66.0627 49.0411 66.209 49.1206 66.302C49.2001 66.395 49.3104 66.4415 49.4514 66.4415C49.6254 66.4415 49.7529 66.3762 49.8339 66.2457C49.9164 66.1152 49.9637 65.9427 49.9757 65.7282L50.0027 65.1409C49.9592 65.1273 49.9059 65.1161 49.8429 65.1071C49.7814 65.0966 49.7169 65.0913 49.6494 65.0913C49.4949 65.0913 49.3696 65.1281 49.2736 65.2016C49.1791 65.2751 49.1101 65.3704 49.0666 65.4874C49.0231 65.6044 49.0014 65.7297 49.0014 65.8632ZM53.162 64.6976C53.4695 64.6976 53.7148 64.8033 53.8978 65.0148C54.0808 65.2264 54.1724 65.5444 54.1724 65.9689C54.1724 66.2495 54.1304 66.485 54.0463 66.6755C53.9623 66.866 53.8438 67.01 53.6908 67.1075C53.5393 67.2051 53.36 67.2538 53.153 67.2538C53.0225 67.2538 52.9077 67.2366 52.8087 67.2021C52.7097 67.1675 52.625 67.121 52.5544 67.0625C52.4839 67.004 52.4254 66.9403 52.3789 66.8713H52.3519C52.3564 66.9298 52.3617 67.0003 52.3677 67.0828C52.3752 67.1653 52.3789 67.2373 52.3789 67.2988V68.3114H52.0031V64.7426H52.3114L52.3609 65.1071H52.3789C52.4269 65.0321 52.4854 64.9638 52.5544 64.9023C52.6235 64.8393 52.7075 64.7898 52.8065 64.7538C52.907 64.7163 53.0255 64.6976 53.162 64.6976ZM53.0968 65.0126C52.9257 65.0126 52.7877 65.0456 52.6827 65.1116C52.5792 65.1776 52.5034 65.2766 52.4554 65.4086C52.4074 65.5391 52.3819 65.7034 52.3789 65.9014V65.9734C52.3789 66.182 52.4014 66.3582 52.4464 66.5022C52.4929 66.6462 52.5687 66.7558 52.6737 66.8308C52.7802 66.9058 52.9227 66.9433 53.1013 66.9433C53.2543 66.9433 53.3818 66.902 53.4838 66.8195C53.5858 66.737 53.6616 66.6222 53.7111 66.4752C53.7621 66.3267 53.7876 66.1564 53.7876 65.9644C53.7876 65.6734 53.7306 65.4424 53.6166 65.2714C53.504 65.0988 53.3308 65.0126 53.0968 65.0126ZM55.7475 64.7021C56.0415 64.7021 56.2598 64.7681 56.4023 64.9001C56.5448 65.0321 56.6161 65.2429 56.6161 65.5324V67.2088H56.3438L56.2718 66.8443H56.2538C56.1848 66.9343 56.1128 67.01 56.0378 67.0715C55.9628 67.1315 55.8758 67.1773 55.7768 67.2088C55.6793 67.2388 55.5592 67.2538 55.4167 67.2538C55.2667 67.2538 55.1332 67.2276 55.0162 67.175C54.9007 67.1225 54.8092 67.043 54.7417 66.9365C54.6757 66.83 54.6427 66.695 54.6427 66.5315C54.6427 66.2855 54.7402 66.0964 54.9352 65.9644C55.1302 65.8324 55.4272 65.7604 55.8263 65.7484L56.2516 65.7304V65.5796C56.2516 65.3666 56.2058 65.2174 56.1143 65.1318C56.0228 65.0463 55.8938 65.0036 55.7273 65.0036C55.5982 65.0036 55.4752 65.0223 55.3582 65.0598C55.2412 65.0973 55.1302 65.1416 55.0252 65.1926L54.9104 64.9091C55.0214 64.8521 55.149 64.8033 55.293 64.7628C55.437 64.7223 55.5885 64.7021 55.7475 64.7021ZM56.2471 65.9937L55.8713 66.0094C55.5637 66.0214 55.347 66.0717 55.221 66.1602C55.0949 66.2487 55.0319 66.374 55.0319 66.536C55.0319 66.677 55.0747 66.7813 55.1602 66.8488C55.2457 66.9163 55.359 66.95 55.5 66.95C55.719 66.95 55.8983 66.8893 56.0378 66.7678C56.1773 66.6462 56.2471 66.464 56.2471 66.221V65.9937ZM58.9811 66.5337C58.9811 66.6913 58.9413 66.824 58.8618 66.932C58.7838 67.0385 58.6713 67.1188 58.5243 67.1728C58.3788 67.2268 58.2047 67.2538 58.0022 67.2538C57.8297 67.2538 57.6804 67.2403 57.5544 67.2133C57.4284 67.1863 57.3182 67.148 57.2237 67.0985V66.7543C57.3242 66.8038 57.4442 66.8488 57.5837 66.8893C57.7232 66.9298 57.8657 66.95 58.0112 66.95C58.2243 66.95 58.3788 66.9155 58.4748 66.8465C58.5708 66.7775 58.6188 66.6838 58.6188 66.5652C58.6188 66.4977 58.5993 66.4385 58.5603 66.3875C58.5228 66.335 58.459 66.2847 58.369 66.2367C58.279 66.1872 58.1545 66.1332 57.9955 66.0747C57.838 66.0147 57.7014 65.9554 57.5859 65.8969C57.4719 65.8369 57.3834 65.7642 57.3204 65.6787C57.2589 65.5931 57.2282 65.4821 57.2282 65.3456C57.2282 65.1371 57.3122 64.9773 57.4802 64.8663C57.6497 64.7538 57.8717 64.6976 58.1462 64.6976C58.2948 64.6976 58.4335 64.7126 58.5625 64.7426C58.693 64.7711 58.8146 64.8101 58.9271 64.8596L58.8011 65.1589C58.699 65.1153 58.5903 65.0786 58.4748 65.0486C58.3593 65.0186 58.2415 65.0036 58.1215 65.0036C57.949 65.0036 57.8162 65.0321 57.7232 65.0891C57.6317 65.1461 57.5859 65.2241 57.5859 65.3231C57.5859 65.3996 57.6069 65.4626 57.6489 65.5121C57.6924 65.5616 57.7615 65.6081 57.856 65.6516C57.9505 65.6952 58.075 65.7462 58.2295 65.8047C58.384 65.8617 58.5175 65.9209 58.63 65.9824C58.7426 66.0424 58.8288 66.1159 58.8888 66.203C58.9503 66.2885 58.9811 66.3987 58.9811 66.5337ZM61.1773 66.5337C61.1773 66.6913 61.1375 66.824 61.058 66.932C60.98 67.0385 60.8675 67.1188 60.7205 67.1728C60.575 67.2268 60.401 67.2538 60.1984 67.2538C60.0259 67.2538 59.8767 67.2403 59.7506 67.2133C59.6246 67.1863 59.5144 67.148 59.4199 67.0985V66.7543C59.5204 66.8038 59.6404 66.8488 59.7799 66.8893C59.9194 66.9298 60.0619 66.95 60.2074 66.95C60.4205 66.95 60.575 66.9155 60.671 66.8465C60.767 66.7775 60.815 66.6838 60.815 66.5652C60.815 66.4977 60.7955 66.4385 60.7565 66.3875C60.719 66.335 60.6552 66.2847 60.5652 66.2367C60.4752 66.1872 60.3507 66.1332 60.1917 66.0747C60.0342 66.0147 59.8977 65.9554 59.7822 65.8969C59.6681 65.8369 59.5796 65.7642 59.5166 65.6787C59.4551 65.5931 59.4244 65.4821 59.4244 65.3456C59.4244 65.1371 59.5084 64.9773 59.6764 64.8663C59.8459 64.7538 60.0679 64.6976 60.3425 64.6976C60.491 64.6976 60.6297 64.7126 60.7587 64.7426C60.8893 64.7711 61.0108 64.8101 61.1233 64.8596L60.9973 65.1589C60.8953 65.1153 60.7865 65.0786 60.671 65.0486C60.5555 65.0186 60.4377 65.0036 60.3177 65.0036C60.1452 65.0036 60.0124 65.0321 59.9194 65.0891C59.8279 65.1461 59.7822 65.2241 59.7822 65.3231C59.7822 65.3996 59.8032 65.4626 59.8452 65.5121C59.8887 65.5616 59.9577 65.6081 60.0522 65.6516C60.1467 65.6952 60.2712 65.7462 60.4257 65.8047C60.5802 65.8617 60.7137 65.9209 60.8263 65.9824C60.9388 66.0424 61.025 66.1159 61.085 66.203C61.1465 66.2885 61.1773 66.3987 61.1773 66.5337ZM62.1516 63.7075V64.5828C62.1516 64.6833 62.1486 64.7808 62.1426 64.8753C62.1381 64.9698 62.1344 65.0433 62.1314 65.0958H62.1516C62.2191 64.9848 62.3166 64.8911 62.4442 64.8146C62.5717 64.7381 62.7344 64.6998 62.9325 64.6998C63.2415 64.6998 63.4875 64.8071 63.6705 65.0216C63.855 65.2346 63.9473 65.5519 63.9473 65.9734C63.9473 66.251 63.9053 66.485 63.8213 66.6755C63.7373 66.866 63.6188 67.01 63.4658 67.1075C63.3127 67.2051 63.132 67.2538 62.9235 67.2538C62.7284 67.2538 62.5679 67.2178 62.4419 67.1458C62.3174 67.0723 62.2214 66.983 62.1539 66.878H62.1246L62.0481 67.2088H61.7781V63.7075H62.1516ZM62.8717 65.0126C62.6932 65.0126 62.5514 65.0478 62.4464 65.1183C62.3414 65.1874 62.2656 65.2924 62.2191 65.4334C62.1741 65.5729 62.1516 65.7499 62.1516 65.9644V65.9847C62.1516 66.2952 62.2034 66.533 62.3069 66.698C62.4104 66.8615 62.5987 66.9433 62.8717 66.9433C63.1012 66.9433 63.273 66.8593 63.387 66.6913C63.5025 66.5232 63.5603 66.2832 63.5603 65.9712C63.5603 65.6532 63.5033 65.4139 63.3893 65.2534C63.2767 65.0928 63.1042 65.0126 62.8717 65.0126ZM66.7263 65.9712C66.7263 66.1737 66.7001 66.3545 66.6476 66.5135C66.5951 66.6725 66.5193 66.8068 66.4203 66.9163C66.3213 67.0258 66.2013 67.1098 66.0603 67.1683C65.9207 67.2253 65.7625 67.2538 65.5855 67.2538C65.4204 67.2538 65.2689 67.2253 65.1309 67.1683C64.9944 67.1098 64.8759 67.0258 64.7754 66.9163C64.6764 66.8068 64.5991 66.6725 64.5436 66.5135C64.4896 66.3545 64.4626 66.1737 64.4626 65.9712C64.4626 65.7012 64.5084 65.4716 64.5999 65.2826C64.6914 65.0921 64.8219 64.9473 64.9914 64.8483C65.1624 64.7478 65.3657 64.6976 65.6012 64.6976C65.8262 64.6976 66.0228 64.7478 66.1908 64.8483C66.3603 64.9488 66.4916 65.0943 66.5846 65.2849C66.6791 65.4739 66.7263 65.7027 66.7263 65.9712ZM64.8496 65.9712C64.8496 66.1692 64.8759 66.341 64.9284 66.4865C64.9809 66.632 65.0619 66.7445 65.1714 66.824C65.2809 66.9035 65.4219 66.9433 65.5945 66.9433C65.7655 66.9433 65.9057 66.9035 66.0153 66.824C66.1263 66.7445 66.208 66.632 66.2605 66.4865C66.313 66.341 66.3393 66.1692 66.3393 65.9712C66.3393 65.7747 66.313 65.6051 66.2605 65.4626C66.208 65.3186 66.127 65.2076 66.0175 65.1296C65.908 65.0516 65.7662 65.0126 65.5922 65.0126C65.3357 65.0126 65.1474 65.0973 65.0274 65.2669C64.9089 65.4364 64.8496 65.6712 64.8496 65.9712ZM67.7479 67.2088H67.3721V63.7075H67.7479V67.2088ZM69.3343 66.9478C69.3958 66.9478 69.4588 66.9425 69.5233 66.932C69.5879 66.9215 69.6404 66.9088 69.6809 66.8938V67.184C69.6374 67.2036 69.5766 67.2201 69.4986 67.2336C69.4221 67.2471 69.3471 67.2538 69.2736 67.2538C69.1431 67.2538 69.0246 67.2313 68.918 67.1863C68.8115 67.1398 68.726 67.0618 68.6615 66.9523C68.5985 66.8428 68.567 66.6913 68.567 66.4977V65.0351H68.216V64.8528L68.5693 64.7066L68.7178 64.171H68.9428V64.7426H69.6651V65.0351H68.9428V66.4865C68.9428 66.641 68.978 66.7565 69.0486 66.833C69.1206 66.9095 69.2158 66.9478 69.3343 66.9478ZM70.1242 66.9748C70.1242 66.8698 70.1497 66.7955 70.2007 66.752C70.2517 66.707 70.3139 66.6845 70.3874 66.6845C70.4639 66.6845 70.5284 66.707 70.581 66.752C70.6335 66.7955 70.6597 66.8698 70.6597 66.9748C70.6597 67.0783 70.6335 67.154 70.581 67.2021C70.5284 67.2486 70.4639 67.2718 70.3874 67.2718C70.3139 67.2718 70.2517 67.2486 70.2007 67.2021C70.1497 67.154 70.1242 67.0783 70.1242 66.9748ZM72.3789 67.2538C72.1569 67.2538 71.9611 67.2081 71.7916 67.1165C71.6221 67.025 71.49 66.8855 71.3955 66.698C71.301 66.5105 71.2538 66.2742 71.2538 65.9892C71.2538 65.6907 71.3033 65.4469 71.4023 65.2579C71.5028 65.0673 71.6408 64.9263 71.8163 64.8348C71.9918 64.7433 72.1914 64.6976 72.4149 64.6976C72.5379 64.6976 72.6564 64.7103 72.7704 64.7358C72.8859 64.7598 72.9804 64.7906 73.0539 64.8281L72.9414 65.1409C72.8664 65.1108 72.7794 65.0838 72.6804 65.0598C72.5829 65.0358 72.4914 65.0238 72.4059 65.0238C72.2349 65.0238 72.0923 65.0606 71.9783 65.1341C71.8658 65.2076 71.7811 65.3156 71.7241 65.4581C71.6686 65.6006 71.6408 65.7762 71.6408 65.9847C71.6408 66.1842 71.6678 66.3545 71.7218 66.4955C71.7773 66.6365 71.8591 66.7445 71.9671 66.8195C72.0766 66.893 72.2131 66.9298 72.3766 66.9298C72.5071 66.9298 72.6249 66.9163 72.7299 66.8893C72.8349 66.8608 72.9302 66.8278 73.0157 66.7903V67.1233C72.9332 67.1653 72.8409 67.1976 72.7389 67.2201C72.6384 67.2426 72.5184 67.2538 72.3789 67.2538ZM75.7272 65.9712C75.7272 66.1737 75.7009 66.3545 75.6484 66.5135C75.5959 66.6725 75.5202 66.8068 75.4212 66.9163C75.3222 67.0258 75.2021 67.1098 75.0611 67.1683C74.9216 67.2253 74.7634 67.2538 74.5863 67.2538C74.4213 67.2538 74.2698 67.2253 74.1318 67.1683C73.9953 67.1098 73.8768 67.0258 73.7763 66.9163C73.6773 66.8068 73.6 66.6725 73.5445 66.5135C73.4905 66.3545 73.4635 66.1737 73.4635 65.9712C73.4635 65.7012 73.5092 65.4716 73.6007 65.2826C73.6923 65.0921 73.8228 64.9473 73.9923 64.8483C74.1633 64.7478 74.3666 64.6976 74.6021 64.6976C74.8271 64.6976 75.0236 64.7478 75.1916 64.8483C75.3612 64.9488 75.4924 65.0943 75.5854 65.2849C75.6799 65.4739 75.7272 65.7027 75.7272 65.9712ZM73.8505 65.9712C73.8505 66.1692 73.8768 66.341 73.9293 66.4865C73.9818 66.632 74.0628 66.7445 74.1723 66.824C74.2818 66.9035 74.4228 66.9433 74.5953 66.9433C74.7664 66.9433 74.9066 66.9035 75.0161 66.824C75.1271 66.7445 75.2089 66.632 75.2614 66.4865C75.3139 66.341 75.3402 66.1692 75.3402 65.9712C75.3402 65.7747 75.3139 65.6051 75.2614 65.4626C75.2089 65.3186 75.1279 65.2076 75.0184 65.1296C74.9089 65.0516 74.7671 65.0126 74.5931 65.0126C74.3366 65.0126 74.1483 65.0973 74.0283 65.2669C73.9098 65.4364 73.8505 65.6712 73.8505 65.9712ZM79.0508 64.6976C79.3223 64.6976 79.5271 64.7688 79.6651 64.9113C79.8031 65.0523 79.8721 65.2796 79.8721 65.5931V67.2088H79.5031V65.6111C79.5031 65.4116 79.4596 65.2624 79.3726 65.1634C79.287 65.0628 79.1595 65.0126 78.99 65.0126C78.7515 65.0126 78.5782 65.0816 78.4702 65.2196C78.3622 65.3576 78.3082 65.5609 78.3082 65.8294V67.2088H77.9369V65.6111C77.9369 65.4776 77.9174 65.3666 77.8784 65.2781C77.8409 65.1896 77.7839 65.1236 77.7074 65.0801C77.6324 65.0351 77.5371 65.0126 77.4216 65.0126C77.2581 65.0126 77.1268 65.0463 77.0278 65.1138C76.9288 65.1814 76.8568 65.2819 76.8118 65.4154C76.7683 65.5474 76.7465 65.7102 76.7465 65.9037V67.2088H76.373V64.7426H76.6745L76.7308 65.0913H76.7511C76.8006 65.0058 76.8628 64.9338 76.9378 64.8753C77.0128 64.8168 77.0968 64.7726 77.1898 64.7426C77.2829 64.7126 77.3819 64.6976 77.4869 64.6976C77.6744 64.6976 77.8312 64.7328 77.9572 64.8033C78.0847 64.8723 78.1769 64.9781 78.2339 65.1206H78.2542C78.3352 64.9781 78.4462 64.8723 78.5872 64.8033C78.7282 64.7328 78.8828 64.6976 79.0508 64.6976Z",fill:"#020202"}),a.createElement("path",{d:"M42.3809 59.2178V52.1982L40.8472 52.8176L40.4048 51.3724L42.897 50.0304H44.475V59.2178H42.3809ZM47.6308 57.7136C48.2207 57.1532 48.7368 56.6617 49.1793 56.2389C49.6217 55.8162 50.0002 55.4426 50.3148 55.1182C50.6392 54.7839 50.8997 54.4791 51.0964 54.2038C51.3028 53.9286 51.4503 53.6582 51.5388 53.3928C51.6371 53.1273 51.6863 52.8422 51.6863 52.5374C51.6863 52.39 51.6666 52.2572 51.6273 52.1393C51.5879 52.0213 51.524 51.923 51.4356 51.8443C51.3471 51.7558 51.2291 51.687 51.0816 51.6379C50.944 51.5887 50.7719 51.5641 50.5655 51.5641C50.3787 51.5641 50.2066 51.5838 50.0493 51.6231C49.892 51.6526 49.7446 51.7067 49.6069 51.7853C49.4693 51.864 49.3415 51.9672 49.2235 52.095C49.1252 52.2228 49.0613 52.3211 49.0318 52.39C49.0121 52.4588 49.0072 52.5325 49.017 52.6112L48.9138 52.7439L48.8106 52.6702L47.4096 51.5936C47.6456 51.2102 47.9307 50.8907 48.2649 50.6351C48.5992 50.3794 48.963 50.1877 49.3562 50.0599C49.7593 49.9223 50.1722 49.8535 50.595 49.8535C51.1455 49.8535 51.6469 49.9665 52.0992 50.1926C52.5612 50.4089 52.9299 50.7186 53.2052 51.1217C53.4805 51.515 53.6181 51.982 53.6181 52.5227C53.6181 52.8864 53.5739 53.2256 53.4854 53.5402C53.3969 53.8548 53.2642 54.1596 53.0872 54.4545C52.9201 54.7495 52.7087 55.0543 52.4531 55.3689C52.1975 55.6835 51.8927 56.0177 51.5388 56.3717C51.1947 56.7256 50.8063 57.1188 50.3738 57.5514H52.925C53.0921 57.5514 53.2101 57.5416 53.2789 57.5219C53.3478 57.5023 53.4117 57.4679 53.4706 57.4187H53.6329V57.5514V59.2178H47.6308V57.7136ZM57.762 59.3948C57.182 59.3948 56.6118 59.3063 56.0514 59.1294C55.491 58.9426 55.0535 58.6525 54.7389 58.2593L55.6974 56.7551L55.7712 56.6371L55.9187 56.7256C55.9383 56.7944 55.958 56.8731 55.9776 56.9615C56.0071 57.0402 56.0809 57.1385 56.1988 57.2565C56.3955 57.4138 56.6167 57.5416 56.8625 57.6399C57.1181 57.7284 57.3835 57.7726 57.6588 57.7726C57.9243 57.7726 58.1504 57.7235 58.3372 57.6252C58.524 57.5268 58.6665 57.3892 58.7648 57.2122C58.873 57.0254 58.927 56.8141 58.927 56.5781C58.927 56.3028 58.8828 56.0718 58.7943 55.885C58.7058 55.6982 58.5682 55.5557 58.3814 55.4573C58.1946 55.3492 57.9537 55.2853 57.6588 55.2656C57.3737 55.2361 57.0296 55.246 56.6265 55.2951V53.6729C57.0296 53.6926 57.3688 53.6779 57.6441 53.6287C57.9292 53.5796 58.1553 53.5058 58.3224 53.4075C58.4896 53.2994 58.6075 53.1765 58.6763 53.0388C58.755 52.9012 58.7943 52.7537 58.7943 52.5964C58.7943 52.4293 58.7648 52.2818 58.7058 52.154C58.6567 52.0262 58.583 51.9181 58.4846 51.8296C58.3863 51.7313 58.2634 51.6575 58.116 51.6084C57.9783 51.5592 57.821 51.5346 57.6441 51.5346C57.4474 51.5346 57.2508 51.5641 57.0542 51.6231C56.8575 51.6723 56.6757 51.7509 56.5085 51.8591C56.3414 51.9672 56.1939 52.1048 56.0661 52.272L54.8864 51.0627C55.2501 50.6301 55.6876 50.3205 56.1988 50.1337C56.7199 49.9469 57.2361 49.8535 57.7473 49.8535C58.3175 49.8535 58.8287 49.9616 59.281 50.1779C59.7431 50.3844 60.1068 50.6695 60.3723 51.0332C60.6377 51.397 60.7704 51.8099 60.7704 52.272C60.7704 52.6259 60.6918 52.9405 60.5345 53.2158C60.387 53.4911 60.2002 53.7221 59.9741 53.9089C59.7578 54.0859 59.5464 54.2235 59.34 54.3218C59.5956 54.4103 59.8512 54.5529 60.1068 54.7495C60.3624 54.9363 60.5738 55.187 60.7409 55.5016C60.9179 55.8162 61.0064 56.1947 61.0064 56.6371C61.0064 57.1582 60.8687 57.6301 60.5935 58.0528C60.328 58.4657 59.9544 58.7951 59.4727 59.0409C58.991 59.2768 58.4207 59.3948 57.762 59.3948ZM73.0105 59.2178V57.0943H69.6481V55.767L73.4824 50.0304H74.9718V55.4278H76.1958V57.109H74.9718V59.2178H73.0105ZM71.6537 55.4721H73.0695V53.1716L71.6537 55.4721ZM80.2955 59.3948C79.6073 59.3948 78.9928 59.2768 78.4521 59.0409C77.9114 58.7951 77.5083 58.4166 77.2429 57.9053L78.6438 56.7403L78.7471 56.6519L78.8503 56.7698C78.8503 56.8485 78.865 56.9222 78.8945 56.991C78.924 57.0599 78.9879 57.1582 79.0862 57.286C79.2435 57.4334 79.4205 57.5465 79.6171 57.6252C79.8138 57.7038 80.0202 57.7431 80.2365 57.7431C80.443 57.7431 80.6249 57.7087 80.7822 57.6399C80.9493 57.5613 81.0918 57.4531 81.2098 57.3155C81.3278 57.1778 81.4163 57.0254 81.4753 56.8583C81.5343 56.6813 81.5637 56.4995 81.5637 56.3127C81.5637 56.0865 81.5343 55.8801 81.4753 55.6933C81.4261 55.4967 81.3475 55.3295 81.2393 55.1919C81.1312 55.0444 80.9935 54.9314 80.8264 54.8527C80.6593 54.7642 80.4626 54.72 80.2365 54.72C80.0497 54.72 79.8728 54.7397 79.7056 54.779C79.5385 54.8183 79.3861 54.8871 79.2485 54.9854C79.1207 55.0739 79.0027 55.1919 78.8945 55.3394L77.641 55.0739L77.9802 50.0304H83.0679V51.6526H79.7204L79.6024 53.3633C79.6909 53.3043 79.8039 53.2502 79.9416 53.201C80.0792 53.1519 80.2218 53.1175 80.3692 53.0978C80.5167 53.0683 80.6494 53.0536 80.7674 53.0536C81.1803 53.0536 81.5539 53.1175 81.8882 53.2453C82.2224 53.3731 82.5076 53.5648 82.7435 53.8204C82.9893 54.0662 83.1761 54.3808 83.3039 54.7642C83.4317 55.1477 83.4956 55.5901 83.4956 56.0915C83.4956 56.7698 83.358 57.3597 83.0827 57.8611C82.8074 58.3527 82.4289 58.7312 81.9472 58.9966C81.4753 59.2621 80.9247 59.3948 80.2955 59.3948ZM87.7722 59.3948C87.0841 59.3948 86.4991 59.2129 86.0174 58.8492C85.5356 58.4756 85.1719 57.9594 84.9261 57.3007C84.6803 56.6322 84.5574 55.8604 84.5574 54.9854C84.5574 53.9138 84.7147 52.9995 85.0293 52.2425C85.3439 51.4756 85.7667 50.8858 86.2975 50.4728C86.8383 50.0599 87.4478 49.8535 88.1262 49.8535C88.5489 49.8535 88.9913 49.9272 89.4534 50.0747C89.9253 50.2123 90.3284 50.4532 90.6627 50.7973L89.5861 52.0065L89.4977 52.1098L89.3649 52.0065C89.3551 51.9279 89.3207 51.8689 89.2617 51.8296C89.2027 51.7902 89.1044 51.7313 88.9668 51.6526C88.9078 51.6329 88.8439 51.6182 88.775 51.6084C88.7062 51.5887 88.6374 51.574 88.5686 51.5641C88.4998 51.5543 88.4309 51.5494 88.3621 51.5494C88.2245 51.5494 88.077 51.5641 87.9197 51.5936C87.7722 51.6231 87.6297 51.6821 87.4921 51.7706C87.3544 51.8492 87.2217 51.9672 87.0939 52.1245C86.9759 52.2818 86.8727 52.4883 86.7842 52.7439C86.6957 52.9995 86.6318 53.319 86.5925 53.7024C86.7203 53.5746 86.8678 53.4665 87.0349 53.378C87.2119 53.2895 87.3937 53.2207 87.5805 53.1716C87.7673 53.1224 87.9492 53.0978 88.1262 53.0978C88.5096 53.0978 88.8635 53.1568 89.188 53.2748C89.5124 53.3829 89.7926 53.5599 90.0285 53.8057C90.2743 54.0416 90.4611 54.3513 90.5889 54.7347C90.7266 55.1083 90.7954 55.5606 90.7954 56.0915C90.7954 56.701 90.6676 57.2565 90.412 57.7579C90.1564 58.2593 89.8024 58.6574 89.3502 58.9524C88.8979 59.2473 88.372 59.3948 87.7722 59.3948ZM87.8017 57.7726C87.9689 57.7726 88.1163 57.7284 88.2442 57.6399C88.3818 57.5514 88.4998 57.4334 88.5981 57.286C88.6964 57.1287 88.7701 56.9517 88.8193 56.7551C88.8684 56.5486 88.893 56.3274 88.893 56.0915C88.893 55.8555 88.8635 55.6491 88.8045 55.4721C88.7456 55.2951 88.662 55.1477 88.5538 55.0297C88.4555 54.9117 88.3376 54.8232 88.1999 54.7642C88.0721 54.7052 87.9345 54.6757 87.787 54.6757C87.6592 54.6757 87.5412 54.6954 87.4331 54.7347C87.3249 54.7741 87.2217 54.833 87.1234 54.9117C87.0349 54.9805 86.9464 55.069 86.8579 55.1771C86.7793 55.2755 86.7006 55.3934 86.622 55.5311C86.622 55.9243 86.6515 56.2635 86.7105 56.5486C86.7694 56.8337 86.8481 57.0697 86.9464 57.2565C87.0546 57.4334 87.1775 57.5662 87.3151 57.6546C87.4626 57.7333 87.6248 57.7726 87.8017 57.7726Z",fill:"#020202"}),a.createElement("path",{d:"M40.9996 41.937C41.4241 41.937 41.7339 42.0285 41.9289 42.2115C42.124 42.393 42.2215 42.6436 42.2215 42.9631C42.2215 43.1071 42.1997 43.2451 42.1562 43.3771C42.1127 43.5076 42.0414 43.6239 41.9424 43.7259C41.8449 43.8279 41.7144 43.9089 41.5509 43.9689C41.3874 44.0274 41.1856 44.0567 40.9456 44.0567H40.6463V45.2268H39.9487V41.937H40.9996ZM40.9636 42.5085H40.6463V43.4851H40.8758C41.0063 43.4851 41.1196 43.4679 41.2156 43.4334C41.3116 43.3989 41.3859 43.3449 41.4384 43.2714C41.4909 43.1979 41.5171 43.1034 41.5171 42.9878C41.5171 42.8258 41.4721 42.7058 41.3821 42.6278C41.2921 42.5483 41.1526 42.5085 40.9636 42.5085ZM43.8191 42.6593C44.1566 42.6593 44.4154 42.7328 44.5954 42.8798C44.7755 43.0268 44.8655 43.2504 44.8655 43.5504V45.2268H44.3862L44.2534 44.8848H44.2354C44.1634 44.9748 44.0899 45.0483 44.0149 45.1053C43.9399 45.1623 43.8536 45.2043 43.7561 45.2313C43.6586 45.2583 43.5401 45.2718 43.4006 45.2718C43.2521 45.2718 43.1185 45.2433 43 45.1863C42.883 45.1293 42.7908 45.0423 42.7233 44.9253C42.6558 44.8068 42.622 44.6568 42.622 44.4752C42.622 44.2082 42.7158 44.0117 42.9033 43.8857C43.0908 43.7582 43.3721 43.6877 43.7471 43.6742L44.1837 43.6607V43.5504C44.1837 43.4184 44.1491 43.3216 44.0801 43.2601C44.0111 43.1986 43.9151 43.1679 43.7921 43.1679C43.6706 43.1679 43.5513 43.1851 43.4343 43.2196C43.3173 43.2541 43.2003 43.2976 43.0833 43.3501L42.856 42.8866C42.9895 42.8161 43.1388 42.7606 43.3038 42.7201C43.4703 42.6796 43.6421 42.6593 43.8191 42.6593ZM44.1837 44.0612L43.9181 44.0702C43.6961 44.0762 43.5416 44.1159 43.4546 44.1895C43.3691 44.263 43.3263 44.3597 43.3263 44.4797C43.3263 44.5847 43.3571 44.6598 43.4186 44.7048C43.4801 44.7483 43.5603 44.77 43.6593 44.77C43.8064 44.77 43.9301 44.7265 44.0306 44.6395C44.1326 44.5525 44.1837 44.4287 44.1837 44.2682V44.0612ZM47.3295 44.4797C47.3295 44.6508 47.289 44.7955 47.2079 44.914C47.1284 45.031 47.0092 45.1203 46.8502 45.1818C46.6911 45.2418 46.4931 45.2718 46.2561 45.2718C46.0806 45.2718 45.9298 45.2606 45.8038 45.2381C45.6793 45.2156 45.5533 45.1781 45.4258 45.1255V44.5585C45.5623 44.62 45.7085 44.671 45.8646 44.7115C46.0221 44.7505 46.1601 44.77 46.2786 44.77C46.4121 44.77 46.5074 44.7505 46.5644 44.7115C46.6229 44.671 46.6521 44.6185 46.6521 44.554C46.6521 44.512 46.6401 44.4745 46.6161 44.4415C46.5936 44.407 46.5441 44.3687 46.4676 44.3267C46.3911 44.2832 46.2711 44.227 46.1076 44.158C45.9501 44.0919 45.8203 44.0252 45.7183 43.9577C45.6178 43.8902 45.5428 43.8107 45.4933 43.7192C45.4453 43.6262 45.4213 43.5084 45.4213 43.3659C45.4213 43.1334 45.5113 42.9586 45.6913 42.8416C45.8728 42.7231 46.1151 42.6638 46.4181 42.6638C46.5741 42.6638 46.7226 42.6796 46.8637 42.7111C47.0062 42.7426 47.1524 42.7928 47.3025 42.8618L47.0954 43.3569C46.9709 43.3029 46.8532 43.2586 46.7421 43.2241C46.6326 43.1896 46.5209 43.1724 46.4069 43.1724C46.3064 43.1724 46.2306 43.1859 46.1796 43.2129C46.1286 43.2399 46.1031 43.2811 46.1031 43.3366C46.1031 43.3771 46.1158 43.4131 46.1413 43.4446C46.1683 43.4761 46.2193 43.5114 46.2944 43.5504C46.3709 43.5879 46.4826 43.6367 46.6296 43.6967C46.7722 43.7552 46.8959 43.8167 47.0009 43.8812C47.1059 43.9442 47.1869 44.0229 47.2439 44.1174C47.301 44.2105 47.3295 44.3312 47.3295 44.4797ZM49.6202 44.4797C49.6202 44.6508 49.5797 44.7955 49.4987 44.914C49.4192 45.031 49.2999 45.1203 49.1409 45.1818C48.9819 45.2418 48.7838 45.2718 48.5468 45.2718C48.3713 45.2718 48.2205 45.2606 48.0945 45.2381C47.97 45.2156 47.844 45.1781 47.7165 45.1255V44.5585C47.853 44.62 47.9993 44.671 48.1553 44.7115C48.3128 44.7505 48.4508 44.77 48.5693 44.77C48.7028 44.77 48.7981 44.7505 48.8551 44.7115C48.9136 44.671 48.9429 44.6185 48.9429 44.554C48.9429 44.512 48.9309 44.4745 48.9069 44.4415C48.8844 44.407 48.8349 44.3687 48.7583 44.3267C48.6818 44.2832 48.5618 44.227 48.3983 44.158C48.2408 44.0919 48.111 44.0252 48.009 43.9577C47.9085 43.8902 47.8335 43.8107 47.784 43.7192C47.736 43.6262 47.712 43.5084 47.712 43.3659C47.712 43.1334 47.802 42.9586 47.982 42.8416C48.1635 42.7231 48.4058 42.6638 48.7088 42.6638C48.8649 42.6638 49.0134 42.6796 49.1544 42.7111C49.2969 42.7426 49.4432 42.7928 49.5932 42.8618L49.3862 43.3569C49.2616 43.3029 49.1439 43.2586 49.0329 43.2241C48.9234 43.1896 48.8116 43.1724 48.6976 43.1724C48.5971 43.1724 48.5213 43.1859 48.4703 43.2129C48.4193 43.2399 48.3938 43.2811 48.3938 43.3366C48.3938 43.3771 48.4066 43.4131 48.4321 43.4446C48.4591 43.4761 48.5101 43.5114 48.5851 43.5504C48.6616 43.5879 48.7733 43.6367 48.9204 43.6967C49.0629 43.7552 49.1866 43.8167 49.2916 43.8812C49.3967 43.9442 49.4777 44.0229 49.5347 44.1174C49.5917 44.2105 49.6202 44.3312 49.6202 44.4797ZM50.842 41.7255V42.54C50.842 42.6346 50.839 42.7283 50.833 42.8213C50.8285 42.9143 50.8225 42.9863 50.815 43.0373H50.842C50.9081 42.9338 50.9981 42.8461 51.1121 42.7741C51.2261 42.7006 51.3738 42.6638 51.5554 42.6638C51.8374 42.6638 52.0662 42.7741 52.2417 42.9946C52.4172 43.2151 52.505 43.5384 52.505 43.9644C52.505 44.251 52.4645 44.4917 52.3834 44.6868C52.3024 44.8803 52.1892 45.0265 52.0437 45.1255C51.8982 45.2231 51.7294 45.2718 51.5374 45.2718C51.3528 45.2718 51.2073 45.2388 51.1008 45.1728C50.9943 45.1068 50.9081 45.0325 50.842 44.95H50.7948L50.68 45.2268H50.1557V41.7255H50.842ZM51.3348 43.2129C51.2148 43.2129 51.1196 43.2376 51.0491 43.2871C50.9786 43.3366 50.9268 43.4109 50.8938 43.5099C50.8623 43.6089 50.845 43.7342 50.842 43.8857V43.9599C50.842 44.2045 50.8781 44.392 50.9501 44.5225C51.0221 44.6515 51.1533 44.716 51.3438 44.716C51.4849 44.716 51.5966 44.6508 51.6791 44.5202C51.7631 44.3897 51.8051 44.2015 51.8051 43.9554C51.8051 43.7094 51.7631 43.5241 51.6791 43.3996C51.5951 43.2751 51.4804 43.2129 51.3348 43.2129ZM55.3582 43.9644C55.3582 44.1745 55.3297 44.3605 55.2727 44.5225C55.2172 44.6845 55.1355 44.8218 55.0275 44.9343C54.9209 45.0453 54.7919 45.1293 54.6404 45.1863C54.4904 45.2433 54.3209 45.2718 54.1319 45.2718C53.9549 45.2718 53.7921 45.2433 53.6436 45.1863C53.4966 45.1293 53.3683 45.0453 53.2588 44.9343C53.1508 44.8218 53.0668 44.6845 53.0068 44.5225C52.9483 44.3605 52.919 44.1745 52.919 43.9644C52.919 43.6854 52.9685 43.4491 53.0675 43.2556C53.1665 43.0621 53.3075 42.9151 53.4906 42.8146C53.6736 42.7141 53.8918 42.6638 54.1454 42.6638C54.3809 42.6638 54.5894 42.7141 54.7709 42.8146C54.9539 42.9151 55.0972 43.0621 55.2007 43.2556C55.3057 43.4491 55.3582 43.6854 55.3582 43.9644ZM53.6188 43.9644C53.6188 44.1294 53.6368 44.2682 53.6728 44.3807C53.7088 44.4932 53.7651 44.578 53.8416 44.635C53.9181 44.692 54.0179 44.7205 54.1409 44.7205C54.2624 44.7205 54.3606 44.692 54.4356 44.635C54.5122 44.578 54.5677 44.4932 54.6022 44.3807C54.6382 44.2682 54.6562 44.1294 54.6562 43.9644C54.6562 43.7979 54.6382 43.6599 54.6022 43.5504C54.5677 43.4394 54.5122 43.3561 54.4356 43.3006C54.3591 43.2451 54.2594 43.2174 54.1364 43.2174C53.9549 43.2174 53.8228 43.2796 53.7403 43.4041C53.6593 43.5286 53.6188 43.7154 53.6188 43.9644ZM56.6116 45.2268H55.9253V41.7255H56.6116V45.2268ZM58.3938 44.725C58.4688 44.725 58.5415 44.7175 58.6121 44.7025C58.6841 44.6875 58.7553 44.6688 58.8258 44.6463V45.157C58.7523 45.1901 58.6608 45.2171 58.5513 45.2381C58.4433 45.2606 58.3248 45.2718 58.1958 45.2718C58.0457 45.2718 57.9107 45.2478 57.7907 45.1998C57.6722 45.1503 57.5785 45.0655 57.5094 44.9455C57.4419 44.824 57.4082 44.6553 57.4082 44.4392V43.2264H57.0797V42.9361L57.4577 42.7066L57.6557 42.1755H58.0945V42.7111H58.7988V43.2264H58.0945V44.4392C58.0945 44.5352 58.1215 44.6072 58.1755 44.6553C58.231 44.7018 58.3038 44.725 58.3938 44.725Z",fill:"#020202"}),a.createElement("ellipse",{cx:"123.517",cy:"54.2178",rx:"9.52153",ry:"9.44218",stroke:"#020202",strokeOpacity:"0.25",strokeWidth:"1.85141"}),a.createElement("path",{d:"M123.517 44.7756C124.767 44.7756 126.005 45.0199 127.16 45.4944C128.316 45.9689 129.365 46.6644 130.249 47.5412C131.134 48.418 131.835 49.4589 132.313 50.6045C132.792 51.75 133.038 52.9779 133.038 54.2178",stroke:"#020202",strokeWidth:"1.85141",strokeLinecap:"round"}),a.createElement("path",{d:"M47.5347 73.9548H129.465",stroke:"#D6D6D6",strokeLinecap:"round"}),a.createElement("g",{filter:"url(#filter0_f_5_20425)"},a.createElement("path",{d:"M40.8511 111.368C41.1451 111.368 41.3634 111.434 41.5059 111.566C41.6484 111.698 41.7196 111.909 41.7196 112.198V113.875H41.4474L41.3754 113.51H41.3574C41.2884 113.6 41.2163 113.676 41.1413 113.738C41.0663 113.798 40.9793 113.843 40.8803 113.875C40.7828 113.905 40.6628 113.92 40.5203 113.92C40.3703 113.92 40.2368 113.894 40.1197 113.841C40.0042 113.789 39.9127 113.709 39.8452 113.603C39.7792 113.496 39.7462 113.361 39.7462 113.198C39.7462 112.951 39.8437 112.762 40.0387 112.63C40.2338 112.498 40.5308 112.426 40.9298 112.414L41.3551 112.396V112.246C41.3551 112.033 41.3094 111.883 41.2178 111.798C41.1263 111.712 40.9973 111.67 40.8308 111.67C40.7018 111.67 40.5788 111.688 40.4618 111.726C40.3448 111.763 40.2338 111.808 40.1287 111.859L40.014 111.575C40.125 111.518 40.2525 111.469 40.3965 111.429C40.5405 111.388 40.692 111.368 40.8511 111.368ZM41.3506 112.66L40.9748 112.675C40.6673 112.687 40.4505 112.738 40.3245 112.826C40.1985 112.915 40.1355 113.04 40.1355 113.202C40.1355 113.343 40.1782 113.447 40.2638 113.515C40.3493 113.582 40.4625 113.616 40.6035 113.616C40.8226 113.616 41.0018 113.555 41.1413 113.434C41.2809 113.312 41.3506 113.13 41.3506 112.887V112.66ZM43.3668 113.92C43.0548 113.92 42.8073 113.813 42.6242 113.6C42.4427 113.387 42.352 113.071 42.352 112.651C42.352 112.226 42.445 111.906 42.631 111.69C42.817 111.472 43.0645 111.364 43.3736 111.364C43.5041 111.364 43.6181 111.381 43.7156 111.415C43.8131 111.45 43.8971 111.496 43.9676 111.555C44.0381 111.612 44.0974 111.677 44.1454 111.751H44.1724C44.1664 111.704 44.1604 111.64 44.1544 111.559C44.1484 111.478 44.1454 111.412 44.1454 111.361V110.373H44.5189V113.875H44.2174L44.1611 113.524H44.1454C44.0989 113.597 44.0396 113.664 43.9676 113.724C43.8971 113.784 43.8123 113.832 43.7133 113.868C43.6158 113.903 43.5003 113.92 43.3668 113.92ZM43.4253 113.609C43.6893 113.609 43.8761 113.534 43.9856 113.384C44.0951 113.234 44.1499 113.011 44.1499 112.716V112.648C44.1499 112.335 44.0974 112.094 43.9924 111.926C43.8889 111.758 43.6998 111.674 43.4253 111.674C43.1958 111.674 43.024 111.763 42.91 111.94C42.796 112.115 42.739 112.355 42.739 112.66C42.739 112.963 42.7953 113.197 42.9078 113.362C43.0218 113.527 43.1943 113.609 43.4253 113.609ZM46.2336 111.368C46.5276 111.368 46.7459 111.434 46.8884 111.566C47.0309 111.698 47.1022 111.909 47.1022 112.198V113.875H46.8299L46.7579 113.51H46.7399C46.6709 113.6 46.5989 113.676 46.5239 113.738C46.4489 113.798 46.3618 113.843 46.2628 113.875C46.1653 113.905 46.0453 113.92 45.9028 113.92C45.7528 113.92 45.6193 113.894 45.5023 113.841C45.3868 113.789 45.2952 113.709 45.2277 113.603C45.1617 113.496 45.1287 113.361 45.1287 113.198C45.1287 112.951 45.2262 112.762 45.4213 112.63C45.6163 112.498 45.9133 112.426 46.3123 112.414L46.7376 112.396V112.246C46.7376 112.033 46.6919 111.883 46.6004 111.798C46.5089 111.712 46.3798 111.67 46.2133 111.67C46.0843 111.67 45.9613 111.688 45.8443 111.726C45.7273 111.763 45.6163 111.808 45.5113 111.859L45.3965 111.575C45.5075 111.518 45.635 111.469 45.779 111.429C45.9231 111.388 46.0746 111.368 46.2336 111.368ZM46.7331 112.66L46.3573 112.675C46.0498 112.687 45.833 112.738 45.707 112.826C45.581 112.915 45.518 113.04 45.518 113.202C45.518 113.343 45.5608 113.447 45.6463 113.515C45.7318 113.582 45.845 113.616 45.9861 113.616C46.2051 113.616 46.3843 113.555 46.5239 113.434C46.6634 113.312 46.7331 113.13 46.7331 112.887V112.66ZM51.3461 112.232C51.3461 112.375 51.3296 112.514 51.2966 112.651C51.2651 112.786 51.2163 112.908 51.1503 113.017C51.0843 113.125 51.0018 113.212 50.9028 113.276C50.8053 113.341 50.6898 113.373 50.5563 113.373C50.4167 113.373 50.3057 113.333 50.2232 113.252C50.1407 113.17 50.0912 113.074 50.0747 112.963H50.0545C49.9975 113.082 49.9134 113.18 49.8024 113.258C49.6929 113.335 49.5579 113.373 49.3974 113.373C49.1634 113.373 48.9826 113.296 48.8551 113.141C48.7291 112.985 48.6661 112.778 48.6661 112.52C48.6661 112.319 48.7058 112.141 48.7853 111.987C48.8663 111.831 48.9796 111.709 49.1251 111.62C49.2721 111.53 49.4454 111.485 49.6449 111.485C49.7784 111.485 49.9082 111.496 50.0342 111.519C50.1602 111.541 50.2607 111.566 50.3357 111.593L50.2907 112.5C50.2892 112.555 50.2877 112.598 50.2862 112.628C50.2847 112.657 50.284 112.679 50.284 112.696C50.284 112.858 50.3125 112.967 50.3695 113.024C50.428 113.08 50.4985 113.107 50.581 113.107C50.6815 113.107 50.7655 113.068 50.833 112.99C50.902 112.911 50.9545 112.805 50.9905 112.673C51.0266 112.54 51.0446 112.392 51.0446 112.23C51.0446 111.943 50.9868 111.699 50.8713 111.496C50.7558 111.294 50.596 111.139 50.392 111.033C50.1895 110.926 49.9562 110.873 49.6922 110.873C49.4296 110.873 49.1964 110.914 48.9924 110.997C48.7898 111.079 48.6181 111.196 48.4771 111.348C48.3375 111.498 48.2318 111.676 48.1598 111.883C48.0878 112.09 48.0518 112.319 48.0518 112.57C48.0518 112.876 48.1058 113.136 48.2138 113.351C48.3233 113.565 48.4831 113.729 48.6931 113.841C48.9046 113.952 49.1619 114.008 49.4649 114.008C49.6479 114.008 49.8242 113.987 49.9937 113.947C50.1632 113.906 50.3147 113.861 50.4482 113.81V114.102C50.3162 114.158 50.1685 114.203 50.005 114.237C49.8414 114.273 49.6614 114.291 49.4649 114.291C49.1034 114.291 48.7943 114.223 48.5378 114.086C48.2813 113.951 48.0848 113.756 47.9483 113.501C47.8117 113.246 47.7435 112.94 47.7435 112.583C47.7435 112.294 47.7877 112.027 47.8762 111.784C47.9663 111.541 48.0953 111.331 48.2633 111.152C48.4328 110.974 48.6376 110.836 48.8776 110.738C49.1191 110.639 49.3906 110.589 49.6922 110.589C50.0147 110.589 50.2997 110.656 50.5473 110.79C50.7963 110.922 50.9913 111.111 51.1323 111.357C51.2748 111.601 51.3461 111.893 51.3461 112.232ZM49.0014 112.529C49.0014 112.729 49.0411 112.875 49.1206 112.968C49.2001 113.061 49.3104 113.107 49.4514 113.107C49.6254 113.107 49.7529 113.042 49.8339 112.912C49.9164 112.781 49.9637 112.609 49.9757 112.394L50.0027 111.807C49.9592 111.793 49.9059 111.782 49.8429 111.773C49.7814 111.763 49.7169 111.757 49.6494 111.757C49.4949 111.757 49.3696 111.794 49.2736 111.868C49.1791 111.941 49.1101 112.036 49.0666 112.153C49.0231 112.27 49.0014 112.396 49.0014 112.529ZM53.162 111.364C53.4695 111.364 53.7148 111.469 53.8978 111.681C54.0808 111.892 54.1724 112.21 54.1724 112.635C54.1724 112.915 54.1304 113.151 54.0463 113.342C53.9623 113.532 53.8438 113.676 53.6908 113.774C53.5393 113.871 53.36 113.92 53.153 113.92C53.0225 113.92 52.9077 113.903 52.8087 113.868C52.7097 113.834 52.625 113.787 52.5544 113.729C52.4839 113.67 52.4254 113.606 52.3789 113.537H52.3519C52.3564 113.596 52.3617 113.666 52.3677 113.749C52.3752 113.831 52.3789 113.903 52.3789 113.965V114.977H52.0031V111.409H52.3114L52.3609 111.773H52.3789C52.4269 111.698 52.4854 111.63 52.5544 111.568C52.6235 111.505 52.7075 111.456 52.8065 111.42C52.907 111.382 53.0255 111.364 53.162 111.364ZM53.0968 111.679C52.9257 111.679 52.7877 111.712 52.6827 111.778C52.5792 111.844 52.5034 111.943 52.4554 112.075C52.4074 112.205 52.3819 112.369 52.3789 112.567V112.639C52.3789 112.848 52.4014 113.024 52.4464 113.168C52.4929 113.312 52.5687 113.422 52.6737 113.497C52.7802 113.572 52.9227 113.609 53.1013 113.609C53.2543 113.609 53.3818 113.568 53.4838 113.486C53.5858 113.403 53.6616 113.288 53.7111 113.141C53.7621 112.993 53.7876 112.822 53.7876 112.63C53.7876 112.339 53.7306 112.108 53.6166 111.937C53.504 111.765 53.3308 111.679 53.0968 111.679ZM55.7475 111.368C56.0415 111.368 56.2598 111.434 56.4023 111.566C56.5448 111.698 56.6161 111.909 56.6161 112.198V113.875H56.3438L56.2718 113.51H56.2538C56.1848 113.6 56.1128 113.676 56.0378 113.738C55.9628 113.798 55.8758 113.843 55.7768 113.875C55.6793 113.905 55.5592 113.92 55.4167 113.92C55.2667 113.92 55.1332 113.894 55.0162 113.841C54.9007 113.789 54.8092 113.709 54.7417 113.603C54.6757 113.496 54.6427 113.361 54.6427 113.198C54.6427 112.951 54.7402 112.762 54.9352 112.63C55.1302 112.498 55.4272 112.426 55.8263 112.414L56.2516 112.396V112.246C56.2516 112.033 56.2058 111.883 56.1143 111.798C56.0228 111.712 55.8938 111.67 55.7273 111.67C55.5982 111.67 55.4752 111.688 55.3582 111.726C55.2412 111.763 55.1302 111.808 55.0252 111.859L54.9104 111.575C55.0214 111.518 55.149 111.469 55.293 111.429C55.437 111.388 55.5885 111.368 55.7475 111.368ZM56.2471 112.66L55.8713 112.675C55.5637 112.687 55.347 112.738 55.221 112.826C55.0949 112.915 55.0319 113.04 55.0319 113.202C55.0319 113.343 55.0747 113.447 55.1602 113.515C55.2457 113.582 55.359 113.616 55.5 113.616C55.719 113.616 55.8983 113.555 56.0378 113.434C56.1773 113.312 56.2471 113.13 56.2471 112.887V112.66ZM58.9811 113.2C58.9811 113.357 58.9413 113.49 58.8618 113.598C58.7838 113.705 58.6713 113.785 58.5243 113.839C58.3788 113.893 58.2047 113.92 58.0022 113.92C57.8297 113.92 57.6804 113.906 57.5544 113.879C57.4284 113.852 57.3182 113.814 57.2237 113.765V113.42C57.3242 113.47 57.4442 113.515 57.5837 113.555C57.7232 113.596 57.8657 113.616 58.0112 113.616C58.2243 113.616 58.3788 113.582 58.4748 113.513C58.5708 113.444 58.6188 113.35 58.6188 113.231C58.6188 113.164 58.5993 113.104 58.5603 113.053C58.5228 113.001 58.459 112.951 58.369 112.903C58.279 112.853 58.1545 112.799 57.9955 112.741C57.838 112.681 57.7014 112.621 57.5859 112.563C57.4719 112.503 57.3834 112.43 57.3204 112.345C57.2589 112.259 57.2282 112.148 57.2282 112.012C57.2282 111.803 57.3122 111.643 57.4802 111.532C57.6497 111.42 57.8717 111.364 58.1462 111.364C58.2948 111.364 58.4335 111.379 58.5625 111.409C58.693 111.437 58.8146 111.476 58.9271 111.526L58.8011 111.825C58.699 111.781 58.5903 111.745 58.4748 111.715C58.3593 111.685 58.2415 111.67 58.1215 111.67C57.949 111.67 57.8162 111.698 57.7232 111.755C57.6317 111.812 57.5859 111.89 57.5859 111.989C57.5859 112.066 57.6069 112.129 57.6489 112.178C57.6924 112.228 57.7615 112.274 57.856 112.318C57.9505 112.361 58.075 112.412 58.2295 112.471C58.384 112.528 58.5175 112.587 58.63 112.648C58.7426 112.708 58.8288 112.782 58.8888 112.869C58.9503 112.954 58.9811 113.065 58.9811 113.2ZM61.1773 113.2C61.1773 113.357 61.1375 113.49 61.058 113.598C60.98 113.705 60.8675 113.785 60.7205 113.839C60.575 113.893 60.401 113.92 60.1984 113.92C60.0259 113.92 59.8767 113.906 59.7506 113.879C59.6246 113.852 59.5144 113.814 59.4199 113.765V113.42C59.5204 113.47 59.6404 113.515 59.7799 113.555C59.9194 113.596 60.0619 113.616 60.2074 113.616C60.4205 113.616 60.575 113.582 60.671 113.513C60.767 113.444 60.815 113.35 60.815 113.231C60.815 113.164 60.7955 113.104 60.7565 113.053C60.719 113.001 60.6552 112.951 60.5652 112.903C60.4752 112.853 60.3507 112.799 60.1917 112.741C60.0342 112.681 59.8977 112.621 59.7822 112.563C59.6681 112.503 59.5796 112.43 59.5166 112.345C59.4551 112.259 59.4244 112.148 59.4244 112.012C59.4244 111.803 59.5084 111.643 59.6764 111.532C59.8459 111.42 60.0679 111.364 60.3425 111.364C60.491 111.364 60.6297 111.379 60.7587 111.409C60.8893 111.437 61.0108 111.476 61.1233 111.526L60.9973 111.825C60.8953 111.781 60.7865 111.745 60.671 111.715C60.5555 111.685 60.4377 111.67 60.3177 111.67C60.1452 111.67 60.0124 111.698 59.9194 111.755C59.8279 111.812 59.7822 111.89 59.7822 111.989C59.7822 112.066 59.8032 112.129 59.8452 112.178C59.8887 112.228 59.9577 112.274 60.0522 112.318C60.1467 112.361 60.2712 112.412 60.4257 112.471C60.5802 112.528 60.7137 112.587 60.8263 112.648C60.9388 112.708 61.025 112.782 61.085 112.869C61.1465 112.954 61.1773 113.065 61.1773 113.2ZM62.1516 110.373V111.249C62.1516 111.349 62.1486 111.447 62.1426 111.541C62.1381 111.636 62.1344 111.709 62.1314 111.762H62.1516C62.2191 111.651 62.3166 111.557 62.4442 111.481C62.5717 111.404 62.7344 111.366 62.9325 111.366C63.2415 111.366 63.4875 111.473 63.6705 111.688C63.855 111.901 63.9473 112.218 63.9473 112.639C63.9473 112.917 63.9053 113.151 63.8213 113.342C63.7373 113.532 63.6188 113.676 63.4658 113.774C63.3127 113.871 63.132 113.92 62.9235 113.92C62.7284 113.92 62.5679 113.884 62.4419 113.812C62.3174 113.738 62.2214 113.649 62.1539 113.544H62.1246L62.0481 113.875H61.7781V110.373H62.1516ZM62.8717 111.679C62.6932 111.679 62.5514 111.714 62.4464 111.784C62.3414 111.853 62.2656 111.958 62.2191 112.099C62.1741 112.239 62.1516 112.416 62.1516 112.63V112.651C62.1516 112.961 62.2034 113.199 62.3069 113.364C62.4104 113.528 62.5987 113.609 62.8717 113.609C63.1012 113.609 63.273 113.525 63.387 113.357C63.5025 113.189 63.5603 112.949 63.5603 112.637C63.5603 112.319 63.5033 112.08 63.3893 111.919C63.2767 111.759 63.1042 111.679 62.8717 111.679ZM66.7263 112.637C66.7263 112.84 66.7001 113.02 66.6476 113.179C66.5951 113.339 66.5193 113.473 66.4203 113.582C66.3213 113.692 66.2013 113.776 66.0603 113.834C65.9207 113.891 65.7625 113.92 65.5855 113.92C65.4204 113.92 65.2689 113.891 65.1309 113.834C64.9944 113.776 64.8759 113.692 64.7754 113.582C64.6764 113.473 64.5991 113.339 64.5436 113.179C64.4896 113.02 64.4626 112.84 64.4626 112.637C64.4626 112.367 64.5084 112.138 64.5999 111.949C64.6914 111.758 64.8219 111.613 64.9914 111.514C65.1624 111.414 65.3657 111.364 65.6012 111.364C65.8262 111.364 66.0228 111.414 66.1908 111.514C66.3603 111.615 66.4916 111.76 66.5846 111.951C66.6791 112.14 66.7263 112.369 66.7263 112.637ZM64.8496 112.637C64.8496 112.835 64.8759 113.007 64.9284 113.152C64.9809 113.298 65.0619 113.411 65.1714 113.49C65.2809 113.57 65.4219 113.609 65.5945 113.609C65.7655 113.609 65.9057 113.57 66.0153 113.49C66.1263 113.411 66.208 113.298 66.2605 113.152C66.313 113.007 66.3393 112.835 66.3393 112.637C66.3393 112.441 66.313 112.271 66.2605 112.129C66.208 111.985 66.127 111.874 66.0175 111.796C65.908 111.718 65.7662 111.679 65.5922 111.679C65.3357 111.679 65.1474 111.763 65.0274 111.933C64.9089 112.102 64.8496 112.337 64.8496 112.637ZM67.7479 113.875H67.3721V110.373H67.7479V113.875ZM69.3343 113.614C69.3958 113.614 69.4588 113.609 69.5233 113.598C69.5879 113.588 69.6404 113.575 69.6809 113.56V113.85C69.6374 113.87 69.5766 113.886 69.4986 113.9C69.4221 113.913 69.3471 113.92 69.2736 113.92C69.1431 113.92 69.0246 113.897 68.918 113.852C68.8115 113.806 68.726 113.728 68.6615 113.618C68.5985 113.509 68.567 113.357 68.567 113.164V111.701H68.216V111.519L68.5693 111.373L68.7178 110.837H68.9428V111.409H69.6651V111.701H68.9428V113.152C68.9428 113.307 68.978 113.423 69.0486 113.499C69.1206 113.576 69.2158 113.614 69.3343 113.614ZM70.1242 113.641C70.1242 113.536 70.1497 113.462 70.2007 113.418C70.2517 113.373 70.3139 113.351 70.3874 113.351C70.4639 113.351 70.5284 113.373 70.581 113.418C70.6335 113.462 70.6597 113.536 70.6597 113.641C70.6597 113.744 70.6335 113.82 70.581 113.868C70.5284 113.915 70.4639 113.938 70.3874 113.938C70.3139 113.938 70.2517 113.915 70.2007 113.868C70.1497 113.82 70.1242 113.744 70.1242 113.641ZM72.3789 113.92C72.1569 113.92 71.9611 113.874 71.7916 113.783C71.6221 113.691 71.49 113.552 71.3955 113.364C71.301 113.176 71.2538 112.94 71.2538 112.655C71.2538 112.357 71.3033 112.113 71.4023 111.924C71.5028 111.733 71.6408 111.592 71.8163 111.501C71.9918 111.409 72.1914 111.364 72.4149 111.364C72.5379 111.364 72.6564 111.376 72.7704 111.402C72.8859 111.426 72.9804 111.457 73.0539 111.494L72.9414 111.807C72.8664 111.777 72.7794 111.75 72.6804 111.726C72.5829 111.702 72.4914 111.69 72.4059 111.69C72.2349 111.69 72.0923 111.727 71.9783 111.8C71.8658 111.874 71.7811 111.982 71.7241 112.124C71.6686 112.267 71.6408 112.442 71.6408 112.651C71.6408 112.85 71.6678 113.02 71.7218 113.161C71.7773 113.303 71.8591 113.411 71.9671 113.486C72.0766 113.559 72.2131 113.596 72.3766 113.596C72.5071 113.596 72.6249 113.582 72.7299 113.555C72.8349 113.527 72.9302 113.494 73.0157 113.456V113.789C72.9332 113.831 72.8409 113.864 72.7389 113.886C72.6384 113.909 72.5184 113.92 72.3789 113.92ZM75.7272 112.637C75.7272 112.84 75.7009 113.02 75.6484 113.179C75.5959 113.339 75.5202 113.473 75.4212 113.582C75.3222 113.692 75.2021 113.776 75.0611 113.834C74.9216 113.891 74.7634 113.92 74.5863 113.92C74.4213 113.92 74.2698 113.891 74.1318 113.834C73.9953 113.776 73.8768 113.692 73.7763 113.582C73.6773 113.473 73.6 113.339 73.5445 113.179C73.4905 113.02 73.4635 112.84 73.4635 112.637C73.4635 112.367 73.5092 112.138 73.6007 111.949C73.6923 111.758 73.8228 111.613 73.9923 111.514C74.1633 111.414 74.3666 111.364 74.6021 111.364C74.8271 111.364 75.0236 111.414 75.1916 111.514C75.3612 111.615 75.4924 111.76 75.5854 111.951C75.6799 112.14 75.7272 112.369 75.7272 112.637ZM73.8505 112.637C73.8505 112.835 73.8768 113.007 73.9293 113.152C73.9818 113.298 74.0628 113.411 74.1723 113.49C74.2818 113.57 74.4228 113.609 74.5953 113.609C74.7664 113.609 74.9066 113.57 75.0161 113.49C75.1271 113.411 75.2089 113.298 75.2614 113.152C75.3139 113.007 75.3402 112.835 75.3402 112.637C75.3402 112.441 75.3139 112.271 75.2614 112.129C75.2089 111.985 75.1279 111.874 75.0184 111.796C74.9089 111.718 74.7671 111.679 74.5931 111.679C74.3366 111.679 74.1483 111.763 74.0283 111.933C73.9098 112.102 73.8505 112.337 73.8505 112.637ZM79.0508 111.364C79.3223 111.364 79.5271 111.435 79.6651 111.577C79.8031 111.718 79.8721 111.946 79.8721 112.259V113.875H79.5031V112.277C79.5031 112.078 79.4596 111.928 79.3726 111.829C79.287 111.729 79.1595 111.679 78.99 111.679C78.7515 111.679 78.5782 111.748 78.4702 111.886C78.3622 112.024 78.3082 112.227 78.3082 112.495V113.875H77.9369V112.277C77.9369 112.144 77.9174 112.033 77.8784 111.944C77.8409 111.856 77.7839 111.79 77.7074 111.746C77.6324 111.701 77.5371 111.679 77.4216 111.679C77.2581 111.679 77.1268 111.712 77.0278 111.78C76.9288 111.847 76.8568 111.948 76.8118 112.081C76.7683 112.213 76.7465 112.376 76.7465 112.57V113.875H76.373V111.409H76.6745L76.7308 111.757H76.7511C76.8006 111.672 76.8628 111.6 76.9378 111.541C77.0128 111.483 77.0968 111.439 77.1898 111.409C77.2829 111.379 77.3819 111.364 77.4869 111.364C77.6744 111.364 77.8312 111.399 77.9572 111.469C78.0847 111.538 78.1769 111.644 78.2339 111.787H78.2542C78.3352 111.644 78.4462 111.538 78.5872 111.469C78.7282 111.399 78.8828 111.364 79.0508 111.364Z",fill:"#020202"}),a.createElement("path",{d:"M42.3809 105.884V98.8643L40.8472 99.4836L40.4048 98.0384L42.897 96.6964H44.475V105.884H42.3809ZM47.6308 104.38C48.2207 103.819 48.7368 103.328 49.1793 102.905C49.6217 102.482 50.0002 102.109 50.3148 101.784C50.6392 101.45 50.8997 101.145 51.0964 100.87C51.3028 100.595 51.4503 100.324 51.5388 100.059C51.6371 99.7933 51.6863 99.5082 51.6863 99.2034C51.6863 99.056 51.6666 98.9232 51.6273 98.8053C51.5879 98.6873 51.524 98.589 51.4356 98.5103C51.3471 98.4219 51.2291 98.353 51.0816 98.3039C50.944 98.2547 50.7719 98.2301 50.5655 98.2301C50.3787 98.2301 50.2066 98.2498 50.0493 98.2891C49.892 98.3186 49.7446 98.3727 49.6069 98.4513C49.4693 98.53 49.3415 98.6332 49.2235 98.761C49.1252 98.8888 49.0613 98.9872 49.0318 99.056C49.0121 99.1248 49.0072 99.1985 49.017 99.2772L48.9138 99.4099L48.8106 99.3362L47.4096 98.2596C47.6456 97.8762 47.9307 97.5567 48.2649 97.3011C48.5992 97.0455 48.963 96.8537 49.3562 96.7259C49.7593 96.5883 50.1722 96.5195 50.595 96.5195C51.1455 96.5195 51.6469 96.6325 52.0992 96.8587C52.5612 97.075 52.9299 97.3846 53.2052 97.7877C53.4805 98.181 53.6181 98.648 53.6181 99.1887C53.6181 99.5525 53.5739 99.8916 53.4854 100.206C53.3969 100.521 53.2642 100.826 53.0872 101.121C52.9201 101.415 52.7087 101.72 52.4531 102.035C52.1975 102.349 51.8927 102.684 51.5388 103.038C51.1947 103.392 50.8063 103.785 50.3738 104.217H52.925C53.0921 104.217 53.2101 104.208 53.2789 104.188C53.3478 104.168 53.4117 104.134 53.4706 104.085H53.6329V104.217V105.884H47.6308V104.38ZM57.762 106.061C57.182 106.061 56.6118 105.972 56.0514 105.795C55.491 105.609 55.0535 105.319 54.7389 104.925L55.6974 103.421L55.7712 103.303L55.9187 103.392C55.9383 103.46 55.958 103.539 55.9776 103.628C56.0071 103.706 56.0809 103.805 56.1988 103.922C56.3955 104.08 56.6167 104.208 56.8625 104.306C57.1181 104.394 57.3835 104.439 57.6588 104.439C57.9243 104.439 58.1504 104.389 58.3372 104.291C58.524 104.193 58.6665 104.055 58.7648 103.878C58.873 103.691 58.927 103.48 58.927 103.244C58.927 102.969 58.8828 102.738 58.7943 102.551C58.7058 102.364 58.5682 102.222 58.3814 102.123C58.1946 102.015 57.9537 101.951 57.6588 101.932C57.3737 101.902 57.0296 101.912 56.6265 101.961V100.339C57.0296 100.359 57.3688 100.344 57.6441 100.295C57.9292 100.246 58.1553 100.172 58.3224 100.074C58.4896 99.9654 58.6075 99.8425 58.6763 99.7048C58.755 99.5672 58.7943 99.4197 58.7943 99.2624C58.7943 99.0953 58.7648 98.9478 58.7058 98.82C58.6567 98.6922 58.583 98.5841 58.4846 98.4956C58.3863 98.3973 58.2634 98.3235 58.116 98.2744C57.9783 98.2252 57.821 98.2006 57.6441 98.2006C57.4474 98.2006 57.2508 98.2301 57.0542 98.2891C56.8575 98.3383 56.6757 98.4169 56.5085 98.5251C56.3414 98.6332 56.1939 98.7709 56.0661 98.938L54.8864 97.7287C55.2501 97.2962 55.6876 96.9865 56.1988 96.7997C56.7199 96.6129 57.2361 96.5195 57.7473 96.5195C58.3175 96.5195 58.8287 96.6276 59.281 96.8439C59.7431 97.0504 60.1068 97.3355 60.3723 97.6992C60.6377 98.063 60.7704 98.4759 60.7704 98.938C60.7704 99.2919 60.6918 99.6065 60.5345 99.8818C60.387 100.157 60.2002 100.388 59.9741 100.575C59.7578 100.752 59.5464 100.89 59.34 100.988C59.5956 101.076 59.8512 101.219 60.1068 101.415C60.3624 101.602 60.5738 101.853 60.7409 102.168C60.9179 102.482 61.0064 102.861 61.0064 103.303C61.0064 103.824 60.8687 104.296 60.5935 104.719C60.328 105.132 59.9544 105.461 59.4727 105.707C58.991 105.943 58.4207 106.061 57.762 106.061ZM73.0105 105.884V103.76H69.6481V102.433L73.4824 96.6964H74.9718V102.094H76.1958V103.775H74.9718V105.884H73.0105ZM71.6537 102.138H73.0695V99.8376L71.6537 102.138ZM80.2955 106.061C79.6073 106.061 78.9928 105.943 78.4521 105.707C77.9114 105.461 77.5083 105.083 77.2429 104.571L78.6438 103.406L78.7471 103.318L78.8503 103.436C78.8503 103.514 78.865 103.588 78.8945 103.657C78.924 103.726 78.9879 103.824 79.0862 103.952C79.2435 104.099 79.4205 104.213 79.6171 104.291C79.8138 104.37 80.0202 104.409 80.2365 104.409C80.443 104.409 80.6249 104.375 80.7822 104.306C80.9493 104.227 81.0918 104.119 81.2098 103.981C81.3278 103.844 81.4163 103.691 81.4753 103.524C81.5343 103.347 81.5637 103.165 81.5637 102.979C81.5637 102.753 81.5343 102.546 81.4753 102.359C81.4261 102.163 81.3475 101.996 81.2393 101.858C81.1312 101.71 80.9935 101.597 80.8264 101.519C80.6593 101.43 80.4626 101.386 80.2365 101.386C80.0497 101.386 79.8728 101.406 79.7056 101.445C79.5385 101.484 79.3861 101.553 79.2485 101.651C79.1207 101.74 79.0027 101.858 78.8945 102.005L77.641 101.74L77.9802 96.6964H83.0679V98.3186H79.7204L79.6024 100.029C79.6909 99.9703 79.8039 99.9162 79.9416 99.8671C80.0792 99.8179 80.2218 99.7835 80.3692 99.7638C80.5167 99.7343 80.6494 99.7196 80.7674 99.7196C81.1803 99.7196 81.5539 99.7835 81.8882 99.9113C82.2224 100.039 82.5076 100.231 82.7435 100.486C82.9893 100.732 83.1761 101.047 83.3039 101.43C83.4317 101.814 83.4956 102.256 83.4956 102.757C83.4956 103.436 83.358 104.026 83.0827 104.527C82.8074 105.019 82.4289 105.397 81.9472 105.663C81.4753 105.928 80.9247 106.061 80.2955 106.061ZM87.7722 106.061C87.0841 106.061 86.4991 105.879 86.0174 105.515C85.5356 105.142 85.1719 104.625 84.9261 103.967C84.6803 103.298 84.5574 102.526 84.5574 101.651C84.5574 100.58 84.7147 99.6655 85.0293 98.9085C85.3439 98.1417 85.7667 97.5518 86.2975 97.1389C86.8383 96.7259 87.4478 96.5195 88.1262 96.5195C88.5489 96.5195 88.9913 96.5932 89.4534 96.7407C89.9253 96.8783 90.3284 97.1192 90.6627 97.4633L89.5861 98.6726L89.4977 98.7758L89.3649 98.6726C89.3551 98.5939 89.3207 98.5349 89.2617 98.4956C89.2027 98.4563 89.1044 98.3973 88.9668 98.3186C88.9078 98.299 88.8439 98.2842 88.775 98.2744C88.7062 98.2547 88.6374 98.24 88.5686 98.2301C88.4998 98.2203 88.4309 98.2154 88.3621 98.2154C88.2245 98.2154 88.077 98.2301 87.9197 98.2596C87.7722 98.2891 87.6297 98.3481 87.4921 98.4366C87.3544 98.5152 87.2217 98.6332 87.0939 98.7905C86.9759 98.9478 86.8727 99.1543 86.7842 99.4099C86.6957 99.6655 86.6318 99.985 86.5925 100.368C86.7203 100.241 86.8678 100.133 87.0349 100.044C87.2119 99.9555 87.3937 99.8867 87.5805 99.8376C87.7673 99.7884 87.9492 99.7638 88.1262 99.7638C88.5096 99.7638 88.8635 99.8228 89.188 99.9408C89.5124 100.049 89.7926 100.226 90.0285 100.472C90.2743 100.708 90.4611 101.017 90.5889 101.401C90.7266 101.774 90.7954 102.227 90.7954 102.757C90.7954 103.367 90.6676 103.922 90.412 104.424C90.1564 104.925 89.8024 105.323 89.3502 105.618C88.8979 105.913 88.372 106.061 87.7722 106.061ZM87.8017 104.439C87.9689 104.439 88.1163 104.394 88.2442 104.306C88.3818 104.217 88.4998 104.099 88.5981 103.952C88.6964 103.795 88.7701 103.618 88.8193 103.421C88.8684 103.215 88.893 102.993 88.893 102.757C88.893 102.522 88.8635 102.315 88.8045 102.138C88.7456 101.961 88.662 101.814 88.5538 101.696C88.4555 101.578 88.3376 101.489 88.1999 101.43C88.0721 101.371 87.9345 101.342 87.787 101.342C87.6592 101.342 87.5412 101.361 87.4331 101.401C87.3249 101.44 87.2217 101.499 87.1234 101.578C87.0349 101.647 86.9464 101.735 86.8579 101.843C86.7793 101.941 86.7006 102.059 86.622 102.197C86.622 102.59 86.6515 102.93 86.7105 103.215C86.7694 103.5 86.8481 103.736 86.9464 103.922C87.0546 104.099 87.1775 104.232 87.3151 104.321C87.4626 104.399 87.6248 104.439 87.8017 104.439Z",fill:"#020202"}),a.createElement("path",{d:"M40.9996 88.603C41.4241 88.603 41.7339 88.6945 41.9289 88.8775C42.124 89.059 42.2215 89.3096 42.2215 89.6291C42.2215 89.7731 42.1997 89.9111 42.1562 90.0431C42.1127 90.1737 42.0414 90.2899 41.9424 90.3919C41.8449 90.4939 41.7144 90.5749 41.5509 90.6349C41.3874 90.6935 41.1856 90.7227 40.9456 90.7227H40.6463V91.8928H39.9487V88.603H40.9996ZM40.9636 89.1746H40.6463V90.1512H40.8758C41.0063 90.1512 41.1196 90.1339 41.2156 90.0994C41.3116 90.0649 41.3859 90.0109 41.4384 89.9374C41.4909 89.8639 41.5171 89.7694 41.5171 89.6539C41.5171 89.4918 41.4721 89.3718 41.3821 89.2938C41.2921 89.2143 41.1526 89.1746 40.9636 89.1746ZM43.8191 89.3253C44.1566 89.3253 44.4154 89.3988 44.5954 89.5458C44.7755 89.6929 44.8655 89.9164 44.8655 90.2164V91.8928H44.3862L44.2534 91.5508H44.2354C44.1634 91.6408 44.0899 91.7143 44.0149 91.7713C43.9399 91.8283 43.8536 91.8703 43.7561 91.8973C43.6586 91.9243 43.5401 91.9378 43.4006 91.9378C43.2521 91.9378 43.1185 91.9093 43 91.8523C42.883 91.7953 42.7908 91.7083 42.7233 91.5913C42.6558 91.4728 42.622 91.3228 42.622 91.1412C42.622 90.8742 42.7158 90.6777 42.9033 90.5517C43.0908 90.4242 43.3721 90.3537 43.7471 90.3402L44.1837 90.3267V90.2164C44.1837 90.0844 44.1491 89.9876 44.0801 89.9261C44.0111 89.8646 43.9151 89.8339 43.7921 89.8339C43.6706 89.8339 43.5513 89.8511 43.4343 89.8856C43.3173 89.9201 43.2003 89.9636 43.0833 90.0161L42.856 89.5526C42.9895 89.4821 43.1388 89.4266 43.3038 89.3861C43.4703 89.3456 43.6421 89.3253 43.8191 89.3253ZM44.1837 90.7272L43.9181 90.7362C43.6961 90.7422 43.5416 90.782 43.4546 90.8555C43.3691 90.929 43.3263 91.0257 43.3263 91.1457C43.3263 91.2508 43.3571 91.3258 43.4186 91.3708C43.4801 91.4143 43.5603 91.436 43.6593 91.436C43.8064 91.436 43.9301 91.3925 44.0306 91.3055C44.1326 91.2185 44.1837 91.0947 44.1837 90.9342V90.7272ZM47.3295 91.1457C47.3295 91.3168 47.289 91.4615 47.2079 91.58C47.1284 91.6971 47.0092 91.7863 46.8502 91.8478C46.6911 91.9078 46.4931 91.9378 46.2561 91.9378C46.0806 91.9378 45.9298 91.9266 45.8038 91.9041C45.6793 91.8816 45.5533 91.8441 45.4258 91.7916V91.2245C45.5623 91.286 45.7085 91.337 45.8646 91.3775C46.0221 91.4165 46.1601 91.436 46.2786 91.436C46.4121 91.436 46.5074 91.4165 46.5644 91.3775C46.6229 91.337 46.6521 91.2845 46.6521 91.22C46.6521 91.178 46.6401 91.1405 46.6161 91.1075C46.5936 91.073 46.5441 91.0347 46.4676 90.9927C46.3911 90.9492 46.2711 90.893 46.1076 90.824C45.9501 90.758 45.8203 90.6912 45.7183 90.6237C45.6178 90.5562 45.5428 90.4767 45.4933 90.3852C45.4453 90.2922 45.4213 90.1744 45.4213 90.0319C45.4213 89.7994 45.5113 89.6246 45.6913 89.5076C45.8728 89.3891 46.1151 89.3298 46.4181 89.3298C46.5741 89.3298 46.7226 89.3456 46.8637 89.3771C47.0062 89.4086 47.1524 89.4588 47.3025 89.5278L47.0954 90.0229C46.9709 89.9689 46.8532 89.9246 46.7421 89.8901C46.6326 89.8556 46.5209 89.8384 46.4069 89.8384C46.3064 89.8384 46.2306 89.8519 46.1796 89.8789C46.1286 89.9059 46.1031 89.9471 46.1031 90.0026C46.1031 90.0431 46.1158 90.0791 46.1413 90.1106C46.1683 90.1422 46.2193 90.1774 46.2944 90.2164C46.3709 90.2539 46.4826 90.3027 46.6296 90.3627C46.7722 90.4212 46.8959 90.4827 47.0009 90.5472C47.1059 90.6102 47.1869 90.689 47.2439 90.7835C47.301 90.8765 47.3295 90.9972 47.3295 91.1457ZM49.6202 91.1457C49.6202 91.3168 49.5797 91.4615 49.4987 91.58C49.4192 91.6971 49.2999 91.7863 49.1409 91.8478C48.9819 91.9078 48.7838 91.9378 48.5468 91.9378C48.3713 91.9378 48.2205 91.9266 48.0945 91.9041C47.97 91.8816 47.844 91.8441 47.7165 91.7916V91.2245C47.853 91.286 47.9993 91.337 48.1553 91.3775C48.3128 91.4165 48.4508 91.436 48.5693 91.436C48.7028 91.436 48.7981 91.4165 48.8551 91.3775C48.9136 91.337 48.9429 91.2845 48.9429 91.22C48.9429 91.178 48.9309 91.1405 48.9069 91.1075C48.8844 91.073 48.8349 91.0347 48.7583 90.9927C48.6818 90.9492 48.5618 90.893 48.3983 90.824C48.2408 90.758 48.111 90.6912 48.009 90.6237C47.9085 90.5562 47.8335 90.4767 47.784 90.3852C47.736 90.2922 47.712 90.1744 47.712 90.0319C47.712 89.7994 47.802 89.6246 47.982 89.5076C48.1635 89.3891 48.4058 89.3298 48.7088 89.3298C48.8649 89.3298 49.0134 89.3456 49.1544 89.3771C49.2969 89.4086 49.4432 89.4588 49.5932 89.5278L49.3862 90.0229C49.2616 89.9689 49.1439 89.9246 49.0329 89.8901C48.9234 89.8556 48.8116 89.8384 48.6976 89.8384C48.5971 89.8384 48.5213 89.8519 48.4703 89.8789C48.4193 89.9059 48.3938 89.9471 48.3938 90.0026C48.3938 90.0431 48.4066 90.0791 48.4321 90.1106C48.4591 90.1422 48.5101 90.1774 48.5851 90.2164C48.6616 90.2539 48.7733 90.3027 48.9204 90.3627C49.0629 90.4212 49.1866 90.4827 49.2916 90.5472C49.3967 90.6102 49.4777 90.689 49.5347 90.7835C49.5917 90.8765 49.6202 90.9972 49.6202 91.1457ZM50.842 88.3915V89.2061C50.842 89.3006 50.839 89.3943 50.833 89.4873C50.8285 89.5803 50.8225 89.6524 50.815 89.7034H50.842C50.9081 89.5998 50.9981 89.5121 51.1121 89.4401C51.2261 89.3666 51.3738 89.3298 51.5554 89.3298C51.8374 89.3298 52.0662 89.4401 52.2417 89.6606C52.4172 89.8811 52.505 90.2044 52.505 90.6304C52.505 90.917 52.4645 91.1578 52.3834 91.3528C52.3024 91.5463 52.1892 91.6926 52.0437 91.7916C51.8982 91.8891 51.7294 91.9378 51.5374 91.9378C51.3528 91.9378 51.2073 91.9048 51.1008 91.8388C50.9943 91.7728 50.9081 91.6986 50.842 91.616H50.7948L50.68 91.8928H50.1557V88.3915H50.842ZM51.3348 89.8789C51.2148 89.8789 51.1196 89.9036 51.0491 89.9531C50.9786 90.0026 50.9268 90.0769 50.8938 90.1759C50.8623 90.2749 50.845 90.4002 50.842 90.5517V90.6259C50.842 90.8705 50.8781 91.058 50.9501 91.1885C51.0221 91.3175 51.1533 91.382 51.3438 91.382C51.4849 91.382 51.5966 91.3168 51.6791 91.1863C51.7631 91.0557 51.8051 90.8675 51.8051 90.6214C51.8051 90.3754 51.7631 90.1902 51.6791 90.0656C51.5951 89.9411 51.4804 89.8789 51.3348 89.8789ZM55.3582 90.6304C55.3582 90.8405 55.3297 91.0265 55.2727 91.1885C55.2172 91.3505 55.1355 91.4878 55.0275 91.6003C54.9209 91.7113 54.7919 91.7953 54.6404 91.8523C54.4904 91.9093 54.3209 91.9378 54.1319 91.9378C53.9549 91.9378 53.7921 91.9093 53.6436 91.8523C53.4966 91.7953 53.3683 91.7113 53.2588 91.6003C53.1508 91.4878 53.0668 91.3505 53.0068 91.1885C52.9483 91.0265 52.919 90.8405 52.919 90.6304C52.919 90.3514 52.9685 90.1151 53.0675 89.9216C53.1665 89.7281 53.3075 89.5811 53.4906 89.4806C53.6736 89.3801 53.8918 89.3298 54.1454 89.3298C54.3809 89.3298 54.5894 89.3801 54.7709 89.4806C54.9539 89.5811 55.0972 89.7281 55.2007 89.9216C55.3057 90.1151 55.3582 90.3514 55.3582 90.6304ZM53.6188 90.6304C53.6188 90.7955 53.6368 90.9342 53.6728 91.0467C53.7088 91.1593 53.7651 91.244 53.8416 91.301C53.9181 91.358 54.0179 91.3865 54.1409 91.3865C54.2624 91.3865 54.3606 91.358 54.4356 91.301C54.5122 91.244 54.5677 91.1593 54.6022 91.0467C54.6382 90.9342 54.6562 90.7955 54.6562 90.6304C54.6562 90.4639 54.6382 90.3259 54.6022 90.2164C54.5677 90.1054 54.5122 90.0221 54.4356 89.9666C54.3591 89.9111 54.2594 89.8834 54.1364 89.8834C53.9549 89.8834 53.8228 89.9456 53.7403 90.0701C53.6593 90.1947 53.6188 90.3814 53.6188 90.6304ZM56.6116 91.8928H55.9253V88.3915H56.6116V91.8928ZM58.3938 91.391C58.4688 91.391 58.5415 91.3835 58.6121 91.3685C58.6841 91.3535 58.7553 91.3348 58.8258 91.3123V91.8231C58.7523 91.8561 58.6608 91.8831 58.5513 91.9041C58.4433 91.9266 58.3248 91.9378 58.1958 91.9378C58.0457 91.9378 57.9107 91.9138 57.7907 91.8658C57.6722 91.8163 57.5785 91.7316 57.5094 91.6115C57.4419 91.49 57.4082 91.3213 57.4082 91.1052V89.8924H57.0797V89.6021L57.4577 89.3726L57.6557 88.8415H58.0945V89.3771H58.7988V89.8924H58.0945V91.1052C58.0945 91.2013 58.1215 91.2733 58.1755 91.3213C58.231 91.3678 58.3038 91.391 58.3938 91.391Z",fill:"#020202"}),a.createElement("ellipse",{cx:"123.517",cy:"100.884",rx:"9.52153",ry:"9.44218",stroke:"#020202",strokeOpacity:"0.25",strokeWidth:"1.85141"}),a.createElement("path",{d:"M123.517 91.4417C124.767 91.4417 126.005 91.6859 127.16 92.1604C128.316 92.6349 129.365 93.3304 130.249 94.2072C131.134 95.084 131.835 96.1249 132.313 97.2705C132.792 98.416 133.038 99.6439 133.038 100.884",stroke:"#020202",strokeWidth:"1.85141",strokeLinecap:"round"}),a.createElement("path",{d:"M47.5347 120.621H129.465",stroke:"#D6D6D6",strokeLinecap:"round"})),a.createElement("g",{filter:"url(#filter1_f_5_20425)"},a.createElement("path",{d:"M40.8511 158.034C41.1451 158.034 41.3634 158.1 41.5059 158.232C41.6484 158.364 41.7196 158.575 41.7196 158.864V160.541H41.4474L41.3754 160.176H41.3574C41.2884 160.266 41.2163 160.342 41.1413 160.404C41.0663 160.464 40.9793 160.509 40.8803 160.541C40.7828 160.571 40.6628 160.586 40.5203 160.586C40.3703 160.586 40.2368 160.56 40.1197 160.507C40.0042 160.455 39.9127 160.375 39.8452 160.268C39.7792 160.162 39.7462 160.027 39.7462 159.863C39.7462 159.617 39.8437 159.428 40.0387 159.296C40.2338 159.164 40.5308 159.092 40.9298 159.08L41.3551 159.062V158.912C41.3551 158.699 41.3094 158.549 41.2178 158.464C41.1263 158.378 40.9973 158.336 40.8308 158.336C40.7018 158.336 40.5788 158.354 40.4618 158.392C40.3448 158.429 40.2338 158.474 40.1287 158.525L40.014 158.241C40.125 158.184 40.2525 158.135 40.3965 158.095C40.5405 158.054 40.692 158.034 40.8511 158.034ZM41.3506 159.326L40.9748 159.341C40.6673 159.353 40.4505 159.404 40.3245 159.492C40.1985 159.581 40.1355 159.706 40.1355 159.868C40.1355 160.009 40.1782 160.113 40.2638 160.181C40.3493 160.248 40.4625 160.282 40.6035 160.282C40.8226 160.282 41.0018 160.221 41.1413 160.1C41.2809 159.978 41.3506 159.796 41.3506 159.553V159.326ZM43.3668 160.586C43.0548 160.586 42.8073 160.479 42.6242 160.266C42.4427 160.053 42.352 159.737 42.352 159.317C42.352 158.892 42.445 158.572 42.631 158.356C42.817 158.138 43.0645 158.03 43.3736 158.03C43.5041 158.03 43.6181 158.047 43.7156 158.081C43.8131 158.116 43.8971 158.162 43.9676 158.221C44.0381 158.278 44.0974 158.343 44.1454 158.417H44.1724C44.1664 158.37 44.1604 158.306 44.1544 158.225C44.1484 158.144 44.1454 158.078 44.1454 158.027V157.039H44.5189V160.541H44.2174L44.1611 160.19H44.1454C44.0989 160.263 44.0396 160.33 43.9676 160.39C43.8971 160.45 43.8123 160.498 43.7133 160.534C43.6158 160.569 43.5003 160.586 43.3668 160.586ZM43.4253 160.275C43.6893 160.275 43.8761 160.2 43.9856 160.05C44.0951 159.9 44.1499 159.677 44.1499 159.382V159.314C44.1499 159.001 44.0974 158.76 43.9924 158.592C43.8889 158.424 43.6998 158.34 43.4253 158.34C43.1958 158.34 43.024 158.429 42.91 158.606C42.796 158.781 42.739 159.021 42.739 159.326C42.739 159.629 42.7953 159.863 42.9078 160.028C43.0218 160.193 43.1943 160.275 43.4253 160.275ZM46.2336 158.034C46.5276 158.034 46.7459 158.1 46.8884 158.232C47.0309 158.364 47.1022 158.575 47.1022 158.864V160.541H46.8299L46.7579 160.176H46.7399C46.6709 160.266 46.5989 160.342 46.5239 160.404C46.4489 160.464 46.3618 160.509 46.2628 160.541C46.1653 160.571 46.0453 160.586 45.9028 160.586C45.7528 160.586 45.6193 160.56 45.5023 160.507C45.3868 160.455 45.2952 160.375 45.2277 160.268C45.1617 160.162 45.1287 160.027 45.1287 159.863C45.1287 159.617 45.2262 159.428 45.4213 159.296C45.6163 159.164 45.9133 159.092 46.3123 159.08L46.7376 159.062V158.912C46.7376 158.699 46.6919 158.549 46.6004 158.464C46.5089 158.378 46.3798 158.336 46.2133 158.336C46.0843 158.336 45.9613 158.354 45.8443 158.392C45.7273 158.429 45.6163 158.474 45.5113 158.525L45.3965 158.241C45.5075 158.184 45.635 158.135 45.779 158.095C45.9231 158.054 46.0746 158.034 46.2336 158.034ZM46.7331 159.326L46.3573 159.341C46.0498 159.353 45.833 159.404 45.707 159.492C45.581 159.581 45.518 159.706 45.518 159.868C45.518 160.009 45.5608 160.113 45.6463 160.181C45.7318 160.248 45.845 160.282 45.9861 160.282C46.2051 160.282 46.3843 160.221 46.5239 160.1C46.6634 159.978 46.7331 159.796 46.7331 159.553V159.326ZM51.3461 158.898C51.3461 159.041 51.3296 159.18 51.2966 159.317C51.2651 159.452 51.2163 159.574 51.1503 159.683C51.0843 159.791 51.0018 159.878 50.9028 159.942C50.8053 160.007 50.6898 160.039 50.5563 160.039C50.4167 160.039 50.3057 159.998 50.2232 159.917C50.1407 159.836 50.0912 159.74 50.0747 159.629H50.0545C49.9975 159.748 49.9134 159.846 49.8024 159.924C49.6929 160.001 49.5579 160.039 49.3974 160.039C49.1634 160.039 48.9826 159.962 48.8551 159.807C48.7291 159.651 48.6661 159.444 48.6661 159.186C48.6661 158.985 48.7058 158.807 48.7853 158.653C48.8663 158.497 48.9796 158.375 49.1251 158.286C49.2721 158.196 49.4454 158.151 49.6449 158.151C49.7784 158.151 49.9082 158.162 50.0342 158.185C50.1602 158.207 50.2607 158.232 50.3357 158.259L50.2907 159.166C50.2892 159.221 50.2877 159.264 50.2862 159.294C50.2847 159.323 50.284 159.345 50.284 159.362C50.284 159.524 50.3125 159.633 50.3695 159.69C50.428 159.746 50.4985 159.773 50.581 159.773C50.6815 159.773 50.7655 159.734 50.833 159.656C50.902 159.577 50.9545 159.471 50.9905 159.339C51.0266 159.206 51.0446 159.058 51.0446 158.896C51.0446 158.609 50.9868 158.365 50.8713 158.162C50.7558 157.96 50.596 157.805 50.392 157.699C50.1895 157.592 49.9562 157.539 49.6922 157.539C49.4296 157.539 49.1964 157.58 48.9924 157.663C48.7898 157.745 48.6181 157.862 48.4771 158.014C48.3375 158.164 48.2318 158.342 48.1598 158.549C48.0878 158.756 48.0518 158.985 48.0518 159.236C48.0518 159.542 48.1058 159.802 48.2138 160.016C48.3233 160.231 48.4831 160.395 48.6931 160.507C48.9046 160.618 49.1619 160.674 49.4649 160.674C49.6479 160.674 49.8242 160.653 49.9937 160.613C50.1632 160.572 50.3147 160.527 50.4482 160.476V160.768C50.3162 160.824 50.1685 160.869 50.005 160.903C49.8414 160.939 49.6614 160.957 49.4649 160.957C49.1034 160.957 48.7943 160.889 48.5378 160.752C48.2813 160.617 48.0848 160.422 47.9483 160.167C47.8117 159.912 47.7435 159.606 47.7435 159.249C47.7435 158.96 47.7877 158.693 47.8762 158.45C47.9663 158.207 48.0953 157.997 48.2633 157.818C48.4328 157.639 48.6376 157.501 48.8776 157.404C49.1191 157.305 49.3906 157.255 49.6922 157.255C50.0147 157.255 50.2997 157.322 50.5473 157.456C50.7963 157.588 50.9913 157.777 51.1323 158.023C51.2748 158.267 51.3461 158.559 51.3461 158.898ZM49.0014 159.195C49.0014 159.395 49.0411 159.541 49.1206 159.634C49.2001 159.727 49.3104 159.773 49.4514 159.773C49.6254 159.773 49.7529 159.708 49.8339 159.578C49.9164 159.447 49.9637 159.275 49.9757 159.06L50.0027 158.473C49.9592 158.459 49.9059 158.448 49.8429 158.439C49.7814 158.429 49.7169 158.423 49.6494 158.423C49.4949 158.423 49.3696 158.46 49.2736 158.534C49.1791 158.607 49.1101 158.702 49.0666 158.819C49.0231 158.936 49.0014 159.062 49.0014 159.195ZM53.162 158.03C53.4695 158.03 53.7148 158.135 53.8978 158.347C54.0808 158.558 54.1724 158.876 54.1724 159.301C54.1724 159.581 54.1304 159.817 54.0463 160.007C53.9623 160.198 53.8438 160.342 53.6908 160.44C53.5393 160.537 53.36 160.586 53.153 160.586C53.0225 160.586 52.9077 160.569 52.8087 160.534C52.7097 160.5 52.625 160.453 52.5544 160.395C52.4839 160.336 52.4254 160.272 52.3789 160.203H52.3519C52.3564 160.262 52.3617 160.332 52.3677 160.415C52.3752 160.497 52.3789 160.569 52.3789 160.631V161.643H52.0031V158.075H52.3114L52.3609 158.439H52.3789C52.4269 158.364 52.4854 158.296 52.5544 158.234C52.6235 158.171 52.7075 158.122 52.8065 158.086C52.907 158.048 53.0255 158.03 53.162 158.03ZM53.0968 158.345C52.9257 158.345 52.7877 158.378 52.6827 158.444C52.5792 158.51 52.5034 158.609 52.4554 158.741C52.4074 158.871 52.3819 159.035 52.3789 159.233V159.305C52.3789 159.514 52.4014 159.69 52.4464 159.834C52.4929 159.978 52.5687 160.088 52.6737 160.163C52.7802 160.238 52.9227 160.275 53.1013 160.275C53.2543 160.275 53.3818 160.234 53.4838 160.151C53.5858 160.069 53.6616 159.954 53.7111 159.807C53.7621 159.659 53.7876 159.488 53.7876 159.296C53.7876 159.005 53.7306 158.774 53.6166 158.603C53.504 158.431 53.3308 158.345 53.0968 158.345ZM55.7475 158.034C56.0415 158.034 56.2598 158.1 56.4023 158.232C56.5448 158.364 56.6161 158.575 56.6161 158.864V160.541H56.3438L56.2718 160.176H56.2538C56.1848 160.266 56.1128 160.342 56.0378 160.404C55.9628 160.464 55.8758 160.509 55.7768 160.541C55.6793 160.571 55.5592 160.586 55.4167 160.586C55.2667 160.586 55.1332 160.56 55.0162 160.507C54.9007 160.455 54.8092 160.375 54.7417 160.268C54.6757 160.162 54.6427 160.027 54.6427 159.863C54.6427 159.617 54.7402 159.428 54.9352 159.296C55.1302 159.164 55.4272 159.092 55.8263 159.08L56.2516 159.062V158.912C56.2516 158.699 56.2058 158.549 56.1143 158.464C56.0228 158.378 55.8938 158.336 55.7273 158.336C55.5982 158.336 55.4752 158.354 55.3582 158.392C55.2412 158.429 55.1302 158.474 55.0252 158.525L54.9104 158.241C55.0214 158.184 55.149 158.135 55.293 158.095C55.437 158.054 55.5885 158.034 55.7475 158.034ZM56.2471 159.326L55.8713 159.341C55.5637 159.353 55.347 159.404 55.221 159.492C55.0949 159.581 55.0319 159.706 55.0319 159.868C55.0319 160.009 55.0747 160.113 55.1602 160.181C55.2457 160.248 55.359 160.282 55.5 160.282C55.719 160.282 55.8983 160.221 56.0378 160.1C56.1773 159.978 56.2471 159.796 56.2471 159.553V159.326ZM58.9811 159.866C58.9811 160.023 58.9413 160.156 58.8618 160.264C58.7838 160.371 58.6713 160.451 58.5243 160.505C58.3788 160.559 58.2047 160.586 58.0022 160.586C57.8297 160.586 57.6804 160.572 57.5544 160.545C57.4284 160.518 57.3182 160.48 57.2237 160.431V160.086C57.3242 160.136 57.4442 160.181 57.5837 160.221C57.7232 160.262 57.8657 160.282 58.0112 160.282C58.2243 160.282 58.3788 160.247 58.4748 160.178C58.5708 160.109 58.6188 160.016 58.6188 159.897C58.6188 159.83 58.5993 159.77 58.5603 159.719C58.5228 159.667 58.459 159.617 58.369 159.569C58.279 159.519 58.1545 159.465 57.9955 159.407C57.838 159.347 57.7014 159.287 57.5859 159.229C57.4719 159.169 57.3834 159.096 57.3204 159.011C57.2589 158.925 57.2282 158.814 57.2282 158.678C57.2282 158.469 57.3122 158.309 57.4802 158.198C57.6497 158.086 57.8717 158.03 58.1462 158.03C58.2948 158.03 58.4335 158.045 58.5625 158.075C58.693 158.103 58.8146 158.142 58.9271 158.192L58.8011 158.491C58.699 158.447 58.5903 158.411 58.4748 158.381C58.3593 158.351 58.2415 158.336 58.1215 158.336C57.949 158.336 57.8162 158.364 57.7232 158.421C57.6317 158.478 57.5859 158.556 57.5859 158.655C57.5859 158.732 57.6069 158.795 57.6489 158.844C57.6924 158.894 57.7615 158.94 57.856 158.984C57.9505 159.027 58.075 159.078 58.2295 159.137C58.384 159.194 58.5175 159.253 58.63 159.314C58.7426 159.374 58.8288 159.448 58.8888 159.535C58.9503 159.62 58.9811 159.731 58.9811 159.866ZM61.1773 159.866C61.1773 160.023 61.1375 160.156 61.058 160.264C60.98 160.371 60.8675 160.451 60.7205 160.505C60.575 160.559 60.401 160.586 60.1984 160.586C60.0259 160.586 59.8767 160.572 59.7506 160.545C59.6246 160.518 59.5144 160.48 59.4199 160.431V160.086C59.5204 160.136 59.6404 160.181 59.7799 160.221C59.9194 160.262 60.0619 160.282 60.2074 160.282C60.4205 160.282 60.575 160.247 60.671 160.178C60.767 160.109 60.815 160.016 60.815 159.897C60.815 159.83 60.7955 159.77 60.7565 159.719C60.719 159.667 60.6552 159.617 60.5652 159.569C60.4752 159.519 60.3507 159.465 60.1917 159.407C60.0342 159.347 59.8977 159.287 59.7822 159.229C59.6681 159.169 59.5796 159.096 59.5166 159.011C59.4551 158.925 59.4244 158.814 59.4244 158.678C59.4244 158.469 59.5084 158.309 59.6764 158.198C59.8459 158.086 60.0679 158.03 60.3425 158.03C60.491 158.03 60.6297 158.045 60.7587 158.075C60.8893 158.103 61.0108 158.142 61.1233 158.192L60.9973 158.491C60.8953 158.447 60.7865 158.411 60.671 158.381C60.5555 158.351 60.4377 158.336 60.3177 158.336C60.1452 158.336 60.0124 158.364 59.9194 158.421C59.8279 158.478 59.7822 158.556 59.7822 158.655C59.7822 158.732 59.8032 158.795 59.8452 158.844C59.8887 158.894 59.9577 158.94 60.0522 158.984C60.1467 159.027 60.2712 159.078 60.4257 159.137C60.5802 159.194 60.7137 159.253 60.8263 159.314C60.9388 159.374 61.025 159.448 61.085 159.535C61.1465 159.62 61.1773 159.731 61.1773 159.866ZM62.1516 157.039V157.915C62.1516 158.015 62.1486 158.113 62.1426 158.207C62.1381 158.302 62.1344 158.375 62.1314 158.428H62.1516C62.2191 158.317 62.3166 158.223 62.4442 158.147C62.5717 158.07 62.7344 158.032 62.9325 158.032C63.2415 158.032 63.4875 158.139 63.6705 158.354C63.855 158.567 63.9473 158.884 63.9473 159.305C63.9473 159.583 63.9053 159.817 63.8213 160.007C63.7373 160.198 63.6188 160.342 63.4658 160.44C63.3127 160.537 63.132 160.586 62.9235 160.586C62.7284 160.586 62.5679 160.55 62.4419 160.478C62.3174 160.404 62.2214 160.315 62.1539 160.21H62.1246L62.0481 160.541H61.7781V157.039H62.1516ZM62.8717 158.345C62.6932 158.345 62.5514 158.38 62.4464 158.45C62.3414 158.519 62.2656 158.624 62.2191 158.765C62.1741 158.905 62.1516 159.082 62.1516 159.296V159.317C62.1516 159.627 62.2034 159.865 62.3069 160.03C62.4104 160.193 62.5987 160.275 62.8717 160.275C63.1012 160.275 63.273 160.191 63.387 160.023C63.5025 159.855 63.5603 159.615 63.5603 159.303C63.5603 158.985 63.5033 158.746 63.3893 158.585C63.2767 158.425 63.1042 158.345 62.8717 158.345ZM66.7263 159.303C66.7263 159.506 66.7001 159.686 66.6476 159.845C66.5951 160.004 66.5193 160.139 66.4203 160.248C66.3213 160.358 66.2013 160.442 66.0603 160.5C65.9207 160.557 65.7625 160.586 65.5855 160.586C65.4204 160.586 65.2689 160.557 65.1309 160.5C64.9944 160.442 64.8759 160.358 64.7754 160.248C64.6764 160.139 64.5991 160.004 64.5436 159.845C64.4896 159.686 64.4626 159.506 64.4626 159.303C64.4626 159.033 64.5084 158.804 64.5999 158.615C64.6914 158.424 64.8219 158.279 64.9914 158.18C65.1624 158.08 65.3657 158.03 65.6012 158.03C65.8262 158.03 66.0228 158.08 66.1908 158.18C66.3603 158.281 66.4916 158.426 66.5846 158.617C66.6791 158.806 66.7263 159.035 66.7263 159.303ZM64.8496 159.303C64.8496 159.501 64.8759 159.673 64.9284 159.818C64.9809 159.964 65.0619 160.076 65.1714 160.156C65.2809 160.235 65.4219 160.275 65.5945 160.275C65.7655 160.275 65.9057 160.235 66.0153 160.156C66.1263 160.076 66.208 159.964 66.2605 159.818C66.313 159.673 66.3393 159.501 66.3393 159.303C66.3393 159.107 66.313 158.937 66.2605 158.795C66.208 158.651 66.127 158.54 66.0175 158.462C65.908 158.384 65.7662 158.345 65.5922 158.345C65.3357 158.345 65.1474 158.429 65.0274 158.599C64.9089 158.768 64.8496 159.003 64.8496 159.303ZM67.7479 160.541H67.3721V157.039H67.7479V160.541ZM69.3343 160.28C69.3958 160.28 69.4588 160.274 69.5233 160.264C69.5879 160.253 69.6404 160.241 69.6809 160.226V160.516C69.6374 160.536 69.5766 160.552 69.4986 160.566C69.4221 160.579 69.3471 160.586 69.2736 160.586C69.1431 160.586 69.0246 160.563 68.918 160.518C68.8115 160.472 68.726 160.394 68.6615 160.284C68.5985 160.175 68.567 160.023 68.567 159.83V158.367H68.216V158.185L68.5693 158.039L68.7178 157.503H68.9428V158.075H69.6651V158.367H68.9428V159.818C68.9428 159.973 68.978 160.088 69.0486 160.165C69.1206 160.241 69.2158 160.28 69.3343 160.28ZM70.1242 160.307C70.1242 160.202 70.1497 160.127 70.2007 160.084C70.2517 160.039 70.3139 160.016 70.3874 160.016C70.4639 160.016 70.5284 160.039 70.581 160.084C70.6335 160.127 70.6597 160.202 70.6597 160.307C70.6597 160.41 70.6335 160.486 70.581 160.534C70.5284 160.581 70.4639 160.604 70.3874 160.604C70.3139 160.604 70.2517 160.581 70.2007 160.534C70.1497 160.486 70.1242 160.41 70.1242 160.307ZM72.3789 160.586C72.1569 160.586 71.9611 160.54 71.7916 160.449C71.6221 160.357 71.49 160.217 71.3955 160.03C71.301 159.842 71.2538 159.606 71.2538 159.321C71.2538 159.023 71.3033 158.779 71.4023 158.59C71.5028 158.399 71.6408 158.258 71.8163 158.167C71.9918 158.075 72.1914 158.03 72.4149 158.03C72.5379 158.03 72.6564 158.042 72.7704 158.068C72.8859 158.092 72.9804 158.123 73.0539 158.16L72.9414 158.473C72.8664 158.443 72.7794 158.416 72.6804 158.392C72.5829 158.368 72.4914 158.356 72.4059 158.356C72.2349 158.356 72.0923 158.393 71.9783 158.466C71.8658 158.54 71.7811 158.648 71.7241 158.79C71.6686 158.933 71.6408 159.108 71.6408 159.317C71.6408 159.516 71.6678 159.686 71.7218 159.827C71.7773 159.968 71.8591 160.076 71.9671 160.151C72.0766 160.225 72.2131 160.262 72.3766 160.262C72.5071 160.262 72.6249 160.248 72.7299 160.221C72.8349 160.193 72.9302 160.16 73.0157 160.122V160.455C72.9332 160.497 72.8409 160.53 72.7389 160.552C72.6384 160.575 72.5184 160.586 72.3789 160.586ZM75.7272 159.303C75.7272 159.506 75.7009 159.686 75.6484 159.845C75.5959 160.004 75.5202 160.139 75.4212 160.248C75.3222 160.358 75.2021 160.442 75.0611 160.5C74.9216 160.557 74.7634 160.586 74.5863 160.586C74.4213 160.586 74.2698 160.557 74.1318 160.5C73.9953 160.442 73.8768 160.358 73.7763 160.248C73.6773 160.139 73.6 160.004 73.5445 159.845C73.4905 159.686 73.4635 159.506 73.4635 159.303C73.4635 159.033 73.5092 158.804 73.6007 158.615C73.6923 158.424 73.8228 158.279 73.9923 158.18C74.1633 158.08 74.3666 158.03 74.6021 158.03C74.8271 158.03 75.0236 158.08 75.1916 158.18C75.3612 158.281 75.4924 158.426 75.5854 158.617C75.6799 158.806 75.7272 159.035 75.7272 159.303ZM73.8505 159.303C73.8505 159.501 73.8768 159.673 73.9293 159.818C73.9818 159.964 74.0628 160.076 74.1723 160.156C74.2818 160.235 74.4228 160.275 74.5953 160.275C74.7664 160.275 74.9066 160.235 75.0161 160.156C75.1271 160.076 75.2089 159.964 75.2614 159.818C75.3139 159.673 75.3402 159.501 75.3402 159.303C75.3402 159.107 75.3139 158.937 75.2614 158.795C75.2089 158.651 75.1279 158.54 75.0184 158.462C74.9089 158.384 74.7671 158.345 74.5931 158.345C74.3366 158.345 74.1483 158.429 74.0283 158.599C73.9098 158.768 73.8505 159.003 73.8505 159.303ZM79.0508 158.03C79.3223 158.03 79.5271 158.101 79.6651 158.243C79.8031 158.384 79.8721 158.612 79.8721 158.925V160.541H79.5031V158.943C79.5031 158.744 79.4596 158.594 79.3726 158.495C79.287 158.395 79.1595 158.345 78.99 158.345C78.7515 158.345 78.5782 158.414 78.4702 158.552C78.3622 158.69 78.3082 158.893 78.3082 159.161V160.541H77.9369V158.943C77.9369 158.81 77.9174 158.699 77.8784 158.61C77.8409 158.522 77.7839 158.456 77.7074 158.412C77.6324 158.367 77.5371 158.345 77.4216 158.345C77.2581 158.345 77.1268 158.378 77.0278 158.446C76.9288 158.513 76.8568 158.614 76.8118 158.747C76.7683 158.879 76.7465 159.042 76.7465 159.236V160.541H76.373V158.075H76.6745L76.7308 158.423H76.7511C76.8006 158.338 76.8628 158.266 76.9378 158.207C77.0128 158.149 77.0968 158.105 77.1898 158.075C77.2829 158.045 77.3819 158.03 77.4869 158.03C77.6744 158.03 77.8312 158.065 77.9572 158.135C78.0847 158.204 78.1769 158.31 78.2339 158.453H78.2542C78.3352 158.31 78.4462 158.204 78.5872 158.135C78.7282 158.065 78.8828 158.03 79.0508 158.03Z",fill:"#020202"}),a.createElement("path",{d:"M42.3809 152.55V145.53L40.8472 146.15L40.4048 144.704L42.897 143.362H44.475V152.55H42.3809ZM47.6308 151.046C48.2207 150.485 48.7368 149.994 49.1793 149.571C49.6217 149.148 50.0002 148.775 50.3148 148.45C50.6392 148.116 50.8997 147.811 51.0964 147.536C51.3028 147.261 51.4503 146.99 51.5388 146.725C51.6371 146.459 51.6863 146.174 51.6863 145.869C51.6863 145.722 51.6666 145.589 51.6273 145.471C51.5879 145.353 51.524 145.255 51.4356 145.176C51.3471 145.088 51.2291 145.019 51.0816 144.97C50.944 144.921 50.7719 144.896 50.5655 144.896C50.3787 144.896 50.2066 144.916 50.0493 144.955C49.892 144.985 49.7446 145.039 49.6069 145.117C49.4693 145.196 49.3415 145.299 49.2235 145.427C49.1252 145.555 49.0613 145.653 49.0318 145.722C49.0121 145.791 49.0072 145.864 49.017 145.943L48.9138 146.076L48.8106 146.002L47.4096 144.926C47.6456 144.542 47.9307 144.223 48.2649 143.967C48.5992 143.711 48.963 143.52 49.3562 143.392C49.7593 143.254 50.1722 143.185 50.595 143.185C51.1455 143.185 51.6469 143.298 52.0992 143.525C52.5612 143.741 52.9299 144.051 53.2052 144.454C53.4805 144.847 53.6181 145.314 53.6181 145.855C53.6181 146.218 53.5739 146.558 53.4854 146.872C53.3969 147.187 53.2642 147.492 53.0872 147.787C52.9201 148.081 52.7087 148.386 52.4531 148.701C52.1975 149.015 51.8927 149.35 51.5388 149.704C51.1947 150.058 50.8063 150.451 50.3738 150.883H52.925C53.0921 150.883 53.2101 150.874 53.2789 150.854C53.3478 150.834 53.4117 150.8 53.4706 150.751H53.6329V150.883V152.55H47.6308V151.046ZM57.762 152.727C57.182 152.727 56.6118 152.638 56.0514 152.461C55.491 152.275 55.0535 151.985 54.7389 151.591L55.6974 150.087L55.7712 149.969L55.9187 150.058C55.9383 150.126 55.958 150.205 55.9776 150.294C56.0071 150.372 56.0809 150.47 56.1988 150.588C56.3955 150.746 56.6167 150.874 56.8625 150.972C57.1181 151.06 57.3835 151.105 57.6588 151.105C57.9243 151.105 58.1504 151.055 58.3372 150.957C58.524 150.859 58.6665 150.721 58.7648 150.544C58.873 150.357 58.927 150.146 58.927 149.91C58.927 149.635 58.8828 149.404 58.7943 149.217C58.7058 149.03 58.5682 148.888 58.3814 148.789C58.1946 148.681 57.9537 148.617 57.6588 148.598C57.3737 148.568 57.0296 148.578 56.6265 148.627V147.005C57.0296 147.025 57.3688 147.01 57.6441 146.961C57.9292 146.912 58.1553 146.838 58.3224 146.739C58.4896 146.631 58.6075 146.508 58.6763 146.371C58.755 146.233 58.7943 146.086 58.7943 145.928C58.7943 145.761 58.7648 145.614 58.7058 145.486C58.6567 145.358 58.583 145.25 58.4846 145.162C58.3863 145.063 58.2634 144.989 58.116 144.94C57.9783 144.891 57.821 144.867 57.6441 144.867C57.4474 144.867 57.2508 144.896 57.0542 144.955C56.8575 145.004 56.6757 145.083 56.5085 145.191C56.3414 145.299 56.1939 145.437 56.0661 145.604L54.8864 144.395C55.2501 143.962 55.6876 143.652 56.1988 143.466C56.7199 143.279 57.2361 143.185 57.7473 143.185C58.3175 143.185 58.8287 143.294 59.281 143.51C59.7431 143.716 60.1068 144.001 60.3723 144.365C60.6377 144.729 60.7704 145.142 60.7704 145.604C60.7704 145.958 60.6918 146.272 60.5345 146.548C60.387 146.823 60.2002 147.054 59.9741 147.241C59.7578 147.418 59.5464 147.555 59.34 147.654C59.5956 147.742 59.8512 147.885 60.1068 148.081C60.3624 148.268 60.5738 148.519 60.7409 148.834C60.9179 149.148 61.0064 149.527 61.0064 149.969C61.0064 150.49 60.8687 150.962 60.5935 151.385C60.328 151.798 59.9544 152.127 59.4727 152.373C58.991 152.609 58.4207 152.727 57.762 152.727ZM73.0105 152.55V150.426H69.6481V149.099L73.4824 143.362H74.9718V148.76H76.1958V150.441H74.9718V152.55H73.0105ZM71.6537 148.804H73.0695V146.504L71.6537 148.804ZM80.2955 152.727C79.6073 152.727 78.9928 152.609 78.4521 152.373C77.9114 152.127 77.5083 151.749 77.2429 151.237L78.6438 150.072L78.7471 149.984L78.8503 150.102C78.8503 150.18 78.865 150.254 78.8945 150.323C78.924 150.392 78.9879 150.49 79.0862 150.618C79.2435 150.765 79.4205 150.878 79.6171 150.957C79.8138 151.036 80.0202 151.075 80.2365 151.075C80.443 151.075 80.6249 151.041 80.7822 150.972C80.9493 150.893 81.0918 150.785 81.2098 150.647C81.3278 150.51 81.4163 150.357 81.4753 150.19C81.5343 150.013 81.5637 149.831 81.5637 149.645C81.5637 149.419 81.5343 149.212 81.4753 149.025C81.4261 148.829 81.3475 148.662 81.2393 148.524C81.1312 148.376 80.9935 148.263 80.8264 148.185C80.6593 148.096 80.4626 148.052 80.2365 148.052C80.0497 148.052 79.8728 148.072 79.7056 148.111C79.5385 148.15 79.3861 148.219 79.2485 148.317C79.1207 148.406 79.0027 148.524 78.8945 148.671L77.641 148.406L77.9802 143.362H83.0679V144.985H79.7204L79.6024 146.695C79.6909 146.636 79.8039 146.582 79.9416 146.533C80.0792 146.484 80.2218 146.449 80.3692 146.43C80.5167 146.4 80.6494 146.386 80.7674 146.386C81.1803 146.386 81.5539 146.449 81.8882 146.577C82.2224 146.705 82.5076 146.897 82.7435 147.152C82.9893 147.398 83.1761 147.713 83.3039 148.096C83.4317 148.48 83.4956 148.922 83.4956 149.423C83.4956 150.102 83.358 150.692 83.0827 151.193C82.8074 151.685 82.4289 152.063 81.9472 152.329C81.4753 152.594 80.9247 152.727 80.2955 152.727ZM87.7722 152.727C87.0841 152.727 86.4991 152.545 86.0174 152.181C85.5356 151.808 85.1719 151.291 84.9261 150.633C84.6803 149.964 84.5574 149.192 84.5574 148.317C84.5574 147.246 84.7147 146.331 85.0293 145.574C85.3439 144.808 85.7667 144.218 86.2975 143.805C86.8383 143.392 87.4478 143.185 88.1262 143.185C88.5489 143.185 88.9913 143.259 89.4534 143.407C89.9253 143.544 90.3284 143.785 90.6627 144.129L89.5861 145.339L89.4977 145.442L89.3649 145.339C89.3551 145.26 89.3207 145.201 89.2617 145.162C89.2027 145.122 89.1044 145.063 88.9668 144.985C88.9078 144.965 88.8439 144.95 88.775 144.94C88.7062 144.921 88.6374 144.906 88.5686 144.896C88.4998 144.886 88.4309 144.881 88.3621 144.881C88.2245 144.881 88.077 144.896 87.9197 144.926C87.7722 144.955 87.6297 145.014 87.4921 145.103C87.3544 145.181 87.2217 145.299 87.0939 145.456C86.9759 145.614 86.8727 145.82 86.7842 146.076C86.6957 146.331 86.6318 146.651 86.5925 147.034C86.7203 146.907 86.8678 146.798 87.0349 146.71C87.2119 146.621 87.3937 146.553 87.5805 146.504C87.7673 146.454 87.9492 146.43 88.1262 146.43C88.5096 146.43 88.8635 146.489 89.188 146.607C89.5124 146.715 89.7926 146.892 90.0285 147.138C90.2743 147.374 90.4611 147.683 90.5889 148.067C90.7266 148.44 90.7954 148.893 90.7954 149.423C90.7954 150.033 90.6676 150.588 90.412 151.09C90.1564 151.591 89.8024 151.989 89.3502 152.284C88.8979 152.579 88.372 152.727 87.7722 152.727ZM87.8017 151.105C87.9689 151.105 88.1163 151.06 88.2442 150.972C88.3818 150.883 88.4998 150.765 88.5981 150.618C88.6964 150.461 88.7701 150.284 88.8193 150.087C88.8684 149.881 88.893 149.659 88.893 149.423C88.893 149.187 88.8635 148.981 88.8045 148.804C88.7456 148.627 88.662 148.48 88.5538 148.362C88.4555 148.244 88.3376 148.155 88.1999 148.096C88.0721 148.037 87.9345 148.008 87.787 148.008C87.6592 148.008 87.5412 148.027 87.4331 148.067C87.3249 148.106 87.2217 148.165 87.1234 148.244C87.0349 148.312 86.9464 148.401 86.8579 148.509C86.7793 148.607 86.7006 148.725 86.622 148.863C86.622 149.256 86.6515 149.595 86.7105 149.881C86.7694 150.166 86.8481 150.402 86.9464 150.588C87.0546 150.765 87.1775 150.898 87.3151 150.987C87.4626 151.065 87.6248 151.105 87.8017 151.105Z",fill:"#020202"}),a.createElement("path",{d:"M40.9996 135.269C41.4241 135.269 41.7339 135.361 41.9289 135.544C42.124 135.725 42.2215 135.976 42.2215 136.295C42.2215 136.439 42.1997 136.577 42.1562 136.709C42.1127 136.84 42.0414 136.956 41.9424 137.058C41.8449 137.16 41.7144 137.241 41.5509 137.301C41.3874 137.359 41.1856 137.389 40.9456 137.389H40.6463V138.559H39.9487V135.269H40.9996ZM40.9636 135.841H40.6463V136.817H40.8758C41.0063 136.817 41.1196 136.8 41.2156 136.765C41.3116 136.731 41.3859 136.677 41.4384 136.603C41.4909 136.53 41.5171 136.435 41.5171 136.32C41.5171 136.158 41.4721 136.038 41.3821 135.96C41.2921 135.88 41.1526 135.841 40.9636 135.841ZM43.8191 135.991C44.1566 135.991 44.4154 136.065 44.5954 136.212C44.7755 136.359 44.8655 136.582 44.8655 136.882V138.559H44.3862L44.2534 138.217H44.2354C44.1634 138.307 44.0899 138.38 44.0149 138.437C43.9399 138.494 43.8536 138.536 43.7561 138.563C43.6586 138.59 43.5401 138.604 43.4006 138.604C43.2521 138.604 43.1185 138.575 43 138.518C42.883 138.461 42.7908 138.374 42.7233 138.257C42.6558 138.139 42.622 137.989 42.622 137.807C42.622 137.54 42.7158 137.344 42.9033 137.218C43.0908 137.09 43.3721 137.02 43.7471 137.006L44.1837 136.993V136.882C44.1837 136.75 44.1491 136.654 44.0801 136.592C44.0111 136.531 43.9151 136.5 43.7921 136.5C43.6706 136.5 43.5513 136.517 43.4343 136.552C43.3173 136.586 43.2003 136.63 43.0833 136.682L42.856 136.219C42.9895 136.148 43.1388 136.093 43.3038 136.052C43.4703 136.012 43.6421 135.991 43.8191 135.991ZM44.1837 137.393L43.9181 137.402C43.6961 137.408 43.5416 137.448 43.4546 137.521C43.3691 137.595 43.3263 137.692 43.3263 137.812C43.3263 137.917 43.3571 137.992 43.4186 138.037C43.4801 138.08 43.5603 138.102 43.6593 138.102C43.8064 138.102 43.9301 138.059 44.0306 137.972C44.1326 137.885 44.1837 137.761 44.1837 137.6V137.393ZM47.3295 137.812C47.3295 137.983 47.289 138.128 47.2079 138.246C47.1284 138.363 47.0092 138.452 46.8502 138.514C46.6911 138.574 46.4931 138.604 46.2561 138.604C46.0806 138.604 45.9298 138.593 45.8038 138.57C45.6793 138.548 45.5533 138.51 45.4258 138.458V137.891C45.5623 137.952 45.7085 138.003 45.8646 138.044C46.0221 138.083 46.1601 138.102 46.2786 138.102C46.4121 138.102 46.5074 138.083 46.5644 138.044C46.6229 138.003 46.6521 137.951 46.6521 137.886C46.6521 137.844 46.6401 137.807 46.6161 137.774C46.5936 137.739 46.5441 137.701 46.4676 137.659C46.3911 137.615 46.2711 137.559 46.1076 137.49C45.9501 137.424 45.8203 137.357 45.7183 137.29C45.6178 137.222 45.5428 137.143 45.4933 137.051C45.4453 136.958 45.4213 136.84 45.4213 136.698C45.4213 136.465 45.5113 136.291 45.6913 136.174C45.8728 136.055 46.1151 135.996 46.4181 135.996C46.5741 135.996 46.7226 136.012 46.8637 136.043C47.0062 136.075 47.1524 136.125 47.3025 136.194L47.0954 136.689C46.9709 136.635 46.8532 136.591 46.7421 136.556C46.6326 136.522 46.5209 136.504 46.4069 136.504C46.3064 136.504 46.2306 136.518 46.1796 136.545C46.1286 136.572 46.1031 136.613 46.1031 136.669C46.1031 136.709 46.1158 136.745 46.1413 136.777C46.1683 136.808 46.2193 136.843 46.2944 136.882C46.3709 136.92 46.4826 136.969 46.6296 137.029C46.7722 137.087 46.8959 137.149 47.0009 137.213C47.1059 137.276 47.1869 137.355 47.2439 137.449C47.301 137.542 47.3295 137.663 47.3295 137.812ZM49.6202 137.812C49.6202 137.983 49.5797 138.128 49.4987 138.246C49.4192 138.363 49.2999 138.452 49.1409 138.514C48.9819 138.574 48.7838 138.604 48.5468 138.604C48.3713 138.604 48.2205 138.593 48.0945 138.57C47.97 138.548 47.844 138.51 47.7165 138.458V137.891C47.853 137.952 47.9993 138.003 48.1553 138.044C48.3128 138.083 48.4508 138.102 48.5693 138.102C48.7028 138.102 48.7981 138.083 48.8551 138.044C48.9136 138.003 48.9429 137.951 48.9429 137.886C48.9429 137.844 48.9309 137.807 48.9069 137.774C48.8844 137.739 48.8349 137.701 48.7583 137.659C48.6818 137.615 48.5618 137.559 48.3983 137.49C48.2408 137.424 48.111 137.357 48.009 137.29C47.9085 137.222 47.8335 137.143 47.784 137.051C47.736 136.958 47.712 136.84 47.712 136.698C47.712 136.465 47.802 136.291 47.982 136.174C48.1635 136.055 48.4058 135.996 48.7088 135.996C48.8649 135.996 49.0134 136.012 49.1544 136.043C49.2969 136.075 49.4432 136.125 49.5932 136.194L49.3862 136.689C49.2616 136.635 49.1439 136.591 49.0329 136.556C48.9234 136.522 48.8116 136.504 48.6976 136.504C48.5971 136.504 48.5213 136.518 48.4703 136.545C48.4193 136.572 48.3938 136.613 48.3938 136.669C48.3938 136.709 48.4066 136.745 48.4321 136.777C48.4591 136.808 48.5101 136.843 48.5851 136.882C48.6616 136.92 48.7733 136.969 48.9204 137.029C49.0629 137.087 49.1866 137.149 49.2916 137.213C49.3967 137.276 49.4777 137.355 49.5347 137.449C49.5917 137.542 49.6202 137.663 49.6202 137.812ZM50.842 135.057V135.872C50.842 135.967 50.839 136.06 50.833 136.153C50.8285 136.246 50.8225 136.318 50.815 136.369H50.842C50.9081 136.266 50.9981 136.178 51.1121 136.106C51.2261 136.033 51.3738 135.996 51.5554 135.996C51.8374 135.996 52.0662 136.106 52.2417 136.327C52.4172 136.547 52.505 136.87 52.505 137.296C52.505 137.583 52.4645 137.824 52.3834 138.019C52.3024 138.212 52.1892 138.359 52.0437 138.458C51.8982 138.555 51.7294 138.604 51.5374 138.604C51.3528 138.604 51.2073 138.571 51.1008 138.505C50.9943 138.439 50.9081 138.365 50.842 138.282H50.7948L50.68 138.559H50.1557V135.057H50.842ZM51.3348 136.545C51.2148 136.545 51.1196 136.57 51.0491 136.619C50.9786 136.669 50.9268 136.743 50.8938 136.842C50.8623 136.941 50.845 137.066 50.842 137.218V137.292C50.842 137.536 50.8781 137.724 50.9501 137.855C51.0221 137.984 51.1533 138.048 51.3438 138.048C51.4849 138.048 51.5966 137.983 51.6791 137.852C51.7631 137.722 51.8051 137.533 51.8051 137.287C51.8051 137.041 51.7631 136.856 51.6791 136.732C51.5951 136.607 51.4804 136.545 51.3348 136.545ZM55.3582 137.296C55.3582 137.506 55.3297 137.693 55.2727 137.855C55.2172 138.017 55.1355 138.154 55.0275 138.266C54.9209 138.377 54.7919 138.461 54.6404 138.518C54.4904 138.575 54.3209 138.604 54.1319 138.604C53.9549 138.604 53.7921 138.575 53.6436 138.518C53.4966 138.461 53.3683 138.377 53.2588 138.266C53.1508 138.154 53.0668 138.017 53.0068 137.855C52.9483 137.693 52.919 137.506 52.919 137.296C52.919 137.017 52.9685 136.781 53.0675 136.588C53.1665 136.394 53.3075 136.247 53.4906 136.147C53.6736 136.046 53.8918 135.996 54.1454 135.996C54.3809 135.996 54.5894 136.046 54.7709 136.147C54.9539 136.247 55.0972 136.394 55.2007 136.588C55.3057 136.781 55.3582 137.017 55.3582 137.296ZM53.6188 137.296C53.6188 137.461 53.6368 137.6 53.6728 137.713C53.7088 137.825 53.7651 137.91 53.8416 137.967C53.9181 138.024 54.0179 138.053 54.1409 138.053C54.2624 138.053 54.3606 138.024 54.4356 137.967C54.5122 137.91 54.5677 137.825 54.6022 137.713C54.6382 137.6 54.6562 137.461 54.6562 137.296C54.6562 137.13 54.6382 136.992 54.6022 136.882C54.5677 136.771 54.5122 136.688 54.4356 136.633C54.3591 136.577 54.2594 136.549 54.1364 136.549C53.9549 136.549 53.8228 136.612 53.7403 136.736C53.6593 136.861 53.6188 137.047 53.6188 137.296ZM56.6116 138.559H55.9253V135.057H56.6116V138.559ZM58.3938 138.057C58.4688 138.057 58.5415 138.05 58.6121 138.035C58.6841 138.02 58.7553 138.001 58.8258 137.978V138.489C58.7523 138.522 58.6608 138.549 58.5513 138.57C58.4433 138.593 58.3248 138.604 58.1958 138.604C58.0457 138.604 57.9107 138.58 57.7907 138.532C57.6722 138.482 57.5785 138.398 57.5094 138.278C57.4419 138.156 57.4082 137.987 57.4082 137.771V136.558H57.0797V136.268L57.4577 136.039L57.6557 135.508H58.0945V136.043H58.7988V136.558H58.0945V137.771C58.0945 137.867 58.1215 137.939 58.1755 137.987C58.231 138.034 58.3038 138.057 58.3938 138.057Z",fill:"#020202"}),a.createElement("ellipse",{cx:"123.517",cy:"147.55",rx:"9.52153",ry:"9.44218",stroke:"#020202",strokeOpacity:"0.25",strokeWidth:"1.85141"}),a.createElement("path",{d:"M123.517 138.108C124.767 138.108 126.005 138.352 127.16 138.826C128.316 139.301 129.365 139.996 130.249 140.873C131.134 141.75 131.835 142.791 132.313 143.936C132.792 145.082 133.038 146.31 133.038 147.55",stroke:"#020202",strokeWidth:"1.85141",strokeLinecap:"round"}),a.createElement("path",{d:"M47.5347 167.287H129.465",stroke:"#D6D6D6",strokeLinecap:"round"})),a.createElement("g",{filter:"url(#filter2_f_5_20425)"},a.createElement("path",{d:"M40.8511 204.7C41.1451 204.7 41.3634 204.766 41.5059 204.898C41.6484 205.03 41.7196 205.241 41.7196 205.53V207.207H41.4474L41.3754 206.842H41.3574C41.2884 206.932 41.2163 207.008 41.1413 207.07C41.0663 207.13 40.9793 207.175 40.8803 207.207C40.7828 207.237 40.6628 207.252 40.5203 207.252C40.3703 207.252 40.2368 207.226 40.1197 207.173C40.0042 207.121 39.9127 207.041 39.8452 206.935C39.7792 206.828 39.7462 206.693 39.7462 206.529C39.7462 206.283 39.8437 206.094 40.0387 205.962C40.2338 205.83 40.5308 205.758 40.9298 205.746L41.3551 205.728V205.578C41.3551 205.365 41.3094 205.215 41.2178 205.13C41.1263 205.044 40.9973 205.002 40.8308 205.002C40.7018 205.002 40.5788 205.02 40.4618 205.058C40.3448 205.095 40.2338 205.14 40.1287 205.191L40.014 204.907C40.125 204.85 40.2525 204.801 40.3965 204.761C40.5405 204.72 40.692 204.7 40.8511 204.7ZM41.3506 205.992L40.9748 206.007C40.6673 206.019 40.4505 206.07 40.3245 206.158C40.1985 206.247 40.1355 206.372 40.1355 206.534C40.1355 206.675 40.1782 206.779 40.2638 206.847C40.3493 206.914 40.4625 206.948 40.6035 206.948C40.8226 206.948 41.0018 206.887 41.1413 206.766C41.2809 206.644 41.3506 206.462 41.3506 206.219V205.992ZM43.3668 207.252C43.0548 207.252 42.8073 207.145 42.6242 206.932C42.4427 206.719 42.352 206.403 42.352 205.983C42.352 205.558 42.445 205.238 42.631 205.022C42.817 204.804 43.0645 204.696 43.3736 204.696C43.5041 204.696 43.6181 204.713 43.7156 204.747C43.8131 204.782 43.8971 204.828 43.9676 204.887C44.0381 204.944 44.0974 205.009 44.1454 205.083H44.1724C44.1664 205.036 44.1604 204.972 44.1544 204.891C44.1484 204.81 44.1454 204.744 44.1454 204.693V203.705H44.5189V207.207H44.2174L44.1611 206.856H44.1454C44.0989 206.929 44.0396 206.996 43.9676 207.056C43.8971 207.116 43.8123 207.164 43.7133 207.2C43.6158 207.235 43.5003 207.252 43.3668 207.252ZM43.4253 206.941C43.6893 206.941 43.8761 206.866 43.9856 206.716C44.0951 206.566 44.1499 206.343 44.1499 206.048V205.98C44.1499 205.667 44.0974 205.426 43.9924 205.258C43.8889 205.09 43.6998 205.006 43.4253 205.006C43.1958 205.006 43.024 205.095 42.91 205.272C42.796 205.447 42.739 205.687 42.739 205.992C42.739 206.295 42.7953 206.529 42.9078 206.694C43.0218 206.859 43.1943 206.941 43.4253 206.941ZM46.2336 204.7C46.5276 204.7 46.7459 204.766 46.8884 204.898C47.0309 205.03 47.1022 205.241 47.1022 205.53V207.207H46.8299L46.7579 206.842H46.7399C46.6709 206.932 46.5989 207.008 46.5239 207.07C46.4489 207.13 46.3618 207.175 46.2628 207.207C46.1653 207.237 46.0453 207.252 45.9028 207.252C45.7528 207.252 45.6193 207.226 45.5023 207.173C45.3868 207.121 45.2952 207.041 45.2277 206.935C45.1617 206.828 45.1287 206.693 45.1287 206.529C45.1287 206.283 45.2262 206.094 45.4213 205.962C45.6163 205.83 45.9133 205.758 46.3123 205.746L46.7376 205.728V205.578C46.7376 205.365 46.6919 205.215 46.6004 205.13C46.5089 205.044 46.3798 205.002 46.2133 205.002C46.0843 205.002 45.9613 205.02 45.8443 205.058C45.7273 205.095 45.6163 205.14 45.5113 205.191L45.3965 204.907C45.5075 204.85 45.635 204.801 45.779 204.761C45.9231 204.72 46.0746 204.7 46.2336 204.7ZM46.7331 205.992L46.3573 206.007C46.0498 206.019 45.833 206.07 45.707 206.158C45.581 206.247 45.518 206.372 45.518 206.534C45.518 206.675 45.5608 206.779 45.6463 206.847C45.7318 206.914 45.845 206.948 45.9861 206.948C46.2051 206.948 46.3843 206.887 46.5239 206.766C46.6634 206.644 46.7331 206.462 46.7331 206.219V205.992ZM51.3461 205.564C51.3461 205.707 51.3296 205.846 51.2966 205.983C51.2651 206.118 51.2163 206.24 51.1503 206.349C51.0843 206.457 51.0018 206.544 50.9028 206.608C50.8053 206.673 50.6898 206.705 50.5563 206.705C50.4167 206.705 50.3057 206.664 50.2232 206.583C50.1407 206.502 50.0912 206.406 50.0747 206.295H50.0545C49.9975 206.414 49.9134 206.512 49.8024 206.59C49.6929 206.667 49.5579 206.705 49.3974 206.705C49.1634 206.705 48.9826 206.628 48.8551 206.473C48.7291 206.317 48.6661 206.11 48.6661 205.852C48.6661 205.651 48.7058 205.473 48.7853 205.319C48.8663 205.163 48.9796 205.041 49.1251 204.952C49.2721 204.862 49.4454 204.817 49.6449 204.817C49.7784 204.817 49.9082 204.828 50.0342 204.851C50.1602 204.873 50.2607 204.898 50.3357 204.925L50.2907 205.832C50.2892 205.887 50.2877 205.93 50.2862 205.96C50.2847 205.989 50.284 206.011 50.284 206.028C50.284 206.19 50.3125 206.299 50.3695 206.356C50.428 206.412 50.4985 206.439 50.581 206.439C50.6815 206.439 50.7655 206.4 50.833 206.322C50.902 206.243 50.9545 206.137 50.9905 206.005C51.0266 205.872 51.0446 205.724 51.0446 205.562C51.0446 205.275 50.9868 205.031 50.8713 204.828C50.7558 204.626 50.596 204.471 50.392 204.365C50.1895 204.258 49.9562 204.205 49.6922 204.205C49.4296 204.205 49.1964 204.246 48.9924 204.329C48.7898 204.411 48.6181 204.528 48.4771 204.68C48.3375 204.83 48.2318 205.008 48.1598 205.215C48.0878 205.422 48.0518 205.651 48.0518 205.902C48.0518 206.208 48.1058 206.468 48.2138 206.682C48.3233 206.897 48.4831 207.061 48.6931 207.173C48.9046 207.284 49.1619 207.34 49.4649 207.34C49.6479 207.34 49.8242 207.319 49.9937 207.279C50.1632 207.238 50.3147 207.193 50.4482 207.142V207.434C50.3162 207.49 50.1685 207.535 50.005 207.569C49.8414 207.605 49.6614 207.623 49.4649 207.623C49.1034 207.623 48.7943 207.555 48.5378 207.418C48.2813 207.283 48.0848 207.088 47.9483 206.833C47.8117 206.578 47.7435 206.272 47.7435 205.915C47.7435 205.626 47.7877 205.359 47.8762 205.116C47.9663 204.873 48.0953 204.663 48.2633 204.484C48.4328 204.306 48.6376 204.167 48.8776 204.07C49.1191 203.971 49.3906 203.921 49.6922 203.921C50.0147 203.921 50.2997 203.988 50.5473 204.122C50.7963 204.254 50.9913 204.443 51.1323 204.689C51.2748 204.933 51.3461 205.225 51.3461 205.564ZM49.0014 205.861C49.0014 206.061 49.0411 206.207 49.1206 206.3C49.2001 206.393 49.3104 206.439 49.4514 206.439C49.6254 206.439 49.7529 206.374 49.8339 206.244C49.9164 206.113 49.9637 205.941 49.9757 205.726L50.0027 205.139C49.9592 205.125 49.9059 205.114 49.8429 205.105C49.7814 205.095 49.7169 205.089 49.6494 205.089C49.4949 205.089 49.3696 205.126 49.2736 205.2C49.1791 205.273 49.1101 205.368 49.0666 205.485C49.0231 205.602 49.0014 205.728 49.0014 205.861ZM53.162 204.696C53.4695 204.696 53.7148 204.801 53.8978 205.013C54.0808 205.224 54.1724 205.542 54.1724 205.967C54.1724 206.247 54.1304 206.483 54.0463 206.673C53.9623 206.864 53.8438 207.008 53.6908 207.106C53.5393 207.203 53.36 207.252 53.153 207.252C53.0225 207.252 52.9077 207.235 52.8087 207.2C52.7097 207.166 52.625 207.119 52.5544 207.061C52.4839 207.002 52.4254 206.938 52.3789 206.869H52.3519C52.3564 206.928 52.3617 206.998 52.3677 207.081C52.3752 207.163 52.3789 207.235 52.3789 207.297V208.309H52.0031V204.741H52.3114L52.3609 205.105H52.3789C52.4269 205.03 52.4854 204.962 52.5544 204.9C52.6235 204.837 52.7075 204.788 52.8065 204.752C52.907 204.714 53.0255 204.696 53.162 204.696ZM53.0968 205.011C52.9257 205.011 52.7877 205.044 52.6827 205.11C52.5792 205.176 52.5034 205.275 52.4554 205.407C52.4074 205.537 52.3819 205.701 52.3789 205.899V205.971C52.3789 206.18 52.4014 206.356 52.4464 206.5C52.4929 206.644 52.5687 206.754 52.6737 206.829C52.7802 206.904 52.9227 206.941 53.1013 206.941C53.2543 206.941 53.3818 206.9 53.4838 206.817C53.5858 206.735 53.6616 206.62 53.7111 206.473C53.7621 206.325 53.7876 206.154 53.7876 205.962C53.7876 205.671 53.7306 205.44 53.6166 205.269C53.504 205.097 53.3308 205.011 53.0968 205.011ZM55.7475 204.7C56.0415 204.7 56.2598 204.766 56.4023 204.898C56.5448 205.03 56.6161 205.241 56.6161 205.53V207.207H56.3438L56.2718 206.842H56.2538C56.1848 206.932 56.1128 207.008 56.0378 207.07C55.9628 207.13 55.8758 207.175 55.7768 207.207C55.6793 207.237 55.5592 207.252 55.4167 207.252C55.2667 207.252 55.1332 207.226 55.0162 207.173C54.9007 207.121 54.8092 207.041 54.7417 206.935C54.6757 206.828 54.6427 206.693 54.6427 206.529C54.6427 206.283 54.7402 206.094 54.9352 205.962C55.1302 205.83 55.4272 205.758 55.8263 205.746L56.2516 205.728V205.578C56.2516 205.365 56.2058 205.215 56.1143 205.13C56.0228 205.044 55.8938 205.002 55.7273 205.002C55.5982 205.002 55.4752 205.02 55.3582 205.058C55.2412 205.095 55.1302 205.14 55.0252 205.191L54.9104 204.907C55.0214 204.85 55.149 204.801 55.293 204.761C55.437 204.72 55.5885 204.7 55.7475 204.7ZM56.2471 205.992L55.8713 206.007C55.5637 206.019 55.347 206.07 55.221 206.158C55.0949 206.247 55.0319 206.372 55.0319 206.534C55.0319 206.675 55.0747 206.779 55.1602 206.847C55.2457 206.914 55.359 206.948 55.5 206.948C55.719 206.948 55.8983 206.887 56.0378 206.766C56.1773 206.644 56.2471 206.462 56.2471 206.219V205.992ZM58.9811 206.532C58.9811 206.689 58.9413 206.822 58.8618 206.93C58.7838 207.037 58.6713 207.117 58.5243 207.171C58.3788 207.225 58.2047 207.252 58.0022 207.252C57.8297 207.252 57.6804 207.238 57.5544 207.211C57.4284 207.184 57.3182 207.146 57.2237 207.097V206.752C57.3242 206.802 57.4442 206.847 57.5837 206.887C57.7232 206.928 57.8657 206.948 58.0112 206.948C58.2243 206.948 58.3788 206.914 58.4748 206.845C58.5708 206.775 58.6188 206.682 58.6188 206.563C58.6188 206.496 58.5993 206.436 58.5603 206.385C58.5228 206.333 58.459 206.283 58.369 206.235C58.279 206.185 58.1545 206.131 57.9955 206.073C57.838 206.013 57.7014 205.953 57.5859 205.895C57.4719 205.835 57.3834 205.762 57.3204 205.677C57.2589 205.591 57.2282 205.48 57.2282 205.344C57.2282 205.135 57.3122 204.975 57.4802 204.864C57.6497 204.752 57.8717 204.696 58.1462 204.696C58.2948 204.696 58.4335 204.711 58.5625 204.741C58.693 204.769 58.8146 204.808 58.9271 204.858L58.8011 205.157C58.699 205.113 58.5903 205.077 58.4748 205.047C58.3593 205.017 58.2415 205.002 58.1215 205.002C57.949 205.002 57.8162 205.03 57.7232 205.087C57.6317 205.144 57.5859 205.222 57.5859 205.321C57.5859 205.398 57.6069 205.461 57.6489 205.51C57.6924 205.56 57.7615 205.606 57.856 205.65C57.9505 205.693 58.075 205.744 58.2295 205.803C58.384 205.86 58.5175 205.919 58.63 205.98C58.7426 206.04 58.8288 206.114 58.8888 206.201C58.9503 206.286 58.9811 206.397 58.9811 206.532ZM61.1773 206.532C61.1773 206.689 61.1375 206.822 61.058 206.93C60.98 207.037 60.8675 207.117 60.7205 207.171C60.575 207.225 60.401 207.252 60.1984 207.252C60.0259 207.252 59.8767 207.238 59.7506 207.211C59.6246 207.184 59.5144 207.146 59.4199 207.097V206.752C59.5204 206.802 59.6404 206.847 59.7799 206.887C59.9194 206.928 60.0619 206.948 60.2074 206.948C60.4205 206.948 60.575 206.914 60.671 206.845C60.767 206.775 60.815 206.682 60.815 206.563C60.815 206.496 60.7955 206.436 60.7565 206.385C60.719 206.333 60.6552 206.283 60.5652 206.235C60.4752 206.185 60.3507 206.131 60.1917 206.073C60.0342 206.013 59.8977 205.953 59.7822 205.895C59.6681 205.835 59.5796 205.762 59.5166 205.677C59.4551 205.591 59.4244 205.48 59.4244 205.344C59.4244 205.135 59.5084 204.975 59.6764 204.864C59.8459 204.752 60.0679 204.696 60.3425 204.696C60.491 204.696 60.6297 204.711 60.7587 204.741C60.8893 204.769 61.0108 204.808 61.1233 204.858L60.9973 205.157C60.8953 205.113 60.7865 205.077 60.671 205.047C60.5555 205.017 60.4377 205.002 60.3177 205.002C60.1452 205.002 60.0124 205.03 59.9194 205.087C59.8279 205.144 59.7822 205.222 59.7822 205.321C59.7822 205.398 59.8032 205.461 59.8452 205.51C59.8887 205.56 59.9577 205.606 60.0522 205.65C60.1467 205.693 60.2712 205.744 60.4257 205.803C60.5802 205.86 60.7137 205.919 60.8263 205.98C60.9388 206.04 61.025 206.114 61.085 206.201C61.1465 206.286 61.1773 206.397 61.1773 206.532ZM62.1516 203.705V204.581C62.1516 204.681 62.1486 204.779 62.1426 204.873C62.1381 204.968 62.1344 205.041 62.1314 205.094H62.1516C62.2191 204.983 62.3166 204.889 62.4442 204.813C62.5717 204.736 62.7344 204.698 62.9325 204.698C63.2415 204.698 63.4875 204.805 63.6705 205.02C63.855 205.233 63.9473 205.55 63.9473 205.971C63.9473 206.249 63.9053 206.483 63.8213 206.673C63.7373 206.864 63.6188 207.008 63.4658 207.106C63.3127 207.203 63.132 207.252 62.9235 207.252C62.7284 207.252 62.5679 207.216 62.4419 207.144C62.3174 207.07 62.2214 206.981 62.1539 206.876H62.1246L62.0481 207.207H61.7781V203.705H62.1516ZM62.8717 205.011C62.6932 205.011 62.5514 205.046 62.4464 205.116C62.3414 205.185 62.2656 205.29 62.2191 205.431C62.1741 205.571 62.1516 205.748 62.1516 205.962V205.983C62.1516 206.293 62.2034 206.531 62.3069 206.696C62.4104 206.86 62.5987 206.941 62.8717 206.941C63.1012 206.941 63.273 206.857 63.387 206.689C63.5025 206.521 63.5603 206.281 63.5603 205.969C63.5603 205.651 63.5033 205.412 63.3893 205.251C63.2767 205.091 63.1042 205.011 62.8717 205.011ZM66.7263 205.969C66.7263 206.172 66.7001 206.352 66.6476 206.511C66.5951 206.67 66.5193 206.805 66.4203 206.914C66.3213 207.024 66.2013 207.108 66.0603 207.166C65.9207 207.223 65.7625 207.252 65.5855 207.252C65.4204 207.252 65.2689 207.223 65.1309 207.166C64.9944 207.108 64.8759 207.024 64.7754 206.914C64.6764 206.805 64.5991 206.67 64.5436 206.511C64.4896 206.352 64.4626 206.172 64.4626 205.969C64.4626 205.699 64.5084 205.47 64.5999 205.281C64.6914 205.09 64.8219 204.945 64.9914 204.846C65.1624 204.746 65.3657 204.696 65.6012 204.696C65.8262 204.696 66.0228 204.746 66.1908 204.846C66.3603 204.947 66.4916 205.092 66.5846 205.283C66.6791 205.472 66.7263 205.701 66.7263 205.969ZM64.8496 205.969C64.8496 206.167 64.8759 206.339 64.9284 206.484C64.9809 206.63 65.0619 206.742 65.1714 206.822C65.2809 206.902 65.4219 206.941 65.5945 206.941C65.7655 206.941 65.9057 206.902 66.0153 206.822C66.1263 206.742 66.208 206.63 66.2605 206.484C66.313 206.339 66.3393 206.167 66.3393 205.969C66.3393 205.773 66.313 205.603 66.2605 205.461C66.208 205.317 66.127 205.206 66.0175 205.128C65.908 205.05 65.7662 205.011 65.5922 205.011C65.3357 205.011 65.1474 205.095 65.0274 205.265C64.9089 205.434 64.8496 205.669 64.8496 205.969ZM67.7479 207.207H67.3721V203.705H67.7479V207.207ZM69.3343 206.946C69.3958 206.946 69.4588 206.941 69.5233 206.93C69.5879 206.92 69.6404 206.907 69.6809 206.892V207.182C69.6374 207.202 69.5766 207.218 69.4986 207.232C69.4221 207.245 69.3471 207.252 69.2736 207.252C69.1431 207.252 69.0246 207.229 68.918 207.184C68.8115 207.138 68.726 207.06 68.6615 206.95C68.5985 206.841 68.567 206.689 68.567 206.496V205.033H68.216V204.851L68.5693 204.705L68.7178 204.169H68.9428V204.741H69.6651V205.033H68.9428V206.484C68.9428 206.639 68.978 206.754 69.0486 206.831C69.1206 206.908 69.2158 206.946 69.3343 206.946ZM70.1242 206.973C70.1242 206.868 70.1497 206.793 70.2007 206.75C70.2517 206.705 70.3139 206.682 70.3874 206.682C70.4639 206.682 70.5284 206.705 70.581 206.75C70.6335 206.793 70.6597 206.868 70.6597 206.973C70.6597 207.076 70.6335 207.152 70.581 207.2C70.5284 207.247 70.4639 207.27 70.3874 207.27C70.3139 207.27 70.2517 207.247 70.2007 207.2C70.1497 207.152 70.1242 207.076 70.1242 206.973ZM72.3789 207.252C72.1569 207.252 71.9611 207.206 71.7916 207.115C71.6221 207.023 71.49 206.884 71.3955 206.696C71.301 206.508 71.2538 206.272 71.2538 205.987C71.2538 205.689 71.3033 205.445 71.4023 205.256C71.5028 205.065 71.6408 204.924 71.8163 204.833C71.9918 204.741 72.1914 204.696 72.4149 204.696C72.5379 204.696 72.6564 204.708 72.7704 204.734C72.8859 204.758 72.9804 204.789 73.0539 204.826L72.9414 205.139C72.8664 205.109 72.7794 205.082 72.6804 205.058C72.5829 205.034 72.4914 205.022 72.4059 205.022C72.2349 205.022 72.0923 205.059 71.9783 205.132C71.8658 205.206 71.7811 205.314 71.7241 205.456C71.6686 205.599 71.6408 205.774 71.6408 205.983C71.6408 206.182 71.6678 206.352 71.7218 206.493C71.7773 206.634 71.8591 206.742 71.9671 206.817C72.0766 206.891 72.2131 206.928 72.3766 206.928C72.5071 206.928 72.6249 206.914 72.7299 206.887C72.8349 206.859 72.9302 206.826 73.0157 206.788V207.121C72.9332 207.163 72.8409 207.196 72.7389 207.218C72.6384 207.241 72.5184 207.252 72.3789 207.252ZM75.7272 205.969C75.7272 206.172 75.7009 206.352 75.6484 206.511C75.5959 206.67 75.5202 206.805 75.4212 206.914C75.3222 207.024 75.2021 207.108 75.0611 207.166C74.9216 207.223 74.7634 207.252 74.5863 207.252C74.4213 207.252 74.2698 207.223 74.1318 207.166C73.9953 207.108 73.8768 207.024 73.7763 206.914C73.6773 206.805 73.6 206.67 73.5445 206.511C73.4905 206.352 73.4635 206.172 73.4635 205.969C73.4635 205.699 73.5092 205.47 73.6007 205.281C73.6923 205.09 73.8228 204.945 73.9923 204.846C74.1633 204.746 74.3666 204.696 74.6021 204.696C74.8271 204.696 75.0236 204.746 75.1916 204.846C75.3612 204.947 75.4924 205.092 75.5854 205.283C75.6799 205.472 75.7272 205.701 75.7272 205.969ZM73.8505 205.969C73.8505 206.167 73.8768 206.339 73.9293 206.484C73.9818 206.63 74.0628 206.742 74.1723 206.822C74.2818 206.902 74.4228 206.941 74.5953 206.941C74.7664 206.941 74.9066 206.902 75.0161 206.822C75.1271 206.742 75.2089 206.63 75.2614 206.484C75.3139 206.339 75.3402 206.167 75.3402 205.969C75.3402 205.773 75.3139 205.603 75.2614 205.461C75.2089 205.317 75.1279 205.206 75.0184 205.128C74.9089 205.05 74.7671 205.011 74.5931 205.011C74.3366 205.011 74.1483 205.095 74.0283 205.265C73.9098 205.434 73.8505 205.669 73.8505 205.969ZM79.0508 204.696C79.3223 204.696 79.5271 204.767 79.6651 204.909C79.8031 205.05 79.8721 205.278 79.8721 205.591V207.207H79.5031V205.609C79.5031 205.41 79.4596 205.26 79.3726 205.161C79.287 205.061 79.1595 205.011 78.99 205.011C78.7515 205.011 78.5782 205.08 78.4702 205.218C78.3622 205.356 78.3082 205.559 78.3082 205.827V207.207H77.9369V205.609C77.9369 205.476 77.9174 205.365 77.8784 205.276C77.8409 205.188 77.7839 205.122 77.7074 205.078C77.6324 205.033 77.5371 205.011 77.4216 205.011C77.2581 205.011 77.1268 205.044 77.0278 205.112C76.9288 205.179 76.8568 205.28 76.8118 205.413C76.7683 205.545 76.7465 205.708 76.7465 205.902V207.207H76.373V204.741H76.6745L76.7308 205.089H76.7511C76.8006 205.004 76.8628 204.932 76.9378 204.873C77.0128 204.815 77.0968 204.771 77.1898 204.741C77.2829 204.711 77.3819 204.696 77.4869 204.696C77.6744 204.696 77.8312 204.731 77.9572 204.801C78.0847 204.87 78.1769 204.976 78.2339 205.119H78.2542C78.3352 204.976 78.4462 204.87 78.5872 204.801C78.7282 204.731 78.8828 204.696 79.0508 204.696Z",fill:"#020202"}),a.createElement("path",{d:"M42.3809 199.216V192.196L40.8472 192.816L40.4048 191.37L42.897 190.028H44.475V199.216H42.3809ZM47.6308 197.712C48.2207 197.151 48.7368 196.66 49.1793 196.237C49.6217 195.814 50.0002 195.441 50.3148 195.116C50.6392 194.782 50.8997 194.477 51.0964 194.202C51.3028 193.927 51.4503 193.656 51.5388 193.391C51.6371 193.125 51.6863 192.84 51.6863 192.535C51.6863 192.388 51.6666 192.255 51.6273 192.137C51.5879 192.019 51.524 191.921 51.4356 191.842C51.3471 191.754 51.2291 191.685 51.0816 191.636C50.944 191.587 50.7719 191.562 50.5655 191.562C50.3787 191.562 50.2066 191.582 50.0493 191.621C49.892 191.651 49.7446 191.705 49.6069 191.783C49.4693 191.862 49.3415 191.965 49.2235 192.093C49.1252 192.221 49.0613 192.319 49.0318 192.388C49.0121 192.457 49.0072 192.53 49.017 192.609L48.9138 192.742L48.8106 192.668L47.4096 191.592C47.6456 191.208 47.9307 190.889 48.2649 190.633C48.5992 190.377 48.963 190.186 49.3562 190.058C49.7593 189.92 50.1722 189.851 50.595 189.851C51.1455 189.851 51.6469 189.965 52.0992 190.191C52.5612 190.407 52.9299 190.717 53.2052 191.12C53.4805 191.513 53.6181 191.98 53.6181 192.521C53.6181 192.884 53.5739 193.224 53.4854 193.538C53.3969 193.853 53.2642 194.158 53.0872 194.453C52.9201 194.747 52.7087 195.052 52.4531 195.367C52.1975 195.681 51.8927 196.016 51.5388 196.37C51.1947 196.724 50.8063 197.117 50.3738 197.549H52.925C53.0921 197.549 53.2101 197.54 53.2789 197.52C53.3478 197.5 53.4117 197.466 53.4706 197.417H53.6329V197.549V199.216H47.6308V197.712ZM57.762 199.393C57.182 199.393 56.6118 199.304 56.0514 199.127C55.491 198.941 55.0535 198.651 54.7389 198.257L55.6974 196.753L55.7712 196.635L55.9187 196.724C55.9383 196.792 55.958 196.871 55.9776 196.96C56.0071 197.038 56.0809 197.136 56.1988 197.254C56.3955 197.412 56.6167 197.54 56.8625 197.638C57.1181 197.726 57.3835 197.771 57.6588 197.771C57.9243 197.771 58.1504 197.721 58.3372 197.623C58.524 197.525 58.6665 197.387 58.7648 197.21C58.873 197.023 58.927 196.812 58.927 196.576C58.927 196.301 58.8828 196.07 58.7943 195.883C58.7058 195.696 58.5682 195.554 58.3814 195.455C58.1946 195.347 57.9537 195.283 57.6588 195.264C57.3737 195.234 57.0296 195.244 56.6265 195.293V193.671C57.0296 193.691 57.3688 193.676 57.6441 193.627C57.9292 193.578 58.1553 193.504 58.3224 193.405C58.4896 193.297 58.6075 193.174 58.6763 193.037C58.755 192.899 58.7943 192.752 58.7943 192.594C58.7943 192.427 58.7648 192.28 58.7058 192.152C58.6567 192.024 58.583 191.916 58.4846 191.828C58.3863 191.729 58.2634 191.656 58.116 191.606C57.9783 191.557 57.821 191.533 57.6441 191.533C57.4474 191.533 57.2508 191.562 57.0542 191.621C56.8575 191.67 56.6757 191.749 56.5085 191.857C56.3414 191.965 56.1939 192.103 56.0661 192.27L54.8864 191.061C55.2501 190.628 55.6876 190.318 56.1988 190.132C56.7199 189.945 57.2361 189.851 57.7473 189.851C58.3175 189.851 58.8287 189.96 59.281 190.176C59.7431 190.382 60.1068 190.667 60.3723 191.031C60.6377 191.395 60.7704 191.808 60.7704 192.27C60.7704 192.624 60.6918 192.938 60.5345 193.214C60.387 193.489 60.2002 193.72 59.9741 193.907C59.7578 194.084 59.5464 194.221 59.34 194.32C59.5956 194.408 59.8512 194.551 60.1068 194.747C60.3624 194.934 60.5738 195.185 60.7409 195.5C60.9179 195.814 61.0064 196.193 61.0064 196.635C61.0064 197.156 60.8687 197.628 60.5935 198.051C60.328 198.464 59.9544 198.793 59.4727 199.039C58.991 199.275 58.4207 199.393 57.762 199.393ZM73.0105 199.216V197.092H69.6481V195.765L73.4824 190.028H74.9718V195.426H76.1958V197.107H74.9718V199.216H73.0105ZM71.6537 195.47H73.0695V193.17L71.6537 195.47ZM80.2955 199.393C79.6073 199.393 78.9928 199.275 78.4521 199.039C77.9114 198.793 77.5083 198.415 77.2429 197.903L78.6438 196.738L78.7471 196.65L78.8503 196.768C78.8503 196.846 78.865 196.92 78.8945 196.989C78.924 197.058 78.9879 197.156 79.0862 197.284C79.2435 197.431 79.4205 197.544 79.6171 197.623C79.8138 197.702 80.0202 197.741 80.2365 197.741C80.443 197.741 80.6249 197.707 80.7822 197.638C80.9493 197.559 81.0918 197.451 81.2098 197.313C81.3278 197.176 81.4163 197.023 81.4753 196.856C81.5343 196.679 81.5637 196.497 81.5637 196.311C81.5637 196.085 81.5343 195.878 81.4753 195.691C81.4261 195.495 81.3475 195.328 81.2393 195.19C81.1312 195.042 80.9935 194.929 80.8264 194.851C80.6593 194.762 80.4626 194.718 80.2365 194.718C80.0497 194.718 79.8728 194.738 79.7056 194.777C79.5385 194.816 79.3861 194.885 79.2485 194.983C79.1207 195.072 79.0027 195.19 78.8945 195.337L77.641 195.072L77.9802 190.028H83.0679V191.651H79.7204L79.6024 193.361C79.6909 193.302 79.8039 193.248 79.9416 193.199C80.0792 193.15 80.2218 193.115 80.3692 193.096C80.5167 193.066 80.6494 193.052 80.7674 193.052C81.1803 193.052 81.5539 193.115 81.8882 193.243C82.2224 193.371 82.5076 193.563 82.7435 193.818C82.9893 194.064 83.1761 194.379 83.3039 194.762C83.4317 195.146 83.4956 195.588 83.4956 196.089C83.4956 196.768 83.358 197.358 83.0827 197.859C82.8074 198.351 82.4289 198.729 81.9472 198.995C81.4753 199.26 80.9247 199.393 80.2955 199.393ZM87.7722 199.393C87.0841 199.393 86.4991 199.211 86.0174 198.847C85.5356 198.474 85.1719 197.957 84.9261 197.299C84.6803 196.63 84.5574 195.858 84.5574 194.983C84.5574 193.912 84.7147 192.997 85.0293 192.24C85.3439 191.474 85.7667 190.884 86.2975 190.471C86.8383 190.058 87.4478 189.851 88.1262 189.851C88.5489 189.851 88.9913 189.925 89.4534 190.073C89.9253 190.21 90.3284 190.451 90.6627 190.795L89.5861 192.005L89.4977 192.108L89.3649 192.005C89.3551 191.926 89.3207 191.867 89.2617 191.828C89.2027 191.788 89.1044 191.729 88.9668 191.651C88.9078 191.631 88.8439 191.616 88.775 191.606C88.7062 191.587 88.6374 191.572 88.5686 191.562C88.4998 191.552 88.4309 191.547 88.3621 191.547C88.2245 191.547 88.077 191.562 87.9197 191.592C87.7722 191.621 87.6297 191.68 87.4921 191.769C87.3544 191.847 87.2217 191.965 87.0939 192.122C86.9759 192.28 86.8727 192.486 86.7842 192.742C86.6957 192.997 86.6318 193.317 86.5925 193.7C86.7203 193.573 86.8678 193.464 87.0349 193.376C87.2119 193.288 87.3937 193.219 87.5805 193.17C87.7673 193.12 87.9492 193.096 88.1262 193.096C88.5096 193.096 88.8635 193.155 89.188 193.273C89.5124 193.381 89.7926 193.558 90.0285 193.804C90.2743 194.04 90.4611 194.349 90.5889 194.733C90.7266 195.106 90.7954 195.559 90.7954 196.089C90.7954 196.699 90.6676 197.254 90.412 197.756C90.1564 198.257 89.8024 198.655 89.3502 198.95C88.8979 199.245 88.372 199.393 87.7722 199.393ZM87.8017 197.771C87.9689 197.771 88.1163 197.726 88.2442 197.638C88.3818 197.549 88.4998 197.431 88.5981 197.284C88.6964 197.127 88.7701 196.95 88.8193 196.753C88.8684 196.547 88.893 196.325 88.893 196.089C88.893 195.853 88.8635 195.647 88.8045 195.47C88.7456 195.293 88.662 195.146 88.5538 195.028C88.4555 194.91 88.3376 194.821 88.1999 194.762C88.0721 194.703 87.9345 194.674 87.787 194.674C87.6592 194.674 87.5412 194.693 87.4331 194.733C87.3249 194.772 87.2217 194.831 87.1234 194.91C87.0349 194.979 86.9464 195.067 86.8579 195.175C86.7793 195.273 86.7006 195.391 86.622 195.529C86.622 195.922 86.6515 196.261 86.7105 196.547C86.7694 196.832 86.8481 197.068 86.9464 197.254C87.0546 197.431 87.1775 197.564 87.3151 197.653C87.4626 197.731 87.6248 197.771 87.8017 197.771Z",fill:"#020202"}),a.createElement("path",{d:"M40.9996 181.935C41.4241 181.935 41.7339 182.027 41.9289 182.21C42.124 182.391 42.2215 182.642 42.2215 182.961C42.2215 183.105 42.1997 183.243 42.1562 183.375C42.1127 183.506 42.0414 183.622 41.9424 183.724C41.8449 183.826 41.7144 183.907 41.5509 183.967C41.3874 184.025 41.1856 184.055 40.9456 184.055H40.6463V185.225H39.9487V181.935H40.9996ZM40.9636 182.507H40.6463V183.483H40.8758C41.0063 183.483 41.1196 183.466 41.2156 183.431C41.3116 183.397 41.3859 183.343 41.4384 183.269C41.4909 183.196 41.5171 183.101 41.5171 182.986C41.5171 182.824 41.4721 182.704 41.3821 182.626C41.2921 182.546 41.1526 182.507 40.9636 182.507ZM43.8191 182.657C44.1566 182.657 44.4154 182.731 44.5954 182.878C44.7755 183.025 44.8655 183.248 44.8655 183.548V185.225H44.3862L44.2534 184.883H44.2354C44.1634 184.973 44.0899 185.046 44.0149 185.103C43.9399 185.16 43.8536 185.202 43.7561 185.229C43.6586 185.256 43.5401 185.27 43.4006 185.27C43.2521 185.27 43.1185 185.241 43 185.184C42.883 185.127 42.7908 185.04 42.7233 184.923C42.6558 184.805 42.622 184.655 42.622 184.473C42.622 184.206 42.7158 184.01 42.9033 183.884C43.0908 183.756 43.3721 183.686 43.7471 183.672L44.1837 183.659V183.548C44.1837 183.416 44.1491 183.32 44.0801 183.258C44.0111 183.197 43.9151 183.166 43.7921 183.166C43.6706 183.166 43.5513 183.183 43.4343 183.218C43.3173 183.252 43.2003 183.296 43.0833 183.348L42.856 182.885C42.9895 182.814 43.1388 182.759 43.3038 182.718C43.4703 182.678 43.6421 182.657 43.8191 182.657ZM44.1837 184.059L43.9181 184.068C43.6961 184.074 43.5416 184.114 43.4546 184.188C43.3691 184.261 43.3263 184.358 43.3263 184.478C43.3263 184.583 43.3571 184.658 43.4186 184.703C43.4801 184.746 43.5603 184.768 43.6593 184.768C43.8064 184.768 43.9301 184.725 44.0306 184.638C44.1326 184.551 44.1837 184.427 44.1837 184.266V184.059ZM47.3295 184.478C47.3295 184.649 47.289 184.794 47.2079 184.912C47.1284 185.029 47.0092 185.118 46.8502 185.18C46.6911 185.24 46.4931 185.27 46.2561 185.27C46.0806 185.27 45.9298 185.259 45.8038 185.236C45.6793 185.214 45.5533 185.176 45.4258 185.124V184.557C45.5623 184.618 45.7085 184.669 45.8646 184.71C46.0221 184.749 46.1601 184.768 46.2786 184.768C46.4121 184.768 46.5074 184.749 46.5644 184.71C46.6229 184.669 46.6521 184.617 46.6521 184.552C46.6521 184.51 46.6401 184.473 46.6161 184.44C46.5936 184.405 46.5441 184.367 46.4676 184.325C46.3911 184.281 46.2711 184.225 46.1076 184.156C45.9501 184.09 45.8203 184.023 45.7183 183.956C45.6178 183.888 45.5428 183.809 45.4933 183.717C45.4453 183.624 45.4213 183.506 45.4213 183.364C45.4213 183.131 45.5113 182.957 45.6913 182.84C45.8728 182.721 46.1151 182.662 46.4181 182.662C46.5741 182.662 46.7226 182.678 46.8637 182.709C47.0062 182.741 47.1524 182.791 47.3025 182.86L47.0954 183.355C46.9709 183.301 46.8532 183.257 46.7421 183.222C46.6326 183.188 46.5209 183.17 46.4069 183.17C46.3064 183.17 46.2306 183.184 46.1796 183.211C46.1286 183.238 46.1031 183.279 46.1031 183.335C46.1031 183.375 46.1158 183.411 46.1413 183.443C46.1683 183.474 46.2193 183.509 46.2944 183.548C46.3709 183.586 46.4826 183.635 46.6296 183.695C46.7722 183.753 46.8959 183.815 47.0009 183.879C47.1059 183.942 47.1869 184.021 47.2439 184.115C47.301 184.209 47.3295 184.329 47.3295 184.478ZM49.6202 184.478C49.6202 184.649 49.5797 184.794 49.4987 184.912C49.4192 185.029 49.2999 185.118 49.1409 185.18C48.9819 185.24 48.7838 185.27 48.5468 185.27C48.3713 185.27 48.2205 185.259 48.0945 185.236C47.97 185.214 47.844 185.176 47.7165 185.124V184.557C47.853 184.618 47.9993 184.669 48.1553 184.71C48.3128 184.749 48.4508 184.768 48.5693 184.768C48.7028 184.768 48.7981 184.749 48.8551 184.71C48.9136 184.669 48.9429 184.617 48.9429 184.552C48.9429 184.51 48.9309 184.473 48.9069 184.44C48.8844 184.405 48.8349 184.367 48.7583 184.325C48.6818 184.281 48.5618 184.225 48.3983 184.156C48.2408 184.09 48.111 184.023 48.009 183.956C47.9085 183.888 47.8335 183.809 47.784 183.717C47.736 183.624 47.712 183.506 47.712 183.364C47.712 183.131 47.802 182.957 47.982 182.84C48.1635 182.721 48.4058 182.662 48.7088 182.662C48.8649 182.662 49.0134 182.678 49.1544 182.709C49.2969 182.741 49.4432 182.791 49.5932 182.86L49.3862 183.355C49.2616 183.301 49.1439 183.257 49.0329 183.222C48.9234 183.188 48.8116 183.17 48.6976 183.17C48.5971 183.17 48.5213 183.184 48.4703 183.211C48.4193 183.238 48.3938 183.279 48.3938 183.335C48.3938 183.375 48.4066 183.411 48.4321 183.443C48.4591 183.474 48.5101 183.509 48.5851 183.548C48.6616 183.586 48.7733 183.635 48.9204 183.695C49.0629 183.753 49.1866 183.815 49.2916 183.879C49.3967 183.942 49.4777 184.021 49.5347 184.115C49.5917 184.209 49.6202 184.329 49.6202 184.478ZM50.842 181.724V182.538C50.842 182.633 50.839 182.726 50.833 182.819C50.8285 182.912 50.8225 182.984 50.815 183.035H50.842C50.9081 182.932 50.9981 182.844 51.1121 182.772C51.2261 182.699 51.3738 182.662 51.5554 182.662C51.8374 182.662 52.0662 182.772 52.2417 182.993C52.4172 183.213 52.505 183.536 52.505 183.962C52.505 184.249 52.4645 184.49 52.3834 184.685C52.3024 184.878 52.1892 185.025 52.0437 185.124C51.8982 185.221 51.7294 185.27 51.5374 185.27C51.3528 185.27 51.2073 185.237 51.1008 185.171C50.9943 185.105 50.9081 185.031 50.842 184.948H50.7948L50.68 185.225H50.1557V181.724H50.842ZM51.3348 183.211C51.2148 183.211 51.1196 183.236 51.0491 183.285C50.9786 183.335 50.9268 183.409 50.8938 183.508C50.8623 183.607 50.845 183.732 50.842 183.884V183.958C50.842 184.203 50.8781 184.39 50.9501 184.521C51.0221 184.65 51.1533 184.714 51.3438 184.714C51.4849 184.714 51.5966 184.649 51.6791 184.518C51.7631 184.388 51.8051 184.2 51.8051 183.953C51.8051 183.707 51.7631 183.522 51.6791 183.398C51.5951 183.273 51.4804 183.211 51.3348 183.211ZM55.3582 183.962C55.3582 184.173 55.3297 184.359 55.2727 184.521C55.2172 184.683 55.1355 184.82 55.0275 184.932C54.9209 185.043 54.7919 185.127 54.6404 185.184C54.4904 185.241 54.3209 185.27 54.1319 185.27C53.9549 185.27 53.7921 185.241 53.6436 185.184C53.4966 185.127 53.3683 185.043 53.2588 184.932C53.1508 184.82 53.0668 184.683 53.0068 184.521C52.9483 184.359 52.919 184.173 52.919 183.962C52.919 183.683 52.9685 183.447 53.0675 183.254C53.1665 183.06 53.3075 182.913 53.4906 182.813C53.6736 182.712 53.8918 182.662 54.1454 182.662C54.3809 182.662 54.5894 182.712 54.7709 182.813C54.9539 182.913 55.0972 183.06 55.2007 183.254C55.3057 183.447 55.3582 183.683 55.3582 183.962ZM53.6188 183.962C53.6188 184.127 53.6368 184.266 53.6728 184.379C53.7088 184.491 53.7651 184.576 53.8416 184.633C53.9181 184.69 54.0179 184.719 54.1409 184.719C54.2624 184.719 54.3606 184.69 54.4356 184.633C54.5122 184.576 54.5677 184.491 54.6022 184.379C54.6382 184.266 54.6562 184.127 54.6562 183.962C54.6562 183.796 54.6382 183.658 54.6022 183.548C54.5677 183.437 54.5122 183.354 54.4356 183.299C54.3591 183.243 54.2594 183.215 54.1364 183.215C53.9549 183.215 53.8228 183.278 53.7403 183.402C53.6593 183.527 53.6188 183.713 53.6188 183.962ZM56.6116 185.225H55.9253V181.724H56.6116V185.225ZM58.3938 184.723C58.4688 184.723 58.5415 184.716 58.6121 184.701C58.6841 184.686 58.7553 184.667 58.8258 184.644V185.155C58.7523 185.188 58.6608 185.215 58.5513 185.236C58.4433 185.259 58.3248 185.27 58.1958 185.27C58.0457 185.27 57.9107 185.246 57.7907 185.198C57.6722 185.148 57.5785 185.064 57.5094 184.944C57.4419 184.822 57.4082 184.653 57.4082 184.437V183.224H57.0797V182.934L57.4577 182.705L57.6557 182.174H58.0945V182.709H58.7988V183.224H58.0945V184.437C58.0945 184.533 58.1215 184.605 58.1755 184.653C58.231 184.7 58.3038 184.723 58.3938 184.723Z",fill:"#020202"}),a.createElement("ellipse",{cx:"123.517",cy:"194.216",rx:"9.52153",ry:"9.44218",stroke:"#020202",strokeOpacity:"0.25",strokeWidth:"1.85141"}),a.createElement("path",{d:"M123.517 184.774C124.767 184.774 126.005 185.018 127.16 185.492C128.316 185.967 129.365 186.662 130.249 187.539C131.134 188.416 131.835 189.457 132.313 190.602C132.792 191.748 133.038 192.976 133.038 194.216",stroke:"#020202",strokeWidth:"1.85141",strokeLinecap:"round"}),a.createElement("path",{d:"M47.5347 213.953H129.465",stroke:"#D6D6D6",strokeLinecap:"round"})),a.createElement("rect",{x:"-2.09851",y:"2.09851",width:"116.118",height:"223.841",rx:"11.8916",transform:"matrix(-1 0 0 1 144.46 7.48083)",stroke:"black",strokeWidth:"4.19702"}),a.createElement("rect",{x:"0.699504",y:"-0.699504",width:"121.714",height:"229.437",rx:"14.6896",transform:"matrix(-1 0 0 1 150.056 7.48083)",stroke:"#C8C8C8",strokeWidth:"1.39901"}),a.createElement("defs",null,a.createElement("filter",{id:"filter0_f_5_20425",x:"35.5347",y:"81.1469",width:"114.199",height:"43.9739",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur_5_20425"})),a.createElement("filter",{id:"filter1_f_5_20425",x:"35.5347",y:"127.813",width:"114.199",height:"43.9741",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur_5_20425"})),a.createElement("filter",{id:"filter2_f_5_20425",x:"35.5347",y:"174.479",width:"114.199",height:"43.974",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur_5_20425"}))))}}const Qi=Xi;class eo extends a.Component{render(){return a.createElement("svg",{width:"177",height:"243",viewBox:"0 0 177 243",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_280_142230)"},a.createElement("path",{d:"M52.4666 22.9608V27.3321H53.7262C54.562 27.3321 55.1406 27.1546 55.4883 26.8178C55.836 26.481 56.0027 25.8921 56.0027 25.0937C56.0027 24.3223 55.8478 23.7759 55.5264 23.4597C55.2049 23.1177 54.6656 22.966 53.881 22.966L52.4666 22.9608ZM50.4092 21.2997H54.3691C55.5657 21.2997 56.4908 21.643 57.1599 22.3398C57.8291 23.0367 58.1624 23.9996 58.1624 25.2287C58.1704 25.7019 58.1008 26.1733 57.9564 26.6249C57.8198 27.0449 57.6064 27.437 57.3266 27.782C57.0091 28.1785 56.593 28.4884 56.1181 28.682C55.6418 28.8594 55.0252 28.9481 54.2405 28.9481H52.4666V31.729H50.4092V21.2997Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M62.3024 27.4208H64.8741V25.8368H62.4572C61.9809 25.8368 61.6476 25.8998 61.4665 26.0271C61.2855 26.1544 61.2041 26.382 61.2041 26.6982C61.2041 26.9644 61.2802 27.1546 61.4219 27.2678C61.5636 27.3809 61.8523 27.4208 62.3024 27.4208ZM59.5771 21.2997H63.7758C64.8439 21.2997 65.6403 21.5414 66.1809 22.0223C66.7215 22.5031 66.9905 23.2141 66.9905 24.1642V28.9661H61.4665C60.695 28.9661 60.0915 28.7759 59.6795 28.3966C59.2675 28.0173 59.0693 27.4709 59.0693 26.7612C59.0693 25.887 59.3003 25.266 59.7766 24.8867C60.2529 24.5075 61.0375 24.3108 62.162 24.3108H64.861V24.1256C64.861 23.6692 64.7206 23.3542 64.4503 23.1627C64.18 22.9711 63.7037 22.8837 62.9978 22.8837H59.5771V21.2997Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M68.6672 27.3693H72.9971C73.3829 27.3693 73.6663 27.3063 73.8329 27.1919C73.9255 27.1295 73.9996 27.0442 74.0475 26.9445C74.0955 26.8449 74.1156 26.7346 74.1058 26.6249C74.1162 26.5149 74.0967 26.4041 74.0492 26.3038C74.0017 26.2036 73.928 26.1174 73.8355 26.0541C73.6558 25.9255 73.3737 25.8638 72.9997 25.8638H71.2258C70.1761 25.8638 69.4649 25.6992 69.091 25.383C68.717 25.0667 68.5386 24.4959 68.5386 23.6975C68.5386 22.8747 68.7577 22.2652 69.2077 21.8731C69.6578 21.481 70.3532 21.2881 71.2717 21.2881H75.6817V22.8837H72.0589C71.4667 22.8837 71.081 22.9346 70.9017 23.0366C70.7219 23.1369 70.6314 23.3143 70.6314 23.5805C70.6229 23.6784 70.6397 23.7769 70.6803 23.8668C70.7209 23.9566 70.7839 24.035 70.8636 24.0947C71.0171 24.2079 71.2743 24.2593 71.6089 24.2593H73.476C74.3249 24.2593 74.9797 24.4612 75.4179 24.8546C75.8562 25.248 76.0858 25.8047 76.0858 26.5401C76.0858 27.2498 75.8798 27.8257 75.4822 28.2757C75.2945 28.4927 75.0594 28.6656 74.7944 28.7818C74.5294 28.8979 74.2412 28.9543 73.951 28.9468H68.6672V27.3693Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M77.4388 27.3693H81.7688C82.1545 27.3693 82.4379 27.3063 82.6046 27.1919C82.6967 27.1292 82.7703 27.0437 82.8177 26.9441C82.8652 26.8445 82.8849 26.7344 82.8749 26.6249C82.8852 26.5149 82.8657 26.4041 82.8182 26.3038C82.7707 26.2036 82.697 26.1174 82.6046 26.0541C82.4248 25.9255 82.1427 25.8638 81.7688 25.8638H79.9948C78.9451 25.8638 78.234 25.6992 77.86 25.383C77.4861 25.0667 77.3076 24.4933 77.3076 23.6949C77.3076 22.8721 77.5267 22.2627 77.9768 21.8706C78.4268 21.4784 79.1209 21.2881 80.046 21.2881H84.4573V22.8837H80.8306C80.2393 22.8837 79.8535 22.9346 79.6733 23.0366C79.4936 23.1369 79.403 23.3143 79.403 23.5805C79.3945 23.6784 79.4114 23.7769 79.452 23.8667C79.4925 23.9566 79.5556 24.035 79.6353 24.0947C79.7888 24.2079 80.046 24.2593 80.3806 24.2593H82.2451C83.094 24.2593 83.75 24.4612 84.187 24.8546C84.6239 25.248 84.8548 25.8047 84.8548 26.5401C84.8548 27.2498 84.6501 27.8257 84.2513 28.2757C84.0637 28.4925 83.8288 28.6653 83.5641 28.7815C83.2993 28.8976 83.0113 28.9541 82.7213 28.9468H77.4113V27.3693H77.4388Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M88.3903 18.5253V21.2997H90.1525C90.9397 21.2997 91.5538 21.3884 92.0288 21.5787C92.5091 21.7629 92.9275 22.0745 93.2372 22.4787C93.5172 22.8272 93.731 23.2221 93.8683 23.6448C94.0114 24.0958 94.0805 24.5662 94.073 25.0384C94.073 26.2675 93.7389 27.2305 93.0706 27.9273C92.4027 28.6241 91.4764 28.9661 90.2811 28.9661H86.3198V18.5253H88.3903ZM89.6408 22.9608H88.3798V27.332H89.7943C90.5815 27.332 91.1313 27.1675 91.441 26.8499C91.7506 26.5324 91.9159 25.9757 91.9159 25.1901C91.9159 24.4046 91.7362 23.8222 91.3911 23.4802C91.046 23.1382 90.4608 22.9608 89.6408 22.9608Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M96.9796 25.14C96.9796 25.8741 97.1462 26.4256 97.4939 26.8499C97.8417 27.2742 98.3166 27.458 98.9464 27.458C99.5763 27.458 100.039 27.2562 100.4 26.8499C100.761 26.4436 100.925 25.8741 100.925 25.14C100.925 24.4059 100.744 23.8466 100.4 23.4416C100.056 23.0366 99.5776 22.8335 98.9464 22.8335C98.6732 22.8212 98.4007 22.8695 98.1492 22.9748C97.8977 23.0801 97.6738 23.2397 97.4939 23.4416C97.1462 23.8466 96.9796 24.4174 96.9796 25.14ZM103.074 25.14C103.074 26.3399 102.702 27.3029 101.956 28.0288C101.21 28.7385 100.219 29.1062 98.9596 29.1062C97.6999 29.1062 96.6962 28.7514 95.9509 28.0288C95.2056 27.3063 94.833 26.3575 94.833 25.1528C94.833 23.9482 95.2056 22.9852 95.9509 22.2627C96.6962 21.5401 97.6999 21.1737 98.9569 21.1737C100.214 21.1737 101.207 21.5414 101.954 22.2627C102.7 22.9839 103.074 23.9353 103.074 25.14Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M106.443 28.9661H104.309V18.5253H106.443V28.9661Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M107.433 21.2997H108.885V18.5253H110.943V21.2997H113.116V22.8335H110.943V25.9255C110.943 26.4951 111.046 26.8885 111.238 27.116C111.429 27.3436 111.778 27.4452 112.267 27.4452H113.116V28.979H111.226C110.468 28.979 109.888 28.7758 109.477 28.358C109.066 27.9402 108.873 27.3449 108.873 26.5709V22.8335H107.42V21.2997H107.433Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M126.257 23.6949L121.656 19.4497C121.46 19.2722 121.202 19.1737 120.935 19.1737C120.667 19.1737 120.41 19.2722 120.213 19.4497L117.326 22.1251C117.705 22.2627 118.044 22.4858 118.318 22.7762C118.591 23.0666 118.791 23.4162 118.901 23.7965H122.798C122.845 23.7965 122.892 23.8057 122.936 23.8235C122.98 23.8414 123.02 23.8675 123.053 23.9005C123.087 23.9334 123.114 23.9726 123.132 24.0156C123.15 24.0587 123.159 24.1048 123.159 24.1513V24.7337C123.159 24.7803 123.15 24.8264 123.132 24.8694C123.114 24.9125 123.087 24.9516 123.053 24.9846C123.02 25.0175 122.98 25.0437 122.936 25.0615C122.892 25.0794 122.845 25.0886 122.798 25.0886H122.348V25.9127C122.348 25.9591 122.339 26.0052 122.321 26.0483C122.303 26.0913 122.277 26.1304 122.243 26.1634C122.21 26.1964 122.17 26.2226 122.126 26.2405C122.083 26.2583 122.036 26.2675 121.988 26.2675H121C120.953 26.2675 120.906 26.2583 120.862 26.2405C120.818 26.2226 120.779 26.1964 120.745 26.1634C120.712 26.1304 120.685 26.0913 120.667 26.0483C120.649 26.0052 120.64 25.9591 120.641 25.9127V25.0886H118.901C118.797 25.473 118.599 25.8271 118.325 26.1206C118.051 26.414 117.708 26.6382 117.326 26.7741L120.226 29.4534C120.423 29.6308 120.68 29.7293 120.948 29.7293C121.215 29.7293 121.473 29.6308 121.669 29.4534L126.262 25.2107C126.366 25.1126 126.449 24.9947 126.506 24.8643C126.562 24.7338 126.591 24.5934 126.591 24.4517C126.59 24.31 126.56 24.1698 126.503 24.0397C126.445 23.9096 126.362 23.7923 126.257 23.6949Z",fill:"#D40101"}),a.createElement("path",{d:"M116.472 23.2822C116.284 23.2859 116.1 23.3298 115.931 23.4108C115.743 23.5024 115.583 23.6416 115.468 23.814C115.353 23.9865 115.287 24.1859 115.277 24.3917C115.267 24.5976 115.313 24.8023 115.411 24.9848C115.508 25.1672 115.654 25.3209 115.832 25.4297C116.011 25.5386 116.216 25.5988 116.426 25.604C116.636 25.6093 116.844 25.5595 117.028 25.4597C117.212 25.3599 117.366 25.2138 117.473 25.0364C117.58 24.8591 117.637 24.6569 117.637 24.4509C117.641 24.2987 117.613 24.1473 117.557 24.0057C117.5 23.8641 117.414 23.735 117.306 23.6261C117.197 23.5172 117.068 23.4307 116.924 23.3716C116.781 23.3126 116.627 23.2822 116.472 23.2822Z",fill:"#D40101"})),a.createElement("g",{filter:"url(#filter0_d_280_142230)"},a.createElement("path",{d:"M9.07129 46.5832C9.07129 45.6717 9.81023 44.9327 10.7218 44.9327H166.278C167.19 44.9327 167.929 45.6717 167.929 46.5832V201.368C167.929 202.28 167.19 203.019 166.278 203.019H10.7218C9.81023 203.019 9.07129 202.28 9.07129 201.368V46.5832Z",fill:"#F1F1F1",shapeRendering:"crispEdges"}),a.createElement("path",{d:"M88.4999 101.874C98.7546 101.874 107.068 93.5607 107.068 83.306C107.068 73.0513 98.7546 64.7383 88.4999 64.7383C78.2452 64.7383 69.9321 73.0513 69.9321 83.306C69.9321 93.5607 78.2452 101.874 88.4999 101.874Z",fill:"#939598"}),a.createElement("path",{d:"M88.4842 85.1546C86.7225 85.1505 85.0344 84.4477 83.7901 83.2005C82.5459 81.9533 81.8472 80.2636 81.8472 78.5019C81.8513 76.7429 82.552 75.0572 83.7957 73.8134C85.0395 72.5696 86.7252 71.869 88.4842 71.8649C90.2431 71.869 91.9288 72.5696 93.1726 73.8134C94.4164 75.0572 95.117 76.7429 95.1212 78.5019C95.1212 80.2636 94.4224 81.9533 93.1782 83.2005C91.934 84.4477 90.2459 85.1505 88.4842 85.1546V85.1546Z",fill:"white"}),a.createElement("path",{d:"M93.9675 88.2049H83.0639C82.1833 88.1914 81.3091 88.3567 80.4943 88.6908C79.6794 89.0249 78.9408 89.5208 78.3232 90.1486C77.694 90.766 77.1961 91.5042 76.8594 92.3189C76.5227 93.1336 76.3541 94.0079 76.3637 94.8893V95.9007C79.6071 99.0351 83.942 100.786 88.4525 100.784C92.963 100.786 97.2978 99.0351 100.541 95.9007V94.8893C100.554 94.0089 100.388 93.135 100.054 92.3202C99.7201 91.5055 99.2246 90.7668 98.5976 90.1486C97.9924 89.535 97.2717 89.0472 96.477 88.7136C95.6823 88.38 94.8294 88.2071 93.9675 88.2049V88.2049Z",fill:"white"}),a.createElement("path",{d:"M71.4976 114.476L71.1772 113.424H69.5664L69.2461 114.476H68.2367L69.7961 110.039H70.9415L72.5069 114.476H71.4976ZM70.9536 112.638L70.6332 111.611C70.6131 111.542 70.5859 111.455 70.5516 111.348C70.5194 111.239 70.4862 111.129 70.4519 111.018C70.4197 110.906 70.3935 110.808 70.3733 110.725C70.3532 110.808 70.325 110.911 70.2887 111.033C70.2545 111.154 70.2212 111.269 70.189 111.378C70.1568 111.487 70.1336 111.564 70.1195 111.611L69.8022 112.638H70.9536ZM74.0633 114.536C73.6866 114.536 73.3793 114.389 73.1416 114.095C72.9059 113.799 72.788 113.365 72.788 112.792C72.788 112.214 72.9079 111.777 73.1476 111.481C73.3874 111.183 73.7007 111.033 74.0875 111.033C74.2487 111.033 74.3907 111.056 74.5136 111.1C74.6365 111.144 74.7423 111.204 74.8309 111.278C74.9216 111.353 74.9981 111.436 75.0606 111.529H75.0908C75.0787 111.465 75.0636 111.37 75.0455 111.245C75.0294 111.118 75.0213 110.988 75.0213 110.855V109.773H75.9461V114.476H75.2389L75.0606 114.037H75.0213C74.9629 114.13 74.8894 114.215 74.8007 114.291C74.7141 114.366 74.6103 114.425 74.4894 114.47C74.3685 114.514 74.2265 114.536 74.0633 114.536ZM74.3867 113.802C74.6385 113.802 74.8158 113.727 74.9186 113.578C75.0233 113.427 75.0787 113.2 75.0848 112.898V112.798C75.0848 112.47 75.0344 112.219 74.9337 112.046C74.8329 111.871 74.6456 111.783 74.3716 111.783C74.1681 111.783 74.0089 111.871 73.8941 112.046C73.7792 112.221 73.7218 112.474 73.7218 112.804C73.7218 113.135 73.7792 113.384 73.8941 113.551C74.0109 113.718 74.1751 113.802 74.3867 113.802ZM78.2942 111.027C78.7476 111.027 79.0951 111.126 79.3369 111.324C79.5786 111.521 79.6995 111.821 79.6995 112.224V114.476H79.0558L78.8775 114.016H78.8533C78.7566 114.137 78.6579 114.236 78.5572 114.312C78.4564 114.389 78.3406 114.445 78.2096 114.482C78.0787 114.518 77.9195 114.536 77.7321 114.536C77.5327 114.536 77.3534 114.498 77.1942 114.421C77.0371 114.345 76.9131 114.228 76.8225 114.071C76.7318 113.912 76.6865 113.71 76.6865 113.466C76.6865 113.108 76.8124 112.844 77.0643 112.674C77.3161 112.503 77.6939 112.409 78.1975 112.39L78.7838 112.372V112.224C78.7838 112.047 78.7375 111.917 78.6448 111.834C78.5521 111.752 78.4232 111.71 78.258 111.71C78.0948 111.71 77.9346 111.734 77.7775 111.78C77.6203 111.826 77.4632 111.885 77.306 111.955L77.0008 111.333C77.1801 111.238 77.3806 111.163 77.6022 111.109C77.8258 111.055 78.0565 111.027 78.2942 111.027ZM78.7838 112.91L78.4272 112.922C78.129 112.93 77.9215 112.984 77.8047 113.082C77.6898 113.181 77.6324 113.311 77.6324 113.472C77.6324 113.613 77.6737 113.714 77.7563 113.775C77.8389 113.833 77.9467 113.862 78.0797 113.862C78.2771 113.862 78.4433 113.804 78.5783 113.687C78.7153 113.57 78.7838 113.404 78.7838 113.188V112.91ZM82.3318 114.476V110.057H83.2686V113.702H85.0607V114.476H82.3318ZM88.8293 112.78C88.8293 113.062 88.791 113.312 88.7144 113.53C88.6399 113.747 88.5301 113.932 88.385 114.083C88.242 114.232 88.0687 114.345 87.8652 114.421C87.6637 114.498 87.4361 114.536 87.1822 114.536C86.9445 114.536 86.7259 114.498 86.5264 114.421C86.329 114.345 86.1567 114.232 86.0096 114.083C85.8646 113.932 85.7518 113.747 85.6712 113.53C85.5926 113.312 85.5533 113.062 85.5533 112.78C85.5533 112.406 85.6198 112.088 85.7528 111.828C85.8857 111.568 86.0751 111.371 86.3209 111.236C86.5667 111.101 86.8599 111.033 87.2004 111.033C87.5167 111.033 87.7967 111.101 88.0405 111.236C88.2863 111.371 88.4787 111.568 88.6177 111.828C88.7587 112.088 88.8293 112.406 88.8293 112.78ZM86.4932 112.78C86.4932 113.002 86.5174 113.188 86.5657 113.339C86.6141 113.49 86.6896 113.604 86.7924 113.681C86.8951 113.757 87.0291 113.796 87.1943 113.796C87.3575 113.796 87.4895 113.757 87.5902 113.681C87.693 113.604 87.7675 113.49 87.8138 113.339C87.8622 113.188 87.8864 113.002 87.8864 112.78C87.8864 112.557 87.8622 112.371 87.8138 112.224C87.7675 112.075 87.693 111.963 87.5902 111.889C87.4875 111.814 87.3535 111.777 87.1883 111.777C86.9445 111.777 86.7672 111.861 86.6564 112.028C86.5476 112.195 86.4932 112.446 86.4932 112.78ZM90.3947 114.476L89.1073 111.097H90.0713L90.7241 113.022C90.7604 113.135 90.7886 113.254 90.8087 113.379C90.8309 113.504 90.846 113.615 90.8541 113.714H90.8782C90.8843 113.607 90.8984 113.493 90.9206 113.373C90.9447 113.252 90.976 113.135 91.0142 113.022L91.664 111.097H92.628L91.3406 114.476H90.3947ZM94.5078 111.033C94.8201 111.033 95.089 111.094 95.3147 111.215C95.5403 111.334 95.7146 111.507 95.8375 111.735C95.9604 111.962 96.0218 112.24 96.0218 112.569V113.016H93.8429C93.853 113.276 93.9306 113.48 94.0756 113.629C94.2227 113.777 94.4262 113.85 94.6861 113.85C94.9017 113.85 95.0991 113.828 95.2784 113.784C95.4577 113.739 95.6421 113.673 95.8315 113.584V114.297C95.6642 114.38 95.489 114.44 95.3056 114.479C95.1243 114.517 94.9037 114.536 94.6438 114.536C94.3053 114.536 94.0051 114.474 93.7432 114.349C93.4833 114.224 93.2788 114.033 93.1297 113.778C92.9826 113.522 92.9091 113.199 92.9091 112.81C92.9091 112.416 92.9756 112.087 93.1085 111.825C93.2435 111.561 93.4309 111.364 93.6707 111.233C93.9104 111.1 94.1895 111.033 94.5078 111.033ZM94.5138 111.689C94.3345 111.689 94.1854 111.747 94.0666 111.862C93.9497 111.976 93.8822 112.157 93.8641 112.402H95.1575C95.1555 112.265 95.1303 112.144 95.082 112.037C95.0356 111.93 94.9651 111.845 94.8704 111.783C94.7778 111.721 94.6589 111.689 94.5138 111.689ZM97.6931 114.476H96.7713V109.773H97.6931V114.476ZM100.047 111.027C100.501 111.027 100.848 111.126 101.09 111.324C101.332 111.521 101.453 111.821 101.453 112.224V114.476H100.809L100.631 114.016H100.606C100.51 114.137 100.411 114.236 100.31 114.312C100.209 114.389 100.094 114.445 99.9627 114.482C99.8317 114.518 99.6725 114.536 99.4852 114.536C99.2857 114.536 99.1064 114.498 98.9472 114.421C98.7901 114.345 98.6662 114.228 98.5755 114.071C98.4849 113.912 98.4395 113.71 98.4395 113.466C98.4395 113.108 98.5654 112.844 98.8173 112.674C99.0691 112.503 99.4469 112.409 99.9506 112.39L100.537 112.372V112.224C100.537 112.047 100.491 111.917 100.398 111.834C100.305 111.752 100.176 111.71 100.011 111.71C99.8478 111.71 99.6876 111.734 99.5305 111.78C99.3733 111.826 99.2162 111.885 99.059 111.955L98.7538 111.333C98.9331 111.238 99.1336 111.163 99.3552 111.109C99.5788 111.055 99.8095 111.027 100.047 111.027ZM100.537 112.91L100.18 112.922C99.8821 112.93 99.6745 112.984 99.5577 113.082C99.4429 113.181 99.3854 113.311 99.3854 113.472C99.3854 113.613 99.4267 113.714 99.5093 113.775C99.5919 113.833 99.6997 113.862 99.8327 113.862C100.03 113.862 100.196 113.804 100.331 113.687C100.468 113.57 100.537 113.404 100.537 113.188V112.91ZM103.777 114.536C103.442 114.536 103.157 114.476 102.921 114.355C102.686 114.232 102.506 114.042 102.383 113.787C102.26 113.531 102.199 113.203 102.199 112.804C102.199 112.391 102.269 112.055 102.408 111.795C102.549 111.533 102.743 111.341 102.991 111.218C103.241 111.095 103.53 111.033 103.858 111.033C104.092 111.033 104.293 111.057 104.463 111.103C104.634 111.147 104.783 111.201 104.91 111.263L104.638 111.976C104.493 111.918 104.358 111.871 104.233 111.834C104.108 111.796 103.983 111.777 103.858 111.777C103.697 111.777 103.563 111.815 103.456 111.892C103.349 111.966 103.27 112.079 103.217 112.23C103.165 112.381 103.139 112.571 103.139 112.798C103.139 113.022 103.167 113.207 103.223 113.354C103.28 113.502 103.362 113.611 103.468 113.684C103.575 113.754 103.705 113.79 103.858 113.79C104.05 113.79 104.22 113.764 104.369 113.714C104.518 113.662 104.663 113.589 104.804 113.496V114.285C104.663 114.374 104.515 114.437 104.36 114.476C104.207 114.516 104.012 114.536 103.777 114.536ZM106.983 111.033C107.295 111.033 107.564 111.094 107.79 111.215C108.016 111.334 108.19 111.507 108.313 111.735C108.436 111.962 108.497 112.24 108.497 112.569V113.016H106.318C106.328 113.276 106.406 113.48 106.551 113.629C106.698 113.777 106.901 113.85 107.161 113.85C107.377 113.85 107.574 113.828 107.754 113.784C107.933 113.739 108.117 113.673 108.307 113.584V114.297C108.139 114.38 107.964 114.44 107.781 114.479C107.599 114.517 107.379 114.536 107.119 114.536C106.78 114.536 106.48 114.474 106.218 114.349C105.958 114.224 105.754 114.033 105.605 113.778C105.458 113.522 105.384 113.199 105.384 112.81C105.384 112.416 105.451 112.087 105.584 111.825C105.719 111.561 105.906 111.364 106.146 111.233C106.386 111.1 106.665 111.033 106.983 111.033ZM106.989 111.689C106.81 111.689 106.661 111.747 106.542 111.862C106.425 111.976 106.357 112.157 106.339 112.402H107.633C107.631 112.265 107.606 112.144 107.557 112.037C107.511 111.93 107.44 111.845 107.346 111.783C107.253 111.721 107.134 111.689 106.989 111.689Z",fill:"#020202"}),a.createElement("path",{d:"M68.0439 120.433C68.3598 120.433 68.5943 120.504 68.7474 120.646C68.9006 120.787 68.9771 121.014 68.9771 121.325V123.126H68.6846L68.6072 122.734H68.5879C68.5137 122.831 68.4364 122.913 68.3558 122.979C68.2752 123.043 68.1817 123.092 68.0753 123.126C67.9706 123.158 67.8416 123.174 67.6885 123.174C67.5273 123.174 67.3839 123.146 67.2582 123.09C67.1341 123.033 67.0357 122.948 66.9632 122.834C66.8923 122.719 66.8568 122.574 66.8568 122.398C66.8568 122.134 66.9616 121.931 67.1711 121.789C67.3807 121.647 67.6998 121.57 68.1285 121.557L68.5855 121.538V121.376C68.5855 121.147 68.5363 120.986 68.438 120.895C68.3397 120.803 68.2011 120.757 68.0221 120.757C67.8835 120.757 67.7514 120.777 67.6256 120.817C67.4999 120.858 67.3807 120.905 67.2678 120.96L67.1445 120.655C67.2638 120.594 67.4008 120.542 67.5555 120.498C67.7103 120.455 67.8731 120.433 68.0439 120.433ZM68.5806 121.821L68.1769 121.837C67.8465 121.85 67.6136 121.904 67.4782 121.999C67.3428 122.095 67.2751 122.229 67.2751 122.403C67.2751 122.555 67.321 122.667 67.4129 122.739C67.5048 122.812 67.6265 122.848 67.778 122.848C68.0133 122.848 68.2059 122.783 68.3558 122.652C68.5057 122.522 68.5806 122.326 68.5806 122.065V121.821ZM70.7469 123.174C70.4116 123.174 70.1457 123.06 69.949 122.831C69.754 122.602 69.6565 122.262 69.6565 121.811C69.6565 121.355 69.7564 121.011 69.9563 120.779C70.1561 120.545 70.4221 120.428 70.7541 120.428C70.8943 120.428 71.0168 120.447 71.1216 120.484C71.2264 120.521 71.3166 120.571 71.3924 120.633C71.4681 120.695 71.5318 120.765 71.5834 120.844H71.6124C71.6059 120.794 71.5995 120.725 71.5931 120.638C71.5866 120.551 71.5834 120.48 71.5834 120.426V119.364H71.9847V123.126H71.6607L71.6003 122.749H71.5834C71.5334 122.828 71.4698 122.9 71.3924 122.964C71.3166 123.029 71.2256 123.08 71.1192 123.119C71.0144 123.156 70.8903 123.174 70.7469 123.174ZM70.8097 122.841C71.0934 122.841 71.2941 122.76 71.4117 122.599C71.5294 122.438 71.5882 122.199 71.5882 121.881V121.808C71.5882 121.472 71.5318 121.213 71.419 121.032C71.3078 120.852 71.1047 120.762 70.8097 120.762C70.5631 120.762 70.3786 120.857 70.2561 121.047C70.1336 121.235 70.0723 121.493 70.0723 121.821C70.0723 122.146 70.1328 122.398 70.2537 122.575C70.3762 122.752 70.5615 122.841 70.8097 122.841ZM73.827 120.433C74.1429 120.433 74.3774 120.504 74.5305 120.646C74.6836 120.787 74.7602 121.014 74.7602 121.325V123.126H74.4677L74.3903 122.734H74.371C74.2968 122.831 74.2195 122.913 74.1389 122.979C74.0583 123.043 73.9648 123.092 73.8584 123.126C73.7536 123.158 73.6247 123.174 73.4716 123.174C73.3104 123.174 73.167 123.146 73.0412 123.09C72.9171 123.033 72.8188 122.948 72.7463 122.834C72.6754 122.719 72.6399 122.574 72.6399 122.398C72.6399 122.134 72.7447 121.931 72.9542 121.789C73.1637 121.647 73.4829 121.57 73.9116 121.557L74.3685 121.538V121.376C74.3685 121.147 74.3194 120.986 74.2211 120.895C74.1227 120.803 73.9841 120.757 73.8052 120.757C73.6666 120.757 73.5344 120.777 73.4087 120.817C73.283 120.858 73.1637 120.905 73.0509 120.96L72.9276 120.655C73.0469 120.594 73.1839 120.542 73.3386 120.498C73.4933 120.455 73.6561 120.433 73.827 120.433ZM74.3637 121.821L73.96 121.837C73.6295 121.85 73.3966 121.904 73.2612 121.999C73.1259 122.095 73.0582 122.229 73.0582 122.403C73.0582 122.555 73.1041 122.667 73.196 122.739C73.2878 122.812 73.4095 122.848 73.561 122.848C73.7964 122.848 73.989 122.783 74.1389 122.652C74.2888 122.522 74.3637 122.326 74.3637 122.065V121.821ZM79.3199 121.361C79.3199 121.514 79.3022 121.664 79.2668 121.811C79.2329 121.956 79.1805 122.087 79.1096 122.205C79.0387 122.321 78.95 122.414 78.8437 122.483C78.7389 122.552 78.6148 122.587 78.4713 122.587C78.3214 122.587 78.2022 122.543 78.1135 122.456C78.0249 122.369 77.9717 122.266 77.954 122.147H77.9322C77.8709 122.274 77.7807 122.38 77.6614 122.464C77.5438 122.546 77.3987 122.587 77.2262 122.587C76.9748 122.587 76.7806 122.504 76.6436 122.338C76.5082 122.17 76.4405 121.948 76.4405 121.671C76.4405 121.455 76.4832 121.264 76.5686 121.098C76.6557 120.93 76.7774 120.799 76.9337 120.704C77.0917 120.607 77.2778 120.559 77.4922 120.559C77.6356 120.559 77.775 120.571 77.9104 120.595C78.0458 120.619 78.1538 120.646 78.2344 120.675L78.1861 121.649C78.1844 121.709 78.1828 121.754 78.1812 121.787C78.1796 121.817 78.1788 121.842 78.1788 121.859C78.1788 122.033 78.2094 122.151 78.2707 122.212C78.3335 122.272 78.4093 122.302 78.4979 122.302C78.6059 122.302 78.6962 122.26 78.7687 122.176C78.8429 122.091 78.8993 121.977 78.938 121.835C78.9766 121.692 78.996 121.533 78.996 121.359C78.996 121.051 78.9339 120.788 78.8098 120.571C78.6857 120.353 78.5141 120.187 78.2948 120.073C78.0773 119.958 77.8266 119.901 77.543 119.901C77.2609 119.901 77.0103 119.945 76.7911 120.034C76.5735 120.123 76.3889 120.248 76.2374 120.411C76.0875 120.572 75.9739 120.764 75.8965 120.986C75.8191 121.209 75.7805 121.455 75.7805 121.724C75.7805 122.053 75.8385 122.332 75.9545 122.563C76.0722 122.793 76.2439 122.969 76.4695 123.09C76.6968 123.209 76.9732 123.269 77.2988 123.269C77.4954 123.269 77.6848 123.247 77.8669 123.203C78.0491 123.16 78.2118 123.111 78.3553 123.056V123.37C78.2135 123.43 78.0547 123.478 77.879 123.515C77.7033 123.554 77.5099 123.573 77.2988 123.573C76.9103 123.573 76.5783 123.5 76.3027 123.353C76.0271 123.208 75.8159 122.999 75.6693 122.725C75.5226 122.451 75.4492 122.122 75.4492 121.738C75.4492 121.427 75.4968 121.141 75.5919 120.88C75.6886 120.619 75.8272 120.393 76.0077 120.201C76.1899 120.009 76.4099 119.861 76.6678 119.756C76.9273 119.649 77.219 119.596 77.543 119.596C77.8895 119.596 78.1957 119.668 78.4617 119.811C78.7292 119.953 78.9388 120.156 79.0903 120.421C79.2434 120.683 79.3199 120.997 79.3199 121.361ZM76.8007 121.68C76.8007 121.895 76.8434 122.052 76.9289 122.152C77.0143 122.252 77.1328 122.302 77.2843 122.302C77.4712 122.302 77.6082 122.232 77.6953 122.091C77.7839 121.951 77.8347 121.766 77.8476 121.535L77.8766 120.904C77.8298 120.89 77.7726 120.878 77.7049 120.868C77.6389 120.857 77.5695 120.851 77.497 120.851C77.331 120.851 77.1964 120.891 77.0933 120.97C76.9917 121.049 76.9176 121.151 76.8708 121.277C76.8241 121.402 76.8007 121.537 76.8007 121.68ZM81.271 120.428C81.6014 120.428 81.8649 120.542 82.0616 120.769C82.2582 120.996 82.3565 121.338 82.3565 121.794C82.3565 122.095 82.3114 122.348 82.2212 122.553C82.1309 122.758 82.0036 122.913 81.8392 123.017C81.6764 123.122 81.4838 123.174 81.2613 123.174C81.1211 123.174 80.9978 123.156 80.8914 123.119C80.7851 123.082 80.694 123.032 80.6182 122.969C80.5425 122.906 80.4796 122.838 80.4297 122.763H80.4006C80.4055 122.826 80.4111 122.902 80.4176 122.991C80.4256 123.079 80.4297 123.157 80.4297 123.223V124.311H80.0259V120.476H80.3571L80.4103 120.868H80.4297C80.4812 120.787 80.5441 120.714 80.6182 120.648C80.6924 120.58 80.7826 120.527 80.889 120.488C80.997 120.448 81.1243 120.428 81.271 120.428ZM81.2009 120.766C81.0171 120.766 80.8689 120.802 80.756 120.873C80.6448 120.944 80.5634 121.05 80.5119 121.192C80.4603 121.332 80.4329 121.509 80.4297 121.721V121.799C80.4297 122.023 80.4538 122.212 80.5022 122.367C80.5522 122.522 80.6335 122.639 80.7464 122.72C80.8608 122.801 81.0139 122.841 81.2057 122.841C81.3701 122.841 81.5071 122.796 81.6167 122.708C81.7263 122.619 81.8077 122.496 81.8609 122.338C81.9157 122.178 81.9431 121.995 81.9431 121.789C81.9431 121.476 81.8819 121.228 81.7594 121.044C81.6385 120.859 81.4523 120.766 81.2009 120.766ZM84.0489 120.433C84.3648 120.433 84.5993 120.504 84.7525 120.646C84.9056 120.787 84.9821 121.014 84.9821 121.325V123.126H84.6896L84.6122 122.734H84.5929C84.5187 122.831 84.4414 122.913 84.3608 122.979C84.2802 123.043 84.1867 123.092 84.0803 123.126C83.9756 123.158 83.8466 123.174 83.6935 123.174C83.5323 123.174 83.3889 123.146 83.2632 123.09C83.1391 123.033 83.0407 122.948 82.9682 122.834C82.8973 122.719 82.8618 122.574 82.8618 122.398C82.8618 122.134 82.9666 121.931 83.1761 121.789C83.3857 121.647 83.7048 121.57 84.1335 121.557L84.5905 121.538V121.376C84.5905 121.147 84.5413 120.986 84.443 120.895C84.3447 120.803 84.2061 120.757 84.0272 120.757C83.8885 120.757 83.7564 120.777 83.6307 120.817C83.5049 120.858 83.3857 120.905 83.2728 120.96L83.1495 120.655C83.2688 120.594 83.4058 120.542 83.5605 120.498C83.7153 120.455 83.8781 120.433 84.0489 120.433ZM84.5856 121.821L84.1819 121.837C83.8515 121.85 83.6186 121.904 83.4832 121.999C83.3478 122.095 83.2801 122.229 83.2801 122.403C83.2801 122.555 83.326 122.667 83.4179 122.739C83.5098 122.812 83.6315 122.848 83.783 122.848C84.0183 122.848 84.2109 122.783 84.3608 122.652C84.5107 122.522 84.5856 122.326 84.5856 122.065V121.821ZM87.5231 122.401C87.5231 122.57 87.4804 122.713 87.395 122.829C87.3112 122.943 87.1903 123.029 87.0323 123.087C86.876 123.145 86.689 123.174 86.4714 123.174C86.2861 123.174 86.1257 123.16 85.9903 123.131C85.8549 123.102 85.7365 123.061 85.6349 123.008V122.638C85.7429 122.691 85.8718 122.739 86.0217 122.783C86.1716 122.826 86.3248 122.848 86.4811 122.848C86.71 122.848 86.876 122.811 86.9791 122.737C87.0823 122.663 87.1339 122.562 87.1339 122.435C87.1339 122.362 87.1129 122.298 87.071 122.244C87.0307 122.187 86.9622 122.133 86.8655 122.082C86.7688 122.028 86.635 121.97 86.4642 121.908C86.2949 121.843 86.1483 121.779 86.0242 121.717C85.9017 121.652 85.8066 121.574 85.7389 121.482C85.6728 121.39 85.6397 121.271 85.6397 121.124C85.6397 120.9 85.73 120.729 85.9105 120.609C86.0927 120.488 86.3312 120.428 86.6262 120.428C86.7857 120.428 86.9348 120.444 87.0734 120.476C87.2137 120.507 87.3442 120.549 87.4651 120.602L87.3297 120.924C87.2201 120.877 87.1032 120.837 86.9791 120.805C86.855 120.773 86.7285 120.757 86.5996 120.757C86.4142 120.757 86.2716 120.787 86.1716 120.849C86.0733 120.91 86.0242 120.994 86.0242 121.1C86.0242 121.182 86.0467 121.25 86.0919 121.303C86.1386 121.356 86.2127 121.406 86.3143 121.453C86.4158 121.5 86.5496 121.555 86.7156 121.617C86.8816 121.679 87.0251 121.742 87.146 121.808C87.2668 121.873 87.3595 121.952 87.424 122.045C87.4901 122.137 87.5231 122.256 87.5231 122.401ZM89.8828 122.401C89.8828 122.57 89.8401 122.713 89.7546 122.829C89.6708 122.943 89.5499 123.029 89.392 123.087C89.2356 123.145 89.0487 123.174 88.8311 123.174C88.6457 123.174 88.4853 123.16 88.35 123.131C88.2146 123.102 88.0961 123.061 87.9946 123.008V122.638C88.1026 122.691 88.2315 122.739 88.3814 122.783C88.5313 122.826 88.6844 122.848 88.8407 122.848C89.0696 122.848 89.2356 122.811 89.3388 122.737C89.4419 122.663 89.4935 122.562 89.4935 122.435C89.4935 122.362 89.4726 122.298 89.4307 122.244C89.3904 122.187 89.3219 122.133 89.2252 122.082C89.1285 122.028 88.9947 121.97 88.8238 121.908C88.6546 121.843 88.5079 121.779 88.3838 121.717C88.2613 121.652 88.1662 121.574 88.0985 121.482C88.0324 121.39 87.9994 121.271 87.9994 121.124C87.9994 120.9 88.0897 120.729 88.2702 120.609C88.4523 120.488 88.6909 120.428 88.9858 120.428C89.1454 120.428 89.2945 120.444 89.4331 120.476C89.5733 120.507 89.7039 120.549 89.8247 120.602L89.6894 120.924C89.5798 120.877 89.4629 120.837 89.3388 120.805C89.2147 120.773 89.0882 120.757 88.9592 120.757C88.7739 120.757 88.6312 120.787 88.5313 120.849C88.433 120.91 88.3838 120.994 88.3838 121.1C88.3838 121.182 88.4064 121.25 88.4515 121.303C88.4982 121.356 88.5724 121.406 88.6739 121.453C88.7755 121.5 88.9092 121.555 89.0753 121.617C89.2413 121.679 89.3847 121.742 89.5056 121.808C89.6265 121.873 89.7192 121.952 89.7836 122.045C89.8497 122.137 89.8828 122.256 89.8828 122.401ZM90.9296 119.364V120.305C90.9296 120.413 90.9264 120.517 90.9199 120.619C90.9151 120.721 90.9111 120.799 90.9079 120.856H90.9296C91.0021 120.737 91.1069 120.636 91.2439 120.554C91.3809 120.471 91.5558 120.43 91.7686 120.43C92.1006 120.43 92.3649 120.546 92.5615 120.776C92.7598 121.005 92.8589 121.346 92.8589 121.799C92.8589 122.097 92.8138 122.348 92.7235 122.553C92.6333 122.758 92.5059 122.913 92.3415 123.017C92.1771 123.122 91.9829 123.174 91.7589 123.174C91.5493 123.174 91.3769 123.136 91.2415 123.058C91.1077 122.979 91.0046 122.884 90.932 122.771H90.9006L90.8184 123.126H90.5283V119.364H90.9296ZM91.7033 120.766C91.5115 120.766 91.3592 120.804 91.2463 120.88C91.1335 120.954 91.0521 121.067 91.0021 121.219C90.9538 121.368 90.9296 121.559 90.9296 121.789V121.811C90.9296 122.145 90.9852 122.4 91.0964 122.577C91.2077 122.753 91.4099 122.841 91.7033 122.841C91.9499 122.841 92.1344 122.751 92.2569 122.57C92.381 122.39 92.4431 122.132 92.4431 121.796C92.4431 121.455 92.3818 121.198 92.2593 121.025C92.1385 120.853 91.9531 120.766 91.7033 120.766ZM95.8448 121.796C95.8448 122.014 95.8165 122.208 95.7601 122.379C95.7037 122.55 95.6223 122.694 95.5159 122.812C95.4096 122.929 95.2806 123.02 95.1291 123.083C94.9792 123.144 94.8092 123.174 94.619 123.174C94.4417 123.174 94.2789 123.144 94.1306 123.083C93.9839 123.02 93.8566 122.929 93.7486 122.812C93.6422 122.694 93.5592 122.55 93.4996 122.379C93.4416 122.208 93.4126 122.014 93.4126 121.796C93.4126 121.506 93.4617 121.26 93.56 121.057C93.6584 120.852 93.7986 120.696 93.9807 120.59C94.1645 120.482 94.3829 120.428 94.6359 120.428C94.8777 120.428 95.0888 120.482 95.2693 120.59C95.4515 120.698 95.5925 120.854 95.6924 121.059C95.794 121.262 95.8448 121.508 95.8448 121.796ZM93.8284 121.796C93.8284 122.009 93.8566 122.194 93.913 122.35C93.9694 122.506 94.0565 122.627 94.1741 122.713C94.2918 122.798 94.4433 122.841 94.6287 122.841C94.8124 122.841 94.9631 122.798 95.0808 122.713C95.2 122.627 95.2879 122.506 95.3443 122.35C95.4007 122.194 95.4289 122.009 95.4289 121.796C95.4289 121.585 95.4007 121.403 95.3443 121.25C95.2879 121.095 95.2008 120.976 95.0832 120.892C94.9655 120.808 94.8132 120.766 94.6262 120.766C94.3506 120.766 94.1483 120.858 94.0194 121.04C93.8921 121.222 93.8284 121.474 93.8284 121.796ZM96.9424 123.126H96.5386V119.364H96.9424V123.126ZM98.6468 122.846C98.7129 122.846 98.7806 122.84 98.8499 122.829C98.9192 122.817 98.9756 122.804 99.0192 122.788V123.1C98.9724 123.12 98.9071 123.138 98.8233 123.153C98.7411 123.167 98.6605 123.174 98.5816 123.174C98.4413 123.174 98.314 123.15 98.1996 123.102C98.0851 123.052 97.9933 122.968 97.924 122.85C97.8563 122.733 97.8224 122.57 97.8224 122.362V120.791H97.4453V120.595L97.8248 120.438L97.9844 119.862H98.2262V120.476H99.0022V120.791H98.2262V122.35C98.2262 122.516 98.264 122.64 98.3398 122.722C98.4172 122.805 98.5195 122.846 98.6468 122.846ZM99.4954 122.875C99.4954 122.762 99.5228 122.682 99.5776 122.635C99.6324 122.587 99.6993 122.563 99.7783 122.563C99.8605 122.563 99.9298 122.587 99.9862 122.635C100.043 122.682 100.071 122.762 100.071 122.875C100.071 122.986 100.043 123.067 99.9862 123.119C99.9298 123.169 99.8605 123.194 99.7783 123.194C99.6993 123.194 99.6324 123.169 99.5776 123.119C99.5228 123.067 99.4954 122.986 99.4954 122.875ZM101.918 123.174C101.679 123.174 101.469 123.125 101.287 123.027C101.105 122.929 100.963 122.779 100.861 122.577C100.76 122.376 100.709 122.122 100.709 121.816C100.709 121.495 100.762 121.233 100.869 121.03C100.977 120.825 101.125 120.674 101.314 120.575C101.502 120.477 101.716 120.428 101.957 120.428C102.089 120.428 102.216 120.442 102.339 120.469C102.463 120.495 102.564 120.528 102.643 120.568L102.522 120.904C102.442 120.872 102.348 120.843 102.242 120.817C102.137 120.791 102.039 120.779 101.947 120.779C101.763 120.779 101.61 120.818 101.488 120.897C101.367 120.976 101.276 121.092 101.214 121.245C101.155 121.398 101.125 121.587 101.125 121.811C101.125 122.025 101.154 122.208 101.212 122.36C101.272 122.511 101.359 122.627 101.476 122.708C101.593 122.787 101.74 122.826 101.916 122.826C102.056 122.826 102.182 122.812 102.295 122.783C102.408 122.752 102.51 122.717 102.602 122.676V123.034C102.514 123.079 102.414 123.114 102.305 123.138C102.197 123.162 102.068 123.174 101.918 123.174ZM105.515 121.796C105.515 122.014 105.487 122.208 105.431 122.379C105.374 122.55 105.293 122.694 105.187 122.812C105.08 122.929 104.951 123.02 104.8 123.083C104.65 123.144 104.48 123.174 104.29 123.174C104.112 123.174 103.95 123.144 103.801 123.083C103.655 123.02 103.527 122.929 103.419 122.812C103.313 122.694 103.23 122.55 103.17 122.379C103.112 122.208 103.083 122.014 103.083 121.796C103.083 121.506 103.132 121.26 103.231 121.057C103.329 120.852 103.469 120.696 103.651 120.59C103.835 120.482 104.054 120.428 104.307 120.428C104.548 120.428 104.76 120.482 104.94 120.59C105.122 120.698 105.263 120.854 105.363 121.059C105.465 121.262 105.515 121.508 105.515 121.796ZM103.499 121.796C103.499 122.009 103.527 122.194 103.584 122.35C103.64 122.506 103.727 122.627 103.845 122.713C103.962 122.798 104.114 122.841 104.299 122.841C104.483 122.841 104.634 122.798 104.751 122.713C104.871 122.627 104.959 122.506 105.015 122.35C105.071 122.194 105.1 122.009 105.1 121.796C105.1 121.585 105.071 121.403 105.015 121.25C104.959 121.095 104.872 120.976 104.754 120.892C104.636 120.808 104.484 120.766 104.297 120.766C104.021 120.766 103.819 120.858 103.69 121.04C103.563 121.222 103.499 121.474 103.499 121.796ZM109.086 120.428C109.378 120.428 109.598 120.505 109.746 120.658C109.895 120.809 109.969 121.053 109.969 121.39V123.126H109.572V121.41C109.572 121.195 109.526 121.035 109.432 120.928C109.34 120.82 109.203 120.766 109.021 120.766C108.765 120.766 108.579 120.841 108.463 120.989C108.347 121.137 108.289 121.356 108.289 121.644V123.126H107.89V121.41C107.89 121.266 107.869 121.147 107.827 121.052C107.786 120.957 107.725 120.886 107.643 120.839C107.562 120.791 107.46 120.766 107.336 120.766C107.16 120.766 107.019 120.803 106.913 120.875C106.806 120.948 106.729 121.056 106.681 121.199C106.634 121.341 106.611 121.516 106.611 121.724V123.126H106.209V120.476H106.533L106.594 120.851H106.615C106.669 120.759 106.736 120.682 106.816 120.619C106.897 120.556 106.987 120.509 107.087 120.476C107.187 120.444 107.293 120.428 107.406 120.428C107.608 120.428 107.776 120.466 107.911 120.542C108.048 120.616 108.147 120.729 108.209 120.882H108.231C108.318 120.729 108.437 120.616 108.588 120.542C108.74 120.466 108.906 120.428 109.086 120.428Z",fill:"#020202"}),a.createElement("rect",{x:"22.0686",y:"138.124",width:"132.863",height:"14.1892",rx:"1.44416",fill:"white"}),a.createElement("g",{opacity:"0.5"},a.createElement("path",{d:"M27.3345 142.8C27.9047 142.8 28.3208 142.912 28.5827 143.135C28.8466 143.357 28.9786 143.675 28.9786 144.09C28.9786 144.278 28.9473 144.456 28.8849 144.625C28.8244 144.792 28.7257 144.94 28.5887 145.069C28.4517 145.196 28.2714 145.297 28.0478 145.372C27.8261 145.444 27.5541 145.48 27.2318 145.48H26.6939V147.218H26.1801V142.8H27.3345ZM27.2862 143.238H26.6939V145.039H27.1744C27.4564 145.039 27.6911 145.009 27.8785 144.949C28.0679 144.888 28.2099 144.79 28.3046 144.655C28.3993 144.518 28.4467 144.337 28.4467 144.111C28.4467 143.817 28.353 143.599 28.1656 143.456C27.9782 143.311 27.6851 143.238 27.2862 143.238ZM31.0668 143.852C31.4617 143.852 31.7549 143.94 31.9463 144.117C32.1377 144.295 32.2334 144.578 32.2334 144.967V147.218H31.8677L31.771 146.729H31.7468C31.6541 146.849 31.5574 146.951 31.4567 147.034C31.3559 147.114 31.2391 147.176 31.1061 147.218C30.9752 147.258 30.814 147.279 30.6226 147.279C30.4211 147.279 30.2418 147.243 30.0846 147.173C29.9295 147.102 29.8066 146.996 29.716 146.852C29.6273 146.709 29.583 146.528 29.583 146.308C29.583 145.978 29.7139 145.724 29.9759 145.547C30.2378 145.37 30.6367 145.273 31.1726 145.257L31.7438 145.233V145.03C31.7438 144.744 31.6823 144.544 31.5594 144.429C31.4365 144.314 31.2633 144.256 31.0396 144.256C30.8664 144.256 30.7012 144.282 30.544 144.332C30.3869 144.382 30.2378 144.442 30.0967 144.51L29.9426 144.13C30.0917 144.053 30.263 143.988 30.4564 143.933C30.6498 143.879 30.8533 143.852 31.0668 143.852ZM31.7377 145.586L31.233 145.607C30.82 145.623 30.5289 145.691 30.3597 145.81C30.1904 145.929 30.1058 146.097 30.1058 146.315C30.1058 146.504 30.1632 146.644 30.2781 146.735C30.3929 146.825 30.545 146.871 30.7344 146.871C31.0285 146.871 31.2693 146.789 31.4567 146.626C31.644 146.463 31.7377 146.218 31.7377 145.891V145.586ZM35.4096 146.312C35.4096 146.523 35.3562 146.701 35.2494 146.846C35.1446 146.989 34.9935 147.097 34.7961 147.17C34.6007 147.242 34.367 147.279 34.095 147.279C33.8633 147.279 33.6628 147.26 33.4936 147.224C33.3243 147.188 33.1762 147.137 33.0493 147.07V146.608C33.1843 146.674 33.3455 146.735 33.5329 146.789C33.7202 146.843 33.9116 146.871 34.1071 146.871C34.3931 146.871 34.6007 146.824 34.7296 146.732C34.8585 146.639 34.923 146.513 34.923 146.354C34.923 146.263 34.8968 146.184 34.8444 146.115C34.7941 146.045 34.7085 145.977 34.5876 145.913C34.4667 145.846 34.2995 145.774 34.0859 145.695C33.8744 145.614 33.691 145.535 33.5359 145.456C33.3828 145.376 33.2639 145.278 33.1793 145.163C33.0967 145.048 33.0554 144.899 33.0554 144.716C33.0554 144.436 33.1682 144.221 33.3938 144.072C33.6215 143.921 33.9197 143.845 34.2884 143.845C34.4878 143.845 34.6742 143.866 34.8475 143.906C35.0227 143.944 35.1859 143.997 35.337 144.063L35.1678 144.465C35.0308 144.407 34.8847 144.357 34.7296 144.317C34.5745 144.277 34.4163 144.256 34.2551 144.256C34.0234 144.256 33.8451 144.295 33.7202 144.371C33.5973 144.448 33.5359 144.553 33.5359 144.686C33.5359 144.788 33.5641 144.873 33.6205 144.939C33.6789 145.006 33.7716 145.068 33.8985 145.127C34.0255 145.185 34.1927 145.254 34.4002 145.332C34.6077 145.409 34.787 145.488 34.9381 145.571C35.0892 145.652 35.2051 145.75 35.2857 145.867C35.3683 145.982 35.4096 146.13 35.4096 146.312ZM38.3591 146.312C38.3591 146.523 38.3057 146.701 38.199 146.846C38.0942 146.989 37.9431 147.097 37.7457 147.17C37.5502 147.242 37.3165 147.279 37.0445 147.279C36.8128 147.279 36.6124 147.26 36.4431 147.224C36.2739 147.188 36.1258 147.137 35.9989 147.07V146.608C36.1339 146.674 36.295 146.735 36.4824 146.789C36.6698 146.843 36.8612 146.871 37.0566 146.871C37.3427 146.871 37.5502 146.824 37.6792 146.732C37.8081 146.639 37.8726 146.513 37.8726 146.354C37.8726 146.263 37.8464 146.184 37.794 146.115C37.7436 146.045 37.658 145.977 37.5371 145.913C37.4162 145.846 37.249 145.774 37.0355 145.695C36.8239 145.614 36.6406 145.535 36.4854 145.456C36.3323 145.376 36.2135 145.278 36.1288 145.163C36.0462 145.048 36.0049 144.899 36.0049 144.716C36.0049 144.436 36.1178 144.221 36.3434 144.072C36.5711 143.921 36.8692 143.845 37.2379 143.845C37.4374 143.845 37.6238 143.866 37.797 143.906C37.9723 143.944 38.1355 143.997 38.2866 144.063L38.1174 144.465C37.9804 144.407 37.8343 144.357 37.6792 144.317C37.524 144.277 37.3659 144.256 37.2047 144.256C36.973 144.256 36.7947 144.295 36.6698 144.371C36.5469 144.448 36.4854 144.553 36.4854 144.686C36.4854 144.788 36.5136 144.873 36.5701 144.939C36.6285 145.006 36.7212 145.068 36.8481 145.127C36.975 145.185 37.1422 145.254 37.3498 145.332C37.5573 145.409 37.7366 145.488 37.8877 145.571C38.0388 145.652 38.1546 145.75 38.2352 145.867C38.3178 145.982 38.3591 146.13 38.3591 146.312ZM40.7224 143.845C41.1354 143.845 41.4648 143.988 41.7106 144.272C41.9564 144.556 42.0793 144.983 42.0793 145.553C42.0793 145.93 42.0229 146.246 41.9101 146.502C41.7973 146.758 41.6381 146.951 41.4326 147.082C41.2291 147.213 40.9884 147.279 40.7103 147.279C40.535 147.279 40.3809 147.255 40.2479 147.209C40.115 147.163 40.0011 147.1 39.9065 147.022C39.8118 146.943 39.7332 146.858 39.6707 146.765H39.6345C39.6405 146.843 39.6476 146.938 39.6556 147.049C39.6657 147.16 39.6707 147.256 39.6707 147.339V148.699H39.166V143.906H39.5801L39.6466 144.396H39.6707C39.7352 144.295 39.8138 144.203 39.9065 144.12C39.9991 144.036 40.112 143.969 40.2449 143.921C40.3799 143.871 40.5391 143.845 40.7224 143.845ZM40.6348 144.269C40.4051 144.269 40.2197 144.313 40.0787 144.402C39.9397 144.49 39.838 144.623 39.7735 144.8C39.709 144.976 39.6748 145.196 39.6707 145.462V145.559C39.6707 145.839 39.7009 146.076 39.7614 146.269C39.8238 146.463 39.9256 146.61 40.0666 146.71C40.2097 146.811 40.4011 146.862 40.6408 146.862C40.8463 146.862 41.0176 146.806 41.1546 146.695C41.2916 146.585 41.3933 146.43 41.4598 146.233C41.5283 146.033 41.5626 145.805 41.5626 145.547C41.5626 145.156 41.486 144.846 41.3329 144.616C41.1818 144.384 40.9491 144.269 40.6348 144.269ZM43.4574 142.516V143.921C43.4574 144.002 43.4554 144.083 43.4514 144.166C43.4473 144.246 43.4403 144.321 43.4302 144.389H43.4635C43.532 144.273 43.6186 144.175 43.7234 144.096C43.8301 144.016 43.951 143.955 44.086 143.915C44.221 143.873 44.364 143.852 44.5151 143.852C44.7811 143.852 45.0027 143.894 45.18 143.978C45.3593 144.063 45.4933 144.194 45.5819 144.371C45.6726 144.549 45.7179 144.778 45.7179 145.06V147.218H45.2223V145.094C45.2223 144.818 45.1588 144.611 45.0319 144.474C44.907 144.337 44.7146 144.269 44.4547 144.269C44.2089 144.269 44.0125 144.316 43.8654 144.411C43.7203 144.503 43.6156 144.64 43.5511 144.822C43.4886 145.003 43.4574 145.225 43.4574 145.486V147.218H42.9557V142.516H43.4574ZM48.2565 143.845C48.323 143.845 48.3925 143.85 48.465 143.858C48.5375 143.864 48.602 143.873 48.6584 143.885L48.595 144.35C48.5406 144.336 48.4801 144.325 48.4136 144.317C48.3472 144.309 48.2847 144.305 48.2263 144.305C48.0933 144.305 47.9674 144.332 47.8485 144.386C47.7317 144.439 47.6289 144.515 47.5403 144.616C47.4516 144.715 47.3821 144.835 47.3317 144.976C47.2814 145.115 47.2562 145.27 47.2562 145.441V147.218H46.7515V143.906H47.1685L47.2229 144.516H47.2441C47.3126 144.393 47.3952 144.282 47.4919 144.181C47.5886 144.078 47.7004 143.997 47.8274 143.936C47.9563 143.876 48.0993 143.845 48.2565 143.845ZM50.5231 143.852C50.918 143.852 51.2111 143.94 51.4025 144.117C51.5939 144.295 51.6896 144.578 51.6896 144.967V147.218H51.3239L51.2272 146.729H51.203C51.1104 146.849 51.0137 146.951 50.9129 147.034C50.8122 147.114 50.6953 147.176 50.5624 147.218C50.4314 147.258 50.2702 147.279 50.0788 147.279C49.8773 147.279 49.698 147.243 49.5409 147.173C49.3858 147.102 49.2629 146.996 49.1722 146.852C49.0835 146.709 49.0392 146.528 49.0392 146.308C49.0392 145.978 49.1702 145.724 49.4321 145.547C49.694 145.37 50.0929 145.273 50.6288 145.257L51.2 145.233V145.03C51.2 144.744 51.1386 144.544 51.0157 144.429C50.8928 144.314 50.7195 144.256 50.4959 144.256C50.3226 144.256 50.1574 144.282 50.0002 144.332C49.8431 144.382 49.694 144.442 49.553 144.51L49.3988 144.13C49.5479 144.053 49.7192 143.988 49.9126 143.933C50.106 143.879 50.3095 143.852 50.5231 143.852ZM51.194 145.586L50.6893 145.607C50.2763 145.623 49.9851 145.691 49.8159 145.81C49.6467 145.929 49.562 146.097 49.562 146.315C49.562 146.504 49.6195 146.644 49.7343 146.735C49.8491 146.825 50.0013 146.871 50.1906 146.871C50.4848 146.871 50.7255 146.789 50.9129 146.626C51.1003 146.463 51.194 146.218 51.194 145.891V145.586ZM54.8658 146.312C54.8658 146.523 54.8124 146.701 54.7056 146.846C54.6009 146.989 54.4498 147.097 54.2523 147.17C54.0569 147.242 53.8232 147.279 53.5512 147.279C53.3195 147.279 53.119 147.26 52.9498 147.224C52.7806 147.188 52.6325 147.137 52.5056 147.07V146.608C52.6405 146.674 52.8017 146.735 52.9891 146.789C53.1765 146.843 53.3679 146.871 53.5633 146.871C53.8494 146.871 54.0569 146.824 54.1858 146.732C54.3148 146.639 54.3793 146.513 54.3793 146.354C54.3793 146.263 54.3531 146.184 54.3007 146.115C54.2503 146.045 54.1647 145.977 54.0438 145.913C53.9229 145.846 53.7557 145.774 53.5421 145.695C53.3306 145.614 53.1472 145.535 52.9921 145.456C52.839 145.376 52.7201 145.278 52.6355 145.163C52.5529 145.048 52.5116 144.899 52.5116 144.716C52.5116 144.436 52.6244 144.221 52.8501 144.072C53.0777 143.921 53.3759 143.845 53.7446 143.845C53.9441 143.845 54.1304 143.866 54.3037 143.906C54.479 143.944 54.6422 143.997 54.7933 144.063L54.624 144.465C54.487 144.407 54.341 144.357 54.1858 144.317C54.0307 144.277 53.8726 144.256 53.7114 144.256C53.4797 144.256 53.3014 144.295 53.1765 144.371C53.0536 144.448 52.9921 144.553 52.9921 144.686C52.9921 144.788 53.0203 144.873 53.0767 144.939C53.1352 145.006 53.2278 145.068 53.3548 145.127C53.4817 145.185 53.6489 145.254 53.8564 145.332C54.064 145.409 54.2433 145.488 54.3944 145.571C54.5455 145.652 54.6613 145.75 54.7419 145.867C54.8245 145.982 54.8658 146.13 54.8658 146.312ZM56.948 143.845C57.2301 143.845 57.4719 143.908 57.6733 144.033C57.8748 144.158 58.0289 144.333 58.1357 144.559C58.2425 144.782 58.2959 145.044 58.2959 145.344V145.656H56.0082C56.0142 146.045 56.1109 146.341 56.2983 146.544C56.4857 146.748 56.7496 146.849 57.0901 146.849C57.2996 146.849 57.485 146.83 57.6461 146.792C57.8073 146.754 57.9745 146.697 58.1478 146.623V147.064C57.9806 147.139 57.8144 147.193 57.6492 147.227C57.486 147.261 57.2926 147.279 57.0689 147.279C56.7506 147.279 56.4726 147.214 56.2348 147.085C55.9991 146.954 55.8158 146.763 55.6848 146.511C55.5538 146.259 55.4884 145.951 55.4884 145.586C55.4884 145.23 55.5478 144.921 55.6667 144.661C55.7876 144.4 55.9568 144.198 56.1744 144.057C56.394 143.916 56.6519 143.845 56.948 143.845ZM56.942 144.256C56.674 144.256 56.4605 144.344 56.3013 144.519C56.1421 144.695 56.0475 144.939 56.0172 145.254H57.77C57.768 145.056 57.7368 144.883 57.6764 144.734C57.6179 144.583 57.5283 144.466 57.4074 144.383C57.2865 144.299 57.1314 144.256 56.942 144.256Z",fill:"black"})),a.createElement("rect",{x:"22.0686",y:"138.124",width:"132.863",height:"14.1892",rx:"1.44416",stroke:"#BDBDBD",strokeWidth:"0.412617"}),a.createElement("rect",{x:"22.4812",y:"171.866",width:"132.037",height:"17.7425",rx:"1.44416",fill:"#2894DF"}),a.createElement("path",{d:"M79.7967 182.265C79.7967 182.579 79.7206 182.853 79.5682 183.085C79.4159 183.317 79.1935 183.496 78.901 183.621C78.6108 183.747 78.2579 183.81 77.842 183.81C77.6583 183.81 77.4782 183.798 77.3017 183.774C77.1276 183.75 76.9596 183.715 76.7976 183.669C76.638 183.62 76.4857 183.561 76.3406 183.491V182.446C76.5921 182.558 76.8532 182.658 77.124 182.747C77.3948 182.837 77.6631 182.882 77.9291 182.882C78.1128 182.882 78.2603 182.857 78.3715 182.809C78.4851 182.761 78.5673 182.694 78.6181 182.61C78.6689 182.525 78.6943 182.428 78.6943 182.32C78.6943 182.187 78.6495 182.073 78.5601 181.979C78.4706 181.884 78.3473 181.796 78.1902 181.714C78.0354 181.632 77.8602 181.543 77.6643 181.449C77.541 181.391 77.4068 181.321 77.2618 181.239C77.1167 181.154 76.9789 181.051 76.8484 180.931C76.7178 180.81 76.6102 180.663 76.5256 180.492C76.4434 180.318 76.4023 180.11 76.4023 179.868C76.4023 179.551 76.4748 179.281 76.6199 179.056C76.7649 178.831 76.9717 178.659 77.24 178.541C77.5108 178.42 77.8299 178.359 78.1974 178.359C78.473 178.359 78.7354 178.392 78.9844 178.457C79.2358 178.52 79.4981 178.612 79.7713 178.733L79.4087 179.607C79.1645 179.508 78.9457 179.432 78.7523 179.378C78.5589 179.323 78.3618 179.295 78.1612 179.295C78.0209 179.295 77.9013 179.318 77.8021 179.364C77.703 179.407 77.6281 179.47 77.5773 179.552C77.5265 179.632 77.5011 179.725 77.5011 179.832C77.5011 179.957 77.5374 180.064 77.6099 180.151C77.6849 180.235 77.7961 180.318 77.9436 180.397C78.0935 180.477 78.2796 180.57 78.502 180.677C78.7728 180.805 79.0037 180.939 79.1947 181.079C79.3881 181.217 79.5368 181.38 79.6408 181.569C79.7447 181.755 79.7967 181.987 79.7967 182.265ZM81.7768 179.683V183.737H80.6707V179.683H81.7768ZM81.2256 178.095C81.39 178.095 81.5314 178.133 81.6499 178.211C81.7683 178.286 81.8276 178.427 81.8276 178.635C81.8276 178.84 81.7683 178.983 81.6499 179.063C81.5314 179.14 81.39 179.179 81.2256 179.179C81.0587 179.179 80.9161 179.14 80.7976 179.063C80.6816 178.983 80.6236 178.84 80.6236 178.635C80.6236 178.427 80.6816 178.286 80.7976 178.211C80.9161 178.133 81.0587 178.095 81.2256 178.095ZM84.1268 185.522C83.561 185.522 83.1283 185.423 82.8285 185.224C82.5311 185.029 82.3824 184.753 82.3824 184.398C82.3824 184.153 82.4586 183.949 82.6109 183.785C82.7632 183.62 82.9868 183.503 83.2818 183.433C83.1682 183.385 83.069 183.306 82.9844 183.197C82.8998 183.086 82.8575 182.969 82.8575 182.845C82.8575 182.691 82.9022 182.562 82.9917 182.461C83.0811 182.357 83.2105 182.255 83.3797 182.156C83.167 182.064 82.9977 181.917 82.872 181.714C82.7487 181.511 82.687 181.271 82.687 180.996C82.687 180.701 82.7511 180.451 82.8792 180.245C83.0098 180.037 83.1984 179.879 83.445 179.77C83.694 179.661 83.9962 179.607 84.3516 179.607C84.4266 179.607 84.5136 179.612 84.6127 179.621C84.7118 179.631 84.8025 179.642 84.8847 179.654C84.9693 179.666 85.0261 179.676 85.0552 179.683H86.4695V180.245L85.8349 180.408C85.8929 180.498 85.9364 180.593 85.9654 180.695C85.9944 180.796 86.0089 180.904 86.0089 181.018C86.0089 181.453 85.8566 181.792 85.552 182.037C85.2498 182.278 84.8291 182.399 84.29 182.399C84.1618 182.392 84.0409 182.382 83.9273 182.37C83.8717 182.414 83.8294 182.46 83.8004 182.508C83.7714 182.556 83.7569 182.607 83.7569 182.66C83.7569 182.714 83.7786 182.758 83.8221 182.795C83.8681 182.828 83.9358 182.855 84.0252 182.874C84.1171 182.891 84.2307 182.9 84.3661 182.9H85.0552C85.5 182.9 85.8385 182.995 86.0706 183.186C86.3051 183.377 86.4224 183.658 86.4224 184.028C86.4224 184.501 86.2241 184.869 85.8276 185.13C85.4335 185.391 84.8666 185.522 84.1268 185.522ZM84.1739 184.8C84.4374 184.8 84.6635 184.775 84.8521 184.724C85.0431 184.676 85.1893 184.605 85.2909 184.514C85.3924 184.424 85.4432 184.317 85.4432 184.191C85.4432 184.089 85.413 184.008 85.3525 183.948C85.2945 183.89 85.2051 183.849 85.0842 183.825C84.9657 183.8 84.8134 183.788 84.6272 183.788H84.0542C83.9189 183.788 83.7968 183.81 83.688 183.854C83.5816 183.897 83.497 183.957 83.4341 184.035C83.3712 184.115 83.3398 184.207 83.3398 184.31C83.3398 184.463 83.4123 184.582 83.5574 184.67C83.7049 184.757 83.9104 184.8 84.1739 184.8ZM84.3516 181.725C84.5595 181.725 84.7118 181.661 84.8086 181.533C84.9053 181.404 84.9536 181.23 84.9536 181.01C84.9536 180.766 84.9028 180.584 84.8013 180.463C84.7022 180.339 84.5523 180.278 84.3516 180.278C84.1485 180.278 83.9962 180.339 83.8947 180.463C83.7931 180.584 83.7424 180.766 83.7424 181.01C83.7424 181.23 83.7919 181.404 83.891 181.533C83.9926 181.661 84.1461 181.725 84.3516 181.725ZM89.4432 179.607C89.876 179.607 90.2241 179.725 90.4877 179.962C90.7512 180.197 90.883 180.574 90.883 181.094V183.737H89.7769V181.369C89.7769 181.079 89.7237 180.86 89.6173 180.713C89.5133 180.565 89.3489 180.492 89.1241 180.492C88.7856 180.492 88.5547 180.607 88.4314 180.836C88.3081 181.066 88.2465 181.397 88.2465 181.83V183.737H87.1404V179.683H87.9854L88.1341 180.202H88.1957C88.2828 180.061 88.3903 179.948 88.5185 179.861C88.649 179.774 88.7929 179.71 88.95 179.669C89.1096 179.627 89.274 179.607 89.4432 179.607ZM95.0571 179.683V183.737H93.951V179.683H95.0571ZM94.5058 178.095C94.6703 178.095 94.8117 178.133 94.9302 178.211C95.0486 178.286 95.1078 178.427 95.1078 178.635C95.1078 178.84 95.0486 178.983 94.9302 179.063C94.8117 179.14 94.6703 179.179 94.5058 179.179C94.339 179.179 94.1964 179.14 94.0779 179.063C93.9619 178.983 93.9038 178.84 93.9038 178.635C93.9038 178.427 93.9619 178.286 94.0779 178.211C94.1964 178.133 94.339 178.095 94.5058 178.095ZM98.524 179.607C98.9568 179.607 99.3049 179.725 99.5685 179.962C99.832 180.197 99.9638 180.574 99.9638 181.094V183.737H98.8577V181.369C98.8577 181.079 98.8045 180.86 98.6981 180.713C98.5941 180.565 98.4297 180.492 98.2049 180.492C97.8664 180.492 97.6355 180.607 97.5122 180.836C97.3889 181.066 97.3273 181.397 97.3273 181.83V183.737H96.2212V179.683H97.0662L97.2149 180.202H97.2765C97.3635 180.061 97.4711 179.948 97.5993 179.861C97.7298 179.774 97.8737 179.71 98.0308 179.669C98.1904 179.627 98.3548 179.607 98.524 179.607Z",fill:"white"}),a.createElement("rect",{x:"22.4812",y:"171.866",width:"132.037",height:"17.7425",rx:"1.44416",stroke:"#2894DF",strokeWidth:"0.412617"})),a.createElement("defs",null,a.createElement("filter",{id:"filter0_d_280_142230",x:"6.59559",y:"42.457",width:"167.11",height:"166.338",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"1.65047",dy:"1.65047"}),a.createElement("feGaussianBlur",{stdDeviation:"2.06308"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_280_142230"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_280_142230",result:"shape"})),a.createElement("clipPath",{id:"clip0_280_142230"},a.createElement("rect",{width:"76.1816",height:"13.2037",fill:"white",transform:"translate(50.4092 18.5253)"}))))}}const to=eo;class so extends a.Component{render(){return a.createElement("svg",{width:"177",height:"243",viewBox:"0 0 177 243",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{clipPath:"url(#clip0_1_27469)"},a.createElement("path",{d:"M52.4666 32.0295V36.4008H53.7262C54.562 36.4008 55.1406 36.2234 55.4883 35.8865C55.8361 35.5497 56.0027 34.9608 56.0027 34.1625C56.0027 33.3911 55.8479 32.8447 55.5264 32.5284C55.2049 32.1864 54.6657 32.0347 53.881 32.0347L52.4666 32.0295ZM50.4092 30.3685H54.3691C55.5658 30.3685 56.4908 30.7117 57.16 31.4086C57.8291 32.1054 58.1624 33.0684 58.1624 34.2974C58.1704 34.7707 58.1008 35.2421 57.9564 35.6937C57.8198 36.1136 57.6064 36.5057 57.3266 36.8508C57.0091 37.2472 56.593 37.5571 56.1182 37.7507C55.6419 37.9281 55.0252 38.0169 54.2405 38.0169H52.4666V40.7977H50.4092V30.3685Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M62.3022 36.4895H64.8739V34.9056H62.457C61.9807 34.9056 61.6475 34.9686 61.4664 35.0958C61.2853 35.2231 61.204 35.4507 61.204 35.767C61.204 36.0331 61.2801 36.2234 61.4218 36.3365C61.5635 36.4496 61.8522 36.4895 62.3022 36.4895ZM59.577 30.3685H63.7757C64.8438 30.3685 65.6402 30.6102 66.1808 31.091C66.7214 31.5718 66.9903 32.2828 66.9903 33.2329V38.0349H61.4664C60.6949 38.0349 60.0913 37.8446 59.6793 37.4653C59.2673 37.086 59.0692 36.5396 59.0692 35.83C59.0692 34.9557 59.3001 34.3347 59.7764 33.9555C60.2527 33.5762 61.0373 33.3795 62.1618 33.3795H64.8608V33.1943C64.8608 32.7379 64.7204 32.423 64.4501 32.2314C64.1798 32.0398 63.7035 31.9524 62.9976 31.9524H59.577V30.3685Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M68.6671 36.438H72.997C73.3828 36.438 73.6662 36.375 73.8328 36.2606C73.9255 36.1982 73.9995 36.1129 74.0475 36.0133C74.0954 35.9137 74.1155 35.8034 74.1058 35.6936C74.1161 35.5836 74.0966 35.4728 74.0491 35.3725C74.0016 35.2723 73.9279 35.1861 73.8355 35.1228C73.6557 34.9942 73.3736 34.9325 72.9997 34.9325H71.2257C70.176 34.9325 69.4649 34.768 69.0909 34.4517C68.717 34.1354 68.5385 33.5646 68.5385 32.7662C68.5385 31.9434 68.7576 31.334 69.2077 30.9418C69.6577 30.5497 70.3531 30.3569 71.2716 30.3569H75.6816V31.9524H72.0589C71.4667 31.9524 71.0809 32.0034 70.9016 32.1054C70.7218 32.2057 70.6313 32.3831 70.6313 32.6492C70.6228 32.7471 70.6396 32.8456 70.6802 32.9355C70.7208 33.0254 70.7839 33.1038 70.8636 33.1635C71.0171 33.2766 71.2742 33.328 71.6088 33.328H73.476C74.3249 33.328 74.9796 33.5299 75.4179 33.9233C75.8561 34.3167 76.0857 34.8734 76.0857 35.6088C76.0857 36.3185 75.8797 36.8945 75.4822 37.3444C75.2944 37.5614 75.0594 37.7343 74.7944 37.8505C74.5294 37.9666 74.2411 38.023 73.9509 38.0155H68.6671V36.438Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M77.4388 36.438H81.7688C82.1545 36.438 82.4379 36.375 82.6046 36.2606C82.6967 36.1979 82.7703 36.1124 82.8178 36.0129C82.8652 35.9133 82.8849 35.8031 82.8749 35.6936C82.8853 35.5836 82.8657 35.4728 82.8182 35.3725C82.7708 35.2723 82.697 35.1861 82.6046 35.1228C82.4248 34.9942 82.1427 34.9325 81.7688 34.9325H79.9948C78.9451 34.9325 78.234 34.768 77.86 34.4517C77.4861 34.1354 77.3076 33.562 77.3076 32.7636C77.3076 31.9408 77.5268 31.3314 77.9768 30.9393C78.4269 30.5472 79.121 30.3569 80.046 30.3569H84.4573V31.9524H80.8306C80.2393 31.9524 79.8535 32.0034 79.6733 32.1054C79.4936 32.2057 79.4031 32.3831 79.4031 32.6492C79.3946 32.7471 79.4114 32.8456 79.452 32.9355C79.4926 33.0254 79.5556 33.1038 79.6353 33.1635C79.7888 33.2766 80.046 33.328 80.3806 33.328H82.2451C83.094 33.328 83.75 33.5299 84.187 33.9233C84.6239 34.3167 84.8548 34.8734 84.8548 35.6088C84.8548 36.3185 84.6501 36.8945 84.2513 37.3444C84.0637 37.5612 83.8288 37.7341 83.5641 37.8502C83.2993 37.9663 83.0113 38.0228 82.7214 38.0155H77.4113V36.438H77.4388Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M88.3902 27.594V30.3684H90.1524C90.9396 30.3684 91.5537 30.4572 92.0287 30.6474C92.509 30.8316 92.9274 31.1432 93.2371 31.5474C93.5171 31.8959 93.7309 32.2909 93.8683 32.7135C94.0113 33.1645 94.0804 33.6349 94.0729 34.1071C94.0729 35.3362 93.7388 36.2992 93.0705 36.996C92.4026 37.6929 91.4763 38.0348 90.281 38.0348H86.3197V27.594H88.3902ZM89.6407 32.0295H88.3797V36.4008H89.7942C90.5814 36.4008 91.1312 36.2362 91.4409 35.9186C91.7505 35.6011 91.9158 35.0444 91.9158 34.2589C91.9158 33.4733 91.7361 32.8909 91.391 32.5489C91.0459 32.2069 90.4607 32.0295 89.6407 32.0295Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M96.9795 34.2087C96.9795 34.9428 97.1462 35.4944 97.4939 35.9186C97.8416 36.3429 98.3166 36.5267 98.9464 36.5267C99.5762 36.5267 100.039 36.3249 100.4 35.9186C100.761 35.5124 100.925 34.9428 100.925 34.2087C100.925 33.4746 100.744 32.9153 100.4 32.5103C100.056 32.1054 99.5775 31.9022 98.9464 31.9022C98.6732 31.89 98.4007 31.9383 98.1492 32.0436C97.8977 32.1489 97.6737 32.3084 97.4939 32.5103C97.1462 32.9153 96.9795 33.4862 96.9795 34.2087ZM103.074 34.2087C103.074 35.4086 102.702 36.3716 101.956 37.0976C101.21 37.8073 100.219 38.175 98.9595 38.175C97.6999 38.175 96.6961 37.8201 95.9508 37.0976C95.2056 36.375 94.8329 35.4262 94.8329 34.2215C94.8329 33.0169 95.2056 32.0539 95.9508 31.3314C96.6961 30.6088 97.6999 30.2424 98.9569 30.2424C100.214 30.2424 101.207 30.6101 101.954 31.3314C102.7 32.0526 103.074 33.004 103.074 34.2087Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M106.443 38.0348H104.309V27.594H106.443V38.0348Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M107.433 30.3684H108.885V27.594H110.943V30.3684H113.116V31.9022H110.943V34.9943C110.943 35.5638 111.046 35.9572 111.238 36.1848C111.429 36.4123 111.779 36.5139 112.267 36.5139H113.116V38.0477H111.226C110.468 38.0477 109.888 37.8446 109.477 37.4267C109.066 37.0089 108.874 36.4136 108.874 35.6397V31.9022H107.42V30.3684H107.433Z",fill:"var(--icon-color)"}),a.createElement("path",{d:"M126.257 32.7636L121.656 28.5184C121.46 28.3409 121.202 28.2424 120.935 28.2424C120.667 28.2424 120.41 28.3409 120.213 28.5184L117.326 31.1938C117.705 31.3314 118.044 31.5545 118.318 31.8449C118.591 32.1353 118.791 32.4849 118.901 32.8652H122.798C122.845 32.8652 122.892 32.8744 122.936 32.8922C122.98 32.9101 123.02 32.9362 123.054 32.9692C123.087 33.0022 123.114 33.0413 123.132 33.0843C123.15 33.1274 123.159 33.1735 123.159 33.22V33.8024C123.159 33.849 123.15 33.8951 123.132 33.9381C123.114 33.9812 123.087 34.0203 123.054 34.0533C123.02 34.0862 122.98 34.1124 122.936 34.1302C122.892 34.1481 122.845 34.1573 122.798 34.1573H122.348V34.9814C122.348 35.0279 122.339 35.074 122.321 35.117C122.303 35.16 122.277 35.1992 122.244 35.2322C122.21 35.2651 122.17 35.2913 122.127 35.3092C122.083 35.327 122.036 35.3362 121.988 35.3362H121C120.953 35.3362 120.906 35.327 120.862 35.3092C120.818 35.2913 120.779 35.2651 120.745 35.2322C120.712 35.1992 120.685 35.16 120.667 35.117C120.65 35.074 120.64 35.0279 120.641 34.9814V34.1573H118.901C118.797 34.5418 118.599 34.8958 118.325 35.1893C118.051 35.4828 117.708 35.707 117.326 35.8428L120.226 38.5221C120.423 38.6995 120.681 38.798 120.948 38.798C121.215 38.798 121.473 38.6995 121.67 38.5221L126.262 34.2794C126.366 34.1813 126.449 34.0635 126.506 33.933C126.562 33.8025 126.591 33.6622 126.591 33.5204C126.59 33.3787 126.56 33.2385 126.503 33.1084C126.446 32.9783 126.362 32.861 126.257 32.7636Z",fill:"#D40101"}),a.createElement("path",{d:"M116.472 32.351C116.284 32.3546 116.1 32.3985 115.931 32.4795C115.743 32.5711 115.583 32.7103 115.468 32.8828C115.353 33.0552 115.287 33.2547 115.277 33.4605C115.267 33.6663 115.313 33.871 115.41 34.0535C115.508 34.236 115.654 34.3896 115.832 34.4984C116.011 34.6073 116.216 34.6675 116.426 34.6728C116.636 34.678 116.844 34.6282 117.028 34.5284C117.212 34.4286 117.366 34.2825 117.473 34.1052C117.58 33.9278 117.636 33.7257 117.637 33.5196C117.641 33.3674 117.613 33.2161 117.556 33.0744C117.5 32.9328 117.414 32.8037 117.306 32.6948C117.197 32.5859 117.067 32.4994 116.924 32.4404C116.781 32.3813 116.627 32.3509 116.472 32.351Z",fill:"#D40101"})),a.createElement("g",{filter:"url(#filter0_d_1_27469)"},a.createElement("path",{d:"M9.07132 55.6519C9.07132 54.7404 9.81026 54.0015 10.7218 54.0015H166.278C167.19 54.0015 167.929 54.7404 167.929 55.6519V192.3C167.929 193.211 167.19 193.95 166.278 193.95H10.7218C9.81026 193.95 9.07132 193.211 9.07132 192.3V55.6519Z",fill:"#F1F1F1",shapeRendering:"crispEdges"}),a.createElement("path",{d:"M28.417 84.8071H24.3057V77.6684H28.417V78.9086H25.8193V80.476H28.2363V81.7162H25.8193V83.5571H28.417V84.8071ZM34.833 84.8071H33.3438V81.6186C33.3438 81.2247 33.2738 80.9301 33.1338 80.7348C32.9938 80.5362 32.7708 80.437 32.4648 80.437C32.0482 80.437 31.7471 80.5769 31.5615 80.8569C31.376 81.1336 31.2832 81.5942 31.2832 82.2387V84.8071H29.7939V79.3481H30.9316L31.1318 80.0463H31.2148C31.3809 79.7827 31.6087 79.5841 31.8984 79.4506C32.1914 79.3139 32.5234 79.2455 32.8945 79.2455C33.5293 79.2455 34.0111 79.4181 34.3398 79.7631C34.6686 80.1049 34.833 80.5997 34.833 81.2475V84.8071ZM38.666 83.7182C38.9264 83.7182 39.2389 83.6612 39.6035 83.5473V84.6557C39.2324 84.8217 38.7767 84.9047 38.2363 84.9047C37.6406 84.9047 37.2061 84.755 36.9326 84.4555C36.6624 84.1528 36.5273 83.7003 36.5273 83.0981V80.4662H35.8145V79.8364L36.6348 79.3383L37.0645 78.186H38.0166V79.3481H39.5449V80.4662H38.0166V83.0981C38.0166 83.3097 38.0752 83.4659 38.1924 83.5668C38.3128 83.6677 38.4707 83.7182 38.666 83.7182ZM42.9727 80.3051C42.6569 80.3051 42.4095 80.406 42.2305 80.6078C42.0514 80.8064 41.9489 81.0896 41.9229 81.4575H44.0127C44.0062 81.0896 43.9102 80.8064 43.7246 80.6078C43.5391 80.406 43.2884 80.3051 42.9727 80.3051ZM43.1826 84.9047C42.3037 84.9047 41.6169 84.6622 41.1221 84.1772C40.6273 83.6922 40.3799 83.0053 40.3799 82.1166C40.3799 81.2019 40.6077 80.4955 41.0635 79.9975C41.5225 79.4962 42.1556 79.2455 42.9629 79.2455C43.7344 79.2455 44.335 79.4653 44.7646 79.9047C45.1943 80.3442 45.4092 80.9513 45.4092 81.726V82.4487H41.8887C41.9049 82.8718 42.0303 83.2023 42.2646 83.4399C42.499 83.6775 42.8278 83.7963 43.251 83.7963C43.5798 83.7963 43.8906 83.7621 44.1836 83.6938C44.4766 83.6254 44.7826 83.5164 45.1016 83.3666V84.519C44.8411 84.6492 44.5628 84.7452 44.2666 84.8071C43.9704 84.8722 43.609 84.9047 43.1826 84.9047ZM49.667 79.2455C49.8688 79.2455 50.0365 79.2602 50.1699 79.2895L50.0576 80.686C49.9372 80.6534 49.7907 80.6371 49.6182 80.6371C49.1429 80.6371 48.7718 80.7592 48.5049 81.0034C48.2412 81.2475 48.1094 81.5893 48.1094 82.0287V84.8071H46.6201V79.3481H47.748L47.9678 80.2661H48.041C48.2103 79.9601 48.4382 79.7143 48.7246 79.5287C49.0143 79.3399 49.3285 79.2455 49.667 79.2455ZM56.0586 83.7182C56.319 83.7182 56.6315 83.6612 56.9961 83.5473V84.6557C56.625 84.8217 56.1693 84.9047 55.6289 84.9047C55.0332 84.9047 54.5986 84.755 54.3252 84.4555C54.055 84.1528 53.9199 83.7003 53.9199 83.0981V80.4662H53.207V79.8364L54.0273 79.3383L54.457 78.186H55.4092V79.3481H56.9375V80.4662H55.4092V83.0981C55.4092 83.3097 55.4678 83.4659 55.585 83.5668C55.7054 83.6677 55.8633 83.7182 56.0586 83.7182ZM63.1436 84.8071H61.6543V81.6186C61.6543 80.8308 61.3613 80.437 60.7754 80.437C60.3587 80.437 60.0576 80.5786 59.8721 80.8618C59.6865 81.145 59.5938 81.6039 59.5938 82.2387V84.8071H58.1045V77.2094H59.5938V78.7573C59.5938 78.8777 59.5824 79.1609 59.5596 79.6069L59.5254 80.0463H59.6035C59.9355 79.5125 60.4629 79.2455 61.1855 79.2455C61.8268 79.2455 62.3135 79.4181 62.6455 79.7631C62.9775 80.1082 63.1436 80.603 63.1436 81.2475V84.8071ZM66.9375 80.3051C66.6217 80.3051 66.3743 80.406 66.1953 80.6078C66.0163 80.8064 65.9137 81.0896 65.8877 81.4575H67.9775C67.971 81.0896 67.875 80.8064 67.6895 80.6078C67.5039 80.406 67.2533 80.3051 66.9375 80.3051ZM67.1475 84.9047C66.2686 84.9047 65.5817 84.6622 65.0869 84.1772C64.5921 83.6922 64.3447 83.0053 64.3447 82.1166C64.3447 81.2019 64.5726 80.4955 65.0283 79.9975C65.4873 79.4962 66.1204 79.2455 66.9277 79.2455C67.6992 79.2455 68.2998 79.4653 68.7295 79.9047C69.1592 80.3442 69.374 80.9513 69.374 81.726V82.4487H65.8535C65.8698 82.8718 65.9951 83.2023 66.2295 83.4399C66.4639 83.6775 66.7926 83.7963 67.2158 83.7963C67.5446 83.7963 67.8555 83.7621 68.1484 83.6938C68.4414 83.6254 68.7474 83.5164 69.0664 83.3666V84.519C68.806 84.6492 68.5277 84.7452 68.2314 84.8071C67.9352 84.8722 67.5739 84.9047 67.1475 84.9047ZM76.9912 83.186C76.9912 83.7459 76.7959 84.1723 76.4053 84.4653C76.0179 84.7582 75.4368 84.9047 74.6621 84.9047C74.265 84.9047 73.9264 84.8771 73.6465 84.8217C73.3665 84.7696 73.1045 84.6915 72.8604 84.5873V83.3569C73.137 83.4871 73.4479 83.5961 73.793 83.684C74.1413 83.7719 74.4473 83.8159 74.7109 83.8159C75.2513 83.8159 75.5215 83.6596 75.5215 83.3471C75.5215 83.2299 75.4857 83.1355 75.4141 83.0639C75.3424 82.989 75.2188 82.906 75.043 82.8149C74.8672 82.7205 74.6328 82.6114 74.3398 82.4877C73.9199 82.312 73.6107 82.1492 73.4121 81.9995C73.2168 81.8497 73.0736 81.6788 72.9824 81.4868C72.8945 81.2914 72.8506 81.0522 72.8506 80.769C72.8506 80.284 73.0378 79.9096 73.4121 79.6459C73.7897 79.379 74.3236 79.2455 75.0137 79.2455C75.6712 79.2455 76.3109 79.3888 76.9326 79.6752L76.4834 80.7495C76.21 80.6323 75.9544 80.5362 75.7168 80.4614C75.4792 80.3865 75.2367 80.3491 74.9893 80.3491C74.5498 80.3491 74.3301 80.4679 74.3301 80.7055C74.3301 80.839 74.4001 80.9545 74.54 81.0522C74.6833 81.1498 74.9941 81.2947 75.4727 81.4868C75.8991 81.6593 76.2116 81.8204 76.4102 81.9702C76.6087 82.1199 76.7552 82.2924 76.8496 82.4877C76.944 82.683 76.9912 82.9158 76.9912 83.186ZM78.0898 77.937C78.0898 77.4519 78.36 77.2094 78.9004 77.2094C79.4408 77.2094 79.7109 77.4519 79.7109 77.937C79.7109 78.1681 79.6426 78.3487 79.5059 78.4789C79.3724 78.6059 79.1706 78.6694 78.9004 78.6694C78.36 78.6694 78.0898 78.4252 78.0898 77.937ZM79.6426 84.8071H78.1533V79.3481H79.6426V84.8071ZM82.3281 82.019L80.5703 79.3481H82.2598L83.3193 81.0864L84.3887 79.3481H86.0781L84.3008 82.019L86.1611 84.8071H84.4668L83.3193 82.937L82.167 84.8071H80.4775L82.3281 82.019ZM91.3174 84.9047C90.6761 84.9047 90.1715 84.6557 89.8037 84.1577C89.4391 83.6596 89.2568 82.9695 89.2568 82.0873C89.2568 81.1922 89.4424 80.4955 89.8135 79.9975C90.1878 79.4962 90.7021 79.2455 91.3564 79.2455C92.0433 79.2455 92.5674 79.5125 92.9287 80.0463H92.9775C92.9027 79.6394 92.8652 79.2765 92.8652 78.9575V77.2094H94.3594V84.8071H93.2168L92.9287 84.0991H92.8652C92.5267 84.6362 92.0107 84.9047 91.3174 84.9047ZM91.8398 83.7182C92.2207 83.7182 92.499 83.6075 92.6748 83.3862C92.8538 83.1648 92.9515 82.7888 92.9678 82.2582V82.0971C92.9678 81.5112 92.8766 81.0912 92.6943 80.8373C92.5153 80.5834 92.2223 80.4565 91.8154 80.4565C91.4834 80.4565 91.2246 80.5981 91.0391 80.8813C90.8568 81.1612 90.7656 81.5698 90.7656 82.1069C90.7656 82.644 90.8584 83.0476 91.0439 83.3178C91.2295 83.5847 91.4948 83.7182 91.8398 83.7182ZM95.8535 77.937C95.8535 77.4519 96.1237 77.2094 96.6641 77.2094C97.2044 77.2094 97.4746 77.4519 97.4746 77.937C97.4746 78.1681 97.4062 78.3487 97.2695 78.4789C97.1361 78.6059 96.9342 78.6694 96.6641 78.6694C96.1237 78.6694 95.8535 78.4252 95.8535 77.937ZM97.4062 84.8071H95.917V79.3481H97.4062V84.8071ZM103.725 79.3481V80.1049L102.87 80.3246C103.026 80.5688 103.104 80.8422 103.104 81.145C103.104 81.7309 102.899 82.1883 102.489 82.517C102.082 82.8425 101.516 83.0053 100.79 83.0053L100.521 82.9907L100.302 82.9662C100.149 83.0834 100.072 83.2136 100.072 83.3569C100.072 83.5717 100.346 83.6791 100.893 83.6791H101.82C102.419 83.6791 102.875 83.8077 103.188 84.0649C103.503 84.322 103.661 84.6996 103.661 85.1977C103.661 85.8357 103.394 86.3305 102.86 86.6821C102.33 87.0336 101.566 87.2094 100.57 87.2094C99.8086 87.2094 99.2259 87.0759 98.8223 86.809C98.4219 86.5453 98.2217 86.1743 98.2217 85.6957C98.2217 85.367 98.3242 85.0919 98.5293 84.8705C98.7344 84.6492 99.0355 84.4913 99.4326 84.3969C99.2796 84.3318 99.1462 84.226 99.0322 84.0795C98.9183 83.9298 98.8613 83.7719 98.8613 83.6059C98.8613 83.3976 98.9215 83.225 99.042 83.0883C99.1624 82.9483 99.3366 82.8116 99.5645 82.6782C99.278 82.5545 99.0501 82.3559 98.8809 82.0825C98.7148 81.809 98.6318 81.4868 98.6318 81.1157C98.6318 80.52 98.8255 80.0593 99.2129 79.7338C99.6003 79.4083 100.154 79.2455 100.873 79.2455C101.026 79.2455 101.207 79.2602 101.415 79.2895C101.627 79.3155 101.762 79.3351 101.82 79.3481H103.725ZM99.5107 85.5786C99.5107 85.7836 99.6084 85.9448 99.8037 86.062C100.002 86.1791 100.279 86.2377 100.634 86.2377C101.168 86.2377 101.586 86.1645 101.889 86.018C102.191 85.8715 102.343 85.6713 102.343 85.4174C102.343 85.2123 102.253 85.0707 102.074 84.9926C101.895 84.9145 101.618 84.8754 101.244 84.8754H100.473C100.199 84.8754 99.9697 84.9389 99.7842 85.0659C99.6019 85.1961 99.5107 85.367 99.5107 85.5786ZM100.053 81.1352C100.053 81.4314 100.119 81.6658 100.253 81.8383C100.39 82.0108 100.596 82.0971 100.873 82.0971C101.153 82.0971 101.358 82.0108 101.488 81.8383C101.618 81.6658 101.684 81.4314 101.684 81.1352C101.684 80.4776 101.413 80.1489 100.873 80.1489C100.326 80.1489 100.053 80.4776 100.053 81.1352ZM104.564 77.937C104.564 77.4519 104.835 77.2094 105.375 77.2094C105.915 77.2094 106.186 77.4519 106.186 77.937C106.186 78.1681 106.117 78.3487 105.98 78.4789C105.847 78.6059 105.645 78.6694 105.375 78.6694C104.835 78.6694 104.564 78.4252 104.564 77.937ZM106.117 84.8071H104.628V79.3481H106.117V84.8071ZM109.984 83.7182C110.245 83.7182 110.557 83.6612 110.922 83.5473V84.6557C110.551 84.8217 110.095 84.9047 109.555 84.9047C108.959 84.9047 108.524 84.755 108.251 84.4555C107.981 84.1528 107.846 83.7003 107.846 83.0981V80.4662H107.133V79.8364L107.953 79.3383L108.383 78.186H109.335V79.3481H110.863V80.4662H109.335V83.0981C109.335 83.3097 109.394 83.4659 109.511 83.5668C109.631 83.6677 109.789 83.7182 109.984 83.7182ZM119.667 84.8071H118.178V81.6186C118.178 81.2247 118.108 80.9301 117.968 80.7348C117.828 80.5362 117.605 80.437 117.299 80.437C116.882 80.437 116.581 80.5769 116.396 80.8569C116.21 81.1336 116.117 81.5942 116.117 82.2387V84.8071H114.628V79.3481H115.766L115.966 80.0463H116.049C116.215 79.7827 116.443 79.5841 116.732 79.4506C117.025 79.3139 117.357 79.2455 117.729 79.2455C118.363 79.2455 118.845 79.4181 119.174 79.7631C119.503 80.1049 119.667 80.5997 119.667 81.2475V84.8071ZM125.067 84.8071L124.867 84.1088H124.789C124.63 84.3627 124.403 84.5597 124.11 84.6996C123.817 84.8364 123.484 84.9047 123.109 84.9047C122.468 84.9047 121.985 84.7338 121.659 84.392C121.334 84.047 121.171 83.5522 121.171 82.9077V79.3481H122.66V82.5366C122.66 82.9304 122.73 83.2267 122.87 83.4252C123.01 83.6205 123.233 83.7182 123.539 83.7182C123.956 83.7182 124.257 83.5799 124.442 83.3032C124.628 83.0232 124.721 82.561 124.721 81.9164V79.3481H126.21V84.8071H125.067ZM132.66 84.8071H131.171V81.6186C131.171 81.2247 131.104 80.9301 130.971 80.7348C130.84 80.5362 130.634 80.437 130.351 80.437C129.97 80.437 129.693 80.5769 129.521 80.8569C129.348 81.1368 129.262 81.5974 129.262 82.2387V84.8071H127.772V79.3481H128.91L129.11 80.0463H129.193C129.34 79.7957 129.551 79.6004 129.828 79.4604C130.105 79.3172 130.422 79.2455 130.78 79.2455C131.597 79.2455 132.151 79.5125 132.44 80.0463H132.572C132.719 79.7924 132.934 79.5955 133.217 79.4555C133.503 79.3155 133.826 79.2455 134.184 79.2455C134.802 79.2455 135.269 79.405 135.585 79.7241C135.904 80.0398 136.063 80.5476 136.063 81.2475V84.8071H134.569V81.6186C134.569 81.2247 134.503 80.9301 134.369 80.7348C134.239 80.5362 134.032 80.437 133.749 80.437C133.384 80.437 133.111 80.5672 132.929 80.8276C132.75 81.088 132.66 81.5014 132.66 82.0678V84.8071ZM140.634 79.2455C141.278 79.2455 141.783 79.4978 142.147 80.0024C142.512 80.5037 142.694 81.1922 142.694 82.0678C142.694 82.9695 142.506 83.6677 142.128 84.1625C141.754 84.6573 141.243 84.9047 140.595 84.9047C139.953 84.9047 139.451 84.672 139.086 84.2065H138.983L138.734 84.8071H137.597V77.2094H139.086V78.977C139.086 79.2016 139.066 79.5613 139.027 80.0561H139.086C139.434 79.5157 139.95 79.2455 140.634 79.2455ZM140.155 80.437C139.787 80.437 139.519 80.5509 139.35 80.7787C139.18 81.0034 139.092 81.3761 139.086 81.8969V82.058C139.086 82.644 139.172 83.0639 139.345 83.3178C139.521 83.5717 139.797 83.6987 140.175 83.6987C140.481 83.6987 140.723 83.5587 140.902 83.2787C141.085 82.9955 141.176 82.5854 141.176 82.0483C141.176 81.5112 141.085 81.1092 140.902 80.8422C140.72 80.572 140.471 80.437 140.155 80.437ZM146.186 80.3051C145.87 80.3051 145.622 80.406 145.443 80.6078C145.264 80.8064 145.162 81.0896 145.136 81.4575H147.226C147.219 81.0896 147.123 80.8064 146.938 80.6078C146.752 80.406 146.501 80.3051 146.186 80.3051ZM146.396 84.9047C145.517 84.9047 144.83 84.6622 144.335 84.1772C143.84 83.6922 143.593 83.0053 143.593 82.1166C143.593 81.2019 143.821 80.4955 144.276 79.9975C144.735 79.4962 145.368 79.2455 146.176 79.2455C146.947 79.2455 147.548 79.4653 147.978 79.9047C148.407 80.3442 148.622 80.9513 148.622 81.726V82.4487H145.102C145.118 82.8718 145.243 83.2023 145.478 83.4399C145.712 83.6775 146.041 83.7963 146.464 83.7963C146.793 83.7963 147.104 83.7621 147.396 83.6938C147.689 83.6254 147.995 83.5164 148.314 83.3666V84.519C148.054 84.6492 147.776 84.7452 147.479 84.8071C147.183 84.8722 146.822 84.9047 146.396 84.9047ZM152.88 79.2455C153.082 79.2455 153.249 79.2602 153.383 79.2895L153.271 80.686C153.15 80.6534 153.004 80.6371 152.831 80.6371C152.356 80.6371 151.985 80.7592 151.718 81.0034C151.454 81.2475 151.322 81.5893 151.322 82.0287V84.8071H149.833V79.3481H150.961L151.181 80.2661H151.254C151.423 79.9601 151.651 79.7143 151.938 79.5287C152.227 79.3399 152.541 79.2455 152.88 79.2455ZM40.0576 98.8071L39.7695 98.0649H39.7305C39.4798 98.3806 39.221 98.6004 38.9541 98.7241C38.6904 98.8445 38.3454 98.9047 37.9189 98.9047C37.3949 98.9047 36.9814 98.755 36.6787 98.4555C36.3792 98.156 36.2295 97.7296 36.2295 97.1762C36.2295 96.5968 36.4313 96.1703 36.835 95.8969C37.2419 95.6202 37.8538 95.4672 38.6709 95.4379L39.6182 95.4086V95.1694C39.6182 94.616 39.335 94.3393 38.7686 94.3393C38.3324 94.3393 37.8197 94.4711 37.2305 94.7348L36.7373 93.7289C37.3656 93.4002 38.0622 93.2358 38.8271 93.2358C39.5596 93.2358 40.1211 93.3953 40.5117 93.7143C40.9023 94.0333 41.0977 94.5183 41.0977 95.1694V98.8071H40.0576ZM39.6182 96.2778L39.042 96.2973C38.609 96.3103 38.2868 96.3884 38.0752 96.5317C37.8636 96.6749 37.7578 96.893 37.7578 97.186C37.7578 97.6059 37.9987 97.8159 38.4805 97.8159C38.8255 97.8159 39.1006 97.7166 39.3057 97.518C39.514 97.3194 39.6182 97.0558 39.6182 96.727V96.2778ZM46.4443 97.186C46.4443 97.7459 46.249 98.1723 45.8584 98.4653C45.471 98.7582 44.89 98.9047 44.1152 98.9047C43.7181 98.9047 43.3796 98.8771 43.0996 98.8217C42.8197 98.7696 42.5576 98.6915 42.3135 98.5873V97.3569C42.5902 97.4871 42.901 97.5961 43.2461 97.684C43.5944 97.7719 43.9004 97.8159 44.1641 97.8159C44.7044 97.8159 44.9746 97.6596 44.9746 97.3471C44.9746 97.2299 44.9388 97.1355 44.8672 97.0639C44.7956 96.989 44.6719 96.906 44.4961 96.8149C44.3203 96.7205 44.0859 96.6114 43.793 96.4877C43.373 96.312 43.0638 96.1492 42.8652 95.9995C42.6699 95.8497 42.5267 95.6788 42.4355 95.4868C42.3477 95.2914 42.3037 95.0522 42.3037 94.769C42.3037 94.284 42.4909 93.9096 42.8652 93.6459C43.2428 93.379 43.7767 93.2455 44.4668 93.2455C45.1243 93.2455 45.764 93.3888 46.3857 93.6752L45.9365 94.7495C45.6631 94.6323 45.4076 94.5362 45.1699 94.4614C44.9323 94.3865 44.6898 94.3491 44.4424 94.3491C44.0029 94.3491 43.7832 94.4679 43.7832 94.7055C43.7832 94.839 43.8532 94.9545 43.9932 95.0522C44.1364 95.1498 44.4473 95.2947 44.9258 95.4868C45.3522 95.6593 45.6647 95.8204 45.8633 95.9702C46.0618 96.1199 46.2083 96.2924 46.3027 96.4877C46.3971 96.683 46.4443 96.9158 46.4443 97.186ZM53.2021 98.9047C52.5609 98.9047 52.0579 98.672 51.6934 98.2065H51.6152C51.6673 98.6622 51.6934 98.9259 51.6934 98.9975V101.209H50.2041V93.3481H51.415L51.625 94.0561H51.6934C52.0417 93.5157 52.5576 93.2455 53.2412 93.2455C53.8857 93.2455 54.3903 93.4946 54.7549 93.9926C55.1195 94.4907 55.3018 95.1824 55.3018 96.0678C55.3018 96.6505 55.2155 97.1567 55.043 97.5864C54.8737 98.0161 54.6312 98.3432 54.3154 98.5678C53.9997 98.7924 53.6286 98.9047 53.2021 98.9047ZM52.7627 94.437C52.3949 94.437 52.1263 94.5509 51.957 94.7787C51.7878 95.0034 51.6999 95.3761 51.6934 95.8969V96.058C51.6934 96.644 51.7796 97.0639 51.9521 97.3178C52.1279 97.5717 52.4046 97.6987 52.7822 97.6987C53.4495 97.6987 53.7832 97.1485 53.7832 96.0483C53.7832 95.5112 53.7002 95.1092 53.5342 94.8422C53.3714 94.572 53.1143 94.437 52.7627 94.437ZM59.5791 93.2455C59.7809 93.2455 59.9486 93.2602 60.082 93.2895L59.9697 94.686C59.8493 94.6534 59.7028 94.6371 59.5303 94.6371C59.055 94.6371 58.6839 94.7592 58.417 95.0034C58.1533 95.2475 58.0215 95.5893 58.0215 96.0287V98.8071H56.5322V93.3481H57.6602L57.8799 94.2661H57.9531C58.1224 93.9601 58.3503 93.7143 58.6367 93.5287C58.9264 93.3399 59.2406 93.2455 59.5791 93.2455ZM63.334 94.3051C63.0182 94.3051 62.7708 94.406 62.5918 94.6078C62.4128 94.8064 62.3102 95.0896 62.2842 95.4575H64.374C64.3675 95.0896 64.2715 94.8064 64.0859 94.6078C63.9004 94.406 63.6497 94.3051 63.334 94.3051ZM63.5439 98.9047C62.665 98.9047 61.9782 98.6622 61.4834 98.1772C60.9886 97.6922 60.7412 97.0053 60.7412 96.1166C60.7412 95.2019 60.9691 94.4955 61.4248 93.9975C61.8838 93.4962 62.5169 93.2455 63.3242 93.2455C64.0957 93.2455 64.6963 93.4653 65.126 93.9047C65.5557 94.3442 65.7705 94.9513 65.7705 95.726V96.4487H62.25C62.2663 96.8718 62.3916 97.2023 62.626 97.4399C62.8604 97.6775 63.1891 97.7963 63.6123 97.7963C63.9411 97.7963 64.252 97.7621 64.5449 97.6938C64.8379 97.6254 65.1439 97.5164 65.4629 97.3666V98.519C65.2025 98.6492 64.9242 98.7452 64.6279 98.8071C64.3317 98.8722 63.9704 98.9047 63.5439 98.9047ZM70.79 97.186C70.79 97.7459 70.5947 98.1723 70.2041 98.4653C69.8167 98.7582 69.2357 98.9047 68.4609 98.9047C68.0638 98.9047 67.7253 98.8771 67.4453 98.8217C67.1654 98.7696 66.9033 98.6915 66.6592 98.5873V97.3569C66.9359 97.4871 67.2467 97.5961 67.5918 97.684C67.9401 97.7719 68.2461 97.8159 68.5098 97.8159C69.0501 97.8159 69.3203 97.6596 69.3203 97.3471C69.3203 97.2299 69.2845 97.1355 69.2129 97.0639C69.1413 96.989 69.0176 96.906 68.8418 96.8149C68.666 96.7205 68.4316 96.6114 68.1387 96.4877C67.7188 96.312 67.4095 96.1492 67.2109 95.9995C67.0156 95.8497 66.8724 95.6788 66.7812 95.4868C66.6934 95.2914 66.6494 95.0522 66.6494 94.769C66.6494 94.284 66.8366 93.9096 67.2109 93.6459C67.5885 93.379 68.1224 93.2455 68.8125 93.2455C69.4701 93.2455 70.1097 93.3888 70.7314 93.6752L70.2822 94.7495C70.0088 94.6323 69.7533 94.5362 69.5156 94.4614C69.278 94.3865 69.0355 94.3491 68.7881 94.3491C68.3486 94.3491 68.1289 94.4679 68.1289 94.7055C68.1289 94.839 68.1989 94.9545 68.3389 95.0522C68.4821 95.1498 68.793 95.2947 69.2715 95.4868C69.6979 95.6593 70.0104 95.8204 70.209 95.9702C70.4076 96.1199 70.554 96.2924 70.6484 96.4877C70.7428 96.683 70.79 96.9158 70.79 97.186ZM74.2129 94.3051C73.8971 94.3051 73.6497 94.406 73.4707 94.6078C73.2917 94.8064 73.1891 95.0896 73.1631 95.4575H75.2529C75.2464 95.0896 75.1504 94.8064 74.9648 94.6078C74.7793 94.406 74.5286 94.3051 74.2129 94.3051ZM74.4229 98.9047C73.5439 98.9047 72.8571 98.6622 72.3623 98.1772C71.8675 97.6922 71.6201 97.0053 71.6201 96.1166C71.6201 95.2019 71.848 94.4955 72.3037 93.9975C72.7627 93.4962 73.3958 93.2455 74.2031 93.2455C74.9746 93.2455 75.5752 93.4653 76.0049 93.9047C76.4346 94.3442 76.6494 94.9513 76.6494 95.726V96.4487H73.1289C73.1452 96.8718 73.2705 97.2023 73.5049 97.4399C73.7393 97.6775 74.068 97.7963 74.4912 97.7963C74.82 97.7963 75.1309 97.7621 75.4238 97.6938C75.7168 97.6254 76.0228 97.5164 76.3418 97.3666V98.519C76.0814 98.6492 75.8031 98.7452 75.5068 98.8071C75.2106 98.8722 74.8493 98.9047 74.4229 98.9047ZM82.8994 98.8071H81.4102V95.6186C81.4102 95.2247 81.3402 94.9301 81.2002 94.7348C81.0602 94.5362 80.8372 94.437 80.5312 94.437C80.1146 94.437 79.8135 94.5769 79.6279 94.8569C79.4424 95.1336 79.3496 95.5942 79.3496 96.2387V98.8071H77.8604V93.3481H78.998L79.1982 94.0463H79.2812C79.4473 93.7827 79.6751 93.5841 79.9648 93.4506C80.2578 93.3139 80.5898 93.2455 80.9609 93.2455C81.5957 93.2455 82.0775 93.4181 82.4062 93.7631C82.735 94.1049 82.8994 94.5997 82.8994 95.2475V98.8071ZM86.7324 97.7182C86.9928 97.7182 87.3053 97.6612 87.6699 97.5473V98.6557C87.2988 98.8217 86.8431 98.9047 86.3027 98.9047C85.707 98.9047 85.2725 98.755 84.999 98.4555C84.7288 98.1528 84.5938 97.7003 84.5938 97.0981V94.4662H83.8809V93.8364L84.7012 93.3383L85.1309 92.186H86.083V93.3481H87.6113V94.4662H86.083V97.0981C86.083 97.3097 86.1416 97.4659 86.2588 97.5668C86.3792 97.6677 86.5371 97.7182 86.7324 97.7182ZM91.0391 94.3051C90.7233 94.3051 90.4759 94.406 90.2969 94.6078C90.1178 94.8064 90.0153 95.0896 89.9893 95.4575H92.0791C92.0726 95.0896 91.9766 94.8064 91.791 94.6078C91.6055 94.406 91.3548 94.3051 91.0391 94.3051ZM91.249 98.9047C90.3701 98.9047 89.6833 98.6622 89.1885 98.1772C88.6937 97.6922 88.4463 97.0053 88.4463 96.1166C88.4463 95.2019 88.6742 94.4955 89.1299 93.9975C89.5889 93.4962 90.222 93.2455 91.0293 93.2455C91.8008 93.2455 92.4014 93.4653 92.8311 93.9047C93.2607 94.3442 93.4756 94.9513 93.4756 95.726V96.4487H89.9551C89.9714 96.8718 90.0967 97.2023 90.3311 97.4399C90.5654 97.6775 90.8942 97.7963 91.3174 97.7963C91.6462 97.7963 91.957 97.7621 92.25 97.6938C92.543 97.6254 92.849 97.5164 93.168 97.3666V98.519C92.9076 98.6492 92.6292 98.7452 92.333 98.8071C92.0368 98.8722 91.6755 98.9047 91.249 98.9047ZM96.415 98.9047C95.7738 98.9047 95.2692 98.6557 94.9014 98.1577C94.5368 97.6596 94.3545 96.9695 94.3545 96.0873C94.3545 95.1922 94.54 94.4955 94.9111 93.9975C95.2855 93.4962 95.7998 93.2455 96.4541 93.2455C97.141 93.2455 97.665 93.5125 98.0264 94.0463H98.0752C98.0003 93.6394 97.9629 93.2765 97.9629 92.9575V91.2094H99.457V98.8071H98.3145L98.0264 98.0991H97.9629C97.6243 98.6362 97.1084 98.9047 96.415 98.9047ZM96.9375 97.7182C97.3184 97.7182 97.5967 97.6075 97.7725 97.3862C97.9515 97.1648 98.0492 96.7888 98.0654 96.2582V96.0971C98.0654 95.5112 97.9743 95.0912 97.792 94.8373C97.613 94.5834 97.32 94.4565 96.9131 94.4565C96.5811 94.4565 96.3223 94.5981 96.1367 94.8813C95.9544 95.1612 95.8633 95.5698 95.8633 96.1069C95.8633 96.644 95.9561 97.0476 96.1416 97.3178C96.3271 97.5847 96.5924 97.7182 96.9375 97.7182ZM104.799 96.0678C104.799 96.6082 104.887 97.0167 105.062 97.2934C105.242 97.5701 105.531 97.7084 105.932 97.7084C106.329 97.7084 106.614 97.5717 106.786 97.2983C106.962 97.0216 107.05 96.6114 107.05 96.0678C107.05 95.5274 106.962 95.1222 106.786 94.852C106.61 94.5818 106.322 94.4467 105.922 94.4467C105.525 94.4467 105.238 94.5818 105.062 94.852C104.887 95.1189 104.799 95.5242 104.799 96.0678ZM108.573 96.0678C108.573 96.9565 108.339 97.6515 107.87 98.1528C107.401 98.6541 106.749 98.9047 105.912 98.9047C105.388 98.9047 104.926 98.7908 104.525 98.5629C104.125 98.3318 103.817 98.0014 103.603 97.5717C103.388 97.142 103.28 96.6407 103.28 96.0678C103.28 95.1759 103.513 94.4825 103.979 93.9877C104.444 93.4929 105.098 93.2455 105.941 93.2455C106.465 93.2455 106.928 93.3595 107.328 93.5873C107.729 93.8152 108.036 94.1424 108.251 94.5688C108.466 94.9952 108.573 95.4949 108.573 96.0678ZM114.843 98.8071H113.354V95.6186C113.354 95.2247 113.284 94.9301 113.144 94.7348C113.004 94.5362 112.781 94.437 112.475 94.437C112.058 94.437 111.757 94.5769 111.571 94.8569C111.386 95.1336 111.293 95.5942 111.293 96.2387V98.8071H109.804V93.3481H110.941L111.142 94.0463H111.225C111.391 93.7827 111.618 93.5841 111.908 93.4506C112.201 93.3139 112.533 93.2455 112.904 93.2455C113.539 93.2455 114.021 93.4181 114.35 93.7631C114.678 94.1049 114.843 94.5997 114.843 95.2475V98.8071ZM118.192 93.3481H119.823L120.854 96.4194C120.941 96.6863 121.002 97.0021 121.034 97.3666H121.063C121.099 97.0314 121.169 96.7156 121.273 96.4194L122.284 93.3481H123.881L121.571 99.5053C121.36 100.075 121.057 100.501 120.663 100.785C120.272 101.068 119.815 101.209 119.291 101.209C119.034 101.209 118.782 101.182 118.534 101.126V99.9448C118.713 99.9871 118.909 100.008 119.12 100.008C119.384 100.008 119.613 99.9269 119.809 99.7641C120.007 99.6046 120.162 99.3621 120.272 99.0366L120.36 98.768L118.192 93.3481ZM125.854 96.0678C125.854 96.6082 125.941 97.0167 126.117 97.2934C126.296 97.5701 126.586 97.7084 126.986 97.7084C127.383 97.7084 127.668 97.5717 127.841 97.2983C128.017 97.0216 128.104 96.6114 128.104 96.0678C128.104 95.5274 128.017 95.1222 127.841 94.852C127.665 94.5818 127.377 94.4467 126.977 94.4467C126.579 94.4467 126.293 94.5818 126.117 94.852C125.941 95.1189 125.854 95.5242 125.854 96.0678ZM129.628 96.0678C129.628 96.9565 129.394 97.6515 128.925 98.1528C128.456 98.6541 127.803 98.9047 126.967 98.9047C126.443 98.9047 125.98 98.7908 125.58 98.5629C125.18 98.3318 124.872 98.0014 124.657 97.5717C124.442 97.142 124.335 96.6407 124.335 96.0678C124.335 95.1759 124.568 94.4825 125.033 93.9877C125.499 93.4929 126.153 93.2455 126.996 93.2455C127.52 93.2455 127.982 93.3595 128.383 93.5873C128.783 93.8152 129.091 94.1424 129.306 94.5688C129.521 94.9952 129.628 95.4949 129.628 96.0678ZM134.726 98.8071L134.525 98.1088H134.447C134.288 98.3627 134.062 98.5597 133.769 98.6996C133.476 98.8364 133.142 98.9047 132.768 98.9047C132.126 98.9047 131.643 98.7338 131.317 98.392C130.992 98.047 130.829 97.5522 130.829 96.9077V93.3481H132.318V96.5366C132.318 96.9304 132.388 97.2267 132.528 97.4252C132.668 97.6205 132.891 97.7182 133.197 97.7182C133.614 97.7182 133.915 97.5799 134.101 97.3032C134.286 97.0232 134.379 96.561 134.379 95.9164V93.3481H135.868V98.8071H134.726ZM140.478 93.2455C140.679 93.2455 140.847 93.2602 140.98 93.2895L140.868 94.686C140.748 94.6534 140.601 94.6371 140.429 94.6371C139.953 94.6371 139.582 94.7592 139.315 95.0034C139.052 95.2475 138.92 95.5893 138.92 96.0287V98.8071H137.431V93.3481H138.559L138.778 94.2661H138.852C139.021 93.9601 139.249 93.7143 139.535 93.5287C139.825 93.3399 140.139 93.2455 140.478 93.2455ZM52.0889 112.905C51.4476 112.905 50.9447 112.672 50.5801 112.206H50.502C50.554 112.662 50.5801 112.926 50.5801 112.997V115.209H49.0908V107.348H50.3018L50.5117 108.056H50.5801C50.9284 107.516 51.4443 107.246 52.1279 107.246C52.7725 107.246 53.277 107.495 53.6416 107.993C54.0062 108.491 54.1885 109.182 54.1885 110.068C54.1885 110.65 54.1022 111.157 53.9297 111.586C53.7604 112.016 53.5179 112.343 53.2021 112.568C52.8864 112.792 52.5153 112.905 52.0889 112.905ZM51.6494 108.437C51.2816 108.437 51.013 108.551 50.8438 108.779C50.6745 109.003 50.5866 109.376 50.5801 109.897V110.058C50.5801 110.644 50.6663 111.064 50.8389 111.318C51.0146 111.572 51.2913 111.699 51.6689 111.699C52.3363 111.699 52.6699 111.149 52.6699 110.048C52.6699 109.511 52.5869 109.109 52.4209 108.842C52.2581 108.572 52.001 108.437 51.6494 108.437ZM60.458 112.807H58.9688V109.619C58.9688 108.831 58.6758 108.437 58.0898 108.437C57.6732 108.437 57.3721 108.579 57.1865 108.862C57.001 109.145 56.9082 109.604 56.9082 110.239V112.807H55.4189V105.209H56.9082V106.757C56.9082 106.878 56.8968 107.161 56.874 107.607L56.8398 108.046H56.918C57.25 107.512 57.7773 107.246 58.5 107.246C59.1413 107.246 59.6279 107.418 59.96 107.763C60.292 108.108 60.458 108.603 60.458 109.247V112.807ZM63.1777 110.068C63.1777 110.608 63.2656 111.017 63.4414 111.293C63.6204 111.57 63.9102 111.708 64.3105 111.708C64.7077 111.708 64.9925 111.572 65.165 111.298C65.3408 111.022 65.4287 110.611 65.4287 110.068C65.4287 109.527 65.3408 109.122 65.165 108.852C64.9893 108.582 64.7012 108.447 64.3008 108.447C63.9036 108.447 63.6172 108.582 63.4414 108.852C63.2656 109.119 63.1777 109.524 63.1777 110.068ZM66.9521 110.068C66.9521 110.956 66.7178 111.651 66.249 112.153C65.7803 112.654 65.1276 112.905 64.291 112.905C63.7669 112.905 63.3047 112.791 62.9043 112.563C62.5039 112.332 62.1963 112.001 61.9814 111.572C61.7666 111.142 61.6592 110.641 61.6592 110.068C61.6592 109.176 61.8919 108.483 62.3574 107.988C62.8229 107.493 63.4772 107.246 64.3203 107.246C64.8444 107.246 65.3066 107.359 65.707 107.587C66.1074 107.815 66.415 108.142 66.6299 108.569C66.8447 108.995 66.9521 109.495 66.9521 110.068ZM73.2217 112.807H71.7324V109.619C71.7324 109.225 71.6624 108.93 71.5225 108.735C71.3825 108.536 71.1595 108.437 70.8535 108.437C70.4368 108.437 70.1357 108.577 69.9502 108.857C69.7646 109.134 69.6719 109.594 69.6719 110.239V112.807H68.1826V107.348H69.3203L69.5205 108.046H69.6035C69.7695 107.783 69.9974 107.584 70.2871 107.451C70.5801 107.314 70.9121 107.246 71.2832 107.246C71.918 107.246 72.3997 107.418 72.7285 107.763C73.0573 108.105 73.2217 108.6 73.2217 109.247V112.807ZM77.0156 108.305C76.6999 108.305 76.4525 108.406 76.2734 108.608C76.0944 108.806 75.9919 109.09 75.9658 109.457H78.0557C78.0492 109.09 77.9531 108.806 77.7676 108.608C77.582 108.406 77.3314 108.305 77.0156 108.305ZM77.2256 112.905C76.3467 112.905 75.6598 112.662 75.165 112.177C74.6702 111.692 74.4229 111.005 74.4229 110.117C74.4229 109.202 74.6507 108.496 75.1064 107.997C75.5654 107.496 76.1986 107.246 77.0059 107.246C77.7773 107.246 78.3779 107.465 78.8076 107.905C79.2373 108.344 79.4521 108.951 79.4521 109.726V110.449H75.9316C75.9479 110.872 76.0732 111.202 76.3076 111.44C76.542 111.678 76.8708 111.796 77.2939 111.796C77.6227 111.796 77.9336 111.762 78.2266 111.694C78.5195 111.625 78.8255 111.516 79.1445 111.367V112.519C78.8841 112.649 78.6058 112.745 78.3096 112.807C78.0133 112.872 77.652 112.905 77.2256 112.905ZM84.4473 110.068C84.4473 110.608 84.5352 111.017 84.7109 111.293C84.89 111.57 85.1797 111.708 85.5801 111.708C85.9772 111.708 86.262 111.572 86.4346 111.298C86.6104 111.022 86.6982 110.611 86.6982 110.068C86.6982 109.527 86.6104 109.122 86.4346 108.852C86.2588 108.582 85.9707 108.447 85.5703 108.447C85.1732 108.447 84.8867 108.582 84.7109 108.852C84.5352 109.119 84.4473 109.524 84.4473 110.068ZM88.2217 110.068C88.2217 110.956 87.9873 111.651 87.5186 112.153C87.0498 112.654 86.3971 112.905 85.5605 112.905C85.0365 112.905 84.5742 112.791 84.1738 112.563C83.7734 112.332 83.4658 112.001 83.251 111.572C83.0361 111.142 82.9287 110.641 82.9287 110.068C82.9287 109.176 83.1615 108.483 83.627 107.988C84.0924 107.493 84.7467 107.246 85.5898 107.246C86.1139 107.246 86.5762 107.359 86.9766 107.587C87.377 107.815 87.6846 108.142 87.8994 108.569C88.1143 108.995 88.2217 109.495 88.2217 110.068ZM92.499 107.246C92.7008 107.246 92.8685 107.26 93.002 107.289L92.8896 108.686C92.7692 108.653 92.6227 108.637 92.4502 108.637C91.9749 108.637 91.6038 108.759 91.3369 109.003C91.0732 109.247 90.9414 109.589 90.9414 110.029V112.807H89.4521V107.348H90.5801L90.7998 108.266H90.873C91.0423 107.96 91.2702 107.714 91.5566 107.529C91.8464 107.34 92.1605 107.246 92.499 107.246ZM98.8906 111.718C99.151 111.718 99.4635 111.661 99.8281 111.547V112.656C99.457 112.822 99.0013 112.905 98.4609 112.905C97.8652 112.905 97.4307 112.755 97.1572 112.456C96.887 112.153 96.752 111.7 96.752 111.098V108.466H96.0391V107.836L96.8594 107.338L97.2891 106.186H98.2412V107.348H99.7695V108.466H98.2412V111.098C98.2412 111.31 98.2998 111.466 98.417 111.567C98.5374 111.668 98.6953 111.718 98.8906 111.718ZM104.403 112.807L104.115 112.065H104.076C103.826 112.381 103.567 112.6 103.3 112.724C103.036 112.845 102.691 112.905 102.265 112.905C101.741 112.905 101.327 112.755 101.024 112.456C100.725 112.156 100.575 111.73 100.575 111.176C100.575 110.597 100.777 110.17 101.181 109.897C101.588 109.62 102.2 109.467 103.017 109.438L103.964 109.409V109.169C103.964 108.616 103.681 108.339 103.114 108.339C102.678 108.339 102.165 108.471 101.576 108.735L101.083 107.729C101.711 107.4 102.408 107.236 103.173 107.236C103.905 107.236 104.467 107.395 104.857 107.714C105.248 108.033 105.443 108.518 105.443 109.169V112.807H104.403ZM103.964 110.278L103.388 110.297C102.955 110.31 102.632 110.388 102.421 110.532C102.209 110.675 102.104 110.893 102.104 111.186C102.104 111.606 102.344 111.816 102.826 111.816C103.171 111.816 103.446 111.717 103.651 111.518C103.86 111.319 103.964 111.056 103.964 110.727V110.278ZM110.019 107.246C110.663 107.246 111.168 107.498 111.532 108.002C111.897 108.504 112.079 109.192 112.079 110.068C112.079 110.97 111.89 111.668 111.513 112.163C111.138 112.657 110.627 112.905 109.979 112.905C109.338 112.905 108.835 112.672 108.471 112.206H108.368L108.119 112.807H106.981V105.209H108.471V106.977C108.471 107.202 108.451 107.561 108.412 108.056H108.471C108.819 107.516 109.335 107.246 110.019 107.246ZM109.54 108.437C109.172 108.437 108.904 108.551 108.734 108.779C108.565 109.003 108.477 109.376 108.471 109.897V110.058C108.471 110.644 108.557 111.064 108.729 111.318C108.905 111.572 109.182 111.699 109.56 111.699C109.866 111.699 110.108 111.559 110.287 111.279C110.469 110.996 110.561 110.585 110.561 110.048C110.561 109.511 110.469 109.109 110.287 108.842C110.105 108.572 109.856 108.437 109.54 108.437ZM114.799 112.807H113.31V105.209H114.799V112.807ZM118.627 108.305C118.311 108.305 118.064 108.406 117.885 108.608C117.706 108.806 117.603 109.09 117.577 109.457H119.667C119.66 109.09 119.564 108.806 119.379 108.608C119.193 108.406 118.943 108.305 118.627 108.305ZM118.837 112.905C117.958 112.905 117.271 112.662 116.776 112.177C116.282 111.692 116.034 111.005 116.034 110.117C116.034 109.202 116.262 108.496 116.718 107.997C117.177 107.496 117.81 107.246 118.617 107.246C119.389 107.246 119.989 107.465 120.419 107.905C120.849 108.344 121.063 108.951 121.063 109.726V110.449H117.543C117.559 110.872 117.685 111.202 117.919 111.44C118.153 111.678 118.482 111.796 118.905 111.796C119.234 111.796 119.545 111.762 119.838 111.694C120.131 111.625 120.437 111.516 120.756 111.367V112.519C120.495 112.649 120.217 112.745 119.921 112.807C119.625 112.872 119.263 112.905 118.837 112.905ZM124.574 111.718C124.835 111.718 125.147 111.661 125.512 111.547V112.656C125.141 112.822 124.685 112.905 124.145 112.905C123.549 112.905 123.114 112.755 122.841 112.456C122.571 112.153 122.436 111.7 122.436 111.098V108.466H121.723V107.836L122.543 107.338L122.973 106.186H123.925V107.348H125.453V108.466H123.925V111.098C123.925 111.31 123.983 111.466 124.101 111.567C124.221 111.668 124.379 111.718 124.574 111.718ZM126.41 112.109C126.41 111.835 126.483 111.629 126.63 111.489C126.776 111.349 126.99 111.279 127.27 111.279C127.54 111.279 127.748 111.35 127.895 111.494C128.044 111.637 128.119 111.842 128.119 112.109C128.119 112.366 128.044 112.569 127.895 112.719C127.745 112.866 127.536 112.939 127.27 112.939C126.996 112.939 126.785 112.867 126.635 112.724C126.485 112.578 126.41 112.372 126.41 112.109Z",fill:"#020202"}),a.createElement("rect",{x:"22.0687",y:"128.803",width:"132.863",height:"14.1892",rx:"1.44416",fill:"white"}),a.createElement("g",{opacity:"0.5"},a.createElement("path",{d:"M27.7368 137.897H27.2472V134.748C27.2472 134.486 27.2553 134.238 27.2714 134.005C27.2291 134.047 27.1817 134.091 27.1293 134.138C27.077 134.184 26.8372 134.381 26.4101 134.727L26.1441 134.383L27.3137 133.479H27.7368V137.897ZM32.3243 137.897H29.4201V137.465L30.5836 136.296C30.9382 135.937 31.1719 135.681 31.2847 135.528C31.3975 135.375 31.4822 135.226 31.5386 135.081C31.595 134.936 31.6232 134.779 31.6232 134.612C31.6232 134.376 31.5517 134.19 31.4086 134.053C31.2656 133.914 31.0671 133.845 30.8133 133.845C30.6299 133.845 30.4557 133.875 30.2905 133.935C30.1273 133.996 29.9449 134.105 29.7435 134.265L29.4775 133.923C29.8845 133.585 30.3277 133.415 30.8072 133.415C31.2223 133.415 31.5476 133.522 31.7834 133.736C32.0191 133.947 32.137 134.232 32.137 134.591C32.137 134.871 32.0584 135.148 31.9012 135.422C31.7441 135.696 31.4499 136.043 31.0188 136.462L30.0517 137.408V137.432H32.3243V137.897ZM35.7 134.519C35.7 134.801 35.6204 135.031 35.4613 135.211C35.3041 135.39 35.0805 135.51 34.7904 135.57V135.594C35.1449 135.639 35.4079 135.752 35.5791 135.933C35.7504 136.114 35.836 136.352 35.836 136.646C35.836 137.067 35.6899 137.392 35.3978 137.619C35.1057 137.845 34.6906 137.958 34.1527 137.958C33.919 137.958 33.7044 137.94 33.509 137.903C33.3156 137.869 33.1272 137.808 32.9439 137.719V137.241C33.1353 137.336 33.3387 137.409 33.5543 137.459C33.7719 137.507 33.9774 137.532 34.1708 137.532C34.9344 137.532 35.3162 137.232 35.3162 136.634C35.3162 136.098 34.8951 135.83 34.053 135.83H33.6178V135.398H34.059C34.4035 135.398 34.6765 135.322 34.878 135.171C35.0795 135.018 35.1802 134.807 35.1802 134.537C35.1802 134.321 35.1057 134.152 34.9566 134.029C34.8095 133.906 34.609 133.845 34.3552 133.845C34.1618 133.845 33.9794 133.871 33.8082 133.923C33.6369 133.976 33.4415 134.072 33.2219 134.213L32.968 133.875C33.1494 133.732 33.3579 133.62 33.5936 133.539C33.8313 133.457 34.0812 133.415 34.3431 133.415C34.7722 133.415 35.1057 133.514 35.3434 133.712C35.5811 133.907 35.7 134.176 35.7 134.519ZM39.6166 136.882H38.9608V137.897H38.4803V136.882H36.3316V136.444L38.429 133.455H38.9608V136.425H39.6166V136.882ZM38.4803 136.425V134.957C38.4803 134.669 38.4904 134.343 38.5105 133.981H38.4864C38.3897 134.174 38.299 134.334 38.2144 134.461L36.8333 136.425H38.4803ZM41.4269 135.198C41.8923 135.198 42.2579 135.314 42.5239 135.546C42.7918 135.776 42.9258 136.091 42.9258 136.492C42.9258 136.949 42.7798 137.308 42.4876 137.568C42.1975 137.828 41.7966 137.958 41.2848 137.958C40.7872 137.958 40.4074 137.878 40.1455 137.719V137.235C40.2865 137.326 40.4618 137.398 40.6713 137.45C40.8809 137.5 41.0874 137.525 41.2909 137.525C41.6455 137.525 41.9205 137.442 42.1159 137.275C42.3134 137.107 42.4121 136.866 42.4121 136.549C42.4121 135.933 42.0343 135.625 41.2788 135.625C41.0874 135.625 40.8315 135.654 40.5112 135.712L40.2513 135.546L40.4175 133.479H42.6146V133.941H40.8466L40.7348 135.268C40.9665 135.222 41.1972 135.198 41.4269 135.198ZM43.639 136.008C43.639 135.14 43.8073 134.491 44.1437 134.062C44.4822 133.631 44.9819 133.415 45.6427 133.415C45.8704 133.415 46.0497 133.435 46.1806 133.473V133.905C46.0255 133.855 45.8482 133.829 45.6487 133.829C45.1753 133.829 44.8136 133.978 44.5638 134.274C44.314 134.568 44.177 135.031 44.1528 135.664H44.1891C44.4107 135.317 44.7612 135.144 45.2408 135.144C45.6377 135.144 45.9499 135.264 46.1776 135.504C46.4073 135.743 46.5221 136.069 46.5221 136.48C46.5221 136.939 46.3962 137.301 46.1444 137.565C45.8945 137.827 45.5561 137.958 45.1289 137.958C44.6716 137.958 44.3089 137.786 44.041 137.444C43.773 137.099 43.639 136.621 43.639 136.008ZM45.1229 137.532C45.409 137.532 45.6306 137.442 45.7878 137.263C45.9469 137.081 46.0265 136.82 46.0265 136.48C46.0265 136.188 45.953 135.958 45.8059 135.791C45.6588 135.624 45.4392 135.54 45.1471 135.54C44.9657 135.54 44.7995 135.577 44.6484 135.652C44.4973 135.726 44.3764 135.829 44.2858 135.96C44.1971 136.091 44.1528 136.227 44.1528 136.368C44.1528 136.576 44.1931 136.769 44.2737 136.948C44.3543 137.128 44.4681 137.27 44.6152 137.374C44.7643 137.479 44.9335 137.532 45.1229 137.532Z",fill:"black"})),a.createElement("rect",{x:"22.0687",y:"128.803",width:"132.863",height:"14.1892",rx:"1.44416",stroke:"#BDBDBD",strokeWidth:"0.412617"}),a.createElement("rect",{x:"22.4814",y:"162.797",width:"132.037",height:"17.7425",rx:"1.44416",fill:"#2894DF"}),a.createElement("path",{d:"M81.1918 169.367H82.3269L80.5245 174.669H79.2988L77.5 169.367H78.6351L79.6324 172.522C79.688 172.708 79.7448 172.926 79.8028 173.175C79.8633 173.421 79.9008 173.593 79.9153 173.69C79.9419 173.467 80.0325 173.078 80.1872 172.522L81.1918 169.367ZM84.5898 171.325C84.3553 171.325 84.1716 171.4 84.0386 171.55C83.9056 171.698 83.8295 171.908 83.8101 172.181H85.3623C85.3574 171.908 85.2861 171.698 85.1483 171.55C85.0105 171.4 84.8243 171.325 84.5898 171.325ZM84.7458 174.741C84.093 174.741 83.5829 174.561 83.2154 174.201C82.8479 173.841 82.6642 173.331 82.6642 172.671C82.6642 171.991 82.8334 171.467 83.1719 171.097C83.5128 170.724 83.983 170.538 84.5826 170.538C85.1556 170.538 85.6016 170.701 85.9208 171.028C86.2399 171.354 86.3995 171.805 86.3995 172.38V172.917H83.7847C83.7968 173.232 83.8899 173.477 84.064 173.653C84.2381 173.83 84.4822 173.918 84.7965 173.918C85.0407 173.918 85.2716 173.893 85.4892 173.842C85.7068 173.791 85.9341 173.71 86.171 173.599V174.455C85.9776 174.552 85.7709 174.623 85.5509 174.669C85.3308 174.717 85.0625 174.741 84.7458 174.741ZM89.5618 170.538C89.7117 170.538 89.8362 170.549 89.9353 170.571L89.8519 171.608C89.7624 171.584 89.6537 171.572 89.5255 171.572C89.1725 171.572 88.8969 171.662 88.6987 171.844C88.5028 172.025 88.4049 172.279 88.4049 172.605V174.669H87.2988V170.614H88.1366L88.2998 171.296H88.3542C88.4799 171.069 88.6491 170.886 88.8619 170.749C89.077 170.608 89.3103 170.538 89.5618 170.538ZM90.6243 169.566C90.6243 169.206 90.825 169.026 91.2263 169.026C91.6277 169.026 91.8284 169.206 91.8284 169.566C91.8284 169.738 91.7776 169.872 91.676 169.969C91.5769 170.063 91.427 170.11 91.2263 170.11C90.825 170.11 90.6243 169.929 90.6243 169.566ZM91.7776 174.669H90.6715V170.614H91.7776V174.669ZM95.1829 171.445H94.2255V174.669H93.1194V171.445H92.5101V170.912L93.1194 170.614V170.317C93.1194 169.855 93.233 169.518 93.4603 169.305C93.6875 169.092 94.0514 168.986 94.5519 168.986C94.9339 168.986 95.2735 169.043 95.5709 169.157L95.288 169.969C95.0656 169.899 94.8601 169.864 94.6715 169.864C94.5144 169.864 94.4008 169.911 94.3306 170.005C94.2605 170.097 94.2255 170.215 94.2255 170.361V170.614H95.1829V171.445ZM95.2409 170.614H96.4522L97.2173 172.895C97.2826 173.094 97.3274 173.328 97.3515 173.599H97.3733C97.3999 173.35 97.4519 173.115 97.5292 172.895L98.2799 170.614H99.4658L97.7504 175.187C97.5933 175.611 97.3685 175.927 97.0759 176.138C96.7858 176.348 96.4461 176.453 96.0569 176.453C95.8659 176.453 95.6785 176.433 95.4948 176.391V175.514C95.6277 175.545 95.7728 175.561 95.9299 175.561C96.1258 175.561 96.2962 175.501 96.4413 175.38C96.5888 175.261 96.7036 175.081 96.7858 174.839L96.8511 174.64L95.2409 170.614Z",fill:"white"}),a.createElement("rect",{x:"22.4814",y:"162.797",width:"132.037",height:"17.7425",rx:"1.44416",stroke:"#2894DF",strokeWidth:"0.412617"})),a.createElement("defs",null,a.createElement("filter",{id:"filter0_d_1_27469",x:"6.59562",y:"51.5258",width:"167.11",height:"148.201",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a.createElement("feOffset",{dx:"1.65047",dy:"1.65047"}),a.createElement("feGaussianBlur",{stdDeviation:"2.06308"}),a.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1_27469"}),a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1_27469",result:"shape"})),a.createElement("clipPath",{id:"clip0_1_27469"},a.createElement("rect",{width:"76.1816",height:"13.2037",fill:"white",transform:"translate(50.4092 27.594)"}))))}}const ao=so;class no extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleCancelClick=this.handleCancelClick.bind(this),this.handleGetStartedClick=this.handleGetStartedClick.bind(this)}handleGetStartedClick(){this.props.mfaContext.navigate(en)}handleCancelClick(){this.props.mfaContext.goToProviderList()}render(){return a.createElement("div",{className:"grid grid-responsive-12"},a.createElement("div",{className:"row mfa-setup totp-get-started"},a.createElement("div",{className:"col8 main-column how-it-works"},a.createElement("h3",null,a.createElement(w.x6,null,"Getting started with Time based One Time Password (TOTP)")),a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"How does it work?")),a.createElement("div",{className:"instruction"},a.createElement("div",{className:"step sign-in-illustration"},a.createElement(to,null),a.createElement("p",null,a.createElement(w.x6,null,"You sign in to passbolt just like you normally do."))),a.createElement("div",{className:"step phone-illustration"},a.createElement(Qi,null),a.createElement("p",null,a.createElement(w.x6,null,"When using a new browser, you need an additional code from your phone."))),a.createElement("div",{className:"step enter-code-illustration"},a.createElement(ao,null),a.createElement("p",null,a.createElement(w.x6,null,"Once you enter this code, you can log in.")))),a.createElement("div",{className:"actions-wrapper"},a.createElement("button",{className:"button cancel",type:"button",onClick:this.handleCancelClick},a.createElement("span",null,a.createElement(w.x6,null,"Cancel"))),a.createElement("button",{className:"button primary",type:"button",onClick:this.handleGetStartedClick},a.createElement("span",null,a.createElement(w.x6,null,"Get started"))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Requirements")),a.createElement("p",null,a.createElement(w.x6,null,"To proceed you need to install an application that supports Time Based One Time Passwords (TOTP) on your phone or tablet such as:"),a.createElement("a",{href:"https://support.google.com/accounts/answer/1066447",target:"_blank",rel:"noopener noreferrer"},"Google Authenticator")," ",a.createElement(w.x6,null,"or")," ",a.createElement("a",{href:"https://freeotp.github.io/",target:"_blank",rel:"noopener noreferrer"},"FreeOTP"),"."),a.createElement("a",{className:"button",href:"https://help.passbolt.com/start",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation")))))))}}no.propTypes={context:l().object,t:l().func,mfaContext:l().object};const ro=h(on((0,w.CI)("common")(no)));class io extends a.Component{constructor(e){super(e),this.bindCallbacks(),this.state=this.defaultState}formatDate(e){return We.c9.fromJSDate(new Date(e)).setLocale(this.props.context.locale).toLocaleString(We.c9.DATETIME_FULL)}async componentDidMount(){const e=await this.props.context.port.request("passbolt.mfa-setup.verify-provider",{provider:this.props.mfaContext.provider}),t=this.formatDate(e?.verified);this.setState({verifiedDate:t})}get defaultState(){return{verifiedDate:null}}bindCallbacks(){this.handleCancelClick=this.handleCancelClick.bind(this),this.handleDeleteClick=this.handleDeleteClick.bind(this)}getProvider(){return Ki.find((e=>e.id===this.props.mfaContext.provider))}handleCancelClick(){this.props.mfaContext.goToProviderList()}async handleDeleteClick(){await this.props.mfaContext.removeProvider(),this.props.mfaContext.goToProviderList()}get isProcessing(){return this.props.mfaContext.isProcessing()}get title(){return this.props.t(this.getProvider().configuration.title)}get description(){return this.props.t(this.getProvider().configuration.description)}render(){return a.createElement("div",{className:"grid grid-responsive-12"},a.createElement("div",{className:"row mfa-configuration"},a.createElement("div",{className:"col7 main-column"},a.createElement("h3",null,this.title),a.createElement("div",{className:"feedback-card"},a.createElement("div",{className:"illustration icon-feedback"},a.createElement("div",{className:"success"})),a.createElement("div",{className:"additional-information"},a.createElement("p",null,this.description),this.state.verifiedDate&&a.createElement("p",{className:"created date"},this.state.verifiedDate),a.createElement("button",{onClick:this.handleDeleteClick,disabled:this.isProcessing,className:"button warning",role:"button"},"Turn off"))),a.createElement("div",{className:"actions-wrapper",onClick:this.handleCancelClick},a.createElement("button",{className:"button cancel",disabled:this.isProcessing},"Manage providers")))))}}io.propTypes={context:l().object,t:l().func,mfaContext:l().object};const oo=h(on((0,w.CI)("common")(io)));class lo extends a.Component{constructor(e){super(e),this.bindCallbacks(),this.state=this.defaultState,this.createInputRef()}get defaultState(){return{yubikeyCode:"",isSubmitted:!1,error:{isRequired:!1,invalidCode:!1}}}componentDidMount(){this.focusOnOtpInput()}bindCallbacks(){this.handleCancelClick=this.handleCancelClick.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}createInputRef(){this.otpInputRef=a.createRef()}focusOnOtpInput(){this.otpInputRef.current.focus()}setError(e,t){const s=Object.assign({},this.state.error,{[e]:t});this.setState({error:s})}handleInputChange(e){const t=e.target.value;""!==this.state.yubikeyCode&&this.setError("isRequired",!1),this.setState({yubikeyCode:t})}async handleSubmit(e){e.preventDefault();try{this.setState({isSubmitted:!0}),""===this.state.yubikeyCode?this.setError("isRequired",!0):(await this.props.mfaContext.validateYubikeyCode(this.state.yubikeyCode),this.props.mfaContext.navigate(tn),await this.props.mfaContext.findMfaSettings())}catch(e){this.setError("invalidCode",!0)}}handleCancelClick(){this.props.mfaContext.goToProviderList()}hasAllInputDisabled(){return this.props.mfaContext.isProcessing()}render(){return a.createElement("div",{className:"grid grid-responsive-12"},a.createElement("div",{className:"row mfa-setup"},a.createElement("div",{className:"col8 main-column yubikey-setup"},a.createElement("h3",null,"Yubikey One Time Password"),a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("div",{className:"input required"},a.createElement("label",{htmlFor:"yubikey"},"Yubikey OTP"),a.createElement("input",{type:"password",name:"yubikey",autoComplete:"off",onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),ref:this.otpInputRef}),this.state.error.isRequired&&this.state.isSubmitted&&a.createElement("div",{className:"code-required error-message"},a.createElement(w.x6,null,"A OTP code is required.")),this.state.error.invalidCode&&this.state.isSubmitted&&a.createElement("div",{className:"invalid-code error-message"},a.createElement(w.x6,null,"This OTP is not valid."))),a.createElement("div",{className:"helptext"},"Plug in the yubikey and put your finger on it.")),a.createElement("div",{className:"actions-wrapper"},a.createElement("button",{className:"button cancel",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleCancelClick},a.createElement("span",null,a.createElement(w.x6,null,"Cancel"))),a.createElement("button",{className:"button primary",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleSubmit},a.createElement("span",null,a.createElement(w.x6,null,"Validate")))))))}}lo.propTypes={context:l().object,t:l().func,mfaContext:l().object};const co=h(on((0,w.CI)("common")(lo)));class ho extends a.Component{async componentDidMount(){await this.props.mfaContext.findMfaSettings(),await this.props.mfaContext.goToProviderList()}render(){switch(this.props.mfaContext.state){case Xa:return a.createElement(Zi,null);case Qa:return a.createElement(ro,null);case en:return a.createElement(Ji,null);case sn:return a.createElement(co,null);case tn:return a.createElement(oo,null)}}}ho.propTypes={t:l().func,context:l().any.isRequired,mfaContext:l().any.isRequired};const mo=h(on((0,w.CI)("common")(ho)));class po extends a.Component{get canIUseThemeCapability(){return this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("accountSettings")}get canIUseMobileTransferCapability(){return this.props.rbacContext.canIUseUiAction(L)&&this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("mobile")}get canIUseDesktopExportCapability(){return this.props.rbacContext.canIUseUiAction(O)&&this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("desktop")}get canIUseAccountRecoveryCapability(){return this.props.rbacContext.canIUseUiAction(V)&&this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("accountRecovery")}get isMfaChoiceRequired(){return this.props.mfaContext.isMfaChoiceRequired()}render(){const{path:e}=this.props.match;return a.createElement("div",null,a.createElement("div",{className:"header second"},a.createElement(Va,null),a.createElement(xn,{disabled:!0}),a.createElement(cn,{baseUrl:this.props.context.userSettings.getTrustedDomain(),user:this.props.context.loggedInUser})),a.createElement("div",{className:"header third"},a.createElement(Nr,null)),a.createElement("div",{className:"panel main"},a.createElement("div",{className:"panel left"},a.createElement(lr,{hasPendingMfaChoice:this.isMfaChoiceRequired,hasPendingAccountRecoveryChoice:this.props.accountRecoveryContext.isAccountRecoveryChoiceRequired()})),a.createElement("div",{className:"panel middle"},a.createElement(kr,null),a.createElement(i.qh,{path:`${e}/profile`,component:Er}),a.createElement(i.qh,{path:`${e}/passphrase`,component:mi}),a.createElement(i.qh,{path:`${e}/security-token`,component:Si}),this.canIUseThemeCapability&&a.createElement(i.qh,{path:`${e}/theme`,component:yr}),this.canIUseMobileTransferCapability&&a.createElement(i.qh,{path:`${e}/mobile`,component:Oi}),this.canIUseDesktopExportCapability&&a.createElement(i.qh,{path:`${e}/desktop`,component:Gi}),this.canIUseAccountRecoveryCapability&&a.createElement(i.qh,{path:`${e}/account-recovery`,component:zi}),a.createElement(i.qh,{path:`${e}/mfa`,component:mo}),a.createElement(i.qh,{path:`${e}/keys`,component:Ir}))))}}po.propTypes={context:l().any,match:l().any,accountRecoveryContext:l().object,mfaContext:l().object,rbacContext:l().any};const uo=h(pe(da(on((0,i.y)(po)))));class go extends a.Component{constructor(e){super(e),this.initEventHandlers(),this.createReferences()}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this)}createReferences(){this.loginLinkRef=a.createRef()}handleCloseClick(){this.goToLogin()}goToLogin(){this.loginLinkRef.current.click()}get loginUrl(){let e=this.props.context.userSettings&&this.props.context.userSettings.getTrustedDomain();return e=e||this.props.context.trustedDomain,`${e}/auth/login`}render(){return a.createElement(ve,{title:this.props.t("Session Expired"),onClose:this.handleCloseClick,className:"session-expired-dialog"},a.createElement("div",{className:"form-content"},a.createElement("p",null,a.createElement(w.x6,null,"Your session has expired, you need to sign in."))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement("a",{ref:this.loginLinkRef,href:this.loginUrl,className:"primary button",target:"_parent",role:"button",rel:"noopener noreferrer"},a.createElement(w.x6,null,"Sign in"))))}}go.propTypes={context:l().any,t:l().func};const Co=h((0,i.y)((0,w.CI)("common")(go)));class bo extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleSessionExpiredEvent=this.handleSessionExpiredEvent.bind(this)}componentDidMount(){this.props.context.onExpiredSession(this.handleSessionExpiredEvent)}handleSessionExpiredEvent(){this.props.dialogContext.closeAll(),this.props.dialogContext.open(Co)}render(){return a.createElement(a.Fragment,null)}}bo.propTypes={context:l().any,dialogContext:l().any};const Eo=h(k(bo));class fo extends a.Component{get privacyUrl(){return this.props.context.siteSettings.privacyLink}get creditsUrl(){return"https://www.passbolt.com/credits"}get unsafeUrl(){return"https://www.passbolt.com/docs/hosting/faq/why-I-see-unsafe-mode-banner/"}get termsUrl(){return this.props.context.siteSettings.termsLink}get versions(){const e=[],t=this.props.context.siteSettings.version;return t&&e.push(`${this.props.t("Server")} ${t}`),this.props.context.extensionVersion&&e.push(`${this.props.t("Client")} ${this.props.context.extensionVersion}`),e.join(" / ")}get isUnsafeMode(){if(!this.props.context.siteSettings)return!1;const e=this.props.context.siteSettings.debug,t=this.props.context.siteSettings.url.startsWith("http://");return e||t}render(){return a.createElement("footer",null,a.createElement("div",{className:"footer"},a.createElement("ul",{className:"footer-links"},this.isUnsafeMode&&a.createElement("li",{className:"error-message"},a.createElement("a",{href:this.unsafeUrl,target:"_blank",rel:"noopener noreferrer"},a.createElement(w.x6,null,"Unsafe mode"))),this.termsUrl&&a.createElement("li",null,a.createElement("a",{href:this.termsUrl,target:"_blank",rel:"noopener noreferrer"},a.createElement(w.x6,null,"Terms"))),this.privacyUrl&&a.createElement("li",null,a.createElement("a",{href:this.privacyUrl,target:"_blank",rel:"noopener noreferrer"},a.createElement(w.x6,null,"Privacy"))),a.createElement("li",null,a.createElement("a",{href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},a.createElement(w.x6,null,"Credits"))),a.createElement("li",null,this.versions&&a.createElement(fe,{message:this.versions,direction:"left"},a.createElement("a",{href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"heart-o"}))),!this.versions&&a.createElement("a",{href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"heart-o"}))))))}}fo.propTypes={context:l().any,t:l().func};const yo=h((0,w.CI)("common")(fo));class vo extends a.Component{componentDidMount(){this.handleRouteChanged()}handleRouteChanged(){this.props.history.listen((e=>{this.props.context.port.emit("passbolt.app.route-changed",e.pathname)}))}render(){return a.createElement(a.Fragment,null)}}vo.propTypes={context:l().any,history:l().object};const ko=h((0,i.y)(vo));function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},wo.apply(null,arguments)}const xo=a.createContext({selectedAdministration:null,can:{save:!1},must:{save:!1,editSubscriptionKey:!1,refreshSubscriptionKey:!1},administrationWorkspaceAction:null,setDisplayAdministrationWorkspaceAction:()=>{},resetDisplayAdministrationWorkspaceAction:()=>{},onUpdateSubscriptionKeyRequested:()=>{},onSaveEnabled:()=>{},onMustSaveSettings:()=>{},onMustEditSubscriptionKey:()=>{},onMustRefreshSubscriptionKey:()=>{},onResetActionsSettings:()=>{}});class So extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{selectedAdministration:Io.NONE,can:{save:!1},must:{save:!1,editSubscriptionKey:!1,refreshSubscriptionKey:!1},administrationWorkspaceAction:()=>a.createElement(a.Fragment,null),setDisplayAdministrationWorkspaceAction:this.setDisplayAdministrationWorkspaceAction.bind(this),resetDisplayAdministrationWorkspaceAction:this.resetDisplayAdministrationWorkspaceAction.bind(this),onUpdateSubscriptionKeyRequested:this.onUpdateSubscriptionKeyRequested.bind(this),onSaveEnabled:this.handleSaveEnabled.bind(this),onMustSaveSettings:this.handleMustSaveSettings.bind(this),onMustEditSubscriptionKey:this.handleMustEditSubscriptionKey.bind(this),onMustRefreshSubscriptionKey:this.handleMustRefreshSubscriptionKey.bind(this),onResetActionsSettings:this.handleResetActionsSettings.bind(this)}}componentDidMount(){this.handleAdministrationMenuRouteChange()}componentDidUpdate(e){this.handleRouteChange(e.location)}handleSaveEnabled(){this.setState({can:{...this.state.can,save:!0}})}handleMustSaveSettings(){this.setState({must:{...this.state.must,save:!0}})}handleMustEditSubscriptionKey(){this.setState({must:{...this.state.must,editSubscriptionKey:!0}})}handleMustRefreshSubscriptionKey(){this.setState({must:{...this.state.must,refreshSubscriptionKey:!0}})}handleResetActionsSettings(){this.setState({must:{save:!1,test:!1,synchronize:!1,editSubscriptionKey:!1,refreshSubscriptionKey:!1}})}handleRouteChange(e){this.props.location.key!==e.key&&this.handleAdministrationMenuRouteChange()}handleAdministrationMenuRouteChange(){const e={can:{save:!1,test:!1,synchronize:!1},must:{save:!1,test:!1,synchronize:!1,editSubscriptionKey:!1,refreshSubscriptionKey:!1}};if(!this.props.rbacContext.canIUseUiAction(H))return e.selectedAdministration=Io.HTTP_403_ACCESS_DENIED,void this.setState(e);const t=this.props.location.pathname,s=Do.homePage.test(t),a=Do.mfa.test(t),n=Do.mfaPolicy.test(t),r=Do.passwordPolicies.test(t),i=Do.usersDirectory.test(t),o=Do.emailNotification.test(t),l=Do.subscription.test(t),c=Do.internationalization.test(t),d=Do.accountRecovery.test(t),h=Do.smtpSettings.test(t),m=Do.selfRegistration.test(t),p=Do.sso.test(t),u=Do.rbac.test(t),g=Do.userPassphrasePolicies.test(t),C=Do.passwordExpirySettings.test(t),b=Do.healthcheck.test(t);let E;if(s?E=Io.HOME:n?E=Io.MFA_POLICY:r?E=Io.PASSWORD_POLICIES:a?E=Io.MFA:i?E=Io.USER_DIRECTORY:o?E=Io.EMAIL_NOTIFICATION:l?E=Io.SUBSCRIPTION:c?E=Io.INTERNATIONALIZATION:d?E=Io.ACCOUNT_RECOVERY:h?E=Io.SMTP_SETTINGS:m?E=Io.SELF_REGISTRATION:p?E=Io.SSO:u?E=Io.RBAC:g?E=Io.USER_PASSPHRASE_POLICIES:C?E=Io.PASSWORD_EXPIRY:b&&(E=Io.HEALTHCHECK),!E)return e.selectedAdministration=Io.HTTP_404_NOT_FOUND,void this.setState(e);if(s)return void this.setState(e);const f=_o?.[E];e.selectedAdministration=f&&!this.props.context.siteSettings.canIUse(f)?Io.HTTP_404_NOT_FOUND:E,this.setState(e)}setDisplayAdministrationWorkspaceAction(e){this.setState({administrationWorkspaceAction:e})}resetDisplayAdministrationWorkspaceAction(){this.setState({administrationWorkspaceAction:()=>a.createElement(a.Fragment,null)})}onUpdateSubscriptionKeyRequested(e){return this.props.context.port.request("passbolt.subscription.update",e)}render(){return a.createElement(xo.Provider,{value:this.state},this.props.children)}}So.displayName="AdministrationWorkspaceContextProvider",So.propTypes={context:l().object,children:l().any,location:l().object,match:l().object,history:l().object,loadingContext:l().object,rbacContext:l().object};const No=(0,i.y)(h(pe(He(So))));function Ro(e){return class extends a.Component{render(){return a.createElement(xo.Consumer,null,(t=>a.createElement(e,wo({administrationWorkspaceContext:t},this.props))))}}}const Io={NONE:"NONE",HOME:"HOME",MFA:"MFA",MFA_POLICY:"MFA-POLICY",PASSWORD_POLICIES:"PASSWORD-POLICIES",USER_DIRECTORY:"USER-DIRECTORY",EMAIL_NOTIFICATION:"EMAIL-NOTIFICATION",SUBSCRIPTION:"SUBSCRIPTION",INTERNATIONALIZATION:"INTERNATIONALIZATION",ACCOUNT_RECOVERY:"ACCOUNT-RECOVERY",SMTP_SETTINGS:"SMTP-SETTINGS",SELF_REGISTRATION:"SELF-REGISTRATION",SSO:"SSO",RBAC:"RBAC",USER_PASSPHRASE_POLICIES:"USER-PASSPHRASE-POLICIES",PASSWORD_EXPIRY:"PASSWORD-EXPIRY",HTTP_403_ACCESS_DENIED:"403-ACCESS-DENIED",HTTP_404_NOT_FOUND:"404-NOT-FOUND",HEALTHCHECK:"HEALTHCHECK"},_o={[Io.MFA]:"multiFactorAuthentication",[Io.MFA_POLICY]:"mfaPolicies",[Io.PASSWORD_POLICIES]:"passwordPoliciesUpdate",[Io.USER_DIRECTORY]:"directorySync",[Io.SUBSCRIPTION]:"ee",[Io.INTERNATIONALIZATION]:"locale",[Io.ACCOUNT_RECOVERY]:"accountRecovery",[Io.SMTP_SETTINGS]:"smtpSettings",[Io.SELF_REGISTRATION]:"selfRegistration",[Io.SSO]:"sso",[Io.RBAC]:"rbacs",[Io.USER_PASSPHRASE_POLICIES]:"userPassphrasePolicies",[Io.PASSWORD_EXPIRY]:"passwordExpiry",[Io.HEALTHCHECK]:"healthcheckUi"},Do={homePage:/^\/app\/administration\/?$/,mfa:/^\/app\/administration\/mfa\/?$/,mfaPolicy:/^\/app\/administration\/mfa-policy\/?$/,passwordPolicies:/^\/app\/administration\/password-policies\/?$/,usersDirectory:/^\/app\/administration\/users-directory\/?$/,emailNotification:/^\/app\/administration\/email-notification\/?$/,subscription:/^\/app\/administration\/subscription\/?$/,internationalization:/^\/app\/administration\/internationalization\/?$/,accountRecovery:/^\/app\/administration\/account-recovery\/?$/,smtpSettings:/^\/app\/administration\/smtp-settings\/?$/,selfRegistration:/^\/app\/administration\/self-registration\/?$/,sso:/^\/app\/administration\/sso\/?$/,rbac:/^\/app\/administration\/rbacs\/?$/,userPassphrasePolicies:/^\/app\/administration\/user-passphrase-policies\/?$/,passwordExpirySettings:/^\/app\/administration\/password-expiry\/?$/,healthcheck:/^\/app\/administration\/healthcheck\/?$/};function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},To.apply(null,arguments)}const Po=a.createContext({announcements:[],show:()=>{},close:()=>{}});class Ao extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{announcements:[],show:(e,t)=>{const s=(0,E.A)();return this.setState({announcements:[...this.state.announcements,{key:s,Announcement:e,AnnouncementProps:t}]}),s},close:async e=>await this.setState({announcements:this.state.announcements.filter((t=>e!==t.key))})}}render(){return a.createElement(Po.Provider,{value:this.state},this.props.children)}}function Mo(e){return class extends a.Component{render(){return a.createElement(Po.Consumer,null,(t=>a.createElement(e,To({announcementContext:t},this.props))))}}}function Uo(){return Uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Uo.apply(null,arguments)}Ao.displayName="AnnouncementContextProvider",Ao.propTypes={children:l().any};class Fo extends a.Component{constructor(e){super(e),this.bindCallback()}bindCallback(){this.close=this.close.bind(this)}async close(e){this.props.announcementContext.close(e)}render(){return a.createElement(a.Fragment,null,this.props.announcementContext.announcements.map((({key:e,Announcement:t,AnnouncementProps:s})=>a.createElement(t,Uo({key:e,onClose:()=>this.close(e)},s)))),this.props.children)}}Fo.propTypes={announcementContext:l().any,children:l().any};const Lo=Mo(Fo);class Oo extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleClose=this.handleClose.bind(this)}handleClose(){this.props.onClose()}render(){return a.createElement("div",{className:`${this.props.className} announcement`},a.createElement("div",{className:"announcement-content"},this.props.canClose&&a.createElement("button",{type:"button",className:"announcement-close dialog-close button-transparent",onClick:this.handleClose},a.createElement(ge,{name:"close"}),a.createElement("span",{className:"visually-hidden"},a.createElement(w.x6,null,"Close"))),this.props.children))}}Oo.propTypes={children:l().node,className:l().string,canClose:l().bool,onClose:l().func};const Vo=(0,w.CI)("common")(Oo);class Ho extends a.Component{render(){return a.createElement(Vo,{className:"subscription",onClose:this.props.onClose,canClose:!0},a.createElement("p",null,a.createElement(w.x6,null,"Warning:"),"",a.createElement(w.x6,null,"your subscription key will expire")," ",nt(this.props.expiry,this.props.t,this.props.context.locale),".",a.createElement("button",{className:"link",type:"button",onClick:this.props.navigationContext.onGoToAdministrationSubscriptionRequested},a.createElement(w.x6,null,"Manage Subscription"))))}}Ho.propTypes={context:l().any,expiry:l().string,navigationContext:l().any,onClose:l().func,t:l().func};const qo=h(b(Mo((0,w.CI)("common")(Ho))));class jo extends a.Component{render(){return a.createElement(Vo,{className:"subscription",onClose:this.props.onClose,canClose:!1},a.createElement("p",null,a.createElement(w.x6,null,"Warning:"),"",a.createElement(w.x6,null,"your subscription requires your attention. The stability of the application is at risk."),a.createElement("button",{className:"link",type:"button",onClick:this.props.navigationContext.onGoToAdministrationSubscriptionRequested},a.createElement(w.x6,null,"Manage Subscription"))))}}jo.propTypes={navigationContext:l().any,onClose:l().func,i18n:l().any};const Wo=b(Mo((0,w.CI)("common")(jo)));class zo extends a.Component{render(){return a.createElement(Vo,{className:"subscription",onClose:this.props.onClose,canClose:!1},a.createElement("p",null,a.createElement(w.x6,null,"Warning:"),"",a.createElement(w.x6,null,"your subscription key is not valid. The stability of the application is at risk."),a.createElement("button",{className:"link",type:"button",onClick:this.props.navigationContext.onGoToAdministrationSubscriptionRequested},a.createElement(w.x6,null,"Manage Subscription"))))}}zo.propTypes={navigationContext:l().any,onClose:l().func,i18n:l().any};const Bo=b(Mo((0,w.CI)("common")(zo)));class Go extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleAnnouncementSubscriptionEvent=this.handleAnnouncementSubscriptionEvent.bind(this)}componentDidMount(){this.handleAnnouncementSubscriptionEvent()}componentDidUpdate(e){this.handleRefreshSubscriptionAnnouncement(e.context.refreshSubscriptionAnnouncement)}async handleRefreshSubscriptionAnnouncement(e){this.props.context.refreshSubscriptionAnnouncement!==e&&this.props.context.refreshSubscriptionAnnouncement&&(await this.handleAnnouncementSubscriptionEvent(),this.props.context.setContext({refreshSubscriptionAnnouncement:null}))}async handleAnnouncementSubscriptionEvent(){this.hideSubscriptionAnnouncement();try{const e=await this.props.context.onGetSubscriptionKeyRequested();this.isSubscriptionGoingToExpire(e.expiry)&&this.props.announcementContext.show(qo,{expiry:e.expiry})}catch(e){"PassboltSubscriptionError"===e.name?this.props.announcementContext.show(Wo):this.props.announcementContext.show(Bo)}}hideSubscriptionAnnouncement(){const e=[qo,Wo,Bo];this.props.announcementContext.announcements.forEach((t=>{e.some((e=>e===t.Announcement))&&this.props.announcementContext.close(t.key)}))}isSubscriptionGoingToExpire(e){return We.c9.fromISO(e)<We.c9.now().plus({days:30})}render(){return a.createElement(a.Fragment,null)}}Go.propTypes={context:l().any,announcementContext:l().any};const Ko=h(Mo(Go));class $o{constructor(e){this.settings=e}get id(){return this.settings["user.id"]}get fullName(){return`${this.settings["user.firstname"]} ${this.settings["user.lastname"]}`}get username(){return this.settings["user.username"]}getTheme(){return this.settings["user.settings.theme"]}getTrustedDomain(){return this.settings["user.settings.trustedDomain"]}getSecurityToken(){return{code:this.settings["user.settings.securityToken.code"],backgroundColor:this.settings["user.settings.securityToken.color"],textColor:this.settings["user.settings.securityToken.textColor"]}}get locale(){return this.settings["user.settings.locale"]}}class Zo extends ne{constructor(e,t={}){super(se.validate(Zo.ENTITY_NAME,e,Zo.getSchema()),t)}static getSchema(){return{type:"object",required:["id","name"],properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:255}}}}get id(){return this._props.id}get name(){return this._props.name}static get ENTITY_NAME(){return"Action"}}const Yo=Zo;class Jo extends ne{constructor(e,t={}){super(se.validate(Jo.ENTITY_NAME,e,Jo.getSchema()),t)}static getSchema(){return{type:"object",required:["id","name"],properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:255}}}}get id(){return this._props.id}get name(){return this._props.name}static get ENTITY_NAME(){return"UiAction"}}const Xo=Jo;class Qo extends ne{constructor(e,t={}){super(se.validate(Qo.ENTITY_NAME,e,Qo.getSchema()),t),this._props.action&&(this._action=new Yo(this._props.action,{clone:!1})),delete this._props.action,this._props.ui_action&&(this._ui_action=new Xo(this._props.ui_action,{clone:!1})),delete this._props.ui_action}static getSchema(){return{type:"object",required:["id","role_id","foreign_model","foreign_id","control_function"],properties:{id:{type:"string",format:"uuid"},role_id:{type:"string",format:"uuid"},foreign_model:{type:"string",enum:[Qo.FOREIGN_MODEL_ACTION,Qo.FOREIGN_MODEL_UI_ACTION]},foreign_id:{type:"string",format:"uuid"},control_function:{type:"string",enum:[j,W,z]},action:Yo.getSchema(),ui_action:Xo.getSchema()}}}toDto(e){const t=Object.assign({},this._props);return e?(this._action&&e.action&&(t.action=this._action.toDto()),this._ui_action&&e.ui_action&&(t.ui_action=this._ui_action.toDto()),t):t}toUpdateDto(){return{id:this.id,control_function:this.controlFunction}}toJSON(){return this.toDto(Qo.ALL_CONTAIN_OPTIONS)}get id(){return this._props.id}get roleId(){return this._props.role_id}get foreignModel(){return this._props.foreign_model}get foreignId(){return this._props.foreign_id}get controlFunction(){return this._props.control_function}set controlFunction(e){se.validateProp("control_function",e,Qo.getSchema().properties.control_function),this._props.control_function=e}get action(){return this._action||null}get uiAction(){return this._ui_action||null}static get ENTITY_NAME(){return"Rbac"}static get ALL_CONTAIN_OPTIONS(){return{action:!0,ui_action:!0}}static get FOREIGN_MODEL_ACTION(){return"Action"}static get FOREIGN_MODEL_UI_ACTION(){return"UiAction"}}const el=Qo;class tl extends Je{constructor(e,t=!1){super(se.validate(tl.ENTITY_NAME,e,tl.getSchema())),this._props.forEach((e=>{try{this._items.push(new el(e))}catch(e){if(!t)throw e}})),this._props=null}static getSchema(){return{type:"array",items:el.getSchema()}}get rbacs(){return this._items}toBulkUpdateDto(){return this.items.map((e=>e.toUpdateDto()))}findRbacByRoleAndUiActionName(e,t){if(!(e instanceof oe))throw new Error("The role parameter should be a role entity.");if("string"!=typeof t&&!(t instanceof String))throw new Error("The name parameter should be a valid string.");return this.rbacs.find((s=>s.roleId===e.id&&s.uiAction?.name===t))}findRbacByActionName(e){if("string"!=typeof e&&!(e instanceof String))throw new Error("The name parameter should be a valid string.");return this.rbacs.find((t=>t.uiAction?.name===e))}push(e){if(!e||"object"!=typeof e)throw new TypeError("The function expect an object as parameter");e instanceof el&&(e=e.toDto(el.ALL_CONTAIN_OPTIONS));const t=new el(e);super.push(t)}addOrReplace(e){const t=this.items.findIndex((t=>t.id===e.id));t>-1?this._items[t]=e:this.push(e)}remove(e){const t=this.items.length;let s=0;for(;s<t;s++)if(this.items[s].id===e.id)return void this._items.splice(s,1)}static get ENTITY_NAME(){return"Rbacs"}static get RULE_UNIQUE_ID(){return"unique_id"}}const sl=tl;var al=s(23118);class nl extends re{marshall(){Object.assign(this._props,{type:nl.TYPE_ACCOUNT})}static getSchema(){return{type:"object",required:["type","domain","user_id","username","first_name","last_name","user_public_armored_key","server_public_armored_key"],properties:{type:{type:"string",enum:[nl.TYPE_ACCOUNT]},domain:{type:"string"},user_id:{type:"string",format:"uuid"},user_key_fingerprint:{type:"string",minLength:40,maxLength:40,pattern:/^[A-F0-9]{40}$/},user_public_armored_key:{type:"string"},server_public_armored_key:{type:"string"},username:{type:"string"},first_name:{type:"string"},last_name:{type:"string"},locale:{type:"string",pattern:/^[a-z]{2}-[A-Z]{2}$/,nullable:!0},role_name:{...oe.getSchema().properties.name,nullable:!0}}}}get id(){return this.domain&&this.userId?(0,al.A)(`${this.domain}${this.userId}`,"d5447ca1-950f-459d-8b20-86ddfdd0f922"):null}get domain(){return this._props.domain}get userId(){return this._props.user_id}static get ENTITY_NAME(){return"Account"}static get TYPE_ACCOUNT(){return"Account"}}const rl=nl;class il extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(e),this.bindCallbacks(),this.initEventHandlers()}async componentDidMount(){await this.getSiteSettings(),await this.getExtensionVersion(),this.getUserSettings(),this.getLoggedInUser(),this.initLocale(),this.getResources(),this.getFolders(),this.getGroups(),this.getUsers(),this.getRoles(),this.getAccount();const e=document.getElementById("temporary-skeleton");e&&e.remove()}bindCallbacks(){this.handleStorageChange=this.handleStorageChange.bind(this),this.handleIsReadyEvent=this.handleIsReadyEvent.bind(this)}initEventHandlers(){this.props.storage.onChanged.addListener(this.handleStorageChange)}getDefaultState(e){return{name:"browser-extension",port:e.port,storage:e.storage,user:null,resources:null,folders:null,users:null,groups:null,loggedInUser:null,account:null,rbacs:null,siteSettings:null,userSettings:null,extensionVersion:null,locale:null,isSessionLogoutByUser:!1,setContext:e=>{this.setState(e)},passphraseRequestId:"",folder:{},folderMoveStrategyProps:{requestId:null,folderId:null,foldersIds:[],resourcesIds:[]},shareDialogProps:{foldersIds:null,resourcesIds:null},editUserDialogProps:{id:null},deleteUserDialogProps:{user:null},deleteUserWithConflictsDialogProps:{user:null,errors:{}},tagToEdit:null,tagToDelete:null,deleteGroupDialogProps:{group:null,numberResourcesOwned:null},deleteGroupWithConflictsDialogProps:{group:null,errors:{}},resourceCommentId:null,mustRefreshComments:!1,onLogoutRequested:()=>this.onLogoutRequested(),onExpiredSession:this.onExpiredSession.bind(this),onGetSubscriptionKeyRequested:()=>this.onGetSubscriptionKeyRequested(),onUpdateLocaleRequested:this.onUpdateLocaleRequested.bind(this)}}handleIsReadyEvent(e){this.isReady()?this.props.port.emit(e,"SUCCESS"):this.props.port.emit(e,"ERROR")}isReady(){return null!==this.state.loggedInUser&&null!==this.state.rbacs&&null!==this.state.userSettings&&null!==this.state.siteSettings&&null!==this.state.locale}async getLoggedInUser(){const e=this.state.siteSettings.canIUse("rbacs"),t=await this.props.port.request("passbolt.users.find-logged-in-user"),s=e?await this.props.port.request("passbolt.rbacs.find-me"):[],a=new sl(s);this.setState({loggedInUser:t,rbacs:a})}async getSiteSettings(){const e=await this.props.port.request("passbolt.organization-settings.get"),t=new Un(e);this.setState({siteSettings:t})}async getExtensionVersion(){const e=await this.props.port.request("passbolt.addon.get-version");this.setState({extensionVersion:e})}async getResources(){const e=await this.props.storage.local.get(["resources"]);if(e.resources){const t=e.resources;this.setState({resources:t})}}async getFolders(){const e=await this.props.storage.local.get(["folders"]);if(e.folders){const t=e.folders;this.setState({folders:t})}}async getGroups(){const e=await this.props.storage.local.get(["groups"]);if(e.groups){const t=e.groups;this.setState({groups:t})}}async getUsers(){const e=await this.props.storage.local.get(["users"]);if(e.users&&e.users.length){const t=e.users;this.setState({users:t})}}async getRoles(){const e=await this.props.port.request("passbolt.role.get-all");this.setState({roles:e})}async getUserSettings(){const e=await this.props.storage.local.get(["_passbolt_data"]),t=new $o(e._passbolt_data.config);this.setState({userSettings:t})}async initLocale(){const{locale:e}=await this.props.port.request("passbolt.locale.get");this.setState({locale:e})}async getAccount(){const e=await this.props.port.request("passbolt.account.get"),t=new rl(e);this.setState({account:t})}handleStorageChange(e){if(e.resources&&e.resources.newValue){const t=e.resources.newValue;this.setState({resources:t})}if(e._passbolt_data&&e._passbolt_data.newValue){const t=e._passbolt_data.newValue,s=new $o(t.config);this.setState({userSettings:s})}if(e.folders&&e.folders.newValue){const t=e.folders.newValue;this.setState({folders:t})}if(e.users&&e.users.newValue){const t=e.users.newValue;this.setState({users:t})}if(e.groups&&e.groups.newValue){const t=e.groups.newValue;this.setState({groups:t})}if(e.roles&&e.roles.newValue){const t=e.roles.newValue;this.setState({roles:t})}}onLogoutRequested(){this.setState({isSessionLogoutByUser:!0},(()=>this.props.port.request("passbolt.auth.logout",!0)))}onExpiredSession(e){this.props.port.on("passbolt.auth.after-logout",(()=>{this.state.isSessionLogoutByUser||(e(),this.setState({resources:[]}))}))}async onGetSubscriptionKeyRequested(){return await this.props.port.request("passbolt.subscription.get")}async onUpdateLocaleRequested(){const{locale:e}=await this.props.port.request("passbolt.locale.get");this.setState({locale:e})}render(){return a.createElement(m.Provider,{value:this.state},this.isReady()&&this.props.children)}}il.propTypes={port:l().object,storage:l().object,children:l().any};const ol=il;var ll=s(72635),cl=s(1347);class dl extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{ready:!1}}async componentDidMount(){await ll.Ay.use(w.r9).use(cl.A).init({lng:this.locale,load:"currentOnly",interpolation:{escapeValue:!1},react:{useSuspense:!1},backend:{loadPath:this.props.loadingPath||"/locales/{{lng}}/{{ns}}.json"},supportedLngs:this.supportedLocales,fallbackLng:!1,ns:["common"],defaultNS:"common",keySeparator:!1,nsSeparator:!1,debug:!1}),this.setState({ready:!0})}get supportedLocales(){return this.props.context.siteSettings?.supportedLocales?this.props.context.siteSettings?.supportedLocales.map((e=>e.locale)):[this.locale]}get locale(){return this.props.context.locale}async componentDidUpdate(e){await this.handleLocaleChange(e.context.locale)}async handleLocaleChange(e){this.locale!==e&&await ll.Ay.changeLanguage(this.locale)}get isReady(){return this.state.ready}render(){return a.createElement(a.Fragment,null,this.isReady&&this.props.children)}}dl.propTypes={context:l().any,loadingPath:l().any,children:l().any};const hl=h(dl);class ml extends a.Component{constructor(e){super(e),this.bindCallbacks()}canIUse(e){return Boolean(this.props.context.siteSettings?.canIUse(e))}get isMfaEnabled(){return this.canIUse("multiFactorAuthentication")}get isUserDirectoryEnabled(){return this.canIUse("directorySync")}get canIUseEE(){return this.canIUse("ee")}get canIUseLocale(){return this.canIUse("locale")}get canIUseAccountRecovery(){return this.canIUse("accountRecovery")}get canIUseSmtpSettings(){return this.canIUse("smtpSettings")}get canIUseSelfRegistrationSettings(){return this.canIUse("selfRegistration")}get canIUseSso(){return this.canIUse("sso")}get canIUseMfaPolicy(){return this.canIUse("mfaPolicies")}get canIUsePasswordPolicies(){return this.canIUse("passwordPoliciesUpdate")}get canIUseRbacs(){return this.canIUse("rbacs")}get canIUseUserPassphrasePolicies(){return this.canIUse("userPassphrasePolicies")}get canIUsePasswordExpiry(){return this.canIUse("passwordExpiry")}get canIUseHealthcheck(){return this.canIUse("healthcheckUi")}bindCallbacks(){this.handleMfaClick=this.handleMfaClick.bind(this),this.handleUserDirectoryClick=this.handleUserDirectoryClick.bind(this),this.handleEmailNotificationsClick=this.handleEmailNotificationsClick.bind(this),this.handleSubscriptionClick=this.handleSubscriptionClick.bind(this),this.handleInternationalizationClick=this.handleInternationalizationClick.bind(this),this.handleAccountRecoveryClick=this.handleAccountRecoveryClick.bind(this),this.handleSmtpSettingsClick=this.handleSmtpSettingsClick.bind(this),this.handleSelfRegistrationClick=this.handleSelfRegistrationClick.bind(this),this.handleSsoClick=this.handleSsoClick.bind(this),this.handleMfaPolicyClick=this.handleMfaPolicyClick.bind(this),this.handleRbacsClick=this.handleRbacsClick.bind(this),this.handlePasswordPoliciesClick=this.handlePasswordPoliciesClick.bind(this),this.handleUserPassphrasePoliciesClick=this.handleUserPassphrasePoliciesClick.bind(this),this.handlePasswordExpirySettingsClick=this.handlePasswordExpirySettingsClick.bind(this),this.handleHealthcheckClick=this.handleHealthcheckClick.bind(this)}handleMfaClick(){this.props.navigationContext.onGoToAdministrationMfaRequested()}handleUserDirectoryClick(){this.props.navigationContext.onGoToAdministrationUsersDirectoryRequested()}handleEmailNotificationsClick(){this.props.navigationContext.onGoToAdministrationEmailNotificationsRequested()}handleSubscriptionClick(){this.props.navigationContext.onGoToAdministrationSubscriptionRequested()}handleInternationalizationClick(){this.props.navigationContext.onGoToAdministrationInternationalizationRequested()}handleAccountRecoveryClick(){this.props.navigationContext.onGoToAdministrationAccountRecoveryRequested()}handleSmtpSettingsClick(){this.props.navigationContext.onGoToAdministrationSmtpSettingsRequested()}handleSelfRegistrationClick(){this.props.navigationContext.onGoToAdministrationSelfRegistrationRequested()}handleSsoClick(){this.props.navigationContext.onGoToAdministrationSsoRequested()}handleRbacsClick(){this.props.navigationContext.onGoToAdministrationRbacsRequested()}handleMfaPolicyClick(){this.props.navigationContext.onGoToAdministrationMfaPolicyRequested()}handlePasswordPoliciesClick(){this.props.navigationContext.onGoToAdministrationPasswordPoliciesRequested()}handleUserPassphrasePoliciesClick(){this.props.navigationContext.onGoToAdministrationUserPassphrasePoliciesRequested()}handlePasswordExpirySettingsClick(){this.props.navigationContext.onGoToAdministrationPasswordExpirySettingsRequested()}handleHealthcheckClick(){this.props.navigationContext.onGoToAdministrationHealthcheckRequested()}isMfaSelected(){return Io.MFA===this.props.administrationWorkspaceContext.selectedAdministration}isMfaPolicySelected(){return Io.MFA_POLICY===this.props.administrationWorkspaceContext.selectedAdministration}isPasswordPoliciesSelected(){return Io.PASSWORD_POLICIES===this.props.administrationWorkspaceContext.selectedAdministration}isUserDirectorySelected(){return Io.USER_DIRECTORY===this.props.administrationWorkspaceContext.selectedAdministration}isEmailNotificationsSelected(){return Io.EMAIL_NOTIFICATION===this.props.administrationWorkspaceContext.selectedAdministration}isSubscriptionSelected(){return Io.SUBSCRIPTION===this.props.administrationWorkspaceContext.selectedAdministration}isInternationalizationSelected(){return Io.INTERNATIONALIZATION===this.props.administrationWorkspaceContext.selectedAdministration}isAccountRecoverySelected(){return Io.ACCOUNT_RECOVERY===this.props.administrationWorkspaceContext.selectedAdministration}isSsoSelected(){return Io.SSO===this.props.administrationWorkspaceContext.selectedAdministration}isRbacSelected(){return Io.RBAC===this.props.administrationWorkspaceContext.selectedAdministration}isSmtpSettingsSelected(){return Io.SMTP_SETTINGS===this.props.administrationWorkspaceContext.selectedAdministration}isSelfRegistrationSettingsSelected(){return Io.SELF_REGISTRATION===this.props.administrationWorkspaceContext.selectedAdministration}isUserPassphrasePoliciesSelected(){return Io.USER_PASSPHRASE_POLICIES===this.props.administrationWorkspaceContext.selectedAdministration}isPasswordExpirySettingsSelected(){return Io.PASSWORD_EXPIRY===this.props.administrationWorkspaceContext.selectedAdministration}isHealthcheckSelected(){return Io.HEALTHCHECK===this.props.administrationWorkspaceContext.selectedAdministration}render(){return a.createElement("div",{className:"navigation-secondary navigation-administration"},a.createElement("ul",{id:"administration_menu",className:"clearfix menu ready"},this.isMfaEnabled&&a.createElement("li",{id:"mfa_menu"},a.createElement("div",{className:"row  "+(this.isMfaSelected()?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleMfaClick},a.createElement("span",null,a.createElement(w.x6,null,"Multi Factor Authentication"))))))),this.canIUseMfaPolicy&&a.createElement("li",{id:"mfa_policy_menu"},a.createElement("div",{className:"row  "+(this.isMfaPolicySelected()?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleMfaPolicyClick},a.createElement("span",null,a.createElement(w.x6,null,"MFA Policy"))))))),this.canIUsePasswordPolicies&&a.createElement("li",{id:"password_policy_menu"},a.createElement("div",{className:"row  "+(this.isPasswordPoliciesSelected()?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handlePasswordPoliciesClick},a.createElement("span",null,a.createElement(w.x6,null,"Password Policy"))))))),this.isUserDirectoryEnabled&&a.createElement("li",{id:"user_directory_menu"},a.createElement("div",{className:"row  "+(this.isUserDirectorySelected()?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleUserDirectoryClick},a.createElement("span",null,a.createElement(w.x6,null,"Users Directory"))))))),a.createElement("li",{id:"email_notification_menu"},a.createElement("div",{className:"row  "+(this.isEmailNotificationsSelected()?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleEmailNotificationsClick},a.createElement("span",null,a.createElement(w.x6,null,"Email Notifications"))))))),this.canIUseLocale&&a.createElement("li",{id:"internationalization_menu"},a.createElement("div",{className:"row  "+(this.isInternationalizationSelected()?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleInternationalizationClick},a.createElement("span",null,a.createElement(w.x6,null,"Internationalisation"))))))),this.canIUseEE&&a.createElement("li",{id:"subscription_menu"},a.createElement("div",{className:"row  "+(this.isSubscriptionSelected()?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleSubscriptionClick},a.createElement("span",null,a.createElement(w.x6,null,"Subscription"))))))),this.canIUseAccountRecovery&&a.createElement("li",{id:"account_recovery_menu"},a.createElement("div",{className:"row  "+(this.isAccountRecoverySelected()?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleAccountRecoveryClick},a.createElement("span",null,a.createElement(w.x6,null,"Account Recovery"))))))),this.canIUseSmtpSettings&&a.createElement("li",{id:"smtp_settings_menu"},a.createElement("div",{className:"row  "+(this.isSmtpSettingsSelected()?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleSmtpSettingsClick},a.createElement("span",null,a.createElement(w.x6,null,"Email server"))))))),this.canIUseSelfRegistrationSettings&&a.createElement("li",{id:"self_registration_menu"},a.createElement("div",{className:"row  "+(this.isSelfRegistrationSettingsSelected()?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleSelfRegistrationClick},a.createElement("span",null,a.createElement(w.x6,null,"Self Registration"))))))),this.canIUseSso&&a.createElement("li",{id:"sso_menu"},a.createElement("div",{className:"row  "+(this.isSsoSelected()?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleSsoClick},a.createElement("span",null,a.createElement(w.x6,null,"Single Sign-On"))))))),this.canIUseRbacs&&a.createElement("li",{id:"rbacs_menu"},a.createElement("div",{className:"row  "+(this.isRbacSelected()?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleRbacsClick},a.createElement("span",null,a.createElement(w.x6,null,"Role-Based Access Control"))))))),this.canIUseUserPassphrasePolicies&&a.createElement("li",{id:"user_passphrase_policies_menu"},a.createElement("div",{className:"row  "+(this.isUserPassphrasePoliciesSelected()?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleUserPassphrasePoliciesClick},a.createElement("span",null,a.createElement(w.x6,null,"User Passphrase Policies"))))))),this.canIUsePasswordExpiry&&a.createElement("li",{id:"password_expiry_menu"},a.createElement("div",{className:"row  "+(this.isPasswordExpirySettingsSelected()?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handlePasswordExpirySettingsClick},a.createElement("span",null,a.createElement(w.x6,null,"Password Expiry"))))))),this.canIUseHealthcheck&&a.createElement("li",{id:"healthcheck_menu"},a.createElement("div",{className:"row  "+(this.isHealthcheckSelected()?"selected":"")},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleHealthcheckClick},a.createElement("span",null,a.createElement(w.x6,null,"Passbolt API Status")))))))))}}ml.propTypes={context:l().object,administrationWorkspaceContext:l().object,history:l().object,navigationContext:l().any};const pl=(0,i.y)(h(b(Ro((0,w.CI)("common")(ml))))),ul="totp",gl="yubikey",Cl="duo",bl=class{constructor(e={}){this.totpProviderToggle="providers"in e&&e.providers.includes(ul),this.yubikeyToggle="providers"in e&&e.providers.includes(gl),this.yubikeyClientIdentifier="yubikey"in e?e.yubikey.clientId:"",this.yubikeySecretKey="yubikey"in e?e.yubikey.secretKey:"",this.duoToggle="providers"in e&&e.providers.includes(Cl),this.duoHostname="duo"in e?e.duo.hostName:"",this.duoClientId="duo"in e?e.duo.integrationKey:"",this.duoClientSecret="duo"in e?e.duo.secretKey:""}},El=class{constructor(e={}){this.clientId="yubikeyClientIdentifier"in e?e.yubikeyClientIdentifier:e.clientId,this.secretKey="yubikeySecretKey"in e?e.yubikeySecretKey:e.secretKey}},fl=class{constructor(e={}){this.apiHostName=e.duoHostname,this.clientId=e.duoClientId,this.clientSecret=e.duoClientSecret}},yl=class{constructor(e={}){this.providers=[],this.setProviders(e),this.yubikey=this.providers.includes(gl)?new El(e):{},this.duo=this.providers.includes(Cl)?new fl(e):{}}setProviders(e){e.totpProviderToggle&&this.providers.push(ul),e.yubikeyToggle&&this.providers.push(gl),e.duoToggle&&this.providers.push(Cl)}};function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},vl.apply(null,arguments)}const kl=a.createContext({getCurrentSettings:()=>{},getSettings:()=>{},setSettings:()=>{},hasSettingsChanges:()=>{},findMfaSettings:()=>{},save:()=>{},setProcessing:()=>{},isProcessing:()=>{},getErrors:()=>{},setError:()=>{},isSubmitted:()=>{},setSubmitted:()=>{},setErrors:()=>{},clearContext:()=>{}});class wl extends a.Component{constructor(e){super(e),this.state=this.defaultState;const t=e.context.getApiClientOptions();this.mfaService=new Za(t)}get defaultState(){return{errors:this.initErrors(),currentSettings:null,settings:new bl,submitted:!1,processing:!0,getCurrentSettings:this.getCurrentSettings.bind(this),getSettings:this.getSettings.bind(this),setSettings:this.setSettings.bind(this),findMfaSettings:this.findMfaSettings.bind(this),hasSettingsChanges:this.hasSettingsChanges.bind(this),isProcessing:this.isProcessing.bind(this),isSubmitted:this.isSubmitted.bind(this),setSubmitted:this.setSubmitted.bind(this),setProcessing:this.setProcessing.bind(this),save:this.save.bind(this),getErrors:this.getErrors.bind(this),setError:this.setError.bind(this),setErrors:this.setErrors.bind(this),clearContext:this.clearContext.bind(this)}}initErrors(){return{yubikeyClientIdentifierError:null,yubikeySecretKeyError:null,duoHostnameError:null,duoClientIdError:null,duoClientSecretError:null}}async findMfaSettings(){this.setProcessing(!0);const e=await this.mfaService.findAllSettings(),t=new bl(e);this.setState({currentSettings:t}),this.setState({settings:Object.assign({},t)}),this.setProcessing(!1)}getCurrentSettings(){return this.state.currentSettings}getSettings(){return this.state.settings}async setSettings(e,t){const s=Object.assign({},this.state.settings,{[e]:t});await this.setState({settings:s})}isProcessing(){return this.state.processing}setProcessing(e){this.setState({processing:e})}hasSettingsChanges(){return JSON.stringify(this.state.currentSettings)!==JSON.stringify(this.state.settings)}isSubmitted(){return this.state.submitted}setSubmitted(e){this.setState({submitted:e})}clearContext(){const{currentSettings:e,settings:t,processing:s}=this.defaultState;this.setState({currentSettings:e,settings:t,processing:s})}async save(){this.setProcessing(!0);const e=new yl(this.state.settings);await this.mfaService.save(e),await this.findMfaSettings()}getErrors(){return this.state.errors}setError(e,t){const s=Object.assign({},this.state.errors,{[e]:t});this.setState({errors:s})}setErrors(e,t=()=>{}){const s=Object.assign({},this.state.errors,e);return this.setState({errors:s},t)}render(){return a.createElement(kl.Provider,{value:this.state},this.props.children)}}function xl(e){return class extends a.Component{render(){return a.createElement(kl.Consumer,null,(t=>a.createElement(e,vl({adminMfaContext:t},this.props))))}}}wl.propTypes={context:l().any,children:l().any},h(wl);class Sl{constructor(e,t){this.context=e,this.translation=t}static getInstance(e,t){return this.instance||(this.instance=new Sl(e,t)),this.instance}static killInstance(){this.instance=null}validateInput(e,t,s){const a=e.trim();return a.length?Ln()(t).test(a)?null:this.translation(s.regex):this.translation(s.required)}validateYubikeyClientIdentifier(e){const t=this.validateInput(e,"^[0-9]{1,64}$",{required:"A client identifier is required.",regex:"The client identifier should be an integer."});return this.context.setError("yubikeyClientIdentifierError",t),t}validateYubikeySecretKey(e){const t=this.validateInput(e,"^[a-zA-Z0-9\\/=+]{10,128}$",{required:"A secret key is required.",regex:"This secret key is not valid."});return this.context.setError("yubikeySecretKeyError",t),t}validateDuoHostname(e){const t=this.validateInput(e,"^api-[a-fA-F0-9]{8,16}\\.duosecurity\\.com$",{required:"A hostname is required.",regex:"This is not a valid hostname."});return this.context.setError("duoHostnameError",t),t}validateDuoClientId(e){const t=this.validateInput(e,"^[a-zA-Z0-9]{16,32}$",{required:"A client id is required.",regex:"This is not a valid client id."});return this.context.setError("duoClientIdError",t),t}validateDuoClientSecret(e){const t=this.validateInput(e,"^[a-zA-Z0-9]{32,128}$",{required:"A client secret is required.",regex:"This is not a valid client secret."});return this.context.setError("duoClientSecretError",t),t}validateYubikeyInputs(){let e=null,t=null;const s=this.context.getSettings();let a={};return s.yubikeyToggle&&(e=this.validateYubikeyClientIdentifier(s.yubikeyClientIdentifier),t=this.validateYubikeySecretKey(s.yubikeySecretKey),a={yubikeyClientIdentifierError:e,yubikeySecretKeyError:t}),a}validateDuoInputs(){let e=null,t=null,s=null,a={};const n=this.context.getSettings();return n.duoToggle&&(e=this.validateDuoHostname(n.duoHostname),t=this.validateDuoClientId(n.duoClientId),s=this.validateDuoClientSecret(n.duoClientSecret),a={duoHostnameError:e,duoClientIdError:t,duoClientSecretError:s}),a}async validate(){const e=Object.assign(this.validateYubikeyInputs(),this.validateDuoInputs());return await this.context.setErrors(e),0===Object.values(e).filter((e=>e)).length}}const Nl=Sl;class Rl extends a.Component{constructor(e){super(e),this.bindCallbacks(),this.mfaFormService=Nl.getInstance(this.props.adminMfaContext,this.props.t)}async handleSaveClick(){try{await this.mfaFormService.validate()&&(await this.props.adminMfaContext.save(),this.handleSaveSuccess())}catch(e){this.handleSaveError(e)}finally{this.props.adminMfaContext.setSubmitted(!0),this.props.adminMfaContext.setProcessing(!1)}}isSaveEnabled(){return!this.props.adminMfaContext.isProcessing()&&this.props.adminMfaContext.hasSettingsChanges()}bindCallbacks(){this.handleSaveClick=this.handleSaveClick.bind(this)}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The multi factor authentication settings for the organization were updated."))}async handleSaveError(e){"UserAbortsOperationError"!==e.name&&(console.error(e),await this.handleError(e))}async handleError(e){await this.props.actionFeedbackContext.displayError(e.message)}render(){return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isSaveEnabled(),onClick:this.handleSaveClick},a.createElement(ge,{name:"save"}),a.createElement("span",null,a.createElement(w.x6,null,"Save settings")))))))}}Rl.propTypes={adminMfaContext:l().object,actionFeedbackContext:l().object,t:l().func};const Il=xl(_e((0,w.CI)("common")(Rl)));class _l extends a.Component{constructor(e){super(e),this.mfaFormService=Nl.getInstance(this.props.adminMfaContext,this.props.t),this.bindCallbacks()}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(Il),this.isRunningUnderHttps&&this.props.adminMfaContext.findMfaSettings()}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminMfaContext.clearContext(),Nl.killInstance(),this.mfaFormService=null}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this)}handleInputChange(e){const t=e.target,s="checkbox"===t.type?t.checked:t.value,a=t.name;this.props.adminMfaContext.setSettings(a,s),this.validateInput(a,s)}validateInput(e,t){switch(e){case"yubikeyClientIdentifier":this.mfaFormService.validateYubikeyClientIdentifier(t);break;case"yubikeySecretKey":this.mfaFormService.validateYubikeySecretKey(t);break;case"duoHostname":this.mfaFormService.validateDuoHostname(t);break;case"duoClientId":this.mfaFormService.validateDuoClientId(t);break;case"duoClientSecret":this.mfaFormService.validateDuoClientSecret(t)}}get isRunningUnderHttps(){const e=this.props.context.trustedDomain;return"https:"===new URL(e).protocol}hasAllInputDisabled(){return this.props.adminMfaContext.isProcessing()}render(){const e=this.props.adminMfaContext.isSubmitted(),t=this.props.adminMfaContext.getSettings(),s=this.props.adminMfaContext.getErrors();return a.createElement("div",{className:"row"},a.createElement("div",{className:"mfa-settings col7 main-column"},a.createElement("h3",null,"Multi Factor Authentication"),!this.isRunningUnderHttps&&a.createElement("p",null,a.createElement(w.x6,null,"Sorry the multi factor authentication feature is only available in a secure context (HTTPS).")),this.isRunningUnderHttps&&a.createElement(a.Fragment,null,a.createElement("p",null,a.createElement(w.x6,null,"In this section you can choose which multi factor authentication will be available.")),a.createElement("h4",{className:"no-border"},a.createElement("span",{className:"input toggle-switch form-element ready"},a.createElement("input",{id:"totp-provider-toggle-button",type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"totpProviderToggle",onChange:this.handleInputChange,checked:t.totpProviderToggle,disabled:this.hasAllInputDisabled()}),a.createElement("label",{htmlFor:"totp-provider-toggle-button"},a.createElement(w.x6,null,"Time-based One Time Password")))),!t.totpProviderToggle&&a.createElement("p",{className:"description"},a.createElement(w.x6,null,"The Time-based One Time Password provider is disabled for all users.")),t.totpProviderToggle&&a.createElement("p",{className:"description"},a.createElement(w.x6,null,"The Time-based One Time Password provider is enabled for all users. They can setup this provider in their profile and use it as second factor authentication.")),a.createElement("h4",null,a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{id:"yubikey-provider-toggle-button",type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"yubikeyToggle",onChange:this.handleInputChange,checked:t.yubikeyToggle,disabled:this.hasAllInputDisabled()}),a.createElement("label",{htmlFor:"yubikey-provider-toggle-button"},"Yubikey"))),!t.yubikeyToggle&&a.createElement("p",{className:"description"},a.createElement(w.x6,null,"The Yubikey provider is disabled for all users.")),t.yubikeyToggle&&a.createElement(a.Fragment,null,a.createElement("p",{className:"description"},a.createElement(w.x6,null,"The Yubikey provider is enabled for all users. They can setup this provider in their profile and use it as second factor authentication.")),a.createElement("div",{className:`input text required ${s.yubikeyClientIdentifierError&&e?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",null,a.createElement(w.x6,null,"Client identifier")),a.createElement("input",{id:"yubikeyClientIdentifier",type:"text",name:"yubikeyClientIdentifier","aria-required":!0,className:"required fluid form-element ready",placeholder:"123456789",onChange:this.handleInputChange,value:t.yubikeyClientIdentifier,disabled:this.hasAllInputDisabled()}),s.yubikeyClientIdentifierError&&e&&a.createElement("div",{className:"yubikey_client_identifier error-message"},s.yubikeyClientIdentifierError)),a.createElement("div",{className:`input required input-secret ${s.yubikeySecretKeyError&&e?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",null,a.createElement(w.x6,null,"Secret key")),a.createElement(ma,{id:"yubikeySecretKey",onChange:this.handleInputChange,autoComplete:"off",name:"yubikeySecretKey",placeholder:"**********",disabled:this.hasAllInputDisabled(),value:t.yubikeySecretKey,preview:!0}),s.yubikeySecretKeyError&&e&&a.createElement("div",{className:"yubikey_secret_key error-message"},s.yubikeySecretKeyError))),a.createElement("h4",null,a.createElement("span",{className:"input toggle-switch form-element ready"},a.createElement("input",{id:"duo-provider-toggle-button",type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"duoToggle",onChange:this.handleInputChange,checked:t.duoToggle,disabled:this.hasAllInputDisabled()}),a.createElement("label",{htmlFor:"duo-provider-toggle-button"},"Duo"))),!t.duoToggle&&a.createElement("p",{className:"description"},a.createElement(w.x6,null,"The Duo provider is disabled for all users.")),t.duoToggle&&a.createElement(a.Fragment,null,a.createElement("p",{className:"description enabled"},a.createElement(w.x6,null,"The Duo provider is enabled for all users. They can setup this provider in their profile and use it as second factor authentication.")),a.createElement("div",{className:`input text required ${s.duoHostnameError&&e?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",null,a.createElement(w.x6,null,"Hostname")),a.createElement("input",{id:"duoHostname",type:"text",name:"duoHostname","aria-required":!0,className:"required fluid form-element ready",placeholder:"api-24zlkn4.duosecurity.com",value:t.duoHostname,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled()}),s.duoHostnameError&&e&&a.createElement("div",{className:"duo_hostname error-message"},s.duoHostnameError)),a.createElement("div",{className:`input text required ${s.duoClientIdError&&e?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",null,a.createElement(w.x6,null,"Client id")),a.createElement("input",{id:"duoClientId",type:"text",name:"duoClientId","aria-required":!0,className:"required fluid form-element ready",placeholder:"HASJKDSQJO213123KQSLDF",value:t.duoClientId,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled()}),s.duoClientIdError&&e&&a.createElement("div",{className:"duo_client_id error-message"},s.duoClientIdError)),a.createElement("div",{className:`input text required ${s.duoClientSecretError&&e?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",null,a.createElement(w.x6,null,"Client secret")),a.createElement(ma,{id:"duoClientSecret",onChange:this.handleInputChange,autoComplete:"off",name:"duoClientSecret",placeholder:"**********",disabled:this.hasAllInputDisabled(),value:t.duoClientSecret,preview:!0}),s.duoClientSecretError&&e&&a.createElement("div",{className:"duo_client_secret error-message"},s.duoClientSecretError))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Need help?")),a.createElement("p",null,a.createElement(w.x6,null,"Check out our Multi Factor Authentication configuration guide.")),a.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/authentication/mfa/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation"))))))}}_l.propTypes={context:l().object,adminMfaContext:l().object,administrationWorkspaceContext:l().object,t:l().func};const Dl=h(xl(Ro((0,w.CI)("common")(_l))));class Tl extends a.Component{get items(){return this.props.administrationWorkspaceContext.selectedAdministration===Io.NONE?[]:[a.createElement(Yn,{key:"bread-1",name:this.translate("Administration"),onClick:this.props.navigationContext.onGoToAdministrationRequested}),a.createElement(Yn,{key:"bread-2",name:this.getLastBreadcrumbItemName(),onClick:this.onLastBreadcrumbClick.bind(this)}),a.createElement(Yn,{key:"bread-3",name:this.translate("Settings"),onClick:this.onLastBreadcrumbClick.bind(this)})]}getLastBreadcrumbItemName(){switch(this.props.administrationWorkspaceContext.selectedAdministration){case Io.MFA:return this.translate("Multi Factor Authentication");case Io.USER_DIRECTORY:return this.translate("Users Directory");case Io.EMAIL_NOTIFICATION:return this.translate("Email Notification");case Io.SUBSCRIPTION:return this.translate("Subscription");case Io.INTERNATIONALIZATION:return this.translate("Internationalisation");case Io.ACCOUNT_RECOVERY:return this.translate("Account Recovery");case Io.SMTP_SETTINGS:return this.translate("Email server");case Io.SELF_REGISTRATION:return this.translate("Self Registration");case Io.SSO:return this.translate("Single Sign-On");case Io.MFA_POLICY:return this.translate("MFA Policy");case Io.RBAC:return this.translate("Role-Based Access Control");case Io.PASSWORD_POLICIES:return this.translate("Password Policy");case Io.USER_PASSPHRASE_POLICIES:return this.translate("User Passphrase Policies");case Io.PASSWORD_EXPIRY:return this.translate("Password Expiry");case Io.HEALTHCHECK:return this.translate("Passbolt API Status");default:return""}}async onLastBreadcrumbClick(){const e=this.props.location.pathname;this.props.history.push({pathname:e})}get translate(){return this.props.t}render(){return a.createElement($n,{items:this.items})}}Tl.propTypes={administrationWorkspaceContext:l().object,location:l().object,history:l().object,navigationContext:l().any,t:l().func};const Pl=(0,i.y)(b(Ro((0,w.CI)("common")(Tl))));class Al extends a.Component{constructor(e){super(e),this.infiniteTimerUpdateIntervalId=null,this.state=this.defaultState}get defaultState(){return{infiniteTimer:0}}componentDidMount(){this.startInfiniteTimerUpdateProgress()}componentWillUnmount(){this.resetInterval()}resetInterval(){this.infiniteTimerUpdateIntervalId&&(clearInterval(this.infiniteTimerUpdateIntervalId),this.infiniteTimerUpdateIntervalId=null)}startInfiniteTimerUpdateProgress(){this.infiniteTimerUpdateIntervalId=setInterval((()=>{const e=this.state.infiniteTimer+2;this.setState({infiniteTimer:e})}),500)}calculateInfiniteProgress(){return 100-100/Math.pow(1.1,this.state.infiniteTimer)}handleClose(){this.props.onClose()}render(){const e=this.calculateInfiniteProgress(),t={width:`${e}%`};return a.createElement(ve,{className:"loading-dialog",title:this.props.title,onClose:this.handleClose,disabled:!0},a.createElement("div",{className:"form-content"},a.createElement("label",null,a.createElement(w.x6,null,"Take a deep breath and enjoy being in the present moment...")),a.createElement("div",{className:"progress-bar-wrapper"},a.createElement("span",{className:"progress-bar"},a.createElement("span",{className:"progress "+(100===e?"completed":""),style:t})))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement("button",{type:"submit",disabled:!0,className:"processing"},"Submit",a.createElement(ge,{name:"spinner"}))))}}Al.propTypes={onClose:l().func,title:l().string};const Ml=(0,w.CI)("common")(Al),Ul="directorysync",Fl=class{constructor(e){this.apiClientOptions=e,e.setResourceName(`${Ul}`)}async findAll(){this.apiClientOptions.setResourceName(`${Ul}/settings`);const e=new $a(this.apiClientOptions);return(await e.findAll()).body}async update(e){this.apiClientOptions.setResourceName(`${Ul}`);const t=new $a(this.apiClientOptions);return(await t.update("settings",e)).body}async delete(){return this.apiClientOptions.setResourceName(`${Ul}`),new $a(this.apiClientOptions).delete("settings")}async test(e){return this.apiClientOptions.setResourceName(`${Ul}/settings/test`),new $a(this.apiClientOptions).create(e)}async simulate(){this.apiClientOptions.setResourceName(`${Ul}`);const e=new $a(this.apiClientOptions);return(await e.get("synchronize/dry-run")).body}async synchronize(){this.apiClientOptions.setResourceName(`${Ul}/synchronize`);const e=new $a(this.apiClientOptions);return(await e.create({})).body}},Ll=class{constructor(e){this.apiClientOptions=e,e.setResourceName("users")}async findAll(){const e=new $a(this.apiClientOptions);return(await e.findAll()).body}},Ol="mail",Vl="uniqueMember";class Hl{constructor(e=[],t=""){if(!e||0===e?.length)return void this.setDefaut(t);const s=e.domains?.org_domain;this.openCredentials=!0,this.openDirectoryConfiguration=!1,this.openSynchronizationOptions=!1,this.source=e.source,this.authenticationType=s?.authentication_type||"basic",this.directoryType=s?.directory_type||"ad",this.connectionType=s?.connection_type||"plain",this.host=s?.hosts?.length>0?s?.hosts[0]:"",this.hostError=null,this.port=s?.port?.toString()||"389",this.portError=null,this.username=s?.username||"",this.password=s?.password||"",this.domain=s?.domain_name||"",this.domainError=null,this.baseDn=s?.base_dn||"",this.groupPath=e.group_path||"",this.userPath=e.user_path||"",this.groupCustomFilters=e.group_custom_filters||"",this.userCustomFilters=e.user_custom_filters||"",this.groupObjectClass=e.group_object_class||"",this.userObjectClass=e.user_object_class||"",this.useEmailPrefix=e.use_email_prefix_suffix||!1,this.emailPrefix=e.email_prefix||"",this.emailSuffix=e.email_suffix||"",this.fieldsMapping=Hl.defaultFieldsMapping(e.fields_mapping),this.fallbackFields=Hl.defaultFallbackFields(e.field_fallbacks),this.defaultAdmin=e.default_user||t,this.defaultGroupAdmin=e.default_group_admin_user||t,this.groupsParentGroup=e.groups_parent_group||"",this.usersParentGroup=e.users_parent_group||"",this.enabledUsersOnly=Boolean(e.enabled_users_only),this.createUsers=Boolean(e.sync_users_create),this.deleteUsers=Boolean(e.sync_users_delete),this.updateUsers=Boolean(e.sync_users_update),this.createGroups=Boolean(e.sync_groups_create),this.deleteGroups=Boolean(e.sync_groups_delete),this.updateGroups=Boolean(e.sync_groups_update),this.deleteUserBehavior=e.delete_user_behavior||"delete",this.userDirectoryToggle=Boolean(this.port)&&Boolean(this.host)&&e?.enabled}setDefaut(e){this.openCredentials=!0,this.openDirectoryConfiguration=!1,this.openSynchronizationOptions=!1,this.source="default",this.authenticationType="basic",this.directoryType="ad",this.connectionType="plain",this.host="",this.hostError=null,this.port="389",this.portError=null,this.username="",this.password="",this.domain="",this.domainError=null,this.baseDn="",this.groupPath="",this.userPath="",this.groupCustomFilters="",this.userCustomFilters="",this.groupObjectClass="",this.userObjectClass="",this.useEmailPrefix=!1,this.emailPrefix="",this.emailSuffix="",this.fieldsMapping=Hl.defaultFieldsMapping(),this.fallbackFields=Hl.defaultFallbackFields(),this.defaultAdmin=e,this.defaultGroupAdmin=e,this.groupsParentGroup="",this.usersParentGroup="",this.enabledUsersOnly=!1,this.createUsers=!0,this.deleteUsers=!0,this.updateUsers=!0,this.createGroups=!0,this.deleteGroups=!0,this.updateGroups=!0,this.deleteUserBehavior="delete",this.userDirectoryToggle=!1}static defaultFieldsMapping(e={}){return{ad:{user:Object.assign({id:"objectGuid",firstname:"givenName",lastname:"sn",username:Ol,created:"whenCreated",modified:"whenChanged",groups:"memberOf",enabled:"userAccountControl"},e?.ad?.user),group:Object.assign({id:"objectGuid",name:"cn",created:"whenCreated",modified:"whenChanged",users:"member"},e?.ad?.group)},openldap:{user:Object.assign({id:"entryUuid",firstname:"givenname",lastname:"sn",username:"mail",created:"createtimestamp",modified:"modifytimestamp"},e?.openldap?.user),group:Object.assign({id:"entryUuid",name:"cn",created:"createtimestamp",modified:"modifytimestamp",users:Vl},e?.openldap?.group)}}}static defaultFallbackFields(e={}){return{ad:Object.assign({username:""},e?.ad)}}static get DEFAULT_AD_FIELDS_MAPPING_USER_USERNAME_VALUE(){return Ol}static get DEFAULT_OPENLDAP_FIELDS_MAPPING_GROUP_USERS_VALUE(){return Vl}}const ql=Hl,jl=class{constructor(e){const t=e.directoryType,s=!e.authenticationType||"basic"===e.authenticationType;this.enabled=e.userDirectoryToggle,this.group_path=e.groupPath,this.user_path=e.userPath,this.group_custom_filters=e.groupCustomFilters,this.user_custom_filters=e.userCustomFilters,this.group_object_class="openldap"===t?e.groupObjectClass:"",this.user_object_class="openldap"===t?e.userObjectClass:"",this.use_email_prefix_suffix="openldap"===t&&e.useEmailPrefix,this.email_prefix="openldap"===t&&this.useEmailPrefix?e.emailPrefix:"",this.email_suffix="openldap"===t&&this.useEmailPrefix?e.emailSuffix:"",this.default_user=e.defaultAdmin,this.default_group_admin_user=e.defaultGroupAdmin,this.groups_parent_group=e.groupsParentGroup,this.users_parent_group=e.usersParentGroup,this.enabled_users_only=e.enabledUsersOnly,this.sync_users_create=e.createUsers,this.sync_users_delete=e.deleteUsers,this.sync_users_update=e.updateUsers,this.sync_groups_create=e.createGroups,this.sync_groups_delete=e.deleteGroups,this.sync_groups_update=e.updateGroups,this.fields_mapping=e.fieldsMapping,this.field_fallbacks=e.fallbackFields,this.delete_user_behavior=e.deleteUserBehavior,this.domains={org_domain:{connection_type:e.connectionType,authentication_type:e.authenticationType,directory_type:t,domain_name:e.domain,username:s?e.username:void 0,password:s?e.password:void 0,base_dn:e.baseDn,hosts:[e.host],port:parseInt(e.port,10)}}}};function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Wl.apply(null,arguments)}const zl="directoryType",Bl=a.createContext({getCurrentSettings:()=>{},getSettings:()=>{},setSettings:()=>{},setAdUserFieldsMappingSettings:()=>{},setOpenLdapGroupFieldsMappingSettings:()=>{},setAdFallbackFieldsSettings:()=>{},hadDisabledSettings:()=>{},getUsers:()=>{},hasSettingsChanges:()=>{},findUserDirectorySettings:()=>{},save:()=>{},delete:()=>{},test:()=>{},setProcessing:()=>{},isProcessing:()=>{},getErrors:()=>{},setError:()=>{},simulateUsers:()=>{},requestSynchronization:()=>{},mustOpenSynchronizePopUp:()=>{},synchronizeUsers:()=>{},isSubmitted:()=>{},setSubmitted:()=>{},setErrors:()=>{},clearContext:()=>{}});class Gl extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.userDirectoryService=new Fl(e.context.getApiClientOptions()),this.userService=new Ll(e.context.getApiClientOptions())}get defaultState(){return{users:[],errors:this.initErrors(),mustSynchronize:!1,currentSettings:null,settings:new ql,submitted:!1,processing:!0,getCurrentSettings:this.getCurrentSettings.bind(this),getSettings:this.getSettings.bind(this),setSettings:this.setSettings.bind(this),setAdUserFieldsMappingSettings:this.setAdUserFieldsMappingSettings.bind(this),setOpenLdapGroupFieldsMappingSettings:this.setOpenLdapGroupFieldsMappingSettings.bind(this),setAdFallbackFieldsSettings:this.setAdFallbackFieldsSettings.bind(this),hadDisabledSettings:this.hadDisabledSettings.bind(this),findUserDirectorySettings:this.findUserDirectorySettings.bind(this),hasSettingsChanges:this.hasSettingsChanges.bind(this),isProcessing:this.isProcessing.bind(this),isSubmitted:this.isSubmitted.bind(this),setSubmitted:this.setSubmitted.bind(this),setProcessing:this.setProcessing.bind(this),simulateUsers:this.simulateUsers.bind(this),synchronizeUsers:this.synchronizeUsers.bind(this),save:this.save.bind(this),delete:this.delete.bind(this),test:this.test.bind(this),getErrors:this.getErrors.bind(this),setError:this.setError.bind(this),setErrors:this.setErrors.bind(this),getUsers:this.getUsers.bind(this),requestSynchronization:this.requestSynchronization.bind(this),mustOpenSynchronizePopUp:this.mustOpenSynchronizePopUp.bind(this),clearContext:this.clearContext.bind(this)}}initErrors(){return{hostError:null,portError:null,domainError:null}}async findUserDirectorySettings(){this.setProcessing(!0);let e=[];try{e=await this.userDirectoryService.findAll()}catch(e){this.handleError(e)}const t=await this.userService.findAll(),s=t.find((e=>this.props.context.loggedInUser.id===e.id)),a=new ql(e,s.id);this.setState({users:this.sortUsers(t),currentSettings:a,settings:Object.assign({},a),processing:!1})}sortUsers(e){const t=e=>`${e.profile.first_name} ${e.profile.last_name}`;return e.sort(((e,s)=>t(e).localeCompare(t(s))))}getCurrentSettings(){return this.state.currentSettings}getSettings(){return this.state.settings}requestSynchronization(e){this.setState({mustSynchronize:e})}mustOpenSynchronizePopUp(){return this.state.mustSynchronize}setSettings(e,t){const s=Object.assign({},this.state.settings,{[e]:t});this.isAdFieldsMappingUserUsernameResetNeeded(e,t)&&(s.fieldsMapping.ad.user.username=ql.DEFAULT_AD_FIELDS_MAPPING_USER_USERNAME_VALUE,this.setError("fieldsMappingAdUserUsernameError",null),this.setError("fieldsMappingAdUserUsernameFallbackeError",null)),this.isOpenLdapFieldsMappingGroupUsersResetNeeded(e,t)&&(s.fieldsMapping.openldap.group.users=ql.DEFAULT_OPENLDAP_FIELDS_MAPPING_GROUP_USERS_VALUE,this.setError("fieldsMappingOpenLdapGroupUsersError",null)),this.setState({settings:s})}isAdFieldsMappingUserUsernameResetNeeded(e,t){return e===zl&&"openldap"===t}isOpenLdapFieldsMappingGroupUsersResetNeeded(e,t){return e===zl&&"ad"===t}setAdUserFieldsMappingSettings(e,t){const s=Object.assign({},this.state.settings);s.fieldsMapping.ad.user[e]=t,this.setState({settings:s})}setOpenLdapGroupFieldsMappingSettings(e,t){const s=Object.assign({},this.state.settings);s.fieldsMapping.openldap.group[e]=t,this.setState({settings:s})}setAdFallbackFieldsSettings(e,t){const s=Object.assign({},this.state.settings);s.fallbackFields.ad[e]=t,this.setState({settings:s})}hadDisabledSettings(){const e=this.getCurrentSettings();return Boolean(e?.port)&&Boolean(e?.host)&&!e?.userDirectoryToggle}isProcessing(){return this.state.processing}setProcessing(e){this.setState({processing:e})}hasSettingsChanges(){return JSON.stringify(this.state.currentSettings)!==JSON.stringify(this.state.settings)}isSubmitted(){return this.state.submitted}setSubmitted(e){this.setState({submitted:e})}clearContext(){const{currentSettings:e,settings:t,processing:s}=this.defaultState;this.setState({currentSettings:e,settings:t,processing:s})}async save(){this.setProcessing(!0);const e=new jl(this.state.settings);await this.userDirectoryService.update(e),await this.findUserDirectorySettings()}async delete(){this.setProcessing(!0),await this.userDirectoryService.delete(),await this.findUserDirectorySettings()}async test(){this.setProcessing(!0);const e=new jl(this.state.settings),t=await this.userDirectoryService.test(e);return this.setProcessing(!1),t}async simulateUsers(){return this.userDirectoryService.simulate()}async synchronizeUsers(){return this.userDirectoryService.synchronize()}getErrors(){return this.state.errors}setError(e,t){const s=Object.assign({},this.state.errors,{[e]:t});this.setState({errors:s})}getUsers(){return this.state.users}setErrors(e,t=()=>{}){const s=Object.assign({},this.state.errors,e);return this.setState({errors:s},t)}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}render(){return a.createElement(Bl.Provider,{value:this.state},this.props.children)}}function Kl(e){return class extends a.Component{render(){return a.createElement(Bl.Consumer,null,(t=>a.createElement(e,Wl({adminUserDirectoryContext:t},this.props))))}}}Gl.propTypes={context:l().any,children:l().any,dialogContext:l().object},h(k(Gl));class $l extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindEventHandlers()}get defaultState(){return{loading:!0,openFullReport:!1,userDirectorySimulateSynchronizeResult:null}}bindEventHandlers(){this.handleFullReportClicked=this.handleFullReportClicked.bind(this),this.handleClose=this.handleClose.bind(this),this.handleSynchronize=this.handleSynchronize.bind(this)}async componentDidMount(){try{const e=await this.props.adminUserDirectoryContext.simulateUsers();this.setState({loading:!1,userDirectorySimulateSynchronizeResult:e})}catch(e){await this.handleError(e)}}async handleError(e){console.error(e),await this.props.actionFeedbackContext.displayError(e.message),this.handleClose()}handleFullReportClicked(){this.setState({openFullReport:!this.state.openFullReport})}handleClose(){this.props.onClose()}handleSynchronize(){this.props.adminUserDirectoryContext.requestSynchronization(!0),this.handleClose()}isLoading(){return this.state.loading}get users(){return this.state.userDirectorySimulateSynchronizeResult.users}get groups(){return this.state.userDirectorySimulateSynchronizeResult.groups}get usersSuccess(){return this.users.filter((e=>"success"===e.status))}get groupsSuccess(){return this.groups.filter((e=>"success"===e.status))}get usersWarning(){return this.users.filter((e=>"warning"===e.status))}get groupsWarning(){return this.groups.filter((e=>"warning"===e.status))}get usersError(){return this.users.filter((e=>"error"===e.status))}get groupsError(){return this.groups.filter((e=>"error"===e.status))}get usersIgnored(){return this.users.filter((e=>"ignore"===e.status))}get groupsIgnored(){return this.groups.filter((e=>"ignore"===e.status))}hasSuccessResource(){return this.usersSuccess.length>0||this.groupsSuccess.length>0}hasSuccessUserResource(){return this.usersSuccess.length>0}hasSuccessGroupResource(){return this.groupsSuccess.length>0}hasErrorOrIgnoreResource(){return this.usersError.length>0||this.groupsError.length>0||this.usersWarning.length>0||this.groupsWarning.length>0||this.usersIgnored.length>0||this.groupsIgnored.length>0}getFullReport(){let e="";return e=e.concat(this.getUsersFullReport()),e=e.concat(this.getGroupsFullReport()),e}getUsersFullReport(){if(!(this.usersSuccess.length>0||this.usersWarning.length>0||this.usersError.length>0||this.usersIgnored.length>0))return"";let e="";const t=`-----------------------------------------------\n${this.props.t("Users")}\n-----------------------------------------------\n`;e=e.concat(t);const s=t=>e=e.concat(`- ${t.message}\n`);return this.usersSuccess.length>0&&(e=e.concat(`\n${this.props.t("Success:")}\n`),this.usersSuccess.map(s)),this.usersWarning.length>0&&(e=e.concat(`\n${this.props.t("Warning:")}\n`),this.usersWarning.map(s)),this.usersError.length>0&&(e=e.concat(`\n${this.props.t("Errors:")}\n`),this.usersError.map(s)),this.usersIgnored.length>0&&(e=e.concat(`\n${this.props.t("Ignored:")}\n`),this.usersIgnored.map(s)),e.concat("\n")}getGroupsFullReport(){if(!(this.groupsSuccess.length>0||this.groupsWarning.length>0||this.groupsError.length>0||this.groupsIgnored.length>0))return"";let e="";const t=`-----------------------------------------------\n${this.props.t("Groups")}\n-----------------------------------------------\n`;e=e.concat(t);const s=t=>e=e.concat(`- ${t.message}\n`);return this.groupsSuccess.length>0&&(e=e.concat(`\n${this.props.t("Success:")}\n`),this.groupsSuccess.map(s)),this.groupsWarning.length>0&&(e=e.concat(`\n${this.props.t("Warning:")}\n`),this.groupsWarning.map(s)),this.groupsError.length>0&&(e=e.concat(`\n${this.props.t("Errors:")}\n`),this.groupsError.map(s)),this.groupsIgnored.length>0&&(e=e.concat(`\n${this.props.t("Ignored:")}\n`),this.groupsIgnored.map(s)),e}get translate(){return this.props.t}render(){return a.createElement("div",null,this.isLoading()&&a.createElement(Ml,{onClose:this.handleClose,title:this.props.t("Synchronize simulation")}),!this.isLoading()&&a.createElement(ve,{className:"ldap-simulate-synchronize-dialog",title:this.props.t("Synchronize simulation report"),onClose:this.handleClose,disabled:this.isLoading()},a.createElement("div",{className:"form-content",onSubmit:this.handleFormSubmit},a.createElement("p",null,a.createElement("strong",null,a.createElement(w.x6,null,"The operation was successful."))),a.createElement("p",null),this.hasSuccessResource()&&a.createElement("p",{id:"resources-synchronize"},this.hasSuccessUserResource()&&a.createElement(a.Fragment,null,this.props.t("{{count}} user will be synchronized.",{count:this.usersSuccess.length})),this.hasSuccessUserResource()&&this.hasSuccessGroupResource()&&a.createElement("br",null),this.hasSuccessGroupResource()&&a.createElement(a.Fragment,null,this.props.t("{{count}} group will be synchronized.",{count:this.groupsSuccess.length}))),!this.hasSuccessResource()&&a.createElement("p",{id:"no-resources"}," ",a.createElement(w.x6,null,"No resources will be synchronized.")," "),this.hasErrorOrIgnoreResource()&&a.createElement("p",{className:"error inline-error"},a.createElement(w.x6,null,"Some resources will not be synchronized and will require your attention, see the full report.")),a.createElement("div",{className:"accordion operation-details "+(this.state.openFullReport?"":"closed")},a.createElement("div",{className:"accordion-header",onClick:this.handleFullReportClicked},a.createElement("button",{type:"button",className:"link no-border"},a.createElement(w.x6,null,"Full report"),this.state.openFullReport&&a.createElement(ge,{name:"caret-down"}),!this.state.openFullReport&&a.createElement(ge,{name:"caret-right"}))),a.createElement("div",{className:"accordion-content"},a.createElement("div",{className:"input text"},a.createElement("textarea",{className:"full_report",readOnly:!0,value:this.getFullReport()})))),a.createElement("p",null)),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.isLoading(),onClick:this.handleClose}),a.createElement("button",{type:"submit",disabled:this.isLoading(),className:"primary",onClick:this.handleSynchronize},a.createElement(w.x6,null,"Synchronize")))))}}$l.propTypes={onClose:l().func,dialogContext:l().object,actionFeedbackContext:l().any,adminUserDirectoryContext:l().object,t:l().func};const Zl=_e(Kl((0,w.CI)("common")($l)));class Yl extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindEventHandlers()}get defaultState(){return{loading:!0,openFullReport:!1,userDirectorySynchronizeResult:null}}bindEventHandlers(){this.handleFullReportClicked=this.handleFullReportClicked.bind(this),this.handleClose=this.handleClose.bind(this),this.handleSynchronize=this.handleSynchronize.bind(this)}async componentDidMount(){try{const e=await this.props.adminUserDirectoryContext.synchronizeUsers();this.setState({loading:!1,userDirectorySynchronizeResult:e})}catch(e){await this.handleError(e)}}async handleError(e){console.error(e),await this.props.actionFeedbackContext.displayError(e.message),this.handleClose()}handleFullReportClicked(){this.setState({openFullReport:!this.state.openFullReport})}handleClose(){this.props.onClose()}handleSynchronize(){this.handleClose()}isLoading(){return this.state.loading}get users(){return this.state.userDirectorySynchronizeResult.users}get groups(){return this.state.userDirectorySynchronizeResult.groups}get usersSuccess(){return this.users.filter((e=>"success"===e.status))}get groupsSuccess(){return this.groups.filter((e=>"success"===e.status))}get usersWarning(){return this.users.filter((e=>"warning"===e.status))}get groupsWarning(){return this.groups.filter((e=>"warning"===e.status))}get usersError(){return this.users.filter((e=>"error"===e.status))}get groupsError(){return this.groups.filter((e=>"error"===e.status))}get usersIgnored(){return this.users.filter((e=>"ignore"===e.status))}get groupsIgnored(){return this.groups.filter((e=>"ignore"===e.status))}hasSuccessResource(){return this.usersSuccess.length>0||this.groupsSuccess.length>0}hasSuccessUserResource(){return this.usersSuccess.length>0}hasSuccessGroupResource(){return this.groupsSuccess.length>0}hasErrorOrIgnoreResource(){return this.usersError.length>0||this.groupsError.length>0||this.usersWarning.length>0||this.groupsWarning.length>0||this.usersIgnored.length>0||this.groupsIgnored.length>0}getFullReport(){let e="";return e=e.concat(this.getUsersFullReport()),e=e.concat(this.getGroupsFullReport()),e}getUsersFullReport(){if(!(this.usersSuccess.length>0||this.usersWarning.length>0||this.usersError.length>0||this.usersIgnored.length>0))return"";let e="";const t=`-----------------------------------------------\n${this.translate("Users")}\n-----------------------------------------------\n`;e=e.concat(t);const s=t=>e=e.concat(`- ${t.message}\n`);return this.usersSuccess.length>0&&(e=e.concat(`\n${this.translate("Success:")}\n`),this.usersSuccess.map(s)),this.usersWarning.length>0&&(e=e.concat(`\n${this.translate("Warning:")}\n`),this.usersWarning.map(s)),this.usersError.length>0&&(e=e.concat(`\n${this.translate("Errors:")}\n`),this.usersError.map(s)),this.usersIgnored.length>0&&(e=e.concat(`\n${this.translate("Ignored:")}\n`),this.usersIgnored.map(s)),e.concat("\n")}getGroupsFullReport(){if(!(this.groupsSuccess.length>0||this.groupsWarning.length>0||this.groupsError.length>0||this.groupsIgnored.length>0))return"";let e="";const t=`-----------------------------------------------\n${this.translate("Groups")}\n-----------------------------------------------\n`;e=e.concat(t);const s=t=>e=e.concat(`- ${t.message}\n`);return this.groupsSuccess.length>0&&(e=e.concat(`\n${this.translate("Success:")}\n`),this.groupsSuccess.map(s)),this.groupsWarning.length>0&&(e=e.concat(`\n${this.translate("Warning:")}\n`),this.groupsWarning.map(s)),this.groupsError.length>0&&(e=e.concat(`\n${this.translate("Errors:")}\n`),this.groupsError.map(s)),this.groupsIgnored.length>0&&(e=e.concat(`\n${this.translate("Ignored:")}\n`),this.groupsIgnored.map(s)),e}get translate(){return this.props.t}render(){return a.createElement("div",null,this.isLoading()&&a.createElement(Ml,{onClose:this.handleClose,title:this.translate("Synchronize")}),!this.isLoading()&&a.createElement(ve,{className:"ldap-simulate-synchronize-dialog",title:this.translate("Synchronize report"),onClose:this.handleClose,disabled:this.isLoading()},a.createElement("div",{className:"form-content",onSubmit:this.handleFormSubmit},a.createElement("p",null,a.createElement("strong",null,a.createElement(w.x6,null,"The operation was successful."))),a.createElement("p",null),this.hasSuccessResource()&&a.createElement("p",{id:"resources-synchronize"},this.hasSuccessUserResource()&&a.createElement(a.Fragment,null,this.translate("{{count}} user has been synchronized.",{count:this.usersSuccess.length})),this.hasSuccessUserResource()&&this.hasSuccessGroupResource()&&a.createElement("br",null),this.hasSuccessGroupResource()&&a.createElement(a.Fragment,null,this.translate("{{count}} group has been synchronized.",{count:this.groupsSuccess.length}))),!this.hasSuccessResource()&&a.createElement("p",{id:"no-resources"}," ",a.createElement(w.x6,null,"No resources have been synchronized.")," "),this.hasErrorOrIgnoreResource()&&a.createElement("p",{className:"error inline-error"},a.createElement(w.x6,null,"Some resources will not be synchronized and will require your attention, see the full report.")),a.createElement("div",{className:"accordion operation-details "+(this.state.openFullReport?"":"closed")},a.createElement("div",{className:"accordion-header",onClick:this.handleFullReportClicked},a.createElement("button",{type:"button",className:"link no-border"},a.createElement(w.x6,null,"Full report"),this.state.openFullReport&&a.createElement(ge,{name:"caret-down"}),!this.state.openFullReport&&a.createElement(ge,{name:"caret-right"}))),a.createElement("div",{className:"accordion-content"},a.createElement("div",{className:"input text"},a.createElement("textarea",{className:"full_report",readOnly:!0,value:this.getFullReport()})))),a.createElement("p",null)),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement("button",{disabled:this.isLoading(),className:"primary",type:"button",onClick:this.handleClose},a.createElement(w.x6,null,"Ok")))))}}Yl.propTypes={onClose:l().func,actionFeedbackContext:l().any,adminUserDirectoryContext:l().object,t:l().func};const Jl=_e(Kl((0,w.CI)("common")(Yl)));class Xl{constructor(e,t){this.context=e,this.translate=t}static getInstance(e,t){return this.instance||(this.instance=new Xl(e,t)),this.instance}static killInstance(){this.instance=null}validate(){const e={hostError:this.validateHostInput(),portError:this.validatePortInput(),domainError:this.validateDomainInput(),fieldsMappingAdUserUsernameError:this.validateFieldsMappingAdUserUsernameInput(),fieldsMappingOpenLdapGroupUsersError:this.validateOpenLdapFieldsMappingGroupUsersInput()};return this.context.setErrors(e),0===Object.values(e).filter((e=>null!==e)).length}validateHostInput(){const e=this.context.getSettings(),t=e.host?.trim();return t.length?null:this.translate("A host is required.")}validatePortInput(){let e=null;const t=this.context.getSettings().port.trim();return t.length?Ln()("^[0-9]+").test(t)||(e=this.translate("Only numeric characters allowed.")):e=this.translate("A port is required."),e}validateFieldsMappingAdUserUsernameInput(){const e=this.context.getSettings().fieldsMapping.ad.user.username;let t=null;return e&&""!==e.trim()?e.length>128&&(t=this.translate("The user username field mapping cannot exceed 128 characters.")):t=this.translate("The user username field mapping cannot be empty"),t}validateOpenLdapFieldsMappingGroupUsersInput(){const e=this.context.getSettings().fieldsMapping.openldap.group.users;let t=null;return e&&""!==e.trim()?e.length>128&&(t=this.translate("The group users field mapping cannot exceed 128 characters.")):t=this.translate("The group users field mapping cannot be empty"),t}validateDomainInput(){let e=null;return this.context.getSettings().domain.trim().length||(e=this.translate("A domain name is required.")),e}}const Ql=Xl;class ec extends a.Component{hasChildren(){return this.props.node.group.groups.length>0}displayUserName(e){return`${e.profile.first_name} ${e.profile.last_name}`}get node(){return this.props.node}render(){return a.createElement("ul",{key:this.node.id},"group"===this.node.type&&a.createElement("li",{className:"group"},this.node.group.name,a.createElement("ul",null,Object.values(this.node.group.users).map((e=>a.createElement("li",{className:"user",key:e.id},e.errors&&a.createElement("span",{className:"error"},e.directory_name),!e.errors&&a.createElement("span",null,this.displayUserName(e.user)," ",a.createElement("em",null,"(",e.user.username,")"))))),Object.values(this.node.group.groups).map((e=>a.createElement(ec,{key:`tree-${e.id}`,node:e}))))),"user"===this.node.type&&a.createElement("li",{className:"user"},this.node.errors&&a.createElement("span",{className:"error"},this.node.directory_name),!this.node.errors&&a.createElement("span",null,this.displayUserName(this.node.user)," ",a.createElement("em",null,"(",this.node.user.username,")"))))}}ec.propTypes={node:l().object};const tc=ec;class sc extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindEventHandlers()}get defaultState(){return{loading:!0,openListGroupsUsers:!1,openStructureGroupsUsers:!1,openErrors:!1}}bindEventHandlers(){this.handleListGroupsUsersClicked=this.handleListGroupsUsersClicked.bind(this),this.handleStructureGroupsUsersClicked=this.handleStructureGroupsUsersClicked.bind(this),this.handleErrorsClicked=this.handleErrorsClicked.bind(this),this.handleClose=this.handleClose.bind(this)}componentDidMount(){this.setState({loading:!1})}handleListGroupsUsersClicked(){this.setState({openListGroupsUsers:!this.state.openListGroupsUsers})}handleStructureGroupsUsersClicked(){this.setState({openStructureGroupsUsers:!this.state.openStructureGroupsUsers})}handleErrorsClicked(){this.setState({openErrors:!this.state.openErrors})}handleClose(){this.props.onClose(),this.props.context.setContext({displayTestUserDirectoryDialogProps:null})}hasAllInputDisabled(){return this.state.loading}displayUserName(e){return`${e.profile.first_name} ${e.profile.last_name}`}get users(){return this.props.context.displayTestUserDirectoryDialogProps.userDirectoryTestResult.users}get groups(){return this.props.context.displayTestUserDirectoryDialogProps.userDirectoryTestResult.groups}get tree(){return this.props.context.displayTestUserDirectoryDialogProps.userDirectoryTestResult.tree}get errors(){return this.props.context.displayTestUserDirectoryDialogProps.userDirectoryTestResult.errors}get translate(){return this.props.t}render(){return a.createElement(ve,{className:"ldap-test-settings-dialog",title:this.translate("Test settings report"),onClose:this.handleClose,disabled:this.hasAllInputDisabled()},a.createElement("div",{className:"form-content"},a.createElement("p",null,a.createElement("strong",null,a.createElement(w.x6,null,"A connection could be established. Well done!"))),a.createElement("p",null),a.createElement("div",{className:"ldap-test-settings-report"},a.createElement("p",null,this.users.length>0&&a.createElement(a.Fragment,null,this.translate("{{count}} user has been found.",{count:this.users.length})),this.users.length>0&&this.groups.length>0&&a.createElement("br",null),this.groups.length>0&&a.createElement(a.Fragment,null,this.translate("{{count}} group has been found.",{count:this.groups.length}))),a.createElement("div",{className:"accordion directory-list "+(this.state.openListGroupsUsers?"":"closed")},a.createElement("div",{className:"accordion-header",onClick:this.handleListGroupsUsersClicked},a.createElement("button",{type:"button",className:"link no-border"},a.createElement(w.x6,null,"See list"),this.state.openListGroupsUsers&&a.createElement(ge,{name:"caret-down",baseline:!0}),!this.state.openListGroupsUsers&&a.createElement(ge,{name:"caret-right",baseline:!0}))),a.createElement("div",{className:"accordion-content"},a.createElement("table",null,a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,a.createElement(w.x6,null,"Groups")),a.createElement("td",null,a.createElement(w.x6,null,"Users"))),a.createElement("tr",null,a.createElement("td",null,this.groups.map((e=>e.errors&&a.createElement("div",{key:e.id},a.createElement("span",{className:"error"},e.directory_name))||a.createElement("div",{key:e.id},e.group.name)))),a.createElement("td",null,this.users.map((e=>e.errors&&a.createElement("div",{key:e.id},a.createElement("span",{className:"error"},e.directory_name))||a.createElement("div",{key:e.id},this.displayUserName(e.user)," ",a.createElement("em",null,"(",e.user.username,")")))))))))),a.createElement("div",{className:"accordion accordion-directory-structure "+(this.state.openStructureGroupsUsers?"":"closed")},a.createElement("div",{className:"accordion-header",onClick:this.handleStructureGroupsUsersClicked},a.createElement("button",{type:"button",className:"link no-border"},a.createElement(w.x6,null,"See structure"),this.state.openStructureGroupsUsers&&a.createElement(ge,{name:"caret-down",baseline:!0}),!this.state.openStructureGroupsUsers&&a.createElement(ge,{name:"caret-right",baseline:!0}))),a.createElement("div",{className:"accordion-content"},a.createElement("div",{className:"directory-structure"},a.createElement("ul",null,a.createElement("li",{className:"group"},"Root",Object.values(this.tree).map((e=>a.createElement(tc,{key:`tree-${e.id}`,node:e})))))))),this.errors.length>0&&a.createElement("div",null,a.createElement("p",{className:"directory-errors error"},this.translate("{{count}} entry had errors and will be ignored during synchronization.",{count:this.errors.length})),a.createElement("div",{className:"accordion accordion-directory-errors "+(this.state.openErrors?"":"closed")},a.createElement("div",{className:"accordion-header",onClick:this.handleErrorsClicked},a.createElement("button",{type:"button",className:"link no-border"},a.createElement(w.x6,null,"See error details"),this.state.openErrors&&a.createElement(ge,{name:"caret-down",baseline:!0}),!this.state.openErrors&&a.createElement(ge,{name:"caret-right",baseline:!0}))),a.createElement("div",{className:"accordion-content"},a.createElement("div",{className:"directory-errors"},a.createElement("textarea",{value:JSON.stringify(this.errors,null," "),readOnly:!0}))))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement("button",{type:"button",disabled:this.hasAllInputDisabled(),className:"primary",onClick:this.handleClose},a.createElement(w.x6,null,"OK"))))}}sc.propTypes={context:l().any,onClose:l().func,t:l().func};const ac=h((0,w.CI)("common")(sc));class nc extends a.Component{constructor(e){super(e),this.bindCallbacks(),this.state=this.defaultState,this.userDirectoryFormService=Ql.getInstance(this.props.adminUserDirectoryContext,this.props.t)}componentDidUpdate(){this.props.adminUserDirectoryContext.mustOpenSynchronizePopUp()&&(this.props.adminUserDirectoryContext.requestSynchronization(!1),this.handleSynchronizeClick())}async handleSaveClick(){this.props.adminUserDirectoryContext.getSettings().userDirectoryToggle?await this.props.adminUserDirectoryContext.save():await this.props.adminUserDirectoryContext.delete(),this.handleSaveSuccess()}async handleFormSubmit(e){try{if(this.userDirectoryFormService.validate())switch(e){case"save":await this.handleSaveClick();break;case"test":await this.handleTestClick()}}catch(e){this.handleSubmitError(e)}finally{this.props.adminUserDirectoryContext.setSubmitted(!0),this.props.adminUserDirectoryContext.setProcessing(!1)}}async handleTestClick(){const e={userDirectoryTestResult:(await this.props.adminUserDirectoryContext.test()).body};this.props.context.setContext({displayTestUserDirectoryDialogProps:e}),this.props.dialogContext.open(ac)}isSaveEnabled(){return!this.props.adminUserDirectoryContext.isProcessing()&&this.props.adminUserDirectoryContext.hasSettingsChanges()}isTestEnabled(){return!this.props.adminUserDirectoryContext.isProcessing()&&this.props.adminUserDirectoryContext.getSettings().userDirectoryToggle}isSynchronizeEnabled(){return!this.props.adminUserDirectoryContext.isProcessing()&&this.props.adminUserDirectoryContext.getSettings().userDirectoryToggle&&this.props.adminUserDirectoryContext.getCurrentSettings().userDirectoryToggle}bindCallbacks(){this.handleSaveClick=this.handleSaveClick.bind(this),this.handleTestClick=this.handleTestClick.bind(this),this.handleSimulateSynchronizeClick=this.handleSimulateSynchronizeClick.bind(this),this.handleSynchronizeClick=this.handleSynchronizeClick.bind(this)}handleSimulateSynchronizeClick(){this.props.dialogContext.open(Zl)}handleSynchronizeClick(){this.props.dialogContext.open(Jl)}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The user directory settings for the organization were updated."))}async handleSubmitError(e){"UserAbortsOperationError"!==e.name&&(console.error(e),await this.handleError(e))}async handleError(e){await this.props.actionFeedbackContext.displayError(e.message)}render(){return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isSaveEnabled(),onClick:()=>this.handleFormSubmit("save")},a.createElement(ge,{name:"save"}),a.createElement("span",null,a.createElement(w.x6,null,"Save settings")))),a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isTestEnabled(),onClick:()=>this.handleFormSubmit("test")},a.createElement(ge,{name:"plug"}),a.createElement("span",null,a.createElement(w.x6,null,"Test settings")))),a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isSynchronizeEnabled(),onClick:this.handleSimulateSynchronizeClick},a.createElement(ge,{name:"magic-wand"}),a.createElement("span",null,a.createElement(w.x6,null,"Simulate synchronize")))),a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isSynchronizeEnabled(),onClick:this.handleSynchronizeClick},a.createElement(ge,{name:"refresh"}),a.createElement("span",null,a.createElement(w.x6,null,"Synchronize")))))))}}nc.propTypes={context:l().object,dialogContext:l().object,adminUserDirectoryContext:l().object,actionFeedbackContext:l().object,t:l().func};const rc=h(_e(k(Kl((0,w.CI)("common")(nc)))));class ic extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.userDirectoryFormService=Ql.getInstance(this.props.adminUserDirectoryContext,this.props.t),this.bindCallbacks()}get defaultState(){return{hasFieldFocus:!1}}componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(rc),this.props.adminUserDirectoryContext.findUserDirectorySettings()}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminUserDirectoryContext.clearContext(),Ql.killInstance(),this.userDirectoryFormService=null}bindCallbacks(){this.handleCredentialTitleClicked=this.handleCredentialTitleClicked.bind(this),this.handleDirectoryConfigurationTitleClicked=this.handleDirectoryConfigurationTitleClicked.bind(this),this.handleSynchronizationOptionsTitleClicked=this.handleSynchronizationOptionsTitleClicked.bind(this),this.handleFieldFocus=this.handleFieldFocus.bind(this),this.handleFieldBlur=this.handleFieldBlur.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleAdUserFieldsMappingInputChange=this.handleAdUserFieldsMappingInputChange.bind(this),this.handleOpenLdapGroupFieldsMappingInputChange=this.handleOpenLdapGroupFieldsMappingInputChange.bind(this),this.handleAdFallbackFieldInputChange=this.handleAdFallbackFieldInputChange.bind(this)}handleCredentialTitleClicked(){const e=this.props.adminUserDirectoryContext.getSettings();this.props.adminUserDirectoryContext.setSettings("openCredentials",!e.openCredentials)}handleDirectoryConfigurationTitleClicked(){const e=this.props.adminUserDirectoryContext.getSettings();this.props.adminUserDirectoryContext.setSettings("openDirectoryConfiguration",!e.openDirectoryConfiguration)}handleSynchronizationOptionsTitleClicked(){const e=this.props.adminUserDirectoryContext.getSettings();this.props.adminUserDirectoryContext.setSettings("openSynchronizationOptions",!e.openSynchronizationOptions)}handleInputChange(e){const t=e.target,s="checkbox"===t.type?t.checked:t.value,a=t.name;this.props.adminUserDirectoryContext.setSettings(a,s)}handleAdUserFieldsMappingInputChange(e){const{value:t,name:s}=e.target;this.props.adminUserDirectoryContext.setAdUserFieldsMappingSettings(s,t)}handleAdFallbackFieldInputChange(e){const{value:t,name:s}=e.target;this.props.adminUserDirectoryContext.setAdFallbackFieldsSettings(s,t)}handleOpenLdapGroupFieldsMappingInputChange(e){const t=e.target,s=t.value,a=t.name;this.props.adminUserDirectoryContext.setOpenLdapGroupFieldsMappingSettings(a,s)}handleFieldFocus(){this.setState({hasFieldFocus:!0})}handleFieldBlur(){this.setState({hasFieldFocus:!1})}hasAllInputDisabled(){const e=this.props.adminUserDirectoryContext.getSettings();return e.processing||e.loading}isUserDirectoryChecked(){return this.props.adminUserDirectoryContext.getSettings().userDirectoryToggle}isActiveDirectoryChecked(){return"ad"===this.props.adminUserDirectoryContext.getSettings().directoryType}isOpenLdapChecked(){return"openldap"===this.props.adminUserDirectoryContext.getSettings().directoryType}isUseEmailPrefixChecked(){return this.props.adminUserDirectoryContext.getSettings().useEmailPrefix}getUsersAllowedToBeDefaultAdmin(){const e=this.props.adminUserDirectoryContext.getUsers();if(null!==e){const t=e.filter((e=>!0===e.active&&"admin"===e.role.name));return t&&t.map((e=>({value:e.id,label:this.displayUser(e)})))}return[]}getUsersAllowedToBeDefaultGroupAdmin(){const e=this.props.adminUserDirectoryContext.getUsers();if(null!==e){const t=e.filter((e=>!0===e.active));return t&&t.map((e=>({value:e.id,label:this.displayUser(e)})))}return[]}displayUser(e){return`${e.profile.first_name} ${e.profile.last_name} (${e.username})`}shouldShowSourceWarningMessage(){const e=this.props.adminUserDirectoryContext;return"file"===e?.getCurrentSettings()?.source&&e?.hasSettingsChanges()}get settingsSource(){return this.props.adminUserDirectoryContext?.getCurrentSettings()?.source}get configurationSource(){return{env:this.props.t("environment variables"),file:this.props.t("file"),db:this.props.t("database"),default:this.props.t("default")}[this.settingsSource]||this.props.t("unknown")}get connectionType(){return[{value:"plain",label:"ldap://"},{value:"ssl",label:"ldaps:// (ssl)"},{value:"tls",label:"ldaps:// (tls)"}]}get supportedAuthenticationMethod(){return[{value:"basic",label:this.props.t("Basic")},{value:"sasl",label:"SASL (EE)"}]}render(){const e=this.props.adminUserDirectoryContext.getSettings(),t=this.props.adminUserDirectoryContext.getErrors(),s=this.props.adminUserDirectoryContext.isSubmitted(),n=this.props.adminUserDirectoryContext.hadDisabledSettings();return a.createElement("div",{className:"row"},a.createElement("div",{className:"ldap-settings col7 main-column"},a.createElement("h3",null,a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"userDirectoryToggle",onChange:this.handleInputChange,checked:e.userDirectoryToggle,disabled:this.hasAllInputDisabled(),id:"userDirectoryToggle"}),a.createElement("label",{htmlFor:"userDirectoryToggle"},a.createElement(w.x6,null,"Users Directory")))),!this.isUserDirectoryChecked()&&a.createElement(a.Fragment,null,n&&a.createElement("div",null,a.createElement("div",{className:"message warning"},a.createElement(w.x6,null,"The configuration has been disabled as it needs to be checked to make it correct before using it."))),!n&&a.createElement("p",{className:"description"},a.createElement(w.x6,null,"No Users Directory is configured. Enable it to synchronise your users and groups with passbolt."))),this.isUserDirectoryChecked()&&a.createElement(a.Fragment,null,this.shouldShowSourceWarningMessage()&&a.createElement("div",{className:"warning message"},a.createElement(w.x6,null,a.createElement("b",null,"Warning:")," These are the settings provided by a configuration file. If you save it, will ignore the settings on file and use the ones from the database.")),a.createElement("p",{className:"description"},a.createElement(w.x6,null,"A Users Directory is configured. The users and groups of passbolt will synchronize with it.")),a.createElement("div",{className:"accordion section-general "+(e.openCredentials?"":"closed")},a.createElement("h4",{className:"accordion-header"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleCredentialTitleClicked},e.openCredentials&&a.createElement(ge,{name:"caret-down"}),!e.openCredentials&&a.createElement(ge,{name:"caret-right"}),a.createElement(w.x6,null,"Credentials"))),a.createElement("div",{className:"accordion-content"},a.createElement("div",{className:"radiolist required"},a.createElement("label",null,a.createElement(w.x6,null,"Directory type")),a.createElement("div",{className:"input radio ad openldap form-element "},a.createElement("div",{className:"input radio"},a.createElement("input",{type:"radio",value:"ad",onChange:this.handleInputChange,name:"directoryType",checked:this.isActiveDirectoryChecked(),id:"directoryTypeAd",disabled:this.hasAllInputDisabled()}),a.createElement("label",{htmlFor:"directoryTypeAd"},a.createElement(w.x6,null,"Active Directory"))),a.createElement("div",{className:"input radio"},a.createElement("input",{type:"radio",value:"openldap",onChange:this.handleInputChange,name:"directoryType",checked:this.isOpenLdapChecked(),id:"directoryTypeOpenLdap",disabled:this.hasAllInputDisabled()}),a.createElement("label",{htmlFor:"directoryTypeOpenLdap"},a.createElement(w.x6,null,"Open Ldap"))))),a.createElement("div",{className:"input text required ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Server url")),a.createElement("div",{className:`input text singleline connection_info ad openldap ${this.hasAllInputDisabled()?"disabled":""} ${this.state.hasFieldFocus?"no-focus":""}`},a.createElement("input",{id:"server-input",type:"text","aria-required":!0,className:"required host ad openldap form-element",name:"host",value:e.host,onChange:this.handleInputChange,placeholder:this.props.t("host"),disabled:this.hasAllInputDisabled()}),a.createElement("div",{className:"protocol",onBlur:this.handleFieldBlur,onFocus:this.handleFieldFocus},a.createElement(gs,{className:"inline",name:"connectionType",items:this.connectionType,value:e.connectionType,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled()})),a.createElement("div",{className:"port ad openldap"},a.createElement("input",{id:"port-input",type:"number","aria-required":!0,className:"required in-field form-element",name:"port",value:e.port,onChange:this.handleInputChange,onBlur:this.handleFieldBlur,onFocus:this.handleFieldFocus,disabled:this.hasAllInputDisabled()}))),t.hostError&&s&&a.createElement("div",{id:"server-input-feedback",className:"error-message"},t.hostError),t.portError&&s&&a.createElement("div",{id:"port-input-feedback",className:"error-message"},t.portError)),a.createElement("div",{className:"select-wrapper input required ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Authentication method")),a.createElement(gs,{items:this.supportedAuthenticationMethod,id:"authentication-type-select",name:"authenticationType",value:e.authenticationType,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled()})),"basic"===e.authenticationType&&a.createElement("div",{className:"singleline clearfix"},a.createElement("div",{className:"input text first-field ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Username")),a.createElement("input",{id:"username-input",type:"text",className:"fluid form-element",name:"username",value:e.username,onChange:this.handleInputChange,placeholder:this.props.t("Username"),disabled:this.hasAllInputDisabled()})),a.createElement("div",{className:"input text last-field ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Password")),a.createElement("input",{id:"password-input",className:"fluid form-element",name:"password",value:e.password,onChange:this.handleInputChange,placeholder:this.props.t("Password"),type:"password",disabled:this.hasAllInputDisabled()}))),a.createElement("div",{className:"input text required ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Domain")),a.createElement("input",{id:"domain-name-input","aria-required":!0,type:"text",name:"domain",value:e.domain,onChange:this.handleInputChange,className:"required fluid form-element",placeholder:"domain.ext",disabled:this.hasAllInputDisabled()}),t.domainError&&s&&a.createElement("div",{id:"domain-name-input-feedback",className:"error-message"},t.domainError)),a.createElement("div",{className:"input text ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Base DN")),a.createElement("input",{id:"base-dn-input",type:"text",name:"baseDn",value:e.baseDn,onChange:this.handleInputChange,className:"fluid form-element",placeholder:"OU=OrgUsers,DC=mydomain,DC=local",disabled:this.hasAllInputDisabled()}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"The base DN (default naming context) for the domain.")," ",a.createElement(w.x6,null,"If this is empty then it will be queried from the RootDSE."))))),a.createElement("div",{className:"accordion section-directory-configuration "+(e.openDirectoryConfiguration?"":"closed")},a.createElement("h4",{className:"accordion-header"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleDirectoryConfigurationTitleClicked},e.openDirectoryConfiguration&&a.createElement(ge,{name:"caret-down"}),!e.openDirectoryConfiguration&&a.createElement(ge,{name:"caret-right"}),a.createElement(w.x6,null,"Directory configuration"))),a.createElement("div",{className:"accordion-content"},a.createElement("div",{className:"input text ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Group path")),a.createElement("input",{id:"group-path-input",type:"text","aria-required":!0,name:"groupPath",value:e.groupPath,onChange:this.handleInputChange,className:"required fluid form-element",placeholder:this.props.t("Group path"),disabled:this.hasAllInputDisabled()}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"Group path is used in addition to the base DN while searching groups.")," ",a.createElement(w.x6,null,"Leave empty if users and groups are in the same DN."))),a.createElement("div",{className:"input text ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"User path")),a.createElement("input",{id:"user-path-input",type:"text","aria-required":!0,name:"userPath",value:e.userPath,onChange:this.handleInputChange,className:"required fluid form-element",placeholder:this.props.t("User path"),disabled:this.hasAllInputDisabled()}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"User path is used in addition to base DN while searching users."))),a.createElement("div",{className:"input text ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Group custom filters")),a.createElement("input",{id:"group-custom-filters-input",type:"text",name:"groupCustomFilters",value:e.groupCustomFilters,onChange:this.handleInputChange,className:"required fluid form-element",placeholder:this.props.t("Group custom filters"),disabled:this.hasAllInputDisabled()}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"Group custom filters are used in addition to the base DN and group path while searching groups.")," ",a.createElement(w.x6,null,"Leave empty if no additional filter is required."))),a.createElement("div",{className:"input text ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"User custom filters")),a.createElement("input",{id:"user-custom-filters-input",type:"text",name:"userCustomFilters",value:e.userCustomFilters,onChange:this.handleInputChange,className:"required fluid form-element",placeholder:this.props.t("User custom filters"),disabled:this.hasAllInputDisabled()}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"User custom filters are used in addition to the base DN and user path while searching users.")," ",a.createElement(w.x6,null,"Leave empty if no additional filter is required."))),this.isOpenLdapChecked()&&a.createElement("div",null,a.createElement("div",{className:"input text ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Group object class")),a.createElement("input",{id:"group-object-class-input",type:"text","aria-required":!0,name:"groupObjectClass",value:e.groupObjectClass,onChange:this.handleInputChange,className:"required fluid",placeholder:"GroupObjectClass",disabled:this.hasAllInputDisabled()}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"For Openldap only. Defines which group object to use.")," (",a.createElement(w.x6,null,"Default"),": groupOfUniqueNames)")),a.createElement("div",{className:"input text ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"User object class")),a.createElement("input",{id:"user-object-class-input",type:"text","aria-required":!0,name:"userObjectClass",value:e.userObjectClass,onChange:this.handleInputChange,className:"required fluid form-element",placeholder:"UserObjectClass",disabled:this.hasAllInputDisabled()}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"For Openldap only. Defines which user object to use.")," (",a.createElement(w.x6,null,"Default"),": inetOrgPerson)")),a.createElement("div",{className:"input text openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Use email prefix / suffix?")),a.createElement("div",{className:"input toggle-switch openldap form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"useEmailPrefix",value:e.useEmailPrefix,onChange:this.handleInputChange,id:"use-email-prefix-suffix-toggle-button",disabled:this.hasAllInputDisabled()}),a.createElement("label",{className:"text",htmlFor:"use-email-prefix-suffix-toggle-button"},a.createElement(w.x6,null,"Build email based on a prefix and suffix?"))),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"Use this option when user entries do not include an email address by default"))),this.isUseEmailPrefixChecked()&&a.createElement("div",{className:"singleline clearfix",id:"use-email-prefix-suffix-options"},a.createElement("div",{className:"input text first-field openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Email prefix")),a.createElement("input",{id:"email-prefix-input",type:"text","aria-required":!0,name:"emailPrefix",checked:e.emailPrefix,onChange:this.handleInputChange,className:"required fluid form-element",placeholder:this.props.t("Username"),disabled:this.hasAllInputDisabled()}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"The attribute you would like to use for the first part of the email (usually username)."))),a.createElement("div",{className:"input text last-field openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Email suffix")),a.createElement("input",{id:"email-suffix-input",type:"text","aria-required":!0,name:"emailSuffix",value:e.emailSuffix,onChange:this.handleInputChange,className:"required form-element",placeholder:this.props.t("@your-domain.com"),disabled:this.hasAllInputDisabled()}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"The domain name part of the email (@your-domain-name).")))),a.createElement("div",{className:"input text ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Group users field mapping")),a.createElement("input",{id:"field-mapping-openldap-group-users-input",type:"text","aria-required":!0,name:"users",value:e.fieldsMapping.openldap.group.users,onChange:this.handleOpenLdapGroupFieldsMappingInputChange,className:"fluid form-element",placeholder:this.props.t("Group users field mapping"),disabled:this.hasAllInputDisabled()}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"Directory group's users field to map to Passbolt group's field.")),t.fieldsMappingOpenLdapGroupUsersError&&s&&a.createElement("div",{id:"field-mapping-openldap-group-users-input-feedback",className:"error-message"},t.fieldsMappingOpenLdapGroupUsersError))),this.isActiveDirectoryChecked()&&a.createElement("div",{className:"input text ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"User username field mapping")),a.createElement("input",{id:"field-mapping-ad-user-username-input",type:"text","aria-required":!0,name:"username",value:e.fieldsMapping.ad.user.username,onChange:this.handleAdUserFieldsMappingInputChange,className:"fluid form-element",placeholder:this.props.t("User username field mapping"),disabled:this.hasAllInputDisabled()}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"Directory user's username field to map to Passbolt user's username field.")),t.fieldsMappingAdUserUsernameError&&s&&a.createElement("div",{id:"field-mapping-ad-user-username-input-feedback",className:"error-message"},t.fieldsMappingAdUserUsernameError)))),a.createElement("div",{className:"accordion section-sync-options "+(e.openSynchronizationOptions?"":"closed")},a.createElement("h4",{className:"accordion-header"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleSynchronizationOptionsTitleClicked},e.openSynchronizationOptions&&a.createElement(ge,{name:"caret-down"}),!e.openSynchronizationOptions&&a.createElement(ge,{name:"caret-right"}),a.createElement(w.x6,null,"Synchronization options"))),a.createElement("div",{className:"accordion-content"},a.createElement("div",{className:"select-wrapper input required ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Default admin")),a.createElement(gs,{items:this.getUsersAllowedToBeDefaultAdmin(),id:"default-user-select",name:"defaultAdmin",value:e.defaultAdmin,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),search:!0}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"The default admin user is the user that will perform the operations for the the directory."))),a.createElement("div",{className:"select-wrapper input required ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Default group admin")),a.createElement(gs,{items:this.getUsersAllowedToBeDefaultGroupAdmin(),id:"default-group-admin-user-select",name:"defaultGroupAdmin",value:e.defaultGroupAdmin,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),search:!0}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"The default group manager is the user that will be the group manager of newly created groups."))),a.createElement("div",{className:"input text ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Groups parent group")),a.createElement("input",{id:"groups-parent-group-input",type:"text",name:"groupsParentGroup",value:e.groupsParentGroup,onChange:this.handleInputChange,className:"fluid form-element",placeholder:this.props.t("Groups parent group"),disabled:this.hasAllInputDisabled()}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"Synchronize only the groups which are members of this group."))),a.createElement("div",{className:"input text ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Users parent group")),a.createElement("input",{id:"users-parent-group-input",type:"text",name:"usersParentGroup",value:e.usersParentGroup,onChange:this.handleInputChange,className:"fluid form-element",placeholder:this.props.t("Users parent group"),disabled:this.hasAllInputDisabled()}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"Synchronize only the users which are members of this group."))),this.isActiveDirectoryChecked&&a.createElement("div",{className:"input text ad openldap "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"User username fallback field")),a.createElement("input",{id:"fallback-fields-ad-username-fallback-input",type:"text","aria-required":!0,name:"username",value:e.fallbackFields.ad.username,onChange:this.handleAdFallbackFieldInputChange,className:"fluid form-element",placeholder:this.props.t("User username fallback field"),disabled:this.hasAllInputDisabled()}),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"Directory user's username fallback field to use when user username field cannot be found.")),t.fallbackFieldsAdUsernameError&&s&&a.createElement("div",{id:"fallback-fields-ad-username-fallback-input-feedback",className:"error-message"},t.fallbackFieldsAdUsernameError)),this.isActiveDirectoryChecked()&&a.createElement("div",{className:"input text clearfix ad "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Enabled users only")),a.createElement("div",{className:"input toggle-switch ad form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"enabledUsersOnly",checked:e.enabledUsersOnly,onChange:this.handleInputChange,id:"enabled-users-only-toggle-button",disabled:this.hasAllInputDisabled()}),a.createElement("label",{className:"text",htmlFor:"enabled-users-only-toggle-button"},a.createElement(w.x6,null,"Only synchronize enabled users (AD)")))),a.createElement("div",{className:"input text clearfix ad openldap"},a.createElement("label",null,a.createElement(w.x6,null,"Sync operations")),a.createElement("div",{className:"col6"},a.createElement("div",{className:"input toggle-switch ad openldap form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"createUsers",checked:e.createUsers,onChange:this.handleInputChange,id:"sync-users-create-toggle-button",disabled:this.hasAllInputDisabled()}),a.createElement("label",{className:"text",htmlFor:"sync-users-create-toggle-button"},a.createElement(w.x6,null,"Create users"))),a.createElement("div",{className:"input toggle-switch ad openldap form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"deleteUsers",checked:e.deleteUsers,onChange:this.handleInputChange,id:"sync-users-delete-toggle-button",disabled:this.hasAllInputDisabled()}),a.createElement("label",{className:"text",htmlFor:"sync-users-delete-toggle-button"},a.createElement(w.x6,null,"Delete users"))),a.createElement("div",{className:"input toggle-switch ad openldap form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"updateUsers",checked:e.updateUsers,onChange:this.handleInputChange,id:"sync-users-update-toggle-button",disabled:this.hasAllInputDisabled()}),a.createElement("label",{className:"text",htmlFor:"sync-users-update-toggle-button"},a.createElement(w.x6,null,"Update users")))),a.createElement("div",{className:"col6 last"},a.createElement("div",{className:"input toggle-switch ad openldap form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"createGroups",checked:e.createGroups,onChange:this.handleInputChange,id:"sync-groups-create-toggle-button",disabled:this.hasAllInputDisabled()}),a.createElement("label",{className:"text",htmlFor:"sync-groups-create-toggle-button"},a.createElement(w.x6,null,"Create groups"))),a.createElement("div",{className:"input toggle-switch ad openldap form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"deleteGroups",checked:e.deleteGroups,onChange:this.handleInputChange,id:"sync-groups-delete-toggle-button",disabled:this.hasAllInputDisabled()}),a.createElement("label",{className:"text",htmlFor:"sync-groups-delete-toggle-button"},a.createElement(w.x6,null,"Delete groups"))),a.createElement("div",{className:"input toggle-switch ad openldap form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"updateGroups",checked:e.updateGroups,onChange:this.handleInputChange,id:"sync-groups-update-toggle-button",disabled:this.hasAllInputDisabled()}),a.createElement("label",{className:"text",htmlFor:"sync-groups-update-toggle-button"},a.createElement(w.x6,null,"Update groups"))))),a.createElement("div",{className:"input text clearfix ad openldap"},a.createElement("label",null,a.createElement(w.x6,null,"Delete or suspend users")),a.createElement("div",{className:"help-message"},a.createElement(w.x6,null,"Define the behaviour when existing synchronized users are removed from the users directory"),":"),a.createElement("div",{className:"radiolist-alt"},a.createElement("div",{className:"input radio "+("delete"===e.deleteUserBehavior?"checked":"")},a.createElement("input",{type:"radio",value:"delete",onChange:this.handleInputChange,name:"deleteUserBehavior",checked:"delete"===e.deleteUserBehavior,id:"deleteUserBehaviorDelete",disabled:this.hasAllInputDisabled()}),a.createElement("label",{htmlFor:"deleteUserBehaviorDelete"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Delete users")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"Delete the users and all the data associated with them."),"",a.createElement(w.x6,null,"The data will be permanently deleted, this action cannot be undone.")))),a.createElement("div",{className:"input radio "+("disable"===e.deleteUserBehavior?"checked":"")},a.createElement("input",{type:"radio",value:"disable",onChange:this.handleInputChange,name:"deleteUserBehavior",checked:"disable"===e.deleteUserBehavior,id:"deleteUserBehaviorSuspended",disabled:this.hasAllInputDisabled()}),a.createElement("label",{htmlFor:"deleteUserBehaviorSuspended"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Suspend users")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"Suspend the users, preventing them from signing in to Passbolt and from receiving email notifications."),"",a.createElement(w.x6,null,"Other users can still share resources with them and add them to groups.")))))))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help",id:"user-directory-settings-source"},a.createElement("h3",null,a.createElement(w.x6,null,"Configuration source")),a.createElement("p",null,a.createElement(w.x6,null,"This current configuration source is: "),this.configurationSource,".")),a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Need help?")),a.createElement("p",null,a.createElement(w.x6,null,"Check out our ldap configuration guide.")),a.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/user-provisioning/users-directory/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation"))))))}}ic.propTypes={adminUserDirectoryContext:l().object,administrationWorkspaceContext:l().object,t:l().func};const oc=Kl(Ro((0,w.CI)("common")(ic))),lc=class{constructor(e){e.setResourceName("settings/emails/notifications"),this.apiClient=new $a(e)}async find(){return(await this.apiClient.findAll()).body}async save(e){return(await this.apiClient.create(e)).body}},cc=class{constructor(e={}){this.hasDatabaseSetting="sources_database"in e&&e.sources_database,this.hasFileConfigSetting="sources_file"in e&&e.sources_file,this.passwordCreate=!("send_password_create"in e)||e.send_password_create,this.passwordShare=!("send_password_share"in e)||e.send_password_share,this.passwordUpdate=!("send_password_update"in e)||e.send_password_update,this.passwordDelete=!("send_password_delete"in e)||e.send_password_delete,this.folderCreate=!("send_folder_create"in e)||e.send_folder_create,this.folderUpdate=!("send_folder_update"in e)||e.send_folder_update,this.folderDelete=!("send_folder_delete"in e)||e.send_folder_delete,this.folderShare=!("send_folder_share"in e)||e.send_folder_share,this.commentAdd=!("send_comment_add"in e)||e.send_comment_add,this.groupDelete=!("send_group_delete"in e)||e.send_group_delete,this.groupUserAdd=!("send_group_user_add"in e)||e.send_group_user_add,this.groupUserDelete=!("send_group_user_delete"in e)||e.send_group_user_delete,this.groupUserUpdate=!("send_group_user_update"in e)||e.send_group_user_update,this.groupManagerUpdate=!("send_group_manager_update"in e)||e.send_group_manager_update,this.groupManagerRequestAddUser=!("send_group_manager_requestAddUser"in e)||e.send_group_manager_requestAddUser,this.userCreate=!("send_user_create"in e)||e.send_user_create,this.userRecover=!("send_user_recover"in e)||e.send_user_recover,this.userRecoverComplete=!("send_user_recoverComplete"in e)||e.send_user_recoverComplete,this.userRecoverAbortAdmin=!("send_admin_user_recover_abort"in e)||e.send_admin_user_recover_abort,this.userRecoverCompleteAdmin=!("send_admin_user_recover_complete"in e)||e.send_admin_user_recover_complete,this.userSetupCompleteAdmin=!("send_admin_user_setup_completed"in e)||e.send_admin_user_setup_completed,this.showDescription=!("show_description"in e)||e.show_description,this.showSecret=!("show_secret"in e)||e.show_secret,this.showUri=!("show_uri"in e)||e.show_uri,this.showUsername=!("show_username"in e)||e.show_username,this.showComment=!("show_comment"in e)||e.show_comment,this.accountRecoveryRequestUser=!("send_accountRecovery_request_user"in e)||e.send_accountRecovery_request_user,this.accountRecoveryRequestAdmin=!("send_accountRecovery_request_admin"in e)||e.send_accountRecovery_request_admin,this.accountRecoveryRequestGuessing=!("send_accountRecovery_request_guessing"in e)||e.send_accountRecovery_request_guessing,this.accountRecoveryRequestUserApproved=!("send_accountRecovery_response_user_approved"in e)||e.send_accountRecovery_response_user_approved,this.accountRecoveryRequestUserRejected=!("send_accountRecovery_response_user_rejected"in e)||e.send_accountRecovery_response_user_rejected,this.accountRecoveryRequestCreatedAmin=!("send_accountRecovery_response_created_admin"in e)||e.send_accountRecovery_response_created_admin,this.accountRecoveryRequestCreatedAllAdmins=!("send_accountRecovery_response_created_allAdmins"in e)||e.send_accountRecovery_response_created_allAdmins,this.accountRecoveryRequestPolicyUpdate=!("send_accountRecovery_policy_update"in e)||e.send_accountRecovery_policy_update,this.passwordExpiryExpiredUser=!("send_password_expire"in e)||e.send_password_expire}},dc=class{constructor(e={}){this.sources_database="hasDatabaseSetting"in e&&e.hasDatabaseSetting,this.sources_file="hasFileConfigSetting"in e&&e.hasFileConfigSetting,this.send_password_create=!("passwordCreate"in e)||e.passwordCreate,this.send_password_share=!("passwordShare"in e)||e.passwordShare,this.send_password_update=!("passwordUpdate"in e)||e.passwordUpdate,this.send_password_delete=!("passwordDelete"in e)||e.passwordDelete,this.send_folder_create=!("folderCreate"in e)||e.folderCreate,this.send_folder_update=!("folderUpdate"in e)||e.folderUpdate,this.send_folder_delete=!("folderDelete"in e)||e.folderDelete,this.send_folder_share=!("folderShare"in e)||e.folderShare,this.send_comment_add=!("commentAdd"in e)||e.commentAdd,this.send_group_delete=!("groupDelete"in e)||e.groupDelete,this.send_group_user_add=!("groupUserAdd"in e)||e.groupUserAdd,this.send_group_user_delete=!("groupUserDelete"in e)||e.groupUserDelete,this.send_group_user_update=!("groupUserUpdate"in e)||e.groupUserUpdate,this.send_group_manager_update=!("groupManagerUpdate"in e)||e.groupManagerUpdate,this.send_group_manager_requestAddUser=!("groupManagerRequestAddUser"in e)||e.groupManagerRequestAddUser,this.send_user_create=!("userCreate"in e)||e.userCreate,this.send_user_recover=!("userRecover"in e)||e.userRecover,this.send_user_recoverComplete=!("userRecoverComplete"in e)||e.userRecoverComplete,this.send_admin_user_setup_completed=!("userSetupCompleteAdmin"in e)||e.userSetupCompleteAdmin,this.send_admin_user_recover_abort=!("userRecoverAbortAdmin"in e)||e.userRecoverAbortAdmin,this.send_admin_user_recover_complete=!("userRecoverCompleteAdmin"in e)||e.userRecoverCompleteAdmin,this.send_accountRecovery_request_user=!("accountRecoveryRequestUser"in e)||e.accountRecoveryRequestUser,this.send_accountRecovery_request_admin=!("accountRecoveryRequestAdmin"in e)||e.accountRecoveryRequestAdmin,this.send_accountRecovery_request_guessing=!("accountRecoveryRequestGuessing"in e)||e.accountRecoveryRequestGuessing,this.send_accountRecovery_response_user_approved=!("accountRecoveryRequestUserApproved"in e)||e.accountRecoveryRequestUserApproved,this.send_accountRecovery_response_user_rejected=!("accountRecoveryRequestUserRejected"in e)||e.accountRecoveryRequestUserRejected,this.send_accountRecovery_response_created_admin=!("accountRecoveryRequestCreatedAmin"in e)||e.accountRecoveryRequestCreatedAmin,this.send_accountRecovery_response_created_allAdmins=!("accountRecoveryRequestCreatedAllAdmins"in e)||e.accountRecoveryRequestCreatedAllAdmins,this.send_accountRecovery_policy_update=!("accountRecoveryRequestPolicyUpdate"in e)||e.accountRecoveryRequestPolicyUpdate,this.show_description=!("showDescription"in e)||e.showDescription,this.show_secret=!("showSecret"in e)||e.showSecret,this.show_uri=!("showUri"in e)||e.showUri,this.show_username=!("showUsername"in e)||e.showUsername,this.show_comment=!("showComment"in e)||e.showComment,this.send_password_expire=!("passwordExpiryExpiredUser"in e)||e.passwordExpiryExpiredUser}};function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},hc.apply(null,arguments)}const mc=a.createContext({getCurrentSettings:()=>{},getSettings:()=>{},setSettings:()=>{},hasSettingsChanges:()=>{},findEmailNotificationSettings:()=>{},save:()=>{},setProcessing:()=>{},isProcessing:()=>{},clearContext:()=>{}});class pc extends a.Component{constructor(e){super(e),this.state=this.defaultState;const t=e.context.getApiClientOptions();this.emailNotificationService=new lc(t)}get defaultState(){return{currentSettings:null,settings:new cc,processing:!0,getCurrentSettings:this.getCurrentSettings.bind(this),getSettings:this.getSettings.bind(this),setSettings:this.setSettings.bind(this),findEmailNotificationSettings:this.findEmailNotificationSettings.bind(this),hasSettingsChanges:this.hasSettingsChanges.bind(this),isProcessing:this.isProcessing.bind(this),setProcessing:this.setProcessing.bind(this),save:this.save.bind(this),clearContext:this.clearContext.bind(this)}}async findEmailNotificationSettings(){this.setProcessing(!0);const e=await this.emailNotificationService.find(),t=new cc(e);this.setState({currentSettings:t}),this.setState({settings:Object.assign({},t)}),this.setProcessing(!1)}getCurrentSettings(){return this.state.currentSettings}getSettings(){return this.state.settings}setSettings(e,t){const s=Object.assign({},this.state.settings,{[e]:t});this.setState({settings:s})}isProcessing(){return this.state.processing}setProcessing(e){this.setState({processing:e})}hasSettingsChanges(){return JSON.stringify(this.state.currentSettings)!==JSON.stringify(this.state.settings)}clearContext(){const{currentSettings:e,settings:t,processing:s}=this.defaultState;this.setState({currentSettings:e,settings:t,processing:s})}async save(){this.setProcessing(!0);const e=new dc(this.state.settings);await this.emailNotificationService.save(e),await this.findEmailNotificationSettings()}render(){return a.createElement(mc.Provider,{value:this.state},this.props.children)}}function uc(e){return class extends a.Component{render(){return a.createElement(mc.Consumer,null,(t=>a.createElement(e,hc({adminEmailNotificationContext:t},this.props))))}}}pc.propTypes={context:l().any,children:l().any},h(pc);class gc extends a.Component{constructor(e){super(e),this.bindCallbacks()}async handleSaveClick(){try{await this.props.adminEmailNotificationContext.save(),this.handleSaveSuccess()}catch(e){this.handleSaveError(e)}finally{this.props.adminEmailNotificationContext.setProcessing(!1)}}isSaveEnabled(){return!this.props.adminEmailNotificationContext.isProcessing()&&this.props.adminEmailNotificationContext.hasSettingsChanges()}bindCallbacks(){this.handleSaveClick=this.handleSaveClick.bind(this)}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The email notification settings were updated."))}async handleSaveError(e){"UserAbortsOperationError"!==e.name&&(console.error(e),await this.handleError(e))}async handleError(e){await this.props.actionFeedbackContext.displayError(e.message)}render(){return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isSaveEnabled(),onClick:this.handleSaveClick},a.createElement(ge,{name:"save"}),a.createElement("span",null,a.createElement(w.x6,null,"Save settings")))))))}}gc.propTypes={adminEmailNotificationContext:l().object,actionFeedbackContext:l().object,t:l().func};const Cc=uc(_e((0,w.CI)("common")(gc)));class bc extends a.Component{constructor(e){super(e),this.bindCallbacks()}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(Cc),this.props.adminEmailNotificationContext.findEmailNotificationSettings()}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminEmailNotificationContext.clearContext()}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this)}handleInputChange(e){const t=e.target.checked,s=e.target.name;this.props.adminEmailNotificationContext.setSettings(s,t)}hasAllInputDisabled(){return this.props.adminEmailNotificationContext.isProcessing()}hasDatabaseSetting(){return this.props.adminEmailNotificationContext.getSettings().hasDatabaseSetting}hasFileConfigSetting(){return this.props.adminEmailNotificationContext.getSettings().hasFileConfigSetting}canUseFolders(){return this.props.context.siteSettings.canIUse("folders")}canUseAccountRecovery(){return this.props.context.siteSettings.canIUse("accountRecovery")}canUsePasswordExpiry(){return this.props.context.siteSettings.canIUse("passwordExpiry")||this.props.context.siteSettings.canIUse("passwordExpiryPolicies")}canUsePasswordExpiryAdvancedSettings(){return this.props.context.siteSettings.canIUse("passwordExpiryPolicies")}get settingsSource(){return this.hasDatabaseSetting()?"db":this.hasFileConfigSetting()?"file":"env"}get configurationSource(){return{env:this.props.t("environment variables"),file:this.props.t("file"),db:this.props.t("database")}[this.settingsSource]||this.props.t("unknown")}render(){const e=this.props.adminEmailNotificationContext.getSettings();return a.createElement("div",{className:"row"},a.createElement("div",{className:"email-notification-settings col8 main-column"},e&&this.hasDatabaseSetting()&&this.hasFileConfigSetting()&&a.createElement("div",{className:"warning message",id:"email-notification-setting-overridden-banner"},a.createElement("p",null,a.createElement(w.x6,null,"Settings have been found in your database as well as in your passbolt.php (or environment variables).")," ",a.createElement(w.x6,null,"The settings displayed in the form below are the one stored in your database and have precedence over others."))),e&&!this.hasDatabaseSetting()&&this.hasFileConfigSetting()&&a.createElement("div",{className:"warning message",id:"email-notification-fileconfig-exists-banner"},a.createElement("p",null,a.createElement(w.x6,null,"You seem to have Email Notification Settings defined in your passbolt.php (or via environment variables).")," ",a.createElement(w.x6,null,"Submitting the form will overwrite those settings with the ones you choose in the form below."))),a.createElement("h3",null,a.createElement(w.x6,null,"Email delivery")),a.createElement("p",null,a.createElement(w.x6,null,"In this section you can choose which email notifications will be sent.")),a.createElement("div",{className:"section"},a.createElement("div",{className:"password-section"},a.createElement("label",null,a.createElement(w.x6,null,"Passwords")),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"passwordCreate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.passwordCreate,id:"send-password-create-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-password-create-toggle-button"},a.createElement(w.x6,null,"When a password is created, notify its creator."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"passwordUpdate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.passwordUpdate,id:"send-password-update-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-password-update-toggle-button"},a.createElement(w.x6,null,"When a password is updated, notify the users who have access to it."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"passwordDelete",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.passwordDelete,id:"send-password-delete-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-password-delete-toggle-button"},a.createElement(w.x6,null,"When a password is deleted, notify the users who had access to it."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"passwordShare",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.passwordShare,id:"send-password-share-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-password-share-toggle-button"},a.createElement(w.x6,null,"When a password is shared, notify the users who gain access to it.")))),this.canUseFolders()&&a.createElement("div",{className:"folder-section"},a.createElement("label",null,a.createElement(w.x6,null,"Folders")),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"folderCreate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.folderCreate,id:"send-folder-create-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-folder-create-toggle-button"},a.createElement(w.x6,null,"When a folder is created, notify its creator."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"folderUpdate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.folderUpdate,id:"send-folder-update-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-folder-update-toggle-button"},a.createElement(w.x6,null,"When a folder is updated, notify the users who have access to it."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"folderDelete",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.folderDelete,id:"send-folder-delete-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-folder-delete-toggle-button"},a.createElement(w.x6,null,"When a folder is deleted, notify the users who had access to it."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"folderShare",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.folderShare,id:"send-folder-share-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-folder-share-toggle-button"},a.createElement(w.x6,null,"When a folder is shared, notify the users who gain access to it."))))),a.createElement("div",{className:"section"},a.createElement("div",{className:"comment-section"},a.createElement("label",null,a.createElement(w.x6,null,"Comments")),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"commentAdd",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.commentAdd,id:"send-comment-add-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-comment-add-toggle-button"},a.createElement(w.x6,null,"When a comment is posted on a password, notify the users who have access to this password."))))),a.createElement("div",{className:"section"},a.createElement("div",{className:"group-section"},a.createElement("label",null,a.createElement(w.x6,null,"Group membership")),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"groupDelete",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.groupDelete,id:"send-group-delete-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-group-delete-toggle-button"},a.createElement(w.x6,null,"When a group is deleted, notify the users who were members of it."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"groupUserAdd",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.groupUserAdd,id:"send-group-user-add-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-group-user-add-toggle-button"},a.createElement(w.x6,null,"When users are added to a group, notify them."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"groupUserDelete",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.groupUserDelete,id:"send-group-user-delete-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-group-user-delete-toggle-button"},a.createElement(w.x6,null,"When users are removed from a group, notify them."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"groupUserUpdate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.groupUserUpdate,id:"send-group-user-update-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-group-user-update-toggle-button"},a.createElement(w.x6,null,"When user roles change in a group, notify the corresponding users.")))),a.createElement("div",{className:"group-admin-section"},a.createElement("label",null,a.createElement(w.x6,null,"Group manager")),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"groupManagerUpdate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.groupManagerUpdate,id:"send-group-manager-update-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-group-manager-update-toggle-button"},a.createElement(w.x6,null,"When members of a group change, notify the group manager(s)."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"groupManagerRequestAddUser",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.groupManagerRequestAddUser,id:"send-group-manager-request-add-user-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-group-manager-request-add-user-toggle-button"},a.createElement(w.x6,null,"When group managers are requested to add users to a group, notify them."))))),a.createElement("h3",null,a.createElement(w.x6,null,"Registration & Recovery")),a.createElement("div",{className:"section"},a.createElement("div",{className:"admin-section"},a.createElement("label",null,a.createElement(w.x6,null,"Admin")),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"userSetupCompleteAdmin",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.userSetupCompleteAdmin,id:"user-setup-complete-admin-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"user-setup-complete-admin-toggle-button"},a.createElement(w.x6,null,"When a user completed a setup, notify all the administrators."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"userRecoverCompleteAdmin",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.userRecoverCompleteAdmin,id:"user-recover-complete-admin-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"user-recover-complete-admin-toggle-button"},a.createElement(w.x6,null,"When a user completed a recover, notify all the administrators."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"userRecoverAbortAdmin",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.userRecoverAbortAdmin,id:"user-recover-abort-admin-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"user-recover-abort-admin-toggle-button"},a.createElement(w.x6,null,"When a user aborted a recover, notify all the administrators.")))),a.createElement("div",{className:"user-section"},a.createElement("label",null,a.createElement(w.x6,null,"User")),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"userCreate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.userCreate,id:"send-user-create-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-user-create-toggle-button"},a.createElement(w.x6,null,"When new users are invited to passbolt, notify them."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"userRecover",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.userRecover,id:"send-user-recover-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"send-user-recover-toggle-button"},a.createElement(w.x6,null,"When users try to recover their account, notify them."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"userRecoverComplete",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.userRecoverComplete,id:"user-recover-complete-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"user-recover-complete-toggle-button"},a.createElement(w.x6,null,"When users completed the recover of their account, notify them."))))),this.canUseAccountRecovery()&&a.createElement(a.Fragment,null,a.createElement("h3",null,a.createElement(w.x6,null,"Account recovery")),a.createElement("div",{className:"section"},a.createElement("div",{className:"admin-section"},a.createElement("label",null,a.createElement(w.x6,null,"Admin")),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"accountRecoveryRequestAdmin",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.accountRecoveryRequestAdmin,id:"account-recovery-request-admin-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"account-recovery-request-admin-toggle-button"},a.createElement(w.x6,null,"When an account recovery is requested, notify all the administrators."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"accountRecoveryRequestPolicyUpdate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.accountRecoveryRequestPolicyUpdate,id:"account-recovery-policy-update-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"account-recovery-policy-update-toggle-button"},a.createElement(w.x6,null,"When an account recovery policy is updated, notify all the administrators."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"accountRecoveryRequestCreatedAmin",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.accountRecoveryRequestCreatedAmin,id:"account-recovery-response-created-admin-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"account-recovery-response-created-admin-toggle-button"},a.createElement(w.x6,null,"When an administrator answered to an account recovery request, notify the administrator at the origin of the action."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"accountRecoveryRequestCreatedAllAdmins",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.accountRecoveryRequestCreatedAllAdmins,id:"account-recovery-response-created-all-admin-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"account-recovery-response-created-all-admin-toggle-button"},a.createElement(w.x6,null,"When an administrator answered to an account recovery request, notify all the administrators.")))),a.createElement("div",{className:"user-section"},a.createElement("label",null,a.createElement(w.x6,null,"User")),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"accountRecoveryRequestUser",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.accountRecoveryRequestUser,id:"account-recovery-request-user-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"account-recovery-request-user-toggle-button"},a.createElement(w.x6,null,"When an account recovery is requested, notify the user."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"accountRecoveryRequestUserApproved",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.accountRecoveryRequestUserApproved,id:"account-recovery-response-user-approved-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"account-recovery-response-user-approved-toggle-button"},a.createElement(w.x6,null,"When an account recovery is approved, notify the user."))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"accountRecoveryRequestUserRejected",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.accountRecoveryRequestUserRejected,id:"account-recovery-response-user-rejected-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"account-recovery-response-user-rejected-toggle-button"},a.createElement(w.x6,null,"When an account recovery is rejected, notify the user.")))))),this.canUsePasswordExpiry()&&a.createElement(a.Fragment,null,a.createElement("h3",null,a.createElement(w.x6,null,"Password expiry")),a.createElement("div",{className:"section"},a.createElement("div",null,a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"passwordExpiryExpiredUser",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.passwordExpiryExpiredUser,id:"password-expiry-expired-user-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"password-expiry-expired-user-toggle-button"},a.createElement(w.x6,null,"When a permission is revoked on a consumed password, notify the owner(s) to change it.")))))),a.createElement("h3",null,a.createElement(w.x6,null,"Email content visibility")),a.createElement("p",null,a.createElement(w.x6,null,"In this section you can adjust the composition of the emails, e.g. which information will be included in the notification.")),a.createElement("div",{className:"section"},a.createElement("div",{className:"password-section"},a.createElement("label",null,a.createElement(w.x6,null,"Passwords")),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"showUsername",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.showUsername,id:"show-username-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"show-username-toggle-button"},a.createElement(w.x6,null,"Username"))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"showUri",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.showUri,id:"show-uri-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"show-uri-toggle-button"},a.createElement(w.x6,null,"URI"))),a.createElement("span",{className:"input toggle-switch form-element ready"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"showSecret",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.showSecret,id:"show-secret-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"show-secret-toggle-button"},a.createElement(w.x6,null,"Encrypted secret"))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"showDescription",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.showDescription,id:"show-description-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"show-description-toggle-button"},a.createElement(w.x6,null,"Description")))),a.createElement("div",{className:"comment-section"},a.createElement("label",null,a.createElement(w.x6,null,"Comments")),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"showComment",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:e.showComment,id:"show-comment-toggle-button"}),a.createElement("label",{className:"text",htmlFor:"show-comment-toggle-button"},a.createElement(w.x6,null,"Comment content")))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help",id:"email-notifications-source"},a.createElement("h3",null,a.createElement(w.x6,null,"Configuration source")),a.createElement("p",null,a.createElement(w.x6,null,"This current configuration source is: "),this.configurationSource,".")),a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Need some help?")),a.createElement("p",null,a.createElement(w.x6,null,"For more information about email notification, checkout the dedicated page on the help website.")),a.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/emails/email-notifications/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation"))))))}}bc.propTypes={context:l().any,administrationWorkspaceContext:l().object,adminEmailNotificationContext:l().object,t:l().func};const Ec=h(uc(Ro((0,w.CI)("common")(bc)))),fc=class{constructor(e){this.customerId=e?.customer_id||"",this.subscriptionId=e?"subscription_id"in e?e.subscription_id:"N/A":"",this.users=e?.users||null,this.email=e?"email"in e?e.email:"N/A":"",this.expiry=e?.expiry||null,this.created=e?.created||null,this.data=e?.data||null}};function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},yc.apply(null,arguments)}const vc=a.createContext({getSubscription:()=>{},findSubscriptionKey:()=>{},isProcessing:()=>{},setProcessing:()=>{},getActiveUsers:()=>{},clearContext:()=>{}});class kc extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{subscription:new fc,processing:!0,getSubscription:this.getSubscription.bind(this),findSubscriptionKey:this.findSubscriptionKey.bind(this),isProcessing:this.isProcessing.bind(this),setProcessing:this.setProcessing.bind(this),getActiveUsers:this.getActiveUsers.bind(this),clearContext:this.clearContext.bind(this)}}async findSubscriptionKey(){this.setProcessing(!0);let e=new fc;try{const t=await this.props.context.onGetSubscriptionKeyRequested();e=new fc(t)}catch(t){"PassboltSubscriptionError"===t.name&&(e=new fc(t.subscription))}finally{this.setState({subscription:e}),this.setProcessing(!1)}}async getActiveUsers(){return(await this.props.context.port.request("passbolt.users.get-all")).filter((e=>e.active)).length}getSubscription(){return this.state.subscription}isProcessing(){return this.state.processing}setProcessing(e){this.setState({processing:e})}clearContext(){const{subscription:e,processing:t}=this.defaultState;this.setState({subscription:e,processing:t})}render(){return a.createElement(vc.Provider,{value:this.state},this.props.children)}}kc.propTypes={context:l().any,children:l().any};const wc=h(kc);function xc(e){return class extends a.Component{render(){return a.createElement(vc.Consumer,null,(t=>a.createElement(e,yc({adminSubcriptionContext:t},this.props))))}}}class Sc extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.initEventHandlers(),this.createInputRef()}getDefaultState(){return{selectedFile:null,key:"",keyError:"",processing:!1,hasBeenValidated:!1}}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleKeyInputKeyUp=this.handleKeyInputKeyUp.bind(this),this.handleSelectSubscriptionKeyFile=this.handleSelectSubscriptionKeyFile.bind(this),this.handleSelectFile=this.handleSelectFile.bind(this)}createInputRef(){this.keyInputRef=a.createRef(),this.fileUploaderRef=a.createRef()}componentDidMount(){this.setState({key:this.props.context.editSubscriptionKey.key||""})}async handleFormSubmit(e){e.preventDefault(),this.state.processing||await this.save()}handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.setState({[a]:s})}handleKeyInputKeyUp(){if(this.state.hasAlreadyBeenValidated){const e=this.validateNameInput();this.setState(e)}}handleCloseClick(){this.props.context.setContext({editSubscriptionKey:null}),this.props.onClose()}handleSelectFile(){this.fileUploaderRef.current.click()}get selectedFilename(){return this.state.selectedFile?this.state.selectedFile.name:""}async handleSelectSubscriptionKeyFile(e){const[t]=e.target.files,s=await this.readSubscriptionKeyFile(t);this.setState({key:s,selectedFile:t}),this.state.hasBeenValidated&&await this.validate()}readSubscriptionKeyFile(e){const t=new FileReader;return new Promise(((s,a)=>{t.onloadend=()=>{try{s(t.result)}catch(e){a(e)}},t.readAsText(e)}))}async save(){if(this.state.processing)return;if(await this.setState({hasBeenValidated:!0}),await this.toggleProcessing(),!await this.validate())return this.handleValidateError(),void await this.toggleProcessing();const e={data:this.state.key};try{await this.props.administrationWorkspaceContext.onUpdateSubscriptionKeyRequested(e),await this.handleSaveSuccess(),await this.props.adminSubcriptionContext.findSubscriptionKey()}catch(e){await this.toggleProcessing(),this.handleSaveError(e),this.focusFieldError()}}handleValidateError(){this.focusFieldError()}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The subscription key has been updated successfully.")),this.props.administrationWorkspaceContext.onMustRefreshSubscriptionKey(),this.props.context.setContext({editSubscriptionKey:null,refreshSubscriptionAnnouncement:!0}),this.props.onClose()}async handleSaveError(e){if("PassboltSubscriptionError"===e.name)this.setState({keyError:e.message});else if("EntityValidationError"===e.name)this.setState({keyError:this.translate("The subscription key is invalid.")});else if("PassboltApiFetchError"===e.name&&e.data&&400===e.data.code)this.setState({keyError:e.message});else{console.error(e);const t={error:e};this.props.dialogContext.open(we,t)}}focusFieldError(){this.state.keyError&&this.keyInputRef.current.focus()}validateKeyInput(){const e=this.state.key.trim();let t="";return e.length||(t=this.translate("A subscription key is required.")),new Promise((e=>{this.setState({keyError:t},e)}))}async validate(){return this.setState({keyError:""}),await this.validateKeyInput(),""===this.state.keyError}async toggleProcessing(){await this.setState({processing:!this.state.processing})}hasAllInputDisabled(){return this.state.processing}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("Edit subscription key"),onClose:this.handleCloseClick,disabled:this.state.processing,className:"edit-subscription-dialog"},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input textarea required ${this.state.keyError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",{htmlFor:"edit-tag-form-name"},a.createElement(w.x6,null,"Subscription key")),a.createElement("textarea",{id:"edit-subscription-form-key",name:"key",value:this.state.key,onKeyUp:this.handleKeyInputKeyUp,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),ref:this.keyInputRef,className:"required full_report",required:"required",autoComplete:"off",autoFocus:!0})),a.createElement("div",{className:"input file "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("input",{type:"file",ref:this.fileUploaderRef,disabled:this.hasAllInputDisabled(),onChange:this.handleSelectSubscriptionKeyFile}),a.createElement("div",{className:"input-file-inline"},a.createElement("input",{type:"text",disabled:!0,placeholder:this.translate("No key file selected"),value:this.selectedFilename}),a.createElement("button",{type:"button",className:"button primary",onClick:this.handleSelectFile,disabled:this.hasAllInputDisabled()},a.createElement("span",null,a.createElement(w.x6,null,"Choose a file")))),this.state.keyError&&a.createElement("div",{className:"key error-message"},this.state.keyError))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseClick}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Save")}))))}}Sc.propTypes={context:l().any,onClose:l().func,actionFeedbackContext:l().any,adminSubcriptionContext:l().object,dialogContext:l().any,administrationWorkspaceContext:l().any,t:l().func};const Nc=h(xc(Ro(_e(k((0,w.CI)("common")(Sc))))));class Rc{constructor(e){this.context=e.context,this.dialogContext=e.dialogContext,this.subscriptionContext=e.adminSubcriptionContext}static getInstance(e){return this.instance||(this.instance=new Rc(e)),this.instance}static killInstance(){this.instance=null}async editSubscription(){const e={key:this.subscriptionContext.getSubscription().data};this.context.setContext({editSubscriptionKey:e}),this.dialogContext.open(Nc)}}const Ic=Rc;class _c extends a.Component{constructor(e){super(e),this.bindCallbacks(),this.subscriptionActionService=Ic.getInstance(this.props)}bindCallbacks(){this.handleEditSubscriptionClick=this.handleEditSubscriptionClick.bind(this)}handleEditSubscriptionClick(){this.subscriptionActionService.editSubscription()}render(){return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",onClick:this.handleEditSubscriptionClick},a.createElement(ge,{name:"edit"}),a.createElement("span",null,a.createElement(w.x6,null,"Update key")))))))}}_c.propTypes={context:l().object,dialogContext:l().object,adminSubscriptionContext:l().object,actionFeedbackContext:l().object,t:l().func};const Dc=_e(k(xc((0,w.CI)("common")(_c))));class Tc extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.subscriptionActionService=Ic.getInstance(this.props)}get defaultState(){return{activeUsers:null}}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(Dc),this.findActiveUsers(),await this.findSubscriptionKey()}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminSubcriptionContext.clearContext(),Ic.killInstance(),this.mfaFormService=null}bindCallbacks(){this.handleRenewKey=this.handleRenewKey.bind(this),this.handleUpdateKey=this.handleUpdateKey.bind(this)}async findActiveUsers(){const e=await this.props.adminSubcriptionContext.getActiveUsers();this.setState({activeUsers:e})}async findSubscriptionKey(){this.props.adminSubcriptionContext.findSubscriptionKey()}handleRenewKey(){const e=this.props.adminSubcriptionContext.getSubscription();this.hasLimitUsersExceeded()?this.props.navigationContext.onGoToNewTab(`https://www.passbolt.com/subscription/ee/update/qty?subscription_id=${e.subscriptionId}&customer_id=${e.customerId}`):(this.hasSubscriptionKeyExpired()||this.hasSubscriptionKeyGoingToExpire())&&this.props.navigationContext.onGoToNewTab(`https://www.passbolt.com/subscription/ee/update/renew?subscription_id=${e.subscriptionId}&customer_id=${e.customerId}`)}handleUpdateKey(){this.subscriptionActionService.editSubscription()}hasSubscriptionKeyExpired(){return We.c9.fromISO(this.props.adminSubcriptionContext.getSubscription().expiry)<We.c9.now()}hasSubscriptionKeyGoingToExpire(){return We.c9.fromISO(this.props.adminSubcriptionContext.getSubscription().expiry)<We.c9.now().plus({days:30})&&!this.hasSubscriptionKeyExpired()}hasSubscriptionKey(){return Boolean(this.props.adminSubcriptionContext.getSubscription().data)}hasLimitUsersExceeded(){return this.props.adminSubcriptionContext.getSubscription().users<this.state.activeUsers}hasSubscriptionToRenew(){return this.hasInvalidSubscription()||this.hasSubscriptionKeyGoingToExpire()}hasValidSubscription(){return this.hasSubscriptionKey()&&!this.hasLimitUsersExceeded()&&!this.hasSubscriptionKeyExpired()}hasInvalidSubscription(){return!this.hasSubscriptionKey()||this.hasLimitUsersExceeded()||this.hasSubscriptionKeyExpired()}formatDate(e){try{return We.c9.fromISO(e).setLocale(this.props.context.locale).toLocaleString(We.c9.DATE_SHORT)}catch(e){return""}}get translate(){return this.props.t}render(){const e=this.props.adminSubcriptionContext.getSubscription(),t=this.props.adminSubcriptionContext.isProcessing();return a.createElement("div",{className:"row"},!t&&a.createElement("div",{className:"subscription-key col8 main-column"},a.createElement("h3",null,a.createElement(w.x6,null,"Subscription key details")),a.createElement("div",{className:"feedback-card"},this.hasValidSubscription()&&!this.hasSubscriptionKeyGoingToExpire()&&a.createElement(Fr,{name:"success"}),this.hasInvalidSubscription()&&a.createElement(Fr,{name:"error"}),this.hasValidSubscription()&&this.hasSubscriptionKeyGoingToExpire()&&a.createElement(Fr,{name:"warning"}),a.createElement("div",{className:"subscription-information"},!this.hasSubscriptionKey()&&a.createElement(a.Fragment,null,a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"Your subscription key is either missing or not valid.")),a.createElement("p",null,a.createElement(w.x6,null,"Sorry your subscription is either missing or not readable."),a.createElement("br",null),a.createElement(w.x6,null,"Update the subscription key and try again.")," ",a.createElement(w.x6,null,"If this does not work get in touch with support."))),this.hasValidSubscription()&&this.hasSubscriptionKeyGoingToExpire()&&a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"Your subscription key is going to expire.")),this.hasSubscriptionKey()&&this.hasInvalidSubscription()&&a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"Your subscription key is not valid.")),this.hasValidSubscription()&&!this.hasSubscriptionKeyGoingToExpire()&&a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"Your subscription key is valid and up to date!")),this.hasSubscriptionKey()&&a.createElement("ul",null,a.createElement("li",{className:"customer-id"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Customer id:")),a.createElement("span",{className:"value"},e.customerId)),a.createElement("li",{className:"subscription-id"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Subscription id:")),a.createElement("span",{className:"value"},e.subscriptionId)),a.createElement("li",{className:"email"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Email:")),a.createElement("span",{className:"value"},e.email)),a.createElement("li",{className:"users"},a.createElement("span",{className:"label "+(this.hasLimitUsersExceeded()?"error":"")},a.createElement(w.x6,null,"Users limit:")),a.createElement("span",{className:"value "+(this.hasLimitUsersExceeded()?"error":"")},e.users," (",a.createElement(w.x6,null,"currently:")," ",this.state.activeUsers,")")),a.createElement("li",{className:"created"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Valid from:")),a.createElement("span",{className:"value"},this.formatDate(e.created))),a.createElement("li",{className:"expiry"},a.createElement("span",{className:`label ${this.hasSubscriptionKeyExpired()?"error":""} ${this.hasSubscriptionKeyGoingToExpire()?"warning":""}`},a.createElement(w.x6,null,"Expires on:")),a.createElement("span",{className:`value ${this.hasSubscriptionKeyExpired()?"error":""} ${this.hasSubscriptionKeyGoingToExpire()?"warning":""}`},this.formatDate(e.expiry)," (",`${this.hasSubscriptionKeyExpired()?this.translate("expired "):""}${nt(e.expiry,this.props.t,this.props.context.locale)}`,")"))),this.hasSubscriptionToRenew()&&a.createElement("div",{className:"actions-wrapper"},this.hasSubscriptionKey()&&a.createElement("button",{className:"button primary",type:"button",onClick:this.handleRenewKey},a.createElement(w.x6,null,"Renew key")),!this.hasSubscriptionKey()&&a.createElement("button",{className:"button primary",type:"button",onClick:this.handleUpdateKey},a.createElement(w.x6,null,"Update key")),a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.passbolt.com/contact"},a.createElement(w.x6,null,"or, contact us")))))),!t&&a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Need help?")),a.createElement("p",null,a.createElement(w.x6,null,"For any change or question related to your passbolt subscription, kindly contact our sales team.")),a.createElement("a",{className:"button",target:"_blank",rel:"noopener noreferrer",href:"https://www.passbolt.com/contact"},a.createElement(ge,{name:"envelope"}),a.createElement("span",null,a.createElement(w.x6,null,"Contact Sales"))))))}}Tc.propTypes={context:l().any,navigationContext:l().any,administrationWorkspaceContext:l().object,adminSubcriptionContext:l().object,dialogContext:l().any,t:l().func};const Pc=h(b(xc(Ro(k((0,w.CI)("common")(Tc)))))),Ac=class{constructor(e){e.setResourceName("locale/settings"),this.apiClient=new $a(e)}async save(e){return(await this.apiClient.create(e)).body}};function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Mc.apply(null,arguments)}const Uc=a.createContext({getCurrentLocale:()=>{},getLocale:()=>{},supportedLocales:()=>{},setLocale:()=>{},hasLocaleChanges:()=>{},findLocale:()=>{},save:()=>{},setProcessing:()=>{},isProcessing:()=>{},clearContext:()=>{}});class Fc extends a.Component{constructor(e){super(e),this.state=this.defaultState;const t=e.context.getApiClientOptions();this.internalisationService=new Ac(t)}get defaultState(){return{currentLocale:null,locale:"en-UK",processing:!0,getCurrentLocale:this.getCurrentLocale.bind(this),getLocale:this.getLocale.bind(this),setLocale:this.setLocale.bind(this),findLocale:this.findLocale.bind(this),hasLocaleChanges:this.hasLocaleChanges.bind(this),isProcessing:this.isProcessing.bind(this),setProcessing:this.setProcessing.bind(this),save:this.save.bind(this),clearContext:this.clearContext.bind(this)}}findLocale(){this.setProcessing(!0);const e=this.props.context.siteSettings.locale;this.setState({currentLocale:e}),this.setState({locale:e}),this.setProcessing(!1)}getCurrentLocale(){return this.state.currentLocale}getLocale(){return this.state.locale}async setLocale(e){await this.setState({locale:e})}isProcessing(){return this.state.processing}setProcessing(e){this.setState({processing:e})}hasLocaleChanges(){return this.state.locale!==this.state.currentLocale}clearContext(){const{currentLocale:e,locale:t,processing:s}=this.defaultState;this.setState({currentLocale:e,locale:t,processing:s})}async save(){this.setProcessing(!0),await this.internalisationService.save({value:this.state.locale}),this.props.context.onRefreshLocaleRequested(this.state.locale),this.findLocale()}render(){return a.createElement(Uc.Provider,{value:this.state},this.props.children)}}function Lc(e){return class extends a.Component{render(){return a.createElement(Uc.Consumer,null,(t=>a.createElement(e,Mc({adminInternationalizationContext:t},this.props))))}}}Fc.propTypes={context:l().any,children:l().any},h(Fc);class Oc extends a.Component{constructor(e){super(e),this.bindCallbacks()}async handleSaveClick(){try{await this.props.adminInternationalizationContext.save(),this.handleSaveSuccess()}catch(e){this.handleSaveError(e)}finally{this.props.adminInternationalizationContext.setProcessing(!1)}}isSaveEnabled(){return!this.props.adminInternationalizationContext.isProcessing()&&this.props.adminInternationalizationContext.hasLocaleChanges()}bindCallbacks(){this.handleSaveClick=this.handleSaveClick.bind(this)}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The internationalization settings were updated."))}async handleSaveError(e){"UserAbortsOperationError"!==e.name&&(console.error(e),await this.handleError(e))}async handleError(e){await this.props.actionFeedbackContext.displayError(e.message)}render(){return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isSaveEnabled(),onClick:this.handleSaveClick},a.createElement(ge,{name:"save"}),a.createElement("span",null,a.createElement(w.x6,null,"Save settings")))))))}}Oc.propTypes={context:l().object,adminInternationalizationContext:l().object,actionFeedbackContext:l().object,t:l().func};const Vc=Lc(_e((0,w.CI)("common")(Oc)));class Hc extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(Vc),this.props.adminInternationalizationContext.findLocale()}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminInternationalizationContext.clearContext()}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this)}handleInputChange(e){this.props.adminInternationalizationContext.setLocale(e.target.value)}get supportedLocales(){return this.props.context.siteSettings.supportedLocales?this.props.context.siteSettings.supportedLocales.map((e=>({value:e.locale,label:e.label}))):[]}render(){const e=this.props.adminInternationalizationContext.getLocale();return a.createElement("div",{className:"row"},a.createElement("div",{className:"internationalisation-settings col7 main-column"},a.createElement("h3",null,a.createElement(w.x6,null,"Internationalisation")),a.createElement("form",{className:"form"},a.createElement("div",{className:"select-wrapper input"},a.createElement("label",{htmlFor:"app-locale-input"},a.createElement(w.x6,null,"Language")),a.createElement(gs,{className:"medium",id:"locale-input",name:"locale",items:this.supportedLocales,value:e,onChange:this.handleInputChange}),a.createElement("p",null,a.createElement(w.x6,null,"The default language of the organisation."))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Want to contribute?")),a.createElement("p",null,a.createElement(w.x6,null,"Your language is missing or you discovered an error in the translation, help us to improve passbolt.")),a.createElement("a",{className:"button",href:"https://help.passbolt.com/contribute/translation",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"heart-o"}),a.createElement("span",null,a.createElement(w.x6,null,"Contribute"))))))}}Hc.propTypes={context:l().object,administrationWorkspaceContext:l().object,adminInternationalizationContext:l().object,t:l().func};const qc=h(Lc(Ro((0,w.CI)("common")(Hc))));function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},jc.apply(null,arguments)}const Wc=a.createContext({currentPolicy:null,policyChanges:{},findAccountRecoveryPolicy:()=>{},getKeyInfo:()=>{},changePolicy:()=>{},changePublicKey:()=>{},hasPolicyChanges:()=>{},resetChanges:()=>{},downloadPrivateKey:()=>{},save:()=>{}});class zc extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{currentPolicy:null,policyChanges:{},findAccountRecoveryPolicy:this.findAccountRecoveryPolicy.bind(this),getKeyInfo:this.getKeyInfo.bind(this),changePolicy:this.changePolicy.bind(this),changePublicKey:this.changePublicKey.bind(this),hasPolicyChanges:this.hasPolicyChanges.bind(this),resetChanges:this.resetChanges.bind(this),downloadPrivateKey:this.downloadPrivateKey.bind(this),save:this.save.bind(this)}}async findAccountRecoveryPolicy(){if(!this.props.context.siteSettings.canIUse("accountRecovery"))return;const e=await this.props.context.port.request("passbolt.account-recovery.get-organization-policy");this.setState({currentPolicy:e})}async changePolicy(e){const t=this.state.policyChanges;e===this.state.currentPolicy?.policy?delete t.policy:t.policy=e,"disabled"===e&&delete t.publicKey,await this.setState({policyChanges:t})}async changePublicKey(e){const t={...this.state.policyChanges,publicKey:e};await this.setState({policyChanges:t})}hasPolicyChanges(){return Boolean(this.state.policyChanges?.publicKey)||Boolean(this.state.policyChanges?.policy)}async getKeyInfo(e){return e?this.props.context.port.request("passbolt.keyring.get-key-info",e):null}async resetChanges(){await this.setState({policyChanges:{}})}async downloadPrivateKey(e){await this.props.context.port.request("passbolt.account-recovery.download-organization-generated-key",e)}async save(e){const t=this.buildPolicySaveDto(),s=await this.props.context.port.request("passbolt.account-recovery.save-organization-policy",t,e);this.setState({currentPolicy:s,policyChanges:{}}),this.props.accountRecoveryContext.reloadAccountRecoveryPolicy()}buildPolicySaveDto(){const e={};return this.state.policyChanges.policy&&(e.policy=this.state.policyChanges.policy),this.state.policyChanges.publicKey&&(e.account_recovery_organization_public_key={armored_key:this.state.policyChanges.publicKey}),e}render(){return a.createElement(Wc.Provider,{value:this.state},this.props.children)}}zc.propTypes={context:l().any,children:l().any,accountRecoveryContext:l().object};const Bc=h(da(zc));function Gc(e){return class extends a.Component{render(){return a.createElement(Wc.Consumer,null,(t=>a.createElement(e,jc({adminAccountRecoveryContext:t},this.props))))}}}class Kc extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{processing:!1}}bindCallbacks(){this.handleSubmit=this.handleSubmit.bind(this),this.handleClose=this.handleClose.bind(this)}handleClose(){this.props.onClose()}async toggleProcessing(){await this.setState({processing:!this.state.processing})}get isProcessing(){return this.state.processing}async handleSubmit(e){e.preventDefault(),await this.toggleProcessing();try{await this.props.onSubmit(),this.props.onClose()}catch(e){if(await this.toggleProcessing(),"UserAbortsOperationError"!==e.name)throw console.error("Uncaught uncontrolled error"),e}}formatFingerprint(e){const t=(e=e||"").toUpperCase().replace(/.{4}/g,"$& ");return a.createElement(a.Fragment,null,t.substr(0,24),a.createElement("br",null),t.substr(25))}formatUserIds(e){return(e=e||[]).map(((e,t)=>a.createElement(a.Fragment,{key:t},e.name,"<",e.email,">",a.createElement("br",null))))}formatDate(e){return We.c9.fromJSDate(new Date(e)).setLocale(this.props.context.locale).toLocaleString(We.c9.DATETIME_FULL)}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("Save Settings Summary"),onClose:this.handleClose,disabled:this.state.processing,className:"save-recovery-account-settings-dialog"},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("div",{className:"form-content"},this.props.policy&&a.createElement(a.Fragment,null,a.createElement("label",null,a.createElement(w.x6,null,"New Account Recovery Policy")),a.createElement("div",{className:"radiolist-alt"},a.createElement("div",{className:"input radio"},a.createElement("label",{htmlFor:"accountPolicy"},a.createElement("span",{className:"name"},{mandatory:a.createElement(w.x6,null,"Prompt"),"opt-out":a.createElement(w.x6,null,"Optional, Opt-out"),"opt-in":a.createElement(w.x6,null,"Optional, Opt-in"),disabled:a.createElement(w.x6,null,"Disable")}[this.props.policy]),a.createElement("span",{className:"info"},{mandatory:a.createElement(a.Fragment,null,a.createElement(w.x6,null,"Every user is required to provide a copy of their private key and passphrase during setup."),a.createElement("br",null),a.createElement(w.x6,null,"Warning: You should inform your users not to store personal passwords.")),"opt-out":a.createElement(w.x6,null,"Every user will be prompted to provide a copy of their private key and passphrase by default during the setup, but they can opt out."),"opt-in":a.createElement(w.x6,null,"Every user can decide to provide a copy of their private key and passphrase by default during the setup, but they can opt in."),disabled:a.createElement(a.Fragment,null,a.createElement(w.x6,null,"Backup of the private key and passphrase will not be stored. This is the safest option."),a.createElement("br",null),a.createElement(w.x6,null,"Warning: If users lose their private key and passphrase they will not be able to recover their account."))}[this.props.policy]))))),this.props.keyInfo&&a.createElement(a.Fragment,null,a.createElement("label",null,a.createElement(w.x6,null,"New Organization Recovery Key")),a.createElement("div",{className:"recovery-key-details"},a.createElement("table",{className:"table-info recovery-key"},a.createElement("tbody",null,a.createElement("tr",{className:"user-ids"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Uid")),a.createElement("td",{className:"value"},this.formatUserIds(this.props.keyInfo.user_ids))),a.createElement("tr",{className:"fingerprint"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Fingerprint")),a.createElement("td",{className:"value"},this.formatFingerprint(this.props.keyInfo.fingerprint))),a.createElement("tr",{className:"algorithm"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Algorithm")),a.createElement("td",{className:"value"},this.props.keyInfo.algorithm)),a.createElement("tr",{className:"key-length"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Key length")),a.createElement("td",{className:"value"},this.props.keyInfo.length)),a.createElement("tr",{className:"created"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Created")),a.createElement("td",{className:"value"},this.formatDate(this.props.keyInfo.created))),a.createElement("tr",{className:"expires"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Expires")),a.createElement("td",{className:"value"},nt(this.props.keyInfo.expires,this.props.t,this.props.context.locale)))))))),a.createElement("div",{className:"warning message"},a.createElement(w.x6,null,"Please review carefully this configuration as it will not be trivial to change this later.")),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.passbolt.com/docs/admin/authentication/account-recovery/",className:"button button-left "+(this.isProcessing?"disabled":"")},a.createElement(w.x6,null,"Learn more")),a.createElement(qt,{onClick:this.handleClose,disabled:this.isProcessing}),a.createElement(Vt,{value:this.translate("Save"),disabled:this.isProcessing,processing:this.isProcessing,warning:!0}))))}}Kc.propTypes={context:l().any,onClose:l().func,onSubmit:l().func,policy:l().string,keyInfo:l().object,t:l().func};const $c=h((0,w.CI)("common")(Kc));class Zc extends a.Component{constructor(e){super(e),this.bindCallbacks()}componentDidMount(){this.displayConfirmSummaryDialog()}bindCallbacks(){this.handleCloseDialog=this.handleCloseDialog.bind(this),this.handleConfirmSave=this.handleConfirmSave.bind(this),this.handleSave=this.handleSave.bind(this),this.handleError=this.handleError.bind(this)}async displayConfirmSummaryDialog(){this.props.dialogContext.open($c,{policy:this.props.adminAccountRecoveryContext.policyChanges?.policy,keyInfo:await this.getNewOrganizationKeyInfo(),onClose:this.handleCloseDialog,onSubmit:this.handleConfirmSave})}getNewOrganizationKeyInfo(){const e=this.props.adminAccountRecoveryContext.policyChanges?.publicKey;return e?this.props.adminAccountRecoveryContext.getKeyInfo(e):null}displayProvideAccountRecoveryOrganizationKeyDialog(){this.props.dialogContext.open(ua,{onClose:this.handleCloseDialog,onSubmit:this.handleSave})}handleCloseDialog(){this.props.onStop()}async handleConfirmSave(){Boolean(this.props.adminAccountRecoveryContext.currentPolicy?.account_recovery_organization_public_key)?this.displayProvideAccountRecoveryOrganizationKeyDialog():await this.handleSave()}async handleSave(e=null){try{await this.props.adminAccountRecoveryContext.save(e),await this.props.actionFeedbackContext.displaySuccess(this.translate("The organization recovery policy has been updated successfully")),this.props.onStop()}catch(e){this.handleError(e)}}handleError(e){if(["UserAbortsOperationError","WrongOrganizationRecoveryKeyError","InvalidMasterPasswordError","BadSignatureMessageGpgKeyError","GpgKeyError"].includes(e.name))throw e;"PassboltApiFetchError"===e.name&&e?.data?.body?.account_recovery_organization_public_key?.fingerprint?.isNotAccountRecoveryOrganizationPublicKeyFingerprintRule?this.props.dialogContext.open(we,{error:new Error(this.translate("The new organization recovery key should not be a formerly used organization recovery key."))}):this.props.dialogContext.open(we,{error:e}),this.props.onStop()}get translate(){return this.props.t}render(){return a.createElement(a.Fragment,null)}}Zc.propTypes={dialogContext:l().any,adminAccountRecoveryContext:l().any,actionFeedbackContext:l().object,context:l().object,onStop:l().func.isRequired,t:l().func};const Yc=h(k(_e(Gc((0,w.CI)("common")(Zc)))));class Jc extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleSaveClick=this.handleSaveClick.bind(this),this.handleEditSubscriptionClick=this.handleEditSubscriptionClick.bind(this)}handleSaveClick(){this.props.workflowContext.start(Yc,{})}handleEditSubscriptionClick(){this.props.adminAccountRecoveryContext.resetChanges()}isSaveEnabled(){if(!this.props.adminAccountRecoveryContext.hasPolicyChanges())return!1;const e=this.props.adminAccountRecoveryContext.policyChanges,t=this.props.adminAccountRecoveryContext.currentPolicy;if(e?.policy===la.POLICY_DISABLED)return!0;const s=e.publicKey||t.account_recovery_organization_public_key?.armored_key;return!(!Boolean(e.policy)||!Boolean(s))||t.policy!==la.POLICY_DISABLED&&Boolean(e.publicKey)}isResetEnabled(){return this.props.adminAccountRecoveryContext.hasPolicyChanges()}render(){return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isSaveEnabled(),onClick:this.handleSaveClick},a.createElement(ge,{name:"save"}),a.createElement("span",null,a.createElement(w.x6,null,"Save settings")))),a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isResetEnabled(),onClick:this.handleEditSubscriptionClick},a.createElement(ge,{name:"edit"}),a.createElement("span",null,a.createElement(w.x6,null,"Reset settings")))))))}}Jc.propTypes={adminAccountRecoveryContext:l().object,workflowContext:l().any};const Xc=ra(Gc((0,w.CI)("common")(Jc)));class Qc extends a.Component{constructor(e){super(e),this.bindCallback()}bindCallback(){this.handleClick=this.handleClick.bind(this)}handleClick(){this.props.onClick(this.props.name)}render(){return a.createElement("li",{className:"tab "+(this.props.isActive?"active":"")},a.createElement("button",{type:"button",className:"tab-link",onClick:this.handleClick},this.props.name))}}Qc.propTypes={name:l().string,type:l().string,isActive:l().bool,onClick:l().func,children:l().any};const ed=Qc;class td extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(e),this.bindCallback()}getDefaultState(e){return{activeTabName:e.activeTabName}}bindCallback(){this.handleTabClick=this.handleTabClick.bind(this)}handleTabClick(e){this.setState({activeTabName:e.name}),"function"==typeof e.onClick&&e.onClick()}render(){return a.createElement("div",{className:"tabs"},a.createElement("ul",{className:"tabs-nav tabs-nav--bordered"},this.props.children.map((({key:e,props:t})=>a.createElement(ed,{key:e,name:t.name,onClick:()=>this.handleTabClick(t),isActive:t.name===this.state.activeTabName})))),a.createElement("div",{className:"tabs-active-content"},this.props.children.find((e=>e.props.name===this.state.activeTabName)).props.children))}}td.propTypes={activeTabName:l().string,children:l().any};const sd=td;class ad extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createInputRef()}get defaultState(){return{processing:!1,key:"",keyError:"",hasAlreadyBeenValidated:!1,selectedFile:null}}bindCallbacks(){this.handleSelectFile=this.handleSelectFile.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleSelectOrganizationKeyFile=this.handleSelectOrganizationKeyFile.bind(this)}createInputRef(){this.keyInputRef=a.createRef(),this.fileUploaderRef=a.createRef()}async handleSelectOrganizationKeyFile(e){const[t]=e.target.files,s=await this.readOrganizationKeyFile(t);this.setState({key:s,selectedFile:t})}readOrganizationKeyFile(e){const t=new FileReader;return new Promise(((s,a)=>{t.onloadend=()=>{try{s(t.result)}catch(e){a(e)}},t.readAsText(e)}))}async validateKeyInput(){const e=this.state.key.trim();return""===e?Promise.reject(new Error(this.translate("The key can't be empty."))):await this.props.context.port.request("passbolt.account-recovery.validate-organization-key",e)}async validate(){return this.setState({keyError:""}),await this.validateKeyInput().then((()=>!0)).catch((e=>(this.setState({keyError:e.message}),!1)))}handleInputChange(e){const t=e.target;this.setState({[t.name]:t.value})}handleSelectFile(){this.fileUploaderRef.current.click()}async handleFormSubmit(e){e.preventDefault(),this.state.processing||await this.save()}async save(){if(await this.setState({hasAlreadyBeenValidated:!0}),await this.toggleProcessing(),!await this.validate())return this.handleValidateError(),void await this.toggleProcessing();await this.props.onUpdateOrganizationKey(this.state.key.trim())}handleValidateError(){this.focusFieldError()}focusFieldError(){this.state.keyError&&this.keyInputRef.current.focus()}async toggleProcessing(){await this.setState({processing:!this.state.processing})}hasAllInputDisabled(){return this.state.processing}get translate(){return this.props.t}get selectedFilename(){return this.state.selectedFile?this.state.selectedFile.name:""}render(){return a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content import-organization-key"},a.createElement("div",{className:"input textarea required "+(this.state.keyError?"error":"")},a.createElement("label",{htmlFor:"organization-recover-form-key"},a.createElement(w.x6,null,"Import an OpenPGP Public key")),a.createElement("textarea",{id:"organization-recover-form-key",name:"key",value:this.state.key,onKeyUp:this.handleKeyInputKeyUp,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),ref:this.keyInputRef,className:"required",placeholder:this.translate("Add Open PGP Public key"),required:"required",autoComplete:"off",autoFocus:!0})),a.createElement("div",{className:"input file"},a.createElement("input",{type:"file",id:"dialog-import-private-key",ref:this.fileUploaderRef,disabled:this.hasAllInputDisabled(),onChange:this.handleSelectOrganizationKeyFile}),a.createElement("label",{htmlFor:"dialog-import-private-key"},a.createElement(w.x6,null,"Select a file to import")),a.createElement("div",{className:"input-file-inline"},a.createElement("input",{type:"text",disabled:!0,placeholder:this.translate("No file selected"),defaultValue:this.selectedFilename}),a.createElement("button",{className:"button primary",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleSelectFile},a.createElement("span",null,a.createElement(w.x6,null,"Choose a file")))),this.state.keyError&&a.createElement("div",{className:"key error-message"},this.state.keyError))),!this.state.hasAlreadyBeenValidated&&a.createElement("div",{className:"message notice"},a.createElement(ge,{baseline:!0,name:"info-circle"}),a.createElement("strong",null,a.createElement(w.x6,null,"Pro tip"),":")," ",a.createElement(w.x6,null,"Learn how to ",a.createElement("a",{href:"https://help.passbolt.com/configure/account-recovery",target:"_blank",rel:"noopener noreferrer"},"generate a key separately."))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.props.onClose}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Apply")})))}}ad.propTypes={context:l().object,onUpdateOrganizationKey:l().func,onClose:l().func,t:l().func};const nd=h((0,w.CI)("common")(ad));class rd extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createInputRef()}get defaultState(){return{name:"",nameError:"",email:"",emailError:"",algorithm:"RSA",keySize:4096,passphrase:"",passphraseConfirmation:"",passphraseWarning:"",passphraseEntropy:null,hasAlreadyBeenValidated:!1,isPwnedServiceAvailable:!0,passphraseInDictionnary:!1}}async componentDidMount(){await this.props.passwordPoliciesContext.findPolicies(),this.initPwnedPasswordService()}bindCallbacks(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleNameInputKeyUp=this.handleNameInputKeyUp.bind(this),this.handleEmailInputKeyUp=this.handleEmailInputKeyUp.bind(this),this.handlePassphraseChange=this.handlePassphraseChange.bind(this)}createInputRef(){this.nameInputRef=a.createRef(),this.emailInputRef=a.createRef(),this.passphraseInputRef=a.createRef(),this.passphraseConfirmationInputRef=a.createRef()}initPwnedPasswordService(){const e=this.props.passwordPoliciesContext.shouldRunDictionaryCheck();e&&(this.pownedService=new ti(this.props.context.port)),this.setState({isPwnedServiceAvailable:e})}handleNameInputKeyUp(){this.state.hasAlreadyBeenValidated&&this.validateNameInput()}validateNameInput(){let e=null;return this.state.name.trim().length||(e=this.translate("A name is required.")),this.setState({nameError:e}),null===e}handleEmailInputKeyUp(){this.state.hasAlreadyBeenValidated&&this.validateEmailInput()}validateEmailInput(){let e=null;const t=this.state.email.trim();return t.length?Hn.validate(t,this.props.context.siteSettings)||(e=this.translate("Please enter a valid email address.")):e=this.translate("An email is required."),this.setState({email:t,emailError:e}),null===e}async handlePassphraseChange(e){const t=e.target.value;this.setState({passphrase:t},(()=>this.checkPassphraseValidity()))}async checkPassphraseValidity(){let e=null;if(this.state.passphrase.length>0?e=ei(this.state.passphrase):this.setState({passphraseInDictionnary:!1,passwordEntropy:null}),this.state.hasAlreadyBeenValidated)this.setState({passphraseInDictionnary:!1}),this.validatePassphraseInput();else{const e=this.state.passphrase.length>=4096,t=this.translate("this is the maximum size for this field, make sure your data was not truncated"),s=e?t:"";this.setState({passphraseWarning:s})}this.setState({passphraseEntropy:e})}validatePassphraseInput(){return!this.hasAnyErrors()}validatePassphraseConfirmationInput(){return!this.isEmptyPasswordConfirmation()&&!this.isPassphraseAndConfirmationDifferent()}hasWeakPassword(){return!this.isMinimumRequiredEntropyReached(this.state.passphraseEntropy)}isEmptyPasswordConfirmation(){return!this.state.passphraseConfirmation.length}isEmptyPassword(){return!this.state.passphrase.length}isPassphraseAndConfirmationDifferent(){return!this.isEmptyPasswordConfirmation()&&this.state.passphrase!==this.state.passphraseConfirmation}async evaluatePassphraseIsInDictionary(e){let t=this.state.isPwnedServiceAvailable;if(!t||!this.pownedService)return!1;let s=!1;try{const a=await this.pownedService.evaluateSecret(e);s=this.state.passphrase&&a.inDictionary&&this.isMinimumRequiredEntropyReached(this.state.passphraseEntropy),t=a.isPwnedServiceAvailable}catch(e){if(!(e instanceof Ci||e instanceof Ei))throw e;t=!1,s=!1}return this.setState({isPwnedServiceAvailable:t,passphraseInDictionnary:s}),s}handleInputChange(e){const t=e.target;this.setState({[t.name]:t.value})}handleValidateError(){this.focusFirstFieldError()}focusFirstFieldError(){this.state.nameError?this.nameInputRef.current.focus():this.state.emailError?this.emailInputRef.current.focus():this.hasAnyErrors()?this.passphraseInputRef.current.focus():this.validatePassphraseConfirmationInput()||this.passphraseConfirmationInputRef.current.focus()}async handleFormSubmit(e){e.preventDefault(),this.state.processing||(this.setState({hasAlreadyBeenValidated:!0}),await this.save())}hasAnyErrors(){const e=[this.isEmptyPassword(),this.state.passphraseInDictionnary];return e.push(this.hasWeakPassword()),e.push(!this.pownedService&&this.state.passphrase.length<8),e.includes(!0)}async save(){if(this.toggleProcessing(),!await this.validate())return this.handleValidateError(),void this.toggleProcessing();if(await this.evaluatePassphraseIsInDictionary(this.state.passphrase))return void this.toggleProcessing();const e=await this.generateKey();this.props.onUpdateOrganizationKey(e.public_key.armored_key,e.private_key.armored_key)}async validate(){const e=this.validateNameInput(),t=this.validateEmailInput(),s=this.validatePassphraseInput(),a=this.validatePassphraseConfirmationInput();return e&&t&&s&&a}async generateKey(){const e={name:this.state.name,email:this.state.email,algorithm:this.state.algorithm,keySize:this.state.keySize,passphrase:this.state.passphrase};return await this.props.context.port.request("passbolt.account-recovery.generate-organization-key",e)}toggleProcessing(){this.setState({processing:!this.state.processing})}hasAllInputDisabled(){return this.state.processing}isMinimumRequiredEntropyReached(e){return e>=80}get translate(){return this.props.t}get isPassphraseWarning(){return this.state.passphrase?.length>0&&!this.state.hasAlreadyBeenValidated&&(!this.state.isPwnedServiceAvailable||this.state.passphraseInDictionnary)}render(){const e=this.state.passphraseInDictionnary?0:this.state.passphraseEntropy;return a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content generate-organization-key"},a.createElement("div",{className:"input text required "+(this.state.nameError?"error":"")},a.createElement("label",{htmlFor:"generate-organization-key-form-name"},a.createElement(w.x6,null,"Name")),a.createElement("input",{id:"generate-organization-key-form-name",name:"name",type:"text",value:this.state.name,onKeyUp:this.handleNameInputKeyUp,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),ref:this.nameInputRef,className:"required fluid",maxLength:"64",required:"required",autoComplete:"off",autoFocus:!0,placeholder:this.translate("Name")}),this.state.nameError&&a.createElement("div",{className:"name error-message"},this.state.nameError)),a.createElement("div",{className:"input text required "+(this.state.emailError?"error":"")},a.createElement("label",{htmlFor:"generate-organization-key-form-email"},a.createElement(w.x6,null,"Email")),a.createElement("input",{id:"generate-organization-key-form-email",name:"email",ref:this.emailInputRef,className:"required fluid",maxLength:"64",type:"email",autoComplete:"off",value:this.state.email,onChange:this.handleInputChange,placeholder:this.translate("Email Address"),onKeyUp:this.handleEmailInputKeyUp,disabled:this.hasAllInputDisabled(),required:"required"}),this.state.emailError&&a.createElement("div",{className:"email error-message"},this.state.emailError)),a.createElement("div",{className:"input select-wrapper"},a.createElement("label",{htmlFor:"generate-organization-key-form-algorithm"},a.createElement(w.x6,null,"Algorithm"),a.createElement(fe,{message:this.translate("Algorithm and key size cannot be changed at the moment. These are secure default")},a.createElement(ge,{name:"info-circle"}))),a.createElement("input",{id:"generate-organization-key-form-algorithm",name:"algorithm",value:this.state.algorithm,className:"fluid",type:"text",autoComplete:"off",disabled:!0})),a.createElement("div",{className:"input select-wrapper"},a.createElement("label",{htmlFor:"generate-organization-key-form-keySize"},a.createElement(w.x6,null,"Key Size"),a.createElement(fe,{message:this.translate("Algorithm and key size cannot be changed at the moment. These are secure default")},a.createElement(ge,{name:"info-circle"}))),a.createElement("input",{id:"generate-organization-key-form-key-size",name:"keySize",value:this.state.keySize,className:"fluid",type:"text",autoComplete:"off",disabled:!0})),a.createElement("div",{className:"input-password-wrapper input required "+(this.hasAnyErrors()&&this.state.hasAlreadyBeenValidated?"error":"")},a.createElement("label",{htmlFor:"generate-organization-key-form-password"},a.createElement(w.x6,null,"Organization key passphrase"),this.isPassphraseWarning&&a.createElement(ge,{name:"exclamation"})),a.createElement(ma,{id:"generate-organization-key-form-password",name:"password",placeholder:this.translate("Passphrase"),autoComplete:"new-password",preview:!0,securityToken:this.props.context.userSettings.getSecurityToken(),value:this.state.passphrase,onChange:this.handlePassphraseChange,disabled:this.hasAllInputDisabled(),inputRef:this.passphraseInputRef}),a.createElement(ai,{entropy:e,targetEntropy:80}),this.state.hasAlreadyBeenValidated&&a.createElement("div",{className:"password error-message"},this.isEmptyPassword()&&a.createElement("div",{className:"empty-passphrase error-message"},a.createElement(w.x6,null,"A passphrase is required.")),this.hasWeakPassword()&&e>0&&a.createElement("div",{className:"invalid-passphrase error-message"},a.createElement(w.x6,null,"A strong passphrase is required. The minimum complexity must be 'fair'.")),this.state.passphraseInDictionnary&&0===e&&!this.isEmptyPassword()&&a.createElement("div",{className:"invalid-passphrase error-message"},a.createElement(w.x6,null,"The passphrase should not be part of an exposed data breach.")))),a.createElement("div",{className:"input-password-wrapper input required "+(this.state.hasAlreadyBeenValidated&&!this.validatePassphraseConfirmationInput()?"error":"")},a.createElement("label",{htmlFor:"generate-organization-key-form-password"},a.createElement(w.x6,null,"Organization key passphrase confirmation")),a.createElement(ma,{id:"generate-organization-key-form-password-confirmation",name:"passphraseConfirmation",placeholder:this.translate("Passphrase confirmation"),autoComplete:"new-password",preview:!0,securityToken:this.props.context.userSettings.getSecurityToken(),value:this.state.passphraseConfirmation,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),inputRef:this.passphraseConfirmationInputRef}),this.state.hasAlreadyBeenValidated&&a.createElement("div",{className:"password-confirmation error-message"},this.isEmptyPasswordConfirmation()&&a.createElement("div",{className:"empty-passphrase-confirmation error-message"},a.createElement(w.x6,null,"The passphrase confirmation is required.")),this.isPassphraseAndConfirmationDifferent()&&a.createElement("div",{className:"invalid-passphrase-confirmation error-message"},a.createElement(w.x6,null,"The passphrase confirmation should match the passphrase"))))),a.createElement("div",{className:"warning message",id:"generate-organization-key-setting-overridden-banner"},a.createElement("p",null,a.createElement(w.x6,null,"Warning, we encourage you to generate your OpenPGP Organization Recovery Key separately. Make sure you keep a backup in a safe place."))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.props.onClose}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Generate & Apply")})))}}rd.propTypes={context:l().any,onUpdateOrganizationKey:l().func,onClose:l().func,t:l().func,passwordPoliciesContext:l().object};const id=h(k(Dt((0,w.CI)("common")(rd))));function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},od.apply(null,arguments)}class ld extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{processing:!1}}bindCallbacks(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleApplyChanges=this.handleApplyChanges.bind(this)}handleCloseClick(){this.props.onClose()}handleApplyChanges(e,t){this.handleCloseClick(),this.props.handleUpdateOrganizationKey(e,t)}render(){return a.createElement(ve,{title:this.props.t("Organization Recovery Key"),onClose:this.handleCloseClick,disabled:this.state.processing,className:"organization-recover-key-dialog"},a.createElement(sd,{activeTabName:"Import"},a.createElement(ed,{key:"Import",name:"Import",type:"Import"},a.createElement(nd,od({},this.props,{onClose:this.handleCloseClick,onUpdateOrganizationKey:this.handleApplyChanges}))),a.createElement(ed,{key:"Generate",name:"Generate",type:"Generate"},a.createElement(id,od({},this.props,{onClose:this.handleCloseClick,onUpdateOrganizationKey:this.handleApplyChanges})))))}}ld.propTypes={handleUpdateOrganizationKey:l().func,onClose:l().func,t:l().func};const cd=(0,w.CI)("common")(ld);class dd extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{processing:!1}}bindCallbacks(){this.handleCloseClick=this.handleCloseClick.bind(this)}handleCloseClick(){this.props.onClose()}render(){return a.createElement(ve,{title:this.props.t("Confirm Organization Recovery Key download"),onClose:this.handleCloseClick,disabled:!1,className:"organization-recover-key-download-dialog"},a.createElement("div",{className:"dialog-body"},a.createElement("p",null,a.createElement(w.x6,null,"A download of the organization private key has automatically started."),a.createElement("br",null),a.createElement(w.x6,null,"Make sure your print it or store it in a safe place. You may need it later!"))),a.createElement("div",{className:"dialog-footer clearfix"},a.createElement("button",{className:"button button-left cancel medium",type:"button",onClick:this.props.handleDownloadAgain},a.createElement(w.x6,null,"Download again")),a.createElement("button",{className:"button primary",type:"button",onClick:this.handleCloseClick,disabled:this.isProcessing},a.createElement("span",null,a.createElement(w.x6,null,"Ok")))))}}dd.propTypes={onClose:l().func,handleDownloadAgain:l().func,privateKey:l().string,t:l().func};const hd=(0,w.CI)("common")(dd);class md extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{keyInfoDto:null,loading:!0,processing:!1}}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(Xc),this.findAccountRecoveryPolicy()}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminAccountRecoveryContext.resetChanges()}async componentDidUpdate(){const e=this.props?.adminAccountRecoveryContext?.policyChanges?.publicKey||this.props?.adminAccountRecoveryContext?.currentPolicy?.account_recovery_organization_public_key?.armored_key,t=await(this.props?.adminAccountRecoveryContext?.getKeyInfo(e));Boolean(e)&&this.state.keyInfoDto?.fingerprint!==t?.fingerprint?this.setState({keyInfoDto:t}):!e&&this.state.keyInfoDto&&this.setState({keyInfoDto:null})}bindCallbacks(){this.handlePolicyInputChange=this.handlePolicyInputChange.bind(this),this.HandleUpdatePublicKeyClick=this.HandleUpdatePublicKeyClick.bind(this),this.handleUpdateOrganizationKey=this.handleUpdateOrganizationKey.bind(this),this.downloadPrivateKey=this.downloadPrivateKey.bind(this)}get policy(){return this.props.adminAccountRecoveryContext.policyChanges.policy||this.props.adminAccountRecoveryContext.currentPolicy?.policy}get organizationKey(){return this.props.adminAccountRecoveryContext.policyChanges.publicKey||this.props.adminAccountRecoveryContext.currentPolicy?.account_recovery_organization_public_key.armored_key}get organizationKeyInfo(){return this.state.keyInfoDto}async findAccountRecoveryPolicy(){await this.props.adminAccountRecoveryContext.findAccountRecoveryPolicy(),this.setState({loading:!1})}async handlePolicyInputChange(e){const t=e.target.value;"disabled"===t&&this.resetKeyInfo(),await this.props.adminAccountRecoveryContext.changePolicy(t)}HandleUpdatePublicKeyClick(){this.props.dialogContext.open(cd,{handleUpdateOrganizationKey:this.handleUpdateOrganizationKey})}async handleUpdateOrganizationKey(e,t){this.resetKeyInfo(),await this.props.adminAccountRecoveryContext.changePublicKey(e),t&&await this.downloadPrivateKey(t)}async downloadPrivateKey(e){await this.props.adminAccountRecoveryContext.downloadPrivateKey(e),this.props.dialogContext.open(hd,{privateKey:e,handleDownloadAgain:async()=>{await this.props.adminAccountRecoveryContext.downloadPrivateKey(e)}})}hasAllInputDisabled(){return this.state.processing||this.state.loading}hasOrganisationRecoveryKey(){const e=this.state.keyInfoDto;return Boolean(e)}isPolicyEnabled(){return Boolean("disabled"!==this.policy)}resetKeyInfo(){this.setState({keyInfoDto:null})}async toggleProcessing(){this.setState({processing:!this.state.processing})}formatFingerprint(e){if(!e)return null;const t=e.toUpperCase().replace(/.{4}/g,"$& ");return a.createElement(a.Fragment,null,t.substr(0,24),a.createElement("br",null),t.substr(25))}formatUserIds(e){return e?e.map(((e,t)=>a.createElement(a.Fragment,{key:t},e.name," <",e.email,">",a.createElement("br",null)))):null}get translate(){return this.props.t}render(){return a.createElement("div",{className:"row"},a.createElement("div",{className:"recover-account-settings col8 main-column"},a.createElement("h3",null,a.createElement(w.x6,null,"Account Recovery")),this.props.adminAccountRecoveryContext.hasPolicyChanges()&&a.createElement("div",{className:"warning message",id:"email-notification-setting-overridden-banner"},a.createElement("p",null,a.createElement(w.x6,null,"Don't forget to save your settings to apply your modification."))),!this.hasOrganisationRecoveryKey()&&this.isPolicyEnabled()&&a.createElement("div",{className:"warning message",id:"email-notification-setting-overridden-banner"},a.createElement("p",null,a.createElement(w.x6,null,"Warning, Don't forget to add an organization recovery key."))),a.createElement("form",{className:"form"},a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"Account Recovery Policy")),a.createElement("p",null,a.createElement(w.x6,null,"In this section you can choose the default behavior of account recovery for all users.")),a.createElement("div",{className:"radiolist-alt"},a.createElement("div",{className:"input radio "+("mandatory"===this.policy?"checked":"")},a.createElement("input",{type:"radio",value:"mandatory",onChange:this.handlePolicyInputChange,name:"accountRecoveryPolicy",checked:"mandatory"===this.policy,id:"accountRecoveryPolicyMandatory",disabled:this.hasAllInputDisabled()}),a.createElement("label",{htmlFor:"accountRecoveryPolicyMandatory"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Prompt")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"Every user is required to provide a copy of their private key and passphrase during setup."),a.createElement("br",null),a.createElement(w.x6,null,"You should inform your users not to store personal passwords.")))),a.createElement("div",{className:"input radio "+("opt-out"===this.policy?"checked":"")},a.createElement("input",{type:"radio",value:"opt-out",onChange:this.handlePolicyInputChange,name:"accountRecoveryPolicy",checked:"opt-out"===this.policy,id:"accountRecoveryPolicyOptOut",disabled:this.hasAllInputDisabled()}),a.createElement("label",{htmlFor:"accountRecoveryPolicyOptOut"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Optional, Opt-out")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"Every user will be prompted to provide a copy of their private key and passphrase by default during the setup, but they can opt out.")))),a.createElement("div",{className:"input radio "+("opt-in"===this.policy?"checked":"")},a.createElement("input",{type:"radio",value:"opt-in",onChange:this.handlePolicyInputChange,name:"accountRecoveryPolicy",checked:"opt-in"===this.policy,id:"accountRecoveryPolicyOptIn",disabled:this.hasAllInputDisabled()}),a.createElement("label",{htmlFor:"accountRecoveryPolicyOptIn"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Optional, Opt-in")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"Every user can decide to provide a copy of their private key and passphrase by default during the setup, but they can opt in.")))),a.createElement("div",{className:"input radio "+("disabled"===this.policy?"checked":"")},a.createElement("input",{type:"radio",value:"disabled",onChange:this.handlePolicyInputChange,name:"accountRecoveryPolicy",checked:"disabled"===this.policy,id:"accountRecoveryPolicyDisable",disabled:this.hasAllInputDisabled()}),a.createElement("label",{htmlFor:"accountRecoveryPolicyDisable"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Disable (Default)")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"Backup of the private key and passphrase will not be stored. This is the safest option."),a.createElement(w.x6,null,"If users lose their private key and passphrase they will not be able to recover their account."))))),a.createElement("h4",null,a.createElement("span",{className:"input toggle-switch form-element "},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"organisationRecoveryKeyToggle",disabled:this.hasAllInputDisabled(),checked:this.isPolicyEnabled(),id:"recovery-key-toggle-button"}),a.createElement("label",{htmlFor:"recovery-key-toggle-button"},a.createElement(w.x6,null,"Organization Recovery Key")))),this.isPolicyEnabled()&&a.createElement(a.Fragment,null,a.createElement("p",null,a.createElement(w.x6,null,"Your organization recovery key will be used to decrypt and recover the private key and passphrase of the users that are participating in the account recovery program.")," ",a.createElement(w.x6,null,"The organization private recovery key should not be stored in passbolt.")," ",a.createElement(w.x6,null,"You should keep it offline in a safe place.")),a.createElement("div",{className:"recovery-key-details"},a.createElement("table",{className:"table-info recovery-key"},a.createElement("tbody",null,a.createElement("tr",{className:"user-ids"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"User ids")),this.organizationKeyInfo?.user_ids&&a.createElement("td",{className:"value"},this.formatUserIds(this.organizationKeyInfo.user_ids)),!this.organizationKeyInfo?.user_ids&&a.createElement("td",{className:"empty-value"},a.createElement(w.x6,null,"not available")),a.createElement("td",{className:"table-button"},a.createElement("button",{className:"button primary medium",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.HandleUpdatePublicKeyClick},this.hasOrganisationRecoveryKey()&&a.createElement(w.x6,null,"Rotate Key"),!this.hasOrganisationRecoveryKey()&&a.createElement(w.x6,null,"Add an Organization Recovery Key")))),a.createElement("tr",{className:"fingerprint"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Fingerprint")),this.organizationKeyInfo?.fingerprint&&a.createElement("td",{className:"value"},this.formatFingerprint(this.organizationKeyInfo.fingerprint)),!this.organizationKeyInfo?.fingerprint&&a.createElement("td",{className:"empty-value"},a.createElement(w.x6,null,"not available"))),a.createElement("tr",{className:"algorithm"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Algorithm")),this.organizationKeyInfo?.algorithm&&a.createElement("td",{className:"value"},this.organizationKeyInfo.algorithm),!this.organizationKeyInfo?.algorithm&&a.createElement("td",{className:"empty-value"},a.createElement(w.x6,null,"not available"))),a.createElement("tr",{className:"key-length"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Key length")),this.organizationKeyInfo?.length&&a.createElement("td",{className:"value"},this.organizationKeyInfo.length),!this.organizationKeyInfo?.length&&a.createElement("td",{className:"empty-value"},a.createElement(w.x6,null,"not available"))),a.createElement("tr",{className:"created"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Created")),this.organizationKeyInfo?.created&&a.createElement("td",{className:"value"},nt(this.organizationKeyInfo.created,this.props.t,this.props.context.locale)),!this.organizationKeyInfo?.created&&a.createElement("td",{className:"empty-value"},a.createElement(w.x6,null,"not available"))),a.createElement("tr",{className:"expires"},a.createElement("td",{className:"label"},a.createElement(w.x6,null,"Expires")),this.organizationKeyInfo?.expires&&a.createElement("td",{className:"value"},nt(this.organizationKeyInfo.expires,this.props.t,this.props.context.locale)),!this.organizationKeyInfo?.expires&&a.createElement("td",{className:"empty-value"},a.createElement(w.x6,null,"not available"))))))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Need some help?")),a.createElement("p",null,a.createElement(w.x6,null,"For more information about account recovery, checkout the dedicated page on the help website.")),a.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/authentication/account-recovery/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"life-ring"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation"))))))}}md.propTypes={context:l().object,dialogContext:l().any,administrationWorkspaceContext:l().object,adminAccountRecoveryContext:l().object,t:l().func};const pd=h(k(Ro(Gc((0,w.CI)("common")(md))))),ud={25:{port:25,tls:!1},2525:{port:2525,tls:!1},587:{port:587,tls:!0},588:{port:588,tls:!0},465:{port:465,tls:!0}};function gd(e,t){const s=[];for(let a=0;a<e.length;a++){const n=e[a];for(let e=0;e<t.length;e++){const a=ud[t[e].toString()];s.push({host:n,...a})}}return s}function Cd(e,t,s){return e.availableConfigurations.find((e=>(!s||e.host===s)&&e.port===t))}const bd={id:"aws-ses",name:"AWS SES",icon:"aws-ses.svg",help_page:"https://docs.aws.amazon.com/ses/latest/dg/send-email-smtp.html",availableConfigurations:gd(function(){const e=[];return["us-east-2","us-east-1","us-west-1","us-west-2","ap-south-1","ap-northeast-3","ap-northeast-2","ap-northeast-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-west-1","eu-west-2","eu-west-3","sa-east-1","us-gov-west-1"].forEach((t=>{e.push(`email-smtp.${t}.amazonaws.com`)})),e}(),[25,2525,587])};bd.defaultConfiguration=Cd(bd,587,"email-smtp.eu-central-1.amazonaws.com");const Ed={id:"elastic-email",name:"ElasticEmail",icon:"elastic-email.svg",help_page:"https://help.elasticemail.com/en/articles/4803409-smtp-settings",availableConfigurations:gd(["smtp.elasticemail.com","smtp25.elasticemail.com"],[25,2525,587])};Ed.defaultConfiguration=Cd(Ed,587,"smtp.elasticemail.com");const fd={id:"google-workspace",name:"Google Workspace",icon:"gmail.svg",help_page:"https://support.google.com/a/answer/2956491",availableConfigurations:gd(["smtp-relay.gmail.com"],[25,587])};fd.defaultConfiguration=Cd(fd,587);const yd={id:"google-mail",name:"Google Mail",icon:"gmail.svg",help_page:"https://support.google.com/a/answer/2956491",availableConfigurations:gd(["smtp.gmail.com"],[587])};yd.defaultConfiguration=Cd(yd,587);const vd={id:"mailgun",name:"MailGun",icon:"mailgun.svg",help_page:"https://documentation.mailgun.com/en/latest/quickstart-sending.html",availableConfigurations:gd(["smtp.mailgun.com"],[587])};vd.defaultConfiguration=vd.availableConfigurations[0];const kd={id:"mailjet",name:"Mailjet",icon:"mailjet.svg",help_page:"https://dev.mailjet.com/smtp-relay/configuration/",availableConfigurations:gd(["in-v3.mailjet.com"],[25,2525,587,588])};kd.defaultConfiguration=Cd(kd,587);const wd={id:"mandrill",name:"Mandrill",icon:"mandrill.svg",help_page:"https://mailchimp.com/developer/transactional/docs/smtp-integration/",availableConfigurations:gd(["smtp.mandrillapp.com"],[25,2525,587])};wd.defaultConfiguration=Cd(wd,587);const xd={id:"office-365",name:"Office 365",icon:"office365.svg",help_page:"https://learn.microsoft.com/exchange/mail-flow-best-practices/how-to-set-up-a-multifunction-device-or-application-to-send-email-using-microsoft-365-or-office-365",availableConfigurations:gd(["smtp.office365.com"],[25,587])};xd.defaultConfiguration=Cd(xd,587);const Sd={id:"outlook",name:"Outlook",icon:"outlook.svg",help_page:"https://support.microsoft.com/office/pop-imap-and-smtp-settings-for-outlook-com-d088b986-291d-42b8-9564-9c414e2aa040",availableConfigurations:gd(["smtp-mail.outlook.com"],[587])};Sd.defaultConfiguration=Cd(Sd,587);const Nd={id:"sendgrid",name:"Sendgrid",icon:"sendgrid.svg",help_page:"https://docs.sendgrid.com/for-developers/sending-email/integrating-with-the-smtp-api",availableConfigurations:gd(["smtp.sendgrid.net"],[25,2525,587])};Nd.defaultConfiguration=Cd(Nd,587);const Rd={id:"sendinblue",name:"Sendinblue",icon:"sendinblue.svg",help_page:"https://help.sendinblue.com/hc/en-us/articles/209462765",availableConfigurations:gd(["smtp-relay.sendinblue.com"],[25,587])};Rd.defaultConfiguration=Cd(Rd,587);const Id={id:"zoho",name:"Zoho",icon:"zoho.svg",help_page:"https://www.zoho.com/mail/help/zoho-smtp.html",availableConfigurations:gd(["smtp.zoho.eu","smtppro.zoho.eu"],[587])};Id.defaultConfiguration=Cd(Id,587,"smtp.zoho.eu");const _d=[bd,Ed,yd,fd,vd,kd,wd,xd,Sd,Nd,Rd,Id,{id:"other",name:"Other",icon:null,availableConfigurations:[],defaultConfiguration:{host:"",port:"",tls:!0}}],Dd=class{constructor(e){e.setResourceName("smtp/settings"),this.apiClient=new $a(e)}async find(){const e=await this.apiClient.findAll(),t=e?.body;return t.client=t.client??"",t.tls=Boolean(t?.tls),t}async save(e){const t=(await this.apiClient.create(e)).body;return t.tls=Boolean(t.tls),t}},Td=class{constructor(e){this.smtpSettingsService=new Dd(e)}findSmtpSettings(){return this.smtpSettingsService.find()}saveSmtpSettings(e){return this.smtpSettingsService.save(e)}},Pd=class{constructor(e){e.setResourceName("smtp/email"),this.apiClient=new $a(e)}async sendTestEmail(e){return(await this.apiClient.create(e)).body}},Ad=class{constructor(e){this.smtpTestSettingsService=new Pd(e)}sendTestEmail(e,t){const{sender_name:s,sender_email:a,host:n,port:r,client:i,username:o,password:l,tls:c}=e,d={sender_name:s,sender_email:a,host:n,port:r,client:i,username:o,password:l,tls:c,email_test_to:t};return d.client=d.client||null,this.smtpTestSettingsService.sendTestEmail(d)}},Md=["0-mail.com","007addict.com","020.co.uk","027168.com","0815.ru","0815.su","0clickemail.com","0sg.net","0wnd.net","0wnd.org","1033edge.com","10mail.org","10minutemail.co.za","10minutemail.com","11mail.com","123-m.com","123.com","123box.net","123india.com","123mail.cl","123mail.org","123qwe.co.uk","126.com","126.net","138mail.com","139.com","150mail.com","150ml.com","15meg4free.com","163.com","16mail.com","188.com","189.cn","1auto.com","1ce.us","1chuan.com","1colony.com","1coolplace.com","1email.eu","1freeemail.com","1fsdfdsfsdf.tk","1funplace.com","1internetdrive.com","1mail.ml","1mail.net","1me.net","1mum.com","1musicrow.com","1netdrive.com","1nsyncfan.com","1pad.de","1under.com","1webave.com","1webhighway.com","1zhuan.com","2-mail.com","20email.eu","20mail.in","20mail.it","20minutemail.com","212.com","21cn.com","247emails.com","24horas.com","2911.net","2980.com","2bmail.co.uk","2coolforyou.net","2d2i.com","2die4.com","2fdgdfgdfgdf.tk","2hotforyou.net","2mydns.com","2net.us","2prong.com","2trom.com","3000.it","30minutemail.com","30minutesmail.com","3126.com","321media.com","33mail.com","360.ru","37.com","3ammagazine.com","3dmail.com","3email.com","3g.ua","3mail.ga","3trtretgfrfe.tk","3xl.net","444.net","4email.com","4email.net","4gfdsgfdgfd.tk","4mg.com","4newyork.com","4warding.com","4warding.net","4warding.org","4x4fan.com","4x4man.com","50mail.com","5fm.za.com","5ghgfhfghfgh.tk","5iron.com","5star.com","60minutemail.com","6hjgjhgkilkj.tk","6ip.us","6mail.cf","6paq.com","702mail.co.za","74.ru","7mail.ga","7mail.ml","7tags.com","88.am","8848.net","888.nu","8mail.ga","8mail.ml","97rock.com","99experts.com","9ox.net","a-bc.net","a-player.org","a2z4u.net","a45.in","aaamail.zzn.com","aahlife.com","aamail.net","aapt.net.au","aaronkwok.net","abbeyroadlondon.co.uk","abcflash.net","abdulnour.com","aberystwyth.com","abolition-now.com","about.com","absolutevitality.com","abusemail.de","abv.bg","abwesend.de","abyssmail.com","ac20mail.in","academycougars.com","acceso.or.cr","access4less.net","accessgcc.com","accountant.com","acdcfan.com","acdczone.com","ace-of-base.com","acmecity.com","acmemail.net","acninc.net","acrobatmail.com","activatormail.com","activist.com","adam.com.au","add3000.pp.ua","addcom.de","address.com","adelphia.net","adexec.com","adfarrow.com","adinet.com.uy","adios.net","admin.in.th","administrativos.com","adoption.com","ados.fr","adrenalinefreak.com","adres.nl","advalvas.be","advantimo.com","aeiou.pt","aemail4u.com","aeneasmail.com","afreeinternet.com","africa-11.com","africamail.com","africamel.net","africanpartnersonline.com","afrobacon.com","ag.us.to","agedmail.com","agelessemail.com","agoodmail.com","ahaa.dk","ahk.jp","aichi.com","aim.com","aircraftmail.com","airforce.net","airforceemail.com","airpost.net","aiutamici.com","ajacied.com","ajaxapp.net","ak47.hu","aknet.kg","akphantom.com","albawaba.com","alecsmail.com","alex4all.com","alexandria.cc","algeria.com","algeriamail.com","alhilal.net","alibaba.com","alice.it","aliceadsl.fr","aliceinchainsmail.com","alivance.com","alive.cz","aliyun.com","allergist.com","allmail.net","alloymail.com","allracing.com","allsaintsfan.com","alltel.net","alpenjodel.de","alphafrau.de","alskens.dk","altavista.com","altavista.net","altavista.se","alternativagratis.com","alumni.com","alumnidirector.com","alvilag.hu","ama-trade.de","amail.com","amazonses.com","amele.com","america.hm","ameritech.net","amilegit.com","amiri.net","amiriindustries.com","amnetsal.com","amorki.pl","amrer.net","amuro.net","amuromail.com","ananzi.co.za","ancestry.com","andreabocellimail.com","andylau.net","anfmail.com","angelfan.com","angelfire.com","angelic.com","animail.net","animal.net","animalhouse.com","animalwoman.net","anjungcafe.com","anniefans.com","annsmail.com","ano-mail.net","anonmails.de","anonymbox.com","anonymous.to","anote.com","another.com","anotherdomaincyka.tk","anotherwin95.com","anti-ignorance.net","anti-social.com","antichef.com","antichef.net","antiqueemail.com","antireg.ru","antisocial.com","antispam.de","antispam24.de","antispammail.de","antongijsen.com","antwerpen.com","anymoment.com","anytimenow.com","aol.co.uk","aol.com","aol.de","aol.fr","aol.it","aol.jp","aon.at","apexmail.com","apmail.com","apollo.lv","aport.ru","aport2000.ru","apple.sib.ru","appraiser.net","approvers.net","aquaticmail.net","arabia.com","arabtop.net","arcademaster.com","archaeologist.com","archerymail.com","arcor.de","arcotronics.bg","arcticmail.com","argentina.com","arhaelogist.com","aristotle.org","army.net","armyspy.com","arnet.com.ar","art-en-ligne.pro","artistemail.com","artlover.com","artlover.com.au","artman-conception.com","as-if.com","asdasd.nl","asean-mail","asean-mail.com","asheville.com","asia-links.com","asia-mail.com","asia.com","asiafind.com","asianavenue.com","asiancityweb.com","asiansonly.net","asianwired.net","asiapoint.net","askaclub.ru","ass.pp.ua","assala.com","assamesemail.com","astroboymail.com","astrolover.com","astrosfan.com","astrosfan.net","asurfer.com","atheist.com","athenachu.net","atina.cl","atl.lv","atlas.cz","atlaswebmail.com","atlink.com","atmc.net","ato.check.com","atozasia.com","atrus.ru","att.net","attglobal.net","attymail.com","au.ru","auctioneer.net","aufeminin.com","aus-city.com","ausi.com","aussiemail.com.au","austin.rr.com","australia.edu","australiamail.com","austrosearch.net","autoescuelanerja.com","autograf.pl","automail.ru","automotiveauthority.com","autorambler.ru","aver.com","avh.hu","avia-tonic.fr","avtoritet.ru","awayonvacation.com","awholelotofamechi.com","awsom.net","axoskate.com","ayna.com","azazazatashkent.tk","azimiweb.com","azmeil.tk","bachelorboy.com","bachelorgal.com","backfliper.com","backpackers.com","backstreet-boys.com","backstreetboysclub.com","backtothefuturefans.com","backwards.com","badtzmail.com","bagherpour.com","bahrainmail.com","bakpaka.com","bakpaka.net","baldmama.de","baldpapa.de","ballerstatus.net","ballyfinance.com","balochistan.org","baluch.com","bangkok.com","bangkok2000.com","bannertown.net","baptistmail.com","baptized.com","barcelona.com","bareed.ws","barid.com","barlick.net","bartender.net","baseball-email.com","baseballmail.com","basketballmail.com","batuta.net","baudoinconsulting.com","baxomale.ht.cx","bboy.com","bboy.zzn.com","bcvibes.com","beddly.com","beeebank.com","beefmilk.com","beenhad.com","beep.ru","beer.com","beerandremotes.com","beethoven.com","beirut.com","belice.com","belizehome.com","belizemail.net","belizeweb.com","bell.net","bellair.net","bellsouth.net","berkscounty.com","berlin.com","berlin.de","berlinexpo.de","bestmail.us","betriebsdirektor.de","bettergolf.net","bharatmail.com","big1.us","big5mail.com","bigassweb.com","bigblue.net.au","bigboab.com","bigfoot.com","bigfoot.de","bigger.com","biggerbadder.com","bigmailbox.com","bigmir.net","bigpond.au","bigpond.com","bigpond.com.au","bigpond.net","bigpond.net.au","bigramp.com","bigstring.com","bikemechanics.com","bikeracer.com","bikeracers.net","bikerider.com","billsfan.com","billsfan.net","bimamail.com","bimla.net","bin-wieder-da.de","binkmail.com","bio-muesli.info","bio-muesli.net","biologyfan.com","birdfanatic.com","birdlover.com","birdowner.net","bisons.com","bitmail.com","bitpage.net","bizhosting.com","bk.ru","bkkmail.com","bla-bla.com","blackburnfans.com","blackburnmail.com","blackplanet.com","blader.com","bladesmail.net","blazemail.com","bleib-bei-mir.de","blink182.net","blockfilter.com","blogmyway.org","blondandeasy.com","bluebottle.com","bluehyppo.com","bluemail.ch","bluemail.dk","bluesfan.com","bluewin.ch","blueyonder.co.uk","blumail.org","blushmail.com","blutig.me","bmlsports.net","boardermail.com","boarderzone.com","boatracers.com","bobmail.info","bodhi.lawlita.com","bofthew.com","bol.com.br","bolando.com","bollywoodz.com","bolt.com","boltonfans.com","bombdiggity.com","bonbon.net","boom.com","bootmail.com","bootybay.de","bornagain.com","bornnaked.com","bossofthemoss.com","bostonoffice.com","boun.cr","bounce.net","bounces.amazon.com","bouncr.com","box.az","box.ua","boxbg.com","boxemail.com","boxformail.in","boxfrog.com","boximail.com","boyzoneclub.com","bradfordfans.com","brasilia.net","bratan.ru","brazilmail.com","brazilmail.com.br","breadtimes.press","breakthru.com","breathe.com","brefmail.com","brennendesreich.de","bresnan.net","brestonline.com","brew-master.com","brew-meister.com","brfree.com.br","briefemail.com","bright.net","britneyclub.com","brittonsign.com","broadcast.net","broadwaybuff.com","broadwaylove.com","brokeandhappy.com","brokenvalve.com","brujula.net","brunetka.ru","brusseler.com","bsdmail.com","bsnow.net","bspamfree.org","bt.com","btcc.org","btcmail.pw","btconnect.co.uk","btconnect.com","btinternet.com","btopenworld.co.uk","buerotiger.de","buffymail.com","bugmenot.com","bulgaria.com","bullsfan.com","bullsgame.com","bumerang.ro","bumpymail.com","bumrap.com","bund.us","bunita.net","bunko.com","burnthespam.info","burntmail.com","burstmail.info","buryfans.com","bushemail.com","business-man.com","businessman.net","businessweekmail.com","bust.com","busta-rhymes.com","busymail.com","busymail.com.com","busymail.comhomeart.com","butch-femme.net","butovo.net","buyersusa.com","buymoreplays.com","buzy.com","bvimailbox.com","byke.com","byom.de","byteme.com","c2.hu","c2i.net","c3.hu","c4.com","c51vsgq.com","cabacabana.com","cable.comcast.com","cableone.net","caere.it","cairomail.com","calcuttaads.com","calendar-server.bounces.google.com","calidifontain.be","californiamail.com","callnetuk.com","callsign.net","caltanet.it","camidge.com","canada-11.com","canada.com","canadianmail.com","canoemail.com","cantv.net","canwetalk.com","caramail.com","card.zp.ua","care2.com","careceo.com","careerbuildermail.com","carioca.net","cartelera.org","cartestraina.ro","casablancaresort.com","casema.nl","cash4u.com","cashette.com","casino.com","casualdx.com","cataloniamail.com","cataz.com","catcha.com","catchamail.com","catemail.com","catholic.org","catlover.com","catsrule.garfield.com","ccnmail.com","cd2.com","cek.pm","celineclub.com","celtic.com","center-mail.de","centermail.at","centermail.com","centermail.de","centermail.info","centermail.net","centoper.it","centralpets.com","centrum.cz","centrum.sk","centurylink.net","centurytel.net","certifiedmail.com","cfl.rr.com","cgac.es","cghost.s-a-d.de","chacuo.net","chaiyo.com","chaiyomail.com","chalkmail.net","chammy.info","chance2mail.com","chandrasekar.net","channelonetv.com","charityemail.com","charmedmail.com","charter.com","charter.net","chat.ru","chatlane.ru","chattown.com","chauhanweb.com","cheatmail.de","chechnya.conf.work","check.com","check.com12","check1check.com","cheeb.com","cheerful.com","chef.net","chefmail.com","chek.com","chello.nl","chemist.com","chequemail.com","cheshiremail.com","cheyenneweb.com","chez.com","chickmail.com","chil-e.com","childrens.md","childsavetrust.org","china.com","china.net.vg","chinalook.com","chinamail.com","chinesecool.com","chirk.com","chocaholic.com.au","chocofan.com","chogmail.com","choicemail1.com","chong-mail.com","chong-mail.net","christianmail.net","chronicspender.com","churchusa.com","cia-agent.com","cia.hu","ciaoweb.it","cicciociccio.com","cincinow.net","cirquefans.com","citeweb.net","citiz.net","citlink.net","city-of-bath.org","city-of-birmingham.com","city-of-brighton.org","city-of-cambridge.com","city-of-coventry.com","city-of-edinburgh.com","city-of-lichfield.com","city-of-lincoln.com","city-of-liverpool.com","city-of-manchester.com","city-of-nottingham.com","city-of-oxford.com","city-of-swansea.com","city-of-westminster.com","city-of-westminster.net","city-of-york.net","city2city.com","citynetusa.com","cityofcardiff.net","cityoflondon.org","ciudad.com.ar","ckaazaza.tk","claramail.com","classicalfan.com","classicmail.co.za","clear.net.nz","clearwire.net","clerk.com","clickforadate.com","cliffhanger.com","clixser.com","close2you.ne","close2you.net","clrmail.com","club-internet.fr","club4x4.net","clubalfa.com","clubbers.net","clubducati.com","clubhonda.net","clubmember.org","clubnetnoir.com","clubvdo.net","cluemail.com","cmail.net","cmail.org","cmail.ru","cmpmail.com","cmpnetmail.com","cnegal.com","cnnsimail.com","cntv.cn","codec.ro","codec.ro.ro","codec.roemail.ro","coder.hu","coid.biz","coldemail.info","coldmail.com","collectiblesuperstore.com","collector.org","collegebeat.com","collegeclub.com","collegemail.com","colleges.com","columbus.rr.com","columbusrr.com","columnist.com","comast.com","comast.net","comcast.com","comcast.net","comic.com","communityconnect.com","complxmind.com","comporium.net","comprendemail.com","compuserve.com","computer-expert.net","computer-freak.com","computer4u.com","computerconfused.com","computermail.net","computernaked.com","conexcol.com","cong.ru","conk.com","connect4free.net","connectbox.com","conok.com","consultant.com","consumerriot.com","contractor.net","contrasto.cu.cc","cookiemonster.com","cool.br","cool.fr.nf","coole-files.de","coolgoose.ca","coolgoose.com","coolkiwi.com","coollist.com","coolmail.com","coolmail.net","coolrio.com","coolsend.com","coolsite.net","cooooool.com","cooperation.net","cooperationtogo.net","copacabana.com","copper.net","copticmail.com","cornells.com","cornerpub.com","corporatedirtbag.com","correo.terra.com.gt","corrsfan.com","cortinet.com","cosmo.com","cotas.net","counsellor.com","countrylover.com","courriel.fr.nf","courrieltemporaire.com","cox.com","cox.net","coxinet.net","cpaonline.net","cracker.hu","craftemail.com","crapmail.org","crazedanddazed.com","crazy.ru","crazymailing.com","crazysexycool.com","crewstart.com","cristianemail.com","critterpost.com","croeso.com","crosshairs.com","crosswinds.net","crunkmail.com","crwmail.com","cry4helponline.com","cryingmail.com","cs.com","csinibaba.hu","cubiclink.com","cuemail.com","cumbriamail.com","curio-city.com","curryworld.de","curtsmail.com","cust.in","cute-girl.com","cuteandcuddly.com","cutekittens.com","cutey.com","cuvox.de","cww.de","cyber-africa.net","cyber-innovation.club","cyber-matrix.com","cyber-phone.eu","cyber-wizard.com","cyber4all.com","cyberbabies.com","cybercafemaui.com","cybercity-online.net","cyberdude.com","cyberforeplay.net","cybergal.com","cybergrrl.com","cyberinbox.com","cyberleports.com","cybermail.net","cybernet.it","cyberservices.com","cyberspace-asia.com","cybertrains.org","cyclefanz.com","cymail.net","cynetcity.com","d3p.dk","dabsol.net","dacoolest.com","dadacasa.com","daha.com","dailypioneer.com","dallas.theboys.com","dallasmail.com","dandikmail.com","dangerous-minds.com","dansegulvet.com","dasdasdascyka.tk","data54.com","date.by","daum.net","davegracey.com","dawnsonmail.com","dawsonmail.com","dayrep.com","dazedandconfused.com","dbzmail.com","dcemail.com","dcsi.net","ddns.org","deadaddress.com","deadlymob.org","deadspam.com","deafemail.net","deagot.com","deal-maker.com","dearriba.com","death-star.com","deepseafisherman.net","deforestationsucks.com","degoo.com","dejanews.com","delikkt.de","deliveryman.com","deneg.net","depechemode.com","deseretmail.com","desertmail.com","desertonline.com","desertsaintsmail.com","desilota.com","deskmail.com","deskpilot.com","despam.it","despammed.com","destin.com","detik.com","deutschland-net.com","devnullmail.com","devotedcouples.com","dezigner.ru","dfgh.net","dfwatson.com","dglnet.com.br","dgoh.org","di-ve.com","diamondemail.com","didamail.com","die-besten-bilder.de","die-genossen.de","die-optimisten.de","die-optimisten.net","die.life","diehardmail.com","diemailbox.de","digibel.be","digital-filestore.de","digitalforeplay.net","digitalsanctuary.com","digosnet.com","dingbone.com","diplomats.com","directbox.com","director-general.com","diri.com","dirtracer.com","dirtracers.com","discard.email","discard.ga","discard.gq","discardmail.com","discardmail.de","disciples.com","discofan.com","discovery.com","discoverymail.com","discoverymail.net","disign-concept.eu","disign-revelation.com","disinfo.net","dispomail.eu","disposable.com","disposableaddress.com","disposableemailaddresses.com","disposableinbox.com","dispose.it","dispostable.com","divismail.ru","divorcedandhappy.com","dm.w3internet.co.uk","dmailman.com","dmitrovka.net","dmitry.ru","dnainternet.net","dnsmadeeasy.com","doar.net","doclist.bounces.google.com","docmail.cz","docs.google.com","doctor.com","dodgeit.com","dodgit.com","dodgit.org","dodo.com.au","dodsi.com","dog.com","dogit.com","doglover.com","dogmail.co.uk","dogsnob.net","doityourself.com","domforfb1.tk","domforfb2.tk","domforfb3.tk","domforfb4.tk","domforfb5.tk","domforfb6.tk","domforfb7.tk","domforfb8.tk","domozmail.com","doneasy.com","donegal.net","donemail.ru","donjuan.com","dontgotmail.com","dontmesswithtexas.com","dontreg.com","dontsendmespam.de","doramail.com","dostmail.com","dotcom.fr","dotmsg.com","dotnow.com","dott.it","download-privat.de","dplanet.ch","dr.com","dragoncon.net","dragracer.com","drdrb.net","drivehq.com","dropmail.me","dropzone.com","drotposta.hu","dubaimail.com","dublin.com","dublin.ie","dump-email.info","dumpandjunk.com","dumpmail.com","dumpmail.de","dumpyemail.com","dunlopdriver.com","dunloprider.com","duno.com","duskmail.com","dustdevil.com","dutchmail.com","dvd-fan.net","dwp.net","dygo.com","dynamitemail.com","dyndns.org","e-apollo.lv","e-hkma.com","e-mail.com","e-mail.com.tr","e-mail.dk","e-mail.org","e-mail.ru","e-mail.ua","e-mailanywhere.com","e-mails.ru","e-tapaal.com","e-webtec.com","e4ward.com","earthalliance.com","earthcam.net","earthdome.com","earthling.net","earthlink.net","earthonline.net","eastcoast.co.za","eastlink.ca","eastmail.com","eastrolog.com","easy.com","easy.to","easypeasy.com","easypost.com","easytrashmail.com","eatmydirt.com","ebprofits.net","ec.rr.com","ecardmail.com","ecbsolutions.net","echina.com","ecolo-online.fr","ecompare.com","edmail.com","ednatx.com","edtnmail.com","educacao.te.pt","educastmail.com","eelmail.com","ehmail.com","einmalmail.de","einrot.com","einrot.de","eintagsmail.de","eircom.net","ekidz.com.au","elisanet.fi","elitemail.org","elsitio.com","eltimon.com","elvis.com","elvisfan.com","email-fake.gq","email-london.co.uk","email-value.com","email.biz","email.cbes.net","email.com","email.cz","email.ee","email.it","email.nu","email.org","email.ro","email.ru","email.si","email.su","email.ua","email.women.com","email2me.com","email2me.net","email4u.info","email60.com","emailacc.com","emailaccount.com","emailaddresses.com","emailage.ga","emailage.gq","emailasso.net","emailchoice.com","emailcorner.net","emailem.com","emailengine.net","emailengine.org","emailer.hubspot.com","emailforyou.net","emailgaul.com","emailgo.de","emailgroups.net","emailias.com","emailinfive.com","emailit.com","emaillime.com","emailmiser.com","emailoregon.com","emailpinoy.com","emailplanet.com","emailplus.org","emailproxsy.com","emails.ga","emails.incisivemedia.com","emails.ru","emailsensei.com","emailservice.com","emailsydney.com","emailtemporanea.com","emailtemporanea.net","emailtemporar.ro","emailtemporario.com.br","emailthe.net","emailtmp.com","emailto.de","emailuser.net","emailwarden.com","emailx.at.hm","emailx.net","emailxfer.com","emailz.ga","emailz.gq","emale.ru","ematic.com","embarqmail.com","emeil.in","emeil.ir","emil.com","eml.cc","eml.pp.ua","empereur.com","emptymail.com","emumail.com","emz.net","end-war.com","enel.net","enelpunto.net","engineer.com","england.com","england.edu","englandmail.com","epage.ru","epatra.com","ephemail.net","epiqmail.com","epix.net","epomail.com","epost.de","eposta.hu","eprompter.com","eqqu.com","eramail.co.za","eresmas.com","eriga.lv","ero-tube.org","eshche.net","esmailweb.net","estranet.it","ethos.st","etoast.com","etrademail.com","etranquil.com","etranquil.net","eudoramail.com","europamel.net","europe.com","europemail.com","euroseek.com","eurosport.com","evafan.com","evertonfans.com","every1.net","everyday.com.kh","everymail.net","everyone.net","everytg.ml","evopo.com","examnotes.net","excite.co.jp","excite.co.uk","excite.com","excite.it","execs.com","execs2k.com","executivemail.co.za","exemail.com.au","exg6.exghost.com","explodemail.com","express.net.ua","expressasia.com","extenda.net","extended.com","extremail.ru","eyepaste.com","eyou.com","ezagenda.com","ezcybersearch.com","ezmail.egine.com","ezmail.ru","ezrs.com","f-m.fm","f1fans.net","facebook-email.ga","facebook.com","facebookmail.com","facebookmail.gq","fadrasha.net","fadrasha.org","fahr-zur-hoelle.org","fake-email.pp.ua","fake-mail.cf","fake-mail.ga","fake-mail.ml","fakeinbox.com","fakeinformation.com","fakemailz.com","falseaddress.com","fan.com","fan.theboys.com","fannclub.com","fansonlymail.com","fansworldwide.de","fantasticmail.com","fantasymail.de","farang.net","farifluset.mailexpire.com","faroweb.com","fast-email.com","fast-mail.fr","fast-mail.org","fastacura.com","fastchevy.com","fastchrysler.com","fastem.com","fastemail.us","fastemailer.com","fastemailextractor.net","fastermail.com","fastest.cc","fastimap.com","fastkawasaki.com","fastmail.ca","fastmail.cn","fastmail.co.uk","fastmail.com","fastmail.com.au","fastmail.es","fastmail.fm","fastmail.gr","fastmail.im","fastmail.in","fastmail.jp","fastmail.mx","fastmail.net","fastmail.nl","fastmail.se","fastmail.to","fastmail.tw","fastmail.us","fastmailbox.net","fastmazda.com","fastmessaging.com","fastmitsubishi.com","fastnissan.com","fastservice.com","fastsubaru.com","fastsuzuki.com","fasttoyota.com","fastyamaha.com","fatcock.net","fatflap.com","fathersrightsne.org","fatyachts.com","fax.ru","fbi-agent.com","fbi.hu","fdfdsfds.com","fea.st","federalcontractors.com","feinripptraeger.de","felicity.com","felicitymail.com","female.ru","femenino.com","fepg.net","fetchmail.co.uk","fetchmail.com","fettabernett.de","feyenoorder.com","ffanet.com","fiberia.com","fibertel.com.ar","ficken.de","fificorp.com","fificorp.net","fightallspam.com","filipinolinks.com","filzmail.com","financefan.net","financemail.net","financier.com","findfo.com","findhere.com","findmail.com","findmemail.com","finebody.com","fineemail.com","finfin.com","finklfan.com","fire-brigade.com","fireman.net","fishburne.org","fishfuse.com","fivemail.de","fixmail.tk","fizmail.com","flashbox.5july.org","flashemail.com","flashmail.com","flashmail.net","fleckens.hu","flipcode.com","floridaemail.net","flytecrew.com","fmail.co.uk","fmailbox.com","fmgirl.com","fmguy.com","fnbmail.co.za","fnmail.com","folkfan.com","foodmail.com","footard.com","football.theboys.com","footballmail.com","foothills.net","for-president.com","force9.co.uk","forfree.at","forgetmail.com","fornow.eu","forpresident.com","fortuncity.com","fortunecity.com","forum.dk","fossefans.com","foxmail.com","fr33mail.info","francefans.com","francemel.fr","frapmail.com","free-email.ga","free-online.net","free-org.com","free.com.pe","free.fr","freeaccess.nl","freeaccount.com","freeandsingle.com","freebox.com","freedom.usa.com","freedomlover.com","freefanmail.com","freegates.be","freeghana.com","freelance-france.eu","freeler.nl","freemail.bozz.com","freemail.c3.hu","freemail.com.au","freemail.com.pk","freemail.de","freemail.et","freemail.gr","freemail.hu","freemail.it","freemail.lt","freemail.ms","freemail.nl","freemail.org.mk","freemail.ru","freemails.ga","freemeil.gq","freenet.de","freenet.kg","freeola.com","freeola.net","freeproblem.com","freesbee.fr","freeserve.co.uk","freeservers.com","freestamp.com","freestart.hu","freesurf.fr","freesurf.nl","freeuk.com","freeuk.net","freeukisp.co.uk","freeweb.org","freewebemail.com","freeyellow.com","freezone.co.uk","fresnomail.com","freudenkinder.de","freundin.ru","friction.net","friendlydevices.com","friendlymail.co.uk","friends-cafe.com","friendsfan.com","from-africa.com","from-america.com","from-argentina.com","from-asia.com","from-australia.com","from-belgium.com","from-brazil.com","from-canada.com","from-china.net","from-england.com","from-europe.com","from-france.net","from-germany.net","from-holland.com","from-israel.com","from-italy.net","from-japan.net","from-korea.com","from-mexico.com","from-outerspace.com","from-russia.com","from-spain.net","fromalabama.com","fromalaska.com","fromarizona.com","fromarkansas.com","fromcalifornia.com","fromcolorado.com","fromconnecticut.com","fromdelaware.com","fromflorida.net","fromgeorgia.com","fromhawaii.net","fromidaho.com","fromillinois.com","fromindiana.com","frominter.net","fromiowa.com","fromjupiter.com","fromkansas.com","fromkentucky.com","fromlouisiana.com","frommaine.net","frommaryland.com","frommassachusetts.com","frommiami.com","frommichigan.com","fromminnesota.com","frommississippi.com","frommissouri.com","frommontana.com","fromnebraska.com","fromnevada.com","fromnewhampshire.com","fromnewjersey.com","fromnewmexico.com","fromnewyork.net","fromnorthcarolina.com","fromnorthdakota.com","fromohio.com","fromoklahoma.com","fromoregon.net","frompennsylvania.com","fromrhodeisland.com","fromru.com","fromru.ru","fromsouthcarolina.com","fromsouthdakota.com","fromtennessee.com","fromtexas.com","fromthestates.com","fromutah.com","fromvermont.com","fromvirginia.com","fromwashington.com","fromwashingtondc.com","fromwestvirginia.com","fromwisconsin.com","fromwyoming.com","front.ru","frontier.com","frontiernet.net","frostbyte.uk.net","fsmail.net","ftc-i.net","ftml.net","fuckingduh.com","fudgerub.com","fullmail.com","funiran.com","funkfan.com","funky4.com","fuorissimo.com","furnitureprovider.com","fuse.net","fusemail.com","fut.es","fux0ringduh.com","fwnb.com","fxsmails.com","fyii.de","galamb.net","galaxy5.com","galaxyhit.com","gamebox.com","gamebox.net","gamegeek.com","games.com","gamespotmail.com","gamil.com","gamil.com.au","gamno.config.work","garbage.com","gardener.com","garliclife.com","gatwickemail.com","gawab.com","gay.com","gaybrighton.co.uk","gaza.net","gazeta.pl","gazibooks.com","gci.net","gdi.net","gee-wiz.com","geecities.com","geek.com","geek.hu","geeklife.com","gehensiemirnichtaufdensack.de","gelitik.in","gencmail.com","general-hospital.com","gentlemansclub.de","genxemail.com","geocities.com","geography.net","geologist.com","geopia.com","germanymail.com","get.pp.ua","get1mail.com","get2mail.fr","getairmail.cf","getairmail.com","getairmail.ga","getairmail.gq","getmails.eu","getonemail.com","getonemail.net","gfxartist.ru","gh2000.com","ghanamail.com","ghostmail.com","ghosttexter.de","giantmail.de","giantsfan.com","giga4u.de","gigileung.org","girl4god.com","girlsundertheinfluence.com","gishpuppy.com","givepeaceachance.com","glay.org","glendale.net","globalfree.it","globalpagan.com","globalsite.com.br","globetrotter.net","globo.com","globomail.com","gmail.co.za","gmail.com","gmail.com.au","gmail.com.br","gmail.ru","gmial.com","gmx.at","gmx.ch","gmx.co.uk","gmx.com","gmx.de","gmx.fr","gmx.li","gmx.net","gmx.us","gnwmail.com","go.com","go.ro","go.ru","go2.com.py","go2net.com","go4.it","gobrainstorm.net","gocollege.com","gocubs.com","godmail.dk","goemailgo.com","gofree.co.uk","gol.com","goldenmail.ru","goldmail.ru","goldtoolbox.com","golfemail.com","golfilla.info","golfmail.be","gonavy.net","gonuts4free.com","goodnewsmail.com","goodstick.com","google.com","googlegroups.com","googlemail.com","goosemoose.com","goplay.com","gorillaswithdirtyarmpits.com","gorontalo.net","gospelfan.com","gothere.uk.com","gotmail.com","gotmail.net","gotmail.org","gotomy.com","gotti.otherinbox.com","govolsfan.com","gportal.hu","grabmail.com","graduate.org","graffiti.net","gramszu.net","grandmamail.com","grandmasmail.com","graphic-designer.com","grapplers.com","gratisweb.com","great-host.in","greenmail.net","greensloth.com","groupmail.com","grr.la","grungecafe.com","gsrv.co.uk","gtemail.net","gtmc.net","gua.net","guerillamail.biz","guerillamail.com","guerrillamail.biz","guerrillamail.com","guerrillamail.de","guerrillamail.info","guerrillamail.net","guerrillamail.org","guerrillamailblock.com","guessmail.com","guju.net","gurlmail.com","gustr.com","guy.com","guy2.com","guyanafriends.com","gwhsgeckos.com","gyorsposta.com","gyorsposta.hu","h-mail.us","hab-verschlafen.de","hablas.com","habmalnefrage.de","hacccc.com","hackermail.com","hackermail.net","hailmail.net","hairdresser.com","hairdresser.net","haltospam.com","hamptonroads.com","handbag.com","handleit.com","hang-ten.com","hangglidemail.com","hanmail.net","happemail.com","happycounsel.com","happypuppy.com","harakirimail.com","haramamba.ru","hardcorefreak.com","hardyoungbabes.com","hartbot.de","hat-geld.de","hatespam.org","hawaii.rr.com","hawaiiantel.net","headbone.com","healthemail.net","heartthrob.com","heavynoize.net","heerschap.com","heesun.net","hehe.com","hello.hu","hello.net.au","hello.to","hellokitty.com","helter-skelter.com","hempseed.com","herediano.com","heremail.com","herono1.com","herp.in","herr-der-mails.de","hetnet.nl","hewgen.ru","hey.to","hhdevel.com","hideakifan.com","hidemail.de","hidzz.com","highmilton.com","highquality.com","highveldmail.co.za","hilarious.com","hinduhome.com","hingis.org","hiphopfan.com","hispavista.com","hitmail.com","hitmanrecords.com","hitthe.net","hkg.net","hkstarphoto.com","hmamail.com","hochsitze.com","hockeymail.com","hollywoodkids.com","home-email.com","home.de","home.nl","home.no.net","home.ro","home.se","homeart.com","homelocator.com","homemail.com","homenetmail.com","homeonthethrone.com","homestead.com","homeworkcentral.com","honduras.com","hongkong.com","hookup.net","hoopsmail.com","hopemail.biz","horrormail.com","host-it.com.sg","hot-mail.gq","hot-shop.com","hot-shot.com","hot.ee","hotbot.com","hotbox.ru","hotbrev.com","hotcoolmail.com","hotepmail.com","hotfire.net","hotletter.com","hotlinemail.com","hotmail.be","hotmail.ca","hotmail.ch","hotmail.co","hotmail.co.il","hotmail.co.jp","hotmail.co.nz","hotmail.co.uk","hotmail.co.za","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.mx","hotmail.com.tr","hotmail.de","hotmail.es","hotmail.fi","hotmail.fr","hotmail.it","hotmail.kg","hotmail.kz","hotmail.my","hotmail.nl","hotmail.ro","hotmail.roor","hotmail.ru","hotpop.com","hotpop3.com","hotvoice.com","housefan.com","housefancom","housemail.com","hsuchi.net","html.tou.com","hu2.ru","hughes.net","hulapla.de","humanoid.net","humanux.com","humn.ws.gy","humour.com","hunsa.com","hurting.com","hush.com","hushmail.com","hypernautica.com","i-connect.com","i-france.com","i-love-cats.com","i-mail.com.au","i-mailbox.net","i-p.com","i.am","i.am.to","i.amhey.to","i.ua","i12.com","i2828.com","i2pmail.org","iam4msu.com","iamawoman.com","iamfinallyonline.com","iamwaiting.com","iamwasted.com","iamyours.com","icestorm.com","ich-bin-verrueckt-nach-dir.de","ich-will-net.de","icloud.com","icmsconsultants.com","icq.com","icqmail.com","icrazy.com","icu.md","id-base.com","id.ru","ididitmyway.com","idigjesus.com","idirect.com","ieatspam.eu","ieatspam.info","ieh-mail.de","iespana.es","ifoward.com","ig.com.br","ignazio.it","ignmail.com","ihateclowns.com","ihateyoualot.info","iheartspam.org","iinet.net.au","ijustdontcare.com","ikbenspamvrij.nl","ilkposta.com","ilovechocolate.com","ilovegiraffes.net","ilovejesus.com","ilovelionking.com","ilovepokemonmail.com","ilovethemovies.com","ilovetocollect.net","ilse.nl","imaginemail.com","imail.org","imail.ru","imailbox.com","imails.info","imap-mail.com","imap.cc","imapmail.org","imel.org","imgof.com","imgv.de","immo-gerance.info","imneverwrong.com","imposter.co.uk","imstations.com","imstressed.com","imtoosexy.com","in-box.net","in2jesus.com","iname.com","inbax.tk","inbound.plus","inbox.com","inbox.lv","inbox.net","inbox.ru","inbox.si","inboxalias.com","inboxclean.com","inboxclean.org","incamail.com","includingarabia.com","incredimail.com","indeedemail.com","index.ua","indexa.fr","india.com","indiatimes.com","indo-mail.com","indocities.com","indomail.com","indosat.net.id","indus.ru","indyracers.com","inerted.com","inet.com","inet.net.au","info-media.de","info-radio.ml","info.com","info66.com","infoapex.com","infocom.zp.ua","infohq.com","infomail.es","infomart.or.jp","informaticos.com","infospacemail.com","infovia.com.ar","inicia.es","inmail.sk","inmail24.com","inmano.com","inmynetwork.tk","innocent.com","inonesearch.com","inorbit.com","inoutbox.com","insidebaltimore.net","insight.rr.com","inspectorjavert.com","instant-mail.de","instantemailaddress.com","instantmail.fr","instruction.com","instructor.net","insurer.com","interburp.com","interfree.it","interia.pl","interlap.com.ar","intermail.co.il","internet-club.com","internet-e-mail.com","internet-mail.org","internet-police.com","internetbiz.com","internetdrive.com","internetegypt.com","internetemails.net","internetmailing.net","internode.on.net","invalid.com","investormail.com","inwind.it","iobox.com","iobox.fi","iol.it","iol.pt","iowaemail.com","ip3.com","ip4.pp.ua","ip6.li","ip6.pp.ua","ipdeer.com","ipex.ru","ipoo.org","iportalexpress.com","iprimus.com.au","iqemail.com","irangate.net","iraqmail.com","ireland.com","irelandmail.com","irish2me.com","irj.hu","iroid.com","iscooler.com","isellcars.com","iservejesus.com","islamonline.net","islandemail.net","isleuthmail.com","ismart.net","isonfire.com","isp9.net","israelmail.com","ist-allein.info","ist-einmalig.de","ist-ganz-allein.de","ist-willig.de","italymail.com","itelefonica.com.br","itloox.com","itmom.com","ivebeenframed.com","ivillage.com","iwan-fals.com","iwi.net","iwmail.com","iwon.com","izadpanah.com","jabble.com","jahoopa.com","jakuza.hu","japan.com","jaydemail.com","jazzandjava.com","jazzfan.com","jazzgame.com","je-recycle.info","jeanvaljean.com","jerusalemmail.com","jesusanswers.com","jet-renovation.fr","jetable.com","jetable.de","jetable.fr.nf","jetable.net","jetable.org","jetable.pp.ua","jetemail.net","jewishmail.com","jfkislanders.com","jingjo.net","jippii.fi","jmail.co.za","jnxjn.com","job4u.com","jobbikszimpatizans.hu","joelonsoftware.com","joinme.com","jojomail.com","jokes.com","jordanmail.com","journalist.com","jourrapide.com","jovem.te.pt","joymail.com","jpopmail.com","jsrsolutions.com","jubiimail.dk","jump.com","jumpy.it","juniormail.com","junk1e.com","junkmail.com","junkmail.gq","juno.com","justemail.net","justicemail.com","justmail.de","justmailz.com","justmarriedmail.com","jwspamspy","k.ro","kaazoo.com","kabissa.org","kaduku.net","kaffeeschluerfer.com","kaffeeschluerfer.de","kaixo.com","kalpoint.com","kansascity.com","kapoorweb.com","karachian.com","karachioye.com","karbasi.com","kasmail.com","kaspop.com","katamail.com","kayafmmail.co.za","kbjrmail.com","kcks.com","kebi.com","keftamail.com","keg-party.com","keinpardon.de","keko.com.ar","kellychen.com","keptprivate.com","keromail.com","kewpee.com","keyemail.com","kgb.hu","khosropour.com","kichimail.com","kickassmail.com","killamail.com","killergreenmail.com","killermail.com","killmail.com","killmail.net","kimo.com","kimsdisk.com","kinglibrary.net","kinki-kids.com","kismail.ru","kissfans.com","kitemail.com","kittymail.com","kitznet.at","kiwibox.com","kiwitown.com","klassmaster.com","klassmaster.net","klzlk.com","km.ru","kmail.com.au","knol-power.nl","koko.com","kolumbus.fi","kommespaeter.de","konkovo.net","konsul.ru","konx.com","korea.com","koreamail.com","kosino.net","koszmail.pl","kozmail.com","kpnmail.nl","kreditor.ru","krim.ws","krongthip.com","krovatka.net","krunis.com","ksanmail.com","ksee24mail.com","kube93mail.com","kukamail.com","kulturbetrieb.info","kumarweb.com","kurzepost.de","kuwait-mail.com","kuzminki.net","kyokodate.com","kyokofukada.net","l33r.eu","la.com","labetteraverouge.at","lackmail.ru","ladyfire.com","ladymail.cz","lagerlouts.com","lags.us","lahoreoye.com","lakmail.com","lamer.hu","land.ru","langoo.com","lankamail.com","laoeq.com","laposte.net","lass-es-geschehen.de","last-chance.pro","lastmail.co","latemodels.com","latinmail.com","latino.com","lavabit.com","lavache.com","law.com","lawlita.com","lawyer.com","lazyinbox.com","learn2compute.net","lebanonatlas.com","leeching.net","leehom.net","lefortovo.net","legalactions.com","legalrc.loan","legislator.com","legistrator.com","lenta.ru","leonlai.net","letsgomets.net","letterbox.com","letterboxes.org","letthemeatspam.com","levele.com","levele.hu","lex.bg","lexis-nexis-mail.com","lhsdv.com","lianozovo.net","libero.it","liberomail.com","lick101.com","liebt-dich.info","lifebyfood.com","link2mail.net","linkmaster.com","linktrader.com","linuxfreemail.com","linuxmail.org","lionsfan.com.au","liontrucks.com","liquidinformation.net","lissamail.com","list.ru","listomail.com","litedrop.com","literaturelover.com","littleapple.com","littleblueroom.com","live.at","live.be","live.ca","live.cl","live.cn","live.co.uk","live.co.za","live.com","live.com.ar","live.com.au","live.com.mx","live.com.my","live.com.pt","live.com.sg","live.de","live.dk","live.fr","live.hk","live.ie","live.in","live.it","live.jp","live.nl","live.no","live.ru","live.se","liveradio.tk","liverpoolfans.com","ljiljan.com","llandudno.com","llangollen.com","lmxmail.sk","lobbyist.com","localbar.com","localgenius.com","locos.com","login-email.ga","loh.pp.ua","lol.ovpn.to","lolfreak.net","lolito.tk","lolnetwork.net","london.com","loobie.com","looksmart.co.uk","looksmart.com","looksmart.com.au","lookugly.com","lopezclub.com","lortemail.dk","louiskoo.com","lov.ru","love.com","love.cz","loveable.com","lovecat.com","lovefall.ml","lovefootball.com","loveforlostcats.com","lovelygirl.net","lovemail.com","lover-boy.com","lovergirl.com","lovesea.gq","lovethebroncos.com","lovethecowboys.com","lovetocook.net","lovetohike.com","loveyouforever.de","lovingjesus.com","lowandslow.com","lr7.us","lr78.com","lroid.com","lubovnik.ru","lukop.dk","luso.pt","luukku.com","luv2.us","luvrhino.com","lvie.com.sg","lvwebmail.com","lycos.co.uk","lycos.com","lycos.es","lycos.it","lycos.ne.jp","lycos.ru","lycosemail.com","lycosmail.com","m-a-i-l.com","m-hmail.com","m21.cc","m4.org","m4ilweb.info","mac.com","macbox.com","macbox.ru","macfreak.com","machinecandy.com","macmail.com","mad.scientist.com","madcrazy.com","madcreations.com","madonnafan.com","madrid.com","maennerversteherin.com","maennerversteherin.de","maffia.hu","magicmail.co.za","mahmoodweb.com","mail-awu.de","mail-box.cz","mail-center.com","mail-central.com","mail-easy.fr","mail-filter.com","mail-me.com","mail-page.com","mail-temporaire.fr","mail-tester.com","mail.austria.com","mail.az","mail.be","mail.bg","mail.bulgaria.com","mail.by","mail.byte.it","mail.co.za","mail.com","mail.com.tr","mail.ee","mail.entrepeneurmag.com","mail.freetown.com","mail.gr","mail.hitthebeach.com","mail.htl22.at","mail.kmsp.com","mail.md","mail.mezimages.net","mail.misterpinball.de","mail.nu","mail.org.uk","mail.pf","mail.pharmacy.com","mail.pt","mail.r-o-o-t.com","mail.ru","mail.salu.net","mail.sisna.com","mail.spaceports.com","mail.svenz.eu","mail.theboys.com","mail.usa.com","mail.vasarhely.hu","mail.vu","mail.wtf","mail.zp.ua","mail114.net","mail15.com","mail1a.de","mail1st.com","mail2007.com","mail21.cc","mail2aaron.com","mail2abby.com","mail2abc.com","mail2actor.com","mail2admiral.com","mail2adorable.com","mail2adoration.com","mail2adore.com","mail2adventure.com","mail2aeolus.com","mail2aether.com","mail2affection.com","mail2afghanistan.com","mail2africa.com","mail2agent.com","mail2aha.com","mail2ahoy.com","mail2aim.com","mail2air.com","mail2airbag.com","mail2airforce.com","mail2airport.com","mail2alabama.com","mail2alan.com","mail2alaska.com","mail2albania.com","mail2alcoholic.com","mail2alec.com","mail2alexa.com","mail2algeria.com","mail2alicia.com","mail2alien.com","mail2allan.com","mail2allen.com","mail2allison.com","mail2alpha.com","mail2alyssa.com","mail2amanda.com","mail2amazing.com","mail2amber.com","mail2america.com","mail2american.com","mail2andorra.com","mail2andrea.com","mail2andy.com","mail2anesthesiologist.com","mail2angela.com","mail2angola.com","mail2ann.com","mail2anna.com","mail2anne.com","mail2anthony.com","mail2anything.com","mail2aphrodite.com","mail2apollo.com","mail2april.com","mail2aquarius.com","mail2arabia.com","mail2arabic.com","mail2architect.com","mail2ares.com","mail2argentina.com","mail2aries.com","mail2arizona.com","mail2arkansas.com","mail2armenia.com","mail2army.com","mail2arnold.com","mail2art.com","mail2artemus.com","mail2arthur.com","mail2artist.com","mail2ashley.com","mail2ask.com","mail2astronomer.com","mail2athena.com","mail2athlete.com","mail2atlas.com","mail2atom.com","mail2attitude.com","mail2auction.com","mail2aunt.com","mail2australia.com","mail2austria.com","mail2azerbaijan.com","mail2baby.com","mail2bahamas.com","mail2bahrain.com","mail2ballerina.com","mail2ballplayer.com","mail2band.com","mail2bangladesh.com","mail2bank.com","mail2banker.com","mail2bankrupt.com","mail2baptist.com","mail2bar.com","mail2barbados.com","mail2barbara.com","mail2barter.com","mail2basketball.com","mail2batter.com","mail2beach.com","mail2beast.com","mail2beatles.com","mail2beauty.com","mail2becky.com","mail2beijing.com","mail2belgium.com","mail2belize.com","mail2ben.com","mail2bernard.com","mail2beth.com","mail2betty.com","mail2beverly.com","mail2beyond.com","mail2biker.com","mail2bill.com","mail2billionaire.com","mail2billy.com","mail2bio.com","mail2biologist.com","mail2black.com","mail2blackbelt.com","mail2blake.com","mail2blind.com","mail2blonde.com","mail2blues.com","mail2bob.com","mail2bobby.com","mail2bolivia.com","mail2bombay.com","mail2bonn.com","mail2bookmark.com","mail2boreas.com","mail2bosnia.com","mail2boston.com","mail2botswana.com","mail2bradley.com","mail2brazil.com","mail2breakfast.com","mail2brian.com","mail2bride.com","mail2brittany.com","mail2broker.com","mail2brook.com","mail2bruce.com","mail2brunei.com","mail2brunette.com","mail2brussels.com","mail2bryan.com","mail2bug.com","mail2bulgaria.com","mail2business.com","mail2buy.com","mail2ca.com","mail2california.com","mail2calvin.com","mail2cambodia.com","mail2cameroon.com","mail2canada.com","mail2cancer.com","mail2capeverde.com","mail2capricorn.com","mail2cardinal.com","mail2cardiologist.com","mail2care.com","mail2caroline.com","mail2carolyn.com","mail2casey.com","mail2cat.com","mail2caterer.com","mail2cathy.com","mail2catlover.com","mail2catwalk.com","mail2cell.com","mail2chad.com","mail2champaign.com","mail2charles.com","mail2chef.com","mail2chemist.com","mail2cherry.com","mail2chicago.com","mail2chile.com","mail2china.com","mail2chinese.com","mail2chocolate.com","mail2christian.com","mail2christie.com","mail2christmas.com","mail2christy.com","mail2chuck.com","mail2cindy.com","mail2clark.com","mail2classifieds.com","mail2claude.com","mail2cliff.com","mail2clinic.com","mail2clint.com","mail2close.com","mail2club.com","mail2coach.com","mail2coastguard.com","mail2colin.com","mail2college.com","mail2colombia.com","mail2color.com","mail2colorado.com","mail2columbia.com","mail2comedian.com","mail2composer.com","mail2computer.com","mail2computers.com","mail2concert.com","mail2congo.com","mail2connect.com","mail2connecticut.com","mail2consultant.com","mail2convict.com","mail2cook.com","mail2cool.com","mail2cory.com","mail2costarica.com","mail2country.com","mail2courtney.com","mail2cowboy.com","mail2cowgirl.com","mail2craig.com","mail2crave.com","mail2crazy.com","mail2create.com","mail2croatia.com","mail2cry.com","mail2crystal.com","mail2cuba.com","mail2culture.com","mail2curt.com","mail2customs.com","mail2cute.com","mail2cutey.com","mail2cynthia.com","mail2cyprus.com","mail2czechrepublic.com","mail2dad.com","mail2dale.com","mail2dallas.com","mail2dan.com","mail2dana.com","mail2dance.com","mail2dancer.com","mail2danielle.com","mail2danny.com","mail2darlene.com","mail2darling.com","mail2darren.com","mail2daughter.com","mail2dave.com","mail2dawn.com","mail2dc.com","mail2dealer.com","mail2deanna.com","mail2dearest.com","mail2debbie.com","mail2debby.com","mail2deer.com","mail2delaware.com","mail2delicious.com","mail2demeter.com","mail2democrat.com","mail2denise.com","mail2denmark.com","mail2dennis.com","mail2dentist.com","mail2derek.com","mail2desert.com","mail2devoted.com","mail2devotion.com","mail2diamond.com","mail2diana.com","mail2diane.com","mail2diehard.com","mail2dilemma.com","mail2dillon.com","mail2dinner.com","mail2dinosaur.com","mail2dionysos.com","mail2diplomat.com","mail2director.com","mail2dirk.com","mail2disco.com","mail2dive.com","mail2diver.com","mail2divorced.com","mail2djibouti.com","mail2doctor.com","mail2doglover.com","mail2dominic.com","mail2dominica.com","mail2dominicanrepublic.com","mail2don.com","mail2donald.com","mail2donna.com","mail2doris.com","mail2dorothy.com","mail2doug.com","mail2dough.com","mail2douglas.com","mail2dow.com","mail2downtown.com","mail2dream.com","mail2dreamer.com","mail2dude.com","mail2dustin.com","mail2dyke.com","mail2dylan.com","mail2earl.com","mail2earth.com","mail2eastend.com","mail2eat.com","mail2economist.com","mail2ecuador.com","mail2eddie.com","mail2edgar.com","mail2edwin.com","mail2egypt.com","mail2electron.com","mail2eli.com","mail2elizabeth.com","mail2ellen.com","mail2elliot.com","mail2elsalvador.com","mail2elvis.com","mail2emergency.com","mail2emily.com","mail2engineer.com","mail2english.com","mail2environmentalist.com","mail2eos.com","mail2eric.com","mail2erica.com","mail2erin.com","mail2erinyes.com","mail2eris.com","mail2eritrea.com","mail2ernie.com","mail2eros.com","mail2estonia.com","mail2ethan.com","mail2ethiopia.com","mail2eu.com","mail2europe.com","mail2eurus.com","mail2eva.com","mail2evan.com","mail2evelyn.com","mail2everything.com","mail2exciting.com","mail2expert.com","mail2fairy.com","mail2faith.com","mail2fanatic.com","mail2fancy.com","mail2fantasy.com","mail2farm.com","mail2farmer.com","mail2fashion.com","mail2fat.com","mail2feeling.com","mail2female.com","mail2fever.com","mail2fighter.com","mail2fiji.com","mail2filmfestival.com","mail2films.com","mail2finance.com","mail2finland.com","mail2fireman.com","mail2firm.com","mail2fisherman.com","mail2flexible.com","mail2florence.com","mail2florida.com","mail2floyd.com","mail2fly.com","mail2fond.com","mail2fondness.com","mail2football.com","mail2footballfan.com","mail2found.com","mail2france.com","mail2frank.com","mail2frankfurt.com","mail2franklin.com","mail2fred.com","mail2freddie.com","mail2free.com","mail2freedom.com","mail2french.com","mail2freudian.com","mail2friendship.com","mail2from.com","mail2fun.com","mail2gabon.com","mail2gabriel.com","mail2gail.com","mail2galaxy.com","mail2gambia.com","mail2games.com","mail2gary.com","mail2gavin.com","mail2gemini.com","mail2gene.com","mail2genes.com","mail2geneva.com","mail2george.com","mail2georgia.com","mail2gerald.com","mail2german.com","mail2germany.com","mail2ghana.com","mail2gilbert.com","mail2gina.com","mail2girl.com","mail2glen.com","mail2gloria.com","mail2goddess.com","mail2gold.com","mail2golfclub.com","mail2golfer.com","mail2gordon.com","mail2government.com","mail2grab.com","mail2grace.com","mail2graham.com","mail2grandma.com","mail2grandpa.com","mail2grant.com","mail2greece.com","mail2green.com","mail2greg.com","mail2grenada.com","mail2gsm.com","mail2guard.com","mail2guatemala.com","mail2guy.com","mail2hades.com","mail2haiti.com","mail2hal.com","mail2handhelds.com","mail2hank.com","mail2hannah.com","mail2harold.com","mail2harry.com","mail2hawaii.com","mail2headhunter.com","mail2heal.com","mail2heather.com","mail2heaven.com","mail2hebe.com","mail2hecate.com","mail2heidi.com","mail2helen.com","mail2hell.com","mail2help.com","mail2helpdesk.com","mail2henry.com","mail2hephaestus.com","mail2hera.com","mail2hercules.com","mail2herman.com","mail2hermes.com","mail2hespera.com","mail2hestia.com","mail2highschool.com","mail2hindu.com","mail2hip.com","mail2hiphop.com","mail2holland.com","mail2holly.com","mail2hollywood.com","mail2homer.com","mail2honduras.com","mail2honey.com","mail2hongkong.com","mail2hope.com","mail2horse.com","mail2hot.com","mail2hotel.com","mail2houston.com","mail2howard.com","mail2hugh.com","mail2human.com","mail2hungary.com","mail2hungry.com","mail2hygeia.com","mail2hyperspace.com","mail2hypnos.com","mail2ian.com","mail2ice-cream.com","mail2iceland.com","mail2idaho.com","mail2idontknow.com","mail2illinois.com","mail2imam.com","mail2in.com","mail2india.com","mail2indian.com","mail2indiana.com","mail2indonesia.com","mail2infinity.com","mail2intense.com","mail2iowa.com","mail2iran.com","mail2iraq.com","mail2ireland.com","mail2irene.com","mail2iris.com","mail2irresistible.com","mail2irving.com","mail2irwin.com","mail2isaac.com","mail2israel.com","mail2italian.com","mail2italy.com","mail2jackie.com","mail2jacob.com","mail2jail.com","mail2jaime.com","mail2jake.com","mail2jamaica.com","mail2james.com","mail2jamie.com","mail2jan.com","mail2jane.com","mail2janet.com","mail2janice.com","mail2japan.com","mail2japanese.com","mail2jasmine.com","mail2jason.com","mail2java.com","mail2jay.com","mail2jazz.com","mail2jed.com","mail2jeffrey.com","mail2jennifer.com","mail2jenny.com","mail2jeremy.com","mail2jerry.com","mail2jessica.com","mail2jessie.com","mail2jesus.com","mail2jew.com","mail2jeweler.com","mail2jim.com","mail2jimmy.com","mail2joan.com","mail2joann.com","mail2joanna.com","mail2jody.com","mail2joe.com","mail2joel.com","mail2joey.com","mail2john.com","mail2join.com","mail2jon.com","mail2jonathan.com","mail2jones.com","mail2jordan.com","mail2joseph.com","mail2josh.com","mail2joy.com","mail2juan.com","mail2judge.com","mail2judy.com","mail2juggler.com","mail2julian.com","mail2julie.com","mail2jumbo.com","mail2junk.com","mail2justin.com","mail2justme.com","mail2k.ru","mail2kansas.com","mail2karate.com","mail2karen.com","mail2karl.com","mail2karma.com","mail2kathleen.com","mail2kathy.com","mail2katie.com","mail2kay.com","mail2kazakhstan.com","mail2keen.com","mail2keith.com","mail2kelly.com","mail2kelsey.com","mail2ken.com","mail2kendall.com","mail2kennedy.com","mail2kenneth.com","mail2kenny.com","mail2kentucky.com","mail2kenya.com","mail2kerry.com","mail2kevin.com","mail2kim.com","mail2kimberly.com","mail2king.com","mail2kirk.com","mail2kiss.com","mail2kosher.com","mail2kristin.com","mail2kurt.com","mail2kuwait.com","mail2kyle.com","mail2kyrgyzstan.com","mail2la.com","mail2lacrosse.com","mail2lance.com","mail2lao.com","mail2larry.com","mail2latvia.com","mail2laugh.com","mail2laura.com","mail2lauren.com","mail2laurie.com","mail2lawrence.com","mail2lawyer.com","mail2lebanon.com","mail2lee.com","mail2leo.com","mail2leon.com","mail2leonard.com","mail2leone.com","mail2leslie.com","mail2letter.com","mail2liberia.com","mail2libertarian.com","mail2libra.com","mail2libya.com","mail2liechtenstein.com","mail2life.com","mail2linda.com","mail2linux.com","mail2lionel.com","mail2lipstick.com","mail2liquid.com","mail2lisa.com","mail2lithuania.com","mail2litigator.com","mail2liz.com","mail2lloyd.com","mail2lois.com","mail2lola.com","mail2london.com","mail2looking.com","mail2lori.com","mail2lost.com","mail2lou.com","mail2louis.com","mail2louisiana.com","mail2lovable.com","mail2love.com","mail2lucky.com","mail2lucy.com","mail2lunch.com","mail2lust.com","mail2luxembourg.com","mail2luxury.com","mail2lyle.com","mail2lynn.com","mail2madagascar.com","mail2madison.com","mail2madrid.com","mail2maggie.com","mail2mail4.com","mail2maine.com","mail2malawi.com","mail2malaysia.com","mail2maldives.com","mail2mali.com","mail2malta.com","mail2mambo.com","mail2man.com","mail2mandy.com","mail2manhunter.com","mail2mankind.com","mail2many.com","mail2marc.com","mail2marcia.com","mail2margaret.com","mail2margie.com","mail2marhaba.com","mail2maria.com","mail2marilyn.com","mail2marines.com","mail2mark.com","mail2marriage.com","mail2married.com","mail2marries.com","mail2mars.com","mail2marsha.com","mail2marshallislands.com","mail2martha.com","mail2martin.com","mail2marty.com","mail2marvin.com","mail2mary.com","mail2maryland.com","mail2mason.com","mail2massachusetts.com","mail2matt.com","mail2matthew.com","mail2maurice.com","mail2mauritania.com","mail2mauritius.com","mail2max.com","mail2maxwell.com","mail2maybe.com","mail2mba.com","mail2me4u.com","mail2mechanic.com","mail2medieval.com","mail2megan.com","mail2mel.com","mail2melanie.com","mail2melissa.com","mail2melody.com","mail2member.com","mail2memphis.com","mail2methodist.com","mail2mexican.com","mail2mexico.com","mail2mgz.com","mail2miami.com","mail2michael.com","mail2michelle.com","mail2michigan.com","mail2mike.com","mail2milan.com","mail2milano.com","mail2mildred.com","mail2milkyway.com","mail2millennium.com","mail2millionaire.com","mail2milton.com","mail2mime.com","mail2mindreader.com","mail2mini.com","mail2minister.com","mail2minneapolis.com","mail2minnesota.com","mail2miracle.com","mail2missionary.com","mail2mississippi.com","mail2missouri.com","mail2mitch.com","mail2model.com","mail2moldova.commail2molly.com","mail2mom.com","mail2monaco.com","mail2money.com","mail2mongolia.com","mail2monica.com","mail2montana.com","mail2monty.com","mail2moon.com","mail2morocco.com","mail2morpheus.com","mail2mors.com","mail2moscow.com","mail2moslem.com","mail2mouseketeer.com","mail2movies.com","mail2mozambique.com","mail2mp3.com","mail2mrright.com","mail2msright.com","mail2museum.com","mail2music.com","mail2musician.com","mail2muslim.com","mail2my.com","mail2myboat.com","mail2mycar.com","mail2mycell.com","mail2mygsm.com","mail2mylaptop.com","mail2mymac.com","mail2mypager.com","mail2mypalm.com","mail2mypc.com","mail2myphone.com","mail2myplane.com","mail2namibia.com","mail2nancy.com","mail2nasdaq.com","mail2nathan.com","mail2nauru.com","mail2navy.com","mail2neal.com","mail2nebraska.com","mail2ned.com","mail2neil.com","mail2nelson.com","mail2nemesis.com","mail2nepal.com","mail2netherlands.com","mail2network.com","mail2nevada.com","mail2newhampshire.com","mail2newjersey.com","mail2newmexico.com","mail2newyork.com","mail2newzealand.com","mail2nicaragua.com","mail2nick.com","mail2nicole.com","mail2niger.com","mail2nigeria.com","mail2nike.com","mail2no.com","mail2noah.com","mail2noel.com","mail2noelle.com","mail2normal.com","mail2norman.com","mail2northamerica.com","mail2northcarolina.com","mail2northdakota.com","mail2northpole.com","mail2norway.com","mail2notus.com","mail2noway.com","mail2nowhere.com","mail2nuclear.com","mail2nun.com","mail2ny.com","mail2oasis.com","mail2oceanographer.com","mail2ohio.com","mail2ok.com","mail2oklahoma.com","mail2oliver.com","mail2oman.com","mail2one.com","mail2onfire.com","mail2online.com","mail2oops.com","mail2open.com","mail2ophthalmologist.com","mail2optometrist.com","mail2oregon.com","mail2oscars.com","mail2oslo.com","mail2painter.com","mail2pakistan.com","mail2palau.com","mail2pan.com","mail2panama.com","mail2paraguay.com","mail2paralegal.com","mail2paris.com","mail2park.com","mail2parker.com","mail2party.com","mail2passion.com","mail2pat.com","mail2patricia.com","mail2patrick.com","mail2patty.com","mail2paul.com","mail2paula.com","mail2pay.com","mail2peace.com","mail2pediatrician.com","mail2peggy.com","mail2pennsylvania.com","mail2perry.com","mail2persephone.com","mail2persian.com","mail2peru.com","mail2pete.com","mail2peter.com","mail2pharmacist.com","mail2phil.com","mail2philippines.com","mail2phoenix.com","mail2phonecall.com","mail2phyllis.com","mail2pickup.com","mail2pilot.com","mail2pisces.com","mail2planet.com","mail2platinum.com","mail2plato.com","mail2pluto.com","mail2pm.com","mail2podiatrist.com","mail2poet.com","mail2poland.com","mail2policeman.com","mail2policewoman.com","mail2politician.com","mail2pop.com","mail2pope.com","mail2popular.com","mail2portugal.com","mail2poseidon.com","mail2potatohead.com","mail2power.com","mail2presbyterian.com","mail2president.com","mail2priest.com","mail2prince.com","mail2princess.com","mail2producer.com","mail2professor.com","mail2protect.com","mail2psychiatrist.com","mail2psycho.com","mail2psychologist.com","mail2qatar.com","mail2queen.com","mail2rabbi.com","mail2race.com","mail2racer.com","mail2rachel.com","mail2rage.com","mail2rainmaker.com","mail2ralph.com","mail2randy.com","mail2rap.com","mail2rare.com","mail2rave.com","mail2ray.com","mail2raymond.com","mail2realtor.com","mail2rebecca.com","mail2recruiter.com","mail2recycle.com","mail2redhead.com","mail2reed.com","mail2reggie.com","mail2register.com","mail2rent.com","mail2republican.com","mail2resort.com","mail2rex.com","mail2rhodeisland.com","mail2rich.com","mail2richard.com","mail2ricky.com","mail2ride.com","mail2riley.com","mail2rita.com","mail2rob.com","mail2robert.com","mail2roberta.com","mail2robin.com","mail2rock.com","mail2rocker.com","mail2rod.com","mail2rodney.com","mail2romania.com","mail2rome.com","mail2ron.com","mail2ronald.com","mail2ronnie.com","mail2rose.com","mail2rosie.com","mail2roy.com","mail2rss.org","mail2rudy.com","mail2rugby.com","mail2runner.com","mail2russell.com","mail2russia.com","mail2russian.com","mail2rusty.com","mail2ruth.com","mail2rwanda.com","mail2ryan.com","mail2sa.com","mail2sabrina.com","mail2safe.com","mail2sagittarius.com","mail2sail.com","mail2sailor.com","mail2sal.com","mail2salaam.com","mail2sam.com","mail2samantha.com","mail2samoa.com","mail2samurai.com","mail2sandra.com","mail2sandy.com","mail2sanfrancisco.com","mail2sanmarino.com","mail2santa.com","mail2sara.com","mail2sarah.com","mail2sat.com","mail2saturn.com","mail2saudi.com","mail2saudiarabia.com","mail2save.com","mail2savings.com","mail2school.com","mail2scientist.com","mail2scorpio.com","mail2scott.com","mail2sean.com","mail2search.com","mail2seattle.com","mail2secretagent.com","mail2senate.com","mail2senegal.com","mail2sensual.com","mail2seth.com","mail2sevenseas.com","mail2sexy.com","mail2seychelles.com","mail2shane.com","mail2sharon.com","mail2shawn.com","mail2ship.com","mail2shirley.com","mail2shoot.com","mail2shuttle.com","mail2sierraleone.com","mail2simon.com","mail2singapore.com","mail2single.com","mail2site.com","mail2skater.com","mail2skier.com","mail2sky.com","mail2sleek.com","mail2slim.com","mail2slovakia.com","mail2slovenia.com","mail2smile.com","mail2smith.com","mail2smooth.com","mail2soccer.com","mail2soccerfan.com","mail2socialist.com","mail2soldier.com","mail2somalia.com","mail2son.com","mail2song.com","mail2sos.com","mail2sound.com","mail2southafrica.com","mail2southamerica.com","mail2southcarolina.com","mail2southdakota.com","mail2southkorea.com","mail2southpole.com","mail2spain.com","mail2spanish.com","mail2spare.com","mail2spectrum.com","mail2splash.com","mail2sponsor.com","mail2sports.com","mail2srilanka.com","mail2stacy.com","mail2stan.com","mail2stanley.com","mail2star.com","mail2state.com","mail2stephanie.com","mail2steve.com","mail2steven.com","mail2stewart.com","mail2stlouis.com","mail2stock.com","mail2stockholm.com","mail2stockmarket.com","mail2storage.com","mail2store.com","mail2strong.com","mail2student.com","mail2studio.com","mail2studio54.com","mail2stuntman.com","mail2subscribe.com","mail2sudan.com","mail2superstar.com","mail2surfer.com","mail2suriname.com","mail2susan.com","mail2suzie.com","mail2swaziland.com","mail2sweden.com","mail2sweetheart.com","mail2swim.com","mail2swimmer.com","mail2swiss.com","mail2switzerland.com","mail2sydney.com","mail2sylvia.com","mail2syria.com","mail2taboo.com","mail2taiwan.com","mail2tajikistan.com","mail2tammy.com","mail2tango.com","mail2tanya.com","mail2tanzania.com","mail2tara.com","mail2taurus.com","mail2taxi.com","mail2taxidermist.com","mail2taylor.com","mail2taz.com","mail2teacher.com","mail2technician.com","mail2ted.com","mail2telephone.com","mail2teletubbie.com","mail2tenderness.com","mail2tennessee.com","mail2tennis.com","mail2tennisfan.com","mail2terri.com","mail2terry.com","mail2test.com","mail2texas.com","mail2thailand.com","mail2therapy.com","mail2think.com","mail2tickets.com","mail2tiffany.com","mail2tim.com","mail2time.com","mail2timothy.com","mail2tina.com","mail2titanic.com","mail2toby.com","mail2todd.com","mail2togo.com","mail2tom.com","mail2tommy.com","mail2tonga.com","mail2tony.com","mail2touch.com","mail2tourist.com","mail2tracey.com","mail2tracy.com","mail2tramp.com","mail2travel.com","mail2traveler.com","mail2travis.com","mail2trekkie.com","mail2trex.com","mail2triallawyer.com","mail2trick.com","mail2trillionaire.com","mail2troy.com","mail2truck.com","mail2trump.com","mail2try.com","mail2tunisia.com","mail2turbo.com","mail2turkey.com","mail2turkmenistan.com","mail2tv.com","mail2tycoon.com","mail2tyler.com","mail2u4me.com","mail2uae.com","mail2uganda.com","mail2uk.com","mail2ukraine.com","mail2uncle.com","mail2unsubscribe.com","mail2uptown.com","mail2uruguay.com","mail2usa.com","mail2utah.com","mail2uzbekistan.com","mail2v.com","mail2vacation.com","mail2valentines.com","mail2valerie.com","mail2valley.com","mail2vamoose.com","mail2vanessa.com","mail2vanuatu.com","mail2venezuela.com","mail2venous.com","mail2venus.com","mail2vermont.com","mail2vickie.com","mail2victor.com","mail2victoria.com","mail2vienna.com","mail2vietnam.com","mail2vince.com","mail2virginia.com","mail2virgo.com","mail2visionary.com","mail2vodka.com","mail2volleyball.com","mail2waiter.com","mail2wallstreet.com","mail2wally.com","mail2walter.com","mail2warren.com","mail2washington.com","mail2wave.com","mail2way.com","mail2waycool.com","mail2wayne.com","mail2webmaster.com","mail2webtop.com","mail2webtv.com","mail2weird.com","mail2wendell.com","mail2wendy.com","mail2westend.com","mail2westvirginia.com","mail2whether.com","mail2whip.com","mail2white.com","mail2whitehouse.com","mail2whitney.com","mail2why.com","mail2wilbur.com","mail2wild.com","mail2willard.com","mail2willie.com","mail2wine.com","mail2winner.com","mail2wired.com","mail2wisconsin.com","mail2woman.com","mail2wonder.com","mail2world.com","mail2worship.com","mail2wow.com","mail2www.com","mail2wyoming.com","mail2xfiles.com","mail2xox.com","mail2yachtclub.com","mail2yahalla.com","mail2yemen.com","mail2yes.com","mail2yugoslavia.com","mail2zack.com","mail2zambia.com","mail2zenith.com","mail2zephir.com","mail2zeus.com","mail2zipper.com","mail2zoo.com","mail2zoologist.com","mail2zurich.com","mail3000.com","mail333.com","mail4trash.com","mail4u.info","mail8.com","mailandftp.com","mailandnews.com","mailas.com","mailasia.com","mailbidon.com","mailbiz.biz","mailblocks.com","mailbolt.com","mailbomb.net","mailboom.com","mailbox.as","mailbox.co.za","mailbox.gr","mailbox.hu","mailbox72.biz","mailbox80.biz","mailbr.com.br","mailbucket.org","mailc.net","mailcan.com","mailcat.biz","mailcatch.com","mailcc.com","mailchoose.co","mailcity.com","mailclub.fr","mailclub.net","mailde.de","mailde.info","maildrop.cc","maildrop.gq","maildx.com","mailed.ro","maileimer.de","mailexcite.com","mailexpire.com","mailfa.tk","mailfly.com","mailforce.net","mailforspam.com","mailfree.gq","mailfreeonline.com","mailfreeway.com","mailfs.com","mailftp.com","mailgate.gr","mailgate.ru","mailgenie.net","mailguard.me","mailhaven.com","mailhood.com","mailimate.com","mailin8r.com","mailinatar.com","mailinater.com","mailinator.com","mailinator.net","mailinator.org","mailinator.us","mailinator2.com","mailinblack.com","mailincubator.com","mailingaddress.org","mailingweb.com","mailisent.com","mailismagic.com","mailite.com","mailmate.com","mailme.dk","mailme.gq","mailme.ir","mailme.lv","mailme24.com","mailmetrash.com","mailmight.com","mailmij.nl","mailmoat.com","mailms.com","mailnator.com","mailnesia.com","mailnew.com","mailnull.com","mailops.com","mailorg.org","mailoye.com","mailpanda.com","mailpick.biz","mailpokemon.com","mailpost.zzn.com","mailpride.com","mailproxsy.com","mailpuppy.com","mailquack.com","mailrock.biz","mailroom.com","mailru.com","mailsac.com","mailscrap.com","mailseal.de","mailsent.net","mailserver.ru","mailservice.ms","mailshell.com","mailshuttle.com","mailsiphon.com","mailslapping.com","mailsnare.net","mailstart.com","mailstartplus.com","mailsurf.com","mailtag.com","mailtemp.info","mailto.de","mailtome.de","mailtothis.com","mailtrash.net","mailtv.net","mailtv.tv","mailueberfall.de","mailup.net","mailwire.com","mailworks.org","mailzi.ru","mailzilla.com","mailzilla.org","makemetheking.com","maktoob.com","malayalamtelevision.net","malayalapathram.com","male.ru","maltesemail.com","mamber.net","manager.de","manager.in.th","mancity.net","manlymail.net","mantrafreenet.com","mantramail.com","mantraonline.com","manutdfans.com","manybrain.com","marchmail.com","marfino.net","margarita.ru","mariah-carey.ml.org","mariahc.com","marijuana.com","marijuana.nl","marketing.lu","marketingfanatic.com","marketweighton.com","married-not.com","marriedandlovingit.com","marry.ru","marsattack.com","martindalemail.com","martinguerre.net","mash4077.com","masrawy.com","matmail.com","mauimail.com","mauritius.com","maximumedge.com","maxleft.com","maxmail.co.uk","mayaple.ru","mbox.com.au","mbx.cc","mchsi.com","mcrmail.com","me-mail.hu","me.com","meanpeoplesuck.com","meatismurder.net","medical.net.au","medmail.com","medscape.com","meetingmall.com","mega.zik.dj","megago.com","megamail.pt","megapoint.com","mehrani.com","mehtaweb.com","meine-dateien.info","meine-diashow.de","meine-fotos.info","meine-urlaubsfotos.de","meinspamschutz.de","mekhong.com","melodymail.com","meloo.com","meltmail.com","members.student.com","menja.net","merda.flu.cc","merda.igg.biz","merda.nut.cc","merda.usa.cc","merseymail.com","mesra.net","message.hu","message.myspace.com","messagebeamer.de","messages.to","messagez.com","metacrawler.com","metalfan.com","metaping.com","metta.lk","mexicomail.com","mezimages.net","mfsa.ru","miatadriver.com","mierdamail.com","miesto.sk","mighty.co.za","migmail.net","migmail.pl","migumail.com","miho-nakayama.com","mikrotamanet.com","millionaireintraining.com","millionairemail.com","milmail.com","milmail.com15","mindless.com","mindspring.com","minermail.com","mini-mail.com","minister.com","ministry-of-silly-walks.de","mintemail.com","misery.net","misterpinball.de","mit.tc","mittalweb.com","mixmail.com","mjfrogmail.com","ml1.net","mlanime.com","mlb.bounce.ed10.net","mm.st","mmail.com","mns.ru","mo3gov.net","moakt.com","mobico.ru","mobilbatam.com","mobileninja.co.uk","mochamail.com","modemnet.net","modernenglish.com","modomail.com","mohammed.com","mohmal.com","moldova.cc","moldova.com","moldovacc.com","mom-mail.com","momslife.com","moncourrier.fr.nf","monemail.com","monemail.fr.nf","money.net","mongol.net","monmail.fr.nf","monsieurcinema.com","montevideo.com.uy","monumentmail.com","moomia.com","moonman.com","moose-mail.com","mor19.uu.gl","mortaza.com","mosaicfx.com","moscowmail.com","mosk.ru","most-wanted.com","mostlysunny.com","motorcyclefan.net","motormania.com","movemail.com","movieemail.net","movieluver.com","mox.pp.ua","mozartmail.com","mozhno.net","mp3haze.com","mp4.it","mr-potatohead.com","mrpost.com","mrspender.com","mscold.com","msgbox.com","msn.cn","msn.com","msn.nl","msx.ru","mt2009.com","mt2014.com","mt2015.com","mt2016.com","mttestdriver.com","muehlacker.tk","multiplechoices","mundomail.net","munich.com","music.com","music.com19","music.maigate.ru","musician.com","musician.org","musicscene.org","muskelshirt.de","muslim.com","muslimemail.com","muslimsonline.com","mutantweb.com","mvrht.com","my.com","my10minutemail.com","mybox.it","mycabin.com","mycampus.com","mycard.net.ua","mycity.com","mycleaninbox.net","mycool.com","mydomain.com","mydotcomaddress.com","myfairpoint.net","myfamily.com","myfastmail.com","myfunnymail.com","mygo.com","myiris.com","myjazzmail.com","mymac.ru","mymacmail.com","mymail-in.net","mymail.ro","mynamedot.com","mynet.com","mynetaddress.com","mynetstore.de","myotw.net","myownemail.com","myownfriends.com","mypacks.net","mypad.com","mypartyclip.de","mypersonalemail.com","myphantomemail.com","myplace.com","myrambler.ru","myrealbox.com","myremarq.com","mysamp.de","myself.com","myspaceinc.net","myspamless.com","mystupidjob.com","mytemp.email","mytempemail.com","mytempmail.com","mythirdage.com","mytrashmail.com","myway.com","myworldmail.com","n2.com","n2baseball.com","n2business.com","n2mail.com","n2soccer.com","n2software.com","nabc.biz","nabuma.com","nafe.com","nagarealm.com","nagpal.net","nakedgreens.com","name.com","nameplanet.com","nanaseaikawa.com","nandomail.com","naplesnews.net","naseej.com","nate.com","nativestar.net","nativeweb.net","naui.net","naver.com","navigator.lv","navy.org","naz.com","nc.rr.com","nc.ru","nchoicemail.com","neeva.net","nekto.com","nekto.net","nekto.ru","nemra1.com","nenter.com","neo.rr.com","neomailbox.com","nepwk.com","nervhq.org","nervmich.net","nervtmich.net","net-c.be","net-c.ca","net-c.cat","net-c.com","net-c.es","net-c.fr","net-c.it","net-c.lu","net-c.nl","net-c.pl","net-pager.net","net-shopping.com","net.tf","net4b.pt","net4you.at","netaddres.ru","netaddress.ru","netbounce.com","netbroadcaster.com","netby.dk","netc.eu","netc.fr","netc.it","netc.lu","netc.pl","netcenter-vn.net","netcity.ru","netcmail.com","netcourrier.com","netexecutive.com","netexpressway.com","netfirms.com","netgenie.com","netian.com","netizen.com.ar","netkushi.com","netlane.com","netlimit.com","netmail.kg","netmails.com","netmails.net","netman.ru","netmanor.com","netmongol.com","netnet.com.sg","netnoir.net","netpiper.com","netposta.net","netradiomail.com","netralink.com","netscape.net","netscapeonline.co.uk","netspace.net.au","netspeedway.com","netsquare.com","netster.com","nettaxi.com","nettemail.com","netterchef.de","netti.fi","netvigator.com","netzero.com","netzero.net","netzidiot.de","netzoola.com","neue-dateien.de","neuf.fr","neuro.md","neustreet.com","neverbox.com","newap.ru","newarbat.net","newmail.com","newmail.net","newmail.ru","newsboysmail.com","newyork.com","newyorkcity.com","nextmail.ru","nexxmail.com","nfmail.com","ngs.ru","nhmail.com","nice-4u.com","nicebush.com","nicegal.com","nicholastse.net","nicolastse.com","niepodam.pl","nightimeuk.com","nightmail.com","nightmail.ru","nikopage.com","nikulino.net","nimail.com","nincsmail.hu","ninfan.com","nirvanafan.com","nm.ru","nmail.cf","nnh.com","nnov.ru","no-spam.ws","no4ma.ru","noavar.com","noblepioneer.com","nogmailspam.info","nomail.pw","nomail.xl.cx","nomail2me.com","nomorespamemails.com","nonpartisan.com","nonspam.eu","nonspammer.de","nonstopcinema.com","norika-fujiwara.com","norikomail.com","northgates.net","nospam.ze.tc","nospam4.us","nospamfor.us","nospammail.net","nospamthanks.info","notmailinator.com","notsharingmy.info","notyouagain.com","novogireevo.net","novokosino.net","nowhere.org","nowmymail.com","ntelos.net","ntlhelp.net","ntlworld.com","ntscan.com","null.net","nullbox.info","numep.ru","nur-fuer-spam.de","nurfuerspam.de","nus.edu.sg","nuvse.com","nwldx.com","nxt.ru","ny.com","nybce.com","nybella.com","nyc.com","nycmail.com","nz11.com","nzoomail.com","o-tay.com","o2.co.uk","o2.pl","oaklandas-fan.com","oath.com","objectmail.com","obobbo.com","oceanfree.net","ochakovo.net","odaymail.com","oddpost.com","odmail.com","odnorazovoe.ru","office-dateien.de","office-email.com","officedomain.com","offroadwarrior.com","oi.com.br","oicexchange.com","oikrach.com","ok.kz","ok.net","ok.ru","okbank.com","okhuman.com","okmad.com","okmagic.com","okname.net","okuk.com","oldbuthealthy.com","oldies1041.com","oldies104mail.com","ole.com","olemail.com","oligarh.ru","olympist.net","olypmall.ru","omaninfo.com","omen.ru","ondikoi.com","onebox.com","onenet.com.ar","oneoffemail.com","oneoffmail.com","onet.com.pl","onet.eu","onet.pl","onewaymail.com","oninet.pt","onlatedotcom.info","online.de","online.ie","online.ms","online.nl","online.ru","onlinecasinogamblings.com","onlinewiz.com","onmicrosoft.com","onmilwaukee.com","onobox.com","onvillage.com","oopi.org","op.pl","opayq.com","opendiary.com","openmailbox.org","operafan.com","operamail.com","opoczta.pl","optician.com","optonline.net","optusnet.com.au","orange.fr","orange.net","orbitel.bg","ordinaryamerican.net","orgmail.net","orthodontist.net","osite.com.br","oso.com","otakumail.com","otherinbox.com","our-computer.com","our-office.com","our.st","ourbrisbane.com","ourklips.com","ournet.md","outel.com","outgun.com","outlawspam.com","outlook.at","outlook.be","outlook.cl","outlook.co.id","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.nl","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","outloook.com","over-the-rainbow.com","ovi.com","ovpn.to","owlpic.com","ownmail.net","ozbytes.net.au","ozemail.com.au","ozz.ru","pacbell.net","pacific-ocean.com","pacific-re.com","pacificwest.com","packersfan.com","pagina.de","pagons.org","paidforsurf.com","pakistanmail.com","pakistanoye.com","palestinemail.com","pancakemail.com","pandawa.com","pandora.be","paradiseemail.com","paris.com","parkjiyoon.com","parrot.com","parsmail.com","partlycloudy.com","partybombe.de","partyheld.de","partynight.at","parvazi.com","passwordmail.com","pathfindermail.com","patmail.com","patra.net","pconnections.net","pcpostal.com","pcsrock.com","pcusers.otherinbox.com","peachworld.com","pechkin.ru","pediatrician.com","pekklemail.com","pemail.net","penpen.com","peoplepc.com","peopleweb.com","pepbot.com","perfectmail.com","perovo.net","perso.be","personal.ro","personales.com","petlover.com","petml.com","petr.ru","pettypool.com","pezeshkpour.com","pfui.ru","phayze.com","phone.net","photo-impact.eu","photographer.net","phpbb.uu.gl","phreaker.net","phus8kajuspa.cu.cc","physicist.net","pianomail.com","pickupman.com","picusnet.com","piercedallover.com","pigeonportal.com","pigmail.net","pigpig.net","pilotemail.com","pimagop.com","pinoymail.com","piracha.net","pisem.net","pjjkp.com","planet-mail.com","planet.nl","planetaccess.com","planetall.com","planetarymotion.net","planetdirect.com","planetearthinter.net","planetmail.com","planetmail.net","planetout.com","plasa.com","playersodds.com","playful.com","playstation.sony.com","plexolan.de","pluno.com","plus.com","plus.google.com","plusmail.com.br","pmail.net","pobox.com","pobox.hu","pobox.ru","pobox.sk","pochta.by","pochta.ru","pochta.ws","pochtamt.ru","poczta.fm","poczta.onet.pl","poetic.com","pokemail.net","pokemonpost.com","pokepost.com","polandmail.com","polbox.com","policeoffice.com","politician.com","politikerclub.de","polizisten-duzer.de","polyfaust.com","poofy.org","poohfan.com","pookmail.com","pool-sharks.com","poond.com","pop3.ru","popaccount.com","popmail.com","popsmail.com","popstar.com","populus.net","portableoffice.com","portugalmail.com","portugalmail.pt","portugalnet.com","positive-thinking.com","post.com","post.cz","post.sk","posta.net","posta.ro","posta.rosativa.ro.org","postaccesslite.com","postafiok.hu","postafree.com","postaweb.com","poste.it","postfach.cc","postinbox.com","postino.ch","postino.it","postmark.net","postmaster.co.uk","postmaster.twitter.com","postpro.net","pousa.com","powerdivas.com","powerfan.com","pp.inet.fi","praize.com","pray247.com","predprinimatel.ru","premium-mail.fr","premiumproducts.com","premiumservice.com","prepodavatel.ru","presidency.com","presnya.net","press.co.jp","prettierthanher.com","priest.com","primposta.com","primposta.hu","printesamargareta.ro","privacy.net","privatdemail.net","privy-mail.com","privymail.de","pro.hu","probemail.com","prodigy.net","prodigy.net.mx","professor.ru","progetplus.it","programist.ru","programmer.net","programozo.hu","proinbox.com","project2k.com","prokuratura.ru","prolaunch.com","promessage.com","prontomail.com","prontomail.compopulus.net","protestant.com","protonmail.com","proxymail.eu","prtnx.com","prydirect.info","psv-supporter.com","ptd.net","public-files.de","public.usa.com","publicist.com","pulp-fiction.com","punkass.com","puppy.com.my","purinmail.com","purpleturtle.com","put2.net","putthisinyourspamdatabase.com","pwrby.com","q.com","qatar.io","qatarmail.com","qdice.com","qip.ru","qmail.com","qprfans.com","qq.com","qrio.com","quackquack.com","quake.ru","quakemail.com","qualityservice.com","quantentunnel.de","qudsmail.com","quepasa.com","quickhosts.com","quickinbox.com","quickmail.nl","quickmail.ru","quicknet.nl","quickwebmail.com","quiklinks.com","quikmail.com","qv7.info","qwest.net","qwestoffice.net","r-o-o-t.com","r7.com","raakim.com","racedriver.com","racefanz.com","racingfan.com.au","racingmail.com","radicalz.com","radiku.ye.vc","radiologist.net","ragingbull.com","ralib.com","rambler.ru","ranmamail.com","rastogi.net","ratt-n-roll.com","rattle-snake.com","raubtierbaendiger.de","ravearena.com","ravefan.com","ravemail.co.za","ravemail.com","razormail.com","rccgmail.org","rcn.com","rcpt.at","realemail.net","realestatemail.net","reality-concept.club","reallyfast.biz","reallyfast.info","reallymymail.com","realradiomail.com","realtyagent.com","realtyalerts.ca","reborn.com","recode.me","reconmail.com","recursor.net","recycledmail.com","recycler.com","recyclermail.com","rediff.com","rediffmail.com","rediffmailpro.com","rednecks.com","redseven.de","redsfans.com","redwhitearmy.com","regbypass.com","reggaefan.com","reggafan.com","regiononline.com","registerednurses.com","regspaces.tk","reincarnate.com","relia.com","reliable-mail.com","religious.com","remail.ga","renren.com","repairman.com","reply.hu","reply.ticketmaster.com","represantive.com","representative.com","rescueteam.com","resgedvgfed.tk","resource.calendar.google.com","resumemail.com","retailfan.com","rexian.com","rezai.com","rhyta.com","richmondhill.com","rickymail.com","rin.ru","ring.by","riopreto.com.br","rklips.com","rmqkr.net","rn.com","ro.ru","roadrunner.com","roanokemail.com","rock.com","rocketmail.com","rocketship.com","rockfan.com","rodrun.com","rogers.com","rojname.com","rol.ro","rome.com","romymichele.com","roosh.com","rootprompt.org","rotfl.com","roughnet.com","royal.net","rpharmacist.com","rr.com","rrohio.com","rsub.com","rt.nl","rtrtr.com","ru.ru","rubyridge.com","runbox.com","rushpost.com","ruttolibero.com","rvshop.com","rxdoc.biz","s-mail.com","s0ny.net","sabreshockey.com","sacbeemail.com","saeuferleber.de","safarimail.com","safe-mail.net","safersignup.de","safetymail.info","safetypost.de","safrica.com","sagra.lu","sagra.lu.lu","sagra.lumarketing.lu","sags-per-mail.de","sailormoon.com","saint-mike.org","saintly.com","saintmail.net","sale-sale-sale.com","salehi.net","salesperson.net","samerica.com","samilan.net","samiznaetekogo.net","sammimail.com","sanchezsharks.com","sandelf.de","sanfranmail.com","sanook.com","sanriotown.com","santanmail.com","sapo.pt","sativa.ro.org","saturnfans.com","saturnperformance.com","saudia.com","savecougars.com","savelife.ml","saveowls.com","sayhi.net","saynotospams.com","sbcglbal.net","sbcglobal.com","sbcglobal.net","scandalmail.com","scanova.in","scanova.io","scarlet.nl","scfn.net","schafmail.de","schizo.com","schmusemail.de","schoolemail.com","schoolmail.com","schoolsucks.com","schreib-doch-mal-wieder.de","schrott-email.de","schweiz.org","sci.fi","science.com.au","scientist.com","scifianime.com","scotland.com","scotlandmail.com","scottishmail.co.uk","scottishtories.com","scottsboro.org","scrapbookscrapbook.com","scubadiving.com","seanet.com","search.ua","search417.com","searchwales.com","sebil.com","seckinmail.com","secret-police.com","secretarias.com","secretary.net","secretemail.de","secretservices.net","secure-mail.biz","secure-mail.cc","seductive.com","seekstoyboy.com","seguros.com.br","sekomaonline.com","selfdestructingmail.com","sellingspree.com","send.hu","sendmail.ru","sendme.cz","sendspamhere.com","senseless-entertainment.com","sent.as","sent.at","sent.com","sentrismail.com","serga.com.ar","servemymail.com","servermaps.net","services391.com","sesmail.com","sexmagnet.com","seznam.cz","sfr.fr","shahweb.net","shaniastuff.com","shared-files.de","sharedmailbox.org","sharewaredevelopers.com","sharklasers.com","sharmaweb.com","shaw.ca","she.com","shellov.net","shieldedmail.com","shieldemail.com","shiftmail.com","shinedyoureyes.com","shitaway.cf","shitaway.cu.cc","shitaway.ga","shitaway.gq","shitaway.ml","shitaway.tk","shitaway.usa.cc","shitmail.de","shitmail.me","shitmail.org","shitware.nl","shmeriously.com","shockinmytown.cu.cc","shootmail.com","shortmail.com","shortmail.net","shotgun.hu","showfans.com","showslow.de","shqiptar.eu","shuf.com","sialkotcity.com","sialkotian.com","sialkotoye.com","sibmail.com","sify.com","sigaret.net","silkroad.net","simbamail.fm","sina.cn","sina.com","sinamail.com","singapore.com","singles4jesus.com","singmail.com","singnet.com.sg","singpost.com","sinnlos-mail.de","sirindia.com","siteposter.net","skafan.com","skeefmail.com","skim.com","skizo.hu","skrx.tk","skunkbox.com","sky.com","skynet.be","slamdunkfan.com","slapsfromlastnight.com","slaskpost.se","slave-auctions.net","slickriffs.co.uk","slingshot.com","slippery.email","slipry.net","slo.net","slotter.com","sm.westchestergov.com","smap.4nmv.ru","smapxsmap.net","smashmail.de","smellfear.com","smellrear.com","smileyface.comsmithemail.net","sminkymail.com","smoothmail.com","sms.at","smtp.ru","snail-mail.net","snail-mail.ney","snakebite.com","snakemail.com","sndt.net","sneakemail.com","sneakmail.de","snet.net","sniper.hu","snkmail.com","snoopymail.com","snowboarding.com","snowdonia.net","so-simple.org","socamail.com","socceraccess.com","socceramerica.net","soccermail.com","soccermomz.com","social-mailer.tk","socialworker.net","sociologist.com","sofimail.com","sofort-mail.de","sofortmail.de","softhome.net","sogetthis.com","sogou.com","sohu.com","sokolniki.net","sol.dk","solar-impact.pro","solcon.nl","soldier.hu","solution4u.com","solvemail.info","songwriter.net","sonnenkinder.org","soodomail.com","soodonims.com","soon.com","soulfoodcookbook.com","soundofmusicfans.com","southparkmail.com","sovsem.net","sp.nl","space-bank.com","space-man.com","space-ship.com","space-travel.com","space.com","spaceart.com","spacebank.com","spacemart.com","spacetowns.com","spacewar.com","spainmail.com","spam.2012-2016.ru","spam4.me","spamail.de","spamarrest.com","spamavert.com","spambob.com","spambob.net","spambob.org","spambog.com","spambog.de","spambog.net","spambog.ru","spambooger.com","spambox.info","spambox.us","spamcannon.com","spamcannon.net","spamcero.com","spamcon.org","spamcorptastic.com","spamcowboy.com","spamcowboy.net","spamcowboy.org","spamday.com","spamdecoy.net","spameater.com","spameater.org","spamex.com","spamfree.eu","spamfree24.com","spamfree24.de","spamfree24.info","spamfree24.net","spamfree24.org","spamgoes.in","spamgourmet.com","spamgourmet.net","spamgourmet.org","spamherelots.com","spamhereplease.com","spamhole.com","spamify.com","spaminator.de","spamkill.info","spaml.com","spaml.de","spammotel.com","spamobox.com","spamoff.de","spamslicer.com","spamspot.com","spamstack.net","spamthis.co.uk","spamtroll.net","spankthedonkey.com","spartapiet.com","spazmail.com","speed.1s.fr","speedemail.net","speedpost.net","speedrules.com","speedrulz.com","speedy.com.ar","speedymail.org","sperke.net","spils.com","spinfinder.com","spiritseekers.com","spl.at","spoko.pl","spoofmail.de","sportemail.com","sportmail.ru","sportsmail.com","sporttruckdriver.com","spray.no","spray.se","spybox.de","spymac.com","sraka.xyz","srilankan.net","ssl-mail.com","st-davids.net","stade.fr","stalag13.com","standalone.net","starbuzz.com","stargateradio.com","starmail.com","starmail.org","starmedia.com","starplace.com","starspath.com","start.com.au","starting-point.com","startkeys.com","startrekmail.com","starwars-fans.com","stealthmail.com","stillchronic.com","stinkefinger.net","stipte.nl","stockracer.com","stockstorm.com","stoned.com","stones.com","stop-my-spam.pp.ua","stopdropandroll.com","storksite.com","streber24.de","streetwisemail.com","stribmail.com","strompost.com","strongguy.com","student.su","studentcenter.org","stuffmail.de","subnetwork.com","subram.com","sudanmail.net","sudolife.me","sudolife.net","sudomail.biz","sudomail.com","sudomail.net","sudoverse.com","sudoverse.net","sudoweb.net","sudoworld.com","sudoworld.net","sueddeutsche.de","suhabi.com","suisse.org","sukhumvit.net","sul.com.br","sunmail1.com","sunpoint.net","sunrise-sunset.com","sunsgame.com","sunumail.sn","suomi24.fi","super-auswahl.de","superdada.com","supereva.it","supergreatmail.com","supermail.ru","supermailer.jp","superman.ru","superposta.com","superrito.com","superstachel.de","surat.com","suremail.info","surf3.net","surfree.com","surfsupnet.net","surfy.net","surgical.net","surimail.com","survivormail.com","susi.ml","sviblovo.net","svk.jp","swbell.net","sweb.cz","swedenmail.com","sweetville.net","sweetxxx.de","swift-mail.com","swiftdesk.com","swingeasyhithard.com","swingfan.com","swipermail.zzn.com","swirve.com","swissinfo.org","swissmail.com","swissmail.net","switchboardmail.com","switzerland.org","sx172.com","sympatico.ca","syom.com","syriamail.com","t-online.de","t.psh.me","t2mail.com","tafmail.com","takoe.com","takoe.net","takuyakimura.com","talk21.com","talkcity.com","talkinator.com","talktalk.co.uk","tamb.ru","tamil.com","tampabay.rr.com","tangmonkey.com","tankpolice.com","taotaotano.com","tatanova.com","tattooedallover.com","tattoofanatic.com","tbwt.com","tcc.on.ca","tds.net","teacher.com","teachermail.net","teachers.org","teamdiscovery.com","teamtulsa.net","tech-center.com","tech4peace.org","techemail.com","techie.com","technisamail.co.za","technologist.com","technologyandstocks.com","techpointer.com","techscout.com","techseek.com","techsniper.com","techspot.com","teenagedirtbag.com","teewars.org","tele2.nl","telebot.com","telebot.net","telefonica.net","teleline.es","telenet.be","telepac.pt","telerymd.com","teleserve.dynip.com","teletu.it","teleworm.com","teleworm.us","telfort.nl","telfortglasvezel.nl","telinco.net","telkom.net","telpage.net","telstra.com","telstra.com.au","temp-mail.com","temp-mail.de","temp-mail.org","temp-mail.ru","temp.headstrong.de","tempail.com","tempe-mail.com","tempemail.biz","tempemail.co.za","tempemail.com","tempemail.net","tempinbox.co.uk","tempinbox.com","tempmail.eu","tempmail.it","tempmail.us","tempmail2.com","tempmaildemo.com","tempmailer.com","tempmailer.de","tempomail.fr","temporarioemail.com.br","temporaryemail.net","temporaryemail.us","temporaryforwarding.com","temporaryinbox.com","temporarymailaddress.com","tempthe.net","tempymail.com","temtulsa.net","tenchiclub.com","tenderkiss.com","tennismail.com","terminverpennt.de","terra.cl","terra.com","terra.com.ar","terra.com.br","terra.com.pe","terra.es","test.com","test.de","tfanus.com.er","tfbnw.net","tfz.net","tgasa.ru","tgma.ru","tgngu.ru","tgu.ru","thai.com","thaimail.com","thaimail.net","thanksnospam.info","thankyou2010.com","thc.st","the-african.com","the-airforce.com","the-aliens.com","the-american.com","the-animal.com","the-army.com","the-astronaut.com","the-beauty.com","the-big-apple.com","the-biker.com","the-boss.com","the-brazilian.com","the-canadian.com","the-canuck.com","the-captain.com","the-chinese.com","the-country.com","the-cowboy.com","the-davis-home.com","the-dutchman.com","the-eagles.com","the-englishman.com","the-fastest.net","the-fool.com","the-frenchman.com","the-galaxy.net","the-genius.com","the-gentleman.com","the-german.com","the-gremlin.com","the-hooligan.com","the-italian.com","the-japanese.com","the-lair.com","the-madman.com","the-mailinglist.com","the-marine.com","the-master.com","the-mexican.com","the-ministry.com","the-monkey.com","the-newsletter.net","the-pentagon.com","the-police.com","the-prayer.com","the-professional.com","the-quickest.com","the-russian.com","the-seasiders.com","the-snake.com","the-spaceman.com","the-stock-market.com","the-student.net","the-whitehouse.net","the-wild-west.com","the18th.com","thecoolguy.com","thecriminals.com","thedoghousemail.com","thedorm.com","theend.hu","theglobe.com","thegolfcourse.com","thegooner.com","theheadoffice.com","theinternetemail.com","thelanddownunder.com","thelimestones.com","themail.com","themillionare.net","theoffice.net","theplate.com","thepokerface.com","thepostmaster.net","theraces.com","theracetrack.com","therapist.net","thereisnogod.com","thesimpsonsfans.com","thestreetfighter.com","theteebox.com","thewatercooler.com","thewebpros.co.uk","thewizzard.com","thewizzkid.com","thexyz.ca","thexyz.cn","thexyz.com","thexyz.es","thexyz.fr","thexyz.in","thexyz.mobi","thexyz.net","thexyz.org","thezhangs.net","thirdage.com","thisgirl.com","thisisnotmyrealemail.com","thismail.net","thoic.com","thraml.com","thrott.com","throwam.com","throwawayemailaddress.com","thundermail.com","tibetemail.com","tidni.com","tilien.com","timein.net","timormail.com","tin.it","tipsandadvice.com","tiran.ru","tiscali.at","tiscali.be","tiscali.co.uk","tiscali.it","tiscali.lu","tiscali.se","tittbit.in","tizi.com","tkcity.com","tlcfan.com","tmail.ws","tmailinator.com","tmicha.net","toast.com","toke.com","tokyo.com","tom.com","toolsource.com","toomail.biz","toothfairy.com","topchat.com","topgamers.co.uk","topletter.com","topmail-files.de","topmail.com.ar","topranklist.de","topsurf.com","topteam.bg","toquedequeda.com","torba.com","torchmail.com","torontomail.com","tortenboxer.de","totalmail.com","totalmail.de","totalmusic.net","totalsurf.com","toughguy.net","townisp.com","tpg.com.au","tradermail.info","trainspottingfan.com","trash-amil.com","trash-mail.at","trash-mail.com","trash-mail.de","trash-mail.ga","trash-mail.ml","trash2009.com","trash2010.com","trash2011.com","trashdevil.com","trashdevil.de","trashemail.de","trashmail.at","trashmail.com","trashmail.de","trashmail.me","trashmail.net","trashmail.org","trashmailer.com","trashymail.com","trashymail.net","travel.li","trayna.com","trbvm.com","trbvn.com","trevas.net","trialbytrivia.com","trialmail.de","trickmail.net","trillianpro.com","trimix.cn","tritium.net","trjam.net","trmailbox.com","tropicalstorm.com","truckeremail.net","truckers.com","truckerz.com","truckracer.com","truckracers.com","trust-me.com","truth247.com","truthmail.com","tsamail.co.za","ttml.co.in","tulipsmail.net","tunisiamail.com","turboprinz.de","turboprinzessin.de","turkey.com","turual.com","tushino.net","tut.by","tvcablenet.be","tverskie.net","tverskoe.net","tvnet.lv","tvstar.com","twc.com","twcny.com","twentylove.com","twinmail.de","twinstarsmail.com","tx.rr.com","tycoonmail.com","tyldd.com","typemail.com","tyt.by","u14269.ml","u2club.com","ua.fm","uae.ac","uaemail.com","ubbi.com","ubbi.com.br","uboot.com","uggsrock.com","uk2.net","uk2k.com","uk2net.com","uk7.net","uk8.net","ukbuilder.com","ukcool.com","ukdreamcast.com","ukmail.org","ukmax.com","ukr.net","ukrpost.net","ukrtop.com","uku.co.uk","ultapulta.com","ultimatelimos.com","ultrapostman.com","umail.net","ummah.org","umpire.com","unbounded.com","underwriters.com","unforgettable.com","uni.de","uni.de.de","uni.demailto.de","unican.es","unihome.com","universal.pt","uno.ee","uno.it","unofree.it","unomail.com","unterderbruecke.de","uogtritons.com","uol.com.ar","uol.com.br","uol.com.co","uol.com.mx","uol.com.ve","uole.com","uole.com.ve","uolmail.com","uomail.com","upc.nl","upcmail.nl","upf.org","upliftnow.com","uplipht.com","uraniomail.com","ureach.com","urgentmail.biz","uroid.com","us.af","usa.com","usa.net","usaaccess.net","usanetmail.com","used-product.fr","userbeam.com","usermail.com","username.e4ward.com","userzap.com","usma.net","usmc.net","uswestmail.net","uymail.com","uyuyuy.com","uzhe.net","v-sexi.com","v8email.com","vaasfc4.tk","vahoo.com","valemail.net","valudeal.net","vampirehunter.com","varbizmail.com","vcmail.com","velnet.co.uk","velnet.com","velocall.com","veloxmail.com.br","venompen.com","verizon.net","verizonmail.com","verlass-mich-nicht.de","versatel.nl","verticalheaven.com","veryfast.biz","veryrealemail.com","veryspeedy.net","vfemail.net","vickaentb.tk","videotron.ca","viditag.com","viewcastmedia.com","viewcastmedia.net","vinbazar.com","violinmakers.co.uk","vip.126.com","vip.21cn.com","vip.citiz.net","vip.gr","vip.onet.pl","vip.qq.com","vip.sina.com","vipmail.ru","viralplays.com","virgilio.it","virgin.net","virginbroadband.com.au","virginmedia.com","virtual-mail.com","virtualactive.com","virtualguam.com","virtualmail.com","visitmail.com","visitweb.com","visto.com","visualcities.com","vivavelocity.com","vivianhsu.net","viwanet.ru","vjmail.com","vjtimail.com","vkcode.ru","vlcity.ru","vlmail.com","vnet.citiz.net","vnn.vn","vnukovo.net","vodafone.nl","vodafonethuis.nl","voila.fr","volcanomail.com","vollbio.de","volloeko.de","vomoto.com","voo.be","vorsicht-bissig.de","vorsicht-scharf.de","vote-democrats.com","vote-hillary.com","vote-republicans.com","vote4gop.org","votenet.com","vovan.ru","vp.pl","vpn.st","vr9.com","vsimcard.com","vubby.com","vyhino.net","w3.to","wahoye.com","walala.org","wales2000.net","walkmail.net","walkmail.ru","walla.co.il","wam.co.za","wanaboo.com","wanadoo.co.uk","wanadoo.es","wanadoo.fr","wapda.com","war-im-urlaub.de","warmmail.com","warpmail.net","warrior.hu","wasteland.rfc822.org","watchmail.com","waumail.com","wazabi.club","wbdet.com","wearab.net","web-contact.info","web-emailbox.eu","web-ideal.fr","web-mail.com.ar","web-mail.pp.ua","web-police.com","web.de","webaddressbook.com","webadicta.org","webave.com","webbworks.com","webcammail.com","webcity.ca","webcontact-france.eu","webdream.com","webemail.me","webemaillist.com","webinbox.com","webindia123.com","webjump.com","webm4il.info","webmail.bellsouth.net","webmail.blue","webmail.co.yu","webmail.co.za","webmail.fish","webmail.hu","webmail.lawyer","webmail.ru","webmail.wiki","webmails.com","webmailv.com","webname.com","webprogramming.com","webskulker.com","webstation.com","websurfer.co.za","webtopmail.com","webtribe.net","webuser.in","wee.my","weedmail.com","weekmail.com","weekonline.com","wefjo.grn.cc","weg-werf-email.de","wegas.ru","wegwerf-emails.de","wegwerfadresse.de","wegwerfemail.com","wegwerfemail.de","wegwerfmail.de","wegwerfmail.info","wegwerfmail.net","wegwerfmail.org","wegwerpmailadres.nl","wehshee.com","weibsvolk.de","weibsvolk.org","weinenvorglueck.de","welsh-lady.com","wesleymail.com","westnet.com","westnet.com.au","wetrainbayarea.com","wfgdfhj.tk","wh4f.org","whale-mail.com","whartontx.com","whatiaas.com","whatpaas.com","wheelweb.com","whipmail.com","whoever.com","wholefitness.com","whoopymail.com","whtjddn.33mail.com","whyspam.me","wickedmail.com","wickmail.net","wideopenwest.com","wildmail.com","wilemail.com","will-hier-weg.de","willhackforfood.biz","willselfdestruct.com","windowslive.com","windrivers.net","windstream.com","windstream.net","winemaven.info","wingnutz.com","winmail.com.au","winning.com","winrz.com","wir-haben-nachwuchs.de","wir-sind-cool.org","wirsindcool.de","witty.com","wiz.cc","wkbwmail.com","wmail.cf","wo.com.cn","woh.rr.com","wolf-web.com","wolke7.net","wollan.info","wombles.com","women-at-work.org","women-only.net","wonder-net.com","wongfaye.com","wooow.it","work4teens.com","worker.com","workmail.co.za","workmail.com","worldbreak.com","worldemail.com","worldmailer.com","worldnet.att.net","wormseo.cn","wosaddict.com","wouldilie.com","wovz.cu.cc","wow.com","wowgirl.com","wowmail.com","wowway.com","wp.pl","wptamail.com","wrestlingpages.com","wrexham.net","writeme.com","writemeback.com","writeremail.com","wronghead.com","wrongmail.com","wtvhmail.com","wwdg.com","www.com","www.e4ward.com","www.mailinator.com","www2000.net","wwwnew.eu","wx88.net","wxs.net","wyrm.supernews.com","x-mail.net","x-networks.net","x.ip6.li","x5g.com","xagloo.com","xaker.ru","xd.ae","xemaps.com","xents.com","xing886.uu.gl","xmail.com","xmaily.com","xmastime.com","xmenfans.com","xms.nl","xmsg.com","xoom.com","xoommail.com","xoxox.cc","xoxy.net","xpectmore.com","xpressmail.zzn.com","xs4all.nl","xsecurity.org","xsmail.com","xtra.co.nz","xtram.com","xuno.com","xww.ro","xy9ce.tk","xyz.am","xyzfree.net","xzapmail.com","y7mail.com","ya.ru","yada-yada.com","yaho.com","yahoo.ae","yahoo.at","yahoo.be","yahoo.ca","yahoo.ch","yahoo.cn","yahoo.co","yahoo.co.id","yahoo.co.il","yahoo.co.in","yahoo.co.jp","yahoo.co.kr","yahoo.co.nz","yahoo.co.th","yahoo.co.uk","yahoo.co.za","yahoo.com","yahoo.com.ar","yahoo.com.au","yahoo.com.br","yahoo.com.cn","yahoo.com.co","yahoo.com.hk","yahoo.com.is","yahoo.com.mx","yahoo.com.my","yahoo.com.ph","yahoo.com.ru","yahoo.com.sg","yahoo.com.tr","yahoo.com.tw","yahoo.com.vn","yahoo.cz","yahoo.de","yahoo.dk","yahoo.es","yahoo.fi","yahoo.fr","yahoo.gr","yahoo.hu","yahoo.ie","yahoo.in","yahoo.it","yahoo.jp","yahoo.net","yahoo.nl","yahoo.no","yahoo.pl","yahoo.pt","yahoo.ro","yahoo.ru","yahoo.se","yahoofs.com","yahoomail.com","yalla.com","yalla.com.lb","yalook.com","yam.com","yandex.com","yandex.mail","yandex.pl","yandex.ru","yandex.ua","yapost.com","yapped.net","yawmail.com","yclub.com","yeah.net","yebox.com","yeehaa.com","yehaa.com","yehey.com","yemenmail.com","yep.it","yepmail.net","yert.ye.vc","yesbox.net","yesey.net","yeswebmaster.com","ygm.com","yifan.net","ymail.com","ynnmail.com","yogamaven.com","yogotemail.com","yomail.info","yopmail.com","yopmail.fr","yopmail.net","yopmail.org","yopmail.pp.ua","yopolis.com","yopweb.com","youareadork.com","youmailr.com","youpy.com","your-house.com","your-mail.com","yourdomain.com","yourinbox.com","yourlifesucks.cu.cc","yourlover.net","yournightmare.com","yours.com","yourssincerely.com","yourteacher.net","yourwap.com","youthfire.com","youthpost.com","youvegotmail.net","yuuhuu.net","yuurok.com","yyhmail.com","z1p.biz","z6.com","z9mail.com","za.com","zahadum.com","zaktouni.fr","zcities.com","zdnetmail.com","zdorovja.net","zeeks.com","zeepost.nl","zehnminuten.de","zehnminutenmail.de","zensearch.com","zensearch.net","zerocrime.org","zetmail.com","zhaowei.net","zhouemail.510520.org","ziggo.nl","zing.vn","zionweb.org","zip.net","zipido.com","ziplip.com","zipmail.com","zipmail.com.br","zipmax.com","zippymail.info","zmail.pt","zmail.ru","zoemail.com","zoemail.net","zoemail.org","zoho.com","zomg.info","zonai.com","zoneview.net","zonnet.nl","zooglemail.com","zoominternet.net","zubee.com","zuvio.com","zuzzurello.com","zvmail.com","zwallet.com","zweb.in","zxcv.com","zxcvbnm.com","zybermail.com","zydecofan.com","zzn.com","zzom.co.uk","zzz.com"];var Ud=s(23975);const Fd="(?:[_\\p{L}0-9][-_\\p{L}0-9]*\\.)*(?:[\\p{L}0-9][-\\p{L}0-9]{0,62})\\.(?:(?:[a-z]{2}\\.)?[a-z]{2,})",Ld=class{static extractDomainFromEmail(e){const t=Ln()(`(?<=@)${Fd}`);return Ln().match(e,t)||""}static isProfessional(e){return!Md.includes(e)}static checkDomainValidity(e){if(!Ln()(`^${Fd}$`).test(e))throw new Error("Cannot parse domain. The domain does not match the pattern.");try{if(!new URL(`https://${e}`).host)throw new Error("Cannot parse domain. The domain does not match the pattern.")}catch(e){throw new Error("Cannot parse domain. The domain is not valid.")}}static isValidHostname(e){return Ln()(`^${Fd}$`).test(e)||(0,Ud.A)({exact:!0}).test(e)}};function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Od.apply(null,arguments)}const Vd=a.createContext({getCurrentSmtpSettings:()=>{},findSmtpSettings:()=>{},changeProvider:()=>{},setData:()=>{},isSettingsModified:()=>{},isSettingsValid:()=>{},getErrors:()=>{},validateData:()=>{},getFieldToFocus:()=>{},saveSmtpSettings:()=>{},isProcessing:()=>{},hasProviderChanged:()=>{},sendTestMailTo:()=>{},isDataReady:()=>{},clearContext:()=>{}});class Hd extends a.Component{constructor(e){super(e),this.state=this.defaultState;const t=e.context.getApiClientOptions();this.smtpSettingsModel=new Td(t),this.smtpTestSettingsModel=new Ad(t),this.fieldToFocus=null,this.providerHasChanged=!1}get defaultState(){return{settingsModified:!1,currentSmtpSettings:{provider:null,username:"",password:"",host:"",tls:!0,port:"",client:"",sender_email:"",sender_name:"Passbolt"},errors:{},isLoaded:!1,processing:!1,hasSumittedForm:!1,getCurrentSmtpSettings:this.getCurrentSmtpSettings.bind(this),findSmtpSettings:this.findSmtpSettings.bind(this),changeProvider:this.changeProvider.bind(this),setData:this.setData.bind(this),isSettingsModified:this.isSettingsModified.bind(this),getErrors:this.getErrors.bind(this),validateData:this.validateData.bind(this),getFieldToFocus:this.getFieldToFocus.bind(this),saveSmtpSettings:this.saveSmtpSettings.bind(this),isProcessing:this.isProcessing.bind(this),hasProviderChanged:this.hasProviderChanged.bind(this),sendTestMailTo:this.sendTestMailTo.bind(this),isDataReady:this.isDataReady.bind(this),clearContext:this.clearContext.bind(this)}}async findSmtpSettings(){if(!this.props.context.siteSettings.canIUse("smtpSettings"))return;let e=this.state.currentSmtpSettings;try{e=await this.smtpSettingsModel.findSmtpSettings(),this.setState({currentSmtpSettings:e,isLoaded:!0})}catch(e){this.handleError(e)}e.sender_email||(e.sender_email=this.props.context.loggedInUser.username),e.host&&e.port&&(e.provider=this.detectProvider(e)),this.setState({currentSmtpSettings:e,isLoaded:!0})}clearContext(){const{settingsModified:e,currentSmtpSettings:t,errors:s,isLoaded:a,processing:n,hasSumittedForm:r}=this.defaultState;this.setState({settingsModified:e,currentSmtpSettings:t,errors:s,isLoaded:a,processing:n,hasSumittedForm:r})}async saveSmtpSettings(){this._doProcess((async()=>{try{const e={...this.state.currentSmtpSettings};delete e.provider,e.client=e.client||null,await this.smtpSettingsModel.saveSmtpSettings(e),this.props.actionFeedbackContext.displaySuccess(this.props.t("The SMTP settings have been saved successfully"));const t=Object.assign({},this.state.currentSmtpSettings,{source:"db"});this.setState({currentSmtpSettings:t})}catch(e){this.handleError(e)}}))}async sendTestMailTo(e){return await this.smtpTestSettingsModel.sendTestEmail(this.getCurrentSmtpSettings(),e)}_doProcess(e){this.setState({processing:!0},(async()=>{await e(),this.setState({processing:!1})}))}hasProviderChanged(){const e=this.providerHasChanged;return this.providerHasChanged=!1,e}changeProvider(e){e.id!==this.state.currentSmtpSettings.provider?.id&&(this.providerHasChanged=!0,this.setState({settingsModified:!0,currentSmtpSettings:{...this.state.currentSmtpSettings,...e.defaultConfiguration,provider:e}}))}setData(e){const t=Object.assign({},this.state.currentSmtpSettings,e),s={currentSmtpSettings:{...t,provider:this.detectProvider(t)},settingsModified:!0};this.setState(s),this.state.hasSumittedForm&&this.validateData(t)}detectProvider(e){for(let t=0;t<_d.length;t++){const s=_d[t];if(s.availableConfigurations.find((t=>t.host===e.host&&t.port===parseInt(e.port,10)&&t.tls===e.tls)))return s}return _d.find((e=>"other"===e.id))}isDataReady(){return this.state.isLoaded}isProcessing(){return this.state.processing}isSettingsModified(){return this.state.settingsModified}getErrors(){return this.state.errors}validateData(e){e=e||this.state.currentSmtpSettings;const t={};let s=!0;return s=this.validate_host(e.host,t)&&s,s=this.validate_sender_email(e.sender_email,t)&&s,s=this.validate_sender_name(e.sender_name,t)&&s,s=this.validate_username(e.username,t)&&s,s=this.validate_password(e.password,t)&&s,s=this.validate_port(e.port,t)&&s,s=this.validate_tls(e.tls,t)&&s,s=this.validate_client(e.client,t)&&s,s||(this.fieldToFocus=this.getFirstFieldInError(t,["username","password","host","tls","port","client","sender_name","sender_email"])),this.setState({errors:t,hasSumittedForm:!0}),s}validate_host(e,t){return"string"!=typeof e?(t.host=this.props.t("SMTP Host must be a valid string"),!1):0!==e.length||(t.host=this.props.t("SMTP Host is required"),!1)}validate_client(e,t){return!!(0===e.length||Ld.isValidHostname(e)&&e.length<=2048)||(t.client=this.props.t("SMTP client should be a valid domain or IP address"),!1)}validate_sender_email(e,t){return"string"!=typeof e?(t.sender_email=this.props.t("Sender email must be a valid email"),!1):0===e.length?(t.sender_email=this.props.t("Sender email is required"),!1):!!Hn.validate(e,this.props.context.siteSettings)||(t.sender_email=this.props.t("Sender email must be a valid email"),!1)}validate_sender_name(e,t){return"string"!=typeof e?(t.sender_name=this.props.t("Sender name must be a valid string"),!1):0!==e.length||(t.sender_name=this.props.t("Sender name is required"),!1)}validate_username(e,t){return null===e||"string"==typeof e||(t.username=this.props.t("Username must be a valid string"),!1)}validate_password(e,t){return null===e||"string"==typeof e||(t.password=this.props.t("Password must be a valid string"),!1)}validate_tls(e,t){return"boolean"==typeof e||(t.tls=this.props.t("TLS must be set to 'Yes' or 'No'"),!1)}validate_port(e,t){const s=parseInt(e,10);return isNaN(s)?(t.port=this.props.t("Port must be a valid number"),!1):!(s<1||s>65535)||(t.port=this.props.t("Port must be a number between 1 and 65535"),!1)}getFirstFieldInError(e,t){for(let s=0;s<t.length;s++){const a=t[s];if(void 0!==e[a])return a}return null}getCurrentSmtpSettings(){return this.state.currentSmtpSettings}getFieldToFocus(){const e=this.fieldToFocus;return this.fieldToFocus=null,e}handleError(e){console.error(e),this.props.dialogContext.open(we,{error:e})}render(){return a.createElement(Vd.Provider,{value:this.state},this.props.children)}}function qd(e){return class extends a.Component{render(){return a.createElement(Vd.Consumer,null,(t=>a.createElement(e,Od({adminSmtpSettingsContext:t},this.props))))}}}Hd.propTypes={context:l().any,dialogContext:l().object,actionFeedbackContext:l().object,children:l().any,t:l().func},h(k(_e((0,w.CI)("common")(Hd))));const jd="form",Wd="error",zd="success";class Bd extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{uiState:jd,recipient:this.props.context.loggedInUser.username,processing:!1,displayLogs:!0}}bindCallbacks(){this.handleRetryClick=this.handleRetryClick.bind(this),this.handleError=this.handleError.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleDisplayLogsClick=this.handleDisplayLogsClick.bind(this)}async handleFormSubmit(e){if(e.preventDefault(),this.validateForm()){try{this.setState({processing:!0});const e=await this.props.adminSmtpSettingsContext.sendTestMailTo(this.state.recipient);this.setState({uiState:zd,debugDetails:this.formatDebug(e.debug),displayLogs:!1})}catch(e){this.handleError(e)}this.setState({processing:!1})}}async handleInputChange(e){this.setState({recipient:e.target.value})}validateForm(){const e=Hn.validate(this.state.recipient,this.props.context.siteSettings);return this.setState({recipientError:e?"":this.translate("Recipient must be a valid email")}),e}formatDebug(e){return JSON.stringify(e,null,4)}handleError(e){const t=e.data?.body?.debug,s=t?.length>0?t:e?.message;this.setState({uiState:Wd,debugDetails:this.formatDebug(s),displayLogs:!0})}handleDisplayLogsClick(){this.setState({displayLogs:!this.state.displayLogs})}handleRetryClick(){this.setState({uiState:jd})}hasAllInputDisabled(){return this.state.processing}get title(){return{form:this.translate("Send test email"),error:this.translate("Something went wrong!"),success:this.translate("Email sent")}[this.state.uiState]||""}get translate(){return this.props.t}render(){return a.createElement(ve,{className:"send-test-email-dialog",title:this.title,onClose:this.props.handleClose,disabled:this.hasAllInputDisabled()},this.state.uiState===jd&&a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input text required ${this.state.recipientError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",null,a.createElement(w.x6,null,"Recipient")),a.createElement("input",{id:"recipient",type:"text",name:"recipient",required:"required",className:"required fluid form-element ready",placeholder:"name@email.com",onChange:this.handleInputChange,value:this.state.recipient,disabled:this.hasAllInputDisabled()}),this.state.recipientError&&a.createElement("div",{className:"recipient error-message"},this.state.recipientError))),a.createElement("div",{className:"message notice"},a.createElement("strong",null,a.createElement(w.x6,null,"Pro tip"),":")," ",a.createElement(w.x6,null,"after clicking on send, a test email will be sent to the recipient email in order to check that your configuration is correct.")),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.props.handleClose}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Send")}))),this.state.uiState===Wd&&a.createElement(a.Fragment,null,a.createElement("div",{className:"dialog-body"},a.createElement("p",null,a.createElement(w.x6,null,"The test email could not be sent. Kindly check the logs below for more information."),a.createElement("br",null),a.createElement("a",{className:"faq-link",href:"https://help.passbolt.com/faq/hosting/why-email-not-sent",rel:"noopener noreferrer",target:"_blank"},a.createElement(w.x6,null,"FAQ: Why are my emails not sent?"))),a.createElement("div",{className:"accordion-header"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleDisplayLogsClick},a.createElement(ge,{name:this.state.displayLogs?"caret-down":"caret-right"})," ",a.createElement(w.x6,null,"Logs"))),this.state.displayLogs&&a.createElement("div",{className:"accordion-content"},a.createElement("textarea",{className:"full_report",readOnly:!0,value:this.state.debugDetails}))),a.createElement("div",{className:"dialog-footer clearfix"},a.createElement("button",{type:"button",className:"cancel",disabled:this.hasAllInputDisabled(),onClick:this.handleRetryClick},a.createElement(w.x6,null,"Retry")),a.createElement("button",{className:"button primary",type:"button",onClick:this.props.handleClose,disabled:this.isProcessing},a.createElement("span",null,a.createElement(w.x6,null,"Close"))))),this.state.uiState===zd&&a.createElement(a.Fragment,null,a.createElement("div",{className:"dialog-body"},a.createElement("p",null,a.createElement(w.x6,null,"The test email has been sent. Check your email box, you should receive it in a minute.")),a.createElement("div",{className:"accordion-header"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleDisplayLogsClick},a.createElement(ge,{name:this.state.displayLogs?"caret-down":"caret-right"})," ",a.createElement(w.x6,null,"Logs"))),this.state.displayLogs&&a.createElement("div",{className:"accordion-content"},a.createElement("textarea",{className:"full_report",readOnly:!0,value:this.state.debugDetails}))),a.createElement("div",{className:"message notice"},a.createElement("strong",null,a.createElement(w.x6,null,"Pro tip"),":")," ",a.createElement(w.x6,null,"Check your spam folder if you do not hear from us after a while.")),a.createElement("div",{className:"dialog-footer clearfix"},a.createElement("button",{type:"button",className:"cancel",disabled:this.hasAllInputDisabled(),onClick:this.handleRetryClick},a.createElement(w.x6,null,"Retry")),a.createElement("button",{className:"button primary",type:"button",onClick:this.props.handleClose,disabled:this.isProcessing},a.createElement("span",null,a.createElement(w.x6,null,"Close"))))))}}Bd.propTypes={context:l().object,adminSmtpSettingsContext:l().object,handleClose:l().func,t:l().func};const Gd=h(qd((0,w.CI)("common")(Bd)));class Kd extends a.Component{constructor(e){super(e),this.bindCallbacks(),this.dialogId=null}bindCallbacks(){this.handleSaveClick=this.handleSaveClick.bind(this),this.handleTestClick=this.handleTestClick.bind(this),this.handleCloseDialog=this.handleCloseDialog.bind(this)}async handleSaveClick(){this.smtpSettings.isProcessing()||this.smtpSettings.validateData()&&await this.smtpSettings.saveSmtpSettings()}async handleTestClick(){this.smtpSettings.isProcessing()||this.smtpSettings.validateData()&&(null!==this.dialogId&&this.handleCloseDialog(),this.dialogId=await this.props.dialogContext.open(Gd,{handleClose:this.handleCloseDialog}))}handleCloseDialog(){this.props.dialogContext.close(this.dialogId),this.dialogId=null}isSaveEnabled(){return this.smtpSettings.isSettingsModified()&&!this.smtpSettings.isProcessing()}isTestEnabled(){return this.smtpSettings.isSettingsModified()&&!this.smtpSettings.isProcessing()}get smtpSettings(){return this.props.adminSmtpSettingsContext}render(){return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isSaveEnabled(),onClick:this.handleSaveClick},a.createElement(ge,{name:"save"}),a.createElement("span",null,a.createElement(w.x6,null,"Save settings")))),a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isTestEnabled(),onClick:this.handleTestClick},a.createElement(ge,{name:"plug"}),a.createElement("span",null,a.createElement(w.x6,null,"Send test email")))))))}}Kd.propTypes={adminSmtpSettingsContext:l().object,workflowContext:l().any,dialogContext:l().object};const $d=qd(k((0,w.CI)("common")(Kd))),Zd="None",Yd="Username only",Jd="Username & password";class Xd extends a.Component{static get AUTHENTICATION_METHOD_NONE(){return Zd}static get AUTHENTICATION_METHOD_USERNAME(){return Yd}static get AUTHENTICATION_METHOD_USERNAME_PASSWORD(){return Jd}constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{showAdvancedSettings:!1,source:"db"}}createRefs(){this.usernameFieldRef=a.createRef(),this.passwordFieldRef=a.createRef(),this.hostFieldRef=a.createRef(),this.portFieldRef=a.createRef(),this.clientFieldRef=a.createRef(),this.senderEmailFieldRef=a.createRef(),this.senderNameFieldRef=a.createRef()}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction($d),await this.props.adminSmtpSettingsContext.findSmtpSettings();const e=this.props.adminSmtpSettingsContext.getCurrentSmtpSettings();this.setState({showAdvancedSettings:"other"===e.provider?.id})}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminSmtpSettingsContext.clearContext()}componentDidUpdate(){const e=this.props.adminSmtpSettingsContext,t=e.getFieldToFocus();t&&this[`${t}FieldRef`]?.current?.focus(),e.hasProviderChanged()&&this.setState({showAdvancedSettings:"other"===e.getCurrentSmtpSettings().provider?.id})}bindCallbacks(){this.handleAdvancedSettingsToggle=this.handleAdvancedSettingsToggle.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleProviderChange=this.handleProviderChange.bind(this),this.handleAuthenticationMethodChange=this.handleAuthenticationMethodChange.bind(this)}handleProviderChange(e){const t=e.target.value,s=_d.find((e=>e.id===t));this.props.adminSmtpSettingsContext.changeProvider(s)}handleAuthenticationMethodChange(e){let t=null,s=null;e.target.value===Yd?t="":e.target.value===Jd&&(t="",s=""),this.props.adminSmtpSettingsContext.setData({username:t,password:s})}handleInputChange(e){const t=e.target;this.props.adminSmtpSettingsContext.setData({[t.name]:t.value})}handleAdvancedSettingsToggle(){this.setState({showAdvancedSettings:!this.state.showAdvancedSettings})}isProcessing(){return this.props.adminSmtpSettingsContext.isProcessing()}get providerList(){return _d.map((e=>({value:e.id,label:e.name})))}get authenticationMethodList(){return[{value:Zd,label:this.translate("None")},{value:Yd,label:this.translate("Username only")},{value:Jd,label:this.translate("Username & password")}]}get tlsSelectList(){return[{value:!0,label:this.translate("Yes")},{value:!1,label:this.translate("No")}]}get authenticationMethod(){const e=this.props.adminSmtpSettingsContext.getCurrentSmtpSettings();return null===e?.username?Zd:null===e?.password?Yd:Jd}shouldDisplayUsername(){return this.authenticationMethod===Yd||this.authenticationMethod===Jd}shouldDisplayPassword(){return this.authenticationMethod===Jd}shouldShowSourceWarningMessage(){const e=this.props.adminSmtpSettingsContext;return"db"!==e.getCurrentSmtpSettings().source&&e.isSettingsModified()}isReady(){return this.props.adminSmtpSettingsContext.isDataReady()}get settingsSource(){return this.props.adminSmtpSettingsContext?.getCurrentSmtpSettings()?.source}get configurationSource(){return{env:this.props.t("environment variables"),file:this.props.t("file"),db:this.props.t("database")}[this.settingsSource]||this.props.t("unknown")}get translate(){return this.props.t}render(){const e=this.props.adminSmtpSettingsContext.getCurrentSmtpSettings(),t=this.props.adminSmtpSettingsContext.getErrors();return a.createElement("div",{className:"grid grid-responsive-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"third-party-provider-settings smtp-settings col8 main-column"},a.createElement("h3",null,a.createElement(w.x6,null,"Email server")),this.isReady()&&!e?.provider&&a.createElement(a.Fragment,null,a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"Select a provider")),a.createElement("div",{className:"provider-list"},_d.map((e=>a.createElement("div",{key:e.id,className:"provider button",id:e.id,onClick:()=>this.props.adminSmtpSettingsContext.changeProvider(e)},a.createElement("div",{className:"provider-logo"},"other"===e.id&&a.createElement(ge,{name:"envelope"}),"other"!==e.id&&a.createElement("img",{src:`${this.props.context.trustedDomain}/img/third_party/${e.icon}`})),a.createElement("p",{className:"provider-name"},e.name)))))),this.isReady()&&e?.provider&&a.createElement(a.Fragment,null,this.shouldShowSourceWarningMessage()&&a.createElement("div",{className:"warning message"},a.createElement(w.x6,null,a.createElement("b",null,"Warning:")," These are the settings provided by a configuration file. If you save it, will ignore the settings on file and use the ones from the database.")),a.createElement("form",{className:"form"},a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"SMTP server configuration")),a.createElement("div",{className:"select-wrapper input required "+(this.isProcessing()?"disabled":"")},a.createElement("label",{htmlFor:"smtp-settings-form-provider"},a.createElement(w.x6,null,"Email provider")),a.createElement(gs,{id:"smtp-settings-form-provider",name:"provider",items:this.providerList,value:e.provider.id,onChange:this.handleProviderChange,disabled:this.isProcessing()})),a.createElement("div",{className:"select-wrapper input required "+(this.isProcessing()?"disabled":"")},a.createElement("label",{htmlFor:"smtp-settings-form-authentication-method"},a.createElement(w.x6,null,"Authentication method")),a.createElement(gs,{id:"smtp-settings-form-authentication-method",name:"authentication-method",items:this.authenticationMethodList,value:this.authenticationMethod,onChange:this.handleAuthenticationMethodChange,disabled:this.isProcessing()})),this.shouldDisplayUsername()&&a.createElement("div",{className:`input text ${t.username?"error":""} ${this.isProcessing()?"disabled":""}`},a.createElement("label",{htmlFor:"smtp-settings-form-username"},a.createElement(w.x6,null,"Username")),a.createElement("input",{id:"smtp-settings-form-username",ref:this.usernameFieldRef,name:"username",className:"fluid",maxLength:"256",type:"text",autoComplete:"off",value:e.username,onChange:this.handleInputChange,placeholder:this.translate("Username"),disabled:this.isProcessing()}),t.username&&a.createElement("div",{className:"error-message"},t.username)),this.shouldDisplayPassword()&&a.createElement("div",{className:`input-password-wrapper input ${t.password?"error":""} ${this.isProcessing()?"disabled":""}`},a.createElement("label",{htmlFor:"smtp-settings-form-password"},a.createElement(w.x6,null,"Password")),a.createElement(ma,{id:"smtp-settings-form-password",name:"password",autoComplete:"new-password",placeholder:this.translate("Password"),preview:!0,value:e.password,onChange:this.handleInputChange,disabled:this.isProcessing(),inputRef:this.passwordFieldRef}),t.password&&a.createElement("div",{className:"password error-message"},t.password)),a.createElement("div",{className:"accordion-header"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleAdvancedSettingsToggle},a.createElement(ge,{name:this.state.showAdvancedSettings?"caret-down":"caret-right"}),a.createElement(w.x6,null,"Advanced settings"))),this.state.showAdvancedSettings&&a.createElement("div",{className:"advanced-settings"},a.createElement("div",{className:`input text required ${t.host?"error":""} ${this.isProcessing()?"disabled":""}`},a.createElement("label",{htmlFor:"smtp-settings-form-host"},a.createElement(w.x6,null,"SMTP host")),a.createElement("input",{id:"smtp-settings-form-host",ref:this.hostFieldRef,name:"host","aria-required":!0,className:"fluid",maxLength:"256",type:"text",autoComplete:"off",value:e.host,onChange:this.handleInputChange,placeholder:this.translate("SMTP server address"),disabled:this.isProcessing()}),t.host&&a.createElement("div",{className:"error-message"},t.host)),a.createElement("div",{className:`input text required ${t.tls?"error":""} ${this.isProcessing()?"disabled":""}`},a.createElement("label",{htmlFor:"smtp-settings-form-tls"},a.createElement(w.x6,null,"Use TLS")),a.createElement(gs,{id:"smtp-settings-form-tls",name:"tls",items:this.tlsSelectList,value:e.tls,onChange:this.handleInputChange,disabled:this.isProcessing()})),a.createElement("div",{className:`input text required ${t.port?"error":""} ${this.isProcessing()?"disabled":""}`},a.createElement("label",{htmlFor:"smtp-settings-form-port"},a.createElement(w.x6,null,"Port")),a.createElement("input",{id:"smtp-settings-form-port","aria-required":!0,ref:this.portFieldRef,name:"port",className:"fluid",maxLength:"256",type:"text",autoComplete:"off",value:e.port,onChange:this.handleInputChange,placeholder:this.translate("Port number"),disabled:this.isProcessing()}),t.port&&a.createElement("div",{className:"error-message"},t.port)),a.createElement("div",{className:`input text ${t.client?"error":""} ${this.isProcessing()?"disabled":""}`},a.createElement("label",{htmlFor:"smtp-settings-form-client"},a.createElement(w.x6,null,"SMTP client")),a.createElement("input",{id:"smtp-settings-form-client",ref:this.clientFieldRef,name:"client",maxLength:"2048",type:"text",autoComplete:"off",value:e.client,onChange:this.handleInputChange,placeholder:this.translate("SMTP client address"),disabled:this.isProcessing()}),t.client&&a.createElement("div",{className:"error-message"},t.client))),a.createElement("h4",null,a.createElement(w.x6,null,"Sender configuration")),a.createElement("div",{className:`input text required ${t.sender_name?"error":""} ${this.isProcessing()?"disabled":""}`},a.createElement("label",{htmlFor:"smtp-settings-form-sender-name"},a.createElement(w.x6,null,"Sender name")),a.createElement("input",{id:"smtp-settings-form-sender-name",ref:this.senderNameFieldRef,name:"sender_name","aria-required":!0,className:"fluid",maxLength:"256",type:"text",autoComplete:"off",value:e.sender_name,onChange:this.handleInputChange,placeholder:this.translate("Sender name"),disabled:this.isProcessing()}),t.sender_name&&a.createElement("div",{className:"error-message"},t.sender_name),a.createElement("p",null,a.createElement(w.x6,null,"This is the name users will see in their mailbox when passbolt sends a notification."))),a.createElement("div",{className:`input text required ${t.sender_email?"error":""} ${this.isProcessing()?"disabled":""}`},a.createElement("label",{htmlFor:"smtp-settings-form-sender-name"},a.createElement(w.x6,null,"Sender email")),a.createElement("input",{id:"smtp-settings-form-sender-email",ref:this.senderEmailFieldRef,name:"sender_email","aria-required":!0,className:"fluid",maxLength:"256",type:"text",autoComplete:"off",value:e.sender_email,onChange:this.handleInputChange,placeholder:this.translate("Sender email"),disabled:this.isProcessing()}),t.sender_email&&a.createElement("div",{className:"error-message"},t.sender_email),a.createElement("p",null,a.createElement(w.x6,null,"This is the email address users will see in their mail box when passbolt sends a notification.",a.createElement("br",null),"It's a good practice to provide a working email address that users can reply to.")))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help",id:"smtp-settings-source"},a.createElement("h3",null,a.createElement(w.x6,null,"Configuration source")),a.createElement("p",null,a.createElement(w.x6,null,"This current configuration source is: "),this.configurationSource,".")),a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Why do I need an SMTP server?")),a.createElement("p",null,a.createElement(w.x6,null,"Passbolt needs an smtp server in order to send invitation emails after an account creation and to send email notifications.")),a.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/emails/email-server/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation")))),e?.provider&&"other"!==e?.provider.id&&a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"How do I configure a ",e.provider.name," SMTP server?")),a.createElement("a",{className:"button",href:e.provider.help_page,target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"link"}),a.createElement("span",null,a.createElement(w.x6,null,"See the ",e.provider.name," documentation")))),e?.provider&&("google-mail"===e.provider.id||"google-workspace"===e.provider.id)&&a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Why shouldn't I use my login password ?")),a.createElement("p",null,a.createElement(w.x6,null,'In order to use the "Username & Password" authentication method with Google, you will need to enable MFA on your Google Account. The password should not be your login password, you have to create an "App Password" generated by Google.. However, the email remain the same.')),a.createElement("a",{className:"button",href:"https://support.google.com/mail/answer/185833",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"More informations")))))))}}Xd.propTypes={context:l().object,dialogContext:l().any,administrationWorkspaceContext:l().object,adminSmtpSettingsContext:l().object,t:l().func};const Qd=h(qd(k(Ro((0,w.CI)("common")(Xd))))),eh=class{static clone(e){return new Map(JSON.parse(JSON.stringify(Array.from(e))))}static iterators(e){return[...e.keys()]}static listValues(e){return[...e.values()]}},th=class{constructor(e){this.apiClientOptions=e}async find(){this.initClient();const e=await this.apiClient.findAll(),t=e?.body;return t}async save(e){this.initClient(),await this.apiClient.create(e)}async delete(e){this.initClient(),await this.apiClient.delete(e)}async checkDomainAllowed(e){this.initClient("dry-run"),await this.apiClient.create(e)}initClient(e="settings"){this.apiClientOptions.setResourceName(`self-registration/${e}`),this.apiClient=new $a(this.apiClientOptions)}},sh=class{constructor(e={}){this.allowedDomains=this.mapAllowedDomains(e.data?.allowed_domains||[])}mapAllowedDomains(e){return new Map(e.map((e=>[(0,E.A)(),e])))}getSettings(){return this.allowedDomains}setSettings(e){this.allowedDomains=this.mapAllowedDomains(e)}},ah=class{constructor(e,t={}){this.id=t.id,this.provider=t.provider||"email_domains",this.data=this.mapData(e?.allowedDomains)}mapData(e=new Map){return{allowed_domains:Array.from(e.values())}}},nh=class{constructor(e){this.translate=e,this.fields=new Map}validate(e){return this.fields=e,this.validateInputs()}validateInputs(){const e=new Map;return this.fields.forEach(((t,s)=>{this.validateInput(s,t,e)})),e}validateInput(e,t,s){if(t.length)try{Ld.checkDomainValidity(t)}catch{s.set(e,this.translate("This should be a valid domain"))}else s.set(e,this.translate("A domain is required."));this.checkDuplicateValue(s)}checkDuplicateValue(e){this.fields.forEach(((t,s)=>{eh.listValues(this.fields).filter((e=>e===t&&""!==e)).length>1&&e.set(s,this.translate("This domain already exist"))}))}};class rh extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleSubmit=this.handleSubmit.bind(this),this.handleClose=this.handleClose.bind(this)}handleClose(){this.props.onClose()}async handleSubmit(e){e.preventDefault(),await this.props.onSubmit(),this.props.onClose()}get allowedDomains(){return this.props.adminSelfRegistrationContext.getAllowedDomains()}render(){const e=this.props.adminSelfRegistrationContext.isProcessing();return a.createElement(ve,{title:this.props.t("Save self registration settings"),onClose:this.handleClose,disabled:e,className:"save-self-registration-settings-dialog"},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("div",{className:"form-content"},a.createElement(a.Fragment,null,a.createElement("label",null,a.createElement(w.x6,null,"Allowed domains")),a.createElement("div",{className:"radiolist-alt"},a.createElement("div",{className:"input radio"},a.createElement("ul",{id:"domains-list"},this.allowedDomains&&eh.iterators(this.allowedDomains).map((e=>a.createElement("li",{key:e},this.allowedDomains.get(e))))))))),a.createElement("div",{className:"warning message"},a.createElement(w.x6,null,"Please review carefully this configuration.")),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{onClick:this.handleClose,disabled:e}),a.createElement(Vt,{value:this.props.t("Save"),disabled:e,processing:e,warning:!0}))))}}rh.propTypes={context:l().any,onSubmit:l().func,adminSelfRegistrationContext:l().object,onClose:l().func,t:l().func};const ih=h(mh((0,w.CI)("common")(rh)));class oh extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleSubmit=this.handleSubmit.bind(this),this.handleClose=this.handleClose.bind(this)}handleClose(){this.props.onClose()}async handleSubmit(e){e.preventDefault(),await this.props.onSubmit(),this.props.onClose()}render(){const e=this.props.adminSelfRegistrationContext.isProcessing();return a.createElement(ve,{title:this.props.t("Disable self registration"),onClose:this.handleClose,disabled:e,className:"delete-self-registration-settings-dialog"},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("div",{className:"form-content"},a.createElement("p",null,a.createElement(w.x6,null,"Are you sure to disable the self registration for the organization ?")),a.createElement("p",null,a.createElement(w.x6,null,"Users will not be able to self register anymore.")," ",a.createElement(w.x6,null,"Only administrators would be able to invite users to register. "))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{onClick:this.handleClose,disabled:e}),a.createElement(Vt,{value:this.props.t("Save"),disabled:e,processing:e,warning:!0}))))}}oh.propTypes={adminSelfRegistrationContext:l().object,onClose:l().func,onSubmit:l().func,t:l().func};const lh=mh((0,w.CI)("common")(oh));function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ch.apply(null,arguments)}const dh=a.createContext({getCurrentSettings:()=>{},getAllowedDomains:()=>{},setAllowedDomains:()=>{},hasSettingsChanges:()=>{},setDomains:()=>{},findSettings:()=>{},setProcessing:()=>{},isProcessing:()=>{},clearContext:()=>{},isSubmitted:()=>{},setSubmitted:()=>{},setErrors:()=>{},getErrors:()=>{},setError:()=>{},save:()=>{},delete:()=>{},shouldFocus:()=>{},setFocus:()=>{},isSaved:()=>{},setSaved:()=>{},validateForm:()=>{}});class hh extends a.Component{constructor(e){super(e),this.state=this.defaultState;const t=e.context.getApiClientOptions();this.selfRegistrationService=new th(t),this.selfRegistrationFormService=new nh(this.props.t)}get defaultState(){return{errors:new Map,submitted:!1,currentSettings:null,focus:!1,saved:!1,domains:new sh,processing:!0,getCurrentSettings:this.getCurrentSettings.bind(this),getAllowedDomains:this.getAllowedDomains.bind(this),setAllowedDomains:this.setAllowedDomains.bind(this),setDomains:this.setDomains.bind(this),findSettings:this.findSettings.bind(this),hasSettingsChanges:this.hasSettingsChanges.bind(this),isProcessing:this.isProcessing.bind(this),setProcessing:this.setProcessing.bind(this),clearContext:this.clearContext.bind(this),isSubmitted:this.isSubmitted.bind(this),setSubmitted:this.setSubmitted.bind(this),getErrors:this.getErrors.bind(this),setError:this.setError.bind(this),setErrors:this.setErrors.bind(this),save:this.save.bind(this),shouldFocus:this.shouldFocus.bind(this),setFocus:this.setFocus.bind(this),isSaved:this.isSaved.bind(this),setSaved:this.setSaved.bind(this),deleteSettings:this.deleteSettings.bind(this),validateForm:this.validateForm.bind(this)}}async findSettings(e=()=>{}){this.setProcessing(!0);const t=await this.selfRegistrationService.find();this.setState({currentSettings:t});const s=new sh(t);this.setDomains(s,e),this.setProcessing(!1)}getCurrentSettings(){return this.state.currentSettings}getAllowedDomains(){return this.state.domains.allowedDomains}setAllowedDomains(e,t,s=()=>{}){this.setState((s=>{const a=eh.clone(s.domains.allowedDomains);return a.set(e,t),{domains:{allowedDomains:a}}}),s)}setDomains(e,t=()=>{}){this.setState({domains:e},t)}isProcessing(){return this.state.processing}setProcessing(e){this.setState({processing:e})}isSubmitted(){return this.state.submitted}setSubmitted(e){this.setState({submitted:e}),this.setFocus(e)}getErrors(){return this.state.errors}shouldFocus(){return this.state.focus}setFocus(e){this.setState({focus:e})}setError(e,t){this.setState((s=>{const a=eh.clone(s.errors);return a.set(e,t),{errors:a}}))}setErrors(e){this.setState({errors:e})}hasSettingsChanges(){const e=this.state.currentSettings?.data?.allowed_domains||[],t=eh.listValues(this.state.domains.allowedDomains);return JSON.stringify(e)!==JSON.stringify(t)}clearContext(){const{currentSettings:e,domains:t,processing:s}=this.defaultState;this.setState({currentSettings:e,domains:t,processing:s})}save(){this.setSubmitted(!0),this.validateForm()&&(this.hasSettingsChanges()&&0===this.getAllowedDomains().size?this.displayConfirmDeletionDialog():this.displayConfirmSummaryDialog())}validateForm(){const e=this.selfRegistrationFormService.validate(this.state.getAllowedDomains());return this.state.setErrors(e),0===e.size}async handleSubmitError(e){"UserAbortsOperationError"!==e.name&&(console.error(e),await this.handleError(e))}async saveSettings(){try{this.setProcessing(!0);const e=new ah(this.state.domains,this.state.currentSettings);await this.selfRegistrationService.save(e),await this.findSettings((()=>this.setSaved(!0))),await this.props.actionFeedbackContext.displaySuccess(this.props.t("The self registration settings for the organization were updated."))}catch(e){this.handleSubmitError(e)}finally{this.setProcessing(!1),this.setSubmitted(!1)}}async handleError(e){this.handleCloseDialog();const t={error:e};this.props.dialogContext.open(we,t)}handleCloseDialog(){this.props.dialogContext.close()}displayConfirmSummaryDialog(){this.props.dialogContext.open(ih,{domains:this.getAllowedDomains(),onSubmit:()=>this.saveSettings(),onClose:()=>this.handleCloseDialog()})}displayConfirmDeletionDialog(){this.props.dialogContext.open(lh,{onSubmit:()=>this.deleteSettings(),onClose:()=>this.handleCloseDialog()})}async deleteSettings(){try{this.setProcessing(!0),await this.selfRegistrationService.delete(this.state.currentSettings.id),await this.findSettings(),await this.props.actionFeedbackContext.displaySuccess(this.props.t("The self registration settings for the organization were updated."))}catch(e){this.handleSubmitError(e)}finally{this.setProcessing(!1),this.setSubmitted(!1)}}isSaved(){return this.state.saved}setSaved(e){return this.setState({saved:e})}render(){return a.createElement(dh.Provider,{value:this.state},this.props.children)}}function mh(e){return class extends a.Component{render(){return a.createElement(dh.Consumer,null,(t=>a.createElement(e,ch({adminSelfRegistrationContext:t},this.props))))}}}hh.propTypes={context:l().any,children:l().any,t:l().any,dialogContext:l().any,actionFeedbackContext:l().object},h(k(_e((0,w.CI)("common")(hh))));class ph extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleSave=this.handleSave.bind(this)}get allowedDomains(){return this.props.adminSelfRegistrationContext.getAllowedDomains()}isSaveEnabled(){let e=!1;return this.props.adminSelfRegistrationContext.getCurrentSettings()?.provider||(e=!this.props.adminSelfRegistrationContext.hasSettingsChanges()),!this.props.adminSelfRegistrationContext.isProcessing()&&!e}async handleSave(){this.isSaveEnabled()&&this.props.adminSelfRegistrationContext.save()}render(){return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isSaveEnabled(),id:"save-settings",onClick:this.handleSave},a.createElement(ge,{name:"save"}),a.createElement("span",null,a.createElement(w.x6,null,"Save settings")))))))}}ph.propTypes={adminSelfRegistrationContext:l().object,t:l().func};const uh=(0,w.CI)("common")(mh(ph)),gh=new Map;function Ch(e){if("string"!=typeof e)return console.warn("useDynamicRefs: Cannot set ref without key");const t=a.createRef();return gh.set(e,t),t}function bh(e){return e?gh.get(e):console.warn("useDynamicRefs: Cannot get ref without key")}class Eh extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.dynamicRefs={getRef:bh,setRef:Ch},this.checkForPublicDomainDebounce=Wt()(this.checkForWarnings,300),this.bindCallbacks()}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(uh),await this.findSettings()}componentDidUpdate(){this.shouldFocusOnError(),this.shouldCheckWarnings()}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminSelfRegistrationContext.clearContext()}get defaultState(){return{isEnabled:!1,warnings:new Map}}bindCallbacks(){this.handleToggleClicked=this.handleToggleClicked.bind(this),this.handleAddRowClick=this.handleAddRowClick.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleDeleteRow=this.handleDeleteRow.bind(this)}get currentUser(){return this.props.context.loggedInUser}get allowedDomains(){return this.props.adminSelfRegistrationContext.getAllowedDomains()}async findSettings(){await this.props.adminSelfRegistrationContext.findSettings(),this.setState({isEnabled:this.allowedDomains.size>0}),this.checkForWarnings(),this.validateForm()}checkForWarnings(){this.setState({warnings:new Map},(()=>{this.allowedDomains.forEach(((e,t)=>this.checkDomainIsProfessional(t,e)))}))}setupSettings(){if(this.props.adminSelfRegistrationContext.setDomains(new sh(this.props.adminSelfRegistrationContext.getCurrentSettings())),this.checkForWarnings(),0===this.allowedDomains.size){const e=Ld.extractDomainFromEmail(this.currentUser?.username);Ld.checkDomainValidity(e),this.populateUserDomain(e)}}shouldFocusOnError(){const e=this.props.adminSelfRegistrationContext.shouldFocus(),[t]=this.props.adminSelfRegistrationContext.getErrors().keys();t&&e&&(this.dynamicRefs.getRef(t).current.focus(),this.props.adminSelfRegistrationContext.setFocus(!1))}shouldCheckWarnings(){this.props.adminSelfRegistrationContext.isSaved()&&(this.props.adminSelfRegistrationContext.setSaved(!1),this.checkForWarnings())}populateUserDomain(e){const t=Ld.isProfessional(e)?e:"";this.addRow(t)}addRow(e=""){const t=(0,E.A)();this.props.adminSelfRegistrationContext.setAllowedDomains(t,e,(()=>{const e=this.dynamicRefs.getRef(t);e?.current.focus()}))}handleDeleteRow(e){if(this.canDelete()){const t=this.allowedDomains;t.delete(e),this.props.adminSelfRegistrationContext.setDomains({allowedDomains:t}),this.validateForm(),this.checkForWarnings()}}hasWarnings(){return this.state.warnings.size>0}hasAllInputDisabled(){return this.props.adminSelfRegistrationContext.isProcessing()}handleToggleClicked(){this.setState({isEnabled:!this.state.isEnabled},(()=>{this.state.isEnabled?this.setupSettings():(this.props.adminSelfRegistrationContext.setDomains({allowedDomains:new Map}),this.props.adminSelfRegistrationContext.setErrors(new Map))}))}handleAddRowClick(){this.addRow()}checkDomainIsProfessional(e,t){this.setState((s=>{const a=eh.clone(s.warnings);return Ld.isProfessional(t)?a.delete(e):a.set(e,"This is not a safe professional domain"),{warnings:a}}))}handleInputChange(e){const t=e.target.value,s=e.target.name;this.props.adminSelfRegistrationContext.setAllowedDomains(s,t,(()=>this.validateForm())),this.checkForPublicDomainDebounce()}validateForm(){this.props.adminSelfRegistrationContext.validateForm()}canDelete(){return this.allowedDomains.size>1}render(){const e=this.props.adminSelfRegistrationContext.isSubmitted(),t=this.props.adminSelfRegistrationContext.getErrors();return a.createElement("div",{className:"row"},a.createElement("div",{className:"self-registration col7 main-column"},a.createElement("h3",null,a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"settings-toggle",onChange:this.handleToggleClicked,checked:this.state.isEnabled,disabled:this.hasAllInputDisabled(),id:"settings-toggle"}),a.createElement("label",{htmlFor:"settings-toggle"},a.createElement(w.x6,null,"Self Registration")))),this.props.adminSelfRegistrationContext.hasSettingsChanges()&&a.createElement("div",{className:"warning message",id:"self-registration-setting-overridden-banner"},a.createElement("p",null,a.createElement(w.x6,null,"Don't forget to save your settings to apply your modification."))),!this.state.isEnabled&&a.createElement("p",{className:"description",id:"disabled-description"},a.createElement(w.x6,null,"User self registration is disabled.")," ",a.createElement(w.x6,null,"Only administrators can invite users to register.")),this.state.isEnabled&&a.createElement(a.Fragment,null,a.createElement("div",{id:"self-registration-subtitle",className:`input ${this.hasWarnings()&&"warning"} ${e&&t.size>0&&"error"}`},a.createElement("label",{id:"enabled-label"},a.createElement(w.x6,null,"Email domain safe list"))),a.createElement("p",{className:"description",id:"enabled-description"},a.createElement(w.x6,null,"All the users with an email address ending with the domain in the safe list are allowed to register on passbolt.")),eh.iterators(this.allowedDomains).map((s=>a.createElement("div",{key:s,className:"input"},a.createElement("div",{className:"domain-row"},a.createElement("input",{type:"text",className:"full-width",onChange:this.handleInputChange,id:`input-${s}`,name:s,value:this.allowedDomains.get(s),disabled:!this.hasAllInputDisabled,ref:this.dynamicRefs.setRef(s),placeholder:this.props.t("domain")}),a.createElement("button",{type:"button",disabled:!this.canDelete(),className:"button-icon",id:`delete-${s}`,onClick:()=>this.handleDeleteRow(s)},a.createElement(ge,{name:"trash"}))),this.hasWarnings()&&this.state.warnings.get(s)&&a.createElement("div",{id:"domain-name-input-feedback",className:"warning-message"},a.createElement(w.x6,null,this.state.warnings.get(s))),t.get(s)&&e&&a.createElement("div",{className:"error-message"},a.createElement(w.x6,null,t.get(s)))))),a.createElement("div",{className:"domain-add"},a.createElement("button",{type:"button",onClick:this.handleAddRowClick},a.createElement(ge,{name:"add"}),a.createElement("span",null,a.createElement(w.x6,null,"Add")))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"What is user self registration?")),a.createElement("p",null,a.createElement(w.x6,null,"User self registration enables users with an email from a whitelisted domain to create their passbolt account without prior admin invitation.")),a.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/user-provisioning/self-registration/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation"))))))}}Eh.propTypes={dialogContext:l().any,context:l().any,adminSelfRegistrationContext:l().object,administrationWorkspaceContext:l().object,t:l().func};const fh=h(k(mh(Ro((0,w.CI)("common")(Eh))))),yh=[{id:"azure",name:"Microsoft",icon:a.createElement("svg",{width:"65",height:"64",viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M31.3512 3.04762H3.92261V30.4762H31.3512V3.04762Z",fill:"#F25022"}),a.createElement("path",{d:"M31.3512 33.5238H3.92261V60.9524H31.3512V33.5238Z",fill:"#00A4EF"}),a.createElement("path",{d:"M61.8274 3.04762H34.3988V30.4762H61.8274V3.04762Z",fill:"#7FBA00"}),a.createElement("path",{d:"M61.8274 33.5238H34.3988V60.9524H61.8274V33.5238Z",fill:"#FFB900"})),defaultConfig:{url:"https://login.microsoftonline.com",client_id:"",client_secret:"",tenant_id:"",client_secret_expiry:"",prompt:"login",email_claim:"email"}},{id:"google",name:"Google",icon:a.createElement("svg",{width:"65",height:"64",viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M63.9451 32.72C63.9451 30.6133 63.7584 28.6133 63.4384 26.6667H33.3051V38.6933H50.5584C49.7851 42.64 47.5184 45.9733 44.1584 48.24V56.24H54.4517C60.4784 50.6667 63.9451 42.4533 63.9451 32.72Z",fill:"#4285F4"}),a.createElement("path",{d:"M33.305 64C41.945 64 49.1717 61.12 54.4517 56.24L44.1583 48.24C41.2783 50.16 37.625 51.3333 33.305 51.3333C24.9583 51.3333 17.8917 45.7067 15.3583 38.1067H4.745V46.3467C9.99833 56.8 20.7983 64 33.305 64Z",fill:"#34A853"}),a.createElement("path",{d:"M15.3584 38.1067C14.6917 36.1867 14.3451 34.1333 14.3451 32C14.3451 29.8667 14.7184 27.8133 15.3584 25.8933V17.6533H4.74505C2.55838 21.9733 1.30505 26.8267 1.30505 32C1.30505 37.1733 2.55838 42.0267 4.74505 46.3467L15.3584 38.1067Z",fill:"#FBBC05"}),a.createElement("path",{d:"M33.305 12.6667C38.025 12.6667 42.2383 14.2933 45.5717 17.4667L54.6917 8.34667C49.1717 3.17334 41.945 0 33.305 0C20.7983 0 9.99833 7.20001 4.745 17.6533L15.3583 25.8933C17.8917 18.2933 24.9583 12.6667 33.305 12.6667Z",fill:"#EA4335"})),defaultConfig:{client_id:"",client_secret:""}},{id:"oauth2",name:"OpenID",hiddenIfDisabled:!0,disabledForRecover:!0,icon:a.createElement("svg",{width:"65",height:"60",viewBox:"0 0 65 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M64.2468 34.9929L62.9089 21.0968L57.9256 23.9083C53.2914 21.0968 47.3581 19.1061 40.7332 18.3046V24.4577C44.5336 25.117 47.9462 26.3321 50.7513 27.9544L45.5031 30.9146L64.2533 34.9929H64.2468Z",fill:"#B3B3B3"}),a.createElement("path",{d:"M9.94184 38.8774C9.94184 32.0069 17.4264 26.2222 27.632 24.4577V18.2981C12.023 20.1854 0.246826 28.6783 0.246826 38.8774C0.246826 49.0766 12.8891 58.1769 29.3319 59.6312V53.5557C18.2666 52.166 9.94184 46.1228 9.94184 38.8774Z",fill:"#B3B3B3"}),a.createElement("path",{d:"M29.332 5.09999V59.6377L39.027 55.0746V0.362366L29.332 5.09999Z",fill:"#F8931E"})),defaultConfig:{url:"",openid_configuration_path:"",scope:"openid email profile",client_id:"",client_secret:""}},{id:"adfs",name:"AD FS",hiddenIfDisabled:!0,disabledForRecover:!0,icon:a.createElement("svg",{width:"65",height:"64",viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M64.5443 48.7454V62.166C64.5443 63.7378 64.0607 64.0602 62.5695 63.8184C52.5746 62.3272 42.4587 60.957 32.3831 59.5464C30.5695 59.3046 29.9247 58.6597 29.9247 56.6849C30.0859 49.5514 30.0053 42.3776 29.9247 35.1635C29.9247 33.5917 30.4083 33.1081 31.9801 33.1081C42.2975 33.1887 52.4536 33.1887 62.5695 33.1887C64.2219 33.1887 64.6249 33.8335 64.6249 35.3247C64.4637 39.8386 64.5443 44.2718 64.5443 48.7454Z",fill:"#00AAF2"}),a.createElement("path",{d:"M47.416 30.6093C42.3379 30.6093 37.2598 30.5287 32.1817 30.6093C30.6099 30.6093 29.9651 30.2869 29.9651 28.4733C30.0457 21.1786 30.0457 14.0048 29.9651 6.79069C29.9651 5.38011 30.4487 4.89648 31.7787 4.65467C42.1767 3.16349 52.5747 1.7126 62.9726 0.140816C64.7862 -0.100997 64.4638 1.10807 64.4638 2.11563C64.4638 8.56399 64.5444 15.1333 64.4638 21.5816C64.4638 23.9595 64.3832 26.3373 64.4638 28.7151C64.5444 30.2063 63.9802 30.6093 62.5696 30.6093C57.5721 30.5287 52.4941 30.6093 47.416 30.6093Z",fill:"#00AAF2"}),a.createElement("path",{d:"M13.8038 33.3096H25.1691C26.3782 33.3096 26.9021 33.7126 26.9021 34.962V57.37C26.9021 58.6597 26.3378 58.7806 25.1691 58.6597C17.6326 57.5312 10.096 56.4431 2.59981 55.3952C1.10863 55.1534 0.625 54.6698 0.625 53.098C0.705605 47.1332 0.705605 41.1685 0.625 35.0829C0.625 33.5917 1.02802 33.1887 2.51921 33.1887C6.34792 33.3096 10.0154 33.3096 13.8038 33.3096Z",fill:"#00AAF2"}),a.createElement("path",{d:"M13.8038 30.6093H2.59977C1.18919 30.6093 0.705566 30.1257 0.705566 28.6345C0.786171 22.7504 0.786171 16.8663 0.705566 10.9418C0.705566 9.53126 1.10859 9.04763 2.59977 8.80582C10.1363 7.83856 17.6728 6.7504 25.169 5.54133C26.902 5.29952 27.0633 5.86375 27.0633 7.27433V28.7151C27.0633 30.2869 26.4184 30.5287 25.0078 30.5287C21.2597 30.5287 17.4713 30.6093 13.8038 30.6093Z",fill:"#00AAF2"})),defaultConfig:{url:"",openid_configuration_path:"",scope:"openid email profile",client_id:"",client_secret:""}}],vh="form",kh="success";class wh extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{uiState:vh,hasSuccessfullySignedInWithSso:!1,processing:!1,ssoToken:null}}bindCallbacks(){this.handleSignInTestClick=this.handleSignInTestClick.bind(this),this.handleActivateSsoSettings=this.handleActivateSsoSettings.bind(this),this.handleCloseDialog=this.handleCloseDialog.bind(this)}async handleSignInTestClick(e){e.preventDefault();try{this.setState({processing:!0});const e=await this.props.context.port.request("passbolt.sso.dry-run",this.props.configurationId);this.setState({uiState:kh,hasSuccessfullySignedInWithSso:!0,ssoToken:e})}catch(e){"UserAbortsOperationError"!==e?.name&&this.props.adminSsoContext.handleError(e)}this.setState({processing:!1})}async handleActivateSsoSettings(e){e.preventDefault();try{this.setState({processing:!0}),await this.props.context.port.request("passbolt.sso.activate-settings",this.props.configurationId,this.state.ssoToken),await this.props.context.port.request("passbolt.sso.generate-sso-kit",this.props.provider.id),this.props.onSuccessfulSettingsActivation(),await this.props.actionFeedbackContext.displaySuccess(this.props.t("The SSO settings have been saved successfully"))}catch(e){this.props.adminSsoContext.handleError(e)}this.setState({processing:!1}),this.handleCloseDialog()}handleCloseDialog(){this.props.onClose(),this.props.handleClose()}hasAllInputDisabled(){return this.state.processing}canSaveSettings(){return!this.hasAllInputDisabled()&&this.state.hasSuccessfullySignedInWithSso}get title(){return{form:this.translate("Test Single Sign-On configuration"),success:this.translate("Save Single Sign-On configuration")}[this.state.uiState]||""}get translate(){return this.props.t}render(){return a.createElement(ve,{className:"test-sso-settings-dialog sso-login-form",title:this.title,onClose:this.handleCloseDialog,disabled:this.hasAllInputDisabled()},a.createElement("form",{onSubmit:this.handleActivateSsoSettings},a.createElement("div",{className:"form-content"},this.state.uiState===vh&&a.createElement(a.Fragment,null,a.createElement("p",null,a.createElement(w.x6,null,"Before saving the settings, we need to test if the configuration is working.")),a.createElement("button",{type:"button",className:`sso-login-button ${this.props.provider.id}`,onClick:this.handleSignInTestClick,disabled:this.hasAllInputDisabled()},a.createElement("span",{className:"provider-logo"},this.props.provider.icon),this.translate("Sign in with {{providerName}}",{providerName:this.props.provider.name}))),this.state.uiState===kh&&a.createElement("p",null,this.translate("You susccessfully signed in with your {{providerName}} account. You can safely save your configuration.",{providerName:this.props.provider.name}))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseDialog}),a.createElement(Vt,{disabled:!this.canSaveSettings(),processing:this.state.processing,value:this.translate("Save settings")}))))}}wh.propTypes={context:l().object,adminSsoContext:l().object,onClose:l().func,t:l().func,provider:l().object,configurationId:l().string,actionFeedbackContext:l().any,handleClose:l().func,onSuccessfulSettingsActivation:l().func};const xh=h(Xh(_e((0,w.CI)("common")(wh))));class Sh extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{processing:!1}}bindCallbacks(){this.handleConfirmDelete=this.handleConfirmDelete.bind(this)}async handleConfirmDelete(e){e.preventDefault(),this.setState({processing:!0}),await this.props.adminSsoContext.deleteSettings(),this.setState({processing:!1}),this.props.onClose()}hasAllInputDisabled(){return this.state.processing}render(){const e=this.hasAllInputDisabled();return a.createElement(ve,{className:"delete-sso-settings-dialog",title:this.props.t("Disable Single Sign-On settings?"),onClose:this.props.onClose,disabled:e},a.createElement("form",{onSubmit:this.handleConfirmDelete,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("p",null,a.createElement(w.x6,null,"Are you sure you want to disable the current Single Sign-On settings?")),a.createElement("p",null,a.createElement(w.x6,null,"This action cannot be undone. All the data associated with SSO will be permanently deleted."))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:e,onClick:this.props.onClose}),a.createElement(Vt,{warning:!0,disabled:e,processing:this.state.processing,value:this.props.t("Disable")}))))}}Sh.propTypes={adminSsoContext:l().object,onClose:l().func,t:l().func};const Nh=Xh((0,w.CI)("common")(Sh)),Rh=["https://login.microsoftonline.com","https://login.microsoftonline.us","https://login.partner.microsoftonline.cn"],Ih=/^https:\/\/login\.(microsoftonline\.(com|us)|partner\.microsoftonline\.cn)$/;class _h extends ne{constructor(e,t={}){const s=_h.sanitizeDto(e);super(se.validate(_h.ENTITY_NAME,s,_h.getSchema()),t)}static getSchema(){return{type:"object",required:["url","client_id","tenant_id","client_secret","client_secret_expiry"],properties:{url:{type:"string",pattern:Ih},client_id:{type:"string",format:"uuid"},tenant_id:{type:"string",format:"uuid"},client_secret:{type:"string",minLength:1},client_secret_expiry:{type:"string",format:"date-time"},email_claim:{type:"string",enum:["email","preferred_username","upn"]},prompt:{type:"string",enum:["login","none"]}}}}static sanitizeDto(e){return e=Object.assign({},e),e?.email_claim||(e.email_claim="email"),e?.prompt||(e.prompt="login"),e}static get ENTITY_NAME(){return"AzureSsoSettings"}static get PROVIDER_ID(){return"azure"}static get SUPPORTED_URLS(){return Rh}}const Dh=_h;class Th{constructor(e={}){this.url=e?.url,this.client_id=e?.client_id,this.tenant_id=e?.tenant_id,this.client_secret=e?.client_secret,this.email_claim=e?.email_claim,this.prompt=e?.prompt,e?.client_secret_expiry&&(this.client_secret_expiry=e.client_secret_expiry.toString().substring(0,10)),e?.id&&(this.id=e.id)}get provider(){return Dh.PROVIDER_ID}static getSchema(){const e=Dh.getSchema();return{type:"object",required:["url","client_id","tenant_id","client_secret","client_secret_expiry","email_claim","prompt"],properties:{id:{type:"string",format:"uuid"},url:e.properties.url,client_id:e.properties.client_id,tenant_id:e.properties.tenant_id,client_secret:e.properties.client_secret,client_secret_expiry:e.properties.client_secret_expiry,email_claim:e.properties.email_claim,prompt:e.properties.prompt}}}static isDataDifferent(e,t){return["url","client_id","tenant_id","client_secret","client_secret_expiry","email_claim","prompt"].some((s=>e[s]!==t[s]))}isDataDifferent(e){return!(e instanceof Th)||Th.isDataDifferent(this,e)}toDto(){return{id:this.id,provider:this.provider,url:this.url,client_id:this.client_id,tenant_id:this.tenant_id,client_secret:this.client_secret,client_secret_expiry:this.client_secret_expiry,email_claim:this.email_claim,prompt:this.prompt}}cloneWithMutation(e,t){const s=this.toDto();return s[e]=t,new Th(s)}validate(){const e=Th.getSchema();try{se.validate(this.constructor.name,this,e)}catch(e){if(!(e instanceof Y))throw e;return e}return new Y}static fromEntityDto(e){const t=e.data,s={id:e?.id,url:t.url,client_id:t.client_id,tenant_id:t.tenant_id,client_secret:t.client_secret,client_secret_expiry:t.client_secret_expiry,email_claim:t.email_claim,prompt:t.prompt};return new Th(s)}toEntityDto(){let e=this.client_secret_expiry;return this.client_secret_expiry&&(e+=" 00:00:00"),{provider:this.provider,data:{url:this.url,client_id:this.client_id,tenant_id:this.tenant_id,client_secret:this.client_secret,client_secret_expiry:e,email_claim:this.email_claim,prompt:this.prompt}}}}const Ph=Th,Ah=/^https:\/\/.+[^\/]$/;class Mh extends ne{constructor(e,t={}){super(se.validate(Mh.ENTITY_NAME,e,Mh.getSchema()),t)}static getSchema(){return{type:"object",required:["url","openid_configuration_path","scope","client_id","client_secret"],properties:{url:{type:"string",pattern:Ah},openid_configuration_path:{type:"string",minLength:1},scope:{type:"string",minLength:1},client_id:{type:"string",minLength:1},client_secret:{type:"string",minLength:1}}}}static get ENTITY_NAME(){return"OAuth2SsoSettings"}static get PROVIDER_ID(){return"oauth2"}}const Uh=Mh;class Fh{constructor(e={}){this.url=e?.url,this.openid_configuration_path=e?.openid_configuration_path,this.scope=e?.scope,this.client_id=e?.client_id,this.client_secret=e?.client_secret,e?.id&&(this.id=e.id)}get provider(){return Uh.PROVIDER_ID}static getSchema(){const e=Uh.getSchema();return{type:"object",required:["url","openid_configuration_path","scope","client_id","client_secret"],properties:{id:{type:"string",format:"uuid"},url:e.properties.url,openid_configuration_path:e.properties.openid_configuration_path,scope:e.properties.scope,client_id:e.properties.client_id,client_secret:e.properties.client_secret}}}static isDataDifferent(e,t){return["url","openid_configuration_path","scope","client_id","client_secret"].some((s=>e[s]!==t[s]))}isDataDifferent(e){return!(e instanceof Fh)||Fh.isDataDifferent(this,e)}toDto(){return{id:this.id,provider:this.provider,url:this.url,openid_configuration_path:this.openid_configuration_path,scope:this.scope,client_id:this.client_id,client_secret:this.client_secret}}cloneWithMutation(e,t){const s=this.toDto();return s[e]=t,new Fh(s)}validate(){const e=Fh.getSchema();try{se.validate(this.constructor.name,this,e)}catch(e){if(!(e instanceof Y))throw e;return e}return new Y}static fromEntityDto(e){const t=e.data,s={id:e?.id,url:t.url,openid_configuration_path:t.openid_configuration_path,scope:t.scope,client_id:t.client_id,client_secret:t.client_secret};return new Fh(s)}toEntityDto(){return{provider:this.provider,data:{url:this.url,openid_configuration_path:this.openid_configuration_path,scope:this.scope,client_id:this.client_id,client_secret:this.client_secret}}}}const Lh=Fh,Oh=["https://accounts.google.com"];class Vh extends ne{constructor(e,t={}){super(se.validate(Vh.ENTITY_NAME,e,Vh.getSchema()),t)}static getSchema(){return{type:"object",required:["client_id","client_secret"],properties:{client_id:{type:"string",minLength:1},client_secret:{type:"string",minLength:1}}}}static get ENTITY_NAME(){return"GoogleSsoSettings"}static get PROVIDER_ID(){return"google"}static get SUPPORTED_URLS(){return Oh}}const Hh=Vh;class qh{constructor(e={}){this.client_id=e?.client_id,this.client_secret=e?.client_secret,e?.id&&(this.id=e.id)}get provider(){return Hh.PROVIDER_ID}static getSchema(){const e=Hh.getSchema();return{type:"object",required:["client_id","client_secret"],properties:{id:{type:"string",format:"uuid"},client_id:e.properties.client_id,client_secret:e.properties.client_secret}}}static isDataDifferent(e,t){return["client_id","client_secret"].some((s=>e[s]!==t[s]))}isDataDifferent(e){return!(e instanceof qh)||qh.isDataDifferent(this,e)}toDto(){return{id:this.id,provider:this.provider,client_id:this.client_id,client_secret:this.client_secret}}cloneWithMutation(e,t){const s=this.toDto();return s[e]=t,new qh(s)}validate(){const e=qh.getSchema();try{se.validate(this.constructor.name,this,e)}catch(e){if(!(e instanceof Y))throw e;return e}return new Y}static fromEntityDto(e){const t=e.data,s={id:e?.id,client_id:t.client_id,client_secret:t.client_secret};return new qh(s)}toEntityDto(){return{provider:this.provider,data:{client_id:this.client_id,client_secret:this.client_secret}}}}const jh=qh,Wh=/^https:\/\/.+[^\/]$/;class zh extends ne{constructor(e,t={}){super(se.validate(zh.ENTITY_NAME,e,zh.getSchema()),t)}static getSchema(){return{type:"object",required:["url","openid_configuration_path","scope","client_id","client_secret"],properties:{url:{type:"string",pattern:Wh},openid_configuration_path:{type:"string",minLength:1},scope:{type:"string",minLength:1},client_id:{type:"string",minLength:1},client_secret:{type:"string",minLength:1}}}}static validateUrl(e){if("string"!=typeof e)throw new TypeError("The url should be a string.");let t;try{t=new URL(e)}catch(e){throw new Error("The url should be a valid url.")}if("https:"!==t.protocol)throw new Error("The url protocol should be HTTPS.")}static get ENTITY_NAME(){return"ADFSSsoSettings"}static get PROVIDER_ID(){return"adfs"}}const Bh=zh;class Gh{constructor(e={}){this.url=e?.url,this.openid_configuration_path=e?.openid_configuration_path,this.scope=e?.scope,this.client_id=e?.client_id,this.client_secret=e?.client_secret,e?.id&&(this.id=e.id)}get provider(){return Bh.PROVIDER_ID}static getSchema(){const e=Bh.getSchema();return{type:"object",required:["url","openid_configuration_path","scope","client_id","client_secret"],properties:{id:{type:"string",format:"uuid"},url:e.properties.url,openid_configuration_path:e.properties.openid_configuration_path,scope:e.properties.scope,client_id:e.properties.client_id,client_secret:e.properties.client_secret}}}static isDataDifferent(e,t){return["url","openid_configuration_path","scope","client_id","client_secret"].some((s=>e[s]!==t[s]))}isDataDifferent(e){return!(e instanceof Gh)||Gh.isDataDifferent(this,e)}toDto(){return{id:this.id,provider:this.provider,url:this.url,openid_configuration_path:this.openid_configuration_path,scope:this.scope,client_id:this.client_id,client_secret:this.client_secret}}cloneWithMutation(e,t){const s=this.toDto();return s[e]=t,new Gh(s)}validate(){const e=Gh.getSchema();try{se.validate(this.constructor.name,this,e)}catch(e){if(!(e instanceof Y))throw e;return e}return new Y}static fromEntityDto(e){const t=e.data,s={id:e?.id,url:t.url,openid_configuration_path:t.openid_configuration_path,scope:t.scope,client_id:t.client_id,client_secret:t.client_secret};return new Gh(s)}toEntityDto(){return{provider:this.provider,data:{url:this.url,openid_configuration_path:this.openid_configuration_path,scope:this.scope,client_id:this.client_id,client_secret:this.client_secret}}}}const Kh=Gh;function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},$h.apply(null,arguments)}const Zh=a.createContext({ssoConfig:null,canDeleteSettings:()=>{},isProcessing:()=>{},loadSsoConfiguration:()=>{},getSsoConfiguration:()=>{},getProviderList:()=>{},isSsoConfigActivated:()=>{},isDataReady:()=>{},save:()=>{},disableSso:()=>{},hasFormChanged:()=>{},validateData:()=>{},saveAndTestConfiguration:()=>{},openTestDialog:()=>{},handleError:()=>{},getErrors:()=>{},deleteSettings:()=>{},showDeleteConfirmationDialog:()=>{}});class Yh extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.isSsoConfigExisting=!1,this.shouldFocusOnError=!1}get defaultState(){return{ssoConfig:null,providers:[],errors:null,originalConfig:null,cachedSsoConfig:{},isLoaded:!1,processing:!1,hasBeenValidated:!1,hasFormChanged:this.hasFormChanged.bind(this),isProcessing:this.isProcessing.bind(this),isDataReady:this.isDataReady.bind(this),loadSsoConfiguration:this.loadSsoConfiguration.bind(this),getSsoConfiguration:this.getSsoConfiguration.bind(this),getProviderList:this.getProviderList.bind(this),isSsoConfigActivated:this.isSsoConfigActivated.bind(this),changeProvider:this.changeProvider.bind(this),disableSso:this.disableSso.bind(this),setValue:this.setValue.bind(this),validateData:this.validateData.bind(this),saveAndTestConfiguration:this.saveAndTestConfiguration.bind(this),handleError:this.handleError.bind(this),getErrors:this.getErrors.bind(this),deleteSettings:this.deleteSettings.bind(this),canDeleteSettings:this.canDeleteSettings.bind(this),showDeleteConfirmationDialog:this.showDeleteConfirmationDialog.bind(this),consumeFocusOnError:this.consumeFocusOnError.bind(this)}}bindCallbacks(){this.handleTestConfigCloseDialog=this.handleTestConfigCloseDialog.bind(this),this.handleSettingsActivation=this.handleSettingsActivation.bind(this)}async loadSsoConfiguration(){let e=null;try{e=await this.props.context.port.request("passbolt.sso.get-current")}catch(e){return void this.props.dialogContext.open(we,{error:e})}this.isSsoConfigExisting=Boolean(e.provider);const t=this.getSsoProviderViewModel(e);this.setState({ssoConfig:t,originalConfig:t,providers:e.providers,isLoaded:!0})}getSsoProviderViewModel(e){if(!e?.provider)return null;switch(e.provider){case Dh.PROVIDER_ID:return Ph.fromEntityDto(e);case Hh.PROVIDER_ID:return jh.fromEntityDto(e);case Uh.PROVIDER_ID:return Lh.fromEntityDto(e);case Bh.PROVIDER_ID:return Kh.fromEntityDto(e)}return null}getSsoConfiguration(){return this.state.ssoConfig}getProviderList(){return this.state.providers}getSsoConfigurationDto(){return this.state.ssoConfig.toEntityDto()}isSsoConfigActivated(){return Boolean(this.state.ssoConfig)}hasFormChanged(){return this.state.isDataModified}setValue(e,t){const s=this.state.ssoConfig.cloneWithMutation(e,t),a=!!this.state.originalConfig&&this.state.originalConfig.isDataDifferent(s);this.setState({ssoConfig:s,isDataModified:a},(()=>{this.state.hasBeenValidated&&this.validateData()}))}disableSso(){const e=this.state.cachedSsoConfig;e[this.state.ssoConfig.provider]=this.state.ssoConfig,this.setState({ssoConfig:null,cachedSsoConfig:e})}isDataReady(){return this.state.isLoaded}isProcessing(){return this.state.processing}changeProvider(e){if(e.disabled)return;const t=this.state.cachedSsoConfig,s=this.state.ssoConfig?.provider;s&&(t[s]=this.state.ssoConfig),this.setState({ssoConfig:this.getCachedSsoConfigOrDefault(e.id),cachedSsoConfig:t},(()=>{this.state.hasBeenValidated&&this.validateData()}))}getCachedSsoConfigOrDefault(e){if(this.state.cachedSsoConfig[e])return this.state.cachedSsoConfig[e];const t=yh.find((t=>t.id===e)),s={id:this.state.ssoConfig?.id,provider:e,data:t.defaultConfig};return this.getSsoProviderViewModel(s)}validateData(e=!1){const t=this.state.ssoConfig.validate(),s=t.hasErrors(),a=s?t:null;return this.setState({errors:a,hasBeenValidated:!0}),this.shouldFocusOnError=e&&s,!s}consumeFocusOnError(){const e=this.shouldFocusOnError;return this.shouldFocusOnError=!1,e}getErrors(){return this.state.errors}async saveAndTestConfiguration(){this.setState({processing:!0});const e=this.getSsoConfigurationDto();let t;try{t=await this.props.context.port.request("passbolt.sso.save-draft",e)}catch(e){return this.handleError(e),void this.setState({processing:!1})}await this.runTestConfig(t);const s=this.getSsoProviderViewModel(t);this.setState({ssoConfig:s})}canDeleteSettings(){return this.isSsoConfigExisting&&null===this.state.ssoConfig}showDeleteConfirmationDialog(){this.props.dialogContext.open(Nh)}async deleteSettings(){this.setState({processing:!0});try{const e=this.state.originalConfig.id;await this.props.context.port.request("passbolt.sso.delete-settings",e),this.props.actionFeedbackContext.displaySuccess(this.props.t("The SSO settings have been deleted successfully")),this.isSsoConfigExisting=!1,this.setState({ssoConfig:null,originalConfig:null,processing:!1})}catch(e){this.handleError(e),this.setState({processing:!1})}}async runTestConfig(e){const t=yh.find((t=>t.id===e.provider));this.props.dialogContext.open(xh,{provider:t,configurationId:e.id,handleClose:this.handleTestConfigCloseDialog,onSuccessfulSettingsActivation:this.handleSettingsActivation})}handleTestConfigCloseDialog(){this.setState({processing:!1})}handleSettingsActivation(){this.isSsoConfigExisting=!0,this.setState({originalConfig:this.state.ssoConfig})}handleError(e){console.error(e),this.props.dialogContext.open(we,{error:e})}render(){return a.createElement(Zh.Provider,{value:this.state},this.props.children)}}Yh.propTypes={context:l().any,children:l().any,accountRecoveryContext:l().object,dialogContext:l().object,actionFeedbackContext:l().object,t:l().func};const Jh=h(_e(k((0,w.CI)("common")(Yh))));function Xh(e){return class extends a.Component{render(){return a.createElement(Zh.Consumer,null,(t=>a.createElement(e,$h({adminSsoContext:t},this.props))))}}}class Qh extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleSaveClick=this.handleSaveClick.bind(this)}async handleSaveClick(){const e=this.props.adminSsoContext;e.canDeleteSettings()?e.showDeleteConfirmationDialog():e.validateData(!0)&&await e.saveAndTestConfiguration()}isSaveEnabled(){return Boolean(this.props.adminSsoContext.ssoConfig?.provider)||this.props.adminSsoContext.canDeleteSettings()}render(){return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isSaveEnabled(),onClick:this.handleSaveClick},a.createElement(ge,{name:"save"}),a.createElement("span",null,a.createElement(w.x6,null,"Save settings")))))))}}Qh.propTypes={adminSsoContext:l().object};const em=Xh((0,w.CI)("common")(Qh));class tm extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{advancedSettingsOpened:!1}}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handleCopyRedirectUrl=this.handleCopyRedirectUrl.bind(this),this.handleAdvancedSettingsCLick=this.handleAdvancedSettingsCLick.bind(this)}createRefs(){this.clientIdInputRef=a.createRef(),this.tenantIdInputRef=a.createRef(),this.clientSecretInputRef=a.createRef(),this.clientSecretExpiryInputRef=a.createRef()}componentDidUpdate(){if(!this.props.adminSsoContext.consumeFocusOnError())return;const e=this.props.adminSsoContext.getErrors();switch(this.getFirstFieldInError(e,["client_id","tenant_id","client_secret","client_secret_expiry"])){case"client_id":this.clientIdInputRef.current.focus();break;case"tenant_id":this.tenantIdInputRef.current.focus();break;case"client_secret":this.clientSecretInputRef.current.focus();break;case"client_secret_expiry":this.clientSecretExpiryInputRef.current.focus()}}getFirstFieldInError(e,t){for(let s=0;s<t.length;s++){const a=t[s];if(e.hasError(a))return a}return null}handleInputChange(e){const t=e.target,s="checkbox"===t.type?t.checked:t.value,a=t.name;this.props.adminSsoContext.setValue(a,s)}handleAdvancedSettingsCLick(){this.setState({advancedSettingsOpened:!this.state.advancedSettingsOpened})}async handleCopyRedirectUrl(){await navigator.clipboard.writeText(this.fullRedirectUrl),await this.props.actionFeedbackContext.displaySuccess(this.translate("The redirection URL has been copied to the clipboard."))}hasAllInputDisabled(){return this.props.adminSsoContext.isProcessing()}displayErrors(e){return Object.values(e)}get availableUrlList(){return Dh.SUPPORTED_URLS.map((e=>({value:e,label:e})))}get emailClaimList(){return[{value:"email",label:this.translate("Email")},{value:"preferred_username",label:this.translate("Preferred username")},{value:"upn",label:this.translate("UPN")}]}get promptOptionList(){return[{value:"login",label:this.translate("Login")},{value:"none",label:this.translate("None")}]}get fullRedirectUrl(){return`${this.props.context.userSettings.getTrustedDomain()}/sso/azure/redirect`}get translate(){return this.props.t}render(){const e=this.props.adminSsoContext,t=e.getSsoConfiguration(),s=e.getErrors();return a.createElement(a.Fragment,null,a.createElement("div",{className:"select-wrapper input required "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",{htmlFor:"sso-azure-url-input"},a.createElement(w.x6,null,"Login URL")),a.createElement(gs,{id:"sso-azure-url-input",name:"url",items:this.availableUrlList,value:t.url,onChange:this.handleInputChange}),a.createElement("p",null,a.createElement(w.x6,null,"The Azure AD authentication endpoint. See ",a.createElement("a",{href:"https://learn.microsoft.com/en-us/azure/active-directory/develop/authentication-national-cloud#azure-ad-authentication-endpoints",rel:"noopener noreferrer",target:"_blank"},"alternatives"),"."))),a.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Redirect URL")),a.createElement("div",{className:"button-inline"},a.createElement("input",{id:"sso-redirect-url-input",type:"text",className:"fluid form-element disabled",name:"redirect_url",value:this.fullRedirectUrl,placeholder:this.translate("Redirect URL"),readOnly:!0,disabled:!0}),a.createElement("button",{type:"button",onClick:this.handleCopyRedirectUrl,className:"copy-to-clipboard button-icon"},a.createElement(ge,{name:"copy-to-clipboard"}))),a.createElement("p",null,a.createElement(w.x6,null,"The URL to provide to Azure when registering the application."))),a.createElement("hr",null),a.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Application (client) ID")),a.createElement("input",{id:"sso-azure-client-id-input",type:"text",className:"fluid form-element",name:"client_id",ref:this.clientIdInputRef,value:t.client_id,onChange:this.handleInputChange,placeholder:this.translate("Application (client) ID"),disabled:this.hasAllInputDisabled()}),s?.hasError("client_id")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("client_id"))),a.createElement("p",null,a.createElement(w.x6,null,"The public identifier for the app in Azure in UUID format.")," ",a.createElement("a",{href:"https://learn.microsoft.com/en-us/azure/healthcare-apis/register-application#application-id-client-id",rel:"noopener noreferrer",target:"_blank"},a.createElement(w.x6,null,"Where to find it?")))),a.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Directory (tenant) ID")),a.createElement("input",{id:"sso-azure-tenant-id-input",type:"text",className:"fluid form-element",name:"tenant_id",ref:this.tenantIdInputRef,value:t.tenant_id,onChange:this.handleInputChange,placeholder:this.translate("Directory ID"),disabled:this.hasAllInputDisabled()}),s?.hasError("tenant_id")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("tenant_id"))),a.createElement("p",null,a.createElement(w.x6,null,"The Azure Active Directory tenant ID, in UUID format.")," ",a.createElement("a",{href:"https://learn.microsoft.com/en-gb/azure/active-directory/fundamentals/active-directory-how-to-find-tenant",rel:"noopener noreferrer",target:"_blank"},a.createElement(w.x6,null,"Where to find it?")))),a.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Secret")),a.createElement(ma,{id:"sso-azure-secret-input",className:"fluid form-element",onChange:this.handleInputChange,autoComplete:"off",name:"client_secret",placeholder:this.translate("Secret"),disabled:this.hasAllInputDisabled(),value:t.client_secret,preview:!0,inputRef:this.clientSecretInputRef}),s?.hasError("client_secret")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("client_secret"))),a.createElement("p",null,a.createElement(w.x6,null,"Allows Azure and Passbolt API to securely share information.")," ",a.createElement("a",{href:"https://learn.microsoft.com/en-us/azure/marketplace/create-or-update-client-ids-and-secrets#add-a-client-id-and-client-secret",rel:"noopener noreferrer",target:"_blank"},a.createElement(w.x6,null,"Where to find it?")))),a.createElement("div",{className:"input text date-wrapper required "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Secret expiry")),a.createElement("div",{className:"button-inline"},a.createElement("input",{id:"sso-azure-secret-expiry-input",type:"date",className:"fluid form-element "+(t.client_secret_expiry?"":"empty"),name:"client_secret_expiry",ref:this.clientSecretExpiryInputRef,value:t.client_secret_expiry||"",onChange:this.handleInputChange,disabled:this.hasAllInputDisabled()}),a.createElement(ge,{name:"calendar"})),s?.hasError("client_secret_expiry")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("client_secret_expiry")))),a.createElement("div",{className:"warning message"},a.createElement(w.x6,null,a.createElement("b",null,"Warning"),": This secret will expire after some time (typically a few months). Make sure you save the expiry date and rotate it on time.")),a.createElement("div",null,a.createElement("div",{className:"accordion operation-details "+(this.state.advancedSettingsOpened?"":"closed")},a.createElement("div",{className:"accordion-header",onClick:this.handleAdvancedSettingsCLick},a.createElement("button",{type:"button",className:"link no-border",id:"advanced-settings-panel-button"},a.createElement(w.x6,null,"Advanced settings"),"",a.createElement(ge,{name:this.state.advancedSettingsOpened?"caret-down":"caret-right"}))))),this.state.advancedSettingsOpened&&a.createElement(a.Fragment,null,a.createElement("div",{className:"select-wrapper input required "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",{htmlFor:"email-claim-input"},a.createElement(w.x6,null,"Email claim")),a.createElement(gs,{id:"email-claim-input",name:"email_claim",items:this.emailClaimList,value:t.email_claim,onChange:this.handleInputChange}),a.createElement("p",null,a.createElement(w.x6,null,"Defines which Azure field needs to be used as Passbolt username."))),"upn"===t.email_claim&&a.createElement("div",{className:"warning message"},a.createElement(w.x6,null,a.createElement("b",null,"Warning"),": UPN is not active by default on Azure and requires a specific option set on Azure to be working.")),a.createElement("div",{className:"select-wrapper input required "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",{htmlFor:"prompt-input"},a.createElement(w.x6,null,"Prompt")),a.createElement(gs,{id:"prompt-input",name:"prompt",items:this.promptOptionList,value:t.prompt,onChange:this.handleInputChange}),a.createElement("p",null,a.createElement(w.x6,null,"Defines the Azure login behaviour by prompting the user to fully login each time or not.")))))}}tm.propTypes={adminSsoContext:l().object,actionFeedbackContext:l().any,context:l().any,t:l().func};const sm=h(_e(Xh((0,w.CI)("common")(tm))));class am extends a.PureComponent{constructor(e){super(e),this.bindCallbacks(),this.createRefs()}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handleCopyRedirectUrl=this.handleCopyRedirectUrl.bind(this)}createRefs(){this.clientIdInputRef=a.createRef(),this.clientSecretInputRef=a.createRef()}componentDidUpdate(){if(!this.props.adminSsoContext.consumeFocusOnError())return;const e=this.props.adminSsoContext.getErrors();switch(this.getFirstFieldInError(e,["client_id","client_secret"])){case"client_id":this.clientIdInputRef.current.focus();break;case"client_secret":this.clientSecretInputRef.current.focus()}}getFirstFieldInError(e,t){for(let s=0;s<t.length;s++){const a=t[s];if(e.hasError(a))return a}return null}handleInputChange(e){const t=e.target,s="checkbox"===t.type?t.checked:t.value,a=t.name;this.props.adminSsoContext.setValue(a,s)}async handleCopyRedirectUrl(){await navigator.clipboard.writeText(this.fullRedirectUrl),await this.props.actionFeedbackContext.displaySuccess(this.translate("The redirection URL has been copied to the clipboard."))}hasAllInputDisabled(){return this.props.adminSsoContext.isProcessing()}displayErrors(e){return Object.values(e)}get fullRedirectUrl(){return`${this.props.context.userSettings.getTrustedDomain()}/sso/google/redirect`}get translate(){return this.props.t}render(){const e=this.props.adminSsoContext,t=e.getSsoConfiguration(),s=e.getErrors();return a.createElement(a.Fragment,null,a.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Redirect URL")),a.createElement("div",{className:"button-inline"},a.createElement("input",{id:"sso-redirect-url-input",type:"text",className:"fluid form-element disabled",name:"redirect_url",value:this.fullRedirectUrl,placeholder:this.translate("Redirect URL"),readOnly:!0,disabled:!0}),a.createElement("a",{onClick:this.handleCopyRedirectUrl,className:"copy-to-clipboard button button-icon"},a.createElement(ge,{name:"copy-to-clipboard"}))),a.createElement("p",null,a.createElement(w.x6,null,"The URL to provide to Google when registering the application."))),a.createElement("hr",null),a.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Application (client) ID")),a.createElement("input",{id:"sso-google-client-id-input",type:"text",className:"fluid form-element",name:"client_id",ref:this.clientIdInputRef,value:t.client_id,onChange:this.handleInputChange,placeholder:this.translate("Application (client) ID"),disabled:this.hasAllInputDisabled()}),s?.hasError("client_id")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("client_id"))),a.createElement("p",null,a.createElement(w.x6,null,"The public identifier for the app in Google in UUID format.")," ",a.createElement("a",{href:"https://developers.google.com/identity/openid-connect/openid-connect#authenticationuriparameters",rel:"noopener noreferrer",target:"_blank"},a.createElement(w.x6,null,"Where to find it?")))),a.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Secret")),a.createElement(ma,{id:"sso-google-secret-input",className:"fluid form-element",onChange:this.handleInputChange,autoComplete:"off",name:"client_secret",placeholder:this.translate("Secret"),disabled:this.hasAllInputDisabled(),value:t.client_secret,preview:!0,inputRef:this.clientSecretInputRef}),s?.hasError("client_secret")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("client_secret"))),a.createElement("p",null,a.createElement(w.x6,null,"Allows Google and Passbolt API to securely share information.")," ",a.createElement("a",{href:"https://developers.google.com/identity/openid-connect/openid-connect#authenticationuriparameters",rel:"noopener noreferrer",target:"_blank"},a.createElement(w.x6,null,"Where to find it?")))))}}am.propTypes={adminSsoContext:l().object,actionFeedbackContext:l().any,context:l().any,t:l().func};const nm=h(_e(Xh((0,w.CI)("common")(am))));class rm extends a.Component{constructor(e){super(e),this.bindCallbacks(),this.createRefs()}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handleCopyRedirectUrl=this.handleCopyRedirectUrl.bind(this)}createRefs(){this.urlInputRef=a.createRef(),this.clientIdInputRef=a.createRef(),this.clientSecretInputRef=a.createRef(),this.openIdConfigurationPathInputRef=a.createRef(),this.scopeInputRef=a.createRef()}componentDidUpdate(){if(!this.props.adminSsoContext.consumeFocusOnError())return;const e=this.props.adminSsoContext.getErrors();switch(this.getFirstFieldInError(e,["url","openid_configuration_path","scope","client_id","client_secret"])){case"url":this.urlInputRef.current.focus();break;case"openid_configuration_path":this.openIdConfigurationPathInputRef.current.focus();break;case"scope":this.scopeInputRef.current.focus();break;case"client_id":this.clientIdInputRef.current.focus();break;case"client_secret":this.clientSecretInputRef.current.focus()}}getFirstFieldInError(e,t){for(let s=0;s<t.length;s++){const a=t[s];if(e.hasError(a))return a}return null}handleInputChange(e){const t=e.target,s="checkbox"===t.type?t.checked:t.value,a=t.name;this.props.adminSsoContext.setValue(a,s)}async handleCopyRedirectUrl(){await navigator.clipboard.writeText(this.fullRedirectUrl),await this.props.actionFeedbackContext.displaySuccess(this.translate("The redirection URL has been copied to the clipboard."))}hasAllInputDisabled(){return this.props.adminSsoContext.isProcessing()}displayErrors(e){return Object.values(e)}get fullRedirectUrl(){return`${this.props.context.userSettings.getTrustedDomain()}/sso/oauth2/redirect`}get translate(){return this.props.t}render(){const e=this.props.adminSsoContext,t=e.getSsoConfiguration(),s=e.getErrors();return a.createElement(a.Fragment,null,a.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Login URL")),a.createElement("input",{id:"sso-oauth2-url-input",type:"text",className:"fluid form-element",name:"url",ref:this.urlInputRef,value:t.url,onChange:this.handleInputChange,placeholder:this.translate("Login URL"),disabled:this.hasAllInputDisabled()}),s?.hasError("url")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("url"))),a.createElement("p",null,a.createElement(w.x6,null,"The OAuth2 authentication endpoint."))),a.createElement("hr",null),a.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Redirect URL")),a.createElement("div",{className:"button-inline"},a.createElement("input",{id:"sso-redirect-url-input",type:"text",className:"fluid form-element disabled",name:"redirect_url",value:this.fullRedirectUrl,placeholder:this.translate("Redirect URL"),readOnly:!0,disabled:!0}),a.createElement("a",{onClick:this.handleCopyRedirectUrl,className:"copy-to-clipboard button button-icon"},a.createElement(ge,{name:"copy-to-clipboard"}))),a.createElement("p",null,a.createElement(w.x6,null,"The URL to provide to the OAuth2 platform when registering the application."))),a.createElement("hr",null),a.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"OpenId Configuration Path")),a.createElement("input",{id:"sso-oauth2-openid-configuration-path-input",type:"text",className:"fluid form-element",name:"openid_configuration_path",ref:this.openIdConfigurationPathInputRef,value:t.openid_configuration_path,onChange:this.handleInputChange,placeholder:this.translate("OpenId Configuration Path"),disabled:this.hasAllInputDisabled()}),s?.hasError("openid_configuration_path")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("openid_configuration_path"))),a.createElement("p",null,a.createElement(w.x6,null,"The OpenId configuration relative path from the given login url."))),a.createElement("hr",null),a.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Scope")),a.createElement("input",{id:"sso-oauth2-scope-input",type:"text",className:"fluid form-element",name:"scope",ref:this.scopeInputRef,value:t.scope,onChange:this.handleInputChange,placeholder:this.translate("Scope"),disabled:this.hasAllInputDisabled()}),s?.hasError("scope")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("scope"))),a.createElement("p",null,a.createElement(w.x6,null,"The OpenId scope."))),a.createElement("hr",null),a.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Application (client) ID")),a.createElement("input",{id:"sso-oauth2-client-id-input",type:"text",className:"fluid form-element",name:"client_id",ref:this.clientIdInputRef,value:t.client_id,onChange:this.handleInputChange,placeholder:this.translate("Application (client) ID"),disabled:this.hasAllInputDisabled()}),s?.hasError("client_id")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("client_id"))),a.createElement("p",null,a.createElement(w.x6,null,"The public identifier for the OpenId app."))),a.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Secret")),a.createElement(ma,{id:"sso-oauth2-secret-input",className:"fluid form-element",onChange:this.handleInputChange,autoComplete:"off",name:"client_secret",placeholder:this.translate("Secret"),disabled:this.hasAllInputDisabled(),value:t.client_secret,preview:!0,inputRef:this.clientSecretInputRef}),s?.hasError("client_secret")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("client_secret"))),a.createElement("p",null,a.createElement(w.x6,null,"Allows your OAuth2 provider and Passbolt API to securely share information."))))}}rm.propTypes={adminSsoContext:l().object,actionFeedbackContext:l().any,context:l().any,t:l().func};const im=h(_e(Xh((0,w.CI)("common")(rm))));class om extends a.Component{constructor(e){super(e),this.bindCallbacks(),this.createRefs()}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handleCopyRedirectUrl=this.handleCopyRedirectUrl.bind(this)}createRefs(){this.urlInputRef=a.createRef(),this.clientIdInputRef=a.createRef(),this.clientSecretInputRef=a.createRef(),this.openIdConfigurationPathInputRef=a.createRef(),this.scopeInputRef=a.createRef()}componentDidUpdate(){if(!this.props.adminSsoContext.consumeFocusOnError())return;const e=this.props.adminSsoContext.getErrors();switch(this.getFirstFieldInError(e,["url","openid_configuration_path","scope","client_id","client_secret"])){case"url":this.urlInputRef.current.focus();break;case"openid_configuration_path":this.openIdConfigurationPathInputRef.current.focus();break;case"scope":this.scopeInputRef.current.focus();break;case"client_id":this.clientIdInputRef.current.focus();break;case"client_secret":this.clientSecretInputRef.current.focus()}}getFirstFieldInError(e,t){for(let s=0;s<t.length;s++){const a=t[s];if(e.hasError(a))return a}return null}handleInputChange(e){const{value:t,name:s}=e.target;this.props.adminSsoContext.setValue(s,t)}async handleCopyRedirectUrl(){await navigator.clipboard.writeText(this.fullRedirectUrl),await this.props.actionFeedbackContext.displaySuccess(this.translate("The redirection URL has been copied to the clipboard."))}hasAllInputDisabled(){return this.props.adminSsoContext.isProcessing()}displayErrors(e){return Object.values(e)}get fullRedirectUrl(){return`${this.props.context.userSettings.getTrustedDomain()}/sso/adfs/redirect`}get translate(){return this.props.t}render(){const e=this.props.adminSsoContext,t=e.getSsoConfiguration(),s=e.getErrors();return a.createElement(a.Fragment,null,a.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Login URL")),a.createElement("input",{id:"sso-adfs-url-input",type:"text",className:"fluid form-element",name:"url",ref:this.urlInputRef,value:t.url,onChange:this.handleInputChange,placeholder:this.translate("Login URL"),disabled:this.hasAllInputDisabled()}),s?.hasError("url")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("url"))),a.createElement("p",null,a.createElement(w.x6,null,"The AD FS authentication endpoint."))),a.createElement("hr",null),a.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Redirect URL")),a.createElement("div",{className:"button-inline"},a.createElement("input",{id:"sso-redirect-url-input",type:"text",className:"fluid form-element disabled",name:"redirect_url",value:this.fullRedirectUrl,placeholder:this.translate("Redirect URL"),readOnly:!0,disabled:!0}),a.createElement("a",{onClick:this.handleCopyRedirectUrl,className:"copy-to-clipboard button button-icon"},a.createElement(ge,{name:"copy-to-clipboard"}))),a.createElement("p",null,a.createElement(w.x6,null,"The URL to provide to the AD FS platform when registering the application."))),a.createElement("hr",null),a.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"OpenId Configuration Path")),a.createElement("input",{id:"sso-adfs-openid-configuration-path-input",type:"text",className:"fluid form-element",name:"openid_configuration_path",ref:this.openIdConfigurationPathInputRef,value:t.openid_configuration_path,onChange:this.handleInputChange,placeholder:this.translate("OpenId Configuration Path"),disabled:this.hasAllInputDisabled()}),s?.hasError("openid_configuration_path")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("openid_configuration_path"))),a.createElement("p",null,a.createElement(w.x6,null,"The AD FS configuration relative path from the given login url."))),a.createElement("hr",null),a.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Scope")),a.createElement("input",{id:"sso-adfs-scope-input",type:"text",className:"fluid form-element",name:"scope",ref:this.scopeInputRef,value:t.scope,onChange:this.handleInputChange,placeholder:this.translate("Scope"),disabled:this.hasAllInputDisabled()}),s?.hasError("scope")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("scope"))),a.createElement("p",null,a.createElement(w.x6,null,"The AD FS scope."))),a.createElement("hr",null),a.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Application (client) ID")),a.createElement("input",{id:"sso-adfs-client-id-input",type:"text",className:"fluid form-element",name:"client_id",ref:this.clientIdInputRef,value:t.client_id,onChange:this.handleInputChange,placeholder:this.translate("Application (client) ID"),disabled:this.hasAllInputDisabled()}),s?.hasError("client_id")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("client_id"))),a.createElement("p",null,a.createElement(w.x6,null,"The public identifier for the AD FS app."))),a.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",null,a.createElement(w.x6,null,"Secret")),a.createElement(ma,{id:"sso-adfs-secret-input",className:"fluid form-element",onChange:this.handleInputChange,autoComplete:"off",name:"client_secret",placeholder:this.translate("Secret"),disabled:this.hasAllInputDisabled(),value:t.client_secret,preview:!0,inputRef:this.clientSecretInputRef}),s?.hasError("client_secret")&&a.createElement("div",{className:"error-message"},this.displayErrors(s.getError("client_secret"))),a.createElement("p",null,a.createElement(w.x6,null,"Allows your AD FS provider and Passbolt API to securely share information."))))}}om.propTypes={adminSsoContext:l().object,actionFeedbackContext:l().any,context:l().any,t:l().func};const lm=h(_e(Xh((0,w.CI)("common")(om))));class cm extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{loading:!0,providers:[]}}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(em),await this.props.adminSsoContext.loadSsoConfiguration(),this.setState({loading:!1,providers:this.props.adminSsoContext.getProviderList()||[]})}bindCallbacks(){this.handleProviderInputChange=this.handleProviderInputChange.bind(this),this.handleSsoSettingToggle=this.handleSsoSettingToggle.bind(this)}handleProviderInputChange(e){this.props.adminSsoContext.changeProvider({id:e.target.value})}handleSsoSettingToggle(){this.props.adminSsoContext.isSsoConfigActivated()&&this.props.adminSsoContext.disableSso()}hasAllInputDisabled(){return this.props.adminSsoContext.isProcessing()||this.state.loading}get allSsoProviders(){const e=this.state.providers;return yh.map((t=>{const s={...t};return s.disabled=Boolean(s.disabled)||!e.includes(s.id),s})).filter((e=>!e.disabled||e.disabled&&!e?.hiddenIfDisabled))}get supportedSsoProviders(){const e=this.state.providers,t=[];return e.forEach((e=>{const s=yh.find((t=>t.id===e));s&&!s.disabled&&t.push({value:s.id,label:s.name})})),t}isReady(){return this.props.adminSsoContext.isDataReady()}render(){const e=this.props.adminSsoContext,t=e.getSsoConfiguration(),s=e.isSsoConfigActivated();return a.createElement("div",{className:"row"},a.createElement("div",{className:"third-party-provider-settings sso-settings col8 main-column"},a.createElement("h3",null,a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"ssoToggle",onChange:this.handleSsoSettingToggle,checked:s,disabled:this.hasAllInputDisabled(),id:"ssoToggle"}),a.createElement("label",{htmlFor:"ssoToggle"},a.createElement(w.x6,null,"Single Sign-On")))),this.props.adminSsoContext.hasFormChanged()&&a.createElement("div",{className:"warning message",id:"sso-setting-overridden-banner"},a.createElement("p",null,a.createElement(w.x6,null,"Warning, Don't forget to save your settings to apply your modification."))),this.isReady()&&!s&&a.createElement(a.Fragment,null,a.createElement("h4",{className:"no-border"},a.createElement(w.x6,null,"Select a provider")),a.createElement("div",{className:"provider-list"},this.allSsoProviders.map((e=>a.createElement("div",{key:e.id,className:"provider button "+(e.disabled?"disabled":""),id:e.id,onClick:()=>this.props.adminSsoContext.changeProvider(e)},a.createElement("div",{className:"provider-logo"},e.icon),a.createElement("p",{className:"provider-name"},e.name,a.createElement("br",null),e.disabled&&a.createElement(w.x6,null,"(not yet available)"))))))),this.isReady()&&s&&a.createElement("form",{className:"form"},a.createElement("div",{className:"select-wrapper input"},a.createElement("label",{htmlFor:"sso-provider-input"},a.createElement(w.x6,null,"Single Sign-On provider")),a.createElement(gs,{id:"sso-provider-input",name:"provider",items:this.supportedSsoProviders,value:t?.provider,onChange:this.handleProviderInputChange})),a.createElement("hr",null),t?.provider===Dh.PROVIDER_ID&&a.createElement(sm,null),t?.provider===Hh.PROVIDER_ID&&a.createElement(nm,null),t?.provider===Uh.PROVIDER_ID&&a.createElement(im,null),t?.provider===Bh.PROVIDER_ID&&a.createElement(lm,null))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help warning message",id:"sso-setting-security-warning-banner"},a.createElement("h3",null,a.createElement(w.x6,null,"Important notice:")),a.createElement("p",null,a.createElement(w.x6,null,"Enabling SSO changes the security risks.")," ",a.createElement(w.x6,null,"For example an attacker with a local machine access maybe be able to access secrets, if the user is still logged in with the Identity provider.")," ",a.createElement(w.x6,null,"Make sure users follow screen lock best practices."),a.createElement("a",{href:"https://passbolt.com/docs/admin/authentication/sso/",target:"_blank",rel:"noopener noreferrer"},a.createElement(w.x6,null,"Learn more")))),a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Need some help?")),a.createElement("p",null,a.createElement(w.x6,null,"For more information about SSO, checkout the dedicated page on the help website.")),a.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/authentication/sso/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation")))),t?.provider===Dh.PROVIDER_ID&&a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"How do I configure a AzureAD SSO?")),a.createElement("a",{className:"button",href:"https://docs.microsoft.com/en-us/azure/active-directory/manage-apps/add-application-portal-setup-sso",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"external-link"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation")))),t?.provider===Hh.PROVIDER_ID&&a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"How do I configure a Google SSO?")),a.createElement("a",{className:"button",href:"https://developers.google.com/identity/openid-connect/openid-connect",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"external-link"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation")))),t?.provider===Bh.PROVIDER_ID&&a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"How do I configure an AD FS SSO?")),a.createElement("a",{className:"button",href:"https://learn.microsoft.com/en-gb/microsoft-365/troubleshoot/active-directory/set-up-adfs-for-single-sign-on",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"external-link"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation"))))))}}cm.propTypes={administrationWorkspaceContext:l().object,adminSsoContext:l().object,actionFeedbackContext:l().any,context:l().any,t:l().func};const dm=h(_e(Ro(Xh((0,w.CI)("common")(cm))))),hm=class{constructor(e={remember_me_for_a_month:!1}){this.policy=e.policy,this.rememberMeForAMonth=e.remember_me_for_a_month}},mm=class{constructor(e={rememberMeForAMonth:!1}){this.policy=e.policy||"opt-in",this.remember_me_for_a_month=e.rememberMeForAMonth}};function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},pm.apply(null,arguments)}const um=a.createContext({getCurrentSettings:()=>{},getSettings:()=>{},setSettings:()=>{},hasSettingsChanges:()=>{},findSettings:()=>{},setProcessing:()=>{},isProcessing:()=>{},clearContext:()=>{},save:()=>{}});class gm extends a.Component{constructor(e){super(e),this.state=this.defaultState;const t=e.context.getApiClientOptions();this.mfaPolicyService=new Ya(t)}get defaultState(){return{settings:new hm,currentSettings:new hm,processing:!0,getCurrentSettings:this.getCurrentSettings.bind(this),getSettings:this.getSettings.bind(this),setSettings:this.setSettings.bind(this),findSettings:this.findSettings.bind(this),hasSettingsChanges:this.hasSettingsChanges.bind(this),isProcessing:this.isProcessing.bind(this),setProcessing:this.setProcessing.bind(this),clearContext:this.clearContext.bind(this),save:this.save.bind(this)}}async findSettings(e=()=>{}){this.setProcessing(!0);const t=await this.mfaPolicyService.find(),s=new hm(t);this.setState({currentSettings:s}),this.setState({settings:s},e),this.setProcessing(!1)}async save(){this.setProcessing(!0);const e=new mm(this.state.settings);await this.mfaPolicyService.save(e),await this.findSettings()}getCurrentSettings(){return this.state.currentSettings}getSettings(){return this.state.settings}setSettings(e,t,s=()=>{}){const a=Object.assign({},this.state.settings,{[e]:t});this.setState({settings:a},s)}isProcessing(){return this.state.processing}setProcessing(e){this.setState({processing:e})}hasSettingsChanges(){return JSON.stringify(this.state.currentSettings)!==JSON.stringify(this.state.settings)}clearContext(){const{currentSettings:e,settings:t,processing:s}=this.defaultState;this.setState({currentSettings:e,settings:t,processing:s})}render(){return a.createElement(um.Provider,{value:this.state},this.props.children)}}function Cm(e){return class extends a.Component{render(){return a.createElement(um.Consumer,null,(t=>a.createElement(e,pm({adminMfaPolicyContext:t},this.props))))}}}gm.propTypes={context:l().any,children:l().any,t:l().any,actionFeedbackContext:l().object},h(gm);class bm extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleSave=this.handleSave.bind(this)}isSaveEnabled(){return!this.props.adminMfaPolicyContext.isProcessing()}async handleSave(){if(this.isSaveEnabled())try{await this.props.adminMfaPolicyContext.save(),this.handleSaveSuccess()}catch(e){this.handleSaveError(e)}finally{this.props.adminMfaPolicyContext.setProcessing(!1)}}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The MFA policy settings were updated."))}async handleSaveError(e){"UserAbortsOperationError"!==e.name&&(console.error(e),await this.props.actionFeedbackContext.displayError(e.message))}render(){return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isSaveEnabled(),id:"save-settings",onClick:this.handleSave},a.createElement(ge,{name:"save"}),a.createElement("span",null,a.createElement(w.x6,null,"Save settings")))))))}}bm.propTypes={adminMfaPolicyContext:l().object,actionFeedbackContext:l().object,t:l().func};const Em=Cm(_e((0,w.CI)("common")(bm)));class fm extends a.Component{constructor(e){super(e),this.bindCallbacks()}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(Em),await this.findSettings()}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminMfaPolicyContext.clearContext()}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this)}async findSettings(){await this.props.adminMfaPolicyContext.findSettings()}async handleInputChange(e){const t=e.target.name;let s=e.target.value;"rememberMeForAMonth"===t&&(s=e.target.checked),this.props.adminMfaPolicyContext.setSettings(t,s)}hasAllInputDisabled(){return this.props.adminMfaPolicyContext.isProcessing()}render(){const e=this.props.adminMfaPolicyContext.getSettings();return a.createElement("div",{className:"row"},a.createElement("div",{className:"mfa-policy-settings col8 main-column"},a.createElement("h3",{id:"mfa-policy-settings-title"},a.createElement(w.x6,null,"MFA Policy")),this.props.adminMfaPolicyContext.hasSettingsChanges()&&a.createElement("div",{className:"warning message",id:"mfa-policy-setting-banner"},a.createElement("p",null,a.createElement(w.x6,null,"Don't forget to save your settings to apply your modification."))),a.createElement("form",{className:"form"},a.createElement("h4",{className:"no-border",id:"mfa-policy-subtitle"},a.createElement(w.x6,null,"Default users multi factor authentication policy")),a.createElement("p",{id:"mfa-policy-description"},a.createElement(w.x6,null,"You can choose the default behaviour of multi factor authentication for all users.")),a.createElement("div",{className:"radiolist-alt"},a.createElement("div",{className:"input radio "+("mandatory"===e?.policy?"checked":""),id:"mfa-policy-mandatory"},a.createElement("input",{type:"radio",value:"mandatory",onChange:this.handleInputChange,name:"policy",checked:"mandatory"===e?.policy,id:"mfa-policy-mandatory-radio",disabled:this.hasAllInputDisabled()}),a.createElement("label",{htmlFor:"mfa-policy-mandatory-radio"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Prompt")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"Users have to enable multi factor authentication. If they don't, they will be reminded every time they log in.")))),a.createElement("div",{className:"input radio "+("opt-in"===e?.policy?"checked":""),id:"mfa-policy-opt-in"},a.createElement("input",{type:"radio",value:"opt-in",onChange:this.handleInputChange,name:"policy",checked:"opt-in"===e?.policy,id:"mfa-policy-opt-in-radio",disabled:this.hasAllInputDisabled()}),a.createElement("label",{htmlFor:"mfa-policy-opt-in-radio"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Opt-in (default)")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"Users have the choice to enable multi factor authentication in their profile workspace."))))),a.createElement("h4",{id:"mfa-policy-remember-subtitle"},"Remember a device for a month"),a.createElement("span",{className:"input toggle-switch form-element "},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"rememberMeForAMonth",onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),checked:e?.rememberMeForAMonth,id:"remember-toggle-button"}),a.createElement("label",{htmlFor:"remember-toggle-button"},a.createElement(w.x6,null,"Allow Remember this device for a month. option during MFA."))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Need some help?")),a.createElement("p",null,a.createElement(w.x6,null,"For more information about MFA policy settings, checkout the dedicated page on the help website.")),a.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/authentication/mfa-policy",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"life-ring"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation"))))))}}fm.propTypes={context:l().object,administrationWorkspaceContext:l().object,adminMfaPolicyContext:l().object,t:l().func};const ym=h(Ro(Cm((0,w.CI)("common")(fm)))),vm=class{constructor(e,t){e.setResourceName(t),this.apiClient=new $a(e)}formatContainOptions(e,t){const s={};for(const a in e){if("string"!=typeof a){const t=JSON.stringify(e);throw new TypeError(`Invalid contain ${t}, items should be a string.`)}t.includes(a)&&(s[`contain[${a}]`]=e[a]?"1":"0")}return s}formatFilterOptions(e,t){const s={};for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t.includes(a))if("boolean"==typeof e[a])s[`filter[${a}]`]=e[a]?"1":"0";else if("string"==typeof e[a])s[`filter[${a}]`]=e[a];else{if(!Array.isArray(e[a]))throw new TypeError("Service error. Filter option should be an array or a string.");s[`filter[${a}][]`]=e[a]}return s}formatOrderOptions(e,t){const s={};for(const a in e)t.includes(a)&&(s["order[]"]=a);return s}assertValidId(e){if(!e||"string"!=typeof e||!X().isUUID(e))throw new TypeError(`Service error. The id '${e}' is not a valid uuid.`)}assertNonEmptyData(e){if(!e)throw new TypeError("Service error. Data cannot be empty.")}};class km extends vm{constructor(e){super(e,km.RESOURCE_NAME)}static get RESOURCE_NAME(){return"/rbacs"}static getSupportedContainOptions(){return["action","ui_action"]}async findAll(e){const t=e?this.formatContainOptions(e,km.getSupportedContainOptions()):null;return(await this.apiClient.findAll(t)).body}async updateAll(e,t={}){const s=t?this.formatContainOptions(t,km.getSupportedContainOptions()):null;return(await this.apiClient.updateAll(e,s)).body}}const wm=km;class xm extends vm{constructor(e){super(e,xm.RESOURCE_NAME)}static get RESOURCE_NAME(){return"roles"}async findAll(){const e=await this.apiClient.findAll();return e.body&&e.body.length?e.body:[]}}const Sm=xm;function Nm(){return Nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Nm.apply(null,arguments)}const Rm=a.createContext({processing:!1,rbacs:null,rbacsUpdated:{},setRbacs:()=>{},setRbacsUpdated:()=>{},save:()=>{},isProcessing:()=>{},hasSettingsChanges:()=>{},clearContext:()=>{}});class Im extends a.Component{constructor(e){super(e),this.state=this.defaultState;const t=e.context.getApiClientOptions();this.rbacService=new wm(t),this.roleService=new Sm(t)}get defaultState(){return{processing:!1,rbacs:null,rbacsUpdated:new sl([]),setRbacs:this.setRbacs.bind(this),setRbacsUpdated:this.setRbacsUpdated.bind(this),isProcessing:this.isProcessing.bind(this),hasSettingsChanges:this.hasSettingsChanges.bind(this),save:this.save.bind(this),clearContext:this.clearContext.bind(this)}}async setRbacs(e){this.setState({rbacs:e})}async setRbacsUpdated(e){this.setState({rbacsUpdated:e})}isProcessing(){return this.state.processing}setProcessing(e){this.setState({processing:e})}hasSettingsChanges(){return this.state.rbacsUpdated.rbacs.length>0}clearContext(){const{rbacs:e,rbacsUpdated:t,processing:s}=this.defaultState;this.setState({rbacs:e,rbacsUpdated:t,processing:s})}async save(){this.setProcessing(!0);try{const e=this.state.rbacsUpdated.toBulkUpdateDto(),t=await this.rbacService.updateAll(e,{ui_action:!0,action:!0}),s=this.state.rbacs;t.forEach((e=>s.addOrReplace(new el(e))));const a=new sl([]);this.setState({rbacs:s,rbacsUpdated:a})}finally{this.setProcessing(!1)}}render(){return a.createElement(Rm.Provider,{value:this.state},this.props.children)}}function _m(e){return class extends a.Component{render(){return a.createElement(Rm.Consumer,null,(t=>a.createElement(e,Nm({adminRbacContext:t},this.props))))}}}Im.propTypes={context:l().any,children:l().any},h(Im);class Dm extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleSaveClick=this.handleSaveClick.bind(this)}async handleSaveClick(){try{await this.props.adminRbacContext.save(),this.handleSaveSuccess()}catch(e){this.handleSaveError(e)}}isSaveEnabled(){return!this.props.adminRbacContext.isProcessing()&&this.props.adminRbacContext.hasSettingsChanges()}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The role-based access control settings were updated."))}async handleSaveError(e){console.error(e),await this.props.actionFeedbackContext.displayError(e.message)}render(){return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isSaveEnabled(),onClick:this.handleSaveClick},a.createElement(ge,{name:"save"}),a.createElement("span",null,a.createElement(w.x6,null,"Save settings")))))))}}Dm.propTypes={context:l().object,adminRbacContext:l().object,actionFeedbackContext:l().object,t:l().func};const Tm=_m(_e((0,w.CI)("common")(Dm)));class Pm extends a.Component{render(){return a.createElement(a.Fragment,null,a.createElement("div",{className:`flex-container inner level-${this.props.level}`},a.createElement("div",{className:"flex-item first border-right"},a.createElement("span",null,a.createElement(ge,{name:"caret-down",baseline:!0}),"",this.props.label)),a.createElement("div",{className:"flex-item border-right"},""),a.createElement("div",{className:"flex-item"},"")),this.props.children)}}Pm.propTypes={label:l().string,level:l().number,t:l().func,children:l().any};const Am=(0,w.CI)("common")(Pm);class Mm extends a.Component{constructor(e){super(e),this.handleInputChange=this.handleInputChange.bind(this)}handleInputChange(e,t){this.props.onChange(t,this.props.actionName,e.target.value)}get allowedCtlFunctions(){const e=[{value:j,label:this.props.t("Allow")},{value:W,label:this.props.t("Deny")}];return this.props.actionName===F&&e.push({value:z,label:this.props.t("Allow group manager")}),e}get rowClassName(){return this.props.actionName.toLowerCase().replaceAll(/[^\w]/gi,"-")}getCtlFunctionForRole(e){const t=this.props.rbacsUpdated?.findRbacByRoleAndUiActionName(e,this.props.actionName)||this.props.rbacs?.findRbacByRoleAndUiActionName(e,this.props.actionName);return t?.controlFunction||null}hasChanged(){return!!this.props.rbacsUpdated.findRbacByActionName(this.props.actionName)}render(){let e=[];return this.props.roles&&(e=this.props.roles.items.filter((e=>"user"===e.name))),a.createElement(a.Fragment,null,a.createElement("div",{className:`rbac-row ${this.rowClassName} flex-container inner level-${this.props.level} ${this.hasChanged()?"highlighted":""}`},a.createElement("div",{className:"flex-item first border-right"},a.createElement("span",null,this.props.label)),a.createElement("div",{className:"flex-item border-right"},a.createElement(gs,{className:"medium admin",items:this.allowedCtlFunctions,value:j,disabled:!0})),e.map((e=>a.createElement("div",{key:`${this.props.actionName}-${e.id}`,className:"flex-item input"},a.createElement(gs,{className:`${e.name}`,items:this.allowedCtlFunctions,value:this.getCtlFunctionForRole(e),disabled:!(this.props.rbacs?.length>0&&this.getCtlFunctionForRole(e)),onChange:t=>this.handleInputChange(t,e)}),!this.getCtlFunctionForRole(e)&&a.createElement("div",{className:"warning-message"},"There is no valid setting found for this action."))))))}}Mm.propTypes={label:l().string.isRequired,level:l().number.isRequired,actionName:l().string.isRequired,rbacs:l().object,rbacsUpdated:l().object,roles:l().object.isRequired,onChange:l().func.isRequired,t:l().func};const Um=(0,w.CI)("common")(Mm);class Fm extends Je{constructor(e,t={}){super(se.validate(Fm.ENTITY_NAME,e,Fm.getSchema()),t),this._props.forEach((e=>{this.push(new oe(e,{clone:!1}))})),this._props=null}static getSchema(){return{type:"array",items:oe.getSchema()}}get roles(){return this._items}get ids(){return this._items.map((e=>e.id))}assertUniqueId(e){if(!e.id)return;const t=this.roles.length;let s=0;for(;s<t;s++){const t=this.roles[s];if(t.id&&t.id===e.id)throw new Ze(s,Fm.RULE_UNIQUE_ID,`Role id ${e.id} already exists.`)}}push(e){if(!e||"object"!=typeof e)throw new TypeError("RolesCollection push parameter should be an object.");e instanceof oe&&(e=e.toDto());const t=new oe(e);this.assertUniqueId(t),super.push(t)}static get ENTITY_NAME(){return"Roles"}static get RULE_UNIQUE_ID(){return"unique_id"}}const Lm=Fm;class Om extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{roles:null}}bindCallbacks(){this.updateRbacControlFunction=this.updateRbacControlFunction.bind(this)}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(Tm),this.findAndLoadRoles(this.props.RoleService),this.findAndLoadRbacSettings(this.props.RbacService)}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminRbacContext.clearContext()}async findAndLoadRoles(){const e=this.props.context.getApiClientOptions(),t=new this.props.RoleService(e),s=await t.findAll(),a=new Lm(s);this.setState({roles:a})}async findAndLoadRbacSettings(){const e=this.props.context.getApiClientOptions(),t=new this.props.RbacService(e),s=await t.findAll({ui_action:!0}),a=new sl(s,!0);this.props.adminRbacContext.setRbacs(a)}updateRbacControlFunction(e,t,s){const a=this.props.adminRbacContext.rbacsUpdated,n=this.props.adminRbacContext.rbacs.findRbacByRoleAndUiActionName(e,t);if(n.controlFunction===s)a.remove(n);else{const e=new el(n.toDto({ui_action:!0,action:!0}));e.controlFunction=s,a.addOrReplace(e)}this.props.adminRbacContext.setRbacsUpdated(a)}get canIUseTags(){return this.props.context.siteSettings.canIUse("tags")}get canIUseDesktop(){return this.props.context.siteSettings.canIUse("desktop")}get canIUseMobile(){return this.props.context.siteSettings.canIUse("mobile")}get canIUseFolders(){return this.props.context.siteSettings.canIUse("folders")}get canIUsePreviewPassword(){return this.props.context.siteSettings.canIUse("previewPassword")}get canIUseExport(){return this.props.context.siteSettings.canIUse("export")}get canIUseImport(){return this.props.context.siteSettings.canIUse("import")}get isReady(){return null!==this.state.roles}render(){return a.createElement("div",{className:"row"},a.createElement("div",{className:"rbac-settings col8 main-column"},a.createElement("h3",null,a.createElement(w.x6,null,"Role-Based Access Control")),a.createElement("p",null,a.createElement(w.x6,null,"In this section you can define access controls for each user role.")),a.createElement("form",{className:"form"},a.createElement("div",{className:"flex-container outer"},a.createElement("div",{className:"flex-container inner header"},a.createElement("div",{className:"flex-item first border-right"},a.createElement("label",null,a.createElement(w.x6,null,"UI Permissions"))),a.createElement("div",{className:"flex-item border-right centered"},a.createElement("label",null,a.createElement(w.x6,null,"Admin"))),a.createElement("div",{className:"flex-item centered"},a.createElement("label",null,a.createElement(w.x6,null,"User")))),this.isReady&&a.createElement(a.Fragment,null,a.createElement(Am,{label:this.props.t("Resources"),level:1},(this.canIUseImport||this.canIUseExport)&&a.createElement(Am,{label:this.props.t("Import/Export"),level:2},this.canIUseImport&&a.createElement(Um,{label:this.props.t("Can import"),actionName:I,level:3,rbacs:this.props.adminRbacContext.rbacs,rbacsUpdated:this.props.adminRbacContext.rbacsUpdated,roles:this.state.roles,onChange:this.updateRbacControlFunction}),this.canIUseExport&&a.createElement(Um,{label:this.props.t("Can export"),actionName:_,level:3,rbacs:this.props.adminRbacContext.rbacs,rbacsUpdated:this.props.adminRbacContext.rbacsUpdated,roles:this.state.roles,onChange:this.updateRbacControlFunction})),a.createElement(Am,{label:this.props.t("Password"),level:2},this.canIUsePreviewPassword&&a.createElement(Um,{label:this.props.t("Can preview"),actionName:P,level:3,rbacs:this.props.adminRbacContext.rbacs,rbacsUpdated:this.props.adminRbacContext.rbacsUpdated,roles:this.state.roles,onChange:this.updateRbacControlFunction}),a.createElement(Um,{label:this.props.t("Can copy"),actionName:A,level:3,rbacs:this.props.adminRbacContext.rbacs,rbacsUpdated:this.props.adminRbacContext.rbacsUpdated,roles:this.state.roles,onChange:this.updateRbacControlFunction})),a.createElement(Am,{label:this.props.t("Metadata"),level:2},a.createElement(Um,{label:this.props.t("Can see password activities"),actionName:D,level:3,rbacs:this.props.adminRbacContext.rbacs,rbacsUpdated:this.props.adminRbacContext.rbacsUpdated,roles:this.state.roles,onChange:this.updateRbacControlFunction}),a.createElement(Um,{label:this.props.t("Can see password comments"),actionName:T,level:3,rbacs:this.props.adminRbacContext.rbacs,rbacsUpdated:this.props.adminRbacContext.rbacsUpdated,roles:this.state.roles,onChange:this.updateRbacControlFunction})),(this.canIUseFolders||this.canIUseTags)&&a.createElement(Am,{label:this.props.t("Organization"),level:2},this.canIUseFolders&&a.createElement(Um,{label:this.props.t("Can use folders"),actionName:R,level:3,rbacs:this.props.adminRbacContext.rbacs,rbacsUpdated:this.props.adminRbacContext.rbacsUpdated,roles:this.state.roles,onChange:this.updateRbacControlFunction}),this.canIUseTags&&a.createElement(Um,{label:this.props.t("Can use tags"),actionName:U,level:3,rbacs:this.props.adminRbacContext.rbacs,rbacsUpdated:this.props.adminRbacContext.rbacsUpdated,roles:this.state.roles,onChange:this.updateRbacControlFunction})),a.createElement(Am,{label:this.props.t("Sharing"),level:2},a.createElement(Um,{label:this.props.t("Can see with whom passwords are shared with"),actionName:M,level:3,rbacs:this.props.adminRbacContext.rbacs,rbacsUpdated:this.props.adminRbacContext.rbacsUpdated,roles:this.state.roles,onChange:this.updateRbacControlFunction}),a.createElement(Um,{label:this.props.t("Can share folders"),actionName:q,level:3,rbacs:this.props.adminRbacContext.rbacs,rbacsUpdated:this.props.adminRbacContext.rbacsUpdated,roles:this.state.roles,onChange:this.updateRbacControlFunction}))),a.createElement(Am,{label:this.props.t("Users"),level:1},a.createElement(Um,{label:this.props.t("Can see users workspace"),actionName:F,level:3,rbacs:this.props.adminRbacContext.rbacs,rbacsUpdated:this.props.adminRbacContext.rbacsUpdated,roles:this.state.roles,onChange:this.updateRbacControlFunction})),(this.canIUseMobile||this.canIUseDesktop)&&a.createElement(Am,{label:this.props.t("User settings"),level:1},this.canIUseMobile&&a.createElement(Um,{label:this.props.t("Can see mobile setup"),actionName:L,level:3,rbacs:this.props.adminRbacContext.rbacs,rbacsUpdated:this.props.adminRbacContext.rbacsUpdated,roles:this.state.roles,onChange:this.updateRbacControlFunction}),this.canIUseDesktop&&a.createElement(Um,{label:this.props.t("Can see desktop application setup"),actionName:O,level:3,rbacs:this.props.adminRbacContext.rbacs,rbacsUpdated:this.props.adminRbacContext.rbacsUpdated,roles:this.state.roles,onChange:this.updateRbacControlFunction})))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Need help?")),a.createElement("p",null,a.createElement(w.x6,null,"Check out the Role Based Access Control documentation.")),a.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/role-based-access-control/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Read RBAC doc"))))))}}Om.defaultProps={RoleService:Sm,RbacService:wm},Om.propTypes={context:l().object,administrationWorkspaceContext:l().object,adminRbacContext:l().object,RoleService:l().func,RbacService:l().func,t:l().func};const Vm=h(_m(Ro((0,w.CI)("common")(Om)))),Hm=class{constructor(e={}){this.default_generator=e.provider,this.external_dictionary_check=e.policyPassphraseExternalServices,this.password_generator_settings={length:e.passwordLength,mask_upper:e.mask_upper,mask_lower:e.mask_lower,mask_digit:e.mask_digit,mask_parenthesis:e.mask_parenthesis,mask_char1:e.mask_char1,mask_char2:e.mask_char2,mask_char3:e.mask_char3,mask_char4:e.mask_char4,mask_char5:e.mask_char5,mask_emoji:e.mask_emoji,exclude_look_alike_chars:e.excludeLookAlikeCharacters},this.passphrase_generator_settings={words:e.wordsCount,word_separator:e.wordsSeparator,word_case:e.wordCase},this.source=e.source}},qm=class{constructor(e={}){this.provider="passphrase"===e?.default_generator?"passphrase":"password",this.policyPassphraseExternalServices=Boolean(e?.external_dictionary_check),this.source=e?.source??"default";const t=e?.password_generator_settings;this.passwordLength=t?.length??18,this.mask_upper=t?.mask_upper??!1,this.mask_lower=t?.mask_lower??!1,this.mask_digit=t?.mask_digit??!1,this.mask_parenthesis=t?.mask_parenthesis??!1,this.mask_char1=t?.mask_char1??!1,this.mask_char2=t?.mask_char2??!1,this.mask_char3=t?.mask_char3??!1,this.mask_char4=t?.mask_char4??!1,this.mask_char5=t?.mask_char5??!1,this.mask_emoji=t?.mask_emoji??!1,this.excludeLookAlikeCharacters=t?.exclude_look_alike_chars??!1;const s=e?.passphrase_generator_settings;this.wordsCount=s?.words??9,this.wordsSeparator=s?.word_separator??" ",this.wordCase=s?.word_case??"lowercase"}};function jm(){return jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},jm.apply(null,arguments)}const Wm=a.createContext({getSettings:()=>{},getSettingsErrors:()=>{},setSettings:()=>{},hasSettingsChanges:()=>{},findSettings:()=>{},setProcessing:()=>{},isProcessing:()=>{},isDataValid:()=>{},clearContext:()=>{},save:()=>{},validateData:()=>{},getPasswordGeneratorMasks:()=>{},getEntropyForPassphraseConfiguration:()=>{},getEntropyForPasswordConfiguration:()=>{},getMinimalRequiredEntropy:()=>{},getMinimalAdvisedEntropy:()=>{},isSourceChanging:()=>{}});class zm extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.hasDataBeenValidated=!1}get defaultState(){return{settings:new qm,errors:{},currentSettings:new qm,processing:!0,getSettings:this.getSettings.bind(this),getSettingsErrors:this.getSettingsErrors.bind(this),setSettings:this.setSettings.bind(this),findSettings:this.findSettings.bind(this),hasSettingsChanges:this.hasSettingsChanges.bind(this),isProcessing:this.isProcessing.bind(this),setProcessing:this.setProcessing.bind(this),clearContext:this.clearContext.bind(this),save:this.save.bind(this),validateData:this.validateData.bind(this),getPasswordGeneratorMasks:this.getPasswordGeneratorMasks.bind(this),getEntropyForPassphraseConfiguration:this.getEntropyForPassphraseConfiguration.bind(this),getEntropyForPasswordConfiguration:this.getEntropyForPasswordConfiguration.bind(this),getMinimalRequiredEntropy:this.getMinimalRequiredEntropy.bind(this),getMinimalAdvisedEntropy:this.getMinimalAdvisedEntropy.bind(this),isSourceChanging:this.isSourceChanging.bind(this)}}async findSettings(e=()=>{}){this.setProcessing(!0);const t=await this.props.context.port.request("passbolt.password-policies.get-admin-settings"),s=new qm(t);this.setState({currentSettings:s,settings:s},e),this.setProcessing(!1)}validateData(){this.hasDataBeenValidated=!0;let e=!0;const t={},s=this.state.settings;s.mask_upper||s.mask_lower||s.mask_digit||s.mask_parenthesis||s.mask_char1||s.mask_char2||s.mask_char3||s.mask_char4||s.mask_char5||s.mask_emoji||(e=!1,t.masks=this.props.t("At least 1 set of characters must be selected")),s.passwordLength<8&&(e=!1,t.passwordLength=this.props.t("The password length must be set to 8 at least")),s.wordsCount<4&&(e=!1,t.wordsCount=this.props.t("The passphrase word count must be set to 4 at least")),s.wordsSeparator.length>10&&(e=!1,t.wordsSeparator=this.props.t("The words separator should be at a maximum of 10 characters long"));const a=this.getMinimalRequiredEntropy();return this.getEntropyForPassphraseConfiguration()<a&&(e=!1,t.passphraseMinimalRequiredEntropy=this.props.t("The passphrase generator will not generate strong enough passphrase. Minimum of {{minimum}}bits is required",{minimum:a})),this.getEntropyForPasswordConfiguration()<a&&(e=!1,t.passwordMinimalRequiredEntropy=this.props.t("The password generator will not generate strong enough password. Minimum of {{minimum}}bits is required",{minimum:a})),this.setState({errors:t}),e}getEntropyForPassphraseConfiguration(){const e=this.getSettings();return Gr.entropyPassphrase(e.wordsCount,e.wordsSeparator)}getEntropyForPasswordConfiguration(){const e=new Hm(this.getSettings()).password_generator_settings;return Gr.evaluateMaxPasswordEntropy(e)}getPasswordGeneratorMasks(){return Wr}getMinimalRequiredEntropy(){return 80}getMinimalAdvisedEntropy(){return 112}async save(){this.setProcessing(!0);try{const e=new Hm(this.state.settings),t=await this.props.context.port.request("passbolt.password-policies.save",e),s=new qm(t);this.setState({currentSettings:s,settings:s})}finally{this.setProcessing(!1)}}getSettings(){return this.state.settings}getSettingsErrors(){return this.state.errors}setSettings(e,t){const s=Object.assign({},this.state.settings,{[e]:t});this.setState({settings:s},(()=>{this.hasDataBeenValidated&&this.validateData()}))}isProcessing(){return this.state.processing}setProcessing(e){this.setState({processing:e})}hasSettingsChanges(){return JSON.stringify(this.state.currentSettings)!==JSON.stringify(this.state.settings)}isSourceChanging(){return"db"!==this.state.currentSettings?.source&&"default"!==this.state.currentSettings?.source}clearContext(){const{currentSettings:e,settings:t,processing:s}=this.defaultState;this.setState({currentSettings:e,settings:t,processing:s})}render(){return a.createElement(Wm.Provider,{value:this.state},this.props.children)}}zm.propTypes={context:l().any,children:l().any,t:l().any,actionFeedbackContext:l().object};const Bm=h((0,w.CI)("common")(zm));function Gm(e){return class extends a.Component{render(){return a.createElement(Wm.Consumer,null,(t=>a.createElement(e,jm({adminPasswordPoliciesContext:t},this.props))))}}}class Km extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleSave=this.handleSave.bind(this)}get isActionEnabled(){return!this.props.adminPasswordPoliciesContext.isProcessing()}async handleSave(){if(this.isActionEnabled&&this.props.adminPasswordPoliciesContext.validateData())try{await this.props.adminPasswordPoliciesContext.save(),await this.handleSaveSuccess()}catch(e){await this.handleSaveError(e)}}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The password policy settings were updated."))}async handleSaveError(e){console.error(e),await this.props.actionFeedbackContext.displayError(e.message)}render(){const e=!this.isActionEnabled;return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",disabled:e,id:"save-settings",onClick:this.handleSave},a.createElement(ge,{name:"save"}),a.createElement("span",null,a.createElement(w.x6,null,"Save settings")))))))}}Km.propTypes={adminPasswordPoliciesContext:l().object,actionFeedbackContext:l().object,t:l().func};const $m=Gm(_e((0,w.CI)("common")(Km))),Zm={COLOR_1:Ym("#A40000"),COLOR_2:Ym("#FFA724"),COLOR_3:Ym("#0EAA00")};function Ym(e){const t=new RegExp("^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$","i").exec(e.trim());return t?{red:parseInt(t[1],16),green:parseInt(t[2],16),blue:parseInt(t[3],16)}:null}class Jm extends a.Component{get entropy(){return(this.props.entropy||0).toFixed(1)}get tooltipMessage(){return a.createElement(a.Fragment,null,a.createElement(w.x6,null,"Entropy:")," ",this.entropy," bits")}get passwordStrengthLabel(){if(!this.hasEntropy()&&!this.hasError())return a.createElement(w.x6,null,"Quality");const e=Gr.strength(this.props.entropy);return a.createElement(a.Fragment,null,e.label)}hasEntropy(){return null!==this.props.entropy&&void 0!==this.props.entropy}hasError(){return this.props.error}getProgresseBarStyle(){const e=this.getRelativeEntropyPosition();return{width:`${e}%`,backgroundColor:this.colorGradient(e)}}colorGradient(e){let t,s,a=e/100*2;return a>=1?(a-=1,t=Zm.COLOR_2,s=Zm.COLOR_3):(t=Zm.COLOR_1,s=Zm.COLOR_2),`rgb(${Math.floor(t.red+(s.red-t.red)*a)},${Math.floor(t.green+(s.green-t.green)*a)},${Math.floor(t.blue+(s.blue-t.blue)*a)})`}getRelativeEntropyPosition(){return 100-99/(1+Math.pow(this.props.entropy/90,10))}render(){return a.createElement("div",{className:"password-complexity"},a.createElement("span",{className:"complexity-text"},a.createElement(fe,{message:this.tooltipMessage},this.passwordStrengthLabel," ",a.createElement(ge,{name:"info-circle"}))),a.createElement("span",{className:"progress"},a.createElement("span",{className:"progress-bar background"}),a.createElement("span",{className:"progress-bar foreground "+(this.hasError()?"error":""),style:this.hasEntropy()?this.getProgresseBarStyle(this.props.entropy):null})))}}Jm.defaultProps={entropy:null},Jm.propTypes={entropy:l().number,error:l().bool};const Xm=(0,w.CI)("common")(Jm);class Qm extends a.Component{constructor(e){super(e),this.state={showPasswordSection:!1,showPassphraseSection:!1},this.bindCallbacks()}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction($m),await this.props.adminPasswordPoliciesContext.findSettings()}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminPasswordPoliciesContext.clearContext()}bindCallbacks(){this.handleCheckboxInputChange=this.handleCheckboxInputChange.bind(this),this.handleMaskToggled=this.handleMaskToggled.bind(this),this.handlePasswordSectionToggle=this.handlePasswordSectionToggle.bind(this),this.handlePassphraseSectionToggle=this.handlePassphraseSectionToggle.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleSliderInputChange=this.handleSliderInputChange.bind(this),this.handleLengthChange=this.handleLengthChange.bind(this)}handlePasswordSectionToggle(){this.setState({showPasswordSection:!this.state.showPasswordSection})}handlePassphraseSectionToggle(){this.setState({showPassphraseSection:!this.state.showPassphraseSection})}get wordCaseList(){return[{value:"lowercase",label:this.props.t("Lower case")},{value:"uppercase",label:this.props.t("Upper case")},{value:"camelcase",label:this.props.t("Camel case")}]}get providerList(){return[{value:"password",label:this.props.t("Password")},{value:"passphrase",label:this.props.t("Passphrase")}]}handleCheckboxInputChange(e){const t=e.target.name;this.props.adminPasswordPoliciesContext.setSettings(t,e.target.checked)}handleSliderInputChange(e){const t=parseInt(e.target.value,10),s=e.target.name;this.props.adminPasswordPoliciesContext.setSettings(s,t)}handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.props.adminPasswordPoliciesContext.setSettings(a,s)}handleLengthChange(e){const t=e.target,s=parseInt(t.value,10),a=t.name;this.props.adminPasswordPoliciesContext.setSettings(a,s)}handleMaskToggled(e){const t=!this.props.adminPasswordPoliciesContext.getSettings()[e];this.props.adminPasswordPoliciesContext.setSettings(e,t)}hasAllInputDisabled(){return this.props.adminPasswordPoliciesContext.isProcessing()}get settingsSource(){return this.props.adminPasswordPoliciesContext?.getSettings()?.source}get configurationSource(){return{legacyEnv:this.props.t("environment variables (legacy)"),env:this.props.t("environment variables"),legacyFile:this.props.t("file (legacy)"),file:this.props.t("file"),db:this.props.t("database"),default:this.props.t("default configuration")}[this.settingsSource]||this.props.t("unknown")}render(){const e=this.props.adminPasswordPoliciesContext,t=e.getSettings(),s=e.getSettingsErrors(),n=e.getMinimalAdvisedEntropy(),r=e.getEntropyForPasswordConfiguration(),i=e.getEntropyForPassphraseConfiguration(),o=e.getPasswordGeneratorMasks(),l=r<n,c=i<n;return a.createElement("div",{className:"row"},a.createElement("div",{className:"password-policies-settings col8 main-column"},a.createElement("h3",{id:"password-policies-settings-title"},a.createElement(w.x6,null,"Password Policy")),e.isSourceChanging()&&a.createElement("div",{className:"warning message",id:"password-policies-setting-source-changing-banner"},a.createElement("p",null,a.createElement(w.x6,null,"The current configuration comes from a file or environment variables. If you save them, they will be overwritten and come from the database instead."))),e.hasSettingsChanges()&&a.createElement("div",{className:"warning message",id:"password-policies-setting-banner"},a.createElement("p",null,a.createElement(w.x6,null,"Don't forget to save your settings to apply your modification."))),l&&a.createElement("div",{className:"warning message",id:"minimal-password-entropy-advised-banner"},a.createElement("p",null,a.createElement(w.x6,null,"The current password configuration generates passwords that are not strong enough."),a.createElement("br",null),a.createElement(w.x6,null,"Passbolt recommends a minimum of ",{minimalAdvisedEntropy:n}," bits to be safe."))),c&&a.createElement("div",{className:"warning message",id:"minimal-passphrase-entropy-advised-banner"},a.createElement("p",null,a.createElement(w.x6,null,"The current passphrase configuration generates passphrases that are not strong enough."),a.createElement("br",null),a.createElement(w.x6,null,"Passbolt recommends a minimum of ",{minimalAdvisedEntropy:n}," bits to be safe."))),a.createElement("h4",{className:"title title--required no-border"},a.createElement(w.x6,null,"Password generator default settings")),a.createElement("p",null,a.createElement(w.x6,null,"You can modify the default settings of the passwords generator."),a.createElement(w.x6,null,"Note that this will not prevent a user from customizing the settings while generating a password.")),a.createElement("label",null,a.createElement(w.x6,null,"Default password type")),a.createElement("div",{className:"singleline"},a.createElement("span",null,a.createElement(w.x6,null,"The default type is"),""),a.createElement(gs,{id:"configure-passphrase-default-generator",name:"provider",className:"inline",items:this.providerList,value:t.provider,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled()})),a.createElement("hr",null),a.createElement("div",{className:"accordion-header"},a.createElement("button",{id:"accordion-toggle-password",className:"link no-border",type:"button",onClick:this.handlePasswordSectionToggle},a.createElement(ge,{name:this.state.showPasswordSection?"caret-down":"caret-right"}),a.createElement(w.x6,null,"Passwords settings"))),this.state.showPasswordSection&&a.createElement("div",{className:"passwords-settings"},a.createElement("div",{className:"estimated-entropy input"},a.createElement("label",null,a.createElement(w.x6,null,"Estimated entropy")),a.createElement(Xm,{entropy:r}),s.passwordMinimalRequiredEntropy&&a.createElement("div",{className:"error-message"},s.passwordMinimalRequiredEntropy)),a.createElement("div",{className:"input text "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",{htmlFor:"configure-password-generator-form-length"},a.createElement(w.x6,null,"Length")),a.createElement("div",{className:"slider"},a.createElement("input",{name:"passwordLength",min:"8",max:"128",value:t.passwordLength,step:"1",type:"range",onChange:this.handleSliderInputChange,disabled:this.hasAllInputDisabled()}),a.createElement("input",{id:"configure-password-generator-form-length",type:"number",name:"passwordLength",min:"8",max:"128",value:t.passwordLength,onChange:this.handleLengthChange,disabled:this.hasAllInputDisabled()})),s.passwordLength&&a.createElement("div",{id:"passwordLength-error",className:"error-message"},s.passwordLength)),a.createElement("p",null,a.createElement(w.x6,null,"You can set the default length for the passwords that are generated randomly by passbolt in the password generator.")),a.createElement("div",{className:"input text "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",{htmlFor:"configure-password-generator-form-masks"},a.createElement(w.x6,null,"Selected set of characters")),a.createElement("div",{className:"button-group button-group--nowrap"},Object.entries(o).map((([e,s])=>a.createElement("button",{key:e,className:"button button-toggle "+(t[e]?"selected":""),onClick:()=>this.handleMaskToggled(e),disabled:this.hasAllInputDisabled()},s.label)))),s.masks&&a.createElement("div",{id:"password-mask-error",className:"error-message"},s.masks),a.createElement("div",{className:"input checkbox"},a.createElement("input",{id:"configure-password-generator-form-exclude-look-alike",type:"checkbox",name:"excludeLookAlikeCharacters",checked:t.excludeLookAlikeCharacters,onChange:this.handleCheckboxInputChange,disabled:this.hasAllInputDisabled()}),a.createElement("label",{htmlFor:"configure-password-generator-form-exclude-look-alike"},a.createElement(w.x6,null,"Exclude look-alike characters"))),a.createElement("p",null,a.createElement(w.x6,null,"You can select the set of characters used for the passwords that are generated randomly by passbolt in the password generator.")))),a.createElement("div",{className:"accordion-header"},a.createElement("button",{id:"accordion-toggle-passphrase",className:"link no-border",type:"button",onClick:this.handlePassphraseSectionToggle},a.createElement(ge,{name:this.state.showPassphraseSection?"caret-down":"caret-right"}),a.createElement(w.x6,null,"Passphrase settings"))),this.state.showPassphraseSection&&a.createElement("div",{className:"passphrase-settings"},a.createElement("div",{className:"estimated-entropy input"},a.createElement("label",null,a.createElement(w.x6,null,"Estimated entropy")),a.createElement(Xm,{entropy:i}),s.passphraseMinimalRequiredEntropy&&a.createElement("div",{className:"error-message"},s.passphraseMinimalRequiredEntropy)),a.createElement("div",{className:"input text "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",{htmlFor:"configure-passphrase-generator-form-word-count"},a.createElement(w.x6,null,"Number of words")),a.createElement("div",{className:"slider"},a.createElement("input",{name:"wordsCount",min:"4",max:"40",value:t.wordsCount,type:"range",onChange:this.handleSliderInputChange,disabled:this.hasAllInputDisabled()}),a.createElement("input",{type:"number",id:"configure-passphrase-generator-form-word-count",name:"wordsCount",min:"4",max:"40",value:t.wordsCount,onChange:this.handleLengthChange,disabled:this.hasAllInputDisabled()})),s.wordsCount&&a.createElement("div",{id:"wordsCount-error",className:"error-message"},s.wordsCount)),a.createElement("p",null,a.createElement(w.x6,null,"You can set the default length for the passphrases that are generated randomly by passbolt in the password generator.")),a.createElement("div",{className:"input text "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",{htmlFor:"configure-passphrase-generator-form-words-separator"},a.createElement(w.x6,null,"Words separator")),a.createElement("input",{type:"text",id:"configure-passphrase-generator-form-words-separator",name:"wordsSeparator",value:t.wordsSeparator,onChange:this.handleInputChange,placeholder:this.props.t("Type one or more characters"),disabled:this.hasAllInputDisabled()}),s.wordsSeparator&&a.createElement("div",{className:"error-message"},s.wordsSeparator)),a.createElement("div",{className:"select-wrapper input "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",{htmlFor:"configure-passphrase-generator-form-words-case"},a.createElement(w.x6,null,"Words case")),a.createElement(gs,{id:"configure-passphrase-generator-form-words-case",name:"wordCase",items:this.wordCaseList,value:t.wordCase,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled()}))),a.createElement("h4",{id:"password-policies-external-services-subtitle"},a.createElement("span",{className:"input toggle-switch form-element ready"},a.createElement("input",{id:"passphrase-policy-external-services-toggle-button",type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"policyPassphraseExternalServices",onChange:this.handleCheckboxInputChange,checked:t?.policyPassphraseExternalServices,disabled:this.hasAllInputDisabled()}),a.createElement("label",{htmlFor:"passphrase-policy-external-services-toggle-button"},a.createElement(w.x6,null,"External services")))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement(w.x6,null,"Allow passbolt to access external services to check if a password has been compromised."))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help",id:"password-policies-source"},a.createElement("h3",null,a.createElement(w.x6,null,"Configuration source")),a.createElement("p",null,a.createElement(w.x6,null,"This current configuration source is: "),this.configurationSource,".")),a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"What is password policy?")),a.createElement("p",null,a.createElement(w.x6,null,"For more information about the password policy settings, checkout the dedicated page on the help website.")),a.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/password-configuration/password-policy/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"life-ring"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation"))))))}}Qm.propTypes={context:l().object,administrationWorkspaceContext:l().object,adminPasswordPoliciesContext:l().object,t:l().func};const ep=h(Ro(Gm((0,w.CI)("common")(Qm))));class tp extends ne{constructor(e,t={}){super(se.validate(tp.ENTITY_NAME,e,tp.getSchema()),t)}static getSchema(){return{type:"object",required:["entropy_minimum","external_dictionary_check"],properties:{id:{type:"string",format:"uuid"},entropy_minimum:{type:"integer",minimum:50,maximum:224},external_dictionary_check:{type:"boolean"},created:{type:"string",format:"date-time"},created_by:{type:"string",format:"uuid"},modified:{type:"string",format:"date-time"},modified_by:{type:"string",format:"uuid"}}}}static get ENTITY_NAME(){return"UserPassphrasePolicies"}static createFromDefault(e={}){const t=Object.assign({entropy_minimum:50,external_dictionary_check:!0},e);return new tp(t)}}const sp=tp;class ap{constructor(e={}){this.external_dictionary_check=e?.external_dictionary_check,this.entropy_minimum=e?.entropy_minimum}static getSchema(){const e=sp.getSchema();return{type:"object",required:["entropy_minimum","external_dictionary_check"],properties:{entropy_minimum:e.properties.entropy_minimum,external_dictionary_check:e.properties.external_dictionary_check}}}static fromEntityDto(e){const t={entropy_minimum:parseInt(e?.entropy_minimum,10)||50,external_dictionary_check:Boolean(e?.external_dictionary_check)};return new ap(t)}static isDataDifferent(e,t){return["entropy_minimum","external_dictionary_check"].some((s=>e[s]!==t[s]))}toEntityDto(){return{entropy_minimum:this.entropy_minimum,external_dictionary_check:this.external_dictionary_check}}cloneWithMutation(e,t){const s={...this,[e]:t};return new ap(s)}validate(){const e=ap.getSchema();try{se.validate(this.constructor.name,this,e)}catch(e){return e}return new Y}}const np=ap;function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},rp.apply(null,arguments)}const ip=a.createContext({getSettings:()=>{},setSettings:()=>{},findSettings:()=>{},isProcessing:()=>{},validateData:()=>{},save:()=>{},getErrors:()=>{},hasSettingsChanges:()=>{}});class op extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{processing:!1,errors:null,hasBeenValidated:!1,isDataModified:!1,settings:new np,findSettings:this.findSettings.bind(this),getSettings:this.getSettings.bind(this),setSettings:this.setSettings.bind(this),isProcessing:this.isProcessing.bind(this),validateData:this.validateData.bind(this),save:this.save.bind(this),getErrors:this.getErrors.bind(this),hasSettingsChanges:this.hasSettingsChanges.bind(this)}}async findSettings(){this.setState({processing:!0});const e=await this.props.context.port.request("passbolt.user-passphrase-policies.find"),t=np.fromEntityDto(e);this.setState({settings:t,currentSettings:t,processing:!1})}getSettings(){return this.state.settings}setSettings(e,t){const s=this.state.settings.cloneWithMutation(e,t),a=np.isDataDifferent(s,this.state.currentSettings);if(!this.state.hasBeenValidated)return void this.setState({settings:s,isDataModified:a});const n=s.validate();this.setState({errors:n,settings:s,isDataModified:a})}isProcessing(){return this.state.processing}validateData(){const e=this.state.settings.validate(),t=e.hasErrors(),s=t?e:null;return this.setState({errors:s,hasBeenValidated:!0}),!t}async save(){this.setState({processing:!0});try{const e=this.state.settings.toEntityDto(),t=await this.props.context.port.request("passbolt.user-passphrase-policies.save",e),s=np.fromEntityDto(t);this.setState({settings:s,currentSettings:s,processing:!1,isDataModified:!1})}finally{this.setState({processing:!1})}}getErrors(){return this.state.errors}hasSettingsChanges(){return this.state.isDataModified}render(){return a.createElement(ip.Provider,{value:this.state},this.props.children)}}op.propTypes={context:l().any,children:l().any,t:l().any};const lp=h((0,w.CI)("common")(op));function cp(e){return class extends a.Component{render(){return a.createElement(ip.Consumer,null,(t=>a.createElement(e,rp({adminUserPassphrasePoliciesContext:t},this.props))))}}}class dp extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleSave=this.handleSave.bind(this)}get isActionEnabled(){return!this.props.adminUserPassphrasePoliciesContext.isProcessing()}async handleSave(){if(this.isActionEnabled&&this.props.adminUserPassphrasePoliciesContext.validateData())try{await this.props.adminUserPassphrasePoliciesContext.save(),await this.handleSaveSuccess()}catch(e){await this.handleSaveError(e)}}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The user passphrase policies were updated."))}async handleSaveError(e){console.error(e),await this.props.actionFeedbackContext.displayError(e.message),this.props.dialogContext.open(we,{error:e})}render(){const e=!this.isActionEnabled;return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",disabled:e,id:"save-settings",onClick:this.handleSave},a.createElement(ge,{name:"save"}),a.createElement("span",null,a.createElement(w.x6,null,"Save settings")))))))}}dp.propTypes={adminUserPassphrasePoliciesContext:l().object,actionFeedbackContext:l().object,dialogContext:l().any,t:l().func};const hp=cp(_e(k((0,w.CI)("common")(dp))));class mp extends a.PureComponent{constructor(e){super(e),this.bindHandlers()}bindHandlers(){this.handleRangeOptionClick=this.handleRangeOptionClick.bind(this),this.handleRangeChange=this.handleRangeChange.bind(this)}handleRangeOptionClick(e){this.props.disabled||this.props.onChange(this.props.id,e)}handleRangeChange(e){const t=e.target;this.props.onChange(t.name,this.values[t.value].value)}getComputedStyleForEntropyStep(e,t){return{left:e*(100/(t-1))+"%"}}getValueIndex(e){return this.values.findIndex((t=>t.value===e))}get values(){return[{label:"50 bits",value:50},{label:"64 bits",value:64},{label:"80 bits",value:80},{label:"96 bits",value:96},{label:"128 bits",value:128},{label:"160 bits",value:160},{label:"192 bits",value:192},{label:"224 bits",value:224}]}render(){const e=this.values,t=e.length,{id:s,value:n}=this.props;return a.createElement("div",{className:"range-wrapper"},a.createElement("div",{className:"range-labels"},a.createElement("label",{key:"min"},a.createElement(w.x6,null,"Weak")),a.createElement("label",{key:"max"},a.createElement(w.x6,null,"Secure"))),a.createElement("div",{className:"range-input-wrapper"},a.createElement("input",{type:"range",className:"range-input",id:s,name:s,min:0,max:e.length-1,value:this.getValueIndex(n),list:`${this.props.id}-values`,onChange:this.handleRangeChange,required:!0,disabled:this.props.disabled}),a.createElement("ul",{className:"range-options"},e.map(((e,s)=>a.createElement("li",{key:`li-${s}`,onClick:()=>this.handleRangeOptionClick(e.value),style:this.getComputedStyleForEntropyStep(s,t),className:"range-option "+(n===e.value?"range-option--active":""),disabled:this.props.disabled},e.label))))))}}mp.propTypes={value:l().number.isRequired,id:l().string.isRequired,onChange:l().func,disabled:l().bool};const pp=(0,w.CI)("common")(mp);class up extends a.PureComponent{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{isReady:!1}}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(hp),await this.props.adminUserPassphrasePoliciesContext.findSettings(),this.setState({isReady:!0})}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction()}bindCallbacks(){this.handleMinimumEntropyChange=this.handleMinimumEntropyChange.bind(this),this.handleCheckboxInputChange=this.handleCheckboxInputChange.bind(this)}hasAllInputDisabled(){return this.props.adminUserPassphrasePoliciesContext.isProcessing()}handleMinimumEntropyChange(e,t){const s=parseInt(t,10)||0;this.props.adminUserPassphrasePoliciesContext.setSettings(e,s)}handleCheckboxInputChange(e){const t=e.target,s=t.name,a=Boolean(t.checked);this.props.adminUserPassphrasePoliciesContext.setSettings(s,a)}isWeakSettings(e){return e.entropy_minimum<80}render(){if(!this.state.isReady)return null;const e=this.hasAllInputDisabled(),t=this.props.adminUserPassphrasePoliciesContext,s=t.getSettings();return a.createElement("div",{className:"row"},a.createElement("div",{className:"password-policies-settings col8 main-column"},a.createElement("h3",{id:"user-passphrase-policies-title"},a.createElement(w.x6,null,"User Passphrase Policies")),t.hasSettingsChanges()&&a.createElement("div",{className:"warning message",id:"user-passphrase-policies-save-banner"},a.createElement("p",null,a.createElement(w.x6,null,"Don't forget to save your settings to apply your modification."))),this.isWeakSettings(s)&&a.createElement("div",{className:"warning message",id:"user-passphrase-policies-weak-settings-banner"},a.createElement("p",null,a.createElement(w.x6,null,"Passbolt recommends passphrase strength to be at minimum of ",{MINIMAL_ADVISED_ENTROPY:80}," bits to be safe."))),a.createElement("h4",{id:"user-passphrase-policies-entropy-minimum",className:"title title--required no-border"},a.createElement(w.x6,null,"User passphrase minimal entropy")),a.createElement("div",{className:"input range"},a.createElement(pp,{id:"entropy_minimum",onChange:this.handleMinimumEntropyChange,value:s.entropy_minimum,disabled:e})),a.createElement("div",null,a.createElement(w.x6,null,"You can set the minimal entropy for the users' private key passphrase.")," ",a.createElement(w.x6,null,"This is the passphrase that is asked during sign in or recover.")),a.createElement("h4",{id:"user-passphrase-policies-external-services-subtitle"},a.createElement("span",{className:"input toggle-switch form-element ready"},a.createElement("input",{id:"user-passphrase-policies-external-services-toggle-button",type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"external_dictionary_check",onChange:this.handleCheckboxInputChange,checked:s?.external_dictionary_check,disabled:e}),a.createElement("label",{htmlFor:"user-passphrase-policies-external-services-toggle-button"},a.createElement(w.x6,null,"External password dictionary check")))),a.createElement("span",{className:"input toggle-switch form-element"},a.createElement(w.x6,null,"Allow passbolt to access external services to check if the user passphrase has been compromised when the user creates it."))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"What is user passphrase policies?")),a.createElement("p",null,a.createElement(w.x6,null,"For more information about the user passphrase policies, checkout the dedicated page on the help website.")),a.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/authentication/user-passphrase-policies/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"life-ring"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation"))))))}}up.propTypes={context:l().object,administrationWorkspaceContext:l().object,adminUserPassphrasePoliciesContext:l().object,t:l().func};const gp=h(Ro(cp((0,w.CI)("common")(up))));class Cp extends ne{constructor(e,t={}){super(se.validate(Cp.ENTITY_NAME,e,Cp.getSchema()),t)}static getSchema(){return{type:"object",required:["automatic_expiry","automatic_update"],properties:{id:{type:"string",format:"uuid"},default_expiry_period:{type:"null"},policy_override:{type:"boolean"},automatic_expiry:{type:"boolean"},automatic_update:{type:"boolean"},created:{type:"string",format:"date-time"},created_by:{type:"string",format:"uuid"},modified:{type:"string",format:"date-time"},modified_by:{type:"string",format:"uuid"}}}}static get ENTITY_NAME(){return"PasswordExpirySettings"}static createFromDefault(e={}){const t={default_expiry_period:null,policy_override:!1,automatic_expiry:!1,automatic_update:!1,...e};return new Cp(t)}}const bp=Cp;class Ep extends ne{constructor(e,t={}){super(se.validate(Ep.ENTITY_NAME,e,Ep.getSchema()),t)}static getSchema(){return{type:"object",required:["automatic_expiry","automatic_update","policy_override"],properties:{id:{type:"string",format:"uuid"},default_expiry_period:{type:"integer",minimum:1,maximum:999,nullable:!0},policy_override:{type:"boolean"},automatic_expiry:{type:"boolean"},automatic_update:{type:"boolean"},created:{type:"string",format:"date-time"},created_by:{type:"string",format:"uuid"},modified:{type:"string",format:"date-time"},modified_by:{type:"string",format:"uuid"}}}}static get ENTITY_NAME(){return"passwordExpiryProSettingsEntity"}static createFromDefault(e={}){const t={default_expiry_period:null,policy_override:!1,automatic_expiry:!0,automatic_update:!0,...e};return new Ep(t)}}const fp=Ep;class yp{constructor(e={}){this.automatic_update=Boolean(e?.automatic_update),this.policy_override=Boolean(e?.policy_override),this.automatic_expiry=Boolean(e?.automatic_expiry);const t=parseInt(e?.default_expiry_period,10);this.default_expiry_period=isNaN(t)?null:t,this.default_expiry_period_toggle=void 0!==e?.default_expiry_period_toggle?Boolean(e.default_expiry_period_toggle):Boolean(this.default_expiry_period),e?.id&&(this.id=e?.id)}static getSchema(e=!1){const t=e?fp.getSchema():bp.getSchema();return this.getDefaultSchema(t,e)}static getDefaultSchema(e,t=!1){const s={type:"object",required:["automatic_expiry","automatic_update"],properties:{id:e.properties.id,automatic_expiry:e.properties.automatic_expiry,automatic_update:e.properties.automatic_update,policy_override:e.properties.policy_override,default_expiry_period:e.properties.default_expiry_period}};return t&&s.required.push("policy_override"),s}static fromEntityDto(e){const t={automatic_expiry:Boolean(e?.automatic_expiry),automatic_update:Boolean(e?.automatic_update),policy_override:Boolean(e?.policy_override),default_expiry_period:null!==e?.default_expiry_period?parseInt(e?.default_expiry_period,10):null};return e?.id&&(t.id=e.id),new yp(t)}static isDataDifferent(e,t){return["automatic_expiry","automatic_update","policy_override","default_expiry_period"].some((s=>e[s]!==t[s]))}toEntityDto(){const e=this.default_expiry_period_toggle?this.default_expiry_period:null;return{automatic_expiry:this.automatic_expiry,automatic_update:this.automatic_update,policy_override:this.policy_override,default_expiry_period:e}}cloneWithMutation(e,t){const s={...this,[e]:t};return new yp(s)}validate(e=!1){const t=new Y,s=yp.getSchema(e);try{se.validate(this.constructor.name,this,s),this.validateFormInput(t,e)}catch(t){if(!(t instanceof Y))throw t;return this.validateFormInput(t,e),t}return t}validateFormInput(e,t){t&&this.default_expiry_period_toggle&&null===this.default_expiry_period&&e.addError("default_expiry_period","required","The default_expiry_period is required.")}get isSettingsDisabled(){return!this.id}}const vp=yp;function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},kp.apply(null,arguments)}const wp=a.createContext({getSettings:()=>{},get:()=>{},setSettingsBulk:()=>{},findSettings:()=>{},isProcessing:()=>{},validateData:()=>{},save:()=>{},getErrors:()=>{},isFeatureToggleEnabled:()=>{},setFeatureToggle:()=>{},hasSettingsChanges:()=>{},isSubmitted:()=>{},setSubmitted:()=>{},setDefaultExpiryToggle:()=>{}});class xp extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{processing:!1,errors:null,hasBeenValidated:!1,isDataModified:!1,submitted:!1,currentSettings:new vp,featureToggleEnabled:!1,settings:new vp,findSettings:this.findSettings.bind(this),getSettings:this.getSettings.bind(this),setSettingsBulk:this.setSettingsBulk.bind(this),isProcessing:this.isProcessing.bind(this),validateData:this.validateData.bind(this),save:this.save.bind(this),getErrors:this.getErrors.bind(this),hasSettingsChanges:this.hasSettingsChanges.bind(this),isFeatureToggleEnabled:this.isFeatureToggleEnabled.bind(this),setFeatureToggle:this.setFeatureToggle.bind(this),setDefaultExpiryToggle:this.setDefaultExpiryToggle.bind(this),isSubmitted:this.isSubmitted.bind(this),setSubmitted:this.setSubmitted.bind(this)}}async findSettings(){this.setState({processing:!0}),this.setState({submitted:!1});const e=await this.props.context.port.request("passbolt.password-expiry.get-or-find",!0),t=vp.fromEntityDto(e);this.setState({toggleEnabled:t?.id,settings:t,currentSettings:t,processing:!1})}setDefaultExpiryToggle(e){let t=this.state.settings.default_expiry_period;e&&null===this.state.settings.default_expiry_period&&(t=90),this.setSettingsBulk({default_expiry_period_toggle:e,default_expiry_period:t})}getSettings(){return this.state.settings}setSubmitted(e){this.setState({submitted:e})}isSubmitted(){return this.state.submitted}setSettingsBulk(e){let t=this.state.settings;const s=Object.keys(e);for(let a=0;a<s.length;a++){const n=s[a];t=t.cloneWithMutation(n,e[n])}const a=vp.isDataDifferent(t,this.state.currentSettings);if(!this.state.hasBeenValidated)return void this.setState({settings:t,isDataModified:a});const n=this.props.context.siteSettings.canIUse("passwordExpiryPolicies"),r=t.validate(n);this.setState({errors:r,settings:t,isDataModified:a})}isProcessing(){return this.state.processing}isFeatureToggleEnabled(){return this.state.toggleEnabled}setFeatureToggle(e){this.props.context.siteSettings.canIUse("passwordExpiryPolicies")||this.setSettingsBulk({automatic_expiry:e,automatic_update:e}),this.setState({toggleEnabled:e})}validateData(){const e=this.props.context.siteSettings.canIUse("passwordExpiryPolicies"),t=this.state.settings.validate(e),s=t.hasErrors(),a=s?t:null;return this.setState({errors:a,hasBeenValidated:!0}),!s}async save(){if(!this.isFeatureToggleEnabled()&&!this.state.settings.id)return;this.setState({processing:!0});const e={processing:!1};try{const t=!this.isFeatureToggleEnabled()&&Boolean(this.state.settings.id)?await this.doDeleteSettings():await this.doSaveSettings();e.settings=t,e.currentSettings=t,e.isDataModified=!1,e.submitted=!1}finally{this.setState(e)}}async doDeleteSettings(){return this.props.context.port.request("passbolt.password-expiry.delete",this.state.settings.id),this.props.context.siteSettings.canIUse("passwordExpiryPolicies")?new vp(fp.createFromDefault().toDto()):new vp}async doSaveSettings(){const e=this.props.context.siteSettings.canIUse("passwordExpiryPolicies"),t=this.state.settings.toEntityDto();e&&!this.state.settings.default_expiry_period_toggle&&(t.default_expiry_period=null);const s=await this.props.context.port.request("passbolt.password-expiry.save",t);return new vp(s)}getErrors(){return this.state.errors}hasSettingsChanges(){return this.state.isDataModified}render(){return a.createElement(wp.Provider,{value:this.state},this.props.children)}}xp.propTypes={context:l().any,children:l().any,t:l().any};const Sp=h((0,w.CI)("common")(xp));function Np(e){return class extends a.Component{render(){return a.createElement(wp.Consumer,null,(t=>a.createElement(e,kp({adminPasswordExpiryContext:t},this.props))))}}}class Rp extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleSave=this.handleSave.bind(this)}get isActionEnabled(){return!this.props.adminPasswordExpiryContext.isProcessing()}async handleSave(){if(this.props.adminPasswordExpiryContext.setSubmitted(!0),this.isActionEnabled&&this.props.adminPasswordExpiryContext.validateData())try{await this.props.adminPasswordExpiryContext.save(),await this.handleSaveSuccess()}catch(e){await this.handleSaveError(e)}}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The password expiry settings were updated."))}async handleSaveError(e){console.error(e),await this.props.actionFeedbackContext.displayError(e.message),this.props.dialogContext.open(we,{error:e})}render(){const e=!this.isActionEnabled;return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",disabled:e,id:"save-settings",onClick:this.handleSave},a.createElement(ge,{name:"save"}),a.createElement("span",null,a.createElement(w.x6,null,"Save settings")))))))}}Rp.propTypes={adminPasswordExpiryContext:l().object,actionFeedbackContext:l().object,dialogContext:l().any,t:l().func};const Ip=_e(Np(k((0,w.CI)("common")(Rp))));class _p extends a.PureComponent{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleExpiryPeriodToggleClick=this.handleExpiryPeriodToggleClick.bind(this)}handleInputChange(e){const{type:t,checked:s,value:a,name:n}=e.target,r="checkbox"===t?s:parseInt(a,10);this.props.adminPasswordExpiryContext.setSettingsBulk({[n]:r})}handleExpiryPeriodToggleClick(e){const t=e.target.checked;this.props.adminPasswordExpiryContext.setDefaultExpiryToggle(t)}async handleFormSubmit(e){if(e.preventDefault(),this.props.adminPasswordExpiryContext.setSubmitted(!0),!this.props.adminPasswordExpiryContext.isProcessing()&&this.props.adminPasswordExpiryContext.validateData())try{await this.props.adminPasswordExpiryContext.save(),await this.handleSaveSuccess()}catch(e){await this.handleSaveError(e)}}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The password expiry settings were updated."))}async handleSaveError(e){await this.props.actionFeedbackContext.displayError(e.message),this.props.dialogContext.open(we,{error:e})}hasAllInputDisabled(){return this.props.adminPasswordExpiryContext.isProcessing()}get settings(){return this.props.adminPasswordExpiryContext.getSettings()}get errors(){const e=this.props.adminPasswordExpiryContext.getErrors();return e?.details}render(){const e=this.props.adminPasswordExpiryContext.isSubmitted(),t=this.settings.default_expiry_period||"",s=Boolean(this.settings?.default_expiry_period_toggle);return a.createElement("div",{id:"password-expiry-form-advanced"},a.createElement("form",{className:"form",onSubmit:this.handleFormSubmit},a.createElement("h4",{className:"no-border",id:"expiry-policies-subtitle"},a.createElement(w.x6,null,"Expiry Policies")),a.createElement("p",{id:"expiry-policies-description"},a.createElement(w.x6,null,"In this section you can choose the default behaviour of password expiry policy for all users.")),a.createElement("div",{className:"togglelist-alt"},a.createElement("span",{id:"default-expiry-period",className:"input toggle-switch form-element "+(this.errors?.default_expiry_period&&e?"has-error":"")},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"defaultExpiryPeriodToggle",onChange:this.handleExpiryPeriodToggleClick,checked:s,disabled:this.hasAllInputDisabled(),id:"default-expiry-period-toggle"}),a.createElement("label",{htmlFor:"defaultExpiryPeriodToggle"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Default password expiry period")),a.createElement("span",{className:"info-input"},a.createElement(w.x6,null,a.createElement("span",null,"When a user creates a resource, a default expiry date is set to "),a.createElement("input",{type:"text",className:"toggle-input",id:"default-expiry-period-input",name:"default_expiry_period",onChange:this.handleInputChange,maxLength:3,value:t,disabled:this.hasAllInputDisabled()||!s,placeholder:"90"}),a.createElement("span",null,"days"))))),this.errors?.default_expiry_period&&e&&a.createElement("div",{className:"input"},!this.errors.default_expiry_period.required&&a.createElement("div",{className:"default-expiry-period-gte error-message"},a.createElement(w.x6,null,"The default password expiry period should be a number between 1 and 999 days.")),this.errors?.default_expiry_period.required&&a.createElement("div",{className:"default-expiry-period-required  error-message"},a.createElement(w.x6,null,"The default password expiry period should be a valid number.")))),a.createElement("div",{className:"togglelist-alt"},a.createElement("span",{className:"input toggle-switch form-element",id:"policy-override"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"policy_override",onChange:this.handleInputChange,checked:this.settings.policy_override,disabled:this.hasAllInputDisabled(),id:"policy-override-toggle"}),a.createElement("label",{htmlFor:"policy_override"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Policy Override")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"Allow users to override the default policy."))))),a.createElement("h4",{className:"no-border",id:"automatic-workflow-subtitle"},a.createElement(w.x6,null,"Automatic workflows")),a.createElement("p",{id:"automatic-workflow-description"},a.createElement(w.x6,null,"In this section you can choose automatic behaviours.")),a.createElement("div",{className:"togglelist-alt"},a.createElement("span",{className:"input toggle-switch form-element",id:"automatic-expiry"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"automatic_expiry",onChange:this.handleInputChange,checked:this.settings.automatic_expiry,disabled:this.hasAllInputDisabled(),id:"automatic-expiry-toggle"}),a.createElement("label",{htmlFor:"automatic_expiry"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Automatic Expiry")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"Password automatically expires when a user or group with a user who has accessed the password is removed from the permission list."))))),a.createElement("div",{className:"togglelist-alt"},a.createElement("span",{className:"input toggle-switch form-element",id:"automatic-update"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"automatic_update",onChange:this.handleInputChange,checked:this.settings.automatic_update,disabled:this.hasAllInputDisabled(),id:"automatic-update-toggle"}),a.createElement("label",{htmlFor:"automatic_update"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Automatic Update")),a.createElement("span",{className:"info"},s?a.createElement(w.x6,null,"Password expiry date is renewed based on the default password expiry period whenever a password is updated."):a.createElement(w.x6,null,"Password is no longer marked as expired whenever the password is updated.")))))))}}_p.propTypes={context:l().object,adminPasswordExpiryContext:l().object,actionFeedbackContext:l().object,dialogContext:l().object,t:l().func};const Dp=h(Np(_e(k((0,w.CI)("common")(_p)))));class Tp extends a.PureComponent{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{isReady:!1}}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(Ip),await this.props.adminPasswordExpiryContext.findSettings(),this.setState({isReady:!0})}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction()}hasAllInputDisabled(){return this.props.adminPasswordExpiryContext.isProcessing()}get canUseAdvancedSettings(){return this.props.context.siteSettings.canIUse("passwordExpiryPolicies")}render(){if(!this.state.isReady)return null;const e=this.props.adminPasswordExpiryContext,t=e.isFeatureToggleEnabled();return a.createElement("div",{className:"row"},a.createElement("div",{className:"password-expiry-settings col8 main-column"},a.createElement("h3",{id:"password-expiry-settings-title"},a.createElement("span",{className:"input toggle-switch form-element"},a.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"passwordExpirySettingsToggle",onChange:()=>e.setFeatureToggle(!t),checked:t,disabled:this.hasAllInputDisabled(),id:"passwordExpirySettingsToggle"}),a.createElement("label",{htmlFor:"passwordExpirySettingsToggle"},a.createElement(w.x6,null,"Password Expiry")))),e.hasSettingsChanges()&&a.createElement("div",{className:"warning message",id:"password-expiry-settings-save-banner"},a.createElement("p",null,a.createElement(w.x6,null,"Don't forget to save your settings to apply your modification."))),!t&&a.createElement("p",{className:"description"},a.createElement(w.x6,null,"No Password Expiry is configured. Enable it to activate automatic password expiration and automatic password expiration reset workflows.")),t&&a.createElement(a.Fragment,null,this.canUseAdvancedSettings?a.createElement(Dp,null):a.createElement("div",{id:"password-expiry-settings-form"},a.createElement("h4",{id:"password-expiry-settings-automatic-workflows",className:"title title--required no-border"},a.createElement(w.x6,null,"Automatic workflows")),a.createElement("div",{className:"radiolist-alt"},a.createElement("div",{className:"input radio"},a.createElement("label",{htmlFor:"passwordExpiryAutomaticExpiry"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Automatic expiry")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"Password automatically expires when a user or group with a user who has accessed the password is removed from the permission list.")))),a.createElement("div",{className:"input radio"},a.createElement("label",{htmlFor:"passwordExpiryAutomatiUpdate"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Automatic update")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"Password is no longer marked as expired whenever the password is updated.")))))))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"About password expiry")),a.createElement("p",null,a.createElement(w.x6,null,"For more information about the password expiry, checkout the dedicated page on the help website.")),a.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/password-configuration/password-expiry",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"life-ring"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation"))))))}}Tp.propTypes={context:l().object,administrationWorkspaceContext:l().object,adminPasswordExpiryContext:l().object,t:l().func};const Pp=h(Ro(Np((0,w.CI)("common")(Tp)))),Ap=class{constructor(e){this.apiClientOptions=e,this.initClient()}async fetchHealthcheck(){this.initClient();const e=await this.apiClient.findAll();return e?.body}initClient(){this.apiClientOptions.setResourceName("healthcheck"),this.apiClient=new $a(this.apiClientOptions)}};class Mp extends ne{constructor(e,t={}){super(se.validate(Mp.ENTITY_NAME,e,Mp.getSchema()),t)}static getSchema(){return{type:"object",required:["peerValid","hostValid","notSelfSigned"],properties:{peerValid:{type:"boolean"},hostValid:{type:"boolean"},notSelfSigned:{type:"boolean"},info:{type:"string"}}}}get peerValid(){return this._props.peerValid}get hostValid(){return this._props.hostValid}get notSelfSigned(){return this._props.notSelfSigned}get info(){return this._props.info}static get ENTITY_NAME(){return"ssl"}}const Up=Mp;class Fp extends ne{constructor(e,t={}){super(se.validate(Fp.ENTITY_NAME,e,Fp.getSchema()),t)}static getSchema(){return{type:"object",required:["tablesCount","info","connect","supportedBackend","defaultContent"],properties:{tablesCount:{type:"boolean"},info:{type:"object",required:["tablesCount"],properties:{tablesCount:{type:"number"}}},connect:{type:"boolean"},supportedBackend:{type:"boolean"},defaultContent:{type:"boolean"}}}}get tablesCount(){return this._props.tablesCount}get info(){return this._props.info}get connect(){return this._props.connect}get supportedBackend(){return this._props.supportedBackend}get defaultContent(){return this._props.defaultContent}static get ENTITY_NAME(){return"database"}}const Lp=Fp;class Op extends ne{constructor(e,t={}){super(se.validate(Op.ENTITY_NAME,e,Op.getSchema()),t)}static getSchema(){return{type:"object",required:["info","latestVersion","schema","robotsIndexDisabled","sslForce","sslFullBaseUrl","seleniumDisabled","registrationClosed","configPath","hostAvailabilityCheckEnabled","jsProd","emailNotificationEnabled"],properties:{info:{type:"object",required:["remoteVersion","currentVersion"],properties:{remoteVersion:{type:"string",nullable:!0},currentVersion:{type:"string"}}},latestVersion:{type:"boolean",nullable:!0},schema:{type:"boolean"},robotsIndexDisabled:{type:"boolean"},sslForce:{type:"boolean"},sslFullBaseUrl:{type:"boolean"},seleniumDisabled:{type:"boolean"},configPath:{type:"string"},registrationClosed:{type:"object",required:["isSelfRegistrationPluginEnabled","selfRegistrationProvider","isRegistrationPublicRemovedFromPassbolt"],properties:{isSelfRegistrationPluginEnabled:{type:"boolean"},selfRegistrationProvider:{type:"string",nullable:!0},isRegistrationPublicRemovedFromPassbolt:{type:"boolean"}}},hostAvailabilityCheckEnabled:{type:"boolean"},jsProd:{type:"boolean"},emailNotificationEnabled:{type:"boolean"}}}}get info(){return this._props.info}get latestVersion(){return this._props.latestVersion}getSchema(){return this._props.getSchema}get robotsIndexDisabled(){return this._props.robotsIndexDisabled}get sslForce(){return this._props.sslForce}get sslFullBaseUrl(){return this._props.sslFullBaseUrl}get schema(){return this._props.schema}get currentVersion(){return this._props.currentVersion}get configPath(){return this._props.configPath}get seleniumDisabled(){return this._props.seleniumDisabled}get registrationClosed(){return this._props.registrationClosed}get hostAvailabilityCheckEnabled(){return this._props.hostAvailabilityCheckEnabled}get jsProd(){return this._props.jsProd}get emailNotificationEnabled(){return this._props.emailNotificationEnabled}static get ENTITY_NAME(){return"application"}}const Vp=Op;class Hp extends ne{constructor(e,t={}){super(se.validate(Hp.ENTITY_NAME,e,Hp.getSchema()),t)}static getSchema(){return{type:"object",required:["canDecryptVerify","canVerify","gpgKeyPublicInKeyring","canEncrypt","canDecrypt","canEncryptSign","canSign","gpgHome","gpgKeyPrivateFingerprint","gpgKeyPublicFingerprint","gpgKeyPublicEmail","gpgKeyPublicReadable","gpgKeyPrivateReadable","gpgKey","lib","gpgKeyNotDefault","info","gpgHomeWritable","gpgKeyPublic","gpgKeyPublicBlock","gpgKeyPrivate","gpgKeyPrivateBlock","isPublicServerKeyGopengpgCompatible","isPrivateServerKeyGopengpgCompatible"],properties:{canDecryptVerify:{type:"boolean"},canVerify:{type:"boolean"},gpgKeyPublicInKeyring:{type:"boolean"},canEncrypt:{type:"boolean"},canDecrypt:{type:"boolean"},canEncryptSign:{type:"boolean"},canSign:{type:"boolean"},gpgHome:{type:"boolean"},gpgKeyPrivateFingerprint:{type:"boolean"},gpgKeyPublicFingerprint:{type:"boolean"},gpgKeyPublicEmail:{type:"boolean"},gpgKeyPublicReadable:{type:"boolean"},gpgKeyPrivateReadable:{type:"boolean"},gpgKey:{type:"boolean"},lib:{type:"boolean"},gpgKeyNotDefault:{type:"boolean"},gpgHomeWritable:{type:"boolean"},gpgKeyPublic:{type:"boolean"},gpgKeyPublicBlock:{type:"boolean"},gpgKeyPrivate:{type:"boolean"},gpgKeyPrivateBlock:{type:"boolean"},isPublicServerKeyGopengpgCompatible:{type:"boolean"},isPrivateServerKeyGopengpgCompatible:{type:"boolean"},info:{type:"object",required:["gpgHome","gpgKeyPrivate"],properties:{gpgHome:{type:"string"},gpgKeyPrivate:{type:"string"}}}}}}get canDecryptVerify(){return this._props.canDecryptVerify}get canVerify(){return this._props.canVerify}get gpgKeyPublicInKeyring(){return this._props.gpgKeyPublicInKeyring}get canEncrypt(){return this._props.canEncrypt}get canDecrypt(){return this._props.canDecrypt}get canEncryptSign(){return this._props.canEncryptSign}get canSign(){return this._props.canSign}get gpgHome(){return this._props.gpgHome}get gpgKeyPrivateFingerprint(){return this._props.gpgKeyPrivateFingerprint}get gpgKeyPublicFingerprint(){return this._props.gpgKeyPublicFingerprint}get gpgKeyPublicEmail(){return this._props.gpgKeyPublicEmail}get gpgKeyPublicReadable(){return this._props.gpgKeyPublicReadable}get gpgKeyPrivateReadable(){return this._props.gpgKeyPrivateReadable}get gpgKey(){return this._props.gpgKey}get lib(){return this._props.lib}get gpgKeyNotDefault(){return this._props.gpgKeyNotDefault}get info(){return this._props.info}get gpgHomeWritable(){return this._props.gpgHomeWritable}get gpgKeyPublic(){return this._props.gpgKeyPublic}get gpgKeyPublicBlock(){return this._props.gpgKeyPublicBlock}get gpgKeyPrivate(){return this._props.gpgKeyPrivate}get gpgKeyPrivateBlock(){return this._props.gpgKeyPrivateBlock}get isPublicServerKeyGopengpgCompatible(){return this._props.isPublicServerKeyGopengpgCompatible}get isPrivateServerKeyGopengpgCompatible(){return this._props.isPrivateServerKeyGopengpgCompatible}static get ENTITY_NAME(){return"gpg"}}const qp=Hp;class jp extends ne{constructor(e,t={}){super(se.validate(jp.ENTITY_NAME,e,jp.getSchema()),t)}static getSchema(){return{type:"object",required:["phpVersion","nextMinPhpVersion","pcre","mbstring","gnupg","intl","image","tmpWritable","logWritable"],properties:{phpVersion:{type:"boolean"},nextMinPhpVersion:{type:"boolean"},pcre:{type:"boolean"},mbstring:{type:"boolean"},gnupg:{type:"boolean"},intl:{type:"boolean"},image:{type:"boolean"},tmpWritable:{type:"boolean"},logWritable:{type:"boolean"},info:{type:"object",required:["phpVersion"],properties:{serverPhpVersion:{"type:":"string"}}}}}}get phpVersion(){return this._props.phpVersion}get nextMinPhpVersion(){return this._props.nextMinPhpVersion}get pcre(){return this._props.pcre}get mbstring(){return this._props.mbstring}get gnupg(){return this._props.gnupg}get intl(){return this._props.intl}get image(){return this._props.image}get tmpWritable(){return this._props.tmpWritable}get logWritable(){return this._props.logWritable}get info(){return this._props.info}get serverPhpVersion(){return this._props.phpVersion}static get ENTITY_NAME(){return"environment"}}const Wp=jp;class zp extends ne{constructor(e,t={}){super(se.validate(zp.ENTITY_NAME,e,zp.getSchema()),t)}static getSchema(){return{type:"object",required:["app","passbolt"],properties:{app:{type:"boolean"},passbolt:{type:"boolean"}}}}get app(){return this._props.app}get passbolt(){return this._props.passbolt}static get ENTITY_NAME(){return"configFile"}}const Bp=zp;class Gp extends ne{constructor(e,t={}){super(se.validate(Gp.ENTITY_NAME,e,Gp.getSchema()),t)}static getSchema(){return{type:"object",required:["cache","debugDisabled","salt","fullBaseUrl","validFullBaseUrl","info","fullBaseUrlReachable"],properties:{cache:{type:"boolean"},debugDisabled:{type:"boolean"},salt:{type:"boolean"},fullBaseUrl:{type:"boolean"},validFullBaseUrl:{type:"boolean"},info:{type:"object",required:["fullBaseUrl"],properties:{fullBaseUrl:{type:"string",format:"uri"}}},fullBaseUrlReachable:{type:"boolean"}}}}get cache(){return this._props.cache}get debugDisabled(){return this._props.debugDisabled}get salt(){return this._props.salt}get fullBaseUrl(){return this._props.fullBaseUrl}get validFullBaseUrl(){return this._props.validFullBaseUrl}get info(){return this._props.info}get fullBaseUrlReachable(){return this._props.fullBaseUrlReachable}static get ENTITY_NAME(){return"core"}}const Kp=Gp;class $p extends ne{constructor(e,t={}){super(se.validate($p.ENTITY_NAME,e,$p.getSchema()),t)}static getSchema(){return{type:"object",required:["isEnabled","areEndpointsDisabled","errorMessage","source","isInDb"],properties:{isEnabled:{type:"boolean"},areEndpointsDisabled:{type:"boolean"},errorMessage:{anyOf:[{type:"boolean"},{type:"string"}]},source:{type:"string"},isInDb:{type:"boolean"}}}}get isEnabled(){return this._props.isEnabled}get areEndpointsDisabled(){return this._props.areEndpointsDisabled}get errorMessage(){return this._props.errorMessage}get source(){return this._props.source}get isInDb(){return this._props.isInDb}static get ENTITY_NAME(){return"smtpSettings"}}const Zp=$p;class Yp extends ne{constructor(e,t={}){super(se.validate(Yp.ENTITY_NAME,e,Yp.getSchema()),t)}static getSchema(){return{type:"object",required:["endpointsDisabled"],properties:{endpointsDisabled:{type:"boolean"}}}}get endpointsDisabled(){return this._props.endpointsDisabled}static get ENTITY_NAME(){return"directorySync"}}const Jp=Yp;class Xp extends ne{constructor(e,t={}){super(se.validate(Xp.ENTITY_NAME,e,Xp.getSchema()),t)}static getSchema(){return{type:"object",required:["sslHostVerification"],properties:{sslHostVerification:{type:"boolean"}}}}get sslHostVerification(){return this._props.sslHostVerification}static get ENTITY_NAME(){return"sso"}}const Qp=Xp;class eu extends ne{constructor(e,t={}){super(se.validate(eu.ENTITY_NAME,e,eu.getSchema()),t),this._props.ssl&&(this._ssl=new Up(this._props.ssl,{clone:!1})),delete this._props.ssl,this._props.database&&(this._database=new Lp(this._props.database,{clone:!1})),delete this._props.database,this._props.application&&(this._application=new Vp(this._props.application,{clone:!1})),delete this._props.application,this._props.gpg&&(this._gpg=new qp(this._props.gpg,{clone:!1})),delete this._props.gpg,this._props.environment&&(this._environment=new Wp(this._props.environment,{clone:!1})),delete this._props.environment,this._props.configFile&&(this._configFile=new Bp(this._props.configFile,{clone:!1})),delete this._props.configFile,this._props.core&&(this._core=new Kp(this._props.core,{clone:!1})),delete this._props.core,this._props.smtpSettings&&(this._smtpSettings=new Zp(this._props.smtpSettings,{clone:!1})),delete this._props.smtpSettings,this._props.directorySync&&(this._directorySync=new Jp(this._props.directorySync,{clone:!1})),delete this._props.directorySync,this._props.sso&&(this._sso=new Qp(this._props.sso,{clone:!1})),delete this._props.sso}static getSchema(){return{type:"object",required:["database","ssl","application","gpg","configFile","core","smtpSettings"],properties:{database:Lp.getSchema(),ssl:Up.getSchema(),application:Vp.getSchema(),gpg:qp.getSchema(),environment:Wp.getSchema(),configFile:Bp.getSchema(),core:Kp.getSchema(),smtpSettings:Zp.getSchema(),directorySync:Jp.getSchema(),sso:Qp.getSchema()}}}isSSLValid(){const e=this._props.ssl;return e.peerValid&&e.hostValid&&!e.notSelfSigned}static get ENTITY_NAME(){return"healthcheck"}get ssl(){return this._ssl||null}get database(){return this._database||null}get application(){return this._application||null}get gpg(){return this._gpg||null}get environment(){return this._environment||null}get configFile(){return this._configFile||null}get core(){return this._core||null}get smtpSettings(){return this._smtpSettings||null}get directorySync(){return this._directorySync||null}get sso(){return this._sso||null}}const tu=eu;function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},su.apply(null,arguments)}const au=a.createContext({healthcheckData:null,endpointEnabled:!0,setProcessing:()=>{},isProcessing:()=>{},loadHealthcheckData:()=>{},clearContext:()=>{},isHealthcheckEndpointEnabled:()=>{}});class nu extends a.Component{constructor(e){super(e),this.state=this.defaultState;const t=e.context.getApiClientOptions();this.healthcheckService=new Ap(t)}get defaultState(){return{healthcheckData:null,endpointEnabled:!0,processing:!1,isProcessing:this.isProcessing.bind(this),loadHealthcheckData:this.fetchHealthcheckData.bind(this),clearContext:this.clearContext.bind(this),isHealthcheckEndpointEnabled:this.isHealthcheckEndpointEnabled.bind(this)}}isHealthcheckEndpointEnabled(){return this.state.endpointEnabled}async fetchHealthcheckData(){if(this.isHealthcheckEndpointEnabled()){this.setProcessing(!0);try{const e=await this.healthcheckService.fetchHealthcheck();if(e){const t=new tu(e);this.setState({healthcheckData:t})}else this.props.actionFeedbackContext.displayError("No data received from the server")}catch(e){console.error(e),this.setState({endpointEnabled:!1}),this.props.actionFeedbackContext.displayError(e.message)}finally{this.setProcessing(!1)}}}clearContext(){this.setState(this.defaultState)}isProcessing(){return this.state.processing}setProcessing(e){this.setState({processing:e})}render(){return a.createElement(au.Provider,{value:this.state},this.props.children)}}function ru(e){return class extends a.Component{render(){return a.createElement(au.Consumer,null,(t=>a.createElement(e,su({adminHealthcheckContext:t},this.props))))}}}nu.propTypes={context:l().any,actionFeedbackContext:l().any,children:l().any},h(_e(nu));class iu extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleRefresh=this.handleRefresh.bind(this)}isRefreshEnabled(){return this.props.adminHealthcheckContext.isHealthcheckEndpointEnabled()&&!this.props.adminHealthcheckContext.isProcessing()}async handleRefresh(){await this.props.adminHealthcheckContext.loadHealthcheckData(),this.handleRefreshSuccess()}async handleRefreshSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The healthcheck has been successfully refreshed"))}render(){return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("div",null,a.createElement("ul",null,a.createElement("li",null,a.createElement("button",{type:"button",disabled:!this.isRefreshEnabled(),id:"save-settings",onClick:this.handleRefresh},a.createElement(ge,{name:"refresh"}),a.createElement("span",null,a.createElement(w.x6,null,"Refresh"))))))))}}iu.propTypes={adminHealthcheckContext:l().object,actionFeedbackContext:l().object,t:l().func};const ou=ru(_e((0,w.CI)("common")(iu)));class lu extends a.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{data:null}}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(ou),await this.props.adminHealthcheckContext.loadHealthcheckData()}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminHealthcheckContext.clearContext()}get healthCheckData(){return this.props.adminHealthcheckContext.healthcheckData}canIUse(e){return Boolean(this.props.context.siteSettings?.canIUse(e))}get isUserDirectoryEnabled(){return this.canIUse("directorySync")}get canIUseSso(){return this.canIUse("sso")}render(){const e=this.healthCheckData,t=this.props.adminHealthcheckContext.isHealthcheckEndpointEnabled();return a.createElement("div",{className:"row"},a.createElement("div",{className:"healthcheck-settings col8 main-column"},a.createElement("h3",null,"Passbolt API Status"),t?(()=>!e||this.props.adminHealthcheckContext.isProcessing()?a.createElement(ge,{name:"spinner"}):a.createElement(a.Fragment,null,a.createElement("h4",{className:"no-border"},"Environment"),a.createElement("div",{className:"healthcheck-environment-section"},a.createElement("div",null,e.environment.info.phpVersion&&!0===e.environment.phpVersion?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"PHP version ",e.environment.info.phpVersion.toString()):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"PHP version is too low, passbolt need PHP 7.4 or higher")),a.createElement("div",null,!0===e.environment.pcre?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"PCRE compiled with unicode support"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"PCRE has not been compiled with Unicode support",a.createElement(fe,{message:"Recompile PCRE with Unicode support by adding --enable-unicode-properties when configuring."},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.environment.tmpWritable?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The temporary directory and its content are writable and not executable"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The temporary directory and its content are not writable, or are executable",a.createElement(fe,{message:"Ensure the temporary directory and its content are writable by the webserver user."},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.environment.logWritable?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The logs directory and its content are writable"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The logs directory and its content are not writable",a.createElement(fe,{message:"Ensure the temporary directory and its content are writable by the webserver user."},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.environment.image?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"GD or Imagick extension is installed"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"You must enable the gd or imagick extensions to use Passbolt",a.createElement(fe,{message:a.createElement("span",null,"See ",a.createElement("a",{href:"https://secure.php.net/manual/en/book.image.php",target:"_blank",rel:"noopener noreferrer"},"this guide"))},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.environment.intl?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"Intl extension is installed"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"You must enable the intl extension to use Passbolt",a.createElement(fe,{message:a.createElement("span",null,"See ",a.createElement("a",{href:"https://secure.php.net/manual/en/book.intl.php",target:"_blank",rel:"noopener noreferrer"},"this guide"))},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.environment.mbstring?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"Mbstring extension is installed"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"You must enable the mbstring extension to use Passbolt",a.createElement(fe,{message:a.createElement("span",null,"See ",a.createElement("a",{href:"https://secure.php.net/manual/en/book.mbstring.php",target:"_blank",rel:"noopener noreferrer"},"this guide"))},a.createElement(ge,{name:"info-circle"}))))),a.createElement("h4",null,"Config files"),a.createElement("div",{className:"healthcheck-configFiles-section"},a.createElement("div",null,!0===e.configFile.app?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The application config file is present"):a.createElement("span",{className:"healthcheck-warning"},a.createElement(ge,{name:"warning"}),"The application config file is missing",a.createElement(fe,{message:"Copy config/app.default.php to config/app.php"},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.configFile.passbolt?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The passbolt config file is present"):a.createElement("span",{className:"healthcheck-warning"},a.createElement(ge,{name:"warning"}),"The passbolt config file is missing",a.createElement(fe,{message:"Copy config/passbolt.default.php to config/passbolt.php"},a.createElement(ge,{name:"info-circle"}))))),a.createElement("h4",null,"Core config"),a.createElement("div",{className:"healthcheck-core-section"},(()=>{if(!1===e.core.debugDisabled)return a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"Debug mode is on",a.createElement(fe,{message:`Set debug = false; in ${e.application.configPath.toString()}`},a.createElement(ge,{name:"info-circle"})))})(),a.createElement("div",null,!0===e.core.cache?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"Cache is working"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"Cache is not working",a.createElement(fe,{message:"Check the settings in config/app.php"},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.core.salt?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"Unique value set for security.salt"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"Default value found for security.salt",a.createElement(fe,{message:"Edit the security.salt in config/app.php"},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.core.fullBaseUrl?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"Full base url is set to ",e.core.info.fullBaseUrl.toString()):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"Full base url is not set",a.createElement(fe,{message:`Edit App.fullBaseUrl in ${e.application.configPath.toString()}`},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.core.validFullBaseUrl?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"App.fullBaseUrl validation OK"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"App.fullBaseUrl does not validate",a.createElement(fe,{message:`Edit App.fullBaseUrl in ${e.application.configPath.toString()}`},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.core.fullBaseUrlReachable?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"/healthcheck/status is reachable"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"Could not reach the /healthcheck/status with the url specified in App.fullBaseUrl",a.createElement(fe,{message:`Check that the domain name is correct in ${e.application.configPath.toString()}`},a.createElement(ge,{name:"info-circle"}))))),a.createElement("h4",null,"SSL Certificate"),a.createElement("div",{className:"healthcheck-ssl-section"},a.createElement("div",null,!0===e.ssl.peerValid?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"SSL peer certificate validates"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"SSL peer certificate does not validate",a.createElement(fe,{message:a.createElement("span",null,"Check ",a.createElement("a",{href:"https://help.passbolt.com/faq/hosting/troubleshoot-ssl",target:"_blank",rel:"noopener noreferrer"},"this guide"))},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.ssl.hostValid?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"Hostname is matching SSL certificate"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"Hostname does not match when validating certificates",a.createElement(fe,{message:a.createElement("span",null,"Check ",a.createElement("a",{href:"https://help.passbolt.com/faq/hosting/troubleshoot-ssl",target:"_blank",rel:"noopener noreferrer"},"this guide"))},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.ssl.notSelfSigned?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"Not using a self-signed certificate"):a.createElement("span",{className:"healthcheck-warning"},a.createElement(ge,{name:"warning"}),"Using a self-signed certificate"))),a.createElement("h4",null,"Database"),a.createElement("div",{className:"healthcheck-database-section"},a.createElement("div",null,!0===e.database.connect?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The application is able to connect to the database"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The application is not able to connect to the database",a.createElement(fe,{message:`Double check the host, database name, username and password in ${e.application.configPath.toString()}`},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,(()=>{if(!0===e.database.connect&&e.database.tablesCount)return a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),e.database.info.tablesCount.toString()," tables found")})()),a.createElement("div",null,!0===e.database.connect&&!0===e.database.defaultContent?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"Some default content is present"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"No default content found",a.createElement(fe,{message:"Run the install script to set the dafault content such as roles and permission types"},a.createElement(ge,{name:"info-circle"}))))),a.createElement("h4",null,"GPG Configuration"),a.createElement("div",{className:"healthcheck-gpg-section"},a.createElement("div",null,!0===e.gpg.lib?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"PHP GPG Module is installed and loaded"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"PHP GPG Module is not installed or loaded",a.createElement(fe,{message:a.createElement("span",null,"Install php-gnupg, see ",a.createElement("a",{href:"http://php.net/manual/en/gnupg.installation.php",target:"_blank",rel:"noopener noreferrer"},"this guide"))},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.gpg.gpgHome&&e.gpg.info.gpgHome?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The environment variable GNUPGHOME is set to ",e.gpg.info.gpgHome.toString()):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The environment variable GNUPGHOME is set to ",e.gpg.info.gpgHome.toString(),", but the directory does not exist",a.createElement(fe,{message:"Ensure the keyring location exists and is accessible by the webserver user."},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.gpg.gpgHomeWritable&&e.gpg.info.gpgHome?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The directory ",e.gpg.info.gpgHome.toString()," containing the keyring is writable by the webserver user"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The directory ",e.gpg.info.gpgHome.toString()," containing the keyring is not writable by the webserver user",a.createElement(fe,{message:"Ensure the keyring location exists and is accessible by the webserver user."},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.gpg.gpgKeyPublic&&!0===e.gpg.gpgKeyPublicReadable&&e.gpg.gpgKeyPublicBlock?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The public key file is defined in ",e.application.configPath.toString()," and readable."):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The public key file is not defined in ",e.application.configPath.toString()," or not readable.",a.createElement(fe,{message:`Ensure the public key file is defined by the variable passbolt.gpg.serverKey.public in ${e.application.configPath.toString()}`},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.gpg.gpgKeyPrivate&&!0===e.gpg.gpgKeyPrivateReadable&&e.gpg.gpgKeyPrivateBlock?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The private key file is defined in ",e.application.configPath.toString()," and readable."):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The private key file is not defined in ",e.application.configPath.toString()," or not readable.",a.createElement(fe,{message:`Ensure the private key file is defined by the variable passbolt.gpg.serverKey.private in ${e.application.configPath.toString()}`},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.gpg.gpgKeyPrivateFingerprint&&!0===e.gpg.gpgKeyPublicFingerprint?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The server key fingerprint matches the one defined in ",e.application.configPath.toString()):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The server key fingerprint doesn't matches the one defined in ",e.application.configPath.toString(),a.createElement(fe,{message:"Double check the key fingerprint"},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.gpg.gpgKeyPublicInKeyring?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The server public key defined in the ",e.application.configPath.toString()," (or environment variables) is in the keyring"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The server public key defined in the ",e.application.configPath.toString()," (or environment variables) is not in the keyring",a.createElement(fe,{message:"Import the private server key in the keyring of the webserver user."},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.gpg.gpgKeyPublicEmail?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"There is a valid email id defined for the server key"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The server key does not have a valid email id",a.createElement(fe,{message:"Edit or generate another key with a valid email id."},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.gpg.canEncrypt?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The public key can be used to encrypt a message"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The public key cannot be used to encrypt a message")),a.createElement("div",null,!0===e.gpg.canSign?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The public key can be used to sign a message"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The public key cannot be used to sign a message")),a.createElement("div",null,!0===e.gpg.canEncryptSign?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The public and private keys can be used to encrypt and sign a message"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The public and private keys cannot be used to encrypt and sign a message")),a.createElement("div",null,!0===e.gpg.canDecryptVerify?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The private key can be used to decrypt and verify a message"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The private key cannot be used to decrypt and verify a message")),a.createElement("div",null,!0===e.gpg.canVerify?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The public key can be used to verify a signature"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The public key cannot be used to verify a signature")),a.createElement("div",null,!0===e.gpg.isPublicServerKeyGopengpgCompatible?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The server public key format is Gopengpg compatible"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The server public key format is not Gopengpg compatible")),a.createElement("div",null,!0===e.gpg.isPrivateServerKeyGopengpgCompatible?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The server private key format is Gopengpg compatible"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The server private key format is not Gopengpg compatible"))),a.createElement("h4",null,"Application configuration"),a.createElement("div",{className:"healthcheck-app-section"},a.createElement("div",null,!0===e.application.latestVersion&&e.application.info.remoteVersion?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"Using latest passbolt version (",e.application.info.remoteVersion.toString(),")"):!1===e.application.latestVersion&&e.application.info.remoteVersion?a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The installation is not up to date. Currently using ",e.application.info.currentVersion.toString()," and it should be ",e.application.info.remoteVersion.toString(),a.createElement(fe,{message:a.createElement("span",null,"See ",a.createElement("a",{href:"https://help.passbolt.com/hosting/update",target:"_blank",rel:"noopener noreferrer"},"this guide"))},a.createElement(ge,{name:"info-circle"}))):null===e.application.latestVersion&&"undefined"===e.application.info.remoteVersion?a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"It seems that the server is not able to reach internet.",a.createElement(fe,{message:a.createElement("span",null,"To confirm that you are running the latest version, check ",a.createElement("a",{href:"https://help.passbolt.com/releases/",target:"_blank",rel:"noopener noreferrer"},"all the releases notes"))},a.createElement(ge,{name:"info-circle"}))):void 0),a.createElement("div",null,!0===e.application.sslForce?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"Passbolt is configured to force SSL use"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"Passbolt is not configured to force SSL use",a.createElement(fe,{message:`Set passbolt.ssl.force to true in ${e.application.configPath.toString()}`},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.application.sslFullBaseUrl?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"App.fullBaseUrl is set to HTTPS"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"App.fullBaseUrl is not set to HTTPS",a.createElement(fe,{message:`Check App.fullBaseUrl url scheme in ${e.application.configPath.toString()}`},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.application.seleniumDisabled?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"Selenium API endpoints are disabled"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"Selenium API endpoints are active. This setting should be used for testing only",a.createElement(fe,{message:`Set passbolt.selenium.active to false in ${e.application.configPath.toString()}`},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.application.robotsIndexDisabled?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"Search engine robots are told not to index content"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"Search engine robots are not told not to index content",a.createElement(fe,{message:`Set passbolt.meta.robots to false in ${e.application.configPath.toString()}`},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.application.registrationClosed.isSelfRegistrationPluginEnabled?a.createElement("span",{className:"healthcheck-info"},a.createElement(ge,{name:"question-circle"}),"The Self Registration plugin is enabled"):a.createElement("span",{className:"healthcheck-info"},a.createElement(ge,{name:"question-circle"}),"The Self Registration plugin is disabled",a.createElement(fe,{message:"Enable the plugin in order to define self registration settings."},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,null===e.application.registrationClosed.selfRegistrationProvider?a.createElement("span",{className:"healthcheck-info"},a.createElement(ge,{name:"question-circle"}),"Registration is closed, only administrators can add users"):a.createElement("span",{className:"healthcheck-info"},a.createElement(ge,{name:"question-circle"}),"The Self Registration provider is: ",e.application.registrationClosed.selfRegistrationProvider.toString())),a.createElement("div",null,!0===e.application.registrationClosed.isRegistrationPublicRemovedFromPassbolt?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The deprecated self registration public settings was not found in ",e.application.configPath.toString()):a.createElement("span",{className:"healthcheck-warning"},a.createElement(ge,{name:"warning"}),"The deprecated self registration public settings was found in ",e.application.configPath.toString(),a.createElement(fe,{message:"You may remove the passbolt.registration.public setting"},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.application.hostAvailabilityCheckEnabled?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"Host availability will be checked"):a.createElement("span",{className:"healthcheck-warning"},a.createElement(ge,{name:"warning"}),"Host availability checking is disabled",a.createElement(fe,{message:"Make sure the instance is not publicly available on the internet."},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.application.jsProd?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"Serving the compiled version of the javascript app"):a.createElement("span",{className:"healthcheck-warning"},a.createElement(ge,{name:"warning"}),"Using non-compiled Javascript. Passbolt will be slower",a.createElement(fe,{message:`Set passbolt.js.build in ${e.application.configPath.toString()}`},a.createElement(ge,{name:"info-circle"})))),a.createElement("div",null,!0===e.application.emailNotificationEnabled?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"All email notifications will be sent"):a.createElement("span",{className:"healthcheck-warning"},a.createElement(ge,{name:"warning"}),"Some email notifications are disabled by the administrators"))),a.createElement("h4",null,"SMTP Settings"),a.createElement("div",{className:"healthcheck-smtp-section"},a.createElement("div",null,!0===e.smtpSettings.isEnabled?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The SMTP Settings plugin is enabled"):a.createElement("span",{className:"healthcheck-warning"},a.createElement(ge,{name:"warning"}),"The SMTP Settings plugin is disabled")),a.createElement("div",null,!1===e.smtpSettings.errorMessage?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"SMTP Settings coherent. You may send a test email to validate them"):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"SMTP Settings errors: ",e.smtpSettings.errorMessage.toString())),a.createElement("div",null,(()=>{if(e.smtpSettings.source)return!0===e.smtpSettings.isInDb?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The SMTP Settings source is: ",e.smtpSettings.source.toString()):a.createElement("span",{className:"healthcheck-fail"},a.createElement(ge,{name:"close"}),"The SMTP Settings source is: ",e.smtpSettings.source.toString(),a.createElement(fe,{message:"It is recommended to set the SMTP Settings in the database through the administration section."},a.createElement(ge,{name:"info-circle"})))})()),a.createElement("div",null,!0===e.smtpSettings.areEndpointsDisabled?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The SMTP Settings plugin endpoints are disabled"):a.createElement("span",{className:"healthcheck-warning"},a.createElement(ge,{name:"warning"}),"The SMTP Settings plugin endpoints are enabled",a.createElement(fe,{message:"It is recommended to disable the plugin endpoints."},a.createElement(ge,{name:"info-circle"}))))),this.isUserDirectoryEnabled&&a.createElement(a.Fragment,null,a.createElement("h4",null,"Directory Sync"),a.createElement("div",{className:"healthcheck-directorySync-section"},a.createElement("div",null,!0===e.directorySync.endpointsDisabled?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"The endpoints for updating the users directory configurations are disabled."):a.createElement("span",{className:"healthcheck-warning"},a.createElement(ge,{name:"warning"}),"The endpoints for updating the users directory configurations are enabled.",a.createElement(fe,{message:"It is recommended to disable endpoints for updating the users directory configurations."},a.createElement(ge,{name:"info-circle"})))))),this.canIUseSso&&a.createElement(a.Fragment,null,a.createElement("h4",null,"SSO"),a.createElement("div",{className:"healthcheck-sso-section"},a.createElement("div",null,!0===e.sso.sslHostVerification?a.createElement("span",{className:"healthcheck-success"},a.createElement(ge,{name:"check"}),"SSL certification validation for SSO instance is enabled."):a.createElement("span",{className:"healthcheck-warning"},a.createElement(ge,{name:"warning"}),"SSL certification validation for SSO instance is disabled.",a.createElement(fe,{message:"'Disabling the ssl verify check can lead to security attacks."},a.createElement(ge,{name:"info-circle"}))))))))():a.createElement("div",null,a.createElement(w.x6,null,"The health check API endpoint has been disabled in the server configuration."))),a.createElement("div",{className:"col4 last"},a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"What is this page?")),a.createElement("p",null,a.createElement(w.x6,null,"This page is available to help administrators diagnose if something is wrong with a passbolt installation and help keeping it secure.")),a.createElement("p",null,a.createElement(w.x6,null,"The color is really important here so it's easier for you to spot what's not running as expected")),a.createElement("div",{className:"healthcheck-color-legends"},a.createElement("div",{className:"healthcheck-success"},a.createElement(ge,{name:"check",width:18,height:18})," Everything is running as expected."),a.createElement("div",{className:"healthcheck-warning"},a.createElement(ge,{name:"warning",width:18,height:18})," Something inside your configuration is not what we recommend, but you can skip it if it has been done on purpose."),a.createElement("div",{className:"healthcheck-fail"},a.createElement(ge,{name:"close",width:18,height:18})," There is an error with the current configuration, you might want to resolve it."),a.createElement("div",{className:"healthcheck-info"},a.createElement(ge,{name:"question-circle",width:18,height:18})," This is just an information shared, no action is required."))),a.createElement("div",{className:"sidebar-help"},a.createElement("h3",null,a.createElement(w.x6,null,"Something wrong?")),a.createElement("p",null,a.createElement(w.x6,null,"Hang in there! Depending your installation, you might need to check the documentation in order to run the healthcheck from the CLI")),a.createElement("a",{className:"button",href:"https://www.passbolt.com/docs/admin/server-maintenance/passbolt-api-status/",target:"_blank",rel:"noopener noreferrer"},a.createElement(ge,{name:"document"}),a.createElement("span",null,a.createElement(w.x6,null,"Read the documentation"))))))}}lu.propTypes={context:l().object,adminHealthcheckContext:l().any,children:l().any,administrationWorkspaceContext:l().object,t:l().func};const cu=h(Ro(ru((0,w.CI)("common")(lu))));class du extends a.Component{isMfaSelected(){return Io.MFA===this.props.administrationWorkspaceContext.selectedAdministration}isMfaPolicySelected(){return Io.MFA_POLICY===this.props.administrationWorkspaceContext.selectedAdministration}isPasswordPoliciesSelected(){return Io.PASSWORD_POLICIES===this.props.administrationWorkspaceContext.selectedAdministration}isUserDirectorySelected(){return Io.USER_DIRECTORY===this.props.administrationWorkspaceContext.selectedAdministration}isEmailNotificationsSelected(){return Io.EMAIL_NOTIFICATION===this.props.administrationWorkspaceContext.selectedAdministration}isSubscriptionSelected(){return Io.SUBSCRIPTION===this.props.administrationWorkspaceContext.selectedAdministration}isInternationalizationSelected(){return Io.INTERNATIONALIZATION===this.props.administrationWorkspaceContext.selectedAdministration}isAccountRecoverySelected(){return Io.ACCOUNT_RECOVERY===this.props.administrationWorkspaceContext.selectedAdministration}isSmtpSettingsSelected(){return Io.SMTP_SETTINGS===this.props.administrationWorkspaceContext.selectedAdministration}isSelfRegistrationSelected(){return Io.SELF_REGISTRATION===this.props.administrationWorkspaceContext.selectedAdministration}isSsoSelected(){return Io.SSO===this.props.administrationWorkspaceContext.selectedAdministration}isRbacSelected(){return Io.RBAC===this.props.administrationWorkspaceContext.selectedAdministration}isUserPassphrasePoliciesSelected(){return Io.USER_PASSPHRASE_POLICIES===this.props.administrationWorkspaceContext.selectedAdministration}isPasswordExpirySelected(){return Io.PASSWORD_EXPIRY===this.props.administrationWorkspaceContext.selectedAdministration}get isHttpError403(){return Io.HTTP_403_ACCESS_DENIED===this.props.administrationWorkspaceContext.selectedAdministration}get isHttpError404(){return Io.HTTP_404_NOT_FOUND===this.props.administrationWorkspaceContext.selectedAdministration}isHealthcheckSelected(){return Io.HEALTHCHECK===this.props.administrationWorkspaceContext.selectedAdministration}render(){const e=this.props.administrationWorkspaceContext.administrationWorkspaceAction;return a.createElement("div",{id:"container",className:"page administration"},a.createElement("div",{id:"app",tabIndex:"1000"},a.createElement("div",{className:"header first"},a.createElement(Se,null)),a.createElement("div",{className:"header second"},a.createElement(Va,null),a.createElement(xn,{disabled:!0}),a.createElement(cn,{baseUrl:this.props.context.trustedDomain||this.props.context.userSettings.getTrustedDomain(),user:this.props.context.loggedInUser})),a.createElement("div",{className:"header third"},a.createElement("div",{className:"col1 main-action-wrapper"}),a.createElement(e,null)),a.createElement("div",{className:"panel main"},a.createElement("div",null,a.createElement("div",{className:"panel left"},!this.isHttpError403&&a.createElement(pl,null)),a.createElement("div",{className:"panel middle"},!this.isHttpError403&&a.createElement(Pl,null),a.createElement("div",{className:"grid grid-responsive-12"},this.isHttpError403&&a.createElement(sr,{errorCode:403}),this.isHttpError404&&a.createElement(sr,{errorCode:404}),this.isMfaSelected()&&a.createElement(Dl,null),this.isMfaPolicySelected()&&a.createElement(ym,null),this.isPasswordPoliciesSelected()&&a.createElement(ep,null),this.isUserDirectorySelected()&&a.createElement(oc,null),this.isEmailNotificationsSelected()&&a.createElement(Ec,null),this.isSubscriptionSelected()&&a.createElement(Pc,null),this.isInternationalizationSelected()&&a.createElement(qc,null),this.isAccountRecoverySelected()&&a.createElement(pd,null),this.isSmtpSettingsSelected()&&a.createElement(Qd,null),this.isSelfRegistrationSelected()&&a.createElement(fh,null),this.isSsoSelected()&&a.createElement(dm,null),this.isRbacSelected()&&a.createElement(Vm,null),this.isUserPassphrasePoliciesSelected()&&a.createElement(gp,null),this.isPasswordExpirySelected()&&a.createElement(Pp,null),this.isHealthcheckSelected()&&a.createElement(cu,null)))))))}}du.propTypes={context:l().any,administrationWorkspaceContext:l().object};const hu=h(Ro(du));class mu extends Error{constructor(e){super(e),this.name="UserAbortsOperationError"}}const pu=mu;class uu extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.initEventHandlers(),this.createInputRef()}componentDidMount(){this.focusOnPassphrase(),this.initDefaultRememberMeChoice()}getDefaultState(){return{attempt:0,processing:!1,passphrase:"",rememberMe:!1,passphraseError:"",rememberMeDuration:300}}initEventHandlers(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleRememberMeDurationSelectChange=this.handleRememberMeDurationSelectChange.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this)}async initDefaultRememberMeChoice(){const e=await this.props.context.port.request("passbolt.remember-me.get-user-latest-choice");this.setState({rememberMe:e,rememberMeDuration:this.getUntilILogOutDurationOrDefault(e)})}createInputRef(){this.passphraseInputRef=a.createRef()}focusOnPassphrase(){this.passphraseInputRef.current.focus()}close(){const e=new pu("The dialog has been closed.");this.props.context.port.emit(this.props.context.passphraseRequestId,"ERROR",e),this.props.context.setContext({passphraseRequestId:null}),this.props.onClose()}handleCloseClick(){this.close()}async handleFormSubmit(e){e.preventDefault(),this.setState({processing:!0}),await this.isValidPassphrase()?this.handleValidPassphrase():this.handleInvalidPassphrase()}async isValidPassphrase(){try{await this.props.context.port.request("passbolt.keyring.private.checkpassphrase",this.state.passphrase)}catch(e){return!1}return!0}hasRememberMeOptions(){const e=this.props.context.siteSettings.getRememberMeOptions();return null!==e&&Object.keys(e).length>0}handleValidPassphrase(){let e=!1;this.state.rememberMe&&this.hasRememberMeOptions()&&(e=this.state.rememberMeDuration),this.props.context.port.emit(this.props.context.passphraseRequestId,"SUCCESS",{passphrase:this.state.passphrase,rememberMe:e}),this.props.context.setContext({passphraseRequestId:null}),this.props.onClose()}handleInvalidPassphrase(){const e=""===this.state.passphrase,t=e?this.translate("The passphrase should not be empty."):this.translate("This is not a valid passphrase.");let s=this.state.attempt;e||s++,this.setState({processing:!1,attempt:s,passphraseError:t}),s<3&&this.focusOnPassphrase()}handleInputChange(e){const t=e.target,s="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState({[a]:s})}handleRememberMeDurationSelectChange(e){this.setState({rememberMe:!0,rememberMeDuration:e.target.value})}renderRememberMeOptions(){const e=[],t=this.props.context.siteSettings.getRememberMeOptions();for(const s in t)e.push({value:parseInt(s),label:t[s]});return e}getUntilILogOutDurationOrDefault(e){const t=this.props.context.siteSettings.getRememberMeOptions(),s=Object.keys(t).filter((e=>-1!==parseInt(e,10))),a=parseInt(s.at(0),10);return e&&-1 in t?-1:a}get translate(){return this.props.t}render(){let e=this.translate("You need your passphrase to continue.");this.state.passphraseError&&(e=this.translate("Please enter a valid passphrase."));const t=this.hasRememberMeOptions();return a.createElement(ve,{className:"passphrase-entry",title:this.translate("Please enter your passphrase."),onClose:this.handleCloseClick},this.state.attempt<3&&a.createElement("form",{onSubmit:this.handleFormSubmit},a.createElement("div",{className:"form-content"},a.createElement("div",{className:"input-password-wrapper input required "+(this.state.passphraseError?"error":"")},a.createElement("label",{htmlFor:"passphrase-entry-form-passphrase"},e),a.createElement(ma,{id:"passphrase-entry-form-passphrase",name:"passphrase",autoComplete:"off",placeholder:this.translate("Passphrase"),inputRef:this.passphraseInputRef,value:this.state.passphrase,onChange:this.handleInputChange,disabled:this.state.processing,preview:!0,securityToken:this.props.context.userSettings.getSecurityToken()})),this.state.passphraseError&&a.createElement("div",{className:"error-message"},this.state.passphraseError),t&&a.createElement("div",{className:"remember-me"},a.createElement("div",{className:"input checkbox"},a.createElement("input",{id:"passphrase-entry-form-remember-me",type:"checkbox",name:"rememberMe",checked:this.state.rememberMe,onChange:this.handleInputChange}),a.createElement("label",{htmlFor:"passphrase-entry-form-remember-me"},a.createElement(w.x6,null,"Remember it for")," ")),a.createElement(gs,{className:"inline",name:"rememberMeDuration",items:this.renderRememberMeOptions(),value:this.state.rememberMeDuration,onChange:this.handleRememberMeDurationSelectChange}))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement("button",{type:"button",className:"cancel link",onClick:this.handleCloseClick},a.createElement(w.x6,null,"Cancel")),a.createElement("button",{type:"submit",className:"button primary",role:"button"},a.createElement(w.x6,null,"Ok")))),3===this.state.attempt&&a.createElement(a.Fragment,null,a.createElement("div",{className:"form-content"},a.createElement("p",null,a.createElement(w.x6,null,"Your passphrase is wrong! The operation has been aborted."))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement("button",{type:"button",className:"primary",onClick:this.handleCloseClick},a.createElement(w.x6,null,"Close")))))}}uu.propTypes={context:l().object,onClose:l().func,t:l().func};const gu=h((0,w.CI)("common")(uu));class Cu extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handlePassphraseEntryRequestEvent=this.handlePassphraseEntryRequestEvent.bind(this)}componentDidMount(){this.listen()}listen(){this.props.context.port.on("passbolt.passphrase.request",this.handlePassphraseEntryRequestEvent)}async handlePassphraseEntryRequestEvent(e){await this.props.context.setContext({passphraseRequestId:e}),this.props.dialogContext.open(gu)}render(){return a.createElement(a.Fragment,null)}}Cu.propTypes={context:l().object,dialogContext:l().any};const bu=h(k(Cu));class Eu extends a.Component{constructor(e){super(e),this.state=this.getStateBasedOnContext(e,this.getDefaultState()),this.moveOptionChangeRef=a.createRef(),this.moveOptionKeepRef=a.createRef(),this.bindEventHandlers()}async componentDidMount(){this.setState({loading:!1,moveOption:"change"}),this.moveOptionChangeRef.current.focus()}getDefaultState(){return{loading:!0,processing:!1,moveOption:"change",cascade:!1}}bindEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}getStateBasedOnContext(e,t){const s=e.context.folders,a={message:this.translate("The folder could not be found. Maybe it was deleted or you lost access.")};s||(console.error("No folders context defined."),this.handleError(a));const n=e.context.folders.find((e=>e.id===this.props.context.folderMoveStrategyProps.folders[0]))||!1;return n?t.name=n.name:(console.error(`Folder ${this.props.context.folderMoveStrategyProps.folders[0]} not found in context.`),this.handleError(a)),t}async handleFormSubmit(e){if(e.preventDefault(),!this.state.processing){await this.toggleProcessing();try{await this.props.context.port.emit(this.props.context.folderMoveStrategyProps.requestId,"SUCCESS",{moveOption:this.state.moveOption}),this.handleSaveSuccess()}catch(e){this.handleSaveError(e)}}}handleSaveSuccess(){this.props.context.setContext({folderMoveStrategyProps:{}}),this.props.onClose()}handleSaveError(e){"UserAbortsOperationError"===e.name||(console.error(e),this.handleError(e)),this.setState({processing:!1})}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}async toggleProcessing(){const e=this.state.processing;return new Promise((t=>{this.setState({processing:!e},t())}))}handleInputChange(e){const t=e.target,s="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState({[a]:s})}handleClose(){if(this.state.processing)return;const e=new pu(this.translate("The dialog has been closed."));this.props.context.port.emit(this.props.context.folderMoveStrategyProps.requestId,"ERROR",e),this.props.context.setContext({folderMoveStrategyProps:{}}),this.props.onClose()}hasAllInputDisabled(){return this.state.processing||this.state.loading}getIntroMessage(){let e="";return e=this.isAboutItems()?a.createElement(w.x6,null,"You are about to move several items."):this.isAboutAFolder()?a.createElement(w.x6,null,"You are about to move a folder."):this.isAboutFolders()?a.createElement(w.x6,null,"You are about to move several folders."):this.isAboutAResource()?a.createElement(w.x6,null,"You are about to move one resource."):a.createElement(w.x6,null,"You are about to move several resources."),e=a.createElement("span",null,e," ",a.createElement(w.x6,null,"The permissions do not match the destination folder permissions.")),e}isAboutItems(){return this.props.context.folderMoveStrategyProps.resources&&this.props.context.folderMoveStrategyProps.folders&&this.props.context.folderMoveStrategyProps.resources.length&&this.props.context.folderMoveStrategyProps.folders.length}isAboutResources(){return this.props.context.folderMoveStrategyProps.resources&&this.props.context.folderMoveStrategyProps.resources.length>1}isAboutFolders(){return this.props.context.folderMoveStrategyProps.folders&&this.props.context.folderMoveStrategyProps.folders.length>1}isAboutAFolder(){return this.props.context.folderMoveStrategyProps.folders&&1===this.props.context.folderMoveStrategyProps.folders.length}isAboutAResource(){return this.props.context.folderMoveStrategyProps.resources&&1===this.props.context.folderMoveStrategyProps.resources.length}get translate(){return this.props.t}render(){return a.createElement(ve,{className:"move-folder-strategy-dialog",title:this.translate("How do you want to proceed?"),onClose:this.handleClose,disabled:this.hasAllInputDisabled()},a.createElement("form",{className:"folder-create-form",onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("p",null,this.getIntroMessage()),a.createElement("div",{className:"radiolist-alt"},a.createElement("div",{className:"input radio "+("change"===this.state.moveOption?"checked":"")},a.createElement("input",{name:"moveOption",value:"change",id:"moveOptionChange",type:"radio",onChange:this.handleInputChange,ref:this.moveOptionChangeRef,checked:"change"===this.state.moveOption}),a.createElement("label",{htmlFor:"moveOptionChange"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Change permissions")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"Remove old inherited permissions and apply the new destination folder permissions recursively.")))),a.createElement("div",{className:"input radio last "+("keep"===this.state.moveOption?"checked":"")},a.createElement("input",{name:"moveOption",value:"keep",id:"moveOptionKeep",type:"radio",onChange:this.handleInputChange,ref:this.moveOptionKeepRef,checked:"keep"===this.state.moveOption}),a.createElement("label",{htmlFor:"moveOptionKeep"},a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Keep existing permissions")),a.createElement("span",{className:"info"},a.createElement(w.x6,null,"Keep the original permissions, do not apply the destination folder permissions.")))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleClose}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Move")}))))}}Eu.propTypes={context:l().any,onClose:l().func,dialogContext:l().any,t:l().func};const fu=h(k((0,w.CI)("common")(Eu)));class yu extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleFolderMoveStrategyRequestEvent=this.handleFolderMoveStrategyRequestEvent.bind(this)}componentDidMount(){this.listen()}listen(){this.props.context.port.on("passbolt.folders.move-strategy.request",this.handleFolderMoveStrategyRequestEvent)}handleFolderMoveStrategyRequestEvent(e,t,s,a){const n={requestId:e,folderParentId:t,folders:s,resources:a};this.props.context.setContext({folderMoveStrategyProps:n}),this.props.dialogContext.open(fu)}render(){return a.createElement(a.Fragment,null)}}yu.propTypes={context:l().any,dialogContext:l().any};const vu=h(k(yu));class ku extends a.Component{constructor(e){super(e),this.infiniteTimerUpdateIntervalId=null,this.state=this.defaultState}get defaultState(){return{infiniteTimer:0}}componentDidMount(){this.startInfiniteTimerUpdateProgress()}startInfiniteTimerUpdateProgress(){this.isInfiniteProgressMode()&&(this.infiniteTimerUpdateIntervalId=setInterval((()=>{const e=this.state.infiniteTimer+2;this.setState({infiniteTimer:e})}),500))}componentDidUpdate(){!this.isInfiniteProgressMode()&&this.infiniteTimerUpdateIntervalId&&this.resetInterval()}componentWillUnmount(){this.resetInterval()}isInfiniteProgressMode(){return!this.props.progressContext.progressDialogProps.goals}resetInterval(){this.infiniteTimerUpdateIntervalId&&(clearInterval(this.infiniteTimerUpdateIntervalId),this.infiniteTimerUpdateIntervalId=null)}calculateProgress(){return this.props.progressContext.progressDialogProps?.goals>0?this.calculateGoalsProgress():this.calculateInfiniteProgress()}calculateInfiniteProgress(){return 100-100/Math.pow(1.1,this.state.infiniteTimer)}calculateGoalsProgress(){const e=this.props.progressContext.progressDialogProps.completed||0;let t=Math.round(100*e/this.props.progressContext.progressDialogProps.goals);return t>100&&(t=100),t}render(){const e=this.calculateProgress(),t={width:`${e}%`};return a.createElement("div",{className:"dialog-wrapper progress-dialog"},a.createElement("div",{className:"dialog"},a.createElement("div",{className:"dialog-header"},a.createElement("span",{className:"dialog-title-wrapper"},a.createElement("h2",null,this.props.progressContext.progressDialogProps.title||a.createElement(w.x6,null,"Please wait...")))),a.createElement("div",{className:"dialog-content"},a.createElement("div",{className:"form-content"},a.createElement("label",null,a.createElement(w.x6,null,"Take a deep breath and enjoy being in the present moment...")),a.createElement("div",{className:"progress-bar-wrapper"},a.createElement("span",{className:"progress-bar"},a.createElement("span",{className:"progress "+(100===e?"completed":""),style:t})),!this.isInfiniteProgressMode()&&a.createElement("div",{className:"progress-details"},a.createElement("span",{className:"progress-step-label"},this.props.progressContext.progressDialogProps.message||a.createElement(w.x6,null,"Please wait...")),a.createElement("span",{className:"progress-percent"},e,"%")))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement("button",{type:"submit",className:"disabled processing"},"Submit",a.createElement(ge,{name:"spinner"}))))))}}ku.propTypes={progressContext:l().any};const wu=Iu((0,w.CI)("common")(ku));function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},xu.apply(null,arguments)}const Su=a.createContext({progressDialogProps:null,dialogIndex:null,open:()=>{},updateMessage:()=>{},updateGoals:()=>{},close:()=>{}});class Nu extends a.Component{constructor(e){super(e),this.bindCallbacks(),this.state=this.defaultState}get defaultState(){return{progressDialogProps:null,dialogIndex:null,open:this.open,updateMessage:this.updateMessage,updateGoals:this.updateGoals,close:this.close}}bindCallbacks(){this.open=this.open.bind(this),this.updateGoals=this.updateGoals.bind(this),this.updateMessage=this.updateMessage.bind(this),this.close=this.close.bind(this)}open(e,t,s){const a={title:e,goals:t,message:s};this.setState({progressDialogProps:a});const n=this.props.dialogContext.open(wu);this.setState({dialogIndex:n})}updateMessage(e,t=!1){const s={...this.state.progressDialogProps,message:e||this.state.progressDialogProps.message,completed:t};this.setState({progressDialogProps:s})}async updateGoals(e){const t={...this.state.progressDialogProps,goals:e};this.setState({progressDialogProps:t})}async close(){this.props.dialogContext.close(this.state.dialogIndex),this.setState({progressDialogProps:{},dialogIndex:null})}render(){return a.createElement(Su.Provider,{value:this.state},this.props.children)}}Nu.displayName="ProgressContextProvider",Nu.propTypes={children:l().any,dialogContext:l().object};const Ru=k(Nu);function Iu(e){return class extends a.Component{render(){return a.createElement(Su.Consumer,null,(t=>a.createElement(e,xu({progressContext:t},this.props))))}}}class _u extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{dialogIndex:null}}bindCallbacks(){this.handleProgressDialogOpenEvent=this.handleProgressDialogOpenEvent.bind(this),this.handleProgressDialogUpdateEvent=this.handleProgressDialogUpdateEvent.bind(this),this.handleProgressDialogUpdateGoalsEvent=this.handleProgressDialogUpdateGoalsEvent.bind(this),this.handleProgressDialogCloseEvent=this.handleProgressDialogCloseEvent.bind(this)}componentDidMount(){this.listen()}listen(){this.props.context.port.on("passbolt.progress.open-progress-dialog",this.handleProgressDialogOpenEvent),this.props.context.port.on("passbolt.progress.update",this.handleProgressDialogUpdateEvent),this.props.context.port.on("passbolt.progress.update-goals",this.handleProgressDialogUpdateGoalsEvent),this.props.context.port.on("passbolt.progress.close-progress-dialog",this.handleProgressDialogCloseEvent)}handleProgressDialogOpenEvent(e,t,s){this.props.progressContext.open(e,t,s)}handleProgressDialogUpdateEvent(e,t){this.props.progressContext.updateMessage(e,t)}handleProgressDialogUpdateGoalsEvent(e){this.props.progressContext.updateGoals(e)}handleProgressDialogCloseEvent(){this.props.progressContext.close()}render(){return a.createElement(a.Fragment,null)}}_u.propTypes={context:l().any,progressContext:l().any};const Du=h(Iu(_u));class Tu extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.createInputRefs(),this.bindEventHandlers()}componentDidMount(){this.setState({loading:!1,name:""},(()=>{this.nameRef.current.focus()}))}getDefaultState(){return{loading:!0,processing:!1,inlineValidation:!1,name:this.translate("loading..."),nameError:!1,nameWarning:""}}createInputRefs(){this.nameRef=a.createRef()}bindEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleNameInputKeyUp=this.handleNameInputKeyUp.bind(this)}handleClose(){this.props.onClose()}handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.setState({[a]:s},(()=>{this.state.inlineValidation&&this.validate()}))}async handleFormSubmit(e){if(e.preventDefault(),!this.state.processing){if(this.setState({inlineValidation:this.state.inlineValidation||!0}),await this.toggleProcessing(),await this.validate(),this.hasValidationError())return await this.toggleProcessing(),void this.focusFirstFieldError();try{const e=await this.createFolder();await this.handleSaveSuccess(e.id)}catch(e){this.handleSaveError(e)}}}async handleSaveSuccess(e){await this.props.actionFeedbackContext.displaySuccess(this.translate("The folder has been added successfully")),this.props.history.push(`/app/folders/view/${e}`),this.props.onClose()}handleSaveError(e){"UserAbortsOperationError"===e.name||(console.error(e),this.handleError(e)),this.setState({processing:!1})}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}async toggleProcessing(){const e=this.state.processing;return new Promise((t=>{this.setState({processing:!e},t())}))}focusFirstFieldError(){this.nameRef.current.focus()}async createFolder(){const e={name:this.state.name,folder_parent_id:this.props.folderParentId};return await this.props.context.port.request("passbolt.folders.create",e)}async validate(){return await this.resetValidation(),await this.validateNameInput(),this.hasValidationError()}async resetValidation(){return new Promise((e=>{this.setState({nameError:!1},e())}))}validateNameInput(){let e=!1;const t=this.state.name.trim();return t.length||(e=this.translate("A name is required.")),t.length>256&&(e=this.translate("A name can not be more than 256 char in length.")),new Promise((t=>{this.setState({nameError:e},t)}))}handleNameInputKeyUp(){const e=ys(this.state.name,ks,this.translate);this.setState({nameWarning:e})}hasValidationError(){return!1!==this.state.nameError}hasAllInputDisabled(){return this.state.processing||this.state.loading}get translate(){return this.props.t}render(){return a.createElement(ve,{className:"folder-create-dialog",title:this.translate("Create a new folder"),onClose:this.handleClose,disabled:this.hasAllInputDisabled()},a.createElement("form",{className:"folder-create-form",onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input text required ${this.state.nameError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",{htmlFor:"folder-name-input"},a.createElement(w.x6,null,"Name"),this.state.nameWarning&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"folder-name-input",name:"name",ref:this.nameRef,type:"text",value:this.state.name,placeholder:this.translate("Untitled folder"),maxLength:"256",required:"required",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,onKeyUp:this.handleNameInputKeyUp,autoComplete:"off",autoFocus:!0}),this.state.nameError&&a.createElement("div",{className:"error-message"},this.state.nameError),this.state.nameWarning&&a.createElement("div",{className:"name warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.nameWarning))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleClose}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Save")}))))}}Tu.propTypes={context:l().any,actionFeedbackContext:l().any,folderParentId:l().string,onClose:l().func,dialogContext:l().any,history:l().any,t:l().func};const Pu=(0,i.y)(h(_e(k((0,w.CI)("common")(Tu)))));class Au extends a.Component{constructor(e){super(e),this.state=this.getStateBasedOnContext(e,this.getDefaultState()),this.createInputRefs(),this.bindEventHandlers()}async componentDidMount(){this.setState({loading:!1},(()=>{this.nameRef.current.focus()}))}getDefaultState(){return{loading:!0,processing:!1,inlineValidation:!1,name:this.translate("loading..."),nameError:!1,nameWarning:""}}getStateBasedOnContext(e,t){const s=e.context.folders,a={message:this.translate("The folder could not be found. Maybe it was deleted or you lost access.")};s||(console.error("No folders context defined."),this.handleError(a));const n=e.context.folders.find((t=>t.id===e.context.folder.id))||!1;return n?t.name=n.name:(console.error(`Folder ${e.context.folder.id} not found in context.`),this.handleError(a)),t}createInputRefs(){this.nameRef=a.createRef()}bindEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleNameInputKeyUp=this.handleNameInputKeyUp.bind(this)}handleClose(){this.props.onClose()}handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.setState({[a]:s},(()=>{this.state.inlineValidation&&this.validate()}))}async handleFormSubmit(e){if(e.preventDefault(),!this.state.processing){if(this.setState({inlineValidation:this.state.inlineValidation||!0}),await this.toggleProcessing(),await this.validate(),this.hasValidationError())return await this.toggleProcessing(),void this.focusFirstFieldError();try{const e=await this.updateFolder();await this.handleSaveSuccess(e.id)}catch(e){this.handleSaveError(e)}}}async handleSaveSuccess(e){await this.props.actionFeedbackContext.displaySuccess(this.translate("The folder was renamed successfully")),this.selectAndScrollToFolder(e),this.props.onClose()}handleSaveError(e){"UserAbortsOperationError"===e.name||(console.error(e),this.handleError(e)),this.setState({processing:!1})}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}async toggleProcessing(){const e=this.state.processing;return new Promise((t=>{this.setState({processing:!e},t())}))}focusFirstFieldError(){this.nameRef.current.focus()}async updateFolder(){const e={id:this.props.context.folder.id,name:this.state.name};return await this.props.context.port.request("passbolt.folders.update",e)}selectAndScrollToFolder(e){this.props.context.port.emit("passbolt.folders.select-and-scroll-to",e)}async validate(){return await this.resetValidation(),await this.validateNameInput(),this.hasValidationError()}async resetValidation(){return new Promise((e=>{this.setState({nameError:!1},e())}))}validateNameInput(){let e=!1;const t=this.state.name.trim();return t.length||(e=this.translate("A name is required.")),t.length>256&&(e=this.translate("A name can not be more than 256 char in length.")),new Promise((t=>{this.setState({nameError:e},t)}))}handleNameInputKeyUp(){const e=ys(this.state.name,256,this.translate);this.setState({nameWarning:e})}hasValidationError(){return!1!==this.state.nameError}hasAllInputDisabled(){return this.state.processing||this.state.loading}get translate(){return this.props.t}render(){return a.createElement(ve,{className:"rename-folder-dialog",title:this.translate("Rename a folder"),onClose:this.handleClose,disabled:this.hasAllInputDisabled()},a.createElement("form",{className:"folder-rename-form",onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input text required ${this.state.nameError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",{htmlFor:"folder-name-input"},a.createElement(w.x6,null,"Folder name"),this.state.nameWarning&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"folder-name-input",name:"name",ref:this.nameRef,type:"text",value:this.state.name,placeholder:this.translate("Untitled folder"),maxLength:"256",required:"required",onChange:this.handleInputChange,onKeyUp:this.handleNameInputKeyUp,disabled:this.hasAllInputDisabled(),autoComplete:"off",autoFocus:!0}),this.state.nameError&&a.createElement("div",{className:"name error-message"},this.state.nameError),this.state.nameWarning&&a.createElement("div",{className:"name warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.nameWarning))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleClose}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Rename")}))))}}Au.propTypes={context:l().any,onClose:l().func,actionFeedbackContext:l().any,dialogContext:l().any,t:l().func};const Mu=h(k(_e((0,w.CI)("common")(Au))));class Uu extends a.Component{constructor(e){super(e),this.state=this.getStateBasedOnContext(e,this.getDefaultState()),this.bindEventHandlers()}async componentDidMount(){this.setState({loading:!1})}getDefaultState(){return{loading:!0,processing:!1,cascade:!1}}bindEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}getStateBasedOnContext(e,t){const s=e.context.folders,a={message:this.translate("The folder could not be found. Maybe it was deleted or you lost access.")};s||(console.error("No folders context defined."),this.handleError(a));const n=e.context.folders.find((t=>t.id===e.context.folder.id))||!1;return n?t.name=n.name:(console.error(`Folder ${e.context.folder.id} not found in context.`),this.handleError(a)),t}async handleFormSubmit(e){if(e.preventDefault(),!this.state.processing){await this.toggleProcessing();try{this.props.loadingContext.add(),await this.props.context.port.request("passbolt.folders.delete",this.props.context.folder.id,this.state.cascade),await this.handleSaveSuccess()}catch(e){this.handleSaveError(e)}}}async handleSaveSuccess(){this.props.loadingContext.remove(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The folder was deleted successfully")),this.props.onClose()}handleSaveError(e){this.props.loadingContext.remove(),"UserAbortsOperationError"===e.name||(console.error(e),this.handleError(e)),this.setState({processing:!1})}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}async toggleProcessing(){const e=this.state.processing;return new Promise((t=>{this.setState({processing:!e},t())}))}handleInputChange(e){const t=e.target,s="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState({[a]:s})}handleClose(){this.state.processing||this.props.onClose()}hasAllInputDisabled(){return this.state.processing||this.state.loading}get translate(){return this.props.t}render(){return a.createElement(ve,{className:"folder-create-dialog",title:this.translate("Delete folder?"),onClose:this.handleClose,disabled:this.hasAllInputDisabled()},a.createElement("form",{className:"folder-create-form",onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("p",null,a.createElement(w.x6,null,"Are you sure you want to delete the folder ",a.createElement("strong",{className:"dialog-variable"},{folderName:this.state.name}),"?")),a.createElement("p",null,a.createElement(w.x6,null,"This action cannot be undone. Other users may lose access.")),a.createElement("div",{className:"input checkbox"},a.createElement("input",{id:"delete-cascade",type:"checkbox",name:"cascade",onChange:this.handleInputChange,autoFocus:!0,disabled:this.hasAllInputDisabled()}),"",a.createElement("label",{htmlFor:"delete-cascade"},a.createElement(w.x6,null,"Also delete items inside this folder.")))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleClose}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Delete"),warning:!0}))))}}Uu.propTypes={context:l().any,onClose:l().func,actionFeedbackContext:l().any,dialogContext:l().any,loadingContext:l().any,t:l().func};const Fu=h(He(k(_e((0,w.CI)("common")(Uu)))));class Lu{constructor(e,t){this._folders=t||[],this._resources=e||[],this._permissions=[],this._aroPermissions=[],this._aros={},this._acos=[],this._resources.forEach((e=>{e._type="Resource",this._acos.push(e)})),this._folders.forEach((e=>{e._type="Folder",this._acos.push(e)})),this._acos.forEach((e=>{e.permissions.forEach((e=>{const t=e.user||e.group;this._aros[t.id]||(this._aros[t.id]=t),this._permissions.push(e)}))})),this._changes=[]}getChanges(){return this._changes}getResourcesChanges(){return this._changes.filter((e=>"Resource"===e.aco))}getFoldersChanges(){return this._changes.filter((e=>"Folder"===e.aco))}getAcos(){return this._acos}isOriginalResourcesOwner(){return this._acos.reduce(((e,t)=>e&&15===t.permission.type),!0)}aggregatePermissionsByAro(){const e=this._permissions.reduce(((e,t)=>{let s=e.find((e=>e.id===t.aro_foreign_key));if(!s){const a=t.user||t.group;s={id:a.id,aro:a,type:t.type,permissions:[]},e.push(s)}return s.type=s.type===t.type?s.type:-1,s.permissions.push(t),e}),[]);return e.forEach((e=>{e.permissions.length!==this._acos.length&&(e.type=-1),-1===e.type&&(e.variesDetails=this._acos.reduce(((t,s)=>{const a=e.permissions.filter((e=>e.aco_foreign_key===s.id)),n=a[0]?.type||0,r=s.metadata.name;return t[n].push(r),t}),{0:[],1:[],7:[],15:[]}))})),e.sort(((e,t)=>{const s=e.aro.profile?e.aro.profile.first_name:e.aro.name,a=t.aro.profile?t.aro.profile.first_name:t.aro.name;return s<a?-1:s>a?1:0})),this._aroPermissions=e,this._aroPermissions}hasChanges(e){return void 0!==this._changes.find((t=>t.aro_foreign_key===e))}addAroPermissions(e){return this._aros[e.id]=e,this.updateAroPermissions(e.id,1),{id:e.id,aro:e,type:1,permissions:[]}}updateAroPermissions(e,t){this._removeAroChanges(e),this._acos.forEach((s=>{const a=this.getAcoAroPermission(s,e);if(a){if(a.type!==t){const e=JSON.parse(JSON.stringify(a));e.type=t,this._changes.push(e)}}else{const a=this._aros[e],n=this._buildChange(s,a,t);this._changes.push(n)}}))}deleteAroPermissions(e){this._removeAroChanges(e),this._acos.forEach((t=>{const s=this.getAcoAroPermission(t,e);if(s){const e=JSON.parse(JSON.stringify(s));e.delete=!0,this._changes.push(e)}})),delete this._aros[e]}getAcoAroPermission(e,t){return this._permissions.find((s=>s.aro_foreign_key===t&&s.aco_foreign_key===e.id))}getResourcesWithNoOwner(){return this._acos.filter((e=>{const t=this._changes.filter((t=>t.aco_foreign_key===e.id));if(t.find((e=>15===e.type&&!e.delete)))return!1;const s=this._permissions.reduce(((t,s)=>(s.aco_foreign_key===e.id&&15===s.type&&(t=[...t,s.id]),t)),[]);return t.filter((e=>(e.delete||15!==e.type)&&-1!==s.indexOf(e.id))).length===s.length}))}_removeAroChanges(e){this._acos.forEach((t=>{this._changes=this._changes.filter((s=>!(s.aco_foreign_key===t.id&&s.aro_foreign_key===e)))}))}_buildChange(e,t,s){return{is_new:!0,aro:t.profile?"User":"Group",aro_foreign_key:t.id,aco:e._type,aco_foreign_key:e.id,type:s}}}class Ou extends a.Component{handleCloseClick(){this.props.onClose()}getClassName(){let e="remove-item button button-transparent";return this.props.disabled&&(e+=" disabled"),e}render(){return a.createElement("button",{type:"button",className:this.getClassName(),onClick:this.handleCloseClick.bind(this)},a.createElement(ge,{name:"close"}),a.createElement("span",{className:"visually-hidden"},a.createElement(w.x6,null,"Remove")))}}Ou.propTypes={onClose:l().func,disabled:l().bool};const Vu=(0,w.CI)("common")(Ou);class Hu extends a.Component{render(){return a.createElement("span",{className:"share-varies-details"},this.props.variesDetails[0].length>0&&a.createElement("span",null,a.createElement("strong",null,a.createElement(w.x6,null,"No access"),": ",this.props.variesDetails[0].join(", ")),a.createElement("br",null)),this.props.variesDetails[1].length>0&&a.createElement("span",null,a.createElement("strong",null,a.createElement(w.x6,null,"Can read"),": ",this.props.variesDetails[1].join(", ")),a.createElement("br",null)),this.props.variesDetails[7].length>0&&a.createElement("span",null,a.createElement("strong",null,a.createElement(w.x6,null,"Can edit"),": ",this.props.variesDetails[7].join(", ")),a.createElement("br",null)),this.props.variesDetails[15].length>0&&a.createElement("span",null,a.createElement("strong",null,a.createElement(w.x6,null,"Is owner"),": ",this.props.variesDetails[15].join(", ")),a.createElement("br",null)))}}Hu.propTypes={variesDetails:l().object};const qu=(0,w.CI)("common")(Hu);class ju extends a.Component{constructor(e){if(super(e),this.state=this.defaultState,!Number.isInteger(e.permissionType))throw new TypeError(this.translate("Invalid permission type for share permission item."));this.state.permissionType=e.permissionType,this.bindEventHandlers()}get defaultState(){return{tooltipFingerprintMessage:null}}componentDidUpdate(e){e.permissionType!==this.props.permissionType&&this.setState({permissionType:this.props.permissionType})}bindEventHandlers(){this.handleUpdate=this.handleUpdate.bind(this),this.handleDelete=this.handleDelete.bind(this),this.onTooltipFingerprintMouseHover=this.onTooltipFingerprintMouseHover.bind(this)}getAroDetails(){return this.props.aro.profile?this.props.aro.username:"Group"}isInputDisabled(){return this.props.disabled}getSelectClassName(){return this.isInputDisabled()?"permission inline disabled":"permission inline"}getAroName(){if(this.props.aro.profile){const e=this.props.aro.profile;return`${e.first_name} ${e.last_name}${this.isUserSuspended?` ${this.translate("(suspended)")}`:""}`}return this.props.aro.name}async onTooltipFingerprintMouseHover(){if(this.state.tooltipFingerprintMessage)return;const e=await this.props.context.port.request("passbolt.keyring.get-public-key-info-by-user",this.props.aro.id),t=a.createElement(ss,{fingerprint:e.fingerprint});this.setState({tooltipFingerprintMessage:t})}isUser(){return!this.isGroup()}isGroup(){return!(this.props.aro&&this.props.aro.profile)}getClassName(){let e="row";return this.props.updated&&(e+=" permission-updated"),this.isUserSuspended&&(e+=" suspended"),e}handleUpdate(e){const t=parseInt(e.target.value);this.props.onUpdate(this.props.id,t)}handleDelete(){this.props.onDelete(this.props.id)}get permissions(){const e=[{value:"1",label:this.translate("can read")},{value:"7",label:this.translate("can update")},{value:"15",label:this.translate("is owner")}];return this.props.variesDetails&&e.push({value:"-1",label:this.translate("varies")}),e}get isUserSuspended(){return this.props.context.siteSettings.canIUse("disableUser")&&Zt(this.props.aro)}get translate(){return this.props.t}render(){return a.createElement("li",{id:`permission-item-${this.props.id}`,className:this.getClassName()},this.isUser()&&a.createElement(Gt,{user:this.props.aro,baseUrl:this.props.context.userSettings.getTrustedDomain()}),this.isGroup()&&a.createElement($t,{group:this.props.aro}),a.createElement("div",{className:"aro"},a.createElement("div",{className:"aro-name"},a.createElement("span",{className:"ellipsis"},this.getAroName()),this.isUser()&&a.createElement(Xt,{message:this.state.tooltipFingerprintMessage||a.createElement(es,null),direction:"auto",onMouseHover:this.onTooltipFingerprintMouseHover},a.createElement(ge,{name:"info-circle",baseline:!0}))),a.createElement("div",{className:"aro-details"},a.createElement("span",{className:"ellipsis"},this.getAroDetails()))),this.props.variesDetails&&a.createElement(fe,{message:a.createElement(qu,{variesDetails:this.props.variesDetails}),direction:"left"},a.createElement(ge,{name:"info-circle"})),a.createElement("div",{className:"rights"},a.createElement(gs,{name:"permissionSelect",className:this.getSelectClassName(),items:this.permissions,value:this.state.permissionType.toString(),disabled:this.isInputDisabled(),onChange:this.handleUpdate,direction:this.props.isLastItemDisplayed?"top":"bottom"})),a.createElement("div",{className:"actions"},a.createElement(Vu,{onClose:this.handleDelete,disabled:this.isInputDisabled()})))}}ju.propTypes={context:l().any,id:l().string,aro:l().object,variesDetails:l().object,updated:l().bool,disabled:l().bool,onUpdate:l().func,onDelete:l().func,permissionType:l().number,isLastItemDisplayed:l().bool,t:l().func};const Wu=h((0,w.CI)("common")(ju));class zu extends a.Component{constructor(e){super(e),this.resources=[],this.folders=[],this.state=this.getDefaultState(),this.shareChanges=null,this.permissionListRef=a.createRef(),this.bindEventHandlers()}async componentDidMount(){this.props.context.shareDialogProps.resourcesIds&&(this.resources=await this.props.context.port.request("passbolt.resources.find-all-by-ids-for-display-permissions",this.props.context.shareDialogProps.resourcesIds)),this.props.context.shareDialogProps.foldersIds&&(this.folders=await this.props.context.port.request("passbolt.share.get-folders",this.props.context.shareDialogProps.foldersIds)),this.shareChanges=new Lu(this.resources,this.folders);const e=this.shareChanges.aggregatePermissionsByAro();this.setState({loading:!1,name:"",permissions:e},(()=>{this.permissionListRef.current.scrollTo(0)}))}getDefaultState(){return{loading:!0,processing:!1,permissions:null,autocompleteOpen:!1}}bindEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleAutocompleteSelect=this.handleAutocompleteSelect.bind(this),this.handleAutocompleteClose=this.handleAutocompleteClose.bind(this),this.handleAutocompleteOpen=this.handleAutocompleteOpen.bind(this),this.fetchAutocompleteItems=this.fetchAutocompleteItems.bind(this),this.handlePermissionUpdate=this.handlePermissionUpdate.bind(this),this.handlePermissionDelete=this.handlePermissionDelete.bind(this),this.renderItem=this.renderItem.bind(this),this.renderContainer=this.renderContainer.bind(this)}handleClose(){this.props.onClose()}handleAutocompleteOpen(){this.setState({autocompleteOpen:!0})}handleAutocompleteClose(){this.setState({autocompleteOpen:!1})}async handleFormSubmit(e){if(e.preventDefault(),!this.state.autocompleteOpen&&!this.state.processing&&!this.state.autocompleteItems){await this.toggleProcessing();try{await this.shareSave(),await this.handleSaveSuccess()}catch(e){this.handleSaveError(e)}}}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The permissions have been changed successfully.")),await this.props.resourceWorkspaceContext.onResourceShared(),this.props.onClose()}handleSaveError(e){"UserAbortsOperationError"===e.name||(console.error(e),this.handleError(e)),this.setState({processing:!1})}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}handleAutocompleteSelect(e){const t=this.state.permissions.filter((t=>t.aro.id===e.id));if(t.length>0)return;const s=this.shareChanges.addAroPermissions(e);s.updated=!0;const a=this.state.permissions;a.push(s),this.setState({permissions:a},(()=>{this.permissionListRef.current.scrollTo(this.state.permissions.length-1)}))}handlePermissionUpdate(e,t){this.shareChanges.updateAroPermissions(e,t);const s=this.state.permissions.map((s=>(s.aro.id===e&&(s.type=t,s.updated=this.shareChanges.hasChanges(e)),s)));this.setState({permissions:s})}handlePermissionDelete(e){this.shareChanges.deleteAroPermissions(e);const t=this.state.permissions.filter((t=>t.aro.id!==e));this.setState({permissions:t})}async shareSave(){if(this.props.context.shareDialogProps.resourcesIds&&this.props.context.shareDialogProps.foldersIds)throw new Error(this.translate("Multi resource and folder share is not implemented."));this.props.context.shareDialogProps.resourcesIds?await this.props.context.port.request("passbolt.share.resources.save",this.props.context.shareDialogProps.resourcesIds,this.shareChanges.getResourcesChanges()):this.props.context.shareDialogProps.foldersIds&&await this.props.context.port.request("passbolt.share.folders.save",this.props.context.shareDialogProps.foldersIds[0],this.shareChanges.getFoldersChanges())}async fetchAutocompleteItems(e){e=e.toLowerCase();const t=await this.props.context.port.request("passbolt.share.search-aros",e),s=this.state.permissions;let a=0;return t.filter((e=>{const t=a<ds.DISPLAY_LIMIT&&(n=e.id,!s.some((e=>e.id===n)));var n;return t&&a++,t}))}async getFingerprintForUser(e){return(await this.props.context.port.request("passbolt.keyring.get-public-key-info-by-user",e)).fingerprint}hasAllInputDisabled(){return this.state.processing||this.state.loading}isAboutItems(){return this.props.context.shareDialogProps.resourcesIds&&this.props.context.shareDialogProps.foldersIds&&this.props.context.shareDialogProps.resourcesIds.length&&this.props.context.shareDialogProps.foldersIds.length}isAboutResources(){return this.props.context.shareDialogProps.resourcesIds&&this.props.context.shareDialogProps.resourcesIds.length>1}isAboutFolders(){return this.props.context.shareDialogProps.foldersIds&&this.props.context.shareDialogProps.foldersIds.length>1}isAboutAFolder(){return this.props.context.shareDialogProps.foldersIds&&1===this.props.context.shareDialogProps.foldersIds.length}isAboutAResource(){return this.props.context.shareDialogProps.resourcesIds&&1===this.props.context.shareDialogProps.resourcesIds.length}getTitle(){return this.state.loading?this.translate("Loading..."):this.isAboutItems()?this.translate("Share {{numberItems}} items",{numberItems:this.props.context.shareDialogProps.resourcesIds.length+this.props.context.shareDialogProps.foldersIds.length}):this.isAboutAResource()?this.translate("Share resource"):this.isAboutResources()?this.translate("Share {{numberResource}} resources",{numberResource:this.props.context.shareDialogProps.resourcesIds.length}):this.isAboutAFolder()?this.translate("Share folder"):this.isAboutFolders()?this.translate("Share {numberFolder} folders",{numberFolder:this.props.context.shareDialogProps.foldersIds.length}):void 0}getSubtitle(){if(!this.state.loading)return this.isAboutAResource()?this.resources[0].metadata.name:this.isAboutAFolder()?this.folders[0].name:void 0}getTooltip(){if(!this.shareChanges)return"";const e=this.shareChanges.getAcos();return e&&e.length&&1!==e.length?e.map((e=>"Resource"===e.permission.aco?e.metadata.name:e.name)).join(", "):""}async toggleProcessing(){const e=this.state.processing;return new Promise((t=>{this.setState({processing:!e},t())}))}hasNoOwner(){return this.shareChanges&&this.shareChanges.getResourcesWithNoOwner().length>0}hasChanges(){return this.shareChanges&&this.shareChanges.getChanges().length>0}hasSubmitDisabled(){return this.hasNoOwner()||this.hasAllInputDisabled()||!this.hasChanges()}renderItem(e,t){const s=this.state.permissions[e],n=s.aro.id;return a.createElement(Wu,{id:s.aro.id,key:n,aro:s.aro,permissionType:s.type,variesDetails:s.variesDetails,updated:s.updated,disabled:this.hasAllInputDisabled(),onUpdate:this.handlePermissionUpdate,onDelete:this.handlePermissionDelete,isLastItemDisplayed:t>=2,canShowUserAsSuspended:this.isSuspendedUserFeatureEnabled})}renderContainer(e,t){return a.createElement("ul",{className:"permissions",ref:t},e)}get isSuspendedUserFeatureEnabled(){return this.props.context.siteSettings.canIUse("disableUser")}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.getTitle(),subtitle:this.getSubtitle(),tooltip:this.getTooltip(),onClose:this.handleClose,disabled:this.hasAllInputDisabled()},a.createElement("form",{className:"share-form",onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content scroll permission-edit"},this.state.loading&&a.createElement("ul",{className:"permissions"},a.createElement(ms,null),a.createElement(ms,null),a.createElement(ms,null)),!this.state.loading&&a.createElement(Lt(),{itemRenderer:this.renderItem,itemsRenderer:this.renderContainer,length:this.state.permissions.length,minSize:this.props.listMinSize,type:this.state.permissions.length<3?"simple":"uniform",ref:this.permissionListRef,threshold:30})),this.hasNoOwner()&&a.createElement("div",{className:"message error"},a.createElement(w.x6,null,"Please make sure there is at least one owner.")),this.hasChanges()&&!this.hasNoOwner()&&a.createElement("div",{className:"message warning"},a.createElement(w.x6,null,"Click save to apply your pending changes.")),a.createElement("div",{className:"form-content permission-add"},a.createElement(ds,{id:"share-name-input",name:"name",label:this.translate("Share with people or groups"),placeholder:this.translate("Start typing a user or group name"),searchCallback:this.fetchAutocompleteItems,onSelect:this.handleAutocompleteSelect,onOpen:this.handleAutocompleteOpen,onClose:this.handleAutocompleteClose,disabled:this.hasAllInputDisabled(),baseUrl:this.props.context.userSettings.getTrustedDomain(),canShowUserAsSuspended:this.isSuspendedUserFeatureEnabled})),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleClose}),a.createElement(Vt,{disabled:this.hasSubmitDisabled(),processing:this.state.processing,value:this.translate("Save")}))))}}zu.defaultProps={listMinSize:4},zu.propTypes={context:l().any,onClose:l().func,resourceWorkspaceContext:l().any,actionFeedbackContext:l().any,dialogContext:l().any,listMinSize:l().number,t:l().func};const Bu=h(wt(_e(k((0,w.CI)("common")(zu)))));class Gu extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers(),this.createReferences()}get defaultState(){return{password:"",keyFile:null,actions:{processing:!1}}}bindHandlers(){this.handleInputChange=this.handleInputChange.bind(this),this.handleSelectFile=this.handleSelectFile.bind(this),this.handleFileSelected=this.handleFileSelected.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}createReferences(){this.fileUploaderRef=a.createRef(),this.passwordInputRef=a.createRef()}get selectedFilename(){return this.state.keyFile?this.state.keyFile.name:""}get isProcessing(){return this.state.actions.processing}get areActionsAllowed(){return!this.isProcessing}handleSelectFile(){this.fileUploaderRef.current.click()}async handleFileSelected(e){const[t]=e.target.files;await this.setState({keyFile:t})}handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.setState({[a]:s})}handleCancel(){this.close()}async handleSubmit(e){e.preventDefault(),await this.setState({actions:{processing:!0}}),await this.export().then(this.onExportSuccess.bind(this)).catch(this.onExportFailure.bind(this))}async export(){const e={credentials:{password:this.state.password,keyfile:await this.readFile()}},t=this.props.resourceWorkspaceContext.resourcesToExport.foldersIds,s=this.props.resourceWorkspaceContext.resourcesToExport.resourcesIds,a={format:this.props.format,folders_ids:t,resources_ids:s,options:e};await this.props.context.port.request("passbolt.export-resources.export-to-file",a)}readFile(){if(!this.state.keyFile)return;const e=new FileReader;return new Promise(((t,s)=>{e.onloadend=e=>{try{const s=e.target.result.split(",")[1];t(s)}catch(e){s(e)}},e.readAsDataURL(this.state.keyFile)}))}async onExportSuccess(){await this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds:null,foldersIds:null}),await this.props.actionFeedbackContext.displaySuccess(this.translate("The passwords have been exported successfully")),this.close()}onExportFailure(e){if("UserAbortsOperationError"===e.name)return void this.setState({actions:{processing:!1}});const t={error:e};this.setState({actions:{processing:!1}}),this.props.dialogContext.open(we,t)}close(){this.props.onClose()}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("Enter the password and/or key file"),className:"export-password-dialog",onClose:this.handleCancel,disabled:!this.areActionsAllowed},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("div",{className:"form-content"},a.createElement("div",{className:"input-password-wrapper input "+(this.areActionsAllowed?"":"disabled")},a.createElement("label",{htmlFor:"password"},a.createElement(w.x6,null,"Keepass password")),a.createElement(ma,{id:"password",name:"password",value:this.state.password,onChange:this.handleInputChange,placeholder:this.translate("Passphrase"),autoComplete:"off",inputRef:this.passwordInputRef,preview:!0,disabled:!this.areActionsAllowed})),a.createElement("div",{className:"input file "+(this.areActionsAllowed?"":"disabled")},a.createElement("input",{type:"file",ref:this.fileUploaderRef,id:"dialog-exports-passwords",onChange:this.handleFileSelected}),a.createElement("label",{htmlFor:"dialog-exports-passwords"},a.createElement(w.x6,null,"Keepass key file (optional)")),a.createElement("div",{className:"input-file-inline"},a.createElement("input",{type:"text",placeholder:this.translate("No key file selected"),disabled:!0,value:this.selectedFilename}),a.createElement("button",{type:"button",className:"button primary",disabled:!this.areActionsAllowed,onClick:this.handleSelectFile},a.createElement("span",null,a.createElement(w.x6,null,"Choose a file")))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:!this.areActionsAllowed,onClick:this.handleCancel}),a.createElement(Vt,{disabled:!this.areActionsAllowed,processing:this.isProcessing,value:this.translate("Export")}))))}}Gu.propTypes={context:l().any,onClose:l().func,actionFeedbackContext:l().any,dialogContext:l().any,resourceWorkspaceContext:l().any,format:l().string,t:l().func};const Ku=h(wt(_e(k((0,w.CI)("common")(Gu)))));class $u extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{selectedExportFormat:this.exportFormats[0].value,actions:{processing:!1}}}bindHandlers(){this.handleExport=this.handleExport.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleClose=this.handleClose.bind(this),this.handleExportFormatSelected=this.handleExportFormatSelected.bind(this)}componentDidMount(){this.findContentToExport()}findContentToExport(){const e=this.findFoldersIdsToExport(),t=this.findResourcesIdsToExport(e);this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds:t,foldersIds:e})}get isProcessing(){return this.state.actions.processing}get areActionsAllowed(){return!this.isProcessing}get hasFoldersToExport(){const e=this.props.resourceWorkspaceContext.resourcesToExport.foldersIds;return e&&e.length>0}get hasResourcesToExport(){const e=this.props.resourceWorkspaceContext.resourcesToExport.resourcesIds;return e&&e.length>0}findFoldersIdsToExport(){if(!this.hasFoldersToExport)return[];const e=this.props.resourceWorkspaceContext.resourcesToExport.foldersIds,t=e.map((e=>this.getChildrenFoldersIds(e))).flat();return[...e,...t]}getChildrenFoldersIds(e){const t=this.props.context.folders.filter((t=>t.folder_parent_id===e)).map((e=>e.id));if(0!==t.length){const e=t.map((e=>this.getChildrenFoldersIds(e)));return[...t,...e.flat()]}return[]}findResourcesIdsToExport(e){const t=this.getResourcesIdsOfFoldersToExport(e),s=this.props.resourceWorkspaceContext.resourcesToExport.resourcesIds||[];return Array.from(new Set([...s,...t]))}getResourcesIdsOfFoldersToExport(e){return this.props.context.resources.filter((t=>e.some((e=>e===t.folder_parent_id)))).map((e=>e.id))}get exportFormats(){return[{label:"kdbx (keepass)",value:"kdbx"},{label:"kdbx (keepassXC & others)",value:"kdbx-others"},{label:"csv (keepass)",value:"csv-kdbx"},{label:"csv (lastpass)",value:"csv-lastpass"},{label:"csv (1password)",value:"csv-1password"},{label:"csv (chromium based browsers)",value:"csv-chromium"},{label:"csv (bitwarden)",value:"csv-bitwarden"},{label:"csv (mozilla)",value:"csv-mozilla"},{label:"csv (safari)",value:"csv-safari"},{label:"csv (dashlane)",value:"csv-dashlane"},{label:"csv (nordpass)",value:"csv-nordpass"},{label:"csv (logmeonce)",value:"csv-logmeonce"}]}handleExportFormatSelected(e){this.selectFormat(e.target.value)}async handleExport(e){e.preventDefault(),this.state.selectedExportFormat.startsWith("csv")?(await this.setState({actions:{processing:!0}}),this.export().then(this.onExportSuccess.bind(this)).catch(this.onExportFailure.bind(this))):(await this.props.dialogContext.open(Ku,{format:this.state.selectedExportFormat}),this.close())}async handleCancel(){await this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds:null,foldersIds:null}),this.close()}async handleClose(){await this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds:null,foldersIds:null}),this.close()}selectFormat(e){this.setState({selectedExportFormat:e})}async export(){const e=this.props.resourceWorkspaceContext.resourcesToExport.foldersIds,t=this.props.resourceWorkspaceContext.resourcesToExport.resourcesIds,s={format:this.state.selectedExportFormat,folders_ids:e,resources_ids:t};await this.props.context.port.request("passbolt.export-resources.export-to-file",s)}async onExportSuccess(){await this.setState({actions:{processing:!1}}),await this.props.actionFeedbackContext.displaySuccess(this.translate("The passwords have been exported successfully")),await this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds:null,foldersIds:null}),this.close()}onExportFailure(e){if("UserAbortsOperationError"===e.name)return void this.setState({actions:{processing:!1}});const t={error:e};this.setState({actions:{processing:!1}}),this.props.dialogContext.open(we,t)}close(){this.props.onClose()}get translate(){return this.props.t}render(){const e=this.hasFoldersToExport&&this.props.resourceWorkspaceContext.resourcesToExport.foldersIds,t=this.hasResourcesToExport&&this.props.resourceWorkspaceContext.resourcesToExport.resourcesIds;return a.createElement(ve,{title:this.translate("Export passwords"),onClose:this.handleClose,disabled:!this.areActionsAllowed},a.createElement("form",{onSubmit:this.handleExport,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:"select-wrapper input required "+(this.areActionsAllowed?"":"disabled")},a.createElement("label",{htmlFor:"export-format"},a.createElement(w.x6,null,"Choose the export format (csv and kdbx are supported)")),a.createElement(gs,{id:"export-format",value:this.state.selectedExportFormat,items:this.exportFormats,onChange:this.handleExportFormatSelected,disabled:!this.areActionsAllowed})),this.hasFoldersToExport&&a.createElement("p",null,a.createElement("em",null,this.translate("{{count}} folder is going to be exported.",{count:e.length}))),this.hasResourcesToExport&&a.createElement("p",null,a.createElement("em",null,this.translate("{{count}} password is going to be exported.",{count:t.length})))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:!this.areActionsAllowed,processing:this.isProcessing,onClick:this.handleCancel}),a.createElement(Vt,{disabled:!this.areActionsAllowed,processing:this.isProcessing,value:this.translate("Export")}))))}}$u.propTypes={context:l().any,onClose:l().func,resourceWorkspaceContext:l().object,dialogContext:l().object,actionFeedbackContext:l().object,t:l().func};const Zu=h(_e(k(wt((0,w.CI)("common")($u)))));class Yu extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleCreateFolderItemClickEvent=this.handleCreateFolderItemClickEvent.bind(this),this.handleRenameFolderItemClickEvent=this.handleRenameFolderItemClickEvent.bind(this),this.handleShareFolderItemClickEvent=this.handleShareFolderItemClickEvent.bind(this),this.handleExportFolderItemClickEvent=this.handleExportFolderItemClickEvent.bind(this),this.handleDeleteFolderItemClickEvent=this.handleDeleteFolderItemClickEvent.bind(this),this.handleHide=this.handleHide.bind(this)}handleHide(){"function"==typeof this.props.onBeforeHide&&this.props.onBeforeHide(),this.props.hide()}handleCreateFolderItemClickEvent(){this.canUpdate()&&(this.props.dialogContext.open(Pu,{folderParentId:this.props.folder.id}),this.handleHide())}handleRenameFolderItemClickEvent(){this.canUpdate()&&(this.props.context.setContext({folder:this.props.folder}),this.props.dialogContext.open(Mu),this.handleHide())}handleShareFolderItemClickEvent(){if(this.canShare()){const e=[this.props.folder.id];this.props.context.setContext({shareDialogProps:{foldersIds:e}}),this.props.dialogContext.open(Bu),this.handleHide()}}async handleExportFolderItemClickEvent(){this.canExport()&&(await this.export(),this.handleHide())}handleDeleteFolderItemClickEvent(){this.canUpdate()&&(this.props.context.setContext({folder:this.props.folder}),this.props.dialogContext.open(Fu),this.handleHide())}canUpdate(){return this.props.folder.permission.type>=7}canShare(){return 15===this.props.folder.permission.type}canExport(){return this.props.context.siteSettings.canIUse("export")&&this.props.rbacContext.canIUseUiAction(_)}async export(){const e=[this.props.folder.id];await this.props.resourceWorkspaceContext.onResourcesToExport({foldersIds:e}),await this.props.dialogContext.open(Zu)}render(){const e=this.canUpdate(),t=this.canShare(),s=this.canExport(),n=this.props.rbacContext.canIUseUiAction(q);return a.createElement(Ks,{hide:this.handleHide,left:this.props.left,top:this.props.top,className:this.props.className},a.createElement("li",{key:"option-create-folder",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",onClick:this.handleCreateFolderItemClickEvent,disabled:!e,className:"create link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Create folder"))))))),a.createElement("li",{key:"option-rename-folder",className:"separator-after ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",onClick:this.handleRenameFolderItemClickEvent,disabled:!e,className:"rename link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Rename"))))))),n&&a.createElement("li",{key:"option-share-folder",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",onClick:this.handleShareFolderItemClickEvent,disabled:!t,className:"share link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Share"))))))),s&&a.createElement("li",{key:"option-export-folder",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"export link no-border",onClick:this.handleExportFolderItemClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Export"))))))),a.createElement("li",{key:"option-delete-folder",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",onClick:this.handleDeleteFolderItemClickEvent,disabled:!e,className:"delete link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Delete"))))))))}}Yu.propTypes={context:l().any,rbacContext:l().any,folder:l().object,hide:l().func,onBeforeHide:l().func,left:l().number,top:l().number,className:l().string,dialogContext:l().any,resourceWorkspaceContext:l().any};const Ju=h(pe(wt(k((0,w.CI)("common")(Yu)))));function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Xu.apply(null,arguments)}const Qu=a.createContext({dragAndDrops:null,dragging:!1,draggedItems:null,onDragStart:()=>{},onDragEnd:()=>{}});class eg extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.createRefs()}createRefs(){this.elementRef=a.createRef()}get defaultState(){return{displayDraggedItemsComponent:[],dragging:!1,draggedItems:null,onDragStart:this.handleDragStart.bind(this),onDragEnd:this.handleDragEnd.bind(this)}}async handleDragStart(e,t,s){await this.setState({displayDraggedItemsComponent:[{draggedItemComponent:t}],dragging:!0,draggedItems:s}),e.dataTransfer.setDragImage(this.elementRef.current,10,10)}async handleDragEnd(){await this.setState({displayDraggedItemsComponent:[],dragging:!1,draggedItems:null})}render(){return a.createElement(Qu.Provider,{value:this.state},a.createElement("div",{className:"drag-and-drop-wrapper",ref:this.elementRef},this.state.displayDraggedItemsComponent.map(((e,t)=>a.createElement(e.draggedItemComponent,{key:t})))),this.props.children)}}function tg(e){return class extends a.Component{render(){return a.createElement(Qu.Consumer,null,(t=>a.createElement(e,Xu({dragContext:t},this.props))))}}}eg.displayName="dragContextProvider",eg.propTypes={children:l().any};class sg extends a.Component{isDragging(){return this.props.dragContext.dragging}get draggedItems(){return this.props.dragContext.draggedItems}canDragItems(e){let t=e.folders.reduce(((e,t)=>e&&this.canDragItem(t)),!0);const s=e.resources;return t=t&&s.reduce(((e,t)=>e&&this.canDragItem(t)),!0),t}canDragItem(e){if(null===e.folder_parent_id)return!0;const t=this.props.context.folders.find((t=>t.id===e.folder_parent_id));return!(!t.personal&&(t.permission.type<7||e.permission.type<7))}render(){const e=this.canDragItems(this.draggedItems),t=e?this.draggedItems.folders[0].name:"You are not allowed to move this content";return a.createElement("div",{className:"drag-and-drop item-1"},!e&&a.createElement(ge,{name:"ban"}),a.createElement("span",{className:"message "+(e?"":"not-allowed")},t),a.createElement("span",{className:"count"},"1"))}}sg.contextType=m,sg.propTypes={context:l().any,resourceWorkspaceContext:l().any,dragContext:l().any};const ag=h(wt(tg(sg)));class ng extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{draggingOver:!1,draggingOverSince:null,open:!1,moreMenuOpen:!1}}bindCallbacks(){this.handleCloseMoreMenu=this.handleCloseMoreMenu.bind(this),this.handleToggleOpenFolder=this.handleToggleOpenFolder.bind(this),this.handleContextualMenuEvent=this.handleContextualMenuEvent.bind(this),this.handleDragEndEvent=this.handleDragEndEvent.bind(this),this.handleDragLeaveEvent=this.handleDragLeaveEvent.bind(this),this.handleDragOverEvent=this.handleDragOverEvent.bind(this),this.handleDragStartEvent=this.handleDragStartEvent.bind(this),this.handleDropEvent=this.handleDropEvent.bind(this),this.handleMoreClickEvent=this.handleMoreClickEvent.bind(this),this.handleSelectEvent=this.handleSelectEvent.bind(this)}componentDidMount(){this.props.match.params.filterByFolderId&&this.openFolderParentTree(this.props.match.params.filterByFolderId)}componentDidUpdate(e){this.props.match.params.filterByFolderId!==e.match.params.filterByFolderId&&this.props.match.params.filterByFolderId&&this.openFolderParentTree(this.props.match.params.filterByFolderId)}handleCloseMoreMenu(){this.setState({moreMenuOpen:!1})}handleDragStartEvent(e){e.persist();const t={folders:[this.props.folder],resources:[]};this.props.dragContext.onDragStart(e,ag,t)}handleToggleOpenFolder(e){e.stopPropagation();const t=!this.state.open;this.setState({open:t})}openFolderParentTree(e){const t=this.props.context.folders.find((t=>t.id===e));t?.folder_parent_id&&(t.folder_parent_id===this.props.folder.id?this.setState({open:!0}):this.openFolderParentTree(t.folder_parent_id))}isOpen(){return this.state.open}handleContextualMenuEvent(e){e.preventDefault();const t=e.pageY,s=e.pageX,a={folder:this.props.folder,left:s,top:t};this.props.contextualMenuContext.show(Ju,a)}handleMoreClickEvent(e){const t=!this.state.moreMenuOpen;if(this.setState({moreMenuOpen:t}),t){const{left:t,top:s}=e.currentTarget.getBoundingClientRect(),a={folder:this.props.folder,left:t,top:s+18,className:"right",onBeforeHide:this.handleCloseMoreMenu};this.props.contextualMenuContext.show(Ju,a)}}handleDragEndEvent(){this.props.dragContext.onDragEnd()}handleDragLeaveEvent(){this.setState({draggingOver:!1,draggingOverSince:null})}handleDragOverEvent(e){if(e.preventDefault(),this.state.draggingOver)return void this.openOnLongDragOver(e);const t=Date.now();this.setState({draggingOver:!0,draggingOverSince:t})}openOnLongDragOver(e){this.isOpen()||Date.now()-this.state.draggingOverSince>2e3&&this.handleToggleOpenFolder(e)}handleDropEvent(){const e=this.props.dragContext.draggedItems.folders.map((e=>e.id)),t=this.props.folder.id,s=this.props.dragContext.draggedItems.resources.map((e=>e.id));this.draggedItems.folders.some((e=>e.id===t))||(e?.length>0?this.props.context.port.request("passbolt.folders.move-by-id",e[0],t):s?.length>0&&this.props.context.port.request("passbolt.resources.move-by-ids",s,t)),this.setState({draggingOver:!1})}handleSelectEvent(){this.props.history.push(`/app/folders/view/${this.props.folder.id}`)}isSelected(){const e=this.props.resourceWorkspaceContext.filter;return!(e.type!==xt.FOLDER||!e.payload.folder)&&e.payload.folder.id===this.props.folder.id}isChildOfAny(e,t){for(const s in t)if(e.folder_parent_id===t[s].id)return!0;if(null!==e.folder_parent_id){const s=this.props.context.folders.find((t=>t.id===e.folder_parent_id));return this.isChildOfAny(s,t)}return!1}canDragItem(e){if(null===e.folder_parent_id)return!0;const t=this.props.context.folders.find((t=>t.id===e.folder_parent_id));return!(!t.personal&&(t.permission.type<7||e.permission.type<7))}canDragItems(e){const t=e.folders;let s=t?.reduce(((e,t)=>e&&this.canDragItem(t)),!0);const a=e.resources;return s&=a?.reduce(((e,t)=>e&&this.canDragItem(t)),!0),s}getItemsListLowestPermission(e){return e?.reduce(((e,t)=>(t.permission.type<e&&(e=t.permission.type),e)),15)}getDraggedItemsLowestPermission(){const e=this.getItemsListLowestPermission(this.draggedItems.folders),t=this.getItemsListLowestPermission(this.draggedItems.resources);return e<t?e:t}canDropInto(){if(!this.isDragging())return!1;if(this.props.folder.permission.type<7)return!1;if(!this.props.folder.personal&&this.getDraggedItemsLowestPermission()<7)return!1;if(this.isChildOfAny(this.props.folder,this.draggedItems.folders))return!1;for(const e in this.draggedItems.folders)if(this.props.folder.id===this.draggedItems.folders[e].id)return!1;return!0}isDragged(){return!!this.isDragging()&&this.draggedItems.folders?.some((e=>e.id===this.props.folder.id))}isDisabled(){if(this.isDragging()){if(!this.canDragItems(this.draggedItems))return!0;if(!this.canDropInto())return!0}return!1}sortFoldersAlphabetically(e){e.sort(((e,t)=>{const s=e.name.toLowerCase(),a=t.name.toLowerCase();return s<a?-1:s>a?1:0}))}getChildrenFolders(){const e=this.props.context.folders.filter((e=>e.folder_parent_id===this.props.folder.id));return this.sortFoldersAlphabetically(e),e}get draggedItems(){return this.props.dragContext.draggedItems}isDragging(){return this.props.dragContext.dragging}render(){const e=this.getChildrenFolders(),t=e.length>0,s=this.isSelected(),n=this.isDisabled(),r=this.isDragged(),i=this.isOpen(),o=this.canDropInto(),l=this.state.draggingOver&&o;return a.createElement("li",{className:(i?"opened":"closed")+" folder-item"},a.createElement("div",{className:`row ${s?"selected":""} ${n?"disabled":""} ${r?"is-dragged":""} ${l?"drop-focus":""} ${t?"":"no-child"} ${this.state.moreMenuOpen?"highlight":""}`,draggable:"true",onDrop:this.handleDropEvent,onDragOver:this.handleDragOverEvent,onDragEnd:this.handleDragEndEvent,onDragLeave:this.handleDragLeaveEvent,onDragStart:this.handleDragStartEvent},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell",onClick:this.handleSelectEvent,onContextMenu:this.handleContextualMenuEvent},a.createElement("button",{className:"link no-border",type:"button"},t&&a.createElement("div",{className:"toggle-folder",onClick:this.handleToggleOpenFolder},i&&a.createElement(ge,{name:"caret-down"}),!i&&a.createElement(ge,{name:"caret-right"})),!this.props.folder.personal&&a.createElement(ge,{name:"folder-shared"}),this.props.folder.personal&&a.createElement(ge,{name:"folder"}),a.createElement("span",{title:this.props.folder.name,className:"folder-name"},this.props.folder.name)))),!r&&a.createElement("div",{className:"dropdown right-cell more-ctrl"},a.createElement("button",{type:"button",className:this.state.moreMenuOpen?"open":"",onClick:this.handleMoreClickEvent},a.createElement(ge,{name:"3-dots-h"})))),t&&i&&a.createElement("ul",{className:"folders-tree"},e.map((e=>a.createElement(rg,{key:`folders-tree-${e.id}`,folder:e})))))}}ng.propTypes={context:l().any,contextualMenuContext:l().any,history:l().object,match:l().object,folder:l().object,resourceWorkspaceContext:l().any,dragContext:l().any};const rg=(0,i.y)(h(Os(wt(tg(ng))))),ig=(0,i.y)(h(Os(wt(tg(ng)))));class og extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleCreateFolderItemClickEvent=this.handleCreateFolderItemClickEvent.bind(this),this.handleExportFolderItemClickEvent=this.handleExportFolderItemClickEvent.bind(this),this.handleHide=this.handleHide.bind(this)}handleHide(){"function"==typeof this.props.onBeforeHide&&this.props.onBeforeHide(),this.props.hide()}handleCreateFolderItemClickEvent(){this.props.dialogContext.open(Pu,{folderParentId:null}),this.handleHide()}async handleExportFolderItemClickEvent(){await this.export(),this.handleHide()}canExport(){return this.props.context.siteSettings.canIUse("export")&&this.props.rbacContext.canIUseUiAction(_)}async export(){const e=this.props.context.folders.filter((e=>null===e.folder_parent_id)).map((e=>e.id)),t=this.props.context.resources.filter((e=>null===e.folder_parent_id)).map((e=>e.id));await this.props.resourceWorkspaceContext.onResourcesToExport({foldersIds:e,resourcesIds:t}),await this.props.dialogContext.open(Zu)}render(){return a.createElement(Ks,{hide:this.handleHide,left:this.props.left,top:this.props.top,className:this.props.className},a.createElement("li",{key:"option-create-folder",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleCreateFolderItemClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Create folder"))))))),this.canExport()&&a.createElement("li",{key:"option-export-folder",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleExportFolderItemClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Export all"))))))))}}og.propTypes={context:l().any,rbacContext:l().any,hide:l().func,onBeforeHide:l().func,left:l().number,top:l().number,className:l().string,dialogContext:l().any,resourceWorkspaceContext:l().any};const lg=h(pe(wt(k((0,w.CI)("common")(og)))));class cg extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{draggingOverTitle:!1,draggingOverTitleSince:null,open:!0,moreMenuOpen:!1}}shouldComponentUpdate(e,t){return t!==this.state||e.context.folders!==this.props.context.folders||e.resourceWorkspaceContext.filter.type!==this.props.resourceWorkspaceContext.filter.type}bindCallbacks(){this.handleCloseMoreMenu=this.handleCloseMoreMenu.bind(this),this.handleClickOnTitle=this.handleClickOnTitle.bind(this),this.handleTitleContextualMenuEvent=this.handleTitleContextualMenuEvent.bind(this),this.handleDragLeaveTitle=this.handleDragLeaveTitle.bind(this),this.handleDragOverTitle=this.handleDragOverTitle.bind(this),this.handleDropTitle=this.handleDropTitle.bind(this),this.handleTitleMoreClickEvent=this.handleTitleMoreClickEvent.bind(this)}handleCloseMoreMenu(){this.setState({moreMenuOpen:!1})}handleClickOnTitle(){const e={type:xt.ROOT_FOLDER};this.props.history.push("/app/passwords",{filter:e})}get isSelected(){return this.props.resourceWorkspaceContext.filter.type===xt.ROOT_FOLDER}handleTitleContextualMenuEvent(e){e.preventDefault();const t=e.pageY,s={left:e.pageX,top:t};this.props.contextualMenuContext.show(lg,s)}handleTitleMoreClickEvent(e){const t=!this.state.moreMenuOpen;if(this.setState({moreMenuOpen:t}),t){const{left:t,top:s}=e.currentTarget.getBoundingClientRect(),a={left:t,top:s+18,className:"right",onBeforeHide:this.handleCloseMoreMenu};this.props.contextualMenuContext.show(lg,a)}}handleSectionTitleClickCaretEvent(){const e=!this.state.open;this.setState({open:e})}handleDragLeaveTitle(){this.setState({draggingOverTitle:!1,draggingOverTitleSince:null})}handleDragOverTitle(e){if(e.preventDefault(),this.state.draggingOverTitle)return void this.openTitleOnLongDragOver();const t=Date.now();this.setState({draggingOverTitle:!0,draggingOverTitleSince:t})}openTitleOnLongDragOver(){this.state.open||Date.now()-this.state.draggingOverTitleSince>2e3&&this.handleSectionTitleClickCaretEvent()}handleDropTitle(){const e=this.props.dragContext.draggedItems.folders.map((e=>e.id)),t=this.props.dragContext.draggedItems.resources.map((e=>e.id));e?.length>0?this.props.context.port.request("passbolt.folders.move-by-id",e[0],null):t?.length>0&&this.props.context.port.request("passbolt.resources.move-by-ids",t,null),this.setState({draggingOverTitle:!1})}canDragItem(e){if(null===e.folder_parent_id)return!0;const t=this.props.context.folders.find((t=>t.id===e.folder_parent_id));return!(!t.personal&&(t.permission.type<7||e.permission.type<7))}canDragItems(e){let t=e.folders.reduce(((e,t)=>e&&this.canDragItem(t)),!0);const s=e.resources;return t=t&&s.reduce(((e,t)=>e&&this.canDragItem(t)),!0),t}isLoading(){return null===this.props.context.folders}sortFoldersAlphabetically(e){e.sort(((e,t)=>{const s=e.name.toLowerCase(),a=t.name.toLowerCase();return s<a?-1:s>a?1:0}))}getRootFolders(){let e=[];return this.isLoading()||(e=this.props.context.folders.filter((e=>null===e.folder_parent_id))),this.sortFoldersAlphabetically(e),e}isDragging(){return this.props.dragContext.dragging}get draggedItems(){return this.props.dragContext.draggedItems}render(){const e=this.isLoading(),t=this.state.open,s=this.getRootFolders();let n=!1,r=!1;return this.isDragging()&&this.state.draggingOverTitle&&(this.canDragItems(this.draggedItems)?n=!0:r=!0),a.createElement("div",{className:"navigation-secondary-tree navigation-secondary navigation-folders accordion"},a.createElement("div",{className:"accordion-header"},a.createElement("div",{className:(t?"open":"close")+" node root"},a.createElement("div",{className:`row title ${this.isSelected?"selected":""} ${n?"drop-focus":""} ${r?"disabled":""} ${this.state.moreMenuOpen?"highlight":""}`},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("h3",null,a.createElement("span",{className:"folders-label"},a.createElement("button",{type:"button",className:"link no-border",onDragOver:this.handleDragOverTitle,onDragLeave:this.handleDragLeaveTitle,onDrop:this.handleDropTitle,onClick:this.handleClickOnTitle,onContextMenu:this.handleTitleContextualMenuEvent},!e&&a.createElement("div",{className:"toggle-folder",onClick:()=>this.handleSectionTitleClickCaretEvent()},t&&a.createElement(ge,{name:"caret-down"}),!t&&a.createElement(ge,{name:"caret-right"})),a.createElement(w.x6,null,"Folders")))))),a.createElement("div",{className:"dropdown right-cell more-ctrl"},a.createElement("button",{type:"button",className:this.state.moreMenuOpen?"open":"",onClick:this.handleTitleMoreClickEvent},a.createElement(ge,{name:"3-dots-h"})))))),a.createElement("div",{className:"accordion-content"},!e&&t&&0===s.length&&a.createElement("em",{className:"empty-content"},a.createElement(w.x6,null,"empty")),!e&&t&&s.length>0&&a.createElement(Lt(),{itemRenderer:(e,t)=>a.createElement(ig,{key:t,folder:s[e]}),itemsRenderer:(e,t)=>a.createElement("ul",{ref:t,className:"folders-tree"},e),length:s.length,pageSize:20,minSize:20,type:"simple"})))}}cg.propTypes={context:l().any,contextualMenuContext:l().any,history:l().object,resourceWorkspaceContext:l().object,dialogContext:l().any,dragContext:l().any};const dg=(0,i.y)(k(Os(wt(h(tg((0,w.CI)("common")(cg)))))));class hg extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{open:!0,creator:null,modifier:null}}bindCallbacks(){this.handleFolderParentClickEvent=this.handleFolderParentClickEvent.bind(this),this.handleTitleClickEvent=this.handleTitleClickEvent.bind(this)}componentDidMount(){this.state.open&&this.loadUserInformation()}componentDidUpdate(e){this.handleFolderChange(e.resourceWorkspaceContext.details.folder)}handleFolderChange(e){(this.folder.created_by!==e.created_by||this.folder.modified_by!==e.modified_by)&&this.state.open&&this.loadUserInformation()}async loadUserInformation(){const e=await this.props.context.port.request("passbolt.folders.find-details",this.folder.id);this.setState({creator:e?.creator,modifier:e?.modifier})}handleFolderParentClickEvent(){if(this.folder.folder_parent_id){const e=this.props.context.folders.find((e=>e.id===this.folder.folder_parent_id));this.props.history.push(`/app/folders/view/${e.id}`)}else{const e={type:xt.ROOT_FOLDER};this.props.history.push("/app/passwords",{filter:e})}}handleTitleClickEvent(){const e=!this.state.open;this.setState({open:e})}get folder(){return this.props.resourceWorkspaceContext.details.folder}getFolderName(e){if(null===e)return"/";if(this.props.context.folders){const t=this.props.context.folders.find((t=>t.id===e));return t?.name}return""}isFolderParentShared(){if(null!==this.folder.folder_parent_id&&this.props.context.folders){const e=this.props.context.folders.find((e=>e.id===this.folder.folder_parent_id));if(e)return!e.personal}return!1}render(){const e=this.state.creator?.username||"",t=this.state.modifier?.username||"",s=nt(this.folder.created,this.props.t,this.props.context.locale),n=nt(this.folder.modified,this.props.t,this.props.context.locale),r=this.getFolderName(this.folder.folder_parent_id);return a.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleTitleClickEvent},a.createElement(w.x6,null,"Information"),this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},a.createElement("ul",null,a.createElement("li",{className:"username"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Name")),a.createElement("span",{className:"value"},this.folder.name)),a.createElement("li",{className:"modified"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Modified")),a.createElement("span",{className:"value",title:this.folder.modified},n)),a.createElement("li",{className:"modified-by"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Modified by")),a.createElement("span",{className:"value"},t)),a.createElement("li",{className:"modified"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Created")),a.createElement("span",{className:"value",title:this.folder.created},s)),a.createElement("li",{className:"modified-by"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Created by")),a.createElement("span",{className:"value"},e)),a.createElement("li",{className:"location"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Location")),a.createElement("span",{className:"value"},a.createElement("button",{type:"button",onClick:this.handleFolderParentClickEvent,disabled:!this.props.context.folders,className:"link no-border folder-link"},this.isFolderParentShared()?a.createElement(ge,{name:"folder-shared"}):a.createElement(ge,{name:"folder"}),a.createElement("span",null,r)))))))}}hg.propTypes={context:l().any,history:l().object,resourceWorkspaceContext:l().object,t:l().func};const mg=h((0,i.y)(wt((0,w.CI)("common")(hg))));class pg extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{permissions:null,open:!1,loading:!0}}bindCallbacks(){this.handlePermissionsEditClickEvent=this.handlePermissionsEditClickEvent.bind(this),this.handleTitleClickEvent=this.handleTitleClickEvent.bind(this)}async componentDidUpdate(e){await this.handleFolderChange(e.resourceWorkspaceContext.details.folder)}handleFolderChange(e){this.folder.id!==e.id&&this.state.open&&this.fetch()}async fetch(){this.setState({loading:!0});const e=await this.props.context.port.request("passbolt.permissions.find-aco-permissions-for-display",this.folder.id,"Folder");e&&e.sort(((e,t)=>this.sortPermissions(e,t))),this.setState({permissions:e,loading:!1})}sortPermissions(e,t){return e.user&&t.user?e.user.profile.first_name===t.user.profile.first_name?e.user.profile.last_name<t.user.profile.last_name?-1:1:e.user.profile.first_name<t.user.profile.first_name?-1:1:!e.user&&t.user?1:e.user&&!t.user||e.group.name<t.group.name?-1:1}handleTitleClickEvent(){const e=!this.state.open;e&&this.fetch(),this.setState({open:e})}handlePermissionsEditClickEvent(){const e=[this.folder.id];this.props.context.setContext({shareDialogProps:{foldersIds:e}}),this.props.dialogContext.open(Bu)}get folder(){return this.props.resourceWorkspaceContext.details.folder}getPermissionAroName(e){if(e.user){const t=e.user.profile;return`${t.first_name} ${t.last_name}`}return e.group.name}getPermissionLabel(e){switch(e.type){case 1:return this.translate("can read");case 7:return this.translate("can update");case 15:return this.translate("is owner")}}isLoading(){return this.state.loading}canShare(){return this.folder.permission&&15===this.folder.permission.type}get translate(){return this.props.t}render(){return a.createElement("div",{className:"sharedwith accordion sidebar-section "+(this.state.open?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleTitleClickEvent},a.createElement(w.x6,null,"Shared with"),this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},this.canShare()&&a.createElement("button",{type:"button",onClick:this.handlePermissionsEditClickEvent,id:"share-folder",className:"section-action button-transparent"},a.createElement(ge,{name:"edit"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"modify"))),a.createElement("div",null,a.createElement("ul",{className:"shared-with ready"},this.isLoading()&&a.createElement("div",{className:"processing-wrapper"},a.createElement(ge,{name:"spinner"}),a.createElement("span",{className:"processing-text"},a.createElement(w.x6,null,"Retrieving permissions"))),this.state.permissions&&this.state.permissions.map((e=>a.createElement("li",{key:e.id,className:"usercard-col-2"},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement("div",{className:"name"},this.getPermissionAroName(e)),a.createElement("div",{className:"subinfo"},this.getPermissionLabel(e)))),e.user&&a.createElement(Gt,{user:e.user,baseUrl:this.props.context.userSettings.getTrustedDomain()}),e.group&&a.createElement($t,{group:e.group}))))))))}}pg.propTypes={context:l().any,resourceWorkspaceContext:l().object,dialogContext:l().any,t:l().func};const ug=h(k(wt((0,w.CI)("common")(pg))));class gg extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{activities:null,activitiesPage:1,loadingMore:!1,open:!1,loading:!0}}bindCallbacks(){this.handleTitleClickEvent=this.handleTitleClickEvent.bind(this),this.handleMoreClickEvent=this.handleMoreClickEvent.bind(this)}async componentDidUpdate(e){await this.handleResourceChange(e.resourceWorkspaceContext.details.folder)}async handleResourceChange(e){if(this.state.open&&this.folder.id!==e.id){const e=Object.assign({},this.defaultState,{open:!0});await this.setState(e),await this.fetch(),this.setState({loading:!1})}}async handleTitleClickEvent(){if(this.state.open){const e=this.defaultState;this.setState(e)}else await this.setState({loading:!0,open:!0}),await this.fetch(),this.setState({loading:!1})}async handleMoreClickEvent(){const e=this.state.activitiesPage+1;await this.setState({activitiesPage:e,loadingMore:!0}),await this.fetch(),this.setState({loadingMore:!1})}async fetch(){const e={limit:5,page:this.state.activitiesPage},t=await this.props.context.port.request("passbolt.actionlogs.find-all-for","Folder",this.folder.id,e);let s;s=this.state.activitiesPage>1?[...this.state.activities||[],...t]:[...t],this.setState({activities:s})}getActivityCreatorFullName(e){return`${e.profile.first_name} ${e.profile.last_name}`}getPermissionAroName(e){if(e.user){const t=e.user.profile;return`${t.first_name} ${t.last_name}`}return e.group.name}getPermissionLabel(e){switch(e.type){case 1:return this.translate("can read");case 7:return this.translate("can update");case 15:return this.translate("is owner")}}getPermissionChangeTypeLabel(e){switch(e){case"created":return this.translate("new");case"updated":return this.translate("updated");case"removed":return this.translate("deleted")}}renderFolderCreatedActivity(e){const t=this.getActivityCreatorFullName(e.creator),s=this.folder.name,n=nt(e.created,this.props.t,this.props.context.locale);return a.createElement("li",{key:e.action_log_id,className:"usercard-detailed-col-2"},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement("div",{className:"name"},a.createElement(w.x6,null,a.createElement("span",{className:"creator"},{activityCreatorName:t})," created folder ",a.createElement("span",{className:"item"},{folderName:s}))),a.createElement("div",{className:"subinfo light"},n))),a.createElement(Gt,{user:e.creator,baseUrl:this.props.context.userSettings.getTrustedDomain()}))}renderFolderUpdatedActivity(e){const t=this.getActivityCreatorFullName(e.creator),s=this.folder.name,n=nt(e.created,this.props.t,this.props.context.locale);return a.createElement("li",{key:e.action_log_id,className:"usercard-detailed-col-2"},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement("div",{className:"name"},a.createElement(w.x6,null,a.createElement("span",{className:"creator"},{activityCreatorName:t})," updated folder ",a.createElement("span",{className:"item"},{folderName:s}))),a.createElement("div",{className:"subinfo light"},n))),a.createElement(Gt,{user:e.creator,baseUrl:this.props.context.userSettings.getTrustedDomain()}))}renderSharedActivityPermissionChangeItem(e,t){const s=this.getPermissionLabel(e),n=this.getPermissionAroName(e),r=this.getPermissionChangeTypeLabel(t);return a.createElement("li",{key:e.id,className:"clearfix"},e.user&&a.createElement(Gt,{user:e.user,baseUrl:this.props.context.userSettings.getTrustedDomain()}),e.group&&a.createElement($t,{group:e.group}),a.createElement("div",{className:"name"},a.createElement("span",{className:"creator"},n),a.createElement("span",{className:"permission-type"}," - ",s)),a.createElement("div",{className:"type"},a.createElement("span",{className:t},r)))}renderPermissionsUpdatedActivity(e){const t=this.getActivityCreatorFullName(e.creator),s=this.folder.name,n=nt(e.created,this.props.t,this.props.context.locale);return a.createElement("li",{key:e.action_log_id,className:"usercard-detailed-col-2"},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement("div",{className:"name"},a.createElement(w.x6,null,a.createElement("span",{className:"creator"},{activityCreatorName:t})," changed permissions of folder ",a.createElement("span",{className:"item"},{folderName:s})," with")),a.createElement("div",{className:"subinfo light"},n),a.createElement("ul",{className:"permissions-list"},e.data.permissions.added.map((e=>this.renderSharedActivityPermissionChangeItem(e,"created"))),e.data.permissions.updated.map((e=>this.renderSharedActivityPermissionChangeItem(e,"updated"))),e.data.permissions.removed.map((e=>this.renderSharedActivityPermissionChangeItem(e,"removed")))))),a.createElement(Gt,{user:e.creator,baseUrl:this.props.context.userSettings.getTrustedDomain()}))}renderUnknownActivity(){return a.createElement("li",{className:"usercard-detailed-col-2"},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement(w.x6,null,"Unknown activity, please contact your administrator."))))}renderActivity(e){let t;switch(e.type){case"Folders.created":t=this.renderFolderCreatedActivity(e);break;case"Folders.updated":t=this.renderFolderUpdatedActivity(e);break;case"Permissions.updated":t=this.renderPermissionsUpdatedActivity(e);break;default:t=this.renderUnknownActivity(e)}return t}isMoreButtonVisible(){return null!==this.state.activities&&!this.state.activities.some((e=>"Folders.created"===e.type))}get folder(){return this.props.resourceWorkspaceContext.details.folder}get translate(){return this.props.t}render(){const e=null===this.state.activities,t=this.isMoreButtonVisible();return a.createElement("div",{className:"activity accordion sidebar-section "+(this.state.open?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTitleClickEvent},a.createElement(w.x6,null,"Activity"),this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},e&&a.createElement("div",{className:"processing-wrapper"},a.createElement(ge,{name:"spinner"}),a.createElement("span",{className:"processing-text"},a.createElement(w.x6,null,"Retrieving activities"))),!e&&a.createElement(a.Fragment,null,a.createElement("ul",{className:"ready"},this.state.activities.map((e=>this.renderActivity(e)))),t&&a.createElement("div",{className:"actions"},a.createElement("button",{type:"button",onClick:this.handleMoreClickEvent,disabled:this.state.loadingMore,className:"link no-border action-logs-load-more "+(this.state.loadingMore?"processing":"")},a.createElement("span",null,a.createElement(w.x6,null,"More")))))))}}gg.propTypes={context:l().any,resourceWorkspaceContext:l().any,t:l().func};const Cg=h(wt((0,w.CI)("common")(gg)));class bg extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handlePermalinkClick=this.handlePermalinkClick.bind(this)}handleCloseClick(){this.props.resourceWorkspaceContext.onLockDetail()}async handlePermalinkClick(){const e=`${this.props.context.userSettings.getTrustedDomain()}/app/folders/view/${this.props.resourceWorkspaceContext.details.folder.id}`;await va.copy(e,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The permalink has been copied to clipboard"))}get translate(){return this.props.t}render(){const e=this.props.rbacContext.canIUseUiAction(q),t=this.props.context.siteSettings.canIUse("auditLog");return a.createElement("div",{className:"panel aside ready"},a.createElement("div",{className:"sidebar resource"},a.createElement("div",{className:"sidebar-header"},a.createElement("div",{className:"teaser-image"},a.createElement(ge,{name:"folder"})),a.createElement("h3",null,a.createElement("div",{className:"title-wrapper"},a.createElement("span",{className:"name"},this.props.resourceWorkspaceContext.details.folder.name),a.createElement("button",{type:"button",className:"title-link link no-border",title:this.translate("Copy the link to this folder"),onClick:this.handlePermalinkClick},a.createElement(ge,{name:"link"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"Copy the link to this folder")))),a.createElement("span",{className:"subtitle"},a.createElement(w.x6,null,"folder"))),a.createElement("button",{type:"button",className:"link no-border dialog-close",onClick:this.handleCloseClick},a.createElement(ge,{name:"close"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"Close")))),a.createElement(mg,null),e&&a.createElement(ug,null),t&&a.createElement(Cg,null)))}}bg.propTypes={context:l().any,groups:l().array,onSelectFolderParent:l().func,onSelectRoot:l().func,onEditPermissions:l().func,users:l().array,resourceWorkspaceContext:l().object,actionFeedbackContext:l().any,t:l().func,rbacContext:l().any};const Eg=h(pe(wt(_e((0,w.CI)("common")(bg)))));class fg extends a.Component{handleClick(e){e.stopPropagation(),this.props.onClick()}render(){return a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleClick.bind(this),disabled:!this.props.canClick},a.createElement("span",{className:"password-typography"},this.props.preview&&Array.from(this.props.preview).map(((e,t)=>/\p{L}/u.test(e)?a.createElement("span",{key:t},e):/\p{N}/u.test(e)?a.createElement("span",{key:t,className:"digit"},e):a.createElement("span",{key:t,className:"special-char"},e))),!this.props.preview&&"Copy password to clipboard"))}}fg.defaultProps={preview:null,canClick:!0},fg.propTypes={preview:l().string,canClick:l().bool,onClick:l().func};const yg=(0,w.CI)("common")(fg);var vg=s(42754);class kg{static createTotpObject(e){return new vg._k({algorithm:e.algorithm,digits:e.digits,period:e.period,secret:e.secret_key.replace(/(\W|_|\s)/g,""),issuer:e.issuer,label:e.label,timestamp:Date.now()})}static generate(e){return this.createTotpObject(e).generate()}static generateUri(e){return this.createTotpObject(e).toString()}}class wg extends a.Component{updateCodeOnPeriodTimeout=null;dateOnCreation=null;constructor(e){super(e),this.bindCallbacks(),this.dateOnCreation=new Date(Date.now()),this.state=this.defaultState}bindCallbacks(){this.updateCodeOnPeriod=this.updateCodeOnPeriod.bind(this),this.onClick=this.onClick.bind(this)}calculateDelayFromMounted(){return(3600*this.dateOnCreation.getUTCHours()+60*this.dateOnCreation.getUTCMinutes()+this.dateOnCreation.getUTCSeconds())%this.period}calculateDelayFromNow(){const e=new Date(Date.now());return(3600*e.getUTCHours()+60*e.getUTCMinutes()+e.getUTCSeconds())%this.period}get defaultState(){return{code:this.generateCode(),delay:this.calculateDelayFromMounted()}}generateCode(){try{return kg.generate(this.props.totp)}catch(e){return this.props.actionFeedbackContext.displayError(this.props.t("Unable to preview the TOTP")),""}}componentDidMount(){this.updateCodeOnPeriodTimeout=this.updateCodeOnPeriod(this.period-this.state.delay)}componentDidUpdate(e){e.totp!==this.props.totp&&(clearTimeout(this.updateCodeOnPeriodTimeout),this.updateCode())}componentWillUnmount(){clearTimeout(this.updateCodeOnPeriodTimeout)}updateCode(){const e=this.calculateDelayFromMounted(),t=this.calculateDelayFromNow(),s=this.generateCode();this.updateCodeOnPeriodTimeout=this.updateCodeOnPeriod(this.period-t),this.setState({code:s,delay:e})}updateCodeOnPeriod(e){return setTimeout((()=>{const e=this.generateCode();this.setState({code:e}),this.updateCodeOnPeriodTimeout=this.updateCodeOnPeriod(this.period)}),1e3*e)}get period(){return this.props.totp?.period||30}onClick(e){e.stopPropagation(),this.props.canClick&&this.props?.onClick()}render(){const e=Math.round(this.state.code.length/2),t=this.state.code.substring(0,e),s=this.state.code.substring(e);return a.createElement("button",{type:"button",className:"link no-border",onClick:this.onClick,disabled:!this.props.canClick},a.createElement("span",{className:"totp-code"},a.createElement("span",null,t),"",a.createElement("span",null,s)),a.createElement(ge,{name:"timer",style:{"--timer-duration":`${this.period}s`,"--timer-delay":`-${this.state.delay}s`}}))}}wg.defaultProps={canClick:!1,onClick:()=>{}},wg.propTypes={totp:l().object.isRequired,actionFeedbackContext:l().any,canClick:l().bool,onClick:l().func,t:l().func};const xg=_e((0,w.CI)("common")(wg)),Sg=class extends Je{static _cachedSchema={};get entityClass(){throw new Error("The collection class should declare the entity class that is handled.")}constructor(e=[],t={}){super(e,t),(t?.validate??!0)&&this.validateSchema(),this.pushMany(this._props,{...t,clone:!1}),this._props=null}validateSchema(){this._props=se.validate(this.constructor.name,this._props,this.cachedSchema)}get cachedSchema(){return this.constructor._cachedSchema[this.constructor.name]||(this.constructor._cachedSchema[this.constructor.name]=this.constructor.getSchema()),this.constructor._cachedSchema[this.constructor.name]}static getSchema(){throw new Error("The collection class should declare its schema.")}buildOrCloneEntity(e,t={}){if(!e||"object"!=typeof e)throw new TypeError(`${this.entityClass.name}::buildOrCloneEntity expects "data" to be an object.`);return e instanceof this.entityClass&&(e=e.toDto(this.entityClass?.ALL_CONTAIN_OPTIONS)),new this.entityClass(e,t)}validateBuildRules(e,t={}){}push(e,t={},s={}){const a=this.buildOrCloneEntity(e,t);this.validateBuildRules(a,s?.validateBuildRules),this._items.push(a),s?.onItemPushed?.(a)}pushOrReplace(e,t={},s={}){const a=s?.replacePropertyName||"id",n=this.items.findIndex((t=>t[a]===e[a]));if(-1!==n){this.items.splice(n,1);const a=this.buildOrCloneEntity(e,t);this.validateBuildRules(a,s?.validateBuildRules),this.items.splice(n,0,a)}else this.push(e,t,s)}pushMany(e,t={},s={}){if(!Array.isArray(e))throw new TypeError(`${this.constructor.name} pushMany expects "data" to be an array.`);e.forEach(((e,a)=>{try{this.push(e,t,s)}catch(e){this.handlePushItemError(a,e,t)}}))}handlePushItemError(e,t,s){if(!(t instanceof Y||t instanceof ee||t instanceof Ze))throw t;if(!s?.ignoreInvalidEntity){const s=new ee;throw s.addItemValidationError(e,t),s}console.debug(`${this.entityClass.name}::pushMany ignore item (${e}) due to validation error ${JSON.stringify(t?.details)}`)}},Ng="v4",Rg="v5";class Ig extends re{static getSchema(){return{type:"object",required:["default_resource_types","default_folder_type","default_tag_type","default_comment_type","allow_creation_of_v5_resources","allow_creation_of_v5_folders","allow_creation_of_v5_tags","allow_creation_of_v5_comments","allow_creation_of_v4_resources","allow_creation_of_v4_folders","allow_creation_of_v4_tags","allow_creation_of_v4_comments"],properties:{default_resource_types:{type:"string",enum:[Ng,Rg]},default_folder_type:{type:"string",enum:[Ng,Rg]},default_tag_type:{type:"string",enum:[Ng,Rg]},default_comment_type:{type:"string",enum:[Ng,Rg]},allow_creation_of_v5_resources:{type:"boolean"},allow_creation_of_v5_folders:{type:"boolean"},allow_creation_of_v5_tags:{type:"boolean"},allow_creation_of_v5_comments:{type:"boolean"},allow_creation_of_v4_resources:{type:"boolean"},allow_creation_of_v4_folders:{type:"boolean"},allow_creation_of_v4_tags:{type:"boolean"},allow_creation_of_v4_comments:{type:"boolean"}}}}static createFromV4Default(){return new Ig({default_resource_types:"v4",default_folder_type:"v4",default_tag_type:"v4",default_comment_type:"v4",allow_creation_of_v5_resources:!1,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!0,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0})}static createFromDefault(e={}){return new Ig({default_resource_types:"v4",default_folder_type:"v4",default_tag_type:"v4",default_comment_type:"v4",allow_creation_of_v5_resources:!1,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!0,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,...e})}get defaultResourceTypes(){return this._props.default_resource_types}get allowCreationOfV5Resources(){return this._props.allow_creation_of_v5_resources}get allowCreationOfV4Resources(){return this._props.allow_creation_of_v4_resources}get isDefaultResourceTypeV5(){return this._props.default_resource_types===Rg}get isDefaultResourceTypeV4(){return this._props.default_resource_types===Ng}}const _g=Ig,Dg="password-string",Tg="password-and-description",Pg="password-description-totp",Ag="totp",Mg="v5-default",Ug="v5-password-string",Fg="v5-default-with-totp",Lg="v5-totp-standalone",Og={resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},description:{maxLength:1e4,nullable:!0,type:"string"},uri:{type:"string",maxLength:1024,nullable:!0}}},secret:{type:"string",maxLength:4096}},Vg={resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uri:{type:"string",maxLength:1024,nullable:!0}}},secret:{type:"object",required:["password"],properties:{password:{type:"string",maxLength:4096},description:{type:"string",maxLength:1e4,nullable:!0}}}},Hg={resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},uri:{type:"string",maxLength:1024,nullable:!0}}},secret:{type:"object",required:["totp"],properties:{totp:{type:"object",required:["secret_key","digits","algorithm"],properties:{algorithm:{type:"string",minLength:4,maxLength:6},secret_key:{type:"string",maxLength:1024},digits:{type:"number",minimum:6,maximum:8},period:{type:"number"}}}}}},qg={resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uri:{type:"string",maxLength:1024,nullable:!0}}},secret:{type:"object",required:["password","totp"],properties:{password:{type:"string",maxLength:4096},description:{type:"string",maxLength:1e4,nullable:!0},totp:Hg.secret.properties.totp}}},jg={resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uris:{type:"array",items:{type:"string",maxLength:1024,nullable:!0}},description:{type:"string",maxLength:1e4,nullable:!0}}},secret:{type:"object",required:["password"],properties:{password:{type:"string",maxLength:4096},description:{type:"string",maxLength:1e4,nullable:!0}}}},Wg={resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uris:{type:"array",items:{type:"string",maxLength:1024,nullable:!0}},description:{type:"string",maxLength:1e4,nullable:!0}}},secret:{type:"string",maxLength:4096}},zg={resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uris:{type:"array",items:{type:"string",maxLength:1024,nullable:!0}},description:{type:"string",maxLength:1e4,nullable:!0}}},secret:{type:"object",required:["password","totp"],properties:{password:{type:"string",maxLength:4096},description:{type:"string",maxLength:1e4,nullable:!0},totp:Hg.secret.properties.totp}}},Bg={resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},uris:{type:"array",items:{type:"string",maxLength:1024,nullable:!0}},description:{type:"string",maxLength:1e4,nullable:!0}}},secret:Hg.secret},Gg=new class{get SCHEMAS(){return{[Dg]:Og,[Tg]:Vg,[Pg]:qg,[Ag]:Hg,[Mg]:jg,[Ug]:Wg,[Fg]:zg,[Lg]:Bg}}},Kg=[Dg,Tg,Pg,Mg,Fg,Ug],$g=[Pg,Ag,Fg,Lg],Zg=[Ag,Lg],Yg=[Dg,Ug],Jg=[Tg,Pg,Mg,Fg],Xg=[Dg,Mg,Fg,Ug,Lg],Qg=class extends re{marshall(){if("string"!=typeof this._props.slug||!(this._props.slug in Gg.SCHEMAS))return void delete this._props.definition;const e=Gg.SCHEMAS[this._props.slug],t=Object.assign({},e);this._props.definition=t}static getSchema(){return{type:"object",required:["id","name","slug","definition"],properties:{id:{type:"string",format:"uuid"},name:{type:"string",minLength:1,maxLength:255},slug:{type:"string",minLength:1,maxLength:64},definition:{type:"object"},description:{type:"string",maxLength:255,nullable:!0},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"}}}}get id(){return this._props.id}get slug(){return this._props.slug}get definition(){return this._props.definition}hasTotp(){return $g.includes(this.slug)}hasPassword(){return Kg.includes(this.slug)}isStandaloneTotp(){return Zg.includes(this.slug)}isPasswordString(){return Yg.includes(this.slug)}hasSecretDescription(){return Jg.includes(this.slug)}hasMetadataDescription(){return Xg.includes(this.slug)}get version(){return this.slug.startsWith("v5")?Rg:Ng}isV5(){return this.version===Rg}isV4(){return this.version===Ng}},eC=[Dg,Tg,Pg,Ag,Mg,Fg,Ug,Lg],tC=class extends Sg{get entityClass(){return Qg}constructor(e=[],t={}){super(e,t)}static getSchema(){return{type:"array",items:Qg.getSchema()}}validateBuildRules(e,t={}){this.assertNotExist("id",e._props.id,{haystackSet:t?.uniqueIdsSetCache}),this.assertNotExist("slug",e._props.slug,{haystackSet:t?.uniqueSlugsSetCache})}isResourceTypeIdPresent(e){return this._items.some((t=>t.id===e))}filterByPasswordResourceTypes(){this.filterByPropertyValueIn("slug",Kg)}filterByResourceTypeVersion(e){this.filterByCallback((t=>t.version===e))}getFirstById(e){return this.getFirst("id",e)}getFirstBySlug(e){return this.getFirst("slug",e)}hasOneWithSlug(e){return Boolean(this.getFirstBySlug(e))}hasSomePasswordResourceTypes(e=Ng){return this.items.some((t=>t.hasPassword()&&t.version===e))}hasSomeTotpResourceTypes(e=Ng){return this.items.some((t=>t.hasTotp()&&t.version===e))}pushMany(e,t={},s={}){const a=new Set(this.extract("id")),n=new Set(this.extract("slug"));s={onItemPushed:e=>{a.add(e.id),n.add(e.slug)},validateBuildRules:{...s?.validateBuildRules,uniqueIdsSetCache:a,uniqueSlugsSetCache:n},...s},super.pushMany(e,t,s)}push(e,t={},s={}){eC.includes(e?.slug)&&super.push(e,t,s)}};function sC(){return sC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},sC.apply(null,arguments)}const aC=a.createContext({get:()=>{},resourceTypes:null,updateLocalStorage:()=>{}});class nC extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.runningLocalStorageUpdatePromise=null,this.initEventHandlers()}get defaultState(){return{get:this.get.bind(this),resourceTypes:null,updateLocalStorage:this.updateLocalStorage.bind(this)}}initEventHandlers(){this.handleStorageChange=this.handleStorageChange.bind(this)}componentDidMount(){this.props.context.storage.onChanged.addListener(this.handleStorageChange)}componentWillUnmount(){this.props.context.storage.onChanged.removeListener(this.handleStorageChange)}handleStorageChange(e){e.resourceTypes&&this.set(e.resourceTypes.newValue)}set(e){const t=new tC(e);this.setState({resourceTypes:t})}get(){return null===this.state.resourceTypes?(this.loadLocalStorage(),null):this.state.resourceTypes}async loadLocalStorage(){const e=await this.props.context.storage.local.get(["resourceTypes"]);e.resourceTypes?this.set(e.resourceTypes):this.updateLocalStorage()}async updateLocalStorage(){null===this.runningLocalStorageUpdatePromise?(this.runningLocalStorageUpdatePromise=this.props.context.port.request("passbolt.resource-type.get-or-find-all"),await this.runningLocalStorageUpdatePromise,this.runningLocalStorageUpdatePromise=null):await this.runningLocalStorageUpdatePromise}render(){return a.createElement(aC.Provider,{value:this.state},this.props.children)}}nC.propTypes={context:l().any,children:l().any};const rC=h(nC);function iC(e){return class extends a.Component{render(){return a.createElement(aC.Consumer,null,(t=>a.createElement(e,sC({resourceTypesLocalStorageContext:t,resourceTypes:t.get()},this.props))))}}}class oC extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{open:!0,previewedSecret:null,plaintextSecretDto:null,creator:null,modifier:null}}bindCallbacks(){this.handleFolderParentClickEvent=this.handleFolderParentClickEvent.bind(this),this.handleTitleClickEvent=this.handleTitleClickEvent.bind(this),this.handleUsernameClickEvent=this.handleUsernameClickEvent.bind(this),this.handlePasswordClickEvent=this.handlePasswordClickEvent.bind(this),this.handleViewPasswordButtonClick=this.handleViewPasswordButtonClick.bind(this),this.handleTotpClick=this.handleTotpClick.bind(this),this.handlePreviewTotpButtonClick=this.handlePreviewTotpButtonClick.bind(this),this.handleGoToResourceUriClick=this.handleGoToResourceUriClick.bind(this),this.isFolderParentShared=this.isFolderParentShared.bind(this)}componentDidMount(){this.props.passwordExpiryContext.findSettings(),this.state.open&&this.loadUserInformation()}componentDidUpdate(e){this.handleResourceChange(e.resourceWorkspaceContext.details.resource)}async loadUserInformation(){const e=await this.props.context.port.request("passbolt.resources.find-details",this.resource.id);this.resource.created_by!==e.created_by||this.resource.modified_by!==e.modified_by||this.setState({creator:e?.creator,modifier:e?.modifier})}handleResourceChange(e){const t=this.resource.id!==e.id,s=this.resource.modified!==e.modified;(t||s)&&this.state.open&&this.setState({plaintextSecretDto:null,previewedSecret:null}),t&&(this.resource.created_by!==e.created_by||this.resource.modified_by!==e.modified_by)&&(this.setState({creator:null,modifier:null}),this.state.open&&this.loadUserInformation())}get resource(){return this.props.resourceWorkspaceContext.details.resource}get safeUri(){return qe(this.resource.metadata.uris?.[0],{whiteListedProtocols:St,defaultProtocol:je.HTTPS})}handleFolderParentClickEvent(){if(this.resource.folder_parent_id){const e=this.props.context.folders.find((e=>e.id===this.resource.folder_parent_id));this.props.history.push(`/app/folders/view/${e.id}`)}else{const e={type:xt.ROOT_FOLDER};this.props.history.push("/app/passwords",{filter:e})}}handleTitleClickEvent(){const e=!this.state.open;this.setState({open:e}),e?this.loadUserInformation():this.setState({creator:null,modifier:null,plaintextSecretDto:null,previewedSecret:null})}async handleUsernameClickEvent(){await va.copy(this.resource.metadata.username,this.props.context.port),this.displaySuccessNotification(this.translate("The username has been copied to clipboard"))}getFolderName(e){if(null===e)return this.translate("root");if(this.props.context.folders){const t=this.props.context.folders.find((t=>t.id===e));if(t)return t.name}return""}isFolderParentShared(){if(null!==this.resource.folder_parent_id&&this.props.context.folders){const e=this.props.context.folders.find((e=>e.id===this.resource.folder_parent_id));if(e)return!e.personal}return!1}async handlePasswordClickEvent(){await this.copyPasswordToClipboard()}async handleViewPasswordButtonClick(){await this.togglePreviewPassword()}async copyPasswordToClipboard(){const e=this.resource.id,t=this.isPasswordPreviewed();let s;if(this.props.progressContext.open(this.props.t("Decrypting secret")),t)s=this.state.plaintextSecretDto;else try{s=await this.decryptResourceSecret(e)}catch(e){"UserAbortsOperationError"!==e.name&&this.props.actionFeedbackContext.displayError(e.message)}this.props.progressContext.close(),s&&(s?.password?.length?(await va.copy(s.password,this.props.context.port),await this.props.resourceWorkspaceContext.onResourceCopied(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The secret has been copied to clipboard"))):await this.props.actionFeedbackContext.displayError(this.translate("The password is empty and cannot be copied to clipboard.")))}async togglePreviewPassword(){const e=this.isPasswordPreviewed();this.hidePreviewedSecret(),e||(await this.previewPassword(),await this.props.resourceWorkspaceContext.onResourcePreviewed())}hidePreviewedSecret(){this.setState({plaintextSecretDto:null,previewedSecret:null})}async previewPassword(){const e=this.resource.id;let t;this.props.progressContext.open(this.props.t("Decrypting secret"));try{t=await this.decryptResourceSecret(e)}catch(e){"UserAbortsOperationError"!==e.name&&this.props.actionFeedbackContext.displayError(e.message)}this.props.progressContext.close(),t&&(t?.password?.length?this.setState({plaintextSecretDto:t,previewedSecret:"password"}):await this.props.actionFeedbackContext.displayError(this.translate("The password is empty and cannot be previewed.")))}decryptResourceSecret(e){return this.props.context.port.request("passbolt.secret.find-by-resource-id",e)}async handleTotpClick(){let e,t;if(this.isTotpPreviewed())e=this.state.plaintextSecretDto;else{this.props.progressContext.open(this.props.t("Decrypting secret"));try{e=await this.decryptResourceSecret(this.resource.id)}catch(e){"UserAbortsOperationError"!==e.name&&this.props.actionFeedbackContext.displayError(e.message)}this.props.progressContext.close()}if(e)if(e.totp){try{t=kg.generate(e.totp)}catch(e){return void await this.props.actionFeedbackContext.displayError(this.translate("Unable to copy the TOTP"))}await va.copy(t,this.props.context.port),await this.props.resourceWorkspaceContext.onResourceCopied(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The TOTP has been copied to clipboard"))}else await this.props.actionFeedbackContext.displayError(this.translate("The TOTP is empty and cannot be copied to clipboard."))}handlePreviewTotpButtonClick(){const e=this.isTotpPreviewed();this.hidePreviewedSecret(),e||(this.previewTotp(),this.props.resourceWorkspaceContext.onResourcePreviewed())}async previewTotp(){const e=this.resource.id;let t;this.props.progressContext.open(this.props.t("Decrypting secret"));try{t=await this.decryptResourceSecret(e)}catch(e){"UserAbortsOperationError"!==e.name&&this.props.actionFeedbackContext.displayError(e.message)}this.props.progressContext.close(),t&&(t.totp?this.setState({plaintextSecretDto:t,previewedSecret:"totp"}):await this.props.actionFeedbackContext.displayError(this.translate("The TOTP is empty and cannot be previewed.")))}isPasswordPreviewed(){return"password"===this.state.previewedSecret}isTotpPreviewed(){return"totp"===this.state.previewedSecret}handleGoToResourceUriClick(){this.props.resourceWorkspaceContext.onGoToResourceUriRequested(this.resource.metadata.uris[0])}displaySuccessNotification(e){this.props.actionFeedbackContext.displaySuccess(e)}isPasswordResources(){return this.props.resourceTypes?.getFirstById(this.resource.resource_type_id)?.hasPassword()}isTotpResources(){return this.props.resourceTypes?.getFirstById(this.resource.resource_type_id)?.hasTotp()}get isAttentionRequired(){return this.isAttentionRequiredOnExpiryDate}get resourceExpirationStatus(){return this.resource?.expired?rt(this.resource?.expired,this.props.t,this.props.context.locale):this.translate("Not set")}get isAttentionRequiredOnExpiryDate(){return!!this.resource?.expired&&new Date(this.resource.expired)<=new Date}get translate(){return this.props.t}render(){const e=this.props.context.siteSettings.canIUse("folders")&&this.props.rbacContext.canIUseUiAction(R),t=this.props.context.siteSettings.canIUse("previewPassword")&&this.props.rbacContext.canIUseUiAction(P),s=this.props.passwordExpiryContext.isFeatureEnabled(),n=this.props.rbacContext.canIUseUiAction(A),r=this.state.creator?.username||"",i=this.state.modifier?.username||"",o=nt(this.resource.created,this.props.t,this.props.context.locale),l=nt(this.resource.modified,this.props.t,this.props.context.locale),c=this.isPasswordPreviewed(),d=this.isTotpPreviewed();return a.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleTitleClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Information"),s&&this.isAttentionRequired&&a.createElement(ge,{name:"exclamation",baseline:!0})),this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})))),a.createElement("ul",{className:"accordion-content"},this.isPasswordResources()&&a.createElement(a.Fragment,null,a.createElement("li",{className:"username"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Username")),a.createElement("span",{className:"value"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleUsernameClickEvent},a.createElement("span",null,this.resource.metadata.username)))),a.createElement("li",{className:"password"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Password")),a.createElement("div",{className:"value"},a.createElement("div",{className:"secret secret-password "+(c?"":"secret-copy"),title:c?this.state.plaintextSecretDto?.password:"secret"},a.createElement(yg,{canClick:n,preview:this.state.plaintextSecretDto?.password,onClick:this.handlePasswordClickEvent})),t&&a.createElement("button",{type:"button",onClick:this.handleViewPasswordButtonClick,className:"password-view button-transparent"},a.createElement(ge,{name:c?"eye-close":"eye-open"}),a.createElement("span",{className:"visually-hidden"},a.createElement(w.x6,null,"View")))))),this.isTotpResources()&&a.createElement("li",{className:"totp"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"TOTP")),a.createElement("div",{className:"value"},a.createElement("div",{className:"secret secret-totp "+(d?"":"secret-copy")},d&&a.createElement(xg,{totp:this.state.plaintextSecretDto?.totp,canClick:n,onClick:this.handleTotpClick}),!d&&a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTotpClick,disabled:!n},a.createElement("span",null,"Copy TOTP to clipboard"))),t&&a.createElement("button",{type:"button",onClick:this.handlePreviewTotpButtonClick,className:"totp-view button-transparent"},a.createElement(ge,{name:d?"eye-close":"eye-open"})))),a.createElement("li",{className:"uri"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"URI")),a.createElement("span",{className:"value"},this.safeUri&&a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleGoToResourceUriClick},a.createElement("span",null,this.resource.metadata.uris?.[0])),!this.safeUri&&a.createElement("span",null,this.resource.metadata.uris?.[0]))),a.createElement("li",{className:"modified"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Modified")),a.createElement("span",{className:"value",title:this.resource.modified},l)),a.createElement("li",{className:"modified-by"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Modified by")),a.createElement("span",{className:"value"},i)),a.createElement("li",{className:"modified"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Created")),a.createElement("span",{className:"value",title:this.resource.created},o)),a.createElement("li",{className:"modified-by"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Created by")),a.createElement("span",{className:"value"},r)),e&&a.createElement("li",{className:"location"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Location")),a.createElement("span",{className:"value"},a.createElement("button",{type:"button",onClick:this.handleFolderParentClickEvent,disabled:!this.props.context.folders,className:"link no-border folder-link"},this.isFolderParentShared()?a.createElement(ge,{name:"folder-shared"}):a.createElement(ge,{name:"folder"}),a.createElement("span",null,this.getFolderName(this.resource.folder_parent_id))))),s&&a.createElement("li",{className:"expiry"},a.createElement("span",{className:"label"},a.createElement(w.x6,null,"Expiry")," ",this.isAttentionRequiredOnExpiryDate&&a.createElement(ge,{name:"exclamation",baseline:!0})),a.createElement("span",{className:"value",title:this.resource.expired},this.resourceExpirationStatus))))}}oC.propTypes={context:l().any,rbacContext:l().any,onSelectFolderParent:l().func,onSelectRoot:l().func,history:l().object,resourceWorkspaceContext:l().object,resourceTypes:l().instanceOf(tC),actionFeedbackContext:l().any,progressContext:l().any,passwordExpiryContext:l().object,t:l().func};const lC=h(pe((0,i.y)(_e(wt(iC(ht(Iu((0,w.CI)("common")(oC)))))))));class cC extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleOnClickTag=this.handleOnClickTag.bind(this)}handleOnClickTag(e,t){e.stopPropagation();const s={type:xt.TAG,payload:{tag:t}};this.props.history.push({pathname:"/app/passwords",state:{filter:s}})}isLoading(){return!this.props.tags}getTags(){return this.isLoading()?null:this.props.tags.sort(((e,t)=>e.slug.localeCompare(t.slug)))}render(){const e=this.isLoading();return a.createElement("div",null,e&&a.createElement("div",{className:"processing-wrapper"},a.createElement(ge,{name:"spinner"}),a.createElement("span",{className:"processing-text"},a.createElement(w.x6,null,"Retrieving tags"))),!e&&0===this.props.tags.length&&a.createElement("span",{className:"empty-content",onClick:this.props.toggleInputTagEditor},a.createElement(w.x6,null,"There is no tag, click here to add one")),!e&&this.props.tags.length>0&&a.createElement("ul",{className:"tags tags-list",onClick:this.props.toggleInputTagEditor},this.getTags().map((e=>a.createElement("li",{key:e.id,className:"tag-list-item"},a.createElement("a",{onClick:t=>this.handleOnClickTag(t,e),className:"tag ellipsis"},a.createElement("span",{className:"tag-content"},e.slug)))))))}}cC.propTypes={tags:l().array,toggleInputTagEditor:l().func,resourceWorkspaceContext:l().any,history:l().any};const dC=(0,i.y)(wt((0,w.CI)("common")(cC)));class hC extends a.Component{constructor(e){super(e),this.bindEventHandlers()}bindEventHandlers(){this.onClick=this.onClick.bind(this)}getClassName(){return this.props.selected?"row selected":"row"}onClick(e){this.props.onClick(e,this.props.id)}render(){return a.createElement("li",{className:"autocomplete-item"},a.createElement("div",{className:`autocomplete-suggestion ${this.getClassName()} `},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell "},a.createElement("button",{type:"button",className:"link no-border",onClick:e=>this.onClick(e)},a.createElement("div",{className:"item"},a.createElement("span",{className:"name ellipsis"},this.props.slug)))))))}}hC.propTypes={id:l().number,slug:l().string,selected:l().bool,onClick:l().func};const mC=hC;class pC extends a.Component{constructor(e){super(e),this.bindEventHandlers(),this.createInputRefs(),this.state=this.getDefaultState()}getDefaultState(){return{selected:-1}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,{capture:!0})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,{capture:!0})}createInputRefs(){this.listRef=a.createRef()}bindEventHandlers(){this.handleKeyDown=this.handleKeyDown.bind(this),this.selectNext=this.selectNext.bind(this),this.selectPrevious=this.selectPrevious.bind(this),this.handleSelect=this.handleSelect.bind(this)}handleKeyDown(e){if(this.props.autocompleteItems){if(40===e.keyCode)return e.preventDefault(),void this.selectNext();if(38===e.keyCode)return e.preventDefault(),void this.selectPrevious();if(8!==e.keyCode){if(13===e.keyCode||9===e.keyCode){if(null===this.state.selected||-1===this.state.selected)return;e.preventDefault();const t=this.props.autocompleteItems[this.state.selected];this.props.onSelect(t)}}else this.setState({selected:-1})}}handleSelect(e,t){const s=this.props.autocompleteItems[t];this.props.onSelect(s),e.nativeEvent.stopImmediatePropagation()}handleArrowFocus(){if(-1===this.state.selected)this.props.onArrowFocus(this.props.value);else{const e=this.props.autocompleteItems[this.state.selected].slug;this.props.onArrowFocus(e)}}selectPrevious(){-1===this.state.selected?this.setState({selected:this.props.autocompleteItems.length-1}):this.setState({selected:this.state.selected-1}),this.scrollToSelectedItem(),this.handleArrowFocus()}selectNext(){this.state.selected===this.props.autocompleteItems.length-1?this.setState({selected:-1}):this.setState({selected:this.state.selected+1}),this.scrollToSelectedItem(),this.handleArrowFocus()}isItemSelected(e){return null!==this.state.selected&&e===this.state.selected}getStyle(){const e=this.props.width-this.props.left;return{left:this.props.left,top:this.props.top,maxWidth:e}}scrollToSelectedItem(){if(this.props.autocompleteItems&&0!==this.props.autocompleteItems.length&&-1!==this.state.selected){const e=this.listRef.current.scrollHeight/this.props.autocompleteItems.length,t=this.listRef.current.clientHeight,s=t-e*Math.round(t/e),a=e*this.state.selected,n=this.listRef.current.scrollTop;if(a-s<n)return void(this.listRef.current.scrollTop=this.listRef.current.scrollTop-t);if(a>n+t)return void(this.listRef.current.scrollTop=a)}else this.listRef.current.scrollTop=0}render(){return a.createElement("div",{className:"autocomplete-suggestions",style:this.getStyle()},a.createElement("div",{className:"autocomplete-content scroll",ref:this.listRef},a.createElement("ul",null,!this.state.processing&&this.props.autocompleteItems&&this.props.autocompleteItems.map(((e,t)=>a.createElement(mC,{key:t,id:t,slug:e.slug,selected:this.isItemSelected(t),onClick:this.handleSelect}))),this.state.processing&&a.createElement("li",{className:"autocomplete-suggestion row"},a.createElement(ge,{name:"spinner"})))))}}pC.propTypes={id:l().string,autocompleteItems:l().array,top:l().number,left:l().number,width:l().number,onSelect:l().func,onArrowFocus:l().func,value:l().string};const uC=pC;class gC extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.createRefs(),this.bindCallbacks()}getDefaultState(){return{tags:this.getResourceTags(),inputTagValue:"",processing:!1,loading:!0,tagAlreadyPresent:"",allTags:null,autocompletePosition:{top:0,left:0,width:0},suggestedTags:null,errorMessage:""}}getResourceTags(){return this.props.tags?[...this.props.tags]:[]}createRefs(){this.elementRef=a.createRef(),this.inputTagRef=a.createRef()}bindCallbacks(){this.handleEditorClickEvent=this.handleEditorClickEvent.bind(this),this.handleOnSubmit=this.handleOnSubmit.bind(this),this.handleOnInput=this.handleOnInput.bind(this),this.handleKeyPressed=this.handleKeyPressed.bind(this),this.handleOnKeyDown=this.handleOnKeyDown.bind(this),this.deleteTag=this.deleteTag.bind(this),this.focusOnInputTag=this.focusOnInputTag.bind(this),this.handleAutocompleteSelect=this.handleAutocompleteSelect.bind(this),this.handleAutocompleteArrowFocus=this.handleAutocompleteArrowFocus.bind(this)}componentDidMount(){document.addEventListener("click",this.handleEditorClickEvent,{capture:!0}),this.fetchAllTags(),this.setState({loading:!1},(()=>{this.focusOnInputTag()}))}componentWillUnmount(){document.removeEventListener("click",this.handleEditorClickEvent,{capture:!0})}focusOnInputTag(){this.inputTagRef.current.focus()}async fetchAllTags(){const e=await this.props.context.port.request("passbolt.tags.find-all");e&&this.setState({allTags:e})}hasAllInputDisabled(){return this.state.processing||this.state.loading}handleEditorClickEvent(e){this.elementRef.current.contains(e.target)||(this.inputTagRef.current.contains(e.target)?this.focusOnInputTag():this.props.toggleInputTagEditor())}handleOnInput(){this.setInputTagValue(),this.getSuggestedTags(),this.getPositionOfInputTag()}setInputTagValue(){const e=this.inputTagRef.current.textContent;this.setState({inputTagValue:e})}resetInputTagValue(){this.inputTagRef.current.textContent="",this.setInputTagValue()}getPositionOfInputTag(){const e=this.inputTagRef.current.offsetTop+30,t={left:this.inputTagRef.current.offsetLeft,top:e,width:this.elementRef.current.getBoundingClientRect().width};this.setState({autocompletePosition:t})}createTag(e){let t=!1;return e.startsWith("#")&&(t=!0),{slug:e,is_shared:t}}isTagDeletable(e){return(this.props.isOwner||!e.is_shared)&&!this.hasAllInputDisabled()}isTagAlreadyPresent(e){return!!this.state.tags.filter((t=>t.slug===e)).shift()}setErrorMessage(e){this.setState({errorMessage:e})}blinkTagAlreadyPresent(e){this.setState({tagAlreadyPresent:e}),setTimeout((()=>{this.setState({tagAlreadyPresent:""})}),2e3)}isTagExceedMaxLength(e){return e.length>128}validateTag(e){return!(!e&&0===e.trim().length||(this.isTagExceedMaxLength(e.trim())?(this.setErrorMessage(this.translate("This tag can't be added, the length cannot exceed {{tagMaxLength}}",{tagMaxLength:128})),1):!this.props.isOwner&&e.startsWith("#")?(this.setErrorMessage(this.translate("This shared tag can't be added, you are not the owner")),1):this.isTagAlreadyPresent(e.trim())&&(this.blinkTagAlreadyPresent(e.trim()),this.setErrorMessage(this.translate("This tag is already present")),this.resetInputTagValue(),1)))}checkTagToBeSaved(){const e=this.inputTagRef.current.textContent;if(this.setErrorMessage(""),!e&&0===e.trim().length)return!0;if(this.validateTag(e)){const t=this.createTag(e.trim());return this.insertTag(t),this.resetInputTagValue(),this.hideAutocomplete(),!0}return!1}insertTag(e){const t=this.state.tags;t.push(e),this.setState({tags:t})}handleKeyPressed(e){13!==e.which||this.inputTagRef.current.textContent?13!==e.which&&44!==e.which||(e.preventDefault(),this.checkTagToBeSaved()):this.handleOnSubmit()}checkTagToDelete(){if(!this.inputTagRef.current.textContent){const e=this.state.tags.slice(-1)[0];if(this.isTagDeletable(e)){const e=this.state.tags;e.pop(),this.setState({tags:e}),this.setErrorMessage("")}else this.setErrorMessage(this.translate("This shared tag can't be deleted, you are not the owner"))}}deleteTag(e,t){e.nativeEvent.stopImmediatePropagation();const s=this.state.tags;s.splice(t,1),this.setState({tags:s})}mustShowAutocomplete(){return this.state.suggestedTags&&this.state.suggestedTags.length>0}hideAutocomplete(){this.setState({suggestedTags:null})}handleOnKeyDown(e){8===e.which?this.checkTagToDelete():27===e.which&&(this.mustShowAutocomplete()?(this.inputTagRef.current.textContent=this.state.inputTagValue,this.setCaretCursorToEnd(),this.hideAutocomplete()):this.props.toggleInputTagEditor())}async handleOnSubmit(){this.state.processing||(this.setState({processing:!0}),this.checkTagToBeSaved()?await this.updateTags():this.setState({processing:!1}))}async updateTags(){try{this.props.loadingContext.add(),await this.props.context.port.request("passbolt.tags.update-resource-tags",this.props.resourceId,this.state.tags),this.props.loadingContext.remove(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The tags have been updated successfully")),this.setState({processing:!1}),this.props.toggleInputTagEditor()}catch(e){this.props.loadingContext.remove(),console.error(e),this.setState({errorMessage:e.message,processing:!1})}}getSuggestedTags(){const e=this.inputTagRef.current.textContent;if(e&&this.state.allTags){const t=this.state.allTags.filter((t=>0===this.state.tags.filter((e=>e.slug===t.slug)).length&&this.isTagDeletable(t)&&-1!=t.slug.toLowerCase().indexOf(e.toLowerCase())));this.setState({suggestedTags:t})}else this.setState({suggestedTags:null})}handleAutocompleteSelect(e){this.insertTag(e),this.resetInputTagValue(),this.focusOnInputTag(),this.hideAutocomplete()}handleAutocompleteArrowFocus(e){this.inputTagRef.current.textContent=e,this.setCaretCursorToEnd(),this.getPositionOfInputTag()}setCaretCursorToEnd(){const e=document.createRange(),t=window.getSelection();e.setStart(this.inputTagRef.current.childNodes[0],this.inputTagRef.current.textContent.length),e.collapse(!0),t.removeAllRanges(),t.addRange(e)}get translate(){return this.props.t}render(){return a.createElement("div",{className:"form-content",ref:this.elementRef},a.createElement("div",{className:"input tag-editor"},a.createElement("div",{className:"tag-editor-input-wrapper",onClick:this.focusOnInputTag},this.state.tags&&this.state.tags.map(((e,t)=>a.createElement("div",{key:t,className:"tag"},a.createElement("span",{className:"tag-content ellipsis "+(this.state.tagAlreadyPresent===e.slug?"blink-fast":"")},e.slug),this.isTagDeletable(e)&&a.createElement("span",{className:"tag-delete",onClick:e=>this.deleteTag(e,t)},a.createElement(ge,{name:"close"}))))),a.createElement("div",{ref:this.inputTagRef,className:"tag-editor-input",contentEditable:!this.hasAllInputDisabled(),suppressContentEditableWarning:"true",onKeyPress:this.handleKeyPressed,onKeyDown:this.handleOnKeyDown,onInput:this.handleOnInput}),this.mustShowAutocomplete()&&a.createElement(uC,{id:"tag-autocomplete",value:this.state.inputTagValue,autocompleteItems:this.state.suggestedTags,left:this.state.autocompletePosition.left,top:this.state.autocompletePosition.top,width:this.state.autocompletePosition.width,onSelect:this.handleAutocompleteSelect,onArrowFocus:this.handleAutocompleteArrowFocus})),this.state.errorMessage&&a.createElement("div",{className:"error-message"},this.state.errorMessage)),a.createElement("div",{className:"actions"},a.createElement("button",{type:"button",disabled:this.hasAllInputDisabled(),className:"cancel tag-editor-cancel",onClick:this.props.toggleInputTagEditor},a.createElement("span",null,a.createElement(w.x6,null,"Cancel"))),a.createElement("button",{type:"button",disabled:this.hasAllInputDisabled(),className:"primary tag-editor-submit "+(this.hasAllInputDisabled()?"processing":""),onClick:this.handleOnSubmit},a.createElement("span",null,a.createElement(w.x6,null,"Save")))),!this.state.errorMessage&&this.props.isOwner&&a.createElement("div",{className:"message notice"},a.createElement("strong",null,a.createElement(w.x6,null,"Pro tip"),":")," ",a.createElement(w.x6,null,"Tags starting with # are shared with all users who have access. Separate tags using commas.")))}}gC.propTypes={context:l().any,tags:l().array,isOwner:l().bool,toggleInputTagEditor:l().func,resourceId:l().string,actionFeedbackContext:l().any,loadingContext:l().any,t:l().func};const CC=h(He(_e((0,w.CI)("common")(gC))));class bC extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{open:!1,showTagEditor:!1}}bindCallbacks(){this.handleTitleClickEvent=this.handleTitleClickEvent.bind(this),this.toggleInputTagEditor=this.toggleInputTagEditor.bind(this)}handleTitleClickEvent(){const e=!this.state.open;this.setState({open:e})}get resource(){return this.props.resourceWorkspaceContext.details.resource}toggleInputTagEditor(){const e=!this.state.showTagEditor;this.setState({showTagEditor:e})}render(){const e=this.resource,t=e&&15===this.resource.permission.type,s=e&&this.resource.tags;return a.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleTitleClickEvent},a.createElement(w.x6,null,"Tags"),this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},a.createElement("button",{type:"button",className:"section-action button-transparent",onClick:this.toggleInputTagEditor},a.createElement(ge,{name:"edit"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"Edit"))),!this.state.showTagEditor&&a.createElement(dC,{tags:s,toggleInputTagEditor:this.toggleInputTagEditor}),this.state.showTagEditor&&a.createElement(CC,{tags:s,isOwner:t,toggleInputTagEditor:this.toggleInputTagEditor,resourceId:this.resource.id})))}}bC.propTypes={history:l().any,resourceWorkspaceContext:l().any};const EC=wt((0,w.CI)("common")(bC));class fC extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks(),this.createRefs()}componentDidMount(){this.textareaRef.current.focus()}getDefaultState(){return{content:"",actions:{processing:!1},errors:{}}}bindCallbacks(){this.handleSubmitEvent=this.handleSubmitEvent.bind(this),this.handleCancelEvent=this.handleCancelEvent.bind(this),this.handleContentChanged=this.handleContentChanged.bind(this),this.handleEscapeKeyPressed=this.handleEscapeKeyPressed.bind(this)}createRefs(){this.textareaRef=a.createRef()}get isValid(){return Object.values(this.state.errors).every((e=>!e))}async handleSubmitEvent(e){if(e.preventDefault(),await this.validate(),this.isValid)try{await this.setState({actions:{processing:!0}}),this.props.loadingContext.add();const e=await this.add();await this.handleSubmitSuccess(e)}catch(e){await this.handleSubmitFailure(e)}}async handleSubmitSuccess(e){this.props.loadingContext.remove(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The comment has been added successfully")),this.props.onAdd(e)}async handleSubmitFailure(e){this.props.loadingContext.remove(),await this.props.actionFeedbackContext.displayError(e.message),await this.setState({actions:{processing:!1},errors:{technicalError:e.message}})}handleCancelEvent(){this.props.onCancel()}handleContentChanged(e){this.setState({content:e.target.value})}handleEscapeKeyPressed(e){27===e.keyCode&&this.props.cancellable&&(e.stopPropagation(),this.props.onCancel())}async add(){const e=this.state.content.trim(),t={foreign_key:this.props.resource.id,foreign_model:"Resource",content:e,user_id:this.props.context.loggedInUser.id};return await this.props.context.port.request("passbolt.comments.create",t)}async validate(){const e={isEmpty:""===this.state.content.trim(),isTooLong:this.state.content.length>256};await this.setState({errors:e})}get translate(){return this.props.t}render(){return a.createElement("form",{className:"comment",autoComplete:"off"},a.createElement("div",{className:"wrap-right-column"},a.createElement("div",{className:"right-column"},a.createElement("div",{className:"form-content"},a.createElement("div",{className:"input textarea required"},a.createElement("textarea",{ref:this.textareaRef,placeholder:this.translate("Add a comment"),"aria-required":!0,onChange:this.handleContentChanged,onKeyDown:this.handleEscapeKeyPressed,disabled:this.state.actions.processing}),a.createElement("div",{className:"error-message"},this.state.errors.isEmpty&&this.translate("A comment is required."),this.state.errors.isTooLong&&this.translate("A comment must be less than 256 characters"),this.state.errors.technicalError)),a.createElement("div",{className:"metadata"},a.createElement("span",{className:"author username"},a.createElement(w.x6,null,"You")),a.createElement("span",{className:"modified"},a.createElement(w.x6,null,"right now"))),a.createElement("div",{className:"actions"},this.props.cancellable&&a.createElement("button",{type:"button",className:"button cancel",onClick:this.handleCancelEvent,disabled:this.state.actions.processing},a.createElement("span",null,a.createElement(w.x6,null,"Cancel"))),a.createElement("button",{className:"button primary comment-submit",type:"submit",onClick:this.handleSubmitEvent,disabled:this.state.actions.processing},a.createElement(w.x6,null,"Save")))))),a.createElement("div",{className:"left-column"},a.createElement(Gt,{user:this.props.context.loggedInUser,baseUrl:this.props.context.siteSettings.settings.app.url,className:"author profile picture avatar"})))}}fC.propTypes={context:l().any,resource:l().object,onAdd:l().func,onCancel:l().func,cancellable:l().bool,actionFeedbackContext:l().any,loadingContext:l().any,t:l().func};const yC=h(He(_e((0,w.CI)("common")(fC))));class vC extends a.Component{constructor(e,t){super(e,t),this.state=this.defaultState,this.bindEventHandlers()}get defaultState(){return{actions:{processing:!1}}}bindEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleConfirm=this.handleConfirm.bind(this)}async handleConfirm(e){e.preventDefault();try{await this.setState({actions:{processing:!0}}),this.props.loadingContext.add(),await this.props.context.port.request("passbolt.comments.delete",this.props.context.resourceCommentId),this.props.loadingContext.remove(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The comment has been deleted successfully")),await this.setState({actions:{processing:!1}}),this.props.context.setContext({resourceCommentId:null,mustRefreshComments:!0}),this.props.onClose()}catch(e){await this.setState({actions:{processing:!1}}),await this.props.actionFeedbackContext.displayError(e),this.props.context.setContext({resourceCommentId:null,mustRefreshComments:!1}),this.props.onClose()}}handleClose(){this.props.context.setContext({resourceCommentId:null}),this.props.onClose()}get translate(){return this.props.t}render(){return a.createElement("div",null,a.createElement(ve,{className:"comment-delete-dialog",title:this.translate("Delete comment?"),onClose:this.handleClose,disabled:this.state.actions.processing},a.createElement("form",{className:"comment-delete-form",onSubmit:this.handleConfirm,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("p",null,a.createElement(w.x6,null,"Are you sure you want to delete the comment?")),a.createElement("p",null,a.createElement(w.x6,null,"Once the comment is deleted, it will be removed permanently and will not be recoverable."))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.state.actions.processing,onClick:this.handleClose}),a.createElement(Vt,{disabled:this.state.actions.processing,processing:this.state.processing,value:this.translate("Delete"),warning:!0})))))}}vC.propTypes={context:l().any,actionFeedbackContext:l().object,loadingContext:l().object,onClose:l().func,t:l().func};const kC=h(He(_e((0,w.CI)("common")(vC))));class wC extends a.Component{constructor(e){super(e),this.bindEventHandlers()}bindEventHandlers(){this.delete=this.delete.bind(this)}delete(){this.props.context.setContext({resourceCommentId:this.props.commentId}),this.props.dialogContext.open(kC)}render(){return a.createElement("button",{type:"button",className:"delete-comment button-transparent",onClick:this.delete},a.createElement("span",{className:"svg-icon"},a.createElement(ge,{name:"trash"})),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"Delete")))}}wC.propTypes={context:l().any,commentId:l().string,dialogContext:l().any};const xC=h(k((0,w.CI)("common")(wC)));class SC extends a.Component{constructor(e){super(e),this.state=this.getDefaultState()}getDefaultState(){return{comments:[],actions:{loading:!1}}}async componentDidMount(){await this.fetch()}componentDidUpdate(e){this.checkRefresh(e.mustRefresh)}async fetch(){this.setState({actions:{loading:!0}});const e=this.props.resource.id,t=await this.props.context.port.request("passbolt.comments.find-all-by-resource",e);this.setState({comments:t.sort(((e,t)=>We.c9.fromISO(t.created)<We.c9.fromISO(e.created)?-1:1))}),this.props.onFetch(t),this.setState({actions:{loading:!1}})}checkRefresh(e){(this.props.mustRefresh&&!e||this.props.context.mustRefreshComments)&&this.fetch(),this.props.context.mustRefreshComments&&this.props.context.setContext({mustRefreshComments:!1})}canDeleteComment(e){return this.isOwner(e)}isOwner(e){return this.props.context.loggedInUser.id===e.created_by}isUserSuspended(e){return this.props.context.siteSettings.canIUse("disableUser")&&Zt(e)}render(){return a.createElement(a.Fragment,null,!this.state.actions.loading&&a.createElement("ul",null,this.state.comments.map(((e,t)=>a.createElement("li",{key:t,className:"comment "+(this.isUserSuspended(e.creator)?"from-suspended-user":"")},a.createElement("div",{className:"wrap-right-column"},a.createElement("div",{className:"right-column"},a.createElement("p",null," ",e.content," "),a.createElement("div",{className:"metadata"},this.isOwner(e)&&a.createElement("span",{className:"author username"},a.createElement(w.x6,null,"You")),!this.isOwner(e)&&a.createElement("span",{className:"author username"},e.creator.profile.first_name," ",e.creator.profile.last_name,this.isUserSuspended(e.creator)&&a.createElement("span",{className:"suspended"}," ",a.createElement(w.x6,null,"(suspended)"))),a.createElement("span",{className:"modified"},nt(e.created,this.props.t,this.props.context.locale))),a.createElement("div",{className:"actions"},a.createElement("ul",null,a.createElement("li",null,this.canDeleteComment(e)&&a.createElement(xC,{commentId:e.id})))))),a.createElement("div",{className:"left-column"},a.createElement(Gt,{user:e.creator,baseUrl:this.props.context.siteSettings.settings.app.url,className:"author profile picture avatar"})))))),this.state.actions.loading&&a.createElement("div",{className:"processing-wrapper"},a.createElement(ge,{name:"spinner"}),a.createElement("span",{className:"processing-text"},a.createElement(w.x6,null,"Retrieving comments"))))}}const NC=h((0,w.CI)("common")(SC));SC.propTypes={context:l().any,resource:l().object,onFetch:l().func,mustRefresh:l().bool,t:l().func};class RC extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{open:!1,comments:[],canAdd:!1,canAddByIcon:!1,mustRefresh:!1}}componentDidUpdate(e){this.handleResourceChange(e.resourceWorkspaceContext.details.resource)}bindCallbacks(){this.handleTitleClickedEvent=this.handleTitleClickedEvent.bind(this),this.handleAddedEvent=this.handleAddedEvent.bind(this),this.handleCancelledAddEvent=this.handleCancelledAddEvent.bind(this),this.handleRequestedAddEvent=this.handleRequestedAddEvent.bind(this),this.handleFetchedEvent=this.handleFetchedEvent.bind(this)}async handleResourceChange(e){this.state.open&&this.resource.id!==e.id&&await this.setState({mustRefresh:!0})}async handleTitleClickedEvent(){const e=!this.state.open;this.setState({open:e})}async handleAddedEvent(){await this.setState({mustRefresh:!0,canAdd:!1,canAddByIcon:!0})}async handleCancelledAddEvent(){await this.setState({canAdd:!1})}async handleRequestedAddEvent(){await this.setState({canAdd:!0})}async handleFetchedEvent(e){const t=e&&e.length>0;await this.setState({mustRefresh:!1,canAdd:!t,canAddByIcon:t})}get resource(){return this.props.resourceWorkspaceContext.details.resource}render(){return a.createElement("div",{className:"comments accordion sidebar-section "+(this.state.open?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleTitleClickedEvent},a.createElement(w.x6,null,"Comments"),this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})))),this.state.open&&a.createElement("div",{className:"accordion-content"},this.state.canAddByIcon&&a.createElement("button",{type:"button",className:"section-action button-transparent",onClick:this.handleRequestedAddEvent},a.createElement(ge,{name:"plus-circle"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"Create"))),this.state.canAdd&&a.createElement(yC,{resource:this.resource,onAdd:this.handleAddedEvent,onCancel:this.handleCancelledAddEvent,cancellable:this.state.canAddByIcon}),a.createElement(NC,{resource:this.resource,onFetch:this.handleFetchedEvent,mustRefresh:this.state.mustRefresh})))}}RC.propTypes={resourceWorkspaceContext:l().any};const IC=wt((0,w.CI)("common")(RC));class _C{static createFromEntity(){throw new Error("The ViewModel class should declare how to create a ResourceViewModel from a resource entity.")}static getSchema(){throw new Error("The ViewModel class should declare its schema.")}static get resourceTypeSlug(){throw new Error("The ViewModel class should declare its resource type slug.")}updateSecret(){throw new Error("The ViewModel class should declare how to update its secret fields.")}canToggleDescription(){throw new Error("The ViewModel class should declare if description can be toggled.")}isDescriptionUnencrypted(){throw new Error("The ViewModel class should declare if description is unencrypted.")}toResourceDto(){throw new Error("The ViewModel class should declare how to export to a resource dto.")}toSecretDto(){throw new Error("The ViewModel class should declare how to export to a secret dto.")}areSecretsDifferent(){throw new Error("The ViewModel class should declare how to compare secrets.")}cloneWithMutation(e,t){const s={...this,[e]:t};return new this.constructor(s)}validate(e=_C.CREATE_MODE){try{se.validate(this.constructor.name,this,this.constructor.getSchema(e))}catch(e){return e}return new Y}static get CREATE_MODE(){return"CREATE_MODE"}static get EDIT_MODE(){return"EDIT_MODE"}}const DC=_C;class TC extends DC{constructor(e={}){super({}),this.username=e.username||"",this.uri=e.uri||"",this.description=e.description||"",this.folder_parent_id=e.folder_parent_id||null,this.resource_type_id=e.resource_type_id,void 0!==e.id&&(this.id=e.id),e.name&&(this.name=e.name),e.password&&(this.password=e.password),void 0!==e.expired&&(this.expired=e.expired)}static createFromEntity(e){const t={id:e.id,name:e.metadata.name,uri:e.metadata.uris[0],username:e.metadata.username,description:e.metadata.description,folder_parent_id:e.folder_parent_id,resource_type_id:e.resource_type_id,expired:e.expired};return new TC(t)}static getSchema(e){const t=["name","password","resource_type_id"];return e===DC.EDIT_MODE&&t.push("id"),{type:"object",required:t,properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:ks},uri:{type:"string",maxLength:Ns,nullable:!0},username:{type:"string",maxLength:ws,nullable:!0},password:{type:"string",maxLength:xs},description:{type:"string",maxLength:Ss,nullable:!0},expired:{type:"string",format:"date-time",nullable:!0},folder_parent_id:{type:"string",format:"uuid",nullable:!0},resource_type_id:{type:"string",format:"uuid"}}}}static get resourceTypeSlug(){return Dg}updateSecret(e){return this.cloneWithMutation("password",e.password)}canToggleDescription(){return!0}isDescriptionUnencrypted(){return!0}toResourceDto(){const e={resource_type_id:this.resource_type_id,folder_parent_id:this.folder_parent_id,metadata:{resource_type_id:this.resource_type_id,name:this.name,uris:this.uri?[this.uri]:[],username:this.username,description:this.description}};return void 0!==this.expired&&(e.expired=this.expired),void 0!==this.id&&(e.id=this.id),e}toSecretDto(){return this.password}areSecretsDifferent(e){return!(1===Object.keys(e).length&&Object.hasOwn(e,"password"))||this.password!==e.password}}const PC=TC;class AC extends DC{constructor(e={}){super(e),this.username=e.username||"",this.uri=e.uri||"",this.description=e.description||"",this.folder_parent_id=e.folder_parent_id||null,this.resource_type_id=e.resource_type_id,void 0!==e.id&&(this.id=e.id),e.name&&(this.name=e.name),e.password&&(this.password=e.password),void 0!==e.expired&&(this.expired=e.expired)}static createFromEntity(e){const t={id:e.id,name:e.metadata.name,uri:e.metadata.uris[0],username:e.metadata.username,folder_parent_id:e.folder_parent_id,resource_type_id:e.resource_type_id,expired:e.expired};return new AC(t)}static getSchema(e){const t=["name","password","resource_type_id"];return e===DC.EDIT_MODE&&t.push("id"),{type:"object",required:t,properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:ks},uri:{type:"string",maxLength:Ns,nullable:!0},username:{type:"string",maxLength:ws,nullable:!0},password:{type:"string",maxLength:xs},description:{type:"string",maxLength:Ss,nullable:!0},expired:{type:"string",format:"date-time",nullable:!0},folder_parent_id:{type:"string",format:"uuid",nullable:!0},resource_type_id:{type:"string",format:"uuid"}}}}static get resourceTypeSlug(){return Tg}updateSecret(e){const t=this.cloneWithMutation("password",e.password);return t.description=e.description,t}canToggleDescription(){return!0}isDescriptionUnencrypted(){return!1}toResourceDto(){const e={resource_type_id:this.resource_type_id,folder_parent_id:this.folder_parent_id,metadata:{resource_type_id:this.resource_type_id,name:this.name,uris:this.uri?[this.uri]:[],username:this.username}};return void 0!==this.expired&&(e.expired=this.expired),void 0!==this.id&&(e.id=this.id),e}toSecretDto(){return{password:this.password,description:this.description,resource_type_id:this.resource_type_id}}areSecretsDifferent(e){return!(2===Object.keys(e).length&&Object.hasOwn(e,"password")&&Object.hasOwn(e,"description"))||this.password!==e.password||this.description!==e.description}}const MC=AC;class UC extends DC{constructor(e={}){super(e),this.username=e.username||"",this.uri=e.uri||"",this.description=e.description||"",this.totp=e.totp||null,this.folder_parent_id=e.folder_parent_id||null,this.resource_type_id=e.resource_type_id,void 0!==e.id&&(this.id=e.id),e.name&&(this.name=e.name),e.password&&(this.password=e.password),void 0!==e.expired&&(this.expired=e.expired)}static createFromEntity(e){const t={id:e.id,name:e.metadata.name,uri:e.metadata.uris[0],username:e.metadata.username,folder_parent_id:e.folder_parent_id,resource_type_id:e.resource_type_id,expired:e.expired};return new UC(t)}static getSchema(e){const t=["name","password","resource_type_id"];return e===DC.EDIT_MODE&&t.push("id"),{type:"object",required:t,properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:ks},uri:{type:"string",maxLength:Ns,nullable:!0},username:{type:"string",maxLength:ws,nullable:!0},password:{type:"string",maxLength:xs},description:{type:"string",maxLength:Ss,nullable:!0},expired:{type:"string",format:"date-time",nullable:!0},folder_parent_id:{type:"string",format:"uuid",nullable:!0},totp:{type:"object"},resource_type_id:{type:"string",format:"uuid"}}}}static get resourceTypeSlug(){return Pg}updateSecret(e){const t=this.cloneWithMutation("password",e.password);return t.description=e.description,t.totp=e.totp,t}canToggleDescription(){return!1}isDescriptionUnencrypted(){return!1}toResourceDto(){const e={resource_type_id:this.resource_type_id,folder_parent_id:this.folder_parent_id,metadata:{resource_type_id:this.resource_type_id,name:this.name,uris:this.uri?[this.uri]:[],username:this.username}};return void 0!==this.expired&&(e.expired=this.expired),void 0!==this.id&&(e.id=this.id),e}toSecretDto(){return{password:this.password,description:this.description,totp:this.totp,resource_type_id:this.resource_type_id}}areSecretsDifferent(e){const t=3===Object.keys(e).length&&Object.hasOwn(e,"password")&&Object.hasOwn(e,"description")&&Object.hasOwn(e,"totp"),s=Object.keys(this.totp).some((t=>this.totp[t]!==e.totp?.[t]));return!t||this.password!==e.password||this.description!==e.description||s}}const FC=UC;class LC extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createInputRef()}get defaultState(){return{processing:!1,unexpectedError:null,resourceViewModel:null,originalResourceTypeSlug:null,hasAlreadyBeenValidated:!1}}bindCallbacks(){this.handleEditorClickEvent=this.handleEditorClickEvent.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleDescriptionToggle=this.handleDescriptionToggle.bind(this)}createInputRef(){this.elementRef=a.createRef(),this.textareaRef=a.createRef()}componentDidMount(){this.handleOutsideEditorClickEvent(),this.initializeResourceViewModel(),this.setFocusOnDescriptionEditor()}componentWillUnmount(){this.removeOutsideEditorClickEvent()}initializeResourceViewModel(){const e=this.props.resourceTypes?.getFirstById(this.props.resource.resource_type_id);let t=this.getViewModelTypeBySlug(e?.slug).createFromEntity(this.props.resource);this.props.plaintextSecretDto&&(t=t.updateSecret(this.props.plaintextSecretDto)),this.setState({resourceViewModel:t,originalResourceTypeSlug:e?.slug})}getViewModelTypeBySlug(e){switch(e){case PC.resourceTypeSlug:return PC;case MC.resourceTypeSlug:return MC;case FC.resourceTypeSlug:return FC;default:throw new Error("There is no ResourceViewModel mathching the given slug")}}async save(){this.setState({processing:!0});try{const e=await this.updateResource();await this.props.actionFeedbackContext.displaySuccess(this.translate("The description has been updated successfully")),await this.props.resourceWorkspaceContext.onResourceDescriptionEdited(),this.props.onUpdate(e.description,e.plaintextSecretDto),this.close()}catch(e){if("UserAbortsOperationError"===e.name)return void this.setState({processing:!1});console.error(e),this.setState({unexpectedError:e.message,processing:!1})}}async updateResource(){let e=this.state.resourceViewModel;const t=e.toResourceDto(),s=this.state.originalResourceTypeSlug!==e.constructor.resourceTypeSlug,a=this.props.plaintextSecretDto&&e.areSecretsDifferent(this.props.plaintextSecretDto),n=s||a;if(s){const t=e.description,s=await this.props.context.port.request("passbolt.secret.find-by-resource-id",e.id);e=e.updateSecret(s).cloneWithMutation("description",t)}const r=n?e.toSecretDto():null;return await this.props.context.port.request("passbolt.resources.update",t,r),{description:this.state.resourceViewModel.description,plaintextSecretDto:this.state.resourceViewModel.toSecretDto()}}close(){return this.props.onClose()}removeOutsideEditorClickEvent(){document.removeEventListener("click",this.handleEditorClickEvent,{capture:!0})}handleOutsideEditorClickEvent(){document.addEventListener("click",this.handleEditorClickEvent,{capture:!0})}setFocusOnDescriptionEditor(){const e=this.state.resourceViewModel?.description?.length||0;this.textareaRef.current.selectionStart=e,this.textareaRef.current.selectionEnd=e,this.textareaRef.current.focus()}handleEditorClickEvent(e){this.elementRef.current.contains(e.target)||this.state.processing||this.close()}hasAllInputDisabled(){return this.state.processing||this.state.loading}handleKeyDown(e){27===e.keyCode&&(e.stopPropagation(),this.close())}handleCancel(){this.close()}handleInputChange(e){const t=e.target,s=t.name,a=t.value||null;this.setState({resourceViewModel:this.state.resourceViewModel.cloneWithMutation(s,a)})}async handleFormSubmit(e){e.preventDefault(),this.state.processing||(this.props.loadingContext.add(),await this.save(),this.props.loadingContext.remove())}async handleDescriptionToggle(){if(this.state.originalResourceTypeSlug!==PC.resourceTypeSlug)return;if(!this.state.resourceViewModel.canToggleDescription())return;const e=this.state.resourceViewModel.isDescriptionUnencrypted()?MC:PC,t=this.props.resourceTypes.getFirstBySlug(e.resourceTypeSlug),s=new e({...this.state.resourceViewModel,resource_type_id:t.id});this.setState({resourceViewModel:s})}get translate(){return this.props.t}render(){const e=Boolean(this.state.resourceViewModel);return a.createElement("form",{onKeyDown:this.handleKeyDown,noValidate:!0,className:"description-editor"},a.createElement("div",{className:"form-content",ref:this.elementRef},a.createElement("div",{className:"input textarea required"},a.createElement("textarea",{name:"description",className:"fluid","aria-required":!0,ref:this.textareaRef,maxLength:"10000",placeholder:this.translate("Enter a description"),value:e?this.state.resourceViewModel.description:"",onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),autoComplete:"off"})),this.state.unexpectedError&&a.createElement("div",{className:"feedbacks error-message"},this.state.unexpectedError),a.createElement("div",{className:"actions"},a.createElement("div",{className:"description-lock"},a.createElement("button",{type:"button",onClick:this.handleDescriptionToggle,className:"link no-border lock-toggle"},e&&a.createElement(a.Fragment,null,this.state.resourceViewModel.isDescriptionUnencrypted()?a.createElement(fe,{message:this.translate("Do not store sensitive data or click here to enable encryption for the description field.")},a.createElement(ge,{name:"lock-open"})):a.createElement(fe,{message:this.translate("The description content will be encrypted."),icon:""},a.createElement(ge,{name:"lock"}))))),a.createElement("button",{type:"button",disabled:this.hasAllInputDisabled(),className:"cancel",onClick:this.handleCancel},a.createElement(w.x6,null,"Cancel")),a.createElement("button",{type:"button",disabled:this.hasAllInputDisabled(),className:"primary description-editor-submit "+(this.hasAllInputDisabled()?"processing":""),onClick:this.handleFormSubmit},a.createElement("span",null,a.createElement(w.x6,null,"Save"))))))}}LC.propTypes={context:l().any,plaintextSecretDto:l().object,resource:l().any,onClose:l().func,onUpdate:l().func,resourceWorkspaceContext:l().any,resourceTypes:l().instanceOf(tC),actionFeedbackContext:l().any,loadingContext:l().any,t:l().func};const OC=h(wt(iC(He(_e((0,w.CI)("common")(LC))))));class VC extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{open:!1,error:!1,isSecretDecrypting:!1,showDescriptionEditor:!1,description:null,plaintextSecretDto:null}}bindCallbacks(){this.handleTitleClickEvent=this.handleTitleClickEvent.bind(this),this.toggleInputDescriptionEditor=this.toggleInputDescriptionEditor.bind(this),this.onCloseDescriptionEditor=this.onCloseDescriptionEditor.bind(this),this.onUpdateDescription=this.onUpdateDescription.bind(this),this.handleEditClickEvent=this.handleEditClickEvent.bind(this),this.handleRetryDecryptClickEvent=this.handleRetryDecryptClickEvent.bind(this)}componentDidMount(){this.state.open&&this.loadDescription()}componentDidUpdate(e){(this.resource.id!==e.resourceWorkspaceContext.details.resource.id||this.resource.modified!==e.resourceWorkspaceContext.details.resource.modified&&!this.state.showDescriptionEditor)&&(this.state.open?this.loadDescription():this.setState({description:null}))}async loadDescription(){if(this.isResourceDescriptionEncrypted())return this.decryptAndLoadEncryptedDescription();const e=this.resource.metadata.description;this.setState({description:e,plaintextSecretDto:null,error:!1})}isResourceDescriptionEncrypted(){return this.props.resourceTypes?.getFirstById(this.resource.resource_type_id)?.hasSecretDescription()}async decryptAndLoadEncryptedDescription(){this.setState({isSecretDecrypting:!0});try{const e=await this.props.context.port.request("passbolt.secret.find-by-resource-id",this.resource.id);this.setState({description:e.description,plaintextSecretDto:e,isSecretDecrypting:!1,error:!1}),this.props.resourceWorkspaceContext.onResourceDescriptionDecrypted()}catch(e){console.error(e),this.setState({description:null,plaintextSecretDto:null,isSecretDecrypting:!1,error:!0,errorMsg:this.props.t("Decryption failed, click here to retry")}),await this.props.actionFeedbackContext.displayError(e.message)}}get resource(){return this.props.resourceWorkspaceContext.details.resource}get description(){return this.state.description}handleTitleClickEvent(){const e=!this.state.open;e&&null===this.state.description&&this.loadDescription(),this.setState({open:e})}toggleInputDescriptionEditor(){if(!Boolean(window.getSelection().toString())&&this.canEdit()){const e=!this.state.showDescriptionEditor;this.setState({showDescriptionEditor:e})}}handleEditClickEvent(){null===this.state.description&&this.handleRetryDecryptClickEvent(),this.toggleInputDescriptionEditor()}handleRetryDecryptClickEvent(){this.loadDescription()}onCloseDescriptionEditor(){this.setState({showDescriptionEditor:!1})}onUpdateDescription(e,t){this.setState({description:e,plaintextSecretDto:t,showDescriptionEditor:!1})}hasNoDescription(){return null===this.state.description||0===this.state.description?.length}canEdit(){return this.resource.permission&&this.resource.permission.type>=7}mustShowDescriptionEditor(){return!this.state.error&&!this.state.isSecretDecrypting&&this.canEdit()&&this.state.showDescriptionEditor}mustShowEmptyDescription(){return!this.state.error&&!this.state.isSecretDecrypting&&this.hasNoDescription()&&!this.state.showDescriptionEditor}mustShowDescription(){return!(this.state.error||this.state.isSecretDecrypting||this.hasNoDescription()||this.state.showDescriptionEditor)}render(){return a.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{type:"button",onClick:this.handleTitleClickEvent,className:"link no-border section-opener"},a.createElement(w.x6,null,"Description"),this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},this.canEdit()&&a.createElement("button",{type:"button",className:"section-action button-transparent",onClick:this.handleEditClickEvent},a.createElement(ge,{name:"edit"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"Edit"))),this.state.isSecretDecrypting&&a.createElement("p",{className:"description-content"},a.createElement("span",{className:"processing-wrapper"},a.createElement(ge,{name:"spinner"}),a.createElement("span",{className:"processing-text"},a.createElement(w.x6,null,"Decrypting")))),this.state.error&&!this.state.isSecretDecrypting&&a.createElement("p",{className:"description-content error-message"},a.createElement("button",{type:"button",className:"link no-border empty-content",onClick:this.handleRetryDecryptClickEvent},this.state.errorMsg)),this.mustShowEmptyDescription()&&a.createElement("p",{className:"description-content"},!this.canEdit()&&a.createElement("span",{className:"empty-content"},a.createElement(w.x6,null,"There is no description.")),this.canEdit()&&a.createElement("span",{className:"empty-content",onClick:this.toggleInputDescriptionEditor},a.createElement(w.x6,null,"There is no description yet, click here to add one."))),this.mustShowDescription()&&a.createElement("p",{className:"description-content",onClick:this.toggleInputDescriptionEditor},this.state.description),this.mustShowDescriptionEditor()&&a.createElement(OC,{plaintextSecretDto:this.state.plaintextSecretDto,resource:this.resource,onClose:this.onCloseDescriptionEditor,onUpdate:this.onUpdateDescription,onUpdateDescription:this.onUpdateDescription})))}}VC.propTypes={context:l().any,resourceWorkspaceContext:l().any,resourceTypes:l().instanceOf(tC),actionFeedbackContext:l().object,t:l().func};const HC=h(wt(iC(_e((0,w.CI)("common")(VC))))),qC={1:"can read",7:"can update",15:"is owner"};class jC extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{permissions:null,open:!1,loading:!0}}bindCallbacks(){this.handlePermissionsEditClickEvent=this.handlePermissionsEditClickEvent.bind(this),this.handleTitleClickEvent=this.handleTitleClickEvent.bind(this)}async componentDidUpdate(e){await this.handleResourceChange(e.resourceWorkspaceContext.details.resource),await this.handleResourcePermissionsRefresh(e.resourceWorkspaceContext.refresh.permissions)}get resource(){return this.props.resourceWorkspaceContext.details.resource}handleResourceChange(e){this.resource.id!==e.id&&this.state.open&&this.fetch()}async handleResourcePermissionsRefresh(e){!e&&this.props.resourceWorkspaceContext.refresh.permissions&&(await this.fetch(),await this.props.resourceWorkspaceContext.onResourcePermissionsRefreshed())}async fetch(){this.setState({loading:!0});const e=await this.props.context.port.request("passbolt.permissions.find-aco-permissions-for-display",this.resource.id,"Resource");e&&e.sort(((e,t)=>this.sortPermissions(e,t))),this.setState({permissions:e,loading:!1})}sortPermissions(e,t){return e.user&&t.user?e.user.profile.first_name===t.user.profile.first_name?e.user.profile.last_name<t.user.profile.last_name?-1:1:e.user.profile.first_name<t.user.profile.first_name?-1:1:!e.user&&t.user?1:e.user&&!t.user||e.group.name<t.group.name?-1:1}handleTitleClickEvent(){const e=!this.state.open;e&&this.fetch(),this.setState({open:e})}handlePermissionsEditClickEvent(){const e=[this.resource.id];this.props.context.setContext({shareDialogProps:{resourcesIds:e}}),this.props.dialogContext.open(Bu)}getPermissionAroName(e){if(e.user){const t=e.user.profile;return`${t.first_name} ${t.last_name} (${e.user.username})`}return e.group.name}isLoading(){return this.state.loading}canShare(){return this.resource.permission&&15===this.resource.permission.type}isUserSuspended(e){return this.props.context.siteSettings.canIUse("disableUser")&&Zt(e)}render(){return a.createElement("div",{className:"sharedwith accordion sidebar-section "+(this.state.open?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleTitleClickEvent},a.createElement(w.x6,null,"Shared with"),this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},this.canShare()&&a.createElement("button",{type:"button",onClick:this.handlePermissionsEditClickEvent,className:"section-action button-transparent"},a.createElement(ge,{name:"edit"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"modify"))),this.isLoading()&&a.createElement("div",{className:"processing-wrapper"},a.createElement(ge,{name:"spinner"}),a.createElement("span",{className:"processing-text"},a.createElement(w.x6,null,"Retrieving permissions"))),!this.isLoading()&&a.createElement("ul",{className:"shared-with ready"},this.state.permissions&&this.state.permissions.map((e=>a.createElement("li",{key:e.id,className:"usercard-col-2 "+(this.isUserSuspended(e.user)?"suspended":"")},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement("div",{className:"name"},this.getPermissionAroName(e),this.isUserSuspended(e.user)&&a.createElement("span",{className:"suspended"}," ",a.createElement(w.x6,null,"(suspended)"))),a.createElement("div",{className:"subinfo"},this.props.t(qC[e.type])))),e.user&&a.createElement(Gt,{user:e.user,baseUrl:this.props.context.userSettings.getTrustedDomain()}),e.group&&a.createElement($t,{group:e.group})))))))}}jC.propTypes={context:l().any,resourceWorkspaceContext:l().object,dialogContext:l().any,t:l().func};const WC=h(k(wt((0,w.CI)("common")(jC))));class zC extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{activities:null,activitiesPage:1,loadingMore:!1,open:!1,loading:!0}}async componentDidUpdate(e){e.resourceWorkspaceContext.details&&await this.handleResourceChange(e.resourceWorkspaceContext.details.resource),e.resourceWorkspaceContext.refresh&&await this.handleResourceActivitiesRefresh(e.resourceWorkspaceContext.refresh.activities)}bindCallbacks(){this.handleTitleClickEvent=this.handleTitleClickEvent.bind(this),this.handleMoreClickEvent=this.handleMoreClickEvent.bind(this)}async handleResourceChange(e){if(!this.state.open)return;if(this.resource.id===e.id)return;const t=Object.assign({},this.getDefaultState(),{open:!0});await this.setState(t),await this.fetch(),this.setState({loading:!1})}async handleResourceActivitiesRefresh(e){!e&&this.props.resourceWorkspaceContext.refresh.activities&&(await this.fetch(),await this.props.resourceWorkspaceContext.onResourceActivitiesRefreshed())}async handleTitleClickEvent(){if(this.state.open){const e=this.getDefaultState();this.setState(e)}else await this.setState({loading:!0,open:!0}),await this.fetch(),this.setState({loading:!1})}async handleMoreClickEvent(){const e=this.state.activitiesPage+1;await this.setState({activitiesPage:e,loadingMore:!0}),await this.fetch(),this.setState({loadingMore:!1})}async fetch(){const e={limit:5,page:this.state.activitiesPage},t=await this.props.context.port.request("passbolt.actionlogs.find-all-for","Resource",this.resource.id,e);let s;s=this.state.activitiesPage>1?[...this.state.activities||[],...t]:[...t],this.setState({activities:s})}getActivityCreatorFullName(e){return`${e.profile.first_name} ${e.profile.last_name}`}getPermissionAroName(e){if(e.user){const t=e.user.profile;return`${t.first_name} ${t.last_name}`}return e.group.name}getPermissionLabel(e){switch(e.type){case 1:return this.translate("can read");case 7:return this.translate("can update");case 15:return this.translate("is owner")}}getPermissionChangeTypeLabel(e){switch(e){case"created":return this.translate("new");case"updated":return this.translate("updated");case"removed":return this.translate("deleted")}}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}renderResouceCreatedActivity(e){const t=this.getActivityCreatorFullName(e.creator),s=this.resource.metadata.name,n=nt(e.created,this.props.t,this.props.context.locale);return a.createElement("li",{key:e.id,className:"usercard-detailed-col-2"},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement("div",{className:"name"},a.createElement(w.x6,null,a.createElement("span",{className:"creator"},{activityCreatorName:t})," created item ",a.createElement("span",{className:"item"},{resourceName:s}))),a.createElement("div",{className:"subinfo light"},n))),a.createElement(Gt,{user:e.creator,baseUrl:this.baseUrl}))}renderResourceUpdatedActivity(e){const t=this.getActivityCreatorFullName(e.creator),s=this.resource.metadata.name,n=nt(e.created,this.props.t,this.props.context.locale);return a.createElement("li",{key:e.id,className:"usercard-detailed-col-2"},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement("div",{className:"name"},a.createElement(w.x6,null,a.createElement("span",{className:"creator"},{activityCreatorName:t})," updated item ",a.createElement("span",{className:"item"},{resourceName:s}))),a.createElement("div",{className:"subinfo light"},n))),a.createElement(Gt,{user:e.creator,baseUrl:this.baseUrl}))}renderSecretReadActivity(e){const t=this.getActivityCreatorFullName(e.creator),s=this.resource.metadata.name,n=nt(e.created,this.props.t,this.props.context.locale);return a.createElement("li",{key:e.id,className:"usercard-detailed-col-2"},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement("div",{className:"name"},a.createElement(w.x6,null,a.createElement("span",{className:"creator"},{activityCreatorName:t})," accessed secret of item ",a.createElement("span",{className:"item"},{resourceName:s}))),a.createElement("div",{className:"subinfo light"},n))),a.createElement(Gt,{user:e.creator,baseUrl:this.baseUrl}))}renderSecretUpdatedActivity(e){const t=this.getActivityCreatorFullName(e.creator),s=this.resource.metadata.name,n=nt(e.created,this.props.t,this.props.context.locale);return a.createElement("li",{key:e.id,className:"usercard-detailed-col-2"},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement("div",{className:"name"},a.createElement(w.x6,null,a.createElement("span",{className:"creator"},{activityCreatorName:t})," updated secret of item ",a.createElement("span",{className:"item"},{resourceName:s}))),a.createElement("div",{className:"subinfo light"},n))),a.createElement(Gt,{user:e.creator,baseUrl:this.baseUrl}))}renderSharedActivityPermissionChangeItem(e,t){const s=this.getPermissionLabel(e),n=this.getPermissionAroName(e),r=this.getPermissionChangeTypeLabel(t);return a.createElement("li",{key:e.id,className:"clearfix"},e.user&&a.createElement(Gt,{user:e.user,baseUrl:this.baseUrl}),e.group&&a.createElement($t,{group:e.group}),a.createElement("div",{className:"name"},a.createElement("span",{className:"creator"},n),a.createElement("span",{className:"permission-type"}," - ",s)),a.createElement("div",{className:"type"},a.createElement("span",{className:t},r)))}renderPermissionsUpdatedActivity(e){const t=this.getActivityCreatorFullName(e.creator),s=this.resource.metadata.name,n=nt(e.created,this.props.t,this.props.context.locale);return a.createElement("li",{key:e.id,className:"usercard-detailed-col-2"},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement("div",{className:"name"},a.createElement(w.x6,null,a.createElement("span",{className:"creator"},{activityCreatorName:t})," changed permissions of item ",a.createElement("span",{className:"item"},{resourceName:s})," with")),a.createElement("div",{className:"subinfo light"},n),a.createElement("ul",{className:"permissions-list"},e.data.permissions.added.map((e=>this.renderSharedActivityPermissionChangeItem(e,"created"))),e.data.permissions.updated.map((e=>this.renderSharedActivityPermissionChangeItem(e,"updated"))),e.data.permissions.removed.map((e=>this.renderSharedActivityPermissionChangeItem(e,"removed")))))),a.createElement(Gt,{user:e.creator,baseUrl:this.baseUrl}))}renderUnknownActivity(e){return a.createElement("li",{key:e.id,className:"usercard-detailed-col-2"},a.createElement("div",{className:"content-wrapper"},a.createElement("div",{className:"content"},a.createElement(w.x6,null,"Unknown activity, please contact your administrator."))))}renderActivity(e){let t;switch(e.type){case"Resources.created":t=this.renderResouceCreatedActivity(e);break;case"Resources.updated":t=this.renderResourceUpdatedActivity(e);break;case"Permissions.updated":t=this.renderPermissionsUpdatedActivity(e);break;case"Resource.Secrets.read":t=this.renderSecretReadActivity(e);break;case"Resource.Secrets.updated":t=this.renderSecretUpdatedActivity(e);break;default:t=this.renderUnknownActivity(e)}return t}mustDisplayMoreButton(){return!this.state.activities.some((e=>"Resources.created"===e.type))}get resource(){return this.props.resourceWorkspaceContext.details.resource}get translate(){return this.props.t}render(){return a.createElement("div",{className:"activity accordion sidebar-section "+(this.state.open?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleTitleClickEvent},a.createElement(w.x6,null,"Activity"),this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},this.state.loading&&a.createElement("div",{className:"processing-wrapper"},a.createElement(ge,{name:"spinner"}),a.createElement("span",{className:"processing-text"},a.createElement(w.x6,null,"Retrieving activities"))),!this.state.loading&&a.createElement(a.Fragment,null,a.createElement("ul",{className:"ready"},this.state.activities.map((e=>this.renderActivity(e)))),this.mustDisplayMoreButton()&&a.createElement("div",{className:"actions"},a.createElement("button",{type:"button",onClick:this.handleMoreClickEvent,disabled:this.state.loadingMore,className:"link no-border action-logs-load-more "+(this.state.loadingMore?"processing":"")},a.createElement("span",null,a.createElement(w.x6,null,"More")))))))}}zC.propTypes={context:l().any,resourceWorkspaceContext:l().any,t:l().func};const BC=h(wt((0,w.CI)("common")(zC)));class GC extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handlePermalinkClick=this.handlePermalinkClick.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this)}get subtitle(){const e=this.props.resourceWorkspaceContext.details.resource;if(!this.props.resourceTypes)return"";switch(this.props.resourceTypes.getFirstById(e.resource_type_id).slug){case"password-string":return this.translate("Password");case"password-and-description":return this.translate("Password and Encrypted description");case"password-description-totp":return this.translate("Password, Encrypted description and TOTP");case"totp":return this.translate("TOTP");default:return this.translate("Resource")}}async handlePermalinkClick(){const e=`${this.props.context.userSettings.getTrustedDomain()}/app/passwords/view/${this.props.resourceWorkspaceContext.details.resource.id}`;await va.copy(e,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The permalink has been copied to clipboard"))}handleCloseClick(){this.props.resourceWorkspaceContext.onLockDetail()}get isStandaloneTotpResource(){return this.props.resourceTypes?.getFirstById(this.props.resourceWorkspaceContext.details.resource.resource_type_id)?.isStandaloneTotp()}get translate(){return this.props.t}render(){const e=this.props.context.siteSettings.canIUse("tags")&&this.props.rbacContext.canIUseUiAction(U),t=(this.props.context.siteSettings.canIUse("auditLog")||this.props.context.siteSettings.canIUse("audit_log"))&&this.props.rbacContext.canIUseUiAction(D),s=this.props.rbacContext.canIUseUiAction(M),n=this.props.rbacContext.canIUseUiAction(T);return a.createElement("div",{className:"panel aside ready"},a.createElement("div",{className:"sidebar resource"},a.createElement("div",{className:"sidebar-header"},a.createElement("div",{className:"teaser-image"},a.createElement(ge,{name:"key"})),a.createElement("h3",null,a.createElement("div",{className:"title-wrapper"},a.createElement("span",{className:"name"},this.props.resourceWorkspaceContext.details.resource.metadata.name),a.createElement("button",{type:"button",className:"title-link link no-border",title:this.translate("Copy the link to this password"),onClick:this.handlePermalinkClick},a.createElement(ge,{name:"link"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"Copy the link to this password")))),a.createElement("span",{className:"subtitle"},this.subtitle)),a.createElement("button",{type:"button",className:"dialog-close button-transparent",onClick:this.handleCloseClick},a.createElement(ge,{name:"close"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"Close")))),a.createElement(lC,null),!this.isStandaloneTotpResource&&a.createElement(HC,null),s&&a.createElement(WC,null),e&&a.createElement(EC,null),n&&a.createElement(IC,null),t&&a.createElement(BC,null)))}}GC.propTypes={context:l().any,rbacContext:l().any,resourceWorkspaceContext:l().object,resourceTypes:l().instanceOf(tC),actionFeedbackContext:l().any,t:l().func};const KC=h(pe(wt(iC(_e((0,w.CI)("common")(GC))))));class $C extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.initEventHandlers(),this.createInputRef()}getDefaultState(){return{name:"",nameError:"",nameWarning:"",processing:!1}}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleNameInputKeyUp=this.handleNameInputKeyUp.bind(this)}createInputRef(){this.nameInputRef=a.createRef()}componentDidMount(){this.setState({name:this.props.context.tagToEdit.slug})}async handleFormSubmit(e){e.preventDefault(),this.state.processing||await this.save()}handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.setState({[a]:s})}handleNameInputKeyUp(){const e=this.validateNameInput();this.setState(e);const t=ys(this.state.name,128,this.translate);this.setState({nameWarning:t})}handleCloseClick(){this.props.context.setContext({tagToEdit:null}),this.props.onClose()}async save(){if(this.setState({processing:!0}),!await this.validate())return void this.handleValidateError();const e={id:this.props.context.tagToEdit.id,slug:this.state.name,is_shared:this.props.context.tagToEdit.is_shared};try{this.props.loadingContext.add();const t=await this.props.context.port.request("passbolt.tags.update",e);await this.handleSaveSuccess(t)}catch(e){return this.handleSaveError(e),this.setState({processing:!1}),void this.focusFieldError()}}handleValidateError(){this.setState({processing:!1}),this.focusFieldError()}async handleSaveSuccess(e){this.props.loadingContext.remove(),this.props.onClose(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The tag has been updated successfully"));const t=this.props.context.tagToEdit.id;this.props.context.setContext({tagToEdit:null}),this.selectUpdatedTag(t,e)}selectUpdatedTag(e,t){if(this.props.resourceWorkspaceContext.filter.type===xt.TAG&&this.props.resourceWorkspaceContext.filter.payload.tag.id===e){const e={type:xt.TAG,payload:{tag:t}};this.props.history.push({pathname:"/app/passwords",state:{filter:e}})}}handleSaveError(e){if(this.props.loadingContext.remove(),"UserAbortsOperationError"===e.name)this.setState({processing:!1});else{console.error(e);const t={error:e};this.props.dialogContext.open(we,t)}}focusFieldError(){this.state.nameError&&this.nameInputRef.current.focus()}validateNameInput(){const e=this.state.name.trim();let t="";return e.length||(t=this.translate("A tag name is required.")),new Promise((e=>{this.setState({nameError:t},e)}))}async validate(){return this.setState({error:"",nameError:""}),await this.validateNameInput(),""===this.state.nameError}hasAllInputDisabled(){return this.state.processing}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("Edit tag"),onClose:this.handleCloseClick,disabled:this.state.processing,className:"edit-tag-dialog"},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input text required ${this.state.nameError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",{htmlFor:"edit-tag-form-name"},a.createElement(w.x6,null,"Tag name"),this.state.nameWarning&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"edit-tag-form-name",name:"name",type:"text",value:this.state.name,onKeyUp:this.handleNameInputKeyUp,onChange:this.handleInputChange,disabled:this.state.processing,ref:this.nameInputRef,className:"required fluid",maxLength:"128",required:"required",autoComplete:"off",autoFocus:!0}),this.state.nameError&&a.createElement("div",{className:"name error-message"},this.state.nameError),this.state.nameWarning&&a.createElement("div",{className:"name warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.nameWarning))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseClick}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Save")}))))}}$C.propTypes={context:l().any,onClose:l().func,actionFeedbackContext:l().any,dialogContext:l().any,loadingContext:l().any,resourceWorkspaceContext:l().any,location:l().object,match:l().object,history:l().object,t:l().func};const ZC=h((0,i.y)(wt(He(_e(k((0,w.CI)("common")($C)))))));class YC extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.initEventHandlers()}getDefaultState(){return{processing:!1}}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this)}async handleFormSubmit(e){e.preventDefault(),this.state.processing||await this.delete()}handleCloseClick(){this.props.onClose(),this.props.context.setContext({tagToDelete:null})}async delete(){this.setState({processing:!0});try{this.props.loadingContext.add(),await this.props.context.port.request("passbolt.tags.delete",this.props.context.tagToDelete.id),this.props.loadingContext.remove(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The tag has been deleted successfully")),this.props.onClose(),this.props.context.setContext({tagToDelete:null})}catch(e){this.props.loadingContext.remove(),"UserAbortsOperationError"===e.name||(console.error(e),this.handleError(e)),this.setState({processing:!1})}}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}hasAllInputDisabled(){return this.state.processing}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("Delete tag?"),onClose:this.handleCloseClick,disabled:this.state.processing,className:"delete-tag-dialog"},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("p",null,a.createElement(w.x6,null,"Are you sure you want to delete the tag ",a.createElement("strong",{className:"dialog-variable"},{tagName:this.props.context.tagToDelete.slug}),"?")),a.createElement("p",null,a.createElement(w.x6,null,"Once the tag is deleted, it will be removed permanently and will not be recoverable."))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseClick}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Delete"),warning:!0}))))}}YC.propTypes={context:l().any,onClose:l().func,actionFeedbackContext:l().any,dialogContext:l().any,loadingContext:l().any,t:l().func};const JC=h(He(_e(k((0,w.CI)("common")(YC)))));class XC extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleEditClickEvent=this.handleEditClickEvent.bind(this),this.handleDeleteClickEvent=this.handleDeleteClickEvent.bind(this),this.handleHide=this.handleHide.bind(this)}handleEditClickEvent(){this.props.context.setContext({tagToEdit:this.props.selectedTag}),this.props.dialogContext.open(ZC),this.handleHide()}handleDeleteClickEvent(){this.props.context.setContext({tagToDelete:this.props.selectedTag}),this.props.dialogContext.open(JC),this.handleHide()}handleHide(){"function"==typeof this.props.onBeforeHide&&this.props.onBeforeHide(this.props.selectedTag.id),this.props.hide()}render(){return a.createElement(Ks,{hide:this.handleHide,left:this.props.left,top:this.props.top,className:this.props.className},a.createElement("li",{key:"option-edit-tag",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",id:"edit-tag",onClick:this.handleEditClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Edit tag"))))))),a.createElement("li",{key:"option-delete-tag",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",id:"delete-tag",onClick:this.handleDeleteClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Delete Tag"))))))))}}XC.propTypes={context:l().any,hide:l().func,onBeforeHide:l().func,left:l().number,top:l().number,selectedTag:l().object,className:l().string,dialogContext:l().any};const QC=h(k((0,w.CI)("common")(XC)));class eb extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{open:!0,selectedTag:null,draggingOverTagId:null,moreMenuOpenTagId:null}}bindCallbacks(){this.handleContextualMenuEvent=this.handleContextualMenuEvent.bind(this),this.handleMoreClickEvent=this.handleMoreClickEvent.bind(this),this.handleCloseMoreMenu=this.handleCloseMoreMenu.bind(this),this.handleDropEvent=this.handleDropEvent.bind(this),this.handleDragOverEvent=this.handleDragOverEvent.bind(this),this.handleDragLeaveEvent=this.handleDragLeaveEvent.bind(this)}handleContextualMenuEvent(e,t){e.preventDefault(),t.is_shared||this.showContextualMenu(e.pageY,e.pageX,t)}handleMoreClickEvent(e,t){const s=this.state.moreMenuOpenTagId===t.id?null:t.id;if(this.setState({moreMenuOpenTagId:s}),s){const{left:s,top:a}=e.currentTarget.getBoundingClientRect();this.showContextualMenu(a+18,s,t,"right",this.handleCloseMoreMenu)}}handleCloseMoreMenu(e){this.state.moreMenuOpenTagId===e&&this.setState({moreMenuOpenTagId:null})}showContextualMenu(e,t,s,a="",n=null){const r={left:t,selectedTag:s,onBeforeHide:n,top:e,className:a};this.props.contextualMenuContext.show(QC,r)}handleOnClickTag(e){const t={type:xt.TAG,payload:{tag:e}};this.props.history.push({pathname:"/app/passwords",state:{filter:t}})}async componentDidUpdate(e){this.handleAllFilterRequired(e.tags)}handleAllFilterRequired(e){if(e&&this.props.tags.length!==e.length){const e=this.props.resourceWorkspaceContext.filter;if(e&&e.type===xt.TAG&&!(this.props.tags.filter((t=>t.id===e.payload.tag.id)).length>0)){const e={type:xt.ALL};this.props.history.push({pathname:"/app/passwords",state:{filter:e}})}}}async handleDropEvent(e,t){this.setState({draggingOverTagId:null});try{const e=this.props.dragContext.draggedItems.resources.map((e=>e.id));this.props.context.port.request("passbolt.tags.add-resources-tag",{resources:e,tag:t})}catch(e){this.onUnexpectedError(e)}}onUnexpectedError(e){const t={error:e};this.props.dialogContext.open(we,t)}handleDragOverEvent(e,t){e.preventDefault(),this.setState({draggingOverTagId:t})}handleDragLeaveEvent(){this.setState({draggingOverTagId:null})}get filters(){return{[sb.personal]:e=>!e.is_shared,[sb.shared]:e=>e.is_shared,[sb.all]:e=>e}}get filteredTags(){const e=this.props.filterType||sb.all,t=this.filters[e];return this.props.tags.filter(t)}isLoading(){return!this.props.tags}isSelected(e){const t=this.props.resourceWorkspaceContext.filter;return t.type===xt.TAG&&t.payload.tag.id===e}isDragging(){return this.props.dragContext.dragging}isDisabled(e){if(this.isDragging()){if(e.is_shared&&this.draggedItems.resources.some((e=>15!==e.permission?.type)))return!0;if(!this.canDropInto())return!0}return!1}showDropFocus(e){return e.id===this.state.draggingOverTagId&&!this.isDisabled(e)}canDropInto(){return this.draggedItems.resources&&this.draggedItems.resources.length>0}get draggedItems(){return this.props.dragContext.draggedItems}render(){return a.createElement("div",{className:"accordion-content"},this.isLoading()&&a.createElement("div",{className:"processing-wrapper"},a.createElement(ge,{name:"spinner"}),a.createElement("span",{className:"processing-text"},a.createElement(w.x6,null,"Retrieving tags"))),!this.isLoading()&&0===this.filteredTags.length&&a.createElement("em",{className:"empty-content"},a.createElement(w.x6,null,"empty")),!this.isLoading()&&this.filteredTags.length>0&&a.createElement("ul",{className:"navigation-secondary-tree ready"},this.filteredTags.map((e=>a.createElement("li",{className:"open node root tag-item",key:e.id},a.createElement("div",{className:`row ${this.isSelected(e.id)?"selected":""} ${this.isDisabled(e)?"disabled":""} ${this.showDropFocus(e)?"drop-focus":""}`,onDrop:t=>this.handleDropEvent(t,e),onDragOver:t=>this.handleDragOverEvent(t,e.id),onDragLeave:this.handleDragLeaveEvent},a.createElement("div",{className:"main-cell-wrapper",onClick:()=>this.handleOnClickTag(e),onContextMenu:t=>this.handleContextualMenuEvent(t,e)},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",title:e.slug},a.createElement("span",{className:"ellipsis tag-name"},e.slug)))),!e.is_shared&&a.createElement("div",{className:"dropdown right-cell more-ctrl"},a.createElement("button",{type:"button",className:this.state.moreMenuOpenTagId===e.id?"open":"",onClick:t=>this.handleMoreClickEvent(t,e)},a.createElement(ge,{name:"3-dots-h"})))))))))}}eb.propTypes={context:l().any,contextualMenuContext:l().any,tags:l().array,filterType:l().string,resourceWorkspaceContext:l().object,history:l().any,dialogContext:l().any,dragContext:l().any};const tb=(0,i.y)(h(k(wt(Os(tg((0,w.CI)("common")(eb))))))),sb={all:"all",shared:"shared",personal:"personal"};class ab extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleFilterClickEvent=this.handleFilterClickEvent.bind(this),this.handleHide=this.handleHide.bind(this)}handleFilterClickEvent(e){this.props.onFilterSelected(e),this.handleHide()}handleHide(){"function"==typeof this.props.onBeforeHide&&this.props.onBeforeHide(),this.props.hide()}render(){return a.createElement(Ks,{hide:this.handleHide,left:this.props.left,top:this.props.top,className:this.props.className},a.createElement("li",{key:"option-filter-all-tag",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",id:"all-tag",onClick:()=>this.handleFilterClickEvent(sb.all)},a.createElement("span",null,a.createElement(w.x6,null,"All tags"))))))),a.createElement("li",{key:"option-filter-personal-tag",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",id:"personal-tag",onClick:()=>this.handleFilterClickEvent(sb.personal)},a.createElement("span",null,a.createElement(w.x6,null,"My tags"))))))),a.createElement("li",{key:"option-filter-share-tag",className:"ready closed"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",id:"shared-tag",onClick:()=>this.handleFilterClickEvent(sb.shared)},a.createElement("span",null,a.createElement(w.x6,null,"Shared tags"))))))))}}ab.propTypes={onFilterSelected:l().func,left:l().number,hide:l().func,onBeforeHide:l().func,top:l().number,className:l().string};const nb=(0,w.CI)("common")(ab);class rb extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{open:!0,title:this.translate("Tags"),filterType:null,moreMenuOpen:!1}}bindCallbacks(){this.handleTitleClickEvent=this.handleTitleClickEvent.bind(this),this.handleTitleContextualMenuEvent=this.handleTitleContextualMenuEvent.bind(this),this.handleTitleMoreClickEvent=this.handleTitleMoreClickEvent.bind(this),this.handleCloseMoreMenu=this.handleCloseMoreMenu.bind(this),this.handleFilterTagsType=this.handleFilterTagsType.bind(this)}handleTitleClickEvent(){const e=!this.state.open;this.setState({open:e})}handleTitleContextualMenuEvent(e){e.preventDefault(),this.showContextualMenu(e.pageY,e.pageX)}handleCloseMoreMenu(){this.setState({moreMenuOpen:!1})}handleTitleMoreClickEvent(e){const t=!this.state.moreMenuOpen;if(this.setState({moreMenuOpen:t}),t){const{left:t,top:s}=e.currentTarget.getBoundingClientRect();this.showContextualMenu(s+18,t,"right")}}showContextualMenu(e,t,s=""){const a={left:t,onFilterSelected:this.handleFilterTagsType,onBeforeHide:this.handleCloseMoreMenu,top:e,className:s};this.props.contextualMenuContext.show(nb,a)}handleFilterTagsType(e){if(this.isAllFilterRequire(e)){const e={type:xt.ALL};this.props.history.push({pathname:"/app/passwords",state:{filter:e}})}this.setState({filterType:e},(()=>{this.updateTitle()}))}isAllFilterRequire(e){const t=this.props.resourceWorkspaceContext.filter,s=t.type===xt.TAG&&t.payload.tag.is_shared;return!s&&"shared"===e||s&&"personal"===e}get titles(){return{personal:this.translate("My tags"),shared:this.translate("Shared tags"),default:this.translate("Tags")}}updateTitle(){const e=this.titles[this.state.filterType]||this.titles.default;this.setState({title:e})}getTagsFromResources(){return this.props.context.resources?this.props.context.resources.map((e=>e.tags)).flat().reduce(((e,t)=>(t&&!e.find((e=>e.id===t.id))&&e.push(t),e)),[]).sort(((e,t)=>e.slug.localeCompare(t.slug))):null}get translate(){return this.props.t}render(){return a.createElement("div",{className:"navigation-secondary-tree navigation-secondary navigation-tags accordion"},a.createElement("ul",{className:"accordion-header"},a.createElement("li",{className:"node root "+(this.state.open?"open":"close")},a.createElement("div",{className:"row title"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("h3",null,a.createElement("span",{className:"folders-label",onClick:this.handleTitleClickEvent,onContextMenu:this.handleTitleContextualMenuEvent},a.createElement("button",{type:"button",className:"link no-border"},a.createElement(a.Fragment,null,this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})),this.state.title))))),a.createElement("div",{className:"dropdown right-cell more-ctrl"},a.createElement("button",{type:"button",className:this.state.moreMenuOpen?"open":"",onClick:this.handleTitleMoreClickEvent},a.createElement(ge,{name:"3-dots-h"})))))),this.state.open&&a.createElement(tb,{tags:this.getTagsFromResources(),filterType:this.state.filterType}))}}rb.propTypes={context:l().any,contextualMenuContext:l().any,resourceWorkspaceContext:l().object,history:l().any,t:l().func};const ib=(0,i.y)(h(wt(Os((0,w.CI)("common")(rb)))));class ob extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}bindCallbacks(){this.handleSearchEvent=this.handleSearchEvent.bind(this)}get defaultState(){return{text:"",debounceTimeoutIt:null}}componentDidUpdate(e){this.handleFilterChanged(e.resourceWorkspaceContext.filter)}componentWillUnmount(){clearTimeout(this.state.debounceTimeoutIt)}handleFilterChanged(e){const t=e.type===xt.TEXT,s=this.props.resourceWorkspaceContext.filter.type===xt.TEXT;t&&!s&&this.setState({text:""})}handleSearchEvent(e){this.search(e)}search(e){clearTimeout(this.state.debounceTimeoutId);const t=setTimeout((()=>{const t=this.generateFilter(e);this.props.history.push({pathname:"/app/passwords",state:{filter:t}})}),300);this.setState({debounceTimeoutId:t,text:e})}generateFilter(e){return e.length>0?{type:xt.TEXT,payload:e}:{type:xt.ALL}}render(){return a.createElement(xn,{disabled:this.props.disabled,onSearch:this.handleSearchEvent,placeholder:this.props.placeholder,value:this.state.text})}}ob.propTypes={disabled:l().bool,placeholder:l().string,resourceWorkspaceContext:l().object,history:l().object},ob.defaultProps={disabled:!1,placeholder:"Search"};const lb=(0,i.y)(wt(ob));class cb extends a.Component{constructor(e){super(e),this.bindHandlers()}bindHandlers(){this.handleAllItemsClick=this.handleAllItemsClick.bind(this),this.handleItemsIOwnClick=this.handleItemsIOwnClick.bind(this),this.handleFavoriteClick=this.handleFavoriteClick.bind(this),this.handleSharedWithMeClick=this.handleSharedWithMeClick.bind(this),this.handleRecentlyModifiedClick=this.handleRecentlyModifiedClick.bind(this),this.handleResourcesExpiredClick=this.handleResourcesExpiredClick.bind(this)}componentDidMount(){this.props.passwordExpiryContext.findSettings()}get isAllItemsSelected(){return this.props.resourceWorkspaceContext.filter.type===xt.ALL}get isItemsIOwnSelected(){return this.props.resourceWorkspaceContext.filter.type===xt.ITEMS_I_OWN}get isFavoriteSelected(){return this.props.resourceWorkspaceContext.filter.type===xt.FAVORITE}get isSharedWithMeSelected(){return this.props.resourceWorkspaceContext.filter.type===xt.SHARED_WITH_ME}get isRecentlyModifiedSelected(){return this.props.resourceWorkspaceContext.filter.type===xt.RECENTLY_MODIFIED}get isResourcesExpiredSelected(){return this.props.resourceWorkspaceContext.filter.type===xt.EXPIRED}handleAllItemsClick(){const e={type:xt.ALL};this.props.history.push({pathname:"/app/passwords",state:{filter:e}})}handleRecentlyModifiedClick(){const e={type:xt.RECENTLY_MODIFIED};this.props.history.push({pathname:"/app/passwords",state:{filter:e}})}handleFavoriteClick(){const e={type:xt.FAVORITE};this.props.history.push({pathname:"/app/passwords",state:{filter:e}})}handleItemsIOwnClick(){const e={type:xt.ITEMS_I_OWN};this.props.history.push({pathname:"/app/passwords",state:{filter:e}})}handleSharedWithMeClick(){const e={type:xt.SHARED_WITH_ME};this.props.history.push({pathname:"/app/passwords",state:{filter:e}})}handleResourcesExpiredClick(){const e={type:xt.EXPIRED};this.props.history.push({pathname:"/app/passwords/filter/expired",state:{filter:e}})}render(){return a.createElement("div",{className:"navigation-secondary navigation-shortcuts"},a.createElement("ul",null,a.createElement("li",null,a.createElement("div",{className:"row "+(this.isAllItemsSelected?"selected":""),onClick:this.handleAllItemsClick},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"All items"))))))),a.createElement("li",null,a.createElement("div",{className:"row "+(this.isFavoriteSelected?"selected":""),onClick:this.handleFavoriteClick},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Favorites"))))))),a.createElement("li",null,a.createElement("div",{className:"row "+(this.isRecentlyModifiedSelected?"selected":""),onClick:this.handleRecentlyModifiedClick},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Recently modified"))))))),a.createElement("li",null,a.createElement("div",{className:"row "+(this.isSharedWithMeSelected?"selected":""),onClick:this.handleSharedWithMeClick},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Shared with me"))))))),a.createElement("li",null,a.createElement("div",{className:"row "+(this.isItemsIOwnSelected?"selected":""),onClick:this.handleItemsIOwnClick},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Owned by me"))))))),this.props.passwordExpiryContext.isFeatureEnabled()&&a.createElement("li",null,a.createElement("div",{className:"row "+(this.isResourcesExpiredSelected?"selected":""),onClick:this.handleResourcesExpiredClick},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border"},a.createElement("span",null,a.createElement(w.x6,null,"Expired")))))))))}}cb.propTypes={context:l().object,history:l().object,resourceWorkspaceContext:l().object,passwordExpiryContext:l().object};const db=(0,i.y)(h(wt(ht((0,w.CI)("common")(cb)))));class hb extends a.Component{get items(){const e=[this.allItemsBreadcrumb];switch(this.props.resourceWorkspaceContext.filter.type){case xt.NONE:return[];case xt.ALL:return e;case xt.TEXT:{const t=!this.props.resourceWorkspaceContext.filter.payload,s=this.props.resourceWorkspaceContext.filter.payload;return t?e:[...e,this.getLastBreadcrumb(`${this.translate("Search:")} ${s}`)]}case xt.FAVORITE:return[...e,this.getLastBreadcrumb(this.translate("Favorite"))];case xt.RECENTLY_MODIFIED:return[...e,this.getLastBreadcrumb(this.translate("Recently modified"))];case xt.SHARED_WITH_ME:return[...e,this.getLastBreadcrumb(this.translate("Shared with me"))];case xt.EXPIRED:return[...e,this.getLastBreadcrumb(this.translate("Expired"))];case xt.ITEMS_I_OWN:return[...e,this.getLastBreadcrumb(this.translate("Items I own"))];case xt.TAG:{const t=this.props.resourceWorkspaceContext.filter.payload.tag.slug;return[...e,this.getLastBreadcrumb(`${t} ${this.translate("(tag)")}`)]}case xt.ROOT_FOLDER:return[...e,this.getLastBreadcrumb(this.translate("root (folder)"))];case xt.FOLDER:{const t=this.props.resourceWorkspaceContext.filter.payload.folder,s=t&&t.name||this.translate("N/A");return[...e,this.getLastBreadcrumb(`${s} ${this.translate("(folder)")}`)]}case xt.GROUP:{const t=this.props.resourceWorkspaceContext.filter.payload.group,s=t&&t.name||this.translate("N/A");return[...e,this.getLastBreadcrumb(`${s} ${this.translate("(group)")}`)]}}return e}get allItemsBreadcrumb(){return a.createElement(Yn,{name:this.translate("All items"),onClick:this.props.navigationContext.onGoToPasswordsRequested})}getLastBreadcrumb(e){return a.createElement(Yn,{name:e,onClick:this.onLastBreadcrumbClick.bind(this)})}async onLastBreadcrumbClick(){const e=this.props.location.pathname;this.props.history.push({pathname:e})}get isResourceNotNull(){return null!==this.props.resourceWorkspaceContext.filteredResources}get translate(){return this.props.t}render(){return a.createElement($n,{items:this.items},this.isResourceNotNull&&a.createElement("span",{className:"chips"},this.props.resourceWorkspaceContext.filteredResources.length))}}hb.propTypes={resourceWorkspaceContext:l().object,location:l().object,history:l().object,navigationContext:l().any,t:l().func};const mb=(0,i.y)(b(wt((0,w.CI)("common")(hb))));class pb extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.initEventHandlers()}getDefaultState(){return{processing:!1}}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this)}get resources(){return this.props.resources}async handleFormSubmit(e){e.preventDefault(),this.state.processing||await this.delete()}handleCloseClick(){this.props.onClose()}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The resource has been deleted successfully.",{count:this.resources.length})),this.props.onClose()}handleSaveError(e){"UserAbortsOperationError"===e.name||(console.error(e),this.handleError(e)),this.setState({processing:!1})}async delete(){this.setState({processing:!0});try{const e=this.resources.map((e=>e.id));await this.props.context.port.request("passbolt.resources.delete-all",e),await this.handleSaveSuccess()}catch(e){this.handleSaveError(e)}}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}hasAllInputDisabled(){return this.state.processing}hasMultipleResources(){return this.resources.length>1}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("Delete resource?",{count:this.resources.length}),onClose:this.handleCloseClick,disabled:this.state.processing,className:"delete-password-dialog"},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},!this.hasMultipleResources()&&a.createElement(a.Fragment,null,a.createElement("p",null,a.createElement(w.x6,null,"Are you sure you want to delete the resource ",a.createElement("strong",{className:"dialog-variable"},{resourceName:this.resources[0].metadata.name}),"?")),a.createElement("p",null,a.createElement(w.x6,null,"Once the resource is deleted, it will be removed permanently and will not be recoverable."))),this.hasMultipleResources()&&a.createElement("p",null,a.createElement(w.x6,null,"Please confirm you really want to delete the resources. After clicking ok, the resources will be deleted permanently."))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseClick}),a.createElement(Vt,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Delete"),warning:!0}))))}}pb.propTypes={context:l().any,onClose:l().func,actionFeedbackContext:l().any,dialogContext:l().any,resourceWorkspaceContext:l().any,resources:l().array,t:l().func};const ub=h(wt(_e(k((0,w.CI)("common")(pb)))));class gb extends a.Component{constructor(e){super(e),this.initEventHandlers()}initEventHandlers(){this.handleInputChange=this.handleInputChange.bind(this),this.handleWordCountChange=this.handleWordCountChange.bind(this)}handleInputChange(e){const t=e.target,s=t.value,a=t.name,n={...this.props.configuration};n[a]=s,this.props.onConfigurationChanged(n)}handleWordCountChange(e){const t={...this.props.configuration,words:e.target.value};this.props.onConfigurationChanged(t)}get numberOfWords(){const e=this.props.configuration;return{default:e.words,min:e.min_words,max:e.max_words}}get separator(){return this.props.configuration.word_separator}get wordCase(){return this.props.configuration.word_case}get wordCaseList(){return[{value:"lowercase",label:this.translate("Lower case")},{value:"uppercase",label:this.translate("Upper case")},{value:"camelcase",label:this.translate("Camel case")}]}get translate(){return this.props.t}render(){return a.createElement(a.Fragment,null,a.createElement("div",{className:"input text "+(this.props.disabled?"disabled":"")},a.createElement("label",{htmlFor:"configure-passphrase-generator-form-word-count"},a.createElement(w.x6,null,"Number of words")),a.createElement("div",{className:"slider"},a.createElement("input",{name:"words",min:this.numberOfWords.min,max:this.numberOfWords.max,value:this.numberOfWords.default,type:"range",onChange:this.handleInputChange,disabled:this.props.disabled}),a.createElement("input",{type:"number",id:"configure-passphrase-generator-form-word-count",name:"words",min:this.numberOfWords.min,max:this.numberOfWords.max,value:this.numberOfWords.default,onChange:this.handleWordCountChange,disabled:this.props.disabled}))),a.createElement("div",{className:"input text "+(this.props.disabled?"disabled":"")},a.createElement("label",{htmlFor:"configure-passphrase-generator-form-words-separator"},a.createElement(w.x6,null,"Words separator")),a.createElement("input",{type:"text",id:"configure-passphrase-generator-form-words-separator",name:"word_separator",value:this.separator,onChange:this.handleInputChange,placeholder:this.translate("Type one or more characters"),disabled:this.props.disabled})),a.createElement("div",{className:"select-wrapper input "+(this.props.disabled?"disabled":"")},a.createElement("label",{htmlFor:"configure-passphrase-generator-form-words-case"},a.createElement(w.x6,null,"Words case")),a.createElement(gs,{id:"configure-passphrase-generator-form-words-case",name:"word_case",items:this.wordCaseList,value:this.wordCase,onChange:this.handleInputChange,disabled:this.props.disabled})))}}gb.propTypes={configuration:l().object.isRequired,onConfigurationChanged:l().func.isRequired,disabled:l().bool,t:l().func};const Cb=(0,w.CI)("common")(gb);class bb extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleLengthChanged=this.handleLengthChanged.bind(this),this.handleMaskToggled=this.handleMaskToggled.bind(this),this.handleExcludeLookAlikeCharactersToggled=this.handleExcludeLookAlikeCharactersToggled.bind(this)}handleLengthChanged(e){const t=e.target.value,s={...this.props.configuration};s.length=t,this.props.onConfigurationChanged(s)}handleMaskToggled(e,t){t.preventDefault();const s={...this.props.configuration};s[e]=!s[e],this.props.onConfigurationChanged(s)}handleExcludeLookAlikeCharactersToggled(){const e={...this.props.configuration};e.exclude_look_alike_chars=!e.exclude_look_alike_chars,this.props.onConfigurationChanged(e)}render(){const e=this.props.configuration,t=Object.entries(Wr);return a.createElement(a.Fragment,null,a.createElement("div",{className:"password-generator-length input text "+(this.props.disabled?"disabled":"")},a.createElement("label",{htmlFor:"configure-password-generator-form-length"},a.createElement(w.x6,null,"Length")),a.createElement("div",{className:"slider"},a.createElement("input",{name:"length",min:e.min_length,max:e.max_length,value:e.length,step:"1",type:"range",onChange:this.handleLengthChanged,disabled:this.props.disabled}),a.createElement("input",{id:"configure-password-generator-form-length",type:"number",min:e.min_length,max:e.max_length,value:e.length,onChange:this.handleLengthChanged,disabled:this.props.disabled}))),a.createElement("div",{className:`input text ${this.props.disabled?"disabled":""} select-button`},a.createElement("label",{htmlFor:"configure-password-generator-form-masks"},a.createElement(w.x6,null,"Character Types")),a.createElement("div",{className:"button-group button-group--nowrap"},t.map((([t])=>a.createElement("button",{key:t,type:"button",className:"button button-toggle "+(e[t]?"selected":""),onClick:e=>this.handleMaskToggled(t,e),disabled:this.props.disabled},Wr[t].label))))),a.createElement("div",null,a.createElement("div",{className:"input checkbox"},a.createElement("input",{id:"configure-password-generator-form-exclude-look-alike",type:"checkbox",name:"exclude-look-alike",checked:e.exclude_look_alike_chars,onChange:this.handleExcludeLookAlikeCharactersToggled,disabled:this.props.disabled}),a.createElement("label",{htmlFor:"configure-password-generator-form-exclude-look-alike"},a.createElement(w.x6,null,"Exclude look-alike characters")))))}}bb.propTypes={configuration:l().object.isRequired,onConfigurationChanged:l().func.isRequired,disabled:l().bool};const Eb=(0,w.CI)("common")(bb);class fb extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.initEventHandlers()}get defaultState(){return{password:"",generatorSettings:null,isObfuscated:!0,loading:!0,processing:!1}}async componentDidMount(){const e=this.props.resourcePasswordGeneratorContext.getSettings(),t=this.generatePassword(e);this.setState({loading:!1,generatorSettings:e,password:t})}initEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleViewPasswordToggle=this.handleViewPasswordToggle.bind(this),this.handleGeneratePassword=this.handleGeneratePassword.bind(this),this.handlePassphraseGeneratorConfigurationChanged=this.handlePassphraseGeneratorConfigurationChanged.bind(this),this.handlePasswordGeneratorConfigurationChanged=this.handlePasswordGeneratorConfigurationChanged.bind(this),this.handleGeneratorConfigurationChanged=this.handleGeneratorConfigurationChanged.bind(this),this.handleCopyPassword=this.handleCopyPassword.bind(this),this.handleGeneratorTypeChanged=this.handleGeneratorTypeChanged.bind(this)}handleGeneratorConfigurationChanged(e){const t=this.generatePassword(e);this.setState({generatorSettings:e,password:t})}handlePasswordGeneratorConfigurationChanged(e){const t=JSON.parse(JSON.stringify(this.state.generatorSettings));t.password_generator_settings=e,this.handleGeneratorConfigurationChanged(t)}handlePassphraseGeneratorConfigurationChanged(e){const t=JSON.parse(JSON.stringify(this.state.generatorSettings));t.passphrase_generator_settings=e,this.handleGeneratorConfigurationChanged(t)}handleGeneratorTypeChanged(e){const t=JSON.parse(JSON.stringify(this.state.generatorSettings));t.default_generator=e,this.handleGeneratorConfigurationChanged(t)}handleGeneratePassword(){const e=this.generatePassword(this.state.generatorSettings);this.setState({password:e})}handleClose(){this.props.onClose()}handleViewPasswordToggle(){this.state.processing||this.setState({isObfuscated:!this.state.isObfuscated})}handleSubmit(e){e.preventDefault(),this.setState({processing:!0}),this.props.resourcePasswordGeneratorContext.onPasswordGenerated(this.state.password,this.state.generatorSettings),this.props.onClose()}async handleCopyPassword(){await va.copy(this.state.password,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The password has been copied to clipboard"))}generatePassword(e){const t=Qr(e),s=t.length>0?ei(t):null;return this.setState({passwordEntropy:s}),t}get translate(){return this.props.t}isPasswordEmpty(){return""===this.state.password}render(){const e=this.state.generatorSettings;return a.createElement(a.Fragment,null,!this.state.loading&&a.createElement(ve,{title:this.translate("Password Generator"),className:"generate-resource-password-dialog",disabled:this.state.processing,onClose:this.handleClose},a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:"input-password-wrapper input "+(this.state.processing?"disabled":"")},a.createElement("label",{htmlFor:"generate-resource-password-form-password"},a.createElement(w.x6,null,"Password")),a.createElement("div",{className:"password-button-inline"},a.createElement(ma,{id:"generate-resource-password-form-password",name:"password",autoComplete:"off",readOnly:!0,placeholder:this.translate("Password"),preview:!0,value:this.state.password,disabled:this.state.processing}),a.createElement("button",{type:"button",onClick:this.handleGeneratePassword,className:"password-generate button-icon "+(this.state.processing?"disabled":"")},a.createElement(ge,{name:"dice",big:!0}),a.createElement("span",{className:"visually-hidden"},a.createElement(w.x6,null,"Generate"))),a.createElement("button",{type:"button",onClick:this.handleCopyPassword,className:"copy-to-clipboard button-icon "+(this.state.processing?"disabled":"")},a.createElement(ge,{name:"copy-to-clipboard",big:!0}),a.createElement("span",{className:"visually-hidden"},a.createElement(w.x6,null,"View")))),a.createElement(Xm,{entropy:this.state.passwordEntropy})),e?.default_generator&&a.createElement(sd,{activeTabName:e.default_generator},a.createElement(ed,{key:"password",name:"password",onClick:()=>this.handleGeneratorTypeChanged("password")},"password"===e.default_generator&&a.createElement(Eb,{configuration:e.password_generator_settings,onConfigurationChanged:this.handlePasswordGeneratorConfigurationChanged})),a.createElement(ed,{key:"passphrase",name:"passphrase",onClick:()=>this.handleGeneratorTypeChanged("passphrase")},"passphrase"===e.default_generator&&a.createElement(Cb,{configuration:e.passphrase_generator_settings,onConfigurationChanged:this.handlePassphraseGeneratorConfigurationChanged})))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.state.processing,onClick:this.handleClose}),a.createElement(Vt,{value:this.translate("Apply"),disabled:this.state.processing||this.isPasswordEmpty(),processing:this.state.processing})))))}}fb.propTypes={context:l().any,resourcePasswordGeneratorContext:l().any,actionFeedbackContext:l().any,onClose:l().func,t:l().func};const yb=h(_e(Ut((0,w.CI)("common")(fb))));class vb{constructor(e={}){this.secret_key=e.secret_key||"",this.period=e.period??30,this.digits=e.digits??6,this.algorithm=e.algorithm||vb.SUPPORTED_ALGORITHMS[0]}static getSchema(){return{type:"object",required:["secret_key","period","digits","algorithm"],properties:{secret_key:{type:"string",notEmpty:!0,pattern:/^\s*[A-Za-z2-7\s]+=*\s*$/,maxLength:1024},period:{type:"number",minimum:1},digits:{type:"number",maximum:8,minimum:6},algorithm:{type:"string",notEmpty:!0,enum:vb.SUPPORTED_ALGORITHMS}}}}toSecretDto(){return{totp:{algorithm:this.algorithm,digits:this.digits,period:this.period,secret_key:this.secret_key.replaceAll(/\s+/g,"").toUpperCase()}}}cloneWithMutation(e,t){const s={...this,[e]:t};return new this.constructor(s)}static areSecretsDifferent(e,t){return["secret_key","period","digits","algorithm"].some((s=>e[s]!==t[s]))}validate(){try{se.validate(this.constructor.name,this,this.constructor.getSchema())}catch(e){return e}return new Y}validateField(e){try{se.validateProp(e,this[e],this.constructor.getSchema().properties[e])}catch(e){return e}return new Y}isWarningSizeField(e){const t=this.constructor.getSchema();return this[e].length>=t.properties[e].maxLength}static get SUPPORTED_ALGORITHMS(){return["SHA1","SHA256","SHA512"]}}const kb=vb;class wb extends kb{constructor(e={}){super(e),this.name=e.name||"",this.uri=e.uri||"",e.resource_type_id&&(this.resource_type_id=e.resource_type_id)}static getSchema(){return{type:"object",required:["name","secret_key","period","digits","algorithm"],properties:{name:{type:"string",notEmpty:!0,maxLength:ks},uri:{type:"string",maxLength:Ns},resource_type_id:{type:"string",format:"uuid"},secret_key:super.getSchema().properties.secret_key,period:super.getSchema().properties.period,digits:super.getSchema().properties.digits,algorithm:super.getSchema().properties.algorithm}}}toResourceDto(){const e={metadata:{name:this.name,uris:[this.uri]}};return this.resource_type_id&&(e.resource_type_id=this.resource_type_id,e.metadata.resource_type_id=this.resource_type_id),e}static createStandaloneTotpFromUrl(e){const t={name:e.pathname.substring(7).split(":").join(": "),uri:e.searchParams.get("issuer")||"",secret_key:e.searchParams.get("secret").toUpperCase(),algorithm:e.searchParams.get("algorithm")||kb.SUPPORTED_ALGORITHMS[0],digits:parseInt(e.searchParams.get("digits"),10)||6,period:parseInt(e.searchParams.get("period"),10)||30},s=new wb(t),a=s.validate();if(a.hasErrors())throw a;return s}}const xb=wb;class Sb extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.initEventHandlers(),this.createInputRef()}get defaultState(){return{standaloneTotp:new xb,errors:null,warnings:{},processing:!1,hasAlreadyBeenValidated:!1,openAdvancedSettings:!1}}initEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleInputKeyUp=this.handleInputKeyUp.bind(this),this.handleAdvancedSettingClickEvent=this.handleAdvancedSettingClickEvent.bind(this),this.handleUploadImageButtonClick=this.handleUploadImageButtonClick.bind(this)}createInputRef(){this.nameInputRef=a.createRef(),this.keyInputRef=a.createRef(),this.periodInputRef=a.createRef(),this.digitsInputRef=a.createRef()}async handleFormSubmit(e){if(e.preventDefault(),!this.state.processing){if(this.setState({hasAlreadyBeenValidated:!0}),await this.toggleProcessing(),!this.validate())return await this.toggleProcessing(),void this.focusFirstFieldError();this.props.onSubmit(this.state.standaloneTotp),this.handleClose()}}async toggleProcessing(){const e=this.state.processing;return new Promise((t=>{this.setState({processing:!e},t())}))}validate(){const e=this.state.standaloneTotp.validate();return this.setState({errors:e}),!e.hasErrors()}focusFirstFieldError(){this.isFieldError("name")?this.nameInputRef.current.focus():this.isFieldError("secret_key")?this.keyInputRef.current.focus():this.isFieldError("period")?(this.setState({openAdvancedSettings:!0}),this.periodInputRef.current.focus()):this.isFieldError("digits")&&(this.setState({openAdvancedSettings:!0}),this.digitsInputRef.current.focus())}handleInputChange(e){const t=e.target;let s;s="number"===t.type?Number.isNaN(t.valueAsNumber)?"":t.valueAsNumber:t.value;const a=t.name,n=this.state.standaloneTotp.cloneWithMutation(a,s);this.setState({standaloneTotp:n})}handleInputKeyUp(e){const t=e.target.name;if(this.state.hasAlreadyBeenValidated){const e=this.state.standaloneTotp.validateField(t);this.updateErrorsField(e,t)}else this.updateWarningsField(t)}updateErrorsField(e,t){const s=this.state.errors.details;delete s[t],Object.assign(e.details,s),this.setState({errors:e})}updateWarningsField(e){const t={...this.state.warnings};delete t[e],this.state.standaloneTotp.isWarningSizeField(e)&&(t[e]=this.translate("this is the maximum size for this field, make sure your data was not truncated")),this.setState({warnings:t})}handleClose(){this.props.onCancel(),this.props.onClose()}async handleAdvancedSettingClickEvent(){const e=!this.state.openAdvancedSettings;this.setState({openAdvancedSettings:e})}handleUploadImageButtonClick(){this.props.onOpenUploadQrCode()}get nameErrorMessage(){const e=this.state.errors?.getError("name");return e?.notEmpty?this.translate("The name is required."):null}get secretKeyErrorMessage(){const e=this.state.errors?.getError("secret_key");return e?.notEmpty?this.translate("The key is required."):e?.pattern?this.translate("The key is not valid."):null}get periodErrorMessage(){const e=this.state.errors?.getError("period");return e?.type?this.translate("TOTP expiry is required."):e?.minimum?this.translate("TOTP expiry must be greater than 0."):null}get digitsErrorMessage(){const e=this.state.errors?.getError("digits");return e?.type?this.translate("TOTP length is required."):e?.minimum||e?.maximum?this.translate("TOTP length must be between 6 and 8."):null}isFieldError(e){return this.state.errors?.hasError(e)}isFieldWarning(e){return Boolean(this.state.warnings[e])}get supportedAlgorithms(){return xb.SUPPORTED_ALGORITHMS.map((e=>({value:e,label:e})))}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("Create standalone TOTP"),className:"create-standalone-totp-dialog",disabled:this.state.processing,onClose:this.handleClose},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input text required ${this.isFieldError("name")?"error":""} ${this.state.processing?"disabled":""}`},a.createElement("label",{htmlFor:"create-standalone-totp-form-name"},a.createElement(w.x6,null,"Name")," (",a.createElement(w.x6,null,"Label"),")",this.isFieldWarning("name")&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"create-standalone-totp-form-name",name:"name",type:"text",value:this.state.standaloneTotp.name,onKeyUp:this.handleInputKeyUp,onChange:this.handleInputChange,disabled:this.state.processing,ref:this.nameInputRef,className:"required fluid",maxLength:"255",required:"required",autoComplete:"off",autoFocus:!0,placeholder:this.translate("Name")}),this.isFieldError("name")&&a.createElement("div",{className:"name error-message"},this.nameErrorMessage),this.isFieldWarning("name")&&a.createElement("div",{className:"name warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.warnings.name)),a.createElement("div",{className:"input text "+(this.state.processing?"disabled":"")},a.createElement("label",{htmlFor:"create-standalone-totp-form-uri"},a.createElement(w.x6,null,"URI")," (",a.createElement(w.x6,null,"Issuer"),")",this.isFieldWarning("uri")&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"create-standalone-totp-form-uri",name:"uri",className:"fluid",maxLength:"1024",type:"text",onKeyUp:this.handleInputKeyUp,autoComplete:"off",value:this.state.standaloneTotp.uri,onChange:this.handleInputChange,placeholder:this.translate("URI"),disabled:this.state.processing}),this.isFieldWarning("uri")&&a.createElement("div",{className:"uri warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.warnings.uri)),a.createElement("div",{className:`input text required ${this.isFieldError("secret_key")?"error":""} ${this.state.processing?"disabled":""}`},a.createElement("label",{htmlFor:"create-standalone-totp-form-key"},a.createElement(w.x6,null,"Key")," (",a.createElement(w.x6,null,"secret"),")",this.isFieldWarning("secret_key")&&a.createElement(ge,{name:"exclamation"})),a.createElement("div",{className:"input-wrapper-inline"},a.createElement("input",{id:"create-standalone-totp-form-key",name:"secret_key",maxLength:"1024",type:"text",onKeyUp:this.handleInputKeyUp,autoComplete:"off",value:this.state.standaloneTotp.secret_key,onChange:this.handleInputChange,placeholder:this.translate("Key"),disabled:this.state.processing,ref:this.keyInputRef}),a.createElement("button",{type:"button",onClick:this.handleUploadImageButtonClick,disabled:this.state.processing,className:"button-icon "+(this.state.processing?"disabled":"")},a.createElement(ge,{name:"camera",big:!0}))),this.isFieldError("secret_key")&&a.createElement("div",{className:"key error-message"},this.secretKeyErrorMessage),this.isFieldWarning("secret_key")&&a.createElement("div",{className:"key warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.warnings.secret_key))),a.createElement("div",{className:"form-content no-padding"},a.createElement("div",{className:"accordion accordion-section "+(this.state.openAdvancedSettings?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleAdvancedSettingClickEvent},a.createElement(w.x6,null,"Advanced settings"),this.state.openAdvancedSettings&&a.createElement(ge,{name:"caret-down"}),!this.state.openAdvancedSettings&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},a.createElement("div",{className:`input text required ${this.isFieldError("period")?"error":""} ${this.state.processing?"disabled":""}`},a.createElement("label",{htmlFor:"create-standalone-totp-form-period"},a.createElement(w.x6,null,"TOTP expiry")),a.createElement("div",{className:"input-wrapper-inline"},a.createElement("input",{id:"create-standalone-totp-form-period",name:"period",type:"number",value:this.state.standaloneTotp.period,onChange:this.handleInputChange,disabled:this.state.processing,ref:this.periodInputRef,onKeyUp:this.handleInputKeyUp,className:"required",min:"1",max:"120"}),a.createElement("span",null,a.createElement(w.x6,null,"seconds until the TOTP expires"))),this.isFieldError("period")&&a.createElement("div",{className:"period error-message"},this.periodErrorMessage)),a.createElement("div",{className:`input text required ${this.isFieldError("digits")?"error":""} ${this.state.processing?"disabled":""}`},a.createElement("label",{htmlFor:"create-standalone-totp-form-digits"},a.createElement(w.x6,null,"TOTP length")),a.createElement("div",{className:"input-wrapper-inline"},a.createElement("input",{id:"create-standalone-totp-form-digits",name:"digits",type:"number",value:this.state.standaloneTotp.digits,onChange:this.handleInputChange,disabled:this.state.processing,className:"required",min:"6",max:"8",onKeyUp:this.handleInputKeyUp,ref:this.digitsInputRef}),a.createElement("span",null,a.createElement(w.x6,null,"digits"))),this.isFieldError("digits")&&a.createElement("div",{className:"digits error-message"},this.digitsErrorMessage)),a.createElement("div",{className:"select-wrapper input required "+(this.state.processing?"disabled":"")},a.createElement("label",{htmlFor:"create-standalone-totp-form-algorithm"},a.createElement(w.x6,null,"Algorithm")),a.createElement(gs,{id:"create-standalone-totp-form-algorithm",name:"algorithm",value:this.state.standaloneTotp.algorithm,items:this.supportedAlgorithms,disabled:this.state.processing,onChange:this.handleInputChange}))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.state.processing,onClick:this.handleClose}),a.createElement(Vt,{value:this.translate("Create"),disabled:this.state.processing,processing:this.state.processing}))))}}Sb.propTypes={onClose:l().func,onCancel:l().func,onSubmit:l().func,onOpenUploadQrCode:l().func,t:l().func};const Nb=(0,w.CI)("common")(Sb);var Rb=s(18289);class Ib extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers(),this.createReferences()}get defaultState(){return{processing:!1,fileToImport:null,fileError:""}}bindHandlers(){this.handleSelectFile=this.handleSelectFile.bind(this),this.handleFileSelected=this.handleFileSelected.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}createReferences(){this.fileUploaderRef=a.createRef()}hasAllInputDisabled(){return this.state.processing}get selectedFilename(){return this.state.fileToImport?.name||""}handleSelectFile(){this.fileUploaderRef.current.click()}async handleFileSelected(e){const[t]=e.target.files;await this.resetValidation(),this.setState({fileToImport:t})}handleCancel(){this.close()}async handleSubmit(e){if(e.preventDefault(),this.state.processing)return;if(this.toggleProcessing(),!await this.validate())return void await this.toggleProcessing();let t;try{const e=await this.getDataFromQrCode();t=xb.createStandaloneTotpFromUrl(e)}catch(e){return void this.handleImportError(e)}this.props.onSubmit(t),this.handleImportSuccess()}toggleProcessing(){const e=this.state.processing;this.setState({processing:!e})}close(){this.props.onClose()}async getDataFromQrCode(){const e=new Rb.j9("dialog-upload-qr-code",{formatsToSupport:[Rb.Jl.QR_CODE]}),t=await e.scanFileV2(this.state.fileToImport,!1);return new URL(decodeURIComponent(t.decodedText))}handleImportSuccess(){this.toggleProcessing(),this.close()}handleImportError(e){const t="UserAbortsOperationError"===e.name,s="NotFoundException"===e.name;let a="";this.toggleProcessing(),t||(s?a=this.translate("No QR code found."):(console.error(e),a=this.translate("The QR code is incomplete."))),this.setState({fileError:a})}async validate(){return this.setState({fileError:""}),await this.validateFileInput(),""===this.state.fileError}validateFileInput(){const e=this.state.fileToImport;let t="";return e||(t=this.translate("A file is required.")),new Promise((e=>{this.setState({fileError:t},e)}))}async resetValidation(){await this.setState({fileError:""})}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.props.title,className:"upload-qr-code-dialog",disabled:this.hasAllInputDisabled(),onClose:this.handleCancel},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input file required ${this.state.fileError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("input",{type:"file",id:"dialog-upload-qr-code",ref:this.fileUploaderRef,onChange:this.handleFileSelected,accept:".png, .jpg, .jpeg"}),a.createElement("div",{className:"label-required-inline"},a.createElement("label",{htmlFor:"dialog-import-passwords"},a.createElement(w.x6,null,"Upload a QR code")),a.createElement(fe,{message:this.translate("Only PNG or JPEG file are accepted.")},a.createElement(ge,{name:"info-circle"}))),a.createElement("div",{className:"input-file-inline"},a.createElement("input",{type:"text",disabled:!0,placeholder:this.translate("QR code picture"),defaultValue:this.selectedFilename}),a.createElement("button",{className:"button primary",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleSelectFile},a.createElement("span",null,a.createElement(w.x6,null,"Select a file")))),this.state.fileError&&a.createElement("div",{className:"error-message"},this.state.fileError))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleCancel}),a.createElement(Vt,{value:this.props.action,disabled:this.hasAllInputDisabled(),processing:this.state.processing}))))}}Ib.propTypes={title:l().string,action:l().string,onClose:l().func,onSubmit:l().func,t:l().func};const _b=(0,w.CI)("common")(Ib),Db="AddTotp",Tb="EditTotp",Pb="CreateStandaloneTotp",Ab="EditStandaloneTotp";class Mb extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.initEventHandlers(),this.createInputRef()}get defaultState(){return{totp:new kb,errors:null,warnings:{},processing:!1,hasAlreadyBeenValidated:!1,openAdvancedSettings:!1}}initEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleInputKeyUp=this.handleInputKeyUp.bind(this),this.handleAdvancedSettingClickEvent=this.handleAdvancedSettingClickEvent.bind(this),this.handleUploadImageButtonClick=this.handleUploadImageButtonClick.bind(this)}createInputRef(){this.keyInputRef=a.createRef(),this.periodInputRef=a.createRef(),this.digitsInputRef=a.createRef()}async handleFormSubmit(e){if(e.preventDefault(),!this.state.processing){if(this.setState({hasAlreadyBeenValidated:!0}),await this.toggleProcessing(),!this.validate())return await this.toggleProcessing(),void this.focusFirstFieldError();this.props.onSubmit(this.state.totp),this.handleClose()}}async toggleProcessing(){const e=this.state.processing;return new Promise((t=>{this.setState({processing:!e},t())}))}validate(){const e=this.state.totp.validate();return this.setState({errors:e}),!e.hasErrors()}focusFirstFieldError(){this.isFieldError("secret_key")?this.keyInputRef.current.focus():this.isFieldError("period")?(this.setState({openAdvancedSettings:!0}),this.periodInputRef.current.focus()):this.isFieldError("digits")&&(this.setState({openAdvancedSettings:!0}),this.digitsInputRef.current.focus())}handleInputChange(e){const t=e.target;let s;s="number"===t.type?Number.isNaN(t.valueAsNumber)?"":t.valueAsNumber:t.value;const a=t.name,n=this.state.totp.cloneWithMutation(a,s);this.setState({totp:n})}handleInputKeyUp(e){const t=e.target.name;if(this.state.hasAlreadyBeenValidated){const e=this.state.totp.validateField(t);this.updateErrorsField(e,t)}this.updateWarningsField(t)}updateErrorsField(e,t){const s=this.state.errors.details;delete s[t],Object.assign(e.details,s),this.setState({errors:e})}updateWarningsField(e){const t={...this.state.warnings};delete t[e],this.state.totp.isWarningSizeField(e)&&(t[e]=this.translate("this is the maximum size for this field, make sure your data was not truncated")),this.setState({warnings:t})}handleClose(){this.props.onCancel(),this.props.onClose()}async handleAdvancedSettingClickEvent(){const e=!this.state.openAdvancedSettings;this.setState({openAdvancedSettings:e})}handleUploadImageButtonClick(){this.props.onOpenUploadQrCode()}get secretKeyErrorMessage(){const e=this.state.errors?.getError("secret_key");return e?.notEmpty?this.translate("The key is required."):e?.pattern?this.translate("The key is not valid."):null}get periodErrorMessage(){const e=this.state.errors?.getError("period");return e?.type?this.translate("TOTP expiry is required."):e?.minimum?this.translate("TOTP expiry must be greater than 0."):null}get digitsErrorMessage(){const e=this.state.errors?.getError("digits");return e?.type?this.translate("TOTP length is required."):e?.minimum||e?.maximum?this.translate("TOTP length must be between 6 and 8."):null}isFieldError(e){return this.state.errors?.hasError(e)}isFieldWarning(e){return Boolean(this.state.warnings[e])}get supportedAlgorithms(){return kb.SUPPORTED_ALGORITHMS.map((e=>({value:e,label:e})))}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("Add TOTP"),className:"add-totp-dialog",disabled:this.state.processing,onClose:this.handleClose},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input text required ${this.isFieldError("secret_key")?"error":""} ${this.state.processing?"disabled":""}`},a.createElement("label",{htmlFor:"add-totp-form-key"},a.createElement(w.x6,null,"Key")," (",a.createElement(w.x6,null,"secret"),")",this.isFieldWarning("secret_key")&&a.createElement(ge,{name:"exclamation"})),a.createElement("div",{className:"input-wrapper-inline"},a.createElement("input",{id:"add-totp-form-key",name:"secret_key",maxLength:"1024",type:"text",onKeyUp:this.handleInputKeyUp,autoComplete:"off",value:this.state.totp.secret_key,onChange:this.handleInputChange,placeholder:this.translate("Key"),disabled:this.state.processing,ref:this.keyInputRef}),a.createElement("button",{type:"button",onClick:this.handleUploadImageButtonClick,disabled:this.state.processing,className:"button-icon "+(this.state.processing?"disabled":"")},a.createElement(ge,{name:"camera",big:!0}))),this.isFieldError("secret_key")&&a.createElement("div",{className:"key error-message"},this.secretKeyErrorMessage),this.isFieldWarning("secret_key")&&a.createElement("div",{className:"key warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.warnings.secret_key))),a.createElement("div",{className:"form-content no-padding"},a.createElement("div",{className:"accordion accordion-section "+(this.state.openAdvancedSettings?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleAdvancedSettingClickEvent},a.createElement(w.x6,null,"Advanced settings"),this.state.openAdvancedSettings&&a.createElement(ge,{name:"caret-down"}),!this.state.openAdvancedSettings&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},a.createElement("div",{className:`input text required ${this.isFieldError("period")?"error":""} ${this.state.processing?"disabled":""}`},a.createElement("label",{htmlFor:"add-totp-form-period"},a.createElement(w.x6,null,"TOTP expiry")),a.createElement("div",{className:"input-wrapper-inline"},a.createElement("input",{id:"add-totp-form-period",name:"period",type:"number",value:this.state.totp.period,onChange:this.handleInputChange,disabled:this.state.processing,ref:this.periodInputRef,onKeyUp:this.handleInputKeyUp,className:"required",min:"1",max:"120"}),a.createElement("span",null,a.createElement(w.x6,null,"seconds until the TOTP expires"))),this.isFieldError("period")&&a.createElement("div",{className:"period error-message"},this.periodErrorMessage)),a.createElement("div",{className:`input text required ${this.isFieldError("digits")?"error":""} ${this.state.processing?"disabled":""}`},a.createElement("label",{htmlFor:"add-totp-form-digits"},a.createElement(w.x6,null,"TOTP length")),a.createElement("div",{className:"input-wrapper-inline"},a.createElement("input",{id:"add-totp-form-digits",name:"digits",type:"number",value:this.state.totp.digits,onChange:this.handleInputChange,disabled:this.state.processing,className:"required",min:"6",max:"8",onKeyUp:this.handleInputKeyUp,ref:this.digitsInputRef}),a.createElement("span",null,a.createElement(w.x6,null,"digits"))),this.isFieldError("digits")&&a.createElement("div",{className:"digits error-message"},this.digitsErrorMessage)),a.createElement("div",{className:"select-wrapper input required "+(this.state.processing?"disabled":"")},a.createElement("label",{htmlFor:"add-totp-form-algorithm"},a.createElement(w.x6,null,"Algorithm")),a.createElement(gs,{id:"add-totp-form-algorithm",name:"algorithm",value:this.state.totp.algorithm,items:this.supportedAlgorithms,disabled:this.state.processing,onChange:this.handleInputChange}))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.state.processing,onClick:this.handleClose}),a.createElement(Vt,{value:this.translate("Apply"),disabled:this.state.processing,processing:this.state.processing}))))}}Mb.propTypes={onClose:l().func,onCancel:l().func,onSubmit:l().func,onOpenUploadQrCode:l().func,t:l().func};const Ub=(0,w.CI)("common")(Mb);class Fb extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.initEventHandlers(),this.createInputRef()}get defaultState(){return{totp:new kb(this.props.totp),errors:null,warnings:{},processing:!1,hasAlreadyBeenValidated:!1,openAdvancedSettings:!1}}initEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleInputKeyUp=this.handleInputKeyUp.bind(this),this.handleAdvancedSettingClickEvent=this.handleAdvancedSettingClickEvent.bind(this),this.handleUploadImageButtonClick=this.handleUploadImageButtonClick.bind(this)}createInputRef(){this.keyInputRef=a.createRef(),this.periodInputRef=a.createRef(),this.digitsInputRef=a.createRef()}async handleFormSubmit(e){if(e.preventDefault(),!this.state.processing){if(this.setState({hasAlreadyBeenValidated:!0}),await this.toggleProcessing(),!this.validate())return await this.toggleProcessing(),void this.focusFirstFieldError();this.props.onSubmit(this.state.totp),this.handleClose()}}async toggleProcessing(){const e=this.state.processing;return new Promise((t=>{this.setState({processing:!e},t())}))}validate(){const e=this.state.totp.validate();return this.setState({errors:e}),!e.hasErrors()}focusFirstFieldError(){this.isFieldError("secret_key")?this.keyInputRef.current.focus():this.isFieldError("period")?(this.setState({openAdvancedSettings:!0}),this.periodInputRef.current.focus()):this.isFieldError("digits")&&(this.setState({openAdvancedSettings:!0}),this.digitsInputRef.current.focus())}handleInputChange(e){const t=e.target;let s;s="number"===t.type?Number.isNaN(t.valueAsNumber)?"":t.valueAsNumber:t.value;const a=t.name,n=this.state.totp.cloneWithMutation(a,s);this.setState({totp:n})}handleInputKeyUp(e){const t=e.target.name;if(this.state.hasAlreadyBeenValidated){const e=this.state.totp.validateField(t);this.updateErrorsField(e,t)}else this.updateWarningsField(t)}updateErrorsField(e,t){const s=this.state.errors.details;delete s[t],Object.assign(e.details,s),this.setState({errors:e})}updateWarningsField(e){const t={...this.state.warnings};delete t[e],this.state.totp.isWarningSizeField(e)&&(t[e]=this.translate("this is the maximum size for this field, make sure your data was not truncated")),this.setState({warnings:t})}handleClose(){this.props.onCancel(),this.props.onClose()}async handleAdvancedSettingClickEvent(){const e=!this.state.openAdvancedSettings;this.setState({openAdvancedSettings:e})}handleUploadImageButtonClick(){this.props.onOpenUploadQrCode()}get secretKeyErrorMessage(){const e=this.state.errors?.getError("secret_key");return e?.notEmpty?this.translate("The key is required."):e?.pattern?this.translate("The key is not valid."):null}get periodErrorMessage(){const e=this.state.errors?.getError("period");return e?.type?this.translate("TOTP expiry is required."):e?.minimum?this.translate("TOTP expiry must be greater than 0."):null}get digitsErrorMessage(){const e=this.state.errors?.getError("digits");return e?.type?this.translate("TOTP length is required."):e?.minimum||e?.maximum?this.translate("TOTP length must be between 6 and 8."):null}isFieldError(e){return this.state.errors?.hasError(e)}isFieldWarning(e){return Boolean(this.state.warnings[e])}get supportedAlgorithms(){return kb.SUPPORTED_ALGORITHMS.map((e=>({value:e,label:e})))}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("Edit TOTP"),className:"edit-totp-dialog",disabled:this.state.processing,onClose:this.handleClose},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input text required ${this.isFieldError("secret_key")?"error":""} ${this.state.processing?"disabled":""}`},a.createElement("label",{htmlFor:"edit-totp-form-key"},a.createElement(w.x6,null,"Key")," (",a.createElement(w.x6,null,"secret"),")",this.isFieldWarning("secret_key")&&a.createElement(ge,{name:"exclamation"})),a.createElement("div",{className:"input-wrapper-inline"},a.createElement("input",{id:"edit-totp-form-key",name:"secret_key",maxLength:"1024",type:"text",onKeyUp:this.handleInputKeyUp,autoComplete:"off",value:this.state.totp.secret_key,onChange:this.handleInputChange,placeholder:this.translate("Key"),disabled:this.state.processing,ref:this.keyInputRef}),a.createElement("button",{type:"button",onClick:this.handleUploadImageButtonClick,disabled:this.state.processing,className:"button-icon "+(this.state.processing?"disabled":"")},a.createElement(ge,{name:"camera",big:!0}))),this.isFieldError("secret_key")&&a.createElement("div",{className:"key error-message"},this.secretKeyErrorMessage),this.isFieldWarning("secret_key")&&a.createElement("div",{className:"key warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.warnings.secret_key))),a.createElement("div",{className:"form-content no-padding"},a.createElement("div",{className:"accordion accordion-section "+(this.state.openAdvancedSettings?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleAdvancedSettingClickEvent},a.createElement(w.x6,null,"Advanced settings"),this.state.openAdvancedSettings&&a.createElement(ge,{name:"caret-down"}),!this.state.openAdvancedSettings&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},a.createElement("div",{className:`input text required ${this.isFieldError("period")?"error":""} ${this.state.processing?"disabled":""}`},a.createElement("label",{htmlFor:"edit-totp-form-period"},a.createElement(w.x6,null,"TOTP expiry")),a.createElement("div",{className:"input-wrapper-inline"},a.createElement("input",{id:"edit-totp-form-period",name:"period",type:"number",value:this.state.totp.period,onChange:this.handleInputChange,disabled:this.state.processing,ref:this.periodInputRef,onKeyUp:this.handleInputKeyUp,className:"required",min:"1",max:"120"}),a.createElement("span",null,a.createElement(w.x6,null,"seconds until the TOTP expires"))),this.isFieldError("period")&&a.createElement("div",{className:"period error-message"},this.periodErrorMessage)),a.createElement("div",{className:`input text required ${this.isFieldError("digits")?"error":""} ${this.state.processing?"disabled":""}`},a.createElement("label",{htmlFor:"edit-totp-form-digits"},a.createElement(w.x6,null,"TOTP length")),a.createElement("div",{className:"input-wrapper-inline"},a.createElement("input",{id:"edit-totp-form-digits",name:"digits",type:"number",value:this.state.totp.digits,onChange:this.handleInputChange,disabled:this.state.processing,className:"required",min:"6",max:"8",onKeyUp:this.handleInputKeyUp,ref:this.digitsInputRef}),a.createElement("span",null,a.createElement(w.x6,null,"digits"))),this.isFieldError("digits")&&a.createElement("div",{className:"digits error-message"},this.digitsErrorMessage)),a.createElement("div",{className:"select-wrapper input required "+(this.state.processing?"disabled":"")},a.createElement("label",{htmlFor:"edit-totp-form-algorithm"},a.createElement(w.x6,null,"Algorithm")),a.createElement(gs,{id:"edit-totp-form-algorithm",name:"algorithm",value:this.state.totp.algorithm,items:this.supportedAlgorithms,disabled:this.state.processing,onChange:this.handleInputChange}))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.state.processing,onClick:this.handleClose}),a.createElement(Vt,{value:this.translate("Apply"),disabled:this.state.processing,processing:this.state.processing}))))}}Fb.propTypes={totp:l().object.isRequired,onClose:l().func,onCancel:l().func,onSubmit:l().func,onOpenUploadQrCode:l().func,t:l().func};const Lb=(0,w.CI)("common")(Fb);class Ob extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.initEventHandlers(),this.createInputRef()}get defaultState(){const e=this.props.resource||{},t=e.metadata.name||"",s=e.metadata.uris?.[0]||"";return{nameOriginal:t,originalTotp:null,standaloneTotp:new xb({name:t,uri:s}),errors:null,warnings:{},processing:!1,isSecretDecrypting:!0,hasAlreadyBeenValidated:!1,openAdvancedSettings:!1}}initEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleInputKeyUp=this.handleInputKeyUp.bind(this),this.handleAdvancedSettingClickEvent=this.handleAdvancedSettingClickEvent.bind(this),this.handleUploadImageButtonClick=this.handleUploadImageButtonClick.bind(this)}createInputRef(){this.nameInputRef=a.createRef(),this.keyInputRef=a.createRef(),this.periodInputRef=a.createRef(),this.digitsInputRef=a.createRef()}async componentDidMount(){await this.decryptSecret()}async decryptSecret(){this.setState({isSecretDecrypting:!0});try{const e=(await this.getDecryptedSecret()).totp;e.name=this.state.standaloneTotp.name,e.uri=this.state.standaloneTotp.uri;const t=new xb(e),s=new xb(e);this.setState({standaloneTotp:t,originalTotp:s,isSecretDecrypting:!1})}catch(e){this.handleClose()}}async getDecryptedSecret(){return this.props.context.port.request("passbolt.secret.find-by-resource-id",this.props.resource.id)}async handleFormSubmit(e){if(e.preventDefault(),this.state.processing)return;if(this.setState({hasAlreadyBeenValidated:!0}),await this.toggleProcessing(),!this.validate())return await this.toggleProcessing(),void this.focusFirstFieldError();const t=this.state.standaloneTotp.toResourceDto(),s=kb.areSecretsDifferent(this.state.standaloneTotp,this.state.originalTotp)?this.state.standaloneTotp.toSecretDto():null;this.props.onSubmit(t,s),this.handleClose()}async toggleProcessing(){const e=this.state.processing;return new Promise((t=>{this.setState({processing:!e},t())}))}validate(){const e=this.state.standaloneTotp.validate();return this.setState({errors:e}),!e.hasErrors()}focusFirstFieldError(){this.isFieldError("name")?this.nameInputRef.current.focus():this.isFieldError("secret_key")?this.keyInputRef.current.focus():this.isFieldError("period")?(this.setState({openAdvancedSettings:!0}),this.periodInputRef.current.focus()):this.isFieldError("digits")&&(this.setState({openAdvancedSettings:!0}),this.digitsInputRef.current.focus())}handleInputChange(e){const t=e.target;let s;s="number"===t.type?Number.isNaN(t.valueAsNumber)?"":t.valueAsNumber:t.value;const a=t.name,n=this.state.standaloneTotp.cloneWithMutation(a,s);this.setState({standaloneTotp:n})}handleInputKeyUp(e){const t=e.target.name;if(this.state.hasAlreadyBeenValidated){const e=this.state.standaloneTotp.validateField(t);this.updateErrorsField(e,t)}else this.updateWarningsField(t)}updateErrorsField(e,t){const s=this.state.errors.details;delete s[t],Object.assign(e.details,s),this.setState({errors:e})}updateWarningsField(e){const t={...this.state.warnings};delete t[e],this.state.standaloneTotp.isWarningSizeField(e)&&(t[e]=this.translate("this is the maximum size for this field, make sure your data was not truncated")),this.setState({warnings:t})}handleClose(){this.props.onCancel(),this.props.onClose()}async handleAdvancedSettingClickEvent(){const e=!this.state.openAdvancedSettings;this.setState({openAdvancedSettings:e})}handleUploadImageButtonClick(){this.props.onOpenUploadQrCode()}get nameErrorMessage(){const e=this.state.errors?.getError("name");return e?.notEmpty?this.translate("The name is required."):null}get secretKeyErrorMessage(){const e=this.state.errors?.getError("secret_key");return e?.notEmpty?this.translate("The key is required."):e?.pattern?this.translate("The key is not valid."):null}get periodErrorMessage(){const e=this.state.errors?.getError("period");return e?.type?this.translate("TOTP expiry is required."):e?.minimum?this.translate("TOTP expiry must be greater than 0."):null}get digitsErrorMessage(){const e=this.state.errors?.getError("digits");return e?.type?this.translate("TOTP length is required."):e?.minimum||e?.maximum?this.translate("TOTP length must be between 6 and 8."):null}get secretKeyInputPlaceholder(){let e=this.translate("Key");return this.state.isSecretDecrypting&&(e=this.translate("Decrypting")),e}isFieldError(e){return this.state.errors?.hasError(e)}isFieldWarning(e){return Boolean(this.state.warnings[e])}get hasAllInputDisabled(){return this.state.processing}get isSecretKeyDisabled(){return this.state.isSecretDecrypting}get supportedAlgorithms(){return xb.SUPPORTED_ALGORITHMS.map((e=>({value:e,label:e})))}get translate(){return this.props.t}render(){return a.createElement(ve,{title:this.translate("Edit standalone TOTP"),subtitle:this.state.nameOriginal,className:"edit-standalone-totp-dialog",disabled:this.hasAllInputDisabled,onClose:this.handleClose},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input text required ${this.isFieldError("name")?"error":""} ${this.hasAllInputDisabled?"disabled":""}`},a.createElement("label",{htmlFor:"edit-standalone-totp-form-name"},a.createElement(w.x6,null,"Name")," (",a.createElement(w.x6,null,"Label"),")",this.isFieldWarning("name")&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"edit-standalone-totp-form-name",name:"name",type:"text",value:this.state.standaloneTotp.name,onKeyUp:this.handleInputKeyUp,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled,ref:this.nameInputRef,className:"required fluid",maxLength:"255",required:"required",autoComplete:"off",autoFocus:!0,placeholder:this.translate("Name")}),this.isFieldError("name")&&a.createElement("div",{className:"name error-message"},this.nameErrorMessage),this.isFieldWarning("name")&&a.createElement("div",{className:"name warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.warnings.name)),a.createElement("div",{className:"input text "+(this.hasAllInputDisabled?"disabled":"")},a.createElement("label",{htmlFor:"edit-standalone-totp-form-uri"},a.createElement(w.x6,null,"URI")," (",a.createElement(w.x6,null,"Issuer"),")",this.isFieldWarning("uri")&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"edit-standalone-totp-form-uri",name:"uri",className:"fluid",maxLength:"1024",type:"text",onKeyUp:this.handleInputKeyUp,autoComplete:"off",value:this.state.standaloneTotp.uri,onChange:this.handleInputChange,placeholder:this.translate("URI"),disabled:this.hasAllInputDisabled}),this.isFieldWarning("uri")&&a.createElement("div",{className:"uri warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.warnings.uri)),a.createElement("div",{className:`input text required ${this.isFieldError("secret_key")?"error":""} ${this.hasAllInputDisabled?"disabled":""}`},a.createElement("label",{htmlFor:"edit-standalone-totp-form-key"},a.createElement(w.x6,null,"Key")," (",a.createElement(w.x6,null,"secret"),")",this.isFieldWarning("secret_key")&&a.createElement(ge,{name:"exclamation"})),a.createElement("div",{className:"input-wrapper-inline"},a.createElement("input",{id:"edit-standalone-totp-form-key",name:"secret_key",maxLength:"1024",type:"text",onKeyUp:this.handleInputKeyUp,autoComplete:"off",value:this.state.standaloneTotp.secret_key,onChange:this.handleInputChange,placeholder:this.secretKeyInputPlaceholder,disabled:this.hasAllInputDisabled||this.isSecretKeyDisabled,ref:this.keyInputRef}),a.createElement("button",{type:"button",onClick:this.handleUploadImageButtonClick,disabled:this.hasAllInputDisabled,className:"button-icon "+(this.hasAllInputDisabled?"disabled":"")},a.createElement(ge,{name:"camera",big:!0}))),this.isFieldError("secret_key")&&a.createElement("div",{className:"key error-message"},this.secretKeyErrorMessage),this.isFieldWarning("secret_key")&&a.createElement("div",{className:"key warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",this.state.warnings.secret_key))),a.createElement("div",{className:"form-content no-padding"},a.createElement("div",{className:"accordion accordion-section "+(this.state.openAdvancedSettings?"":"closed")},a.createElement("div",{className:"accordion-header"},a.createElement("h4",null,a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleAdvancedSettingClickEvent},a.createElement(w.x6,null,"Advanced settings"),this.state.openAdvancedSettings&&a.createElement(ge,{name:"caret-down"}),!this.state.openAdvancedSettings&&a.createElement(ge,{name:"caret-right"})))),a.createElement("div",{className:"accordion-content"},a.createElement("div",{className:`input text required ${this.isFieldError("period")?"error":""} ${this.hasAllInputDisabled?"disabled":""}`},a.createElement("label",{htmlFor:"edit-standalone-totp-form-period"},a.createElement(w.x6,null,"TOTP expiry")),a.createElement("div",{className:"input-wrapper-inline"},a.createElement("input",{id:"edit-standalone-totp-form-period",name:"period",type:"number",value:this.state.standaloneTotp.period,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled,ref:this.periodInputRef,onKeyUp:this.handleInputKeyUp,className:"required",min:"1",max:"120"}),a.createElement("span",null,a.createElement(w.x6,null,"seconds until the TOTP expires"))),this.isFieldError("period")&&a.createElement("div",{className:"period error-message"},this.periodErrorMessage)),a.createElement("div",{className:`input text required ${this.isFieldError("digits")?"error":""} ${this.hasAllInputDisabled?"disabled":""}`},a.createElement("label",{htmlFor:"edit-standalone-totp-form-digits"},a.createElement(w.x6,null,"TOTP length")),a.createElement("div",{className:"input-wrapper-inline"},a.createElement("input",{id:"edit-standalone-totp-form-digits",name:"digits",type:"number",value:this.state.standaloneTotp.digits,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled,className:"required",min:"6",max:"8",onKeyUp:this.handleInputKeyUp,ref:this.digitsInputRef}),a.createElement("span",null,a.createElement(w.x6,null,"digits"))),this.isFieldError("digits")&&a.createElement("div",{className:"digits error-message"},this.digitsErrorMessage)),a.createElement("div",{className:"select-wrapper input required "+(this.hasAllInputDisabled?"disabled":"")},a.createElement("label",{htmlFor:"edit-standalone-totp-form-algorithm"},a.createElement(w.x6,null,"Algorithm")),a.createElement(gs,{id:"edit-standalone-totp-form-algorithm",name:"algorithm",value:this.state.standaloneTotp.algorithm,items:this.supportedAlgorithms,disabled:this.hasAllInputDisabled,onChange:this.handleInputChange}))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled,onClick:this.handleClose}),a.createElement(Vt,{value:this.translate("Save"),disabled:this.hasAllInputDisabled,processing:this.state.processing}))))}}Ob.propTypes={resource:l().object.isRequired,context:l().any,onClose:l().func,onCancel:l().func,onSubmit:l().func,onOpenUploadQrCode:l().func,t:l().func};const Vb=h((0,w.CI)("common")(Ob));function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Hb.apply(null,arguments)}const qb=a.createContext({get:()=>{},metadataTypeSettings:null,updateLocalStorage:()=>{}});class jb extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.runningLocalStorageUpdatePromise=null,this.initEventHandlers()}get defaultState(){return{get:this.get.bind(this),metadataTypeSettings:null,updateLocalStorage:this.updateLocalStorage.bind(this)}}initEventHandlers(){this.handleStorageChange=this.handleStorageChange.bind(this)}componentDidMount(){this.props.context.storage.onChanged.addListener(this.handleStorageChange)}componentWillUnmount(){this.props.context.storage.onChanged.removeListener(this.handleStorageChange)}handleStorageChange(e){e[this.storageKey]&&this.set(e[this.storageKey].newValue)}set(e){const t=new _g(e);this.setState({metadataTypeSettings:t})}get(){return null===this.state.metadataTypeSettings?(this.loadLocalStorage(),null):this.state.metadataTypeSettings}get storageKey(){return`metadata_types_settings-${this.props.context.account?.id}`}async loadLocalStorage(){const e=await this.props.context.storage.local.get([this.storageKey]);e[this.storageKey]?this.set(e[this.storageKey]):this.updateLocalStorage()}async updateLocalStorage(){null===this.runningLocalStorageUpdatePromise?(this.runningLocalStorageUpdatePromise=this.props.context.port.request("passbolt.metadata.get-or-find-metadata-types-settings"),await this.runningLocalStorageUpdatePromise,this.runningLocalStorageUpdatePromise=null):await this.runningLocalStorageUpdatePromise}render(){return a.createElement(qb.Provider,{value:this.state},this.props.children)}}jb.propTypes={context:l().any,children:l().any};const Wb=h(jb);function zb(e){return class extends a.Component{render(){return a.createElement(qb.Consumer,null,(t=>a.createElement(e,Hb({metadataTypeSettingsLocalStorageContext:t,metadataTypeSettings:t.get()},this.props))))}}}class Bb extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{totp:null,mainOpenedDialogId:null}}async componentDidMount(){await this.displayTotpDialog()}bindCallbacks(){this.handleCancelDialog=this.handleCancelDialog.bind(this),this.handleApply=this.handleApply.bind(this),this.handleSave=this.handleSave.bind(this),this.handleUpdate=this.handleUpdate.bind(this),this.handleError=this.handleError.bind(this)}async displayTotpDialog(){switch(this.props.mode){case Db:this.displayAddTotpDialog();break;case Tb:this.displayEditTotpDialog();break;case Pb:this.displayCreateStandaloneTotpDialog();break;case Ab:this.displayEditStandaloneTotpDialog()}}displayAddTotpDialog(){const e={title:this.props.t("Add TOTP"),action:this.props.t("Apply"),onSubmit:this.handleApply},t=this.props.dialogContext.open(Ub,{onCancel:this.handleCancelDialog,onOpenUploadQrCode:()=>this.displayUploadQrCodeDialog(e),onSubmit:this.handleApply});this.setState({mainOpenedDialogId:t})}displayEditTotpDialog(){const e={title:this.props.t("Edit TOTP"),action:this.props.t("Apply"),onSubmit:this.handleApply},t=this.props.dialogContext.open(Lb,{totp:this.props.totp,onCancel:this.handleCancelDialog,onOpenUploadQrCode:()=>this.displayUploadQrCodeDialog(e),onSubmit:this.handleApply});this.setState({mainOpenedDialogId:t})}displayCreateStandaloneTotpDialog(){const e={title:this.props.t("Create standalone TOTP"),action:this.props.t("Save"),onSubmit:this.handleSave},t=this.props.dialogContext.open(Nb,{onCancel:this.handleCancelDialog,onOpenUploadQrCode:()=>this.displayUploadQrCodeDialog(e),onSubmit:this.handleSave});this.setState({mainOpenedDialogId:t})}displayEditStandaloneTotpDialog(){const e={title:this.props.t("Edit standalone TOTP"),action:this.props.t("Save"),onSubmit:this.handleUpdate},t=this.props.dialogContext.open(Vb,{resource:this.selectedResources[0],onCancel:this.handleCancelDialog,onOpenUploadQrCode:()=>this.displayUploadQrCodeDialog(e),onSubmit:this.handleUpdate});this.setState({mainOpenedDialogId:t})}displayUploadQrCodeDialog(e){this.props.dialogContext.open(_b,{...e})}handleCancelDialog(){this.props.onStop()}get selectedResources(){return this.props.resourceWorkspaceContext.selectedResources}async handleSave(e){try{const t=await this.createStandaloneOtp(e.toResourceDto(),e.toSecretDto());await this.handleSaveSuccess(t)}catch(e){if("UserAbortsOperationError"===e.name)return;this.handleError(e)}finally{this.handleStop()}}handleApply(e){try{this.props.onApply(e)}catch(e){this.handleError(e)}finally{this.handleStop()}}async handleUpdate(e,t){try{await this.updateStandaloneOtp(e,t),await this.handleUpdateSuccess()}catch(e){if("UserAbortsOperationError"===e.name)return;this.handleError(e)}finally{this.handleStop()}}async createStandaloneOtp(e,t){return e.folder_parent_id=this.props.folderParentId,e.resource_type_id=this.props.resourceType.id,e.metadata.resource_type_id=e.resource_type_id,this.props.context.port.request("passbolt.resources.create",e,t)}async updateStandaloneOtp(e,t){if(e.id=this.selectedResources[0].id,e.resource_type_id)return this.props.context.port.request("passbolt.resources.update",e,t);let s;return this.props.metadataTypeSettings.isDefaultResourceTypeV5?s=this.props.resourceTypes.getFirstBySlug(Lg):this.props.metadataTypeSettings.isDefaultResourceTypeV4&&(s=this.props.resourceTypes.getFirstBySlug(Ag)),e.resource_type_id=s.id,e.metadata.resource_type_id=s.id,this.props.context.port.request("passbolt.resources.update",e,t)}async handleSaveSuccess(e){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The TOTP has been added successfully")),this.props.history.push(`/app/passwords/view/${e.id}`)}async handleUpdateSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The TOTP has been updated successfully")),this.props.resourceWorkspaceContext.onResourceEdited()}handleError(e){const t={error:e};this.props.dialogContext.open(we,t)}handleStop(){this.props.dialogContext.close(this.state.mainOpenedDialogId),this.props.onStop()}render(){return a.createElement(a.Fragment,null)}}Bb.propTypes={onStop:l().func.isRequired,dialogContext:l().any,actionFeedbackContext:l().object,context:l().object,history:l().object,folderParentId:l().string,resourceWorkspaceContext:l().any,resourceTypes:l().instanceOf(tC),resourceType:l().instanceOf(Qg),metadataTypeSettings:l().instanceOf(_g),mode:l().oneOf([Db,Tb,Pb,Ab]).isRequired,totp:l().object,onApply:l().func,t:l().func};const Gb=(0,i.y)(h(k(zb(_e(wt(iC((0,w.CI)("common")(Bb)))))))),Kb="Create",$b="Edit",Zb="In dictionary",Yb="Minimum entropy";class Jb extends a.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.initEventHandlers()}getDefaultState(){return{processing:!1}}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleRejectClicked=this.handleRejectClicked.bind(this)}async handleFormSubmit(e){e.preventDefault(),this.state.processing||(this.setState({processing:!0}),this.props.onConfirm(),this.props.onClose())}handleCloseClick(){this.reject()}handleRejectClicked(){this.reject()}reject(){this.props.onReject(),this.props.onClose()}hasAllInputDisabled(){return this.state.processing}get translate(){return this.props.t}render(){return a.createElement(ve,{title:{[Kb]:a.createElement(w.x6,null,"Confirm resource creation"),[$b]:a.createElement(w.x6,null,"Confirm resource edition")}[this.props.operation],onClose:this.handleCloseClick,disabled:this.state.processing,className:"confirm-create-edit-password-dialog"},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("p",null,{[Zb]:a.createElement(w.x6,null,"The password is part of an exposed data breach."),[Yb]:a.createElement(w.x6,null,"The password is very weak and might be part of an exposed data breach.")}[this.props.rule]),a.createElement("p",null,{[Kb]:a.createElement(w.x6,null,"Are you sure you want to create the resource ",a.createElement("strong",{className:"dialog-variable"},{resourceName:this.props.resourceName}),"?"),[$b]:a.createElement(w.x6,null,"Are you sure you want to edit the resource ",a.createElement("strong",{className:"dialog-variable"},{resourceName:this.props.resourceName}),"?")}[this.props.operation])),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{value:this.translate("Edit password"),disabled:this.hasAllInputDisabled(),onClick:this.handleRejectClicked}),a.createElement(Vt,{value:this.translate("Proceed anyway"),disabled:this.hasAllInputDisabled(),processing:this.state.processing,attention:!0}))))}}Jb.propTypes={operation:l().oneOf([Kb,$b]),rule:l().oneOf([Zb,Yb]),resourceName:l().string,onClose:l().func,onConfirm:l().func,onReject:l().func,t:l().func};const Xb=(0,w.CI)("common")(Jb);class Qb extends DC{constructor(e={}){super(e),this.username=e.username||"",this.uri=e.uri||"",this.description=e.description||"",this.totp=e.totp||null,this.folder_parent_id=e.folder_parent_id||null,this.resource_type_id=e.resource_type_id,void 0!==e.id&&(this.id=e.id),e.name&&(this.name=e.name),e.password&&(this.password=e.password),void 0!==e.expired&&(this.expired=e.expired)}static createFromEntity(e){const t={id:e.id,name:e.metadata.name,uri:e.metadata.uris[0],username:e.metadata.username,description:e.metadata.description,folder_parent_id:e.folder_parent_id,resource_type_id:e.resource_type_id,expired:e.expired};return new Qb(t)}static getSchema(e){const t=["name","password","resource_type_id"];return e===DC.EDIT_MODE&&t.push("id"),{type:"object",required:t,properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:ks},uri:{type:"string",maxLength:Ns,nullable:!0},username:{type:"string",maxLength:ws,nullable:!0},password:{type:"string",maxLength:xs},description:{type:"string",maxLength:Ss,nullable:!0},expired:{type:"string",format:"date-time",nullable:!0},folder_parent_id:{type:"string",format:"uuid",nullable:!0},totp:{type:"object"},resource_type_id:{type:"string",format:"uuid"}}}}static get resourceTypeSlug(){return Fg}updateSecret(e){const t=this.cloneWithMutation("password",e.password);return t.description=e.description,t.totp=e.totp,t}canToggleDescription(){return!1}isDescriptionUnencrypted(){return!1}toResourceDto(){const e={resource_type_id:this.resource_type_id,folder_parent_id:this.folder_parent_id,metadata:{resource_type_id:this.resource_type_id,name:this.name,uris:this.uri?[this.uri]:[],username:this.username}};return void 0!==this.expired&&(e.expired=this.expired),void 0!==this.id&&(e.id=this.id),e}toSecretDto(){return{password:this.password,description:this.description,totp:this.totp,resource_type_id:this.resource_type_id}}areSecretsDifferent(e){const t=3===Object.keys(e).length&&Object.hasOwn(e,"password")&&Object.hasOwn(e,"description")&&Object.hasOwn(e,"totp"),s=Object.keys(this.totp).some((t=>this.totp[t]!==e.totp?.[t]));return!t||this.password!==e.password||this.description!==e.description||s}}const eE=Qb;class tE extends DC{constructor(e={}){super(e),this.username=e.username||"",this.uri=e.uri||"",this.description=e.description||"",this.folder_parent_id=e.folder_parent_id||null,this.resource_type_id=e.resource_type_id,void 0!==e.id&&(this.id=e.id),e.name&&(this.name=e.name),e.password&&(this.password=e.password),void 0!==e.expired&&(this.expired=e.expired)}static createFromEntity(e){const t={id:e.id,name:e.metadata.name,uri:e.metadata.uris[0],username:e.metadata.username,description:e.metadata.description,folder_parent_id:e.folder_parent_id,resource_type_id:e.resource_type_id,expired:e.expired};return new tE(t)}static getSchema(e){const t=["name","password","resource_type_id"];return e===DC.EDIT_MODE&&t.push("id"),{type:"object",required:t,properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:ks},uri:{type:"string",maxLength:Ns,nullable:!0},username:{type:"string",maxLength:ws,nullable:!0},password:{type:"string",maxLength:xs},description:{type:"string",maxLength:Ss,nullable:!0},expired:{type:"string",format:"date-time",nullable:!0},folder_parent_id:{type:"string",format:"uuid",nullable:!0},resource_type_id:{type:"string",format:"uuid"}}}}static get resourceTypeSlug(){return Mg}updateSecret(e){const t=this.cloneWithMutation("password",e.password);return t.description=e.description,t}canToggleDescription(){return!1}isDescriptionUnencrypted(){return!1}toResourceDto(){const e={resource_type_id:this.resource_type_id,folder_parent_id:this.folder_parent_id,metadata:{resource_type_id:this.resource_type_id,name:this.name,uris:this.uri?[this.uri]:[],username:this.username}};return void 0!==this.expired&&(e.expired=this.expired),void 0!==this.id&&(e.id=this.id),e}toSecretDto(){return{password:this.password,description:this.description,resource_type_id:this.resource_type_id}}areSecretsDifferent(e){return!(2===Object.keys(e).length&&Object.hasOwn(e,"password")&&Object.hasOwn(e,"description"))||this.password!==e.password||this.description!==e.description}}const sE=tE;class aE extends DC{constructor(e={}){super({}),this.username=e.username||"",this.uri=e.uri||"",this.description=e.description||"",this.folder_parent_id=e.folder_parent_id||null,this.resource_type_id=e.resource_type_id,void 0!==e.id&&(this.id=e.id),e.name&&(this.name=e.name),e.password&&(this.password=e.password),void 0!==e.expired&&(this.expired=e.expired)}static createFromEntity(e){const t={id:e.id,name:e.metadata.name,uri:e.metadata.uris[0],username:e.metadata.username,description:e.metadata.description,folder_parent_id:e.folder_parent_id,resource_type_id:e.resource_type_id,expired:e.expired};return new aE(t)}static getSchema(e){const t=["name","password","resource_type_id"];return e===DC.EDIT_MODE&&t.push("id"),{type:"object",required:t,properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:ks},uri:{type:"string",maxLength:Ns,nullable:!0},username:{type:"string",maxLength:ws,nullable:!0},password:{type:"string",maxLength:xs},description:{type:"string",maxLength:Ss,nullable:!0},expired:{type:"string",format:"date-time",nullable:!0},folder_parent_id:{type:"string",format:"uuid",nullable:!0},resource_type_id:{type:"string",format:"uuid"}}}}static get resourceTypeSlug(){return Ug}updateSecret(e){return this.cloneWithMutation("password",e.password)}canToggleDescription(){return!0}isDescriptionUnencrypted(){return!0}toResourceDto(){const e={resource_type_id:this.resource_type_id,folder_parent_id:this.folder_parent_id,metadata:{resource_type_id:this.resource_type_id,name:this.name,uris:this.uri?[this.uri]:[],username:this.username,description:this.description}};return void 0!==this.expired&&(e.expired=this.expired),void 0!==this.id&&(e.id=this.id),e}toSecretDto(){return this.password}areSecretsDifferent(e){return!(1===Object.keys(e).length&&Object.hasOwn(e,"password"))||this.password!==e.password}}const nE=aE,rE=class{static createFromResourceTypeAndResourceViewModelDto(e,t){switch(e?.slug){case MC.resourceTypeSlug:return new MC(t);case FC.resourceTypeSlug:return new FC(t);case sE.resourceTypeSlug:return new sE(t);case eE.resourceTypeSlug:return new eE(t);case PC.resourceTypeSlug:return new PC(t);case nE.resourceTypeSlug:return new nE(t);default:throw new Error("No ViewModel has been found for the resource type.")}}static createFromResourceTypeAndEntityDto(e,t){switch(e?.slug){case MC.resourceTypeSlug:return MC.createFromEntity(t);case FC.resourceTypeSlug:return FC.createFromEntity(t);case sE.resourceTypeSlug:return sE.createFromEntity(t);case eE.resourceTypeSlug:return eE.createFromEntity(t);case PC.resourceTypeSlug:return PC.createFromEntity(t);case nE.resourceTypeSlug:return nE.createFromEntity(t);default:throw new Error("No ViewModel has been found for the resource type.")}}};class iE extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.initEventHandlers(),this.createInputRef()}get defaultState(){return{resourceViewModel:null,originalName:null,originalResourceType:null,originalSecret:null,ResourceType:null,errors:new Y,hasAlreadyBeenValidated:!1,isPasswordDictionaryCheckRequested:!0,isPasswordDictionaryCheckServiceAvailable:!0,passwordInDictionary:!1,passwordEntropy:null,generatorSettings:null,isSecretDecrypting:!0,processing:!1}}initEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleOpenGenerator=this.handleOpenGenerator.bind(this),this.handleGeneratePasswordButtonClick=this.handleGeneratePasswordButtonClick.bind(this),this.handleDescriptionToggle=this.handleDescriptionToggle.bind(this),this.handleTotpClick=this.handleTotpClick.bind(this),this.handleDeleteTotpClick=this.handleDeleteTotpClick.bind(this),this.applyTotp=this.applyTotp.bind(this),this.save=this.save.bind(this),this.rejectEditionConfirmation=this.rejectEditionConfirmation.bind(this)}createInputRef(){this.nameInputRef=a.createRef(),this.passwordInputRef=a.createRef()}async componentDidMount(){this.props.passwordExpiryContext.findSettings(),this.initializeResourceViewModel(),await this.props.passwordPoliciesContext.findPolicies(),this.initPwnedPasswordService(),this.initPasswordGeneratorConfiguration()}componentDidUpdate(e){this.handleLastGeneratedPasswordChanged(e.resourcePasswordGeneratorContext.lastGeneratedPassword)}initPwnedPasswordService(){const e=this.props.passwordPoliciesContext.shouldRunDictionaryCheck();e&&(this.pownedService=new ti(this.props.context.port)),this.setState({isPasswordDictionaryCheckRequested:e})}initPasswordGeneratorConfiguration(){this.setState({generatorSettings:this.props.resourcePasswordGeneratorContext.getSettings()})}initializeResourceViewModel(){const e=this.props.resourceTypes.getFirstById(this.props.resource.resource_type_id),t=rE.createFromResourceTypeAndEntityDto(e,this.props.resource);this.setState({resourceViewModel:t,originalName:t.name,originalResourceType:e,resourceType:e},this.initializeSecret)}async initializeSecret(){let e;try{e=await this.props.context.port.request("passbolt.secret.find-by-resource-id",this.props.resource.id)}catch(e){this.handleClose()}const t=this.state.resourceViewModel.updateSecret(e),s=ei(t.password);this.setState({isSecretDecrypting:!1,originalSecret:e,passwordEntropy:s,resourceViewModel:t})}handleLastGeneratedPasswordChanged(e){const t=this.props.resourcePasswordGeneratorContext.lastGeneratedPassword;if(!t)return;if(e===this.props.resourcePasswordGeneratorContext.consumeLastGeneratedPassword())return;const s=ei(t),a=this.props.resourcePasswordGeneratorContext.getSettings(),n=this.state.resourceViewModel.cloneWithMutation("password",t);this.setState({resourceViewModel:n,generatorSettings:a,passwordEntropy:s,passwordInDictionary:!1})}get mustEncryptDescription(){return!this.state.resourceViewModel.isDescriptionUnencrypted()}async handleFormSubmit(e){if(e.preventDefault(),this.state.processing)return;this.setState({hasAlreadyBeenValidated:!0}),await this.toggleProcessing();const t=this.validate();if(t.hasErrors())return await this.toggleProcessing(),void this.focusFirstFieldError(t);this.isMinimumRequiredEntropyReached()?await this.isPasswordInDictionary()?this.handlePasswordInDictionary():await this.save():this.handlePasswordMinimumEntropyNotReached()}handlePasswordMinimumEntropyNotReached(){const e={operation:$b,rule:Yb,resourceName:this.state.resourceViewModel.name,onConfirm:this.save,onReject:this.rejectEditionConfirmation};this.props.dialogContext.open(Xb,e)}handlePasswordInDictionary(){this.setState({passwordInDictionary:!0});const e={operation:$b,rule:Zb,resourceName:this.state.resourceViewModel.name,onConfirm:this.save,onReject:this.rejectEditionConfirmation};this.props.dialogContext.open(Xb,e)}async rejectEditionConfirmation(){await this.toggleProcessing(),this.passwordInputRef.current.focus()}async save(){try{const e=await this.updateResource();await this.handleSaveSuccess(e)}catch(e){await this.toggleProcessing(),this.handleSaveError(e)}}async toggleProcessing(){const e=this.state.processing;return new Promise((t=>{this.setState({processing:!e},t())}))}validate(){const e=this.state.resourceViewModel.validate(DC.EDIT_MODE);return this.setState({errors:e}),e}isMinimumRequiredEntropyReached(){return this.state.passwordEntropy&&this.state.passwordEntropy>=60}async isPasswordInDictionary(){if(!this.state.isPasswordDictionaryCheckRequested||!this.state.isPasswordDictionaryCheckServiceAvailable)return!1;const{isPwnedServiceAvailable:e,inDictionary:t}=await this.pownedService.evaluateSecret(this.state.resourceViewModel.password);return e?t:(this.setState({isPasswordDictionaryCheckServiceAvailable:!1}),!1)}async updateResource(){if(!this.state.resourceViewModel.areSecretsDifferent(this.state.originalSecret))return void await this.props.context.port.request("passbolt.resources.update",this.state.resourceViewModel.toResourceDto(),null);let e=this.state.resourceViewModel;this.shouldUpdateExpirationDate()&&(e=this.state.resourceViewModel.cloneWithMutation("expired",this.getResourceExpirationDate()));const t=e.toResourceDto(),s=this.state.resourceViewModel.toSecretDto();await this.props.context.port.request("passbolt.resources.update",t,s)}shouldUpdateExpirationDate(){const e=this.props.passwordExpiryContext.getSettings();return!!e?.automatic_update&&this.state.resourceViewModel.password!==this.state.originalSecret.password}getResourceExpirationDate(){const e=this.props.passwordExpiryContext.getSettings();return null==e.default_expiry_period?null:We.c9.utc().plus({days:e.default_expiry_period}).toISO()}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The password has been updated successfully")),this.props.resourceWorkspaceContext.onResourceEdited(),this.handleClose()}handleSaveError(e){"UserAbortsOperationError"!==e.name&&(console.error(e),this.handleError(e))}handleError(e){this.props.dialogContext.open(we,{error:e})}focusFirstFieldError(e){e.hasError("name")?this.nameInputRef.current.focus():e.hasError("password")&&this.passwordInputRef.current.focus()}handleInputChange(e){const t=e.target,s=t.name,a=t.value||null,n={resourceViewModel:this.state.resourceViewModel.cloneWithMutation(s,a)};"password"===s&&(n.passwordInDictionary=!1,n.passwordEntropy=a?.length?ei(a):null),this.state.hasAlreadyBeenValidated&&(n.errors=n.resourceViewModel.validate(DC.EDIT_MODE)),this.setState(n)}isFieldMaxSizeReached(e){const t=this.state.resourceViewModel.constructor.getSchema();return void 0!==t.properties[e]?.maxLength&&this.state.resourceViewModel[e]?.length>=t.properties[e].maxLength}handleGeneratePasswordButtonClick(){if(this.hasAllInputDisabled())return;const e=Qr(this.state.generatorSettings),t=ei(e),s=this.state.resourceViewModel.cloneWithMutation("password",e);this.setState({resourceViewModel:s,passwordEntropy:t,passwordInDictionary:!1}),this.isPasswordInDictionary(e)}handleOpenGenerator(){this.props.dialogContext.open(yb)}handleTotpClick(){const e=this.state.resourceViewModel.totp,t=e?Tb:Db,s=this.applyTotp;this.props.workflowContext.start(Gb,{mode:t,totp:e,onApply:s})}handleDeleteTotpClick(){let e;this.state.resourceType.isV5()?e=this.props.resourceTypes.getFirstBySlug(Mg):this.state.resourceType.isV4()&&(e=this.props.resourceTypes.getFirstBySlug(Tg));const t={...this.state.resourceViewModel,resource_type_id:e.id},s=rE.createFromResourceTypeAndResourceViewModelDto(e,t);this.setState({resourceViewModel:s,resourceType:e})}applyTotp(e){let t;this.state.resourceType.isV5()?t=this.props.resourceTypes.getFirstBySlug(Fg):this.state.resourceType.isV4()&&(t=this.props.resourceTypes.getFirstBySlug(Pg));const s={...this.state.resourceViewModel,resource_type_id:t.id,totp:e},a=rE.createFromResourceTypeAndResourceViewModelDto(t,s);this.setState({resourceViewModel:a,resourceType:t})}async handleClose(){await this.props.resourcePasswordGeneratorContext.resetSecretGeneratorSettings(),this.props.onClose()}async handleDescriptionToggle(){if(null===this.state.originalResourceType)return!1;if(!this.state.originalResourceType.isPasswordString())return!1;if(!this.state.resourceViewModel.canToggleDescription())return;let e;this.state.originalResourceType.isV5()?e=this.state.resourceViewModel.isDescriptionUnencrypted()?this.props.resourceTypes.getFirstBySlug(Mg):this.props.resourceTypes.getFirstBySlug(Ug):this.state.originalResourceType.isV4()&&(e=this.state.resourceViewModel.isDescriptionUnencrypted()?this.props.resourceTypes.getFirstBySlug(Tg):this.props.resourceTypes.getFirstBySlug(Dg));const t={...this.state.resourceViewModel,resource_type_id:e.id},s=new rE.createFromResourceTypeAndResourceViewModelDto(e,t);this.setState({resourceViewModel:s,resourceType:e})}getPasswordInputPlaceholder(){return this.state.isSecretDecrypting?this.translate("Decrypting"):this.translate("Password")}getDescriptionPlaceholder(){return this.state.isSecretDecrypting&&this.mustEncryptDescription?this.translate("Decrypting"):this.translate("Description")}hasAllInputDisabled(){return this.state.processing}isPasswordDisabled(){return this.state.isSecretDecrypting}isDescriptionDisabled(){return this.state.isSecretDecrypting&&!this.state.resourceViewModel.isDescriptionUnencrypted()}get canUsePasswordGenerator(){return this.props.context.siteSettings.canIUse("passwordGenerator")}get canUseTotp(){return this.props.context.siteSettings.canIUse("totpResourceTypes")}get hasTotp(){return Boolean(this.state.resourceViewModel.totp)}get translate(){return this.props.t}render(){if(null===this.state.resourceViewModel)return null;const e=this.state.errors.hasError("name","required"),t=this.state.errors.hasError("password","required"),s=this.isFieldMaxSizeReached("name"),n=this.isFieldMaxSizeReached("uri"),r=this.isFieldMaxSizeReached("username"),i=this.isFieldMaxSizeReached("password"),o=this.isFieldMaxSizeReached("description"),l=this.state.resourceViewModel,c=this.state.passwordInDictionary?0:this.state.passwordEntropy;return a.createElement(ve,{title:this.translate("Edit resource"),subtitle:this.state.originalName,className:"edit-password-dialog",disabled:this.hasAllInputDisabled(),onClose:this.handleClose},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input text required ${e?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",{htmlFor:"edit-password-form-name"},a.createElement(w.x6,null,"Name"),s&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"edit-password-form-name",name:"name",type:"text",value:l.name||"",onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),ref:this.nameInputRef,className:"required fluid",maxLength:"255",required:"required",autoComplete:"off",autoFocus:!0}),e&&a.createElement("div",{className:"name error-message"},a.createElement(w.x6,null,"A name is required.")),s&&a.createElement("div",{className:"name warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",a.createElement(w.x6,null,"this is the maximum size for this field, make sure your data was not truncated"))),a.createElement("div",{className:"input text} "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",{htmlFor:"edit-password-form-uri"},a.createElement(w.x6,null,"URI"),n&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"edit-password-form-uri",name:"uri",className:"fluid",maxLength:"1024",type:"text",autoComplete:"off",value:l.uri||"",onChange:this.handleInputChange,placeholder:this.translate("URI"),disabled:this.hasAllInputDisabled()}),n&&a.createElement("div",{className:"uri warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",a.createElement(w.x6,null,"this is the maximum size for this field, make sure your data was not truncated"))),a.createElement("div",{className:"input text "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",{htmlFor:"edit-password-form-username"},a.createElement(w.x6,null,"Username"),r&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"edit-password-form-username",name:"username",type:"text",className:"fluid",maxLength:"255",autoComplete:"off",value:l.username||"",onChange:this.handleInputChange,placeholder:this.translate("Username"),disabled:this.hasAllInputDisabled()}),r&&a.createElement("div",{className:"username warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",a.createElement(w.x6,null,"this is the maximum size for this field, make sure your data was not truncated"))),a.createElement("div",{className:`input-password-wrapper input required ${t?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},a.createElement("label",{htmlFor:"edit-password-form-password"},a.createElement(w.x6,null,"Password"),i&&a.createElement(ge,{name:"exclamation"})),a.createElement("div",{className:"password-button-inline"},a.createElement(ma,{id:"edit-password-form-password",name:"password",value:l.password||"",placeholder:this.getPasswordInputPlaceholder(),onChange:this.handleInputChange,autoComplete:"new-password",disabled:this.hasAllInputDisabled()||this.isPasswordDisabled(),preview:!0,inputRef:this.passwordInputRef}),a.createElement("button",{type:"button",onClick:this.handleGeneratePasswordButtonClick,className:"password-generate button-icon "+(this.hasAllInputDisabled()||this.isPasswordDisabled()?"disabled":"")},a.createElement(ge,{name:"dice",big:!0}),a.createElement("span",{className:"visually-hidden"},a.createElement(w.x6,null,"Generate"))),this.canUsePasswordGenerator&&a.createElement("button",{type:"button",onClick:this.handleOpenGenerator,className:"password-generator button-icon "+(this.hasAllInputDisabled()||this.isPasswordDisabled()?"disabled":"")},a.createElement(ge,{name:"settings",big:!0}),a.createElement("span",{className:"visually-hidden"},a.createElement(w.x6,null,"Open generator")))),a.createElement(Xm,{entropy:c,error:t}),t&&a.createElement("div",{className:"password error-message"},a.createElement(w.x6,null,"A password is required.")),i&&a.createElement("div",{className:"password warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",a.createElement(w.x6,null,"this is the maximum size for this field, make sure your data was not truncated"))),a.createElement("div",{className:"input textarea "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",{htmlFor:"edit-password-form-description"},a.createElement(w.x6,null,"Description"),o&&a.createElement(ge,{name:"exclamation"}),!this.mustEncryptDescription&&a.createElement("button",{type:"button",onClick:this.handleDescriptionToggle,className:"link inline lock-toggle"},a.createElement(fe,{message:this.translate("Do not store sensitive data or click here to enable encryption for the description field.")},a.createElement(ge,{name:"lock-open"}))),this.mustEncryptDescription&&a.createElement("button",{type:"button",onClick:this.handleDescriptionToggle,className:"link inline lock-toggle"},a.createElement(fe,{message:this.translate("The description content will be encrypted.")},a.createElement(ge,{name:"lock"})))),a.createElement("textarea",{id:"edit-password-form-description",name:"description",maxLength:"10000",className:"required","aria-required":!0,placeholder:this.getDescriptionPlaceholder(),value:l.description||"",disabled:this.hasAllInputDisabled()||this.isDescriptionDisabled(),onChange:this.handleInputChange}),o&&a.createElement("div",{className:"description warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",a.createElement(w.x6,null,"this is the maximum size for this field, make sure your data was not truncated"))),this.canUseTotp&&!this.hasTotp&&a.createElement("div",{className:"input input-totp-wrapper"},a.createElement("button",{type:"button",className:"add-totp link no-border link-icon",onClick:this.handleTotpClick,disabled:this.state.processing},a.createElement(ge,{name:"plus-circle"}),a.createElement("span",{className:"link-label"},a.createElement(w.x6,null,"Add TOTP")))),this.canUseTotp&&this.hasTotp&&a.createElement("div",{className:"input input-totp-wrapper "+(this.state.processing?"disabled":"")},a.createElement("label",{htmlFor:"create-password-form-totp"},a.createElement(w.x6,null,"TOTP")),a.createElement("div",{className:"input-wrapper-inline totp"},a.createElement(xg,{totp:l.totp}),a.createElement("button",{type:"button",className:"edit-totp button-icon",onClick:this.handleTotpClick,disabled:this.state.processing},a.createElement(ge,{name:"edit",big:!0})),a.createElement("button",{type:"button",className:"delete-totp button-icon",onClick:this.handleDeleteTotpClick,disabled:this.state.processing},a.createElement(ge,{name:"trash",big:!0}))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled()||this.isPasswordDisabled()||this.isDescriptionDisabled(),onClick:this.handleClose}),a.createElement(Vt,{value:this.translate("Save"),disabled:this.hasAllInputDisabled()||this.isPasswordDisabled()||this.isDescriptionDisabled(),processing:this.hasAllInputDisabled()}))))}}iE.propTypes={resource:l().object,context:l().any,onClose:l().func,resourcePasswordGeneratorContext:l().any,resourceWorkspaceContext:l().any,resourceTypes:l().instanceOf(tC),actionFeedbackContext:l().any,dialogContext:l().any,t:l().func,passwordPoliciesContext:l().object,workflowContext:l().any,passwordExpiryContext:l().object};const oE=h(wt(iC(Ut(_e(Dt(k(ra(ht((0,w.CI)("common")(iE)))))))))),lE="yyyy-MM-dd",cE={AUTOMATIC:"automatic",MANUAL:"manual",NEVER:"never"};class dE{constructor(e={}){this.passwordExpiryDurationInDay=e.passwordExpiryDurationInDay,this.passwordExpiryDate=e.passwordExpiryDate,this.passwordExpiryOption=e.passwordExpiryOption}static getSchema(){return{type:"object",required:["passwordExpiryDurationInDay","passwordExpiryDate","passwordExpiryOption"],properties:{passwordExpiryDurationInDay:{type:"integer",maximum:999,minimum:-99},passwordExpiryDate:{type:"string",pattern:/\d{4}-\d{2}-\d{2}/},passwordExpiryOption:{type:"string",enum:cE}}}}static fromEntityDto(e){const t=e?.default_expiry_period||90,s=We.c9.utc().plus({days:t}).toFormat(lE);return new dE({passwordExpiryDurationInDay:t,passwordExpiryDate:s,passwordExpiryOption:cE.AUTOMATIC})}toDto(){return{passwordExpiryDurationInDay:this.passwordExpiryDurationInDay,passwordExpiryDate:this.passwordExpiryDate,passwordExpiryOption:this.passwordExpiryOption}}getExpiryDateToApply(){let e;switch(this.passwordExpiryOption){case cE.AUTOMATIC:e=We.c9.utc().plus({days:this.passwordExpiryDurationInDay});break;case cE.MANUAL:e=We.c9.fromFormat(this.passwordExpiryDate,lE,{zone:"UTC"});break;case cE.NEVER:e=null;break;default:throw new Error(`Unsuppored Password Expiry dialog option '${this.passwordExpiryOption}'`)}return it(e)}mapResourcesToPasswordExpiryDto(e){const t=this.getExpiryDateToApply();return e.map((e=>({id:e.id,expired:t})))}validate(){switch(this.passwordExpiryOption){case cE.AUTOMATIC:return this.validatePasswordExpiryDurationInDay();case cE.MANUAL:return this.validatePasswordExpiryDate()}return new Y}validatePasswordExpiryDurationInDay(){const e=dE.getSchema();try{se.validateProp("passwordExpiryDurationInDay",this.passwordExpiryDurationInDay,e.properties.passwordExpiryDurationInDay)}catch(e){if(!(e instanceof Y))throw e;return e}return new Y}validatePasswordExpiryDate(){const e=dE.getSchema();try{se.validateProp("passwordExpiryDate",this.passwordExpiryDate,e.properties.passwordExpiryDate)}catch(e){if(!(e instanceof Y))throw e;return e}return new Y}}const hE=dE;class mE extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){const e=this.props.passwordExpiryContext.getSettings();return{hasBeenSubmitted:!1,processing:!1,passwordExpiryDialogViewModel:hE.fromEntityDto(e),errors:null}}bindCallbacks(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleDurationInDayChange=this.handleDurationInDayChange.bind(this),this.handleDuration=this.handleDurationInDayChange.bind(this),this.handleDateChange=this.handleDateChange.bind(this),this.selectExpiryOption=this.selectExpiryOption.bind(this)}handleDurationInDayChange(e){if(e.target.value.toString().length>3)return void e.preventDefault();const t={passwordExpiryDurationInDay:parseInt(e.target.value,10)};this.selectExpiryOption(cE.AUTOMATIC,t)}handleDateChange(e){const t={passwordExpiryDate:e.target.value};this.selectExpiryOption(cE.MANUAL,t)}selectExpiryOption(e,t={}){const s=Object.assign({},this.state.passwordExpiryDialogViewModel.toDto(),t,{passwordExpiryOption:e}),a={passwordExpiryDialogViewModel:new hE(s)};this.state.hasBeenSubmitted?(a.errors=this.state.passwordExpiryDialogViewModel.validate(),this.setState(a)):this.setState(a)}hasAllInputDisabled(){return this.state.processing}handleError(e){this.props.dialogContext.open(we,{error:e})}displayErrors(e){return a.createElement("span",{className:"error-message"},Object.keys(e).map((t=>a.createElement(a.Fragment,null,e[t]))))}get resourceCount(){return this.props.resources.length}async handleFormSubmit(e){e.preventDefault();const t=this.state.passwordExpiryDialogViewModel.validate();if(this.setState({hasBeenSubmitted:!0,errors:t}),t.hasErrors())return;this.setState({processing:!0});const s=this.state.passwordExpiryDialogViewModel.mapResourcesToPasswordExpiryDto(this.props.resources);try{await this.props.context.port.request("passbolt.resources.set-expiration-date",s),this.props.actionFeedbackContext.displaySuccess(this.props.t("The expiry date of the selected resource has been updated.",{count:this.props.resources.length})),this.setState({processing:!1}),this.props.onClose()}catch(e){this.handleError(e),this.setState({processing:!1})}}render(){const e=this.state.passwordExpiryDialogViewModel,t=this.hasAllInputDisabled(),s=this.state.errors;return a.createElement(ve,{className:"password-expiry-dialog",title:this.props.t("Set an expiry date",{count:this.resourceCount}),onClose:this.props.onClose,disabled:t},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:"radiolist-alt"},a.createElement("div",{className:"input radio"},a.createElement("label",{htmlFor:"passwordExpiryOptionAutomatic"},a.createElement("input",{type:"radio",value:cE.AUTOMATIC,onChange:()=>this.selectExpiryOption(cE.AUTOMATIC),name:"passwordExpiryOption",checked:e.passwordExpiryOption===cE.AUTOMATIC,id:"passwordExpiryOptionAutomatic",disabled:this.hasAllInputDisabled()}),a.createElement("span",null,a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Set the date automatically:")),a.createElement("span",{className:"info"},a.createElement("input",{type:"number",value:e.passwordExpiryDurationInDay,id:"passwordExpiryDateAutomatic",name:"passwordExpiryDurationInDay",onChange:this.handleDurationInDayChange,disabled:this.hasAllInputDisabled(),min:"1",max:"365"}),a.createElement(w.x6,null,"days from now.")),s?.hasError("passwordExpiryDurationInDay")&&this.displayErrors(s.getError("passwordExpiryDurationInDay"))))),a.createElement("div",{className:"input radio"},a.createElement("label",{htmlFor:"passwordExpiryOptionManual"},a.createElement("input",{type:"radio",value:cE.MANUAL,onChange:()=>this.selectExpiryOption(cE.MANUAL),name:"passwordExpiryOption",checked:e.passwordExpiryOption===cE.MANUAL,id:"passwordExpiryOptionManual",disabled:this.hasAllInputDisabled()}),a.createElement("span",null,a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Set the date manually:")),a.createElement("span",{className:"info date-wrapper"},a.createElement("div",{className:"button-inline"},a.createElement("input",{className:"fluid form-element "+(e.passwordExpiryDate?"":"empty"),type:"date",value:e.passwordExpiryDate,id:"passwordExpiryDateManual",name:"passwordExpiryDate",onChange:this.handleDateChange,disabled:this.hasAllInputDisabled()}),a.createElement(ge,{name:"calendar"}))),s?.hasError("passwordExpiryDate")&&this.displayErrors(s.getError("passwordExpiryDate"))))),a.createElement("div",{className:"input radio"},a.createElement("label",{htmlFor:"passwordExpiryOptionNever"},a.createElement("input",{type:"radio",value:cE.NEVER,onChange:()=>this.selectExpiryOption(cE.NEVER),name:"passwordExpiryOption",checked:e.passwordExpiryOption===cE.NEVER,id:"passwordExpiryOptionNever",disabled:this.hasAllInputDisabled()}),a.createElement("span",null,a.createElement("span",{className:"name"},a.createElement(w.x6,null,"Not set")),a.createElement("span",{className:"info"},a.createElement(w.x6,{count:this.resourceCount},"This resource does not need an expiry date."))))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:t,onClick:this.props.onClose}),a.createElement(Vt,{disabled:t,processing:this.state.processing,value:this.props.t("Save")}))))}}mE.propTypes={context:l().any,onClose:l().func,passwordExpiryContext:l().object,dialogContext:l().object,actionFeedbackContext:l().object,t:l().func,resources:l().arrayOf(Object)};const pE=h(k(ht(_e((0,w.CI)("common")(mE)))));class uE extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.createRefs(),this.bindCallbacks()}get defaultState(){return{moreMenuOpen:!1,viewColumnsMenuOpen:!1}}createRefs(){this.moreMenuRef=a.createRef(),this.viewColumnsMenuRef=a.createRef()}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDocumentContextualMenuEvent=this.handleDocumentContextualMenuEvent.bind(this),this.handleDocumentDragStartEvent=this.handleDocumentDragStartEvent.bind(this),this.handleMoreClickEvent=this.handleMoreClickEvent.bind(this),this.handleDeleteClickEvent=this.handleDeleteClickEvent.bind(this),this.handleEditClickEvent=this.handleEditClickEvent.bind(this),this.handleCopyPermalinkClickEvent=this.handleCopyPermalinkClickEvent.bind(this),this.handleCopyUsernameClickEvent=this.handleCopyUsernameClickEvent.bind(this),this.handleShareClickEvent=this.handleShareClickEvent.bind(this),this.handleCopySecretClickEvent=this.handleCopySecretClickEvent.bind(this),this.handleCopyTotpClickEvent=this.handleCopyTotpClickEvent.bind(this),this.handleViewDetailClickEvent=this.handleViewDetailClickEvent.bind(this),this.handleExportClickEvent=this.handleExportClickEvent.bind(this),this.handleViewColumnsClickEvent=this.handleViewColumnsClickEvent.bind(this),this.handleOnChangeColumnView=this.handleOnChangeColumnView.bind(this),this.handleMarkAsExpiredClick=this.handleMarkAsExpiredClick.bind(this),this.handleSetExpiryDateClickEvent=this.handleSetExpiryDateClickEvent.bind(this)}componentDidMount(){document.addEventListener("click",this.handleDocumentClickEvent),document.addEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.addEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent),document.removeEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.removeEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}handleDocumentClickEvent(e){this.moreMenuRef.current.contains(e.target)?this.handleCloseViewColumnsMenu():this.viewColumnsMenuRef.current.contains(e.target)?this.handleCloseMoreMenu():(this.handleCloseMoreMenu(),this.handleCloseViewColumnsMenu())}handleDocumentContextualMenuEvent(e){this.moreMenuRef.current.contains(e.target)?this.handleCloseViewColumnsMenu():this.viewColumnsMenuRef.current.contains(e.target)?this.handleCloseMoreMenu():(this.handleCloseMoreMenu(),this.handleCloseViewColumnsMenu())}handleDocumentDragStartEvent(){this.handleCloseMoreMenu(),this.handleCloseViewColumnsMenu()}handleMoreClickEvent(){const e=!this.state.moreMenuOpen;this.setState({moreMenuOpen:e})}handleDeleteClickEvent(){this.props.dialogContext.open(ub,{resources:this.selectedResources}),this.handleCloseMoreMenu()}async handleMarkAsExpiredClick(){this.handleCloseMoreMenu();const e=this.selectedResources.map((e=>({id:e.id,expired:it(We.c9.utc())})));try{await this.props.context.port.request("passbolt.resources.set-expiration-date",e),await this.props.actionFeedbackContext.displaySuccess(this.translate("The resource has been marked as expired.",{count:e.length}))}catch(t){await this.props.actionFeedbackContext.displayError(this.translate("Unable to mark the resource as expired.",{count:e.length}))}finally{this.handleCloseMoreMenu()}}handleEditClickEvent(){this.isStandaloneTotpResource?this.props.workflowContext.start(Gb,{mode:Ab}):this.props.dialogContext.open(oE,{resource:this.selectedResources[0]})}async handleShareClickEvent(){const e=this.selectedResources.map((e=>e.id));await this.props.context.setContext({shareDialogProps:{resourcesIds:e}}),this.props.dialogContext.open(Bu)}async handleCopyPermalinkClickEvent(){this.handleCloseMoreMenu();const e=`${this.props.context.userSettings.getTrustedDomain()}/app/passwords/view/${this.selectedResources[0].id}`;await va.copy(e,this.props.context.port),this.displaySuccessNotification(this.translate("The permalink has been copied to clipboard"))}async handleCopyUsernameClickEvent(){this.handleCloseMoreMenu(),await va.copy(this.selectedResources[0].metadata.username,this.props.context.port),this.displaySuccessNotification(this.translate("The username has been copied to clipboard"))}decryptResourceSecret(){return this.props.context.port.request("passbolt.secret.find-by-resource-id",this.selectedResources[0].id)}async copyPasswordToClipboard(e){const t=e.password;if(!t)throw new TypeError(this.translate("The password is empty."));await va.copy(t,this.props.context.port)}async handleCopySecretClickEvent(){let e;this.handleCloseMoreMenu(),this.props.progressContext.open(this.props.t("Decrypting secret"));try{e=await this.decryptResourceSecret()}catch(e){"UserAbortsOperationError"!==e.name&&this.props.actionFeedbackContext.displayError(e.message)}this.props.progressContext.close(),e?.password?.length?(await this.copyPasswordToClipboard(e),this.props.resourceWorkspaceContext.onResourceCopied(),this.props.actionFeedbackContext.displaySuccess(this.translate("The secret has been copied to clipboard"))):await this.props.actionFeedbackContext.displayError(this.translate("The password is empty and cannot be copied to clipboard."))}async handleCopyTotpClickEvent(){let e,t;this.handleCloseMoreMenu(),this.props.progressContext.open(this.props.t("Decrypting secret"));try{e=await this.decryptResourceSecret()}catch(e){"UserAbortsOperationError"!==e.name&&this.props.actionFeedbackContext.displayError(e.message)}if(this.props.progressContext.close(),e)if(e.totp){try{t=kg.generate(e.totp)}catch(e){return void await this.props.actionFeedbackContext.displayError(this.translate("Unable to copy the TOTP"))}await va.copy(t,this.props.context.port),await this.props.resourceWorkspaceContext.onResourceCopied(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The TOTP has been copied to clipboard"))}else await this.props.actionFeedbackContext.displayError(this.translate("The TOTP is empty and cannot be copied to clipboard."))}handleSetExpiryDateClickEvent(){this.handleCloseMoreMenu(),this.props.dialogContext.open(pE,{resources:this.selectedResources})}handleExportClickEvent(){this.export()}handleViewColumnsClickEvent(){const e=!this.state.viewColumnsMenuOpen;this.setState({viewColumnsMenuOpen:e})}handleOnChangeColumnView(e){const t=e.target;this.props.resourceWorkspaceContext.onChangeColumnView(t.id,t.checked)}displaySuccessNotification(e){this.props.actionFeedbackContext.displaySuccess(e)}handleCloseMoreMenu(){this.setState({moreMenuOpen:!1})}handleCloseViewColumnsMenu(){this.setState({viewColumnsMenuOpen:!1})}get filteredResources(){return this.props.resourceWorkspaceContext.filteredResources}get selectedResources(){return this.props.resourceWorkspaceContext.selectedResources}hasResourceSelected(){return this.selectedResources.length>0}hasOneResourceSelected(){return 1===this.selectedResources.length}hasMultipleResourcesSelected(){return this.selectedResources.length>1}canUpdate(){return this.hasResourceSelected()&&this.selectedResources.every((e=>e.permission.type>=7))}canShare(){return this.hasResourceSelected()&&this.selectedResources.every((e=>15===e.permission.type))}canExport(){return this.props.context.siteSettings.canIUse("export")&&this.props.rbacContext.canIUseUiAction(_)}canCopyUsername(){return this.hasOneResourceSelected()&&this.selectedResources[0].metadata?.username}canCopyPassword(){return this.hasOneResourceSelected()&&this.isPasswordResources}get isPasswordResources(){return this.props.resourceTypes.getFirstById(this.selectedResources[0].resource_type_id)?.hasPassword()}canCopyTotp(){return this.hasOneResourceSelected()&&this.isTotpResources}get isTotpResources(){return this.props.resourceTypes.getFirstById(this.selectedResources[0].resource_type_id)?.hasTotp()}get isStandaloneTotpResource(){return this.props.resourceTypes.getFirstById(this.selectedResources[0].resource_type_id).isStandaloneTotp()}hasMoreActionAllowed(){return!!this.hasOneResourceSelected()||!!this.hasMultipleResourcesSelected&&this.canUpdate()}handleViewDetailClickEvent(){this.props.resourceWorkspaceContext.onLockDetail()}hasLockDetail(){return this.props.resourceWorkspaceContext.lockDisplayDetail}async export(){const e=this.selectedResources.map((e=>e.id));await this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds:e}),await this.props.dialogContext.open(Zu)}get columnsResourceSetting(){return this.props.resourceWorkspaceContext.columnsResourceSetting?.items}get canUseTotp(){return this.props.context.siteSettings.canIUse("totpResourceTypes")}get canOverridePasswordExpiry(){const e=this.props.passwordExpiryContext.getSettings();return this.props.passwordExpiryContext.isFeatureEnabled()&&e?.policy_override}get translate(){return this.props.t}render(){const e=this.props.rbacContext.canIUseUiAction(A),t=this.props.rbacContext.canIUseUiAction(M);return a.createElement("div",{className:"col2_3 actions-wrapper"},a.createElement("div",{className:"actions"},a.createElement("ul",null,e&&a.createElement("li",{id:"password_action"},a.createElement("button",{type:"button",disabled:!this.hasOneResourceSelected(),onClick:this.handleCopySecretClickEvent},a.createElement(ge,{name:"copy-to-clipboard"}),a.createElement("span",null,a.createElement(w.x6,null,"Copy")))),a.createElement("li",{id:"edit_action"},a.createElement("button",{type:"button",disabled:!this.hasOneResourceSelected()||!this.canUpdate(),onClick:this.handleEditClickEvent},a.createElement(ge,{name:"edit"}),a.createElement("span",null,a.createElement(w.x6,null,"Edit")))),t&&a.createElement("li",{id:"share_action"},a.createElement("button",{type:"button",disabled:!this.hasResourceSelected()||!this.canShare(),onClick:this.handleShareClickEvent},a.createElement(ge,{name:"share"}),a.createElement("span",null,a.createElement(w.x6,null,"Share")))),this.canExport()&&a.createElement("li",{id:"export_action"},a.createElement("button",{type:"button",disabled:!this.hasResourceSelected(),onClick:this.handleExportClickEvent},a.createElement(ge,{name:"download"}),a.createElement("span",null,a.createElement(w.x6,null,"Export")))),a.createElement("li",null,a.createElement("div",{className:"dropdown",ref:this.moreMenuRef},a.createElement("button",{type:"button",className:"more "+(this.state.moreMenuOpen?"open":""),disabled:!this.hasMoreActionAllowed(),onClick:this.handleMoreClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"More")),a.createElement(ge,{name:"caret-down"})),a.createElement("ul",{className:"dropdown-content menu right "+(this.state.moreMenuOpen?"visible":"")},a.createElement("li",{id:"username_action"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",disabled:!this.canCopyUsername(),className:"link no-border",onClick:this.handleCopyUsernameClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Copy username to clipboard"))))))),e&&a.createElement("li",{id:"secret_action"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",disabled:!this.canCopyPassword(),className:"link no-border",onClick:this.handleCopySecretClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Copy password to clipboard"))))))),this.canUseTotp&&a.createElement("li",{id:"totp_action"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",disabled:!this.canCopyTotp(),className:"link no-border",onClick:this.handleCopyTotpClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Copy TOTP to clipboard"))))))),a.createElement("li",{id:"permalink_action",className:"separator-after"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",disabled:!this.hasOneResourceSelected(),className:"link no-border",onClick:this.handleCopyPermalinkClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Copy permalink to clipboard"))))))),this.canOverridePasswordExpiry&&a.createElement(a.Fragment,null,a.createElement("li",{id:"set_expiry_date_action"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",disabled:!this.canUpdate(),className:"link no-border",onClick:this.handleSetExpiryDateClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Set expiry date"))))))),a.createElement("li",{id:"mark_as_expired_action",className:"ready separator-after"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",disabled:!this.canUpdate(),className:"link no-border",onClick:this.handleMarkAsExpiredClick},a.createElement("span",null,a.createElement(w.x6,null,"Mark as expired")))))))),a.createElement("li",{id:"delete_action"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",disabled:!this.canUpdate(),className:"link no-border",onClick:this.handleDeleteClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Delete")))))))))))),a.createElement("div",{className:"actions secondary"},a.createElement("ul",null,a.createElement("li",null,a.createElement("div",{className:"dropdown",ref:this.viewColumnsMenuRef},a.createElement("button",{type:"button",className:"button-action-icon "+(this.state.viewColumnsMenuOpen?"open":""),onClick:this.handleViewColumnsClickEvent},a.createElement(ge,{name:"columns"}),a.createElement(ge,{name:"caret-down"})),a.createElement("ul",{className:"dropdown-content menu left "+(this.state.viewColumnsMenuOpen?"visible":"")},this.columnsResourceSetting?.map((e=>a.createElement("li",{key:e.id,className:"uri"===e.id?"separator-after":""},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("div",{className:"input checkbox"},a.createElement("input",{type:"checkbox",checked:e.show,id:e.id,name:e.id,onChange:this.handleOnChangeColumnView}),a.createElement("label",{htmlFor:e.id},a.createElement(w.x6,null,e.label)))))))))))),a.createElement("li",null,a.createElement("button",{type:"button",className:"button-toggle button-action-icon info "+(this.hasLockDetail()?"selected":""),onClick:this.handleViewDetailClickEvent},a.createElement(ge,{name:"info-circle",big:!0}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"View detail")))))))}}uE.propTypes={context:l().any,rbacContext:l().any,actionFeedbackContext:l().any,resourceWorkspaceContext:l().any,resourceTypes:l().instanceOf(tC),passwordExpiryContext:l().object,dialogContext:l().any,progressContext:l().any,workflowContext:l().any,t:l().func};const gE=h(pe(k(ra(Iu(ht(wt(iC(_e((0,w.CI)("common")(uE))))))))));class CE extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{showErrorsDetails:!1}}bindHandlers(){this.handleClose=this.handleClose.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleErrorDetailsToggle=this.handleErrorDetailsToggle.bind(this),this.handleReferenceFolderClick=this.handleReferenceFolderClick.bind(this),this.handleReferenceTagClick=this.handleReferenceTagClick.bind(this)}handleClose(){this.close()}handleSubmit(e){e.preventDefault(),this.close()}handleErrorDetailsToggle(){this.toggleErrorDetails()}handleReferenceFolderClick(){const e=this.resultReferenceFolder;this.props.history.push(`/app/folders/view/${e.id}`),this.close()}handleReferenceTagClick(){const e=this.resultReferenceTag,t={type:xt.TAG,payload:{tag:e}};this.props.history.push({pathname:"/app/passwords",state:{filter:t}}),this.close()}close(){this.props.onClose()}toggleErrorDetails(){this.setState({showErrorDetails:!this.state.showErrorDetails})}get canIUseTags(){return this.props.context.siteSettings.canIUse("tags")}get canIUseFolders(){return this.props.context.siteSettings.canIUse("folders")}get result(){return this.props.resourceWorkspaceContext.resourceFileImportResult||{}}get resultCreated(){return this.result.created||{}}get resultCreatedFoldersCount(){return this.resultCreated.foldersCount||0}get resultCreatedResourcesCount(){return this.resultCreated.resourcesCount||0}get resultReferences(){return this.result.references||{}}get resultReferenceTag(){return this.resultReferences.tag||null}get resultReferenceFolder(){return this.resultReferences.folder||null}get resultErrors(){return this.result.errors||{}}get resultErrorsResources(){return this.resultErrors.resources||[]}get resultErrorsFolders(){return this.resultErrors.folders||[]}get hasErrorsResources(){return this.resultErrorsResources.length>0}get resultHasErrorsFolders(){return this.resultErrorsFolders.length>0}get resultHasErrors(){return this.hasErrorsResources||this.resultHasErrorsFolders}get formatErrors(){let e="";return this.hasErrorsResources&&(e+=`----------------------------\n${this.translate("Resources errors")}\n----------------------------\n${JSON.stringify(this.resultErrorsResources,null,4)}\n\n`),this.resultHasErrorsFolders&&(e+=`----------------------------\n${this.translate("Folder errors")}\n----------------------------\n${JSON.stringify(this.resultErrorsFolders,null,4)}`),e}get translate(){return this.props.t}render(){const e=this.resultCreatedResourcesCount+this.resultErrorsResources.length,t=this.resultCreatedFoldersCount+this.resultErrorsFolders.length;return a.createElement(ve,{title:this.resultHasErrors?this.translate("Something went wrong!"):this.translate("Import success!"),onClose:this.handleClose},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("div",{className:"form-content"},!this.hasErrorsResources&&a.createElement("p",null,a.createElement("strong",null,this.translate("{{count}} password has been imported successfully.",{count:this.resultCreatedResourcesCount}))),this.hasErrorsResources&&a.createElement(a.Fragment,null,a.createElement("p",{className:"error inline-error"},a.createElement(w.x6,null,"There was an issue while importing passwords:")),a.createElement("p",null,a.createElement(w.x6,{count:e},a.createElement("strong",null,{numberResourceSuccess:this.resultCreatedResourcesCount}," out of ",{count:this.resultCreatedResourcesCount+this.resultErrorsResources.length})," password has been imported."))),this.canIUseFolders&&!this.resultHasErrorsFolders&&a.createElement("p",null,a.createElement("strong",null,this.translate("{{count}} folder has been imported successfully.",{count:this.resultCreatedFoldersCount}))),this.canIUseFolders&&this.resultHasErrorsFolders&&a.createElement(a.Fragment,null,a.createElement("p",{className:"error inline-error"},a.createElement(w.x6,null,"There was an issue while importing folders:")),a.createElement("p",null,a.createElement(w.x6,{count:t},a.createElement("strong",null,{numberFolderSuccess:this.resultCreatedFoldersCount}," out of ",{count:this.resultCreatedFoldersCount+this.resultErrorsFolders.length})," folder has been imported."))),this.canIUseFolders&&this.resultReferenceFolder&&a.createElement("p",null,a.createElement(w.x6,null,"You can find these newly imported passwords in the folder ",a.createElement("button",{type:"button",className:"link inline no-border",onClick:this.handleReferenceFolderClick},{folderName:this.resultReferenceFolder.name}),".")),this.canIUseTags&&!this.resultReferenceFolder&&this.resultReferenceTag&&a.createElement("p",null,a.createElement(w.x6,null,"You can find these newly imported passwords under the tag ",a.createElement("button",{type:"button",className:"link inline no-border",onClick:this.handleReferenceTagClick},{tagName:this.resultReferenceTag.slug}),".")),this.resultHasErrors&&a.createElement("div",{className:"accordion error-details"},a.createElement("div",{className:"accordion-header"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleErrorDetailsToggle},a.createElement(w.x6,null,"Error details"),a.createElement(ge,{name:this.state.showErrorDetails?"caret-up":"caret-down"}))),this.state.showErrorDetails&&a.createElement("div",{className:"accordion-content"},a.createElement("div",{className:"input text"},a.createElement("label",{htmlFor:"js_field_debug",className:"visuallyhidden"},a.createElement(w.x6,null,"Error details")),a.createElement("textarea",{id:"js_field_debug",defaultValue:`${this.formatErrors}`,readOnly:!0}))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(Vt,{value:this.translate("Ok")}))))}}CE.propTypes={context:l().any,onClose:l().func,actionFeedbackContext:l().any,history:l().object,resourceWorkspaceContext:l().any,t:l().func};const bE=(0,i.y)(h(wt(_e((0,w.CI)("common")(CE)))));class EE extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers(),this.createReferences()}get defaultState(){return{processing:!1,password:"",keyFile:null,errors:{}}}bindHandlers(){this.handleSelectFile=this.handleSelectFile.bind(this),this.handleFileSelected=this.handleFileSelected.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}createReferences(){this.fileUploaderRef=a.createRef(),this.passwordInputRef=a.createRef()}get selectedFilename(){return this.state.keyFile?this.state.keyFile.name:""}get fileToImport(){return this.props.resourceWorkspaceContext.resourceFileToImport}handleSelectFile(){this.fileUploaderRef.current.click()}async handleFileSelected(e){const[t]=e.target.files;await this.setState({keyFile:t})}handleInputChange(e){const t=e.target,s=t.value,a=t.name;this.setState({[a]:s})}handleCancel(){this.props.resourceWorkspaceContext.onResourceFileToImport(null),this.close()}async handleSubmit(e){e.preventDefault(),this.state.processing||this.import()}readFile(){if(!this.state.keyFile)return;const e=new FileReader;return new Promise(((t,s)=>{e.onloadend=e=>{try{const s=e.target.result.split(",")[1];t(s)}catch(e){s(e)}},e.readAsDataURL(this.state.keyFile)}))}async import(){const e=this.fileToImport,t=e.b64FileContent,s=e.fileType,a=this.state.password,n=await this.readFile(),r=Object.assign({},e.options,{credentials:{password:a,keyfile:n}});this.toggleProcessing(),await this.resetValidation();try{const e=await this.props.context.port.request("passbolt.import-resources.import-file",s,t,r);this.handleImportSuccess(e)}catch(e){this.handleImportError(e)}}async resetValidation(){await this.setState({errors:{}})}async handleImportSuccess(e){await this.props.resourceWorkspaceContext.onResourceFileImportResult(e),await this.props.resourceWorkspaceContext.onResourceFileToImport(null),await this.props.dialogContext.open(bE),this.close()}handleImportError(e){const t="UserAbortsOperationError"===e.name,s="InvalidKey"===e.code||"InvalidArg"===e.code;if(this.toggleProcessing(),t);else if(s)this.setState({errors:{invalidPasswordOrKeyfile:!0}});else{const t={error:e};this.props.dialogContext.open(we,t)}}close(){this.props.onClose()}async toggleProcessing(){const e=this.state.processing;return this.setState({processing:!e})}hasAllInputDisabled(){return this.state.processing}get translate(){return this.props.t}render(){const e=this.state.errors,t=e&&e.invalidPasswordOrKeyfile;return a.createElement(ve,{title:this.translate("Enter the password and/or key file"),className:"import-password-dialog",disabled:this.hasAllInputDisabled(),onClose:this.handleCancel},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("div",{className:"form-content"},a.createElement("div",{className:"input-password-wrapper input "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("label",{htmlFor:"import-password-dialog-password"},a.createElement(w.x6,null,"Keepass password")),a.createElement(ma,{id:"import-password-dialog-password",name:"password",autoComplete:"off",value:this.state.password,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),placeholder:this.translate("Passphrase"),preview:!0,inputRef:this.passwordInputRef})),a.createElement("div",{className:"input file "+(this.hasAllInputDisabled()?"disabled":"")},a.createElement("input",{type:"file",id:"dialog-import-passwords",ref:this.fileUploaderRef,onChange:this.handleFileSelected}),a.createElement("label",{htmlFor:"dialog-import-passwords"},a.createElement(w.x6,null,"Keepass key file (optional)")),a.createElement("div",{className:"input-file-inline"},a.createElement("input",{type:"text",placeholder:this.translate("No key file selected"),disabled:!0,value:this.selectedFilename}),a.createElement("button",{className:"button primary",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleSelectFile},a.createElement("span",null,a.createElement(w.x6,null,"Choose a file")))),t&&a.createElement("div",{className:"error-message"},a.createElement(w.x6,null,"Cannot decrypt the file, invalid credentials.")))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleCancel}),a.createElement(Vt,{value:this.translate("Continue import"),disabled:this.hasAllInputDisabled(),processing:this.state.processing}))))}}EE.propTypes={context:l().any,onClose:l().func,actionFeedbackContext:l().any,dialogContext:l().any,resourceWorkspaceContext:l().any,t:l().func};const fE=h(wt(_e(k((0,w.CI)("common")(EE)))));class yE extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindHandlers(),this.createReferences()}get defaultState(){return{processing:!1,fileToImport:null,options:{folders:this.canUseFolders,tags:this.canUseTags},errors:{}}}get canUseFolders(){return this.props.context.siteSettings.canIUse("folders")&&this.props.rbacContext.canIUseUiAction(R)}get canUseTags(){return this.props.context.siteSettings.canIUse("tags")&&this.props.rbacContext.canIUseUiAction(U)}bindHandlers(){this.handleSelectFile=this.handleSelectFile.bind(this),this.handleFileSelected=this.handleFileSelected.bind(this),this.handleImportOptionFoldersChanged=this.handleImportOptionFoldersChanged.bind(this),this.handleImportOptionTagsChanged=this.handleImportOptionTagsChanged.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}createReferences(){this.fileUploaderRef=a.createRef()}async componentDidUpdate(e){await this.handleFileToImportChange(e.resourceWorkspaceContext.resourceFileToImport)}hasSubmitButtonDisabled(){return!this.state.fileToImport||this.state.processing}hasAllInputDisabled(){return this.state.processing}get selectedFilename(){return this.state.fileToImport?this.state.fileToImport.name:""}get selectedFileExtension(){const e=this.state.fileToImport.name.split(".");return e[e.length-1]}handleSelectFile(){this.fileUploaderRef.current.click()}async handleFileSelected(e){const[t]=e.target.files;await this.resetValidation(),this.setState({fileToImport:t})}async handleImportOptionFoldersChanged(){const e=Object.assign({},this.state.options,{folders:!this.state.options.folders});await this.setState({options:e})}async handleImportOptionTagsChanged(){const e=Object.assign({},this.state.options,{tags:!this.state.options.tags});await this.setState({options:e})}async handleFileToImportChange(e){e&&!this.props.resourceWorkspaceContext.resourceFileToImport&&this.close()}handleCancel(){this.props.resourceWorkspaceContext.onResourceFileToImport(null),this.close()}handleSubmit(e){e.preventDefault(),this.state.processing||this.import()}async toggleProcessing(){const e=this.state.processing;return this.setState({processing:!e})}close(){this.props.onClose()}toBinary(e){const t=new Uint16Array(e.length);for(let s=0;s<t.length;s++)t[s]=e.charCodeAt(s);return new Uint8Array(t.buffer).reduce(((e,t)=>e+String.fromCharCode(t)),"")}readFileCsv(){const e=new FileReader;return new Promise(((t,s)=>{e.onloadend=e=>{try{const s=this.toBinary(e.target.result),a=btoa(s);t(a)}catch(e){s(e)}},e.readAsText(this.state.fileToImport)}))}readFileKdbx(){const e=new FileReader;return new Promise(((t,s)=>{e.onloadend=e=>{try{const s=e.target.result.split(",")[1];t(s)}catch(e){s(e)}},e.readAsDataURL(this.state.fileToImport)}))}async import(){const e=this.selectedFileExtension,t="kdbx"===e?await this.readFileKdbx():await this.readFileCsv(),s=Object.assign({},this.state.options,{credentials:{password:null,keyFile:null}});await this.toggleProcessing();try{const a=await this.props.context.port.request("passbolt.import-resources.import-file",e,t,s);this.handleImportSuccess(a)}catch(s){this.handleImportError(s,t,e)}}async handleImportSuccess(e){await this.props.resourceWorkspaceContext.onResourceFileImportResult(e),await this.props.resourceWorkspaceContext.onResourceFileToImport(null),await this.props.dialogContext.open(bE),this.toggleProcessing(),this.close()}handleImportError(e,t,s){const a="UserAbortsOperationError"===e.name,n="KdbxError"===e.name&&"BadSignature"===e.code,r="KdbxError"===e.name&&("InvalidKey"===e.code||"InvalidArg"===e.code),i="FileFormatError"===e.name;if(this.toggleProcessing(),a);else if(r)this.importProtectedKeepassFile(t,s),this.close();else if(n)this.setState({errors:{invalidKdbxFile:this.translate("Keepass file format not recognized")}});else if(i)this.setState({errors:{invalidCsvFile:e.message}});else{const t={error:e};this.props.dialogContext.open(we,t)}}async importProtectedKeepassFile(e,t){const s={b64FileContent:e,fileType:t,options:this.state.options};await this.props.resourceWorkspaceContext.onResourceFileToImport(s),this.props.dialogContext.open(fE)}async resetValidation(){await this.setState({errors:{}})}get translate(){return this.props.t}render(){const e=this.state.errors,t=e&&e.invalidCsvFile,s=e&&e.invalidKdbxFile,n=t||s?"errors":"";return a.createElement(ve,{title:this.translate("Import passwords"),className:"import-password-dialog",disabled:this.hasAllInputDisabled(),onClose:this.handleCancel},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input file ${this.hasAllInputDisabled()?"disabled":""} ${n}`},a.createElement("input",{type:"file",id:"dialog-import-passwords",ref:this.fileUploaderRef,onChange:this.handleFileSelected,accept:".csv, .kdbx, .kdb"}),a.createElement("label",{htmlFor:"dialog-import-passwords"},a.createElement(w.x6,null,"Select a file to import"),"",a.createElement(fe,{message:this.translate("csv exports from browsers (safari, chrome, edge, brave, opera, vivaldi, firefox, waterfox), keepassx, logmeonce, lastpass, 1password, nordpass, dashlane and bitwarden are supported")},"(",a.createElement("button",{type:"button",className:"link inline"},"csv")),"",this.translate("or"),"",a.createElement(fe,{message:this.translate("kdbx files are files generated by keepass v2.x")},a.createElement("button",{type:"button",className:"link inline"},"kdbx"),")")),a.createElement("div",{className:"input-file-inline"},a.createElement("input",{type:"text",disabled:!0,placeholder:this.translate("No file selected"),defaultValue:this.selectedFilename}),a.createElement("button",{className:"button primary",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleSelectFile},a.createElement("span",null,a.createElement(w.x6,null,"Choose a file")))),t&&a.createElement("div",{className:"error-message"},this.state.errors.invalidCsvFile),s&&a.createElement("div",{className:"error-message"},this.state.errors.invalidKdbxFile)),this.canUseTags&&a.createElement("div",{className:"input checkbox"},a.createElement("input",{id:"dialog-import-passwords-import-tags",type:"checkbox",checked:this.state.options.tags,disabled:this.hasAllInputDisabled(),onChange:this.handleImportOptionTagsChanged}),a.createElement("label",{htmlFor:"dialog-import-passwords-import-tags"},a.createElement(w.x6,null,"Add a unique import tag to passwords"))),this.canUseFolders&&a.createElement("div",{className:"input checkbox"},a.createElement("input",{id:"dialog-import-passwords-import-folders",type:"checkbox",checked:this.state.options.folders,disabled:this.hasAllInputDisabled(),onChange:this.handleImportOptionFoldersChanged}),a.createElement("label",{htmlFor:"dialog-import-passwords-import-folders"},a.createElement(w.x6,null,"Import folders")))),a.createElement("div",{className:"warning message",id:"import-resources-warning-message"},a.createElement("p",null,a.createElement("span",null,a.createElement(w.x6,null,"Checkout the ",a.createElement("a",{href:"https://www.passbolt.com/docs/user/basic-features/browser/import/",target:"_blank",rel:"noopener noreferrer"},"documentation")," to see what information is supported.")))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.hasAllInputDisabled(),onClick:this.handleCancel}),a.createElement(Vt,{value:this.translate("Import"),disabled:this.hasSubmitButtonDisabled(),processing:this.state.processing}))))}}yE.propTypes={context:l().any,rbacContext:l().any,onClose:l().func,actionFeedbackContext:l().any,dialogContext:l().any,resourceWorkspaceContext:l().any,t:l().func};const vE=h(pe(wt(_e(k((0,w.CI)("common")(yE))))));class kE extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.initEventHandlers(),this.createInputRef()}get defaultState(){return{resourceViewModel:null,errors:new Y,hasAlreadyBeenValidated:!1,isPasswordDictionaryCheckRequested:!0,isPasswordDictionaryCheckServiceAvailable:!0,passwordInDictionary:!1,passwordEntropy:null,generatorSettings:null,processing:!1}}initEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleGeneratePasswordButtonClick=this.handleGeneratePasswordButtonClick.bind(this),this.handleDescriptionToggle=this.handleDescriptionToggle.bind(this),this.handleOpenGenerator=this.handleOpenGenerator.bind(this),this.handleLastGeneratedPasswordChanged=this.handleLastGeneratedPasswordChanged.bind(this),this.handleTotpClick=this.handleTotpClick.bind(this),this.applyTotp=this.applyTotp.bind(this),this.handleDeleteTotpClick=this.handleDeleteTotpClick.bind(this),this.save=this.save.bind(this),this.rejectCreationConfirmation=this.rejectCreationConfirmation.bind(this)}createInputRef(){this.nameInputRef=a.createRef(),this.passwordInputRef=a.createRef()}async componentDidMount(){this.initResourceViewModel(),await Promise.all([this.props.passwordPoliciesContext.findPolicies(),this.props.passwordExpiryContext.findSettings()]),this.initPwnedPasswordService(),this.initPasswordGeneratorConfiguration()}componentDidUpdate(e){this.handleLastGeneratedPasswordChanged(e.resourcePasswordGeneratorContext.lastGeneratedPassword)}initResourceViewModel(){const e={folder_parent_id:this.props.folderParentId,resource_type_id:this.props.resourceType.id},t=this.getResourceExpirationDate();void 0!==t&&(e.expired=t);const s=rE.createFromResourceTypeAndResourceViewModelDto(this.props.resourceType,e);this.setState({resourceViewModel:s})}initPwnedPasswordService(){const e=this.props.passwordPoliciesContext.shouldRunDictionaryCheck();e&&(this.pownedService=new ti(this.props.context.port)),this.setState({isPasswordDictionaryCheckRequested:e})}initPasswordGeneratorConfiguration(){this.setState({generatorSettings:this.props.resourcePasswordGeneratorContext.getSettings()})}handleLastGeneratedPasswordChanged(e){const t=this.props.resourcePasswordGeneratorContext.lastGeneratedPassword;if(!t)return;if(e===this.props.resourcePasswordGeneratorContext.consumeLastGeneratedPassword())return;const s=ei(t),a=this.props.resourcePasswordGeneratorContext.getSettings(),n=this.state.resourceViewModel.cloneWithMutation("password",t);this.setState({resourceViewModel:n,generatorSettings:a,passwordEntropy:s,passwordInDictionary:!1})}async handleFormSubmit(e){if(e.preventDefault(),this.state.processing)return;this.setState({hasAlreadyBeenValidated:!0}),await this.toggleProcessing();const t=this.validate();if(t.hasErrors())return await this.toggleProcessing(),void this.focusFirstFieldError(t);this.isMinimumRequiredEntropyReached()?await this.isPasswordInDictionary()?this.handlePasswordInDictionary():await this.save():this.handlePasswordMinimumEntropyNotReached()}handlePasswordMinimumEntropyNotReached(){const e={operation:Kb,rule:Yb,resourceName:this.state.resourceViewModel.name,onConfirm:this.save,onReject:this.rejectCreationConfirmation};this.props.dialogContext.open(Xb,e)}handlePasswordInDictionary(){this.setState({passwordInDictionary:!0});const e={operation:Kb,rule:Zb,resourceName:this.state.resourceViewModel.name,onConfirm:this.save,onReject:this.rejectCreationConfirmation};this.props.dialogContext.open(Xb,e)}async rejectCreationConfirmation(){await this.toggleProcessing(),this.passwordInputRef.current.focus()}async save(){try{const e=await this.createResource();await this.handleSaveSuccess(e)}catch(e){await this.toggleProcessing(),this.handleSaveError(e)}}async toggleProcessing(){const e=this.state.processing;return new Promise((t=>{this.setState({processing:!e},t())}))}validate(){const e=this.state.resourceViewModel.validate(DC.CREATE_MODE);return this.setState({errors:e}),e}isMinimumRequiredEntropyReached(){return this.state.passwordEntropy&&this.state.passwordEntropy>=60}async isPasswordInDictionary(){if(!this.state.isPasswordDictionaryCheckRequested||!this.state.isPasswordDictionaryCheckServiceAvailable)return!1;const{isPwnedServiceAvailable:e,inDictionary:t}=await this.pownedService.evaluateSecret(this.state.resourceViewModel.password);return e?t:(this.setState({isPasswordDictionaryCheckServiceAvailable:!1}),!1)}createResource(){const e=this.state.resourceViewModel.toResourceDto(),t=this.state.resourceViewModel.toSecretDto();return this.props.context.port.request("passbolt.resources.create",e,t)}getResourceExpirationDate(){if(!this.props.passwordExpiryContext.isFeatureEnabled())return;const e=this.props.passwordExpiryContext.getSettings();return e?.automatic_update?null==e.default_expiry_period?null:We.c9.utc().plus({days:e.default_expiry_period}).toISO():void 0}async handleSaveSuccess(e){await this.props.actionFeedbackContext.displaySuccess(this.translate("The password has been added successfully")),this.props.history.push(`/app/passwords/view/${e.id}`),this.handleClose()}handleSaveError(e){"UserAbortsOperationError"!==e.name&&(console.error(e),this.handleError(e))}handleError(e){this.props.dialogContext.open(we,{error:e})}focusFirstFieldError(e){e.hasError("name")?this.nameInputRef.current.focus():e.hasError("password")&&this.passwordInputRef.current.focus()}handleInputChange(e){const t=e.target,s=t.name,a=t.value||null,n={resourceViewModel:this.state.resourceViewModel.cloneWithMutation(s,a)};"password"===s&&(n.passwordInDictionary=!1,n.passwordEntropy=a?.length?ei(a):null),this.state.hasAlreadyBeenValidated&&(n.errors=n.resourceViewModel.validate()),this.setState(n)}isFieldMaxSizeReached(e){const t=this.state.resourceViewModel.constructor.getSchema();return void 0!==t.properties[e]?.maxLength&&this.state.resourceViewModel[e]?.length>=t.properties[e].maxLength}handleGeneratePasswordButtonClick(){if(this.state.processing)return;const e=Qr(this.state.generatorSettings),t=ei(e),s=this.state.resourceViewModel.cloneWithMutation("password",e);this.setState({resourceViewModel:s,passwordError:"",passwordInDictionary:!1,passwordEntropy:t})}handleOpenGenerator(){this.props.dialogContext.open(yb)}handleTotpClick(){const e=this.state.resourceViewModel.totp,t=e?Tb:Db,s=this.applyTotp;this.props.workflowContext.start(Gb,{mode:t,totp:e,onApply:s})}handleDeleteTotpClick(){const e={...this.state.resourceViewModel,resource_type_id:this.props.resourceType.id},t=rE.createFromResourceTypeAndResourceViewModelDto(this.props.resourceType,e);this.setState({resourceViewModel:t})}applyTotp(e){let t;this.props.resourceType.isV5()?t=this.props.resourceTypes.getFirstBySlug(Fg):this.props.resourceType.isV4()&&(t=this.props.resourceTypes.getFirstBySlug(Pg));const s={...this.state.resourceViewModel,resource_type_id:t.id,totp:e},a=rE.createFromResourceTypeAndResourceViewModelDto(t,s);this.setState({resourceViewModel:a})}async handleClose(){await this.props.resourcePasswordGeneratorContext.resetSecretGeneratorSettings(),this.props.onClose()}handleDescriptionToggle(){const e=this.state.resourceViewModel;if(!e.canToggleDescription())return;const t=e.isDescriptionUnencrypted()?MC:PC,s=this.props.resourceTypes.getFirstBySlug(t.resourceTypeSlug),a=new t({...this.state.resourceViewModel,resource_type_id:s.id});this.setState({resourceViewModel:a})}get canUsePasswordGenerator(){return this.props.context.siteSettings.canIUse("passwordGenerator")}get canUseTotp(){return this.props.context.siteSettings.canIUse("totpResourceTypes")}get hasTotp(){return Boolean(this.state.resourceViewModel.totp)}get translate(){return this.props.t}render(){if(null===this.state.resourceViewModel)return null;const e=this.state.errors.hasError("name","required"),t=this.state.errors.hasError("password","required"),s=this.isFieldMaxSizeReached("name"),n=this.isFieldMaxSizeReached("uri"),r=this.isFieldMaxSizeReached("username"),i=this.isFieldMaxSizeReached("password"),o=this.isFieldMaxSizeReached("description"),l=this.state.resourceViewModel,c=this.state.passwordInDictionary?0:this.state.passwordEntropy;return a.createElement(ve,{title:this.translate("Create a password"),className:"create-password-dialog",disabled:this.state.processing,onClose:this.handleClose},a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},a.createElement("div",{className:"form-content"},a.createElement("div",{className:`input text required ${e?"error":""} ${this.state.processing?"disabled":""}`},a.createElement("label",{htmlFor:"create-password-form-name"},a.createElement(w.x6,null,"Name"),s&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"create-password-form-name",name:"name",type:"text",value:l.name||"",onChange:this.handleInputChange,disabled:this.state.processing,ref:this.nameInputRef,className:"required fluid",maxLength:"255",required:"required",autoComplete:"off",autoFocus:!0,placeholder:this.translate("Name")}),e&&a.createElement("div",{className:"name error-message"},a.createElement(w.x6,null,"A name is required.")),s&&a.createElement("div",{className:"name warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",a.createElement(w.x6,null,"this is the maximum size for this field, make sure your data was not truncated"))),a.createElement("div",{className:"input text "+(this.state.processing?"disabled":"")},a.createElement("label",{htmlFor:"create-password-form-uri"},a.createElement(w.x6,null,"URI"),n&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"create-password-form-uri",name:"uri",className:"fluid",maxLength:"1024",type:"text",autoComplete:"off",value:l.uri||"",onChange:this.handleInputChange,placeholder:this.translate("URI"),disabled:this.state.processing}),n&&a.createElement("div",{className:"uri warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",a.createElement(w.x6,null,"this is the maximum size for this field, make sure your data was not truncated"))),a.createElement("div",{className:"input text "+(this.state.processing?"disabled":"")},a.createElement("label",{htmlFor:"create-password-form-username"},a.createElement(w.x6,null,"Username"),r&&a.createElement(ge,{name:"exclamation"})),a.createElement("input",{id:"create-password-form-username",name:"username",type:"text",className:"fluid",maxLength:"255",autoComplete:"off",value:l.username||"",onChange:this.handleInputChange,placeholder:this.translate("Username"),disabled:this.state.processing}),r&&a.createElement("div",{className:"username warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",a.createElement(w.x6,null,"this is the maximum size for this field, make sure your data was not truncated"))),a.createElement("div",{className:`input-password-wrapper input required ${t?"error":""} ${this.state.processing?"disabled":""}`},a.createElement("label",{htmlFor:"create-password-form-password"},a.createElement(w.x6,null,"Password"),i&&a.createElement(ge,{name:"exclamation"})),a.createElement("div",{className:"password-button-inline"},a.createElement(ma,{id:"create-password-form-password",name:"password",autoComplete:"new-password",placeholder:this.translate("Password"),preview:!0,value:l.password||"",onChange:this.handleInputChange,disabled:this.state.processing,inputRef:this.passwordInputRef}),a.createElement("button",{type:"button",onClick:this.handleGeneratePasswordButtonClick,className:"password-generate button-icon "+(this.state.processing?"disabled":"")},a.createElement(ge,{name:"dice",big:!0}),a.createElement("span",{className:"visually-hidden"},a.createElement(w.x6,null,"Generate"))),this.canUsePasswordGenerator&&a.createElement("button",{type:"button",onClick:this.handleOpenGenerator,className:"password-generator button-icon "+(this.state.processing?"disabled":"")},a.createElement(ge,{name:"settings",big:!0}),a.createElement("span",{className:"visually-hidden"},a.createElement(w.x6,null,"Open generator")))),a.createElement(Xm,{entropy:c,error:t}),t&&a.createElement("div",{className:"password error-message"},a.createElement(w.x6,null,"A password is required.")),i&&a.createElement("div",{className:"password warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",a.createElement(w.x6,null,"this is the maximum size for this field, make sure your data was not truncated"))),a.createElement("div",{className:"input textarea "+(this.state.processing?"disabled":"")},a.createElement("label",{htmlFor:"create-password-form-description"},a.createElement(w.x6,null,"Description"),o&&a.createElement(ge,{name:"exclamation"}),a.createElement("button",{type:"button",onClick:this.handleDescriptionToggle,className:"link inline lock-toggle"},l.isDescriptionUnencrypted()?a.createElement(fe,{message:this.translate("Do not store sensitive data or click here to enable encryption for the description field.")},a.createElement(ge,{name:"lock-open"})):a.createElement(fe,{message:this.translate("The description content will be encrypted.")},a.createElement(ge,{name:"lock"})))),a.createElement("textarea",{id:"create-password-form-description",name:"description",maxLength:"10000",placeholder:this.translate("Add a description"),value:l.description||"",disabled:this.state.processing,onChange:this.handleInputChange}),o&&a.createElement("div",{className:"description warning-message"},a.createElement("strong",null,a.createElement(w.x6,null,"Warning:"))," ",a.createElement(w.x6,null,"this is the maximum size for this field, make sure your data was not truncated"))),this.canUseTotp&&!this.hasTotp&&a.createElement("div",{className:"input input-totp-wrapper"},a.createElement("button",{type:"button",className:"add-totp link no-border link-icon",onClick:this.handleTotpClick,disabled:this.state.processing},a.createElement(ge,{name:"plus-circle"}),a.createElement("span",{className:"link-label"},a.createElement(w.x6,null,"Add TOTP")))),this.canUseTotp&&this.hasTotp&&a.createElement("div",{className:"input input-totp-wrapper "+(this.state.processing?"disabled":"")},a.createElement("label",{htmlFor:"create-password-form-totp"},a.createElement(w.x6,null,"TOTP")),a.createElement("div",{className:"input-wrapper-inline totp"},a.createElement(xg,{totp:l.totp}),a.createElement("button",{type:"button",className:"edit-totp button-icon",onClick:this.handleTotpClick,disabled:this.state.processing},a.createElement(ge,{name:"edit",big:!0})),a.createElement("button",{type:"button",className:"delete-totp button-icon",onClick:this.handleDeleteTotpClick,disabled:this.state.processing},a.createElement(ge,{name:"trash",big:!0}))))),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement(qt,{disabled:this.state.processing,onClick:this.handleClose}),a.createElement(Vt,{value:this.translate("Create"),disabled:this.state.processing,processing:this.state.processing}))))}}kE.propTypes={context:l().any,history:l().object,folderParentId:l().string,onClose:l().func,resourcePasswordGeneratorContext:l().any,passwordExpiryContext:l().object,actionFeedbackContext:l().any,dialogContext:l().any,resourceTypes:l().instanceOf(tC),resourceType:l().instanceOf(Qg),t:l().func,passwordPoliciesContext:l().object,workflowContext:l().any};const wE=(0,i.y)(h(Dt(iC(ht(_e(Ut(k(ra((0,w.CI)("common")(kE))))))))));class xE extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{createMenuOpen:!1}}createRefs(){this.createMenuRef=a.createRef()}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDocumentContextualMenuEvent=this.handleDocumentContextualMenuEvent.bind(this),this.handleDocumentDragStartEvent=this.handleDocumentDragStartEvent.bind(this),this.handleCreateClickEvent=this.handleCreateClickEvent.bind(this),this.handleCreateMenuPasswordClickEvent=this.handleCreateMenuPasswordClickEvent.bind(this),this.handleMenuCreateTotpClickEvent=this.handleMenuCreateTotpClickEvent.bind(this),this.handleMenuCreateFolderClickEvent=this.handleMenuCreateFolderClickEvent.bind(this),this.handleImportClickEvent=this.handleImportClickEvent.bind(this)}componentDidMount(){document.addEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.addEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.addEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.removeEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.removeEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}handleDocumentClickEvent(e){this.createMenuRef.current.contains(e.target)||this.handleCloseCreateMenu()}handleDocumentContextualMenuEvent(e){this.createMenuRef.current.contains(e.target)||this.handleCloseCreateMenu()}handleDocumentDragStartEvent(){this.handleCloseCreateMenu()}handleCreateClickEvent(){if(this.props.context.siteSettings.canIUse("folders")){const e=!this.state.createMenuOpen;this.setState({createMenuOpen:e})}else this.openPasswordCreateDialog()}handleCreateMenuPasswordClickEvent(){this.openPasswordCreateDialog(),this.handleCloseCreateMenu()}handleImportClickEvent(){this.props.dialogContext.open(vE)}openPasswordCreateDialog(){let e;this.props.metadataTypeSettings.isDefaultResourceTypeV5?e=this.props.resourceTypes.getFirstBySlug(Mg):this.props.metadataTypeSettings.isDefaultResourceTypeV4&&(e=this.props.resourceTypes.getFirstBySlug(Tg)),this.props.dialogContext.open(wE,{folderParentId:this.folderIdSelected,resourceType:e})}handleMenuCreateTotpClickEvent(){this.openStandaloneTotpCreateDialog(),this.handleCloseCreateMenu()}openStandaloneTotpCreateDialog(){let e;this.props.metadataTypeSettings.isDefaultResourceTypeV5?e=this.props.resourceTypes.getFirstBySlug(Lg):this.props.metadataTypeSettings.isDefaultResourceTypeV4&&(e=this.props.resourceTypes.getFirstBySlug(Ag)),this.props.workflowContext.start(Gb,{mode:Pb,folderParentId:this.folderIdSelected,resourceType:e})}handleMenuCreateFolderClickEvent(){this.openFolderCreateDialog(),this.handleCloseCreateMenu()}openFolderCreateDialog(){this.props.dialogContext.open(Pu,{folderParentId:this.folderIdSelected})}handleCloseCreateMenu(){this.setState({createMenuOpen:!1})}get folderSelected(){const e=this.props.resourceWorkspaceContext.filter;return e&&e.type===xt.FOLDER?e.payload.folder:null}get folderIdSelected(){return this.folderSelected&&this.folderSelected.id}canCreate(){return null===this.folderSelected||this.folderSelected.permission.type>=7}hasMetadataTypesSettings(){return Boolean(this.props.metadataTypeSettings)}canCreatePassword(){return this.props.metadataTypeSettings.isDefaultResourceTypeV5?this.props.resourceTypes?.hasOneWithSlug(Mg):!!this.props.metadataTypeSettings.isDefaultResourceTypeV4&&this.props.resourceTypes?.hasOneWithSlug(Tg)}canCreateStandaloneTotp(){return this.props.metadataTypeSettings.isDefaultResourceTypeV5?this.props.resourceTypes?.hasOneWithSlug(Lg):!!this.props.metadataTypeSettings.isDefaultResourceTypeV4&&this.props.resourceTypes?.hasOneWithSlug(Ag)}render(){const e=this.props.context.siteSettings.canIUse("import")&&this.props.rbacContext.canIUseUiAction(I),t=this.props.context.siteSettings.canIUse("folders")&&this.props.rbacContext.canIUseUiAction(R),s=this.props.context.siteSettings.canIUse("totpResourceTypes");return a.createElement(a.Fragment,null,a.createElement("div",{className:"dropdown",ref:this.createMenuRef},a.createElement("button",{type:"button",className:"create primary "+(this.state.createMenuOpen?"open":""),disabled:!this.canCreate(),onClick:this.handleCreateClickEvent},a.createElement(ge,{name:"add"}),a.createElement("span",null,a.createElement(w.x6,null,"Create"))),a.createElement("ul",{className:"dropdown-content menu right "+(this.state.createMenuOpen?"visible":"")},!this.hasMetadataTypesSettings()&&a.createElement(a.Fragment,null,a.createElement("li",{id:"password_action"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement(fe,{message:this.props.t("Loading metadata types settings")},a.createElement("button",{type:"button",className:"link no-border",disabled:!0},a.createElement("span",null,a.createElement(w.x6,null,"New password")))))))),s&&a.createElement("li",{id:"totp_action"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement(fe,{message:this.props.t("Loading metadata types settings")},a.createElement("button",{type:"button",className:"link no-border",disabled:!0},a.createElement("span",null,a.createElement(w.x6,null,"New TOTP"))))))))),this.hasMetadataTypesSettings()&&a.createElement(a.Fragment,null,this.canCreatePassword()&&a.createElement("li",{id:"password_action"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleCreateMenuPasswordClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"New password"))))))),s&&this.canCreateStandaloneTotp()&&a.createElement("li",{id:"totp_action"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleMenuCreateTotpClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"New TOTP")))))))),t&&a.createElement("li",{id:"folder_action"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleMenuCreateFolderClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"New folder"))))))))),e&&a.createElement("button",{type:"button",className:"import button-action-icon",onClick:this.handleImportClickEvent},a.createElement(ge,{name:"upload"}),a.createElement("span",{className:"visuallyhidden"},a.createElement(w.x6,null,"upload"))))}}xE.propTypes={context:l().any,rbacContext:l().any,dialogContext:l().any,resourceWorkspaceContext:l().any,resourceTypes:l().instanceOf(tC),metadataTypeSettings:l().instanceOf(_g),workflowContext:l().any,t:l().func};const SE=h(pe(k(ra(zb(iC(wt((0,w.CI)("common")(xE))))))));class NE extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{open:!0,groups:null,loading:!1}}async componentDidMount(){await this.loadGroupsData()}async loadGroupsData(){if(!this.state.loading){this.setState({loading:!0});const e=await this.props.context.port.request("passbolt.groups.find-my-groups");this.setState({groups:e,loading:!1})}}bindCallbacks(){this.handleTitleClickEvent=this.handleTitleClickEvent.bind(this),this.handleClickGroupEvent=this.handleClickGroupEvent.bind(this)}async handleTitleClickEvent(){const e=!this.state.open;this.setState({open:e}),e&&await this.loadGroupsData()}handleClickGroupEvent(e){const t={type:xt.GROUP,payload:{group:e}};this.props.history.push({pathname:"/app/passwords",state:{filter:t}})}isSelected(e){const t=this.props.resourceWorkspaceContext.filter;return t.type===xt.GROUP&&t.payload.group.id===e}hasGroup(){return this.groups&&this.groups.length>0}get groups(){return this.state.groups}get groupsSorted(){return this.groups.sort(((e,t)=>e.name.localeCompare(t.name)))}render(){return a.createElement(a.Fragment,null,this.hasGroup()&&a.createElement("div",{className:"navigation-secondary-tree navigation-secondary navigation-groups accordion"},a.createElement("ul",{className:"accordion-header"},a.createElement("li",{className:"node root "+(this.state.open?"open":"close")},a.createElement("div",{className:"row title",onClick:this.handleTitleClickEvent},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("h3",null,a.createElement("span",{className:"folders-label"},a.createElement("button",{type:"button",className:"link no-border"},a.createElement(a.Fragment,null,this.state.open&&a.createElement(ge,{name:"caret-down"}),!this.state.open&&a.createElement(ge,{name:"caret-right"})),a.createElement(w.x6,null,"Groups"))))))))),this.state.open&&a.createElement("div",{className:"accordion-content"},a.createElement("ul",{className:"tree ready"},this.groupsSorted.map((e=>a.createElement("li",{className:"node root group-item",key:e.id},a.createElement("div",{className:"row "+(this.isSelected(e.id)?"selected":""),onClick:()=>this.handleClickGroupEvent(e)},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",title:e.name},a.createElement(ge,{name:"users"}),a.createElement("span",{className:"ellipsis"},e.name))))))))))))}}NE.propTypes={context:l().any,resourceWorkspaceContext:l().any,history:l().object};const RE=(0,i.y)(h(wt((0,w.CI)("common")(NE))));class IE extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleEditClickEvent=this.handleEditClickEvent.bind(this),this.handleShareClickEvent=this.handleShareClickEvent.bind(this),this.handleUsernameClickEvent=this.handleUsernameClickEvent.bind(this),this.handleUriClickEvent=this.handleUriClickEvent.bind(this),this.handlePermalinkClickEvent=this.handlePermalinkClickEvent.bind(this),this.handlePasswordClickEvent=this.handlePasswordClickEvent.bind(this),this.handleTotpClickEvent=this.handleTotpClickEvent.bind(this),this.handleDeleteClickEvent=this.handleDeleteClickEvent.bind(this),this.handleGoToResourceUriClick=this.handleGoToResourceUriClick.bind(this),this.handleSetExpiryDateClick=this.handleSetExpiryDateClick.bind(this),this.handleMarkAsExpiredClick=this.handleMarkAsExpiredClick.bind(this)}handleEditClickEvent(){this.isStandaloneTotpResource?this.props.workflowContext.start(Gb,{mode:Ab}):this.props.dialogContext.open(oE,{resource:this.resource}),this.props.hide()}handleShareClickEvent(){const e=[this.resource.id];this.props.context.setContext({shareDialogProps:{resourcesIds:e}}),this.props.dialogContext.open(Bu),this.props.hide()}async handleUsernameClickEvent(){await va.copy(this.resource.metadata.username,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The username has been copied to clipboard")),this.props.hide()}async handleUriClickEvent(){await va.copy(this.resource.metadata.uris[0],this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The uri has been copied to clipboard")),this.props.hide()}async handlePermalinkClickEvent(){const e=`${this.props.context.userSettings.getTrustedDomain()}/app/passwords/view/${this.resource.id}`;await va.copy(e,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The permalink has been copied to clipboard")),this.props.hide()}decryptResourceSecret(){return this.props.context.port.request("passbolt.secret.find-by-resource-id",this.resource.id)}async copyPasswordToClipboard(e){const t=e.password;if(!t)throw new TypeError(this.translate("The password is empty."));await va.copy(t,this.props.context.port)}async handlePasswordClickEvent(){let e;this.props.hide(),this.props.progressContext.open(this.props.t("Decrypting secret"));try{e=await this.decryptResourceSecret()}catch(e){"UserAbortsOperationError"!==e.name&&this.props.actionFeedbackContext.displayError(e.message)}this.props.progressContext.close(),e?.password?.length?(await this.copyPasswordToClipboard(e),this.props.resourceWorkspaceContext.onResourceCopied(),this.props.actionFeedbackContext.displaySuccess(this.translate("The secret has been copied to clipboard"))):await this.props.actionFeedbackContext.displayError(this.translate("The password is empty and cannot be copied to clipboard."))}async handleTotpClickEvent(){let e,t;this.props.hide(),this.props.progressContext.open(this.props.t("Decrypting secret"));try{e=await this.decryptResourceSecret()}catch(e){"UserAbortsOperationError"!==e.name&&this.props.actionFeedbackContext.displayError(e.message)}if(this.props.progressContext.close(),e)if(e.totp){try{t=kg.generate(e.totp)}catch(e){return void await this.props.actionFeedbackContext.displayError(this.translate("Unable to copy the TOTP"))}await va.copy(t,this.props.context.port),await this.props.resourceWorkspaceContext.onResourceCopied(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The TOTP has been copied to clipboard"))}else await this.props.actionFeedbackContext.displayError(this.translate("The TOTP is empty and cannot be copied to clipboard."))}handleDeleteClickEvent(){const e=[this.resource];this.props.dialogContext.open(ub,{resources:e}),this.props.hide()}handleGoToResourceUriClick(){this.props.resourceWorkspaceContext.onGoToResourceUriRequested(this.resource.metadata.uris[0])}async handleMarkAsExpiredClick(){try{await this.props.context.port.request("passbolt.resources.set-expiration-date",[{id:this.resource.id,expired:it(We.c9.utc())}]),await this.props.actionFeedbackContext.displaySuccess(this.translate("The resource has been marked as expired.",{count:1}))}catch(e){await this.props.actionFeedbackContext.displayError(this.translate("Unable to mark the resource as expired.",{count:1}))}finally{this.props.hide()}}handleSetExpiryDateClick(){this.props.dialogContext.open(pE,{resources:[this.resource]}),this.props.hide()}get resource(){return this.props.resource}get safeUri(){return qe(this.resource.metadata.uris?.[0],{whiteListedProtocols:St,defaultProtocol:je.HTTPS})}canUpdate(){return this.resource.permission.type>=7}canShare(){return 15===this.resource.permission.type}canCopyUsername(){return this.resource.metadata?.username&&""!==this.resource.metadata.username}canCopyPassword(){return this.isPasswordResources}get isPasswordResources(){return this.props.resourceTypes?.getFirstById(this.resource.resource_type_id)?.hasPassword()}canCopyTotp(){return this.isTotpResources}get isTotpResources(){return this.props.resourceTypes?.getFirstById(this.resource.resource_type_id)?.hasTotp()}get isStandaloneTotpResource(){return this.props.resourceTypes?.getFirstById(this.resource.resource_type_id)?.isStandaloneTotp()}canCopyUri(){return this.resource.metadata?.uris?.length>0&&""!==this.resource.metadata.uris?.[0]}get canUseTotp(){return this.props.context.siteSettings.canIUse("totpResourceTypes")}get canUsePasswordExpiry(){const e=this.props.passwordExpiryContext.getSettings();return this.props.passwordExpiryContext.isFeatureEnabled()&&e?.policy_override}get translate(){return this.props.t}render(){const e=this.props.rbacContext.canIUseUiAction(A),t=this.props.rbacContext.canIUseUiAction(M);return a.createElement(Ks,{hide:this.props.hide,left:this.props.left,top:this.props.top},a.createElement("li",{key:"option-username-resource",className:"ready"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",id:"username",className:"link no-border",disabled:!this.canCopyUsername(),onClick:this.handleUsernameClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Copy username"))))))),e&&a.createElement("li",{key:"option-copy-password-resource",className:"ready"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",id:"password",disabled:!this.canCopyPassword(),onClick:this.handlePasswordClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Copy password"))))))),a.createElement("li",{key:"option-copy-uri-resource",className:"ready"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",id:"uri",className:"link no-border",disabled:!this.canCopyUri(),onClick:this.handleUriClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Copy URI"))))))),a.createElement("li",{key:"option-permalink-resource",className:"ready"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{className:"link no-border",type:"button",id:"permalink",onClick:this.handlePermalinkClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Copy permalink"))))))),e&&this.canUseTotp&&a.createElement("li",{key:"option-copy-totp-resource",className:"ready"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",className:"link no-border",id:"totp",disabled:!this.canCopyTotp(),onClick:this.handleTotpClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Copy TOTP"))))))),a.createElement("li",{key:"option-open-uri-resource",className:"ready separator-after"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",id:"open-uri",className:"link no-border",disabled:!this.safeUri,onClick:this.handleGoToResourceUriClick},a.createElement("span",null,a.createElement(w.x6,null,"Open URI in a new Tab"))))))),this.canUsePasswordExpiry&&a.createElement(a.Fragment,null,a.createElement("li",{key:"option-set-expiry-date",className:"ready"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",id:"set-expiry-date",className:"link no-border",disabled:!this.canUpdate(),onClick:this.handleSetExpiryDateClick},a.createElement("span",null,a.createElement(w.x6,null,"Set expiry date"))))))),a.createElement("li",{key:"option-mark-as-expired-resource",className:"ready separator-after"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",id:"mark-as-expired",className:"link no-border",disabled:!this.canUpdate(),onClick:this.handleMarkAsExpiredClick},a.createElement("span",null,a.createElement(w.x6,null,"Mark as expired")))))))),a.createElement("li",{key:"option-edit-resource",className:"ready"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",id:"edit",className:"link no-border",disabled:!this.canUpdate(),onClick:this.handleEditClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Edit"))))))),t&&a.createElement("li",{key:"option-share-resource",className:"ready"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",id:"share",className:"link no-border",disabled:!this.canShare(),onClick:this.handleShareClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Share"))))))),a.createElement("li",{key:"option-delete-resource",className:"ready"},a.createElement("div",{className:"row"},a.createElement("div",{className:"main-cell-wrapper"},a.createElement("div",{className:"main-cell"},a.createElement("button",{type:"button",id:"delete",className:"link no-border",disabled:!this.canUpdate(),onClick:this.handleDeleteClickEvent},a.createElement("span",null,a.createElement(w.x6,null,"Delete"))))))))}}IE.propTypes={context:l().any,rbacContext:l().any,hide:l().func,left:l().number,top:l().number,resourceWorkspaceContext:l().any,resourceTypes:l().instanceOf(tC),dialogContext:l().any,progressContext:l().any,resource:l().object,actionFeedbackContext:l().any,workflowContext:l().any,passwordExpiryContext:l().object,t:l().func};const _E=h(pe(wt(iC(ht(k(ra(Iu(_e((0,w.CI)("common")(IE))))))))));class DE extends a.Component{get selectedResources(){return this.props.resourceWorkspaceContext.selectedResources}isMultipleSelected(){return this.props.resourceWorkspaceContext.selectedResources.length>1}hasMoreThanThreeResourcesSelected(){return this.props.resourceWorkspaceContext.selectedResources.length>3}get numberOfResources(){return this.props.resourceWorkspaceContext.selectedResources.length>99?"99+":this.props.resourceWorkspaceContext.selectedResources.length}render(){return a.createElement("div",{className:"drag-and-drop "+(this.hasMoreThanThreeResourcesSelected()?"item-n":`item-${this.numberOfResources}`)},a.createElement("span",{className:"message"},this.selectedResources[0].metadata.name),this.isMultipleSelected()&&a.createElement("span",{className:"count"},this.numberOfResources))}}DE.contextType=m,DE.propTypes={resourceWorkspaceContext:l().any};const TE=wt(DE);class PE extends a.Component{get value(){return this.props.value}render(){return a.createElement("div",{title:this.value},this.value)}}PE.propTypes={value:l().string.isRequired};const AE=(0,a.memo)(PE);class ME extends a.Component{get column(){return this.props.column}get value(){return this.props.value}get propsCell(){const e=this.column.cellRenderer?.props||{};return e.value=this.value,"checkbox"===this.column.id&&(e.checked=this.props.isSelected),e}get columnWidthStyle(){return this.column?.width?{width:`${this.column.width}px`}:null}render(){const e=this.column.cellRenderer?.component||AE;return a.createElement("td",{className:`cell-${this.column.id}`,style:this.columnWidthStyle},a.createElement(e,this.propsCell))}}ME.propTypes={value:l().any,column:l().instanceOf(mt).isRequired,isSelected:l().bool};const UE=ME;function FE(){return FE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},FE.apply(null,arguments)}const LE=a.createContext({columns:[],tableWidth:null,tableviewWidth:null,isDraggingColumn:!1,isSelectAllChecked:()=>{},isRowSelected:()=>{},isSortedColumn:()=>{},isSortedAsc:()=>{},canMoveColumn:()=>{},onSortChange:()=>{},onResizeColumn:()=>{},onReorderColumns:()=>{},onStartDraggingColumn:()=>{},onEndDraggingColumn:()=>{},onChangeColumns:()=>{}});class OE extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{columns:this.sanitizeColumnsFromProps,tableWidth:null,tableviewWidth:null,isDraggingColumn:!1,isSelectAllChecked:this.isSelectAllChecked.bind(this),isRowSelected:this.isRowSelected.bind(this),isSortedColumn:this.isSortedColumn.bind(this),isSortedAsc:this.isSortedAsc.bind(this),canMoveColumn:this.canMoveColumn.bind(this),onSortChange:this.handleSortByColumnClick.bind(this),onResizeColumn:this.handleResizeColumn.bind(this),onReorderColumns:this.handleReorderColumns.bind(this),onStartDraggingColumn:this.handleStartDraggingColumns.bind(this),onEndDraggingColumn:this.handleEndDraggingColumns.bind(this),onChangeColumns:this.handleChangeColumns.bind(this)}}bindCallbacks(){this.handleWindowResizeEvent=this.handleWindowResizeEvent.bind(this),this.handleChangeColumnsDebounced=Wt()(this.handleChangeColumns,2e3)}createRefs(){this.tableviewRef=a.createRef()}componentDidMount(){this.prepareTableColumns(),window.addEventListener("resize",this.handleWindowResizeEvent)}get sanitizeColumnsFromProps(){const e=[...this.props.columns];return e.some((e=>e.width<0))&&e.forEach((e=>e.width=e.defaultWidth)),e}prepareTableColumns(){const e=this.getTableWidth(this.state.columns);if(this.state.columns.some((e=>e.width!==e.defaultWidth))){const t=this.tableviewRef.current.clientWidth;this.setState({tableWidth:e,tableviewWidth:t})}else this.setColumnsWidthFromActualWidth(e)}componentDidUpdate(e){e.columns.length>this.props.columns.length?this.removeColumn():e.columns.length<this.props.columns.length&&this.addColumn()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResizeEvent)}removeColumn(){const e=this.state.columns.filter((e=>this.props.columns.some((t=>t.id===e.id)))),t=this.getTableWidth(e)-6;this.setState({columns:e,tableWidth:t})}addColumn(){const e=[...this.state.columns],t=this.props.columns.findIndex((e=>this.state.columns.every((t=>e.id!==t.id))));e.splice(t,0,this.props.columns[t]);const s=this.getTableWidth(e)+6;this.setState({columns:e,tableWidth:s})}handleWindowResizeEvent(){this.state.tableviewWidth>0&&(this.setColumnsWidthFromActualWidth(this.state.tableviewWidth),this.handleChangeColumnsDebounced())}async handleSortByColumnClick(e){this.props.onSortChange?.(e)}handleReorderColumns(e,t){const s=[...this.state.columns],a=s.splice(e,1)[0];s.splice(t,0,a),this.setState({columns:s})}handleResizeColumn(e,t){const s=[...this.state.columns];s[e].width=t;const a=this.getTableWidth(s);this.setState({columns:s,tableWidth:a})}handleChangeColumns(){const e=this.state.columns.map(((e,t)=>({id:e.id,label:e.label,width:e.width,position:t})));this.props.onChange(e)}getTableWidth(e){return e.reduce(((e,t)=>e+t.width),0)+this.columnsPaddingWidth}get columnWidthNoResizable(){return this.state.columns.reduce(((e,t)=>e+(t.resizable?0:parseFloat(t.width))),0)}get columnsPaddingWidth(){return 6*this.state.columns.length}setColumnsWidthFromActualWidth(e){const t=this.tableviewRef.current.clientWidth,s=this.columnWidthNoResizable+this.columnsPaddingWidth;if(e>s&&t>s){const a=(t-s)/(e-s),n=[...this.state.columns];n.forEach((e=>{e.resizable&&(e.width=e.width*a)}));const r=this.getTableWidth(n);this.setState({columns:n,tableWidth:r,tableviewWidth:t})}}isRowSelected(e){return this.props.selectedRowsIds?.some((t=>e===t))}isSelectAllChecked(){return this.props.rows.length===this.props.selectedRowsIds?.length}isSortedColumn(e){return this.props.sorter.propertyName===e}isSortedAsc(){return this.props.sorter.asc}canMoveColumn(e,t){const s=e=>e.draggable,a=e>this.state.columns.findIndex(s)&&t<0,n=e<this.state.columns.reduce(((e,t,a)=>s(t)?a:e),-1)&&t>0;return a||n}handleStartDraggingColumns(){this.setState({isDraggingColumn:!0})}handleEndDraggingColumns(){this.setState({isDraggingColumn:!1})}render(){return a.createElement(LE.Provider,{value:this.state},a.createElement("div",{ref:this.tableviewRef,className:"tableview"},this.props.children))}}function VE(e){return class extends a.Component{render(){return a.createElement(LE.Consumer,null,(t=>a.createElement(e,FE({tableContext:t},this.props))))}}}OE.propTypes={columns:l().array.isRequired,rows:l().array.isRequired,sorter:l().object,selectedRowsIds:l().array,onSortChange:l().func,onChange:l().func,children:l().any};class HE extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleClick=this.handleClick.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleDragStart=this.handleDragStart.bind(this),this.handleDragEnd=this.handleDragEnd.bind(this)}handleClick(e){e.preventDefault(),e.stopPropagation(),this.props.onClick(e,this.item)}handleContextMenu(e){e.preventDefault(),this.props.onContextMenu(e,this.item)}handleDragStart(e){this.props.onDragStart(e,this.item,this.isItemSelected)}handleDragEnd(e){this.props.onDragEnd(e)}get columns(){return this.props.tableContext.columns}get item(){return this.props.item}get isItemSelected(){return this.props.tableContext.isRowSelected(this.item.id)}getColumnValue(e,t){return e.getValue?e.getValue(t):Et(t,e.field)}render(){const e=this.isItemSelected;return a.createElement("tr",{id:this.item.id,draggable:"true",className:`${this.props.className} ${e?"selected":""}`,onClick:this.handleClick,onContextMenu:this.handleContextMenu,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd},this.columns.map((t=>a.createElement(UE,{key:t.id,column:t,isSelected:e,value:this.getColumnValue(t,this.item)}))))}}HE.propTypes={tableContext:l().any,item:l().object.isRequired,className:l().string,onClick:l().func,onContextMenu:l().func,onDragStart:l().func,onDragEnd:l().func};const qE=VE(HE);class jE extends a.Component{render(){return a.createElement("span",{className:"cell-header-text"},this.props.label)}}jE.propTypes={label:l().string.isRequired};const WE=(0,a.memo)(jE);class zE extends a.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{mouseXPosition:0,move:0,columnToResizeWidth:0,resizing:!1}}bindCallbacks(){this.handleSortByColumnClick=this.handleSortByColumnClick.bind(this),this.handleReorderColumnMouseMoveEvent=this.handleReorderColumnMouseMoveEvent.bind(this),this.handleReorderColumnMouseUpEvent=this.handleReorderColumnMouseUpEvent.bind(this),this.handleResizeColumnMouseDown=this.handleResizeColumnMouseDown.bind(this),this.handleResizeColumnMouseMoveEvent=this.handleResizeColumnMouseMoveEvent.bind(this),this.handleResizeColumnMouseUpEvent=this.handleResizeColumnMouseUpEvent.bind(this),this.handleResizeDefaultByColumnDoubleClick=this.handleResizeDefaultByColumnDoubleClick.bind(this),this.startDragging=this.startDragging.bind(this)}createRefs(){this.columnRef=a.createRef()}handleReorderColumnMouseDownEvent(e){const t=e.clientX;this.setState({mouseXPosition:t}),this.updatePreviousAndNextColumnWidth(this.columnRef.current.previousSibling?.offsetWidth,this.columnRef.current.nextSibling?.offsetWidth),this.columnRef.current.addEventListener("mousemove",this.startDragging,{once:!0}),document.addEventListener("mousemove",this.handleReorderColumnMouseMoveEvent,{capture:!0}),document.addEventListener("mouseup",this.handleReorderColumnMouseUpEvent,{capture:!0,once:!0})}startDragging(){this.props.tableContext.onStartDraggingColumn()}handleReorderColumnMouseMoveEvent(e){const t=e.clientX-this.state.mouseXPosition-this.state.move;this.props.tableContext.canMoveColumn(this.props.index,t)?(this.columnRef.current.style.translate=`${t}px`,this.previousColumnWidth&&t<-this.previousColumnWidth/2?(this.props.tableContext.onReorderColumns(this.props.index,this.props.index-1),this.updateColumnPosition(-this.previousColumnWidth,t),this.updatePreviousAndNextColumnWidth(this.columnRef.current.previousSibling?.offsetWidth,this.previousColumnWidth)):this.nextColumnWidth&&t>this.nextColumnWidth/2&&(this.props.tableContext.onReorderColumns(this.props.index,this.props.index+1),this.updateColumnPosition(this.nextColumnWidth,t),this.updatePreviousAndNextColumnWidth(this.nextColumnWidth,this.columnRef.current.nextSibling?.offsetWidth))):this.columnRef.current.style.translate="0px"}handleReorderColumnMouseUpEvent(){this.columnRef.current.style.translate=null,this.updatePreviousAndNextColumnWidth(null,null),this.columnRef.current.removeEventListener("mousemove",this.startDragging),document.removeEventListener("mousemove",this.handleReorderColumnMouseMoveEvent,{capture:!0}),this.props.tableContext.onEndDraggingColumn(),this.setState({mouseXPosition:0,move:0}),this.handleChangeColumn()}handleChangeColumn(){this.props.tableContext.onChangeColumns()}handleSortByColumnClick(e){e.stopPropagation(),this.props.tableContext.onSortChange(this.column.field)}updateColumnPosition(e,t){const s=this.state.move+e;this.columnRef.current.style.translate=t-e+"px",this.setState({move:s})}updatePreviousAndNextColumnWidth(e,t){this.previousColumnWidth=e,this.nextColumnWidth=t}async handleResizeColumnMouseDown(e){e.stopPropagation();const t=this.column.width,s=e.clientX;this.setState({resizing:!0,mouseXPosition:s,columnToResizeWidth:t}),document.addEventListener("mousemove",this.handleResizeColumnMouseMoveEvent,{capture:!0}),document.addEventListener("mouseup",this.handleResizeColumnMouseUpEvent,{capture:!0,once:!0})}handleResizeColumnMouseMoveEvent(e){const t=e.clientX-this.state.mouseXPosition,s=this.state.columnToResizeWidth+t>50?this.state.columnToResizeWidth+t:50;this.props.tableContext.onResizeColumn(this.props.index,s)}handleResizeColumnMouseUpEvent(){document.removeEventListener("mousemove",this.handleResizeColumnMouseMoveEvent,{capture:!0}),this.setState({resizing:null,mouseXPosition:0,columnToResizeWidth:0}),this.handleChangeColumn()}handleResizeDefaultByColumnDoubleClick(){this.props.tableContext.onResizeColumn(this.props.index,this.column.defaultWidth),this.handleChangeColumn()}isSortedColumn(e){return this.props.tableContext.isSortedColumn(e)}isSortedAsc(){return this.props.tableContext.isSortedAsc()}get column(){return this.props.column}get propsCellHeader(){const e=this.column.headerCellRenderer?.props||{};return"checkbox"===this.column.id?e.checked=this.props.tableContext.isSelectAllChecked():e.label=e.label||this.column.label,e}get columnWidthStyle(){return this.column?.width?{width:`${this.column.width}px`}:null}render(){const e=this.column.headerCellRenderer?.component||WE;return a.createElement("th",{key:this.column.id,className:`cell-${this.column.id} selections ${this.column.draggable?"draggable":""} ${this.column.sortable?"sortable":""}`,style:this.columnWidthStyle,ref:this.columnRef,onMouseDown:e=>this.column.draggable?this.handleReorderColumnMouseDownEvent(e):void 0},!this.column.sortable&&a.createElement("div",{className:"cell-header"},a.createElement(e,this.propsCellHeader)),this.column.sortable&&a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleSortByColumnClick},a.createElement("div",{className:"cell-header"},a.createElement(e,this.propsCellHeader),a.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn(this.column.field)&&this.isSortedAsc()&&a.createElement(ge,{name:"ascending"}),this.isSortedColumn(this.column.field)&&!this.isSortedAsc()&&a.createElement(ge,{name:"descending"})))),this.column.resizable&&a.createElement("div",{className:"resizer "+(this.state.resizing?"resizing":""),onMouseDown:this.handleResizeColumnMouseDown,onDoubleClick:this.handleResizeDefaultByColumnDoubleClick}))}}zE.propTypes={tableContext:l().any,column:l().instanceOf(mt).isRequired,index:l().number.isRequired};const BE=VE(zE);class GE extends a.Component{get columns(){return this.props.tableContext.columns}get isDragging(){return this.props.tableContext.isDraggingColumn}render(){return a.createElement("tr",{className:this.isDragging?"dragging":""},this.columns.map(((e,t)=>a.createElement(BE,{key:e.id,column:e,index:t}))))}}GE.propTypes={tableContext:l().any};const KE=VE(GE);class $E extends a.Component{get tableStyleWidth(){return{width:`${this.props.tableContext.tableWidth}px`}}render(){return a.createElement("div",{className:"tableview-header"},a.createElement("table",{style:this.tableStyleWidth},a.createElement("thead",null,a.createElement(KE,null))))}}$E.propTypes={tableContext:l().any};const ZE=VE($E);class YE extends a.Component{get tableBodyStyle(){return{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",width:`${this.props.tableContext.tableWidth}px`}}render(){return a.createElement("table",{style:this.tableBodyStyle},a.createElement("tbody",{ref:this.props.tableBodyRef},this.props.items))}}YE.propTypes={tableContext:l().any,items:l().array.isRequired,tableBodyRef:l().any};const JE=VE(YE);class XE extends a.Component{renderItem(e,t){const s=this.props.rows[e];return a.createElement(qE,{key:t,item:s,className:e%2==0?"even":"odd",onClick:this.props.onRowClick,onContextMenu:this.props.onRowContextMenu,onDragStart:this.props.onRowDragStart,onDragEnd:this.props.onRowDragEnd})}renderTable(e,t){return a.createElement(JE,{items:e,tableBodyRef:t})}render(){const e=null!==this.props.rows;return a.createElement(OE,{columns:this.props.columns,rows:this.props.rows,selectedRowsIds:this.props.selectedRowsIds,sorter:this.props.sorter,onSortChange:this.props.onSortChange,onChange:this.props.onChange},a.createElement(ZE,null),e&&a.createElement("div",{className:"tableview-content"},a.createElement(Lt(),{itemRenderer:(e,t)=>this.renderItem(e,t),itemsRenderer:(e,t)=>this.renderTable(e,t),length:this.props.rows.length,pageSize:20,minSize:20,type:"uniform",ref:this.props.rowsRef})))}}XE.propTypes={columns:l().array.isRequired,rows:l().array.isRequired,sorter:l().object,selectedRowsIds:l().array,onSortChange:l().func,onRowClick:l().func,onRowContextMenu:l().func,onRowDragStart:l().func,onRowDragEnd:l().func,onChange:l().func,rowsRef:l().any};const QE=XE;class ef extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation(),this.props.onClick(this.value)}get value(){return this.props.value}render(){const e=null!==this.value.favorite&&void 0!==this.value.favorite;return a.createElement("button",{type:"button",className:"link no-border no-text "+(e?"fav":"unfav"),onClick:this.handleClick},a.createElement(ge,{name:"star"}))}}ef.propTypes={value:l().object.isRequired,onClick:l().func};const tf=(0,a.memo)(ef);class sf extends a.Component{render(){return a.createElement(ge,{name:this.props.name})}}sf.propTypes={name:l().string.isRequired};const af=(0,a.memo)(sf);class nf extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation(),this.props.onClick(this.value)}safeLink(e){return qe(e,{whiteListedProtocols:of,defaultProtocol:je.HTTPS})||""}get value(){return this.props.value}render(){const e=this.safeLink(this.value);return a.createElement("div",{title:this.value},e&&a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleClick},a.createElement("span",null,this.value)),!e&&a.createElement("span",null,this.value))}}nf.propTypes={value:l().string,onClick:l().func};const rf=(0,a.memo)(nf),of=[je.FTP,je.FTPS,je.HTTPS,je.HTTP,je.SSH];class lf extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handlePasswordClick=this.handlePasswordClick.bind(this),this.handlePreviewPasswordButtonClick=this.handlePreviewPasswordButtonClick.bind(this)}handlePreviewPasswordButtonClick(e){e.stopPropagation(),this.props.onPreviewPasswordClick(this.value)}async handlePasswordClick(){this.props.onPasswordClick(this.value)}get value(){return this.props.value}render(){const e=this.props.getPreviewPassword(this.value),t=this.props.hasPassword(this.value);return a.createElement(a.Fragment,null,t&&a.createElement(a.Fragment,null,a.createElement("div",{className:"secret secret-password "+(e?"":"secret-copy"),title:e||this.props.title},a.createElement(yg,{canClick:this.props.canCopy,preview:e,onClick:this.handlePasswordClick})),this.props.canPreview&&a.createElement("button",{type:"button",onClick:this.handlePreviewPasswordButtonClick,className:"password-view button-transparent"},a.createElement(ge,{name:e?"eye-close":"eye-open"}))))}}lf.defaultProps={canPreviewSecret:!1,canCopySecret:!1},lf.propTypes={value:l().object.isRequired,title:l().string,canPreview:l().bool,canCopy:l().bool,getPreviewPassword:l().func.isRequired,onPasswordClick:l().func,onPreviewPasswordClick:l().func,hasPassword:l().func};const cf=lf;class df extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation(),this.props.onClick(this.value)}get value(){return this.props.value}hasValue(){return Boolean(this.value)}render(){return a.createElement("div",{title:this.value},this.hasValue()&&a.createElement("button",{className:"link no-border",type:"button",onClick:this.handleClick},a.createElement("span",null,this.value)))}}df.propTypes={value:l().string,onClick:l().func};const hf=(0,a.memo)(df);class mf extends a.Component{render(){return a.createElement("div",{className:"input checkbox"},a.createElement("input",{type:"checkbox",name:"select all",checked:this.props.checked,onChange:this.props.onChange}))}}mf.propTypes={checked:l().bool.isRequired,onChange:l().func};const pf=mf;class uf extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation(),this.props.onClick(e,this.value)}get value(){return this.props.value}render(){return a.createElement("div",{className:"input checkbox"},a.createElement("input",{type:"checkbox",id:`checkbox_multiple_select_checkbox_${this.value.id}`,checked:this.props.checked,readOnly:!0,onClick:this.handleClick}))}}uf.propTypes={value:l().object.isRequired,checked:l().bool.isRequired,onClick:l().func};const gf=(0,a.memo)(uf),Cf=class extends mt{constructor(e={}){e.id="checkbox",e.field="checkbox",e.width=e.width||20,e.defaultWidth=20,e.resizable=!1,e.draggable=!1,e.sortable=!1,e.getValue=e=>e,super(e)}},bf=class extends mt{constructor(e={}){e.id="favorite",e.field="favorite",e.width=e.width||20,e.defaultWidth=20,e.resizable=!1,e.draggable=!1,e.sortable=!0,e.getValue=e=>({id:e.id,favorite:e.favorite}),super(e)}},Ef=class extends mt{constructor(e={}){e.id="name",e.field="metadata.name",e.width=e.width||145,e.defaultWidth=145,e.resizable=!0,e.draggable=!0,e.sortable=!0,super(e)}},ff=class extends mt{constructor(e={}){e.id="username",e.field="metadata.username",e.width=e.width||145,e.defaultWidth=145,e.resizable=!0,e.draggable=!0,e.sortable=!0,super(e)}},yf=class extends mt{constructor(e={}){e.id="password",e.field="password",e.width=e.width||145,e.defaultWidth=145,e.resizable=!0,e.draggable=!0,e.sortable=!1,e.getValue=e=>e,super(e)}},vf=class extends mt{constructor(e={}){e.id="uri",e.field="metadata.uris.0",e.width=e.width||210,e.defaultWidth=210,e.resizable=!0,e.draggable=!0,e.sortable=!0,super(e)}},kf=class extends mt{constructor(e={}){e.id="modified",e.field="modified",e.width=e.width||145,e.defaultWidth=145,e.resizable=!0,e.draggable=!0,e.sortable=!0,super(e)}};class wf extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleTotpClick=this.handleTotpClick.bind(this),this.handlePreviewTotpButtonClick=this.handlePreviewTotpButtonClick.bind(this)}handlePreviewTotpButtonClick(e){e.stopPropagation(),this.props.onPreviewTotpClick(this.value)}async handleTotpClick(e){e?.stopPropagation(),this.props.onTotpClick(this.value)}get value(){return this.props.value}get previewedTotp(){return this.props.getPreviewTotp(this.value)}render(){const e=this.props.hasTotp(this.value);return a.createElement(a.Fragment,null,e&&a.createElement(a.Fragment,null,a.createElement("div",{className:"secret secret-totp "+(this.previewedTotp?"":"secret-copy")},this.previewedTotp&&a.createElement(xg,{totp:this.previewedTotp,canClick:this.props.canCopy,onClick:this.handleTotpClick}),!this.previewedTotp&&a.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTotpClick,disabled:!this.props.canCopy},a.createElement("span",null,"Copy TOTP to clipboard"))),this.props.canPreview&&a.createElement("button",{type:"button",onClick:this.handlePreviewTotpButtonClick,className:"totp-view button-transparent"},a.createElement(ge,{name:this.previewedTotp?"eye-close":"eye-open"}))))}}wf.defaultProps={canPreviewSecret:!1,canCopySecret:!1},wf.propTypes={value:l().object.isRequired,title:l().string,canPreview:l().bool,canCopy:l().bool,getPreviewTotp:l().func.isRequired,onTotpClick:l().func,onPreviewTotpClick:l().func,hasTotp:l().func};const xf=wf,Sf=class extends mt{constructor(e={}){e.id=Ct,e.field="totp",e.width=e.width||145,e.defaultWidth=145,e.resizable=!0,e.draggable=!0,e.sortable=!1,e.getValue=e=>e,super(e)}},Nf=class extends mt{constructor(e={}){e.id=pt,e.field=bt,e.width=e.width||20,e.defaultWidth=20,e.resizable=!1,e.draggable=!1,e.sortable=!0,super(e)}};class Rf extends a.Component{static isAttentionRequiredOnExpiryDate(e){return!!e&&new Date(e)<=new Date}render(){return Rf.isAttentionRequiredOnExpiryDate(this.props.value)?a.createElement(ge,{name:"exclamation"}):null}}Rf.propTypes={value:l().string};const If=(0,a.memo)(Rf),_f=class extends mt{constructor(e={}){e.id=ut,e.field=bt,e.width=e.width||145,e.defaultWidth=145,e.resizable=!0,e.draggable=!0,e.sortable=!0,super(e)}};class Df extends a.Component{render(){if(!this.props.value)return null;const e=nt(this.props.value,this.props.t,this.props.locale);return a.createElement("div",{title:this.props.value},e)}}Df.propTypes={value:l().string,locale:l().string,t:l().func};const Tf=(0,a.memo)(Df);class Pf extends a.Component{render(){if(!this.props.value)return null;const e=rt(this.props.value,this.props.t,this.props.locale);return a.createElement("div",{title:this.props.value||e},e)}}Pf.propTypes={value:l().string,locale:l().string,t:l().func};const Af=(0,a.memo)(Pf),Mf=class extends mt{constructor(e={}){e.id=gt,e.field="location",e.width=e.width||210,e.defaultWidth=210,e.resizable=!0,e.draggable=!0,e.sortable=!1,super(e)}};class Uf extends a.Component{handleClick(e,t){e.stopPropagation(),this.props.onClick(t)}get value(){return this.props.value}get lastFolder(){return this.value[this.value.length-1]}get tooltipHierarchyFolder(){return this.value.map(((e,t)=>a.createElement("div",{key:e.id,className:"folder-level",style:{marginLeft:5*t+"px"}},null!==e.folder_parent_id&&a.createElement("span",{className:"caret"},""),a.createElement("span",null,e.name))))}render(){return null===this.value?null:0===this.value.length?a.createElement(Xt,{message:a.createElement("span",null,this.props.t("root")),direction:"auto"},a.createElement("button",{className:"link no-border",type:"button",onClick:e=>this.handleClick(e,null)},a.createElement("span",null,a.createElement(ge,{name:"folder"}),a.createElement("span",null,this.props.t("root"))))):a.createElement(Xt,{message:this.tooltipHierarchyFolder,direction:"auto"},a.createElement("button",{className:"link no-border",type:"button",onClick:e=>this.handleClick(e,this.lastFolder.id)},a.createElement("span",null,!this.lastFolder.personal&&a.createElement(ge,{name:"folder-shared"}),this.lastFolder.personal&&a.createElement(ge,{name:"folder"}),this.value.map((e=>a.createElement("span",{key:e.id},null!==e.folder_parent_id&&a.createElement("span",{className:"caret"},""),a.createElement("span",null,e.name)))))))}}Uf.propTypes={value:l().array.isRequired,onClick:l().func,t:l().func};const Ff=Uf;class Lf extends a.Component{defaultColumns=[];constructor(e){super(e),this.state=this.getDefaultState(),this.initEventHandlers(),this.handleFavoriteClickDebounced=Wt()(this.handleFavoriteUpdate,200),this.createRefs()}getDefaultState(){return{columns:[],previewedCellule:{columnId:null,resourceId:null},plaintextSecretDto:null}}initEventHandlers(){this.handleSelectAllChange=this.handleSelectAllChange.bind(this),this.handleResourceSelected=this.handleResourceSelected.bind(this),this.handleResourceRightClick=this.handleResourceRightClick.bind(this),this.handleResourceDragStartEvent=this.handleResourceDragStartEvent.bind(this),this.handleDragEndEvent=this.handleDragEndEvent.bind(this),this.handleCheckboxWrapperClick=this.handleCheckboxWrapperClick.bind(this),this.handleCopyPasswordClick=this.handleCopyPasswordClick.bind(this),this.handleCopyUsernameClick=this.handleCopyUsernameClick.bind(this),this.handleFavoriteClick=this.handleFavoriteClick.bind(this),this.handleSortByColumnClick=this.handleSortByColumnClick.bind(this),this.handleChangeColumnsSettings=this.handleChangeColumnsSettings.bind(this),this.handleGoToResourceUriClick=this.handleGoToResourceUriClick.bind(this),this.handlePreviewPasswordButtonClick=this.handlePreviewPasswordButtonClick.bind(this),this.handleCopyTotpClick=this.handleCopyTotpClick.bind(this),this.handlePreviewTotpButtonClick=this.handlePreviewTotpButtonClick.bind(this),this.getPreviewPassword=this.getPreviewPassword.bind(this),this.getPreviewTotp=this.getPreviewTotp.bind(this),this.isPasswordResources=this.isPasswordResources.bind(this),this.isTotpResources=this.isTotpResources.bind(this),this.handleLocationClick=this.handleLocationClick.bind(this)}initColumns(){this.defaultColumns.push(new Cf({cellRenderer:{component:gf,props:{onClick:this.handleCheckboxWrapperClick}},headerCellRenderer:{component:pf,props:{onChange:this.handleSelectAllChange}}})),this.defaultColumns.push(new bf({cellRenderer:{component:tf,props:{onClick:this.handleFavoriteClick}},headerCellRenderer:{component:af,props:{name:"star"}}})),this.hasAttentionRequiredFeature&&this.defaultColumns.push(new Nf({cellRenderer:{component:If},headerCellRenderer:{component:af,props:{name:"exclamation"}}})),this.defaultColumns.push(new Ef({headerCellRenderer:{component:WE,props:{label:this.translate("Name")}}})),this.props.passwordExpiryContext.isFeatureEnabled()&&this.defaultColumns.push(new _f({cellRenderer:{component:Af,props:{locale:this.props.context.locale,t:this.props.t}},headerCellRenderer:{component:WE,props:{label:this.translate("Expiry")}}})),this.defaultColumns.push(new ff({cellRenderer:{component:hf,props:{onClick:this.handleCopyUsernameClick}},headerCellRenderer:{component:WE,props:{label:this.translate("Username")}}})),this.defaultColumns.push(new yf({cellRenderer:{component:cf,props:{title:this.translate("secret"),getPreviewPassword:this.getPreviewPassword,canCopy:this.canCopySecret,canPreview:this.canPreviewSecret,onPasswordClick:this.handleCopyPasswordClick,onPreviewPasswordClick:this.handlePreviewPasswordButtonClick,hasPassword:this.isPasswordResources}},headerCellRenderer:{component:WE,props:{label:this.translate("Password")}}})),this.props.context.siteSettings.canIUse("totpResourceTypes")&&this.defaultColumns.push(new Sf({cellRenderer:{component:xf,props:{title:this.translate("secret"),getPreviewTotp:this.getPreviewTotp,canCopy:this.canCopySecret,canPreview:this.canPreviewSecret,onTotpClick:this.handleCopyTotpClick,onPreviewTotpClick:this.handlePreviewTotpButtonClick,hasTotp:this.isTotpResources}},headerCellRenderer:{component:WE,props:{label:this.translate("TOTP")}}})),this.defaultColumns.push(new vf({cellRenderer:{component:rf,props:{onClick:this.handleGoToResourceUriClick}},headerCellRenderer:{component:WE,props:{label:this.translate("URI")}}})),this.defaultColumns.push(new kf({cellRenderer:{component:Tf,props:{locale:this.props.context.locale,t:this.props.t}},headerCellRenderer:{component:WE,props:{label:this.translate("Modified")}}})),this.canUseFolders&&this.defaultColumns.push(new Mf({getValue:e=>this.props.resourceWorkspaceContext.getHierarchyFolderCache(e.folder_parent_id),cellRenderer:{component:Ff,props:{onClick:this.handleLocationClick,t:this.props.t}},headerCellRenderer:{component:WE,props:{label:this.translate("Location")}}}))}async componentDidMount(){await this.props.passwordExpiryContext.findSettings(),this.initColumns(),null!==this.columnsResourceSetting&&this.mergeAndSortColumns()}mergeAndSortColumns(){const e=this.columnsResourceSetting.toHashTable(),t=this.defaultColumns.map((t=>Object.assign(new mt(t),e[t.id])));t.sort(((e,t)=>(e.position||0)<(t.position||0)?-1:1)),this.setState({columns:t})}componentDidUpdate(e){this.handleResourceScroll();const t=this.columnsResourceSetting?.hasDifferentShowValue(e.resourceWorkspaceContext.columnsResourceSetting);t&&this.mergeAndSortColumns()}shouldComponentUpdate(e,t){const{filteredResources:s,selectedResources:a,sorter:n,scrollTo:r,columnsResourceSetting:i}=e.resourceWorkspaceContext,o=this.props.resourceWorkspaceContext.filteredResources!==s,l=1===a.length&&1===this.props.resourceWorkspaceContext.selectedResources.length&&a[0].id!==this.props.resourceWorkspaceContext.selectedResources[0].id,c=this.props.resourceWorkspaceContext.selectedResources.length!==a.length,d=n!==this.props.resourceWorkspaceContext.sorter,h=Boolean(r.resource&&r.resource.id),m=t.previewedCellule!==this.state.previewedCellule,p=t.columns!==this.state.columns,u=i?.hasDifferentShowValue(this.props.resourceWorkspaceContext.columnsResourceSetting);return(o||l||c||d)&&this.hidePreviewedCellule(),o||c||l||d||h||p||u||m}createRefs(){this.tableviewRef=a.createRef(),this.listRef=a.createRef()}get canUseFolders(){return this.props.context.siteSettings.canIUse("folders")&&this.props.rbacContext.canIUseUiAction(R)}handleSelectAllChange(e){const t=e.target.checked?"all":"none";this.props.resourceWorkspaceContext.onResourceSelected[t]()}async handleResourceSelected(e,t){await this.selectResource(t,e)}handleSelectResources(e){const t=e;this.setState({selectedFolders:[],selectedResources:t},(()=>{1===e.length&&this.props.history.push(`/app/passwords/view/${e[0].id}`)}))}handleResourceRightClick(e,t){this.handleSelectResources([t]);const s={left:e.pageX,top:e.pageY,resource:t};this.props.contextualMenuContext.show(_E,s)}async handleCheckboxWrapperClick(e,t){e&&e.shiftKey?await this.props.resourceWorkspaceContext.onResourceSelected.range(t):await this.props.resourceWorkspaceContext.onResourceSelected.multiple(t)}handleResourceScroll(){const e=this.props.resourceWorkspaceContext.scrollTo.resource,t=this.listRef.current?.getVisibleRange().some((e=>e));e&&t&&(this.scrollTo(e.id),this.props.resourceWorkspaceContext.onResourceScrolled())}get resources(){return this.props.resourceWorkspaceContext.filteredResources}get selectedResources(){return this.props.resourceWorkspaceContext.selectedResources}get selectedResourcesIds(){return this.selectedResources.map((e=>e.id))}get columnsResourceSetting(){return this.props.resourceWorkspaceContext.columnsResourceSetting}get columnsFiltered(){return this.state.columns.filter((e=>"checkbox"===e.id||e.show))}getPreviewPassword(e){return this.isCellulePreviewed("password",e.id)?this.state.plaintextSecretDto?.password:void 0}getPreviewTotp(e){return this.isCellulePreviewed("totp",e.id)?this.state.plaintextSecretDto?.totp:void 0}async handleCopyUsernameClick(e){await va.copy(e,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The username has been copied to clipboard"))}async handleCopyPasswordClick(e){await this.copyPasswordToClipboard(e.id)}async handlePreviewPasswordButtonClick(e){await this.togglePreviewPassword(e.id)}async handleCopyTotpClick(e){await this.copyTotpToClipboard(e.id)}async handlePreviewTotpButtonClick(e){await this.togglePreviewTotp(e.id)}async copyTotpToClipboard(e){let t,s;if(this.isCellulePreviewed("totp",e))t=this.state.plaintextSecretDto;else{this.props.progressContext.open(this.props.t("Decrypting secret"));try{t=await this.decryptResourceSecret(e)}catch(e){"UserAbortsOperationError"!==e.name&&this.props.actionFeedbackContext.displayError(e.message)}this.props.progressContext.close()}if(t)if(t.totp){try{s=kg.generate(t.totp)}catch(e){return void await this.props.actionFeedbackContext.displayError(this.translate("Unable to copy the TOTP"))}await va.copy(s,this.props.context.port),await this.props.resourceWorkspaceContext.onResourceCopied(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The TOTP has been copied to clipboard"))}else await this.props.actionFeedbackContext.displayError(this.translate("The TOTP is empty and cannot be copied to clipboard."))}async copyPasswordToClipboard(e){let t;if(this.isCellulePreviewed("password",e))t=this.state.plaintextSecretDto;else{this.props.progressContext.open(this.props.t("Decrypting secret"));try{t=await this.decryptResourceSecret(e)}catch(e){"UserAbortsOperationError"!==e.name&&this.props.actionFeedbackContext.displayError(e.message)}this.props.progressContext.close()}t&&(t?.password?.length?(await va.copy(t.password,this.props.context.port),await this.props.resourceWorkspaceContext.onResourceCopied(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The password has been copied to clipboard"))):await this.props.actionFeedbackContext.displayError(this.translate("The password is empty and cannot be copied to clipboard.")))}async togglePreviewPassword(e){const t=this.isCellulePreviewed("password",e);this.hidePreviewedCellule(),t||(await this.previewPassword(e),await this.props.resourceWorkspaceContext.onResourcePreviewed())}hidePreviewedCellule(){this.setState({previewedCellule:null,plaintextSecretDto:null})}async previewPassword(e){let t;this.props.progressContext.open(this.props.t("Decrypting secret"));try{t=await this.decryptResourceSecret(e)}catch(e){"UserAbortsOperationError"!==e.name&&this.props.actionFeedbackContext.displayError(e.message)}if(this.props.progressContext.close(),!t)return;if(!t?.password?.length)return void await this.props.actionFeedbackContext.displayError(this.translate("The password is empty and cannot be previewed."));const s={resourceId:e,columnId:"password"};this.setState({previewedCellule:s,plaintextSecretDto:t})}async togglePreviewTotp(e){const t=this.isCellulePreviewed("totp",e);this.hidePreviewedCellule(),t||(await this.previewTotp(e),await this.props.resourceWorkspaceContext.onResourcePreviewed())}async previewTotp(e){let t;this.props.progressContext.open(this.props.t("Decrypting secret"));try{t=await this.decryptResourceSecret(e)}catch(e){"UserAbortsOperationError"!==e.name&&this.props.actionFeedbackContext.displayError(e.message)}if(this.props.progressContext.close(),!t)return;if(!t.totp)return void await this.props.actionFeedbackContext.displayError(this.translate("The TOTP is empty and cannot be previewed."));const s={resourceId:e,columnId:"totp"};this.setState({previewedCellule:s,plaintextSecretDto:t})}decryptResourceSecret(e){return this.props.context.port.request("passbolt.secret.find-by-resource-id",e)}async handleFavoriteClick(e){await this.handleFavoriteClickDebounced(e)}handleFavoriteUpdate(e){null===e.favorite?this.favoriteResource(e):this.unfavoriteResource(e)}async handleSortByColumnClick(e){this.props.resourceWorkspaceContext.onSorterChanged(e)}handleChangeColumnsSettings(e){e.shift(),this.props.resourceWorkspaceContext.onChangeColumnsSettings(e)}async handleResourceDragStartEvent(e,t,s){s||await this.props.resourceWorkspaceContext.onResourceSelected.single(t);const a={resources:this.props.resourceWorkspaceContext.selectedResources,folders:[]};this.props.dragContext.onDragStart(e,TE,a)}handleDragEndEvent(){this.props.dragContext.onDragEnd()}async selectResource(e,t){const s=t&&t.metaKey,a=t&&t.shiftKey;!t||s?await this.props.resourceWorkspaceContext.onResourceSelected.multiple(e):a?await this.props.resourceWorkspaceContext.onResourceSelected.range(e):await this.props.resourceWorkspaceContext.onResourceSelected.single(e)}async favoriteResource(e){try{await this.props.context.port.request("passbolt.favorite.add",e.id),this.displaySuccessNotification(this.translate("The password has been added as a favorite"))}catch(e){this.displayErrorNotification(e.message)}}async unfavoriteResource(e){try{await this.props.context.port.request("passbolt.favorite.delete",e.id),this.displaySuccessNotification(this.translate("The password has been removed from favorites"))}catch(e){this.displayErrorNotification(e.message)}}handleLocationClick(e){if(e)this.props.history.push(`/app/folders/view/${e}`);else{const e={type:xt.ROOT_FOLDER};this.props.history.push("/app/passwords",{filter:e})}}displaySuccessNotification(e){this.props.actionFeedbackContext.displaySuccess(e)}displayErrorNotification(e){this.props.actionFeedbackContext.displayError(e)}scrollTo(e){const t=this.resources.findIndex((t=>t.id===e)),[s,a]=this.listRef.current.getVisibleRange();(t<s||t>a)&&this.listRef.current.scrollTo(t-1)}handleGoToResourceUriClick(e){this.props.resourceWorkspaceContext.onGoToResourceUriRequested(e)}isCellulePreviewed(e,t){return this.state.previewedCellule?.columnId===e&&this.state.previewedCellule?.resourceId===t}isPasswordResources(e){return this.props.resourceTypes?.getFirstById(e.resource_type_id)?.hasPassword()}isTotpResources(e){return this.props.resourceTypes?.getFirstById(e.resource_type_id).hasTotp()}get hasAttentionRequiredFeature(){return this.props.passwordExpiryContext.isFeatureEnabled()}get canPreviewSecret(){return this.props.context.siteSettings.canIUse("previewPassword")&&this.props.rbacContext.canIUseUiAction(P)}get canCopySecret(){return this.props.rbacContext.canIUseUiAction(A)}get isReady(){return null!==this.resources}get isGridReady(){return this.isReady&&0!==this.resources.length&&0!==this.columnsFiltered.length}get translate(){return this.props.t}render(){const e=this.isReady&&0===this.resources.length,t=this.props.resourceWorkspaceContext.filter.type;return a.createElement(a.Fragment,null,e&&a.createElement("div",{className:"tableview empty"},t===xt.TEXT&&a.createElement("div",{className:"empty-content"},a.createElement("h2",null,a.createElement(w.x6,null,"None of your passwords matched this search.")),a.createElement("p",null,a.createElement(w.x6,null,"Try another search or use the left panel to navigate into your passwords."))),t===xt.FAVORITE&&a.createElement("div",{className:"empty-content"},a.createElement("h2",null,a.createElement(w.x6,null,"None of your passwords are yet marked as favorite.")),a.createElement("p",null,a.createElement(w.x6,null,"Add stars to passwords you want to easily find later."))),t===xt.GROUP&&a.createElement("div",{className:"empty-content"},a.createElement("h2",null,a.createElement(w.x6,null,"No passwords are shared with this group yet.")),a.createElement("p",null,a.createElement(w.x6,null,"Share a password with this group or wait for a team member to share one with this group."))),(t===xt.FOLDER||t===xt.ROOT_FOLDER)&&a.createElement("div",{className:"empty-content"},a.createElement("h2",null,a.createElement(w.x6,null,"No passwords in this folder yet.")),a.createElement("p",null,a.createElement(w.x6,null,"It does feel a bit empty here."))),t===xt.SHARED_WITH_ME&&a.createElement("div",{className:"empty-content"},a.createElement("h2",null,a.createElement(w.x6,null,"No passwords are shared with you yet.")),a.createElement("p",null,a.createElement(w.x6,null,"It does feel a bit empty here."),"",a.createElement(w.x6,null,"Wait for a team member to share a password with you."))),t===xt.EXPIRED&&a.createElement("div",{className:"empty-content"},a.createElement("h2",null,a.createElement(w.x6,null,"No passwords have expired yet.")),a.createElement("p",null,a.createElement(w.x6,null,"It does feel a bit empty here."),"",a.createElement(w.x6,null,"Wait for a password to expire."))),(t===xt.ITEMS_I_OWN||t===xt.RECENTLY_MODIFIED||t===xt.ALL)&&a.createElement(a.Fragment,null,a.createElement("div",{className:"empty-content"},a.createElement("h1",null,a.createElement(w.x6,null,"Welcome to passbolt!")),a.createElement("p",null,a.createElement(w.x6,null,"It does feel a bit empty here."),"",a.createElement(w.x6,null,"Create your first password or wait for a team member to share one with you."))))),this.isGridReady&&a.createElement(QE,{columns:this.columnsFiltered,rows:this.resources,sorter:this.props.resourceWorkspaceContext.sorter,onSortChange:this.handleSortByColumnClick,onChange:this.handleChangeColumnsSettings,onRowClick:this.handleResourceSelected,onRowContextMenu:this.handleResourceRightClick,onRowDragStart:this.handleResourceDragStartEvent,onRowDragEnd:this.handleDragEndEvent,selectedRowsIds:this.selectedResourcesIds,rowsRef:this.listRef}))}}Lf.propTypes={context:l().any,rbacContext:l().any,resourceWorkspaceContext:l().any,resourceTypes:l().instanceOf(tC),actionFeedbackContext:l().any,contextualMenuContext:l().any,passwordExpiryContext:l().object,progressContext:l().any,history:l().any,dragContext:l().any,t:l().func};const Of=h((0,i.y)(pe(_e(Os(wt(iC(ht(tg(Iu((0,w.CI)("common")(Lf)))))))))));class Vf extends a.Component{hasLockDetail(){return this.props.resourceWorkspaceContext.lockDisplayDetail}render(){const e=this.props.context.siteSettings.canIUse("folders")&&this.props.rbacContext.canIUseUiAction(R),t=this.props.context.siteSettings.canIUse("tags")&&this.props.rbacContext.canIUseUiAction(U);return a.createElement("div",null,a.createElement("div",{className:"header second"},a.createElement(Va,null),a.createElement(lb,{placeholder:this.props.t("Search passwords")}),a.createElement(cn,{baseUrl:this.props.context.userSettings.getTrustedDomain(),user:this.props.context.loggedInUser})),a.createElement("div",{className:"header third"},a.createElement("div",{className:"col1 main-action-wrapper"},a.createElement(SE,null)),a.createElement(gE,null)),a.createElement("div",{className:"panel main"},a.createElement("div",{className:"panel left"},a.createElement(db,null),e&&a.createElement(dg,null),a.createElement(RE,null),t&&a.createElement(ib,null)),a.createElement("div",{className:"panel middle"},a.createElement(mb,null),a.createElement(Of,null),this.props.resourceWorkspaceContext.details.folder&&this.hasLockDetail()&&a.createElement(Eg,null),this.props.resourceWorkspaceContext.details.resource&&this.hasLockDetail()&&a.createElement(KC,null))))}}Vf.propTypes={context:l().any,rbacContext:l().any,resourceWorkspaceContext:l().any,t:l().func};const Hf=h(pe(wt((0,w.CI)("common")(Vf))));class qf{constructor(e){this.port=e}async getOrganizationAccountRecoverySettings(){return await this.port.request("passbolt.account-recovery.get-organization-policy")}}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},jf.apply(null,arguments)}class Wf extends a.Component{constructor(e){super(e),this.bindCallback()}bindCallback(){this.stop=this.stop.bind(this)}async stop(e){this.props.workflowContext.stop(e)}render(){return a.createElement(a.Fragment,null,this.props.workflowContext.workflows.map((({key:e,Workflow:t,workflowProps:s})=>a.createElement(t,jf({key:e,onStop:()=>this.stop(e)},s)))),this.props.children)}}Wf.propTypes={workflowContext:l().any,children:l().any};const zf=ra(Wf);class Bf extends a.Component{getPathnameFromUrlParameter(){const e=new URLSearchParams(this.props.location.search).get("pathname");return this.validatePathname(e)?e:""}validatePathname(e){return/^[A-Za-z0-9\-\/]*$/.test(e)}get pathnameToRedirectTo(){return this.getPathnameFromUrlParameter()||"/app/passwords"}render(){return a.createElement(i.rd,{to:this.pathnameToRedirectTo})}}Bf.propTypes={location:l().object};const Gf=(0,i.y)(Bf),Kf="mandatory",$f="opt-out";class Zf extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleSubmit=this.handleSubmit.bind(this),this.handleCancel=this.handleCancel.bind(this)}async handleSubmit(e){e.preventDefault(),this.props.onClose(),await this.props.history.push({pathname:"/app/settings/account-recovery/edit"})}async handleCancel(){await this.props.context.port.request("passbolt.account-recovery.postpone-user-setting-invitation"),this.props.onClose()}get translate(){return this.props.t}render(){return a.createElement(ve,{title:`${this.translate("Account recovery enrollment")}`,onClose:this.handleCancel,className:"recovery-account-policy-dialog"},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("div",{className:"form-content"},a.createElement("p",null,{[Kf]:a.createElement(w.x6,null,"It is mandatory to share securely a copy of your private key with your organization recovery contacts. Would you like to continue?"),[$f]:a.createElement(w.x6,null,"It is recommended to share securely a copy of your private key with your organization recovery contacts. Would you like to continue?")}[this.props.policy])),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement("button",{type:"button",className:"link cancel",onClick:this.handleCancel},a.createElement(w.x6,null,"Later")),a.createElement(Vt,{value:this.translate("Continue")}))))}}Zf.propTypes={context:l().object,policy:l().string,onClose:l().func,t:l().func,history:l().object};const Yf=(0,i.y)(h((0,w.CI)("common")(Zf)));class Jf extends a.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleSubmit=this.handleSubmit.bind(this),this.handleCancel=this.handleCancel.bind(this)}async handleSubmit(e){e.preventDefault(),await this.props.navigationContext.onGoToUserSettingsMfaRequested(),this.props.onClose()}async handleCancel(){await this.props.context.port.request("passbolt.mfa-policy.postpone-user-setting-invitation"),this.props.onClose()}get translate(){return this.props.t}render(){return a.createElement(ve,{title:`${this.translate("Enable Multi Factor Authentication")}`,onClose:this.handleCancel,className:"mfa-policy-dialog"},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("div",{className:"form-content"},a.createElement("p",null,"Your administrator requires you to configure a Multi Factor Authentication method for your account.")),a.createElement("div",{className:"submit-wrapper clearfix"},a.createElement("button",{type:"button",className:"cancel link",onClick:this.handleCancel},a.createElement(w.x6,null,"Later")),a.createElement(Vt,{value:this.translate("Go to MFA settings")}))))}}Jf.propTypes={context:l().object,navigationContext:l().any,onClose:l().func,t:l().func,history:l().object};const Xf=b(h((0,w.CI)("common")(Jf)));class Qf extends a.Component{constructor(e){super(e),this.state=this.getDefaultState()}getDefaultState(){return{shouldDisplayMFA:!1,shouldDisplayAccountRecovery:!1}}async componentDidMount(){await this.checkToDisplayDialog(),await this.displayDialog()}async componentDidUpdate(){(this.state.shouldDisplayAccountRecovery||this.state.shouldDisplayMFA)&&await this.displayDialog()}async checkToDisplayDialog(){if(this.isCurrentUrlDisallowsUsersDialog())return;let e=!1;if(!e&&this.props.context.siteSettings.canIUse("accountRecovery")){const t=await this.checkAccountRecovery();this.setState({shouldDisplayAccountRecovery:t}),e=t}if(!e&&this.props.context.siteSettings.canIUse("mfaPolicies")){const t=await this.checkMfaPolicy();this.setState({shouldDisplayMFA:t}),e=t}}isCurrentUrlDisallowsUsersDialog(){const e=this.props.location.pathname;return e.startsWith("/app/settings/mfa")||e.startsWith("/app/settings/account-recovery")}isOrganizationPolicyRequiresAUserChoiceForAccountRecovery(){const e=this.props.accountRecoveryContext.getPolicy();return e===la.POLICY_MANDATORY||e===la.POLICY_OPT_OUT}isOrganizationPolicyRequiresAUserChoiceForMfa(){return this.props.mfaContext.getPolicy()===Ha}async checkAccountRecovery(){return!await this.props.context.port.request("passbolt.account-recovery.has-user-postponed-user-setting-invitation")&&(await this.props.accountRecoveryContext.loadAccountRecoveryPolicy(),!!this.isOrganizationPolicyRequiresAUserChoiceForAccountRecovery()&&this.props.accountRecoveryContext.getUserAccountRecoverySubscriptionStatus()===la.STATUS_PENDING)}async checkMfaPolicy(){return!(await this.props.context.port.request("passbolt.mfa-policy.has-user-postponed-user-setting-invitation")||(await this.props.mfaContext.findPolicy(),await this.props.mfaContext.findMfaSettings(),this.props.mfaContext.hasMfaUserSettings()||!this.isOrganizationPolicyRequiresAUserChoiceForMfa()))}async displayDialog(){if(await this.props.accountRecoveryContext.loadAccountRecoveryPolicy(),!(this.props.dialogContext.dialogs.length>0))if(!this.state.shouldDisplayAccountRecovery&&this.state.shouldDisplayMFA)this.props.dialogContext.open(Xf),this.setState({shouldDisplayMFA:!1});else if(this.state.shouldDisplayAccountRecovery){const e=this.props.accountRecoveryContext.getPolicy();this.props.dialogContext.open(Yf,{policy:e}),this.setState({shouldDisplayAccountRecovery:!1})}}render(){return null}}Qf.propTypes={dialogContext:l().any,navigationContext:l().any,accountRecoveryContext:l().object,mfaContext:l().object,context:l().object,location:l().object};const ey=(0,i.y)(h(da(on(k(Qf)))));class ty extends a.Component{render(){const e=new qf(this.props.port);return a.createElement(ol,{port:this.props.port,storage:this.props.storage},a.createElement(m.Consumer,null,(t=>a.createElement(hl,{loadingPath:"/webAccessibleResources/locales/{{lng}}/{{ns}}.json"},a.createElement(me,null,a.createElement(ca,{accountRecoveryUserService:e},a.createElement(_t,null,a.createElement(rn,null,a.createElement(na,null,a.createElement(Ie,null,a.createElement(v,null,a.createElement(Ao,null,a.createElement(Ls,null,a.createElement(Ve,null,a.createElement(Ru,null,a.createElement(Ae,null),a.createElement(bu,null),a.createElement(vu,null),a.createElement(Du,null),a.createElement(Eo,null),t.loggedInUser&&"admin"===t.loggedInUser.role.name&&t.siteSettings.canIUse("ee")&&a.createElement(Ko,null),a.createElement(r.Kd,null,a.createElement(C,null,t.loggedInUser&&(t.siteSettings.canIUse("accountRecovery")||t.siteSettings.canIUse("mfaPolicies"))&&a.createElement(ey,null),a.createElement(ko,null),a.createElement(i.dO,null,a.createElement(i.qh,{path:"/webAccessibleResources/passbolt-iframe-app.html",component:Gf}),a.createElement(i.qh,{exact:!0,path:["/app/administration","/app/administration/mfa","/app/administration/users-directory","/app/administration/email-notification","/app/administration/smtp-settings","/app/settings/mfa/:provider","/app/settings/mfa","/app/administration/healthcheck"]}),a.createElement(i.qh,{path:["/app/folders/view/:filterByFolderId","/app/passwords/view/:selectedResourceId","/app/passwords/filter/:filterType","/app/passwords"]},a.createElement(dt,null,a.createElement(kt,null,a.createElement(Wb,null,a.createElement(rC,null,a.createElement(Mt,null,a.createElement(Fe,null),a.createElement(zf,null),a.createElement(qs,null),a.createElement(Lo,null),a.createElement(eg,null,a.createElement("div",{id:"container",className:"page password"},a.createElement("div",{id:"app",className:"app ready",tabIndex:"1000"},a.createElement("div",{className:"header first"},a.createElement(Se,null)),a.createElement(Hf,{onMenuItemClick:this.handleWorkspaceSelect})))))))))),a.createElement(i.qh,{path:["/app/account-recovery/requests/review/:accountRecoveryRequestId","/app/groups/view/:selectedGroupId","/app/groups/edit/:selectedGroupId","/app/users/view/:selectedUserId","/app/users"]},a.createElement(Ps,null,a.createElement(Fe,null),a.createElement(zf,null),a.createElement(qs,null),a.createElement(Lo,null),a.createElement("div",{id:"container",className:"page user"},a.createElement("div",{id:"app",className:"app ready",tabIndex:"1000"},a.createElement("div",{className:"header first"},a.createElement(Se,null)),a.createElement(nr,null))))),a.createElement(i.qh,{path:"/app/settings"},a.createElement(ur,null,a.createElement(oi,null,a.createElement(Fe,null),a.createElement(Lo,null),a.createElement("div",{id:"container",className:"page settings"},a.createElement("div",{id:"app",className:"app ready",tabIndex:"1000"},a.createElement("div",{className:"header first"},a.createElement(Se,null)),a.createElement(uo,null)))))),a.createElement(i.qh,{exact:!0,path:["/app/administration/subscription","/app/administration/account-recovery","/app/administration/sso","/app/administration/password-policies","/app/administration/user-passphrase-policies","/app/administration/password-expiry"]},a.createElement(No,null,a.createElement(Bc,null,a.createElement(wc,null,a.createElement(Jh,null,a.createElement(Bm,null,a.createElement(lp,null,a.createElement(Sp,null,a.createElement(Fe,null),a.createElement(zf,null),a.createElement(hu,null))))))))),a.createElement(i.qh,{path:"/"},a.createElement(ir,null))))),a.createElement(Bs,null),a.createElement(yo,null))))))))))))))))}}ty.propTypes={onClose:l().func,disabled:l().bool,port:l().object,storage:l().object};const sy=ty,ay=class{constructor(){this._locked=!1,this._queue=[]}acquire(){return this._locked?new Promise((e=>this._queue.push(e))):(this._locked=!0,Promise.resolve())}release(){const e=this._queue.shift();e?e():this._locked=!1}};var ny=s(87946);const ry=class{constructor(e){if(this._listeners={},this.lock=new ay,this.onConnectErrorHandler={},void 0===e)throw Error("A port name is required.");if("string"!=typeof e)throw Error("The port name should be a valid string.");this._name=e}connect(){let e;const t=new Promise((t=>{e=t}));try{this._port=ny.runtime.connect({name:this._name})}catch(e){throw this.onConnectErrorHandler.callback(),e}return this._connected=!0,this.initListener(),this.once("passbolt.port.ready",e),t}initListener(){this._port.onDisconnect.addListener((()=>{console.warn(`port disconnected from addon code: ${this._name}`),this._connected=!1})),this._port.onMessage.addListener((e=>{this._onMessage(e)}))}_onMessage(e){const t=JSON.parse(e),s=t[0];if(Array.isArray(this._listeners[s])){const e=this._listeners[s];for(let a=0;a<e.length;a++){const n=e[a],r=Array.prototype.slice.call(t,1);n.callback.apply(this,r),n.once&&(this._listeners[s].splice(a,1),0===this._listeners[s].length&&delete this._listeners[s],a--)}}}_addListener(e,t,s){Array.isArray(this._listeners[e])||(this._listeners[e]=[]),this._listeners[e].push({name:e,callback:t,once:s})}on(e,t){this._addListener(e,t,!1)}once(e,t){this._addListener(e,t,!0)}async emit(...e){const t=JSON.stringify(e);await this.connectIfDisconnected(),this._port.postMessage(t)}request(e,...t){const s=(0,E.A)(),a=[e,s].concat(t);return new Promise(((e,t)=>{this.once(s,((s,...a)=>{"SUCCESS"===s?e.apply(null,a):"ERROR"===s&&t.apply(null,a)})),this.emit.apply(this,a)}))}async connectIfDisconnected(){try{await this.lock.acquire(),this._connected||await this.connect()}finally{this.lock.release()}}onConnectError(e){this.onConnectErrorHandler.callback=e}};var iy=s(87946);const oy=class{constructor(){this._listeners={},this._onMessage=this._onMessage.bind(this),iy.runtime.onMessage.addListener(this._onMessage)}async _onMessage(e){const t=e[0];if(void 0!==this._listeners[t]&&this._listeners[t].length>0){const s=this._listeners[t];for(let t=0;t<s.length;t++){const a=s[t],n=Array.prototype.slice.call(e,1);await a.callback.apply(this,n)}}}addListener(e,t){void 0===this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push({name:e,callback:t})}success(e){return Promise.resolve(e)}error(e){return Promise.reject(e)}},ly=class{constructor(e){if(!(e instanceof oy))throw new Error("The messageService should be a valid MessageService instance.");this.messageService=e}listen(e,t,...s){if("string"!=typeof e)throw new Error("The message should be a valid string.");if(!e.length)throw new Error("The message should not be empty.");if("function"!=typeof t)throw new Error("The ControllerClass should be a valid class.");this.messageService.addListener(e,(async(...e)=>{e=e||{};try{const a=new t(...s||{}),n=await a.exec(...e);await this.messageService.success(n)}catch(e){await this.messageService.error(e)}}))}},cy=class{constructor(e){this.port=e}async exec(e){this.port._name===e&&await this.port.connectIfDisconnected()}};var dy=s(87946);!async function(){const e=new URLSearchParams(window.location.search).get("passbolt"),t=new ry(e);await t.connect();const s=new oy;new ly(s).listen("passbolt.port.connect",cy,t);const r=dy.storage,i=document.createElement("div");document.body.appendChild(i),n.render(a.createElement(sy,{port:t,storage:r}),i)}()}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={id:e,loaded:!1,exports:{}};return a[e].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=a,e=[],r.O=(t,s,a,n)=>{if(!s){var i=1/0;for(d=0;d<e.length;d++){for(var[s,a,n]=e[d],o=!0,l=0;l<s.length;l++)(!1&n||i>=n)&&Object.keys(r.O).every((e=>r.O[e](s[l])))?s.splice(l--,1):(o=!1,n<i&&(i=n));if(o){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,a,n]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var n=Object.create(null);r.r(n);var i={};t=t||[null,s({}),s([]),s(s)];for(var o=2&a&&e;"object"==typeof o&&!~t.indexOf(o);o=s(o))Object.getOwnPropertyNames(o).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,r.d(n,i),n},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.j=524,(()=>{var e={524:0};r.O.j=t=>0===e[t];var t=(t,s)=>{var a,n,[i,o,l]=s,c=0;if(i.some((t=>0!==e[t]))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(l)var d=l(r)}for(t&&t(s);c<i.length;c++)n=i[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},s=self.dataChunkLoadingGlobal=self.dataChunkLoadingGlobal||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var i=r.O(void 0,[96],(()=>r(10598)));i=r.O(i)})();
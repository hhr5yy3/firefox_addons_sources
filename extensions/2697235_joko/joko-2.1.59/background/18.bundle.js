"use strict";(self.webpackChunkchrome_extension=self.webpackChunkchrome_extension||[]).push([[18],{47175:(t,_,e)=>{var n;Object.defineProperty(_,"__esModule",{value:!0}),_.SPINNER_ICON_URL=_.SHOPPING_BAG_GREEN_ICON_URL=_.SHOPPING_BAG_ICON_URL=_.JOKO_CARD_MINIMIZED_ICON_URL=_.COUPON_WHITE_ICON_URL=_.COUPON_WITHOUT_PERCENT_ICON_URL=_.GEAR_ICON_URL=_.USER_SILHOUETTE_GREEN_ICON_URL=_.USER_SILHOUETTE_ICON_URL=_.REDIRECTION_ICON_URL=_.LIGHTNING_BOLT_FILLED_CIRCLE_GREEN_ICON_URL=_.LIGHTNING_BOLT_FILLED_CIRCLE_BLACK_ICON_URL=_.MAGNIFYING_GLASS_WITH_SQUARE_GREEN_ICON_URL=_.MAGNIFYING_GLASS_WITH_SQUARE_ICON_URL=_.MAGNIFYING_GLASS_ICON_URL=_.CREDIT_CARD_ICON_URL=_.INFO_CIRCLE_BLACK_ICON_URL=_.WARNING_TRIANGLE_RED_ICON_URL=_.BOOK_OPEN_BLACK_ICON_URL=_.EMPTY_CHECKBOX_ICON_URL=_.TRASH_CAN_ICON_URL=_.COPY_BUTTON_PURPLE_ICON_URL=_.NOTIFICATION_OFF_ICON_URL=_.CLOCK_GRAY_ICON_URL=_.CLOCK_BLACK_ICON_URL=_.RADIO_BUTTON_UNCHECKED_GRAY=_.RADIO_BUTTON_CHECKED_GREEN=_.CHECK_MARK_PURPLE_ICON_URL=_.CHECK_MARK_GREEN_ICON_URL=_.CHECK_MARK_BLACK_ICON_URL=_.CHECK_MARK_FILLED_ROUND_GREEN_ICON_URL=_.CHECK_MARK_FILLED_GREEN_ICON_URL=_.STOPWATCH_BLACK_ICON_URL=_.SETTINGS_WHEEL_ICON_URL=_.LOGIN_PADLOCK_GREEN_ICON_URL=_.LOGIN_PADLOCK_WHITE_ICON_URL=_.COOKIE_ICON_URL=_.THREE_DOTS_GRAY_ICON_URL=_.THREE_DOTS_ICON_URL=_.FOUR_DOTS_ICON_URL=_.ARROW_RIGHT_BLACK_ICON_URL=_.CHEVRON_LEFT_STRAIGHT_ICON_URL=_.CHEVRON_RIGHT_THIN_ROUND_ICON_URL=_.CHEVRON_DOWN_ICON_URL=_.CROSS_BLACK_ICON_URL=_.LOGO_WITH_TITLE_WHITE_IMAGE_URL=_.OLD_LOGO_WITH_TITLE_IMAGE_URL=_.LOGO_WITH_TITLE_IMAGE_URL=_.LOGO_WHITE_IMAGE_URL=_.LOGO_IMAGE_URL=void 0,_.AMBIT_BLACK_ITALIC_FONT_URL=_.AMBIT_BLACK_FONT_URL=_.AMBIT_BOLD_ITALIC_FONT_URL=_.AMBIT_BOLD_FONT_URL=_.AMBIT_SEMI_BOLD_ITALIC_FONT_URL=_.AMBIT_SEMI_BOLD_FONT_URL=_.AMBIT_LIGHT_ITALIC_FONT_URL=_.AMBIT_LIGHT_FONT_URL=_.AMBIT_EXTRA_LIGHT_ITALIC_FONT_URL=_.AMBIT_EXTRA_LIGHT_FONT_URL=_.AMBIT_THIN_ITALIC_FONT_URL=_.AMBIT_THIN_FONT_URL=_.AMBIT_ITALIC_FONT_URL=_.AMBIT_REGULAR_FONT_URL=_.STEPS_TO_COMPLETE_VERTICAL_SOLID_LINES_ILLUSTRATION_URL=_.STEPS_TO_COMPLETE_VERTICAL_ILLUSTRATION_URL=_.HORIZONTAL_BAR_GRAY_ILLUSTRATION_URL=_.HORIZONTAL_BAR_GREEN_ILLUSTRATION_URL=_.JOKO_CARD_BARE_ILLUSTRATION_URL=_.JOKO_CARD_TILTED_ILLUSTRATION_URL=_.JOKO_CARD_ILLUSTRATION_URL=_.PRICE_TRACKING_GRAPH_LOADING_PLACEHOLDER_ILLUSTRATION_URL=_.LIGHTNING_BOLT_PURPLE_ILLUSTRATION_URL=_.COUPY_SUCCESS_ILLUSTRATION_URL=_.COUPY_SHADOW_ILLUSTRATION_URL=_.COUPY_MEDITATING_ILLUSTRATION_URL=_.COUPY_NO_SAVINGS_ILLUSTRATION_URL=_.COUPY_ERROR_ILLUSTRATION_URL=_.COUPY_WAVING_LEFT_ARM_ILLUSTRATION_URL=_.COUPY_WAVING_WITHOUT_LEFT_ARM_ILLUSTRATION_URL=_.OFFER_PLACEHOLDER_ILLUSTRATION_URL=_.SEARCH_ENGINE_ACTIVATE_OFFER_BUTTON_ICON_URL=_.SEARCH_ENGINE_SHOP_BUTTON_ICON_URL=_.THREE_TIMES_ICON_URL=_.PRICE_TRACKING_GRAY_ICON_URL=_.PRICE_TRACKING_ICON_URL=void 0;var o=e(55015),r=(0,e(24543).getExtensionAssetUrl)("/assets");_.LOGO_IMAGE_URL="".concat(r,"/logo.svg"),_.LOGO_WHITE_IMAGE_URL="".concat(r,"/logo-white.svg"),_.LOGO_WITH_TITLE_IMAGE_URL="".concat(r,"/logo-with-title.png"),_.OLD_LOGO_WITH_TITLE_IMAGE_URL="".concat(r,"/old-logo-with-title.png"),_.LOGO_WITH_TITLE_WHITE_IMAGE_URL="".concat(r,"/logo-with-title-white.svg"),_.CROSS_BLACK_ICON_URL="".concat(r,"/cross-black.svg"),_.CHEVRON_DOWN_ICON_URL="".concat(r,"/chevron.svg"),_.CHEVRON_RIGHT_THIN_ROUND_ICON_URL="".concat(r,"/chevron-thin-round-right.svg"),_.CHEVRON_LEFT_STRAIGHT_ICON_URL="".concat(r,"/chevron-straight-left.svg"),_.ARROW_RIGHT_BLACK_ICON_URL="".concat(r,"/arrow-right-black.png"),_.FOUR_DOTS_ICON_URL="".concat(r,"/four-dots.svg"),_.THREE_DOTS_ICON_URL="".concat(r,"/three-dots.svg"),_.THREE_DOTS_GRAY_ICON_URL="".concat(r,"/three-dots-gray.svg"),_.COOKIE_ICON_URL="".concat(r,"/cookie.png"),_.LOGIN_PADLOCK_WHITE_ICON_URL="".concat(r,"/login-padlock-white.svg"),_.LOGIN_PADLOCK_GREEN_ICON_URL="".concat(r,"/login-padlock-green.svg"),_.SETTINGS_WHEEL_ICON_URL="".concat(r,"/settings-wheel.svg"),_.STOPWATCH_BLACK_ICON_URL="".concat(r,"/stopwatch-black.svg"),_.CHECK_MARK_FILLED_GREEN_ICON_URL="".concat(r,"/check-mark-filled-green.svg"),_.CHECK_MARK_FILLED_ROUND_GREEN_ICON_URL="".concat(r,"/check-mark-filled-round-green.svg"),_.CHECK_MARK_BLACK_ICON_URL="".concat(r,"/check-mark-black.svg"),_.CHECK_MARK_GREEN_ICON_URL="".concat(r,"/check-mark-green.svg"),_.CHECK_MARK_PURPLE_ICON_URL="".concat(r,"/check-mark-purple.svg"),_.RADIO_BUTTON_CHECKED_GREEN="".concat(r,"/radio-button-checked-green.svg"),_.RADIO_BUTTON_UNCHECKED_GRAY="".concat(r,"/radio-button-unchecked-gray.svg"),_.CLOCK_BLACK_ICON_URL="".concat(r,"/clock-black.svg"),_.CLOCK_GRAY_ICON_URL="".concat(r,"/clock-gray.svg"),_.NOTIFICATION_OFF_ICON_URL="".concat(r,"/notification-off.svg"),_.COPY_BUTTON_PURPLE_ICON_URL="".concat(r,"/copy-button-purple.svg"),_.TRASH_CAN_ICON_URL="".concat(r,"/trash-can.svg"),_.EMPTY_CHECKBOX_ICON_URL="".concat(r,"/checkbox-empty.svg"),_.BOOK_OPEN_BLACK_ICON_URL="".concat(r,"/book-open-black.png"),_.WARNING_TRIANGLE_RED_ICON_URL="".concat(r,"/warning-triangle-red.svg"),_.INFO_CIRCLE_BLACK_ICON_URL="".concat(r,"/info-circle-black.png"),_.CREDIT_CARD_ICON_URL="".concat(r,"/credit-card.svg"),_.MAGNIFYING_GLASS_ICON_URL="".concat(r,"/magnifying-glass.svg"),_.MAGNIFYING_GLASS_WITH_SQUARE_ICON_URL="".concat(r,"/magnifying-glass-with-square.svg"),_.MAGNIFYING_GLASS_WITH_SQUARE_GREEN_ICON_URL="".concat(r,"/magnifying-glass-with-square-green.svg"),_.LIGHTNING_BOLT_FILLED_CIRCLE_BLACK_ICON_URL="".concat(r,"/lightning-bolt-filled-circle-black.svg"),_.LIGHTNING_BOLT_FILLED_CIRCLE_GREEN_ICON_URL="".concat(r,"/lightning-bolt-filled-circle-green.svg"),_.REDIRECTION_ICON_URL="".concat(r,"/redirection.svg"),_.USER_SILHOUETTE_ICON_URL="".concat(r,"/user-silhouette.svg"),_.USER_SILHOUETTE_GREEN_ICON_URL="".concat(r,"/user-silhouette-green.svg"),_.GEAR_ICON_URL="".concat(r,"/gear.svg"),_.COUPON_WITHOUT_PERCENT_ICON_URL="".concat(r,"/coupon-without-percent.svg"),_.COUPON_WHITE_ICON_URL="".concat(r,"/coupon-white.svg"),_.JOKO_CARD_MINIMIZED_ICON_URL="".concat(r,"/joko-card-minimized.svg"),_.SHOPPING_BAG_ICON_URL="".concat(r,"/shopping-bag.svg"),_.SHOPPING_BAG_GREEN_ICON_URL="".concat(r,"/shopping-bag-green.svg"),_.SPINNER_ICON_URL="".concat(r,"/spinner.png"),_.PRICE_TRACKING_ICON_URL="".concat(r,"/price-tracking.svg"),_.PRICE_TRACKING_GRAY_ICON_URL="".concat(r,"/price-tracking-gray.svg"),_.THREE_TIMES_ICON_URL="".concat(r,"/three-times.svg"),_.SEARCH_ENGINE_SHOP_BUTTON_ICON_URL="".concat(r,"/search-engine-shop-offer-button.svg"),_.SEARCH_ENGINE_ACTIVATE_OFFER_BUTTON_ICON_URL=((n={})[o.Region.FR]="".concat(r,"/search-engine-activate-offer-button.svg"),n[o.Region.US]="".concat(r,"/search-engine-activate-offer-button-us.svg"),n[o.Region.GB]="".concat(r,"/search-engine-activate-offer-button-us.svg"),n),_.OFFER_PLACEHOLDER_ILLUSTRATION_URL="".concat(r,"/offer-placeholder.svg"),_.COUPY_WAVING_WITHOUT_LEFT_ARM_ILLUSTRATION_URL="".concat(r,"/coupy-waving-without-left-arm.png"),_.COUPY_WAVING_LEFT_ARM_ILLUSTRATION_URL="".concat(r,"/coupy-waving-left-arm.svg"),_.COUPY_ERROR_ILLUSTRATION_URL="".concat(r,"/coupy-error.svg"),_.COUPY_NO_SAVINGS_ILLUSTRATION_URL="".concat(r,"/coupy-no-savings.png"),_.COUPY_MEDITATING_ILLUSTRATION_URL="".concat(r,"/coupy-meditating.svg"),_.COUPY_SHADOW_ILLUSTRATION_URL="".concat(r,"/coupy-shadow.svg"),_.COUPY_SUCCESS_ILLUSTRATION_URL="".concat(r,"/coupy-success.png"),_.LIGHTNING_BOLT_PURPLE_ILLUSTRATION_URL="".concat(r,"/lightning-bolt-purple.svg"),_.PRICE_TRACKING_GRAPH_LOADING_PLACEHOLDER_ILLUSTRATION_URL="".concat(r,"/price-tracking-graph-loading-placeholder.svg"),_.JOKO_CARD_ILLUSTRATION_URL="".concat(r,"/joko-card.png"),_.JOKO_CARD_TILTED_ILLUSTRATION_URL="".concat(r,"/joko-card-tilted.png"),_.JOKO_CARD_BARE_ILLUSTRATION_URL="".concat(r,"/joko-card-bare.png"),_.HORIZONTAL_BAR_GREEN_ILLUSTRATION_URL="".concat(r,"/horizontal-bar-green.svg"),_.HORIZONTAL_BAR_GRAY_ILLUSTRATION_URL="".concat(r,"/horizontal-bar-gray.svg"),_.STEPS_TO_COMPLETE_VERTICAL_ILLUSTRATION_URL="".concat(r,"/steps-to-complete-vertical.svg"),_.STEPS_TO_COMPLETE_VERTICAL_SOLID_LINES_ILLUSTRATION_URL="".concat(r,"/steps-to-complete-vertical-solid-lines.svg"),_.AMBIT_REGULAR_FONT_URL="".concat(r,"/Ambit-Regular.ttf"),_.AMBIT_ITALIC_FONT_URL="".concat(r,"/Ambit-Italic.ttf"),_.AMBIT_THIN_FONT_URL="".concat(r,"/Ambit-Thin.ttf"),_.AMBIT_THIN_ITALIC_FONT_URL="".concat(r,"/Ambit-ThinItalic.ttf"),_.AMBIT_EXTRA_LIGHT_FONT_URL="".concat(r,"/Ambit-ExtraLight.ttf"),_.AMBIT_EXTRA_LIGHT_ITALIC_FONT_URL="".concat(r,"/Ambit-ExtraLightItalic.ttf"),_.AMBIT_LIGHT_FONT_URL="".concat(r,"/Ambit-Light.ttf"),_.AMBIT_LIGHT_ITALIC_FONT_URL="".concat(r,"/Ambit-LightItalic.ttf"),_.AMBIT_SEMI_BOLD_FONT_URL="".concat(r,"/Ambit-SemiBold.ttf"),_.AMBIT_SEMI_BOLD_ITALIC_FONT_URL="".concat(r,"/Ambit-SemiBoldItalic.ttf"),_.AMBIT_BOLD_FONT_URL="".concat(r,"/Ambit-Bold.ttf"),_.AMBIT_BOLD_ITALIC_FONT_URL="".concat(r,"/Ambit-BoldItalic.ttf"),_.AMBIT_BLACK_FONT_URL="".concat(r,"/Ambit-Black.ttf"),_.AMBIT_BLACK_ITALIC_FONT_URL="".concat(r,"/Ambit-BlackItalic.ttf")},92204:function(t,_,e){var n=this&&this.__awaiter||function(t,_,e,n){return new(e||(e=Promise))((function(o,r){function c(t){try{I(n.next(t))}catch(t){r(t)}}function a(t){try{I(n.throw(t))}catch(t){r(t)}}function I(t){var _;t.done?o(t.value):(_=t.value,_ instanceof e?_:new e((function(t){t(_)}))).then(c,a)}I((n=n.apply(t,_||[])).next())}))},o=this&&this.__generator||function(t,_){var e,n,o,r,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(I){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(c=0)),c;)try{if(e=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,n=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=_.call(t,c)}catch(t){a=[6,t],n=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,I])}}},r=this&&this.__read||function(t,_){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,r=e.call(t),c=[];try{for(;(void 0===_||_-- >0)&&!(n=r.next()).done;)c.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return c},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_,"__esModule",{value:!0}),_.useImageSource=_.checkShouldLoadImagesThroughBackgroundScript=_.shouldLoadImagesThroughBackgroundScript=_.useImagePreloader=void 0;var a=c(e(96540)),I=c(e(2543)),L=e(46239);function i(t){return new Promise((function(_){var e=new Image;e.onload=function(){return _()},e.src=t}))}_.useImagePreloader=function(t){var _=r(a.default.useState(!0),2),e=_[0],c=_[1],L=a.default.useMemo((function(){return I.default.uniq(t)}),[t]);return a.default.useEffect((function(){var t=!1;if(L.length)return function(){n(this,void 0,void 0,(function(){return o(this,(function(_){switch(_.label){case 0:return t?[2]:[4,Promise.all(L.map(i))];case 1:return _.sent(),t?[2]:(c(!1),[2])}}))}))}(),function(){t=!0}}),[L]),e},_.shouldLoadImagesThroughBackgroundScript=!1;_.checkShouldLoadImagesThroughBackgroundScript=function(){var t=new Image;t.onerror=function(){return _.shouldLoadImagesThroughBackgroundScript=!0},t.src="https://joko-mobile-app-media.s3.eu-west-1.amazonaws.com/browser-extension/background_script/background_script_image_loading_assessment_asset.png"},_.useImageSource=function(t){var e=r(a.default.useState(void 0),2),c=e[0],I=e[1];return a.default.useEffect((function(){_.shouldLoadImagesThroughBackgroundScript&&t&&function(t){return n(this,void 0,void 0,(function(){return o(this,(function(_){switch(_.label){case 0:return[4,new Promise((function(_){return(0,L.sendMessageToBackgroundScript)({message:"loadImage",data:{imageUrl:t}},(function(t){return _(t.base64Image)}))}))];case 1:return[2,_.sent()]}}))}))}(t).then(I)}),[]),_.shouldLoadImagesThroughBackgroundScript?c||"":t}},32668:function(t,_,e){var n=this&&this.__read||function(t,_){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,r=e.call(t),c=[];try{for(;(void 0===_||_-- >0)&&!(n=r.next()).done;)c.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(o)throw o.error}}return c},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_,"__esModule",{value:!0}),_.checkIsOnMobileScreen=_.useDisableMobileSafariAutoZoomOnInputFocus=_.useDisableMobileSafariNativeSwipe=_.useForceMobileSafariAutoLoginEasterEgg=_.isOsVersion18OrLater=void 0;var r=o(e(96540)),c=e(55015),a=e(25841),I=e(46239);function L(t){t.touches[0].pageX>20&&t.touches[0].pageX<window.innerWidth-20||t.preventDefault()}_.isOsVersion18OrLater=Number((0,a.getSafariMajorAndMinorOsVersion)())>=18,_.useForceMobileSafariAutoLoginEasterEgg=function(){var t=n(r.default.useState(0),2),_=t[0],e=t[1];return r.default.useEffect((function(){_>=5&&(0,c.getLocalStorageItem)(c.LocalStorageKey.userId).then((function(t){e(0),window.confirm("You are logged in with user ".concat(t,". Do you want to manually trigger automatic login?"))&&(0,I.sendMessageToBackgroundScript)({message:"forceMobileSafariAutoLogin",data:{}})}))}),[_]),function(){return e(_+1)}},_.useDisableMobileSafariNativeSwipe=function(t){var _=t.isMobileExtension,e=t.sideButtonElementRef;r.default.useEffect((function(){return _&&e.current&&e.current.addEventListener("touchstart",L),function(){_&&e.current&&e.current.removeEventListener("touchstart",L)}}),[_,e])},_.useDisableMobileSafariAutoZoomOnInputFocus=function(t){var _=r.default.useRef();r.default.useEffect((function(){if(t){var e=document.querySelector("[name=viewport]");return e?_.current=e.getAttribute("content")||void 0:e=document.createElement("meta"),e.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1"),function(){var t=document.querySelector("[name=viewport]");t&&(_.current?t.setAttribute("content",_.current):t.remove())}}}),[])};_.checkIsOnMobileScreen=function(){return window.screen.width<500}},81082:(t,_,e)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.sendMessageThroughPort=_.setContentScriptPortMessageListener=void 0;var n=e(22831),o=chrome.runtime.connect({name:"contentScriptPort|".concat(Date.now())});_.setContentScriptPortMessageListener=function(){var t=function(t){var _=r.get(t.messageId);null==_||_(t.response),r.delete(t.messageId)};o.onMessage.removeListener(t),o.onMessage.addListener(t)};var r=new Map;_.sendMessageThroughPort=function(t,_){var e=(0,n.v4)();_&&r.set(e,_),o.postMessage({messageId:e,message:t})}},46239:function(t,_,e){var n=this&&this.__awaiter||function(t,_,e,n){return new(e||(e=Promise))((function(o,r){function c(t){try{I(n.next(t))}catch(t){r(t)}}function a(t){try{I(n.throw(t))}catch(t){r(t)}}function I(t){var _;t.done?o(t.value):(_=t.value,_ instanceof e?_:new e((function(t){t(_)}))).then(c,a)}I((n=n.apply(t,_||[])).next())}))},o=this&&this.__generator||function(t,_){var e,n,o,r,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(I){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(c=0)),c;)try{if(e=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,n=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=_.call(t,c)}catch(t){a=[6,t],n=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,I])}}},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_,"__esModule",{value:!0}),_.sendMessageToBackgroundScript=void 0;var c=r(e(2543)),a=e(55015),I=e(25841),L=e(81082);_.sendMessageToBackgroundScript=function(t,_){return n(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,R()];case 1:return e.sent()?(0,L.sendMessageThroughPort)(t,_):chrome.runtime.sendMessage(t,{},(function(t){return null==_?void 0:_(t)})),[2]}}))}))};var i=["17.3","17.4","17.5"],R=c.default.once((function(){return n(void 0,void 0,void 0,(function(){var t,_;return o(this,(function(e){switch(e.label){case 0:return a.browserKind!==a.Browser.safari?[2,!1]:(t=(0,I.getSafariMajorAndMinorOsVersion)())&&i.some((function(_){return t.startsWith(_)}))?[4,(0,a.getLocalStorageItem)(a.LocalStorageKey.userFeaturesMap)]:[2,!1];case 1:return[2,!!(null==(_=e.sent())?void 0:_[a.Feature.sendMessagesThroughPortMobileBrowserExtension])]}}))}))}))}}]);
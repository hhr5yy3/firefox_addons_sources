"use strict";(self.webpackChunk_jumpcloud_pwm_extension=self.webpackChunk_jumpcloud_pwm_extension||[]).push([[507],{818:(t,e,n)=>{n.d(e,{AO:()=>s,p7:()=>u});var r=n(942);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var a=window.browser;void 0===a&&(a=chrome);var s={firefox:!0,browser:"Firefox",getBackgroundPage:function(){return a.runtime.getBackgroundPage()},getURL:function(t){return a.runtime.getURL(t)},getManifest:function(){return a.runtime.getManifest()},getPlatformInfo:function(){return a.runtime.getPlatformInfo()},getPlatformDetails:function(){return{}},getBrowserInfo:function(){return{browser:s.browser,browserVersion:s.getBrowserVersion(),extensionVersion:s.getVersion()}},getBrowserVersion:function(){var t=navigator.userAgent,e=t.indexOf("Firefox"),n=e+"Firefox".length+1;return e>-1?t.substr(n):-1},getId:function(){return a.runtime.id},getVersion:function(){return s.getManifest().version},openURL:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.windows.getCurrent({populate:!0,windowTypes:[s.windows.WindowType.NORMAL]}).then((function(){return s.tabs.create(o({url:t},e))})).catch((function(){return s.windows.create({url:t,width:screen.availWidth,height:screen.availHeight,left:0,top:0})}))},windows:a.windows&&{WindowType:{NORMAL:a.windows.WindowType.NORMAL,POPUP:a.windows.WindowType.POPUP},get:function(t,e){return e=e||{},a.windows.get(t,{populate:e.populate,windowTypes:e.windowTypes}).then(l.fromWin)},isNormalWindow:function(t){return t===s.windows.WindowType.NORMAL},getCurrent:function(t){return t=t||{},a.windows.getCurrent({populate:t.populate,windowTypes:t.windowTypes}).then(l.fromWin)},getAll:function(t){return t=t||{},a.windows.getAll({windowTypes:t.windowTypes,populate:t.populate}).then((function(t){return t.map(l.fromWin)}))},openPopup:function(t){return s.windows.create({url:t.url,top:t.top||30,left:t.left||screen.availWidth-t.width-30,width:t.width,height:t.height,type:s.windows.WindowType.POPUP})},create:function(t){return t=t||{},a.windows.create({url:t.url,top:t.top,left:t.left,width:t.width,height:t.height,type:t.type||s.windows.WindowType.NORMAL}).then(l.fromWin)},update:function(t,e){return a.windows.update(t,{top:e.top,left:e.left})},onRemoved:{addListener:function(t){var e=function(e){t(l.fromWinId(e))};return a.windows.onRemoved.addListener(e),e},removeListener:function(t){a.windows.onRemoved.removeListener(t)}}},tabs:a.tabs&&{create:function(t){return t=t||{},a.tabs.create({url:t.url,windowId:t.windowId,active:t.active}).then(c.fromTab)},sendMessage:function(t,e){return a.tabs.sendMessage(t,e).catch((function(t){console.log(t)}))},executeScript:function(t,e){return a.tabs.executeScript(t,{file:e})},onActivated:{addListener:function(t){var e=function(e){t(c.fromTabId(e.tabId),e)};return a.tabs.onActivated.addListener(e),e},removeListener:function(t){a.tabs.onActivated.removeListener(t)}},onUpdated:{addListener:function(t){var e=function(e,n,r){t(c.fromTab(r),n)};return a.tabs.onUpdated.addListener(e),e},removeListener:function(t){a.tabs.onUpdated.removeListener(t)}},onCreated:{addListener:function(t){var e=function(e){t(c.fromTab(e))};return a.tabs.onCreated.addListener(e),e},removeListener:function(t){a.tabs.onCreated.removeListener(t)}},onRemoved:{addListener:function(t){var e=function(e){t(c.fromTabId(e))};return a.tabs.onRemoved.addListener(e),e},removeListener:function(t){a.tabs.onRemoved.removeListener(t)}},remove:function(t){return a.tabs.remove(t)},query:function(t){return t=t||{},a.tabs.query({url:t.url,currentWindow:t.currentWindow,active:t.active,windowId:t.windowId}).then((function(t){return t.map(c.fromTab)}))},getCurrent:function(){return s.tabs.query({currentWindow:!0,active:!0}).then((function(t){return t[0]}))},getAll:function(){return s.tabs.query()},isAvailable:function(t){return a.tabs.get(t).then((function(){return!0})).catch((function(){return!1}))},reload:function(t){return a.tabs.reload(t)}},storage:a.storage&&{local:{get:function(t){return a.storage.local.get(t).then((function(e){if("string"==typeof t){if(!e.hasOwnProperty(t))throw new Error("No Such Storage Entry: ".concat(t));return e[t]}return e}))},getAll:function(){return s.storage.local.get(null)},set:function(t){return a.storage.local.set(t)},remove:function(t){return a.storage.local.remove(t)},clear:function(){return a.storage.local.clear()}},sync:{get:function(t){return a.storage.sync.get(t).then((function(e){if("string"==typeof t){if(!e.hasOwnProperty(t))throw new Error("No Such Storage Entry: ".concat(t));return e[t]}return e}))},getAll:function(){return s.storage.sync.get(null)},set:function(t){return a.storage.sync.set(t)},remove:function(t){return a.storage.sync.remove(t)}},onChanged:a.storage.onChanged},privacy:a.privacy&&{levelControl:{not_controllable:"not_controllable",controlled_by_other_extensions:"controlled_by_other_extensions",controllable_by_this_extension:"controllable_by_this_extension",controlled_by_this_extension:"controlled_by_this_extension"},services:{passwordSavingEnabled:{get:function(t){return a.privacy.services.passwordSavingEnabled.get(t).then((function(t){var e=a.runtime.lastError;return e?Promise.reject(e):Promise.resolve(t)}))},set:function(t){return s.privacy.services.passwordSavingEnabled.get({}).then((function(e){if(e.levelOfControl===s.privacy.levelControl.controllable_by_this_extension)return a.privacy.services.passwordSavingEnabled.set(t).then((function(t){var e=a.runtime.lastError;return e?Promise.reject(e):Promise.resolve(t)}))}))},clear:function(t){return a.privacy.services.passwordSavingEnabled.clear(t)},onChange:{addListener:function(t){}}},autofillCreditCardEnabled:{get:function(t){return Promise.resolve({})},set:function(t){return s.privacy.services.autofillCreditCardEnabled.get({}).then((function(t){if(t.levelOfControl===s.privacy.levelControl.controllable_by_this_extension)return Promise.resolve({})}))},clear:function(t){return Promise.resolve({})},onChange:{addListener:function(t){}}},autofillAddressEnabled:{get:function(t){return Promise.resolve({})},set:function(t){return s.privacy.services.autofillAddressEnabled.get({}).then((function(t){if(t.levelOfControl===s.privacy.levelControl.controllable_by_this_extension)return Promise.resolve({})}))},clear:function(t){return Promise.resolve({})},onChange:{addListener:function(t){}}}}},runtime:a.runtime&&{sendMessage:function(t){return a.runtime.sendMessage(s.getId(),t)},onMessage:function(t){a.runtime.onMessage.addListener((function(e,n,r){return t(e,n.tab&&c.fromTab(n.tab),r)}))},reload:function(){return a.runtime.reload()},onInstalled:function(t){a.runtime.onInstalled.addListener((function(e){t(e)}))},onStartup:function(t){a.runtime.onStartup.addListener((function(e){t(e)}))},setUninstallURL:function(t,e){return a.runtime.setUninstallURL(t,(function(n){e(t,n)}))},connectNative:function(t){return a.runtime.connectNative(t)},lastError:function(t){return t?t.error:{}}},port:{connect:function(t){return Promise.resolve(a.runtime.connect({name:t}))},disconnect:function(t){return t.disconnect()},onConnect:function(t){a.runtime.onConnect.addListener(t)},onDisconnect:function(t,e){t.onDisconnect.addListener(e)},sendMessage:function(t,e){return t?(t.postMessage(e),Promise.resolve(!0)):Promise.resolve(!1)},onMessage:function(t,e){t.onMessage.addListener(e)}},callBackgroundFunction:function(t,e,n){return s.getBackgroundPage().then((function(r){e&&(r=r[e]);var i=r[t];if(!i||"function"!=typeof i)throw new Error("Invalid Function");return i.apply(null,n)}))},getBackgroundFunction:function(t,e){return s.getBackgroundPage().then((function(n){e&&(n=n[e]);var r=n[t];if(!r||"function"!=typeof r)throw new Error("Invalid Function");return r}))},browserAction:{setIcon:function(t){a.browserAction.setIcon({path:t})},setBadge:function(t){t.hasOwnProperty("text")&&a.browserAction.setBadgeText({text:t.text}),t.hasOwnProperty("color")&&a.browserAction.setBadgeBackgroundColor({color:t.color})}},notifications:{create:function(t,e,n,r){var i=(n=n||{}).items,o="basic";i&&(o="list");var s=n.length||5e3;return a.notifications.create({type:o,iconUrl:"/images/logo/notification_logo_180.png",title:t,message:e,items:i}).then((function(t){var e;return r&&(e=function(n){n===t&&(r(),a.notifications.onClicked.removeListener(e))},a.notifications.onClicked.addListener(e)),window.setTimeout((function(){a.notifications.clear(t),e&&a.notifications.onClicked.removeListener(e)}),s),t}))},clear:function(t){a.notifications.clear(t)}},webNavigation:a.webNavigation&&{onBeforeNavigate:{addListener:function(t){var e=function(e){t(c.fromTabId(e.tabId),{url:e.url,isTopFrame:0===e.frameId})};return a.webNavigation.onBeforeNavigate.addListener(e),e},removeListener:function(t){a.webNavigation.onBeforeNavigate.removeListener(t)}},onCompleted:{addListener:function(t){var e=function(e){t(c.fromTabId(e.tabId),{url:e.url,isTopFrame:0===e.frameId})};return a.webNavigation.onCompleted.addListener(e),e},removeListener:function(t){a.webNavigation.onCompleted.removeListener(t)}}},cookies:a.cookies&&{Cookie:function(t){return this.domain=t.domain,this.secure=t.secure,this.path=t.path,this.name=t.name,this.storeId=t.storeId,this.getUrl=function(){return"http".concat(this.secure?"s":"","://").concat(this.domain).concat(this.path)},this.isDomain=function(t){return!t||this.domain.indexOf(t)>-1||t.indexOf(this.domain)>-1},this},getAll:function(){return a.cookies.getAll({}).then((function(t){return t&&t.forEach?t.map((function(t){return new s.cookies.Cookie(t)})):[]}))},remove:function(t){a.cookies.remove({url:t.getUrl(),name:t.name,storeId:t.storeId})}},downloadFile:function(t,e){return new Promise((function(n,r){var i=null;a.downloads.onChanged.addListener((function t(e){if(null!==i&&e.id===i)return e.state&&"complete"===e.state.current?(a.downloads.onChanged.removeListener(t),void n()):void(e.error&&r(e.error))})),a.downloads.download({url:t,filename:e}).then((function(t){i=t}))}))},contextMenus:{create:function(t,e){return a.contextMenus.create(t,e)},removeAll:function(t){return a.contextMenus.removeAll(t)},listeners:{onClick:function(t){var e=function(e,n){t(e,c.fromTab(n))};return a.contextMenus.onClicked.addListener(e),e}}}};function u(){this.listeners=new Set}function c(t){"number"==typeof t?this.id=t:(this.tab=t,this.id=t.id),this.onRemoved=new u,this.onNavigate=new u}function l(t){"number"==typeof t?this.id=t:(this.win=t,this.id=t.id),this.onRemoved=new u}u.prototype.addListener=function(t){if("function"!=typeof t)throw new Error("Listener must be of type Function");this.listeners.add(t)},u.prototype.removeListener=function(t){this.listeners.delete(t)},u.prototype.triggerListeners=function(t,e){Array.from(this.listeners).forEach((function(n){n.apply(t,[e])}))},c.fromTab=function(t){var e=c.fromTabId(t.id);return e.tab=t,e},c.fromTabId=function(t){if(c.map.has(t))return c.map.get(t);var e=new c(t);return c.map.set(t,e),e},c.map=new Map,s.tabs&&s.tabs.onRemoved&&s.tabs.onRemoved.addListener((function(t){c.map.delete(t.id),t.onRemoved.triggerListeners(t)})),s.webNavigation&&s.webNavigation.onCompleted&&s.webNavigation.onCompleted.addListener((function(t){t.onNavigate.triggerListeners(t)})),c.prototype.is=function(t){return this.id===t.id},c.prototype.didOpen=function(t){return this.id===t.getOpenerTabId()},c.prototype.sendMessage=function(t){s.tabs.sendMessage(this.id,t)},c.prototype.executeScript=function(t){s.tabs.executeScript(this.id,t)},c.prototype.reload=function(){s.tabs.reload(this.id)},c.prototype.close=function(){return s.tabs.remove(this.id)},c.prototype.getURL=function(){return this.tab?this.tab.url:""},c.prototype.getTitle=function(){return this.tab?this.tab.title:""},c.prototype.getStatus=function(){return this.tab?this.tab.status:null},c.prototype.getOpenerTabId=function(){return this.tab&&this.tab.openerTabId},c.STATUS={COMPLETE:"complete",LOADING:"loading"},c.prototype.isAvailable=function(){return s.tabs.isAvailable(this.id)},c.prototype.isActive=function(){return!!this.tab.active},l.fromWin=function(t){var e=l.fromWinId(t.id);return e.win=t,e},l.fromWinId=function(t){if(l.map.has(t))return l.map.get(t);var e=new l(t);return l.map.set(t,e),e},l.map=new Map,s.windows&&s.windows.onRemoved&&s.windows.onRemoved.addListener((function(t){c.map.delete(t.id),t.onRemoved.triggerListeners(t)})),l.prototype.getType=function(){return this.win&&this.win.type},l.prototype.getTabs=function(){var t=this.id;return s.tabs.query({windowId:t})},l.prototype.getActiveTab=function(){return s.tabs.query({windowId:this.id,active:!0})},l.prototype.update=function(t){s.windows.update(this.id,{focused:!0,top:t.top,left:t.left})},l.prototype.close=function(){return s.windows.remove(this.id)}},795:(t,e,n)=>{n.d(e,{Z:()=>p});var r=n(2),i=n(785),o=n(144),a=n(671),s=n(136),u=n(930),c=n(120);const l=function(t){(0,s.Z)(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,c.Z)(e);if(n){var i=(0,c.Z)(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return(0,u.Z)(this,t)});function i(t){var e;return(0,a.Z)(this,i),(e=r.call(this)).myki=!0,e.title=t.title,e.status=t.status,e.message=t.message,e.displayError=t.displayError,e.error=t.error,e}return(0,o.Z)(i)}((0,n(407).Z)(Error));var f=new RegExp(/[.,>#\s[\]]/),h={debounce:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(e),e=setTimeout((function(){t.apply(void 0,i)}),n)}},sanitizeSite:function(t){return t?t.toString().replace("https://","").replace("http://","").replace("www.",""):t},getSecureRandom:function(){var t=new Uint32Array(1);return n.g.crypto.getRandomValues(t),t[0]/4294967296},replaceRandomChar:function(t,e){var n=Math.floor(this.getSecureRandom()*e.length),r=Math.floor(this.getSecureRandom()*t.length);return t.substr(0,r)+e[n]+t.substr(r+1)},replaceCharAtIndex:function(t,e,n){if(e<0||e>=t.length)throw new l({title:"Error",message:"cannot use this index",displayError:!1,error:{}});var r=Math.floor(this.getSecureRandom()*n.length);return t.substr(0,e)+n[r]+t.substr(e+1)},fillElementsArray:function(t,e,n){for(var r=[],i=0;i<t.length;i+=1)t[i].getAttribute(e)===n&&r.push(t[i]);return r},getElementId:function(t){return t.id},getElementsByAttribute:function(t,e,n){if(t)return this.fillElementsArray(t,e,n)},textFiltering:function(t,e){if(t)for(var n=0;n<t.length;n+=1)if(t[n].innerHTML.toLowerCase()===e.toLowerCase())return t[n]},visibilityFiltering:function(t){for(var e=[],n=0;n<t.length;n+=1)this.isVisible(t[n])&&e.push(t[n]);return e},isiFrame:function(){return window!==window.top},genString:function(t,e){for(var n="",r=0;r<t;r+=1)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(26*this.getSecureRandom()));return e&&e(n)?h.genString():n},getMetaData:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.excluded_attributes,r=t.attributes||[],i=[],o=0;o<r.length;o+=1)n&&n.includes(r[o].name)||i.push(r[o].value);return i.push(h.getLabel(t)),i.filter((function(t){return t})).join(" ")},getSize:function(t){return Number(h.getAttr(t,"maxlength"))||Number(h.getAttr(t,"size"))},isInRange:function(t,e,n){return t>=e&&t<=n},findFirstCommonAncestor:function(t,e,n){return 0===(n=n||function t(e){return e!==document?[e].concat(t(e.parentNode)):[e]}(e)).length?null:n.indexOf(t)>-1?t:t===document?null:this.findFirstCommonAncestor(t.parentNode,e,n)},findForm:function(t){return null!==t?"FORM"===t.tagName?t:this.findForm(t.parentNode):t},isDescendant:function(t,e){for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1},getParent:function(t,e,n){if(void 0===n&&(n=1/0),!t)return null;if(!e)return t.parentNode;if("BODY"===t.tagName)return null;if(f.test(e)){if($(t).is(e))return t}else if(t.tagName.toUpperCase()===e.toUpperCase())return t;return 0===n?null:t.parentNode?h.getParent(t.parentElement,e,--n):null},getParents:function(t){for(var e=[];t;)e.unshift(t),t=t.parentNode;return e},getFirstCommonParent:function(t,e){if(!t)return this.getParent(e,"div");if(!e)return this.getParent(t,"div");var n=this.getParents(t),r=this.getParents(e);if(n[0]!==r[0])return null;for(var i=0;n[i]&&-1!==r.indexOf(n[i]);)i+=1;return n[i-1]},getChildren:function(t,e){if(!e)return t.children;if(!t.hasChildNodes())return null;for(var n=[],r=t.children,i=0;i<r.length;i+=1)r[i].tagName.toLowerCase()===e&&n.push(r[i]);return n},hasVisibleInput:function(t){if(!t)return!1;for(var e=t.getElementsByTagName("input"),n=0;n<e.length;n+=1)if(h.isVisible(e[n]))return!0;return!1},getLabel:function(t){var e=$(t);if("BUTTON"===e.prop("tagName")||"A"===e.prop("tagName")||t.onclick||"DIV"===e.prop("tagName")||"SPAN"===e.prop("tagName"))return e.text();if(e.is(":submit")||e.is(":input:button"))return e.val();if(e.is(":input")){if(e.attr("id"))return $("label[for='".concat(e.attr("id"),"']")).text();if(1===e.parent().find("label:visible").length)return e.parent().find("label:visible").text()}return 1===e.parent().find(":input,:button,a").length&&e.parent().text()},isAvailable:function(t){return!!t&&(t.constructor===$(document.body).constructor?h.isAvailable(t.get(0)):document.body.contains(t))},getAttr:function(t,e){var n="";return"type"===e&&(n="text"),(t.getAttribute(e)||n).toLowerCase()},getValue:function(t){return $(t).val()},sum:function(t,e){return!0===t||!0===e?1/0:t+e},triggerEvent:function(t,e,n){var r=new Event(e,n||{cancelBubble:!1});0===e.indexOf("key")&&(r.charCode=0,r.keyCode=0,r.which=0),t.dispatchEvent(r)},preventDefault:function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0},triggerInput:function(t){t&&(h.triggerEvent(t,"keydown"),h.triggerEvent(t,"change"),h.triggerEvent(t,"input"),h.triggerEvent(t,"input",{bubbles:!0}),h.triggerEvent(t,"keypress"),h.triggerEvent(t,"focusin"),h.triggerEvent(t,"change"),h.triggerEvent(t,"focusout"),h.triggerEvent(t,"keyup"),h.triggerEvent(t,"keyup",{bubbles:!0}))},fill:function(t,e,n){var r=this;return new Promise((function(i){if(n)if(t.constructor!==Array){t.constructor!==$&&(t=$(t));var o=t.get(0);o.focus(),r.setValue(o,e),t.change(),h.triggerInput(o),t.data("myki_filled",!0),i()}else i(Promise.all(h.splitIntoFour(e).map((function(e,r){return h.fill(t[r],e,n)}))));else window.setTimeout((function(){i(h.fill(t,e,!0))}),200)}))},isIn:function(t){return function(e){var n=e.term||e;return n.constructor===RegExp?(t.match(n)||[]).length*(e.score||1):t.indexOf(String(n).toLowerCase())>-1?e.score||1:0}},isNotInSet:function(t,e){var n;return n=e?function(t){return t[e]}:function(t){return t},function(e){return-1===t.indexOf(n(e))}},offset:function(t){if(!t)return{};var e=t.getBoundingClientRect();return{top:e.top+document.scrollingElement.scrollTop,left:e.left+document.scrollingElement.scrollLeft}},relativeOffset:function(t,e){var n=t.offset(),r=e.offset();return{top:n.top-r.top,left:n.left-r.left,right:n.right-r.right,bottom:n.bottom-r.bottom}},isInRangeOf:function(t){return function(e){return"number"==typeof e?e===t:e.indexOf("-")?h.isInRange.apply(h,[t].concat((0,i.Z)(e.split("-").map((function(t){return h.parseInt(t)}))))):e===t}},isVisible:function(t){if(!t)return!1;if((t=t.element||t).constructor===$(document.body).constructor&&(t=t.get(0)),!t)return!1;if(!document.body.contains(t))return!1;var e=getComputedStyle(t);if("0"===e.opacity)return!1;if("none"===e.display)return!1;if("hidden"===e.visibility)return!1;if(parseInt(e.zIndex,10)<0)return!1;if(!$(t).is(":visible")||$(t).is(":hidden"))return!1;var n=Array.from(t.attributes);return!(n&&n.includes("hidden")||h.hasNoHeight(t)||h.hasNoWidth(t)||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},hasOverlappingElement:function(t){t.constructor===$(document.body).constructor&&(t=t.get(0));var e=t.getBoundingClientRect(),n=e.x+e.width/2,r=e.y+e.height/2;return t!==document.elementFromPoint(n,r)},hasNoHeight:function(t){if(t)return t.constructor===$(document.body).constructor&&(t=t.get(0)),!Array.from(t.getClientRects())[0].height},hasNoWidth:function(t){if(t)return t.constructor===$(document.body).constructor&&(t=t.get(0)),!Array.from(t.getClientRects())[0].width},isScrolledIntoView:function(t,e,n){var r=$(t),i=$(e),o=i.scrollTop(),a=o+i.height(),s=r.offset().top,u=s+r.height();return u+n>=a&&s-n<=o||u-n<=a&&s+n>=o},filterVisible:function(t){for(var e=[],n=Object.keys(t),r=0;r<n.length;r+=1)t.hasOwnProperty(n[r])&&h.isVisible(t[n[r]])&&e.push(t[n[r]]);return e},getSelectOptions:function(t){for(var e=t.getElementsByTagName("option"),n=0;n<e.length;n+=1){var r=$(e[n]);e[n]={value:r.val(),text:r.text()}}return e},getSelectValues:function(t){for(var e=t.getElementsByTagName("option"),n=[],r=0;r<e.length;r+=1)n[r]=$(e[r]).val();return n},getSelectOptionCount:function(t){return t.getElementsByTagName("option").length},range:function(t){if(t.indexOf("-")){var e=t.split("-").map(h.parseInt);return h.makeRangeArray(e[0],e[1])}return h.makeRangeArray(0,t)},makeRangeArray:function(t,e){var n=[];if(t>e)return[];if(t===e)return[t];for(var r=t;r<=e;r+=1)n.push(r);return n},parseInt:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return parseInt(t,e)})),sortByScore:function(t,e){return t.score-e.score},sortByScoreInv:function(t,e){return-h.sortByScore(t,e)},splitIntoFour:function(t){var e,n=[];return t.toString().split("").forEach((function(t,r){r>15&&(r=15),e=Math.floor(r/4),n[e]=(n[e]||"")+t})),n},visibilityPenalty:function(t){return h.isVisible(t.element)||(t.score-=3),t},asTwoDigit:function(t){return"0".concat(t).slice(-2)},copy:function(t){var e=document.createElement("textarea");e.textContent=t;var n=document.getElementsByTagName("body")[0];n.appendChild(e),e.select(),document.execCommand("copy"),n.removeChild(e)},copyToClipboard:function(t){navigator.clipboard?navigator.clipboard.writeText(t):window.clipboardData&&window.clipboardData.setData(t)},scoreThreshold:function(t){return function(e){return e.score>=t}},and:function(t){return function(e,n,r){return t.every((function(t){return t(e,n,r)}))}},sortDOMArray:function(t){t=t.get&&t.get()||t;var e=[],n=[],r=[],i=[];return t.forEach((function(t){var o=parseInt(t.getAttribute("tabindex"),10);return o<0?r.push(t):0===o?"BUTTON"===t.tagName&&0===e.length?n.push(t):e.push(t):o?i.push(t):n.push(t)})),i.sort((function(t,e){return t.tabIndex-e.tabIndex})).concat(e,n,r)},isNull:function(t){return null==t||"number"==typeof t&&isNaN(t)},getNumberLength:function(t){return t.toString().length},replaceAll:function(t,e,n){return String(t).split(e).join(n)},isEmptyString:function(t){return"string"!=typeof t||!t.trim().length},asFullYear:function(t){return"20".concat(h.asTwoDigit(t))},formatMinutes:function(t){return t>0&&t<10?"0".concat(t):t},formatHours:function(t){return t>12?t-12:t},prettyDate:function(t){return"".concat(t.toLocaleDateString()," at ").concat(h.formatTime(t))},formatTime:function(t){var e=t.getHours(),n=e>=12?"PM":"AM";return"".concat(h.formatHours(e),":").concat(h.formatMinutes(t.getMinutes())," ").concat(n)},formatDate:function(t){return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())},setHTML:function(t,e){if(!(t instanceof HTMLElement))throw new Error("Invalid Node");if(this.emptyNode(t),!e)return!0;if("string"==typeof e){var n=(new DOMParser).parseFromString(e,"text/html");return this.setHTML(t,this.getBody(n))}return e instanceof Node?(t.appendChild(e),!0):e instanceof NodeList&&(e.forEach((function(e){t.appendChild(e)})),!0)},getBody:function(t){for(var e=0;e<t.children.length;e+=1){if("HTML"===t.children[e].tagName)return this.getBody(t.children[e]);if("BODY"===t.children[e].tagName)return t.children[e].childNodes}return null},emptyNode:function(t){if(!(t instanceof HTMLElement))throw new Error("Invalid Node");for(;t.childNodes.length;)t.removeChild(t.childNodes[0])},timeout:function(t){return new Promise((function(e){n.g.setTimeout(e,t)}))},parseUrl:function(t){if(!window.tld)return t.replace("http://","").replace("https://","").replace("www.","");var e=tld.parse(t);return new RegExp(/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/).test(e.hostname)?e.hostname:e.isValid?(e.domain=e.domain||e.hostname,e.publicSuffix?e.domainName=e.domain.substr(0,e.domain.lastIndexOf(e.publicSuffix)-1):e.domainName=e.domain.split(".").shift(),e.domain):{domain:t,domainName:t}},isMykiUrl:function(t){return["myki.co","myki.io"].some((function(e){return t.indexOf(e)>-1}))},getSiteFromUrl:function(t){if(t)return/^(?:\w+:\/\/)?([^/]+)(.*)$/.exec(t)[1].replace("www.","")},getKeyByValue:function(t,e){return t&&e?Object.keys(t).filter((function(n){return t[n]===e})):[]},setValue:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this;setTimeout((function(){var n=t.value;t.value=e;var i=new Event("input",{target:t,bubbles:!0});i.simulated=!0;var o=t._valueTracker;o&&o.setValue(n),t.dispatchEvent(i),r.triggerInput(t)}),n)},compareVersions:function(t,e){if(t===e)return 0;for(var n=t.split("."),r=e.split("."),i=Math.min(n.length,r.length),o=0;o<i;o+=1){if(parseInt(n[o],10)>parseInt(r[o],10))return 1;if(parseInt(n[o],10)<parseInt(r[o],10))return-1}return n.length>r.length?1:n.length<r.length?-1:0},hasOwnProperty:Object.prototype.hasOwnProperty,isStringEncoded:function(t){if(!t)return!1;try{return decodeURI(t)!==decodeURIComponent(t)}catch(t){return!1}},decodeEncodedString:function(t){return this.isStringEncoded(t)?decodeURIComponent(t):t},getUrlParamByName:function(t,e){t||(t=window.location.href);var n={};return t.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,e,r){n[e]=r})),n[e]},moveInArray:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;e<0||e>t.length||n<0||n>t.length||t.splice(n,0,t.splice(e,1)[0])},sortArrayByObjectsKeyValues:function(t,e){t.sort((function(t,n){var r=t[e].toLowerCase(),i=n[e].toLowerCase();return r<i?-1:r>i?1:0}))},serialize:function(t){return JSON.parse(JSON.stringify(t))},deepCompare:function(t,e){var n=this;if(t===e)return!0;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(!t||!e||"object"!==(0,r.Z)(t)&&"object"!==(0,r.Z)(e))return t===e;if(null==t||null==e)return!1;if(t.prototype!==e.prototype)return!1;var i=Object.keys(t);return i.length===Object.keys(e).length&&i.every((function(r){return n.deepCompare(t[r],e[r])}))},capitalize:function(t){if(t)return t.charAt(0).toUpperCase()+t.slice(1)}};const p=h},507:(t,e,n)=>{n.d(e,{Z:()=>$t});var r=n(861),i=n(2),o=n(785),a=n(687),s=n.n(a),u=n(942),c=n(671),l=n(144),f=n(92),h=n(33),p=n(818),d=n(722);const g=function(){function t(e){(0,c.Z)(this,t),this.id=e.id,this.uuid=e.uuid,this.publicKeyHash=e.publicKeyHash,this.deviceUuid=e.deviceUuid,this.devices=e.devices,this.isDesktop=e.isDesktop||!1,this.deviceOS=e.deviceOS,this.firstname=e.firstname,this.lastname=e.lastname,this.masteremail=e.masteremail,this.appVersion=e.appVersion,this.enabledFeatures=e.enabledFeatures,this.verification=e.verification,this.supportUserHash=e.supportUserHash,this.appUpdateAvailable=e.appUpdateAvailable}return(0,l.Z)(t,[{key:"getVersion",value:function(){var t=this.appVersion,e=this.deviceOS,n=this.isDesktop,r=e!==d.SUPPORTED_OS.android||n?0:1,i=t.indexOf("-"),o=-1===i?t.length:i;return t.substring(r,o)}}]),t}();var v=n(722).PRIVILEGE,m=function(){function t(e){(0,c.Z)(this,t),this.uuid=e.uuid||e.companyUuid,this.companyId=e.companyId,this.customerStripeId=e.customerStripeId,this.companyName=e.companyName||e.company,this.personal=e.personal,this.position=e.position,this.image=e.image,this.type=e.type,this.isMSP=e.isMSP,this.privilegeId=e.privilegeId,this.subscription=e.subscription}return(0,l.Z)(t,[{key:"isUserAdmin",value:function(){return this.privilegeId===v.ADMINISTRATOR}}]),t}(),w=(0,l.Z)((function t(e){(0,c.Z)(this,t),this.id=e.id,this.uuid=e.uuid,this.privilegeId=e.privilegeId,this.dateAdded=e.dateAdded,this.description=e.description,this.lastUpdated=e.lastUpdated,this.personal=e.personal,this.manual=e.manual||!1,this.profile=e.profile,this.companyUuid=e.profile.companyUuid,this.name=e.title||e.name,this.title=e.title||e.name}));const A=new(function(){function t(){(0,c.Z)(this,t),this.events={}}return(0,l.Z)(t,[{key:"emit",value:function(t,e){this.events[t]&&this.events[t].triggerListeners(null,e)}},{key:"on",value:function(t,e){this.events[t]||(this.events[t]=new p.p7),this.events[t].addListener(e)}},{key:"off",value:function(t,e){this.events[t]&&this.events[t].removeListener(e)}},{key:"clear",value:function(t){this.events[t]&&(Array.from(this.events[t].listeners).forEach((function(e){this.events[t].removeListener(e)}),this),delete this.events[t])}},{key:"once",value:function(t,e){var n=this;this.on(t,(function r(i){e.apply(this,[i]),n.off(t,r)}))}}]),t}());function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){(0,u.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e){E(t,e),e.add(t)}function L(t,e,n){E(t,e),e.set(t,n)}function E(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var k=new WeakMap,T=new WeakMap,I=new WeakMap,R=new WeakMap,C=new WeakMap,_=new WeakMap,Z=new WeakMap,N=new WeakMap,x=new WeakMap,P=new WeakMap,B=new WeakMap,M=new WeakMap,W=new WeakMap,U=new WeakMap,V=new WeakMap,D=new WeakMap,F=new WeakMap,G=new WeakMap,j=new WeakMap,H=new WeakMap,K=new WeakMap,$=new WeakMap,Y=new WeakMap,z=new WeakSet,q=new WeakSet,J=new WeakSet,Q=new WeakSet,X=new WeakSet,tt=new WeakSet,et=new WeakSet,nt=new WeakSet,rt=new WeakSet,it=new WeakSet,ot=new WeakSet,at=new WeakSet,st=new WeakSet,ut=new WeakSet,ct=new WeakSet,lt=new WeakSet,ft=new WeakSet,ht=new WeakSet,pt=new WeakSet,dt=new WeakSet,gt=new WeakSet,vt=new WeakSet;function mt(t){(0,f.Z)(this,Y,t)}function wt(t){(0,f.Z)(this,$,t)}function At(t){(0,f.Z)(this,K,t)}function yt(t){t&&(0,f.Z)(this,H,t)}function bt(t){t?(0,f.Z)(this,k,new g(t)):(0,f.Z)(this,k,t),$t(d.SKIP_LOG,(0,h.Z)(this,k))}function Ot(t){(0,f.Z)(this,_,t)}function Lt(t){(0,f.Z)(this,I,t?t.map((function(t){return new m(t)})):t),$t(d.SKIP_LOG,(0,h.Z)(this,I))}function Et(t){return St.apply(this,arguments)}function St(){return(St=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,f.Z)(this,R,e),t.next=3,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.CONNECTION,(0,h.Z)(this,R)));case 3:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function kt(t){this.purchasedFeatures=null===t?[]:t}function Tt(t){(0,f.Z)(this,Z,t)}function It(t){(0,f.Z)(this,N,t||!1)}function Rt(t){(0,f.Z)(this,x,t)}function Ct(t){(0,f.Z)(this,P,t)}function _t(t){(0,f.Z)(this,B,t?t.map((function(t){return new w(t)})):t)}function Zt(t){(0,f.Z)(this,M,t||"all-items")}function Nt(t){(0,f.Z)(this,W,t||{uuid:null,name:""})}function xt(t){t?(0,f.Z)(this,U,b(b({},(0,h.Z)(this,U)),t)):(0,f.Z)(this,U,{})}function Pt(t){(0,f.Z)(this,V,t)}function Bt(t){(0,f.Z)(this,D,t)}function Mt(t){(0,f.Z)(this,F,t)}function Wt(t){(0,f.Z)(this,G,t)}function Ut(t){(0,f.Z)(this,j,t)}const Vt=function(){function t(){(0,c.Z)(this,t),O(this,vt),O(this,gt),O(this,dt),O(this,pt),O(this,ht),O(this,ft),O(this,lt),O(this,ct),O(this,ut),O(this,st),O(this,at),O(this,ot),O(this,it),O(this,rt),O(this,nt),O(this,et),O(this,tt),O(this,X),O(this,Q),O(this,J),O(this,q),O(this,z),L(this,k,{writable:!0,value:void 0}),L(this,T,{writable:!0,value:!1}),L(this,I,{writable:!0,value:null}),L(this,R,{writable:!0,value:d.CONNECTION_TYPES.TRYING_TO_CONNECT}),L(this,C,{writable:!0,value:[]}),L(this,_,{writable:!0,value:!0}),L(this,Z,{writable:!0,value:!1}),L(this,N,{writable:!0,value:!1}),L(this,x,{writable:!0,value:!1}),L(this,P,{writable:!0,value:!1}),L(this,B,{writable:!0,value:null}),L(this,M,{writable:!0,value:"all-items"}),L(this,W,{writable:!0,value:null}),L(this,U,{writable:!0,value:{}}),L(this,V,{writable:!0,value:!1}),L(this,D,{writable:!0,value:!1}),L(this,F,{writable:!0,value:!1}),L(this,G,{writable:!0,value:{}}),L(this,j,{writable:!0,value:null}),L(this,H,{writable:!0,value:[]}),L(this,K,{writable:!0,value:void 0}),L(this,$,{writable:!0,value:[]}),L(this,Y,{writable:!0,value:null})}var e,n,i,o,a,g,v,m,w,y,b,E,St,Vt,Dt,Ft,Gt,jt,Ht,Kt,Yt,zt,qt,Jt,Qt;return(0,l.Z)(t,[{key:"hydrate",value:(Qt=(0,r.Z)(s().mark((function t(){var e,n,r,i,o,a,u,c,l,g,v,m,w,A,y,b,O,L,E,k,I,R;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,h.Z)(this,T)){t.next=34;break}return t.prev=1,(0,f.Z)(this,T,!0),t.next=5,p.AO.storage.local.get(null);case 5:e=t.sent,n=e[d.LOCAL_STORAGE_VARIABLES.COMPONENT_LOGS],r=e[d.LOCAL_STORAGE_VARIABLES.CURRENT_USER],i=e["".concat(d.LOCAL_STORAGE_VARIABLES.PROFILES,":").concat(r.uuid)],o=e["".concat(d.LOCAL_STORAGE_VARIABLES.PURCHATES_FEATURES,":").concat(r.uuid)],a=e[d.LOCAL_STORAGE_VARIABLES.PROMPT_DESKTOP_USER],u=e[d.LOCAL_STORAGE_VARIABLES.NEW_AUTHENTICATION],c=e[d.LOCAL_STORAGE_VARIABLES.LOCKED],l=e[d.LOCAL_STORAGE_VARIABLES.TOKEN],g=e[d.LOCAL_STORAGE_VARIABLES.SWITCHING_CONNECTION],v=e["".concat(d.LOCAL_STORAGE_VARIABLES.FOLDERS,":").concat(r.uuid)],m=e[d.LOCAL_STORAGE_VARIABLES.CURRENT_PROFILE],w=e[d.LOCAL_STORAGE_VARIABLES.CURRENT_FOLDER],A=e["settings:".concat(r.uuid,":").concat(d.SETTING.ENTRY.DISABLE_MYKI_ON_WEBSITES)],y=e[d.LOCAL_STORAGE_VARIABLES.OPEN_ON_DISCONNECT],b=e[d.LOCAL_STORAGE_VARIABLES.FORCE_LAUNCH],O=e[d.LOCAL_STORAGE_VARIABLES.LATEST_BACKUP_ID],L=e[d.LOCAL_STORAGE_VARIABLES.ITEMS_DIFFERENCE],E=e["".concat(d.LOCAL_STORAGE_VARIABLES.AUTOMATIC_BACKUP,":").concat(r.deviceUuid)],k=e[d.LOCAL_STORAGE_VARIABLES.SOCKET_STATE],I=e[d.LOCAL_STORAGE_VARIABLES.WHATS_NEW_VERSIONS],R=e[d.LOCAL_STORAGE_VARIABLES.INSTALL_TIME],S(this,X,bt).call(this,r),S(this,et,Lt).call(this,i),S(this,rt,kt).call(this,o),S(this,tt,Ot).call(this,a),S(this,it,Tt).call(this,u),S(this,ot,It).call(this,c),S(this,at,Rt).call(this,l),S(this,st,Ct).call(this,g),S(this,ut,_t).call(this,v),S(this,ct,Zt).call(this,m),S(this,lt,Nt).call(this,w),S(this,ft,xt).call(this,A),S(this,ht,Pt).call(this,y),S(this,pt,Bt).call(this,b),S(this,dt,Mt).call(this,O),S(this,gt,Wt).call(this,L),S(this,vt,Ut).call(this,E),S(this,Q,yt).call(this,n),S(this,J,At).call(this,k),S(this,q,wt).call(this,I),S(this,z,mt).call(this,R),$t("hydrate cache"),t.next=34;break;case 31:t.prev=31,t.t0=t.catch(1),(0,f.Z)(this,T,!1);case 34:case"end":return t.stop()}}),t,this,[[1,31]])}))),function(){return Qt.apply(this,arguments)})},{key:"setInstallTime",value:(Jt=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(this,z,mt).call(this,e),t.prev=1,t.next=4,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.INSTALL_TIME,e));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),$t(t.t0);case 9:case"end":return t.stop()}}),t,this,[[1,6]])}))),function(t){return Jt.apply(this,arguments)})},{key:"getInstallTime",value:function(){return(0,h.Z)(this,Y)}},{key:"setwhatsNewVersions",value:(qt=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(this,q,wt).call(this,e),t.prev=1,t.next=4,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.WHATS_NEW_VERSIONS,e));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),$t(t.t0);case 9:case"end":return t.stop()}}),t,this,[[1,6]])}))),function(t){return qt.apply(this,arguments)})},{key:"getWhatsNewVersions",value:function(){return(0,h.Z)(this,$)}},{key:"getSocketState",value:function(){return $t("SOCKET STATE = ",(0,h.Z)(this,K)),(0,h.Z)(this,K)}},{key:"setSocketState",value:(zt=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return $t("SET SOCKET STATE ",e),S(this,J,At).call(this,e),t.prev=2,t.next=5,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.SOCKET_STATE,e));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),$t(t.t0);case 10:case"end":return t.stop()}}),t,this,[[2,7]])}))),function(t){return zt.apply(this,arguments)})},{key:"setPopupLogs",value:(Yt=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.POPUP_LOGS,e));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),$t(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),function(t){return Yt.apply(this,arguments)})},{key:"setLogs",value:(Kt=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(this,Q,yt).call(this,e),t.prev=1,t.next=4,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.COMPONENT_LOGS,e));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),$t(t.t0);case 9:case"end":return t.stop()}}),t,this,[[1,6]])}))),function(t){return Kt.apply(this,arguments)})},{key:"getLogs",value:function(){return(0,h.Z)(this,H)}},{key:"setUser",value:(Ht=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(this,X,bt).call(this,e),t.prev=1,t.next=4,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.CURRENT_USER,e));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),$t(t.t0);case 9:case"end":return t.stop()}}),t,this,[[1,6]])}))),function(t){return Ht.apply(this,arguments)})},{key:"getUser",value:function(){return(0,h.Z)(this,k)}},{key:"setPromptDesktopUser",value:(jt=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(this,tt,Ot).call(this,e),t.prev=1,t.next=4,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.PROMPT_DESKTOP_USER,e));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),$t(t.t0);case 9:case"end":return t.stop()}}),t,this,[[1,6]])}))),function(t){return jt.apply(this,arguments)})},{key:"getPromptDesktopUser",value:function(){return(0,h.Z)(this,_)}},{key:"setProfiles",value:(Gt=(0,r.Z)(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S(this,et,Lt).call(this,e),e){t.next=3;break}return t.abrupt("return",p.AO.storage.local.remove("".concat(d.LOCAL_STORAGE_VARIABLES.PROFILES,":").concat((0,h.Z)(this,k).uuid)));case 3:return(n={})["".concat(d.LOCAL_STORAGE_VARIABLES.PROFILES,":").concat((0,h.Z)(this,k).uuid)]=e,t.abrupt("return",p.AO.storage.local.set(n));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return Gt.apply(this,arguments)})},{key:"getProfiles",value:function(){return(0,h.Z)(this,I)}},{key:"setConnection",value:(Ft=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{S(this,nt,Et).call(this,e)}catch(t){$t(t)}case 1:case"end":return t.stop()}}),t,this)}))),function(t){return Ft.apply(this,arguments)})},{key:"getConnection",value:function(){return(0,h.Z)(this,R)}},{key:"getPurchasedFeatures",value:function(){return(0,h.Z)(this,C)}},{key:"setPurchasedFeatures",value:(Dt=(0,r.Z)(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null!==e){t.next=6;break}return S(this,rt,kt).call(this,[]),t.next=5,p.AO.storage.local.remove("".concat(d.LOCAL_STORAGE_VARIABLES.PURCHATES_FEATURES,":").concat((0,h.Z)(this,k).uuid));case 5:return t.abrupt("return");case 6:S(this,rt,kt).call(this,e),(n={})["".concat(d.LOCAL_STORAGE_VARIABLES.PURCHATES_FEATURES,":").concat((0,h.Z)(this,k).uuid)]=e,p.AO.storage.local.set(n),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$t(t.t0);case 15:case"end":return t.stop()}}),t,this,[[0,12]])}))),function(t){return Dt.apply(this,arguments)})},{key:"setNewAuthentication",value:(Vt=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(this,it,Tt).call(this,e),t.next=3,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.NEW_AUTHENTICATION,e));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return Vt.apply(this,arguments)})},{key:"isNewAuthentication",value:function(){return(0,h.Z)(this,Z)}},{key:"isLocked",value:function(){return(0,h.Z)(this,N)}},{key:"setLock",value:(St=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(this,ot,It).call(this,e),t.next=3,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.LOCKED,(0,h.Z)(this,N)));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return St.apply(this,arguments)})},{key:"setToken",value:(E=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(this,at,Rt).call(this,e),t.next=3,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.TOKEN,(0,h.Z)(this,x)));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return E.apply(this,arguments)})},{key:"getToken",value:function(){return(0,h.Z)(this,x)}},{key:"setSwitchingConnection",value:(b=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(this,st,Ct).call(this,e),t.next=3,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.SWITCHING_CONNECTION,(0,h.Z)(this,P)));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return b.apply(this,arguments)})},{key:"isSwitchingConnection",value:function(){return(0,h.Z)(this,P)}},{key:"setFolders",value:(y=(0,r.Z)(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if($t(d.SKIP_LOG,"setFolders",{folders:e}),S(this,ut,_t).call(this,e),(0,h.Z)(this,k)&&(0,h.Z)(this,k).uuid){t.next=4;break}return t.abrupt("return");case 4:if((0,h.Z)(this,B)){t.next=7;break}return t.next=7,p.AO.storage.local.remove("".concat(d.LOCAL_STORAGE_VARIABLES.FOLDERS,":").concat((0,h.Z)(this,k).uuid));case 7:return(n={})["".concat(d.LOCAL_STORAGE_VARIABLES.FOLDERS,":").concat((0,h.Z)(this,k).uuid)]=(0,h.Z)(this,B),t.next=11,p.AO.storage.local.set(n);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})},{key:"getFolders",value:function(){return(0,h.Z)(this,B)}},{key:"getFolder",value:function(t){return t&&(0,h.Z)(this,B)?(0,h.Z)(this,B).find((function(e){return e.uuid===t})):null}},{key:"setCurrentProfile",value:(w=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(this,ct,Zt).call(this,e),A.emit("itemsUpdated",{newConnection:!0,diff:{}}),t.next=4,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.CURRENT_PROFILE,e));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)})},{key:"getCurrentProfile",value:function(){return(0,h.Z)(this,M)}},{key:"setCurrentFolder",value:(m=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(this,lt,Nt).call(this,e),t.next=3,p.AO.storage.local.set({currentFolder:e}).then((function(){A.emit("itemsUpdated",{newConnection:!0,diff:{}})}));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"getCurrentFolder",value:function(){return(0,h.Z)(this,W)}},{key:"setDisabledWebsites",value:(v=(0,r.Z)(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="settings:".concat((0,h.Z)(this,k).uuid,":").concat(d.SETTING.ENTRY.DISABLE_MYKI_ON_WEBSITES),e){t.next=6;break}return S(this,ft,xt).call(this,null),t.next=5,p.AO.storage.local.remove(n);case 5:return t.abrupt("return");case 6:return S(this,ft,xt).call(this,e),t.next=9,p.AO.storage.local.set((0,u.Z)({},n,(0,h.Z)(this,U)));case 9:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"getDisabledWebsites",value:function(){return(0,h.Z)(this,U)}},{key:"setOpenOnDisconnect",value:(g=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(this,ht,Pt).call(this,e),t.next=3,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.OPEN_ON_DISCONNECT,(0,h.Z)(this,V)));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return g.apply(this,arguments)})},{key:"isOpenOnDisconnect",value:function(){return(0,h.Z)(this,V)}},{key:"setForceLaunch",value:(a=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(this,pt,Bt).call(this,e),t.next=3,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.FORCE_LAUNCH,(0,h.Z)(this,D)));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"isForceLaunch",value:function(){return(0,h.Z)(this,D)}},{key:"setLatestBackupId",value:(o=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(this,dt,Mt).call(this,e),t.next=3,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.LATEST_BACKUP_ID,(0,h.Z)(this,F)));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"getLatestBackupId",value:function(){return(0,h.Z)(this,F)}},{key:"setItemsDiff",value:(i=(0,r.Z)(s().mark((function t(){var e,n,r=this,i=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},n=i.length>1?i[1]:void 0,(0,h.Z)(this,G)||S(this,gt,Wt).call(this,{}),Object.keys(e).forEach((function(t){n&&!e[t]||((0,h.Z)(r,G)[t]=e[t])})),t.next=7,p.AO.storage.local.set((0,u.Z)({},d.LOCAL_STORAGE_VARIABLES.ITEMS_DIFFERENCE,(0,h.Z)(this,G)));case 7:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getItemsDiff",value:function(){return(0,h.Z)(this,G)}},{key:"setEnabledFeatures",value:(n=(0,r.Z)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,h.Z)(this,k)){t.next=4;break}return(0,h.Z)(this,k).enabledFeatures=e,t.next=4,this.setUser((0,h.Z)(this,k));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"setAutomaticBackupStartDate",value:(e=(0,r.Z)(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e){t.next=5;break}return S(this,vt,Ut).call(this,null),t.next=4,p.AO.storage.local.remove("".concat(d.LOCAL_STORAGE_VARIABLES.AUTOMATIC_BACKUP,":").concat((0,h.Z)(this,k).deviceUuid));case 4:return t.abrupt("return");case 5:return S(this,vt,Ut).call(this,e),(n={})["".concat(d.LOCAL_STORAGE_VARIABLES.AUTOMATIC_BACKUP,":").concat((0,h.Z)(this,k).deviceUuid)]=(0,h.Z)(this,j),t.next=10,p.AO.storage.local.set(n);case 10:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"getAutomaticBackupStartDate",value:function(){return(0,h.Z)(this,j)}}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new t),this.instance}}]),t}().getInstance();var Dt=n(795),Ft=n(155),Gt=[];"3"===Ft.env.MANIFEST_VERSION&&(n.g.serviceWorker.id||(n.g.serviceWorker.id=Dt.Z.genString(5)),Gt.push(["".concat((new Date).toISOString().replaceAll(":","-")," : "),"----------------------------- SERVICE WORKER ID ".concat(n.g.serviceWorker.id,"  ---------------------")]));var jt=Dt.Z.debounce((function(){var t=Vt.getLogs();t.push.apply(t,(0,o.Z)(Gt));for(var e=new Blob([t]).size,n=Math.ceil(e/1048576);n>5;)t.splice(0,1e3),e=new Blob([t]).size,n=Math.ceil(e/1048576);Vt.setLogs(t),Gt=[]}),1e3),Ht=function t(){function e(){try{throw Error("")}catch(t){return t}}try{if(n.g.mobileLogin)return;t.printToConsole=t.printToConsole||n.g.log||!1;var r=e(),o=r.stack.split("\n"),a=o[3]||o[o.length-1],s=a.indexOf("at "),u=a.slice(s+2,a.length).split(" "),c=(u[u.length-1],[]),l=JSON.stringify(Array.prototype.slice.call(arguments),(function(t,e){if("object"===(0,i.Z)(e)&&null!==e){if(-1!==c.indexOf(e))try{return JSON.parse(JSON.stringify(e))}catch(t){return}c.push(e)}return e}));c=null;var f,h="".concat((new Date).toISOString().replaceAll(":","-")," : ");arguments[0]!==d.SKIP_LOG&&(t.logs.push([h,l]),Gt.push([h,l])),t.printToConsole&&arguments[0]!==d.SKIP_LOG&&(f=console).log.apply(f,arguments),jt()}catch(t){console.log("Error while logging:",t.message)}};Ht.logs=[],Ht.tail=function(t){t=t||10,Ht.logs.slice(-t).forEach((function(t){console.log("".concat(t[2],": "),t[1])}))},Ht.clear=(0,r.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Vt.setLogs([]);case 2:return t.next=4,Vt.setPopupLogs([]);case 4:Gt=[];case 5:case"end":return t.stop()}}),t)})));var Kt=Ht;Kt.clear=Ht.clear;const $t=Kt}}]);
import{t as p,b as y,R as F,j as e,a as pe,c as me,B as he,r as i,T as fe,d as we,e as E,M as W,f as X,g as z,h as D,i as je,u as _e,s as be,C as Ee,k as b,P as v,l as I,m as Pe,n as Ne,S as T,o as h,p as ye,q as ve,v as O,w as Te,x as H,y as G,z as c,A as g,W as S,D as Ue,E as Re,F as ke,G as Ce,H as Ie,I as Oe,J as Se,K as Ae,L as A,N as Le,O as L,Q as Be,U as qe,V as Me,X as Fe,Y as We,Z as Xe,_ as ze,$ as De,a0 as He,a1 as B,a2 as Ge,a3 as Ve,a4 as Qe,a5 as Ke,a6 as Ye,a7 as q,a8 as Ze,a9 as M,aa as $e,ab as Je,ac as es,ad as ss,ae as ts,af as as,ag as ns,ah as rs,ai as ls}from"./client-BA4WNfdE.js";var is={large:p(y.large,"ds-px-2.5 ds-aspect-square ds-min-w-fit"),medium:p(y.medium,"ds-p-2 ds-aspect-square ds-min-w-fit"),small:p(y.small,"ds-py-2 ds-aspect-square ds-min-w-fit"),tiny:"ds-p-1 ds-h-6 ds-aspect-square ds-min-w-fit"},V=F.forwardRef(({icon:a,color:t="primary",variant:r="contained",size:o="large",className:x,hideTooltip:n=!1,container:d,tooltipProps:s,...f},w)=>{const j=e.jsx("button",{className:p(me,pe[t][r],is[o],x),ref:w,...f,children:e.jsx(he,{size:o,children:a})});return i.useContext(fe)||n?j:e.jsx(we,{container:d,content:f["aria-label"],...s,children:j})});V.displayName="IconButton";/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var os=E("outline","browser","IconBrowser",[["path",{d:"M4 8h16",key:"svg-0"}],["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M8 4v4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ds=E("outline","help","IconHelp",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 17l0 .01",key:"svg-1"}],["path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cs=E("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.24.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xs=E("outline","user-circle","IconUserCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855",key:"svg-2"}]]),u=({className:a,...t})=>e.jsx("span",{"aria-busy":"true","aria-label":"loading skeleton",className:p("ds-bg-bg-system-light-selected ds-animate-pulse ds-inline-block ds-rounded-s ds-w-full ds-h-3",a),...t}),us={dark:{grey:"ds-bg-[#545A66]",purple:"ds-bg-border-brand-selected",blue:"ds-bg-text-info-selected",green:"ds-bg-bg-success-primary-default",yellow:"ds-bg-bg-warning-primary-default",red:"ds-bg-text-danger-default",orange:"ds-bg-bg-premium-primary-default",turquoise:"ds-bg-text-turquoise-hover"},lighter:{grey:"ds-bg-border-neutral-disabled",purple:"ds-bg-bg-brand-light-selected",blue:"ds-bg-[#DAECFD]",green:"ds-bg-bg-success-light-selected",yellow:"ds-bg-bg-warning-light-selected",red:"ds-bg-bg-danger-light-selected",orange:"ds-bg-bg-premium-light-selected",turquoise:"ds-bg-bg-turquoise-light-selected"},lightest:{grey:"ds-bg-bg-neutral-primary-disabled",purple:"ds-bg-bg-brand-light-default",blue:"ds-bg-bg-info-light-default",green:"ds-bg-bg-success-light-default",yellow:"ds-bg-bg-warning-light-default",red:"ds-bg-bg-danger-light-default",orange:"ds-bg-bg-premium-light-default",turquoise:"ds-bg-bg-turquoise-light-default"}},gs={dark:{grey:"ds-text-text-neutral-contrast",purple:"ds-text-text-brand-contrast",blue:"ds-text-text-info-contrast",green:"ds-text-text-success-contrast",yellow:"ds-text-text-warning-contrast",red:"ds-text-text-danger-contrast",orange:"ds-text-text-premium-contrast",turquoise:"ds-text-text-turquoise-contrast"},lighter:{grey:"ds-text-text-neutral-primary",purple:"ds-text-text-brand-selected",blue:"ds-text-text-info-selected",green:"ds-text-text-success-hover",yellow:"ds-text-text-warning-selected",red:"ds-text-text-danger-selected",orange:"ds-text-text-premium-selected",turquoise:"ds-text-text-turquoise-selected"},lightest:{grey:"ds-text-text-neutral-secondary",purple:"ds-text-text-brand-default",blue:"ds-text-text-info-hover",green:"ds-text-text-success-default",yellow:"ds-text-text-warning-default",red:"ds-text-text-danger-default",orange:"ds-text-text-premium-default",turquoise:"ds-text-text-turquoise-hover"}},ps=({type:a="lighter",color:t="grey",leftIcon:r,rightIcon:o,children:x,...n})=>{const d=us[a][t],s=gs[a][t];return e.jsxs("span",{...n,className:p("ds-inline-flex ds-px-2 ds-py-1 ds-rounded-xs ds-gap-1 ds-w-fit ds-h-fit",d,n.className),children:[r&&e.jsx("span",{"data-testid":"tag-left-icon",className:"w-4 h-4",children:r}),e.jsx("span",{className:p("ds-prose ds-prose-components-tag",s),children:x}),o&&e.jsx("span",{"data-testid":"tag-right-icon",className:"w-4 h-4",children:o})]})},ms=(a,t)=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 95 34",ref:t,...a,children:e.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"m21.212 4.922-2.347.161-.762-2.31c-.037-.106-.19-.093-.203.018l-.362 2.782-1.948 1.419c-.08.055-.043.185.055.192l2.015.16.836 2.058c.037.099.178.08.203-.019l.48-2.46 2.12-1.809c.067-.068.018-.198-.087-.192m-1.973 9.416q.037-.648.056-1.307a11.1 11.1 0 0 1 2.753 7.354c0 6.14-4.935 11.114-11.024 11.114C4.934 31.5 0 26.524 0 20.385S4.934 9.27 11.024 9.27c2.243 0 4.332.681 6.07 1.84.118.631.167 1.282.18 1.468v.037c.14 2.212.005 4.454-.517 6.592-.258 1.065-.615 2.112-1.1 3.066a9 9 0 0 1-.387.7q-.212.337-.442.645c-.308.402-.664.768-1.045 1.022a2.2 2.2 0 0 1-.572.279c-.092.024-.184.05-.276.055a1.3 1.3 0 0 1-.264-.006l-.068-.012a.2.2 0 0 1-.047-.009l-.014-.003-.086-.024-.043-.014a1 1 0 0 1-.252-.123 2.2 2.2 0 0 1-.48-.428l-.11-.136-.105-.149-.098-.155-.055-.099.059-.085q.072-.102.137-.206c.338-.514.62-1.053.86-1.61a12 12 0 0 0 .94-3.508c.031-.31.05-.619.044-.935 0-.316-.025-.638-.086-.973a3.5 3.5 0 0 0-.135-.508 2.5 2.5 0 0 0-.259-.532 1 1 0 0 0-.098-.137l-.027-.034q-.015-.015-.028-.034l-.062-.062a1 1 0 0 0-.135-.124l-.166-.111a1.4 1.4 0 0 0-.405-.149 1.3 1.3 0 0 0-.43-.006 1.6 1.6 0 0 0-.664.279 2.7 2.7 0 0 0-.43.39c-.24.273-.418.557-.572.842a7.4 7.4 0 0 0-.639 1.779 9.4 9.4 0 0 0-.233 1.846c-.019.62.024 1.245.135 1.858q.164.922.522 1.797l.056.124q.027.064.055.124-.076.091-.159.175l-.08.085c-.37.372-.781.688-1.224.93-.436.235-.958.433-1.345.433a1 1 0 0 1-.246-.031.4.4 0 0 1-.172-.093.8.8 0 0 1-.148-.186 1.5 1.5 0 0 1-.116-.285 3.2 3.2 0 0 1-.13-.725 7 7 0 0 1-.018-.805c.012-.545.062-1.109.123-1.673q.041-.411.089-.825.051-.445.095-.897l.019-.217q.004-.053.006-.114l.006-.115.006-.118v-.117q.002-.122-.006-.242c-.018-.328-.055-.663-.203-1.022-.08-.18-.19-.366-.368-.527l-.05-.038a1 1 0 0 0-.098-.073q-.082-.048-.166-.087l-.089-.028-.089-.028a2 2 0 0 0-.178-.025 1.4 1.4 0 0 0-.627.106 1.6 1.6 0 0 0-.246.123l-.038.022q-.041.022-.079.047l-.104.074a3.6 3.6 0 0 0-.688.675 6.6 6.6 0 0 0-.903 1.568 8 8 0 0 0-.302.83.2.2 0 0 0 .08.223c.092.056.215.03.27-.062.308-.483.615-.954.953-1.388.166-.21.344-.421.529-.607a3 3 0 0 1 .571-.483l.074-.044.074-.037q.05-.03.099-.045l.042-.017a.6.6 0 0 1 .215-.03c.05.005.068.018.104.049.037.03.074.099.111.18.068.18.104.42.104.669q.006.062.002.129l-.002.063v.093l-.006.099-.007.077-.011.121-.025.21c-.039.355-.088.714-.137 1.077q-.043.312-.084.627a20 20 0 0 0-.166 1.76c-.012.303-.012.607.006.923.025.31.062.638.16.973q.073.252.209.514a1.68 1.68 0 0 0 .946.817c.203.069.406.1.596.1s.375-.019.541-.05c.172-.03.332-.074.486-.124q.228-.075.448-.167l.11-.05.111-.05q.113-.047.215-.105a6.3 6.3 0 0 0 1.512-1.12l.012-.013.08.117.065.084q.042.057.089.115c.221.26.48.514.793.718.16.106.331.192.51.267l.09.032q.088.034.186.06.066.019.141.038l.148.025c.393.055.793.018 1.149-.08.356-.106.682-.261.97-.447.296-.18.554-.396.787-.62a8 8 0 0 0 .646-.712c.393-.496.725-1.016 1.014-1.555.131-.238.248-.486.364-.73l.041-.088q.185-.418.35-.836c.221-.564.406-1.134.572-1.71.325-1.152.553-2.33.706-3.513.074-.588.136-1.183.172-1.778M11.01 16.94c.11-.216.24-.421.381-.582a.9.9 0 0 1 .197-.186c.04-.03.08-.048.1-.057l.01-.005c0 .006.007.006.007.006l.008.006q.01.002.016.013l.013.012.006.01.006.009q.01.005.018.02l.013.017q.063.093.116.242.048.147.086.322c.05.23.068.483.074.743.006.254-.006.52-.03.787a10 10 0 0 1-.283 1.592 11 11 0 0 1-.523 1.543 10 10 0 0 1-.522 1.066 7 7 0 0 1-.246-.942 7.9 7.9 0 0 1 .05-3.154c.11-.514.276-1.016.503-1.462m49.202-3.622h2.054v11.42h-2.054v-.917c-.517.759-1.538 1.108-2.356 1.108-1.885 0-3.6-1.517-3.6-3.892s1.715-3.88 3.6-3.88c.85 0 1.839.33 2.356 1.096zm-.066 7.712c0-1.141-.942-1.946-1.898-1.946-1.033 0-1.897.858-1.897 1.946 0 1.076.864 1.966 1.897 1.966 1.002 0 1.898-.844 1.898-1.966m-20.875.014c0-2.342 1.852-3.893 3.94-3.893s3.94 1.55 3.94 3.893c0 2.329-1.853 3.88-3.94 3.88-2.088 0-3.94-1.551-3.94-3.88m5.798 0c0-1.155-.83-1.966-1.852-1.966-1.02 0-1.852.805-1.852 1.966 0 1.141.831 1.946 1.852 1.946 1.021.007 1.852-.805 1.852-1.946m-8.271-3.701h2.231l-2.591 7.396h-1.76l-1.505-4.797-1.46 4.797h-1.76l-2.67-7.396h2.232l1.38 4.513 1.4-4.513h1.728l1.4 4.513zm16.642 2.025.47-1.98c-.326-.177-.765-.237-1.157-.237-.91 0-1.748.541-2.154 1.775v-1.583h-2.041v7.39h2.055v-2.534c0-2.105.72-3.101 1.773-3.101.255 0 .615.033 1.054.27m14.901-.41v-1.616h-1.557V14.65h-2.055v2.692h-1.335v1.616h1.335v5.78h2.055v-5.78zm6.092-1.615h2.054v7.396h-2.054v-1.2c-.315.962-1.48 1.391-2.2 1.391-1.917 0-2.918-1.3-2.905-3.516v-4.071h2.055v3.959c0 1.154.694 1.695 1.4 1.695.74 0 1.65-.409 1.65-1.742zm11.045 7.388V20.68c.02-2.217-.988-3.53-2.905-3.523-.72 0-1.885.442-2.199 1.438v-1.254H78.32v7.39h2.055v-3.88c0-1.346.91-1.741 1.65-1.741.706 0 1.4.52 1.4 1.675v3.946zm8.978-3.022h-5.51c.223.87.91 1.379 1.885 1.379a2.6 2.6 0 0 0 1.93-.87l1.191 1.22c-.693.937-1.963 1.49-3.252 1.49-2.264 0-3.913-1.596-3.913-3.879 0-2.388 1.806-3.892 3.893-3.892 2.107 0 3.816 1.504 3.816 3.767.013.198-.007.455-.04.785m-2.022-1.346c-.065-.87-.772-1.425-1.695-1.425-.85 0-1.57.429-1.793 1.425z",clipRule:"evenodd"})}),hs=i.forwardRef(ms),Q=hs,fs=(a,t)=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",ref:t,...a,children:e.jsx("path",{fill:"currentColor",d:"M17.4 4a.9.9 0 0 1 .705.34l.067.097 2.7 4.5a.9.9 0 0 1-.029.97l-.072.094-7.677 8.58a1.53 1.53 0 0 1-1.093.458c-.36 0-.707-.126-1-.375l-.121-.113L3.23 10a.9.9 0 0 1-.155-.96l.054-.104 2.712-4.52.057-.081a1 1 0 0 1 .14-.139l.08-.058.08-.045.044-.02.054-.023.098-.029.101-.018L6.6 4zM9.404 7.549a.9.9 0 0 0-1.234.308l-.54.9-.054.105a.9.9 0 0 0 .16.963l1.8 1.98.08.08a.9.9 0 0 0 1.191-.019l.079-.08a.9.9 0 0 0-.018-1.191L9.515 9.108l.196-.326.05-.093a.9.9 0 0 0-.359-1.141Z"})}),ws=i.forwardRef(fs),js=ws,_s=(a,t)=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",strokeWidth:1.5,className:"colored-offline-mode_svg__inline-block colored-offline-mode_svg__wt-h-[72px] colored-offline-mode_svg__wt-w-[72px]",color:"currentColor",viewBox:"0 0 73 72",ref:t,...a,children:[e.jsx("path",{stroke:"#52007B",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:9,d:"M38.037 62.274h.035m-9.88-9.844c5.438-5.436 14.252-5.436 19.69 0m-29.537-9.848a27.85 27.85 0 0 1 39.385 0M8.5 32.737c16.313-16.316 42.762-16.316 59.18 0"}),e.jsx("path",{fill:"#FFB624",fillRule:"evenodd",stroke:"#52007B",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M63.099 33.127c-14.833-14.741-38.709-14.728-53.424-.01a4.076 4.076 0 0 1-5.765-5.762c17.91-17.913 46.933-17.9 64.934-.01a4.075 4.075 0 1 1-5.745 5.782m-26.77 2.872a23.77 23.77 0 0 0-16.81 6.964 4.075 4.075 0 1 1-5.764-5.764 31.925 31.925 0 0 1 45.15 0 4.076 4.076 0 0 1-5.764 5.764 23.77 23.77 0 0 0-16.811-6.964m6.964 16.813c-3.846-3.845-10.08-3.845-13.926 0a4.075 4.075 0 1 1-5.763-5.765c7.029-7.027 18.423-7.027 25.452 0a4.075 4.075 0 1 1-5.763 5.765m-11.039 6.962a4.076 4.076 0 0 1 4.076-4.076h.035a4.076 4.076 0 0 1 0 8.151h-.035a4.076 4.076 0 0 1-4.076-4.075",clipRule:"evenodd"}),e.jsx("path",{fill:"#753FEA",d:"m14.187 60.706-4.753.323-1.543-4.641c-.073-.212-.386-.188-.41.038l-.734 5.583-3.942 2.846c-.164.111-.087.372.111.386l4.077.323 1.694 4.13c.072.198.362.165.41-.038l.97-4.936 4.289-3.633c.14-.13.043-.395-.17-.381ZM68.609 5.627l-3.098.21-1.006-3.025c-.047-.138-.252-.122-.267.025l-.478 3.639-2.57 1.856c-.107.072-.056.242.073.251l2.657.21 1.104 2.693c.047.129.236.107.267-.025l.632-3.218 2.796-2.368c.091-.085.028-.257-.11-.248"})]}),bs=i.forwardRef(_s),Es=bs;const Ps=()=>e.jsxs(W,{size:"medium",className:"w-full mb-8",children:[e.jsx(X,{type:"general-error"}),e.jsxs(z,{className:"-mt-4",children:[e.jsx(D,{children:"Something went wrong"}),e.jsx(je,{children:"Please try again in a few seconds"})]})]}),Ns=()=>{const a=_e({queryKey:["isContentScriptInjected"],queryFn:async()=>{const{isVersionMatch:t}=await be({type:Ee});return t},staleTime:3e5,retry:!1});return{...a,isContentScriptInjected:a.data}};function ys({version:a,user:t,onLogoClick:r,onSupportClick:o,onAccountClick:x}){const[n,d]=i.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"h-[52px] bg-paper-system flex items-center justify-between px-4 relative",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>void r(),"aria-label":"Wordtune Logo",children:e.jsx(Q,{width:"95px",height:"34px",className:"text-text-brand-default"})}),a&&e.jsx("button",{disabled:!t,onClick:()=>d(s=>!s),children:e.jsx(ps,{color:"purple",type:"lighter",children:a})})]}),e.jsxs("nav",{className:"flex items-center",children:[e.jsx(b,{className:"flex",variant:"text",color:"secondary",size:"small",leftIcon:e.jsx(ds,{size:16}),"aria-label":v,onClick:()=>void o(v),children:v}),t&&e.jsx(V,{onClick:()=>void x(I),variant:"text",color:"secondary",size:"small",icon:e.jsx(xs,{size:16}),"aria-label":I})]})]}),n&&(t==null?void 0:t.wordtuneUserId)&&e.jsx("p",{className:"bg-paper-system px-4 text-[10px] -mt-1",children:t==null?void 0:t.wordtuneUserId})]})}function vs(){return e.jsxs("section",{className:"flex flex-col items-center justify-center py-5 h-56 bg-bg-neutral-light-default",children:[e.jsx(Es,{className:"w-16 mb-2"}),e.jsx("h1",{className:"prose-system-subtitle1-bold text-text-neutral-primary",children:Pe}),e.jsx("p",{className:"prose-components-stage-body-regular text-text-neutral-primary",children:Ne})]})}const Ts=()=>e.jsxs("div",{children:[e.jsxs("div",{className:"h-[52px] bg-paper-system flex items-center justify-between px-4 relative",children:[e.jsx(Q,{width:"95px",height:"34px",className:"text-text-brand-default"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-6 h-6 rounded-xxs"}),e.jsx(u,{className:"w-6 h-6 rounded-xxs"})]})]}),e.jsx("div",{className:"bg-bg-neutral-color py-4 px-3 w-full grid gap-8",children:e.jsxs("div",{className:"gap-4 flex flex-col w-full",children:[e.jsx(u,{className:"w-2/4 h-4 rounded-xxs"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(u,{className:"w-3/4 h-4 rounded-xxs"}),e.jsx(T,{disabled:!0})]})]})}),e.jsx(h,{}),e.jsx("div",{className:"flex items-center gap-x-2 py-4 px-3",children:e.jsx(u,{className:"w-full h-4 rounded-xxs"})}),e.jsx(h,{}),e.jsx("div",{className:"flex items-center py-3 px-3",children:e.jsx(u,{className:"w-2/3 h-5 rounded-xxs"})})]}),Us=({activeTabId:a})=>{const t=()=>{H.tabs.reload(a),window.close()};return e.jsxs(W,{className:"w-full p-4 gap-0",size:"medium",children:[e.jsx(X,{type:"success"}),e.jsxs(z,{children:[e.jsx(D,{children:ye}),e.jsx("div",{className:"prose-system-subtitle2-regular text-text-neutral-primary text-center",children:ve}),e.jsx(b,{className:"w-full my-5",size:"large",color:"primary",leftIcon:e.jsx(cs,{size:24}),onClick:()=>void t(),"aria-label":O,children:O})]}),e.jsx(h,{orientation:"horizontal"}),e.jsx("div",{className:"text-text-neutral-tertiary prose-system-subtitle2-regular text-center px-7 mt-3",children:Te})]})},Rs=({className:a,origin:t})=>{const{userConfig:r}=G(),o=i.useCallback(async n=>{await c.trackEvent("loginCtaPressed",{callToActionText:n,origin:t});const d=g(S,{redirect:r==null?void 0:r.extensionAfterLoginRedirectUrl,platform:"extension",source:"modal",product:"write"});window.open(d,"_blank"),window==null||window.close()},[r==null?void 0:r.extensionAfterLoginRedirectUrl,t]),x=i.useCallback(async n=>{await c.trackEvent("signupCtaPressed",{callToActionText:n,origin:t});const d=g(S,{redirect:r==null?void 0:r.extensionAfterSignUpRedirectUrl,platform:"extension",source:"modal",product:"write"});window.open(d,"_blank"),window==null||window.close()},[r==null?void 0:r.extensionAfterSignUpRedirectUrl,t]);return e.jsxs(Ue,{className:Re("p-5",a),children:[e.jsx(ke,{}),e.jsx(Ce,{children:Ie}),e.jsx(Oe,{children:Se}),e.jsx(Ae,{onClick:()=>void x(A),children:A}),e.jsx(Le,{onClick:()=>void o(L),children:L})]})},ks="Go unlimited",Cs=()=>{var C;const{isOffline:a}=Be(),{user:t,isPending:r,canBeUpgraded:o,error:x}=qe(),{userConfig:n,isPending:d}=G(),{activeTab:s,isPending:f}=Me(),{isStiggUser:w,isPending:j}=Fe({isForceFetch:!0}),{canBeUpgraded:U,isLoading:R}=We(),{isRewriteEnabled:K,isReadEnabled:Y}=Xe(),{data:Z,isLoading:$}=ze(),_=De(),{isEligibleForFreeTrial:J,isLoading:ee}=He(),P=J?ss:ts,{isContentScriptInjected:se,isPending:te}=Ns(),ae=i.useCallback(async()=>{const l="logo",m="extensionPopup";await c.trackEvent("platformCtaPressed",{callToActionText:l,origin:m,redirectTo:"editor"});const ge=g(B,{origin:m,originCTA:l,originApp:"extension",referrer:s==null?void 0:s.hostName});window.open(ge),window==null||window.close()},[s==null?void 0:s.hostName]),ne=i.useCallback(async l=>{await c.trackEvent("accountCtaPressed",{});const m=g(Ge,{origin:"extensionPopup",originCTA:l,originApp:"extension",referrer:s==null?void 0:s.hostName});window.open(m),window==null||window.close()},[s==null?void 0:s.hostName]),re=i.useCallback(async l=>{await c.trackEvent("helpCtaPressed",{callToActionText:l});const m=g(Ve,{origin:"extensionPopup",originCTA:"?",originApp:"extension",referrer:s==null?void 0:s.hostName});window.open(m),window==null||window.close()},[s==null?void 0:s.hostName]),le=i.useCallback(async()=>{const l=g(Qe,{origin:"extensionPopup",originCTA:ks,originApp:"extension",referrer:s==null?void 0:s.hostName});await c.trackEvent("premiumCtaPressed",{callToActionText:P,origin:"extensionPopup"}),window.open(l,"_blank"),window==null||window.close()},[s==null?void 0:s.hostName,P]),ie=i.useCallback(()=>{const l=g(B,{origin:"extensionPopup",originCTA:"Learn more",originApp:"extension",referrer:s==null?void 0:s.hostName});window.open(l,"_blank"),window==null||window.close()},[s==null?void 0:s.hostName]),oe=w?w&&!R&&U:o,N=r||d||f||j||R||$||te;i.useEffect(()=>{N||c.trackEvent("extensionPressed",{extensionState:t?"live":"notRegistered"})},[N,t]);const k=(s==null?void 0:s.tabId)||0,de=(C=s==null?void 0:s.hostName)==null?void 0:C.includes(Ke),ce=!se&&!!k&&!de,xe=i.useCallback(l=>{s!=null&&s.hostName&&(l?c.trackEvent("extensionInWebsiteEnabled",{origin:"extensionPopup",disableMode:"forever"}):c.trackEvent("extensionInWebsiteSuspended",{origin:"extensionPopup",disableMode:"forever"}),_.mutate({isRewriteEnabled:{...(n==null?void 0:n.isRewriteEnabled)||{},[s.hostName]:l}}))},[s==null?void 0:s.hostName,_,n==null?void 0:n.isRewriteEnabled]),ue=i.useCallback(l=>{s!=null&&s.hostName&&(l?c.trackEvent("featureInWebsiteEnabled",{disableMode:"forever",featureName:"summary",origin:"extensionPopup"}):c.trackEvent("featureInWebsiteSuspended",{disableMode:"forever",featureName:"summary",origin:"extensionPopup"}),_.mutate({isReadEnabled:{...(n==null?void 0:n.isReadEnabled)||{},[s.hostName]:l}}))},[s==null?void 0:s.hostName,_,n==null?void 0:n.isReadEnabled]);return a?e.jsx(vs,{}):N?e.jsx(Ts,{}):e.jsxs(e.Fragment,{children:[e.jsx(ys,{version:H.runtime.getManifest().version,user:t,onLogoClick:ae,onSupportClick:re,onAccountClick:ne}),ce?e.jsx(Us,{activeTabId:k}):x?e.jsx(Ps,{}):t?e.jsxs("div",{"data-testid":"popup-logged-in-content",children:[e.jsxs("div",{className:"py-4 px-3 ",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"prose-system-headers-h6",children:Ye})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"prose-system-body1-regular",children:q}),e.jsx(T,{"aria-label":q,checked:K,onCheckedChange:xe})]})]}),Z&&e.jsxs(e.Fragment,{children:[e.jsx(h,{}),e.jsxs("div",{className:"py-4 px-3",children:[e.jsx("div",{className:"flex items-center gap-x-2",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"prose-system-headers-h6",children:Ze})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"prose-system-body1-regular",children:M}),e.jsx(T,{"aria-label":M,checked:Y,onCheckedChange:ue})]})]})]}),e.jsx(h,{}),oe&&e.jsxs("div",{className:"flex flex-col items-center py-3",children:[e.jsx($e,{size:"tiny",type:"upgraded-success"}),e.jsx("div",{className:"prose-system-body1-regular text-text-neutral-tertiary",children:Je}),e.jsx(b,{size:"small",color:"premium",leftIcon:e.jsx(js,{}),onClick:()=>void le(),children:ee?e.jsx(u,{className:"w-20 h-3"}):P})]}),e.jsx(h,{}),e.jsx("div",{className:"bg-paper-system p-2",children:e.jsx(b,{size:"medium",variant:"text",leftIcon:e.jsx(os,{size:20,className:""}),onClick:ie,children:es})})]}):e.jsx(Rs,{origin:"extensionPopup"})]})},Is=new as;ns(document.getElementById("root")).render(e.jsx(F.StrictMode,{children:e.jsx(rs,{client:Is,children:e.jsx(ls,{children:e.jsx("main",{className:"w-[380px]",children:e.jsx(Cs,{})})})})}));

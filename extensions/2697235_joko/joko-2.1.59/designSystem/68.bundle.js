"use strict";(self.webpackChunkchrome_extension=self.webpackChunkchrome_extension||[]).push([[33,68],{84355:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},l=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(96540)),u=a(n(96522)),d=n(38267),f=n(47175),p=function(e,t,n){return"<!DOCTYPE html>\n<html>\n    <head>\n        <style>\n            @font-face {\n                font-family: 'Ambit';\n                src: url(".concat(f.AMBIT_REGULAR_FONT_URL,");\n                font-weight: 400;\n                font-style: normal;\n            }\n            @font-face {\n                font-family: 'Ambit';\n                src: url(").concat(f.AMBIT_ITALIC_FONT_URL,");\n                font-weight: 400;\n                font-style: italic;\n            }\n            @font-face {\n                font-family: 'Ambit';\n                src: url(").concat(f.AMBIT_THIN_FONT_URL,");\n                font-weight: 250;\n                font-style: normal;\n            }\n            @font-face {\n                font-family: 'Ambit';\n                src: url(").concat(f.AMBIT_THIN_ITALIC_FONT_URL,");\n                font-weight: 250;\n                font-style: italic;\n            }\n            @font-face {\n                font-family: 'Ambit';\n                src: url(").concat(f.AMBIT_EXTRA_LIGHT_FONT_URL,");\n                font-weight: 265;\n                font-style: normal;\n            }\n            @font-face {\n                font-family: 'Ambit';\n                src: url(").concat(f.AMBIT_EXTRA_LIGHT_ITALIC_FONT_URL,");\n                font-weight: 265;\n                font-style: italic;\n            }\n            @font-face {\n                font-family: 'Ambit';\n                src: url(").concat(f.AMBIT_LIGHT_FONT_URL,");\n                font-weight: 300;\n                font-style: normal;\n            }\n            @font-face {\n                font-family: 'Ambit';\n                src: url(").concat(f.AMBIT_LIGHT_ITALIC_FONT_URL,");\n                font-weight: 300;\n                font-style: italic;\n            }\n            @font-face {\n                font-family: 'Ambit';\n                src: url(").concat(f.AMBIT_SEMI_BOLD_FONT_URL,");\n                font-weight: 600;\n                font-style: normal;\n            }\n            @font-face {\n                font-family: 'Ambit';\n                src: url(").concat(f.AMBIT_SEMI_BOLD_ITALIC_FONT_URL,");\n                font-weight: 600;\n                font-style: italic;\n            }\n            @font-face {\n                font-family: 'Ambit';\n                src: url(").concat(f.AMBIT_BOLD_FONT_URL,");\n                font-weight: 700;\n                font-style: normal;\n            }\n            @font-face {\n                font-family: 'Ambit';\n                src: url(").concat(f.AMBIT_BOLD_ITALIC_FONT_URL,");\n                font-weight: 700;\n                font-style: italic;\n            }\n            @font-face {\n                font-family: 'Ambit';\n                src: url(").concat(f.AMBIT_BLACK_FONT_URL,");\n                font-weight: 900;\n                font-style: normal;\n            }\n            @font-face {\n                font-family: 'Ambit';\n                src: url(").concat(f.AMBIT_BLACK_ITALIC_FONT_URL,");\n                font-weight: 900;\n                font-style: italic;\n            }\n            html {\n                height: 100%;\n            }\n            body {\n                min-height: 100%;\n                margin: 0;\n            }\n            body,\n            #").concat(e,",\n            .frame-content {\n                display: flex;\n                flex-direction: column;\n                flex: 1;\n                ").concat(t?"":"overflow: hidden;","\n                ").concat(n?"height: 100%;":"",'\n            }\n        </style>\n    </head>\n    <body><div id="').concat(e,'"></div></body>\n</html>')};t.default=function(e){var t=e.children,n=e.id,i=e.style,o=void 0===i?{}:i,a=e.shouldUseLegacyStyle,s=e.shouldBeFullHeight,f=e.frameId,g=l(e,["children","id","style","shouldUseLegacyStyle","shouldBeFullHeight","frameId"]);return c.default.createElement(u.default,r({initialContent:p(n,a,s),mountTarget:"#".concat(n),id:f,style:o},g),c.default.createElement(u.FrameContextConsumer,null,(function(e){var n;if(null===(n=e.document)||void 0===n?void 0:n.head)return c.default.createElement(d.StyleSheetManager,{target:e.document.head},t)})))}},97599:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(96540)),d=c(n(38267)),f=n(55015),p=n(47175),g=n(17621),m=n(26368),h=n(46239),b=n(69568),v=n(10570),x=n(64777),y=n(78776),E=c(n(84355)),_=2e3;function C(e){var t=e.isLoading,n=e.offer,r=(0,f.useUserRegion)(),i=(0,f.useLocalizedTexts)().contentscript.offerActivationInterstitial.offerActivationStatus;return u.default.createElement(X,{style:{backgroundColor:t?f.colors.alabaster:f.colors.hintOfGreen}},t?u.default.createElement(f.LoadingIndicator,null):u.default.createElement(Y,{src:p.CHECK_MARK_FILLED_GREEN_ICON_URL}),u.default.createElement(V,{style:t?{}:{color:f.colors.emerald}},t?i.loading:i.offerActivated),u.default.createElement(K,null,u.default.createElement(f.OfferInfo,{offer:n,userRegion:r})))}function S(){var e=(0,f.useLocalizedTexts)();return u.default.createElement(X,{style:{marginTop:"24px",backgroundColor:f.colors.tranquil}},u.default.createElement(Z,null," ",e.contentscript.offerActivationInterstitial.cookieWarningWithoutAcknowledgment.title," "),u.default.createElement(J,null,e.contentscript.offerActivationInterstitial.cookieWarningWithoutAcknowledgment.text))}function O(e){var t=e.offerId,n=e.onAcknowledge,r=s(u.default.useState(!1),2),i=r[0],o=r[1],a=s((0,u.useState)(!1),2),l=a[0],c=a[1],d=(0,f.useLocalizedTexts)();return u.default.createElement(X,{style:{backgroundColor:f.colors.tranquil}},u.default.createElement(Q,{src:p.COOKIE_ICON_URL}),u.default.createElement(V,{style:{color:f.colors.easternBlue,marginTop:"13px",fontSize:"16px"}},d.contentscript.offerActivationInterstitial.cookieWarningWithAcknowledgment.title),u.default.createElement(J,{style:{marginTop:"12px"}},d.contentscript.offerActivationInterstitial.cookieWarningWithAcknowledgment.text),u.default.createElement(v.BlackButton,{style:{marginTop:"17px"},isFullWidth:!0,onClick:function(){l||(c(!0),i&&function(e){var t={offerId:e};(0,h.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"acknowledgedWarningForCookieTracking",payload:t}}});var n="hasAcknowledgedWarningForCookieTracking";(0,h.sendMessageToBackgroundScript)({message:"updateLocalStorageUserState",data:{state:{stateKey:n,value:!0}}})}(t),n())}},l?u.default.createElement(f.SpinningWheel,{scale:.3,color:f.colors.white}):d.contentscript.offerActivationInterstitial.cookieWarningWithAcknowledgment.acknowledgeCookieWarningButtonText),u.default.createElement(q,{onClick:function(){return o(!i)}},i?u.default.createElement($,{src:p.CHECK_MARK_FILLED_GREEN_ICON_URL}):u.default.createElement(ee,{src:p.EMPTY_CHECKBOX_ICON_URL}),d.contentscript.offerActivationInterstitial.cookieWarningWithAcknowledgment.skipFutureAcknowledgmentText))}t.default=function(e){var t=e.offer,n=e.onClose,r=e.shouldAcknowledgeCookieWarning,o=s((0,u.useState)(0),2),a=o[0],l=o[1],c=s((0,u.useState)(!0),2),d=c[0],f=c[1],m=s((0,u.useState)(!1),2),h=m[0],v=m[1],x=(0,g.useHashedElementId)(g.JokoExtensionElement.offerActivationInterstitial);(0,u.useEffect)((function(){setTimeout((function(){return l(1)}),150),setTimeout(y,b.LOADING_INDICATOR_DISPLAY_TIME_IN_MS)}),[]);var y=function(){f(!1),r?setTimeout((function(){return v(!0)}),_):setTimeout(n,_)};return u.default.createElement(z,i({id:x},{opacity:a}),u.default.createElement(H,null,u.default.createElement(F,null,u.default.createElement(te,{src:p.OLD_LOGO_WITH_TITLE_IMAGE_URL}),u.default.createElement(G,null,h?null:u.default.createElement(C,i({},{isLoading:d,offer:t})),r?null:u.default.createElement(S,null),h?u.default.createElement(O,{offerId:t.offerId,onAcknowledge:function(){setTimeout(n,_)}}):null))))};var T,w,A,P,B,I,D,k,L,W,M,N,R,j,U,z=(0,d.default)(E.default)(T||(T=r(["\n    position: fixed;\n    z-index: ",";\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    opacity: ",";\n    border: 0;\n    transition: opacity ","ms;\n"],["\n    position: fixed;\n    z-index: ",";\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    opacity: ",";\n    border: 0;\n    transition: opacity ","ms;\n"])),m.HIGHEST_Z_INDEX,(function(e){var t=e.opacity;return void 0===t?1:t}),250),H=(0,d.default)(x.CenteredContainer)(w||(w=r(["\n    position: fixed;\n    z-index: ",";\n    width: 100vw;\n    height: 100vh;\n    border: 0;\n    background-color: ",";\n    background-size: 100vw;\n"],["\n    position: fixed;\n    z-index: ",";\n    width: 100vw;\n    height: 100vh;\n    border: 0;\n    background-color: ",";\n    background-size: 100vw;\n"])),m.HIGHEST_Z_INDEX,f.colors.white),F=d.default.div(A||(A=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    box-sizing: border-box;\n    min-height: 100vh;\n    background-color: white;\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    box-sizing: border-box;\n    min-height: 100vh;\n    background-color: white;\n"]))),G=d.default.div(P||(P=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 0 1rem;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 0 1rem;\n"]))),X=d.default.div(B||(B=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    box-sizing: border-box;\n    max-width: 284px;\n    width: 100%;\n    padding: 15px 17px;\n    border-radius: 8px;\n    text-align: center;\n    transition: transform ","ms;\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    box-sizing: border-box;\n    max-width: 284px;\n    width: 100%;\n    padding: 15px 17px;\n    border-radius: 8px;\n    text-align: center;\n    transition: transform ","ms;\n"])),350),K=d.default.div(I||(I=r(["\n    width: 100%;\n    margin-top: 24px;\n    padding: 10px 0;\n    border-radius: 8px;\n    background-color: ",";\n"],["\n    width: 100%;\n    margin-top: 24px;\n    padding: 10px 0;\n    border-radius: 8px;\n    background-color: ",";\n"])),f.colors.white),V=(0,d.default)(f.Ambit)(D||(D=r(["\n    margin-top: 10px;\n    font-weight: 900;\n    font-size: 20px;\n    color: ",";\n"],["\n    margin-top: 10px;\n    font-weight: 900;\n    font-size: 20px;\n    color: ",";\n"])),f.colors.black),Z=(0,d.default)(f.Ambit)(k||(k=r(["\n    margin-top: 5px;\n    font-weight: 900;\n    font-size: 18px;\n    color: ",";\n"],["\n    margin-top: 5px;\n    font-weight: 900;\n    font-size: 18px;\n    color: ",";\n"])),f.colors.easternBlue),J=(0,d.default)(y.ContentSubtitle)(L||(L=r(["\n    margin-top: 24px;\n    text-align: center;\n"],["\n    margin-top: 24px;\n    text-align: center;\n"]))),Y=d.default.img(W||(W=r(["\n    width: 50px;\n    height: 50px;\n    margin-top: 4px;\n    margin-bottom: 10px;\n    animation: appear 300ms;\n\n    @keyframes appear {\n        0% {\n            transform: scale(0);\n        }\n\n        100% {\n            transform: rotate(1);\n        }\n    }\n"],["\n    width: 50px;\n    height: 50px;\n    margin-top: 4px;\n    margin-bottom: 10px;\n    animation: appear 300ms;\n\n    @keyframes appear {\n        0% {\n            transform: scale(0);\n        }\n\n        100% {\n            transform: rotate(1);\n        }\n    }\n"]))),Q=d.default.img(M||(M=r(["\n    width: 48px;\n    height: 48px;\n    margin-top: 4px;\n    animation: appear 300ms;\n\n    @keyframes appear {\n        0% {\n            transform: scale(0);\n        }\n\n        100% {\n            transform: rotate(1);\n        }\n    }\n"],["\n    width: 48px;\n    height: 48px;\n    margin-top: 4px;\n    animation: appear 300ms;\n\n    @keyframes appear {\n        0% {\n            transform: scale(0);\n        }\n\n        100% {\n            transform: rotate(1);\n        }\n    }\n"]))),q=(0,d.default)(y.ContentText)(N||(N=r(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 8px;\n    font-size: 14px;\n    text-align: center;\n    color: ",";\n    ","\n"],["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 8px;\n    font-size: 14px;\n    text-align: center;\n    color: ",";\n    ","\n"])),f.colors.manatee,m.CLICKABLE_ELEMENT_CSS_MIXIN),$=d.default.img(R||(R=r(["\n    width: 20px;\n    height: 20px;\n    margin-right: 5px;\n    margin-left: 5px;\n    animation: appear 300ms;\n\n    @keyframes appear {\n        0% {\n            transform: scale(0);\n        }\n\n        100% {\n            transform: rotate(1);\n        }\n    }\n"],["\n    width: 20px;\n    height: 20px;\n    margin-right: 5px;\n    margin-left: 5px;\n    animation: appear 300ms;\n\n    @keyframes appear {\n        0% {\n            transform: scale(0);\n        }\n\n        100% {\n            transform: rotate(1);\n        }\n    }\n"]))),ee=d.default.img(j||(j=r(["\n    width: 15px;\n    height: 15px;\n    margin-right: 5px;\n    margin-left: 5px;\n    animation: appear 300ms;\n\n    @keyframes appear {\n        0% {\n            transform: scale(0);\n        }\n\n        100% {\n            transform: rotate(1);\n        }\n    }\n"],["\n    width: 15px;\n    height: 15px;\n    margin-right: 5px;\n    margin-left: 5px;\n    animation: appear 300ms;\n\n    @keyframes appear {\n        0% {\n            transform: scale(0);\n        }\n\n        100% {\n            transform: rotate(1);\n        }\n    }\n"]))),te=d.default.img(U||(U=r(["\n    position: absolute;\n    top: 20px;\n    width: 106px;\n"],["\n    position: absolute;\n    top: 20px;\n    width: 106px;\n"])))},39838:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OfferDetailsTabContentProvider=t.useOfferDetailsTabContentContext=void 0;var l=a(n(96540)),s=a(n(38267)),c=n(55015),u=n(26368),d=n(22991),f=n(69568),p=n(23081),g=n(98444),m=n(65946),h=n(64777),b=n(97669),v=a(n(73347)),x=a(n(1291)),y=a(n(13238)),E=a(n(85826)),_=a(n(71498));t.default=function(e){var t=e.userRegion,n=e.isMobileExtension,r=e.selectedOfferDetailsSection,a=e.setSelectedOfferDetailsSection,s=e.isTemporaryUser,c=o(e,["userRegion","isMobileExtension","selectedOfferDetailsSection","setSelectedOfferDetailsSection","isTemporaryUser"]),u=(0,b.usePanelDisplayContext)()||{},d=u.shouldDisplayBankReconnectionBanner,f=u.closePanelAndLogEvents,g=S()||{},h=g.isDisplayedWithinOfferSearchTab,v=void 0!==h&&h,x=g.displayedOffer,y=void 0===x?void 0:x,E=(0,p.useOfferDetailsSections)(s,v);return l.default.createElement(l.default.Fragment,null,d?l.default.createElement(m.BankReconnectionBanner,i({},{closePanelAndLogEvents:f})):null,l.default.createElement(P,null,l.default.createElement(O,i({},{offer:y,userRegion:t})),l.default.createElement(_.default,{selectableElements:E,selectedElementId:r,setSelectedElementId:a}),l.default.createElement(T,i({},c,{selectedOfferDetailsSection:r,setSelectedOfferDetailsSection:a,offer:y,userRegion:t,isMobileExtension:n,isTemporaryUser:s}))))};var C=l.default.createContext(void 0);function S(){return l.default.useContext(C)}function O(e){var t=e.offer,n=e.userRegion;return t?l.default.createElement(B,null,l.default.createElement(c.OfferInfo,i({shouldIncludeMargins:!1},{offer:t,userRegion:n}))):null}function T(e){var t=e.selectedOfferDetailsSection,n=o(e,["selectedOfferDetailsSection"]);switch(t){case c.OfferDetailsSection.cashback:return l.default.createElement(x.default,i({},n));case c.OfferDetailsSection.coupons:return l.default.createElement(y.default,i({},n));case c.OfferDetailsSection.product:return l.default.createElement(E.default,i({},n));case c.OfferDetailsSection.bnpl:return l.default.createElement(v.default,i({},n));default:return null}}t.useOfferDetailsTabContentContext=S,t.OfferDetailsTabContentProvider=function(e){var t=e.children,n=e.currentWebpageOffer,r=e.displayedOffer,i=e.closePanelAndLogEvents,o=e.isDisplayedWithinOfferSearchTab,a=!(!n||!r||n.offerId!==r.offerId),s=(0,g.useWasCashbackOfferActivationOverriddenByCompetitorRecently)(null==n?void 0:n.offerId),u=(0,f.useOfferActivationButtonState)({offer:r,userInterfaceComponentInteractionEventType:c.UserInterfaceComponentInteractionEventType.panelOfferDetailsTabCashbackSectionActivateButton,isDisplayedWithinOfferSearchTab:o,isBrowsingCurrentWebpageOffer:a,closeWidgetOrPanel:i?function(){return i("clickActivationButton")}:void 0,wasCashbackActivationOverriddenByThirdParty:s}),p=u.isOfferActivationButtonLoading,m=u.isOfferActivated,h=u.onClickActivateOffer,b=(0,d.useAlternativeOffers)((null==r?void 0:r.alternativeOffersIds)||[]);return l.default.createElement(C.Provider,{value:{currentWebpageOffer:n,displayedOffer:r,isBrowsingCurrentWebpageOffer:a,isOfferActivationButtonLoading:p,onClickActivateOffer:h,isOfferActivated:!!m&&!s&&(!o||a),isDisplayedWithinOfferSearchTab:!!o,alternativeOffers:b}},t)};var w,A,P=(0,s.default)(h.ColumnTopCenterContainer)(w||(w=r(["\n    flex: 1;\n    box-sizing: border-box;\n    width: 100%;\n    padding: ","px ","px 0;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    flex: 1;\n    box-sizing: border-box;\n    width: 100%;\n    padding: ","px ","px 0;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),u.DEFAULT_PANEL_TOP_PADDING,u.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),B=(0,s.default)(h.RowLeftCenterContainer)(A||(A=r(["\n    width: 100%;\n    margin-bottom: 18px;\n"],["\n    width: 100%;\n    margin-bottom: 18px;\n"])))},38598:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserOffersList=void 0;var d=u(n(96540)),f=u(n(38267)),p=n(55015),g=n(47175),m=n(17621),h=n(92204),b=n(32668),v=n(26368),x=n(23081),y=n(86263),E=n(65946),_=n(64777),C=u(n(4956)),S=n(78776),O=l(n(39838)),T=n(91506),w=n(97669),A=n(9557);function P(e){var t=e.searchText,n=e.setSearchText,r=e.isOfferSearchActive,o=e.setIsOfferSearchActive,a=e.selectedParentBrowsingTag,l=e.setSelectedParentBrowsingTag,s=e.selectedChildBrowsingTag,u=e.setSelectedChildBrowsingTag,f=e.isMobileExtension,p=e.scrollableContentRef,g=e.shouldResetScrollableContentEventListener,m=c(d.default.useState(!1),2),h=m[0],b=m[1],x=d.default.useCallback((function(){t?n(""):!f&&s?u(void 0):a?(l(void 0),u(void 0)):o(!1)}),[t,a,s,f]);return d.default.createElement(se,i({},{isOfferSearchActive:r,searchText:t,selectedParentBrowsingTag:a}),r?d.default.createElement(ce,null,d.default.createElement(B,{onClick:x,style:{marginLeft:f?0:v.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING/2,padding:f?v.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING:v.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING/2}})):null,d.default.createElement(D,i({},{isSearchBarFocused:h,setIsSearchBarFocused:b,searchText:t,setSearchText:n,isOfferSearchActive:r,setIsOfferSearchActive:o,isMobileExtension:f,scrollableContentRef:p,shouldResetScrollableContentEventListener:g})))}function B(e){var t=e.onClick,n=e.style;return d.default.createElement(we,i({src:g.CHEVRON_RIGHT_THIN_ROUND_ICON_URL},{onClick:t,style:n}))}function I(e){var t=e.searchText,n=e.emptyQuerySearchResults,r=e.isMobileExtension,o=e.closePanelAndLogEvents,a=e.scrollableContentRef,l=e.resetScrollableContentEventListener,s=e.setSelectedOfferSearchResult,c=e.setSelectedOfferDetailsSection;return d.default.createElement(k,i({},{selectedParentBrowsingTag:void 0,internalTagIdsToQuery:void 0,browsingTagIdsToQuery:void 0,searchText:t,emptyQuerySearchResults:n,isMobileExtension:r,closePanelAndLogEvents:o,scrollableContentRef:a,resetScrollableContentEventListener:l,setSelectedOfferSearchResult:s,setSelectedOfferDetailsSection:c}))}function D(e){var t=e.isSearchBarFocused,n=e.setIsSearchBarFocused,r=e.searchText,o=e.setSearchText,a=e.isOfferSearchActive,l=e.setIsOfferSearchActive,s=e.isMobileExtension,c=e.scrollableContentRef,u=e.shouldResetScrollableContentEventListener,f=(0,y.useIsSearchBarFocused)({isSearchBarFocused:t,setIsSearchBarFocused:n,setSearchText:o,setIsOfferSearchActive:l,isMobileExtension:s,scrollableContentRef:c,shouldResetScrollableContentEventListener:u}),m=f.searchBarInputRef,h=f.onFocusSearchBarInput,v=f.onBlurSearchBarInput,x=f.onChangeSearchBarInput,E=f.onKeyDownSearchBarInput,_=f.onClickCancelCross;(0,b.useDisableMobileSafariAutoZoomOnInputFocus)(s);var C=(0,p.useLocalizedTexts)().contentscript.redesign.panel.offerSearch.searchBarPlaceholder;return d.default.createElement(ue,null,d.default.createElement(de,i({},{isSearchBarFocused:t,isMobileExtension:s}),d.default.createElement(pe,{src:g.MAGNIFYING_GLASS_ICON_URL,size:14,shouldDisplayPointer:!1}),d.default.createElement(fe,{ref:m,autoCapitalize:"off",onFocus:h,onBlur:v,onChange:x,onKeyDown:E,value:r,placeholder:C}),a&&""!==r?d.default.createElement(pe,{src:g.CROSS_BLACK_ICON_URL,onClick:_,size:10,shouldDisplayPointer:!s}):null))}function k(e){var t=e.selectedParentBrowsingTag,n=e.internalTagIdsToQuery,r=e.browsingTagIdsToQuery,o=e.searchText,a=e.emptyQuerySearchResults,l=e.isMobileExtension,s=e.closePanelAndLogEvents,c=e.scrollableContentRef,u=e.resetScrollableContentEventListener,f=e.setSelectedOfferSearchResult,m=e.setSelectedOfferDetailsSection,h=e.header,b=(0,y.useFilteredUserOffers)(a,o,t,n,r,u),v=b.filteredUserOffers,x=b.isLoading,E=(0,y.useDisplayedSearchResults)(v),_=E.displayedSearchResults,C=E.handleScroll,S=(0,p.useLocalizedTexts)().contentscript.redesign.panel.offerSearch.emptySearchResult;if(x)return d.default.createElement(d.default.Fragment,null,d.default.createElement(ge,null,h),d.default.createElement(W,null));if(_.length>0)return d.default.createElement(me,{onScroll:C,ref:c},h,_.map((function(e){return d.default.createElement(L,i({key:e.offerId},{offer:e,isMobileExtension:l,closePanelAndLogEvents:s,setSelectedOfferSearchResult:f,setSelectedOfferDetailsSection:m}))})),_.length<v.length?d.default.createElement(_e,null,d.default.createElement(p.SpinningWheel,{scale:.35,color:p.colors.gray})):null);var O=!!t,T=O?S.byCategory.title:S.byBrandName.title,w=O?void 0:S.byBrandName.subtitle;return d.default.createElement(d.default.Fragment,null,d.default.createElement(ge,null,h),d.default.createElement(Se,i({},{isUserSearchingWithBrowsingTags:O}),d.default.createElement(Oe,null,d.default.createElement(Te,{src:g.LOGO_WHITE_IMAGE_URL})),d.default.createElement(Ae,null,T),w?d.default.createElement(Ae,null,w):null))}function L(e){var t=e.offer,n=e.isMobileExtension,r=e.setSelectedOfferSearchResult,o=e.setSelectedOfferDetailsSection,a=(0,y.useOnClickSearchResult)(t,r,o),l=t.screen,s=(0,h.useImageSource)(l.logoURL),c=(0,p.useUserRegion)();return d.default.createElement(he,i({onClick:a},{isMobileExtension:n}),d.default.createElement(ve,null,s?d.default.createElement(xe,{src:s}):null),d.default.createElement(be,null,d.default.createElement(ye,null,d.default.createElement(Ee,null,l.title),d.default.createElement(p.OfferTypeIcon,i({},{offer:t,userRegion:c}))),t.type!==p.OfferType.NoCashback?d.default.createElement(p.OfferCashback,i({},{offer:t,userRegion:c},{shouldUseShortVersion:!0,shouldUseThinFont:!0,shouldUseRegularGray:!0})):null))}function W(){var e=Array.from(Array(10).keys());return d.default.createElement(me,{shouldDisableScrolling:!0},e.map((function(e){return d.default.createElement(Ce,{key:e,src:g.OFFER_PLACEHOLDER_ILLUSTRATION_URL})})))}function M(e){var t=e.selectedOfferSearchResult,n=e.panelInnerContainerRef,r=e.onClickGoBackInPanelHeader,o=e.closePanelAndLogEvents,a=e.isMobileExtension,l=s(e,["selectedOfferSearchResult","panelInnerContainerRef","onClickGoBackInPanelHeader","closePanelAndLogEvents","isMobileExtension"]);return d.default.createElement(Pe,null,d.default.createElement(N,i({offer:t},{onClickGoBackInPanelHeader:r,closePanelAndLogEvents:o,isMobileExtension:a,panelInnerContainerRef:n})),d.default.createElement(O.OfferDetailsTabContentProvider,{currentWebpageOffer:l.offer,displayedOffer:t,isDisplayedWithinOfferSearchTab:!0},d.default.createElement(O.default,i({},l,{isMobileExtension:a,closePanelAndLogEvents:o}))))}function N(e){var t=e.onClickGoBackInPanelHeader,n=e.closePanelAndLogEvents,r=e.isMobileExtension,o=e.offer,a=e.panelInnerContainerRef,l=((0,w.usePanelDisplayContext)()||{dragEventListeners:{}}).dragEventListeners,s=l.onDragListener,c=l.onPressListener,u=l.onReleaseListener,f=(0,p.useHasFeatureByPlatform)({isMobileExtension:r,desktopFeature:p.Feature.snoozeSettingsButtonDesktopBrowserExtension,mobileFeature:p.Feature.snoozeSettingsButtonMobileBrowserExtension});return d.default.createElement(T.PanelHeaderContainer,{onPointerDown:c,onPointerMove:s,onPointerUp:u,style:{paddingLeft:r?0:v.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING/2}},d.default.createElement(T.PanelHeaderButtonsContainer,{style:{width:"100%",justifyContent:"space-between"}},d.default.createElement(B,{onClick:t,style:{marginRight:"auto",padding:r?v.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING:v.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING/2}}),p.browserKind!==p.Browser.mobileAppWebView&&f?d.default.createElement(C.default,i({},{offer:o,openingSource:m.JokoExtensionElement.panel,closingActionOnSnoozing:{source:"panel",closePanelAndLogEvents:n},panelInnerContainerRef:a})):null,d.default.createElement(T.HeaderIconButton,{src:g.CROSS_BLACK_ICON_URL,onClick:function(){return n("crossIcon")},size:14})))}t.default=function(e){var t=e.emptyQuerySearchResults,n=e.offerBrowsingTags,r=e.isMobileExtension,o=e.closePanelAndLogEvents,a=e.userRegion,l=e.offer,c=s(e,["emptyQuerySearchResults","offerBrowsingTags","isMobileExtension","closePanelAndLogEvents","userRegion","offer"]),u=((0,w.usePanelDisplayContext)()||{}).shouldDisplayBankReconnectionBanner,f=(0,y.useOfferSearchTabContentInnerState)(),p=f.searchText,g=f.setSearchText,m=f.isOfferSearchActive,h=f.setIsOfferSearchActive,b=f.selectedParentBrowsingTag,v=f.setSelectedParentBrowsingTag,_=f.selectedChildBrowsingTag,C=f.setSelectedChildBrowsingTag,S=f.scrollableContentRef,O=f.shouldResetScrollableContentEventListener,T=f.resetScrollableContentEventListener,B=(0,y.useSelectedOfferSearchResult)(a,r,o,c.userOfferActivationInfo),D=B.selectedOfferSearchResult,k=B.setSelectedOfferSearchResult,L=B.setSelectedOfferDetailsSection,W=s(B,["selectedOfferSearchResult","setSelectedOfferSearchResult","setSelectedOfferDetailsSection"]),N=(0,x.useIsBnplSectionEnabledForOffer)(D),R=i(i(i({},c),W),{isBnplSectionEnabledForOffer:N,selectedOfferSearchResult:D,setSelectedOfferSearchResult:k,closePanelAndLogEvents:o,isMobileExtension:r,setSelectedOfferDetailsSection:L});return d.default.createElement(d.default.Fragment,null,u?d.default.createElement(E.BankReconnectionBanner,i({},{closePanelAndLogEvents:o})):null,d.default.createElement(le,null,d.default.createElement(P,i({},{searchText:p,setSearchText:g,isOfferSearchActive:m,setIsOfferSearchActive:h,selectedParentBrowsingTag:b,setSelectedParentBrowsingTag:v,selectedChildBrowsingTag:_,setSelectedChildBrowsingTag:C,isMobileExtension:r,scrollableContentRef:S,shouldResetScrollableContentEventListener:O})),m&&""===p?d.default.createElement(A.OfferBrowsingTagContent,i({},{isMobileExtension:r,emptyQuerySearchResults:t,offerBrowsingTags:n,selectedParentBrowsingTag:b,setSelectedParentBrowsingTag:v,selectedChildBrowsingTag:_,setSelectedChildBrowsingTag:C,closePanelAndLogEvents:o,scrollableContentRef:S,resetScrollableContentEventListener:T,setSelectedOfferSearchResult:k,setSelectedOfferDetailsSection:L})):d.default.createElement(I,i({},{selectedParentBrowsingTag:b,searchText:p,emptyQuerySearchResults:t,isMobileExtension:r,closePanelAndLogEvents:o,scrollableContentRef:S,resetScrollableContentEventListener:T,setSelectedOfferSearchResult:k,setSelectedOfferDetailsSection:L})),void 0!==D?d.default.createElement(M,i({},R,{offer:l},{onClickGoBackInPanelHeader:function(){k(void 0)}})):null))},t.UserOffersList=k;var R,j,U,z,H,F,G,X,K,V,Z,J,Y,Q,q,$,ee,te,ne,re,ie,oe,ae,le=(0,f.default)(_.ContentScrollView)(R||(R=r(["\n    box-sizing: border-box;\n    text-align: center;\n"],["\n    box-sizing: border-box;\n    text-align: center;\n"]))),se=(0,f.default)(_.RowSpacedCenterContainer)(j||(j=r(["\n    width: fill-available;\n    padding: ","px ","px;\n    padding-bottom: ","px;\n"],["\n    width: fill-available;\n    padding: ","px ","px;\n    padding-bottom: ","px;\n"])),v.DEFAULT_PANEL_TOP_PADDING,v.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,(function(e){var t=e.isOfferSearchActive,n=e.searchText,r=e.selectedParentBrowsingTag;return!t||n?8:r?13:v.DEFAULT_PANEL_TOP_PADDING})),ce=(0,f.default)(_.RowSpacedCenterContainer)(U||(U=r(["\n    position: fixed;\n    z-index: ",";\n    top: 0;\n    left: 0;\n    box-sizing: border-box;\n    width: 100px;\n    height: 45px;\n    background: ",";\n    border-bottom: 1px solid ",";\n"],["\n    position: fixed;\n    z-index: ",";\n    top: 0;\n    left: 0;\n    box-sizing: border-box;\n    width: 100px;\n    height: 45px;\n    background: ",";\n    border-bottom: 1px solid ",";\n"])),v.HIGHEST_Z_INDEX-1,p.colors.white,p.colors.gallery),ue=(0,f.default)(_.RowLeftCenterContainer)(z||(z=r(["\n    width: 100%;\n"],["\n    width: 100%;\n"]))),de=(0,f.default)(_.RowSpacedCenterContainer)(H||(H=r(["\n    width: 100%;\n    padding: 0 12px;\n    border: 1px solid\n        ",";\n    border-radius: 1000px;\n"],["\n    width: 100%;\n    padding: 0 12px;\n    border: 1px solid\n        ",";\n    border-radius: 1000px;\n"])),(function(e){return e.isSearchBarFocused?p.colors.emerald:p.colors.alto})),fe=f.default.input(F||(F=r(["\n    width: 100%;\n    margin-right: 10px;\n    padding: 12px 0;\n    border: 0;\n    background-color: ",";\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    color: ",";\n    -webkit-tap-highlight-color: transparent;\n\n    ::placeholder {\n        font-family: ",";\n        font-weight: 600;\n        color: ",";\n    }\n\n    &:focus {\n        outline: none;\n    }\n"],["\n    width: 100%;\n    margin-right: 10px;\n    padding: 12px 0;\n    border: 0;\n    background-color: ",";\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    color: ",";\n    -webkit-tap-highlight-color: transparent;\n\n    ::placeholder {\n        font-family: ",";\n        font-weight: 600;\n        color: ",";\n    }\n\n    &:focus {\n        outline: none;\n    }\n"])),p.colors.white,p.fontFamilyAmbit,p.colors.brightGray,p.fontFamilyAmbit,p.colors.dustyGray),pe=f.default.img(G||(G=r(["\n    width: ","px;\n    height: ","px;\n    object-fit: contain;\n    padding: 8px;\n    touch-action: manipulation;\n    ","\n\n    &:hover {\n        ","\n    }\n"],["\n    width: ","px;\n    height: ","px;\n    object-fit: contain;\n    padding: 8px;\n    touch-action: manipulation;\n    ","\n\n    &:hover {\n        ","\n    }\n"])),(function(e){return e.size}),(function(e){return e.size}),v.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN,(function(e){return e.shouldDisplayPointer?"cursor: pointer;":""})),ge=(0,f.default)(_.ColumnTopLeftContainer)(X||(X=r(["\n    width: 100%;\n"],["\n    width: 100%;\n"]))),me=(0,f.default)(_.ColumnTopLeftContainer)(K||(K=r(["\n    width: 100%;\n    height: 100%;\n    overflow-y: ",";\n    scrollbar-width: none; /* This is for Firefox */\n\n    ::-webkit-scrollbar {\n        width: 0; /* Remove scrollbar space */\n        background: transparent; /* Optional: just make scrollbar invisible */\n    }\n"],["\n    width: 100%;\n    height: 100%;\n    overflow-y: ",";\n    scrollbar-width: none; /* This is for Firefox */\n\n    ::-webkit-scrollbar {\n        width: 0; /* Remove scrollbar space */\n        background: transparent; /* Optional: just make scrollbar invisible */\n    }\n"])),(function(e){return e.shouldDisableScrolling?"hidden":"scroll"})),he=(0,f.default)(_.RowLeftCenterContainer)(V||(V=r(["\n    z-index: 1;\n    box-sizing: border-box;\n    width: 100%;\n    padding: 8px ","px;\n    ","\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"],["\n    z-index: 1;\n    box-sizing: border-box;\n    width: 100%;\n    padding: 8px ","px;\n    ","\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"])),v.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,v.CLICKABLE_ELEMENT_CSS_MIXIN,(function(e){return e.isMobileExtension?"":"&:hover {\n        background-color: ".concat(p.colors.alabaster,";\n}   ")}),p.colors.concrete),be=(0,f.default)(_.ColumnTopLeftContainer)(Z||(Z=r(["\n    margin-right: 15px;\n    overflow: hidden;\n    text-align: left;\n"],["\n    margin-right: 15px;\n    overflow: hidden;\n    text-align: left;\n"]))),ve=(0,f.default)(_.CenteredContainer)(J||(J=r(["\n    flex-direction: row;\n    flex-shrink: 0;\n    width: 44px;\n    height: 44px;\n    margin-right: 15px;\n    border-radius: 48px;\n    background-color: ",";\n"],["\n    flex-direction: row;\n    flex-shrink: 0;\n    width: 44px;\n    height: 44px;\n    margin-right: 15px;\n    border-radius: 48px;\n    background-color: ",";\n"])),p.colors.athensGray),xe=f.default.img(Y||(Y=r(["\n    width: 36px;\n    height: 36px;\n    object-fit: contain;\n    border-radius: 48px;\n"],["\n    width: 36px;\n    height: 36px;\n    object-fit: contain;\n    border-radius: 48px;\n"]))),ye=f.default.div(Q||(Q=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: row;\n    align-items: center;\n    max-width: 100%;\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: row;\n    align-items: center;\n    max-width: 100%;\n"]))),Ee=(0,f.default)(S.ContentTitle)(q||(q=r(["\n    margin-bottom: 2;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"],["\n    margin-bottom: 2;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"]))),_e=(0,f.default)(_.CenteredContainer)($||($=r(["\n    width: 100%;\n    min-height: 70px;\n"],["\n    width: 100%;\n    min-height: 70px;\n"]))),Ce=f.default.img(ee||(ee=r(["\n    height: 44px;\n    object-fit: contain;\n    margin: 8px ","px;\n    ","\n"],["\n    height: 44px;\n    object-fit: contain;\n    margin: 8px ","px;\n    ","\n"])),v.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,v.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),Se=(0,f.default)(_.CenteredContainer)(te||(te=r(["\n    ","\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n"],["\n    ","\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n"])),(function(e){return e.isUserSearchingWithBrowsingTags?"margin-top: 10px;":""})),Oe=(0,f.default)(_.CenteredContainer)(ne||(ne=r(["\n    width: 48px;\n    height: 48px;\n    margin-bottom: 12px;\n    border-radius: 48px;\n    background-color: ",";\n"],["\n    width: 48px;\n    height: 48px;\n    margin-bottom: 12px;\n    border-radius: 48px;\n    background-color: ",";\n"])),p.colors.gallery),Te=f.default.img(re||(re=r(["\n    width: 28px;\n    height: 28px;\n    object-fit: contain;\n"],["\n    width: 28px;\n    height: 28px;\n    object-fit: contain;\n"]))),we=f.default.img(ie||(ie=r(["\n    width: 10px;\n    height: 14px;\n    object-fit: contain;\n    margin-right: 10px;\n    transform: rotate(180deg);\n    ","\n"],["\n    width: 10px;\n    height: 14px;\n    object-fit: contain;\n    margin-right: 10px;\n    transform: rotate(180deg);\n    ","\n"])),v.CLICKABLE_ELEMENT_CSS_MIXIN),Ae=(0,f.default)(S.ContentSubtitle)(oe||(oe=r(["\n    line-height: 20px;\n    text-align: center;\n    color: ",";\n"],["\n    line-height: 20px;\n    text-align: center;\n    color: ",";\n"])),p.colors.doveGray),Pe=(0,f.default)(_.BaseOverlay)(ae||(ae=r(["\n    z-index: ",";\n    right: 0;\n    bottom: 0;\n    display: flex;\n    flex-direction: column;\n    background: ",";\n    animation-name: overlay-fade-in;\n    animation-duration: 0.3s;\n    animation-delay: 0;\n    animation-fill-mode: backwards;\n\n    @keyframes overlay-fade-in {\n        0% {\n            opacity: 0;\n        }\n\n        100% {\n            opacity: 1;\n        }\n    }\n"],["\n    z-index: ",";\n    right: 0;\n    bottom: 0;\n    display: flex;\n    flex-direction: column;\n    background: ",";\n    animation-name: overlay-fade-in;\n    animation-duration: 0.3s;\n    animation-delay: 0;\n    animation-fill-mode: backwards;\n\n    @keyframes overlay-fade-in {\n        0% {\n            opacity: 0;\n        }\n\n        100% {\n            opacity: 1;\n        }\n    }\n"])),v.HIGHEST_Z_INDEX-1,p.colors.white)},91506:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderIconButton=t.PanelHeaderButtonsContainer=t.PanelHeaderContainer=void 0;var u=c(n(96540)),d=c(n(38267)),f=n(55015),p=n(12233),g=n(19972),m=n(47175),h=n(17621),b=n(32668),v=n(26368),x=n(74617),y=n(13897),E=n(20989),_=n(64777),C=c(n(4956)),S=c(n(84355)),O=n(64947),T=c(n(46830)),w=l(n(39838)),A=c(n(38598)),P=n(97669),B=c(n(1546)),I=c(n(96691));t.default=function(e){var t,n=(0,x.usePanelInnerState)(e),r=n.selectedPanelTab,o=n.panelWrapperProps,a=n.panelTabsProps,l=(0,p.useIsDesignSystemModeActivated)().isDesignSystemModeActivated;return u.default.createElement(P.PanelDisplayContextProvider,{isMobileExtension:a.isMobileExtension,closePanelAndLogEvents:o.closePanelAndLogEvents,shouldOpenBnplSubscription:!!e.bnpl.shouldOpenBnplSubscription,isFromBnplSuggestionAtCheckoutWidget:!!e.bnpl.isFromBnplSuggestionAtCheckoutWidget,isFromBnplResumption:!!e.bnpl.isFromBnplResumption,shouldDisplayBankReconnectionBanner:a.shouldDisplayBankReconnectionBanner,tabId:o.tabId,isDesignSystemModeActivated:!!l,selectedPanelTab:r,offerId:null===(t=a.offer)||void 0===t?void 0:t.offerId},l?u.default.createElement(g.DesignSystemPanelHeaderContextProvider,{initialPanelHeaderType:g.PanelHeaderType.jokoLogoAndCloseButton,isMobileExtension:a.isMobileExtension},u.default.createElement(T.default,i({},o),u.default.createElement(O.DesignSystemMemoizedPanelTabContent,i({},{selectedPanelTab:r,panelTabsProps:a})))):u.default.createElement(k,i({},o),u.default.createElement(D,i({},{selectedPanelTab:r,panelTabsProps:a}))))};var D=u.default.memo((function(e){var t=e.selectedPanelTab,n=e.panelTabsProps;switch(t){case f.PanelTab.offerSearch:return u.default.createElement(A.default,i({},n));case f.PanelTab.offerDetails:return u.default.createElement(w.OfferDetailsTabContentProvider,{currentWebpageOffer:n.offer,displayedOffer:n.offer,closePanelAndLogEvents:n.closePanelAndLogEvents},u.default.createElement(w.default,i({},n)));case f.PanelTab.products:return u.default.createElement(B.default,i({},n));case f.PanelTab.profile:return u.default.createElement(I.default,i({},n))}}));function k(e){var t=e.children,n=e.tabId,r=e.isPanelDisplayed,o=e.selectedPanelTab,a=e.setSelectedPanelTab,l=e.closePanelAndLogEvents,c=e.offer,d=e.isProductPage,p=e.onPanelTransitionEnd,g=e.isOfferWidgetMounted,m=e.panelInnerContainerRef,b=e.isTemporaryUser,v=e.excludedPanelTabs,_=e.unfinishedBnplSubscriptionState,C=(0,P.usePanelDisplayContext)(),S=C.isMobileExtension,O=C.topOffset,T=C.isBeingDragged,w=C.dragEventListeners,A=w.onDragListener,B=w.onPressListener,I=w.onReleaseListener,D=C.bnpl,k=D.isInBnplSubscription,M=D.hasNavigatedAwayFromUnfinishedBnplSubscription,R=C.height,j=C.setHeight,U=C.isMinimized,z=(0,x.usePanelWrapperInnerState)(l,!!k).elementId,H=function(e){var t=e.wasUnfinishedBnplSubscriptionResumed,n=s(u.default.useState(t),2),r=n[0],i=n[1];return u.default.useEffect((function(){var e;return t&&(e=setTimeout((function(){return i(!1)}),100)),function(){e&&clearTimeout(e)}}),[]),r}({wasUnfinishedBnplSubscriptionResumed:!!_}),F=(0,f.useHasFeature)(f.Feature.resumeUnfinishedBnplSubscriptionOnUrlChange),G=(0,h.useHashedElementId)(h.JokoExtensionElement.panelFrame);return u.default.createElement(N,i({id:z,onTransitionEnd:p},{frameId:G,isMobileExtension:S,isPanelDisplayed:r,isOfferWidgetMounted:g,mobilePanelTopOffset:O,isBeingDragged:T,height:R,shouldRemoveAllTransitions:H}),u.default.createElement(Y,i({},{isMobileExtension:S,height:R},{ref:m}),k&&c?F&&void 0===U?null:u.default.createElement(y.BnplNavigationContextProvider,i({},{offer:c,unfinishedBnplSubscriptionState:M?void 0:_,tabId:n}),u.default.createElement(E.CurrentBnplPanel,{setHeight:S?j:void 0})):u.default.createElement(u.default.Fragment,null,u.default.createElement(L,i({},{isMobileExtension:S,closePanelAndLogEvents:l,offer:c,panelInnerContainerRef:m,onDragListener:A,onPressListener:B,onReleaseListener:I})),t,u.default.createElement(W,i({},{isMobileExtension:S,isTemporaryUser:b,selectedPanelTab:o,setSelectedPanelTab:a,offer:c,isProductPage:d,excludedPanelTabs:v})))))}function L(e){var n=e.isMobileExtension,r=e.closePanelAndLogEvents,o=e.offer,a=e.panelInnerContainerRef,l=e.onPressListener,s=e.onDragListener,c=e.onReleaseListener,d=(0,b.useForceMobileSafariAutoLoginEasterEgg)(),p=(0,f.useHasFeatureByPlatform)({isMobileExtension:n,desktopFeature:f.Feature.snoozeSettingsButtonDesktopBrowserExtension,mobileFeature:f.Feature.snoozeSettingsButtonMobileBrowserExtension});return u.default.createElement(t.PanelHeaderContainer,{onPointerDown:l,onPointerMove:s,onPointerUp:c},u.default.createElement(R,{src:m.LOGO_WITH_TITLE_IMAGE_URL,onClick:n?d:void 0}),u.default.createElement(t.PanelHeaderButtonsContainer,null,f.browserKind!==f.Browser.mobileAppWebView&&p?u.default.createElement(C.default,i({},{offer:o,openingSource:h.JokoExtensionElement.panel,closingActionOnSnoozing:{source:"panel",closePanelAndLogEvents:r},panelInnerContainerRef:a})):null,u.default.createElement(t.HeaderIconButton,{src:m.CROSS_BLACK_ICON_URL,onClick:function(){return r("crossIcon")},size:14})))}function W(e){var t=function(t){var n;return null===(n=e.excludedPanelTabs)||void 0===n?void 0:n.includes(t)};return u.default.createElement(Q,null,t(f.PanelTab.offerSearch)?null:u.default.createElement(M,i({panelTab:f.PanelTab.offerSearch},e)),t(f.PanelTab.offerDetails)?null:u.default.createElement(M,i({panelTab:f.PanelTab.offerDetails,isDisabled:void 0===e.offer&&!e.isProductPage},e)),t(f.PanelTab.products)?null:u.default.createElement(M,i({panelTab:f.PanelTab.products,isHidden:e.isTemporaryUser},e)),t(f.PanelTab.profile)?null:u.default.createElement(M,i({panelTab:f.PanelTab.profile},e)))}function M(e){var t=e.panelTab,n=e.selectedPanelTab,r=e.setSelectedPanelTab,o=e.isMobileExtension,a=e.isDisabled,l=e.isHidden,s=t===n,c=(0,f.useLocalizedTexts)().contentscript.redesign.panel[t].tabButtonLabel,d=(0,x.useTabIconUrl)(t,s,o);return l?null:u.default.createElement(q,i({},{onClick:function(){return a?null:r(t)},isDisabled:a}),u.default.createElement($,null,u.default.createElement(ee,i({src:d},{isSelected:s,isMobileExtension:o}))),u.default.createElement(te,i({},{isSelected:s}),c))}var N=(0,d.default)(S.default).attrs((function(e){var t=e.isMobileExtension,n=e.isPanelDisplayed,r=e.mobilePanelTopOffset,o=e.isOfferWidgetMounted,a=e.isBeingDragged,l=e.shouldRemoveAllTransitions,s="translate3d(-50%, "+"".concat(n?r:v.MOBILE_PANEL_HEIGHT,"px, ")+"".concat(v.HIGHER_TRANSLATE3D_Z_AXIS,"px)"),c=t?{"-webkit-transform":s,transform:s}:{right:n||o?15:-v.DESKTOP_PANEL_AND_WIDGET_WIDTH-15};return{style:i(i({},c),{transition:"".concat(l?"":o&&!t?"opacity":t?"transform":"right"," ").concat(a||l?0:v.OPEN_AND_CLOSE_ANIMATIONS_DURATION_IN_SECONDS,"s ease")})}}))(j||(j=r(["\n    z-index: ",";\n    ","\n    opacity: ",";\n    box-shadow: 0 4px 14px 0 #0000004d;\n    background-color: ",";\n"],["\n    z-index: ",";\n    ","\n    opacity: ",";\n    box-shadow: 0 4px 14px 0 #0000004d;\n    background-color: ",";\n"])),v.HIGHEST_Z_INDEX,(function(e){var t=e.isMobileExtension,n=e.height;return t?" width: 100%; \n                height: ".concat(n||v.MOBILE_PANEL_HEIGHT,"px;\n                position: fixed; \n                bottom: 0;\n                left: 50%;\n                border: 0;\n                border-radius: 8px 8px 0 0;"):" width: ".concat(v.DESKTOP_PANEL_AND_WIDGET_WIDTH,"px;  \n                height: ").concat(v.DESKTOP_PANEL_HEIGHT,"px;\n                position: fixed;\n                top: 15px; \n                transform: translate3d(0, 0, ").concat(v.HIGHER_TRANSLATE3D_Z_AXIS,"px);\n                border: 0;\n                border-radius: 8px;")}),(function(e){var t=e.isPanelDisplayed,n=e.isMobileExtension,r=e.isOfferWidgetMounted;return t||n||!r?1:0}),f.colors.white);t.PanelHeaderContainer=(0,d.default)(_.RowSpacedCenterContainer)(U||(U=r(["\n    /* This property is necessary to allow pointer events to work */\n    touch-action: none;\n    position: relative;\n    box-sizing: border-box;\n    width: 100%;\n    height: ","px;\n    border-bottom: 1px solid ",";\n    padding: 0 ","px 0\n        ","px;\n"],["\n    /* This property is necessary to allow pointer events to work */\n    touch-action: none;\n    position: relative;\n    box-sizing: border-box;\n    width: 100%;\n    height: ","px;\n    border-bottom: 1px solid ",";\n    padding: 0 ","px 0\n        ","px;\n"])),v.PANEL_TOP_BAR_HEIGHT,f.colors.gallery,v.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING/2,v.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING);var R=d.default.img(z||(z=r(["\n    height: 18px;\n    object-fit: contain;\n    ","\n"],["\n    height: 18px;\n    object-fit: contain;\n    ","\n"])),v.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN);t.PanelHeaderButtonsContainer=d.default.div(H||(H=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    touch-action: manipulation;\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    touch-action: manipulation;\n"]))),t.HeaderIconButton=d.default.img(F||(F=r(["\n    width: ","px;\n    height: ","px;\n    padding: ","px;\n    ","\n"],["\n    width: ","px;\n    height: ","px;\n    padding: ","px;\n    ","\n"])),(function(e){return e.size}),(function(e){return e.size}),v.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING/2,v.CLICKABLE_ELEMENT_CSS_MIXIN);var j,U,z,H,F,G,X,K,V,Z,J,Y=(0,d.default)(_.ColumnTopCenterContainer)(G||(G=r(["\n    width: 100%;\n    height: ","px;\n"],["\n    width: 100%;\n    height: ","px;\n"])),(function(e){var t=e.isMobileExtension,n=e.height;return t?n?parseInt(n,10):v.MOBILE_PANEL_HEIGHT:v.DESKTOP_PANEL_HEIGHT})),Q=(0,d.default)(_.RowSpacedCenterContainer)(X||(X=r(["\n    position: relative;\n    box-sizing: border-box;\n    width: 100%;\n    height: ","px;\n    box-shadow: 0 5px 20px ",";\n    background-color: ",";\n"],["\n    position: relative;\n    box-sizing: border-box;\n    width: 100%;\n    height: ","px;\n    box-shadow: 0 5px 20px ",";\n    background-color: ",";\n"])),v.TAB_SELECTOR_HEIGHT,f.colors.alto,f.colors.white),q=(0,d.default)(_.ColumnTopCenterContainer)(K||(K=r(["\n    flex: 1;\n    ","\n    ","\n"],["\n    flex: 1;\n    ","\n    ","\n"])),(function(e){return e.isDisabled?"opacity: 0.3;":""}),v.CLICKABLE_ELEMENT_CSS_MIXIN),$=d.default.div(V||(V=r(["\n    position: relative;\n"],["\n    position: relative;\n"]))),ee=d.default.img(Z||(Z=r(["\n    width: 25px;\n    height: 25px;\n    ","\n    ","\n"],["\n    width: 25px;\n    height: 25px;\n    ","\n    ","\n"])),(function(e){var t=e.isSelected,n=e.isMobileExtension;return(0,x.getCssFilterPropertyForTabIconUrl)(t,n)}),v.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),te=d.default.span(J||(J=r(["\n    margin-top: 8px;\n    font-weight: 700;\n    font-size: 11px;\n    line-height: 11px;\n    text-align: center;\n    color: ",";\n"],["\n    margin-top: 8px;\n    font-weight: 700;\n    font-size: 11px;\n    line-height: 11px;\n    text-align: center;\n    color: ",";\n"])),(function(e){return e.isSelected?f.colors.emerald:f.colors.frenchGray}))},97669:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PanelDisplayContextProvider=t.usePanelDisplayContext=void 0;var o=i(n(96540)),a=n(55015),l=n(59674),s=n(26368),c=n(74617),u=n(13897),d=o.default.createContext(void 0);t.usePanelDisplayContext=function(){return o.default.useContext(d)},t.PanelDisplayContextProvider=function(e){var t=e.children,n=e.isMobileExtension,i=e.closePanelAndLogEvents,f=e.shouldOpenBnplSubscription,p=e.isFromBnplSuggestionAtCheckoutWidget,g=e.isFromBnplResumption,m=e.shouldDisplayBankReconnectionBanner,h=e.tabId,b=e.isDesignSystemModeActivated,v=e.selectedPanelTab,x=e.offerId,y=r(o.default.useState(f),2),E=y[0],_=y[1],C=r(o.default.useState("".concat(b?l.MOBILE_PANEL_HEIGHT:s.MOBILE_PANEL_HEIGHT)),2),S=C[0],O=C[1];o.default.useEffect((function(){O("".concat(b?l.MOBILE_PANEL_HEIGHT:s.MOBILE_PANEL_HEIGHT))}),[b]);var T=(0,a.useHasFeature)(a.Feature.resumeUnfinishedBnplSubscriptionOnUrlChange),w=r(function(e){var t=r(o.default.useState(e),2),n=t[0],i=t[1];return o.default.useEffect((function(){i(e)}),[e]),[n,i]}(E),2),A=w[0],P=w[1],B=r(o.default.useState(!!T&&void 0),2),I=B[0],D=B[1],k=o.default.useCallback((function(e){if(D(e),T&&E){if(!h)return;(0,u.updateUnfinishedBnplSubscriptionStateInLocalStorage)(h,{isMinimized:e})}e?(0,c.enableWebpageBodyScrolling)():(0,c.disableWebpageBodyScrolling)()}),[T,E,h]);!function(e){var t=e.tabId,n=e.setIsMinimizedState,r=e.shouldResumeUnfinishedBnplSubscriptionOnUrlChange,i=e.isFromBnplResumption;o.default.useEffect((function(){r&&(i||(0,u.removeUnfinishedBnplSubscriptionStateInLocalStorage)(t),(0,a.getLocalStorageItem)(a.LocalStorageKey.unfinishedBnplSubscriptionStateByTabIdMap).then((function(e){t&&((null==e?void 0:e[t])&&i?n(!!e[t].isMinimized):n(!1))})))}),[t])}({tabId:h,setIsMinimizedState:D,shouldResumeUnfinishedBnplSubscriptionOnUrlChange:T,isFromBnplResumption:g});var L=r(o.default.useState(!1),2),W=L[0],M=L[1],N=r(o.default.useState(void 0),2),R=N[0],j=N[1],U=S?parseInt(S,10)-(b?l.PANEL_HEADER_HEIGHT:s.PANEL_TOP_BAR_HEIGHT):0,z=(0,a.useMakeMobileBottomSheetSlidable)({onSlideToBottom:function(){A?k(!0):i("slideDown")},onSlideToTop:function(){return k(!1)},maximumTopOffset:U,initialTopOffset:0,maximumUpwardsDrag:I?U:0,isMobileExtension:n,shouldSetTopOffsetToMaximumValueOnDragToBottom:!0}),H=z.topOffset,F=z.isBeingDragged,G=z.onDragListener,X=z.onPressListener,K=z.onReleaseListener,V=F?I?Math.min(U,U+H):H:I?U:0,Z={tabId:h,isMobileExtension:n,setIsMinimizable:P,isMinimized:I,setIsMinimized:k,isBeingDragged:F,topOffset:V,dragEventListeners:{onDragListener:G,onPressListener:X,onReleaseListener:K},height:S,setHeight:O,closePanelAndLogEvents:i,bnpl:{isInBnplSubscription:E,setIsInBnplSubscription:_,isFromBnplSuggestionAtCheckoutWidget:p,hasNavigatedAwayFromUnfinishedBnplSubscription:W,setHasNavigatedAwayFromUnfinishedBnplSubscription:M,lastUserBnplTransaction:R,setLastUserBnplTransaction:j},offerId:x,selectedPanelTab:v,shouldDisplayBankReconnectionBanner:m};return o.default.createElement(d.Provider,{value:Z},t)}},1546:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(96540)),s=a(n(38267)),c=n(47248),u=n(26368),d=n(87105),f=n(65946),p=n(64777),g=n(97669),m=a(n(68001)),h=a(n(82646)),b=a(n(71498));function v(e){var t=e.selectedProductsSection,n=o(e,["selectedProductsSection"]);switch(t){case c.ProductsSection.savedProducts:return l.default.createElement(h.default,i({},n));case c.ProductsSection.browsedProducts:return l.default.createElement(m.default,i({},n))}}t.default=function(e){var t=e.userSavedWebpages,n=e.setUserSavedWebpages,r=e.userBrowsedProductWebpages,o=e.setUserBrowsedProductWebpages,a=e.userRegion,s=e.offer,c=e.blacklistedPriceTrackingDomains,u=e.isMobileExtension,p=e.panelInnerContainerRef,m=e.selectedProductsSection,h=e.setSelectedProductsSection,x=(0,g.usePanelDisplayContext)()||{},y=x.shouldDisplayBankReconnectionBanner,C=x.closePanelAndLogEvents,S=(0,d.useProductsSections)(u);return l.default.createElement(l.default.Fragment,null,y?l.default.createElement(f.BankReconnectionBanner,i({},{closePanelAndLogEvents:C})):null,l.default.createElement(E,null,l.default.createElement(_,null,l.default.createElement(b.default,{selectableElements:S,selectedElementId:m,setSelectedElementId:h})),l.default.createElement(v,i({},{isMobileExtension:u,userRegion:a,offer:s,panelInnerContainerRef:p,userSavedWebpages:t,setUserSavedWebpages:n,userBrowsedProductWebpages:r,setUserBrowsedProductWebpages:o,blacklistedPriceTrackingDomains:c,selectedProductsSection:m,setSelectedProductsSection:h}))))};var x,y,E=(0,s.default)(p.ColumnTopCenterContainer)(x||(x=r(["\n    flex: 1;\n    box-sizing: border-box;\n    width: 100%;\n    padding-top: ","px;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    flex: 1;\n    box-sizing: border-box;\n    width: 100%;\n    padding-top: ","px;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),u.DEFAULT_PANEL_TOP_PADDING),_=s.default.div(y||(y=r(["\n    width: fill-available;\n    padding: 0 ","px 0;\n"],["\n    width: fill-available;\n    padding: 0 ","px 0;\n"])),u.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING)},96691:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(96540)),s=a(n(38267)),c=n(55015),u=n(39148),d=n(47175),f=n(62849),p=n(26368),g=n(46239),m=n(78148),h=n(65946),b=n(64777),v=n(78776);function x(e){var t=e.isMobileExtension,n=(0,m.useOnClickTemporaryUserLoginButton)(t),r=(0,c.useLocalizedTexts)().contentscript.redesign.panel.profile.temporaryUserLoginButton;return l.default.createElement(Q,i({},{onClick:n}),l.default.createElement(v.ContentSemiBoldSubtitle,null,r),l.default.createElement(le,null,l.default.createElement(fe,{src:d.CHEVRON_DOWN_ICON_URL})))}function y(e){var t=e.isTemporaryUser,n=e.formattedUserBalance,r=e.collectedBalanceInPoints,o=e.isMobileExtension,a=(0,c.useLocalizedTexts)().contentscript.redesign.panel.profile.cashbackBalanceIndicators;return t?l.default.createElement(q,null,l.default.createElement($,null,void 0===n.pending?l.default.createElement(E,{color:c.colors.emerald,style:{padding:"0 0 2px"}}):n.pending),l.default.createElement(ce,{src:d.LOGIN_PADLOCK_GREEN_ICON_URL})):l.default.createElement(ee,null,l.default.createElement(re,i({},{isMobileExtension:o},{onClick:function(){return(0,m.redirectToJokoAppHistoryScreen)(!1)}}),void 0===n.collected?l.default.createElement(E,{color:c.colors.emerald}):n.collected,l.default.createElement(ne,null,l.default.createElement(ue,{src:d.CHECK_MARK_FILLED_ROUND_GREEN_ICON_URL}),l.default.createElement(he,null,a.collected({collectedCashbackInCurrencyUnits:(r||0)/1e3})))),l.default.createElement(ie,i({},{isMobileExtension:o},{onClick:function(){return(0,m.redirectToJokoAppHistoryScreen)(!0)}}),void 0===n.pending?l.default.createElement(E,{color:c.colors.gray}):n.pending,l.default.createElement(ne,null,l.default.createElement(ue,{src:d.CLOCK_GRAY_ICON_URL}),l.default.createElement(be,null,a.pending))))}function E(e){var t=e.color,n=e.style;return l.default.createElement(te,i({},{style:n}),l.default.createElement(c.SpinningWheel,i({scale:.4},{color:t})))}t.default=function(e){var t=e.formattedUserBalance,n=e.collectedBalanceInPoints,r=e.shouldDisplayBankReconnectionBanner,o=e.isMobileExtension,a=e.isTemporaryUser,s=e.closePanelAndLogEvents,d=(0,c.useLocalizedTexts)().contentscript.redesign.panel.profile;return l.default.createElement(l.default.Fragment,null,r?l.default.createElement(h.BankReconnectionBanner,i({},{closePanelAndLogEvents:s})):null,l.default.createElement(J,null,l.default.createElement(Y,null,a?l.default.createElement(x,i({},{isMobileExtension:o})):null,l.default.createElement(v.PanelTitle,null,d.title),l.default.createElement(y,i({},{isTemporaryUser:a,formattedUserBalance:t,collectedBalanceInPoints:n,isMobileExtension:o})),l.default.createElement(S,i({},{isMobileExtension:o})),l.default.createElement(u.ToggleDesignSystemModeButton,null)),l.default.createElement(ge,null),c.browserKind!==c.Browser.mobileAppWebView?l.default.createElement(me,null,d.version({browserName:c.browserName,versionNumber:c.versionNumber})):null))};var _="https://app.joko.com/home/profile/user-info",C="https://dev.app.joko.com/home/profile/user-info";function S(e){var t=e.isMobileExtension,n=o(l.default.useState(!1),2),r=n[0],a=n[1];l.default.useEffect((function(){(0,c.checkIsOnDevStack)().then(a)}),[]);var s=(0,c.useLocalizedTexts)().contentscript.redesign.panel.profile,u=(0,c.useLocalizedHelpCenterAndTosUrls)(),p=u.helpCenterUrl,g=u.tosUrl,m=(0,f.useExtensionType)();return l.default.createElement(oe,null,l.default.createElement(O,i({text:s.helpCenter,url:p,iconUrl:d.INFO_CIRCLE_BLACK_ICON_URL,amplitudeEvent:{type:"Profile - Clicked FAQ"}},{isMobileExtension:t})),l.default.createElement(pe,null),l.default.createElement(O,i({text:s.termsOfService,url:g,iconUrl:d.BOOK_OPEN_BLACK_ICON_URL,amplitudeEvent:{type:"Profile - Clicked Terms Of Service"}},{isMobileExtension:t})),l.default.createElement(pe,null),m===c.ExtensionType.desktopSafariExtension?l.default.createElement(O,i({text:s.manageMyAccount,url:r?C:_,iconUrl:d.GEAR_ICON_URL,amplitudeEvent:{type:"Profile - Clicked Manage My Account"}},{isMobileExtension:t})):null)}function O(e){var t=e.text,n=e.amplitudeEvent,r=e.url,o=e.iconUrl,a=e.isMobileExtension,s=l.default.useCallback((function(){(0,g.sendMessageToBackgroundScript)({message:"openTab",data:{url:r}}),n&&(0,g.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:n}})}),[r,n]);return l.default.createElement(ae,i({},{isMobileExtension:a},{onClick:s}),l.default.createElement(se,{src:o}),l.default.createElement(v.ContentSemiBoldSubtitle,{style:{flexGrow:1}},t),l.default.createElement(de,{src:d.ARROW_RIGHT_BLACK_ICON_URL}))}var T,w,A,P,B,I,D,k,L,W,M,N,R,j,U,z,H,F,G,X,K,V,Z,J=(0,s.default)(b.ColumnTopCenterContainer)(T||(T=r(["\n    flex: 1;\n    box-sizing: border-box;\n    width: 100%;\n    padding: ","px ","px 12px;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    flex: 1;\n    box-sizing: border-box;\n    width: 100%;\n    padding: ","px ","px 12px;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),p.DEFAULT_PANEL_TOP_PADDING,p.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),Y=s.default.div(w||(w=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: left;\n    width: 100%;\n    text-align: left;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: left;\n    width: 100%;\n    text-align: left;\n"]))),Q=(0,s.default)(b.RowSpacedCenterContainer)(A||(A=r(["\n    height: 56px;\n    margin-bottom: 16px;\n    padding: 0 ","px;\n    border-radius: 8px;\n    background-color: ",";\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"],["\n    height: 56px;\n    margin-bottom: 16px;\n    padding: 0 ","px;\n    border-radius: 8px;\n    background-color: ",";\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"])),p.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,c.colors.hintOfGreen,p.CLICKABLE_ELEMENT_CSS_MIXIN,c.colors.mintGreen),q=(0,s.default)(b.RowLeftCenterContainer)(P||(P=r(["\n    height: 58px;\n    margin-top: 10px;\n"],["\n    height: 58px;\n    margin-top: 10px;\n"]))),$=(0,s.default)(c.Ambit)(B||(B=r(["\n    font-weight: 900;\n    font-size: 40px;\n    color: ",";\n"],["\n    font-weight: 900;\n    font-size: 40px;\n    color: ",";\n"])),c.colors.emerald),ee=(0,s.default)(b.RowSpacedCenterContainer)(I||(I=r(["\n    margin-top: 10px;\n    border: 2px solid ",";\n    border-radius: 8px;\n"],["\n    margin-top: 10px;\n    border: 2px solid ",";\n    border-radius: 8px;\n"])),c.colors.alabaster),te=(0,s.default)(b.RowLeftCenterContainer)(D||(D=r(["\n    width: 28px;\n    height: 28px;\n    margin-left: -7px;\n    padding: 0 0 4px;\n"],["\n    width: 28px;\n    height: 28px;\n    margin-left: -7px;\n    padding: 0 0 4px;\n"]))),ne=(0,s.default)(b.RowLeftCenterContainer)(k||(k=r(["\n    margin-bottom: 16px;\n"],["\n    margin-bottom: 16px;\n"]))),re=(0,s.default)(b.ColumnTopLeftContainer)(L||(L=r(["\n    width: 50%;\n    height: 66px;\n    padding: 14px 16px 0;\n    background-color: ",";\n    font-family: ",";\n    font-weight: 900;\n    font-size: 28px;\n    color: ",";\n    ","\n"],["\n    width: 50%;\n    height: 66px;\n    padding: 14px 16px 0;\n    background-color: ",";\n    font-family: ",";\n    font-weight: 900;\n    font-size: 28px;\n    color: ",";\n    ","\n"])),c.colors.hintOfGreen,c.fontFamilyAmbit,c.colors.emerald,(function(e){return e.isMobileExtension?"&:active {\n                opacity: 0.7;\n               }":""})),ie=(0,s.default)(b.ColumnTopLeftContainer)(W||(W=r(["\n    width: 50%;\n    height: 66px;\n    padding: 14px 16px 0;\n    background-color: ",";\n    font-family: ",";\n    font-weight: 900;\n    font-size: 28px;\n    color: ",";\n    ","\n"],["\n    width: 50%;\n    height: 66px;\n    padding: 14px 16px 0;\n    background-color: ",";\n    font-family: ",";\n    font-weight: 900;\n    font-size: 28px;\n    color: ",";\n    ","\n"])),c.colors.athensGray,c.fontFamilyAmbit,c.colors.gray,(function(e){return e.isMobileExtension?"&:active {\n                opacity: 0.7;\n               }":""})),oe=s.default.div(M||(M=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    width: 100%;\n    text-align: left;\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    width: 100%;\n    text-align: left;\n"]))),ae=(0,s.default)(b.CenteredContainer)(N||(N=r(["\n    flex-direction: row;\n    width: 100%;\n    height: 24px;\n    padding: 24px 0;\n    ","\n    ","\n"],["\n    flex-direction: row;\n    width: 100%;\n    height: 24px;\n    padding: 24px 0;\n    ","\n    ","\n"])),p.CLICKABLE_ELEMENT_CSS_MIXIN,(function(e){return e.isMobileExtension?"":"&:hover {\n                    filter: brightness(1.2);\n                }"})),le=(0,s.default)(b.CenteredContainer)(R||(R=r(["\n    min-width: 27px;\n    height: 27px;\n    border-radius: 1000px;\n    background-color: ",";\n"],["\n    min-width: 27px;\n    height: 27px;\n    border-radius: 1000px;\n    background-color: ",";\n"])),c.colors.emerald),se=s.default.img(j||(j=r(["\n    width: 17px;\n    height: 17px;\n    margin-right: 14px;\n    ","\n"],["\n    width: 17px;\n    height: 17px;\n    margin-right: 14px;\n    ","\n"])),p.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),ce=s.default.img(U||(U=r(["\n    width: 36px;\n    height: 36px;\n    margin-left: 14px;\n    ","\n"],["\n    width: 36px;\n    height: 36px;\n    margin-left: 14px;\n    ","\n"])),p.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),ue=s.default.img(z||(z=r(["\n    width: 16px;\n    height: 16px;\n    margin-right: 3px;\n"],["\n    width: 16px;\n    height: 16px;\n    margin-right: 3px;\n"]))),de=s.default.img(H||(H=r(["\n    width: 12px;\n    height: 12px;\n    object-fit: contain;\n    ","\n"],["\n    width: 12px;\n    height: 12px;\n    object-fit: contain;\n    ","\n"])),p.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),fe=s.default.img(F||(F=r(["\n    width: 15px;\n    height: 9px;\n    object-fit: contain;\n    margin-left: 2px;\n    transform: rotate(270deg);\n    ","\n    ","\n"],["\n    width: 15px;\n    height: 9px;\n    object-fit: contain;\n    margin-left: 2px;\n    transform: rotate(270deg);\n    ","\n    ","\n"])),(0,c.getCssFilterFromBlackToTargetColor)(c.ColorName.white),p.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),pe=s.default.hr(G||(G=r(["\n    width: 100%;\n    margin: 2px 0;\n    border: 1px solid ",";\n"],["\n    width: 100%;\n    margin: 2px 0;\n    border: 1px solid ",";\n"])),c.colors.athensGray),ge=s.default.div(X||(X=r(["\n    display: flex;\n    flex: 1;\n"],["\n    display: flex;\n    flex: 1;\n"]))),me=(0,s.default)(v.ContentSubtitle)(K||(K=r(["\n    color: ",";\n"],["\n    color: ",";\n"])),c.colors.frenchGray),he=(0,s.default)(v.ContentBoldSubtitle)(V||(V=r(["\n    line-height: 120%;\n    color: ",";\n"],["\n    line-height: 120%;\n    color: ",";\n"])),c.colors.emerald),be=(0,s.default)(v.ContentBoldSubtitle)(Z||(Z=r(["\n    line-height: 120%;\n    color: ",";\n"],["\n    line-height: 120%;\n    color: ",";\n"])),c.colors.gray)},71498:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(96540)),s=a(n(38267)),c=n(55015),u=n(26368),d=n(78776);function f(e){var t=e.selectableElement,n=e.index,r=e.numberOfElements,o=e.isSelected,a=e.setSelectedElementId,s=e.isOverflowing,c=n===r-1;return l.default.createElement(l.default.Fragment,null,l.default.createElement(x,i({},{onClick:function(){return a(t.id)},isSelected:o}),t.displayedText),c?s?null:l.default.createElement(y,{shouldFillWidth:!0}):l.default.createElement(y,{shouldFillWidth:!1}))}t.default=function(e){var t=e.selectableElements,n=e.selectedElementId,r=e.setSelectedElementId,a=function(){var e=l.default.useRef(null),t=l.default.useRef(null),n=o(l.default.useState(!1),2),r=n[0],i=n[1];return l.default.useEffect((function(){e&&e.current&&t&&t.current&&i(e.current.offsetWidth<t.current.offsetWidth)}),[]),{parentContainerRef:e,childContainerRef:t,isOverflowing:r}}(),s=a.parentContainerRef,c=a.childContainerRef,u=a.isOverflowing;return l.default.createElement(b,{isOverflowing:u,ref:s},l.default.createElement(v,{ref:c},t.map((function(e,o){return l.default.createElement(f,i({},{selectableElement:e,setSelectedElementId:r,index:o},{numberOfElements:t.length,isSelected:e.id===n,key:o,isOverflowing:u}))}))))};var p,g,m,h,b=s.default.div(p||(p=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    width: 100%;\n    min-height: 28px;\n    overflow-x: ",";\n    scrollbar-width: none; /* This is for Firefox */\n\n    ::-webkit-scrollbar {\n        width: 0; /* Remove scrollbar space */\n        background: transparent; /* Optional: just make scrollbar invisible */\n    }\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    width: 100%;\n    min-height: 28px;\n    overflow-x: ",";\n    scrollbar-width: none; /* This is for Firefox */\n\n    ::-webkit-scrollbar {\n        width: 0; /* Remove scrollbar space */\n        background: transparent; /* Optional: just make scrollbar invisible */\n    }\n"])),(function(e){return e.isOverflowing?"scroll":"hidden"})),v=s.default.div(g||(g=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: flex-start;\n    min-width: 100%;\n    width: auto;\n    height: 100%;\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: flex-start;\n    min-width: 100%;\n    width: auto;\n    height: 100%;\n"]))),x=(0,s.default)(d.ContentBoldSubtitle)(m||(m=r(["\n    height: 26px;\n    white-space: nowrap;\n    border-bottom: 2px solid ",";\n    text-align: center;\n    color: ",";\n    ","\n"],["\n    height: 26px;\n    white-space: nowrap;\n    border-bottom: 2px solid ",";\n    text-align: center;\n    color: ",";\n    ","\n"])),(function(e){return e.isSelected?c.colors.black:c.colors.gallery}),(function(e){return e.isSelected?c.colors.black:c.colors.silverChalice}),u.CLICKABLE_ELEMENT_CSS_MIXIN),y=s.default.div(h||(h=r(["\n    min-width: ",";\n    width: ",";\n    height: 26px;\n    white-space: nowrap;\n    border-bottom: 2px solid ",";\n    ","\n"],["\n    min-width: ",";\n    width: ",";\n    height: 26px;\n    white-space: nowrap;\n    border-bottom: 2px solid ",";\n    ","\n"])),(function(e){return e.shouldFillWidth?"fill-available":"20px"}),(function(e){return e.shouldFillWidth?"fill-available":"20px"}),c.colors.gallery,u.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN)},91941:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DesignSystemOfferDetailsTabContentProvider=t.useOfferDetailsTabContentContext=void 0;var l=a(n(96540)),s=a(n(38267)),c=n(55015),u=n(4911),d=n(88099),f=n(86028),p=n(96410),g=n(27647),m=n(17436),h=n(69568),b=n(23081),v=a(n(42376)),x=a(n(38788)),y=a(n(23195)),E=a(n(45079));t.default=function(e){var t=e.userRegion,n=e.isMobileExtension,r=e.selectedOfferDetailsSection,a=e.setSelectedOfferDetailsSection,s=e.isTemporaryUser,m=o(e,["userRegion","isMobileExtension","selectedOfferDetailsSection","setSelectedOfferDetailsSection","isTemporaryUser"]),h=C()||{},v=h.isDisplayedWithinOfferSearchTab,x=void 0!==v&&v,y=h.displayedOffer,E=void 0===y?void 0:y,_=(0,b.useOfferDetailsSections)(s,x);return l.default.createElement(w,null,l.default.createElement(A,null,E?l.default.createElement(d.OfferLine,{offerType:E.type===c.OfferType.OneTime?d.OfferLineOfferType.cardLinked:d.OfferLineOfferType.online,offer:E,isMobileExtension:n,shouldBeHoverable:!1,shouldShowLogo:!0,avatarSize:u.AvatarSize.medium,avatarRadius:u.AvatarRadius.circle,textContentLayoutType:f.TextContentLayoutType.content,titleSize:p.TitleSize.medium,titleWeight:p.TitleWeight.bold,text:E.screen.title,shouldShowPrefix:!1}):null,l.default.createElement(g.TabSet,{selectableElements:_,selectedElementId:r,setSelectedElementId:a})),l.default.createElement(S,i({},m,{selectedOfferDetailsSection:r,setSelectedOfferDetailsSection:a,offer:E,userRegion:t,isMobileExtension:n,isTemporaryUser:s})))};var _=l.default.createContext(void 0);function C(){return l.default.useContext(_)}function S(e){var t=e.selectedOfferDetailsSection,n=o(e,["selectedOfferDetailsSection"]);switch(t){case c.OfferDetailsSection.cashback:return l.default.createElement(x.default,i({},n));case c.OfferDetailsSection.coupons:return l.default.createElement(y.default,i({},n));case c.OfferDetailsSection.product:return l.default.createElement(E.default,i({},n));case c.OfferDetailsSection.bnpl:return l.default.createElement(v.default,i({},n));default:return null}}t.useOfferDetailsTabContentContext=C,t.DesignSystemOfferDetailsTabContentProvider=function(e){var t=e.children,n=e.currentWebpageOffer,r=e.displayedOffer,i=e.closePanelAndLogEvents,o=e.isDisplayedWithinOfferSearchTab,a=!(!n||!r||n.offerId!==r.offerId),s=(0,h.useOfferActivationButtonState)({offer:r,userInterfaceComponentInteractionEventType:c.UserInterfaceComponentInteractionEventType.panelOfferDetailsTabCashbackSectionActivateButton,isDisplayedWithinOfferSearchTab:o,isBrowsingCurrentWebpageOffer:a,closeWidgetOrPanel:i?function(){return i("clickActivationButton")}:void 0}),u=s.isOfferActivationButtonLoading,d=s.isOfferActivated,f=s.onClickActivateOffer;return l.default.createElement(_.Provider,{value:{currentWebpageOffer:n,displayedOffer:r,isBrowsingCurrentWebpageOffer:a,isOfferActivationButtonLoading:u,onClickActivateOffer:f,isOfferActivated:!!d&&(!o||a),isDisplayedWithinOfferSearchTab:!!o}},t)};var O,T,w=s.default.div(O||(O=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    padding: "," "," 0;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    padding: "," "," 0;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),m.measurements.spacings.small,m.measurements.spacings.medium),A=s.default.div(T||(T=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"])),m.measurements.spacings.small)},83748:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(81778),u=n(38403),d=o(n(54193)),f=o(n(38035)),p=n(17436),g=n(32668),m=n(86263);t.default=function(e){var t=e.searchText,n=e.setSearchText,r=e.isOfferSearchActive,o=e.setIsOfferSearchActive,l=e.isMobileExtension,h=e.scrollableContentRef,v=e.shouldResetScrollableContentEventListener,x=e.setPanelHeaderType,y=e.setOnClickPanelGoBackButton,E=e.selectedParentBrowsingTag,_=e.setSelectedParentBrowsingTag,C=e.selectedChildBrowsingTag,S=e.setSelectedChildBrowsingTag,O=(0,m.useDesignSystemOfferSearchBarFocusState)({setSearchText:n,setIsOfferSearchActive:o,isMobileExtension:l,scrollableContentRef:h,shouldResetScrollableContentEventListener:v,searchText:t,selectedParentBrowsingTag:E,setSelectedParentBrowsingTag:_,selectedChildBrowsingTag:C,setSelectedChildBrowsingTag:S}),T=O.searchBarInputRef,w=O.onFocusSearchBarInput,A=O.onKeyDownSearchBarInput,P=O.onClickCancelCross,B=O.onGoBack,I=O.searchBarTextRef;(0,g.useDisableMobileSafariAutoZoomOnInputFocus)(l);var D=(0,s.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerSearch.searchBarPlaceholder;return(0,m.useSetHeaderStateBasedOnSearchState)(i({isOfferSearchActive:r,onGoBack:B,setPanelHeaderType:x,setOnClickPanelGoBackButton:y})),a.default.createElement(b,null,a.default.createElement(u.TextField,{shouldShowTopInline:!1,shouldShowBottomInline:!1,inputValue:t,setInputValue:n,isInitiallySelected:r,textInputRef:T,inputValueRef:I,shouldShowLeftIcon:!0,leftIcon:a.default.createElement(c.StyledSvg,{component:f.default,width:p.measurements.icons.large,height:p.measurements.icons.large,color:p.colors.content.secondary}),shouldShowRightIcon:r&&""!==t,rightIcon:a.default.createElement(c.StyledSvg,{component:d.default,width:p.measurements.icons.medium,height:p.measurements.icons.medium,onClick:P,isClickable:!l}),shouldShowPlaceholder:!0,placeholder:D,onFocusBaseTextField:w,baseTextFieldHtmlAttributes:{type:"search",autoCapitalize:"off",onKeyDown:A}}))};var h,b=l.default.div(h||(h=r(["\n    display: flex;\n    align-items: center;\n    align-self: stretch;\n    padding: 0 ",";\n"],["\n    display: flex;\n    align-items: center;\n    align-self: stretch;\n    padding: 0 ",";\n"])),p.measurements.spacings.medium)},12667:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(96540)),d=c(n(38267)),f=n(19972),p=n(59674),g=n(17436),m=n(23081),h=n(86263),b=l(n(91941)),v=c(n(83748)),x=c(n(51301)),y=c(n(98860));function E(e){var t=e.selectedOfferSearchResult,n=e.closePanelAndLogEvents,r=e.isMobileExtension,o=e.setSelectedOfferSearchResult,a=e.setPanelHeaderType,l=e.setOnClickPanelGoBackButton,c=s(e,["selectedOfferSearchResult","closePanelAndLogEvents","isMobileExtension","setSelectedOfferSearchResult","setPanelHeaderType","setOnClickPanelGoBackButton"]),d=u.useCallback((function(){o(void 0)}),[o]);return(0,h.useSetHeaderStateInSelectedSearchResultScreen)({setPanelHeaderType:a,setOnClickPanelGoBackButton:l,onGoBack:d}),u.createElement(b.DesignSystemOfferDetailsTabContentProvider,{currentWebpageOffer:c.offer,displayedOffer:t,isDisplayedWithinOfferSearchTab:!0},u.createElement(b.default,i({},c,{isMobileExtension:r,closePanelAndLogEvents:n})))}t.default=function(e){var t=e.emptyQuerySearchResults,n=e.offerBrowsingTags,r=e.isMobileExtension,o=e.closePanelAndLogEvents,a=e.userRegion,l=e.offer,c=s(e,["emptyQuerySearchResults","offerBrowsingTags","isMobileExtension","closePanelAndLogEvents","userRegion","offer"]),d=(0,h.useOfferSearchTabContentInnerState)(),p=d.searchText,g=d.setSearchText,b=d.isOfferSearchActive,_=d.setIsOfferSearchActive,S=d.selectedParentBrowsingTag,O=d.setSelectedParentBrowsingTag,T=d.selectedChildBrowsingTag,w=d.setSelectedChildBrowsingTag,A=d.scrollableContentRef,P=d.shouldResetScrollableContentEventListener,B=d.resetScrollableContentEventListener,I=(0,h.useSelectedOfferSearchResult)(a,r,o,c.userOfferActivationInfo),D=I.selectedOfferSearchResult,k=I.setSelectedOfferSearchResult,L=I.setSelectedOfferDetailsSection,W=s(I,["selectedOfferSearchResult","setSelectedOfferSearchResult","setSelectedOfferDetailsSection"]),M=(0,m.useIsBnplSectionEnabledForOffer)(D),N=(0,f.useDesignSystemPanelHeaderContext)(),R=N.setPanelHeaderType,j=N.setOnClickPanelGoBackButton,U=i(i(i({},c),W),{isBnplSectionEnabledForOffer:M,selectedOfferSearchResult:D,setSelectedOfferSearchResult:k,closePanelAndLogEvents:o,isMobileExtension:r,setSelectedOfferDetailsSection:L});return D?u.createElement(E,i({},U,{offer:l},{setPanelHeaderType:R,setOnClickPanelGoBackButton:j})):u.createElement(C,null,u.createElement(v.default,i({},{searchText:p,setSearchText:g,isOfferSearchActive:b,setIsOfferSearchActive:_,selectedParentBrowsingTag:S,setSelectedParentBrowsingTag:O,selectedChildBrowsingTag:T,setSelectedChildBrowsingTag:w,isMobileExtension:r,scrollableContentRef:A,shouldResetScrollableContentEventListener:P,setPanelHeaderType:R,setOnClickPanelGoBackButton:j})),b&&""===p?u.createElement(y.default,i({},{isMobileExtension:r,emptyQuerySearchResults:t,offerBrowsingTags:n,selectedParentBrowsingTag:S,setSelectedParentBrowsingTag:O,selectedChildBrowsingTag:T,setSelectedChildBrowsingTag:w,closePanelAndLogEvents:o,scrollableContentRef:A,resetScrollableContentEventListener:B,setSelectedOfferSearchResult:k,setSelectedOfferDetailsSection:L})):u.createElement(x.default,i({},{selectedParentBrowsingTag:void 0,internalTagIdsToQuery:void 0,browsingTagIdsToQuery:void 0,searchText:p,emptyQuerySearchResults:t,isMobileExtension:r,closePanelAndLogEvents:o,scrollableContentRef:A,resetScrollableContentEventListener:B,setSelectedOfferSearchResult:k,setSelectedOfferDetailsSection:L})))};var _,C=d.default.div(_||(_=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    box-sizing: border-box;\n    gap: ",";\n    padding-top: ",";\n    overflow-x: hidden;\n    text-align: center;\n    ","\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    box-sizing: border-box;\n    gap: ",";\n    padding-top: ",";\n    overflow-x: hidden;\n    text-align: center;\n    ","\n"])),g.measurements.spacings.small,g.measurements.spacings.medium,p.NO_SCROLLBAR_CSS_MIXIN)},64947:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DesignSystemMemoizedPanelTabContent=void 0;var s=l(n(96540)),c=n(55015),u=a(n(91941)),d=l(n(12667)),f=l(n(46777)),p=l(n(37010));t.DesignSystemMemoizedPanelTabContent=s.default.memo((function(e){var t=e.selectedPanelTab,n=e.panelTabsProps;switch(t){case c.PanelTab.offerSearch:return s.default.createElement(d.default,r({},n));case c.PanelTab.offerDetails:return s.default.createElement(u.DesignSystemOfferDetailsTabContentProvider,{currentWebpageOffer:n.offer,displayedOffer:n.offer,closePanelAndLogEvents:n.closePanelAndLogEvents},s.default.createElement(u.default,r({},n)));case c.PanelTab.products:return s.default.createElement(f.default,r({},n));case c.PanelTab.profile:return s.default.createElement(p.default,r({},n))}}))},46830:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(96540)),s=a(n(38267)),c=n(55015),u=n(19972),d=n(59674),f=n(17436),p=n(17621),g=n(74617),m=n(21736),h=n(10038),b=n(64777),v=a(n(84355)),x=a(n(63787)),y=n(97669);t.default=function(e){var t=e.children,n=e.tabId,r=e.isPanelDisplayed,a=e.selectedPanelTab,s=e.setSelectedPanelTab,d=e.closePanelAndLogEvents,f=e.offer,b=e.isProductPage,v=e.onPanelTransitionEnd,E=e.isOfferWidgetMounted,_=e.panelInnerContainerRef,O=e.isTemporaryUser,T=e.excludedPanelTabs,w=e.unfinishedBnplSubscriptionState,A=(0,y.usePanelDisplayContext)(),P=A.isMobileExtension,B=A.topOffset,I=A.isBeingDragged,D=A.dragEventListeners,k=D.onDragListener,L=D.onPressListener,W=D.onReleaseListener,M=A.bnpl,N=M.isInBnplSubscription,R=M.hasNavigatedAwayFromUnfinishedBnplSubscription,j=A.height,U=A.setHeight,z=A.isMinimized,H=(0,g.usePanelWrapperInnerState)(d,!!N).elementId,F=function(e){var t=e.wasUnfinishedBnplSubscriptionResumed,n=o(l.default.useState(t),2),r=n[0],i=n[1];return l.default.useEffect((function(){var e;return t&&(e=setTimeout((function(){return i(!1)}),100)),function(){e&&clearTimeout(e)}}),[]),r}({wasUnfinishedBnplSubscriptionResumed:!!w}),G=(0,c.useHasFeature)(c.Feature.resumeUnfinishedBnplSubscriptionOnUrlChange),X=(0,p.useHashedElementId)(p.JokoExtensionElement.panelFrame);return l.default.createElement(C,i({id:H,onTransitionEnd:v},{frameId:X,isMobileExtension:P,isPanelDisplayed:r,isOfferWidgetMounted:E,mobilePanelTopOffset:B,isBeingDragged:I,height:j,shouldRemoveAllTransitions:F}),l.default.createElement(S,i({},{isMobileExtension:P,height:j},{ref:_}),N&&f?G&&void 0===z?null:l.default.createElement(m.BnplNavigationContextProvider,i({},{offer:f,unfinishedBnplSubscriptionState:R?void 0:w,tabId:n}),l.default.createElement(h.DesignSystemCurrentBnplPanel,{setHeight:P?U:void 0})):l.default.createElement(l.default.Fragment,null,l.default.createElement(u.DesignSystemPanelHeader,i({},{isMobileExtension:P,closePanelAndLogEvents:d,offer:f,panelInnerContainerRef:_,onDragListener:k,onPressListener:L,onReleaseListener:W})),t,l.default.createElement(x.default,i({},{isMobileExtension:P,isTemporaryUser:O,selectedPanelTab:a,setSelectedPanelTab:s,offer:f,isProductPage:b,excludedPanelTabs:T})))))};var E,_,C=(0,s.default)(v.default).attrs((function(e){var t=e.isMobileExtension,n=e.isPanelDisplayed,r=e.mobilePanelTopOffset,o=e.isOfferWidgetMounted,a=e.isBeingDragged,l=e.shouldRemoveAllTransitions,s="translate3d(-50%, "+"".concat(n?r:d.MOBILE_PANEL_HEIGHT,"px, ")+"".concat(d.HIGHER_TRANSLATE3D_Z_AXIS,"px)"),c=t?{"-webkit-transform":s,transform:s}:{right:n||o?15:-d.DESKTOP_PANEL_AND_WIDGET_WIDTH-15};return{style:i(i({},c),{transition:"".concat(l?"":o&&!t?"opacity":t?"transform":"right"," ").concat(a||l?0:d.OPEN_AND_CLOSE_ANIMATIONS_DURATION_IN_SECONDS,"s ease")})}}))(E||(E=r(["\n    z-index: ",";\n    ","\n    opacity: ",";\n    box-shadow: ",";\n    background-color: ",";\n"],["\n    z-index: ",";\n    ","\n    opacity: ",";\n    box-shadow: ",";\n    background-color: ",";\n"])),d.HIGHEST_Z_INDEX,(function(e){var t=e.isMobileExtension,n=e.height;return t?" width: 100%; \n                height: ".concat(n||d.MOBILE_PANEL_HEIGHT,"px;\n                position: fixed; \n                bottom: 0;\n                left: 50%;\n                border: 0;\n                border-radius: ").concat(f.measurements.radius.xSmall," ").concat(f.measurements.radius.xSmall," 0 0;"):" width: ".concat(d.DESKTOP_PANEL_AND_WIDGET_WIDTH,"px;  \n                height: ").concat(d.DESKTOP_PANEL_HEIGHT,"px;\n                position: fixed;\n                top: ").concat(d.DESKTOP_PANEL_SPACE_TO_SCREEN_EDGES,"; \n                transform: translate3d(0, 0, ").concat(d.HIGHER_TRANSLATE3D_Z_AXIS,"px);\n                border: 0;\n                border-radius: ").concat(f.measurements.radius.xSmall,";")}),(function(e){var t=e.isPanelDisplayed,n=e.isMobileExtension,r=e.isOfferWidgetMounted;return t||n||!r?1:0}),f.elevations.belowShadows.large,c.colors.white),S=(0,s.default)(b.ColumnTopCenterContainer)(_||(_=r(["\n    display: flex;\n    width: 100%;\n    height: ","px;\n    cursor: default;\n"],["\n    display: flex;\n    width: 100%;\n    height: ","px;\n    cursor: default;\n"])),(function(e){var t=e.isMobileExtension,n=e.height;return t?n?parseInt(n,10):d.MOBILE_PANEL_HEIGHT:d.DESKTOP_PANEL_HEIGHT}))},46777:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(96540)),s=n(61698),c=a(n(38267)),u=n(47248),d=n(59674),f=n(87105),p=n(64777),g=a(n(54788)),m=a(n(13963));function h(e){var t=e.selectedProductsSection,n=o(e,["selectedProductsSection"]);switch(t){case u.ProductsSection.savedProducts:return l.default.createElement(m.default,i({},n));case u.ProductsSection.browsedProducts:return l.default.createElement(g.default,i({},n))}}t.default=function(e){var t=e.userSavedWebpages,n=e.setUserSavedWebpages,r=e.userBrowsedProductWebpages,o=e.setUserBrowsedProductWebpages,a=e.userRegion,c=e.offer,u=e.blacklistedPriceTrackingDomains,d=e.isMobileExtension,p=e.panelInnerContainerRef,g=e.selectedProductsSection,m=e.setSelectedProductsSection,b=(0,f.useProductsSections)(d);return l.default.createElement(x,null,l.default.createElement(y,null,l.default.createElement(s.TabSet,{selectableElements:b,selectedElementId:g,setSelectedElementId:m})),l.default.createElement(h,i({},{isMobileExtension:d,userRegion:a,offer:c,panelInnerContainerRef:p,userSavedWebpages:t,setUserSavedWebpages:n,userBrowsedProductWebpages:r,setUserBrowsedProductWebpages:o,blacklistedPriceTrackingDomains:u,selectedProductsSection:g,setSelectedProductsSection:m})))};var b,v,x=(0,c.default)(p.ColumnTopCenterContainer)(b||(b=r(["\n    flex: 1;\n    box-sizing: border-box;\n    width: 100%;\n    padding-top: ","px;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    flex: 1;\n    box-sizing: border-box;\n    width: 100%;\n    padding-top: ","px;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),d.DEFAULT_PANEL_TOP_PADDING),y=c.default.div(v||(v=r(["\n    width: fill-available;\n    padding: 0 ","px;\n"],["\n    width: fill-available;\n    padding: 0 ","px;\n"])),d.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING)},37010:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(96540)),u=n(61698),d=s(n(38267)),f=n(55015),p=n(39148),g=n(59812),m=s(n(10869)),h=n(67454),b=n(86028),v=l(n(96410)),x=n(30503),y=s(n(71743)),E=n(59674),_=n(17436),C=n(78148),S=s(n(43956));function O(e){var t=e.isMobileExtension,n=(0,C.useOnClickTemporaryUserLoginButton)(t),r=(0,f.useLocalizedTexts)().designSystem.contentscript.redesign.panel.profile.temporaryUserLoginBanner;return c.default.createElement(x.Banner,{bannerStyle:x.BannerStyle.neutral,shouldShowLeftIcon:!0,leftIconSvgComponent:y.default},c.default.createElement(u.TextContent,{textContentLayoutType:b.TextContentLayoutType.content,shouldStretchAlongMainAxis:!0},c.default.createElement(v.default,{titleSize:v.TitleSize.small,titleWeight:v.TitleWeight.bold,text:r.title,shouldAlignTextLeft:!0}),c.default.createElement(g.Button,{hierarchy:g.ButtonHierarchy.primary,buttonSize:g.ButtonSize.smallUnderlined,buttonState:g.ButtonState.default,shouldShowLabel:!0,label:r.buttonLabel,onClick:n})))}t.default=function(e){var t=e.formattedUserBalance,n=e.collectedBalanceInPoints,r=e.isMobileExtension,o=e.isTemporaryUser,a=(0,f.useLocalizedTexts)().designSystem.contentscript.redesign.panel.profile,l=o?a.cashbackBalanceIndicators.temporaryUserCollectedPlaceholder:t.collected;return c.default.createElement(A,null,o?c.default.createElement(O,i({},{isMobileExtension:r})):null,c.default.createElement(v.default,{titleSize:v.TitleSize.medium,titleWeight:v.TitleWeight.bold,text:a.title,color:_.colors.content.default,shouldAlignTextLeft:!0}),c.default.createElement(m.default,i({pendingBalance:t.pending,collectedBalanceInPoints:o?void 0:n,onClickCollectedBalance:function(){return(0,C.redirectToJokoAppHistoryScreen)(!1)},onClickPendingBalance:function(){return(0,C.redirectToJokoAppHistoryScreen)(!0)}},{collectedBalance:l})),c.default.createElement(S.default,i({},{isMobileExtension:r})),c.default.createElement(p.ToggleDesignSystemModeButton,null),f.browserKind!==f.Browser.mobileAppWebView?c.default.createElement(P,null,c.default.createElement(h.Subtitle,{subtitleSize:h.SubtitleSize.xSmall,color:_.colors.content.secondary,text:a.version({browserName:f.browserName,versionNumber:f.versionNumber})})):null)};var T,w,A=d.default.div(T||(T=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: ",";\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n\n    ","\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: ",";\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n\n    ","\n"])),_.measurements.spacings.medium,_.measurements.spacings.medium,E.NO_SCROLLBAR_CSS_MIXIN),P=d.default.div(w||(w=r(["\n    display: flex;\n    flex: 1;\n    justify-content: center;\n    align-items: flex-end;\n    width: 100%;\n    padding-top: ",";\n"],["\n    display: flex;\n    flex: 1;\n    justify-content: center;\n    align-items: flex-end;\n    width: 100%;\n    padding-top: ",";\n"])),_.measurements.spacings.medium)},63787:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(96540)),u=s(n(38267)),d=n(55015),f=l(n(94126)),p=n(17436),g=n(74617),m=n(97669);function h(e){var t=e.panelTab,n=e.selectedPanelTab,r=e.setSelectedPanelTab,o=e.isDisabled,a=e.isHidden,l=e.excludedPanelTabs,s=(0,m.usePanelDisplayContext)(),u=(0,g.usePanelTabSvgIcon)(t),p=(0,d.useLocalizedTexts)().designSystem.contentscript.redesign.panel[t].tabButtonLabel,h=t===n,b=null==l?void 0:l.includes(t);return a||b?null:c.createElement(f.default,i({menuType:f.MenuType.tabBar,menuItemState:h?f.MenuItemState.active:f.MenuItemState.inactive,title:p,icon:u,isMobileExtension:null==s?void 0:s.isMobileExtension},{onClick:function(){return o?null:r(t)}}))}t.default=function(e){var t=e.selectedPanelTab,n=e.setSelectedPanelTab,r=e.offer,o=e.isTemporaryUser,a=e.isProductPage,l=e.excludedPanelTabs,s=function(e,r){return c.createElement(h,i({panelTab:e},i({selectedPanelTab:t,setSelectedPanelTab:n,excludedPanelTabs:l},r)))};return c.createElement(v,null,s(d.PanelTab.offerSearch),s(d.PanelTab.offerDetails,{isDisabled:void 0===r&&!a}),s(d.PanelTab.products,{isHidden:o}),s(d.PanelTab.profile))};var b,v=u.default.div(b||(b=r(["\n    display: flex;\n    align-items: flex-start;\n    box-sizing: border-box;\n    width: 100%;\n    padding: "," ",";\n    border-top: 1px solid ",";\n    box-shadow: ",";\n    background: ",";\n"],["\n    display: flex;\n    align-items: flex-start;\n    box-sizing: border-box;\n    width: 100%;\n    padding: "," ",";\n    border-top: 1px solid ",";\n    box-shadow: ",";\n    background: ",";\n"])),p.measurements.spacings.xSmall,p.measurements.spacings.smallMedium,p.colors.border.subtle,p.elevations.aboveShadows.medium,p.colors.background.default)},51301:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DesignSystemUserOffersList=void 0;var c=l(n(96540)),u=s(n(38267)),d=n(55015),f=n(4911),p=n(88099),g=n(67454),m=n(86028),h=n(96410),b=s(n(37434)),v=n(59674),x=n(17436),y=n(86263);function E(e){var t=e.selectedParentBrowsingTag,n=e.internalTagIdsToQuery,r=e.browsingTagIdsToQuery,o=e.searchText,a=e.emptyQuerySearchResults,l=e.isMobileExtension,s=e.closePanelAndLogEvents,u=e.scrollableContentRef,p=e.resetScrollableContentEventListener,m=e.setSelectedOfferSearchResult,h=e.setSelectedOfferDetailsSection,v=e.header,E=(0,y.useFilteredUserOffers)(a,o,t,n,r,p),S=E.filteredUserOffers,O=E.isLoading,T=(0,y.useDisplayedSearchResults)(S),w=T.displayedSearchResults,A=T.handleScroll,P=(0,d.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerSearch.emptySearchResult;if(O)return c.createElement(B,null,v?c.createElement(D,null,v):null,c.createElement(I,null,c.createElement(C,null)));if(w.length>0)return c.createElement(k,{onScroll:A,ref:u},v,w.map((function(e){return c.createElement(_,i({key:e.offerId},{offer:e,isMobileExtension:l,closePanelAndLogEvents:s,setSelectedOfferSearchResult:m,setSelectedOfferDetailsSection:h}))})),w.length<S.length?c.createElement(L,null,c.createElement(d.SpinningWheel,{scale:.35,color:x.colors.background.tertiary})):null);var M=!!t,N=M?P.byCategory.title:P.byBrandName.title,R=M?void 0:P.byBrandName.subtitle;return c.createElement(c.Fragment,null,c.createElement(D,null,v),c.createElement(W,null,c.createElement(f.Avatar,{avatarSize:f.AvatarSize.medium,avatarRadius:f.AvatarRadius.circle,avatarType:f.AvatarType.icon,iconComponent:b.default,iconComponentSize:x.measurements.icons.medium,iconComponentColor:x.colors.content.default}),c.createElement(g.Subtitle,{subtitleSize:g.SubtitleSize.small,text:"".concat(N," ").concat(R)})))}function _(e){var t=e.offer,n=e.isMobileExtension,r=e.setSelectedOfferSearchResult,i=e.setSelectedOfferDetailsSection,o=(0,y.useOnClickSearchResult)(t,r,i),a=t.screen;return c.createElement(p.OfferLine,{offerType:t.type===d.OfferType.OneTime?p.OfferLineOfferType.cardLinked:p.OfferLineOfferType.online,offer:t,isMobileExtension:n,onClick:o,shouldBeHoverable:!0,shouldShowLogo:!0,avatarSize:f.AvatarSize.medium,avatarRadius:f.AvatarRadius.circle,textContentLayoutType:m.TextContentLayoutType.content,titleSize:h.TitleSize.medium,titleWeight:h.TitleWeight.semiBold,text:a.title,shouldShowPrefix:!1})}function C(){var e=Array.from(Array(10).keys());return c.createElement(k,{shouldDisableScrolling:!0},e.map((function(e){return c.createElement(p.OfferLine,{key:e,isLoading:!0,shouldShowLogo:!0,avatarSize:f.AvatarSize.medium,avatarRadius:f.AvatarRadius.circle})})))}t.DesignSystemUserOffersList=E,t.default=E;var S,O,T,w,A,P,B=u.default.div(S||(S=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    align-self: stretch;\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    align-self: stretch;\n"]))),I=u.default.div(O||(O=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    align-self: stretch;\n    padding: 0 ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    align-self: stretch;\n    padding: 0 ",";\n"])),x.measurements.spacings.medium),D=u.default.div(T||(T=r(["\n    width: 100%;\n"],["\n    width: 100%;\n"]))),k=u.default.div(w||(w=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    width: 100%;\n    height: 100%;\n    overflow-y: ",";\n    overscroll-behavior-y: contain;\n    ","\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    width: 100%;\n    height: 100%;\n    overflow-y: ",";\n    overscroll-behavior-y: contain;\n    ","\n"])),(function(e){return e.shouldDisableScrolling?"hidden":"scroll"}),v.NO_SCROLLBAR_CSS_MIXIN),L=u.default.div(A||(A=r(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    min-height: ",";\n"],["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    min-height: ",";\n"])),v.LOADING_INDICATOR_CONTAINER_SIZE),W=u.default.div(P||(P=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    align-self: stretch;\n    height: 300px;\n    gap: ",";\n    padding: 0 ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    align-self: stretch;\n    height: 300px;\n    gap: ",";\n    padding: 0 ",";\n"])),x.measurements.spacings.medium,x.measurements.spacings.medium)},43956:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(6===l[0]&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(96540)),u=s(n(38267)),d=n(55015),f=s(n(29556)),p=n(78148);t.default=function(e){var t=this,n=e.isMobileExtension,r=l(c.default.useState(!1),2),s=r[0],u=r[1];c.default.useEffect((function(){o(t,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,(0,d.checkIsOnDevStack)()];case 1:return e=t.sent(),u(e),[2]}}))}))}),[]);var g=(0,p.useLineWithSeparatorProps)(i({isDevStack:s,isMobileExtension:n}));return c.default.createElement(m,null,g.map((function(e,t){return c.default.createElement(f.default,i({key:t},e))})))};var g,m=u.default.div(g||(g=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n"])))},89999:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSelectProductForDeletion=t.DesignSystemProductInfoCardAndPriceTrackingGraph=void 0;var d=u(n(96540)),f=u(n(38267)),p=n(55015),g=l(n(40616)),m=n(17436),h=n(46239),b=n(23081),v=n(87105),x=n(97925),y=n(50934);function E(e){var t=e.productWebpage,n=e.selectedProductTimestampsForDeletion,r=e.setSelectedProductTimestampsForDeletion,i=s(d.default.useState(!1),2),o=i[0],a=i[1];return{isProductSelectedForDeletion:o,onClickSelectForDeletion:function(){var e;if("BrowsedProductWebpage"===t.__typename&&n&&r){a(!o);var i=null!==(e=x.identicalConsecutivelyBrowsedProductsTimestampsMap.get("".concat(t.webpageUrl,"|").concat(t.timestamp)))&&void 0!==e?e:[t.timestamp];o?r(n.filter((function(e){return!i.includes(e)}))):(r(c(c([],s(n),!1),s(i),!1)),(0,h.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"selectedBrowsedProductToDelete"}}}))}}}}function _(e,t){return e?g.ProductLineAnimation.leftEntry:!e&&t?g.ProductLineAnimation.rightEntry:g.ProductLineAnimation.none}t.DesignSystemProductInfoCardAndPriceTrackingGraph=function(e){var t=e.productWebpage,n=e.fromComponent,r=e.isMobileExtension,o=e.requestProductUnsave,a=e.userRegion,l=e.isCurrentWebpage,s=e.productDataFromCurrentWebpage,c=e.blacklistedPriceTrackingDomains,u=e.currentlyOpenPriceTrackingGraphWebpageUrl,f=e.setCurrentlyOpenPriceTrackingGraphWebpageUrl,m=e.isProductSaved,h=e.toggleIsProductSaved,C=e.isDeletionEnabled,O=void 0!==C&&C,T=e.hasDeletionEverBeenEnabled,w=void 0!==T&&T,A=e.hasClickedDeleteAll,P=e.selectedProductTimestampsForDeletion,B=e.setSelectedProductTimestampsForDeletion,I="BrowsedProductWebpage"===t.__typename,D=(0,p.usePriceHistory)({webpage:t,offerId:void 0,isCurrentWebpage:l,productDataFromCurrentWebpage:s,shouldAutomaticallyCheckAvailability:!0,shouldFetchBlacklistedPriceTrackingDomainsFromBackend:!1,blacklistedPriceTrackingDomains:c}),k=D.isPriceHistoryAvailable,L=D.lastPrice,W=D.priceHistory,M=D.loadPriceHistoryAndLogEvents,N=D.isWebsiteBlacklistedForPriceTracking,R=k&&!(0,b.checkIsPriceTrackingDisabled)(a,N),j=(0,v.useOnClickPriceTrackingButton)({webpageUrl:t.webpageUrl,loadPriceHistoryAndLogEvents:M,currentlyOpenPriceTrackingGraphWebpageUrl:u,setCurrentlyOpenPriceTrackingGraphWebpageUrl:f,fromComponent:n}),U=j.onClickPriceTrackingButton,z=j.isPriceTrackingGraphOpen,H=d.default.useMemo((function(){return(0,b.getCleanProductName)(t.webpageTitle)}),[]),F=d.default.useMemo((function(){return(0,p.getUrlToDisplay)(t.webpageUrl,!1,!0)}),[t.webpageUrl]),G=(0,v.useFormattedPriceAndSeparator)({lastPriceData:L,productPriceAmount:t.productPriceAmount,productPriceCurrency:t.productPriceCurrency}),X=E({productWebpage:t,selectedProductTimestampsForDeletion:P,setSelectedProductTimestampsForDeletion:B}),K=X.isProductSelectedForDeletion,V=X.onClickSelectForDeletion,Z=I?t.productImageUrl:t.webpageImageUrl,J=O?g.ProductLineType.withCheckboxAndPriceTracking:g.ProductLineType.withPriceTracking;return d.default.createElement(S,i({},{isMobileExtension:r}),d.default.createElement(g.default,i({productLineState:z?g.ProductLineState.priceTrackingOpen:g.ProductLineState.default,productLineAnimation:_(O,w),isChecked:K||A,onCheckboxClick:V,shouldShowPriceTrackingButton:R,onClickPriceTrackingButton:U,productTitle:H,productSubtitle:"".concat(G||"").concat(F),logoUrl:null!=Z?Z:void 0},{productLineType:J,priceHistory:W,isMobileExtension:r,isProductSaved:m,onClickSaveButton:function(){return m?o():null==h?void 0:h()},onClickProductLine:function(){return I?(0,x.onClickBrowsedProductWebpageElement)({webpageUrl:t.webpageUrl,isDeletionEnabled:!!O,onClickSelectForDeletion:V}):(0,y.onClickSavedWebpageElement)(t.webpageUrl)}})))},t.useSelectProductForDeletion=E;var C,S=f.default.div(C||(C=r(["\n    box-sizing: border-box;\n    width: 100%;\n    padding: 0 ",";\n    cursor: pointer;\n    ","\n"],["\n    box-sizing: border-box;\n    width: 100%;\n    padding: 0 ",";\n    cursor: pointer;\n    ","\n"])),m.measurements.spacings.medium,(function(e){return e.isMobileExtension?"":"&:hover { background-color: ".concat(m.colors.background.subtle,"; }")}))},33162:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=c(n(96540)),d=c(n(38267)),f=n(55015),p=n(59812),g=l(n(96410)),m=n(59674),h=n(17436),b=n(50934),v=n(89999);function x(e){var t=e.isMobileExtension,n=e.cancelUnsaveProduct,r=e.hasDeletionAnimationStarted,o=(0,f.useLocalizedTexts)().designSystem.contentscript.redesign.panel.products.cancelProductUnsaveButton;return u.default.createElement(E,i({onClick:n},{isMobileExtension:t,hasDeletionAnimationStarted:r}),u.default.createElement(g.default,{titleSize:g.TitleSize.small,titleWeight:g.TitleWeight.bold,text:o.unsaveConfirmationMessage}),u.default.createElement(p.Button,{hierarchy:p.ButtonHierarchy.primary,buttonState:p.ButtonState.default,buttonSize:p.ButtonSize.smallUnderlined,shouldShowLabel:!0,label:o.cancelUnsaveMessage}))}t.default=function(e){var t=e.isMobileExtension,n=e.savedWebpage,r=e.userSavedWebpages,o=e.setUserSavedWebpages,a=s(e,["isMobileExtension","savedWebpage","userSavedWebpages","setUserSavedWebpages"]),l=(0,b.useUnsaveProduct)({userSavedWebpage:n,userSavedWebpages:r,setUserSavedWebpages:o}),c=l.isProductBeingUnsaved,d=l.hasDeletionAnimationStarted,f=l.requestProductUnsave,p=l.cancelUnsaveProduct;return u.default.createElement(u.default.Fragment,null,c?u.default.createElement(x,i({},{isMobileExtension:t,cancelUnsaveProduct:p,hasDeletionAnimationStarted:d})):u.default.createElement(v.DesignSystemProductInfoCardAndPriceTrackingGraph,i({productWebpage:n,fromComponent:"savedProductsSection",isProductSaved:!0},i({requestProductUnsave:f,isMobileExtension:t},a))))};var y,E=d.default.div(y||(y=r(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: fill-available;\n    min-height: 56px;\n    gap: ",";\n    margin: 0 ","px;\n    padding: "," ",";\n    border-radius: ",";\n    background-color: ",";\n    ","\n    transition: left ","ms ease;\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"],["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: fill-available;\n    min-height: 56px;\n    gap: ",";\n    margin: 0 ","px;\n    padding: "," ",";\n    border-radius: ",";\n    background-color: ",";\n    ","\n    transition: left ","ms ease;\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"])),h.measurements.spacings.small,m.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,h.measurements.spacings.small,h.measurements.spacings.medium,h.measurements.radius.small,h.colors.background.light,(function(e){var t=e.hasDeletionAnimationStarted,n=e.isMobileExtension;return t?"left:".concat(n?window.innerWidth:m.DESKTOP_PANEL_AND_WIDGET_WIDTH,"px"):"left: 0;"}),b.UNSAVE_PRODUCT_ANIMATION_DURATION_IN_MS,m.CLICKABLE_ELEMENT_CSS_MIXIN,h.colors.background.subtle)},42376:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.logOpenedBnplCardDetails=t.logOpenedBnplFaqEvents=t.useFormatBnplCardExpiration=t.logBnplLoginEvents=t.useUpdateSelectedAvailableBnplCardWithBackendData=t.useSelectedAvailableBnplCard=t.useDisableScrolling=void 0;var a=o(n(96540)),l=n(55015),s=n(47615),c=n(46239),u=n(74617),d=o(n(24727)),f=n(95425);t.default=function(e){var t=e.offer,n=e.isMobileExtension,i=e.isBnplSectionEnabledForOffer,o=e.closePanelAndLogEvents,l=e.lastUserBnplTransactionFromBnplSubscriptionWidget;return i&&t?a.default.createElement(d.default,r({offer:t},{isMobileExtension:n,closePanelAndLogEvents:o,lastUserBnplTransactionFromBnplSubscriptionWidget:l})):a.default.createElement(f.BnplUnavailableForOfferSectionContent,null)},t.useDisableScrolling=function(e){a.default.useEffect((function(){"false"===localStorage.getItem(s.HAS_SEEN_BNPL_CARD_DETAILS_LOCAL_STORAGE_KEY)&&e&&(0,u.disableWebpageBodyScrolling)()}),[e])},t.useSelectedAvailableBnplCard=function(e,t){var n=i(a.default.useState((function(){var n=e||t;if("false"===localStorage.getItem(s.HAS_SEEN_BNPL_CARD_DETAILS_LOCAL_STORAGE_KEY)&&n)return{source:"backend",userBnplTransaction:n}})),2);return[n[0],n[1]]},t.useUpdateSelectedAvailableBnplCardWithBackendData=function(e){var t=e.selectedAvailableBnplCard,n=e.userBnplTransactionsFromBackend,r=e.setSelectedAvailableBnplCard;a.default.useEffect((function(){if(t&&"localStorage"===t.source&&n){var e=n.find((function(e){return e.createdAt===t.userBnplTransaction.createdAt}));e&&r({source:"backend",userBnplTransaction:e})}}),[t,n])},t.logBnplLoginEvents=function(e){var t={offerId:e,loginTriggeringEventType:l.MobileLoginForTemporaryUserTriggeringEventType.offerDetailsBnplSectionButton};(0,c.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedLogin",payload:t}}}),(0,c.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"Registration - Clicked Login",properties:t}}})},t.useFormatBnplCardExpiration=function(e){var t=(0,l.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerDetails.bnplSection.bnplAvailableForOffer.availableBnplCards,n=new Date,r=new Date(e),i=864e5-(n.getTime()-r.getTime());if(i<=0)return t.expiredCardDate;var o=Math.ceil(i/36e5);return t.activeCardDate({remainingHours:o})},t.logOpenedBnplFaqEvents=function(e){var t={offerId:e,fromScreen:"sideButtonBnplTab"};(0,c.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"openedBnplFaq",payload:t}}}),(0,c.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Opened FAQ",properties:t}}})},t.logOpenedBnplCardDetails=function(e){var t={offerId:e.offerId,fromScreen:"sideButtonBnplTab"};(0,c.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"openedBnplCardDetails",payload:t}}}),(0,c.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Opened Card Details",properties:t}}})}},54788:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=u(n(96540)),f=n(61698),p=u(n(38267)),g=n(55015),m=n(59812),h=n(2286),b=n(21136),v=n(4911),x=n(23866),y=n(86028),E=l(n(96410)),_=u(n(81110)),C=n(59674),S=n(17436),O=n(46239),T=n(23081),w=n(87105),A=n(97925),P=n(56842),B=n(50934),I=n(64777),D=n(89999),k=u(n(67438));function L(e){var t=e.displayedDate,n=e.isDeletionEnabled,r=e.setIsDeletionEnabled,o=e.setHasDeletionEverBeenEnabled,a=e.onClickDeleteAll,l=e.closeDeletion,s=e.setIsDeleteAllAnimationInProgress,c=e.setUserBrowsedProductWebpages,u=e.panelInnerContainerRef,f=e.isDeleteAllBrowsedProductsPopupOpen,p=e.setIsDeleteAllBrowsedProductsPopupOpen,h=(0,g.useLocalizedTexts)().designSystem.contentscript.redesign.panel.products.browsedProductsSection,b=(0,P.useDeleteAllBrowsedProductsPopupInnerState)({isDeleteAllBrowsedProductsPopupOpen:f,setIsDeleteAllBrowsedProductsPopupOpen:p,setUserBrowsedProductWebpages:c,panelInnerContainerRef:u,closeDeletion:l,setIsDeleteAllAnimationInProgress:s}),v=b.onClickConfirmDeleteAll,x=b.onClickCancelDeleteAll,_=b.deleteAllBrowsedProductsButtonRef,C=b.deleteAllBrowsedProductsPopupRef;return d.default.createElement(J,null,d.default.createElement(Y,null,d.default.createElement(y.TextContent,null,d.default.createElement(E.default,{titleSize:E.TitleSize.medium,titleWeight:E.TitleWeight.bold,text:t})),n?d.default.createElement(m.Button,{hierarchy:m.ButtonHierarchy.primary,buttonState:m.ButtonState.default,buttonSize:m.ButtonSize.smallUnderlined,onClick:a,shouldShowLabel:!0,label:h.deleteAllButton,ref:_}):d.default.createElement(m.Button,{hierarchy:m.ButtonHierarchy.primary,buttonState:m.ButtonState.default,buttonSize:m.ButtonSize.smallUnderlined,onClick:function(){r(!0),o(!0),(0,O.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedModifyButtonOnBrowsedProductsSection"}}})},shouldShowLabel:!0,label:h.modifyButton})),f?d.default.createElement(k.default,i({},{onClickConfirmDeleteAll:v,onClickCancelDeleteAll:x,deleteAllBrowsedProductsPopupRef:C})):null)}function W(e){var t=e.offer,n=e.isMobileExtension,r=e.browsedProductWebpage,o=e.userSavedWebpages,a=e.userSavedWebpagesByUrlMap,l=e.setUserSavedWebpages,c=e.isDeletionEnabled,u=e.hasDeletionEverBeenEnabled,f=e.hasClickedDeleteAll,p=e.selectedProductTimestampsForDeletion,g=e.setSelectedProductTimestampsForDeletion,m=s(e,["offer","isMobileExtension","browsedProductWebpage","userSavedWebpages","userSavedWebpagesByUrlMap","setUserSavedWebpages","isDeletionEnabled","hasDeletionEverBeenEnabled","hasClickedDeleteAll","selectedProductTimestampsForDeletion","setSelectedProductTimestampsForDeletion"]),h=(0,T.useProductSaving)({webpageUrl:r.webpageUrl,productData:(0,A.formatProductDataFromBrowsedProductWebpage)(r),offer:t,userSavedWebpages:o,setUserSavedWebpages:l,fromComponent:"browsedProductsSection",isFromBrowsedProductsSection:!0}).toggleIsProductSaved,b=(0,A.checkIsBrowsedProductWebpageSaved)(a,r),v=b.isProductSaved,x=b.userSavedWebpage;return d.default.createElement(D.DesignSystemProductInfoCardAndPriceTrackingGraph,i({productWebpage:r,fromComponent:"browsedProductsSection"},i({isMobileExtension:n,isProductSaved:v,toggleIsProductSaved:h,requestProductUnsave:function(){o&&(0,B.unsaveProductAndLogEvents)(x,o,l)},isDeletionEnabled:c,hasDeletionEverBeenEnabled:u,hasClickedDeleteAll:f,selectedProductTimestampsForDeletion:p,setSelectedProductTimestampsForDeletion:g},m)))}function M(e){var t=e.closeDeletion,n=e.isAtLeastOneProductSelectedForDeletion,r=e.onClickConfirmDeletion,i=(0,g.useLocalizedTexts)().designSystem.contentscript.redesign.panel.products.browsedProductsSection,o=n?m.ButtonState.default:m.ButtonState.disabled;return d.default.createElement(b.StickyButtonWrapper,{bottomOffset:C.PANEL_TAB_SELECTOR_TOTAL_HEIGHT},d.default.createElement(h.ButtonSet,{buttonSetLayoutType:h.ButtonSetLayoutType.vertical},d.default.createElement(m.Button,{hierarchy:m.ButtonHierarchy.primary,buttonState:o,buttonSize:m.ButtonSize.medium,onClick:r,shouldShowLabel:!0,label:i.confirmDeletionButton,shouldTakeFullWidth:!0}),d.default.createElement(m.Button,{hierarchy:m.ButtonHierarchy.primary,buttonState:m.ButtonState.default,buttonSize:m.ButtonSize.smallUnderlined,shouldShowLabel:!0,label:i.cancelDeletionButton,onClick:function(){t(),(0,O.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedCancelDeleteSelectedBrowsedProducts"}}})}})))}function N(){return d.default.createElement(ee,null,d.default.createElement(g.SpinningWheel,{scale:.35,color:S.colors.content.secondary}))}function R(){return d.default.createElement(te,null,d.default.createElement(I.LargeSpinningWheelContainer,null,d.default.createElement(g.SpinningWheel,{scale:.75,color:S.colors.content.secondary})))}function j(){var e=(0,g.useLocalizedTexts)().designSystem.contentscript.redesign.panel.products.browsedProductsSection;return d.default.createElement(te,null,d.default.createElement(f.CardPlaceholder,{cardPlaceholderType:x.CardPlaceholderType.icon,iconComponent:d.default.createElement(v.Avatar,{avatarType:v.AvatarType.icon,avatarSize:v.AvatarSize.large,iconComponent:_.default,iconComponentSize:S.measurements.icons.xLarge,iconComponentColor:S.colors.content.default,backgroundColor:S.colors.background.default})}),d.default.createElement(y.TextContent,{textContentLayoutType:y.TextContentLayoutType.centeredContent},d.default.createElement(E.default,{titleSize:E.TitleSize.medium,titleWeight:E.TitleWeight.bold,text:e.emptyBrowsedProductsList,shouldTruncate:!0,numberOfLinesBeforeTruncating:1})))}t.default=function(e){var t=e.userRegion,n=e.offer,r=e.isMobileExtension,o=e.userSavedWebpages,a=e.setUserSavedWebpages,l=e.userBrowsedProductWebpages,s=e.setUserBrowsedProductWebpages,u=e.blacklistedPriceTrackingDomains,f=e.panelInnerContainerRef,p=(0,g.useLocalizedTexts)().designSystem.contentscript.redesign.panel.products.browsedProductsSection.dates,m=c(d.default.useState(),2),h=m[0],b=m[1],v=(0,w.useCurrentWebpageFromLastCapturedData)(),x=v.currentWebpage,_=v.productDataFromCurrentWebpage,C=d.default.useMemo((function(){return(0,A.enrichUserBrowsedProductWebpagesListWithDates)({userRegion:t,localizedDateTexts:p,userBrowsedProductWebpages:l})}),[l]),S=(0,A.useBrowsedProductsSectionContentDisplayedDate)(C),O=S.displayedDate,T=S.setDisplayedDate,P=d.default.useRef(null),I=d.default.useRef({}),D=(0,A.useDisplayedBrowsedProductWebpages)({userRegion:t,localizedDateTexts:p,userBrowsedProductWebpagesWithDates:C,scrollableContainerRef:P,browsedProductComponentRefsMap:I,displayedDate:O,setDisplayedDate:T}),k=D.displayedBrowsedProductWebpagesWithDates,U=D.onScrollBrowsedProductWebpagesListContainer,z=(0,A.useBrowsedProductWebpagesDeletion)({userBrowsedProductWebpages:l,setUserBrowsedProductWebpages:s,isMobileExtension:r,panelInnerContainerRef:f}),H=z.isDeletionEnabled,F=z.setIsDeletionEnabled,G=z.hasDeletionEverBeenEnabled,X=z.setHasDeletionEverBeenEnabled,K=z.selectedProductTimestampsForDeletion,V=z.setSelectedProductTimestampsForDeletion,J=z.onClickConfirmDeletion,Y=z.onClickDeleteAll,ee=z.closeDeletion,te=z.hasClickedDeleteAll,ne=z.isDeleteAllAnimationInProgress,re=z.setIsDeleteAllAnimationInProgress,ie=z.isDeleteAllBrowsedProductsPopupOpen,oe=z.setIsDeleteAllBrowsedProductsPopupOpen,ae=(0,B.useUserSavedWebpagesByUrlMap)(o);return l&&o?0===k.length?d.default.createElement(j,null):d.default.createElement(Z,null,d.default.createElement(L,i({},{displayedDate:O,isDeletionEnabled:H,setIsDeletionEnabled:F,setHasDeletionEverBeenEnabled:X,onClickDeleteAll:Y,closeDeletion:ee,setIsDeleteAllAnimationInProgress:re,setUserBrowsedProductWebpages:s,panelInnerContainerRef:f,isDeleteAllBrowsedProductsPopupOpen:ie,setIsDeleteAllBrowsedProductsPopupOpen:oe})),d.default.createElement(Q,{ref:P,onScroll:U},k.slice(1).map((function(e){return"string"==typeof e?d.default.createElement(q,null,d.default.createElement(y.TextContent,{key:e},d.default.createElement(E.default,{titleSize:E.TitleSize.medium,titleWeight:E.TitleWeight.bold,text:e,shouldAlignTextLeft:!0}))):d.default.createElement($,i({key:"".concat(e.webpageUrl,"|").concat(e.timestamp),ref:function(t){return I.current["".concat(e.webpageUrl,"|").concat(e.timestamp)]=t}},{isDeleteAllAnimationInProgress:ne}),d.default.createElement(W,i({browsedProductWebpage:e,isCurrentWebpage:(0,g.checkAreSameWebpages)(e,x)},{offer:n,isMobileExtension:r,userSavedWebpages:o,userSavedWebpagesByUrlMap:ae,setUserSavedWebpages:a,userRegion:t,productDataFromCurrentWebpage:_,blacklistedPriceTrackingDomains:u,currentlyOpenPriceTrackingGraphWebpageUrl:h,setCurrentlyOpenPriceTrackingGraphWebpageUrl:b,isDeletionEnabled:H,hasDeletionEverBeenEnabled:G,hasClickedDeleteAll:te,selectedProductTimestampsForDeletion:K,setSelectedProductTimestampsForDeletion:V})))})),k.length<C.length?d.default.createElement(N,null):null),H&&!te?d.default.createElement(M,i({isAtLeastOneProductSelectedForDeletion:K.length>0},{closeDeletion:ee,onClickConfirmDeletion:J})):null):d.default.createElement(R,null)};var U,z,H,F,G,X,K,V,Z=p.default.div(U||(U=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    align-self: stretch;\n    padding: "," 0;\n    overflow-y: scroll;\n    overscroll-behavior: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    align-self: stretch;\n    padding: "," 0;\n    overflow-y: scroll;\n    overscroll-behavior: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),S.measurements.spacings.medium),J=p.default.div(z||(z=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    align-self: stretch;\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    align-self: stretch;\n"]))),Y=p.default.div(H||(H=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    align-self: stretch;\n    height: 40px;\n    padding: 0 ","px;\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    align-self: stretch;\n    height: 40px;\n    padding: 0 ","px;\n"])),C.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),Q=p.default.div(F||(F=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    box-sizing: border-box;\n    width: fill-available;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    box-sizing: border-box;\n    width: fill-available;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"]))),q=p.default.div(G||(G=r(["\n    padding: ","px\n        ","px ",";\n"],["\n    padding: ","px\n        ","px ",";\n"])),C.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,C.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,S.measurements.spacings.xSmall),$=p.default.div(X||(X=r(["\n    width: fill-available;\n    opacity: ",";\n    transition: opacity ","s ease-in-out;\n"],["\n    width: fill-available;\n    opacity: ",";\n    transition: opacity ","s ease-in-out;\n"])),(function(e){return e.isDeleteAllAnimationInProgress?0:1}),A.DELETE_ALL_BROWSED_PRODUCTS_ANIMATION_DURATION_IN_SECONDS),ee=p.default.div(K||(K=r(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: ",";\n"],["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: ",";\n"])),C.LOADING_INDICATOR_CONTAINER_SIZE),te=p.default.div(V||(V=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    box-sizing: border-box;\n    gap: ",";\n    padding: "," ","px;\n    overflow: hidden;\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    box-sizing: border-box;\n    gap: ",";\n    padding: "," ","px;\n    overflow: hidden;\n"])),S.measurements.spacings.medium,S.measurements.spacings.xLarge,C.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING)},38788:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(57406),u=n(59812),d=n(21136),f=n(67454),p=n(86028),g=n(30503),m=o(n(86580)),h=n(59674),b=n(17436),v=n(47175),x=n(89710),y=n(23081),E=o(n(87021)),_=o(n(7864)),C=n(91941),S=n(95425);function O(e){var t=e.offerDetailsTabContentContext,n=(0,c.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerDetails.shopButtonText;if(!t.displayedOffer)return null;var r=t.displayedOffer;return a.default.createElement(u.Button,{label:n({offerType:r.type}),shouldShowLabel:!0,hierarchy:u.ButtonHierarchy.primary,buttonState:u.ButtonState.default,buttonSize:u.ButtonSize.medium,onClick:function(){r.website&&((0,x.handleUserInterfaceComponentInteractionInBackgroundOrLoadTrackingLink)({offer:r,triggeringEventType:s.UserInterfaceComponentInteractionEventType.panelOfferSearchResult}),(0,y.logClickedWebsiteLinkEvents)(r.offerId),window.open(r.website,"_blank"))},shouldTakeFullWidth:!0,shouldShowRightIcon:!0,rightIcon:a.default.createElement(A,{src:v.REDIRECTION_ICON_URL})})}t.default=function(e){var t=e.userOfferActivationInfo,n=(0,C.useOfferDetailsTabContentContext)(),r=(0,c.useLocalizedTexts)().designSystem.contentscript.redesign.common;if(!(null==n?void 0:n.displayedOffer))return a.default.createElement(S.UnavailableCashbackSectionContent,null);var o=n.currentWebpageOffer,l=n.displayedOffer,u=n.isDisplayedWithinOfferSearchTab,v=n.isOfferActivated,x=n.isOfferActivationButtonLoading,y=n.onClickActivateOffer,T=o&&o.offerId===l.offerId;if(l.type===s.OfferType.NoCashback)return a.default.createElement(S.UnavailableCashbackSectionContent,null);var w=l.type===s.OfferType.Online,A=l.type===s.OfferType.OneTime;return a.default.createElement(a.default.Fragment,null,a.default.createElement(P,null,A&&void 0!==t?a.default.createElement(g.Banner,{bannerStyle:g.BannerStyle.positive,shouldShowLeftIcon:!0,leftIconSvgComponent:m.default},a.default.createElement(p.TextContent,{textContentLayoutType:p.TextContentLayoutType.content},a.default.createElement(f.Subtitle,{subtitleSize:f.SubtitleSize.small,text:r.activatedOfferInfo,color:b.colors.content.default}))):null,a.default.createElement(_.default,i({},{offer:l,userOfferActivationInfo:t})),A&&u&&!T?a.default.createElement(O,i({},{offerDetailsTabContentContext:n})):null),w?a.default.createElement(d.StickyButtonWrapper,{bottomOffset:h.PANEL_TAB_SELECTOR_TOTAL_HEIGHT,placeholderHeight:h.SINGLE_MEDIUM_STICKY_BUTTON_PLACEHOLDER_HEIGHT},a.default.createElement(E.default,i({},{isOfferActivated:v,onClickActivateOffer:y,isLoading:x,shouldShowShadow:!0}))):null)};var T,w,A=l.default.img(T||(T=r(["\n    width: ",";\n    height: ",";\n    ","\n"],["\n    width: ",";\n    height: ",";\n    ","\n"])),b.measurements.icons.small,b.measurements.icons.small,h.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),P=l.default.div(w||(w=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),b.measurements.spacings.medium,b.measurements.spacings.medium)},23195:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(17436),u=n(23081),d=n(91941),f=o(n(9486)),p=n(95425);function g(){return a.default.createElement(h,null,a.default.createElement(s.SpinningWheel,{scale:.35,color:c.colors.background.secondary}))}t.default=function(e){var t=(0,d.useOfferDetailsTabContentContext)();return(0,u.checkDidCouponsSectionFinishLoading)(e)&&t?e.isCouponsSectionEnabled&&0!==e.coupons.length?a.default.createElement(f.default,i({currentWebpageOffer:t.currentWebpageOffer},e)):a.default.createElement(p.UnavailableCouponsSectionContent,null):a.default.createElement(g,null)};var m,h=l.default.div(m||(m=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    margin-top: ",";\n    padding: "," 0;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    margin-top: ",";\n    padding: "," 0;\n"])),c.measurements.spacings.medium,c.measurements.spacings.medium)},98860:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(96540)),u=s(n(38267)),d=n(55015),f=n(70793),p=n(96410),g=n(27647),m=n(59674),h=n(17436),b=n(7444),v=n(47175),x=n(46239),y=n(64777),E=n(51301);function _(e){var t=e.offerBrowsingTags,n=e.setSelectedParentBrowsingTag,r=e.scrollableContentRef,i=e.resetScrollableContentEventListener;return c.default.useEffect((function(){i()}),[]),t?c.default.createElement(z,{ref:r},t.filter((function(e){return null===e.parentTagId})).map((function(e){return c.default.createElement(f.CategoryCard,{onClick:function(){return n(e)}},c.default.createElement(p.Title,{titleSize:p.TitleSize.medium,titleWeight:p.TitleWeight.bold,text:e.displayName,color:h.colors.content.primary}))}))):null}function C(e){var t=e.isMobileExtension,n=e.selectedParentBrowsingTag,r=e.selectedChildBrowsingTag,i=e.setSelectedChildBrowsingTag,o=(0,d.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerSearch;return n?!t&&r?c.default.createElement(H,null,c.default.createElement(S,{onClick:function(){return i(void 0)}},c.default.createElement(p.Title,{titleSize:p.TitleSize.xLarge,titleWeight:p.TitleWeight.bold,text:n.displayName,color:h.colors.content.secondary})),c.default.createElement(p.Title,{titleSize:p.TitleSize.xLarge,titleWeight:p.TitleWeight.bold,text:"  /  ",color:h.colors.content.secondary}),c.default.createElement(p.Title,{titleSize:p.TitleSize.xLarge,titleWeight:p.TitleWeight.bold,text:r.parentTagId?r.displayName:o.defaultParentTagDisplayName,color:h.colors.content.default})):c.default.createElement(H,null,c.default.createElement(p.Title,{titleSize:p.TitleSize.xLarge,titleWeight:p.TitleWeight.bold,text:n.displayName,color:h.colors.content.default})):null}t.default=function(e){var t=e.isMobileExtension,n=e.emptyQuerySearchResults,r=e.offerBrowsingTags,s=e.selectedParentBrowsingTag,u=e.setSelectedParentBrowsingTag,f=e.selectedChildBrowsingTag,p=e.setSelectedChildBrowsingTag,g=e.closePanelAndLogEvents,m=e.scrollableContentRef,h=e.resetScrollableContentEventListener,v=e.setSelectedOfferSearchResult,y=e.setSelectedOfferDetailsSection,S=function(e,t){var n=c.default.useMemo((function(){if(!e||!t)return[];var n=e.filter((function(e){return e.parentTagId===t.tagId})),r=n.sort((function(e,t){return t.score-e.score}));return a([t],o(r),!1)}),[e,t]);return n}(r,s),w=function(e){var t=e.selectedParentBrowsingTag,n=e.selectedChildBrowsingTag,r=e.sortedBrowsingTagsToDisplay;return c.default.useMemo((function(){return t&&n&&n.tagId!==t.tagId?[n.tagId]:r.map((function(e){return e.tagId}))}),[t,n,r])}({selectedParentBrowsingTag:s,selectedChildBrowsingTag:f,sortedBrowsingTagsToDisplay:S}),A=function(e){var t=e.selectedParentBrowsingTag,n=e.selectedChildBrowsingTag,r=e.sortedBrowsingTagsToDisplay,i=(0,b.useAppFeature)(d.Feature.useInternalOfferTagsInBrowserExtensions);return c.default.useMemo((function(){if(i){var e=t&&n&&n.tagId!==t.tagId?n.internalTagIds:Array.from(r.map((function(e){return e.internalTagIds})).filter((function(e){return void 0!==e})).reduce((function(e,t){var n,r;if(t)try{for(var i=l(t),o=i.next();!o.done;o=i.next()){var a=o.value;e.add(a)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}),new Set));return(null==e?void 0:e.length)?e:void 0}}),[t,n,r,i])}({selectedParentBrowsingTag:s,selectedChildBrowsingTag:f,sortedBrowsingTagsToDisplay:S}),P=!!(0,b.useAppFeature)(d.Feature.displayChildrenBrowsingTagsInBrowserExtensions);if(function(e){c.default.useEffect((function(){e&&((0,x.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedOffersByTagsScreen",payload:{tagId:e.tagId}}}}),(0,x.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"Offers - Viewed Offers By Tags Screen",properties:{tagId:e.tagId}}}}))}),[e])}(s),!s)return c.default.createElement(_,i({},{offerBrowsingTags:r,setSelectedParentBrowsingTag:u,scrollableContentRef:m,resetScrollableContentEventListener:h}));var B=c.default.createElement(C,i({},{isMobileExtension:t,selectedParentBrowsingTag:s,selectedChildBrowsingTag:f,setSelectedChildBrowsingTag:p})),I={selectedParentBrowsingTag:s,selectedChildBrowsingTag:f,setSelectedChildBrowsingTag:p,sortedBrowsingTagsToDisplay:S};return c.default.createElement(U,null,P&&S.length>1?t?c.default.createElement(O,i({},I)):c.default.createElement(T,i({},I)):null,!P||t||f||1===S.length?c.default.createElement(E.DesignSystemUserOffersList,i({searchText:"",header:P&&t&&S.length>1?null:B},{selectedParentBrowsingTag:s,internalTagIdsToQuery:A,browsingTagIdsToQuery:w,emptyQuerySearchResults:n,isMobileExtension:t,closePanelAndLogEvents:g,scrollableContentRef:m,resetScrollableContentEventListener:h,setSelectedOfferSearchResult:v,setSelectedOfferDetailsSection:y})):null)};var S=u.default.div(P||(P=r(["\n    cursor: 'pointer';\n"],["\n    cursor: 'pointer';\n"])));function O(e){var t,n=e.selectedParentBrowsingTag,r=e.selectedChildBrowsingTag,i=e.setSelectedChildBrowsingTag,o=e.sortedBrowsingTagsToDisplay,a=(0,d.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerSearch;w(n,r);var l=c.default.useMemo((function(){return o.map((function(e){return{id:e.tagId,displayedText:e.parentTagId?e.displayName:a.defaultParentTagDisplayName}}))}),[o]),s=c.default.useCallback((function(e){i(o.find((function(t){return t.tagId===e})))}),[o]),u=(null==r?void 0:r.tagId)||l[0].id;return c.default.createElement(c.default.Fragment,null,c.default.createElement(F,null,c.default.createElement(p.Title,{text:null!==(t=null==n?void 0:n.displayName)&&void 0!==t?t:"",titleSize:p.TitleSize.xLarge,titleWeight:p.TitleWeight.bold})),c.default.createElement(G,null,c.default.createElement(g.TabSet,{selectableElements:l,selectedElementId:u,setSelectedElementId:s})))}function T(e){var t=e.sortedBrowsingTagsToDisplay,n=e.selectedParentBrowsingTag,r=e.selectedChildBrowsingTag,o=e.setSelectedChildBrowsingTag;return w(n,r),r?null:c.default.createElement(X,null,c.default.createElement(K,null,c.default.createElement(C,i({},{isMobileExtension:!1,selectedParentBrowsingTag:n,selectedChildBrowsingTag:r,setSelectedChildBrowsingTag:o}))),t.map((function(e,n){return c.default.createElement(V,{key:e.tagId},c.default.createElement(A,i({isMobileExtension:!1},{browsingTag:e,setSelectedChildBrowsingTag:o})),n<t.length-1?c.default.createElement(Z,null):null)})))}function w(e,t){var n=c.default.useRef(!0);c.default.useEffect((function(){if(e&&t&&!n.current){var r=!!t&&!!t.parentTagId,i={tagId:t?t.tagId:e.tagId,parentTagId:r?e.tagId:void 0,isChildTag:r};(0,x.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedOfferTag",payload:i}}}),(0,x.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"Offers - Clicked Offer Tag",properties:i}}})}else n.current=!1}),[t,e])}function A(e){var t=e.browsingTag,n=e.isMobileExtension,r=e.setSelectedChildBrowsingTag,o=(0,d.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerSearch;return c.default.createElement(J,i({},{isMobileExtension:n,onClick:function(){return r(t)}}),c.default.createElement(p.Title,{text:t.parentTagId?t.displayName:o.defaultParentTagDisplayName,titleSize:p.TitleSize.medium,titleWeight:p.TitleWeight.semiBold}),c.default.createElement(Y,{src:v.ARROW_RIGHT_BLACK_ICON_URL}))}var P,B,I,D,k,L,W,M,N,R,j,U=(0,u.default)(y.ColumnTopLeftContainer)(B||(B=r(["\n    width: fill-available;\n    height: 100%;\n    overflow-y: scroll;\n    overscroll-behavior: contain;\n    ","\n"],["\n    width: fill-available;\n    height: 100%;\n    overflow-y: scroll;\n    overscroll-behavior: contain;\n    ","\n"])),m.NO_SCROLLBAR_CSS_MIXIN),z=u.default.div(I||(I=r(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    column-gap: ",";\n    row-gap: ",";\n    width: fill-available;\n    height: 100%;\n    padding: 0 ",";\n    overflow-y: scroll;\n    overscroll-behavior: contain;\n    ","\n"],["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    column-gap: ",";\n    row-gap: ",";\n    width: fill-available;\n    height: 100%;\n    padding: 0 ",";\n    overflow-y: scroll;\n    overscroll-behavior: contain;\n    ","\n"])),h.measurements.spacings.small,h.measurements.spacings.small,h.measurements.spacings.medium,m.NO_SCROLLBAR_CSS_MIXIN),H=u.default.div(D||(D=r(["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    white-space: pre-wrap;\n    padding: "," ",";\n"],["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    white-space: pre-wrap;\n    padding: "," ",";\n"])),h.measurements.spacings.xSmall,h.measurements.spacings.medium),F=u.default.div(k||(k=r(["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    white-space: pre-wrap;\n    margin-bottom: ",";\n    padding: 0 ",";\n"],["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    white-space: pre-wrap;\n    margin-bottom: ",";\n    padding: 0 ",";\n"])),h.measurements.spacings.xSmall,h.measurements.spacings.medium),G=u.default.div(L||(L=r(["\n    width: fill-available;\n    max-height: 28px;\n    margin: "," ","px;\n"],["\n    width: fill-available;\n    max-height: 28px;\n    margin: "," ","px;\n"])),h.measurements.spacings.xSmall,m.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),X=(0,u.default)(y.ColumnTopLeftContainer)(W||(W=r(["\n    width: 100%;\n    height: 100%;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    ","\n"],["\n    width: 100%;\n    height: 100%;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    ","\n"])),m.NO_SCROLLBAR_CSS_MIXIN),K=u.default.div(M||(M=r(["\n    padding: 0 ","px;\n"],["\n    padding: 0 ","px;\n"])),m.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),V=(0,u.default)(y.ColumnTopCenterContainer)(N||(N=r(["\n    width: 100%;\n"],["\n    width: 100%;\n"]))),Z=u.default.div({width:"fill-available",height:"2px",margin:"0 ".concat(m.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,"px"),backgroundColor:d.colors.alabaster}),J=(0,u.default)(y.CenteredContainer)(R||(R=r(["\n    flex-direction: row;\n    width: 100%;\n    height: 54px;\n    padding: 0 ","px;\n    ","\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"],["\n    flex-direction: row;\n    width: 100%;\n    height: 54px;\n    padding: 0 ","px;\n    ","\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"])),m.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,m.CLICKABLE_ELEMENT_CSS_MIXIN,(function(e){return e.isMobileExtension?"":"&:hover {\n        background-color: ".concat(d.colors.alabaster,";\n}   ")}),d.colors.concrete),Y=u.default.img(j||(j=r(["\n    width: ",";\n    height: ",";\n    object-fit: contain;\n    padding-right: ","px;\n    ","\n"],["\n    width: ",";\n    height: ",";\n    object-fit: contain;\n    padding-right: ","px;\n    ","\n"])),h.measurements.icons.small,h.measurements.icons.small,m.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,m.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN)},84018:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DesignSystemProductAlternativeComponent=void 0;var o=i(n(96540)),a=i(n(34599)),l=n(92204),s=n(38543);t.DesignSystemProductAlternativeComponent=function(e){var t,n,i,c,u=e.productWebpageWithAssociatedOffer,d=e.rank,f=e.initialProductUrl,p=e.hasLowestPrice,g=e.shouldDisplayBestPriceTag,m=e.isMobileExtension,h=e.fromComponent,b=(0,s.useProductAlternativeInnerState)(u.productWebpage,f,d,p,h),v=b.priceToDisplay,x=b.onClickAlternative,y=(0,l.useImageSource)(null!==(n=null===(t=u.associatedOffer)||void 0===t?void 0:t.screen.logoURL)&&void 0!==n?n:""),E=null!==(c=null===(i=u.associatedOffer)||void 0===i?void 0:i.screen.title)&&void 0!==c?c:"";return o.default.createElement(a.default,r({shouldShowBestPriceTag:!g,productAlternativePriceToDisplay:v,isMobileExtension:m,onClick:x},{logoUrl:y,productAlternativeTitle:E}))}},45079:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=n(82198),s=n(95425),c=o(n(18414)),u=o(n(30077));t.default=function(e){var t=e.productData,n=e.isTemporaryUser,o=i(e,["productData","isTemporaryUser"]);return o.isProductDataLoaded?(0,l.checkIsProductWebpageFromProductData)(t)?a.default.createElement(c.default,r({},{productData:t,isTemporaryUser:n},o)):a.default.createElement(s.UnavailableProductSectionContent,null):a.default.createElement(u.default,null)}},13963:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=c(n(96540)),d=c(n(38267)),f=n(55015),p=n(4911),g=n(23866),m=n(67454),h=n(86028),b=l(n(96410)),v=c(n(81110)),x=n(59674),y=n(17436),E=n(87105),_=n(50934),C=n(64777),S=c(n(33162));function O(){return u.default.createElement(k,null,u.default.createElement(f.SpinningWheel,{scale:.35,color:y.colors.background.subtle}))}function T(){return u.default.createElement(I,null,u.default.createElement(C.LargeSpinningWheelContainer,null,u.default.createElement(f.SpinningWheel,{scale:.75,color:y.colors.background.subtle})))}function w(){var e=(0,f.useLocalizedTexts)().designSystem.contentscript.redesign.panel.products;return u.default.createElement(I,null,u.default.createElement(g.CardPlaceholder,{cardPlaceholderType:g.CardPlaceholderType.icon,iconComponent:u.default.createElement(p.Avatar,{avatarType:p.AvatarType.icon,avatarSize:p.AvatarSize.large,iconComponent:v.default,iconComponentSize:y.measurements.icons.xLarge,iconComponentColor:y.colors.content.default,backgroundColor:y.colors.background.default})}),u.default.createElement(h.TextContent,{textContentLayoutType:h.TextContentLayoutType.centeredContent},u.default.createElement(b.default,{titleSize:b.TitleSize.medium,titleWeight:b.TitleWeight.semiBold,text:e.emptySavedProductsList.title,shouldShowButton:!1,shouldTruncate:!0,numberOfLinesBeforeTruncating:1}),u.default.createElement(m.Subtitle,{subtitleSize:m.SubtitleSize.small,color:y.colors.content.secondary,text:e.emptySavedProductsList.subtitle})))}t.default=function(e){var t=e.userSavedWebpages,n=e.isMobileExtension,r=e.panelInnerContainerRef,o=e.setUserSavedWebpages,a=e.offer,l=e.userRegion,c=e.blacklistedPriceTrackingDomains,d=s(u.default.useState(),2),p=d[0],g=d[1],m=(0,E.useCurrentWebpageFromLastCapturedData)(),h=m.currentWebpage,b=m.productDataFromCurrentWebpage,v=u.default.useMemo((function(){if(t)return t.sort((function(e,t){return new Date(t.savedAt||0).getTime()-new Date(e.savedAt||0).getTime()}))}),[t]),x=(0,_.useDisplayedSavedWebpages)(v),y=x.displayedUserSavedWebpages,C=x.onScrollWebpagesListContainer;return v?0===y.length?u.default.createElement(w,null):u.default.createElement(D,{onScroll:C},y.map((function(e){return u.default.createElement(S.default,i({key:e.webpageUrl,isCurrentWebpage:(0,f.checkAreSameWebpages)(e,h),userSavedWebpages:v},{isMobileExtension:n,panelInnerContainerRef:r,savedWebpage:e,setUserSavedWebpages:o,offer:a,userRegion:l,productDataFromCurrentWebpage:b,blacklistedPriceTrackingDomains:c,currentlyOpenPriceTrackingGraphWebpageUrl:p,setCurrentlyOpenPriceTrackingGraphWebpageUrl:g}))})),t&&y.length<t.length?u.default.createElement(O,null):null):u.default.createElement(T,null)};var A,P,B,I=d.default.div(A||(A=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    box-sizing: border-box;\n    gap: ",";\n    padding: "," ","px;\n    overflow: hidden;\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    box-sizing: border-box;\n    gap: ",";\n    padding: "," ","px;\n    overflow: hidden;\n"])),y.measurements.spacings.medium,y.measurements.spacings.xLarge,x.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),D=d.default.div(P||(P=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    box-sizing: border-box;\n    width: fill-available;\n    padding: "," 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    box-sizing: border-box;\n    width: fill-available;\n    padding: "," 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),y.measurements.spacings.medium),k=d.default.div(B||(B=r(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: ",";\n"],["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: ",";\n"])),x.LOADING_INDICATOR_CONTAINER_SIZE)},95425:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BnplUnavailableForOfferSectionContent=t.UnavailableProductSectionContent=t.UnavailableCouponsSectionContent=t.UnavailableCashbackSectionContent=void 0;var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(4911),u=n(23866),d=n(67454),f=n(86028),p=n(96410),g=o(n(46939)),m=o(n(23357)),h=o(n(81110)),b=o(n(42966)),v=n(17436);function x(e){var t=e.avatar,n=e.title,r=e.subtitle;return a.default.createElement(E,null,a.default.createElement(u.CardPlaceholder,{cardPlaceholderType:u.CardPlaceholderType.icon,iconComponent:t}),a.default.createElement(f.TextContent,{textContentLayoutType:f.TextContentLayoutType.centeredContent},a.default.createElement(p.Title,{titleSize:p.TitleSize.medium,titleWeight:p.TitleWeight.bold,text:n}),a.default.createElement(d.Subtitle,{subtitleSize:d.SubtitleSize.small,color:v.colors.content.secondary,text:r})))}t.UnavailableCashbackSectionContent=function(){var e=(0,s.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerDetails.cashbackSection.cashbackUnavailableForOffer;return a.default.createElement(x,i({},e,{avatar:a.default.createElement(c.Avatar,{avatarType:c.AvatarType.icon,avatarSize:c.AvatarSize.large,iconComponent:m.default,iconComponentSize:v.measurements.icons.xLarge,iconComponentColor:v.colors.content.default,backgroundColor:v.colors.background.default})}))},t.UnavailableCouponsSectionContent=function(){var e=(0,s.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerDetails.couponsSection.couponsUnavailableForOffer;return a.default.createElement(x,i({},e,{avatar:a.default.createElement(c.Avatar,{avatarType:c.AvatarType.icon,avatarSize:c.AvatarSize.large,iconComponent:g.default,iconComponentSize:v.measurements.icons.xLarge,iconComponentColor:v.colors.content.default,backgroundColor:v.colors.background.default})}))},t.UnavailableProductSectionContent=function(){var e=(0,s.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerDetails.productSection.productUnavailableForWebpage;return a.default.createElement(x,i({},e,{avatar:a.default.createElement(c.Avatar,{avatarType:c.AvatarType.icon,avatarSize:c.AvatarSize.large,iconComponent:h.default,iconComponentSize:v.measurements.icons.xLarge,iconComponentColor:v.colors.content.default,backgroundColor:v.colors.background.default})}))},t.BnplUnavailableForOfferSectionContent=function(){var e=(0,s.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerDetails.bnplSection.bnplUnavailableForOffer;return a.default.createElement(x,i({},e,{avatar:a.default.createElement(c.Avatar,{avatarType:c.AvatarType.icon,avatarSize:c.AvatarSize.large,iconComponent:b.default,iconComponentSize:v.measurements.icons.xLarge,backgroundColor:v.colors.background.default})}))};var y,E=l.default.div(y||(y=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    max-height: 280px;\n    height: 280px;\n    gap: ",";\n    padding: "," 0;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    max-height: 280px;\n    height: 280px;\n    gap: ",";\n    padding: "," 0;\n"])),v.measurements.spacings.medium,v.measurements.spacings.medium)},38737:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(96540)),u=s(n(38267)),d=n(55015),f=n(67454),p=n(86028),g=l(n(96410)),m=n(17436),h=s(n(47104));t.default=function(e){var t=e.offer,n=e.userBnplTransactionsDataWithSource,r=e.setSelectedAvailableBnplCard,o=(0,d.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerDetails.bnplSection.bnplAvailableForOffer;return c.default.createElement(y,null,c.default.createElement(_,null,c.default.createElement(p.TextContent,{textContentLayoutType:p.TextContentLayoutType.content},c.default.createElement(f.Subtitle,{subtitleSize:f.SubtitleSize.small,text:o.information.availableCardsSubtitle,shouldAlignTextLeft:!0,color:m.colors.content.default}))),c.default.createElement(E,null,c.default.createElement(_,null,c.default.createElement(g.default,{titleSize:g.TitleSize.medium,titleWeight:g.TitleWeight.bold,text:o.availableBnplCards.sectionTitle,shouldAlignTextLeft:!0})),n.map((function(e){return c.default.createElement(h.default,i({key:"createdAt-".concat(e.userBnplTransaction.createdAt),offerId:t.offerId},{userBnplTransactionDataWithSource:e,setSelectedAvailableBnplCard:r}))}))))};var b,v,x,y=u.default.div(b||(b=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"])),m.measurements.spacings.large),E=u.default.div(v||(v=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"])),m.measurements.spacings.xSmall),_=u.default.div(x||(x=r(["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    padding: 0 ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    padding: 0 ",";\n"])),m.measurements.spacings.medium)},47104:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(96540)),s=n(55015),c=n(81778),u=a(n(59557)),d=n(47277),f=n(67454),p=n(86028),g=o(n(96410)),m=a(n(32097)),h=n(17436),b=n(42376);t.default=function(e){var t=e.offerId,n=e.userBnplTransactionDataWithSource,r=e.setSelectedAvailableBnplCard,i=(0,s.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerDetails.bnplSection.bnplAvailableForOffer.availableBnplCards,o=function(){(0,b.logOpenedBnplCardDetails)({offerId:t}),r(n)},a=n.userBnplTransaction,v=a.amount,x=a.createdAt,y=a.panLastFourDigits,E=(0,s.useLocalizedFormat)(),_=(0,b.useFormatBnplCardExpiration)(x);if(!(null==v?void 0:v.valueInCents))return l.default.createElement(l.default.Fragment,null);var C=(0,s.formatCurrencyAmount)({localizedFormat:E,number:v.valueInCents/100});return l.default.createElement(l.default.Fragment,null,l.default.createElement(d.TextContentLine,{textContentLineType:d.TextContentLineType.paymentBrand,shouldShowIconOrImage:!0,paymentBrandComponent:l.default.createElement(u.default,null),shouldShowButtonIcon:!0,buttonIconComponent:l.default.createElement(c.StyledSvg,{component:m.default,width:h.measurements.icons.medium,height:h.measurements.icons.medium,color:h.colors.content.default,isClickable:!0,onClick:o}),onClick:o},l.default.createElement(p.TextContent,{textContentLayoutType:p.TextContentLayoutType.content,shouldStretchAlongMainAxis:!0},l.default.createElement(g.default,{titleSize:g.TitleSize.small,titleWeight:g.TitleWeight.semiBold,text:i.cardTitle({panLastFourDigits:y}),shouldAlignTextLeft:!0}),l.default.createElement(f.Subtitle,{subtitleSize:f.SubtitleSize.small,color:h.colors.content.secondary,text:i.cardSubtitle({formattedCurrency:C,formattedExpirationDate:_})}))))}},84901:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(96540)),o=n(55015),a=n(59812),l=n(91941);t.default=function(e){var t,n=e.onClickDisplayBnplSubscriptionWidget,r=e.isAvailableBnplCardsAppFeatureEnabled,s=e.hasOneAvailableBnplCardOrMore,c=(0,l.useOfferDetailsTabContentContext)(),u=(0,o.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerDetails.bnplSection.bnplAvailableForOffer,d=!!((null===(t=null==c?void 0:c.displayedOffer)||void 0===t?void 0:t.offerId)&&c.currentWebpageOffer&&c.currentWebpageOffer.offerId&&c.displayedOffer.offerId===c.currentWebpageOffer.offerId),f=r&&s?u.payInThreeTimesButtonAvailableBnplCards:u.payInThreeTimesButton;return d?i.default.createElement(a.Button,{hierarchy:a.ButtonHierarchy.primary,buttonState:a.ButtonState.default,buttonSize:a.ButtonSize.medium,shouldShowLabel:!0,label:f,onClick:n,shouldTakeFullWidth:!0}):null}},24727:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(96540)),s=a(n(38267)),c=n(55015),u=n(21136),d=n(59674),f=n(17436),p=n(14568),g=n(47615),m=n(31229),h=n(89710),b=n(59003),v=n(21736),x=a(n(38737)),y=a(n(84901)),E=a(n(12809)),_=a(n(38757)),C=n(42376),S=n(97669);t.default=function(e){var t=e.offer,n=e.isMobileExtension,r=e.closePanelAndLogEvents,a=e.lastUserBnplTransactionFromBnplSubscriptionWidget,s=(0,S.usePanelDisplayContext)()||{bnpl:{}},f=s.setIsMinimized,O=s.setIsMinimizable,w=s.tabId,A=s.bnpl,P=A.setIsInBnplSubscription,B=A.lastUserBnplTransaction,I=A.setLastUserBnplTransaction;(0,C.useDisableScrolling)(B);var D=o((0,C.useSelectedAvailableBnplCard)(a,B),2),k=D[0],L=D[1],W=(0,c.useHasFeature)(c.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),M=l.default.useCallback((function(){null==f||f(!1),null==O||O(!1),L(void 0),null==I||I(void 0),(0,v.removeUnfinishedBnplSubscriptionStateInLocalStorage)(w),localStorage.setItem(g.HAS_SEEN_BNPL_CARD_DETAILS_LOCAL_STORAGE_KEY,"true")}),[f,O,L,I,w]),N=l.default.useCallback((function(){if(W)return null==P||P(!0),void(0,h.handleUserInterfaceComponentInteractionInBackgroundOrLoadTrackingLink)({offer:t,triggeringEventType:c.UserInterfaceComponentInteractionEventType.panelOfferDetailsTabBnplSectionStartButton});(0,b.displayBnplSubscriptionWidget)({offer:t});var e=c.browserKind!==c.Browser.mobileAppWebView;r("displayBnplWidget",e),(0,h.handleUserInterfaceComponentInteractionInBackgroundOrLoadTrackingLink)({offer:t,triggeringEventType:c.UserInterfaceComponentInteractionEventType.panelOfferDetailsTabBnplSectionStartButton})}),[t,W,r]),R=(0,m.useUser)(),j=(0,c.useHasFeatureByPlatform)({isMobileExtension:n,desktopFeature:c.Feature.shouldDisplayAvailableBnplCardsInDesktopBrowserExtension,mobileFeature:c.Feature.shouldDisplayAvailableBnplCardsInMobileBrowserExtension}),U=(0,p.useUserBnplTransactionsFromBackend)(t.offerId),z=(0,p.getUserBnplTransactionsFromLocalStorage)(t);return(0,C.useUpdateSelectedAvailableBnplCardWithBackendData)({selectedAvailableBnplCard:k,userBnplTransactionsFromBackend:U,setSelectedAvailableBnplCard:L}),l.default.createElement(l.default.Fragment,null,l.default.createElement(T,null,j&&((null==U?void 0:U.length)?l.default.createElement(x.default,i({},{offer:t,setSelectedAvailableBnplCard:L},{userBnplTransactionsDataWithSource:U.map((function(e){return{source:"backend",userBnplTransaction:e}}))})):z.length?l.default.createElement(x.default,i({},{offer:t,setSelectedAvailableBnplCard:L},{userBnplTransactionsDataWithSource:z.map((function(e){return{source:"localStorage",userBnplTransaction:e}}))})):null),j&&((null==U?void 0:U.length)||z.length)?null:l.default.createElement(E.default,i({},{offer:t,isMobileExtension:n}))),l.default.createElement(u.StickyButtonWrapper,{bottomOffset:d.PANEL_TAB_SELECTOR_TOTAL_HEIGHT,placeholderHeight:d.SINGLE_MEDIUM_STICKY_BUTTON_PLACEHOLDER_HEIGHT},l.default.createElement(y.default,i({hasOneAvailableBnplCardOrMore:!!z.length},{isMobileExtension:n,onClickDisplayBnplSubscriptionWidget:N,isAvailableBnplCardsAppFeatureEnabled:j}))),j&&k?l.default.createElement(_.default,i({},{user:R,offer:t,isMobileExtension:n,selectedAvailableBnplCard:k,onClickGoBackInPanelHeader:M,closePanelAndLogEvents:r})):null)};var O,T=s.default.div(O||(O=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    margin: 0 ","; // Needed so the elements' hover effect can reach the panel edges\n    padding: "," 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    margin: 0 ","; // Needed so the elements' hover effect can reach the panel edges\n    padding: "," 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),f.measurements.spacings.medium,"-".concat(f.measurements.spacings.medium),f.measurements.spacings.medium)},12809:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DesignSystemLearnMoreButton=t.DesignSystemBnplInstructions=void 0;var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(64242),u=n(59812),d=o(n(11685)),f=n(67454),p=n(86028),g=n(96410),m=n(17436),h=n(26368),b=n(95699),v=n(42376);function x(e){var t=e.offer,n=(0,s.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerDetails.bnplSection.bnplAvailableForOffer.information,r=[{numberInList:1,shouldShowLabel:!0,label:n.step1},{numberInList:2,shouldShowLabel:!0,label:n.step2({merchantName:t.merchantId})},{numberInList:3,shouldShowLabel:!0,label:n.step3}];return a.default.createElement(w,null,r.map((function(e,t){var n=e.numberInList,r=e.shouldShowLabel,o=e.label;return a.default.createElement(d.default,i({},{numberInList:n,shouldShowLabel:r,label:o},{key:t}))})))}function y(e){var t=e.offerId,n=(0,c.useGetFaqArticleUrl)(),r=a.default.useCallback((function(){(0,v.logOpenedBnplFaqEvents)(t);var e=n(b.JOKO_BNPL_FAQ_REFERENCES);s.browserKind===s.Browser.mobileAppWebView?window.location.href=e:window.open(e)}),[t]),i=(0,s.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerDetails.bnplSection.bnplAvailableForOffer.information.learnMoreButton;return a.default.createElement(A,null,a.default.createElement(u.Button,{hierarchy:u.ButtonHierarchy.primary,buttonState:u.ButtonState.default,buttonSize:u.ButtonSize.smallUnderlined,shouldShowLabel:!0,label:i,onClick:r}))}t.default=function(e){var t=e.offer,n=(0,s.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerDetails.bnplSection.bnplAvailableForOffer.information;return a.default.createElement(O,null,a.default.createElement(p.TextContent,{textContentLayoutType:p.TextContentLayoutType.content},a.default.createElement(f.Subtitle,{subtitleSize:f.SubtitleSize.small,text:n.noCardSubtitle,shouldAlignTextLeft:!0,color:m.colors.content.default})),a.default.createElement(T,null,a.default.createElement(g.Title,{titleSize:g.TitleSize.medium,titleWeight:g.TitleWeight.bold,text:n.title,color:m.colors.content.default,shouldAlignTextLeft:!0}),a.default.createElement(x,i({},{offer:t})),a.default.createElement(y,{offerId:t.offerId})))},t.DesignSystemBnplInstructions=x,t.DesignSystemLearnMoreButton=y;var E,_,C,S,O=l.default.div(E||(E=r(["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    gap: inherit;\n    padding: 0 ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    gap: inherit;\n    padding: 0 ",";\n"])),m.measurements.spacings.medium),T=l.default.div(_||(_=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"])),m.measurements.spacings.small),w=l.default.div(C||(C=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," ",";\n    border-radius: ",";\n    background: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," ",";\n    border-radius: ",";\n    background: ",";\n"])),m.measurements.spacings.null,m.measurements.spacings.small,m.measurements.spacings.smallMedium,m.measurements.radius.xSmall,m.colors.background.light),A=l.default.div(S||(S=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    ","\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    ","\n"])),h.CLICKABLE_ELEMENT_CSS_MIXIN)},38757:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(19972),u=n(17436),d=n(26368),f=o(n(89282)),p=n(97669);function g(e){var t=e.offer,n=e.isMobileExtension,r=e.onClickGoBackInPanelHeader,i=e.closePanelAndLogEvents,o=((0,p.usePanelDisplayContext)()||{}).dragEventListeners||{},l=o.onDragListener,s=o.onPressListener,u=o.onReleaseListener,d=(0,c.useDesignSystemPanelHeaderContext)(),f=d.setPanelHeaderType,g=d.setOnClickPanelGoBackButton;return a.default.useEffect((function(){f(c.PanelHeaderType.backArrowAndCloseButton),g((function(){return r}))}),[f,g,r]),a.default.createElement(c.DesignSystemPanelHeader,{panelInnerContainerRef:void 0,isMobileExtension:n,offer:t,onPressListener:null!=s?s:function(){return null},onDragListener:null!=l?l:function(){return null},onReleaseListener:null!=u?u:function(){return null},closePanelAndLogEvents:i})}t.default=function(e){var t=e.user,n=e.offer,r=e.isMobileExtension,o=e.selectedAvailableBnplCard,l=e.onClickGoBackInPanelHeader,c=e.closePanelAndLogEvents,d=((0,p.usePanelDisplayContext)()||{}).setIsMinimizable;return a.default.useEffect((function(){null==d||d(!0)}),[]),a.default.createElement(b,null,a.default.createElement(g,i({},{offer:n,onClickGoBackInPanelHeader:l,isMobileExtension:r,closePanelAndLogEvents:c})),"localStorage"===o.source?a.default.createElement(v,null,a.default.createElement(s.SpinningWheel,{scale:.8,color:u.colors.content.default})):a.default.createElement(f.default,i({},{user:t,offer:n,userBnplTransaction:o.userBnplTransaction})))};var m,h,b=l.default.div(m||(m=r(["\n    position: fixed;\n    z-index: ",";\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    background: ",";\n"],["\n    position: fixed;\n    z-index: ",";\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    background: ",";\n"])),d.HIGHEST_Z_INDEX-1,u.colors.background.default),v=l.default.div(h||(h=r(["\n    position: relative;\n    top: 30%;\n    align-self: center;\n"],["\n    position: relative;\n    top: 30%;\n    align-self: center;\n"])))},89282:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=n(55015),l=n(44065);t.default=function(e){var t,n=e.user,i=e.offer,s=e.userBnplTransaction,c=(0,a.useLocalizedFormat)(),u=(null===(t=null==s?void 0:s.amount)||void 0===t?void 0:t.valueInCents)?(0,a.formatCurrencyAmount)({localizedFormat:c,number:s.amount.valueInCents/100}):void 0,d=(0,l.useCardDetailsRows)({offer:i,user:n,formattedAmount:u,userBnplTransaction:s});return d?o.default.createElement(l.DesignSystemBnplCardDetailsTable,r({offerId:i.offerId},{cardDetailsRows:d})):null}},9486:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(96540)),u=s(n(38267)),d=n(55015),f=l(n(96410)),p=n(17436),g=s(n(33159)),m=s(n(31396));t.default=function(e){var t=e.selectedCoupons,n=e.skippedCoupons,r=e.currentWebpageOffer,o=(0,d.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerDetails.couponsSection.couponsAvailableForOffer,a=t.length;return c.createElement(v,null,c.createElement(m.default,null),c.createElement(x,null,c.createElement(f.default,{titleSize:f.TitleSize.medium,titleWeight:f.TitleWeight.bold,text:o.title({numberOfAvailableCoupons:a}),color:p.colors.content.default,shouldAlignTextLeft:!0}),c.createElement(g.default,i({},{selectedCoupons:t,skippedCoupons:n,currentWebpageOffer:r}))))};var h,b,v=u.default.div(h||(h=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),p.measurements.spacings.medium,p.measurements.spacings.medium),x=u.default.div(b||(b=r(["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    gap: ",";\n"])),p.measurements.spacings.null)},66113:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(n(96540)),u=s(n(38267)),d=n(55015),f=n(81778),p=n(67454),g=n(86028),m=n(96410),h=s(n(32113)),b=s(n(96750)),v=n(59674),x=n(17436);t.default=function(e){var t=e.coupon,n=t.displayedInformation,r=n.title,i=n.description,o=t.code,a=l(c.useState(!0),2),s=a[0],u=a[1],v=(0,d.useIsTextTruncated)(),y=v.truncationDetectionTargetRef,_=v.isTruncated,C=r&&i?0===r.localeCompare(i):!!r==!!i,S=r&&0===r.localeCompare(o||""),O=_||!C,T=c.useCallback((function(){O&&u((function(e){return!e}))}),[O,s]);return!i||S?null:c.createElement(E,{onClick:T},c.createElement(g.TextContent,{textContentLayoutType:g.TextContentLayoutType.content,shouldStretchAlongCrossAxis:!0},c.createElement(m.Title,{titleSize:m.TitleSize.small,titleWeight:m.TitleWeight.semiBold,text:null!=r?r:"",shouldAlignTextLeft:!0,shouldShowButton:O,buttonComponent:c.createElement(f.StyledSvg,{width:x.measurements.icons.medium,height:x.measurements.icons.medium,component:s?h.default:b.default,color:x.colors.content.default}),shouldTruncate:s,numberOfLinesBeforeTruncating:3,ref:y}),!i||C||s?null:c.createElement(p.Subtitle,{subtitleSize:p.SubtitleSize.small,color:x.colors.content.secondary,text:i,shouldAlignTextLeft:!0})))};var y,E=u.default.div(y||(y=r(["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    ","\n"],["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    ","\n"])),v.CLICKABLE_ELEMENT_CSS_MIXIN)},67944:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(96540)),u=s(n(38267)),d=n(81778),f=n(68179),p=s(n(3413)),g=s(n(21752)),m=s(n(86580)),h=n(17436),b=n(23081),v=s(n(66113));t.default=function(e){var t=e.coupon,n=e.currentWebpageOffer,r=e.shouldDisplayBottomBorder,o=(0,b.useCopyCoupon)({currentWebpageOffer:n,coupon:t}),a=o.hasBeenCopiedRecently,l=o.onClickCopy,s=t.shouldSkip,u=t.isSelectedForReevaluation,x=s&&!u;return c.createElement(y,i({},{shouldDisplayBottomBorder:r}),c.createElement(f.Pill,{pillSize:f.PillSize.medium,pillStyle:x?f.PillColorStyle.secondary:f.PillColorStyle.purple,pillOutlineStyle:f.PillOutlineStyle.squared,onClick:l,shouldShowLeftIcon:!0,leftIcon:c.createElement(d.StyledSvg,{width:h.measurements.icons.medium,height:h.measurements.icons.medium,component:g.default,color:x?h.colors.content.secondary:h.colors.brand.purple,style:{padding:h.measurements.spacings.xxSmall}}),shouldShowRightIcon:!0,rightIcon:c.createElement(d.StyledSvg,{width:h.measurements.icons.medium,height:h.measurements.icons.medium,component:a?m.default:p.default,color:x?h.colors.content.secondary:h.colors.brand.purple}),text:t.code}),c.createElement(v.default,i({},{coupon:t})))};var x,y=u.default.div(x||(x=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: 100%;\n    gap: ",";\n    padding: "," 0;\n    ","\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: 100%;\n    gap: ",";\n    padding: "," 0;\n    ","\n"])),h.measurements.spacings.small,h.measurements.spacings.smallMedium,(function(e){return e.shouldDisplayBottomBorder?"border-bottom: 1px solid ".concat(h.colors.border.subtle,";"):""}))},33159:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(96540)),u=s(n(38267)),d=s(n(67944)),f=s(n(72985));t.default=function(e){var t=e.selectedCoupons,n=e.skippedCoupons,r=e.currentWebpageOffer;return c.createElement(g,null,t.map((function(e,o){return c.createElement(d.default,i({shouldDisplayBottomBorder:!!n.length||o<t.length-1,key:e.merchantCouponId},{coupon:e,currentWebpageOffer:r}))})),n.length?c.createElement(f.default,i({},{currentWebpageOffer:r,skippedCoupons:n})):null)};var p,g=u.default.div(p||(p=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n"])))},31396:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=o(n(96540)),s=n(55015),c=n(67454),u=n(86028),d=n(30503),f=a(n(46939)),p=n(17436);t.default=function(){var e=(0,s.useLocalizedTexts)().designSystem.contentscript.sideButtonWidget.couponsTab.offerWithCouponInfo;return l.createElement(d.Banner,{bannerStyle:d.BannerStyle.purple,shouldShowLeftIcon:!0,leftIconSvgComponent:f.default},l.createElement(u.TextContent,{textContentLayoutType:u.TextContentLayoutType.content},l.createElement(c.Subtitle,{subtitleSize:c.SubtitleSize.small,text:e.explanation({isCouponAutomationReady:!1}),color:p.colors.content.default,shouldAlignTextLeft:!0})))}},72985:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(96540)),d=c(n(38267)),f=n(55015),p=n(81778),g=n(67454),m=n(86028),h=l(n(96410)),b=c(n(32113)),v=c(n(96750)),x=n(59674),y=n(17436),E=c(n(67944));function _(e){var t=e.onClick,n=e.isCollapsed,r=(0,f.useLocalizedTexts)().designSystem.contentscript.sideButtonWidget.couponsTab.offerWithCouponInfo.skippedCouponsCollapseButton;return u.createElement(S,i({},{onClick:t}),u.createElement(m.TextContent,{textContentLayoutType:m.TextContentLayoutType.content,shouldStretchAlongCrossAxis:!0},u.createElement(h.default,{titleSize:h.TitleSize.small,titleWeight:h.TitleWeight.semiBold,text:r.title,shouldAlignTextLeft:!0,shouldShowButton:!0,buttonComponent:u.createElement(p.StyledSvg,{width:y.measurements.icons.medium,height:y.measurements.icons.medium,component:n?b.default:v.default,color:y.colors.content.default})}),u.createElement(g.Subtitle,{subtitleSize:g.SubtitleSize.small,color:y.colors.content.secondary,text:r.subtitle,shouldAlignTextLeft:!0})))}t.default=function(e){var t=e.currentWebpageOffer,n=e.skippedCoupons,r=s(u.useState(!0),2),o=r[0],a=r[1];return u.createElement(u.Fragment,null,u.createElement(_,i({},{onClick:function(){return a(!o)},isCollapsed:o})),o?null:n.map((function(e,r){return u.createElement(E.default,i({shouldDisplayBottomBorder:r<n.length-1,key:e.merchantCouponId},{currentWebpageOffer:t,coupon:e}))})))};var C,S=d.default.div(C||(C=r(["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    padding-top: ",";\n    ","\n"],["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    padding-top: ",";\n    ","\n"])),y.measurements.spacings.smallMedium,x.CLICKABLE_ELEMENT_CSS_MIXIN)},18414:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(21136),c=n(59674),u=n(17436),d=n(23081),f=o(n(71621)),p=o(n(40639)),g=o(n(31915)),m=o(n(78169));t.default=function(e){var t=e.productData,n=e.loadPriceHistoryAndLogEvents,r=e.priceHistory,o=e.lastPriceData,l=e.priceComparisonData,u=e.isPriceHistoryAvailable,h=e.isPriceHistoryLoading,v=e.isWebsiteBlacklistedForPriceTracking,x=e.isProductSaved,y=e.toggleIsProductSaved,E=e.userRegion,_=e.hasPriceComparisonLoadingTimedOut,C=e.shouldDisplayBestPriceTagOnBrowsedProduct,S=e.wasCheaperAlternativeDetected,O=e.shouldDisplayBestPriceTagOnCheapestAlternative,T=e.isMobileExtension,w=e.isPriceComparisonEnabled,A=e.isTemporaryUser;a.default.useEffect((function(){n("panelOfferDetailsTabProductSection")}),[]);var P=window.location.href,B=t.imageUrl,I=t.name,D=t.priceAmount,k=t.priceCurrency,L=a.default.useMemo((function(){return(0,d.getCleanProductName)(I,!0,c.WEBPAGE_TITLE_MAX_NUMBER_OF_CHARACTERS)}),[]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(b,null,a.default.createElement(f.default,i({shouldDisplayBestPriceTag:C,isProductCurrentlyBrowsed:!0,shouldShowPriceTrackingButton:!1},{productTitleToDisplay:L,webpageUrl:P,imageUrl:B,productPriceAmount:D,productPriceCurrency:k,lastPriceData:o,isMobileExtension:T})),a.default.createElement(p.default,i({},{hasPriceComparisonLoadingTimedOut:_,priceComparisonData:l,webpageUrl:P,wasCheaperAlternativeDetected:S,shouldDisplayBestPriceTagOnCheapestAlternative:O,isMobileExtension:T,isPriceComparisonEnabled:w})),a.default.createElement(g.default,i({},{priceHistory:r,isPriceHistoryAvailable:u,isPriceHistoryLoading:h,isWebsiteBlacklistedForPriceTracking:v,isProductSaved:x,userRegion:E,isMobileExtension:T,isTemporaryUser:A}))),a.default.createElement(s.StickyButtonWrapper,{bottomOffset:c.PANEL_TAB_SELECTOR_TOTAL_HEIGHT,placeholderHeight:c.SINGLE_MEDIUM_STICKY_BUTTON_PLACEHOLDER_HEIGHT},a.default.createElement(m.default,i({},{isProductSaved:x,toggleIsProductSaved:y,isTemporaryUser:A}))))};var h,b=l.default.div(h||(h=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),u.measurements.spacings.medium,u.measurements.spacings.medium)},30077:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(96540)),o=n(55015),a=n(64777);t.default=function(){return i.default.createElement(a.ContentScrollView,null,i.default.createElement(a.LargeSpinningWheelContainer,null,i.default.createElement(o.SpinningWheel,{scale:.75,color:o.colors.gray})))}},40639:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=n(61698),s=o(n(38267)),c=n(55015),u=n(59812),d=n(4911),f=n(88099),p=n(67454),g=n(86028),m=n(96410),h=n(17436),b=n(92204),v=n(23081),x=n(84018);function y(e){var t=e.productAlternativesWithAssociatedOffers,n=e.webpageUrl,r=e.wasCheaperAlternativeDetected,o=e.shouldDisplayBestPriceTagOnCheapestAlternative,l=e.isMobileExtension,s=e.fromComponent;return a.default.createElement(a.default.Fragment,null,t.map((function(e,t){return a.default.createElement(x.DesignSystemProductAlternativeComponent,i({key:n},{productWebpageWithAssociatedOffer:e,rank:t+1,initialProductUrl:n,hasLowestPrice:0===t&&r,shouldDisplayBestPriceTag:0===t&&o,isMobileExtension:l,fromComponent:s}))})))}function E(){return a.default.createElement(T,null,a.default.createElement(f.OfferLineLoadingPlaceholder,{shouldShowLogo:!0,avatarSize:d.AvatarSize.medium}),a.default.createElement(f.OfferLineLoadingPlaceholder,{shouldShowLogo:!0,avatarSize:d.AvatarSize.medium}))}function _(){var e=(0,c.useLocalizedTexts)().designSystem.contentscript.sideButtonWidget.productTab.priceComparison.noPriceComparisonMessage;return a.default.createElement(p.Subtitle,{subtitleSize:p.SubtitleSize.small,text:e,shouldAlignTextLeft:!0})}t.default=function(e){var t=e.priceComparisonData,n=e.hasPriceComparisonLoadingTimedOut,r=e.webpageUrl,o=e.wasCheaperAlternativeDetected,s=e.shouldDisplayBestPriceTagOnCheapestAlternative,d=e.isMobileExtension,f=e.isPriceComparisonEnabled,p=null==t?void 0:t.productAlternativesWithAssociatedOffers,x=p?null==p?void 0:p.map((function(e){return e.productWebpage})):void 0,C=a.default.useMemo((function(){return!x&&!n}),[x,n]),S=function(e){return a.default.useMemo((function(){var t=function(e){return!!e};return(e?e.map((function(e){return e.productData.imageUrl})):[]).filter(t)}),[e])}(x),T=(0,b.useImagePreloader)(S),w=(0,c.useLocalizedTexts)().designSystem.contentscript.sideButtonWidget.productTab.priceComparison;if(!f)return null;var A=(0,v.checkShouldDisplayPriceComparisonAlternatives)(p,n)&&!T;return a.default.createElement(O,null,a.default.createElement(g.TextContent,{textContentLayoutType:g.TextContentLayoutType.horizontalContent},a.default.createElement(l.Title,{titleSize:m.TitleSize.medium,titleWeight:m.TitleWeight.bold,text:w.title,color:h.colors.content.default}),A?a.default.createElement(l.Button,{hierarchy:u.ButtonHierarchy.primary,buttonState:u.ButtonState.default,buttonSize:u.ButtonSize.smallUnderlined,shouldShowLabel:!0,label:w.browseButtonLabel,onClick:void 0}):null),A?a.default.createElement(y,i({productAlternativesWithAssociatedOffers:p},{webpageUrl:r,wasCheaperAlternativeDetected:o,shouldDisplayBestPriceTagOnCheapestAlternative:s,isMobileExtension:d,fromComponent:"productSection"})):C||T&&!n?a.default.createElement(E,null):a.default.createElement(_,null))};var C,S,O=s.default.div(C||(C=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"])),h.measurements.spacings.xSmall),T=s.default.div(S||(S=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n"])))},31915:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DesignSystemPriceTrackingGraphComponent=void 0;var c=s(n(96540)),u=s(n(38267)),d=n(55015),f=n(67454),p=l(n(96410)),g=n(59674),m=n(17436),h=n(47175),b=n(23081),v=n(44580);function x(e){var t=e.priceHistory,n=e.isPriceHistoryLoading,r=e.isProductSaved,o=e.isWebsiteBlacklistedForPriceTracking,a=e.isMobileExtension,l=e.isTemporaryUser,s=(0,b.usePriceTrackingUnavailableText)({isProductSaved:r,isWebsiteBlacklistedForPriceTracking:o,isTemporaryUser:l});return t&&t.length>0?c.default.createElement(S,null,c.default.createElement(v.DesignSystemPriceTrackingGraph,i({priceTrackingGraphHeight:g.OFFER_TAB_PRICE_TRACKING_GRAPH_HEIGHT,shouldOccupyMaximumWidth:!0,isOnMobile:a},{priceHistory:t}))):n?c.default.createElement(O,{src:h.PRICE_TRACKING_GRAPH_LOADING_PLACEHOLDER_ILLUSTRATION_URL}):c.default.createElement(f.Subtitle,{subtitleSize:f.SubtitleSize.small,text:s,shouldAlignTextLeft:!0})}t.default=function(e){var t=e.priceHistory,n=e.isPriceHistoryAvailable,r=e.isPriceHistoryLoading,o=e.isWebsiteBlacklistedForPriceTracking,a=e.isProductSaved,l=e.userRegion,s=e.isMobileExtension,u=e.isTemporaryUser,f=c.default.useMemo((function(){return(0,b.checkIsPriceTrackingDisabled)(l,o)}),[o,l]),g=(0,d.useLocalizedTexts)().designSystem.contentscript.sideButtonWidget.productTab.priceTracking.title;return f?null:c.default.createElement(C,null,c.default.createElement(p.default,{titleSize:p.TitleSize.medium,titleWeight:p.TitleWeight.bold,text:g,color:m.colors.content.default}),c.default.createElement(x,i({},{priceHistory:t,isPriceHistoryLoading:r,isPriceHistoryAvailable:n,isProductSaved:a,isWebsiteBlacklistedForPriceTracking:o,isMobileExtension:s,isTemporaryUser:u})))},t.DesignSystemPriceTrackingGraphComponent=x;var y,E,_,C=u.default.div(y||(y=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"])),m.measurements.spacings.xSmall),S=u.default.div(E||(E=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    padding: "," 0;\n    transition: height 0.3s;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    padding: "," 0;\n    transition: height 0.3s;\n"])),m.measurements.spacings.small),O=u.default.img(_||(_=r(["\n    width: 100%;\n    min-height: 120px;\n    object-fit: cover;\n    ","\n"],["\n    width: 100%;\n    min-height: 120px;\n    object-fit: cover;\n    ","\n"])),g.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN)},78169:function(e,t,n){var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=n(55015),l=n(59812),s=n(2286),c=n(81778),u=i(n(86580)),d=n(17436);t.default=function(e){var t=e.isProductSaved,n=e.toggleIsProductSaved,i=e.isTemporaryUser,f=(0,a.useLocalizedTexts)().designSystem.contentscript.redesign.panel.offerDetails.productSection.productAvailableForWebpage.saveButton,p=r(o.default.useState(!1),2),g=p[0],m=p[1];return i?null:o.default.createElement(s.ButtonSet,{buttonSetLayoutType:s.ButtonSetLayoutType.horizontal},o.default.createElement(l.Button,{hierarchy:t?l.ButtonHierarchy.positive:l.ButtonHierarchy.primary,buttonState:g?l.ButtonState.loading:l.ButtonState.default,buttonSize:l.ButtonSize.medium,label:t?f.productSaved:f.saveProduct,shouldShowLabel:!0,rightIcon:o.default.createElement(c.StyledSvg,{component:u.default,width:d.measurements.icons.medium,height:d.measurements.icons.medium,color:d.colors.content.primary}),shouldShowRightIcon:t,shouldTakeFullWidth:!0,onClick:function(){g||(m(!0),setTimeout((function(){m(!1),n()}),500))}}))}},73347:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(6===l[0]&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(96540)),u=s(n(38267)),d=n(55015),f=n(64242),p=n(14568),g=n(47615),m=n(47175),h=n(26368),b=n(31229),v=n(66499),x=n(46239),y=n(89710),E=n(74617),_=n(78148),C=n(59003),S=n(74648),O=n(13897),T=n(68174),w=n(10570),A=n(64777),P=n(78776),B=n(39838),I=n(91506),D=n(97669),k=n(25768),L=n(82929);function W(e){var t=this,n=e.offer,r=e.isMobileExtension,s=e.closePanelAndLogEvents,u=e.isTemporaryUser,f=e.lastUserBnplTransactionFromBnplSubscriptionWidget,m=(0,D.usePanelDisplayContext)()||{bnpl:{}},S=m.setIsMinimized,T=m.setIsMinimizable,P=m.tabId,B=m.bnpl,I=B.setIsInBnplSubscription,k=B.lastUserBnplTransaction,W=B.setLastUserBnplTransaction;!function(e){c.default.useEffect((function(){"false"===localStorage.getItem(g.HAS_SEEN_BNPL_CARD_DETAILS_LOCAL_STORAGE_KEY)&&e&&(0,E.disableWebpageBodyScrolling)()}),[e])}(k);var N=l(function(e,t){var n=function(){var n=e||t;if("false"===localStorage.getItem(g.HAS_SEEN_BNPL_CARD_DETAILS_LOCAL_STORAGE_KEY)&&n)return{source:"backend",userBnplTransaction:n}},r=l(c.default.useState(n),2),i=r[0],o=r[1];return[i,o]}(f,k),2),R=N[0],j=N[1],z=(0,d.useHasFeature)(d.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),H=c.default.useCallback((function(){if(z)return null==I||I(!0),void(0,y.handleUserInterfaceComponentInteractionInBackgroundOrLoadTrackingLink)({offer:n,triggeringEventType:d.UserInterfaceComponentInteractionEventType.panelOfferDetailsTabBnplSectionStartButton});(0,C.displayBnplSubscriptionWidget)({offer:n});var e=d.browserKind!==d.Browser.mobileAppWebView;s("displayBnplWidget",e),(0,y.handleUserInterfaceComponentInteractionInBackgroundOrLoadTrackingLink)({offer:n,triggeringEventType:d.UserInterfaceComponentInteractionEventType.panelOfferDetailsTabBnplSectionStartButton})}),[n,z,s]),X=(0,b.useUser)(),K=(0,d.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.bnplSection.bnplAvailableForOffer,V=(0,d.useHasFeatureByPlatform)({isMobileExtension:r,desktopFeature:d.Feature.shouldDisplayAvailableBnplCardsInDesktopBrowserExtension,mobileFeature:d.Feature.shouldDisplayAvailableBnplCardsInMobileBrowserExtension}),Z=(0,p.useUserBnplTransactionsFromBackend)(n.offerId),J=(0,p.getUserBnplTransactionsFromLocalStorage)(n);return function(e){var t=e.selectedAvailableBnplCard,n=e.userBnplTransactionsFromBackend,r=e.setSelectedAvailableBnplCard;c.default.useEffect((function(){if(t&&"localStorage"===t.source&&n){var e=n.find((function(e){return e.createdAt===t.userBnplTransaction.createdAt}));e&&r({source:"backend",userBnplTransaction:e})}}),[t,n])}({selectedAvailableBnplCard:R,userBnplTransactionsFromBackend:Z,setSelectedAvailableBnplCard:j}),c.default.createElement(c.default.Fragment,null,c.default.createElement(A.ContentScrollView,{style:{paddingTop:h.DEFAULT_PANEL_TOP_PADDING}},V&&((null==Z?void 0:Z.length)?c.default.createElement(M,i({},{offer:n,setSelectedAvailableBnplCard:j},{userBnplTransactionsDataWithSource:Z.map((function(e){return{source:"backend",userBnplTransaction:e}}))})):J.length?c.default.createElement(M,i({},{offer:n,setSelectedAvailableBnplCard:j},{userBnplTransactionsDataWithSource:J.map((function(e){return{source:"localStorage",userBnplTransaction:e}}))})):null),V&&((null==Z?void 0:Z.length)||J.length)?null:c.default.createElement(U,i({},{offer:n,isMobileExtension:r})),c.default.createElement(Pe,null)),c.default.createElement(Ae,null,u?c.default.createElement(c.default.Fragment,null,c.default.createElement(w.BlackButton,{isFullWidth:!0,onClick:function(){return o(t,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return r?((0,_.redirectToJokoApp)(),[3,3]):[3,1];case 1:return[4,(0,v.openWebAppSignInPage)()];case 2:e.sent(),e.label=3;case 3:return t=n.offerId,i={offerId:t,loginTriggeringEventType:d.MobileLoginForTemporaryUserTriggeringEventType.offerDetailsBnplSectionButton},(0,x.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedLogin",payload:i}}}),(0,x.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"Registration - Clicked Login",properties:i}}}),s("displayBnplWidget"),[2]}var t,i}))}))}},K.payInThreeTimesLoginButton),c.default.createElement(je,null,c.default.createElement(L.PadlockIcon,{style:{width:"1rem",flexShrink:0,position:"relative",bottom:"2px"}}),c.default.createElement("span",null,K.information.payInThreeTimesLoginHelpText))):c.default.createElement(F,i({hasOneAvailableBnplCardOrMore:!!J.length,offerId:n.offerId},{isMobileExtension:r,onClickDisplayBnplSubscriptionWidget:H,isAvailableBnplCardsAppFeatureEnabled:V}))),V&&R?c.default.createElement(G,i({},{user:X,offer:n,isMobileExtension:r,selectedAvailableBnplCard:R,onClickGoBackInPanelHeader:function(){null==S||S(!1),null==T||T(!1),j(void 0),null==W||W(void 0),(0,O.removeUnfinishedBnplSubscriptionStateInLocalStorage)(P),localStorage.setItem(g.HAS_SEEN_BNPL_CARD_DETAILS_LOCAL_STORAGE_KEY,"true")},closePanelAndLogEvents:s})):null)}function M(e){var t=e.offer,n=e.userBnplTransactionsDataWithSource,r=e.setSelectedAvailableBnplCard,o=(0,d.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.bnplSection.bnplAvailableForOffer.availableBnplCards,a=t.screen.title;return c.default.createElement(be,null,c.default.createElement(Me,null,o.subtitle({merchantName:a})),c.default.createElement(ve,null,n.map((function(e){return c.default.createElement(N,i({key:"createdAt-".concat(e.userBnplTransaction.createdAt),offerId:t.offerId},{userBnplTransactionDataWithSource:e,setSelectedAvailableBnplCard:r}))}))))}function N(e){var t=e.offerId,n=e.userBnplTransactionDataWithSource,r=e.setSelectedAvailableBnplCard,o=(0,d.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.bnplSection.bnplAvailableForOffer.availableBnplCards,a=n.userBnplTransaction,l=a.amount,s=a.createdAt;return l?c.default.createElement(xe,i({},{onClick:function(){!function(e){var t=e.offerId,n={offerId:t,fromScreen:"sideButtonBnplTab"};(0,x.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"openedBnplCardDetails",payload:n}}}),(0,x.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Opened Card Details",properties:n}}})}({offerId:t}),r(n)}}),c.default.createElement(ye,null,c.default.createElement(Ie,{src:m.JOKO_CARD_MINIMIZED_ICON_URL}),c.default.createElement(R,i({},{createdAt:s,amount:l}))),c.default.createElement(j,{text:o.useCardButton,src:m.CHEVRON_RIGHT_THIN_ROUND_ICON_URL})):c.default.createElement(c.default.Fragment,null," ")}function R(e){var t=e.amount,n=e.createdAt,r=(0,d.useLocalizedFormat)(),i=function(e){var t=(0,d.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.bnplSection.bnplAvailableForOffer.availableBnplCards,n=new Date,r=new Date(e),i=n.toDateString()===r.toDateString(),o=new Intl.DateTimeFormat("fr-FR",{hour:"numeric",minute:"numeric"}).format(r);return"".concat(t.dayLabel({isToday:i})," ").concat(o)}(n);if(!(null==t?void 0:t.valueInCents))return null;var o=(0,d.formatCurrencyAmount)({localizedFormat:r,number:t.valueInCents/100});return c.default.createElement(Ee,null,c.default.createElement(P.ContentBoldSubtitle,null,o),c.default.createElement(Ne,null,i))}function j(e){var t=e.text,n=e.src;return c.default.createElement(_e,null,c.default.createElement(P.ContentSemiBoldSubtitle,null,t),c.default.createElement(ke,i({},{src:n})))}function U(e){var t=e.offer,n=e.isMobileExtension,r=(0,d.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.bnplSection.bnplAvailableForOffer.information;return c.default.createElement(Ce,null,c.default.createElement(We,null,r.title),c.default.createElement(Me,null,r.subtitle),c.default.createElement(z,null),c.default.createElement(H,i({offerId:t.offerId},{isMobileExtension:n})))}function z(){var e=(0,d.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.bnplSection.bnplAvailableForOffer.information.exampleSchedule,t=[{src:m.HORIZONTAL_BAR_GREEN_ILLUSTRATION_URL,text:e.today},{src:m.HORIZONTAL_BAR_GRAY_ILLUSTRATION_URL,text:e.inOneMonth},{src:m.HORIZONTAL_BAR_GRAY_ILLUSTRATION_URL,text:e.inTwoMonths}],n=(0,d.useLocalizedFormat)();return c.default.createElement(Se,null,c.default.createElement(P.ContentSemiBoldSubtitle,null,e.title),c.default.createElement(A.RowLeftCenterContainer,{style:{width:"100%"}},t.map((function(e,t){var r=e.src,o=e.text;return c.default.createElement(Oe,{key:t},c.default.createElement(Le,i({},{src:r})),c.default.createElement(Te,null,(0,d.formatCurrencyAmount)({localizedFormat:n,number:50})),c.default.createElement(Te,{style:{color:d.colors.doveGray}},o))}))))}function H(e){var t=e.offerId,n=e.isMobileExtension,r=(0,f.useGetFaqArticleUrl)(),o=c.default.useCallback((function(){!function(e){var t={offerId:e,fromScreen:"sideButtonBnplTab"};(0,x.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"openedBnplFaq",payload:t}}}),(0,x.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Opened FAQ",properties:t}}})}(t);var e=r(S.JOKO_BNPL_FAQ_REFERENCES);d.browserKind===d.Browser.mobileAppWebView?window.location.href=e:window.open(e)}),[t]),a=(0,d.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.bnplSection.bnplAvailableForOffer.information.learnMoreButton;return c.default.createElement(we,i({},{onClick:o,isMobileExtension:n}),c.default.createElement(Re,null,a))}function F(e){var t,n=e.onClickDisplayBnplSubscriptionWidget,r=e.offerId,o=e.isMobileExtension,a=e.isAvailableBnplCardsAppFeatureEnabled,l=e.hasOneAvailableBnplCardOrMore,s=(0,B.useOfferDetailsTabContentContext)(),u=(0,d.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.bnplSection.bnplAvailableForOffer;return!!((null===(t=null==s?void 0:s.displayedOffer)||void 0===t?void 0:t.offerId)&&s.currentWebpageOffer&&s.currentWebpageOffer.offerId&&s.displayedOffer.offerId===s.currentWebpageOffer.offerId)?c.default.createElement(c.default.Fragment,null,a&&l?c.default.createElement("div",{style:{alignSelf:"center",marginTop:"10px"}},c.default.createElement(H,i({},{offerId:r,isMobileExtension:o}))):null,c.default.createElement(w.BlackButton,{isFullWidth:!0,onClick:n},a&&l?u.payInThreeTimesButtonAvailableBnplCards:u.payInThreeTimesButton)):null}function G(e){var t=e.user,n=e.offer,r=e.isMobileExtension,o=e.selectedAvailableBnplCard,a=e.onClickGoBackInPanelHeader,l=e.closePanelAndLogEvents,s=((0,D.usePanelDisplayContext)()||{}).setIsMinimizable,u=(0,d.useHasFeature)(d.Feature.bnplTopBarInMobileBrowserExtension);return c.default.useEffect((function(){u&&(null==s||s(!0))}),[u]),c.default.createElement(Be,null,c.default.createElement(X,i({},{offer:n,onClickGoBackInPanelHeader:a,isMobileExtension:r,closePanelAndLogEvents:l})),"localStorage"===o.source?c.default.createElement("div",{style:{position:"relative",top:"30%",alignSelf:"center"}},c.default.createElement(d.SpinningWheel,{scale:.8,color:d.colors.black})):c.default.createElement(K,i({},{user:t,offer:n,userBnplTransaction:o.userBnplTransaction})))}function X(e){var t=e.offer,n=e.isMobileExtension,r=e.onClickGoBackInPanelHeader,i=e.closePanelAndLogEvents,o=(0,D.usePanelDisplayContext)()||{},a=o.dragEventListeners,l=o.isMinimized,s=o.setIsMinimized,u=a||{},f=u.onDragListener,p=u.onPressListener,g=u.onReleaseListener,b=(0,d.useHasFeature)(d.Feature.bnplTopBarInMobileBrowserExtension),v={offerId:t.offerId,bnplScreenName:d.BnplScreenName.cardReadyScreen},y=function(e){e.stopPropagation()};return c.default.createElement(I.PanelHeaderContainer,{onPointerDown:p,onPointerMove:f,onPointerUp:g,style:{paddingLeft:n?0:h.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING/2}},c.default.createElement(I.PanelHeaderButtonsContainer,{style:{width:"100%",justifyContent:"space-between"}},l?null:c.default.createElement(V,{onClick:r,style:{marginRight:"auto",padding:n?h.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING:h.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING/2}}),n&&b?c.default.createElement(S.BnplHeaderChevronUpDownContainer,{onPointerDown:y,onPointerUp:y,onPointerMove:y,onClick:l?function(e){e.stopPropagation(),e.preventDefault(),null==s||s(!1),(0,x.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"maximizedBnplPanel",payload:v}}}),(0,x.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Maximized Panel",properties:v}}})}:function(e){e.stopPropagation(),e.preventDefault(),null==s||s(!0),(0,x.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"minimizedBnplPanel",payload:v}}}),(0,x.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Minimized Panel",properties:v}}})}},c.default.createElement(S.ChevronUpDownIcon,{isDown:!l})):null,c.default.createElement(I.HeaderIconButton,{src:m.CROSS_BLACK_ICON_URL,onClick:function(){return i("crossIcon")},size:14})))}function K(e){var t,n=e.user,r=e.offer,o=e.userBnplTransaction,a=(0,d.useLocalizedFormat)(),l=(null===(t=null==o?void 0:o.amount)||void 0===t?void 0:t.valueInCents)?(0,d.formatCurrencyAmount)({localizedFormat:a,number:o.amount.valueInCents/100}):void 0,s=(0,T.useCardDetailsRows)({offer:r,user:n,formattedAmount:l,userBnplTransaction:o});return s?c.default.createElement(T.BnplCardDetailsTable,i({offerId:r.offerId},{cardDetailsRows:s})):null}function V(e){var t=e.onClick,n=e.style;return c.default.createElement(De,i({src:m.CHEVRON_RIGHT_THIN_ROUND_ICON_URL},{onClick:t,style:n}))}t.default=function(e){var t=e.offer,n=e.isMobileExtension,r=e.isBnplSectionEnabledForOffer,o=e.closePanelAndLogEvents,a=e.isTemporaryUser,l=e.lastUserBnplTransactionFromBnplSubscriptionWidget;return r&&t?c.default.createElement(W,i({offer:t},{isMobileExtension:n,closePanelAndLogEvents:o,isTemporaryUser:a,lastUserBnplTransactionFromBnplSubscriptionWidget:l})):c.default.createElement(k.BnplUnavailableForOfferSectionContent,null)};var Z,J,Y,Q,q,$,ee,te,ne,re,ie,oe,ae,le,se,ce,ue,de,fe,pe,ge,me,he,be=u.default.div(Z||(Z=r(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n"],["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n"]))),ve=u.default.div(J||(J=r(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n"],["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n"]))),xe=u.default.div(Y||(Y=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    margin-bottom: 8px;\n    padding-bottom: 8px;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n\n    &:not(:last-child) {\n        border-bottom: 1px solid ",";\n    }\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    margin-bottom: 8px;\n    padding-bottom: 8px;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n\n    &:not(:last-child) {\n        border-bottom: 1px solid ",";\n    }\n"])),h.CLICKABLE_ELEMENT_CSS_MIXIN,d.colors.gallery),ye=u.default.div(Q||(Q=r(["\n    display: flex;\n    flex-direction: row;\n"],["\n    display: flex;\n    flex-direction: row;\n"]))),Ee=u.default.div(q||(q=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n"]))),_e=u.default.div($||($=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),Ce=u.default.div(ee||(ee=r(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n"],["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n"]))),Se=u.default.div(te||(te=r(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    margin-bottom: 16px;\n"],["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    margin-bottom: 16px;\n"]))),Oe=u.default.div(ne||(ne=r(["\n    align-items: center;\n    width: 33.3%;\n    margin-top: 8px;\n"],["\n    align-items: center;\n    width: 33.3%;\n    margin-top: 8px;\n"]))),Te=(0,u.default)(P.ContentText)(re||(re=r(["\n    margin-left: 5px;\n    line-height: 140%;\n"],["\n    margin-left: 5px;\n    line-height: 140%;\n"]))),we=u.default.div(ie||(ie=r(["\n    display: flex;\n    align-self: flex-start;\n    ","\n"],["\n    display: flex;\n    align-self: flex-start;\n    ","\n"])),h.CLICKABLE_ELEMENT_CSS_MIXIN),Ae=u.default.div(oe||(oe=r(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    gap: 16px;\n    margin-top: auto;\n    padding-bottom: 16px;\n"],["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    gap: 16px;\n    margin-top: auto;\n    padding-bottom: 16px;\n"]))),Pe=u.default.div(ae||(ae=r(["\n    width: 100%;\n    min-height: 20px;\n    height: fill-available;\n"],["\n    width: 100%;\n    min-height: 20px;\n    height: fill-available;\n"]))),Be=(0,u.default)(A.BaseOverlay)(le||(le=r(["\n    z-index: ",";\n    right: 0;\n    bottom: 0;\n    display: flex;\n    flex-direction: column;\n    background: ",";\n"],["\n    z-index: ",";\n    right: 0;\n    bottom: 0;\n    display: flex;\n    flex-direction: column;\n    background: ",";\n"])),h.HIGHEST_Z_INDEX-1,d.colors.white),Ie=u.default.img(se||(se=r(["\n    height: 30px;\n    object-fit: contain;\n    margin-right: 12px;\n"],["\n    height: 30px;\n    object-fit: contain;\n    margin-right: 12px;\n"]))),De=u.default.img(ce||(ce=r(["\n    width: 10px;\n    height: 14px;\n    object-fit: contain;\n    margin-right: 10px;\n    transform: rotate(180deg);\n    ","\n"],["\n    width: 10px;\n    height: 14px;\n    object-fit: contain;\n    margin-right: 10px;\n    transform: rotate(180deg);\n    ","\n"])),h.CLICKABLE_ELEMENT_CSS_MIXIN),ke=u.default.img(ue||(ue=r(["\n    width: 8px;\n    height: 12px;\n    object-fit: contain;\n    margin-left: 6px;\n"],["\n    width: 8px;\n    height: 12px;\n    object-fit: contain;\n    margin-left: 6px;\n"]))),Le=u.default.div(de||(de=r(["\n    height: 15px;\n    background-image: ",";\n    background-size: contain;\n    background-repeat: no-repeat;\n"],["\n    height: 15px;\n    background-image: ",";\n    background-size: contain;\n    background-repeat: no-repeat;\n"])),(function(e){var t=e.src;return"url(".concat(t,")")})),We=(0,u.default)(P.ContentTitle)(fe||(fe=r(["\n    margin-bottom: 12px;\n"],["\n    margin-bottom: 12px;\n"]))),Me=(0,u.default)(P.ContentSubtitle)(pe||(pe=r(["\n    margin-bottom: 16px;\n"],["\n    margin-bottom: 16px;\n"]))),Ne=(0,u.default)(P.ContentSemiBoldText)(ge||(ge=r(["\n    color: ",";\n"],["\n    color: ",";\n"])),d.colors.doveGray),Re=(0,u.default)(P.ContentSubtitle)(me||(me=r(["\n    text-decoration: underline;\n"],["\n    text-decoration: underline;\n"]))),je=(0,u.default)(P.ContentSubtitle)(he||(he=r(["\n    display: flex;\n    flex-direction: flex-row;\n    align-items: center;\n    gap: 0.8rem;\n"],["\n    display: flex;\n    flex-direction: flex-row;\n    align-items: center;\n    gap: 0.8rem;\n"])))},68001:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(96540)),c=l(n(38267)),u=n(55015),d=n(26368),f=n(46239),p=n(23081),g=n(87105),m=n(97925),h=n(56842),b=n(50934),v=n(10570),x=n(64777),y=n(48403),E=n(78776),_=l(n(29373)),C=l(n(39703));function S(e){var t=e.displayedDate,n=e.isDeletionEnabled,r=e.setIsDeletionEnabled,o=e.setHasDeletionEverBeenEnabled,a=e.onClickDeleteAll,l=e.closeDeletion,c=e.setIsDeleteAllAnimationInProgress,d=e.setUserBrowsedProductWebpages,p=e.panelInnerContainerRef,g=e.isDeleteAllBrowsedProductsPopupOpen,m=e.setIsDeleteAllBrowsedProductsPopupOpen,b=(0,u.useLocalizedTexts)().contentscript.redesign.panel.products.browsedProductsSection,v=(0,h.useDeleteAllBrowsedProductsPopupInnerState)({isDeleteAllBrowsedProductsPopupOpen:g,setIsDeleteAllBrowsedProductsPopupOpen:m,setUserBrowsedProductWebpages:d,panelInnerContainerRef:p,closeDeletion:l,setIsDeleteAllAnimationInProgress:c}),x=v.onClickConfirmDeleteAll,y=v.onClickCancelDeleteAll,C=v.deleteAllBrowsedProductsButtonRef,S=v.deleteAllBrowsedProductsPopupRef;return s.default.createElement(s.default.Fragment,null,s.default.createElement(G,null,s.default.createElement(E.ContentTitle,null,t),n?s.default.createElement($,{ref:C,onClick:a},b.deleteAllButton):s.default.createElement(q,{onClick:function(){r(!0),o(!0),(0,f.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedModifyButtonOnBrowsedProductsSection"}}})}},b.modifyButton)),g?s.default.createElement(_.default,i({},{onClickConfirmDeleteAll:x,onClickCancelDeleteAll:y,setIsDeleteAllBrowsedProductsPopupOpen:m,panelInnerContainerRef:p,deleteAllBrowsedProductsPopupRef:S})):null)}function O(e){var t=e.offer,n=e.isMobileExtension,r=e.browsedProductWebpage,a=e.userBrowsedProductWebpages,l=e.userSavedWebpages,c=e.userSavedWebpagesByUrlMap,u=e.setUserSavedWebpages,d=e.isDeletionEnabled,f=e.hasDeletionEverBeenEnabled,g=e.hasClickedDeleteAll,h=e.selectedProductTimestampsForDeletion,v=e.setSelectedProductTimestampsForDeletion,x=o(e,["offer","isMobileExtension","browsedProductWebpage","userBrowsedProductWebpages","userSavedWebpages","userSavedWebpagesByUrlMap","setUserSavedWebpages","isDeletionEnabled","hasDeletionEverBeenEnabled","hasClickedDeleteAll","selectedProductTimestampsForDeletion","setSelectedProductTimestampsForDeletion"]),E=(0,p.useProductSaving)({webpageUrl:r.webpageUrl,productData:(0,m.formatProductDataFromBrowsedProductWebpage)(r),offer:t,userSavedWebpages:l,setUserSavedWebpages:u,fromComponent:"browsedProductsSection",isFromBrowsedProductsSection:!0}).toggleIsProductSaved,_=(0,m.checkIsBrowsedProductWebpageSaved)(c,r),C=_.isProductSaved,S=_.userSavedWebpage;return s.default.createElement(y.ProductInfoCardAndPriceTrackingGraph,i({productWebpage:r,browsedProductWebpages:a,fromComponent:"browsedProductsSection"},i({isMobileExtension:n,isProductSaved:C,toggleIsProductSaved:E,requestProductUnsave:function(){l&&(0,b.unsaveProductAndLogEvents)(S,l,u)},isDeletionEnabled:d,hasDeletionEverBeenEnabled:f,hasClickedDeleteAll:g,selectedProductTimestampsForDeletion:h,setSelectedProductTimestampsForDeletion:v},x)))}function T(e){var t=e.closeDeletion,n=e.isAtLeastOneProductSelectedForDeletion,r=e.onClickConfirmDeletion,i=(0,u.useLocalizedTexts)().contentscript.redesign.panel.products.browsedProductsSection;return s.default.createElement(J,null,s.default.createElement(ee,{isFullWidth:!0,onClick:r,disabled:!n},i.confirmDeletionButton),s.default.createElement(te,{onClick:function(){t(),(0,f.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedCancelDeleteSelectedBrowsedProducts"}}})}},i.cancelDeletionButton))}function w(){return s.default.createElement(Z,null,s.default.createElement(u.SpinningWheel,{scale:.35,color:u.colors.gray}))}function A(){return s.default.createElement(X,null,s.default.createElement(x.LargeSpinningWheelContainer,null,s.default.createElement(u.SpinningWheel,{scale:.75,color:u.colors.gray})))}function P(){var e=(0,u.useLocalizedTexts)().contentscript.redesign.panel.products.browsedProductsSection;return s.default.createElement(X,null,s.default.createElement(B,null),s.default.createElement(ne,null,e.emptyBrowsedProductsList))}function B(){return s.default.createElement(Y,null,s.default.createElement(Q,null,s.default.createElement(C.default,null)))}t.default=function(e){var t=e.userRegion,n=e.offer,r=e.isMobileExtension,o=e.userSavedWebpages,l=e.setUserSavedWebpages,c=e.userBrowsedProductWebpages,d=e.setUserBrowsedProductWebpages,f=e.blacklistedPriceTrackingDomains,p=e.panelInnerContainerRef,h=(0,u.useLocalizedTexts)().contentscript.redesign.panel.products.browsedProductsSection.dates,v=a(s.default.useState(),2),x=v[0],y=v[1],E=(0,g.useCurrentWebpageFromLastCapturedData)(),_=E.currentWebpage,C=E.productDataFromCurrentWebpage,B=s.default.useMemo((function(){return(0,m.enrichUserBrowsedProductWebpagesListWithDates)({userRegion:t,localizedDateTexts:h,userBrowsedProductWebpages:c})}),[c]),I=(0,m.useBrowsedProductsSectionContentDisplayedDate)(B),D=I.displayedDate,k=I.setDisplayedDate,L=s.default.useRef(null),W=s.default.useRef({}),M=(0,m.useDisplayedBrowsedProductWebpages)({userRegion:t,localizedDateTexts:h,userBrowsedProductWebpagesWithDates:B,scrollableContainerRef:L,browsedProductComponentRefsMap:W,displayedDate:D,setDisplayedDate:k}),N=M.displayedBrowsedProductWebpagesWithDates,R=M.onScrollBrowsedProductWebpagesListContainer,j=(0,m.useBrowsedProductWebpagesDeletion)({userBrowsedProductWebpages:c,setUserBrowsedProductWebpages:d,isMobileExtension:r,panelInnerContainerRef:p}),U=j.isDeletionEnabled,z=j.setIsDeletionEnabled,H=j.hasDeletionEverBeenEnabled,F=j.setHasDeletionEverBeenEnabled,G=j.selectedProductTimestampsForDeletion,Z=j.setSelectedProductTimestampsForDeletion,J=j.onClickConfirmDeletion,Y=j.onClickDeleteAll,Q=j.closeDeletion,q=j.hasClickedDeleteAll,$=j.isDeleteAllAnimationInProgress,ee=j.setIsDeleteAllAnimationInProgress,te=j.isDeleteAllBrowsedProductsPopupOpen,ne=j.setIsDeleteAllBrowsedProductsPopupOpen,re=(0,b.useUserSavedWebpagesByUrlMap)(o);return c&&o?0===N.length?s.default.createElement(P,null):s.default.createElement(s.default.Fragment,null,s.default.createElement(S,i({},{displayedDate:D,isDeletionEnabled:U,setIsDeletionEnabled:z,setHasDeletionEverBeenEnabled:F,onClickDeleteAll:Y,closeDeletion:Q,setIsDeleteAllAnimationInProgress:ee,setUserBrowsedProductWebpages:d,panelInnerContainerRef:p,isDeleteAllBrowsedProductsPopupOpen:te,setIsDeleteAllBrowsedProductsPopupOpen:ne})),s.default.createElement(X,{ref:L,onScroll:R},N.slice(1).map((function(e){return"string"==typeof e?s.default.createElement(K,{key:e},e):s.default.createElement(V,i({key:"".concat(e.webpageUrl,"|").concat(e.timestamp),ref:function(t){return W.current["".concat(e.webpageUrl,"|").concat(e.timestamp)]=t}},{isDeleteAllAnimationInProgress:$}),s.default.createElement(O,i({browsedProductWebpage:e,isCurrentWebpage:(0,u.checkAreSameWebpages)(e,_)},{offer:n,isMobileExtension:r,userBrowsedProductWebpages:c,userSavedWebpages:o,userSavedWebpagesByUrlMap:re,setUserSavedWebpages:l,userRegion:t,productDataFromCurrentWebpage:C,blacklistedPriceTrackingDomains:f,currentlyOpenPriceTrackingGraphWebpageUrl:x,setCurrentlyOpenPriceTrackingGraphWebpageUrl:y,isDeletionEnabled:U,hasDeletionEverBeenEnabled:H,hasClickedDeleteAll:q,selectedProductTimestampsForDeletion:G,setSelectedProductTimestampsForDeletion:Z})))})),N.length<B.length?s.default.createElement(w,null):null),U&&!q?s.default.createElement(T,i({isAtLeastOneProductSelectedForDeletion:G.length>0},{closeDeletion:Q,onClickConfirmDeletion:J})):null):s.default.createElement(A,null)};var I,D,k,L,W,M,N,R,j,U,z,H,F,G=c.default.div(I||(I=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    width: fill-available;\n    height: 40px;\n    margin-top: 8px;\n    padding: 0 ","px;\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    width: fill-available;\n    height: 40px;\n    margin-top: 8px;\n    padding: 0 ","px;\n"])),d.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),X=c.default.div(D||(D=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    box-sizing: border-box;\n    width: fill-available;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    box-sizing: border-box;\n    width: fill-available;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"]))),K=(0,c.default)(E.ContentTitle)(k||(k=r(["\n    padding: 8px ","px;\n"],["\n    padding: 8px ","px;\n"])),d.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),V=c.default.div(L||(L=r(["\n    width: fill-available;\n    opacity: ",";\n    transition: opacity ","s ease-in-out;\n"],["\n    width: fill-available;\n    opacity: ",";\n    transition: opacity ","s ease-in-out;\n"])),(function(e){return e.isDeleteAllAnimationInProgress?0:1}),m.DELETE_ALL_BROWSED_PRODUCTS_ANIMATION_DURATION_IN_SECONDS),Z=(0,c.default)(x.CenteredContainer)(W||(W=r(["\n    width: 100%;\n    height: 70px;\n"],["\n    width: 100%;\n    height: 70px;\n"]))),J=c.default.div(M||(M=r(["\n    position: relative;\n    bottom: 0;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: fill-available;\n    gap: 8px;\n    padding: 12px ","px;\n"],["\n    position: relative;\n    bottom: 0;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: fill-available;\n    gap: 8px;\n    padding: 12px ","px;\n"])),d.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),Y=c.default.div(N||(N=r(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: fill-available;\n    height: 110px;\n    margin: ","px;\n    border-radius: 8px;\n    background: ",";\n"],["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: fill-available;\n    height: 110px;\n    margin: ","px;\n    border-radius: 8px;\n    background: ",";\n"])),d.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,u.colors.alabaster),Q=c.default.div(R||(R=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 60px;\n    height: 60px;\n    gap: 10px;\n    border-radius: 50%;\n    background: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 60px;\n    height: 60px;\n    gap: 10px;\n    border-radius: 50%;\n    background: ",";\n"])),u.colors.white),q=c.default.button(j||(j=r(["\n    padding: 0;\n    background-color: transparent;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    padding: 0;\n    background-color: transparent;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),u.colors.gallery,d.CLICKABLE_ELEMENT_CSS_MIXIN),$=c.default.button(U||(U=r(["\n    padding: 0;\n    background-color: transparent;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n    animation: fadeIn 1s ease-in-out;\n\n    @keyframes fadeIn {\n        0% {\n            opacity: 0;\n        }\n        100% {\n            opacity: 1;\n        }\n    }\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    padding: 0;\n    background-color: transparent;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n    animation: fadeIn 1s ease-in-out;\n\n    @keyframes fadeIn {\n        0% {\n            opacity: 0;\n        }\n        100% {\n            opacity: 1;\n        }\n    }\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),u.colors.gallery,d.CLICKABLE_ELEMENT_CSS_MIXIN),ee=(0,c.default)(v.BlackButton)(z||(z=r(["\n    padding: 0;\n    border: none;\n\n    &:disabled {\n        opacity: 0.4;\n    }\n"],["\n    padding: 0;\n    border: none;\n\n    &:disabled {\n        opacity: 0.4;\n    }\n"]))),te=c.default.button(H||(H=r(["\n    padding: 0;\n    background-color: transparent;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    padding: 0;\n    background-color: transparent;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),u.colors.gallery,d.CLICKABLE_ELEMENT_CSS_MIXIN),ne=(0,c.default)(E.ContentTitle)(F||(F=r(["\n    align-self: center;\n    margin: 0 ","px;\n    color: ",";\n"],["\n    align-self: center;\n    margin: 0 ","px;\n    color: ",";\n"])),d.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,u.colors.black)},1291:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(47175),u=n(32668),d=n(26368),f=n(22991),p=n(4135),g=n(89710),m=n(67441),h=n(23081),b=o(n(43310)),v=n(86829),x=n(10570),y=n(64777),E=o(n(53171)),_=n(62491),C=n(78776),S=n(39838),O=n(25768),T=o(n(1765));function w(e){var t=e.isMobileExtension,n=e.offerId,r=e.setShouldDisplayCashbackNotActivatedIndicator,i=(0,s.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.cashbackSection.cashbackNotActivated,o=(0,s.useHasFeatureByPlatform)({isMobileExtension:t,desktopFeature:s.Feature.sideButtonRedBadgeSnoozingDesktopBrowserExtension,mobileFeature:s.Feature.sideButtonRedBadgeSnoozingMobileBrowserExtension}),l=(0,p.useOnClickSnoozeCashbackNotActivatedIndicator)(n,r);return a.default.createElement(L,null,a.default.createElement(_.RedBadge,null),a.default.createElement(W,null,a.default.createElement(C.ContentBoldSubtitle,null,i.subtitle),a.default.createElement(C.ContentSemiBoldSubtitle,null,i.description)),o?a.default.createElement(M,{onClick:l},a.default.createElement(T.default,null)):null)}function A(e){var t=e.offerDetailsTabContentContext,n=(0,s.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.shopButtonText;if(!t.displayedOffer)return null;var r=t.displayedOffer;return a.default.createElement(N,{onClick:function(){r.website&&((0,g.handleUserInterfaceComponentInteractionInBackgroundOrLoadTrackingLink)({offer:r,triggeringEventType:s.UserInterfaceComponentInteractionEventType.panelOfferSearchResult}),(0,h.logClickedWebsiteLinkEvents)(r.offerId),window.open(r.website,"_blank"))},isFullWidth:!0,isThin:!1},n({offerType:r.type}),a.default.createElement("img",{src:c.REDIRECTION_ICON_URL}))}function P(e){var t=e.currentWebpageOffer,n=e.alternativeOffers,r=(0,s.useUserRegion)(),o=(0,f.useOnClickAlternativeOffer)({currentWebpageOfferId:t.offerId,userInterfaceComponentInteractionEventType:s.UserInterfaceComponentInteractionEventType.panelAlternativeOffersSectionBrowsedAlternativeOffer}),l=(0,u.checkIsOnMobileScreen)();return(0,s.useHasFeatureByPlatform)({isMobileExtension:l,desktopFeature:s.Feature.alternativeOffersInPanelDesktopBrowserExtension,mobileFeature:s.Feature.alternativeOffersInPanelMobileBrowserExtension})&&(0,m.checkCanDisplayAlternativeOffersInPanel)(t)&&(null==n?void 0:n.length)?a.default.createElement("div",{style:{marginTop:"16px"}},a.default.createElement(v.AlternativeOffers,i({},{currentWebpageOffer:t,alternativeOffers:n,onClickAlternativeOffer:o},{userRegion:r}))):a.default.createElement(O.UnavailableCashbackSectionContent,null)}t.default=function(e){var t,n,r=e.userOfferActivationInfo,o=e.shouldDisplayOnetimeOfferCashbackActivatedInfo,l=(0,S.useOfferDetailsTabContentContext)(),c=(0,u.checkIsOnMobileScreen)(),f=(0,p.useCashbackNotActivatedIndicator)({isMobileExtension:c,offerId:null===(t=null==l?void 0:l.displayedOffer)||void 0===t?void 0:t.offerId,offerType:null===(n=null==l?void 0:l.displayedOffer)||void 0===n?void 0:n.type,isOfferActivated:null==l?void 0:l.isOfferActivated}),g=f.shouldDisplayCashbackNotActivatedIndicator,m=f.setShouldDisplayCashbackNotActivatedIndicator;if(!(null==l?void 0:l.displayedOffer))return a.default.createElement(O.UnavailableCashbackSectionContent,null);var h=l.currentWebpageOffer,v=l.displayedOffer,x=l.isDisplayedWithinOfferSearchTab,_=l.isOfferActivated,C=l.isOfferActivationButtonLoading,T=l.onClickActivateOffer,B=l.alternativeOffers,I=h&&h.offerId===v.offerId;switch(v.type){case s.OfferType.Online:return a.default.createElement(y.ContentScrollView,{style:{paddingTop:d.DEFAULT_PANEL_TOP_PADDING}},I&&g?a.default.createElement(w,i({offerId:v.offerId},{isMobileExtension:c,setShouldDisplayCashbackNotActivatedIndicator:m})):null,a.default.createElement(b.default,i({},{isOfferActivated:_,onClickActivateOffer:T,isFullWidth:!0,isLoading:C})),a.default.createElement(E.default,i({},{offer:v,userOfferActivationInfo:r})));case s.OfferType.OneTime:return a.default.createElement(y.ContentScrollView,null,x&&!I?a.default.createElement(A,i({},{offerDetailsTabContentContext:l})):null,a.default.createElement(E.default,i({},{offer:v,userOfferActivationInfo:r,shouldDisplayOnetimeOfferCashbackActivatedInfo:o})));case s.OfferType.NoCashback:return a.default.createElement(P,i({},{alternativeOffers:B},{currentWebpageOffer:v}));default:return a.default.createElement(O.UnavailableCashbackSectionContent,null)}};var B,I,D,k,L=l.default.div(B||(B=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    width: fill-available;\n    margin-bottom: 16px;\n    padding: 8px;\n    border-radius: 8px;\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    width: fill-available;\n    margin-bottom: 16px;\n    padding: 8px;\n    border-radius: 8px;\n    background-color: ",";\n"])),s.colors.sauvignon),W=l.default.div(I||(I=r(["\n    display: flex;\n    flex-direction: column;\n    width: fill-available;\n    gap: 4px;\n    padding: 0 8px;\n"],["\n    display: flex;\n    flex-direction: column;\n    width: fill-available;\n    gap: 4px;\n    padding: 0 8px;\n"]))),M=l.default.button(D||(D=r(["\n    position: relative;\n    top: -4px;\n    padding: 4px;\n    border: none;\n    background-color: transparent;\n    ","\n"],["\n    position: relative;\n    top: -4px;\n    padding: 4px;\n    border: none;\n    background-color: transparent;\n    ","\n"])),d.CLICKABLE_ELEMENT_CSS_MIXIN),N=(0,l.default)(x.BlackButton)(k||(k=r(["\n    align-items: baseline;\n    margin-top: 16px;\n\n    & > img {\n        width: 12px;\n        height: 12px;\n        margin-left: 10px;\n        ","\n    }\n"],["\n    align-items: baseline;\n    margin-top: 16px;\n\n    & > img {\n        width: 12px;\n        height: 12px;\n        margin-left: 10px;\n        ","\n    }\n"])),d.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN)},13238:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(96540)),s=a(n(38267)),c=n(55015),u=n(13093),d=n(47175),f=n(26368),p=n(23081),g=n(10570),m=n(64777),h=n(78776),b=n(39838),v=n(25768),x=n(68136);function y(){return l.default.createElement(V,null,l.default.createElement(c.SpinningWheel,{scale:.35,color:c.colors.gray}))}function E(e){var t=e.coupons,n=e.skippedCoupons,r=e.selectedCoupons,o=e.shouldShowStartCouponApplicationButton,a=e.panelCouponStartButtonStatus,s=e.couponAutomationState,u=e.closePanelAndLogEvents,d=e.offerDetailsTabContentContext,g=(0,c.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.couponsSection.couponsAvailableForOffer,b=r.length;return l.default.createElement(m.ContentScrollView,{style:{paddingTop:f.DEFAULT_PANEL_TOP_PADDING}},l.default.createElement(_,i({},{numberOfAvailableCoupons:b,shouldShowStartCouponApplicationButton:o,panelCouponStartButtonStatus:a,couponAutomationState:s,closePanelAndLogEvents:u,offerDetailsTabContentContext:d})),l.default.createElement(h.ContentBoldSubtitle,{style:{marginTop:!o||a===p.PanelCouponStartButtonStatus.done&&!d.isDisplayedWithinOfferSearchTab||a===p.PanelCouponStartButtonStatus.done&&d.isDisplayedWithinOfferSearchTab&&d.isBrowsingCurrentWebpageOffer?0:16,alignSelf:"flex-start"}},g.title({numberOfAvailableCoupons:b})),l.default.createElement(S,i({currentWebpageOffer:d.currentWebpageOffer},{coupons:t,skippedCoupons:n,selectedCoupons:r})))}function _(e){var t=e.numberOfAvailableCoupons,n=e.shouldShowStartCouponApplicationButton,r=e.panelCouponStartButtonStatus,o=e.couponAutomationState,a=e.closePanelAndLogEvents,s=e.offerDetailsTabContentContext,u=(0,c.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.couponsSection.couponsAvailableForOffer.headerWithAutomationStartButton({numberOfAvailableCoupons:t}),d=r===p.PanelCouponStartButtonStatus.disabled||!s.isBrowsingCurrentWebpageOffer&&s.isDisplayedWithinOfferSearchTab,f=r===p.PanelCouponStartButtonStatus.inProgress&&(!s.isDisplayedWithinOfferSearchTab||s.isDisplayedWithinOfferSearchTab&&s.isBrowsingCurrentWebpageOffer)||r===p.PanelCouponStartButtonStatus.done&&s.isDisplayedWithinOfferSearchTab,g=r===p.PanelCouponStartButtonStatus.done&&(!s.isDisplayedWithinOfferSearchTab||s.isDisplayedWithinOfferSearchTab&&s.isBrowsingCurrentWebpageOffer);return n?l.default.createElement(J,i({},{isAutomationFinished:g}),l.default.createElement(Z,null,l.default.createElement(m.RowSpacedCenterContainer,null,l.default.createElement(x.CoupyWavingElement,null),l.default.createElement(m.ColumnTopLeftContainer,{style:{marginLeft:15}},l.default.createElement(h.ContentBoldSubtitle,{style:{lineHeight:"120%",marginBottom:4}},u.title),l.default.createElement(Y,{style:{lineHeight:"15px"}},d?u.unavailableAutomation:u.availableAutomation)))),l.default.createElement(C,i({},{couponAutomationState:o,closePanelAndLogEvents:a,isDisabled:d,isLoading:f}),!f&&!g||d?u.button:l.default.createElement(c.SpinningWheel,{scale:.3,color:c.colors.white}))):null}function C(e){var t=e.closePanelAndLogEvents,n=e.couponAutomationState,r=e.isDisabled,o=e.isLoading,a=e.children;return l.default.createElement(ce,i({isFullWidth:!0,style:{marginTop:18}},{onClick:function(){(null==n?void 0:n.passive)&&!r&&((0,u.startCouponApplication)(n.passive,"panelOfferDetailsTab"),t("clickStartCouponApplicationPanelButton"))},isDisabled:r,isLoading:o}),a)}function S(e){var t=e.currentWebpageOffer,n=e.coupons,r=e.skippedCoupons,o=e.selectedCoupons;return l.default.createElement(l.default.Fragment,null,o.map((function(e,r){return l.default.createElement(O,i({isLastElement:r===n.length-1,shouldIncludeMargins:!1,key:e.merchantCouponId},{currentWebpageOffer:t,coupon:e}))})),r.length?l.default.createElement(w,i({shouldIncludeMargins:!1},{currentWebpageOffer:t,skippedCoupons:r})):null,n.length?l.default.createElement(re,null):null)}function O(e){var t=e.currentWebpageOffer,n=e.coupon,r=e.isLastElement,o=e.shouldIncludeMargins,a=(0,p.useCopyCoupon)({currentWebpageOffer:t,coupon:n}),s=a.hasBeenCopiedRecently,c=a.onClickCopy,u=n.shouldSkip,f=n.isSelectedForReevaluation;return l.default.createElement(Q,i({},{isLastElement:r,shouldIncludeMargins:o}),l.default.createElement(m.RowSpacedCenterContainer,{style:{width:"100%"}},l.default.createElement(q,{shouldSkip:u&&!f,onClick:c},l.default.createElement(ne,{src:d.COUPON_WITHOUT_PERCENT_ICON_URL,shouldSkip:u&&!f}),l.default.createElement("div",null,n.code),l.default.createElement(P,i({shouldSkip:u&&!f},{hasBeenCopiedRecently:s})))),l.default.createElement(T,i({},{coupon:n})))}function T(e){var t=e.coupon,n=t.displayedInformation,r=n.title,a=n.description,s=t.code,u=o(l.default.useState(!0),2),f=u[0],p=u[1],g=(0,c.useIsTextTruncated)(),m=g.truncationDetectionTargetRef,h=g.isTruncated,b=r&&a?0===r.localeCompare(a):!!r==!!a,v=r&&0===r.localeCompare(s||""),x=h||!b,y=l.default.useCallback((function(){x&&p((function(e){return!e}))}),[x,f]);return!a||v?l.default.createElement("div",{style:{height:6,width:"100%"}}):l.default.createElement(ie,i({onClick:y},{canExpand:x}),l.default.createElement(oe,null,l.default.createElement(le,i({ref:m},{shouldTruncate:f}),r),!a||b?null:l.default.createElement(se,i({},{isCollapsed:f}),a)),!a||b?null:l.default.createElement(ae,null,l.default.createElement(ee,i({src:d.CHEVRON_DOWN_ICON_URL},{isCollapsed:f,canExpand:x}))))}function w(e){var t=e.currentWebpageOffer,n=e.skippedCoupons,r=e.shouldIncludeMargins,a=o(l.default.useState(!0),2),s=a[0],c=a[1];return l.default.createElement(l.default.Fragment,null,l.default.createElement(A,i({},{onClick:function(){return c(!s)},isCollapsed:s,shouldIncludeMargins:r})),s?null:n.map((function(e,o){return l.default.createElement(O,i({isLastElement:o===n.length-1,key:e.merchantCouponId},{currentWebpageOffer:t,coupon:e,shouldIncludeMargins:r}))})))}function A(e){var t=e.onClick,n=e.isCollapsed,r=e.shouldIncludeMargins,o=(0,c.useLocalizedTexts)().contentscript.sideButtonWidget.couponsTab.offerWithCouponInfo;return l.default.createElement($,i({},{onClick:t,shouldIncludeMargins:r}),l.default.createElement(m.RowSpacedCenterContainer,null,l.default.createElement(h.ContentBoldSubtitle,null,o.skippedCouponsCollapseButton.title),l.default.createElement(ee,i({src:d.CHEVRON_DOWN_ICON_URL,canExpand:!0},{isCollapsed:n}))),l.default.createElement(h.ContentSemiBoldSubtitle,null,o.skippedCouponsCollapseButton.subtitle))}function P(e){var t=e.hasBeenCopiedRecently,n=e.shouldSkip;return l.default.createElement(te,i({},{shouldSkip:n},{src:t?d.CHECK_MARK_PURPLE_ICON_URL:d.COPY_BUTTON_PURPLE_ICON_URL}))}t.default=function(e){var t=(0,b.useOfferDetailsTabContentContext)();return(0,p.checkDidCouponsSectionFinishLoading)(e)&&t?e.isCouponsSectionEnabled&&0!==e.coupons.length?l.default.createElement(E,i({},e,{offerDetailsTabContentContext:t})):l.default.createElement(v.UnavailableCouponsSectionContent,null):l.default.createElement(y,null)};var B,I,D,k,L,W,M,N,R,j,U,z,H,F,G,X,K,V=s.default.div(B||(B=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    margin-top: 16px;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    margin-top: 16px;\n"]))),Z=s.default.div(I||(I=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),J=s.default.div(D||(D=r(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: ",";\n    opacity: ",";\n    transition: height 0.3s ease-in-out, opacity 0.3s ease-in-out;\n"],["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: ",";\n    opacity: ",";\n    transition: height 0.3s ease-in-out, opacity 0.3s ease-in-out;\n"])),(function(e){return e.isAutomationFinished?"0px":"110px"}),(function(e){return e.isAutomationFinished?"0":"1"})),Y=(0,s.default)(h.JokoTitle)(k||(k=r(["\n    font-weight: 400;\n    font-size: 13px;\n"],["\n    font-weight: 400;\n    font-size: 13px;\n"]))),Q=s.default.div(L||(L=r(["\n    display: flex;\n    flex-direction: column;\n    width: fill-available;\n    margin: 18px "," 0;\n    padding-bottom: ",";\n    ","\n"],["\n    display: flex;\n    flex-direction: column;\n    width: fill-available;\n    margin: 18px "," 0;\n    padding-bottom: ",";\n    ","\n"])),(function(e){return e.shouldIncludeMargins?"20px":"0"}),(function(e){return e.isLastElement?"0":"12px"}),(function(e){return e.isLastElement?"":"border-bottom: 1px solid #e5e6e9;"})),q=(0,s.default)(h.ContentBoldSubtitle)(W||(W=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding: 4px 8px;\n    border-radius: 4px;\n    background-color: ",";\n    color: ",";\n\n    &:active {\n        opacity: 0.7;\n    }\n\n    ","\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding: 4px 8px;\n    border-radius: 4px;\n    background-color: ",";\n    color: ",";\n\n    &:active {\n        opacity: 0.7;\n    }\n\n    ","\n"])),(function(e){return e.shouldSkip?c.colors.athensGray:c.colors.magnolia}),(function(e){return e.shouldSkip?c.colors.doveGray:c.colors.electricViolet}),f.CLICKABLE_ELEMENT_CSS_MIXIN),$=s.default.div(M||(M=r(["\n    display: flex;\n    flex-direction: column;\n    width: fill-available;\n    margin: 16px "," 0;\n    ","\n"],["\n    display: flex;\n    flex-direction: column;\n    width: fill-available;\n    margin: 16px "," 0;\n    ","\n"])),(function(e){return e.shouldIncludeMargins?"20px":"0"}),f.CLICKABLE_ELEMENT_CSS_MIXIN),ee=s.default.img(N||(N=r(["\n    width: 15px;\n    height: 15px;\n    object-fit: contain;\n    transform: ",";\n    transition: transform 0.1s ease-in-out;\n    ","\n    ","\n    ","\n"],["\n    width: 15px;\n    height: 15px;\n    object-fit: contain;\n    transform: ",";\n    transition: transform 0.1s ease-in-out;\n    ","\n    ","\n    ","\n"])),(function(e){return e.isCollapsed?"rotate(0)":"rotate(180deg)"}),(function(e){return e.canExpand?"":"visibility: hidden;"}),(0,c.getCssFilterFromBlackToTargetColor)(c.ColorName.frenchGray),f.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),te=s.default.img(R||(R=r(["\n    width: 14px;\n    height: 14px;\n    margin-left: 10px;\n    ","\n    ","\n"],["\n    width: 14px;\n    height: 14px;\n    margin-left: 10px;\n    ","\n    ","\n"])),(function(e){return e.shouldSkip?"filter: grayscale(1) brightness(0);":""}),f.CLICKABLE_ELEMENT_CSS_MIXIN),ne=s.default.img(j||(j=r(["\n    width: 12px;\n    height: 12px;\n    margin-right: 8px;\n    ","\n    ","\n"],["\n    width: 12px;\n    height: 12px;\n    margin-right: 8px;\n    ","\n    ","\n"])),(function(e){return!0===e.shouldSkip?"filter: grayscale(100%);":""}),f.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),re=s.default.div(U||(U=r(["\n    min-height: 24px;\n    max-height: 24px;\n"],["\n    min-height: 24px;\n    max-height: 24px;\n"]))),ie=s.default.div(z||(z=r(["\n    display: flex;\n    flex-direction: row;\n    margin-top: 10px;\n    ","\n"],["\n    display: flex;\n    flex-direction: row;\n    margin-top: 10px;\n    ","\n"])),(function(e){return e.canExpand?f.CLICKABLE_ELEMENT_CSS_MIXIN:""})),oe=s.default.div(H||(H=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n"]))),ae=s.default.div(F||(F=r(["\n    display: flex;\n    justify-content: flex-end;\n    flex-shrink: 0;\n    margin-left: 20px;\n"],["\n    display: flex;\n    justify-content: flex-end;\n    flex-shrink: 0;\n    margin-left: 20px;\n"]))),le=(0,s.default)(h.ContentSemiBoldSubtitle)(G||(G=r(["\n    text-align: start;\n    ","\n"],["\n    text-align: start;\n    ","\n"])),(function(e){return e.shouldTruncate?"\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: ".concat(3,";\n    "):""})),se=(0,s.default)(h.ContentSubtitle)(X||(X=r(["\n    display: ",";\n    margin-top: 8px;\n"],["\n    display: ",";\n    margin-top: 8px;\n"])),(function(e){return e.isCollapsed?"none":"block"})),ce=(0,s.default)(g.BlackButton)(K||(K=r(["\n    opacity: ",";\n    transition: opacity 0.3s ease-in-out;\n    cursor: ",";\n"],["\n    opacity: ",";\n    transition: opacity 0.3s ease-in-out;\n    cursor: ",";\n"])),(function(e){return e.isDisabled?"0.4":"1"}),(function(e){var t=e.isDisabled,n=e.isLoading;return t?"not-allowed":n?"default":"pointer"}))},9557:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OfferBrowsingTagContent=void 0;var c=s(n(96540)),u=s(n(38267)),d=n(55015),f=n(7444),p=n(47175),g=n(26368),m=n(46239),h=n(64777),b=n(78776),v=n(38598),x=s(n(71498));function y(e){var t=e.offerBrowsingTags,n=e.setSelectedParentBrowsingTag,r=e.scrollableContentRef,o=e.resetScrollableContentEventListener;return c.default.useEffect((function(){o()}),[]),t?c.default.createElement(H,{ref:r},t.filter((function(e){return null===e.parentTagId})).map((function(e){return c.default.createElement(E,i({key:e.tagId},{browsingTag:e,setSelectedParentBrowsingTag:n}))}))):null}function E(e){var t=e.browsingTag,n=e.setSelectedParentBrowsingTag;return c.default.createElement(F,i({},{onClick:function(){return n(t)}}),c.default.createElement(G,null,c.default.createElement(q,null,t.displayName)))}function _(e){var t=e.isMobileExtension,n=e.selectedParentBrowsingTag,r=e.selectedChildBrowsingTag,o=e.setSelectedChildBrowsingTag,a=(0,d.useLocalizedTexts)().contentscript.redesign.panel.offerSearch;return n?!t&&r?c.default.createElement(X,null,c.default.createElement($,i({},{isGrey:!0},{onClick:function(){return o(void 0)},style:{cursor:"pointer"}}),n.displayName),c.default.createElement($,i({},{isGrey:!0}),"  /  "),c.default.createElement($,null,r.parentTagId?r.displayName:a.defaultParentTagDisplayName)):c.default.createElement(X,null,c.default.createElement($,null,n.displayName)):null}function C(e){var t=e.selectedParentBrowsingTag,n=e.selectedChildBrowsingTag,r=e.setSelectedChildBrowsingTag,i=e.sortedBrowsingTagsToDisplay,o=(0,d.useLocalizedTexts)().contentscript.redesign.panel.offerSearch;O(t,n);var a=c.default.useMemo((function(){return i.map((function(e){return{id:e.tagId,displayedText:e.parentTagId?e.displayName:o.defaultParentTagDisplayName}}))}),[i]),l=c.default.useCallback((function(e){r(i.find((function(t){return t.tagId===e})))}),[i]),s=n&&n.tagId||a[0].id;return c.default.createElement(c.default.Fragment,null,c.default.createElement(K,null,c.default.createElement($,null,t&&t.displayName)),c.default.createElement(V,null,c.default.createElement(x.default,{selectableElements:a,selectedElementId:s,setSelectedElementId:l})))}function S(e){var t=e.sortedBrowsingTagsToDisplay,n=e.selectedParentBrowsingTag,r=e.selectedChildBrowsingTag,o=e.setSelectedChildBrowsingTag;return O(n,r),r?null:c.default.createElement(Z,null,c.default.createElement(_,i({},{isMobileExtension:!1,selectedParentBrowsingTag:n,selectedChildBrowsingTag:r,setSelectedChildBrowsingTag:o})),t.map((function(e,n){return c.default.createElement(J,{key:e.tagId},c.default.createElement(T,i({isMobileExtension:!1},{browsingTag:e,setSelectedChildBrowsingTag:o})),n<t.length-1?c.default.createElement(Y,null):null)})))}function O(e,t){var n=c.default.useRef(!0);c.default.useEffect((function(){if(e&&t&&!n.current){var r=!!t&&!!t.parentTagId,i={tagId:t?t.tagId:e.tagId,parentTagId:r?e.tagId:void 0,isChildTag:r};(0,m.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedOfferTag",payload:i}}}),(0,m.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"Offers - Clicked Offer Tag",properties:i}}})}else n.current=!1}),[t,e])}function T(e){var t=e.browsingTag,n=e.isMobileExtension,r=e.setSelectedChildBrowsingTag,o=(0,d.useLocalizedTexts)().contentscript.redesign.panel.offerSearch;return c.default.createElement(Q,i({},{isMobileExtension:n,onClick:function(){return r(t)}}),c.default.createElement(ee,{style:{flexGrow:1,paddingLeft:g.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING}},t.parentTagId?t.displayName:o.defaultParentTagDisplayName),c.default.createElement(te,{src:p.ARROW_RIGHT_BLACK_ICON_URL}))}t.OfferBrowsingTagContent=function(e){var t=e.isMobileExtension,n=e.emptyQuerySearchResults,r=e.offerBrowsingTags,s=e.selectedParentBrowsingTag,u=e.setSelectedParentBrowsingTag,p=e.selectedChildBrowsingTag,g=e.setSelectedChildBrowsingTag,h=e.closePanelAndLogEvents,b=e.scrollableContentRef,x=e.resetScrollableContentEventListener,E=e.setSelectedOfferSearchResult,O=e.setSelectedOfferDetailsSection,T=function(e,t){var n=c.default.useMemo((function(){if(!e||!t)return[];var n=e.filter((function(e){return e.parentTagId===t.tagId})),r=n.sort((function(e,t){return t.score-e.score}));return a([t],o(r),!1)}),[e,t]);return n}(r,s),w=function(e){var t=e.selectedParentBrowsingTag,n=e.selectedChildBrowsingTag,r=e.sortedBrowsingTagsToDisplay;return c.default.useMemo((function(){return t&&n&&n.tagId!==t.tagId?[n.tagId]:r.map((function(e){return e.tagId}))}),[t,n,r])}({selectedParentBrowsingTag:s,selectedChildBrowsingTag:p,sortedBrowsingTagsToDisplay:T}),A=function(e){var t=e.selectedParentBrowsingTag,n=e.selectedChildBrowsingTag,r=e.sortedBrowsingTagsToDisplay,i=(0,f.useAppFeature)(d.Feature.useInternalOfferTagsInBrowserExtensions);return c.default.useMemo((function(){if(i){var e=t&&n&&n.tagId!==t.tagId?n.internalTagIds:Array.from(r.map((function(e){return e.internalTagIds})).filter((function(e){return void 0!==e})).reduce((function(e,t){var n,r;if(t)try{for(var i=l(t),o=i.next();!o.done;o=i.next()){var a=o.value;e.add(a)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}),new Set));return e&&e.length?e:void 0}}),[t,n,r,i])}({selectedParentBrowsingTag:s,selectedChildBrowsingTag:p,sortedBrowsingTagsToDisplay:T}),P=!!(0,f.useAppFeature)(d.Feature.displayChildrenBrowsingTagsInBrowserExtensions);if(function(e){c.default.useEffect((function(){e&&((0,m.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedOffersByTagsScreen",payload:{tagId:e.tagId}}}}),(0,m.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"Offers - Viewed Offers By Tags Screen",properties:{tagId:e.tagId}}}}))}),[e])}(s),!s)return c.default.createElement(y,i({},{offerBrowsingTags:r,setSelectedParentBrowsingTag:u,scrollableContentRef:b,resetScrollableContentEventListener:x}));var B=c.default.createElement(_,i({},{isMobileExtension:t,selectedParentBrowsingTag:s,selectedChildBrowsingTag:p,setSelectedChildBrowsingTag:g})),I={selectedParentBrowsingTag:s,selectedChildBrowsingTag:p,setSelectedChildBrowsingTag:g,sortedBrowsingTagsToDisplay:T};return c.default.createElement(z,null,P&&T.length>1?t?c.default.createElement(C,i({},I)):c.default.createElement(S,i({},I)):null,!P||t||p||1===T.length?c.default.createElement(v.UserOffersList,i({searchText:"",header:P&&t&&T.length>1?null:B},{selectedParentBrowsingTag:s,internalTagIdsToQuery:A,browsingTagIdsToQuery:w,emptyQuerySearchResults:n,isMobileExtension:t,closePanelAndLogEvents:h,scrollableContentRef:b,resetScrollableContentEventListener:x,setSelectedOfferSearchResult:E,setSelectedOfferDetailsSection:O})):null)};var w,A,P,B,I,D,k,L,W,M,N,R,j,U,z=(0,u.default)(h.ColumnTopLeftContainer)(w||(w=r(["\n    width: fill-available;\n    height: 100%;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    width: fill-available;\n    height: 100%;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"]))),H=u.default.div(A||(A=r(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    column-gap: 12px;\n    row-gap: 12px;\n    width: fill-available;\n    padding: 0 ","px\n        ","px;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    ::-webkit-scrollbar {\n        width: 0; /* Remove scrollbar space */\n        background: transparent; /* Optional: just make scrollbar invisible */\n    }\n"],["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    column-gap: 12px;\n    row-gap: 12px;\n    width: fill-available;\n    padding: 0 ","px\n        ","px;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    ::-webkit-scrollbar {\n        width: 0; /* Remove scrollbar space */\n        background: transparent; /* Optional: just make scrollbar invisible */\n    }\n"])),g.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,g.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),F=(0,u.default)(h.CenteredContainer)(P||(P=r(["\n    height: 80px;\n    border-radius: 8px;\n    background-color: ",";\n    ","\n"],["\n    height: 80px;\n    border-radius: 8px;\n    background-color: ",";\n    ","\n"])),d.colors.athensGray,g.CLICKABLE_ELEMENT_CSS_MIXIN),G=u.default.div(B||(B=r(["\n    z-index: 2;\n    width: fit-content;\n    padding: 3px 6px;\n    border-radius: 4px;\n    box-shadow: -4px 4px ",";\n    background-color: ",";\n"],["\n    z-index: 2;\n    width: fit-content;\n    padding: 3px 6px;\n    border-radius: 4px;\n    box-shadow: -4px 4px ",";\n    background-color: ",";\n"])),d.colors.emerald,d.colors.black),X=(0,u.default)(h.RowLeftCenterContainer)(I||(I=r(["\n    white-space: pre-wrap;\n    margin-bottom: 5px;\n    padding-left: ","px;\n"],["\n    white-space: pre-wrap;\n    margin-bottom: 5px;\n    padding-left: ","px;\n"])),g.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),K=(0,u.default)(h.RowLeftCenterContainer)(D||(D=r(["\n    white-space: pre-wrap;\n    margin-bottom: 5px;\n    padding-left: ","px;\n"],["\n    white-space: pre-wrap;\n    margin-bottom: 5px;\n    padding-left: ","px;\n"])),g.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),V=u.default.div(k||(k=r(["\n    width: fill-available;\n    max-height: 28px;\n    margin: 5px ","px;\n"],["\n    width: fill-available;\n    max-height: 28px;\n    margin: 5px ","px;\n"])),g.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),Z=(0,u.default)(h.ColumnTopLeftContainer)(L||(L=r(["\n    width: 100%;\n    height: 100%;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    ::-webkit-scrollbar {\n        width: 0; /* Remove scrollbar space */\n        background: transparent; /* Optional: just make scrollbar invisible */\n    }\n"],["\n    width: 100%;\n    height: 100%;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    ::-webkit-scrollbar {\n        width: 0; /* Remove scrollbar space */\n        background: transparent; /* Optional: just make scrollbar invisible */\n    }\n"]))),J=(0,u.default)(h.ColumnTopCenterContainer)(W||(W=r(["\n    width: 100%;\n"],["\n    width: 100%;\n"]))),Y=u.default.div({width:"fill-available",height:"2px",margin:"0 ".concat(g.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,"px"),backgroundColor:d.colors.alabaster}),Q=(0,u.default)(h.CenteredContainer)(M||(M=r(["\n    flex-direction: row;\n    width: 100%;\n    height: 54px;\n    ","\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"],["\n    flex-direction: row;\n    width: 100%;\n    height: 54px;\n    ","\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"])),g.CLICKABLE_ELEMENT_CSS_MIXIN,(function(e){return e.isMobileExtension?"":"&:hover {\n        background-color: ".concat(d.colors.alabaster,";\n}   ")}),d.colors.concrete),q=(0,u.default)(d.Ambit)(N||(N=r(["\n    font-weight: 700;\n    font-size: 16px;\n    color: ",";\n"],["\n    font-weight: 700;\n    font-size: 16px;\n    color: ",";\n"])),d.colors.white),$=(0,u.default)(d.Ambit)(R||(R=r(["\n    font-weight: 700;\n    font-size: 20px;\n    color: ",";\n"],["\n    font-weight: 700;\n    font-size: 20px;\n    color: ",";\n"])),(function(e){var t=e.isGrey;return"".concat(t?d.colors.dustyGray:d.colors.black)})),ee=(0,u.default)(b.ContentSemiBoldSubtitle)(j||(j=r(["\n    font-size: 16px;\n"],["\n    font-size: 16px;\n"]))),te=u.default.img(U||(U=r(["\n    width: 12px;\n    height: 12px;\n    object-fit: contain;\n    padding-right: ","px;\n    ","\n"],["\n    width: 12px;\n    height: 12px;\n    object-fit: contain;\n    padding-right: ","px;\n    ","\n"])),g.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,g.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN)},86509:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProductAlternativePlaceholder=t.ProductAlternativeComponent=void 0;var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(80256),u=n(92204),d=n(26368),f=n(38543),p=n(64777),g=n(4624),m=n(51186),h=n(78776),b=o(n(13576));t.ProductAlternativeComponent=function(e){var t,n,r=e.productWebpageWithAssociatedOffer,o=e.rank,l=e.initialProductUrl,d=e.hasLowestPrice,g=e.shouldDisplayBestPriceTag,v=e.isMobileExtension,x=e.fromComponent,y=(0,f.useProductAlternativeInnerState)(r.productWebpage,l,o,d,x),E=y.priceToDisplay,_=y.onClickAlternative,C=(0,u.useImageSource)((null===(t=r.associatedOffer)||void 0===t?void 0:t.screen.logoURL)||""),S=null===(n=r.associatedOffer)||void 0===n?void 0:n.screen.title;return a.default.createElement(A,i({onClick:_},{isMobileExtension:v}),a.default.createElement(p.RowLeftCenterContainer,null,a.default.createElement(c.OfferLogo,{src:C,shouldIncludeMargins:!1}),a.default.createElement(B,null,a.default.createElement(W,null,S),a.default.createElement(h.ContentSubtitle,{style:{color:s.colors.gray}},E))),a.default.createElement(p.RowLeftCenterContainer,null,a.default.createElement(m.BestPriceTag,i({},{shouldDisplayBestPriceTag:g})),a.default.createElement(b.default,null)))},t.ProductAlternativePlaceholder=function(){return a.default.createElement(w,null,a.default.createElement(P,null),a.default.createElement(B,null,a.default.createElement(I,null),a.default.createElement(k,null)),a.default.createElement(L,null))};var v,x,y,E,_,C,S,O,T,w=(0,l.default)(p.RowSpacedCenterContainer)(v||(v=r(["\n    position: relative;\n    width: 100%;\n    padding: 8px 0;\n    border-radius: 6px;\n"],["\n    position: relative;\n    width: 100%;\n    padding: 8px 0;\n    border-radius: 6px;\n"]))),A=(0,l.default)(w)(x||(x=r(["\n    ","\n    ","\n    &:active {\n        background-color: ",";\n    }\n"],["\n    ","\n    ","\n    &:active {\n        background-color: ",";\n    }\n"])),d.CLICKABLE_ELEMENT_CSS_MIXIN,(function(e){return e.isMobileExtension?"":"&:hover {\n                background-color: ".concat(s.colors.alabaster,";\n            }")}),s.colors.concrete),P=(0,l.default)(g.ProductImageContainer)(y||(y=r(["\n    background-color: ",";\n"],["\n    background-color: ",";\n"])),s.colors.athensGray),B=(0,l.default)(p.ColumnTopLeftContainer)(E||(E=r(["\n    margin-right: ","px;\n    text-align: left;\n"],["\n    margin-right: ","px;\n    text-align: left;\n"])),12),I=(0,l.default)(h.ContentSemiBoldText)(_||(_=r(["\n    width: 100px;\n    height: 12px;\n    margin-bottom: 2px;\n    border-radius: 6px;\n    background-color: ",";\n"],["\n    width: 100px;\n    height: 12px;\n    margin-bottom: 2px;\n    border-radius: 6px;\n    background-color: ",";\n"])),s.colors.athensGray),D=(0,l.default)(h.ContentText)(C||(C=r(["\n    width: 100%;\n    margin-bottom: 2px;\n    ","\n"],["\n    width: 100%;\n    margin-bottom: 2px;\n    ","\n"])),d.TRUNCATED_TEXT_CSS_MIXIN),k=(0,l.default)(D)(S||(S=r(["\n    width: 162px;\n    height: 12px;\n    border-radius: 6px;\n    background-color: ",";\n"],["\n    width: 162px;\n    height: 12px;\n    border-radius: 6px;\n    background-color: ",";\n"])),s.colors.athensGray),L=l.default.button(O||(O=r(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-width: 25%;\n    height: 32px;\n    padding: 0;\n    border: 0;\n    border-radius: 60px;\n    background-color: ",";\n    font-family: ",";\n    font-weight: 700;\n    font-size: 14px;\n    color: ",";\n"],["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-width: 25%;\n    height: 32px;\n    padding: 0;\n    border: 0;\n    border-radius: 60px;\n    background-color: ",";\n    font-family: ",";\n    font-weight: 700;\n    font-size: 14px;\n    color: ",";\n"])),s.colors.athensGray,s.fontFamilyAmbit,s.colors.black),W=(0,l.default)(h.ContentSemiBoldSubtitle)(T||(T=r(["\n    margin-bottom: 2px;\n    ","\n"],["\n    margin-bottom: 2px;\n    ","\n"])),d.TRUNCATED_TEXT_CSS_MIXIN)},85826:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProductAlternativesList=void 0;var s=l(n(96540)),c=n(2309),u=l(n(38267)),d=n(55015),f=n(47175),p=n(26368),g=n(23081),m=n(82198),h=n(10570),b=n(64777),v=l(n(51186)),x=n(78776),y=n(86509),E=n(25768);function _(){return s.default.createElement(b.ContentScrollView,null,s.default.createElement(b.LargeSpinningWheelContainer,null,s.default.createElement(d.SpinningWheel,{scale:.75,color:d.colors.gray})))}function C(e){var t=e.offer,n=e.productData,r=e.loadPriceHistoryAndLogEvents,o=e.priceHistory,a=e.lastPriceData,l=e.priceComparisonData,c=e.isPriceHistoryAvailable,u=e.isPriceHistoryLoading,d=e.isWebsiteBlacklistedForPriceTracking,f=e.isProductSaved,m=e.toggleIsProductSaved,h=e.userRegion,x=e.hasPriceComparisonLoadingTimedOut,y=e.shouldDisplayBestPriceTagOnBrowsedProduct,E=e.wasCheaperAlternativeDetected,_=e.shouldDisplayBestPriceTagOnCheapestAlternative,C=e.isMobileExtension,O=e.isPriceComparisonEnabled,w=e.isTemporaryUser;s.default.useEffect((function(){r("panelOfferDetailsTabProductSection")}),[]);var A=window.location.href,P=n.imageUrl,I=n.name,D=n.priceAmount,k=n.priceCurrency,L=s.default.useMemo((function(){return(0,g.getCleanProductName)(I,!0,30)}),[]);return s.default.createElement(s.default.Fragment,null,s.default.createElement(b.ContentScrollView,{style:{paddingTop:p.DEFAULT_PANEL_TOP_PADDING}},s.default.createElement(v.default,i({shouldDisplayBestPriceTag:y,isProductCurrentlyBrowsed:!0},{productTitleToDisplay:L,webpageUrl:A,imageUrl:P,productPriceAmount:D,productPriceCurrency:k,lastPriceData:a})),s.default.createElement(T,i({},{hasPriceComparisonLoadingTimedOut:x,priceComparisonData:l,webpageUrl:A,wasCheaperAlternativeDetected:E,shouldDisplayBestPriceTagOnCheapestAlternative:_,isMobileExtension:C,isPriceComparisonEnabled:O})),s.default.createElement(S,i({},{priceHistory:o,isPriceHistoryAvailable:c,isPriceHistoryLoading:u,isWebsiteBlacklistedForPriceTracking:d,isProductSaved:f,userRegion:h,isMobileExtension:C,isTemporaryUser:w})),s.default.createElement(V,null)),s.default.createElement(B,i({},{productData:n,webpageUrl:A,offer:t,isProductSaved:f,toggleIsProductSaved:m,isMobileExtension:C,isTemporaryUser:w})))}function S(e){var t=e.priceHistory,n=e.isPriceHistoryAvailable,r=e.isPriceHistoryLoading,o=e.isWebsiteBlacklistedForPriceTracking,a=e.isProductSaved,l=e.userRegion,c=e.isMobileExtension,u=e.isTemporaryUser,f=s.default.useMemo((function(){return(0,g.checkIsPriceTrackingDisabled)(l,o)}),[o,l]),p=(0,d.useLocalizedTexts)().contentscript.sideButtonWidget.productTab.priceTracking.title;return f?null:s.default.createElement(U,null,s.default.createElement(x.PanelContentInlineBoldTitle,{style:{marginBottom:4}},p),s.default.createElement(O,i({},{priceHistory:t,isPriceHistoryLoading:r,isPriceHistoryAvailable:n,isProductSaved:a,isWebsiteBlacklistedForPriceTracking:o,isMobileExtension:c,isTemporaryUser:u})))}function O(e){var t=e.priceHistory,n=e.isPriceHistoryLoading,r=e.isPriceHistoryAvailable,o=e.isProductSaved,a=e.isWebsiteBlacklistedForPriceTracking,l=e.isMobileExtension,c=e.isTemporaryUser,u=(0,g.usePriceTrackingUnavailableText)({isProductSaved:o,isWebsiteBlacklistedForPriceTracking:a,isTemporaryUser:c});return t&&t.length>0?s.default.createElement(z,i({},{isPriceHistoryAvailable:r,isPriceHistoryLoading:n}),s.default.createElement(d.PriceTrackingGraph,i({shouldOccupyMaximumWidth:!0},{priceHistory:t}))):n?s.default.createElement(X,{src:f.PRICE_TRACKING_GRAPH_LOADING_PLACEHOLDER_ILLUSTRATION_URL}):s.default.createElement(H,i({},{isTemporaryUser:c,isMobileExtension:l}),u)}function T(e){var t=e.priceComparisonData,n=e.hasPriceComparisonLoadingTimedOut,r=e.webpageUrl,o=e.wasCheaperAlternativeDetected,a=e.shouldDisplayBestPriceTagOnCheapestAlternative,l=e.isMobileExtension,c=e.isPriceComparisonEnabled,u=null==t?void 0:t.productAlternativesWithAssociatedOffers,f=s.default.useMemo((function(){return!u&&!n}),[u,n]),p=(0,d.useLocalizedTexts)().contentscript.sideButtonWidget.productTab.priceComparison.title;return c?s.default.createElement(U,null,s.default.createElement(x.PanelContentInlineBoldTitle,{style:{marginBottom:4}},p),(0,g.checkShouldDisplayPriceComparisonAlternatives)(u,n)?s.default.createElement(w,i({},{productAlternativesWithAssociatedOffers:u,webpageUrl:r,wasCheaperAlternativeDetected:o,shouldDisplayBestPriceTagOnCheapestAlternative:a,isMobileExtension:l,fromComponent:"productSection"})):f||!n?s.default.createElement(A,null):s.default.createElement(P,null)):null}function w(e){var t=e.productAlternativesWithAssociatedOffers,n=e.webpageUrl,r=e.wasCheaperAlternativeDetected,o=e.shouldDisplayBestPriceTagOnCheapestAlternative,a=e.isMobileExtension,l=e.fromComponent;return s.default.createElement(s.default.Fragment,null,t.map((function(e,t){return s.default.createElement(y.ProductAlternativeComponent,i({key:e.productWebpage.webpageUrl},{productWebpageWithAssociatedOffer:e,rank:t+1,initialProductUrl:n,hasLowestPrice:0===t&&r,shouldDisplayBestPriceTag:0===t&&o,isMobileExtension:a,fromComponent:l}))})))}function A(){return s.default.createElement(s.default.Fragment,null,s.default.createElement(y.ProductAlternativePlaceholder,null),s.default.createElement(y.ProductAlternativePlaceholder,null))}function P(){var e=(0,d.useLocalizedTexts)().contentscript.sideButtonWidget.productTab.priceComparison.noPriceComparisonMessage;return s.default.createElement(F,null,e)}function B(e){var t=e.isProductSaved,n=e.toggleIsProductSaved,r=e.isMobileExtension,o=e.isTemporaryUser,l=a(s.default.useState(!1),2),c=l[0],u=l[1];return o?null:s.default.createElement(G,i({},{isMobileExtension:r}),s.default.createElement(K,i({onClick:function(){c||(u(!0),setTimeout((function(){u(!1),n()}),500))},isFullWidth:!0},{isMobileExtension:r,isProductSaved:t,isLoading:c}),s.default.createElement(I,i({},{isLoading:c,isProductSaved:t}))))}function I(e){var t=e.isLoading,n=e.isProductSaved,r=(0,d.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.productSection.productAvailableForWebpage.saveButton;return t?s.default.createElement(c.TailSpin,{width:24,height:24,color:n?d.colors.black:d.colors.white}):n?s.default.createElement(s.default.Fragment,null,r.productSaved):s.default.createElement(s.default.Fragment,null,r.saveProduct)}t.default=function(e){var t=e.productData,n=e.isTemporaryUser,r=o(e,["productData","isTemporaryUser"]);return r.isProductDataLoaded?(0,m.checkIsProductWebpageFromProductData)(t)?s.default.createElement(C,i({},{productData:t,isTemporaryUser:n},r)):s.default.createElement(E.UnavailableProductSectionContent,null):s.default.createElement(_,null)},t.ProductAlternativesList=w;var D,k,L,W,M,N,R,j,U=u.default.div(D||(D=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 100%;\n    margin-top: 16px;\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 100%;\n    margin-top: 16px;\n"]))),z=(0,u.default)(b.ColumnTopCenterContainer)(k||(k=r(["\n    flex-direction: column;\n    width: 100%;\n    height: ","px;\n    transition: height 0.3s;\n"],["\n    flex-direction: column;\n    width: 100%;\n    height: ","px;\n    transition: height 0.3s;\n"])),(function(e){var t=e.isPriceHistoryAvailable,n=e.isPriceHistoryLoading;return t||n?120:20})),H=(0,u.default)(x.ContentSemiBoldSubtitle)(L||(L=r(["\n    ",";\n    margin-bottom: 6px;\n"],["\n    ",";\n    margin-bottom: 6px;\n"])),(function(e){var t=e.isMobileExtension,n=e.isTemporaryUser;return!t&&n?"width: 90%":""})),F=(0,u.default)(x.ContentSubtitle)(W||(W=r(["\n    font-weight: 600;\n    line-height: 20px;\n"],["\n    font-weight: 600;\n    line-height: 20px;\n"]))),G=u.default.div(M||(M=r(["\n    position: fixed;\n    top: ","px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    width: fill-available;\n    height: 56px;\n    margin: 0 ","px;\n    border-radius: 30% 30% 0 0;\n    background-color: ",";\n"],["\n    position: fixed;\n    top: ","px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    width: fill-available;\n    height: 56px;\n    margin: 0 ","px;\n    border-radius: 30% 30% 0 0;\n    background-color: ",";\n"])),(function(e){return(e.isMobileExtension?p.MOBILE_PANEL_HEIGHT:p.DESKTOP_PANEL_HEIGHT)-p.TAB_SELECTOR_HEIGHT-16-40}),p.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,d.colors.white),X=u.default.img(N||(N=r(["\n    width: 100%;\n    min-height: 120px;\n    object-fit: cover;\n    ","\n"],["\n    width: 100%;\n    min-height: 120px;\n    object-fit: cover;\n    ","\n"])),p.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),K=(0,u.default)(h.WhiteButtonWithBlackBorder)(R||(R=r(["\n    background-color: ",";\n    color: ",";\n    ","\n\n    &:hover {\n        ","\n    }\n"],["\n    background-color: ",";\n    color: ",";\n    ","\n\n    &:hover {\n        ","\n    }\n"])),(function(e){return e.isProductSaved?d.colors.white:d.colors.black}),(function(e){return e.isProductSaved?d.colors.black:d.colors.white}),p.CLICKABLE_ELEMENT_CSS_MIXIN,(function(e){var t=e.isMobileExtension,n=e.isProductSaved,r=e.isLoading;return t?"":n?r?"":"border-color: ".concat(d.colors.flamingo,"; \n                    color: ").concat(d.colors.flamingo,";"):""})),V=u.default.div(j||(j=r(["\n    width: 100%;\n    min-height: 60px;\n    max-height: 60px;\n    margin-top: 8px;\n"],["\n    width: 100%;\n    min-height: 60px;\n    max-height: 60px;\n    margin-top: 8px;\n"])))},82646:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(96540)),c=l(n(38267)),u=n(55015),d=n(26368),f=n(87105),p=n(50934),g=n(64777),m=n(48403),h=n(78776);function b(e){var t=e.isMobileExtension,n=e.savedWebpage,r=e.userSavedWebpages,a=e.setUserSavedWebpages,l=o(e,["isMobileExtension","savedWebpage","userSavedWebpages","setUserSavedWebpages"]),c=(0,p.useUnsaveProduct)({userSavedWebpage:n,userSavedWebpages:r,setUserSavedWebpages:a}),u=c.isProductBeingUnsaved,d=c.hasDeletionAnimationStarted,f=c.requestProductUnsave,g=c.cancelUnsaveProduct;return s.default.createElement(s.default.Fragment,null,u?s.default.createElement(v,i({},{isMobileExtension:t,cancelUnsaveProduct:g,hasDeletionAnimationStarted:d})):s.default.createElement(m.ProductInfoCardAndPriceTrackingGraph,i({productWebpage:n,fromComponent:"savedProductsSection",isProductSaved:!0},i({requestProductUnsave:f,isMobileExtension:t},l))))}function v(e){var t=e.isMobileExtension,n=e.cancelUnsaveProduct,r=e.hasDeletionAnimationStarted,o=(0,u.useLocalizedTexts)().contentscript.redesign.panel.products.savedProductsSection.cancelUnsaveProductButton;return s.default.createElement(P,i({onClick:n},{isMobileExtension:t,hasDeletionAnimationStarted:r}),s.default.createElement(D,null,o.unsaveConfirmationMessage),s.default.createElement(I,null,o.cancelUnsaveMessage))}function x(){return s.default.createElement(B,null,s.default.createElement(u.SpinningWheel,{scale:.35,color:u.colors.gray}))}function y(){return s.default.createElement(A,null,s.default.createElement(g.LargeSpinningWheelContainer,null,s.default.createElement(u.SpinningWheel,{scale:.75,color:u.colors.gray})))}function E(){var e=(0,u.useLocalizedTexts)().contentscript.redesign.panel.products.savedProductsSection;return s.default.createElement(A,null,s.default.createElement(k,null,e.emptySavedProductsList))}t.default=function(e){var t=e.userSavedWebpages,n=e.isMobileExtension,r=e.panelInnerContainerRef,o=e.setUserSavedWebpages,l=e.offer,c=e.userRegion,d=e.blacklistedPriceTrackingDomains,g=a(s.default.useState(),2),m=g[0],h=g[1],v=(0,f.useCurrentWebpageFromLastCapturedData)(),_=v.currentWebpage,C=v.productDataFromCurrentWebpage,S=s.default.useMemo((function(){if(t)return t.sort((function(e,t){return new Date(t.savedAt||0).getTime()-new Date(e.savedAt||0).getTime()}))}),[t]),O=(0,p.useDisplayedSavedWebpages)(S),T=O.displayedUserSavedWebpages,w=O.onScrollWebpagesListContainer;return S?0===T.length?s.default.createElement(E,null):s.default.createElement(A,{onScroll:w},T.map((function(e){return s.default.createElement(b,i({key:e.webpageUrl,isCurrentWebpage:(0,u.checkAreSameWebpages)(e,_),userSavedWebpages:S},{isMobileExtension:n,panelInnerContainerRef:r,savedWebpage:e,setUserSavedWebpages:o,offer:l,userRegion:c,productDataFromCurrentWebpage:C,blacklistedPriceTrackingDomains:d,currentlyOpenPriceTrackingGraphWebpageUrl:m,setCurrentlyOpenPriceTrackingGraphWebpageUrl:h}))})),t&&T.length<t.length?s.default.createElement(x,null):null):s.default.createElement(y,null)};var _,C,S,O,T,w,A=c.default.div(_||(_=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    box-sizing: border-box;\n    width: fill-available;\n    padding-top: ","px;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    box-sizing: border-box;\n    width: fill-available;\n    padding-top: ","px;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),d.DEFAULT_PANEL_TOP_PADDING),P=(0,c.default)(g.CenteredContainer)(C||(C=r(["\n    position: relative;\n    flex-direction: column;\n    width: fill-available;\n    min-height: 56px;\n    gap: 8px;\n    margin: 0 ","px;\n    padding: 8px 16px;\n    border-radius: 10px;\n    background-color: ",";\n    ","\n    transition: left ","ms ease;\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"],["\n    position: relative;\n    flex-direction: column;\n    width: fill-available;\n    min-height: 56px;\n    gap: 8px;\n    margin: 0 ","px;\n    padding: 8px 16px;\n    border-radius: 10px;\n    background-color: ",";\n    ","\n    transition: left ","ms ease;\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"])),d.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,u.colors.alabaster,(function(e){var t=e.hasDeletionAnimationStarted,n=e.isMobileExtension;return t?"left:".concat(n?window.innerWidth:d.DESKTOP_PANEL_AND_WIDGET_WIDTH,"px"):"left: 0;"}),p.UNSAVE_PRODUCT_ANIMATION_DURATION_IN_MS,d.CLICKABLE_ELEMENT_CSS_MIXIN,u.colors.concrete),B=(0,c.default)(g.CenteredContainer)(S||(S=r(["\n    width: 100%;\n    height: 70px;\n"],["\n    width: 100%;\n    height: 70px;\n"]))),I=c.default.button(O||(O=r(["\n    padding: 0;\n    background-color: transparent;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    padding: 0;\n    background-color: transparent;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),u.colors.gallery,d.CLICKABLE_ELEMENT_CSS_MIXIN),D=(0,c.default)(h.ContentBoldSubtitle)(T||(T=r(["\n    line-height: 15px;\n    color: ",";\n"],["\n    line-height: 15px;\n    color: ",";\n"])),u.colors.black),k=(0,c.default)(u.Ambit)(w||(w=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    height: 100%;\n    margin: 0 ","px;\n    font-weight: 600;\n    font-size: 15px;\n    line-height: 24px;\n    text-align: left;\n    color: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    height: 100%;\n    margin: 0 ","px;\n    font-weight: 600;\n    font-size: 15px;\n    line-height: 24px;\n    text-align: left;\n    color: ",";\n"])),d.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,u.colors.black)},25768:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BnplUnavailableForOfferSectionContent=t.UnavailableProductSectionContent=t.UnavailableCouponsSectionContent=t.UnavailableCashbackSectionContent=void 0;var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(47175),u=n(26368),d=n(89710),f=n(23081),p=n(86263),g=o(n(43310)),m=n(10570),h=n(64777),b=n(78776),v=n(39838);function x(e){var t=e.sectionTexts,n=e.iconElement,r=(0,v.useOfferDetailsTabContentContext)();return a.default.createElement(h.ContentScrollView,null,a.default.createElement(B,null,a.default.createElement(I,null,n)),a.default.createElement(D,null,a.default.createElement(b.ContentTitle,{style:{marginBottom:5,textAlign:"center"}},t.title),a.default.createElement(R,null,t.subtitle)),(null==r?void 0:r.isDisplayedWithinOfferSearchTab)&&!r.isBrowsingCurrentWebpageOffer?a.default.createElement(y,i({},{offerDetailsTabContentContext:r})):null)}function y(e){var t=e.offerDetailsTabContentContext,n=(0,s.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.shopButtonText;if(!t.displayedOffer)return null;var r=t.currentWebpageOffer,o=t.displayedOffer,l=t.isOfferActivated,u=t.onClickActivateOffer,m=t.isOfferActivationButtonLoading,h={marginTop:"auto",marginBottom:"1rem"},b=r&&r.offerId===o.offerId;return a.default.createElement(a.default.Fragment,null,o.type===s.OfferType.NoCashback?a.default.createElement(k,i({onClick:function(){(0,f.checkIsEnrichedMerchantOffer)(o)&&o.personalizedAffiliateLink?((0,p.logClickedOfferEvents)(o.offerId,o.type),(0,d.handleUserInterfaceComponentInteractionInBackground)(i(i({},o),{triggeringEventType:s.UserInterfaceComponentInteractionEventType.panelOfferSearchResult,shouldOpenAffiliateLinkInNewActiveTab:!0}))):o.website&&((0,f.logClickedWebsiteLinkEvents)(o.offerId),window.open(o.website,"_blank"))},isFullWidth:!0,isThin:!1},{style:h}),n({offerType:o.type}),b?null:a.default.createElement("img",{src:c.REDIRECTION_ICON_URL})):a.default.createElement(g.default,i({},{style:h,isOfferActivated:l,onClickActivateOffer:u,isFullWidth:!0,isLoading:m})))}t.UnavailableCashbackSectionContent=function(){var e=(0,s.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.cashbackSection.cashbackUnavailableForOffer;return a.default.createElement(x,i({iconElement:a.default.createElement(L,{src:c.LOGO_WHITE_IMAGE_URL})},{sectionTexts:e}))},t.UnavailableCouponsSectionContent=function(){var e=(0,s.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.couponsSection.couponsUnavailableForOffer;return a.default.createElement(x,i({iconElement:a.default.createElement(W,{src:c.COUPON_WHITE_ICON_URL})},{sectionTexts:e}))},t.UnavailableProductSectionContent=function(){var e=(0,s.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.productSection.productUnavailableForWebpage;return a.default.createElement(x,i({iconElement:a.default.createElement(M,{src:c.SHOPPING_BAG_ICON_URL})},{sectionTexts:e}))},t.BnplUnavailableForOfferSectionContent=function(){var e=(0,s.useLocalizedTexts)().contentscript.redesign.panel.offerDetails.bnplSection.bnplUnavailableForOffer;return a.default.createElement(x,i({iconElement:a.default.createElement(N,{src:c.THREE_TIMES_ICON_URL})},{sectionTexts:e}))};var E,_,C,S,O,T,w,A,P,B=(0,l.default)(h.CenteredContainer)(E||(E=r(["\n    width: fill-available;\n    height: 100px;\n    margin-top: 20px;\n    border-radius: 8px;\n    background-color: ",";\n"],["\n    width: fill-available;\n    height: 100px;\n    margin-top: 20px;\n    border-radius: 8px;\n    background-color: ",";\n"])),s.colors.athensGray),I=(0,l.default)(h.CenteredContainer)(_||(_=r(["\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    background-color: ",";\n"],["\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    background-color: ",";\n"])),s.colors.gallery),D=(0,l.default)(h.ColumnTopCenterContainer)(C||(C=r(["\n    margin-top: 16px;\n    text-align: center;\n"],["\n    margin-top: 16px;\n    text-align: center;\n"]))),k=(0,l.default)(m.BlackButton)(S||(S=r(["\n    align-items: baseline;\n\n    & > img {\n        width: 12px;\n        height: 12px;\n        margin-left: 10px;\n        ","\n    }\n"],["\n    align-items: baseline;\n\n    & > img {\n        width: 12px;\n        height: 12px;\n        margin-left: 10px;\n        ","\n    }\n"])),u.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),L=l.default.img(O||(O=r(["\n    width: 30px;\n    height: 30px;\n    ","\n"],["\n    width: 30px;\n    height: 30px;\n    ","\n"])),u.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),W=l.default.img(T||(T=r(["\n    width: 22px;\n    height: 16px;\n    ","\n"],["\n    width: 22px;\n    height: 16px;\n    ","\n"])),u.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),M=l.default.img(w||(w=r(["\n    width: 20px;\n    height: 20px;\n    filter: invert(1);\n    ","\n"],["\n    width: 20px;\n    height: 20px;\n    filter: invert(1);\n    ","\n"])),u.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),N=(0,l.default)(W)(A||(A=r(["\n    filter: invert(1);\n"],["\n    filter: invert(1);\n"]))),R=(0,l.default)(b.ContentSubtitle)(P||(P=r(["\n    text-align: center;\n    color: ",";\n"],["\n    text-align: center;\n    color: ",";\n"])),s.colors.doveGray)},29373:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DESKTOP_PRODUCT_SETTINGS_POPUP_HEIGHT=void 0;var o=i(n(96540)),a=i(n(38267)),l=n(55015),s=n(26368),c=n(64777),u=n(78776),d=i(n(1765)),f=i(n(9247));t.default=function(e){var t=e.onClickConfirmDeleteAll,n=e.onClickCancelDeleteAll,r=e.deleteAllBrowsedProductsPopupRef,i=(0,l.useLocalizedTexts)().contentscript.redesign.panel.products.browsedProductsSection.deleteAllBrowsedProductsBottomSheet;return o.default.createElement(h,{ref:r},o.default.createElement(b,null,o.default.createElement(v,{onClick:t,style:{borderBottom:"1px solid ".concat(l.colors.gallery)}},o.default.createElement(f.default,null),o.default.createElement(u.ContentSemiBoldSubtitle,null,i.confirmDeleteAllButton)),o.default.createElement(v,{onClick:n},o.default.createElement(d.default,null),o.default.createElement(u.ContentSemiBoldSubtitle,null,i.cancelDeleteAllButton))))},t.DESKTOP_PRODUCT_SETTINGS_POPUP_HEIGHT=40;var p,g,m,h=a.default.div(p||(p=r(["\n    position: relative;\n    z-index: ",";\n    right: 16px;\n"],["\n    position: relative;\n    z-index: ",";\n    right: 16px;\n"])),s.HIGHEST_Z_INDEX+1),b=(0,a.default)(c.ColumnTopLeftContainer)(g||(g=r(["\n    position: absolute;\n    border: 1px solid #e5e6e9;\n    border-radius: 12px;\n    box-shadow: 0 1px 1px rgba(0, 0, 0, 8%), 0 2px 1px rgba(0, 0, 0, 6%),\n        0 1px 3px rgba(0, 0, 0, 10%);\n    background-color: ",";\n"],["\n    position: absolute;\n    border: 1px solid #e5e6e9;\n    border-radius: 12px;\n    box-shadow: 0 1px 1px rgba(0, 0, 0, 8%), 0 2px 1px rgba(0, 0, 0, 6%),\n        0 1px 3px rgba(0, 0, 0, 10%);\n    background-color: ",";\n"])),l.colors.white),v=a.default.button(m||(m=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    width: fill-available;\n    gap: 12px;\n    padding: 12px;\n    border: none;\n    background-color: transparent;\n    white-space: nowrap;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    width: fill-available;\n    gap: 12px;\n    padding: 12px;\n    border: none;\n    background-color: transparent;\n    white-space: nowrap;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),s.CLICKABLE_ELEMENT_CSS_MIXIN)},67438:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(96540)),c=l(n(38267)),u=n(55015),d=l(n(65903)),f=a(n(94126)),p=l(n(22766)),g=l(n(54193)),m=n(59674);t.default=function(e){var t=e.onClickConfirmDeleteAll,n=e.onClickCancelDeleteAll,r=e.deleteAllBrowsedProductsPopupRef,i=(0,u.useLocalizedTexts)().designSystem.contentscript.redesign.panel.products.browsedProductsSection.deleteAllBrowsedProductsBottomSheet;return s.default.createElement(s.default.Fragment,null,s.default.createElement(v,null),s.default.createElement(x,{ref:r},s.default.createElement(d.default,null,s.default.createElement(f.default,{menuType:f.MenuType.webView,menuItemState:f.MenuItemState.active,title:i.confirmDeleteAllButton,icon:p.default,onClick:t,shouldAddBottomBorder:!0}),s.default.createElement(f.default,{menuType:f.MenuType.webView,menuItemState:f.MenuItemState.active,title:i.cancelDeleteAllButton,icon:g.default,onClick:n}))))};var h,b,v=c.default.div(h||(h=r(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: transparent;\n"],["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: transparent;\n"]))),x=c.default.div(b||(b=r(["\n    position: relative;\n    z-index: ",";\n    right: 32px;\n"],["\n    position: relative;\n    z-index: ",";\n    right: 32px;\n"])),m.HIGHEST_Z_INDEX+1)},2928:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(17621),u=n(26368),d=n(76764),f=n(78776),p=o(n(3757));t.default=function(e){var t=e.offerId,n=e.websiteName,r=(0,d.useSnoozingConfirmationWidgetInnerState)(t),o=r.isWidgetDisplayed,l=r.hasSnoozedAllWebsites,s=r.onClickSnoozeForAllWebsitesButton,u=r.onClickWidgetHeaderCloseButton;return a.default.createElement(p.default,i({widgetContentId:c.JokoExtensionElement.snoozingConfirmationWidget,shouldDisableMobileScrolling:!0,shouldHideSnoozeSettingsButton:!0},{isWidgetDisplayed:o,onClickWidgetHeaderCloseButton:u},{mobileBaseHeight:g}),a.default.createElement(m,i({},{websiteName:n,hasSnoozedAllWebsites:l,onClickSnoozeForAllWebsitesButton:s})))};var g=146;function m(e){var t=e.websiteName,n=e.hasSnoozedAllWebsites,r=e.onClickSnoozeForAllWebsitesButton,i=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.snoozingConfirmationWidget;return a.default.createElement(y,null,a.default.createElement(E,null,i.title),n?a.default.createElement(_,null,i.snoozeForAllWebsitesConfirmation):a.default.createElement(a.default.Fragment,null,a.default.createElement(_,null,i.snoozeForCurrentWebsiteConfirmation({websiteName:t?t[0].toUpperCase()+t.slice(1):void 0})),a.default.createElement(C,{onClick:r},i.snoozeForAllWebsitesButton)))}var h,b,v,x,y=l.default.div(h||(h=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: 100%;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: 100%;\n"]))),E=(0,l.default)(f.ContentBoldSubtitle)(b||(b=r(["\n    font-size: 15px;\n    line-height: 19px;\n    color: ",";\n"],["\n    font-size: 15px;\n    line-height: 19px;\n    color: ",";\n"])),s.colors.black),_=(0,l.default)(f.ContentSubtitle)(v||(v=r(["\n    margin-top: 2px;\n    line-height: 19px;\n    color: ",";\n"],["\n    margin-top: 2px;\n    line-height: 19px;\n    color: ",";\n"])),s.colors.doveGray),C=(0,l.default)(f.ContentSemiBoldSubtitle)(x||(x=r(["\n    margin-top: 12px;\n    line-height: 17px;\n    text-decoration: underline;\n    text-underline-offset: 2px;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    margin-top: 12px;\n    line-height: 17px;\n    text-decoration: underline;\n    text-underline-offset: 2px;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),u.CLICKABLE_ELEMENT_CSS_MIXIN)},87881:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=n(12233),l=i(n(99584)),s=i(n(2928));t.default=function(e){var t=e.offerId,n=e.websiteName;return(0,a.useIsDesignSystemModeActivated)().isDesignSystemModeActivated?o.default.createElement(l.default,r({},{offerId:t,websiteName:n})):o.default.createElement(s.default,r({},{offerId:t,websiteName:n}))}},3757:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(12233),u=n(45138),d=n(17436),f=n(47175),p=n(26368),g=n(94700),m=n(64777),h=o(n(4956)),b=o(n(84355));function v(e){var t=e.isMobileExtension,n=e.widgetContentId,r=e.widgetInnerContainerRef,o=e.onClickWidgetHeaderCloseButton,l=e.offer,c=e.shouldHideSnoozeSettingsButton,u=e.shouldHideCloseButton,d=(0,s.useHasFeatureByPlatform)({isMobileExtension:t,desktopFeature:s.Feature.snoozeSettingsButtonDesktopBrowserExtension,mobileFeature:s.Feature.snoozeSettingsButtonMobileBrowserExtension});return a.default.createElement(B,null,a.default.createElement(I,{src:f.LOGO_WITH_TITLE_IMAGE_URL}),a.default.createElement(D,null,s.browserKind!==s.Browser.mobileAppWebView&&d&&!c?a.default.createElement(h.default,i({},{offer:l,openingSource:n,closingActionOnSnoozing:{source:"widget",closeWidget:o},widgetInnerContainerRef:r,shouldHideCloseButton:u})):null,u?null:a.default.createElement(k,i({src:f.CROSS_BLACK_ICON_URL,onClick:o},{isMobileExtension:t}))))}t.default=function(e){var t=e.widgetContentId,n=e.isWidgetDisplayed,r=e.onClickWidgetHeaderCloseButton,o=e.offer,l=e.shouldHideSnoozeSettingsButton,s=e.shouldDisableMobileScrolling,d=e.shouldDimBackground,f=e.shouldCenterWidgetOnDesktop,p=e.shouldHideHeader,m=e.shouldHideCloseButton,h=e.mobileBaseHeight,b=e.bodyStyle,x=e.children,y=e.customWidgetContainerStyle,E=(0,g.useWidgetContainerInnerState)(t,s),_=E.onWidgetTransitionEnd,C=E.height,S=E.elementId,O=E.handleMountedWidgetInnerContainer,T=E.widgetInnerContainerRef,w=E.isMobileExtension,B=(0,c.useIsDesignSystemModeActivated)().isDesignSystemModeActivated;return a.default.createElement(a.default.Fragment,null,d?a.default.createElement(A,i({},{isWidgetDisplayed:n})):null,a.default.createElement(P,i({id:S,onLoad:O,onTransitionEnd:function(e){return _(e,n)},style:y},{isMobileExtension:w,isWidgetDisplayed:n,height:C,mobileBaseHeight:h,shouldCenterWidgetOnDesktop:f}),a.default.createElement(L,{ref:T},B?a.default.createElement(a.default.Fragment,null,p?null:a.default.createElement(u.DesignSystemWidgetHeader,i({},{isMobileExtension:w,widgetContentId:t,widgetInnerContainerRef:T,onClickWidgetHeaderCloseButton:r,offer:o,shouldHideSnoozeSettingsButton:l,shouldHideCloseButton:m})),a.default.createElement(M,{style:b},x)):a.default.createElement(a.default.Fragment,null,p?null:a.default.createElement(v,i({},{isMobileExtension:w,widgetContentId:t,widgetInnerContainerRef:T,onClickWidgetHeaderCloseButton:r,offer:o,shouldHideSnoozeSettingsButton:l,shouldHideCloseButton:m})),a.default.createElement(W,{style:b},x)))))};var x,y,E,_,C,S,O,T,w=window.screen.width,A=(0,l.default)(m.BaseOverlay)(x||(x=r(["\n    z-index: ",";\n    height: 100%;\n    opacity: ",";\n    background: ",";\n    transition: opacity ","s ease;\n    pointer-events: ",";\n"],["\n    z-index: ",";\n    height: 100%;\n    opacity: ",";\n    background: ",";\n    transition: opacity ","s ease;\n    pointer-events: ",";\n"])),p.HIGHEST_Z_INDEX-2,(function(e){return e.isWidgetDisplayed?.4:0}),s.colors.black,p.OPEN_AND_CLOSE_ANIMATIONS_DURATION_IN_SECONDS,(function(e){return e.isWidgetDisplayed?"auto":"none"})),P=(0,l.default)(b.default)(y||(y=r(["\n    position: fixed;\n    z-index: ",";\n    ","\n    ","\n    opacity: ",";\n    border: 0;\n    border-radius: 8px;\n    box-shadow: 0 4px 14px 0 #0000004d;\n    background-color: ",";\n    transition: opacity ","s ease, height 0.1s ease,\n        top 0.1s ease, left 0.1s ease, right 0.1s ease, bottom 0.1s ease;\n    pointer-events: ",";\n"],["\n    position: fixed;\n    z-index: ",";\n    ","\n    ","\n    opacity: ",";\n    border: 0;\n    border-radius: 8px;\n    box-shadow: 0 4px 14px 0 #0000004d;\n    background-color: ",";\n    transition: opacity ","s ease, height 0.1s ease,\n        top 0.1s ease, left 0.1s ease, right 0.1s ease, bottom 0.1s ease;\n    pointer-events: ",";\n"])),p.HIGHEST_Z_INDEX,(function(e){var t=e.isMobileExtension,n=e.shouldCenterWidgetOnDesktop,r=e.height,i=e.mobileBaseHeight;return t?" width: ".concat(w-40,"px;\n                bottom: ").concat(i&&r?"calc(20px + ".concat(i-r,"px)"):"20px","; \n                left: 50%;  \n                transform: translate3d(-50%, 0, ").concat(p.HIGHER_TRANSLATE3D_Z_AXIS-1,"px);"):" width: ".concat(p.DESKTOP_PANEL_AND_WIDGET_WIDTH,"px;\n                ").concat(n?" top: calc(50% - ".concat(r,"px/2);\n                            left: calc(50% - ").concat(p.DESKTOP_PANEL_AND_WIDGET_WIDTH,"px/2);"):" top: 15px;\n                            right: 15px;")}),(function(e){var t=e.height;return void 0===t?"":"height: ".concat(t,"px;")}),(function(e){return e.isWidgetDisplayed?1:0}),s.colors.white,p.OPEN_AND_CLOSE_ANIMATIONS_DURATION_IN_SECONDS,(function(e){return e.isWidgetDisplayed?"auto":"none"})),B=(0,l.default)(m.RowSpacedCenterContainer)(E||(E=r(["\n    position: relative;\n    box-sizing: border-box;\n    width: 100%;\n    height: 45px;\n    border-bottom: 1px solid ",";\n    padding: 0 ","px 0\n        ","px;\n"],["\n    position: relative;\n    box-sizing: border-box;\n    width: 100%;\n    height: 45px;\n    border-bottom: 1px solid ",";\n    padding: 0 ","px 0\n        ","px;\n"])),s.colors.gallery,p.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING/2,p.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),I=l.default.img(_||(_=r(["\n    height: 18px;\n    object-fit: contain;\n    ","\n"],["\n    height: 18px;\n    object-fit: contain;\n    ","\n"])),p.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),D=l.default.div(C||(C=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),k=l.default.img(S||(S=r(["\n    width: 14px;\n    height: 14px;\n    padding: ","px;\n    ","\n\n    &:hover {\n        ","\n    }\n"],["\n    width: 14px;\n    height: 14px;\n    padding: ","px;\n    ","\n\n    &:hover {\n        ","\n    }\n"])),p.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING/2,p.CLICKABLE_ELEMENT_CSS_MIXIN,(function(e){return e.isMobileExtension?"opacity: 0.6;":""})),L=m.ColumnTopCenterContainer,W=(0,l.default)(m.ColumnTopCenterContainer)(O||(O=r(["\n    box-sizing: border-box;\n    width: 100%;\n    padding: ","px ","px;\n"],["\n    box-sizing: border-box;\n    width: 100%;\n    padding: ","px ","px;\n"])),p.WIDGET_VERTICAL_PADDING,p.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),M=l.default.div(T||(T=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," ",";\n    cursor: default;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," ",";\n    cursor: default;\n"])),d.measurements.spacings.small,d.measurements.spacings.smallMedium,d.measurements.spacings.medium)},41508:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=i(n(38267)),l=n(55015),s=n(47175),c=n(74617),u=n(77653),d=n(23081),f=n(31229),p=n(37392),g=n(10570),m=n(78776);t.default=function(e){var t=e.stopAutomationAndCloseWidget,n=e.state,r=(0,l.useLocalizedTexts)().contentscript.couponAutomation.applicationWidget,i=function(e){var t=o.default.useMemo((function(){return e.passive?e.passive.coupons.length:e.active?e.active.coupons.length:e.done?e.done.coupons.length:2}),[e]);return t}(n),a=(0,u.useMerchantOfferMatchingUrlWithConditionsAndCoupons)(window.location.href),h=!!(0,d.useIsBnplSectionEnabledForOffer)(a),b=(0,f.useIsTemporaryUser)();return o.default.createElement(o.default.Fragment,null,o.default.createElement(y,{src:s.COUPY_ERROR_ILLUSTRATION_URL}),o.default.createElement(E,{src:s.COUPY_SHADOW_ILLUSTRATION_URL}),o.default.createElement(m.ContentSemiBoldSubtitle,{style:{marginTop:4,textAlign:"center"}},r.errorContent.text({isPlural:i>1})),o.default.createElement(x,null,o.default.createElement(g.WhiteButtonWithBlackBorder,{isFullWidth:!0,isThin:!0,onClick:t},r.closeButton),o.default.createElement(g.BlackButton,{style:{marginLeft:8},isFullWidth:!0,isThin:!0,onClick:function(){null!==(0,c.getPanelElement)()?(0,p.sendJokoDomEvent)(p.JokoDomEvent.onJokoPanelLocationChangeRequest,{panelLocation:{panelTab:l.PanelTab.offerDetails,offerDetailsSection:l.OfferDetailsSection.coupons}}):(0,u.getUserOfferActivationInfo)(a).then((function(e){return(0,c.displayPanelAndLogEvents)({offer:a,bnpl:{isBnplSectionEnabledForOffer:h},isTemporaryUser:b,defaultPanelLocationOverride:{panelTab:l.PanelTab.offerDetails,offerDetailsSection:l.OfferDetailsSection.coupons},userOfferActivationInfo:e},"couponErrorWidget")})),t()}},r.errorContent.seeCouponsButton({isPlural:i>1}))))};var h,b,v,x=a.default.div(h||(h=r(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    margin-top: 12px;\n"],["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    margin-top: 12px;\n"]))),y=a.default.img(b||(b=r(["\n    width: 48px;\n    height: 56px;\n"],["\n    width: 48px;\n    height: 56px;\n"]))),E=a.default.img(v||(v=r(["\n    width: 30px;\n    height: 10px;\n    margin-top: 3px;\n"],["\n    width: 30px;\n    height: 10px;\n    margin-top: 3px;\n"])))},57508:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=i(n(38267)),l=n(55015),s=n(47175),c=n(10570),u=n(78776);t.default=function(e){var t=e.stopAutomationAndCloseWidget,n=(0,l.useLocalizedTexts)().contentscript.couponAutomation.applicationWidget;return o.default.createElement(o.default.Fragment,null,o.default.createElement(p,{src:s.COUPY_NO_SAVINGS_ILLUSTRATION_URL}),o.default.createElement(u.ContentTitle,{style:{marginBottom:4}},n.noSavingsContent.title),o.default.createElement(g,null,n.noSavingsContent.subtitle),o.default.createElement(c.BlackButton,{isFullWidth:!0,isThin:!0,onClick:t},n.closeButton))};var d,f,p=a.default.img(d||(d=r(["\n    width: 46px;\n    height: 66px;\n    margin-bottom: 7px;\n"],["\n    width: 46px;\n    height: 66px;\n    margin-bottom: 7px;\n"]))),g=(0,a.default)(u.ContentSubtitle)(f||(f=r(["\n    margin: 0 12px 12px;\n    line-height: 16px;\n    text-align: center;\n"],["\n    margin: 0 12px 12px;\n    line-height: 16px;\n    text-align: center;\n"])))},67733:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(47175),u=n(26368),d=n(78776),f=n(64777);function p(e){var t=e.hasError,n=t?0:1;return a.default.createElement(A,null,a.default.createElement(P,i({},{hasError:t}),a.default.createElement(k,{opacity:n,src:c.LIGHTNING_BOLT_PURPLE_ILLUSTRATION_URL}),a.default.createElement(L,{opacity:n,src:c.LIGHTNING_BOLT_PURPLE_ILLUSTRATION_URL}),a.default.createElement(W,{opacity:n,src:c.LIGHTNING_BOLT_PURPLE_ILLUSTRATION_URL}),a.default.createElement(M,{opacity:n,src:c.LIGHTNING_BOLT_PURPLE_ILLUSTRATION_URL}),a.default.createElement(I,{src:t?c.COUPY_ERROR_ILLUSTRATION_URL:c.COUPY_MEDITATING_ILLUSTRATION_URL})),a.default.createElement(B,null,a.default.createElement(N,i({},{hasError:t},{src:c.COUPY_SHADOW_ILLUSTRATION_URL}))))}t.default=function(e){var t=e.currentCouponCode,n=e.numberOfCoupons,r=e.numberOfTestedCoupons,o=e.hasError,l=(0,s.useLocalizedTexts)().contentscript.couponAutomation.applicationWidget.progressContent;return a.default.createElement(f.CenteredContainer,{style:{flexDirection:"column"}},a.default.createElement(p,i({},{hasError:o})),a.default.createElement(d.ContentBoldSubtitle,{style:{margin:"14px 0 0"}},l.title({numberOfCoupons:n})),a.default.createElement(j,null,a.default.createElement("span",{style:{fontWeight:400}},l.subtitle),a.default.createElement("span",{style:{fontWeight:700}},l.count({numberOfTestedCoupons:r,numberOfCoupons:n}))),a.default.createElement(w,null,a.default.createElement(R,null,t)))};var g,m,h,b,v,x,y,E,_,C,S,O,T,w=l.default.div(g||(g=r(["\n    margin: 16px 0 4px;\n    padding: 3px 7px;\n    border-radius: 4px;\n    background-color: ",";\n"],["\n    margin: 16px 0 4px;\n    padding: 3px 7px;\n    border-radius: 4px;\n    background-color: ",";\n"])),s.colors.blueChalk),A=l.default.div(m||(m=r(["\n    top: 0;\n    left: 0;\n    width: 80px;\n    height: 60px;\n    margin-top: 5px;\n"],["\n    top: 0;\n    left: 0;\n    width: 80px;\n    height: 60px;\n    margin-top: 5px;\n"]))),P=l.default.div(h||(h=r(["\n    width: 80px;\n    height: 50px;\n    animation: meditate 2s ease-in-out infinite alternate;\n    animation-play-state: ",";\n    ","\n\n    @keyframes meditate {\n        0% {\n            transform: translateY(-5px);\n        }\n\n        100% {\n            transform: translateY(5px);\n        }\n    }\n"],["\n    width: 80px;\n    height: 50px;\n    animation: meditate 2s ease-in-out infinite alternate;\n    animation-play-state: ",";\n    ","\n\n    @keyframes meditate {\n        0% {\n            transform: translateY(-5px);\n        }\n\n        100% {\n            transform: translateY(5px);\n        }\n    }\n"])),(function(e){return e.hasError?"paused":"running"}),(function(e){return e.hasError?"transform: translateY(10px);\n               transition: transform 0.25s;":""})),B=(0,l.default)(f.CenteredContainer)(b||(b=r(["\n    margin-top: 12px;\n"],["\n    margin-top: 12px;\n"]))),I=l.default.img(v||(v=r(["\n    position: absolute;\n    top: 0;\n    left: 16px;\n    width: 48px;\n    height: 56px;\n    ","\n"],["\n    position: absolute;\n    top: 0;\n    left: 16px;\n    width: 48px;\n    height: 56px;\n    ","\n"])),u.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),D=l.default.img(x||(x=r(["\n    position: absolute;\n    opacity: ",";\n    transition: opacity 0.25s;\n    ","\n"],["\n    position: absolute;\n    opacity: ",";\n    transition: opacity 0.25s;\n    ","\n"])),(function(e){return e.opacity}),u.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),k=(0,l.default)(D)(y||(y=r(["\n    top: 6px;\n    left: 0;\n    width: 24px;\n    height: 16px;\n    transform: rotate(90deg);\n    animation: bounce-left-big 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-left-big {\n        10% {\n            transform: rotate(90deg);\n        }\n\n        90% {\n            transform: rotate(90deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: rotate(90deg) translate(-1px, 3px);\n        }\n    }\n"],["\n    top: 6px;\n    left: 0;\n    width: 24px;\n    height: 16px;\n    transform: rotate(90deg);\n    animation: bounce-left-big 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-left-big {\n        10% {\n            transform: rotate(90deg);\n        }\n\n        90% {\n            transform: rotate(90deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: rotate(90deg) translate(-1px, 3px);\n        }\n    }\n"]))),L=(0,l.default)(D)(E||(E=r(["\n    top: 6px;\n    left: 56px;\n    width: 24px;\n    height: 16px;\n    transform: scaleX(-1) rotate(90deg);\n    animation: bounce-right-big 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-right-big {\n        10% {\n            transform: scaleX(-1) rotate(90deg);\n        }\n\n        90% {\n            transform: scaleX(-1) rotate(90deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: scaleX(-1) rotate(90deg) translate(-1px, 3px);\n        }\n    }\n"],["\n    top: 6px;\n    left: 56px;\n    width: 24px;\n    height: 16px;\n    transform: scaleX(-1) rotate(90deg);\n    animation: bounce-right-big 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-right-big {\n        10% {\n            transform: scaleX(-1) rotate(90deg);\n        }\n\n        90% {\n            transform: scaleX(-1) rotate(90deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: scaleX(-1) rotate(90deg) translate(-1px, 3px);\n        }\n    }\n"]))),W=(0,l.default)(D)(_||(_=r(["\n    top: 40px;\n    left: 5px;\n    width: 16px;\n    height: 12px;\n    transform: rotate(40deg);\n    animation: bounce-left-small 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-left-small {\n        10% {\n            transform: rotate(40deg);\n        }\n\n        90% {\n            transform: rotate(40deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: rotate(40deg) translate(-1px, 3px);\n        }\n    }\n"],["\n    top: 40px;\n    left: 5px;\n    width: 16px;\n    height: 12px;\n    transform: rotate(40deg);\n    animation: bounce-left-small 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-left-small {\n        10% {\n            transform: rotate(40deg);\n        }\n\n        90% {\n            transform: rotate(40deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: rotate(40deg) translate(-1px, 3px);\n        }\n    }\n"]))),M=(0,l.default)(D)(C||(C=r(["\n    top: 42px;\n    left: 58px;\n    width: 14px;\n    height: 10px;\n    transform: scaleX(-1) rotate(40deg);\n    animation: bounce-right-small 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-right-small {\n        10% {\n            transform: scaleX(-1) rotate(40deg);\n        }\n\n        90% {\n            transform: scaleX(-1) rotate(40deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: scaleX(-1) rotate(40deg) translate(-1px, 3px);\n        }\n    }\n"],["\n    top: 42px;\n    left: 58px;\n    width: 14px;\n    height: 10px;\n    transform: scaleX(-1) rotate(40deg);\n    animation: bounce-right-small 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-right-small {\n        10% {\n            transform: scaleX(-1) rotate(40deg);\n        }\n\n        90% {\n            transform: scaleX(-1) rotate(40deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: scaleX(-1) rotate(40deg) translate(-1px, 3px);\n        }\n    }\n"]))),N=l.default.img(S||(S=r(["\n    width: 30px;\n    height: 10px;\n    animation: shadow-effect 2s ease-in-out infinite alternate;\n    animation-play-state: ",";\n    ","\n\n    @keyframes shadow-effect {\n        0% {\n            transform: scale(0.7);\n        }\n\n        100% {\n            transform: scale(1.3);\n        }\n    }\n"],["\n    width: 30px;\n    height: 10px;\n    animation: shadow-effect 2s ease-in-out infinite alternate;\n    animation-play-state: ",";\n    ","\n\n    @keyframes shadow-effect {\n        0% {\n            transform: scale(0.7);\n        }\n\n        100% {\n            transform: scale(1.3);\n        }\n    }\n"])),(function(e){return e.hasError?"paused":"running"}),(function(e){return e.hasError?"transform: scale(1.5);\n               transition: transform 0.25s;":""})),R=(0,l.default)(d.ContentBoldSubtitle)(O||(O=r(["\n    color: ",";\n"],["\n    color: ",";\n"])),s.colors.electricViolet),j=(0,l.default)(d.ContentText)(T||(T=r(["\n    margin-top: 8px;\n    line-height: 14px;\n    text-align: center;\n"],["\n    margin-top: 8px;\n    line-height: 14px;\n    text-align: center;\n"])))},23053:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=i(n(38267)),l=n(55015),s=n(47175),c=n(10570),u=n(78776),d=i(n(61967));t.default=function(e){var t=e.initialPrice,n=e.bestPrice,r=e.priceCurrency,i=e.bestCouponCode,a=e.stopAutomationAndCloseWidget,f=(0,l.useLocalizedTexts)().contentscript.couponAutomation.applicationWidget,p=void 0!==t&&void 0!==n?t-n:0,g=o.default.useMemo((function(){return(0,l.formatCurrencyAmount)({localizedFormat:(0,l.getLocalizedFormatFromCurrency)(r),number:p})}),[p]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(h,{src:s.COUPY_SUCCESS_ILLUSTRATION_URL}),o.default.createElement(u.ContentTitle,{style:{marginBottom:4}},o.default.createElement(d.default,{highlightedStyle:{color:l.colors.electricViolet}},p>0?f.successContent.withPriceDrop.title({formattedSavedAmount:g}):f.successContent.withoutPriceDrop.title)),o.default.createElement(b,null,p>0?f.successContent.withPriceDrop.subtitle:f.successContent.withoutPriceDrop.subtitle),o.default.createElement(m,null,i),o.default.createElement(c.BlackButton,{isFullWidth:!0,isThin:!0,onClick:a},f.closeButton))};var f,p,g,m=(0,a.default)(u.ContentBoldSubtitle)(f||(f=r(["\n    margin-bottom: 16px;\n    padding: 3px 7px;\n    border-radius: 4px;\n    background-color: ",";\n    color: ",";\n"],["\n    margin-bottom: 16px;\n    padding: 3px 7px;\n    border-radius: 4px;\n    background-color: ",";\n    color: ",";\n"])),l.colors.blueChalk,l.colors.electricViolet),h=a.default.img(p||(p=r(["\n    width: 40px;\n    height: 66px;\n    margin-bottom: 7px;\n"],["\n    width: 40px;\n    height: 66px;\n    margin-bottom: 7px;\n"]))),b=(0,a.default)(u.ContentSubtitle)(g||(g=r(["\n    margin-bottom: 8px;\n    line-height: 16px;\n    text-align: center;\n"],["\n    margin-bottom: 8px;\n    line-height: 16px;\n    text-align: center;\n"])))},30297:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=n(12233),s=n(17621),c=n(73703),u=o(n(41508)),d=o(n(57508)),f=o(n(67733)),p=o(n(23053)),g=o(n(90382)),m=o(n(3757));function h(e){var t,n,o,l,s,c,g=e.hasError,m=e.state,h=e.stopAutomationAndCloseWidget,b=i(a.default.useState(!1),2),v=b[0],x=b[1];if(a.default.useEffect((function(){g&&setTimeout((function(){return x(!0)}),250)}),[g]),v)return a.default.createElement(u.default,r({},{stopAutomationAndCloseWidget:h,state:m}));if(m.done){var y=m.done,E=y.basePrice,_=y.bestPrice,C=y.priceCurrency,S=y.bestCoupon;return S?a.default.createElement(p.default,r({},{initialPrice:E,bestPrice:_,bestCouponCode:S.code,priceCurrency:C,stopAutomationAndCloseWidget:h})):a.default.createElement(d.default,r({},{stopAutomationAndCloseWidget:h}))}return m.active?a.default.createElement(f.default,r({},{hasError:g},(t=m.active,n=t.coupons,o=t.couponIndex,l=n[o].code,s=n.length,c=t.isFinal?s:o,{currentCouponCode:l,numberOfTestedCoupons:c,numberOfCoupons:s}))):null}t.default=function(e){var t=e.initialState,n=e.hasErrorAtInit,i=(0,c.useCouponApplicationWidgetInnerState)(t,n),o=i.state,u=i.stopAutomationAndCloseWidget,d=i.isWidgetDisplayed,f=i.hasError,p=i.closeWidget,b=(0,l.useIsDesignSystemModeActivated)().isDesignSystemModeActivated;return f||o.active||o.done?b?a.default.createElement(g.default,r({},{initialState:t,hasErrorAtInit:n})):a.default.createElement(m.default,r({widgetContentId:s.JokoExtensionElement.couponApplicationWidget,onClickWidgetHeaderCloseButton:u,shouldDisableMobileScrolling:!0,shouldCenterWidgetOnDesktop:!0,shouldHideSnoozeSettingsButton:!0,shouldDimBackground:!0},{isWidgetDisplayed:d}),a.default.createElement(h,r({},{hasError:f,state:o,stopAutomationAndCloseWidget:u,closeWidget:p}))):null}},68136:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoupyWavingElement=void 0;var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(12233),u=n(79425),d=n(47175),f=n(17621),p=n(64534),g=n(26368),m=n(73703),h=n(23907),b=n(10570),v=n(64777),x=n(78776),y=o(n(31669)),E=o(n(3757)),_=o(n(63502)),C={socialProofType:"average",shouldDisplaySuccessRateAndLastUsedAtCallout:!0,customStartCouponAutomationButtonHeight:44};function S(e){var t=e.startCouponApplication,n=e.numberOfCoupons,r=e.offerId,o=e.shouldLoadAffiliateLinkOnAutomation,l=e.socialProofType,u=e.displayedAmountSavedByUsersUsingAutoCoupons,d=e.totalAmountSavedByUsersUsingAutoCoupons,p=e.displayedSuccessRateAutoCoupons,h=e.lastUsedAtAutoCoupons,v=e.shouldDisplaySuccessRateAndLastUsedAtCallout,x=e.customStartCouponAutomationButtonHeight,_=e.customCloseButtonStyle,C=(0,s.useLocalizedTexts)().contentscript.couponAutomation.proposalWidget({numberOfCoupons:n}),S=(0,m.useCouponAutomationProposalWidgetInnerState)({startCouponApplication:t,offerId:r,closeButtonDisplayedText:C.closeButton.renounce}),P=S.isWidgetDisplayed,B=S.onClickWidgetCloseButton,I=S.onClickStartButton;return(0,c.useIsDesignSystemModeActivated)().isDesignSystemModeActivated?a.default.createElement(y.default,i({},{offerId:r,startCouponApplication:t,numberOfCoupons:n,shouldLoadAffiliateLinkOnAutomation:o})):a.default.createElement(E.default,i({widgetContentId:f.JokoExtensionElement.couponAutomationProposalWidget,shouldDisableMobileScrolling:!0,shouldHideCloseButton:!0,bodyStyle:{padding:"".concat(g.WIDGET_VERTICAL_PADDING,"px 0 0 0")}},{isWidgetDisplayed:P,onClickWidgetHeaderCloseButton:B}),a.default.createElement(z,null,a.default.createElement(H,null,a.default.createElement(O,null),a.default.createElement(Q,null,a.default.createElement(q,null,a.default.createElement("span",{style:{color:s.colors.electricViolet}},n),a.default.createElement("span",null,C.title)))),v?a.default.createElement(T,{displayedSuccessRateAutoCoupons:p,lastUsedAtAutoCoupons:h}):null,a.default.createElement(b.BlackButton,{isFullWidth:!0,isThin:!0,buttonHeight:x,style:{marginTop:12,fontSize:x?14:12},onClick:I},C.startButton),a.default.createElement(Z,{onClick:B,style:_},C.closeButton.renounce)),"average"===l?a.default.createElement(w,i({},{displayedAmountSavedByUsersUsingAutoCoupons:u})):"total"===l?a.default.createElement(A,i({},{totalAmountSavedByUsersUsingAutoCoupons:d})):null)}function O(){return a.default.createElement(F,null,a.default.createElement(J,{src:d.COUPY_WAVING_WITHOUT_LEFT_ARM_ILLUSTRATION_URL}),a.default.createElement(Y,{src:d.COUPY_WAVING_LEFT_ARM_ILLUSTRATION_URL}))}function T(e){var t=e.displayedSuccessRateAutoCoupons,n=e.lastUsedAtAutoCoupons,r=(0,s.useLocalizedFormat)(),i=(0,s.useLocalizedTexts)().contentscript.couponAutomation.socialProofs,o=(0,p.useCheckIsSocialProofValueSatisfyingThreshold)({socialProofName:p.SocialProofName.displayedSuccessRateAutoCoupons,socialProofValue:t}),l=(0,p.useCheckIsSocialProofValueSatisfyingThreshold)({socialProofName:p.SocialProofName.lastUsedAtAutoCoupons,socialProofValue:1e3*Number(n)});if(!o&&!l)return null;var c=n?(0,u.formatDelayBetweenTimestampAndNow)(1e3*Number(n),r):"",d=[r.dateAndTime.today,r.dateAndTime.yesterday].includes(c);return a.default.createElement(G,null,o?a.default.createElement(v.RowLeftCenterContainer,{style:{gap:"4px"}},a.default.createElement(x.ContentSemiBoldSubtitle,null,i.successRate.description),a.default.createElement(x.ContentBoldSubtitle,{style:{color:s.colors.purpleHeart}},i.successRate.indicator),a.default.createElement(_.default,{width:13,height:13,style:{flexShrink:0},fill:s.colors.purpleHeart})):null,n&&l?a.default.createElement(v.RowLeftCenterContainer,{style:{gap:"4px"}},a.default.createElement(x.ContentSemiBoldSubtitle,null,i.lastUsedAt.lastUsed),d?null:a.default.createElement(x.ContentSemiBoldSubtitle,null,i.lastUsedAt.prefix),a.default.createElement(x.ContentBoldSubtitle,{style:{color:s.colors.purpleHeart}},c),d?null:a.default.createElement(x.ContentSemiBoldSubtitle,null,i.lastUsedAt.suffix)):null)}function w(e){var t=e.displayedAmountSavedByUsersUsingAutoCoupons,n=(0,s.useLocalizedTexts)().contentscript.couponAutomation.socialProofs.averageAmount,r=(0,s.useLocalizedFormat)(),i=(0,p.useCheckIsSocialProofValueSatisfyingThreshold)({socialProofName:p.SocialProofName.displayedAmountSavedByUsersUsingAutoCoupons,socialProofValue:t});if(!t||!i)return a.default.createElement("div",{style:{marginTop:g.WIDGET_VERTICAL_PADDING}});var o=(0,s.formatCurrencyAmount)({number:t,localizedFormat:r});return a.default.createElement(X,null,a.default.createElement(s.CurrencySymbolNoCircle,{color:s.CurrencySymbolColor.deepPurple,size:"medium"}),a.default.createElement(x.ContentBoldSubtitle,{style:{color:s.colors.purpleHeart}},o),a.default.createElement(x.ContentSemiBoldSubtitle,{style:{color:s.colors.purpleHeart}},n))}function A(e){var t=e.totalAmountSavedByUsersUsingAutoCoupons,n=(0,s.useLocalizedTexts)().contentscript.couponAutomation.socialProofs.totalAmount,r=(0,s.useLocalizedFormat)(),i=(0,p.useCheckIsSocialProofValueSatisfyingThreshold)({socialProofName:p.SocialProofName.totalAmountSavedByUsersUsingAutoCoupons,socialProofValue:t});if(!t||!i)return a.default.createElement("div",{style:{marginTop:g.WIDGET_VERTICAL_PADDING}});var o=(0,s.formatCurrencyAmount)({number:t,localizedFormat:r,shouldNotDisplayCents:!0});return a.default.createElement(K,null,a.default.createElement(V,null,a.default.createElement(s.CurrencySymbolNoCircle,{color:s.CurrencySymbolColor.deepPurple,size:"medium"}),a.default.createElement(x.ContentTitle,{style:{color:s.colors.purpleHeart}},o),a.default.createElement(x.ContentTitle,{style:{color:s.colors.purpleHeart}},n.title)),a.default.createElement(x.ContentSemiBoldSubtitle,{style:{color:s.colors.purpleHeart}},n.subtitle))}t.default=function(e){switch(e.widgetVariant){case h.CouponAutomationProposalWidgetVariants.defaultCouponWidget:return a.default.createElement(S,i({},e,C));case h.CouponAutomationProposalWidgetVariants.couponWidgetWithGreySecondaryCta:return a.default.createElement(S,i({},e,C,{customCloseButtonStyle:{borderBottom:"none",color:s.colors.doveGray}}));default:return a.default.createElement(S,i({},e,C))}},t.CoupyWavingElement=O;var P,B,I,D,k,L,W,M,N,R,j,U,z=(0,l.default)(v.ColumnTopCenterContainer)(P||(P=r(["\n    box-sizing: border-box;\n    width: 100%;\n    padding: 0 ","px;\n"],["\n    box-sizing: border-box;\n    width: 100%;\n    padding: 0 ","px;\n"])),g.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),H=l.default.div(B||(B=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 8px;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 8px;\n"]))),F=l.default.div(I||(I=r(["\n    position: relative;\n    top: 0;\n    left: 0;\n    width: 34px;\n    height: 52px;\n"],["\n    position: relative;\n    top: 0;\n    left: 0;\n    width: 34px;\n    height: 52px;\n"]))),G=l.default.div(D||(D=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: fill-available;\n    gap: 4px;\n    margin-top: 12px;\n    padding: 8px 12px;\n    border-radius: 8px;\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: fill-available;\n    gap: 4px;\n    margin-top: 12px;\n    padding: 8px 12px;\n    border-radius: 8px;\n    background-color: ",";\n"])),s.colors.concrete),X=l.default.div(k||(k=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    gap: 2px;\n    margin-top: 12px;\n    margin-bottom: -1px; // We need to add this negative margin to avoid having a think white line at the bottom\n    padding: 8px 0;\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    gap: 2px;\n    margin-top: 12px;\n    margin-bottom: -1px; // We need to add this negative margin to avoid having a think white line at the bottom\n    padding: 8px 0;\n    background-color: ",";\n"])),s.colors.blueChalk),K=(0,l.default)(X)(L||(L=r(["\n    flex-direction: column;\n"],["\n    flex-direction: column;\n"]))),V=l.default.div(W||(W=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 2px;\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 2px;\n"]))),Z=l.default.button(M||(M=r(["\n    margin-top: 14px;\n    padding: 0;\n    background-color: white;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    margin-top: 14px;\n    padding: 0;\n    background-color: white;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),s.colors.alto,g.CLICKABLE_ELEMENT_CSS_MIXIN),J=l.default.img(N||(N=r(["\n    position: relative;\n    top: 0;\n    left: 0;\n    width: 36px;\n    height: 63px;\n    ","\n"],["\n    position: relative;\n    top: 0;\n    left: 0;\n    width: 36px;\n    height: 63px;\n    ","\n"])),g.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),Y=l.default.img(R||(R=r(["\n    position: absolute;\n    top: 16px;\n    left: 30px;\n    width: 9px;\n    height: 11px;\n    transform: rotate(10deg);\n    animation: wave 3s ease-in-out infinite;\n\n    @keyframes wave {\n        20% {\n            /**\n             * matrix transform syntax: matrix(scaleX(), skewY(), skewX(), scaleY(), translateX(), translateY())\n             * For more details, check: https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix\n             */\n            transform: rotate(10deg) matrix(1, 0, 0, 1, 0, 0);\n        }\n\n        35% {\n            transform: rotate(-30deg) matrix(1.1, 0, 0, 0.95, -1, -2.5);\n        }\n\n        45% {\n            transform: rotate(-10deg) matrix(1.1, 0, 0, 0.95, -0.5, -1);\n        }\n\n        55% {\n            transform: rotate(-30deg) matrix(1.1, 0, 0, 0.95, -1, -2.5);\n        }\n\n        65% {\n            transform: rotate(-10deg) matrix(1.1, 0, 0, 0.95, -0.5, -1);\n        }\n\n        75% {\n            transform: rotate(-30deg) matrix(1.1, 0, 0, 0.95, -1, -2.5);\n        }\n\n        90% {\n            transform: rotate(10deg) matrix(1, 0, 0, 1, 0, 0);\n        }\n    }\n\n    ","\n"],["\n    position: absolute;\n    top: 16px;\n    left: 30px;\n    width: 9px;\n    height: 11px;\n    transform: rotate(10deg);\n    animation: wave 3s ease-in-out infinite;\n\n    @keyframes wave {\n        20% {\n            /**\n             * matrix transform syntax: matrix(scaleX(), skewY(), skewX(), scaleY(), translateX(), translateY())\n             * For more details, check: https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix\n             */\n            transform: rotate(10deg) matrix(1, 0, 0, 1, 0, 0);\n        }\n\n        35% {\n            transform: rotate(-30deg) matrix(1.1, 0, 0, 0.95, -1, -2.5);\n        }\n\n        45% {\n            transform: rotate(-10deg) matrix(1.1, 0, 0, 0.95, -0.5, -1);\n        }\n\n        55% {\n            transform: rotate(-30deg) matrix(1.1, 0, 0, 0.95, -1, -2.5);\n        }\n\n        65% {\n            transform: rotate(-10deg) matrix(1.1, 0, 0, 0.95, -0.5, -1);\n        }\n\n        75% {\n            transform: rotate(-30deg) matrix(1.1, 0, 0, 0.95, -1, -2.5);\n        }\n\n        90% {\n            transform: rotate(10deg) matrix(1, 0, 0, 1, 0, 0);\n        }\n    }\n\n    ","\n"])),g.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),Q=l.default.span(j||(j=r(["\n    margin-left: 16.5px;\n"],["\n    margin-left: 16.5px;\n"]))),q=(0,l.default)(x.ContentTitle)(U||(U=r(["\n    font-size: 22px;\n"],["\n    font-size: 22px;\n"])))},2136:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(96540)),o=n(55015),a=n(64242),l=n(59812),s=n(67454),c=n(86028),u=n(96410),d=n(30503),f=r(n(44468)),p=n(17436),g=n(46239);t.default=function(e){var t=e.userRegion,n=e.shouldHideAdBlockerWarning,r=(0,a.useShouldUseIntercom)(),m=i.default.useMemo((function(){return(0,o.getLocalizedAdBlockerHelpCenterArticleUrl)(t,r)}),[t,r]),h=i.default.useCallback((function(){(0,g.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"Browser Extension - Clicked Ad Blocker Detected Help Button"}}}),(0,g.sendMessageToBackgroundScript)({message:"openTab",data:{url:m}})}),[m]),b=(0,o.useLocalizedTexts)().designSystem.contentscript.redesign.widgets.offerWidget.adBlockerWarningMessage;return n?null:i.default.createElement(d.Banner,{bannerStyle:d.BannerStyle.negative,shouldShowLeftIcon:!0,leftIconSvgComponent:f.default},i.default.createElement(c.TextContent,{textContentLayoutType:c.TextContentLayoutType.content},i.default.createElement(u.Title,{titleSize:u.TitleSize.small,titleWeight:u.TitleWeight.bold,text:b.title,shouldAlignTextLeft:!0}),i.default.createElement(s.Subtitle,{subtitleSize:s.SubtitleSize.small,text:b.subtitle,color:p.colors.content.default,shouldAlignTextLeft:!0}),i.default.createElement(l.Button,{hierarchy:l.ButtonHierarchy.primary,buttonState:l.ButtonState.default,buttonSize:l.ButtonSize.smallUnderlined,shouldShowLabel:!0,label:b.helpButton,onClick:h})))}},16717:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(96540)),o=n(55015),a=n(67454),l=n(30503),s=r(n(86580)),c=n(17436);t.default=function(){var e=(0,o.useLocalizedTexts)().designSystem.contentscript.redesign.widgets.offerWidget.cashback.onetimeOffer.cardLinkedOfferAutoActivationMessage;return i.default.createElement(l.Banner,{bannerStyle:l.BannerStyle.positive,shouldShowLeftIcon:!0,leftIconSvgComponent:s.default},i.default.createElement(a.Subtitle,{subtitleSize:a.SubtitleSize.small,text:e,color:c.colors.content.default}))}},45741:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=n(55015),l=n(59812),s=n(2286),c=n(89710),u=n(16868),d=i(n(87021));function f(e){var t=e.offer,n=e.onClickCloseButton,i=e.isOfferActivationButtonLoading,c=e.isOfferActivated,f=e.onClickActivateOffer,p=e.shouldForceDisplay,g=(0,a.useLocalizedTexts)().designSystem.contentscript.redesign.widgets.offerWidget.closeButton;return(0,u.checkShouldDisplayCashbackInformationInWidgetForOffer)({offer:t,shouldForceDisplay:p})?o.default.createElement(s.ButtonSet,{buttonSetLayoutType:s.ButtonSetLayoutType.vertical},o.default.createElement(d.default,r({},{isOfferActivated:c,onClickActivateOffer:f,isLoading:i})),o.default.createElement(l.Button,{hierarchy:l.ButtonHierarchy.primary,buttonState:l.ButtonState.default,buttonSize:l.ButtonSize.smallUnderlined,shouldShowLabel:!0,label:g.remindLater,onClick:n})):null}function p(e){var t=e.offer,n=e.userOfferActivationInfo,r=e.closeWidget,i=(0,a.useLocalizedTexts)().designSystem.contentscript.redesign.widgets.offerWidget.cashback.onetimeOffer;return void 0===n?null:o.default.createElement(s.ButtonSet,{buttonSetLayoutType:s.ButtonSetLayoutType.horizontal},o.default.createElement(l.Button,{hierarchy:l.ButtonHierarchy.primary,buttonState:l.ButtonState.default,buttonSize:l.ButtonSize.medium,shouldShowLabel:!0,label:i.cardLinkedOfferAutoActivationAcknowledgementButton,onClick:function(){var e;(0,c.requestCardLinkedOfferNonAffiliateTrackingLinkLoading)({offer:t,triggeringEventType:a.UserInterfaceComponentInteractionEventType.cardLinkedOfferAutoActivationAcknowledgementButton}),(0,a.updateLocalStorageItem)(a.LocalStorageKey.offerWidgetLastClosedInSessionTimestampMsMap,((e={})[t.offerId]=Date.now(),e)),null==r||r()}}))}t.default=function(e){var t=e.offer,n=e.onClickCloseButton,i=e.isOfferActivationButtonLoading,l=e.isOfferActivated,s=e.onClickActivateOffer,c=e.shouldForceOnlineOfferActivationButtonDisplay,u=e.userOfferActivationInfo,d=e.closeWidget;switch(t.type){case a.OfferType.Online:return o.default.createElement(f,r({},{offer:t,onClickCloseButton:n,isOfferActivationButtonLoading:i,isOfferActivated:l,onClickActivateOffer:s,shouldForceDisplay:c}));case a.OfferType.OneTime:return o.default.createElement(p,r({},{offer:t,userOfferActivationInfo:u,closeWidget:d}));default:return null}}},97618:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(6===l[0]&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=d(n(96540)),p=d(n(38267)),g=n(55015),m=n(4911),h=n(88099),b=n(67454),v=n(86028),x=l(n(96410)),y=n(30503),E=d(n(88666)),_=d(n(32097)),C=n(17436),S=n(14568),O=n(17621),T=n(31229),w=n(69568),A=n(23081),P=n(74617),B=n(95752),I=n(10518),D=d(n(45741)),k=d(n(3757));function L(){var e=(0,g.useLocalizedTexts)().designSystem.contentscript.redesign.widgets.cashbackReminderWidget.message;return f.default.createElement(y.Banner,{bannerStyle:y.BannerStyle.neutral,shouldShowLeftIcon:!0,leftIconSvgComponent:E.default},f.default.createElement(v.TextContent,{textContentLayoutType:v.TextContentLayoutType.content},f.default.createElement(x.default,{titleSize:x.TitleSize.small,titleWeight:x.TitleWeight.bold,text:e.title,shouldAlignTextLeft:!0}),f.default.createElement(b.Subtitle,{subtitleSize:b.SubtitleSize.small,text:e.subtitle,color:C.colors.content.default,shouldAlignTextLeft:!0})))}t.default=function(e){var t=this,n=e.offer,r=e.userOfferActivationInfo,o=(0,I.useCashbackReminderWidgetInnerState)({offer:n,userOfferActivationInfo:r}),a=o.isWidgetDisplayed,l=o.onClickOfferConditionsButton,d=o.onClickWidgetCloseButton,p=o.closeWidget,b=(0,w.useOfferActivationButtonState)({offer:n,userInterfaceComponentInteractionEventType:g.UserInterfaceComponentInteractionEventType.cashbackReminderWidgetActivateButton,closeWidgetOrPanel:p}),y=b.isOfferActivationButtonLoading,E=b.isOfferActivated,W=b.onClickActivateOffer;return f.default.createElement(k.default,i({widgetContentId:O.JokoExtensionElement.cashbackReminderWidget,shouldDisableMobileScrolling:!0,bodyStyle:{padding:"".concat(C.measurements.spacings.smallMedium," 0 ").concat(C.measurements.spacings.medium)}},{isWidgetDisplayed:a,onClickWidgetHeaderCloseButton:d}),f.default.createElement(M,null,f.default.createElement(L,null)),f.default.createElement(h.OfferLine,{offerType:n.type===g.OfferType.OneTime?h.OfferLineOfferType.cardLinked:h.OfferLineOfferType.online,offer:n,shouldBeHoverable:!0,shouldShowLogo:!0,avatarSize:m.AvatarSize.medium,avatarRadius:m.AvatarRadius.circle,textContentLayoutType:v.TextContentLayoutType.content,titleSize:x.TitleSize.medium,titleWeight:x.TitleWeight.semiBold,text:n.screen.title,shouldShowPrefix:!1,rightIcon:_.default,rightIconSize:C.measurements.icons.medium,onClick:function(){return s(t,void 0,void 0,(function(){var e,t,r,i,o,a,l;return c(this,(function(s){switch(s.label){case 0:return[4,Promise.all([(0,B.checkIsProductAndCheckoutWebpage)(window.location.href),(0,A.checkIsBnplSectionEnabledForOffer)(n),(0,T.checkIsTemporaryUser)()])];case 1:return e=u.apply(void 0,[s.sent(),3]),t=e[0],r=t.isProductPage,i=t.isCheckoutPage,o=e[1],a=e[2],l=(0,S.getUserBnplTransactionsFromLocalStorage)(n),(0,P.displayPanelAndLogEvents)({offer:n,userOfferActivationInfo:void 0,isProductPage:r,isCheckoutPage:i,bnpl:{isBnplSectionEnabledForOffer:o,userBnplTransactionsFromLocalStorage:l},isTemporaryUser:a,defaultPanelLocationOverride:void 0},"cashbackReminderWidget"),p(),[2]}}))}))}}),f.default.createElement(M,null,f.default.createElement(D.default,i({isOfferActivated:!!E,onClickCloseButton:l,closeWidget:l,shouldForceOnlineOfferActivationButtonDisplay:!0},{offer:n,onClickActivateOffer:W,isOfferActivationButtonLoading:y,userOfferActivationInfo:r}))))};var W,M=p.default.div(W||(W=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: 0 ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: 0 ",";\n"])),C.measurements.spacings.small,C.measurements.spacings.medium)},24192:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(6===l[0]&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(96540)),u=s(n(38267)),d=n(55015),f=n(4911),p=n(88099),g=n(86028),m=n(96410),h=s(n(32097)),b=n(17436),v=n(14568),x=n(17621),y=n(31229),E=n(69568),_=n(23081),C=n(74617),S=n(95752),O=n(16868),T=s(n(2136)),w=s(n(16717)),A=s(n(45741)),P=n(16964),B=s(n(3497)),I=s(n(3757));t.default=function(e){var t=e.offer,n=e.userOfferActivationInfo,r=e.hasUserJustCorrectedMerchantWebsiteTrackingConsentChoice,o=e.hasMerchantWebsiteTrackingConsentBannerRequestBeenCancelled,a=(0,d.useLocalizedTexts)().designSystem.contentscript.redesign.widgets.offerWidget.closeButton,l=function(e){var t=e.offer,n=e.userOfferActivationInfo,r=e.hasUserJustCorrectedMerchantWebsiteTrackingConsentChoice,i=e.hasMerchantWebsiteTrackingConsentBannerRequestBeenCancelled,o=e.closeButtonDisplayedText,a=!(!r&&!i),l=(0,O.useOfferWidgetInnerState)(t,n,a,o),s=l.isWidgetDisplayed,c=l.userRegion,u=l.onClickOfferConditionsButton,f=l.onClickWidgetHeaderCloseButton,p=l.shouldShowCashback,g=l.couponPromotionButtonProps,m=l.bnplPromotionButtonProps,h=l.isAdBlockerDetected,b=l.extensionType,v=l.closeWidget,x=(0,E.useOfferActivationButtonState)({offer:t,userInterfaceComponentInteractionEventType:d.UserInterfaceComponentInteractionEventType.offerWidgetActivateButton,closeWidgetOrPanel:v}),y=x.isOfferActivationButtonLoading,_=x.isOfferActivated,C=x.onClickActivateOffer,S=x.merchantWebsiteTrackingConsentBannerTriggeringInformation,T=x.hasUserGivenFullTrackingConsentOnCurrentWebsite,w=a||(null==S?void 0:S.shouldCheckConsentChoiceOnActivationClick)||T,A=t.type===d.OfferType.OneTime&&void 0!==n;return{isWidgetOpenedAfterMerchantWebsiteTrackingConsentFlow:a,isWidgetDisplayed:s,userRegion:c,onClickOfferConditionsButton:u,onClickWidgetHeaderCloseButton:f,shouldShowCashback:p,couponPromotionButtonProps:g,bnplPromotionButtonProps:m,isAdBlockerDetected:h,extensionType:b,closeWidget:v,isOfferActivationButtonLoading:y,isOfferActivated:_,onClickActivateOffer:C,merchantWebsiteTrackingConsentBannerTriggeringInformation:S,hasUserGivenFullTrackingConsentOnCurrentWebsite:T,shouldHideCookieWarning:w,isAutoActivatedCardLinkedOffer:A}}({offer:t,userOfferActivationInfo:n,hasUserJustCorrectedMerchantWebsiteTrackingConsentChoice:r,hasMerchantWebsiteTrackingConsentBannerRequestBeenCancelled:o,closeButtonDisplayedText:a.remindLater}),s=l.isWidgetOpenedAfterMerchantWebsiteTrackingConsentFlow,u=l.isWidgetDisplayed,y=l.userRegion,_=l.onClickWidgetHeaderCloseButton,S=l.isAdBlockerDetected,D=l.extensionType,W=l.closeWidget,M=l.isOfferActivationButtonLoading,N=l.isOfferActivated,R=l.onClickActivateOffer,j=l.shouldHideCookieWarning,U=l.isAutoActivatedCardLinkedOffer,z=k(t),H=z.isProductPage,F=z.isCheckoutPage,G=z.isBnplSectionEnabledForOffer,X=z.isTemporaryUser,K=!S||t.type!==d.OfferType.Online||D===d.ExtensionType.desktopSafariExtension||D===d.ExtensionType.mobileSafariExtension||D===d.ExtensionType.mobileAppBrowserExtension,V=D===d.ExtensionType.mobileSafariExtension||D===d.ExtensionType.mobileAppBrowserExtension;return c.default.createElement(I.default,i({widgetContentId:x.JokoExtensionElement.offerWidget,shouldDisableMobileScrolling:!0,shouldHideCloseButton:U,bodyStyle:{padding:"".concat(b.measurements.spacings.smallMedium," 0 ").concat(b.measurements.spacings.medium)}},{offer:t,isWidgetDisplayed:u,onClickWidgetHeaderCloseButton:_}),c.default.createElement(L,null,c.default.createElement(T.default,i({},{userRegion:y,shouldHideAdBlockerWarning:K})),r?c.default.createElement(P.DesignSystemCorrectMerchantWebsiteTrackingConsentChoiceAcknowledgementMessage,null):null,U?c.default.createElement(w.default,null):null),c.default.createElement(p.OfferLine,{offerType:t.type===d.OfferType.OneTime?p.OfferLineOfferType.cardLinked:p.OfferLineOfferType.online,offer:t,isMobileExtension:V,shouldBeHoverable:!0,shouldShowLogo:!0,avatarSize:f.AvatarSize.medium,avatarRadius:f.AvatarRadius.circle,textContentLayoutType:g.TextContentLayoutType.content,titleSize:m.TitleSize.medium,titleWeight:m.TitleWeight.semiBold,text:t.screen.title,shouldShowPrefix:!1,rightIcon:h.default,rightIconSize:b.measurements.icons.medium,onClick:function(){var e=(0,v.getUserBnplTransactionsFromLocalStorage)(t);(0,C.displayPanelAndLogEvents)({offer:t,userOfferActivationInfo:void 0,isProductPage:H,isCheckoutPage:F,bnpl:{isBnplSectionEnabledForOffer:G,userBnplTransactionsFromLocalStorage:e},isTemporaryUser:X,defaultPanelLocationOverride:void 0},"offerWidget"),W()}}),c.default.createElement(L,null,c.default.createElement(A.default,i({isOfferActivated:!!N},{offer:t,onClickCloseButton:_,onClickActivateOffer:R,isOfferActivationButtonLoading:M,shouldForceOnlineOfferActivationButtonDisplay:s,userOfferActivationInfo:n,closeWidget:W})),c.default.createElement(B.default,i({},{offer:t,shouldHideCookieWarning:j}))))};var D,k=function(e){var t=l(c.default.useState({}),2),n=t[0],r=t[1];return c.default.useEffect((function(){!function(){o(this,void 0,void 0,(function(){var t,n,i,o,s,c;return a(this,(function(a){switch(a.label){case 0:return[4,Promise.all([(0,S.checkIsProductAndCheckoutWebpage)(window.location.href),(0,_.checkIsBnplSectionEnabledForOffer)(e),(0,y.checkIsTemporaryUser)()])];case 1:return t=l.apply(void 0,[a.sent(),3]),n=t[0],i=n.isProductPage,o=n.isCheckoutPage,s=t[1],c=t[2],r({isProductPage:i,isCheckoutPage:o,isBnplSectionEnabledForOffer:s,isTemporaryUser:c}),[2]}}))}))}()}),[e]),n},L=u.default.div(D||(D=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: 0 ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: 0 ",";\n"])),b.measurements.spacings.small,b.measurements.spacings.medium)},99584:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(96540)),u=n(61698),d=s(n(38267)),f=n(55015),p=n(59812),g=n(67454),m=n(86028),h=l(n(96410)),b=n(17621),v=n(76764),x=s(n(3757));function y(e){var t=e.websiteName,n=e.hasSnoozedAllWebsites,r=e.onClickSnoozeForAllWebsitesButton,i=(0,f.useLocalizedTexts)().designSystem.contentscript.redesign.widgets.snoozingConfirmationWidget,o=t?t[0].toUpperCase()+t.slice(1):void 0,a=n?i.snoozeForAllWebsitesConfirmation:i.snoozeForCurrentWebsiteConfirmation({websiteName:o});return c.default.createElement(_,null,c.default.createElement(m.TextContent,{textContentLayoutType:m.TextContentLayoutType.content},c.default.createElement(h.default,{titleSize:h.TitleSize.medium,titleWeight:h.TitleWeight.bold,text:i.title,shouldAlignTextLeft:!0}),c.default.createElement(g.Subtitle,{subtitleSize:g.SubtitleSize.medium,text:a,shouldAlignTextLeft:!0})),n?null:c.default.createElement(p.Button,{hierarchy:p.ButtonHierarchy.primary,buttonSize:p.ButtonSize.smallUnderlined,buttonState:p.ButtonState.default,shouldShowLabel:!0,label:i.snoozeForAllWebsitesButton,onClick:r}))}t.default=function(e){var t=e.offerId,n=e.websiteName,r=(0,v.useSnoozingConfirmationWidgetInnerState)(t),o=r.isWidgetDisplayed,a=r.hasSnoozedAllWebsites,l=r.onClickSnoozeForAllWebsitesButton,s=r.onClickWidgetHeaderCloseButton;return c.default.createElement(x.default,i({widgetContentId:b.JokoExtensionElement.snoozingConfirmationWidget,shouldDisableMobileScrolling:!0,shouldHideSnoozeSettingsButton:!0},{isWidgetDisplayed:o,onClickWidgetHeaderCloseButton:s}),c.default.createElement(y,i({},{websiteName:n,hasSnoozedAllWebsites:a,onClickSnoozeForAllWebsitesButton:l})))};var E,_=d.default.div(E||(E=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," 0;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," 0;\n"])),u.measurements.spacings.medium,u.measurements.spacings.xSmall)},32967:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=n(61698),l=i(n(38267)),s=n(55015),c=n(59812),u=n(2286),d=n(4911),f=n(67454),p=n(86028),g=n(96410),m=n(47175),h=n(37392),b=n(77653),v=n(31229),x=n(23081),y=n(74617);t.default=function(e){var t=e.stopAutomationAndCloseWidget,n=e.state,r=(0,s.useLocalizedTexts)().designSystem.contentscript.couponAutomation.applicationWidget,i=function(e){var t=o.default.useMemo((function(){return e.passive?e.passive.coupons.length:e.active?e.active.coupons.length:e.done?e.done.coupons.length:2}),[e]);return t}(n),l=(0,b.useMerchantOfferMatchingUrlWithConditionsAndCoupons)(window.location.href),E=!!(0,x.useIsBnplSectionEnabledForOffer)(l),_=(0,v.useIsTemporaryUser)();return o.default.createElement(C,null,o.default.createElement(S,null,o.default.createElement(d.Avatar,{avatarSize:d.AvatarSize.medium,avatarRadius:d.AvatarRadius.circle,logoUrl:m.COUPY_ERROR_ILLUSTRATION_URL}),o.default.createElement(p.TextContent,{textContentLayoutType:p.TextContentLayoutType.centeredContent},o.default.createElement(a.Title,{text:r.errorContent.title,titleSize:g.TitleSize.small,titleWeight:g.TitleWeight.bold}),o.default.createElement(f.Subtitle,{subtitleSize:f.SubtitleSize.xSmall,text:r.errorContent.subtitle({isPlural:i>1})}))),o.default.createElement(u.ButtonSet,{buttonSetLayoutType:u.ButtonSetLayoutType.horizontal},o.default.createElement(c.Button,{hierarchy:c.ButtonHierarchy.primary,buttonState:c.ButtonState.default,buttonSize:c.ButtonSize.medium,shouldShowLabel:!0,label:r.closeButton,onClick:t,shouldTakeFullWidth:!0}),o.default.createElement(c.Button,{hierarchy:c.ButtonHierarchy.secondary,buttonState:c.ButtonState.default,buttonSize:c.ButtonSize.medium,shouldShowLabel:!0,label:r.errorContent.seeCouponsButton({isPlural:i>1}),onClick:function(){null!==(0,y.getPanelElement)()?(0,h.sendJokoDomEvent)(h.JokoDomEvent.onJokoPanelLocationChangeRequest,{panelLocation:{panelTab:s.PanelTab.offerDetails,offerDetailsSection:s.OfferDetailsSection.coupons}}):(0,b.getUserOfferActivationInfo)(l).then((function(e){return(0,y.displayPanelAndLogEvents)({offer:l,bnpl:{isBnplSectionEnabledForOffer:E},isTemporaryUser:_,defaultPanelLocationOverride:{panelTab:s.PanelTab.offerDetails,offerDetailsSection:s.OfferDetailsSection.coupons},userOfferActivationInfo:e},"couponErrorWidget")})),t()},shouldTakeFullWidth:!0})))};var E,_,C=l.default.div(E||(E=r(["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    gap: ",";\n"])),a.measurements.spacings.small),S=l.default.div(_||(_=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    gap: ",";\n    padding: "," 0;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    gap: ",";\n    padding: "," 0;\n"])),a.measurements.spacings.smallMedium,a.measurements.spacings.xSmall)},85475:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(96540)),c=l(n(38267)),u=n(55015),d=n(59812),f=n(4911),p=n(67454),g=n(86028),m=a(n(96410)),h=n(61698),b=n(17436),v=n(47175);t.default=function(e){var t=e.stopAutomationAndCloseWidget,n=(0,u.useLocalizedTexts)().designSystem.contentscript.couponAutomation.applicationWidget;return s.default.createElement(s.default.Fragment,null,s.default.createElement(y,null,s.default.createElement(f.Avatar,{logoUrl:v.COUPY_NO_SAVINGS_ILLUSTRATION_URL,avatarSize:f.AvatarSize.medium,avatarRadius:f.AvatarRadius.circle}),s.default.createElement(g.TextContent,{textContentLayoutType:g.TextContentLayoutType.content,shouldStretchAlongCrossAxis:!0},s.default.createElement(m.default,{text:n.noSavingsContent.title,titleSize:m.TitleSize.small,titleWeight:m.TitleWeight.bold,shouldAlignTextLeft:!0}),s.default.createElement(p.Subtitle,{text:n.noSavingsContent.subtitle,subtitleSize:p.SubtitleSize.xSmall,shouldAlignTextLeft:!0}))),s.default.createElement(h.Button,{hierarchy:d.ButtonHierarchy.primary,buttonState:d.ButtonState.default,buttonSize:d.ButtonSize.medium,shouldShowLabel:!0,label:n.closeButton,onClick:t,shouldTakeFullWidth:!0}))};var x,y=c.default.div(x||(x=r(["\n    display: flex;\n    gap: ",";\n    padding: ",";\n"],["\n    display: flex;\n    gap: ",";\n    padding: ",";\n"])),b.measurements.spacings.smallMedium,"".concat(b.measurements.spacings.xSmall," 0"))},73248:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(96540)),c=l(n(38267)),u=n(55015),d=n(68179),f=n(67454),p=n(86028),g=a(n(96410)),m=n(59674),h=n(17436),b=n(47175),v=n(64777);function x(){return s.default.createElement(L,null,s.default.createElement(W,null,s.default.createElement(R,{src:b.LIGHTNING_BOLT_PURPLE_ILLUSTRATION_URL}),s.default.createElement(j,{src:b.LIGHTNING_BOLT_PURPLE_ILLUSTRATION_URL}),s.default.createElement(U,{src:b.LIGHTNING_BOLT_PURPLE_ILLUSTRATION_URL}),s.default.createElement(z,{src:b.LIGHTNING_BOLT_PURPLE_ILLUSTRATION_URL}),s.default.createElement(M,{src:b.COUPY_MEDITATING_ILLUSTRATION_URL})),s.default.createElement(H,null,s.default.createElement(F,{src:b.COUPY_SHADOW_ILLUSTRATION_URL})))}t.default=function(e){var t=e.currentCouponCode,n=e.numberOfCoupons,r=e.numberOfTestedCoupons,i=(0,u.useLocalizedTexts)().designSystem.contentscript.couponAutomation.applicationWidget.progressContent;return s.default.createElement(D,null,s.default.createElement(x,null),s.default.createElement(k,null,s.default.createElement(p.TextContent,{textContentLayoutType:p.TextContentLayoutType.centeredContent,shouldStretchAlongCrossAxis:!0},s.default.createElement(g.default,{text:i.title({numberOfCoupons:n}),titleSize:g.TitleSize.small,titleWeight:g.TitleWeight.bold}),s.default.createElement(f.Subtitle,{text:i.count({numberOfTestedCoupons:r,numberOfCoupons:n}),subtitleSize:f.SubtitleSize.xSmall})),s.default.createElement(d.Pill,{pillSize:d.PillSize.medium,pillStyle:d.PillColorStyle.purple,pillOutlineStyle:d.PillOutlineStyle.squared,text:t})))};var y,E,_,C,S,O,T,w,A,P,B,I,D=c.default.div(y||(y=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    gap: ",";\n    padding: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    gap: ",";\n    padding: ",";\n"])),h.measurements.spacings.smallMedium,"".concat(h.measurements.spacings.xSmall," 0")),k=c.default.div(E||(E=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    gap: ",";\n"])),h.measurements.spacings.small),L=c.default.div(_||(_=r(["\n    top: 0;\n    left: 0;\n    width: 80px;\n    height: 60px;\n    margin-top: ",";\n"],["\n    top: 0;\n    left: 0;\n    width: 80px;\n    height: 60px;\n    margin-top: ",";\n"])),h.measurements.spacings.xSmall),W=c.default.div(C||(C=r(["\n    width: 80px;\n    height: 50px;\n    animation: meditate 2s ease-in-out infinite alternate;\n    animation-play-state: running;\n\n    @keyframes meditate {\n        0% {\n            transform: translateY(-5px);\n        }\n\n        100% {\n            transform: translateY(5px);\n        }\n    }\n"],["\n    width: 80px;\n    height: 50px;\n    animation: meditate 2s ease-in-out infinite alternate;\n    animation-play-state: running;\n\n    @keyframes meditate {\n        0% {\n            transform: translateY(-5px);\n        }\n\n        100% {\n            transform: translateY(5px);\n        }\n    }\n"]))),M=c.default.img(S||(S=r(["\n    position: absolute;\n    top: 0;\n    left: 16px;\n    width: 48px;\n    height: 56px;\n    ","\n"],["\n    position: absolute;\n    top: 0;\n    left: 16px;\n    width: 48px;\n    height: 56px;\n    ","\n"])),m.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),N=c.default.img(O||(O=r(["\n    position: absolute;\n    ","\n"],["\n    position: absolute;\n    ","\n"])),m.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),R=(0,c.default)(N)(T||(T=r(["\n    top: 6px;\n    left: 0;\n    width: 24px;\n    height: 16px;\n    transform: rotate(90deg);\n    animation: bounce-left-big 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-left-big {\n        10% {\n            transform: rotate(90deg);\n        }\n\n        90% {\n            transform: rotate(90deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: rotate(90deg) translate(-1px, 3px);\n        }\n    }\n"],["\n    top: 6px;\n    left: 0;\n    width: 24px;\n    height: 16px;\n    transform: rotate(90deg);\n    animation: bounce-left-big 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-left-big {\n        10% {\n            transform: rotate(90deg);\n        }\n\n        90% {\n            transform: rotate(90deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: rotate(90deg) translate(-1px, 3px);\n        }\n    }\n"]))),j=(0,c.default)(N)(w||(w=r(["\n    top: 6px;\n    left: 56px;\n    width: 24px;\n    height: 16px;\n    transform: scaleX(-1) rotate(90deg);\n    animation: bounce-right-big 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-right-big {\n        10% {\n            transform: scaleX(-1) rotate(90deg);\n        }\n\n        90% {\n            transform: scaleX(-1) rotate(90deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: scaleX(-1) rotate(90deg) translate(-1px, 3px);\n        }\n    }\n"],["\n    top: 6px;\n    left: 56px;\n    width: 24px;\n    height: 16px;\n    transform: scaleX(-1) rotate(90deg);\n    animation: bounce-right-big 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-right-big {\n        10% {\n            transform: scaleX(-1) rotate(90deg);\n        }\n\n        90% {\n            transform: scaleX(-1) rotate(90deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: scaleX(-1) rotate(90deg) translate(-1px, 3px);\n        }\n    }\n"]))),U=(0,c.default)(N)(A||(A=r(["\n    top: 40px;\n    left: 5px;\n    width: 16px;\n    height: 12px;\n    transform: rotate(40deg);\n    animation: bounce-left-small 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-left-small {\n        10% {\n            transform: rotate(40deg);\n        }\n\n        90% {\n            transform: rotate(40deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: rotate(40deg) translate(-1px, 3px);\n        }\n    }\n"],["\n    top: 40px;\n    left: 5px;\n    width: 16px;\n    height: 12px;\n    transform: rotate(40deg);\n    animation: bounce-left-small 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-left-small {\n        10% {\n            transform: rotate(40deg);\n        }\n\n        90% {\n            transform: rotate(40deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: rotate(40deg) translate(-1px, 3px);\n        }\n    }\n"]))),z=(0,c.default)(N)(P||(P=r(["\n    top: 42px;\n    left: 58px;\n    width: 14px;\n    height: 10px;\n    transform: scaleX(-1) rotate(40deg);\n    animation: bounce-right-small 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-right-small {\n        10% {\n            transform: scaleX(-1) rotate(40deg);\n        }\n\n        90% {\n            transform: scaleX(-1) rotate(40deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: scaleX(-1) rotate(40deg) translate(-1px, 3px);\n        }\n    }\n"],["\n    top: 42px;\n    left: 58px;\n    width: 14px;\n    height: 10px;\n    transform: scaleX(-1) rotate(40deg);\n    animation: bounce-right-small 0.5s ease-in-out infinite alternate;\n\n    @keyframes bounce-right-small {\n        10% {\n            transform: scaleX(-1) rotate(40deg);\n        }\n\n        90% {\n            transform: scaleX(-1) rotate(40deg) translate(-1px, 3px);\n        }\n\n        100% {\n            transform: scaleX(-1) rotate(40deg) translate(-1px, 3px);\n        }\n    }\n"]))),H=(0,c.default)(v.CenteredContainer)(B||(B=r(["\n    margin-top: ",";\n"],["\n    margin-top: ",";\n"])),h.measurements.spacings.smallMedium),F=c.default.img(I||(I=r(["\n    width: 30px;\n    height: 10px;\n    animation: shadow-effect 2s ease-in-out infinite alternate;\n    animation-play-state: running;\n\n    @keyframes shadow-effect {\n        0% {\n            transform: scale(0.7);\n        }\n\n        100% {\n            transform: scale(1.3);\n        }\n    }\n"],["\n    width: 30px;\n    height: 10px;\n    animation: shadow-effect 2s ease-in-out infinite alternate;\n    animation-play-state: running;\n\n    @keyframes shadow-effect {\n        0% {\n            transform: scale(0.7);\n        }\n\n        100% {\n            transform: scale(1.3);\n        }\n    }\n"])))},71602:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(96540)),c=l(n(38267)),u=n(55015),d=n(59812),f=n(4911),p=n(68179),g=n(67454),m=n(86028),h=a(n(96410)),b=n(61698),v=n(17436),x=n(47175);t.default=function(e){var t=e.initialPrice,n=e.bestPrice,r=e.priceCurrency,i=e.bestCouponCode,o=e.stopAutomationAndCloseWidget,a=(0,u.useLocalizedTexts)().designSystem.contentscript.couponAutomation.applicationWidget,l=void 0!==t&&void 0!==n?t-n:0,c=s.default.useMemo((function(){return(0,u.formatCurrencyAmount)({localizedFormat:(0,u.getLocalizedFormatFromCurrency)(r),number:l})}),[l]),v=l>0?a.successContent.withPriceDrop.title({formattedSavedAmount:c}):a.successContent.withoutPriceDrop.title,y=l>0?a.successContent.withPriceDrop.subtitle:a.successContent.withoutPriceDrop.subtitle;return s.default.createElement(s.default.Fragment,null,s.default.createElement(_,null,s.default.createElement(f.Avatar,{logoUrl:x.COUPY_SUCCESS_ILLUSTRATION_URL,avatarSize:f.AvatarSize.medium,avatarRadius:f.AvatarRadius.circle}),s.default.createElement(C,null,s.default.createElement(m.TextContent,{textContentLayoutType:m.TextContentLayoutType.content,shouldStretchAlongCrossAxis:!0},s.default.createElement(h.default,{text:v,titleSize:h.TitleSize.small,titleWeight:h.TitleWeight.bold,shouldAlignTextLeft:!0}),s.default.createElement(g.Subtitle,{text:y,subtitleSize:g.SubtitleSize.xSmall,shouldAlignTextLeft:!0})),s.default.createElement(b.Pill,{pillSize:p.PillSize.medium,pillStyle:p.PillColorStyle.purple,pillOutlineStyle:p.PillOutlineStyle.squared,text:i}))),s.default.createElement(b.Button,{hierarchy:d.ButtonHierarchy.primary,buttonState:d.ButtonState.default,buttonSize:d.ButtonSize.medium,shouldShowLabel:!0,label:a.closeButton,onClick:o,shouldTakeFullWidth:!0}))};var y,E,_=c.default.div(y||(y=r(["\n    display: flex;\n    gap: ",";\n    padding: ",";\n"],["\n    display: flex;\n    gap: ",";\n    padding: ",";\n"])),v.measurements.spacings.smallMedium,"".concat(v.measurements.spacings.xSmall," 0")),C=c.default.div(E||(E=r(["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    gap: ",";\n"])),v.measurements.spacings.xSmall)},90382:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=n(17621),s=n(73703),c=o(n(32967)),u=o(n(85475)),d=o(n(73248)),f=o(n(71602)),p=o(n(3757));function g(e){var t,n,o,l,s,p,g=e.hasError,m=e.state,h=e.stopAutomationAndCloseWidget,b=i(a.default.useState(!1),2),v=b[0],x=b[1];if(a.default.useEffect((function(){g&&setTimeout((function(){return x(!0)}),250)}),[g]),v)return a.default.createElement(c.default,r({},{stopAutomationAndCloseWidget:h,state:m}));if(m.done){var y=m.done,E=y.basePrice,_=y.bestPrice,C=y.priceCurrency,S=y.bestCoupon;return S?a.default.createElement(f.default,r({},{initialPrice:E,bestPrice:_,bestCouponCode:S.code,priceCurrency:C,stopAutomationAndCloseWidget:h})):a.default.createElement(u.default,r({},{stopAutomationAndCloseWidget:h}))}return m.active?a.default.createElement(d.default,r({},(t=m.active,n=t.coupons,o=t.couponIndex,l=n[o].code,s=n.length,p=t.isFinal?s:o,{currentCouponCode:l,numberOfTestedCoupons:p,numberOfCoupons:s}))):null}t.default=function(e){var t=e.initialState,n=e.hasErrorAtInit,i=(0,s.useCouponApplicationWidgetInnerState)(t,n),o=i.state,c=i.stopAutomationAndCloseWidget,u=i.isWidgetDisplayed,d=i.hasError,f=i.closeWidget;return d||o.active||o.done?a.default.createElement(p.default,r({widgetContentId:l.JokoExtensionElement.couponApplicationWidget,onClickWidgetHeaderCloseButton:c,shouldDisableMobileScrolling:!0,shouldCenterWidgetOnDesktop:!0,shouldHideSnoozeSettingsButton:!0,shouldDimBackground:!0},{isWidgetDisplayed:u}),a.default.createElement(g,r({},{hasError:d,state:o,stopAutomationAndCloseWidget:c,closeWidget:f}))):null}},31669:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(59812),u=n(4911),d=n(67454),f=n(86028),p=n(96410),g=n(17436),m=n(47175),h=n(17621),b=n(73703),v=o(n(3757));t.default=function(e){var t=e.startCouponApplication,n=e.numberOfCoupons,r=e.offerId,o=(0,b.useCouponAutomationProposalWidgetInnerState)({startCouponApplication:t,offerId:r}),l=o.isWidgetDisplayed,x=o.onClickWidgetCloseButton,E=o.onClickStartButton,_=(0,s.useLocalizedTexts)().designSystem.contentscript.couponAutomation.proposalWidget({numberOfCoupons:n});return a.default.createElement(v.default,i({widgetContentId:h.JokoExtensionElement.couponAutomationProposalWidget,shouldDisableMobileScrolling:!0,onClickWidgetHeaderCloseButton:x},{isWidgetDisplayed:l}),a.default.createElement(y,null,a.default.createElement(u.Avatar,{avatarType:u.AvatarType.image,avatarSize:u.AvatarSize.medium,avatarRadius:u.AvatarRadius.circle,logoUrl:m.COUPY_SUCCESS_ILLUSTRATION_URL}),a.default.createElement(f.TextContent,{textContentLayoutType:f.TextContentLayoutType.content},a.default.createElement(p.Title,{titleSize:p.TitleSize.small,titleWeight:p.TitleWeight.bold,text:"".concat(n," ").concat(_.title),shouldAlignTextLeft:!0}),a.default.createElement(d.Subtitle,{subtitleSize:d.SubtitleSize.xSmall,text:_.subtitle,color:g.colors.content.default,shouldAlignTextLeft:!0}))),a.default.createElement(c.Button,{hierarchy:c.ButtonHierarchy.primary,buttonState:c.ButtonState.default,buttonSize:c.ButtonSize.medium,shouldShowLabel:!0,label:_.startButton,onClick:E,shouldTakeFullWidth:!0}))};var x,y=l.default.div(x||(x=r(["\n    display: flex;\n    gap: ",";\n    padding: ",";\n"],["\n    display: flex;\n    gap: ",";\n    padding: ",";\n"])),g.measurements.spacings.smallMedium,"".concat(g.measurements.spacings.xSmall," 0"))},41409:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=n(16964);t.default=function(e){var t=e.offer;return o.default.createElement(a.DesignSystemMerchantWebsiteTrackingConsentWidgets,r({},{offer:t,widgetType:"merchantWebsiteTrackingConsentError"}))}},1235:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=n(16964);t.default=function(e){var t=e.offer;return o.default.createElement(a.DesignSystemMerchantWebsiteTrackingConsentWidgets,r({},{offer:t,widgetType:"merchantWebsiteTrackingConsentSuggestion"}))}},16964:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DesignSystemCorrectMerchantWebsiteTrackingConsentChoiceAcknowledgementMessage=t.DesignSystemMerchantWebsiteTrackingConsentWidgets=void 0;var c=s(n(96540)),u=s(n(38267)),d=n(55015),f=n(59812),p=n(2286),g=n(67454),m=n(86028),h=l(n(96410)),b=n(30503),v=s(n(86580)),x=n(17436),y=n(17621),E=n(50671),_=n(76688),C=n(94700),S=s(n(3757));t.DesignSystemMerchantWebsiteTrackingConsentWidgets=function(e){var t=e.widgetType,n=e.offer,r=function(e,t){var n=(0,C.useWidgetDisplay)(),r=n.isWidgetDisplayed,i=n.closeWidget,o=n.onWidgetInnerStateLoadEnd,a=c.default.useCallback((function(){i(),(0,_.logClickedMerchantWebsiteTrackingConsentWidgetCloseButtonEvents)(e.offerId,t)}),[i]);return c.default.useEffect((function(){setTimeout(o,100)}),[]),{isWidgetDisplayed:r,onClickWidgetHeaderCloseButton:a,closeWidget:i}}(n,t),o=r.isWidgetDisplayed,a=r.onClickWidgetHeaderCloseButton,l=r.closeWidget,s=(0,d.useLocalizedTexts)().designSystem.contentscript.merchantWebsiteTrackingConsentWidget;return c.default.createElement(S.default,i({widgetContentId:"merchantWebsiteTrackingConsentSuggestion"===t?y.JokoExtensionElement.merchantWebsiteTrackingConsentSuggestionWidget:y.JokoExtensionElement.merchantWebsiteTrackingConsentErrorWidget,shouldDisableMobileScrolling:!0},{offer:n,isWidgetDisplayed:o,onClickWidgetHeaderCloseButton:a}),c.default.createElement(T,null,c.default.createElement(m.TextContent,{textContentLayoutType:m.TextContentLayoutType.centeredContent},c.default.createElement(h.default,{titleSize:h.TitleSize.medium,titleWeight:h.TitleWeight.bold,text:s.title}),c.default.createElement(g.Subtitle,{subtitleSize:g.SubtitleSize.small,text:s.subtitle(n.screen.title)})),c.default.createElement(p.ButtonSet,{buttonSetLayoutType:p.ButtonSetLayoutType.vertical},c.default.createElement(f.Button,{hierarchy:f.ButtonHierarchy.primary,buttonState:f.ButtonState.default,buttonSize:f.ButtonSize.medium,shouldShowLabel:!0,label:s.triggerBannerButton,onClick:function(){(0,E.triggerMerchantWebsiteTrackingConsentBanner)(n),(0,_.logClickedMerchantWebsiteTrackingConsentWidgetButtonEvents)(n.offerId,t,"triggerBannerButton")},shouldTakeFullWidth:!0}),c.default.createElement(f.Button,{hierarchy:f.ButtonHierarchy.primary,buttonState:f.ButtonState.default,buttonSize:f.ButtonSize.smallUnderlined,shouldShowLabel:!0,label:s.cancelButton,onClick:function(){l(),(0,_.logClickedMerchantWebsiteTrackingConsentWidgetButtonEvents)(n.offerId,t,"cancelButton")}}))))},t.DesignSystemCorrectMerchantWebsiteTrackingConsentChoiceAcknowledgementMessage=function(){var e=(0,d.useLocalizedTexts)().designSystem.contentscript.redesign.widgets.offerWidget.correctMerchantWebsiteTrackingConsentChoiceAcknowledgementMessage;return c.default.createElement(b.Banner,{bannerStyle:b.BannerStyle.positive,shouldShowLeftIcon:!0,leftIconSvgComponent:v.default},c.default.createElement(g.Subtitle,{subtitleSize:g.SubtitleSize.small,text:e,color:x.colors.content.default}))};var O,T=u.default.div(O||(O=r(["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    gap: ",";\n\n    // The vertical padding of the tracking consent widget is slightly bigger than the default one\n    padding: "," 0;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    gap: ",";\n\n    // The vertical padding of the tracking consent widget is slightly bigger than the default one\n    padding: "," 0;\n"])),x.measurements.spacings.medium,x.measurements.spacings.xSmall)},50842:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=n(55015),l=n(17621),s=n(9516),c=n(78776),u=i(n(3757));t.default=function(){var e=(0,s.usePriceComparisonFeedbackSubmittedWidgetInnerState)(),t=e.isWidgetDisplayed,n=e.onClickWidgetHeaderCloseButton,i=(0,a.useLocalizedTexts)().contentscript.redesign.widgets.priceComparisonFeedbackSubmittedWidget;return o.default.createElement(u.default,r({widgetContentId:l.JokoExtensionElement.priceComparisonFeedbackSubmittedWidget,shouldDisableMobileScrolling:!0,shouldHideCloseButton:!1},{isWidgetDisplayed:t,onClickWidgetHeaderCloseButton:n}),o.default.createElement(c.ContentBoldSubtitle,{style:{marginBottom:8,alignSelf:"flex-start"}},i.subtitle),o.default.createElement(c.ContentSemiBoldSubtitle,{style:{alignSelf:"flex-start"}},i.description))}},28353:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(96540)),s=a(n(38267)),c=n(55015),u=n(17621),d=n(26368),f=n(13279),p=a(n(51186)),g=n(78776),m=a(n(3757)),h=a(n(45829));function b(e){var t=e.onClick,n=e.style,r=o(l.default.useState("black"),2),a=r[0],s=r[1];return l.default.createElement(_,i({onMouseEnter:function(){return s("white")},onMouseLeave:function(){return s("black")}},{onClick:t,style:n}),l.default.createElement(h.default,{fill:a}))}t.default=function(e){var t,n,r,o,a=e.currentWebpageUrl,s=e.currentWebpageOffer,d=e.currentWebpageProductData,h=(0,f.usePriceComparisonFeedbackWidgetInnerState)({currentWebpageUrl:a,currentWebpageOffer:s}),v=h.isWidgetDisplayed,x=h.onClickWidgetHeaderCloseButton,_=h.buildOnClickFeedbackButton,C=(0,c.useLocalizedTexts)().contentscript.redesign.widgets.priceComparisonFeedbackWidget;return l.default.createElement(m.default,i({widgetContentId:u.JokoExtensionElement.priceComparisonFeedbackWidget,shouldDisableMobileScrolling:!0,shouldHideCloseButton:!1},{isWidgetDisplayed:v,onClickWidgetHeaderCloseButton:x}),l.default.createElement(g.ContentBoldSubtitle,{style:{alignSelf:"flex-start"}},C.subtitle),l.default.createElement(E,null,l.default.createElement(p.default,{webpageUrl:a,imageUrl:null!==(t=null==d?void 0:d.productData.imageUrl)&&void 0!==t?t:"",productTitleToDisplay:null!==(n=null==d?void 0:d.productData.name)&&void 0!==n?n:"",productPriceAmount:null!==(r=null==d?void 0:d.productData.priceAmount)&&void 0!==r?r:0,productPriceCurrency:null!==(o=null==d?void 0:d.productData.priceCurrency)&&void 0!==o?o:"",isProductCurrentlyBrowsed:!0,imageSize:y}),l.default.createElement(b,{onClick:_("positive"),style:{marginRight:4}}),l.default.createElement(b,{onClick:_("negative"),style:{transform:"rotate(180deg)"}})))};var v,x,y=60,E=s.default.div(v||(v=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: fill-available;\n    padding: 8px 0;\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: fill-available;\n    padding: 8px 0;\n"]))),_=s.default.button(x||(x=r(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 50px;\n    height: 30px;\n    padding: 4px 12px;\n    border: 2px solid ",";\n    border-radius: 1000px;\n    background-color: transparent;\n    ","\n\n    &:hover {\n        background-color: ",";\n    }\n"],["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 50px;\n    height: 30px;\n    padding: 4px 12px;\n    border: 2px solid ",";\n    border-radius: 1000px;\n    background-color: transparent;\n    ","\n\n    &:hover {\n        background-color: ",";\n    }\n"])),c.colors.black,d.CLICKABLE_ELEMENT_CSS_MIXIN,c.colors.black)},45376:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(17621),u=n(32668),d=n(26368),f=n(37790),p=o(n(51186)),g=n(78776),m=n(85826),h=o(n(3757));t.default=function(e){var t,n,r,o,l,d=e.currentWebpageUrl,g=e.currentWebpageOffer,b=e.currentWebpageProductData,v=e.priceComparisonData,x=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.priceComparisonWidget,S=(0,f.usePriceComparisonWidgetInnerState)({currentWebpageUrl:d,currentWebpageOffer:g}),O=S.isWidgetDisplayed,T=S.onClickWidgetHeaderCloseButton,w=S.onClickShowMoreProductAlternativesButton,A=(0,u.checkIsOnMobileScreen)(),P=v.productAlternativesWithAssociatedOffers;return a.default.createElement(h.default,i({widgetContentId:c.JokoExtensionElement.priceComparisonWidget,shouldDisableMobileScrolling:!0,shouldHideCloseButton:!1},{isWidgetDisplayed:O,onClickWidgetHeaderCloseButton:T}),a.default.createElement(E,null,a.default.createElement(p.default,{webpageUrl:d,imageUrl:null!==(t=null==b?void 0:b.productData.imageUrl)&&void 0!==t?t:"",productTitleToDisplay:null!==(n=null==b?void 0:b.productData.name)&&void 0!==n?n:"",productPriceAmount:null!==(r=null==b?void 0:b.productData.priceAmount)&&void 0!==r?r:0,productPriceCurrency:null!==(o=null==b?void 0:b.productData.priceCurrency)&&void 0!==o?o:"",isProductCurrentlyBrowsed:!0,imageSize:y})),a.default.createElement(C,null,x.subtitle),a.default.createElement(m.ProductAlternativesList,i({webpageUrl:d,wasCheaperAlternativeDetected:!0,shouldDisplayBestPriceTagOnCheapestAlternative:!0,fromComponent:"priceComparisonWidget",productAlternativesWithAssociatedOffers:(null==P?void 0:P.slice(0,f.MAXIMUM_NUMBER_OF_PRODUCT_ALTERNATIVES_DISPLAYED_IN_PRICE_COMPARISON_WIDGET))||[]},{isMobileExtension:A})),(null!==(l=null==P?void 0:P.length)&&void 0!==l?l:0)>f.MAXIMUM_NUMBER_OF_PRODUCT_ALTERNATIVES_DISPLAYED_IN_PRICE_COMPARISON_WIDGET?a.default.createElement(_,{onClick:w},x.showMore):null)};var b,v,x,y=60,E=l.default.div(b||(b=r(["\n    width: fill-available;\n    padding: 8px 0;\n"],["\n    width: fill-available;\n    padding: 8px 0;\n"]))),_=l.default.button(v||(v=r(["\n    align-self: flex-start;\n    margin-top: 10px;\n    padding: 0;\n    background-color: white;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid #d9d9d9;\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    align-self: flex-start;\n    margin-top: 10px;\n    padding: 0;\n    background-color: white;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid #d9d9d9;\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),d.CLICKABLE_ELEMENT_CSS_MIXIN),C=(0,l.default)(g.ContentBoldSubtitle)(x||(x=r(["\n    align-self: flex-start;\n    margin-top: 12px;\n    margin-bottom: 8px;\n"],["\n    align-self: flex-start;\n    margin-top: 12px;\n    margin-bottom: 8px;\n"])))},96394:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=n(12233),l=i(n(41409)),s=n(17255);t.default=function(e){var t=e.offer;return(0,a.useIsDesignSystemModeActivated)().isDesignSystemModeActivated?o.default.createElement(l.default,r({},{offer:t})):o.default.createElement(s.MerchantWebsiteTrackingConsentWidget,r({},{offer:t,widgetType:"merchantWebsiteTrackingConsentError"}))}},8042:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=n(12233),l=i(n(1235)),s=n(17255);t.default=function(e){var t=e.offer;return(0,a.useIsDesignSystemModeActivated)().isDesignSystemModeActivated?o.default.createElement(l.default,r({},{offer:t})):o.default.createElement(s.MerchantWebsiteTrackingConsentWidget,r({},{offer:t,widgetType:"merchantWebsiteTrackingConsentSuggestion"}))}},17255:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CorrectMerchantWebsiteTrackingConsentChoiceAcknowledgementMessage=t.MerchantWebsiteTrackingConsentWidget=void 0;var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(47175),u=n(17621),d=n(26368),f=n(50671),p=n(76688),g=n(94700),m=n(10570),h=n(64777),b=n(78776),v=o(n(3757));t.MerchantWebsiteTrackingConsentWidget=function(e){var t=e.widgetType,n=e.offer,r=function(e,t){var n=(0,g.useWidgetDisplay)(),r=n.isWidgetDisplayed,i=n.closeWidget,o=n.onWidgetInnerStateLoadEnd,l=a.default.useCallback((function(){i(),(0,p.logClickedMerchantWebsiteTrackingConsentWidgetCloseButtonEvents)(e.offerId,t)}),[i]);return a.default.useEffect((function(){setTimeout(o,100)}),[]),{isWidgetDisplayed:r,onClickWidgetHeaderCloseButton:l,closeWidget:i}}(n,t),o=r.isWidgetDisplayed,l=r.onClickWidgetHeaderCloseButton,c=r.closeWidget,d=(0,s.useLocalizedTexts)().contentscript.merchantWebsiteTrackingConsentWidget;return a.default.createElement(v.default,i({widgetContentId:"merchantWebsiteTrackingConsentSuggestion"===t?u.JokoExtensionElement.merchantWebsiteTrackingConsentSuggestionWidget:u.JokoExtensionElement.merchantWebsiteTrackingConsentErrorWidget,shouldDisableMobileScrolling:!0},{offer:n,isWidgetDisplayed:o,onClickWidgetHeaderCloseButton:l}),a.default.createElement(b.ContentTitle,{style:{marginBottom:12}},d.title),a.default.createElement(S,{style:{lineHeight:"15px",marginBottom:16}},d.subtitle(n.screen.title)),a.default.createElement(m.BlackButton,{isFullWidth:!0,isThin:!0,style:{marginBottom:12},onClick:function(){(0,f.triggerMerchantWebsiteTrackingConsentBanner)(n),(0,p.logClickedMerchantWebsiteTrackingConsentWidgetButtonEvents)(n.offerId,t,"triggerBannerButton")}},d.triggerBannerButton),a.default.createElement(O,{onClick:function(){c(),(0,p.logClickedMerchantWebsiteTrackingConsentWidgetButtonEvents)(n.offerId,t,"cancelButton")}},d.cancelButton))},t.CorrectMerchantWebsiteTrackingConsentChoiceAcknowledgementMessage=function(){var e=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.offerWidget.correctMerchantWebsiteTrackingConsentChoiceAcknowledgementMessage;return a.default.createElement(T,null,a.default.createElement(w,{src:c.CHECK_MARK_BLACK_ICON_URL}),a.default.createElement(A,null,e))};var x,y,E,_,C,S=(0,l.default)(b.ContentSubtitle)(x||(x=r(["\n    text-align: center;\n"],["\n    text-align: center;\n"]))),O=(0,l.default)(b.ContentSubtitle)(y||(y=r(["\n    text-decoration: underline;\n    text-underline-offset: 2px;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    text-decoration: underline;\n    text-underline-offset: 2px;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),d.CLICKABLE_ELEMENT_CSS_MIXIN),T=(0,l.default)(h.RowLeftCenterContainer)(E||(E=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: fill-available;\n    min-height: 28px;\n    margin: 12px 0 4px;\n    padding-left: 10px;\n    border-radius: 8px;\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: fill-available;\n    min-height: 28px;\n    margin: 12px 0 4px;\n    padding-left: 10px;\n    border-radius: 8px;\n    background-color: ",";\n"])),s.colors.hintOfGreen),w=l.default.img(_||(_=r(["\n    width: 8px;\n    height: 6px;\n    object-fit: contain;\n    margin-right: 4px;\n"],["\n    width: 8px;\n    height: 6px;\n    object-fit: contain;\n    margin-right: 4px;\n"]))),A=(0,l.default)(s.Ambit)(C||(C=r(["\n    font-weight: 600;\n    font-size: 14px;\n    color: ",";\n"],["\n    font-weight: 600;\n    font-size: 14px;\n    color: ",";\n"])),s.colors.black)},54100:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=i(n(38267)),l=n(55015),s=n(64242),c=n(47248),u=n(47175),d=n(26368),f=n(46239),p=n(78776);t.default=function(e){var t=e.offer,n=e.userRegion,r=e.isAdBlockerDetected,i=e.extensionType,a=(0,s.useShouldUseIntercom)(),d=o.default.useMemo((function(){return(0,l.getLocalizedAdBlockerHelpCenterArticleUrl)(n,a)}),[n,a]),p=o.default.useCallback((function(){(0,f.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"Browser Extension - Clicked Ad Blocker Detected Help Button"}}}),(0,f.sendMessageToBackgroundScript)({message:"openTab",data:{url:d}})}),[d]),g=(0,l.useLocalizedTexts)().contentscript.redesign.widgets.offerWidget.adBlockerWarningMessage;return r&&t.type===l.OfferType.Online?i===c.ExtensionType.desktopSafariExtension||i===c.ExtensionType.mobileSafariExtension||i===c.ExtensionType.mobileAppBrowserExtension?null:o.default.createElement(y,null,o.default.createElement(O,{src:u.WARNING_TRIANGLE_RED_ICON_URL}),o.default.createElement(E,null,o.default.createElement(_,null,g.title),o.default.createElement(C,null,g.subtitle),o.default.createElement(S,{onClick:p},g.helpButton))):null};var g,m,h,b,v,x,y=a.default.div(g||(g=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    box-sizing: border-box;\n    width: fill-available;\n    height: 79px;\n    margin-bottom: 12px;\n    padding: 12px 16px;\n    border-radius: 8px;\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    box-sizing: border-box;\n    width: fill-available;\n    height: 79px;\n    margin-bottom: 12px;\n    padding: 12px 16px;\n    border-radius: 8px;\n    background-color: ",";\n"])),l.colors.sauvignon),E=a.default.div(m||(m=r(["\n    display: flex;\n    flex-direction: column;\n"],["\n    display: flex;\n    flex-direction: column;\n"]))),_=(0,a.default)(p.ContentBoldSubtitle)(h||(h=r(["\n    line-height: 19px;\n    color: ",";\n"],["\n    line-height: 19px;\n    color: ",";\n"])),l.colors.flamingo),C=(0,a.default)(p.ContentSemiBoldText)(b||(b=r(["\n    line-height: 19px;\n"],["\n    line-height: 19px;\n"]))),S=(0,a.default)(C)(v||(v=r(["\n    text-decoration: underline;\n    white-space: pre;\n    ","\n"],["\n    text-decoration: underline;\n    white-space: pre;\n    ","\n"])),d.CLICKABLE_ELEMENT_CSS_MIXIN),O=a.default.img(x||(x=r(["\n    width: 28px;\n    height: 28px;\n    margin-right: 16px;\n    ","\n"],["\n    width: 28px;\n    height: 28px;\n    margin-right: 16px;\n    ","\n"])),d.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN)},52954:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(17621),u=n(26368),d=n(67441),f=n(22794),p=n(86829),g=o(n(3757));t.default=function(e){var t=e.currentWebpageOffer,n=e.alternativeOffers,r=e.userOfferActivationInfo,o=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.alternativeOffersWidget,l=(0,f.useAlternativeOffersWidgetInnerState)({currentWebpageOffer:t,alternativeOffers:n,userOfferActivationInfo:r}),u=l.isWidgetDisplayed,m=l.userRegion,b=l.onClickWidgetHeaderCloseButton,v=l.onClickAlternativeOffer,x=l.onClickShowMoreAlternativeOffersButton,y=l.isDisplayAlternativeOffersInPanelAppFeatureEnabled;return a.default.createElement(g.default,i({widgetContentId:c.JokoExtensionElement.alternativeOffersWidget,shouldDisableMobileScrolling:!0,shouldHideCloseButton:!1},{isWidgetDisplayed:u,onClickWidgetHeaderCloseButton:b}),a.default.createElement(p.AlternativeOffers,i({},{currentWebpageOffer:t,userRegion:m,onClickAlternativeOffer:v},{alternativeOffers:(null==n?void 0:n.slice(0,f.MAX_NUMBER_OF_ALTERNATIVE_OFFERS_DISPLAYED_IN_ALTERNATIVE_OFFERS_WIDGET))||[]})),y&&n&&n.length>f.MAX_NUMBER_OF_ALTERNATIVE_OFFERS_DISPLAYED_IN_ALTERNATIVE_OFFERS_WIDGET&&(0,d.checkCanDisplayAlternativeOffersInPanel)(t)?a.default.createElement(h,{onClick:x},o.showMore):null)};var m,h=l.default.button(m||(m=r(["\n    align-self: flex-start;\n    margin-top: 10px;\n    padding: 0;\n    background-color: white;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid #d9d9d9;\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    align-self: flex-start;\n    margin-top: 10px;\n    padding: 0;\n    background-color: white;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid #d9d9d9;\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),u.CLICKABLE_ELEMENT_CSS_MIXIN)},64953:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=i(n(38267)),l=n(55015),s=n(47175),c=n(64777);t.default=function(){var e=(0,l.useLocalizedTexts)().contentscript.redesign.widgets.offerWidget.cashback.onetimeOffer.cardLinkedOfferAutoActivationMessage;return o.default.createElement(p,null,o.default.createElement(g,{src:s.CHECK_MARK_GREEN_ICON_URL}),o.default.createElement(m,null,e))};var u,d,f,p=(0,a.default)(c.RowLeftCenterContainer)(u||(u=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: fill-available;\n    min-height: 28px;\n    padding: 12px 8px;\n    margin-bottom: 8px;\n    border-radius: 8px;\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: fill-available;\n    min-height: 28px;\n    padding: 12px 8px;\n    margin-bottom: 8px;\n    border-radius: 8px;\n    background-color: ",";\n"])),l.colors.hintOfGreen),g=a.default.img(d||(d=r(["\n    width: 16px;\n    height: 16px;\n    object-fit: contain;\n    margin-right: 8px;\n"],["\n    width: 16px;\n    height: 16px;\n    object-fit: contain;\n    margin-right: 8px;\n"]))),m=(0,a.default)(l.Ambit)(f||(f=r(["\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 120%;\n    color: ",";\n"],["\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 120%;\n    color: ",";\n"])),l.colors.black)},15764:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(18051)),s=o(n(38267)),c=n(55015),u=n(17621),d=n(32221),f=n(64777),p=n(78776),g=o(n(3757)),m=n(35916);function h(){return a.default.createElement(l.default,{style:{width:50,height:50,marginTop:-12},animationData:m,loop:!1})}t.default=function(){var e=(0,d.useCashbackActivationConfirmationWidgetInnerState)(),t=e.isWidgetDisplayed,n=e.onClickWidgetHeaderCloseButton,r=(0,c.useLocalizedTexts)().contentscript.redesign.widgets.cashbackActivationConfirmationWidget;return a.default.createElement(g.default,i({widgetContentId:u.JokoExtensionElement.cashbackActivationConfirmationWidget,shouldDisableMobileScrolling:!0,shouldHideCloseButton:!1},{isWidgetDisplayed:t,onClickWidgetHeaderCloseButton:n}),a.default.createElement(h,null),a.default.createElement(f.RowLeftCenterContainer,null,a.default.createElement(v,null,r.titlePrefix),a.default.createElement(v,{style:{marginLeft:6,color:c.colors.malachite}},r.titleSuffix)),a.default.createElement(p.ContentSemiBoldSubtitle,{style:{fontSize:16}},r.subtitle))};var b,v=(0,s.default)(p.ContentTitle)(b||(b=r(["\n    align-self: flex-start;\n    margin-bottom: 8px;\n    font-size: 22px;\n"],["\n    align-self: flex-start;\n    margin-bottom: 8px;\n    font-size: 22px;\n"])))},42969:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(89710),u=n(16868),d=o(n(43310)),f=n(10570);function p(e){var t=e.offer,n=e.onClickOfferConditionsButton,r=e.isOfferActivationButtonLoading,o=e.isOfferActivated,l=e.onClickActivateOffer,c=e.shouldForceDisplay,p=e.shouldDisplayConditionsButton,g=e.customActivateOfferButtonHeight,m=e.activateOfferTextOverrideValue,h=e.shouldAnimateActivateOfferButton,v=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.offerWidget.cashback.onlineOffer.offerDetailsButton;return(0,u.checkShouldDisplayCashbackInformationInWidgetForOffer)({offer:t,shouldForceDisplay:c})?a.default.createElement(b,null,a.default.createElement(d.default,i({},{isOfferActivated:o,onClickActivateOffer:l,customActivateOfferButtonHeight:g,activateOfferTextOverrideValue:m,shouldAnimateActivateOfferButton:h},{isLoading:r,isFullWidth:!0,isThin:!0})),p?a.default.createElement(f.WhiteButtonWithBlackBorder,{style:{marginLeft:8},onClick:n},v):null):null}function g(e){var t=e.offer,n=e.userOfferActivationInfo,r=e.onClickOfferConditionsButton,i=e.closeWidget,o=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.offerWidget.cashback.onetimeOffer;return void 0!==n?a.default.createElement(b,null,a.default.createElement(v,{isFullWidth:!0,isThin:!0,onClick:function(){var e;(0,c.requestCardLinkedOfferNonAffiliateTrackingLinkLoading)({offer:t,triggeringEventType:s.UserInterfaceComponentInteractionEventType.cardLinkedOfferAutoActivationAcknowledgementButton}),(0,s.updateLocalStorageItem)(s.LocalStorageKey.offerWidgetLastClosedInSessionTimestampMsMap,((e={})[t.offerId]=Date.now(),e)),null==i||i()}},o.cardLinkedOfferAutoActivationAcknowledgementButton)):a.default.createElement(b,null,a.default.createElement(f.WhiteButtonWithBlackBorder,{isFullWidth:!0,isThin:!0,onClick:r},o.offerDetailsButton))}t.default=function(e){var t=e.offer,n=e.onClickOfferConditionsButton,r=e.isOfferActivationButtonLoading,o=e.isOfferActivated,l=e.onClickActivateOffer,c=e.shouldForceOnlineOfferActivationButtonDisplay,u=e.userOfferActivationInfo,d=e.closeWidget,f=e.shouldDisplayConditionsButton,m=e.customActivateOfferButtonHeight,h=e.activateOfferTextOverrideValue,b=e.shouldAnimateActivateOfferButton;switch(t.type){case s.OfferType.Online:return a.default.createElement(p,i({},{offer:t,onClickOfferConditionsButton:n,isOfferActivationButtonLoading:r,isOfferActivated:o,onClickActivateOffer:l,shouldForceDisplay:c,shouldDisplayConditionsButton:f,customActivateOfferButtonHeight:m,activateOfferTextOverrideValue:h,shouldAnimateActivateOfferButton:b}));case s.OfferType.OneTime:return a.default.createElement(g,i({},{offer:t,onClickOfferConditionsButton:n,userOfferActivationInfo:u,closeWidget:d}));default:return null}};var m,h,b=l.default.div(m||(m=r(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    margin: 12px 0 4px;\n"],["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    margin: 12px 0 4px;\n"]))),v=(0,l.default)(f.BlackButton)(h||(h=r(["\n    padding: 8px 12px;\n    font-weight: 700;\n    font-size: 14px;\n"],["\n    padding: 8px 12px;\n    font-weight: 700;\n    font-size: 14px;\n"])))},81380:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(17621),u=n(69568),d=n(52852),f=n(10570),p=o(n(3757)),g=!1,m=!0,h=!0;function b(e){var t=e.onClickActivateOffer,n=e.isOfferActivationButtonLoading,r=e.closeAndSnoozeWidget,i=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.cashbackReactivationAtCheckoutWidget.activateOfferButton;return a.default.createElement(x,{isFullWidth:!0,isThin:!1,onClick:function(){t(),setTimeout(r,1)}},n?a.default.createElement(s.SpinningWheel,{scale:.3,color:s.colors.white}):a.default.createElement(a.default.Fragment,null,i))}t.default=function(e){var t=e.offer,n=e.userOfferActivationInfo,r=function(e){var t=e.offer,n=e.userOfferActivationInfo,r=(0,d.useCashbackReactivationAtCheckoutWidgetInnerState)({offer:t,userOfferActivationInfo:n}),i=r.isWidgetDisplayed,o=r.userRegion,a=r.isTemporaryUser,l=r.onClickOfferConditionsButton,c=r.onClickWidgetCloseButton,f=r.closeWidget,p=(0,u.useOfferActivationButtonState)({offer:t,userInterfaceComponentInteractionEventType:s.UserInterfaceComponentInteractionEventType.cashbackReactivationAtCheckoutWidgetActivateOfferButton,closeWidgetOrPanel:f}),g=p.isOfferActivationButtonLoading,m=p.isOfferActivated,h=p.onClickActivateOffer;return{isWidgetDisplayed:i,userRegion:o,isTemporaryUser:a,onClickOfferConditionsButton:l,onClickWidgetCloseButton:c,closeWidget:f,isOfferActivationButtonLoading:g,isOfferActivated:m,onClickActivateOffer:h}}({offer:t,userOfferActivationInfo:n}),o=r.isWidgetDisplayed,l=r.userRegion,f=r.isTemporaryUser,v=r.onClickOfferConditionsButton,x=r.onClickWidgetCloseButton,y=r.closeWidget,E=r.isOfferActivationButtonLoading,_=r.onClickActivateOffer,C=g,S=m,O=h;return(0,d.useCloseWidgetOnOfferActivation)({offer:t,isTemporaryUser:f,closeWidget:y}),a.default.createElement(p.default,i({widgetContentId:c.JokoExtensionElement.offerWidget,shouldDisableMobileScrolling:!0,shouldHideCloseButton:!1,onClickWidgetHeaderCloseButton:x},{offer:t,isWidgetDisplayed:o}),a.default.createElement(s.OfferInfoWithBigCashbackRate,i({},{offer:t,userRegion:l,onClickOfferConditionsButton:v,shouldDisplayOfferLogo:C,shouldDisplayMerchantName:S,shouldDisplayCalloutForBoostedRate:O},{shouldIncludeMargins:!1})),a.default.createElement(b,i({closeAndSnoozeWidget:x},{onClickActivateOffer:_,isOfferActivationButtonLoading:E})))};var v,x=(0,l.default)(f.BlackButton)(v||(v=r(["\n    height: 44px;\n    margin-top: 8px;\n    font-weight: 700;\n    font-size: 14px;\n"],["\n    height: 44px;\n    margin-top: 8px;\n    font-weight: 700;\n    font-size: 14px;\n"])))},80550:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(12233),u=n(47175),d=n(17621),f=n(26368),p=n(69568),g=n(10518),m=n(64777),h=n(54165),b=n(78776),v=o(n(97618)),x=o(n(42969)),y=o(n(3757)),E=o(n(54229)),_={shouldDisplayOfferLogo:!1,shouldDisplayMerchantName:!0,shouldDisplayCashbackAmountInRed:!0,shouldDisplayCashbackReminderLastChanceCallout:!0,shouldUseDesignSystemColors:!0,customActivateOfferButtonHeight:44};function C(e){var t=e.offer,n=e.userOfferActivationInfo,r=(0,g.useCashbackReminderWidgetInnerState)({offer:t,userOfferActivationInfo:n}),o=r.isWidgetDisplayed,l=r.userRegion,c=r.onClickOfferConditionsButton,u=r.onClickWidgetCloseButton,f=r.closeWidget,m=(0,p.useOfferActivationButtonState)({offer:t,userInterfaceComponentInteractionEventType:s.UserInterfaceComponentInteractionEventType.cashbackReminderWidgetActivateButton,closeWidgetOrPanel:f}),h=m.isOfferActivationButtonLoading,b=m.isOfferActivated,v=m.onClickActivateOffer;return a.default.createElement(y.default,i({widgetContentId:d.JokoExtensionElement.cashbackReminderWidget,shouldDisableMobileScrolling:!0},{isWidgetDisplayed:o,onClickWidgetHeaderCloseButton:u}),a.default.createElement(O,null),a.default.createElement(F,null,a.default.createElement(s.OfferInfo,i({},{offer:t,userRegion:l},{shouldShowCashback:!0,shouldIncludeMargins:!1}))),a.default.createElement(x.default,i({isOfferActivated:!!b,shouldForceOnlineOfferActivationButtonDisplay:!0},{offer:t,onClickOfferConditionsButton:c,onClickActivateOffer:v,isOfferActivationButtonLoading:h})))}function S(e){var t=e.offer,n=e.userOfferActivationInfo,r=e.shouldDisplayOfferLogo,o=e.shouldDisplayMerchantName,l=e.shouldDisplayCashbackAmountInRed,c=e.shouldDisplayCashbackReminderLastChanceCallout,u=e.lastChanceCalloutBackgroundColor,m=e.shouldUseDesignSystemColors,b=e.customActivateOfferButtonHeight,v=e.customCloseButtonStyle,E=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.cashbackReminderWidget.closeButton,_=(0,g.useCashbackReminderWidgetInnerState)({offer:t,userOfferActivationInfo:n,closeButtonDisplayedText:E.renounce}),C=_.isWidgetDisplayed,S=_.userRegion,w=_.onClickOfferConditionsButton,A=_.onClickWidgetCloseButton,P=_.closeWidget,B=(0,p.useOfferActivationButtonState)({offer:t,userInterfaceComponentInteractionEventType:s.UserInterfaceComponentInteractionEventType.cashbackReminderWidgetActivateButton,closeWidgetOrPanel:P}),I=B.isOfferActivationButtonLoading,D=B.isOfferActivated,k=B.onClickActivateOffer;return a.default.createElement(y.default,i({widgetContentId:d.JokoExtensionElement.cashbackReminderWidget,shouldDisableMobileScrolling:!0,shouldHideCloseButton:!0,bodyStyle:{padding:"".concat(f.WIDGET_VERTICAL_PADDING,"px 0 0 0")}},{isWidgetDisplayed:C,onClickWidgetHeaderCloseButton:A}),a.default.createElement(M,null,c?a.default.createElement(T,i({},{lastChanceCalloutBackgroundColor:u,shouldUseDesignSystemColors:m})):a.default.createElement(O,null),a.default.createElement(s.OfferInfoWithBigCashbackRate,i({},{offer:t,userRegion:S,onClickOfferConditionsButton:w,shouldDisplayOfferLogo:r,shouldDisplayMerchantName:o,shouldDisplayCashbackAmountInRed:l,shouldUseDesignSystemColors:m},{shouldIncludeMargins:!1})),o?null:a.default.createElement("div",{style:{marginBottom:4}}),a.default.createElement(x.default,i({},{offer:t,onClickOfferConditionsButton:w,onClickActivateOffer:k,isOfferActivationButtonLoading:I,customActivateOfferButtonHeight:b},{isOfferActivated:!!D,shouldDisplayConditionsButton:!1,shouldForceOnlineOfferActivationButtonDisplay:!0})),a.default.createElement(G,{onClick:A,style:v},E.renounce)),a.default.createElement(h.AverageCashbackEarnedSocialProof,i({},{offer:t,userRegion:S})))}function O(){var e=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.cashbackReminderWidget.message;return a.default.createElement(N,null,a.default.createElement(H,{src:u.CLOCK_BLACK_ICON_URL}),a.default.createElement(R,null,a.default.createElement(U,null,e.title),a.default.createElement(z,null,e.subtitle)))}function T(e){var t=e.lastChanceCalloutBackgroundColor,n=e.shouldUseDesignSystemColors,r=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.cashbackReminderWidget.lastChanceCallout;return a.default.createElement(j,{backgroundColor:(null!=t?t:n)?s.colors.alizarinCrimson:void 0},a.default.createElement(E.default,{fill:n?s.colors.white:s.colors.black}),a.default.createElement(b.ContentTitle,{style:{color:n?s.colors.white:void 0}},r))}t.default=function(e){var t=(0,c.useIsDesignSystemModeActivated)().isDesignSystemModeActivated;switch(e.widgetVariant){case g.CashbackReminderWidgetVariants.legacyCashbackReminderWidget:return t?a.default.createElement(v.default,i({},e)):a.default.createElement(C,i({},e));case g.CashbackReminderWidgetVariants.defaultCashbackReminderWidget:return a.default.createElement(S,i({},e,_));case g.CashbackReminderWidgetVariants.cashbackReminderWidgetWithGreySecondaryCta:return a.default.createElement(S,i({},e,_,{customCloseButtonStyle:{borderBottom:"none",color:s.colors.doveGray}}));default:return a.default.createElement(S,i({},e,_))}};var w,A,P,B,I,D,k,L,W,M=(0,l.default)(m.ColumnTopCenterContainer)(w||(w=r(["\n    box-sizing: border-box;\n    width: 100%;\n    padding: 0 ","px;\n"],["\n    box-sizing: border-box;\n    width: 100%;\n    padding: 0 ","px;\n"])),f.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),N=l.default.div(A||(A=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    box-sizing: border-box;\n    width: fill-available;\n    margin-bottom: 12px;\n    padding: 12px 16px;\n    border-radius: 8px;\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    box-sizing: border-box;\n    width: fill-available;\n    margin-bottom: 12px;\n    padding: 12px 16px;\n    border-radius: 8px;\n    background-color: ",";\n"])),s.colors.concrete),R=l.default.div(P||(P=r(["\n    display: flex;\n    flex-direction: column;\n"],["\n    display: flex;\n    flex-direction: column;\n"]))),j=l.default.div(B||(B=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 4px;\n    margin-bottom: 16px;\n    padding: 4px 8px;\n    border-radius: 8px;\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 4px;\n    margin-bottom: 16px;\n    padding: 4px 8px;\n    border-radius: 8px;\n    background-color: ",";\n"])),(function(e){var t=e.backgroundColor;return null!=t?t:s.colors.tintOfRose})),U=(0,l.default)(b.ContentBoldSubtitle)(I||(I=r(["\n    line-height: 19px;\n    color: ",";\n"],["\n    line-height: 19px;\n    color: ",";\n"])),s.colors.black),z=(0,l.default)(b.ContentSemiBoldText)(D||(D=r(["\n    line-height: 19px;\n    color: ",";\n"],["\n    line-height: 19px;\n    color: ",";\n"])),s.colors.black),H=l.default.img(k||(k=r(["\n    width: 28px;\n    height: 28px;\n    margin-right: 16px;\n    ","\n"],["\n    width: 28px;\n    height: 28px;\n    margin-right: 16px;\n    ","\n"])),f.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),F=l.default.div(L||(L=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    width: 100%;\n    margin-bottom: 4px;\n    ","\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    width: 100%;\n    margin-bottom: 4px;\n    ","\n"])),f.CLICKABLE_ELEMENT_CSS_MIXIN),G=l.default.button(W||(W=r(["\n    margin-top: 10px;\n    padding: 0;\n    background-color: white;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    margin-top: 10px;\n    padding: 0;\n    background-color: white;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),s.colors.alto,f.CLICKABLE_ELEMENT_CSS_MIXIN)},33121:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(24543),u=n(37392),d=n(17621),f=n(26368),p=n(69568),g=n(75614),m=n(10570),h=n(64777),b=o(n(3757)),v=(0,c.getExtensionAssetUrl)("/assets");function x(e){var t=e.onClickActivateOffer,n=e.isOfferActivationButtonLoading,r=e.closeAndSnoozeWidget,i=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.cashbackTrackingLostWidget.reactivateOfferButton;return a.default.createElement(O,{isFullWidth:!0,isThin:!1,onClick:function(){t(),setTimeout(r,1)}},n?a.default.createElement(s.SpinningWheel,{scale:.3,color:s.colors.white}):a.default.createElement(a.default.Fragment,null,i))}t.default=function(e){var t=e.offer,n=e.userOfferActivationInfo,r=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.cashbackTrackingLostWidget,o=(0,g.useCashbackTrackingLostWidgetInnerState)({offer:t,userOfferActivationInfo:n,closeButtonDisplayedText:r.closeButton}),l=o.isWidgetDisplayed,c=o.userRegion,f=o.onClickOfferConditionsButton,m=o.onClickWidgetCloseButton,y=o.closeWidget,E=(0,p.useOfferActivationButtonState)({offer:t,userInterfaceComponentInteractionEventType:s.UserInterfaceComponentInteractionEventType.cashbackTrackingLostWidgetReactivateButton,closeWidgetOrPanel:y,wasCashbackActivationOverriddenByThirdParty:!0}),_=E.isOfferActivationButtonLoading,C=E.onClickActivateOffer;return a.default.createElement(b.default,i({widgetContentId:d.JokoExtensionElement.cashbackTrackingLostWidget,shouldDisableMobileScrolling:!0,shouldHideHeader:!0,shouldCenterWidgetOnDesktop:!0,bodyStyle:{gap:"20px",padding:"20px"}},{isWidgetDisplayed:l,onClickWidgetHeaderCloseButton:m}),a.default.createElement(w,{src:"".concat(v,"/logo.svg")}),a.default.createElement(h.ColumnTopCenterContainer,null,a.default.createElement(A,null,r.title),a.default.createElement(s.OfferInfoWithBigCashbackRate,i({shouldDisplayOfferLogo:!1,shouldIncludeMargins:!1},{offer:t,userRegion:c,onClickOfferConditionsButton:f}))),a.default.createElement(P,null,r.description),a.default.createElement(h.ColumnTopCenterContainer,{style:{width:"100%"}},a.default.createElement(x,i({closeAndSnoozeWidget:m},{onClickActivateOffer:C,isOfferActivationButtonLoading:_})),a.default.createElement(T,{onClick:function(){(0,u.sendJokoDomEvent)(u.JokoDomEvent.onCashbackTrackingLostWidgetClosed,{}),m()}},r.closeButton)))};var y,E,_,C,S,O=(0,l.default)(m.BlackButton)(y||(y=r(["\n    font-weight: 700;\n    font-size: 16px;\n"],["\n    font-weight: 700;\n    font-size: 16px;\n"]))),T=l.default.button(E||(E=r(["\n    margin-top: 12px;\n    padding: 0;\n    background-color: white;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    margin-top: 12px;\n    padding: 0;\n    background-color: white;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),s.colors.alto,f.CLICKABLE_ELEMENT_CSS_MIXIN),w=l.default.img(_||(_=r(["\n    width: 50px;\n    height: 50px;\n"],["\n    width: 50px;\n    height: 50px;\n"]))),A=(0,l.default)(s.Ambit)(C||(C=r(["\n    font-weight: 700;\n    font-size: 22px;\n    text-align: center;\n    color: ",";\n"],["\n    font-weight: 700;\n    font-size: 22px;\n    text-align: center;\n    color: ",";\n"])),s.colors.black),P=(0,l.default)(s.Ambit)(S||(S=r(["\n    font-weight: 600;\n    font-size: 16px;\n    text-align: center;\n    color: ",";\n"],["\n    font-weight: 600;\n    font-size: 16px;\n    text-align: center;\n    color: ",";\n"])),s.colors.doveGray)},3497:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(96540)),a=i(n(38267)),l=n(55015),s=n(7444),c=n(78776),u=i(n(61967));function d(){var e=(0,l.useLocalizedTexts)().contentscript.redesign.widgets.offerWidget.cashback.onlineOffer.cookieWarningMessage;return(0,s.useAppFeature)(l.Feature.hideBrowserExtensionWidgetCookieMessage)?null:o.default.createElement(p,null,o.default.createElement(u.default,{highlightedStyle:{fontWeight:600}},e))}t.default=function(e){var t=e.offer,n=e.shouldHideCookieWarning;if(t.type===l.OfferType.Online)return n?null:o.default.createElement(d,null);return null};var f,p=(0,a.default)(c.ContentText)(f||(f=r(["\n    display: inline;\n    width: fill-available;\n    margin-top: 12px;\n    line-height: 12px;\n"],["\n    display: inline;\n    width: fill-available;\n    margin-top: 12px;\n    line-height: 12px;\n"])))},88500:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(12233),u=n(17621),d=n(26368),f=n(69568),p=n(16868),g=n(64777),m=n(54165),h=o(n(24192)),b=n(17255),v=o(n(54100)),x=o(n(64953)),y=o(n(42969)),E=o(n(3497)),_=n(36454),C=o(n(3757)),S={shouldDisplayOfferLogo:!1,shouldDisplayMerchantName:!0,shouldDisplayCalloutForBoostedRate:!0,customActivateOfferButtonHeight:44,customCloseButtonStyle:{borderBottom:"none",color:s.colors.doveGray}};function O(e){var t=e.offer,n=e.userOfferActivationInfo,r=e.hasUserJustCorrectedMerchantWebsiteTrackingConsentChoice,o=w({offer:t,userOfferActivationInfo:n,hasUserJustCorrectedMerchantWebsiteTrackingConsentChoice:r,hasMerchantWebsiteTrackingConsentBannerRequestBeenCancelled:e.hasMerchantWebsiteTrackingConsentBannerRequestBeenCancelled}),l=o.isWidgetOpenedAfterMerchantWebsiteTrackingConsentFlow,c=o.isWidgetDisplayed,d=o.userRegion,f=o.isTemporaryUser,g=o.onClickOfferConditionsButton,m=o.onClickWidgetHeaderCloseButton,h=o.shouldShowCashback,S=o.couponPromotionButtonProps,O=o.bnplPromotionButtonProps,T=o.isAdBlockerDetected,A=o.extensionType,P=o.closeWidget,B=o.isOfferActivationButtonLoading,I=o.isOfferActivated,k=o.onClickActivateOffer,L=o.shouldHideCookieWarning,W=o.isAutoActivatedCardLinkedOffer;return(0,p.useCloseWidgetOnOfferActivation)({offer:t,isTemporaryUser:f,closeWidget:P}),a.default.createElement(C.default,i({widgetContentId:u.JokoExtensionElement.offerWidget,shouldDisableMobileScrolling:!0,shouldHideCloseButton:W},{offer:t,isWidgetDisplayed:c,onClickWidgetHeaderCloseButton:m}),a.default.createElement(v.default,i({},{offer:t,userRegion:d,isAdBlockerDetected:T,extensionType:A})),W?a.default.createElement(x.default,null):null,a.default.createElement(D,null,a.default.createElement(s.OfferInfo,i({},{offer:t,userRegion:d,shouldShowCashback:h},{shouldIncludeMargins:!1}))),r?a.default.createElement(b.CorrectMerchantWebsiteTrackingConsentChoiceAcknowledgementMessage,null):null,a.default.createElement(y.default,i({isOfferActivated:!!I,shouldDisplayConditionsButton:!0},{offer:t,onClickOfferConditionsButton:g,onClickActivateOffer:k,isOfferActivationButtonLoading:B,shouldForceOnlineOfferActivationButtonDisplay:l,userOfferActivationInfo:n,closeWidget:P})),t.type!==s.OfferType.OneTime?a.default.createElement(a.default.Fragment,null,a.default.createElement(_.CouponPromotionButton,i({},S)),a.default.createElement(_.BnplPromotionButton,i({},O))):null,a.default.createElement(E.default,i({},{offer:t,shouldHideCookieWarning:L})))}function T(e){var t=e.offer,n=e.userOfferActivationInfo,r=e.hasUserJustCorrectedMerchantWebsiteTrackingConsentChoice,o=e.hasMerchantWebsiteTrackingConsentBannerRequestBeenCancelled,l=e.shouldDisplayOfferLogo,c=e.shouldDisplayMerchantName,f=e.customActivateOfferButtonHeight,g=e.shouldDisplayCalloutForBoostedRate,h=e.activateOfferTextOverrideValue,x=e.cashbackDescriptionTextOverrideValue,E=e.shouldAnimateActivateOfferButton,_=e.shouldUseBottomSheetDisplayStyle,S=e.cashbackDescriptionPrefixOverrideValue,O=e.customCloseButtonStyle,T=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.offerWidget.closeButton,A=w({offer:t,userOfferActivationInfo:n,hasUserJustCorrectedMerchantWebsiteTrackingConsentChoice:r,hasMerchantWebsiteTrackingConsentBannerRequestBeenCancelled:o,closeButtonDisplayedText:T.renounce}),P=A.isWidgetOpenedAfterMerchantWebsiteTrackingConsentFlow,B=A.isWidgetDisplayed,D=A.userRegion,L=A.isTemporaryUser,W=A.onClickOfferConditionsButton,M=A.onClickWidgetHeaderCloseButton,N=A.isAdBlockerDetected,R=A.extensionType,j=A.closeWidget,U=A.isOfferActivationButtonLoading,z=A.isOfferActivated,H=A.onClickActivateOffer;(0,p.useCloseWidgetOnOfferActivation)({offer:t,isTemporaryUser:L,closeWidget:j});var F={bottom:0,width:"100%",borderRadius:"24px 24px 0 0",boxShadow:"0px -5px 24px -5px ".concat(s.colors.black)};return a.default.createElement(C.default,i({widgetContentId:u.JokoExtensionElement.offerWidget,shouldDisableMobileScrolling:!0,shouldHideCloseButton:!0,customWidgetContainerStyle:_?F:void 0,bodyStyle:{padding:"".concat(d.WIDGET_VERTICAL_PADDING,"px 0 0 0")}},{offer:t,isWidgetDisplayed:B,onClickWidgetHeaderCloseButton:M}),a.default.createElement(I,null,a.default.createElement(v.default,i({},{offer:t,userRegion:D,isAdBlockerDetected:N,extensionType:R})),a.default.createElement(s.OfferInfoWithBigCashbackRate,i({},{offer:t,userRegion:D,onClickOfferConditionsButton:W,shouldDisplayOfferLogo:l,shouldDisplayMerchantName:c,shouldDisplayCalloutForBoostedRate:g,cashbackDescriptionTextOverrideValue:x,cashbackDescriptionPrefixOverrideValue:S},{shouldIncludeMargins:!1})),r?a.default.createElement(b.CorrectMerchantWebsiteTrackingConsentChoiceAcknowledgementMessage,null):null,a.default.createElement(y.default,i({isOfferActivated:!!z,shouldDisplayConditionsButton:!1},{offer:t,onClickOfferConditionsButton:W,onClickActivateOffer:H,isOfferActivationButtonLoading:U,shouldForceOnlineOfferActivationButtonDisplay:P,userOfferActivationInfo:n,closeWidget:j,customActivateOfferButtonHeight:f,activateOfferTextOverrideValue:h,shouldAnimateActivateOfferButton:E})),a.default.createElement(k,{onClick:M,style:O},T.renounce)),a.default.createElement(m.AverageCashbackEarnedSocialProof,i({},{offer:t,userRegion:D})))}function w(e){var t=e.offer,n=e.userOfferActivationInfo,r=e.hasUserJustCorrectedMerchantWebsiteTrackingConsentChoice,i=e.hasMerchantWebsiteTrackingConsentBannerRequestBeenCancelled,o=e.closeButtonDisplayedText,a=!(!r&&!i),l=(0,p.useOfferWidgetInnerState)(t,n,a,o),c=l.isWidgetDisplayed,u=l.userRegion,d=l.isTemporaryUser,g=l.onClickOfferConditionsButton,m=l.onClickWidgetHeaderCloseButton,h=l.shouldShowCashback,b=l.couponPromotionButtonProps,v=l.bnplPromotionButtonProps,x=l.isAdBlockerDetected,y=l.extensionType,E=l.closeWidget,_=(0,f.useOfferActivationButtonState)({offer:t,userInterfaceComponentInteractionEventType:s.UserInterfaceComponentInteractionEventType.offerWidgetActivateButton,closeWidgetOrPanel:E,isWidgetOpenedAfterMerchantWebsiteTrackingConsentFlow:a}),C=_.isOfferActivationButtonLoading,S=_.isOfferActivated,O=_.onClickActivateOffer,T=_.merchantWebsiteTrackingConsentBannerTriggeringInformation,w=_.hasUserGivenFullTrackingConsentOnCurrentWebsite;return{isWidgetOpenedAfterMerchantWebsiteTrackingConsentFlow:a,isWidgetDisplayed:c,userRegion:u,isTemporaryUser:d,onClickOfferConditionsButton:g,onClickWidgetHeaderCloseButton:m,shouldShowCashback:h,couponPromotionButtonProps:b,bnplPromotionButtonProps:v,isAdBlockerDetected:x,extensionType:y,closeWidget:E,isOfferActivationButtonLoading:C,isOfferActivated:S,onClickActivateOffer:O,merchantWebsiteTrackingConsentBannerTriggeringInformation:T,hasUserGivenFullTrackingConsentOnCurrentWebsite:w,shouldHideCookieWarning:a||(null==T?void 0:T.shouldCheckConsentChoiceOnActivationClick)||w,isAutoActivatedCardLinkedOffer:t.type===s.OfferType.OneTime&&void 0!==n}}t.default=function(e){var t=e.widgetVariant;if((0,c.useIsDesignSystemModeActivated)().isDesignSystemModeActivated)return a.default.createElement(h.default,i({},e));switch(t){case p.OfferWidgetVariants.defaultOfferWidget:return a.default.createElement(T,i({},e,S));case p.OfferWidgetVariants.lightRayCtaOfferWidget:return a.default.createElement(T,i({},e,S,{shouldAnimateActivateOfferButton:!0}));default:return a.default.createElement(O,i({},e))}};var A,P,B,I=(0,l.default)(g.ColumnTopCenterContainer)(A||(A=r(["\n    box-sizing: border-box;\n    width: 100%;\n    padding: 0 ","px;\n"],["\n    box-sizing: border-box;\n    width: 100%;\n    padding: 0 ","px;\n"])),d.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),D=l.default.div(P||(P=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    width: 100%;\n    margin-bottom: 4px;\n    ","\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    width: 100%;\n    margin-bottom: 4px;\n    ","\n"])),d.CLICKABLE_ELEMENT_CSS_MIXIN),k=l.default.button(B||(B=r(["\n    margin-top: 10px;\n    padding: 0;\n    background-color: white;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid #d9d9d9;\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    margin-top: 10px;\n    padding: 0;\n    background-color: white;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid #d9d9d9;\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),d.CLICKABLE_ELEMENT_CSS_MIXIN)},36454:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CouponPromotionButton=t.BnplPromotionButton=void 0;var a=o(n(96540)),l=o(n(38267)),s=n(55015),c=n(47175),u=n(26368),d=n(78776),f=n(64777);function p(e){var t=e.buttonText,n=e.onClickPromotionButton,r=e.promotionIconBackgroundColor,o=e.promotionIconComponent;return a.default.createElement(x,{onClick:n},a.default.createElement(f.RowLeftCenterContainer,null,a.default.createElement(y,i({},{promotionIconBackgroundColor:r}),o),a.default.createElement(d.ContentBoldSubtitle,{style:{marginLeft:8}},t)),a.default.createElement(C,{src:c.CHEVRON_DOWN_ICON_URL}))}t.BnplPromotionButton=function(e){var t=e.shouldDisplayBnplPromotion,n=e.onClickPromotionButton,r=e.promotionIconBackgroundColor,o=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.offerWidget.bnplPromotionButton,l=o.text,c=o.icon;return t?a.default.createElement(p,i({},{buttonText:l,onClickPromotionButton:n,promotionIconBackgroundColor:r},{promotionIconComponent:a.default.createElement(_,null,c)})):null},t.CouponPromotionButton=function(e){var t=e.shouldDisplayCouponPromotion,n=e.numberOfAvailableCoupons,r=e.onClickPromotionButton,o=e.promotionIconBackgroundColor,l=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.offerWidget.couponPromotionButton({numberOfAvailableCoupons:n||0});return t&&void 0!==n?a.default.createElement(p,i({},{buttonText:l,onClickPromotionButton:r,promotionIconBackgroundColor:o},{promotionIconComponent:a.default.createElement(E,{src:c.COUPON_WITHOUT_PERCENT_ICON_URL})})):null};var g,m,h,b,v,x=l.default.div(g||(g=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: baseline;\n    width: 100%;\n    margin-top: 12px;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: baseline;\n    width: 100%;\n    margin-top: 12px;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),u.CLICKABLE_ELEMENT_CSS_MIXIN),y=(0,l.default)(f.CenteredContainer)(m||(m=r(["\n    width: 28px;\n    height: 28px;\n    border-radius: 50%;\n    background-color: ",";\n"],["\n    width: 28px;\n    height: 28px;\n    border-radius: 50%;\n    background-color: ",";\n"])),(function(e){var t=e.promotionIconBackgroundColor;return s.colors[t]})),E=l.default.img(h||(h=r(["\n    width: 10px;\n    height: 10px;\n"],["\n    width: 10px;\n    height: 10px;\n"]))),_=(0,l.default)(f.CenteredContainer)(b||(b=r(["\n    flex-direction: column;\n    width: 16.5px;\n    height: 11px;\n    border-radius: 3px;\n    background-color: ",";\n    font-family: ",";\n    font-weight: 700;\n    font-size: 7px;\n    line-height: 120%;\n    text-align: center;\n    color: ",";\n"],["\n    flex-direction: column;\n    width: 16.5px;\n    height: 11px;\n    border-radius: 3px;\n    background-color: ",";\n    font-family: ",";\n    font-weight: 700;\n    font-size: 7px;\n    line-height: 120%;\n    text-align: center;\n    color: ",";\n"])),s.colors.black,s.fontFamilyAmbit,s.colors.white),C=l.default.img(v||(v=r(["\n    width: 13px;\n    height: 13px;\n    transform: rotate(-90deg);\n"],["\n    width: 13px;\n    height: 13px;\n    transform: rotate(-90deg);\n"])))}}]);
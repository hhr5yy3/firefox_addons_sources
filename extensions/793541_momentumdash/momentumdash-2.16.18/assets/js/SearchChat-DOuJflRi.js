import{u as t}from"./index-B0SY0IAS.js";import{o as e,B as i,O as o,r}from"./icon-alert-mvI7iJMO.js";import{C as s}from"./ChatContent-CO1B2b9q.js";import{g as n}from"./globalKeyEventManager-FFJ3_dcn.js";import"./localStorage-C5mLf9Kt.js";import"./preload-helper-DmNsytk6.js";import"./string-VUUyAM1F.js";import"./AppView-Qx0X2CIl.js";import"./index-S6WCWdQc.js";import"./migrateLegacyUserMessageHandler-D55cXb1Z.js";import"./main-DbylMrX8.js";import"./google-DKPAcOmk.js";import"./icon-back-D_TFrgyJ.js";import"./SmoothReflow-CBWUjKVT.js";import"./allComponentsMounted-C3UsG_cA.js";import"./AppViewSwitchDynamic-UURtKiXb.js";import"./AppHeader-eAd5pkN8.js";import"./AppHeaderControl-DtHppUzb.js";import"./icon-hide-NFfBhfBx.js";import"./AppEmpty-C2yt7YWV.js";import"./chat-BNZtlj49.js";import"./icon-plus-D4YOesIc.js";import"./arrow-up-1QPpu78M.js";const a={up:"up",down:"down"};const p=e({name:"SearchChat",components:{ChatContent:s,ProvideAppDimensions:e({name:"ProvideAppDimensions",provide(){const t=this;return{appDimensions:{get maxHeight(){return t.maxHeight},get height(){return t.rect.height.value},get width(){return t.rect.width.value}}}},props:{direction:{type:String,required:!0,validator:t=>Object.values(a).includes(t)}},setup(){const e=i(null);return{el:e,rect:t(e)}},computed:{maxHeight(){return this.direction===a.up?this.rect.bottom.value-o.dashboardVerticalPaddingPx:r.windowDimensions.height-this.rect.top.value-o.dashboardVerticalPaddingPx}}},(function(){var t=this;return(0,t._self._c)("div",{ref:"el",style:{"--content-max-height":t.maxHeight+"px"}},[t._t("default")],2)}),[],!1,null,null).exports},inject:["viewStateStore"],unreactive:()=>({directionEnum:a}),mounted(){n.registerEventListener("closeApp","keyup",27,(()=>this.$emit("close")))},destroyed(){n.removeEventListener("closeApp","keyup",27)}},(function(){var t=this,e=t._self._c;return e("provide-app-dimensions",{staticClass:"search-chat bg",class:{focused:t.viewStateStore.focused,unfocused:!t.viewStateStore.focused},attrs:{"data-test":"search-ask-ai",direction:t.directionEnum.up},nativeOn:{click:function(e){return t.viewStateStore.focus()}}},[e("chat-content",{on:{close:function(e){return t.$emit("close")}}})],1)}),[],!1,null,"d6298c95").exports;export{p as default};
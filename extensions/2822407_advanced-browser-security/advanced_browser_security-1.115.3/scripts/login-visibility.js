/*! For license information please see login-visibility.js.LICENSE.txt */
(()=>{var e={398:(e,t,n)=>{"use strict";e.exports=globalThis.browser??n(570)},570:function(e,t){var n,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},o=e=>1==e?"argument":"arguments",s=(e,t,n)=>new Proxy(t,{apply:(t,r,i)=>n.call(r,e,...i)});let a=Function.call.bind(Object.prototype.hasOwnProperty);const u=(e,t={},n={})=>{let r=Object.create(null),c={has:(t,n)=>n in e||n in r,get(c,l,f){if(l in r)return r[l];if(!(l in e))return;let h=e[l];if("function"==typeof h)if("function"==typeof t[l])h=s(e,e[l],t[l]);else if(a(n,l)){let t=((e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((o,s)=>{if(t.fallbackToNoCallback)try{n[e](...r,i({resolve:o,reject:s},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,o()}else t.noCallback?(n[e](...r),o()):n[e](...r,i({resolve:o,reject:s},t))}))})(l,n[l]);h=s(e,e[l],t)}else h=h.bind(e);else if("object"==typeof h&&null!==h&&(a(t,l)||a(n,l)))h=u(h,t[l],n[l]);else{if(!a(n,"*"))return Object.defineProperty(r,l,{configurable:!0,enumerable:!0,get:()=>e[l],set(t){e[l]=t}}),h;h=u(h,t[l],n["*"])}return r[l]=h,h},set:(t,n,i,o)=>(n in r?r[n]=i:e[n]=i,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},l=Object.create(e);return new Proxy(l,c)},c=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),l=new r((e=>"function"!=typeof e?e:function(t){const n=u(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),f=new r((e=>"function"!=typeof e?e:function(t,n,r){let i,o,s=!1,a=new Promise((e=>{i=function(t){s=!0,e(t)}}));try{o=e(t,n,i)}catch(e){o=Promise.reject(e)}const u=!0!==o&&((c=o)&&"object"==typeof c&&"function"==typeof c.then);var c;if(!0!==o&&!u&&!s)return!1;return(u?o:a).then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),h=({reject:n,resolve:r},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?n(new Error(i.message)):r(i)},d=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const i=h.bind(null,{resolve:e,reject:t});r.push(i),n.sendMessage(...r)}))},p={devtools:{network:{onRequestFinished:c(l)}},runtime:{onMessage:c(f),onMessageExternal:c(f),sendMessage:d.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:d.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},g={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":g},services:{"*":g},websites:{"*":g}},u(e,p,n)};e.exports=n(chrome)}else e.exports=globalThis.browser},void 0===(r=n.apply(t,[e]))||(e.exports=r)},5698:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(398)),o=n(1276),s=r(n(2543)),a=n(2481),u=n(794),c=n(4441),l=n(3841),f=n(1928),h=n(9801),d=n(345),p=new a.ContentScriptLogger("login-visibility");let g,v,m,y=0;function b(e,t){p.info("loginOccuredCallback:",e,t),i.default.runtime.sendMessage({kind:o.MessageKind.LoginSubmitted,url:e,usernames:t,ssoInfo:m})}function _(e,t){p.info("userConsentCallback:",e,t),i.default.runtime.sendMessage({kind:o.MessageKind.LoginSubmitted,url:location.href,usernames:[t],ssoInfo:m,userConsentApproved:e})}function w(e,t){p.info("userConfirmedCallback:",e,t),i.default.runtime.sendMessage({kind:o.MessageKind.LoginSubmitted,url:location.href,usernames:[t],ssoInfo:m,userConfirmed:e})}function A(){y++,y>1&&p.debug("domChangesDetected: resetting login visibility",y-1),m=c.analyzePageIdp(),p.info("Detected page:",m),(null==m?void 0:m.formType)!==o.IdpFormType.RequestPickAccount?(null==m?void 0:m.formType)!==o.IdpFormType.RequestUserConsent?(null==m?void 0:m.formType)!==o.IdpFormType.RequestAccountConfirmation?u.findFieldsAndListen(document.body,b):h.findFieldsAndListen(null==m?void 0:m.provider,w):f.findFieldsAndListen(null==m?void 0:m.provider,_):l.findFieldsAndListen(null==m?void 0:m.provider,b)}!async function(){if(!await async function(){const{loginVisibilityEnabled:e,loginVisibilityDomainIgnoreList:t,loginVisibilityUrlIgnoreRegex:n}=await a.getConfigurationFromBackground();return!!e&&(0===t.length&&0===n.length||!d.doesMatchListWildcard(window.location.hostname,t)&&!d.doesMatchListRegex(window.location.href,n))}())return;const{loginVisibilityDomChangesWaitMs:e}=await a.getConfigurationFromBackground();g=s.default.debounce(A,e,{leading:!1,trailing:!0}),v=new MutationObserver((function(e){e.filter((e=>"childList"===e.type)).map((e=>{if(e.addedNodes.length>0||e.removedNodes.length>0)return e.target.parentElement})).length>0&&g()})),v.observe(document.body,{subtree:!0,childList:!0}),g()}()},3841:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findFieldsAndListen=void 0;const r=n(2481),i=n(1276),o=new r.ContentScriptLogger("login-visibility");let s,a;const u=new Map([[i.IdpProvider.Microsoft,{accountFieldQuery:"div.table[data-test-id]",accountAttributeName:"data-test-id"}],[i.IdpProvider.Google,{accountFieldQuery:"div[data-identifier]",accountAttributeName:"data-identifier"}]]);function c(e){const t=u.get(s);if(void 0===t)return void o.warn("No appropriate mapping for account chooser",s);const n=this.getAttribute(t.accountAttributeName);n||o.warn("accountClicked: couldn't get clicked user email"),o.debug("accountClicked: submit login callback for",location.href,n),void 0!==a&&a(location.href,null===n?[]:[n])}t.findFieldsAndListen=function(e,t){s=e,a=t;const n=u.get(s);if(void 0===n)return void o.warn("No appropriate mapping for account chooser",s);const r=document.querySelectorAll(n.accountFieldQuery);o.debug("Going to listen to",r);for(const e of r)e.removeEventListener("click",c,!1),e.addEventListener("click",c,!1)}},9801:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findFieldsAndListen=t.addClickListner=void 0;const r=n(2481),i=n(1276),o=new r.ContentScriptLogger("login-visibility");let s,a;const u=new Map([[i.IdpProvider.Google,{approveButtonQuery:"div#confirm_yes",denyButtonQuery:"div#confirm_no",userEmailQuery:"div#identity-chip"}]]);function c(e,t){for(const n of e)n.removeEventListener("click",t,!1),n.addEventListener("click",t,!1)}function l(){o.debug("approveClicked: user confirmation approved"),void 0!==s&&s(!0,a)}function f(){o.debug("denyClicked: user confirmation denied"),void 0!==s&&s(!1,a)}t.addClickListner=c,t.findFieldsAndListen=function(e,t){var n,r;s=t;const i=u.get(e);if(void 0===i)return void o.warn("No appropriate mapping for user confirmation",e);const h=document.querySelectorAll(i.approveButtonQuery),d=document.querySelectorAll(i.denyButtonQuery);o.debug("Going to listen to approve buttons: ",h),c(h,l),o.debug("Going to listen to deny buttons: ",d),c(d,f),a=null!==(r=null===(n=document.querySelector(i.userEmailQuery))||void 0===n?void 0:n.textContent)&&void 0!==r?r:""}},794:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.findFieldsAndListen=void 0;const i=r(n(398)),o=n(2481),s=n(1276),a=new o.ContentScriptLogger("login-visibility");function u(e,t){if(null==e)return!1;const n=e.toLowerCase().replace(/[\s_-]/g,"");return!!n.includes("password")&&!t.some((e=>n.includes(e)))}function c(e,t){if(null==e)return!1;const n=e.trim().toLowerCase().replace(/\r\n|\r|\n/g,"");return t.some((e=>n.includes(e)))}function l(e){return"input"===e.tagName.toLowerCase()?e.value:e.textContent}async function f(e,t,n){if(null==e)return null;a.debug("findSubmitButton: Looking for submit button in",e);const r="form"===e.tagName.toLowerCase(),{loginVisibilitySubmitButtonQuery:i,loginVisibilitySubmitButtonTextLookupQuery:s}=await o.getConfigurationFromBackground();let u=e.querySelector(i);if(null==u&&r&&(a.debug("findSubmitButton: Couldn't find conventional buttons, looking for button by text"),u=e.querySelector(s),null!==u)){const e=l(u);a.debug("findSubmitButton: Found button text",e),(null===e||""===e||n.has(e.trim().toLowerCase()))&&(a.debug("findSubmitButton: Seems to be a button other than submit"),u=null)}return null==u&&(u=await async function(e,t,n,r){a.debug("Looking for typeless submit button");const{loginVisibilityTypelessSubmitButtonQuery:i}=await o.getConfigurationFromBackground(),s=e.querySelectorAll(i);let u=null;for(const e of s){if(null!=t||null==e||null==e.tagName)continue;const i=l(e);null!=i&&(null==u||"button"!==e.tagName.toLowerCase()||null!=e.getAttribute("type")||n.has(i.trim().toLowerCase())?r.has(i.trim().toLowerCase())&&(t=e):u=e)}return null==t&&null!=u&&(t=u),t}(e,u,n,t)),null==u&&r&&(u=await async function(e,t,n){a.debug("Looking for submit button in modal form");const r=e.closest("div.modal");return null!=r&&(a.debug("Found parent div.modal"),1===r.querySelectorAll("form").length)?(a.debug("Going to look for submit in parent modal"),f(r,t,n)):null}(e,t,n)),a.debug("findSubmitButton: Found submit button",u),u}function h(e){let t=null;if("click"===e.type){if(a.debug("submitButtonClick: form submitted by clicking the submit button",e),t=e.target.closest("form"),null===t){const n=e.target.closest("div.modal");if(null!==n){const e=n.querySelectorAll("form");1===e.length&&(t=e[0])}}m(t)}}function d(e){if(a.debug("inputPasswordKeyDown: ",e),"Enter"===e.key&&e.target instanceof HTMLInputElement){const t=null==e?void 0:e.target.form;a.debug("inputPasswordKeyDown: form submitted by clicking enter on password field",t),m(t)}}function p(e){if(a.debug("inputUsernameKeyDown: ",e),"Enter"===e.key&&e.target instanceof HTMLInputElement){const t=null==e?void 0:e.target.form;a.debug("inputUsernameKeyDown: form submitted by clicking enter on username field",t),m(t)}}function g(e){let t=null;"submit"===e.type&&(a.debug("formSubmitted: form submitted by submitting the form",e),t=e.target),async function(){const{enablePasswordReuseDetection:e,passwordDuplicationDetectionEnableToast:t,enablePasswordDuplicationDetectionEvents:n}=await o.getConfigurationFromBackground();if(e&&(t||n))for(const e of y)v(e)}(),m(t)}function v(e){try{!function(e){if(""===e.value)return;const t=e.value,n=location.hostname;a.debug("handlePasswordInputElementSubmissionUnsafe: Sending message to background script"),i.default.runtime.sendMessage({kind:s.MessageKind.PasswordDuplicationFound,currentDomain:n,password:t})}(e)}catch(e){a.error("handlePasswordInputElementSubmission: error",e)}}function m(e){a.debug("formSubmitted: form submitted",e);const t=b.map((e=>e.value));void 0!==S&&(a.debug("formSubmitted: submit login callback for",location.href,t),S(location.href,t))}let y,b;const _=new Set,w=new Set;function A(e,t){a.debug("Listening to field input",e,t.name),e.removeEventListener("keydown",t,!1),e.addEventListener("keydown",t,!1);const n=e.form;null!=n?w.add(n):a.debug("Couldn't find corresponding form for",e)}let S;t.findFieldsAndListen=async function(e,t){S=t;const{loginVisibilitySubmitButtonText:n,loginVisibilityCancelButtonText:r}=await o.getConfigurationFromBackground();y=[],b=[],_.clear(),w.clear();const i=await async function(e){const{loginVisibilityInputsQuery:t}=await o.getConfigurationFromBackground(),n=e.querySelectorAll(t),r=new Map;for(const e of n)r.set(e.id,e);return[...r.values()]}(e);a.debug("findFieldsAndListen: Detected input elements in page",i),y=await async function(e){const{loginVisibilityNonPasswordFields:t,loginVisibilityInputTestAttribute:n}=await o.getConfigurationFromBackground();return e.filter((e=>{if(e.disabled)return!1;if("password"===e.type)return a.debug("filterPasswordInputs: input is of password type",e.id),!0;if("text"!==e.type)return!1;for(const r of n)if(u(e.getAttribute(r),t))return a.debug("filterPasswordInputs: found password input by attribute",e.id,r),!0;return!1}))}(i),y.map((e=>A(e,d))),b=await async function(e){const{loginVisibilityUsernameFields:t,loginVisibilityInputTestAttribute:n}=await o.getConfigurationFromBackground();return e.filter((e=>{if(e.disabled)return!1;if("text"!==e.type&&"email"!==e.type&&"tel"!==e.type)return!1;for(const r of n)if(c(e.getAttribute(r),t))return a.debug("filterUsernameInputs: found username input by attribute",e.id,r),!0;return!1}))}(i),b.map((e=>A(e,p)));const s=new Set(n),l=new Set(r);for(const e of w){a.debug("findFieldsAndListen: Listening to form",e),e.removeEventListener("submit",g,!1),e.addEventListener("submit",g,!1);const t=await f(e,s,l);null!==t?_.add(t):a.debug("findFieldsAndListen: couldn't find corresponding submit button in form",e)}if(0===_.size){a.debug("findFieldsAndListen: Couldn't find form with submit buttons, searching for submit button in document body");const e=await f(document.body,s,l);null!==e?_.add(e):a.debug("findFieldsAndListen: couldn't find submit buttons in document")}for(const e of _)a.debug("findFieldsAndListen: Listening to submit button",e),e.removeEventListener("click",h,!1),e.addEventListener("click",h,!1)}},4441:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.analyzePageIdp=void 0;const r=n(2481),i=n(1276),o=new r.ContentScriptLogger("login-visibility");t.analyzePageIdp=function(){var e,t,n,r,s;const a=new URL(location.href);if("accounts.google.com"===a.hostname&&a.pathname.toLowerCase().startsWith("/o/oauth2")){const t=a.searchParams.get("redirect_uri"),n=null!==(e=a.searchParams.get("flowName"))&&void 0!==e?e:"";if(o.debug("analyzePageIdp: detected google idp",t,n),void 0!==t&&null!=t){const e=new URL(t).hostname,r=a.pathname.endsWith("identifier")?i.IdpFormType.RequestCredentials:i.IdpFormType.RequestPickAccount;return o.debug("analyzePageIdp: identified requestor and form",e,r),{url:a.href,provider:i.IdpProvider.Google,requestor:e,formType:r,props:{flowName:n}}}}if("accounts.google.com"===a.hostname&&a.pathname.toLowerCase().startsWith("/gsi/select"))return function(e){const t=e.searchParams.get("ux_mode"),n=e.searchParams.get("ui_mode"),r=e.searchParams.get("context"),s=e.searchParams.get("origin"),a=function(e){try{return e?new URL(e).hostname:"unknown"}catch(e){return"unknown"}}(s),u=i.IdpFormType.RequestAccountConfirmation;return o.debug("analyzeAccountConfirmationDialog: detected google idp",s,r,t,n,a,u),{url:e.href,provider:i.IdpProvider.Google,requestor:a,formType:u,props:Object.assign(Object.assign(Object.assign({},r&&{context:r}),t&&{uxMode:t}),n&&{uiMode:n})}}(a);if("accounts.google.com"===a.hostname&&(a.pathname.toLowerCase().startsWith("/signin/oauth/v2/consentsummary")||a.pathname.toLowerCase().startsWith("/signin/oauth/consent"))){o.debug("analyzePageIdp: detected google user consent form");const e=null!==(n=null===(t=document.querySelector("button#developer_info_glif"))||void 0===t?void 0:t.textContent)&&void 0!==n?n:"";return{url:a.href,provider:i.IdpProvider.Google,formType:i.IdpFormType.RequestUserConsent,requestor:e}}if("login.live.com"===a.hostname&&a.pathname.toLowerCase().startsWith("/oauth20_authorize")||"login.microsoftonline.com"===a.hostname&&a.pathname.toLowerCase().startsWith("/common/oauth2/v2.0")){const e=a.searchParams.get("redirect_uri");if(o.debug("analyzePageIdp: detected mso idp",e),void 0!==e&&null!=e){const t=null!=document.querySelector("div#lightbox.has-popup")?i.IdpFormType.RequestCredentials:i.IdpFormType.RequestPickAccount,n=new URL(e).hostname;return o.debug("analyzePageIdp: identified requestor and form",n,t),{url:a.href,provider:i.IdpProvider.Microsoft,requestor:n,formType:t}}}if("account.live.com"===a.hostname&&a.pathname.toLowerCase().startsWith("/consent/update")){o.debug("analyzePageIdp: detected mso user consent form");const e=null!==(s=null===(r=document.querySelector("a#appDomainLinkToAppInfo"))||void 0===r?void 0:r.textContent)&&void 0!==s?s:"";return{url:a.href,provider:i.IdpProvider.Microsoft,formType:i.IdpFormType.RequestUserConsent,requestor:e}}o.debug("analyzePageIdp: couldn't detect an idp on page",a.hostname,a.pathname)}},1928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findFieldsAndListen=void 0;const r=n(2481),i=n(1276),o=new r.ContentScriptLogger("login-visibility");let s,a;const u=new Map([[i.IdpProvider.Microsoft,{approveButtonQuery:"input#idBtn_Accept",denyButtonQuery:"input#idBtn_Deny",userEmailQuery:"div.identity",userEmailAttribute:"title"}],[i.IdpProvider.Google,{approveButtonQuery:"div#submit_approve_access",denyButtonQuery:"div#submit_deny_access",userEmailQuery:"div[data-email]",userEmailAttribute:"data-email"}]]);function c(e){o.debug("approveClicked: user consent approved"),void 0!==s&&s(!0,a)}function l(e){o.debug("denyClicked: user consent denied"),void 0!==s&&s(!1,a)}t.findFieldsAndListen=function(e,t){var n,r;s=t;const i=u.get(e);if(void 0===i)return void o.warn("No appropriate mapping for user consent",e);const f=document.querySelectorAll(i.approveButtonQuery);o.debug("Going to listen to",f);for(const e of f)e.removeEventListener("click",c,!1),e.addEventListener("click",c,!1);const h=document.querySelectorAll(i.denyButtonQuery);o.debug("Going to listen to",h);for(const e of h)e.removeEventListener("click",l,!1),e.addEventListener("click",l,!1);a=null!==(r=null===(n=document.querySelector(i.userEmailQuery))||void 0===n?void 0:n.getAttribute(i.userEmailAttribute))&&void 0!==r?r:""}},2481:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentScriptLogger=t.getExtensionSettings=t.getConfigurationFromBackground=void 0;const i=r(n(398)),o=n(1276);async function s(){const{extensionSettings:e}=await i.default.runtime.sendMessage({kind:o.MessageKind.GetExtensionSettings});return e}t.getConfigurationFromBackground=async function(){const{configuration:e}=await i.default.runtime.sendMessage({kind:o.MessageKind.GetConfiguration});return e},t.getExtensionSettings=s,t.ContentScriptLogger=class{constructor(e){this.contentScriptName=e,this.shouldLogToConsole=!1,this.setShouldLogToConsole()}async setShouldLogToConsole(){const{contentScriptConsoleLogs:e}=await s();this.shouldLogToConsole=e}writeLog(e,t,...n){this.port||(this.port=i.default.runtime.connect({name:o.PortName.Logger}),this.port.onDisconnect.addListener((()=>{this.port=void 0})));try{this.port.postMessage({kind:o.MessageKind.WriteLog,log:e,level:t,optionalParameters:n})}catch(e){}}error(e,...t){this.shouldLogToConsole&&console.error(e,...t),this.writeLog(e,"error",...t,"content-script-log",this.contentScriptName)}warn(e,...t){this.shouldLogToConsole&&console.warn(e,...t),this.writeLog(e,"warn",...t,"content-script-log",this.contentScriptName)}info(e,...t){this.shouldLogToConsole&&console.info(e,...t),this.writeLog(e,"info",...t,"content-script-log",this.contentScriptName)}debug(e,...t){this.shouldLogToConsole&&console.debug(e,...t),this.writeLog(e,"debug",...t,"content-script-log",this.contentScriptName)}}},9806:(e,t)=>{"use strict";function n(e,t,n="case-insensitive"){return"case-insensitive"===n&&(e=e.toLowerCase(),t=t.toLowerCase()),t.startsWith("*.")?e.endsWith(t.slice(1))||e===t.slice(2):t.startsWith("*")?e.endsWith(t.slice(1)):e===t||e===`www.${t}`}function r(e,t){return new RegExp(t).test(e)}function i(e,t){return t.some((t=>n(e,t)))}Object.defineProperty(t,"__esModule",{value:!0}),t.doesMatchListRegex=t.anyMatchListWildcard=t.doesMatchListWildcard=t.doesMatchRegex=t.doesMatchWildcard=void 0,t.doesMatchWildcard=n,t.doesMatchRegex=r,t.doesMatchListWildcard=i,t.anyMatchListWildcard=function(e,t){return e.some((e=>i(e,t)))},t.doesMatchListRegex=function(e,t){return t.some((t=>r(e,t)))}},345:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.doesMatchDomain=void 0;const s=o(n(5163));i(n(9806),t),t.doesMatchDomain=function(e,t){const n=s.default(t.replace(/^(www\.)/,""));return new RegExp(`^.+[.]${n}$|^${n}$`).test(e)}},2543:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=32,c=128,l=1/0,f=9007199254740991,h=NaN,d=4294967295,p=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],g="[object Arguments]",v="[object Array]",m="[object Boolean]",y="[object Date]",b="[object Error]",_="[object Function]",w="[object GeneratorFunction]",A="[object Map]",S="[object Number]",C="[object Object]",E="[object Promise]",x="[object RegExp]",I="[object Set]",k="[object String]",T="[object Symbol]",D="[object WeakMap]",P="[object ArrayBuffer]",U="[object DataView]",R="[object Float32Array]",O="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",M="[object Int32Array]",N="[object Uint8Array]",j="[object Uint8ClampedArray]",L="[object Uint16Array]",K="[object Uint32Array]",q=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,H=RegExp(z.source),$=RegExp(G.source),Y=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,we="\\ud800-\\udfff",Ae="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",xe="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ke="["+we+"]",Te="["+Ie+"]",De="["+Ae+"]",Pe="\\d+",Ue="["+Se+"]",Re="["+Ce+"]",Oe="[^"+we+Ie+Pe+Se+Ce+Ee+"]",Fe="\\ud83c[\\udffb-\\udfff]",Be="[^"+we+"]",Me="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",je="["+Ee+"]",Le="\\u200d",Ke="(?:"+Re+"|"+Oe+")",qe="(?:"+je+"|"+Oe+")",Ve="(?:['’](?:d|ll|m|re|s|t|ve))?",We="(?:['’](?:D|LL|M|RE|S|T|VE))?",ze="(?:"+De+"|"+Fe+")?",Ge="["+xe+"]?",He=Ge+ze+"(?:"+Le+"(?:"+[Be,Me,Ne].join("|")+")"+Ge+ze+")*",$e="(?:"+[Ue,Me,Ne].join("|")+")"+He,Ye="(?:"+[Be+De+"?",De,Me,Ne,ke].join("|")+")",Je=RegExp("['’]","g"),Ze=RegExp(De,"g"),Qe=RegExp(Fe+"(?="+Fe+")|"+Ye+He,"g"),Xe=RegExp([je+"?"+Re+"+"+Ve+"(?="+[Te,je,"$"].join("|")+")",qe+"+"+We+"(?="+[Te,je+Ke,"$"].join("|")+")",je+"?"+Ke+"+"+Ve,je+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,$e].join("|"),"g"),et=RegExp("["+Le+we+Ae+xe+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,it={};it[R]=it[O]=it[F]=it[B]=it[M]=it[N]=it[j]=it[L]=it[K]=!0,it[g]=it[v]=it[P]=it[m]=it[U]=it[y]=it[b]=it[_]=it[A]=it[S]=it[C]=it[x]=it[I]=it[k]=it[D]=!1;var ot={};ot[g]=ot[v]=ot[P]=ot[U]=ot[m]=ot[y]=ot[R]=ot[O]=ot[F]=ot[B]=ot[M]=ot[A]=ot[S]=ot[C]=ot[x]=ot[I]=ot[k]=ot[T]=ot[N]=ot[j]=ot[L]=ot[K]=!0,ot[b]=ot[_]=ot[D]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,ut=parseInt,ct="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,lt="object"==typeof self&&self&&self.Object===Object&&self,ft=ct||lt||Function("return this")(),ht=t&&!t.nodeType&&t,dt=ht&&e&&!e.nodeType&&e,pt=dt&&dt.exports===ht,gt=pt&&ct.process,vt=function(){try{return dt&&dt.require&&dt.require("util").types||gt&&gt.binding&&gt.binding("util")}catch(e){}}(),mt=vt&&vt.isArrayBuffer,yt=vt&&vt.isDate,bt=vt&&vt.isMap,_t=vt&&vt.isRegExp,wt=vt&&vt.isSet,At=vt&&vt.isTypedArray;function St(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ct(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function Et(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function xt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function kt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Tt(e,t){return!(null==e||!e.length)&&jt(e,t,0)>-1}function Dt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Ut(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Ot(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=Vt("length");function Mt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Nt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function jt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Nt(e,Kt,n)}function Lt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Kt(e){return e!=e}function qt(e,t){var n=null==e?0:e.length;return n?Gt(e,t)/n:h}function Vt(e){return function(t){return null==t?i:t[e]}}function Wt(e){return function(t){return null==e?i:e[t]}}function zt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Gt(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Ht(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function $t(e){return e?e.slice(0,hn(e)+1).replace(re,""):e}function Yt(e){return function(t){return e(t)}}function Jt(e,t){return Pt(t,(function(t){return e[t]}))}function Zt(e,t){return e.has(t)}function Qt(e,t){for(var n=-1,r=e.length;++n<r&&jt(t,e[n],0)>-1;);return n}function Xt(e,t){for(var n=e.length;n--&&jt(t,e[n],0)>-1;);return n}var en=Wt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tn=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+st[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function sn(e,t){return function(n){return e(t(n))}}function an(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function ln(e){return rn(e)?function(e){for(var t=Qe.lastIndex=0;Qe.test(e);)++t;return t}(e):Bt(e)}function fn(e){return rn(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.split("")}(e)}function hn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var dn=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function e(t){var n,r=(t=null==t?ft:pn.defaults(ft.Object(),t,pn.pick(ft,nt))).Array,ie=t.Date,we=t.Error,Ae=t.Function,Se=t.Math,Ce=t.Object,Ee=t.RegExp,xe=t.String,Ie=t.TypeError,ke=r.prototype,Te=Ae.prototype,De=Ce.prototype,Pe=t["__core-js_shared__"],Ue=Te.toString,Re=De.hasOwnProperty,Oe=0,Fe=(n=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Be=De.toString,Me=Ue.call(Ce),Ne=ft._,je=Ee("^"+Ue.call(Re).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=pt?t.Buffer:i,Ke=t.Symbol,qe=t.Uint8Array,Ve=Le?Le.allocUnsafe:i,We=sn(Ce.getPrototypeOf,Ce),ze=Ce.create,Ge=De.propertyIsEnumerable,He=ke.splice,$e=Ke?Ke.isConcatSpreadable:i,Ye=Ke?Ke.iterator:i,Qe=Ke?Ke.toStringTag:i,et=function(){try{var e=uo(Ce,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,ct=ie&&ie.now!==ft.Date.now&&ie.now,lt=t.setTimeout!==ft.setTimeout&&t.setTimeout,ht=Se.ceil,dt=Se.floor,gt=Ce.getOwnPropertySymbols,vt=Le?Le.isBuffer:i,Bt=t.isFinite,Wt=ke.join,gn=sn(Ce.keys,Ce),vn=Se.max,mn=Se.min,yn=ie.now,bn=t.parseInt,_n=Se.random,wn=ke.reverse,An=uo(t,"DataView"),Sn=uo(t,"Map"),Cn=uo(t,"Promise"),En=uo(t,"Set"),xn=uo(t,"WeakMap"),In=uo(Ce,"create"),kn=xn&&new xn,Tn={},Dn=Mo(An),Pn=Mo(Sn),Un=Mo(Cn),Rn=Mo(En),On=Mo(xn),Fn=Ke?Ke.prototype:i,Bn=Fn?Fn.valueOf:i,Mn=Fn?Fn.toString:i;function Nn(e){if(ea(e)&&!Vs(e)&&!(e instanceof qn)){if(e instanceof Kn)return e;if(Re.call(e,"__wrapped__"))return No(e)}return new Kn(e)}var jn=function(){function e(){}return function(t){if(!Xs(t))return{};if(ze)return ze(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Ln(){}function Kn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function qn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new zn;++t<n;)this.add(e[t])}function Hn(e){var t=this.__data__=new Wn(e);this.size=t.size}function $n(e,t){var n=Vs(e),r=!n&&qs(e),i=!n&&!r&&Hs(e),o=!n&&!r&&!i&&ua(e),s=n||r||i||o,a=s?Ht(e.length,xe):[],u=a.length;for(var c in e)!t&&!Re.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||vo(c,u))||a.push(c);return a}function Yn(e){var t=e.length;return t?e[zr(0,t-1)]:i}function Jn(e,t){return Uo(xi(e),or(t,0,e.length))}function Zn(e){return Uo(xi(e))}function Qn(e,t,n){(n!==i&&!js(e[t],n)||n===i&&!(t in e))&&rr(e,t,n)}function Xn(e,t,n){var r=e[t];Re.call(e,t)&&js(r,n)&&(n!==i||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if(js(e[n][0],t))return n;return-1}function tr(e,t,n,r){return lr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function nr(e,t){return e&&Ii(t,Da(t),e)}function rr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:Ea(e,t[n]);return s}function or(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sr(e,t,n,r,o,s){var a,u=1&t,c=2&t,l=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!Xs(e))return e;var f=Vs(e);if(f){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return xi(e,a)}else{var h=fo(e),d=h==_||h==w;if(Hs(e))return _i(e,u);if(h==C||h==g||d&&!o){if(a=c||d?{}:po(e),!u)return c?function(e,t){return Ii(e,lo(e),t)}(e,function(e,t){return e&&Ii(t,Pa(t),e)}(a,e)):function(e,t){return Ii(e,co(e),t)}(e,nr(a,e))}else{if(!ot[h])return o?e:{};a=function(e,t,n){var r,i=e.constructor;switch(t){case P:return wi(e);case m:case y:return new i(+e);case U:return function(e,t){var n=t?wi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case O:case F:case B:case M:case N:case j:case L:case K:return Ai(e,n);case A:return new i;case S:case k:return new i(e);case x:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new i;case T:return r=e,Bn?Ce(Bn.call(r)):{}}}(e,h,u)}}s||(s=new Hn);var p=s.get(e);if(p)return p;s.set(e,a),oa(e)?e.forEach((function(r){a.add(sr(r,t,n,r,e,s))})):ta(e)&&e.forEach((function(r,i){a.set(i,sr(r,t,n,i,e,s))}));var v=f?i:(l?c?to:eo:c?Pa:Da)(e);return Et(v||e,(function(r,i){v&&(r=e[i=r]),Xn(a,i,sr(r,t,n,i,e,s))})),a}function ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ce(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new Ie(o);return ko((function(){e.apply(i,n)}),t)}function cr(e,t,n,r){var i=-1,o=Tt,s=!0,a=e.length,u=[],c=t.length;if(!a)return u;n&&(t=Pt(t,Yt(n))),r?(o=Dt,s=!1):t.length>=200&&(o=Zt,s=!1,t=new Gn(t));e:for(;++i<a;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,s&&f==f){for(var h=c;h--;)if(t[h]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}Nn.templateSettings={escape:Y,evaluate:J,interpolate:Z,variable:"",imports:{_:Nn}},Nn.prototype=Ln.prototype,Nn.prototype.constructor=Nn,Kn.prototype=jn(Ln.prototype),Kn.prototype.constructor=Kn,qn.prototype=jn(Ln.prototype),qn.prototype.constructor=qn,Vn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},Vn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vn.prototype.get=function(e){var t=this.__data__;if(In){var n=t[e];return n===s?i:n}return Re.call(t,e)?t[e]:i},Vn.prototype.has=function(e){var t=this.__data__;return In?t[e]!==i:Re.call(t,e)},Vn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=In&&t===i?s:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():He.call(t,n,1),--this.size,0))},Wn.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?i:t[n][1]},Wn.prototype.has=function(e){return er(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},zn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(Sn||Wn),string:new Vn}},zn.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},zn.prototype.get=function(e){return so(this,e).get(e)},zn.prototype.has=function(e){return so(this,e).has(e)},zn.prototype.set=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,s),this},Gn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Hn.prototype.get=function(e){return this.__data__.get(e)},Hn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zn(r)}return n.set(e,t),this.size=n.size,this};var lr=Di(yr),fr=Di(br,!0);function hr(e,t){var n=!0;return lr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function dr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(u===i?a==a&&!aa(a):n(a,u)))var u=a,c=s}return c}function pr(e,t){var n=[];return lr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=go),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?gr(a,t-1,n,r,i):Ut(i,a):r||(i[i.length]=a)}return i}var vr=Pi(),mr=Pi(!0);function yr(e,t){return e&&vr(e,t,Da)}function br(e,t){return e&&mr(e,t,Da)}function _r(e,t){return kt(t,(function(t){return Js(e[t])}))}function wr(e,t){for(var n=0,r=(t=vi(t,e)).length;null!=e&&n<r;)e=e[Bo(t[n++])];return n&&n==r?e:i}function Ar(e,t,n){var r=t(e);return Vs(e)?r:Ut(r,n(e))}function Sr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Qe&&Qe in Ce(e)?function(e){var t=Re.call(e,Qe),n=e[Qe];try{e[Qe]=i;var r=!0}catch(e){}var o=Be.call(e);return r&&(t?e[Qe]=n:delete e[Qe]),o}(e):function(e){return Be.call(e)}(e)}function Cr(e,t){return e>t}function Er(e,t){return null!=e&&Re.call(e,t)}function xr(e,t){return null!=e&&t in Ce(e)}function Ir(e,t,n){for(var o=n?Dt:Tt,s=e[0].length,a=e.length,u=a,c=r(a),l=1/0,f=[];u--;){var h=e[u];u&&t&&(h=Pt(h,Yt(t))),l=mn(h.length,l),c[u]=!n&&(t||s>=120&&h.length>=120)?new Gn(u&&h):i}h=e[0];var d=-1,p=c[0];e:for(;++d<s&&f.length<l;){var g=h[d],v=t?t(g):g;if(g=n||0!==g?g:0,!(p?Zt(p,v):o(f,v,n))){for(u=a;--u;){var m=c[u];if(!(m?Zt(m,v):o(e[u],v,n)))continue e}p&&p.push(v),f.push(g)}}return f}function kr(e,t,n){var r=null==(e=Eo(e,t=vi(t,e)))?e:e[Bo(Yo(t))];return null==r?i:St(r,e,n)}function Tr(e){return ea(e)&&Sr(e)==g}function Dr(e,t,n,r,o){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var a=Vs(e),u=Vs(t),c=a?v:fo(e),l=u?v:fo(t),f=(c=c==g?C:c)==C,h=(l=l==g?C:l)==C,d=c==l;if(d&&Hs(e)){if(!Hs(t))return!1;a=!0,f=!1}if(d&&!f)return s||(s=new Hn),a||ua(e)?Qi(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case U:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!o(new qe(e),new qe(t)));case m:case y:case S:return js(+e,+t);case b:return e.name==t.name&&e.message==t.message;case x:case k:return e==t+"";case A:var a=on;case I:var u=1&r;if(a||(a=un),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var l=Qi(a(e),a(t),r,i,o,s);return s.delete(e),l;case T:if(Bn)return Bn.call(e)==Bn.call(t)}return!1}(e,t,c,n,r,o,s);if(!(1&n)){var p=f&&Re.call(e,"__wrapped__"),_=h&&Re.call(t,"__wrapped__");if(p||_){var w=p?e.value():e,E=_?t.value():t;return s||(s=new Hn),o(w,E,n,r,s)}}return!!d&&(s||(s=new Hn),function(e,t,n,r,o,s){var a=1&n,u=eo(e),c=u.length;if(c!=eo(t).length&&!a)return!1;for(var l=c;l--;){var f=u[l];if(!(a?f in t:Re.call(t,f)))return!1}var h=s.get(e),d=s.get(t);if(h&&d)return h==t&&d==e;var p=!0;s.set(e,t),s.set(t,e);for(var g=a;++l<c;){var v=e[f=u[l]],m=t[f];if(r)var y=a?r(m,v,f,t,e,s):r(v,m,f,e,t,s);if(!(y===i?v===m||o(v,m,n,r,s):y)){p=!1;break}g||(g="constructor"==f)}if(p&&!g){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,r,o,s))}(e,t,n,r,Dr,o))}function Pr(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Ce(e);o--;){var u=n[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var c=(u=n[o])[0],l=e[c],f=u[1];if(a&&u[2]){if(l===i&&!(c in e))return!1}else{var h=new Hn;if(r)var d=r(l,f,c,e,t,h);if(!(d===i?Dr(f,l,3,r,h):d))return!1}}return!0}function Ur(e){return!(!Xs(e)||(t=e,Fe&&Fe in t))&&(Js(e)?je:ge).test(Mo(e));var t}function Rr(e){return"function"==typeof e?e:null==e?nu:"object"==typeof e?Vs(e)?Nr(e[0],e[1]):Mr(e):fu(e)}function Or(e){if(!wo(e))return gn(e);var t=[];for(var n in Ce(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e,t){return e<t}function Br(e,t){var n=-1,i=zs(e)?r(e.length):[];return lr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Mr(e){var t=ao(e);return 1==t.length&&t[0][2]?So(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function Nr(e,t){return yo(e)&&Ao(t)?So(Bo(e),t):function(n){var r=Ea(n,e);return r===i&&r===t?xa(n,e):Dr(t,r,3)}}function jr(e,t,n,r,o){e!==t&&vr(t,(function(s,a){if(o||(o=new Hn),Xs(s))!function(e,t,n,r,o,s,a){var u=xo(e,n),c=xo(t,n),l=a.get(c);if(l)Qn(e,n,l);else{var f=s?s(u,c,n+"",e,t,a):i,h=f===i;if(h){var d=Vs(c),p=!d&&Hs(c),g=!d&&!p&&ua(c);f=c,d||p||g?Vs(u)?f=u:Gs(u)?f=xi(u):p?(h=!1,f=_i(c,!0)):g?(h=!1,f=Ai(c,!0)):f=[]:ra(c)||qs(c)?(f=u,qs(u)?f=va(u):Xs(u)&&!Js(u)||(f=po(c))):h=!1}h&&(a.set(c,f),o(f,c,r,s,a),a.delete(c)),Qn(e,n,f)}}(e,t,a,n,jr,r,o);else{var u=r?r(xo(e,a),s,a+"",e,t,o):i;u===i&&(u=s),Qn(e,a,u)}}),Pa)}function Lr(e,t){var n=e.length;if(n)return vo(t+=t<0?n:0,n)?e[t]:i}function Kr(e,t,n){t=t.length?Pt(t,(function(e){return Vs(e)?function(t){return wr(t,1===e.length?e[0]:e)}:e})):[nu];var r=-1;t=Pt(t,Yt(oo()));var i=Br(e,(function(e,n,i){var o=Pt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e){var t=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var u=Si(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));t--;)e[t]=e[t].value;return e}(i)}function qr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=wr(e,s);n(a,s)&&Jr(o,vi(s,e),a)}return o}function Vr(e,t,n,r){var i=r?Lt:jt,o=-1,s=t.length,a=e;for(e===t&&(t=xi(t)),n&&(a=Pt(e,Yt(n)));++o<s;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==e&&He.call(a,u,1),He.call(e,u,1);return e}function Wr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;vo(i)?He.call(e,i,1):ui(e,i)}}return e}function zr(e,t){return e+dt(_n()*(t-e+1))}function Gr(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=dt(t/2))&&(e+=e)}while(t);return n}function Hr(e,t){return To(Co(e,t,nu),e+"")}function $r(e){return Yn(ja(e))}function Yr(e,t){var n=ja(e);return Uo(n,or(t,0,n.length))}function Jr(e,t,n,r){if(!Xs(e))return e;for(var o=-1,s=(t=vi(t,e)).length,a=s-1,u=e;null!=u&&++o<s;){var c=Bo(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var f=u[c];(l=r?r(f,c,u):i)===i&&(l=Xs(f)?f:vo(t[o+1])?[]:{})}Xn(u,c,l),u=u[c]}return e}var Zr=kn?function(e,t){return kn.set(e,t),e}:nu,Qr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Xa(t),writable:!0})}:nu;function Xr(e){return Uo(ja(e))}function ei(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function ti(e,t){var n;return lr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ni(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!aa(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ri(e,t,nu,n)}function ri(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,u=null===t,c=aa(t),l=t===i;o<s;){var f=dt((o+s)/2),h=n(e[f]),d=h!==i,p=null===h,g=h==h,v=aa(h);if(a)var m=r||g;else m=l?g&&(r||d):u?g&&d&&(r||!p):c?g&&d&&!p&&(r||!v):!p&&!v&&(r?h<=t:h<t);m?o=f+1:s=f}return mn(s,4294967294)}function ii(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!js(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function oi(e){return"number"==typeof e?e:aa(e)?h:+e}function si(e){if("string"==typeof e)return e;if(Vs(e))return Pt(e,si)+"";if(aa(e))return Mn?Mn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ai(e,t,n){var r=-1,i=Tt,o=e.length,s=!0,a=[],u=a;if(n)s=!1,i=Dt;else if(o>=200){var c=t?null:Gi(e);if(c)return un(c);s=!1,i=Zt,u=new Gn}else u=t?[]:a;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,s&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),a.push(l)}else i(u,f,n)||(u!==a&&u.push(f),a.push(l))}return a}function ui(e,t){return null==(e=Eo(e,t=vi(t,e)))||delete e[Bo(Yo(t))]}function ci(e,t,n,r){return Jr(e,t,n(wr(e,t)),r)}function li(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ei(e,r?0:o,r?o+1:i):ei(e,r?o+1:0,r?i:o)}function fi(e,t){var n=e;return n instanceof qn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,Ut([e],t.args))}),n)}function hi(e,t,n){var i=e.length;if(i<2)return i?ai(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],u=-1;++u<i;)u!=o&&(s[o]=cr(s[o]||a,e[u],t,n));return ai(gr(s,1),t,n)}function di(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var u=r<s?t[r]:i;n(a,e[r],u)}return a}function pi(e){return Gs(e)?e:[]}function gi(e){return"function"==typeof e?e:nu}function vi(e,t){return Vs(e)?e:yo(e,t)?[e]:Fo(ma(e))}var mi=Hr;function yi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ei(e,t,n)}var bi=st||function(e){return ft.clearTimeout(e)};function _i(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function wi(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function Ai(e,t){var n=t?wi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=aa(e),a=t!==i,u=null===t,c=t==t,l=aa(t);if(!u&&!l&&!s&&e>t||s&&a&&c&&!u&&!l||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!l&&e<t||l&&n&&o&&!r&&!s||u&&n&&o||!a&&o||!c)return-1}return 0}function Ci(e,t,n,i){for(var o=-1,s=e.length,a=n.length,u=-1,c=t.length,l=vn(s-a,0),f=r(c+l),h=!i;++u<c;)f[u]=t[u];for(;++o<a;)(h||o<s)&&(f[n[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function Ei(e,t,n,i){for(var o=-1,s=e.length,a=-1,u=n.length,c=-1,l=t.length,f=vn(s-u,0),h=r(f+l),d=!i;++o<f;)h[o]=e[o];for(var p=o;++c<l;)h[p+c]=t[c];for(;++a<u;)(d||o<s)&&(h[p+n[a]]=e[o++]);return h}function xi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ii(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var u=t[s],c=r?r(n[u],e[u],u,n,e):i;c===i&&(c=e[u]),o?rr(n,u,c):Xn(n,u,c)}return n}function ki(e,t){return function(n,r){var i=Vs(n)?Ct:tr,o=t?t():{};return i(n,e,oo(r,2),o)}}function Ti(e){return Hr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&mo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Ce(t);++r<o;){var u=n[r];u&&e(t,u,r,s)}return t}))}function Di(e,t){return function(n,r){if(null==n)return n;if(!zs(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Ce(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Pi(e){return function(t,n,r){for(var i=-1,o=Ce(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}function Ui(e){return function(t){var n=rn(t=ma(t))?fn(t):i,r=n?n[0]:t.charAt(0),o=n?yi(n,1).join(""):t.slice(1);return r[e]()+o}}function Ri(e){return function(t){return Rt(Ja(qa(t).replace(Je,"")),e,"")}}function Oi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=jn(e.prototype),r=e.apply(n,t);return Xs(r)?r:n}}function Fi(e){return function(t,n,r){var o=Ce(t);if(!zs(t)){var s=oo(n,3);t=Da(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Bi(e){return Xi((function(t){var n=t.length,r=n,s=Kn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ie(o);if(s&&!u&&"wrapper"==ro(a))var u=new Kn([],!0)}for(r=u?r:n;++r<n;){var c=ro(a=t[r]),l="wrapper"==c?no(a):i;u=l&&bo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ro(l[0])].apply(u,l[3]):1==a.length&&bo(a)?u[c]():u.thru(a)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Vs(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Mi(e,t,n,o,s,a,u,l,f,h){var d=t&c,p=1&t,g=2&t,v=24&t,m=512&t,y=g?i:Oi(e);return function c(){for(var b=arguments.length,_=r(b),w=b;w--;)_[w]=arguments[w];if(v)var A=io(c),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,A);if(o&&(_=Ci(_,o,s,v)),a&&(_=Ei(_,a,u,v)),b-=S,v&&b<h){var C=an(_,A);return Wi(e,t,Mi,c.placeholder,n,_,C,l,f,h-b)}var E=p?n:this,x=g?E[e]:e;return b=_.length,l?_=function(e,t){for(var n=e.length,r=mn(t.length,n),o=xi(e);r--;){var s=t[r];e[r]=vo(s,n)?o[s]:i}return e}(_,l):m&&b>1&&_.reverse(),d&&f<b&&(_.length=f),this&&this!==ft&&this instanceof c&&(x=y||Oi(x)),x.apply(E,_)}}function Ni(e,t){return function(n,r){return function(e,t,n,r){return yr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function ji(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=oi(n),r=oi(r)),o=e(n,r)}return o}}function Li(e){return Xi((function(t){return t=Pt(t,Yt(oo())),Hr((function(n){var r=this;return e(t,(function(e){return St(e,r,n)}))}))}))}function Ki(e,t){var n=(t=t===i?" ":si(t)).length;if(n<2)return n?Gr(t,e):t;var r=Gr(t,ht(e/ln(t)));return rn(t)?yi(fn(r),0,e).join(""):r.slice(0,e)}function qi(e){return function(t,n,o){return o&&"number"!=typeof o&&mo(t,n,o)&&(n=o=i),t=ha(t),n===i?(n=t,t=0):n=ha(n),function(e,t,n,i){for(var o=-1,s=vn(ht((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:ha(o),e)}}function Vi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ga(t),n=ga(n)),e(t,n)}}function Wi(e,t,n,r,o,s,a,c,l,f){var h=8&t;t|=h?u:64,4&(t&=~(h?64:u))||(t&=-4);var d=[e,t,o,h?s:i,h?a:i,h?i:s,h?i:a,c,l,f],p=n.apply(i,d);return bo(e)&&Io(p,d),p.placeholder=r,Do(p,e,t)}function zi(e){var t=Se[e];return function(e,n){if(e=ga(e),(n=null==n?0:mn(da(n),292))&&Bt(e)){var r=(ma(e)+"e").split("e");return+((r=(ma(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Gi=En&&1/un(new En([,-0]))[1]==l?function(e){return new En(e)}:au;function Hi(e){return function(t){var n=fo(t);return n==A?on(t):n==I?cn(t):function(e,t){return Pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $i(e,t,n,s,l,f,h,d){var p=2&t;if(!p&&"function"!=typeof e)throw new Ie(o);var g=s?s.length:0;if(g||(t&=-97,s=l=i),h=h===i?h:vn(da(h),0),d=d===i?d:da(d),g-=l?l.length:0,64&t){var v=s,m=l;s=l=i}var y=p?i:no(e),b=[e,t,n,s,l,v,m,f,h,d];if(y&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==c&&8==n||r==c&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Ci(l,u,t[4]):u,e[4]=l?an(e[3],a):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ei(l,u,t[6]):u,e[6]=l?an(e[5],a):t[6]),(u=t[7])&&(e[7]=u),r&c&&(e[8]=null==e[8]?t[8]:mn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(b,y),e=b[0],t=b[1],n=b[2],s=b[3],l=b[4],!(d=b[9]=b[9]===i?p?0:e.length:vn(b[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?function(e,t,n){var o=Oi(e);return function s(){for(var a=arguments.length,u=r(a),c=a,l=io(s);c--;)u[c]=arguments[c];var f=a<3&&u[0]!==l&&u[a-1]!==l?[]:an(u,l);return(a-=f.length)<n?Wi(e,t,Mi,s.placeholder,i,u,f,i,i,n-a):St(this&&this!==ft&&this instanceof s?o:e,this,u)}}(e,t,d):t!=u&&33!=t||l.length?Mi.apply(i,b):function(e,t,n,i){var o=1&t,s=Oi(e);return function t(){for(var a=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),h=this&&this!==ft&&this instanceof t?s:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++a];return St(h,o?n:this,f)}}(e,t,n,s);else var _=function(e,t,n){var r=1&t,i=Oi(e);return function t(){return(this&&this!==ft&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Do((y?Zr:Io)(_,b),e,t)}function Yi(e,t,n,r){return e===i||js(e,De[n])&&!Re.call(r,n)?t:e}function Ji(e,t,n,r,o,s){return Xs(e)&&Xs(t)&&(s.set(t,e),jr(e,t,i,Ji,s),s.delete(t)),e}function Zi(e){return ra(e)?i:e}function Qi(e,t,n,r,o,s){var a=1&n,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(e),f=s.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&n?new Gn:i;for(s.set(e,t),s.set(t,e);++h<u;){var g=e[h],v=t[h];if(r)var m=a?r(v,g,h,t,e,s):r(g,v,h,e,t,s);if(m!==i){if(m)continue;d=!1;break}if(p){if(!Ft(t,(function(e,t){if(!Zt(p,t)&&(g===e||o(g,e,n,r,s)))return p.push(t)}))){d=!1;break}}else if(g!==v&&!o(g,v,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function Xi(e){return To(Co(e,i,Wo),e+"")}function eo(e){return Ar(e,Da,co)}function to(e){return Ar(e,Pa,lo)}var no=kn?function(e){return kn.get(e)}:au;function ro(e){for(var t=e.name+"",n=Tn[t],r=Re.call(Tn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function io(e){return(Re.call(Nn,"placeholder")?Nn:e).placeholder}function oo(){var e=Nn.iteratee||ru;return e=e===ru?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ao(e){for(var t=Da(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ao(i)]}return t}function uo(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Ur(n)?n:i}var co=gt?function(e){return null==e?[]:(e=Ce(e),kt(gt(e),(function(t){return Ge.call(e,t)})))}:pu,lo=gt?function(e){for(var t=[];e;)Ut(t,co(e)),e=We(e);return t}:pu,fo=Sr;function ho(e,t,n){for(var r=-1,i=(t=vi(t,e)).length,o=!1;++r<i;){var s=Bo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Qs(i)&&vo(s,i)&&(Vs(e)||qs(e))}function po(e){return"function"!=typeof e.constructor||wo(e)?{}:jn(We(e))}function go(e){return Vs(e)||qs(e)||!!($e&&e&&e[$e])}function vo(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function mo(e,t,n){if(!Xs(n))return!1;var r=typeof t;return!!("number"==r?zs(n)&&vo(t,n.length):"string"==r&&t in n)&&js(n[t],e)}function yo(e,t){if(Vs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!aa(e))||X.test(e)||!Q.test(e)||null!=t&&e in Ce(t)}function bo(e){var t=ro(e),n=Nn[t];if("function"!=typeof n||!(t in qn.prototype))return!1;if(e===n)return!0;var r=no(n);return!!r&&e===r[0]}(An&&fo(new An(new ArrayBuffer(1)))!=U||Sn&&fo(new Sn)!=A||Cn&&fo(Cn.resolve())!=E||En&&fo(new En)!=I||xn&&fo(new xn)!=D)&&(fo=function(e){var t=Sr(e),n=t==C?e.constructor:i,r=n?Mo(n):"";if(r)switch(r){case Dn:return U;case Pn:return A;case Un:return E;case Rn:return I;case On:return D}return t});var _o=Pe?Js:gu;function wo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)}function Ao(e){return e==e&&!Xs(e)}function So(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Ce(n))}}function Co(e,t,n){return t=vn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=vn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(a),St(e,this,u)}}function Eo(e,t){return t.length<2?e:wr(e,ei(t,0,-1))}function xo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Io=Po(Zr),ko=lt||function(e,t){return ft.setTimeout(e,t)},To=Po(Qr);function Do(e,t,n){var r=t+"";return To(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Et(p,(function(n){var r="_."+n[0];t&n[1]&&!Tt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(r),n)))}function Po(e){var t=0,n=0;return function(){var r=yn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Uo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=zr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Ro,Oo,Fo=(Ro=Rs((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(le,"$1"):n||e)})),t}),(function(e){return 500===Oo.size&&Oo.clear(),e})),Oo=Ro.cache,Ro);function Bo(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Mo(e){if(null!=e){try{return Ue.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function No(e){if(e instanceof qn)return e.clone();var t=new Kn(e.__wrapped__,e.__chain__);return t.__actions__=xi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var jo=Hr((function(e,t){return Gs(e)?cr(e,gr(t,1,Gs,!0)):[]})),Lo=Hr((function(e,t){var n=Yo(t);return Gs(n)&&(n=i),Gs(e)?cr(e,gr(t,1,Gs,!0),oo(n,2)):[]})),Ko=Hr((function(e,t){var n=Yo(t);return Gs(n)&&(n=i),Gs(e)?cr(e,gr(t,1,Gs,!0),i,n):[]}));function qo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:da(n);return i<0&&(i=vn(r+i,0)),Nt(e,oo(t,3),i)}function Vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=da(n),o=n<0?vn(r+o,0):mn(o,r-1)),Nt(e,oo(t,3),o,!0)}function Wo(e){return null!=e&&e.length?gr(e,1):[]}function zo(e){return e&&e.length?e[0]:i}var Go=Hr((function(e){var t=Pt(e,pi);return t.length&&t[0]===e[0]?Ir(t):[]})),Ho=Hr((function(e){var t=Yo(e),n=Pt(e,pi);return t===Yo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ir(n,oo(t,2)):[]})),$o=Hr((function(e){var t=Yo(e),n=Pt(e,pi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ir(n,i,t):[]}));function Yo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Jo=Hr(Zo);function Zo(e,t){return e&&e.length&&t&&t.length?Vr(e,t):e}var Qo=Xi((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return Wr(e,Pt(t,(function(e){return vo(e,n)?+e:e})).sort(Si)),r}));function Xo(e){return null==e?e:wn.call(e)}var es=Hr((function(e){return ai(gr(e,1,Gs,!0))})),ts=Hr((function(e){var t=Yo(e);return Gs(t)&&(t=i),ai(gr(e,1,Gs,!0),oo(t,2))})),ns=Hr((function(e){var t=Yo(e);return t="function"==typeof t?t:i,ai(gr(e,1,Gs,!0),i,t)}));function rs(e){if(!e||!e.length)return[];var t=0;return e=kt(e,(function(e){if(Gs(e))return t=vn(e.length,t),!0})),Ht(t,(function(t){return Pt(e,Vt(t))}))}function is(e,t){if(!e||!e.length)return[];var n=rs(e);return null==t?n:Pt(n,(function(e){return St(t,i,e)}))}var os=Hr((function(e,t){return Gs(e)?cr(e,t):[]})),ss=Hr((function(e){return hi(kt(e,Gs))})),as=Hr((function(e){var t=Yo(e);return Gs(t)&&(t=i),hi(kt(e,Gs),oo(t,2))})),us=Hr((function(e){var t=Yo(e);return t="function"==typeof t?t:i,hi(kt(e,Gs),i,t)})),cs=Hr(rs),ls=Hr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,is(e,n)}));function fs(e){var t=Nn(e);return t.__chain__=!0,t}function hs(e,t){return t(e)}var ds=Xi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof qn&&vo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:hs,args:[o],thisArg:i}),new Kn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),ps=ki((function(e,t,n){Re.call(e,n)?++e[n]:rr(e,n,1)})),gs=Fi(qo),vs=Fi(Vo);function ms(e,t){return(Vs(e)?Et:lr)(e,oo(t,3))}function ys(e,t){return(Vs(e)?xt:fr)(e,oo(t,3))}var bs=ki((function(e,t,n){Re.call(e,n)?e[n].push(t):rr(e,n,[t])})),_s=Hr((function(e,t,n){var i=-1,o="function"==typeof t,s=zs(e)?r(e.length):[];return lr(e,(function(e){s[++i]=o?St(t,e,n):kr(e,t,n)})),s})),ws=ki((function(e,t,n){rr(e,n,t)}));function As(e,t){return(Vs(e)?Pt:Br)(e,oo(t,3))}var Ss=ki((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Cs=Hr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&mo(e,t[0],t[1])?t=[]:n>2&&mo(t[0],t[1],t[2])&&(t=[t[0]]),Kr(e,gr(t,1),[])})),Es=ct||function(){return ft.Date.now()};function xs(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,$i(e,c,i,i,i,i,t)}function Is(e,t){var n;if("function"!=typeof t)throw new Ie(o);return e=da(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var ks=Hr((function(e,t,n){var r=1;if(n.length){var i=an(n,io(ks));r|=u}return $i(e,r,t,n,i)})),Ts=Hr((function(e,t,n){var r=3;if(n.length){var i=an(n,io(Ts));r|=u}return $i(t,r,e,n,i)}));function Ds(e,t,n){var r,s,a,u,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ie(o);function g(t){var n=r,o=s;return r=s=i,f=t,u=e.apply(o,n)}function v(e){var n=e-l;return l===i||n>=t||n<0||d&&e-f>=a}function m(){var e=Es();if(v(e))return y(e);c=ko(m,function(e){var n=t-(e-l);return d?mn(n,a-(e-f)):n}(e))}function y(e){return c=i,p&&r?g(e):(r=s=i,u)}function b(){var e=Es(),n=v(e);if(r=arguments,s=this,l=e,n){if(c===i)return function(e){return f=e,c=ko(m,t),h?g(e):u}(l);if(d)return bi(c),c=ko(m,t),g(l)}return c===i&&(c=ko(m,t)),u}return t=ga(t)||0,Xs(n)&&(h=!!n.leading,a=(d="maxWait"in n)?vn(ga(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&bi(c),f=0,r=l=s=c=i},b.flush=function(){return c===i?u:y(Es())},b}var Ps=Hr((function(e,t){return ur(e,1,t)})),Us=Hr((function(e,t,n){return ur(e,ga(t)||0,n)}));function Rs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Rs.Cache||zn),n}function Os(e){if("function"!=typeof e)throw new Ie(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Rs.Cache=zn;var Fs=mi((function(e,t){var n=(t=1==t.length&&Vs(t[0])?Pt(t[0],Yt(oo())):Pt(gr(t,1),Yt(oo()))).length;return Hr((function(r){for(var i=-1,o=mn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return St(e,this,r)}))})),Bs=Hr((function(e,t){var n=an(t,io(Bs));return $i(e,u,i,t,n)})),Ms=Hr((function(e,t){var n=an(t,io(Ms));return $i(e,64,i,t,n)})),Ns=Xi((function(e,t){return $i(e,256,i,i,i,t)}));function js(e,t){return e===t||e!=e&&t!=t}var Ls=Vi(Cr),Ks=Vi((function(e,t){return e>=t})),qs=Tr(function(){return arguments}())?Tr:function(e){return ea(e)&&Re.call(e,"callee")&&!Ge.call(e,"callee")},Vs=r.isArray,Ws=mt?Yt(mt):function(e){return ea(e)&&Sr(e)==P};function zs(e){return null!=e&&Qs(e.length)&&!Js(e)}function Gs(e){return ea(e)&&zs(e)}var Hs=vt||gu,$s=yt?Yt(yt):function(e){return ea(e)&&Sr(e)==y};function Ys(e){if(!ea(e))return!1;var t=Sr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ra(e)}function Js(e){if(!Xs(e))return!1;var t=Sr(e);return t==_||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zs(e){return"number"==typeof e&&e==da(e)}function Qs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function Xs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=bt?Yt(bt):function(e){return ea(e)&&fo(e)==A};function na(e){return"number"==typeof e||ea(e)&&Sr(e)==S}function ra(e){if(!ea(e)||Sr(e)!=C)return!1;var t=We(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ue.call(n)==Me}var ia=_t?Yt(_t):function(e){return ea(e)&&Sr(e)==x},oa=wt?Yt(wt):function(e){return ea(e)&&fo(e)==I};function sa(e){return"string"==typeof e||!Vs(e)&&ea(e)&&Sr(e)==k}function aa(e){return"symbol"==typeof e||ea(e)&&Sr(e)==T}var ua=At?Yt(At):function(e){return ea(e)&&Qs(e.length)&&!!it[Sr(e)]},ca=Vi(Fr),la=Vi((function(e,t){return e<=t}));function fa(e){if(!e)return[];if(zs(e))return sa(e)?fn(e):xi(e);if(Ye&&e[Ye])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ye]());var t=fo(e);return(t==A?on:t==I?un:ja)(e)}function ha(e){return e?(e=ga(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function da(e){var t=ha(e),n=t%1;return t==t?n?t-n:t:0}function pa(e){return e?or(da(e),0,d):0}function ga(e){if("number"==typeof e)return e;if(aa(e))return h;if(Xs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Xs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=$t(e);var n=pe.test(e);return n||ve.test(e)?ut(e.slice(2),n?2:8):de.test(e)?h:+e}function va(e){return Ii(e,Pa(e))}function ma(e){return null==e?"":si(e)}var ya=Ti((function(e,t){if(wo(t)||zs(t))Ii(t,Da(t),e);else for(var n in t)Re.call(t,n)&&Xn(e,n,t[n])})),ba=Ti((function(e,t){Ii(t,Pa(t),e)})),_a=Ti((function(e,t,n,r){Ii(t,Pa(t),e,r)})),wa=Ti((function(e,t,n,r){Ii(t,Da(t),e,r)})),Aa=Xi(ir),Sa=Hr((function(e,t){e=Ce(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&mo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Pa(s),u=-1,c=a.length;++u<c;){var l=a[u],f=e[l];(f===i||js(f,De[l])&&!Re.call(e,l))&&(e[l]=s[l])}return e})),Ca=Hr((function(e){return e.push(i,Ji),St(Ra,i,e)}));function Ea(e,t,n){var r=null==e?i:wr(e,t);return r===i?n:r}function xa(e,t){return null!=e&&ho(e,t,xr)}var Ia=Ni((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),e[t]=n}),Xa(nu)),ka=Ni((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),oo),Ta=Hr(kr);function Da(e){return zs(e)?$n(e):Or(e)}function Pa(e){return zs(e)?$n(e,!0):function(e){if(!Xs(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=wo(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}(e)}var Ua=Ti((function(e,t,n){jr(e,t,n)})),Ra=Ti((function(e,t,n,r){jr(e,t,n,r)})),Oa=Xi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Pt(t,(function(t){return t=vi(t,e),r||(r=t.length>1),t})),Ii(e,to(e),n),r&&(n=sr(n,7,Zi));for(var i=t.length;i--;)ui(n,t[i]);return n})),Fa=Xi((function(e,t){return null==e?{}:function(e,t){return qr(e,t,(function(t,n){return xa(e,n)}))}(e,t)}));function Ba(e,t){if(null==e)return{};var n=Pt(to(e),(function(e){return[e]}));return t=oo(t),qr(e,n,(function(e,n){return t(e,n[0])}))}var Ma=Hi(Da),Na=Hi(Pa);function ja(e){return null==e?[]:Jt(e,Da(e))}var La=Ri((function(e,t,n){return t=t.toLowerCase(),e+(n?Ka(t):t)}));function Ka(e){return Ya(ma(e).toLowerCase())}function qa(e){return(e=ma(e))&&e.replace(ye,en).replace(Ze,"")}var Va=Ri((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Wa=Ri((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),za=Ui("toLowerCase"),Ga=Ri((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ha=Ri((function(e,t,n){return e+(n?" ":"")+Ya(t)})),$a=Ri((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ya=Ui("toUpperCase");function Ja(e,t,n){return e=ma(e),(t=n?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Za=Hr((function(e,t){try{return St(e,i,t)}catch(e){return Ys(e)?e:new we(e)}})),Qa=Xi((function(e,t){return Et(t,(function(t){t=Bo(t),rr(e,t,ks(e[t],e))})),e}));function Xa(e){return function(){return e}}var eu=Bi(),tu=Bi(!0);function nu(e){return e}function ru(e){return Rr("function"==typeof e?e:sr(e,1))}var iu=Hr((function(e,t){return function(n){return kr(n,e,t)}})),ou=Hr((function(e,t){return function(n){return kr(e,n,t)}}));function su(e,t,n){var r=Da(t),i=_r(t,r);null!=n||Xs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=_r(t,Da(t)));var o=!(Xs(n)&&"chain"in n&&!n.chain),s=Js(e);return Et(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=xi(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ut([this.value()],arguments))})})),e}function au(){}var uu=Li(Pt),cu=Li(It),lu=Li(Ft);function fu(e){return yo(e)?Vt(Bo(e)):function(e){return function(t){return wr(t,e)}}(e)}var hu=qi(),du=qi(!0);function pu(){return[]}function gu(){return!1}var vu,mu=ji((function(e,t){return e+t}),0),yu=zi("ceil"),bu=ji((function(e,t){return e/t}),1),_u=zi("floor"),wu=ji((function(e,t){return e*t}),1),Au=zi("round"),Su=ji((function(e,t){return e-t}),0);return Nn.after=function(e,t){if("function"!=typeof t)throw new Ie(o);return e=da(e),function(){if(--e<1)return t.apply(this,arguments)}},Nn.ary=xs,Nn.assign=ya,Nn.assignIn=ba,Nn.assignInWith=_a,Nn.assignWith=wa,Nn.at=Aa,Nn.before=Is,Nn.bind=ks,Nn.bindAll=Qa,Nn.bindKey=Ts,Nn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Vs(e)?e:[e]},Nn.chain=fs,Nn.chunk=function(e,t,n){t=(n?mo(e,t,n):t===i)?1:vn(da(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,u=r(ht(o/t));s<o;)u[a++]=ei(e,s,s+=t);return u},Nn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Nn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Ut(Vs(n)?xi(n):[n],gr(t,1))},Nn.cond=function(e){var t=null==e?0:e.length,n=oo();return e=t?Pt(e,(function(e){if("function"!=typeof e[1])throw new Ie(o);return[n(e[0]),e[1]]})):[],Hr((function(n){for(var r=-1;++r<t;){var i=e[r];if(St(i[0],this,n))return St(i[1],this,n)}}))},Nn.conforms=function(e){return function(e){var t=Da(e);return function(n){return ar(n,e,t)}}(sr(e,1))},Nn.constant=Xa,Nn.countBy=ps,Nn.create=function(e,t){var n=jn(e);return null==t?n:nr(n,t)},Nn.curry=function e(t,n,r){var o=$i(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Nn.curryRight=function e(t,n,r){var o=$i(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Nn.debounce=Ds,Nn.defaults=Sa,Nn.defaultsDeep=Ca,Nn.defer=Ps,Nn.delay=Us,Nn.difference=jo,Nn.differenceBy=Lo,Nn.differenceWith=Ko,Nn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=n||t===i?1:da(t))<0?0:t,r):[]},Nn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,0,(t=r-(t=n||t===i?1:da(t)))<0?0:t):[]},Nn.dropRightWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!0,!0):[]},Nn.dropWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!0):[]},Nn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&mo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=da(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:da(r))<0&&(r+=o),r=n>r?0:pa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Nn.filter=function(e,t){return(Vs(e)?kt:pr)(e,oo(t,3))},Nn.flatMap=function(e,t){return gr(As(e,t),1)},Nn.flatMapDeep=function(e,t){return gr(As(e,t),l)},Nn.flatMapDepth=function(e,t,n){return n=n===i?1:da(n),gr(As(e,t),n)},Nn.flatten=Wo,Nn.flattenDeep=function(e){return null!=e&&e.length?gr(e,l):[]},Nn.flattenDepth=function(e,t){return null!=e&&e.length?gr(e,t=t===i?1:da(t)):[]},Nn.flip=function(e){return $i(e,512)},Nn.flow=eu,Nn.flowRight=tu,Nn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Nn.functions=function(e){return null==e?[]:_r(e,Da(e))},Nn.functionsIn=function(e){return null==e?[]:_r(e,Pa(e))},Nn.groupBy=bs,Nn.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},Nn.intersection=Go,Nn.intersectionBy=Ho,Nn.intersectionWith=$o,Nn.invert=Ia,Nn.invertBy=ka,Nn.invokeMap=_s,Nn.iteratee=ru,Nn.keyBy=ws,Nn.keys=Da,Nn.keysIn=Pa,Nn.map=As,Nn.mapKeys=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,t(e,r,i),e)})),n},Nn.mapValues=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,r,t(e,r,i))})),n},Nn.matches=function(e){return Mr(sr(e,1))},Nn.matchesProperty=function(e,t){return Nr(e,sr(t,1))},Nn.memoize=Rs,Nn.merge=Ua,Nn.mergeWith=Ra,Nn.method=iu,Nn.methodOf=ou,Nn.mixin=su,Nn.negate=Os,Nn.nthArg=function(e){return e=da(e),Hr((function(t){return Lr(t,e)}))},Nn.omit=Oa,Nn.omitBy=function(e,t){return Ba(e,Os(oo(t)))},Nn.once=function(e){return Is(2,e)},Nn.orderBy=function(e,t,n,r){return null==e?[]:(Vs(t)||(t=null==t?[]:[t]),Vs(n=r?i:n)||(n=null==n?[]:[n]),Kr(e,t,n))},Nn.over=uu,Nn.overArgs=Fs,Nn.overEvery=cu,Nn.overSome=lu,Nn.partial=Bs,Nn.partialRight=Ms,Nn.partition=Ss,Nn.pick=Fa,Nn.pickBy=Ba,Nn.property=fu,Nn.propertyOf=function(e){return function(t){return null==e?i:wr(e,t)}},Nn.pull=Jo,Nn.pullAll=Zo,Nn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,oo(n,2)):e},Nn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,i,n):e},Nn.pullAt=Qo,Nn.range=hu,Nn.rangeRight=du,Nn.rearg=Ns,Nn.reject=function(e,t){return(Vs(e)?kt:pr)(e,Os(oo(t,3)))},Nn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=oo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Wr(e,i),n},Nn.rest=function(e,t){if("function"!=typeof e)throw new Ie(o);return Hr(e,t=t===i?t:da(t))},Nn.reverse=Xo,Nn.sampleSize=function(e,t,n){return t=(n?mo(e,t,n):t===i)?1:da(t),(Vs(e)?Jn:Yr)(e,t)},Nn.set=function(e,t,n){return null==e?e:Jr(e,t,n)},Nn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Jr(e,t,n,r)},Nn.shuffle=function(e){return(Vs(e)?Zn:Xr)(e)},Nn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&mo(e,t,n)?(t=0,n=r):(t=null==t?0:da(t),n=n===i?r:da(n)),ei(e,t,n)):[]},Nn.sortBy=Cs,Nn.sortedUniq=function(e){return e&&e.length?ii(e):[]},Nn.sortedUniqBy=function(e,t){return e&&e.length?ii(e,oo(t,2)):[]},Nn.split=function(e,t,n){return n&&"number"!=typeof n&&mo(e,t,n)&&(t=n=i),(n=n===i?d:n>>>0)?(e=ma(e))&&("string"==typeof t||null!=t&&!ia(t))&&!(t=si(t))&&rn(e)?yi(fn(e),0,n):e.split(t,n):[]},Nn.spread=function(e,t){if("function"!=typeof e)throw new Ie(o);return t=null==t?0:vn(da(t),0),Hr((function(n){var r=n[t],i=yi(n,0,t);return r&&Ut(i,r),St(e,this,i)}))},Nn.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},Nn.take=function(e,t,n){return e&&e.length?ei(e,0,(t=n||t===i?1:da(t))<0?0:t):[]},Nn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=r-(t=n||t===i?1:da(t)))<0?0:t,r):[]},Nn.takeRightWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!1,!0):[]},Nn.takeWhile=function(e,t){return e&&e.length?li(e,oo(t,3)):[]},Nn.tap=function(e,t){return t(e),e},Nn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ie(o);return Xs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ds(e,t,{leading:r,maxWait:t,trailing:i})},Nn.thru=hs,Nn.toArray=fa,Nn.toPairs=Ma,Nn.toPairsIn=Na,Nn.toPath=function(e){return Vs(e)?Pt(e,Bo):aa(e)?[e]:xi(Fo(ma(e)))},Nn.toPlainObject=va,Nn.transform=function(e,t,n){var r=Vs(e),i=r||Hs(e)||ua(e);if(t=oo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Xs(e)&&Js(o)?jn(We(e)):{}}return(i?Et:yr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Nn.unary=function(e){return xs(e,1)},Nn.union=es,Nn.unionBy=ts,Nn.unionWith=ns,Nn.uniq=function(e){return e&&e.length?ai(e):[]},Nn.uniqBy=function(e,t){return e&&e.length?ai(e,oo(t,2)):[]},Nn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ai(e,i,t):[]},Nn.unset=function(e,t){return null==e||ui(e,t)},Nn.unzip=rs,Nn.unzipWith=is,Nn.update=function(e,t,n){return null==e?e:ci(e,t,gi(n))},Nn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ci(e,t,gi(n),r)},Nn.values=ja,Nn.valuesIn=function(e){return null==e?[]:Jt(e,Pa(e))},Nn.without=os,Nn.words=Ja,Nn.wrap=function(e,t){return Bs(gi(t),e)},Nn.xor=ss,Nn.xorBy=as,Nn.xorWith=us,Nn.zip=cs,Nn.zipObject=function(e,t){return di(e||[],t||[],Xn)},Nn.zipObjectDeep=function(e,t){return di(e||[],t||[],Jr)},Nn.zipWith=ls,Nn.entries=Ma,Nn.entriesIn=Na,Nn.extend=ba,Nn.extendWith=_a,su(Nn,Nn),Nn.add=mu,Nn.attempt=Za,Nn.camelCase=La,Nn.capitalize=Ka,Nn.ceil=yu,Nn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ga(n))==n?n:0),t!==i&&(t=(t=ga(t))==t?t:0),or(ga(e),t,n)},Nn.clone=function(e){return sr(e,4)},Nn.cloneDeep=function(e){return sr(e,5)},Nn.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:i)},Nn.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:i)},Nn.conformsTo=function(e,t){return null==t||ar(e,t,Da(t))},Nn.deburr=qa,Nn.defaultTo=function(e,t){return null==e||e!=e?t:e},Nn.divide=bu,Nn.endsWith=function(e,t,n){e=ma(e),t=si(t);var r=e.length,o=n=n===i?r:or(da(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Nn.eq=js,Nn.escape=function(e){return(e=ma(e))&&$.test(e)?e.replace(G,tn):e},Nn.escapeRegExp=function(e){return(e=ma(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Nn.every=function(e,t,n){var r=Vs(e)?It:hr;return n&&mo(e,t,n)&&(t=i),r(e,oo(t,3))},Nn.find=gs,Nn.findIndex=qo,Nn.findKey=function(e,t){return Mt(e,oo(t,3),yr)},Nn.findLast=vs,Nn.findLastIndex=Vo,Nn.findLastKey=function(e,t){return Mt(e,oo(t,3),br)},Nn.floor=_u,Nn.forEach=ms,Nn.forEachRight=ys,Nn.forIn=function(e,t){return null==e?e:vr(e,oo(t,3),Pa)},Nn.forInRight=function(e,t){return null==e?e:mr(e,oo(t,3),Pa)},Nn.forOwn=function(e,t){return e&&yr(e,oo(t,3))},Nn.forOwnRight=function(e,t){return e&&br(e,oo(t,3))},Nn.get=Ea,Nn.gt=Ls,Nn.gte=Ks,Nn.has=function(e,t){return null!=e&&ho(e,t,Er)},Nn.hasIn=xa,Nn.head=zo,Nn.identity=nu,Nn.includes=function(e,t,n,r){e=zs(e)?e:ja(e),n=n&&!r?da(n):0;var i=e.length;return n<0&&(n=vn(i+n,0)),sa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&jt(e,t,n)>-1},Nn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:da(n);return i<0&&(i=vn(r+i,0)),jt(e,t,i)},Nn.inRange=function(e,t,n){return t=ha(t),n===i?(n=t,t=0):n=ha(n),function(e,t,n){return e>=mn(t,n)&&e<vn(t,n)}(e=ga(e),t,n)},Nn.invoke=Ta,Nn.isArguments=qs,Nn.isArray=Vs,Nn.isArrayBuffer=Ws,Nn.isArrayLike=zs,Nn.isArrayLikeObject=Gs,Nn.isBoolean=function(e){return!0===e||!1===e||ea(e)&&Sr(e)==m},Nn.isBuffer=Hs,Nn.isDate=$s,Nn.isElement=function(e){return ea(e)&&1===e.nodeType&&!ra(e)},Nn.isEmpty=function(e){if(null==e)return!0;if(zs(e)&&(Vs(e)||"string"==typeof e||"function"==typeof e.splice||Hs(e)||ua(e)||qs(e)))return!e.length;var t=fo(e);if(t==A||t==I)return!e.size;if(wo(e))return!Or(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Nn.isEqual=function(e,t){return Dr(e,t)},Nn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Dr(e,t,i,n):!!r},Nn.isError=Ys,Nn.isFinite=function(e){return"number"==typeof e&&Bt(e)},Nn.isFunction=Js,Nn.isInteger=Zs,Nn.isLength=Qs,Nn.isMap=ta,Nn.isMatch=function(e,t){return e===t||Pr(e,t,ao(t))},Nn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Pr(e,t,ao(t),n)},Nn.isNaN=function(e){return na(e)&&e!=+e},Nn.isNative=function(e){if(_o(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ur(e)},Nn.isNil=function(e){return null==e},Nn.isNull=function(e){return null===e},Nn.isNumber=na,Nn.isObject=Xs,Nn.isObjectLike=ea,Nn.isPlainObject=ra,Nn.isRegExp=ia,Nn.isSafeInteger=function(e){return Zs(e)&&e>=-9007199254740991&&e<=f},Nn.isSet=oa,Nn.isString=sa,Nn.isSymbol=aa,Nn.isTypedArray=ua,Nn.isUndefined=function(e){return e===i},Nn.isWeakMap=function(e){return ea(e)&&fo(e)==D},Nn.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==Sr(e)},Nn.join=function(e,t){return null==e?"":Wt.call(e,t)},Nn.kebabCase=Va,Nn.last=Yo,Nn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=da(n))<0?vn(r+o,0):mn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Nt(e,Kt,o,!0)},Nn.lowerCase=Wa,Nn.lowerFirst=za,Nn.lt=ca,Nn.lte=la,Nn.max=function(e){return e&&e.length?dr(e,nu,Cr):i},Nn.maxBy=function(e,t){return e&&e.length?dr(e,oo(t,2),Cr):i},Nn.mean=function(e){return qt(e,nu)},Nn.meanBy=function(e,t){return qt(e,oo(t,2))},Nn.min=function(e){return e&&e.length?dr(e,nu,Fr):i},Nn.minBy=function(e,t){return e&&e.length?dr(e,oo(t,2),Fr):i},Nn.stubArray=pu,Nn.stubFalse=gu,Nn.stubObject=function(){return{}},Nn.stubString=function(){return""},Nn.stubTrue=function(){return!0},Nn.multiply=wu,Nn.nth=function(e,t){return e&&e.length?Lr(e,da(t)):i},Nn.noConflict=function(){return ft._===this&&(ft._=Ne),this},Nn.noop=au,Nn.now=Es,Nn.pad=function(e,t,n){e=ma(e);var r=(t=da(t))?ln(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ki(dt(i),n)+e+Ki(ht(i),n)},Nn.padEnd=function(e,t,n){e=ma(e);var r=(t=da(t))?ln(e):0;return t&&r<t?e+Ki(t-r,n):e},Nn.padStart=function(e,t,n){e=ma(e);var r=(t=da(t))?ln(e):0;return t&&r<t?Ki(t-r,n)+e:e},Nn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),bn(ma(e).replace(re,""),t||0)},Nn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&mo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ha(e),t===i?(t=e,e=0):t=ha(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=_n();return mn(e+o*(t-e+at("1e-"+((o+"").length-1))),t)}return zr(e,t)},Nn.reduce=function(e,t,n){var r=Vs(e)?Rt:zt,i=arguments.length<3;return r(e,oo(t,4),n,i,lr)},Nn.reduceRight=function(e,t,n){var r=Vs(e)?Ot:zt,i=arguments.length<3;return r(e,oo(t,4),n,i,fr)},Nn.repeat=function(e,t,n){return t=(n?mo(e,t,n):t===i)?1:da(t),Gr(ma(e),t)},Nn.replace=function(){var e=arguments,t=ma(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Nn.result=function(e,t,n){var r=-1,o=(t=vi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Bo(t[r])];s===i&&(r=o,s=n),e=Js(s)?s.call(e):s}return e},Nn.round=Au,Nn.runInContext=e,Nn.sample=function(e){return(Vs(e)?Yn:$r)(e)},Nn.size=function(e){if(null==e)return 0;if(zs(e))return sa(e)?ln(e):e.length;var t=fo(e);return t==A||t==I?e.size:Or(e).length},Nn.snakeCase=Ga,Nn.some=function(e,t,n){var r=Vs(e)?Ft:ti;return n&&mo(e,t,n)&&(t=i),r(e,oo(t,3))},Nn.sortedIndex=function(e,t){return ni(e,t)},Nn.sortedIndexBy=function(e,t,n){return ri(e,t,oo(n,2))},Nn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ni(e,t);if(r<n&&js(e[r],t))return r}return-1},Nn.sortedLastIndex=function(e,t){return ni(e,t,!0)},Nn.sortedLastIndexBy=function(e,t,n){return ri(e,t,oo(n,2),!0)},Nn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ni(e,t,!0)-1;if(js(e[n],t))return n}return-1},Nn.startCase=Ha,Nn.startsWith=function(e,t,n){return e=ma(e),n=null==n?0:or(da(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},Nn.subtract=Su,Nn.sum=function(e){return e&&e.length?Gt(e,nu):0},Nn.sumBy=function(e,t){return e&&e.length?Gt(e,oo(t,2)):0},Nn.template=function(e,t,n){var r=Nn.templateSettings;n&&mo(e,t,n)&&(t=i),e=ma(e),t=_a({},t,r,Yi);var o,s,a=_a({},t.imports,r.imports,Yi),u=Da(a),c=Jt(a,u),l=0,f=t.interpolate||be,h="__p += '",d=Ee((t.escape||be).source+"|"+f.source+"|"+(f===Z?fe:be).source+"|"+(t.evaluate||be).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(d,(function(t,n,r,i,a,u){return r||(r=i),h+=e.slice(l,u).replace(_e,nn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),h+="';\n";var g=Re.call(t,"variable")&&t.variable;if(g){if(ce.test(g))throw new we("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(q,""):h).replace(V,"$1").replace(W,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Za((function(){return Ae(u,p+"return "+h).apply(i,c)}));if(v.source=h,Ys(v))throw v;return v},Nn.times=function(e,t){if((e=da(e))<1||e>f)return[];var n=d,r=mn(e,d);t=oo(t),e-=d;for(var i=Ht(r,t);++n<e;)t(n);return i},Nn.toFinite=ha,Nn.toInteger=da,Nn.toLength=pa,Nn.toLower=function(e){return ma(e).toLowerCase()},Nn.toNumber=ga,Nn.toSafeInteger=function(e){return e?or(da(e),-9007199254740991,f):0===e?e:0},Nn.toString=ma,Nn.toUpper=function(e){return ma(e).toUpperCase()},Nn.trim=function(e,t,n){if((e=ma(e))&&(n||t===i))return $t(e);if(!e||!(t=si(t)))return e;var r=fn(e),o=fn(t);return yi(r,Qt(r,o),Xt(r,o)+1).join("")},Nn.trimEnd=function(e,t,n){if((e=ma(e))&&(n||t===i))return e.slice(0,hn(e)+1);if(!e||!(t=si(t)))return e;var r=fn(e);return yi(r,0,Xt(r,fn(t))+1).join("")},Nn.trimStart=function(e,t,n){if((e=ma(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=si(t)))return e;var r=fn(e);return yi(r,Qt(r,fn(t))).join("")},Nn.truncate=function(e,t){var n=30,r="...";if(Xs(t)){var o="separator"in t?t.separator:o;n="length"in t?da(t.length):n,r="omission"in t?si(t.omission):r}var s=(e=ma(e)).length;if(rn(e)){var a=fn(e);s=a.length}if(n>=s)return e;var u=n-ln(r);if(u<1)return r;var c=a?yi(a,0,u).join(""):e.slice(0,u);if(o===i)return c+r;if(a&&(u+=c.length-u),ia(o)){if(e.slice(u).search(o)){var l,f=c;for(o.global||(o=Ee(o.source,ma(he.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var h=l.index;c=c.slice(0,h===i?u:h)}}else if(e.indexOf(si(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+r},Nn.unescape=function(e){return(e=ma(e))&&H.test(e)?e.replace(z,dn):e},Nn.uniqueId=function(e){var t=++Oe;return ma(e)+t},Nn.upperCase=$a,Nn.upperFirst=Ya,Nn.each=ms,Nn.eachRight=ys,Nn.first=zo,su(Nn,(vu={},yr(Nn,(function(e,t){Re.call(Nn.prototype,t)||(vu[t]=e)})),vu),{chain:!1}),Nn.VERSION="4.17.21",Et(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Nn[e].placeholder=Nn})),Et(["drop","take"],(function(e,t){qn.prototype[e]=function(n){n=n===i?1:vn(da(n),0);var r=this.__filtered__&&!t?new qn(this):this.clone();return r.__filtered__?r.__takeCount__=mn(n,r.__takeCount__):r.__views__.push({size:mn(n,d),type:e+(r.__dir__<0?"Right":"")}),r},qn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Et(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;qn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Et(["head","last"],(function(e,t){var n="take"+(t?"Right":"");qn.prototype[e]=function(){return this[n](1).value()[0]}})),Et(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");qn.prototype[e]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(nu)},qn.prototype.find=function(e){return this.filter(e).head()},qn.prototype.findLast=function(e){return this.reverse().find(e)},qn.prototype.invokeMap=Hr((function(e,t){return"function"==typeof e?new qn(this):this.map((function(n){return kr(n,e,t)}))})),qn.prototype.reject=function(e){return this.filter(Os(oo(e)))},qn.prototype.slice=function(e,t){e=da(e);var n=this;return n.__filtered__&&(e>0||t<0)?new qn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=da(t))<0?n.dropRight(-t):n.take(t-e)),n)},qn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qn.prototype.toArray=function(){return this.take(d)},yr(qn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Nn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(Nn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,u=t instanceof qn,c=a[0],l=u||Vs(t),f=function(e){var t=o.apply(Nn,Ut([e],a));return r&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=s&&!h,g=u&&!d;if(!s&&l){t=g?t:new qn(this);var v=e.apply(t,a);return v.__actions__.push({func:hs,args:[f],thisArg:i}),new Kn(v,h)}return p&&g?e.apply(this,a):(v=this.thru(f),p?r?v.value()[0]:v.value():v)})})),Et(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ke[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Nn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Vs(i)?i:[],e)}return this[n]((function(n){return t.apply(Vs(n)?n:[],e)}))}})),yr(qn.prototype,(function(e,t){var n=Nn[t];if(n){var r=n.name+"";Re.call(Tn,r)||(Tn[r]=[]),Tn[r].push({name:t,func:n})}})),Tn[Mi(i,2).name]=[{name:"wrapper",func:i}],qn.prototype.clone=function(){var e=new qn(this.__wrapped__);return e.__actions__=xi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=xi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=xi(this.__views__),e},qn.prototype.reverse=function(){if(this.__filtered__){var e=new qn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Vs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=mn(t,e+s);break;case"takeRight":e=vn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,f=l.length,h=0,d=mn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return fi(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var g=-1,v=e[c+=t];++g<f;){var m=l[g],y=m.iteratee,b=m.type,_=y(v);if(2==b)v=_;else if(!_){if(1==b)continue e;break e}}p[h++]=v}return p},Nn.prototype.at=ds,Nn.prototype.chain=function(){return fs(this)},Nn.prototype.commit=function(){return new Kn(this.value(),this.__chain__)},Nn.prototype.next=function(){this.__values__===i&&(this.__values__=fa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Nn.prototype.plant=function(e){for(var t,n=this;n instanceof Ln;){var r=No(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Nn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qn){var t=e;return this.__actions__.length&&(t=new qn(this)),(t=t.reverse()).__actions__.push({func:hs,args:[Xo],thisArg:i}),new Kn(t,this.__chain__)}return this.thru(Xo)},Nn.prototype.toJSON=Nn.prototype.valueOf=Nn.prototype.value=function(){return fi(this.__wrapped__,this.__actions__)},Nn.prototype.first=Nn.prototype.head,Ye&&(Nn.prototype[Ye]=function(){return this}),Nn}();ft._=pn,(r=function(){return pn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},2708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5826);t.browserName=(()=>{const e=navigator.userAgent.toLowerCase();return e.includes("firefox")?r.BrowserName.Firefox:e.includes("edg")?r.BrowserName.Edge:e.includes("chrome")?r.BrowserName.Chrome:r.BrowserName.Safari})()},8432:(e,t)=>{"use strict";function n(e,t){const n=new Uint8Array(e.length);for(let t=0;t<n.length;t++)n[t]=e.charCodeAt(t);return new Blob([n],{type:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.binaryStringToBlob=n,t.blobToBinaryString=async function(e){return new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("load",(()=>t(r.result))),r.addEventListener("error",n),r.readAsBinaryString(e)}))},t.blobToSha256=async function(e){const t=await e.arrayBuffer(),n=await crypto.subtle.digest("SHA-256",t);return[...new Uint8Array(n)].map((e=>e.toString(16).padStart(2,"0"))).join("")},t.dataURLToBlob=function(e){var t;const[r,i]=e.split(","),o=(null===(t=/:(.*?);/.exec(r))||void 0===t?void 0:t[1])||"application/octet-stream",s=decodeURIComponent(i);return n(r.includes("base64")?atob(s):s,o)}},6959:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.IdpFormType||(t.IdpFormType={})).RequestCredentials="credentials",r.RequestPickAccount="pick-account",r.RequestUserConsent="user-consent",r.RequestAccountConfirmation="account-confirmation",(n=t.ScanProgressStatus||(t.ScanProgressStatus={})).Preparing="Preparing to download file",n.Downloading="Downloading file",n.Uploading="Preparing file for scan",n.Scanning="Scanning",n.PendingPassword="Pending password",n.Completed="Completed"},3243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7256);class i extends r.Dexie{constructor(e,t,n=1){super(e),this.version(n).stores({items:t})}}t.Dexie=i},8146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7256);class i extends r.Dexie{constructor(){super(i.Name),this.version(5).stores({items:"id, scan.id, scan.status, download.id, timestamps.createdAt, verdict.verdict"}),this.version(6).stores({items:"id, scan.id, scan.status, download.id, timestamps.createdAt, verdict.verdict, download.urls.finalUrl, download.urls.url"}).upgrade((e=>{const t="data:text/plain;charset=utf-8,migrated";return e.table("items").where("download.urls.finalUrl").startsWith("data:").or("download.urls.url").startsWith("data:").modify((e=>{e.download.urls.finalUrl=t,e.download.urls.url=t}))})),this.version(7).stores({items:"id, scan.id, scan.status, download.id, timestamps.createdAt, verdict.verdict"})}}t.DownloadProcessStore=i,i.Name="downloadProcessStore",t.store=new i},7e3:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1360)),o=i.default.createInstance({driver:i.default.INDEXEDDB,name:"files",storeName:"files",version:1});t.saveFile=async function(e,t){await o.setItem(e,t)},t.getFile=async function(e){return await o.getItem(e)},t.deleteFile=async function(e){await o.removeItem(e)}},1276:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(9394));var i=n(1434);t.getTabIdFromToastId=i.getTabIdFromToastId,r(n(5282));var o=n(6959);t.IdpFormType=o.IdpFormType,t.ScanProgressStatus=o.ScanProgressStatus;var s=n(8432);t.blobToBinaryString=s.blobToBinaryString,t.binaryStringToBlob=s.binaryStringToBlob,t.blobToSha256=s.blobToSha256,t.dataURLToBlob=s.dataURLToBlob;var a=n(7e3);t.saveFile=a.saveFile,t.getFile=a.getFile,t.deleteFile=a.deleteFile;var u=n(3243);t.Dexie=u.Dexie;var c=n(8146);t.store=c.store,r(n(5826));var l=n(2708);t.browserName=l.browserName,r(n(7201))},396:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeSink=class{constructor(e){this.sinks=e}log(e,t,n){for(const r of this.sinks)r.log(e,t,n)}}},3298:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleSink=class{constructor(e){this.levelMapping=e}log(e,t,n){console[this.levelMapping[e]](`[${e}]: ${t}`,...n)}}},1547:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loggerFactory=function(e,t){const n={};for(const r of e)n[r]=function(e,...n){t.log(r,e,n)};return n}},538:(e,t)=>{"use strict";function n(e){const{message:t,stack:n}=e;return{message:t,stack:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.format=function(e){return e.map((e=>{switch(!0){case e instanceof Error:return n(e);case e instanceof Headers:return[...e.entries()];case"object"==typeof(r=e)&&null!==r&&Object.keys(r).length>0:return t=e,Object.entries(t).map((([e,t])=>[e,t instanceof Error?n(t):t])).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t[0]]:t[1]})),{});default:return e}var t,r}))}},5470:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3784),i=n(538);function o(e){return(t,n)=>e.excludedLogFields.includes(t)?"<redacted>":"string"==typeof n&&n.length>e.maxValueLength?n.slice(0,e.maxValueLength)+"...":n}t.createRedactorMethod=o;const s={maxValueLength:1024,excludedLogFields:[]};t.IDBSink=class{constructor(e){this.redactor=o(Object.assign(Object.assign({},s),e))}log(e,t,n){const o=i.format(n),s={message:t,level:e,parameters:JSON.stringify(o,this.redactor),timestamp:new Date};r.log(s)}}},7201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3784);t.getAsFileContent=r.get,t.clearIDBLogger=r.clear;var i=n(396);t.CompositeSink=i.CompositeSink;var o=n(1547);t.loggerFactory=o.loggerFactory;var s=n(5470);t.IDBSink=s.IDBSink;var a=n(3298);t.ConsoleSink=a.ConsoleSink},3784:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new(n(3243).Dexie)("logs","++id",3);t.log=async function(e){return r.items.add(e)},t.clear=async function(e){return r.items.reverse().offset(e).delete()},t.get=async function(){return(await r.items.toArray()).map((e=>`${e.timestamp.toISOString()}|${e.level}|${e.message} ${e.parameters||""}`)).join("\r\n").slice(-8e7)}},5282:(e,t)=>{"use strict";var n,r,i,o,s,a;Object.defineProperty(t,"__esModule",{value:!0}),(t.PortName||(t.PortName={})).Logger="logger",(a=t.MessageKind||(t.MessageKind={})).GetCategories="getCategories",a.GetCurrentSite="getCurrentSite",a.GetToken="getToken",a.SigninIdentifyUser="signinIdentifyUser",a.SaveAuthTokens="saveAuthTokens",a.LinkClickedOnPage="linkClickedOnPage",a.GetDynamicEvidence="getDynamicEvidence",a.GetHtmlDomStatistics="getHtmlDomStatistics",a.GetConfiguration="GetConfigurationMessage",a.BypassMaliciousPage="BypassMaliciousPageMessage",a.CloseTab="CloseTabMessage",a.GetLocalLogs="GetLocalLogsMessage",a.GetExtensionSettings="GetExtensionSettingsMessage",a.GetTextContent="getTextContent",a.PageClickOnUrl="pageClickOnUrl",a.WriteLog="WriteLogMessage",a.BackToSafety="BackToSafety",a.ShowNotificationToast="showNotificationToast",a.DismissNotificationToast="dismissNotificationToast",a.ReportFalseNegative="ReportFalseNegative",a.ReportFalsePositive="ReportFalsePositive",a.ResizeToastWindow="resizeToastWindow",a.LoginSubmitted="loginSubmitted",a.TelemetryMessage="telemetryMessage",a.DevelopmentToolsOpened="devToolsOpened",a.TriggerRescan="triggerRescan",a.GetBlobFromObjectURL="getBlobFromObjectURL",a.UpdateBlobInTab="updateBlobInTab",a.FieldTypingDetection="fieldTypingDetection",a.ShowScanProgressBarToastMessage="showScanProgressBarToastMessage",a.ShowScanProgressBarRefreshedToastMessage="showScanProgressBarRefreshedToastMessage",a.RefreshScanProgressBaseDataMessage="refreshScanProgressBaseDataMessage",a.CancelScanMessage="cancelScan",a.PasswordDuplicationFound="passwordDuplicationFound",a.SetEncryptedFilePassword="setEncryptedFilePassword",a.ShowNotificationBanner="showNotificationBanner",a.GetFavicon="getFavicon",a.SafariDownloadLinkClicked="safariDownloadLinkClicked",a.GetLastUser="getLastUser",a.ShowPasteRestrictedNotification="showPasteRestrictedNotification",a.GetHtmlDomRoot="getHtmlDomRoot",a.GetIFrameContent="getIFrameContent",a.UploadDetected="uploadDetected",a.SensitiveDataDetected="sensitiveDataDetected",a.SensitiveDataDetectionInProgress="sensitiveDataDetectionInProgress",a.DetectSensitiveData="detectSensitiveData",a.GetTabDomain="getTabDomain",a.TryFetchBlob="tryFetchBlob",a.FetchBlob="fetchBlob",a.DownloadProgress="downloadProgress",a.GetPageInfo="getPageInfo",a.UpdatePageInfo="updatePageInfo",a.ChangePageInfo="changePageInfo",a.PageInfoChanged="pageInfoChanged",a.SetTimeout="setTimeout",a.TimeoutReached="timeoutReached",a.GetTabProtectionData="GetTabProtectionDataMessage",a.SignInEnforcementDocumentDisabling="SignInEnforcementDocumentDisabling",a.EventMessage="eventMessage",a.OpenDownloadManager="openDownloadManager",a.FactoryReset="factoryResetRequest",a.KeepAlive="keepAlive",(s=t.ChangeAction||(t.ChangeAction={})).Increment="increment",s.Decrement="decrement",(o=t.UserAuthorizationStatus||(t.UserAuthorizationStatus={})).Ok="Ok",o.InternalError="InternalError",o.DifferentTokenId="DifferentTokenId",o.Forbidden="Forbidden",o.WrongPassword="WrongPassword",o.WrongVerificationCode="WrongVerificationCode",o.VerificationSessionExpired="VerificationSessionExpired",o.Unauthorized="Unauthorized",(i=t.SigninIdentifyError||(t.SigninIdentifyError={})).NotFound="NotFound",i.InternalError="InternalError",i.TenantDisabled="TenantDisabled",i.IdpUser="IdpUser",(r=t.SigninIdentifyResponseKind||(t.SigninIdentifyResponseKind={})).Error="Error",r.CognitoUserPool="CognitoUserPool",r.SigninUrl="SigninUrl",(n=t.UpdateBlobOperation||(t.UpdateBlobOperation={})).Create="create",n.Revoke="revoke"},1434:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=/^t(\d+)_.*$/;t.getTabIdFromToastId=function(e){var t;const r=null===(t=n.exec(e))||void 0===t?void 0:t[1];if(r)return Number.parseInt(r,10)}},5070:(e,t)=>{"use strict";var n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.SignInMode||(t.SignInMode={})).UnattendedSignIn="UnattendedSignIn",i.InteractiveWithIdp="InteractiveWithIdp",i.InteractiveWithCode="InteractiveWithCode",(r=t.SignInEnforcementMode||(t.SignInEnforcementMode={})).None="None",r.ForceSignIn="ForceSignIn",r.AutoOpenSignInPage="AutoOpenSignInPage",(n=t.PostSignInRedirectMode||(t.PostSignInRedirectMode={})).ABSPage="ABSPage",n.PreSignInUrlRedirectAfterTimeout="PreSignInUrlRedirectAfterTimeout",n.PreSignInUrlRedirect="PreSignInUrlRedirect"},6722:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.BrowserName||(t.BrowserName={})).Edge="edge",n.Chrome="chrome",n.Safari="safari",n.Firefox="firefox"},4229:(e,t)=>{"use strict";var n,r,i,o,s,a,u,c,l,f,h,d,p,g,v,m;Object.defineProperty(t,"__esModule",{value:!0}),(m=t.EncryptedOptions||(t.EncryptedOptions={})).Fully="fully",m.Partially="partially",m.No="no",(v=t.DecryptionStatuses||(t.DecryptionStatuses={})).Succeeded="succeeded",v.Failed="failed",(g=t.ScanReason||(t.ScanReason={})).WebsiteLoaded="websiteLoaded",g.FalseNegativeReport="falseNegativeReport",g.CreditCardOrEmail="creditCardOrEmail",g.Interval="interval",g.DomChanged="domChanged",g.TabFocused="tabFocused",g.UserClicked="userClicked",g.FirstScan="firstScan",g.PrerenderedTabShown="prerenderedTabShown",(p=t.Verdict||(t.Verdict={})).Malware="MAL",p.Unknown="UNK",p.Clean="CLN",p.Suspicious="SUS",(d=t.VerdictOrigin||(t.VerdictOrigin={})).Configuration="configuration",d.Cache="cache",d.Network="network",d.VerdictChange="verdictChange",d.Unknown="unknown",(h=t.IdpProvider||(t.IdpProvider={})).Google="google",h.Microsoft="microsoft",h.Other="other",h.Unknown="unknown",function(e){e.Initiating="initiating",e.Pending="pending",e.InProgress="in_progress",e.PendingPassword="pending_password",e.Completed="completed",e.ScanError="scan_error",e.Failed="failed",e.Finished="finished"}(n=t.ScanStatus||(t.ScanStatus={})),t.queryForScanStatuses=[n.Initiating,n.Pending,n.InProgress],(f=t.PPEventType||(t.PPEventType={})).FileScanPending="file_scan_pending",f.FileScanInProgress="file_scan_in_progress",f.FileScanCompleted="file_scan_completed",f.FileScanError="file_scan_error",(l=t.ScanType||(t.ScanType={})).UrlPreScan="url_pre_scan",l.Scan="scan",l.ReScan="re_scan",l.FileSignaturePreScan="file_signature_pre_scan",(c=t.ActivationStatus||(t.ActivationStatus={})).Active="active",c.Disabled="disabled",c.ActiveForEmail="activeForEmail",(u=t.BlockPageDetectionMode||(t.BlockPageDetectionMode={})).Warn="warn",u.Block="block",(a=t.ExtensionsRiskScoreLevel||(t.ExtensionsRiskScoreLevel={})).None="None",a.High="High",a.Medium="Medium",a.All="All",(s=t.ExtensionsRiskScoreDisplayableLevel||(t.ExtensionsRiskScoreDisplayableLevel={})).High="High",s.Medium="Medium",s.Low="Low",s.Undetermined="Undetermined",(o=t.ActionType||(t.ActionType={})).None="none",o.BlockPage="blockPage",o.Notification="notification",(i=t.ClipboardOperation||(t.ClipboardOperation={})).Copy="copy",i.Paste="paste",i.Cut="cut",(r=t.WebAppType||(t.WebAppType={})).Gmail="Gmail",r.Outlook="Outlook",r.WhatsApp="WhatsApp",r.GoogleDrive="GoogleDrive"},7309:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.MaliciousWebsiteDetection||(t.MaliciousWebsiteDetection={})).Disabled="disabled",n.Silent="silent",n.Warn="warn",n.Block="block"},2287:(e,t)=>{"use strict";var n,r,i,o,s,a,u,c;Object.defineProperty(t,"__esModule",{value:!0}),(c=t.DownloadRemediation||(t.DownloadRemediation={})).Deleted="deleted",c.Failed="failed",c.None="none",c.NotSupported="not-supported",(u=t.ScanStatusUpdateMethod||(t.ScanStatusUpdateMethod={})).Polling="polling",u.Push="push",(a=t.DownloadMechanism||(t.DownloadMechanism={})).ServiceWorkerStream="service-worker-stream",a.ContentScriptStream="content-script-stream",a.ContentScriptBlob="content-script-blob",a.DataUrlBlob="data-blob",a.Unavailable="unavailable",(s=t.DownloadProcessFailureReason||(t.DownloadProcessFailureReason={})).Unfetchable="unfetchable",s.Timeout="timeout",s.Error="error",s.ScanError="scan-error",(o=t.DownloadConfidence||(t.DownloadConfidence={})).Lowest="lowest",o.Low="low",o.Medium="medium",o.High="high",(i=t.DownloadDetectionOrigin||(t.DownloadDetectionOrigin={})).DownloadsApi="downloads-api",i.WebRequest="web-request",i.DownloadClickInterception="download-click-interception",(r=t.DownloadProcessState||(t.DownloadProcessState={})).New="new",r.Enriched="enriched",r.Started="started",r.UrlsPreScanFinished="urls-pre-scan-finished",r.PartialDownloadAnalyzed="partial-download-analyzed",r.UserDownloadSettled="user-download-settled",r.Downloaded="downloaded",r.SignaturePreScanFinished="signature-pre-scan-finished",r.Uploaded="uploaded",r.Scanning="scanning",r.Completed="completed",r.Failed="failed",r.VerdictChanged="verdict-changed",(n=t.FileDetectionMode||(t.FileDetectionMode={})).Disabled="disabled",n.Silent="silent",n.Warn="warn",n.Block="block"},9807:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.EmailCollectionStatus||(t.EmailCollectionStatus={})).Enabled="enabled",n.Disabled="disabled",n.Completed="completed"},8214:(e,t)=>{"use strict";var n,r,i,o,s,a;Object.defineProperty(t,"__esModule",{value:!0}),(a=t.EventCategory||(t.EventCategory={})).Prevention="prevention",a.UserInput="user_input",a.Detection="detection",(s=t.EventType||(t.EventType={})).WebsiteUrlAccessBlocked="website_url_access_blocked",s.WebsiteCategoriesAccessBlocked="website_categories_access_blocked",s.FileTypeDownloadBlocked="file_type_download_blocked",s.Login="login",s.UnscannedFile="unscanned_file",s.EmailTyped="email_typed",s.CreditCardTyped="credit_card_typed",s.PasswordDuplicationFound="password_duplication_found",s.UnsuccessfulScan="unsuccessful_scan",s.FileUpload="file_upload",s.FileDownload="file_download",s.ThirdPartyExtensionsChange="third_party_extensions_change",s.SensitiveDataInput="sensitive_data_input",s.ThirdPartyExtensionDownload="third_party_extension_download",s.PasteOut="paste_out",s.Printing="printing",s.MaliciousUrl="malicious_url",s.MaliciousFile="malicious_file",s.CleanUrl="clean_url",(o=t.EventDestination||(t.EventDestination={})).ABS="abs",o.XDR="xdr",o.IR="ir",(i=t.ErrorReason||(t.ErrorReason={})).PasswordProtected="password protected",i.TooLarge="too large",(r=t.LoginType||(t.LoginType={})).SSO="sso",r.Simple="simple",r.GrantPermissions="grant_permissions",(n=t.ThirdPartyExtensionsState||(t.ThirdPartyExtensionsState={})).Installed="installed",n.Uninstalled="uninstalled",n.Enabled="enabled",n.Disabled="disabled",n.Updated="updated"},1107:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.InstallationContext||(t.InstallationContext={})).Host="host",n.Guest="guest",n.Standalone="standalone"},5826:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(7309)),r(n(1521)),r(n(4229)),r(n(8214)),r(n(7624)),r(n(2287)),r(n(1130)),r(n(4299)),r(n(6722)),r(n(1107)),r(n(6753)),r(n(3206)),r(n(9807)),r(n(861)),r(n(5070))},1130:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.PushNotificationBackend||(t.PushNotificationBackend={})).Apns="apns",r.Fcm="fcm",(n=t.UserDisplayNameUpdateResult||(t.UserDisplayNameUpdateResult={})).NotModified="not_modified",n.Modified="modified",n.Rejected="rejected"},4299:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.PageType||(t.PageType={})).SignIn="signin",n.SignInRedirectingPage="signin-redirecting-page",n.WebsiteBlock="website-block",n.WebsiteMaliciousBlock="website-malicious-block",n.PolicyBlock="policy-block",n.PhishingBlock="phishing-block",n.FileWarning="file-warning",n.FileTypeBlock="file-type-block",n.DownloadLocalLogs="download-local-logs",n.DownloadStoredFile="download-stored-file",n.Notification="notification",n.ScanProgress="scanProgress",n.UnscannableFileBlockPage="unscannable-file-block-page",n.DisabledExtensionBlockPage="disabled-extension-block-page",n.DisabledExtensionDueToRiskScoreBlockPage="disabled-extension-due-to-risk-score-block-page",n.PasswordInputPage="password-input-page",n.Banner="banner",n.Block="block",n.Popup="popup",n.EncryptedFileBlockPage="encrypted-file-block-page",n.DownloadManagerPage="download-manager-page"},861:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.SensitiveDataDetectionMode||(t.SensitiveDataDetectionMode={})).Warn="warn",r.Block="block",r.Silent="silent",r.Disabled="disabled",(n=t.TextExtractionMethod||(t.TextExtractionMethod={})).Regex="regex",n.Value="value",n.TextContent="textContent"},1521:(e,t)=>{"use strict";var n,r,i,o,s,a,u,c,l;Object.defineProperty(t,"__esModule",{value:!0}),(l=t.TelemetryCategory||(t.TelemetryCategory={})).Detection="detection",l.Prevention="prevention",l.Boot="boot",l.Management="management",l.User="user",l.Remediation="remediation",(c=t.TelemetryType||(t.TelemetryType={})).UrlScan="url_scan",c.FileScanCompleted="file_scan_completed",c.FileScanFailed="file_scan_failed",c.FileScanTimeout="file_scan_timeout",c.FileScanError="file_scan_error",c.ExtensionLoaded="extension_loaded",c.ClipboardAction="clipboard_action",c.Printing="printing",c.Devtools="devtools",c.BlockPage="block_page",c.Reporting="reporting",c.LogsCollection="logs",c.UserInterface="user_interface",c.FileUpload="file_upload",c.FileDownloadConfidence="file_download_confidence",c.FileDownloadRemediation="file_download_remediation",c.AvoidFileDetection="avoid_file_detection",c.UpdateAvailable="version_available",c.RetryTryFetch="retry_try_fetch",c.Alarm="telemetry_alarm",c.ApiHeaders="api_headers",c.AvoidUrlDetection="avoid_url_detection",c.FileDetectionFailure="file_detection_failure",c.DecryptionFailure="decryption_failure",c.FileDownloadMaxFailures="file_download_max_failures",c.SensitiveDataInput="sensitive_data_input",c.FilenameIdentificationFailure="filename_identification_failure",c.FunctionCalled="function_called",(u=t.UserInterfaceAction||(t.UserInterfaceAction={})).ToastDismissed="toast_dismissed",u.BlockPageBackToSafety="block_page_back_to_safety",u.BlockPageContinueAnyWay="block_page_continue_any_way",(a=t.LogsCollectionOrigin||(t.LogsCollectionOrigin={})).Local="local",a.OnDemand="on_demand",(s=t.ReportAction||(t.ReportAction={})).FalsePositive="false_positive",s.FalseNegative="false_negative",(o=t.BlockPageReason||(t.BlockPageReason={})).DomainRule="blocked_domain",o.CategoryRule="blocked_category",(i=t.PrintPhase||(t.PrintPhase={})).BeforePrint="before_print",i.AfterPrint="after_print",(r=t.AvoidFileDetectionReason||(t.AvoidFileDetectionReason={})).BlockedFileType="blocked_file_type",r.ExcludedDomains="excluded_domains",r.ExcludedCategory="excluded_category",r.EncryptedFile="encrypted_file",r.FileTooLarge="file_too_large",r.ThirdPartyExtensionDownload="third_party_extension_download",(n=t.AvoidUrlDetectionReason||(t.AvoidUrlDetectionReason={})).ExcludedDomains="excluded_domains",n.ExcludedCategory="excluded_category"},3206:(e,t)=>{"use strict";var n,r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),(t.ThirdPartyExtensionEnforcementAction||(t.ThirdPartyExtensionEnforcementAction={})).Disable="disable",t.tpeEnforcmentRuleActions=["disable","allow"],(o=t.ThirdPartyExtensionEnforcementRuleRiskScoreOperator||(t.ThirdPartyExtensionEnforcementRuleRiskScoreOperator={})).Equals="equals",o.NotEquals="notEquals",o.GreaterThan="greaterThan",o.GreaterThanOrEqual="greaterThanOrEqual",o.LessThan="lessThan",o.LessThanOrEqual="lessThanOrEqual",(i=t.ExtensionsRiskLevel||(t.ExtensionsRiskLevel={})).Low="All",i.Medium="Medium",i.High="High",i.NoScore="NoScore",t.tpeRiskLevels=["no-score","undetermined","low","medium","high"],function(e){e.Is="is",e.IsNot="isNot"}(n||(n={})),function(e){e.IsOneOf="isOneOf",e.IsNotOneOf="isNotOneOf"}(r||(r={}))},7624:(e,t)=>{"use strict";var n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.NotificationLevel||(t.NotificationLevel={})).Info="info",i.Error="error",i.Warning="warning",i.Success="success",i.Malicious="malicious",i.Policy="policy",(r=t.ToastType||(t.ToastType={})).BasicNotification="basicNotification",r.ScanStatusNotification="scanStatusNotification",r.BannerNotification="bannerNotification",(t.BannerType||(t.BannerType={})).SuspiciousBanner="suspiciousBanner",(n=t.ToastPosition||(t.ToastPosition={})).BottomRight="bottomRight",n.BottomLeft="bottomLeft",n.TopRight="topRight",n.TopLeft="topLeft"},6753:(e,t)=>{"use strict";var n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.DlpRuleKind||(t.DlpRuleKind={})).Domain="domain",i.Category="category",(r=t.FileAccessModeOverride||(t.FileAccessModeOverride={})).NoOverride="noOverride",r.PreventFileAccessWithTimeout="preventFileAccessWithTimeout",r.PreventFileAccess="preventFileAccess",r.AllowFileAccess="allowFileAccess",(n=t.WebsiteBlockAction||(t.WebsiteBlockAction={})).Allow="allow",n.Warn="warn",n.Block="block"},4704:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(1536),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var h=this.temp[f-2],d=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,p=((h=this.temp[f-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[f]=(d+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var g=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,v=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=a,a=s+g|0,s=o,o=i,i=n,n=g+v|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=i},1536:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},7177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(177).__exportStar)(n(9177),t)},9177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(177),i=n(1536),o=n(4704),s=n(5274),a=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,s.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,s.isEmptyData)(e)&&!this.error)try{this.hash.update((0,s.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=a},3530:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(6432),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},5274:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(3530);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(395);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(9999);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var s=n(9680);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})},395:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},9999:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},9680:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},6432:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>i});const r=e=>"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))){const i=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)})(e),i=e=>"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r<128)t+=String.fromCharCode(r);else if(192<=r&&r<224){const i=e[++n];t+=String.fromCharCode((31&r)<<6|63&i)}else if(240<=r&&r<365){const i="%"+[r,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(i)}else t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)},9394:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AuthenticationDetails:()=>i,AuthenticationHelper:()=>C,CognitoAccessToken:()=>I,CognitoIdToken:()=>T,CognitoRefreshToken:()=>D,CognitoUser:()=>L,CognitoUserAttribute:()=>F,CognitoUserPool:()=>ne,CognitoUserSession:()=>P,CookieStorage:()=>ie,DateHelper:()=>O,WordArray:()=>a,appendToCognitoUserAgent:()=>W});var r,i=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,i=t.Password,o=t.AuthParameters,s=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=s||{},this.username=r,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),o=n(7197);if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(8048)}catch(e){}function s(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}var a=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(s());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")}(this)},e}(),u=n(7177);const c=l;function l(e,t){null!=e&&this.fromString(e,t)}function f(){return new l(null)}var h,d="undefined"!=typeof navigator;d&&"Microsoft Internet Explorer"==navigator.appName?(l.prototype.am=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=a*u+c*s;i=((u=s*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+a*c+(i>>>30),n[r++]=1073741823&u}return i},h=30):d&&"Netscape"!=navigator.appName?(l.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},h=26):(l.prototype.am=function(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=a*u+c*s;i=((u=s*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+a*c,n[r++]=268435455&u}return i},h=28),l.prototype.DB=h,l.prototype.DM=(1<<h)-1,l.prototype.DV=1<<h,l.prototype.FV=Math.pow(2,52),l.prototype.F1=52-h,l.prototype.F2=2*h-52;var p,g,v=new Array;for(p="0".charCodeAt(0),g=0;g<=9;++g)v[p++]=g;for(p="a".charCodeAt(0),g=10;g<36;++g)v[p++]=g;for(p="A".charCodeAt(0),g=10;g<36;++g)v[p++]=g;function m(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function y(e,t){var n=v[e.charCodeAt(t)];return null==n?-1:n}function b(e){var t=f();return t.fromInt(e),t}function _(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function w(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function A(e){return o.hp.from((new a).random(e).toString(),"hex")}w.prototype.convert=function(e){var t=f();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(l.ZERO)>0&&this.m.subTo(t,t),t},w.prototype.revert=function(e){var t=f();return e.copyTo(t),this.reduce(t),t},w.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},w.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},w.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},l.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},l.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},l.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=y(e,r);s<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),i&&l.ZERO.subTo(this,this)},l.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},l.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},l.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},l.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},l.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},l.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},l.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&l.ZERO.subTo(t,t)},l.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},l.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=f());var o=f(),s=this.s,a=e.s,u=this.DB-_(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,h=o[c-1];if(0!=h){var d=h*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),p=this.FV/d,g=(1<<this.F1)/d,v=1<<this.F2,m=n.t,y=m-c,b=null==t?f():t;for(o.dlShiftTo(y,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),l.ONE.dlShiftTo(c,b),b.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--y>=0;){var w=n[--m]==h?this.DM:Math.floor(n[m]*p+(n[m-1]+v)*g);if((n[m]+=o.am(0,w,n,y,0,c))<w)for(o.dlShiftTo(y,b),n.subTo(b,n);n[m]<--w;)n.subTo(b,n)}null!=t&&(n.drShiftTo(c,t),s!=a&&l.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&l.ZERO.subTo(n,n)}}},l.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},l.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},l.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=m(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=m(n));return i?o:"0"},l.prototype.negate=function(){var e=f();return l.ZERO.subTo(this,e),e},l.prototype.abs=function(){return this.s<0?this.negate():this},l.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},l.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+_(this[this.t-1]^this.s&this.DM)},l.prototype.mod=function(e){var t=f();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(l.ZERO)>0&&e.subTo(t,t),t},l.prototype.equals=function(e){return 0==this.compareTo(e)},l.prototype.add=function(e){var t=f();return this.addTo(e,t),t},l.prototype.subtract=function(e){var t=f();return this.subTo(e,t),t},l.prototype.multiply=function(e){var t=f();return this.multiplyTo(e,t),t},l.prototype.divide=function(e){var t=f();return this.divRemTo(e,t,null),t},l.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=b(1),s=new w(t);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var a=new Array,u=3,c=r-1,l=(1<<r)-1;if(a[1]=s.convert(this),r>1){var h=f();for(s.sqrTo(a[1],h);u<=l;)a[u]=f(),s.mulTo(h,a[u-2],a[u]),u+=2}var d,p,g=e.t-1,v=!0,m=f();for(i=_(e[g])-1;g>=0;){for(i>=c?d=e[g]>>i-c&l:(d=(e[g]&(1<<i+1)-1)<<c-i,g>0&&(d|=e[g-1]>>this.DB+i-c)),u=r;!(1&d);)d>>=1,--u;if((i-=u)<0&&(i+=this.DB,--g),v)a[d].copyTo(o),v=!1;else{for(;u>1;)s.sqrTo(o,m),s.sqrTo(m,o),u-=2;u>0?s.sqrTo(o,m):(p=o,o=m,m=p),s.mulTo(m,a[d],o)}for(;g>=0&&!(e[g]&1<<i);)s.sqrTo(o,m),p=o,o=m,m=p,--i<0&&(i=this.DB-1,--g)}var y=s.revert(o);return n(null,y),y},l.ZERO=b(0),l.ONE=b(1);var S=/^[89a-f]/i,C=function(){function e(e){this.N=new c("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new c("2",16),this.k=new c(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=o.hp.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=A(128).toString("hex");return new c(e,16)},t.generateRandomString=function(){return A(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),s=A(16).toString("hex");this.SaltToHashDevices=this.padHex(new c(s,16)),this.g.modPow(new c(this.hexHash(this.SaltToHashDevices+o),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(c.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new c(this.UHexHash,16)},t.hash=function(e){var t=new u.Sha256;t.update(e);var n=t.digestSync(),r=o.hp.from(n).toString("hex");return new Array(64-r.length).join("0")+r},t.hexHash=function(e){return this.hash(o.hp.from(e,"hex"))},t.computehkdf=function(e,t){var n=o.hp.concat([this.infoBits,o.hp.from(String.fromCharCode(1),"utf8")]),r=new u.Sha256(t);r.update(e);var i=r.digestSync(),s=new u.Sha256(i);return s.update(n),s.digestSync().slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,i){var s=this;if(n.mod(this.N).equals(c.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(c.ZERO))throw new Error("U cannot be zero.");var a=""+this.poolName+e+":"+t,u=this.hash(a),l=new c(this.hexHash(this.padHex(r)+u),16);this.calculateS(l,n,(function(e,t){e&&i(e,null);var n=s.computehkdf(o.hp.from(s.padHex(t),"hex"),o.hp.from(s.padHex(s.UValue),"hex"));i(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof c))throw new Error("Not a BigInteger");var t=e.compareTo(c.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=S.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new c(r,16).add(c.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),E=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(o.hp.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}var I=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,x(t,n),r}(E);function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}var T=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,k(t,n),r}(E),D=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),P=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],O=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=R[e.getUTCDay()],n=U[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var s=e.getUTCSeconds();return s<10&&(s="0"+s),t+" "+n+" "+r+" "+i+":"+o+":"+s+" UTC "+e.getUTCFullYear()},e}(),F=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),B={},M=function(){function e(){}return e.setItem=function(e,t){return B[e]=t,B[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(B,e)?B[e]:void 0},e.removeItem=function(e){return delete B[e]},e.clear=function(){return B={}},e}(),N=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=M}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),j="undefined"!=typeof navigator?navigator.userAgent:"nodejs",L=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new N).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,(function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,i=this,s=new C(this.pool.getUserPoolName()),a=new O,l={};null!=this.deviceKey&&(l.DEVICE_KEY=this.deviceKey),l.USERNAME=this.username,s.getLargeAValue((function(f,h){f&&t.onFailure(f),l.SRP_A=h.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(l.CHALLENGE_NAME="SRP_A");var d=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),p={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:l,ClientMetadata:d};i.getUserContextData(i.username)&&(p.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",p,(function(l,f){if(l)return t.onFailure(l);var h=f.ChallengeParameters;i.username=h.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",n=new c(h.SRP_B,16),r=new c(h.SALT,16),i.getCachedDeviceKeyAndPassword(),s.getPasswordAuthenticationKey(i.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=a.getNowString(),c=o.hp.concat([o.hp.from(i.pool.getUserPoolName(),"utf8"),o.hp.from(i.username,"utf8"),o.hp.from(h.SECRET_BLOCK,"base64"),o.hp.from(r,"utf8")]),l=new u.Sha256(n);l.update(c);var p=l.digestSync(),g=o.hp.from(p).toString("base64"),v={};v.USERNAME=i.username,v.PASSWORD_CLAIM_SECRET_BLOCK=h.SECRET_BLOCK,v.TIMESTAMP=r,v.PASSWORD_CLAIM_SIGNATURE=g,null!=i.deviceKey&&(v.DEVICE_KEY=i.deviceKey);var m={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:v,Session:f.Session,ClientMetadata:d};i.getUserContextData()&&(m.UserContextData=i.getUserContextData()),function e(t,n){return i.client.request("RespondToAuthChallenge",t,(function(r,o){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(v.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,o)}))}(m,(function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,s,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var i=new C(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),s={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(s.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",s,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,s=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,n.mfaRequired(i,s);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,n.selectMFAType(i,s);if("MFA_SETUP"===i)return this.Session=e.Session,n.mfaSetup(i,s);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,n.totpRequired(i,s);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,n.customChallenge(s);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var a=null,u=null,c=[],l=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(s&&(a=JSON.parse(e.ChallengeParameters.userAttributes),u=JSON.parse(e.ChallengeParameters.requiredAttributes)),u)for(var f=0;f<u.length;f++)c[f]=u[f].substr(l.length);return n.newPasswordRequired(a,c)}if("DEVICE_SRP_AUTH"===i)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var h=e.AuthenticationResult.NewDeviceMetadata;if(null==h)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(i){if(i)return n.onFailure(i);var s={Salt:o.hp.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:o.hp.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=s.PasswordVerifier,r.deviceGroupKey=h.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:h.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:s,DeviceName:j},(function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var i=this;if(!e)return n.onFailure(new Error("New password is required."));var o=new C(this.pool.getUserPoolName()),s=o.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};t&&Object.keys(t).forEach((function(e){a[s+e]=t[e]})),a.NEW_PASSWORD=e,a.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,t){return e?n.onFailure(e):i.authenticateUserInternal(t,o,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new C(this.deviceGroupKey),i=new O,s={};s.USERNAME=this.username,s.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(a,l){a&&e.onFailure(a),s.SRP_A=l.toString(16);var f={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:s,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(f.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",f,(function(t,s){if(t)return e.onFailure(t);var a=s.ChallengeParameters,l=new c(a.SRP_B,16),f=new c(a.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,l,f,(function(t,r){if(t)return e.onFailure(t);var c=i.getNowString(),l=o.hp.concat([o.hp.from(n.deviceGroupKey,"utf8"),o.hp.from(n.deviceKey,"utf8"),o.hp.from(a.SECRET_BLOCK,"base64"),o.hp.from(c,"utf8")]),f=new u.Sha256(r);f.update(l);var h=f.digestSync(),d=o.hp.from(h).toString("base64"),p={};p.USERNAME=n.username,p.PASSWORD_CLAIM_SECRET_BLOCK=a.SECRET_BLOCK,p.TIMESTAMP=c,p.PASSWORD_CLAIM_SIGNATURE=d,p.DEVICE_KEY=n.deviceKey;var g={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:p,Session:s.Session};n.getUserContextData()&&(g.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",g,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new C(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,o,t)}))},t.sendMFACode=function(e,t,n,r){var i=this,s={};s.USERNAME=this.username,s.SMS_MFA_CODE=e;var a=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===a&&(s.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(s.DEVICE_KEY=this.deviceKey);var u={ChallengeName:a,ChallengeResponses:s,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var r=new C(i.pool.getUserPoolName());r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var s={Salt:o.hp.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:o.hp.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=s.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:s,DeviceName:j},(function(e,r){return e?t.onFailure(e):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(i.signInUserSession))}))}))}else i.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},s=new F(o);r.push(s)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",i=n+".accessToken",o=n+".refreshToken",s=n+".clockDrift";if(this.storage.getItem(r)){var a=new T({IdToken:this.storage.getItem(r)}),u=new I({AccessToken:this.storage.getItem(i)}),c=new D({RefreshToken:this.storage.getItem(o)}),l=parseInt(this.storage.getItem(s),0)||0,f=new P({IdToken:a,AccessToken:u,RefreshToken:c,ClockDrift:l});if(f.isValid())return this.signInUserSession=f,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var s="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=s+".LastAuthUser";if(this.storage.getItem(a)){this.username=this.storage.getItem(a);var u=s+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),o.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),i(t,null);if(n){var o=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),i(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},t.getCognitoUserSession=function(e){var t=new T(e),n=new I(e),r=new D(e);return new P({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"==typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,(function(r,i){return r?t.onFailure(r):(n.Session=i.Session,"SMS_MFA"===e?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}(),K=(n(2934),"aws-amplify/5.0.4"),q={userAgent:K+" js",product:"",navigator:null,isReactNative:!1};function V(){}"undefined"!=typeof navigator&&navigator.product&&(q.product=navigator.product||"",q.navigator=navigator||null,"ReactNative"===navigator.product?(q.userAgent=K+" react-native",q.isReactNative=!0):(q.userAgent=K+" js",q.isReactNative=!1)),V.prototype.userAgent=q.userAgent;var W=function(e){e&&(V.prototype.userAgent&&!V.prototype.userAgent.includes(e)&&(V.prototype.userAgent=V.prototype.userAgent.concat(" ",e)),V.prototype.userAgent&&""!==V.prototype.userAgent||(V.prototype.userAgent=e))};const z=V;function G(e){var t="function"==typeof Map?new Map:void 0;return G=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return H(e,arguments,Y(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),$(r,e)},G(e)}function H(e,t,n){return H=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&$(i,n.prototype),i},H.apply(null,arguments)}function $(e,t){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$(e,t)}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}var J=function(e){function t(t,n,r,i){var o;return(o=e.call(this,t)||this).code=n,o.name=r,o.statusCode=i,o}return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,$(n,r),t;var n,r}(G(Error)),Z=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,i){n.request(e,t,(function(e,t){e?i(new J(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r,i,o=this;(r=[t],i=5e3,void 0===i&&(i=te),ee((function(t){return new Promise((function(n,r){o.request(e,t,(function(e,t){e?r(e):n(t)}))}))}),r,function(e){return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(i))).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":z.prototype.userAgent},o=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t)});fetch(this.endpoint,o).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);var t=(e.__type||e.code).split("#").pop(),i=new Error(e.message||e.Message||null);return i.name=t,i.code=t,n(i)})).catch((function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],i=new Error(r.status?r.status.toString():null);return i.code=t,i.name=t,i.statusCode=r.status,n(i)}catch(t){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}(),Q={debug:function(){}},X=function(e){return e&&e.nonRetryable};function ee(e,t,n,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return Q.debug(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch((function(i){if(Q.debug("error on "+e.name,i),X(i))throw Q.debug(e.name+" non retryable error",i),i;var o=n(r,t,i);if(Q.debug(e.name+" retrying in "+o+" ms"),!1!==o)return new Promise((function(e){return setTimeout(e,o)})).then((function(){return ee(e,t,n,r+1)}));throw i}))}var te=3e5,ne=function(){function e(e,t){var n=e||{},r=n.UserPoolId,i=n.ClientId,o=n.endpoint,s=n.fetchOptions,a=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new Z(u,o,s),this.advancedSecurityDataCollectionFlag=!1!==a,this.storage=e.Storage||(new N).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,i,o){var s=this,a={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",a,(function(t,n){if(t)return i(t,null);var r={Username:e,Pool:s,Storage:s.storage},o={user:new L(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,o)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new L(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),re=n(6217),ie=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),re.set(e,t,n),re.get(e)},t.getItem=function(e){return re.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),re.remove(e,t)},t.clear=function(){for(var e=re.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}()},3764:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=a(e),s=o[0],u=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,u)),l=0,f=u>0?s-4:s;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===u&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===u&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,c=r-i;a<c;a+=s)o.push(u(e,a,a+s>c?c:a+s));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},7197:(e,t,n)=>{"use strict";var r=n(3764),i=n(1041),o=n(208);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=a(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|d(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(r)return L(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function _(e,t,n,r){return q(L(t,e.length-n),e,n,r)}function w(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function A(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return q(K(t),e,n,r)}function C(e,t,n,r){return q(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function x(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}t.hp=u,t.IS=50,u.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.IS;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),f=0;f<a;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return A(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",s=t;s<n;++s)o+=(r=e[s])<16?"0"+r.toString(16):r.toString(16);return o}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function U(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function F(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function B(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,o){return o||B(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,o){return o||B(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:L(new u(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function L(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}},1041:(e,t)=>{t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+d]=255&s,d+=p,s/=256,c-=8);e[n+d-p]|=128*g}},208:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2934:(e,t,n)=>{e.exports=self.fetch||(self.fetch=n(8372).default||n(8372))},6217:(e,t,n)=>{var r,i,o;void 0===(i="function"==typeof(r=o=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,!0!==o[u]&&(a+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(i[c]=u,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))})?r.call(t,n,t,e):r)||(e.exports=i),e.exports=o()},1360:(e,t,n)=>{e.exports=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return i(t[s][1][e]||e)}),c,c.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,s=new i(l),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var u=new e.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var c=[];function l(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==i&&d(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var s=p((function(){t(i,r)}));"error"===s.status&&r(s.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(i);return this.state!==u?f(n,this.state===a?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){o.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(h,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)d(e,r);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,u=-1,c=new this(i);++u<n;)l(e[u],u);return c;function l(e,i){t.resolve(e).then((function(e){s[i]=e,++a!==n||r||(r=!0,o.resolve(c,s))}),(function(e){r||(r=!0,o.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n,r=e.length,s=!1;if(!r)return this.resolve([]);for(var a=-1,u=new this(i);++a<r;)n=e[a],t.resolve(n).then((function(e){s||(s=!0,o.resolve(u,e))}),(function(e){s||(s=!0,o.reject(u,e))}));return u}},{1:1}],3:[function(e,t,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var s=Promise;function a(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function u(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function c(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var f="local-forage-detect-blob-support",h=void 0,d={},p=Object.prototype.toString,g="readonly",v="readwrite";function m(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function y(e){return"boolean"==typeof h?s.resolve(h):function(e){return new s((function(t){var n=e.transaction(f,v),r=o([""]);n.objectStore(f).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return h=e}))}function b(e){var t=d[e.name],n={};n.promise=new s((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function _(e){var t=d[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function w(e,t){var n=d[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function A(e,t){return new s((function(n,r){if(d[e.name]=d[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);b(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var s=i.open.apply(i,o);t&&(s.onupgradeneeded=function(t){var n=s.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(f)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),s.onerror=function(e){e.preventDefault(),r(s.error)},s.onsuccess=function(){var t=s.result;t.onversionchange=function(e){e.target.close()},n(t),_(e)}}))}function S(e){return A(e,!1)}function C(e){return A(e,!0)}function E(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function x(e){return o([m(atob(e.data))],{type:e.type})}function I(e){return e&&e.__local_forage_encoded_blob}function k(e){var t=this,n=t._initReady().then((function(){var e=d[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return u(n,e,e),n}function T(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return s.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),C(e)})).then((function(){return function(e){b(e);for(var t=d[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,S(e).then((function(t){return e.db=t,E(e)?C(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw w(e,t),t}))}(e).then((function(){T(e,t,n,r-1)}))})).catch(n);n(i)}}var D={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=d[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},d[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=k);var o=[];function a(){return s.resolve()}for(var u=0;u<i.forages.length;u++){var c=i.forages[u];c!==t&&o.push(c._initReady().catch(a))}var l=i.forages.slice(0);return s.all(o).then((function(){return n.db=i.db,S(n)})).then((function(e){return n.db=e,E(n,t._defaultConfig.version)?C(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<l.length;r++){var o=l[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new s((function(t,r){n.ready().then((function(){T(n._dbInfo,g,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;I(r)&&(r=x(r));var i=e(r,n.key,a++);void 0!==i?t(i):n.continue()}else t()},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new s((function(t,r){n.ready().then((function(){T(n._dbInfo,g,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),I(e)&&(e=x(e)),t(e)},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var i=new s((function(n,i){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===p.call(t)?y(o.db).then((function(e){return e?t:(n=t,new s((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){T(r._dbInfo,v,(function(o,s){if(o)return i(o);try{var a=s.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var u=a.put(t,e);s.oncomplete=function(){void 0===t&&(t=null),n(t)},s.onabort=s.onerror=function(){var e=u.error?u.error:u.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return a(i,n),i},removeItem:function(e,t){var n=this;e=c(e);var r=new s((function(t,r){n.ready().then((function(){T(n._dbInfo,v,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(s.error)},o.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},clear:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){T(t._dbInfo,v,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return a(n,e),n},length:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){T(t._dbInfo,g,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return a(n,e),n},key:function(e,t){var n=this,r=new s((function(t,r){e<0?t(null):n.ready().then((function(){T(n._dbInfo,g,(function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,u=s.openKeyCursor();u.onsuccess=function(){var n=u.result;n?0===e||a?t(n.key):(a=!0,n.advance(e)):t(null)},u.onerror=function(){r(u.error)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},keys:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){T(t._dbInfo,g,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),s=[];o.onsuccess=function(){var t=o.result;t?(s.push(t.key),t.continue()):e(s)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return a(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var o=e.name===r.name&&this._dbInfo.db?s.resolve(this._dbInfo.db):S(e).then((function(t){var n=d[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));n=e.storeName?o.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;b(e);var r=d[e.name],o=r.forages;t.close();for(var a=0;a<o.length;a++){var u=o[a];u._dbInfo.db=null,u._dbInfo.version=n}var c=new s((function(t,r){var o=i.open(e.name,n);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}));return c.then((function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,_(n._dbInfo)}})).catch((function(t){throw(w(e,t)||s.resolve()).catch((function(){})),t}))}})):o.then((function(t){b(e);var n=d[e.name],r=n.forages;t.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;var a=new s((function(t,n){var r=i.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return a.then((function(e){n.db=e;for(var t=0;t<r.length;t++)_(r[t]._dbInfo)})).catch((function(t){throw(w(e,t)||s.resolve()).catch((function(){})),t}))}))}else n=s.reject("Invalid arguments");return a(n,t),n}};var P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U=/^~~local_forage_type~([^~]+)~/,R="__lfsc__:",O="arbf",F="blob",B="si08",M="ui08",N="uic8",j="si16",L="si32",K="ur16",q="ui32",V="fl32",W="fl64",z=Object.prototype.toString;function G(e){var t,n,r,i,o,s=.75*e.length,a=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),l=new Uint8Array(c);for(t=0;t<a;t+=4)n=P.indexOf(e[t]),r=P.indexOf(e[t+1]),i=P.indexOf(e[t+2]),o=P.indexOf(e[t+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}function H(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=P[n[t]>>2],r+=P[(3&n[t])<<4|n[t+1]>>4],r+=P[(15&n[t+1])<<2|n[t+2]>>6],r+=P[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var $={serialize:function(e,t){var n="";if(e&&(n=z.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===z.call(e.buffer))){var r,i=R;e instanceof ArrayBuffer?(r=e,i+=O):(r=e.buffer,"[object Int8Array]"===n?i+=B:"[object Uint8Array]"===n?i+=M:"[object Uint8ClampedArray]"===n?i+=N:"[object Int16Array]"===n?i+=j:"[object Uint16Array]"===n?i+=K:"[object Int32Array]"===n?i+=L:"[object Uint32Array]"===n?i+=q:"[object Float32Array]"===n?i+=V:"[object Float64Array]"===n?i+=W:t(new Error("Failed to get type for BinaryArray"))),t(i+H(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+H(this.result);t(R+F+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,9)!==R)return JSON.parse(e);var t,n=e.substring(13),r=e.substring(9,13);if(r===F&&U.test(n)){var i=n.match(U);t=i[1],n=n.substring(i[0].length)}var s=G(n);switch(r){case O:return s;case F:return o([s],{type:t});case B:return new Int8Array(s);case M:return new Uint8Array(s);case N:return new Uint8ClampedArray(s);case j:return new Int16Array(s);case K:return new Uint16Array(s);case L:return new Int32Array(s);case q:return new Uint32Array(s);case V:return new Float32Array(s);case W:return new Float64Array(s);default:throw new Error("Unkown type: "+r)}},stringToBuffer:G,bufferToString:H};function Y(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function J(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,s){s.code===s.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,a){a.rows.length?o(e,s):Y(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,s)}),o)}function Z(e,t,n,r){var i=this;e=c(e);var o=new s((function(o,s){i.ready().then((function(){void 0===t&&(t=null);var a=t,u=i._dbInfo;u.serializer.serialize(t,(function(t,c){c?s(c):u.db.transaction((function(n){J(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(a)}),(function(e,t){s(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(Z.apply(i,[e,a,n,r-1]));s(t)}}))}))})).catch(s)}));return a(o,n),o}var Q={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new s((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){Y(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=$,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new s((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){J(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var o=r.rows,s=o.length,a=0;a<s;a++){var u=o.item(a),c=u.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,u.key,a+1)))return void t(c)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new s((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){J(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},setItem:function(e,t,n){return Z.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=c(e);var r=new s((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){J(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},clear:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){J(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},length:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){J(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},key:function(e,t){var n=this,r=new s((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){J(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},keys:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){J(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return a(r=e.name?new s((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(function(e){return new s((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}(r))})).then((function(e){return new s((function(t,n){e.db.transaction((function(r){function i(e){return new s((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],a=0,u=e.storeNames.length;a<u;a++)o.push(i(e.storeNames[a]));s.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):s.reject("Invalid arguments"),t),r}};function X(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function ee(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var te={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=X(e,this._defaultConfig),ee()?(this._dbInfo=t,t.serializer=$,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,s=1,a=0;a<o;a++){var u=localStorage.key(a);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,u.substring(i),s++)))return c}}}));return a(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return a(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new s((function(i,o){var s=r._dbInfo;s.serializer.serialize(t,(function(t,r){if(r)o(r);else try{localStorage.setItem(s.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return a(i,n),i},removeItem:function(e,t){var n=this;e=c(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return a(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return a(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return a(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return a(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return a(n,e),n},dropInstance:function(e,t){if(t=l.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return r=e.name?new s((function(t){e.storeName?t(X(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):s.reject("Invalid arguments"),a(r,t),r}},ne=function(e,t){for(var n=e.length,r=0;r<n;){if((i=e[r])===(o=t)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;r++}var i,o;return!1},re=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ie={},oe={},se={INDEXEDDB:D,WEBSQL:Q,LOCALSTORAGE:te},ae=[se.INDEXEDDB._driver,se.WEBSQL._driver,se.LOCALSTORAGE._driver],ue=["dropInstance"],ce=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ue),le={description:"",driver:ae.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function fe(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function he(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(re(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var de=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),se)if(se.hasOwnProperty(n)){var r=se[n],i=r._driver;this[n]=i,ie[i]||this.defineDriver(r)}this._defaultConfig=he({},le),this._config=he({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new s((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=ce.concat("_initStorage"),u=0,c=o.length;u<c;u++){var l=o[u];if((!ne(ue,l)||e[l])&&"function"!=typeof e[l])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=s.reject(t);return a(n,arguments[arguments.length-1]),n}},n=0,r=ue.length;n<r;n++){var i=ue[n];e[i]||(e[i]=t(i))}}();var f=function(n){ie[r]&&console.info("Redefining LocalForage driver: "+r),ie[r]=e,oe[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(f,n):f(!!e._support):f(!0)}catch(e){n(e)}}));return u(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=ie[e]?s.resolve(ie[e]):s.reject(new Error("Driver not found."));return u(r,t,n),r},e.prototype.getSerializer=function(e){var t=s.resolve($);return u(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return u(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;re(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function a(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}var c=null!==this._driverSet?this._driverSet.catch((function(){return s.resolve()})):s.resolve();return this._driverSet=c.then((function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(a).catch(n)}o();var u=new Error("No available storage method found.");return r._driverSet=s.reject(u),r._driverSet}()}}(i)}))})).catch((function(){o();var e=new Error("No available storage method found.");return r._driverSet=s.reject(e),r._driverSet})),u(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!oe[e]},e.prototype._extend=function(e){he(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=ce.length;e<t;e++)fe(this,ce[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),pe=new de;t.exports=pe},{3:3}]},{},[4])(4)},177:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>l,__classPrivateFieldGet:()=>E,__classPrivateFieldSet:()=>x,__createBinding:()=>h,__decorate:()=>a,__exportStar:()=>d,__extends:()=>i,__generator:()=>f,__importDefault:()=>C,__importStar:()=>S,__makeTemplateObject:()=>A,__metadata:()=>c,__param:()=>u,__read:()=>g,__rest:()=>s,__spread:()=>v,__spreadArrays:()=>m,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function h(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function x(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},8372:(e,t,n)=>{"use strict";function r(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),s.push([t,n]),a[t]=a[t]?a[t]+","+n:n})),n(u())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}n.r(t),n.d(t,{default:()=>r})},8048:()=>{},5163:(e,t,n)=>{"use strict";function r(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n.r(t),n.d(t,{default:()=>r})},7256:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Dexie:()=>Xn,RangeSet:()=>zn,default:()=>Xn,liveQuery:()=>rr,mergeRanges:()=>Hn,rangesOverlap:()=>$n});const r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,i=Object.keys,o=Array.isArray;function s(e,t){return"object"!=typeof t||i(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||r.Promise||(r.Promise=Promise);const a=Object.getPrototypeOf,u={}.hasOwnProperty;function c(e,t){return u.call(e,t)}function l(e,t){"function"==typeof t&&(t=t(a(e))),("undefined"==typeof Reflect?i:Reflect.ownKeys)(t).forEach((n=>{h(e,n,t[n])}))}const f=Object.defineProperty;function h(e,t,n,r){f(e,t,s(n&&c(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function d(e){return{from:function(t){return e.prototype=Object.create(t.prototype),h(e.prototype,"constructor",e),{extend:l.bind(null,e.prototype)}}}}const p=Object.getOwnPropertyDescriptor;function g(e,t){let n;return p(e,t)||(n=a(e))&&g(n,t)}const v=[].slice;function m(e,t,n){return v.call(e,t,n)}function y(e,t){return t(e)}function b(e){if(!e)throw new Error("Assertion Failed")}function _(e){r.setImmediate?setImmediate(e):setTimeout(e,0)}function w(e,t){return e.reduce(((e,n,r)=>{var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function A(e,t){if(c(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=A(e,t[r]);n.push(o)}return n}var s=t.indexOf(".");if(-1!==s){var a=e[t.substr(0,s)];return void 0===a?void 0:A(a,t.substr(s+1))}}function S(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){b("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)S(e,t[r],n[r])}else{var s=t.indexOf(".");if(-1!==s){var a=t.substr(0,s),u=t.substr(s+1);if(""===u)void 0===n?o(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var l=e[a];l&&c(e,a)||(l=e[a]={}),S(l,u,n)}}else void 0===n?o(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function C(e){var t={};for(var n in e)c(e,n)&&(t[n]=e[n]);return t}const E=[].concat;function x(e){return E.apply([],e)}const I="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(x([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>r[e])),k=I.map((e=>r[e]));w(I,(e=>[e,!0]));let T=null;function D(e){T="undefined"!=typeof WeakMap&&new WeakMap;const t=P(e);return T=null,t}function P(e){if(!e||"object"!=typeof e)return e;let t=T&&T.get(e);if(t)return t;if(o(e)){t=[],T&&T.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(P(e[n]))}else if(k.indexOf(e.constructor)>=0)t=e;else{const n=a(e);for(var i in t=n===Object.prototype?{}:Object.create(n),T&&T.set(e,t),e)c(e,i)&&(t[i]=P(e[i]))}return t}const{toString:U}={};function R(e){return U.call(e).slice(8,-1)}const O="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",F="symbol"==typeof O?function(e){var t;return null!=e&&(t=e[O])&&t.apply(e)}:function(){return null},B={};function M(e){var t,n,r,i;if(1===arguments.length){if(o(e))return e.slice();if(this===B&&"string"==typeof e)return[e];if(i=F(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const N="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var j="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function L(e,t){j=e,K=t}var K=()=>!0;const q=!new Error("").stack;function V(){if(q)try{throw V.arguments,new Error}catch(e){return e}return new Error}function W(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(K).map((e=>"\n"+e)).join("")):""}var z=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],G=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(z),H={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $(e,t){this._e=V(),this.name=e,this.message=t}function Y(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function J(e,t,n,r){this._e=V(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Y(e,t)}function Z(e,t){this._e=V(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=Y(e,t)}d($).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+W(this._e,2))}},toString:function(){return this.name+": "+this.message}}),d(J).from($),d(Z).from($);var Q=G.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const X=$;var ee=G.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=V(),this.name=n,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=H[t]||n,this.inner=null)}return d(r).from(X),e[t]=r,e}),{});ee.Syntax=SyntaxError,ee.Type=TypeError,ee.Range=RangeError;var te=z.reduce(((e,t)=>(e[t+"Error"]=ee[t],e)),{}),ne=G.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=ee[t]),e)),{});function re(){}function ie(e){return e}function oe(e,t){return null==e||e===ie?t:function(n){return t(e(n))}}function se(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ae(e,t){return e===re?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?se(r,this.onsuccess):r),i&&(this.onerror=this.onerror?se(i,this.onerror):i),void 0!==o?o:n}}function ue(e,t){return e===re?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?se(n,this.onsuccess):n),r&&(this.onerror=this.onerror?se(r,this.onerror):r)}}function ce(e,t){return e===re?t:function(n){var r=e.apply(this,arguments);s(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?se(i,this.onsuccess):i),o&&(this.onerror=this.onerror?se(o,this.onerror):o),void 0===r?void 0===a?void 0:a:s(r,a)}}function le(e,t){return e===re?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function fe(e,t){return e===re?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}ne.ModifyError=J,ne.DexieError=$,ne.BulkError=Z;var he={};const de=100,[pe,ge,ve]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,a(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,a(t),e]})(),me=ge&&ge.then,ye=pe&&pe.constructor,be=!!ve;var _e=!1,we=ve?()=>{ve.then(We)}:r.setImmediate?setImmediate.bind(null,We):r.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{We(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(We,0)},Ae=function(e,t){Pe.push([e,t]),Ce&&(we(),Ce=!1)},Se=!0,Ce=!0,Ee=[],xe=[],Ie=null,ke=ie,Te={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:gt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{gt(e[0],e[1])}catch(e){}}))}},De=Te,Pe=[],Ue=0,Re=[];function Oe(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=re,this._lib=!1;var t=this._PSD=De;if(j&&(this._stackHolder=V(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==he)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ne(this,this._value))}this._state=null,this._value=null,++t.ref,Me(this,e)}const Fe={get:function(){var e=De,t=et;function n(n,r){var i=!e.global&&(e!==De||t!==et);const o=i&&!it();var s=new Oe(((t,s)=>{Le(this,new Be(ht(n,e,i,o),ht(r,e,i,o),t,s,e))}));return j&&Ve(s,this),s}return n.prototype=he,n},set:function(e){h(this,"then",e&&e.prototype===he?Fe:{get:function(){return e},set:Fe.set})}};function Be(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Me(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&ze();t&&"function"==typeof t.then?Me(e,((e,n)=>{t instanceof Oe?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,je(e)),n&&Ge()}}),Ne.bind(null,e))}catch(t){Ne(e,t)}}function Ne(e,t){if(xe.push(t),null===e._state){var n=e._lib&&ze();t=ke(t),e._state=!1,e._value=t,j&&null!==t&&"object"==typeof t&&!t._promise&&function(e){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=g(t,"stack");t._promise=e,h(t,"stack",{get:()=>_e?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){Ee.some((t=>t._value===e._value))||Ee.push(e)}(e),je(e),n&&Ge()}}function je(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Le(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===Ue&&(++Ue,Ae((()=>{0==--Ue&&He()}),[]))}function Le(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Ue,Ae(Ke,[n,e,t])}else e._listeners.push(t)}function Ke(e,t,n){try{Ie=t;var r,i=t._value;t._state?r=e(i):(xe.length&&(xe=[]),r=e(i),-1===xe.indexOf(i)&&function(e){for(var t=Ee.length;t;)if(Ee[--t]._value===e._value)return void Ee.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Ie=null,0==--Ue&&He(),--n.psd.ref||n.psd.finalize()}}function qe(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,o,s=e._value;null!=s?(i=s.name||"Error",o=s.message||s,r=W(s,0)):(i=s,o=""),t.push(i+(o?": "+o:"")+r)}return j&&((r=W(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&qe(e._prev,t,n)),t}function Ve(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function We(){ze()&&Ge()}function ze(){var e=Se;return Se=!1,Ce=!1,e}function Ge(){var e,t,n;do{for(;Pe.length>0;)for(e=Pe,Pe=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Pe.length>0);Se=!0,Ce=!0}function He(){var e=Ee;Ee=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Re.slice(0),n=t.length;n;)t[--n]()}function $e(e){return new Oe(he,!1,e)}function Ye(e,t){var n=De;return function(){var r=ze(),i=De;try{return ut(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{ut(i,!1),r&&Ge()}}}l(Oe.prototype,{then:Fe,_then:function(e,t){Le(this,new Be(null,null,e,t,De))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):$e(e))):this.then(null,(e=>e&&e.name===t?n(e):$e(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),$e(t))))},stack:{get:function(){if(this._stack)return this._stack;try{_e=!0;var e=qe(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{_e=!1}}},timeout:function(e,t){return e<1/0?new Oe(((n,r)=>{var i=setTimeout((()=>r(new ee.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&h(Oe.prototype,Symbol.toStringTag,"Dexie.Promise"),Te.env=ct(),l(Oe,{all:function(){var e=M.apply(null,arguments).map(ot);return new Oe((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((i,o)=>Oe.resolve(i).then((n=>{e[o]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof Oe)return e;if(e&&"function"==typeof e.then)return new Oe(((t,n)=>{e.then(t,n)}));var t=new Oe(he,!0,e);return Ve(t,Ie),t},reject:$e,race:function(){var e=M.apply(null,arguments).map(ot);return new Oe(((t,n)=>{e.map((e=>Oe.resolve(e).then(t,n)))}))},PSD:{get:()=>De,set:e=>De=e},totalEchoes:{get:()=>et},newPSD:nt,usePSD:lt,scheduler:{get:()=>Ae,set:e=>{Ae=e}},rejectionMapper:{get:()=>ke,set:e=>{ke=e}},follow:(e,t)=>new Oe(((n,r)=>nt(((t,n)=>{var r=De;r.unhandleds=[],r.onunhandled=n,r.finalize=se((function(){!function(e){Re.push((function t(){e(),Re.splice(Re.indexOf(t),1)})),++Ue,Ae((()=>{0==--Ue&&He()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),ye&&(ye.allSettled&&h(Oe,"allSettled",(function(){const e=M.apply(null,arguments).map(ot);return new Oe((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,i)=>Oe.resolve(e).then((e=>r[i]={status:"fulfilled",value:e}),(e=>r[i]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),ye.any&&"undefined"!=typeof AggregateError&&h(Oe,"any",(function(){const e=M.apply(null,arguments).map(ot);return new Oe(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach(((e,o)=>Oe.resolve(e).then((e=>t(e)),(e=>{i[o]=e,--r||n(new AggregateError(i))}))))}))})));const Je={awaits:0,echoes:0,id:0};var Ze=0,Qe=[],Xe=0,et=0,tt=0;function nt(e,t,n,r){var i=De,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++tt;var a=Te.env;o.env=be?{Promise:Oe,PromiseProp:{value:Oe,configurable:!0,writable:!0},all:Oe.all,race:Oe.race,allSettled:Oe.allSettled,any:Oe.any,resolve:Oe.resolve,reject:Oe.reject,nthen:dt(a.nthen,o),gthen:dt(a.gthen,o)}:{},t&&s(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=lt(o,e,n,r);return 0===o.ref&&o.finalize(),u}function rt(){return Je.id||(Je.id=++Ze),++Je.awaits,Je.echoes+=de,Je.id}function it(){return!!Je.awaits&&(0==--Je.awaits&&(Je.id=0),Je.echoes=Je.awaits*de,!0)}function ot(e){return Je.echoes&&e&&e.constructor===ye?(rt(),e.then((e=>(it(),e)),(e=>(it(),vt(e))))):e}function st(e){++et,Je.echoes&&0!=--Je.echoes||(Je.echoes=Je.id=0),Qe.push(De),ut(e,!0)}function at(){var e=Qe[Qe.length-1];Qe.pop(),ut(e,!1)}function ut(e,t){var n=De;if((t?!Je.echoes||Xe++&&e===De:!Xe||--Xe&&e===De)||ft(t?st.bind(null,e):at),e!==De&&(De=e,n===Te&&(Te.env=ct()),be)){var i=Te.env.Promise,o=e.env;ge.then=o.nthen,i.prototype.then=o.gthen,(n.global||e.global)&&(Object.defineProperty(r,"Promise",o.PromiseProp),i.all=o.all,i.race=o.race,i.resolve=o.resolve,i.reject=o.reject,o.allSettled&&(i.allSettled=o.allSettled),o.any&&(i.any=o.any))}}function ct(){var e=r.Promise;return be?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:ge.then,gthen:e.prototype.then}:{}}function lt(e,t,n,r,i){var o=De;try{return ut(e,!0),t(n,r,i)}finally{ut(o,!1)}}function ft(e){me.call(pe,e)}function ht(e,t,n,r){return"function"!=typeof e?e:function(){var i=De;n&&rt(),ut(t,!0);try{return e.apply(this,arguments)}finally{ut(i,!1),r&&ft(it)}}}function dt(e,t){return function(n,r){return e.call(this,ht(n,t),ht(r,t))}}-1===(""+me).indexOf("[native code]")&&(rt=it=re);const pt="unhandledrejection";function gt(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var i,o={promise:t,reason:e};if(r.document&&document.createEvent?((i=document.createEvent("Event")).initEvent(pt,!0,!0),s(i,o)):r.CustomEvent&&s(i=new CustomEvent(pt,{detail:o}),o),i&&r.dispatchEvent&&(dispatchEvent(i),!r.PromiseRejectionEvent&&r.onunhandledrejection))try{r.onunhandledrejection(i)}catch(e){}j&&i&&!i.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}var vt=Oe.reject;function mt(e,t,n,r){if(e.idbdb&&(e._state.openComplete||De.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===Q.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>mt(e,t,n,r)))):vt(i)}return i._promise(t,((e,t)=>nt((()=>(De.trans=i,r(e,t,i)))))).then((e=>i._completion.then((()=>e))))}if(e._state.openComplete)return vt(new ee.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return vt(new ee.DatabaseClosed);e.open().catch(re)}return e._state.dbReadyPromise.then((()=>mt(e,t,n,r)))}const yt="3.2.4",bt=String.fromCharCode(65535),_t=-1/0,wt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",At="String expected.",St=[],Ct="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Et=Ct,xt=Ct,It=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),kt="__dbnames",Tt="readonly",Dt="readwrite";function Pt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Ut={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Rt(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=D(t))[e],t)}class Ot{_trans(e,t,n){const r=this._tx||De.trans,i=this.name;function o(e,n,r){if(!r.schema[i])throw new ee.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}const s=ze();try{return r&&r.db===this.db?r===De.trans?r._promise(e,o,n):nt((()=>r._promise(e,o,n)),{trans:r,transless:De.transless||De}):mt(this.db,e,[this.name],o)}finally{s&&Ge()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(o(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=i(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(n&&this.db._maxKey!==bt)return this.where(n.name).equals(n.keyPath.map((t=>e[t])));!n&&j&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:r}=this.schema,s=this.db._deps.indexedDB;function a(e,t){try{return 0===s.cmp(e,t)}catch(e){return!1}}const[u,c]=t.reduce((([t,n],i)=>{const s=r[i],u=e[i];return[t||s,t||!s?Pt(n,s&&s.multi?e=>{const t=A(e,i);return o(t)&&t.some((e=>a(u,e)))}:e=>a(u,A(e,i))):n]}),[null,null]);return u?this.where(u.name).equals(e[u.keyPath]).filter(c):n?this.filter(c):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,o(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(c(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){s(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;return r&&n&&(i=Rt(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[i]}))).then((e=>e.numFailures?Oe.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{S(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||o(e))return this.where(":id").equals(e).modify(t);{const n=A(e,this.schema.primKey.keyPath);if(void 0===n)return vt(new ee.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?i(t).forEach((n=>{S(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;return r&&n&&(i=Rt(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[i],keys:null!=t?[t]:null}))).then((e=>e.numFailures?Oe.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{S(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?Oe.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:Ut}))).then((e=>e.numFailures?Oe.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,i=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let a=o&&n?e.map(Rt(o)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:a,wantResults:i}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return i?t:n;throw new Z(`${this.name}.bulkAdd(): ${e} of ${s} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,i=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&r)throw new ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let a=o&&n?e.map(Rt(o)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:a,wantResults:i}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return i?t:n;throw new Z(`${this.name}.bulkPut(): ${e} of ${s} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new Z(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function Ft(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[n].subscribe.apply(null,o),e}if("string"==typeof n)return t[n]};n.addEventType=a;for(var r=1,s=arguments.length;r<s;++r)a(arguments[r]);return n;function a(e,r,s){if("object"!=typeof e){var u;r||(r=le),s||(s=re);var c={subscribers:[],fire:s,subscribe:function(e){-1===c.subscribers.indexOf(e)&&(c.subscribers.push(e),c.fire=r(c.fire,e))},unsubscribe:function(e){c.subscribers=c.subscribers.filter((function(t){return t!==e})),c.fire=c.subscribers.reduce(r,s)}};return t[e]=n[e]=c,c}i(u=e).forEach((function(e){var t=u[e];if(o(t))a(e,u[e][0],u[e][1]);else{if("asap"!==t)throw new ee.InvalidArgument("Invalid event config");var n=a(e,ie,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){_((function(){e.apply(null,t)}))}))}))}}))}}function Bt(e,t){return d(t).from({prototype:e}),t}function Mt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Nt(e,t){e.filter=Pt(e.filter,t)}function jt(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Pt(r(),t()):t,e.justLimit=n&&!r}function Lt(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new ee.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Kt(e,t,n){const r=Lt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function qt(e,t,n,r){const i=e.replayFilter?Pt(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},s=(e,n,r)=>{if(!i||i(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var s=n.primaryKey,a=""+s;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(s)),c(o,a)||(o[a]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(s,n),Vt(Kt(e,r,n),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return Vt(Kt(e,r,n),Pt(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Vt(e,t,n,r){var i=Ye(r?(e,t,i)=>n(r(e),t,i):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=re}),(t=>{e.fail(t),n=re}))||i(e.value,e,(e=>n=e)),n()}))}))}function Wt(e,t){try{const n=zt(e),r=zt(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let n=0;n<i;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}(Gt(e),Gt(t));case"Array":return function(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let n=0;n<i;++n){const r=Wt(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function zt(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=R(e);return"ArrayBuffer"===n?"binary":n}function Gt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Ht{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,vt.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,vt.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=Pt(t.algorithm,e)}_iterate(e,t){return qt(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&s(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>qt(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(Mt(t,!0))return n.count({trans:e,query:{index:Lt(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return qt(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var s="next"===this._ctx.dir?1:-1;function a(e,t){var n=o(e,i),r=o(t,i);return n<r?-s:n>r?s:0}return this.toArray((function(e){return e.sort(a)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&Mt(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=Lt(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return qt(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,Mt(t)?jt(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):jt(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),jt(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return Nt(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return Nt(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=Pt(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&Mt(t,!0)&&t.limit>0)return this._read((e=>{var n=Lt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Nt(this._ctx,(function(e){var t=e.primaryKey.toString(),r=c(n,t);return n[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((n=>{var r;if("function"==typeof e)r=e;else{var o=i(e),s=o.length;r=function(t){for(var n=!1,r=0;r<s;++r){var i=o[r],a=e[i];A(t,i)!==a&&(S(t,i,a),n=!0)}return n}}const a=t.table.core,{outbound:u,extractKey:c}=a.schema.primaryKey,l=this.db._options.modifyChunkSize||200,f=[];let h=0;const d=[],p=(e,t)=>{const{failures:n,numFailures:r}=t;h+=e-r;for(let e of i(n))f.push(n[e])};return this.clone().primaryKeys().then((i=>{const o=s=>{const f=Math.min(l,i.length-s);return a.getMany({trans:n,keys:i.slice(s,s+f),cache:"immutable"}).then((h=>{const d=[],g=[],v=u?[]:null,m=[];for(let e=0;e<f;++e){const t=h[e],n={value:D(t),primKey:i[s+e]};!1!==r.call(n,n.value,n)&&(null==n.value?m.push(i[s+e]):u||0===Wt(c(t),c(n.value))?(g.push(n.value),u&&v.push(i[s+e])):(m.push(i[s+e]),d.push(n.value)))}const y=Mt(t)&&t.limit===1/0&&("function"!=typeof e||e===$t)&&{index:t.index,range:t.range};return Promise.resolve(d.length>0&&a.mutate({trans:n,type:"add",values:d}).then((e=>{for(let t in e.failures)m.splice(parseInt(t),1);p(d.length,e)}))).then((()=>(g.length>0||y&&"object"==typeof e)&&a.mutate({trans:n,type:"put",keys:v,values:g,criteria:y,changeSpec:"function"!=typeof e&&e}).then((e=>p(g.length,e))))).then((()=>(m.length>0||y&&e===$t)&&a.mutate({trans:n,type:"delete",keys:m,criteria:y}).then((e=>p(m.length,e))))).then((()=>i.length>s+f&&o(s+l)))}))};return o(0).then((()=>{if(f.length>0)throw new J("Error modifying one or more objects",f,h,d);return i.length}))}))}))}delete(){var e=this._ctx,t=e.range;return Mt(e)&&(e.isPrimKey&&!xt||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((({failures:e,lastResult:n,results:r,numFailures:i})=>{if(i)throw new J("Could not delete some values",Object.keys(e).map((t=>e[t])),t-i);return t-i}))))})):this.modify($t)}}const $t=(e,t)=>t.value=null;function Yt(e,t){return e<t?-1:e===t?0:1}function Jt(e,t){return e>t?-1:e===t?0:1}function Zt(e,t,n){var r=e instanceof rn?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Qt(e){return new e.Collection(e,(()=>nn(""))).limit(0)}function Xt(e,t,n,r,i,o){for(var s=Math.min(e.length,r.length),a=-1,u=0;u<s;++u){var c=t[u];if(c!==r[u])return i(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):i(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;i(e[u],c)<0&&(a=u)}return s<r.length&&"next"===o?e+n.substr(e.length):s<e.length&&"prev"===o?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function en(e,t,n,r){var i,o,s,a,u,c,l,f=n.length;if(!n.every((e=>"string"==typeof e)))return Zt(e,At);function h(e){i=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),o=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),s="next"===e?Yt:Jt;var t=n.map((function(e){return{lower:o(e),upper:i(e)}})).sort((function(e,t){return s(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),c=e,l="next"===e?"":r}h("next");var d=new e.Collection(e,(()=>tn(a[0],u[f-1]+r)));d._ondirectionchange=function(e){h(e)};var p=0;return d._addAlgorithm((function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var h=o(i);if(t(h,u,p))return!0;for(var d=null,g=p;g<f;++g){var v=Xt(i,h,a[g],u[g],s,c);null===v&&null===d?p=g+1:(null===d||s(d,v)>0)&&(d=v)}return n(null!==d?function(){e.continue(d+l)}:r),!1})),d}function tn(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function nn(e){return{type:1,lower:e,upper:e}}class rn{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Qt(this):new this.Collection(this,(()=>tn(e,t,!n,!r)))}catch(e){return Zt(this,wt)}}equals(e){return null==e?Zt(this,wt):new this.Collection(this,(()=>nn(e)))}above(e){return null==e?Zt(this,wt):new this.Collection(this,(()=>tn(e,void 0,!0)))}aboveOrEqual(e){return null==e?Zt(this,wt):new this.Collection(this,(()=>tn(e,void 0,!1)))}below(e){return null==e?Zt(this,wt):new this.Collection(this,(()=>tn(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Zt(this,wt):new this.Collection(this,(()=>tn(void 0,e)))}startsWith(e){return"string"!=typeof e?Zt(this,At):this.between(e,e+bt,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):en(this,((e,t)=>0===e.indexOf(t[0])),[e],bt)}equalsIgnoreCase(e){return en(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=M.apply(B,arguments);return 0===e.length?Qt(this):en(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=M.apply(B,arguments);return 0===e.length?Qt(this):en(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,bt)}anyOf(){const e=M.apply(B,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Zt(this,wt)}if(0===e.length)return Qt(this);const n=new this.Collection(this,(()=>tn(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,i,o)=>{const s=n.key;for(;t(s,e[r])>0;)if(++r,r===e.length)return i(o),!1;return 0===t(s,e[r])||(i((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[_t,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=M.apply(B,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Zt(this,wt)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[_t,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,i=this._descending,o=this._min,s=this._max;if(0===e.length)return Qt(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return Zt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ee.InvalidArgument);const a=!t||!1!==t.includeLowers,u=t&&!0===t.includeUppers;let c,l=r;function f(e,t){return l(e[0],t[0])}try{c=e.reduce((function(e,t){let r=0,i=e.length;for(;r<i;++r){const i=e[r];if(n(t[0],i[1])<0&&n(t[1],i[0])>0){i[0]=o(i[0],t[0]),i[1]=s(i[1],t[1]);break}}return r===i&&e.push(t),e}),[]),c.sort(f)}catch(e){return Zt(this,wt)}let h=0;const d=u?e=>r(e,c[h][1])>0:e=>r(e,c[h][1])>=0,p=a?e=>i(e,c[h][0])>0:e=>i(e,c[h][0])>=0;let g=d;const v=new this.Collection(this,(()=>tn(c[0][0],c[c.length-1][1],!a,!u)));return v._ondirectionchange=e=>{"next"===e?(g=d,l=r):(g=p,l=i),c.sort(f)},v._addAlgorithm(((e,t,n)=>{for(var i=e.key;g(i);)if(++h,h===c.length)return t(n),!1;return!!function(e){return!d(e)&&!p(e)}(i)||(0===this._cmp(i,c[h][1])||0===this._cmp(i,c[h][0])||t((()=>{l===r?e.continue(c[h][0]):e.continue(c[h][1])})),!1)})),v}startsWithAnyOf(){const e=M.apply(B,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Qt(this):this.inAnyRange(e.map((e=>[e,e+bt]))):Zt(this,"startsWithAnyOf() only works with strings")}}function on(e){return Ye((function(t){return sn(t),e(t.target.error),!1}))}function sn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const an="storagemutated",un="x-storagemutated-1",cn=Ft(null,an);class ln{_lock(){return b(!De.global),++this._reculock,1!==this._reculock||De.global||(De.lockOwnerFor=this),this}_unlock(){if(b(!De.global),0==--this._reculock)for(De.global||(De.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{lt(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&De.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(b(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new ee.DatabaseClosed(n);case"MissingAPIError":throw new ee.MissingAPI(n.message,n);default:throw new ee.OpenFailed(n)}if(!this.active)throw new ee.TransactionInactive;return b(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ye((t=>{sn(t),this._reject(e.error)})),e.onabort=Ye((t=>{sn(t),this.active&&this._reject(new ee.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=Ye((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&cn.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return vt(new ee.ReadOnly("Transaction is readonly"));if(!this.active)return vt(new ee.TransactionInactive);if(this._locked())return new Oe(((r,i)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,i)},De])}));if(n)return nt((()=>{var e=new Oe(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new Oe(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=Oe.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new Oe(((e,r)=>{n.then((n=>t._waitingQueue.push(Ye(e.bind(null,n)))),(e=>t._waitingQueue.push(Ye(r.bind(null,e))))).finally((()=>{t._waitingFor===i&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ee.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(c(t,e))return t[e];const n=this.schema[e];if(!n)throw new ee.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function fn(e,t,n,r,i,o,s){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!s?"&":"")+(r?"*":"")+(i?"++":"")+hn(t)}}function hn(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function dn(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:w(n,(e=>[e.name,e]))}}let pn=e=>{try{return e.only([[]]),pn=()=>[[]],[[]]}catch(e){return pn=()=>bt,bt}};function gn(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>A(t,e)}(e):t=>A(t,e)}function vn(e){return[].slice.call(e)}let mn=0;function yn(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function bn(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:i,upperOpen:o}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!o):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!o)}const{schema:i,hasGetAll:s}=function(e,t){const n=vn(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=o(t),i=null==t,s={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:gn(t)},indexes:vn(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:r,keyPath:i}=e,a={name:t,compound:o(i),keyPath:i,unique:n,multiEntry:r,extractKey:gn(i)};return s[yn(i)]=a,a})),getIndexByKeyPath:e=>s[yn(e)]};return s[":id"]=a.primaryKey,null!=t&&(s[yn(t)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=i.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:i,values:o,range:s}){return new Promise(((a,u)=>{a=Ye(a);const c=e.objectStore(t),l=null==c.keyPath,f="put"===n||"add"===n;if(!f&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:h}=i||o||{length:1};if(i&&o&&i.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let d;const p=[],g=[];let v=0;const m=e=>{++v,sn(e)};if("deleteRange"===n){if(4===s.type)return a({numFailures:v,failures:g,results:[],lastResult:void 0});3===s.type?p.push(d=c.clear()):p.push(d=c.delete(r(s)))}else{const[e,t]=f?l?[o,i]:[o,null]:[i,null];if(f)for(let r=0;r<h;++r)p.push(d=t&&void 0!==t[r]?c[n](e[r],t[r]):c[n](e[r])),d.onerror=m;else for(let t=0;t<h;++t)p.push(d=c[n](e[t])),d.onerror=m}const y=e=>{const t=e.target.result;p.forEach(((e,t)=>null!=e.error&&(g[t]=e.error))),a({numFailures:v,failures:g,results:"delete"===n?i:p.map((e=>e.result)),lastResult:t})};d.onerror=e=>{m(e),y(e)},d.onsuccess=y}))},getMany:({trans:e,keys:n})=>new Promise(((r,i)=>{r=Ye(r);const o=e.objectStore(t),s=n.length,a=new Array(s);let u,c=0,l=0;const f=e=>{const t=e.target;a[t._pos]=t.result,++l===c&&r(a)},h=on(i);for(let e=0;e<s;++e)null!=n[e]&&(u=o.get(n[e]),u._pos=e,u.onsuccess=f,u.onerror=h,++c);0===c&&r(a)})),get:({trans:e,key:n})=>new Promise(((r,i)=>{r=Ye(r);const o=e.objectStore(t).get(n);o.onsuccess=e=>r(e.target.result),o.onerror=on(i)})),query:function(e){return n=>new Promise(((i,o)=>{i=Ye(i);const{trans:s,values:a,limit:u,query:c}=n,l=u===1/0?void 0:u,{index:f,range:h}=c,d=s.objectStore(t),p=f.isPrimaryKey?d:d.index(f.name),g=r(h);if(0===u)return i({result:[]});if(e){const e=a?p.getAll(g,l):p.getAllKeys(g,l);e.onsuccess=e=>i({result:e.target.result}),e.onerror=on(o)}else{let e=0;const t=a||!("openKeyCursor"in p)?p.openCursor(g):p.openKeyCursor(g),n=[];t.onsuccess=r=>{const o=t.result;return o?(n.push(a?o.value:o.primaryKey),++e===u?i({result:n}):void o.continue()):i({result:n})},t.onerror=on(o)}}))}(s),openCursor:function({trans:e,values:n,query:i,reverse:o,unique:s}){return new Promise(((a,u)=>{a=Ye(a);const{index:c,range:l}=i,f=e.objectStore(t),h=c.isPrimaryKey?f:f.index(c.name),d=o?s?"prevunique":"prev":s?"nextunique":"next",p=n||!("openKeyCursor"in h)?h.openCursor(r(l),d):h.openKeyCursor(r(l),d);p.onerror=on(u),p.onsuccess=Ye((t=>{const n=p.result;if(!n)return void a(null);n.___id=++mn,n.done=!1;const r=n.continue.bind(n);let i=n.continuePrimaryKey;i&&(i=i.bind(n));const o=n.advance.bind(n),s=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=Ye(u),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=Ye(e),p.onerror=on(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=s,e(t)}})),a=()=>{if(p.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return p.onsuccess=Ye((e=>{p.onsuccess=a,a()})),n.continue=r,n.continuePrimaryKey=i,n.advance=o,a(),t},a(n)}),u)}))},count({query:e,trans:n}){const{index:i,range:o}=e;return new Promise(((e,s)=>{const a=n.objectStore(t),u=i.isPrimaryKey?a:a.index(i.name),c=r(o),l=c?u.count(c):u.count();l.onsuccess=Ye((t=>e(t.target.result))),l.onerror=on(s)}))}}}(e))),u={};return a.forEach((e=>u[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!u[e])throw new Error(`Table '${e}' not found`);return u[e]},MIN_KEY:-1/0,MAX_KEY:pn(t),schema:i}}function _n({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},i){const o=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(bn(t,n,i),e.dbcore);return{dbcore:o}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function wn({_novip:e},t,n,r){n.forEach((n=>{const i=r[n];t.forEach((t=>{const r=g(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?h(t,n,{get(){return this.table(n)},set(e){f(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,i))}))}))}function An({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function Sn(e,t){return e._cfg.version-t._cfg.version}function Cn(e,t,n,r){const o=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,o);s.create(n),s._completion.catch(r);const a=s._reject.bind(s),u=De.transless||De;nt((()=>{De.trans=s,De.transless=u,0===t?(i(o).forEach((e=>{xn(n,e,o[e].primKey,o[e].indexes)})),_n(e,n),Oe.follow((()=>e.on.populate.fire(s))).catch(a)):function({_novip:e},t,n,r){const o=[],s=e._versions;let a=e._dbSchema=kn(0,e.idbdb,r),u=!1;const c=s.filter((e=>e._cfg.version>=t));return c.forEach((s=>{o.push((()=>{const o=a,c=s._cfg.dbschema;Tn(e,o,r),Tn(e,c,r),a=e._dbSchema=c;const l=En(o,c);l.add.forEach((e=>{xn(r,e[0],e[1].primKey,e[1].indexes)})),l.change.forEach((e=>{if(e.recreate)throw new ee.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>In(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),In(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const f=s._cfg.contentUpgrade;if(f&&s._cfg.version>t){_n(e,r),n._memoizedTables={},u=!0;let t=C(c);l.del.forEach((e=>{t[e]=o[e]})),An(e,[e.Transaction.prototype]),wn(e,[e.Transaction.prototype],i(t),t),n.schema=t;const s=N(f);let a;s&&rt();const h=Oe.follow((()=>{if(a=f(n),a&&s){var e=it.bind(null,null);a.then(e,e)}}));return a&&"function"==typeof a.then?Oe.resolve(a):h.then((()=>a))}})),o.push((t=>{u&&Et||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(s._cfg.dbschema,t),An(e,[e.Transaction.prototype]),wn(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return o.length?Oe.resolve(o.shift()(n.idbtrans)).then(e):Oe.resolve()}().then((()=>{var e,t;t=r,i(e=a).forEach((n=>{t.db.objectStoreNames.contains(n)||xn(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,s,n).catch(a)}))}function En(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],o=t[r];if(i){const e={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!Ct)e.recreate=!0,n.change.push(e);else{const t=i.idxByName,r=o.idxByName;let s;for(s in t)r[s]||e.del.push(s);for(s in r){const n=t[s],i=r[s];n?n.src!==i.src&&e.change.push(i):e.add.push(i)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,o])}return n}function xn(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>In(i,e))),i}function In(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function kn(e,t,n){const r={};return m(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let i=t.keyPath;const o=fn(hn(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),s=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);i=n.keyPath;var a=fn(n.name,i,!!n.unique,!!n.multiEntry,!1,i&&"string"!=typeof i,!1);s.push(a)}r[e]=dn(e,o,s)})),r}function Tn({_novip:e},t,n){const i=n.db.objectStoreNames;for(let r=0;r<i.length;++r){const o=i[r],s=n.objectStore(o);e._hasGetAll="getAll"in s;for(let e=0;e<s.indexNames.length;++e){const n=s.indexNames[e],r=s.index(n).keyPath,i="string"==typeof r?r:"["+m(r).join("+")+"]";if(t[o]){const e=t[o].idxByName[i];e&&(e.name=n,delete t[o].idxByName[i],t[o].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class Dn{_parseStoresSpec(e,t){i(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return fn(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),o(r),0===t)})),i=r.shift();if(i.multi)throw new ee.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new ee.Schema("Index must have a name and cannot be an empty string")})),t[n]=dn(n,i,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,e):e;const n=t._versions,r={};let o={};return n.forEach((e=>{s(r,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(r,o)})),t._dbSchema=o,An(t,[t._allTables,t,t.Transaction.prototype]),wn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],i(o),o),t._storeNames=i(o),this}upgrade(e){return this._cfg.contentUpgrade=fe(this._cfg.contentUpgrade||re,e),this}}function Pn(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Xn(kt,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Un(e){return e&&"function"==typeof e.databases}function Rn(e){return nt((function(){return De.letThrough=!0,e()}))}function On(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function Fn(e){var t=t=>e.next(t),n=i(t),r=i((t=>e.throw(t)));function i(e){return t=>{var i=e(t),s=i.value;return i.done?s:s&&"function"==typeof s.then?s.then(n,r):o(s)?Promise.all(s).then(n,r):n(s)}}return i(t)()}function Bn(e,t,n){var r=arguments.length;if(r<2)throw new ee.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,x(i),n]}function Mn(e,t,n,r,i){return Oe.resolve().then((()=>{const o=De.transless||De,s=e._createTransaction(t,n,e._dbSchema,r),a={trans:s,transless:o};if(r)s.idbtrans=r.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===Q.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>Mn(e,t,n,null,i)))):vt(r)}const u=N(i);let c;u&&rt();const l=Oe.follow((()=>{if(c=i.call(s,s),c)if(u){var e=it.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=Fn(c))}),a);return(c&&"function"==typeof c.then?Oe.resolve(c).then((e=>s.active?e:vt(new ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):l.then((()=>c))).then((e=>(r&&s._resolve(),s._completion.then((()=>e))))).catch((e=>(s._reject(e),vt(e))))}))}function Nn(e,t,n){const r=o(e)?e.slice():[e];for(let e=0;e<n;++e)r.push(t);return r}const jn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},o=[];function s(e,t,n){const r=yn(e),a=i[r]=i[r]||[],u=null==e?0:"string"==typeof e?1:e.length,c=t>0,l={...n,isVirtual:c,keyTail:t,keyLength:u,extractKey:gn(e),unique:!c&&n.unique};return a.push(l),l.isPrimaryKey||o.push(l),u>1&&s(2===u?e[0]:e.slice(0,u-1),t+1,n),a.sort(((e,t)=>e.keyTail-t.keyTail)),l}const a=s(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(const e of r.indexes)s(e.keyPath,0,e);function u(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,i=n.keyTail,{type:1===r.type?2:r.type,lower:Nn(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:Nn(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}:t;var r,i}const c={...n,schema:{...r,primaryKey:a,indexes:o,getIndexByKeyPath:function(e){const t=i[yn(e)];return t&&t[0]}},count:e=>n.count(u(e)),query:e=>n.query(u(e)),openCursor(t){const{keyTail:r,isVirtual:i,keyLength:o}=t.query.index;return i?n.openCursor(u(t)).then((n=>n&&function(n){const i=Object.create(n,{continue:{value:function(i){null!=i?n.continue(Nn(i,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,i){n.continuePrimaryKey(Nn(t,e.MAX_KEY,r),i)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:()=>n.value}});return i}(n))):n.openCursor(t)}};return c}}}};function Ln(e,t,n,r){return n=n||{},r=r||"",i(e).forEach((i=>{if(c(t,i)){var o=e[i],s=t[i];if("object"==typeof o&&"object"==typeof s&&o&&s){const e=R(o);e!==R(s)?n[r+i]=t[i]:"Object"===e?Ln(o,s,n,r+i+"."):o!==s&&(n[r+i]=t[i])}else o!==s&&(n[r+i]=t[i])}else n[r+i]=void 0})),i(t).forEach((i=>{c(e,i)||(n[r+i]=t[i])})),n}const Kn={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,i={...n,mutate(e){const i=De.trans,{deleting:o,creating:s,updating:a}=i.table(t).hook;switch(e.type){case"add":if(s.fire===re)break;return i._promise("readwrite",(()=>u(e)),!0);case"put":if(s.fire===re&&a.fire===re)break;return i._promise("readwrite",(()=>u(e)),!0);case"delete":if(o.fire===re)break;return i._promise("readwrite",(()=>u(e)),!0);case"deleteRange":if(o.fire===re)break;return i._promise("readwrite",(()=>function(e){return l(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function u(e){const t=De.trans,i=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!i)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:i}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,i).then((u=>{const l=i.map(((n,i)=>{const l=u[i],f={onerror:null,onsuccess:null};if("delete"===e.type)o.fire.call(f,n,l,t);else if("add"===e.type||void 0===l){const o=s.fire.call(f,n,e.values[i],t);null==n&&null!=o&&(n=o,e.keys[i]=n,r.outbound||S(e.values[i],r.keyPath,n))}else{const r=Ln(l,e.values[i]),o=a.fire.call(f,r,n,l,t);if(o){const t=e.values[i];Object.keys(o).forEach((e=>{c(t,e)?t[e]=o[e]:S(t,e,o[e])}))}}return f}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:o})=>{for(let r=0;r<i.length;++r){const o=n?n[r]:i[r],s=l[r];null==o?s.onerror&&s.onerror(t[r]):s.onsuccess&&s.onsuccess("put"===e.type&&u[r]?e.values[r]:o)}return{failures:t,results:n,numFailures:r,lastResult:o}})).catch((e=>(l.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function l(e,t,i){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:i}).then((({result:n})=>u({type:"delete",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<i?{failures:[],numFailures:0,lastResult:void 0}:l(e,{...t,lower:n[n.length-1],lowerOpen:!0},i)))))}}};return i}})};function qn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)0===Wt(t.keys[i],e[o])&&(r.push(n?D(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch(e){return null}}const Vn={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=qn(e.keys,e.trans._cache,"clone"===e.cache);return t?Oe.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?D(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function Wn(e){return!("from"in e)}const zn=function(e,t){if(!this){const t=new zn;return e&&"d"in e&&s(t,e),t}s(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Gn(e,t,n){const r=Wt(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Wn(e))return s(e,{from:t,to:n,d:1});const i=e.l,o=e.r;if(Wt(n,e.from)<0)return i?Gn(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Jn(e);if(Wt(t,e.to)>0)return o?Gn(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Jn(e);Wt(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Wt(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;i&&!e.l&&Hn(e,i),o&&a&&Hn(e,o)}function Hn(e,t){Wn(t)||function e(t,{from:n,to:r,l:i,r:o}){Gn(t,n,r),i&&e(t,i),o&&e(t,o)}(e,t)}function $n(e,t){const n=Yn(t);let r=n.next();if(r.done)return!1;let i=r.value;const o=Yn(e);let s=o.next(i.from),a=s.value;for(;!r.done&&!s.done;){if(Wt(a.from,i.to)<=0&&Wt(a.to,i.from)>=0)return!0;Wt(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(s=o.next(i.from)).value}return!1}function Yn(e){let t=Wn(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Wt(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Wt(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Jn(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const t="r"===i?"l":"r",n={...e},r=e[i];e.from=r.from,e.to=r.to,e[i]=r[i],n[i]=r[t],e[t]=n,n.d=Zn(n)}e.d=Zn(e)}function Zn({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}l(zn.prototype,{add(e){return Hn(this,e),this},addKey(e){return Gn(this,e,e),this},addKeys(e){return e.forEach((e=>Gn(this,e,e))),this},[O](){return Yn(this)}});const Qn={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new zn(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const s=e.table(r),{schema:a}=s,{primaryKey:u}=a,{extractKey:c,outbound:l}=u,f={...s,mutate:e=>{const i=e.trans,u=i.mutatedParts||(i.mutatedParts={}),c=e=>{const n=`idb://${t}/${r}/${e}`;return u[n]||(u[n]=new zn)},l=c(""),f=c(":dels"),{type:h}=e;let[d,p]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const g=e.trans._cache;return s.mutate(e).then((e=>{if(o(d)){"delete"!==h&&(d=e.results),l.addKeys(d);const t=qn(d,g);t||"add"===h||f.addKeys(d),(t||p)&&function(e,t,n,r){t.indexes.forEach((function(t){const i=e(t.name||"");function s(e){return null!=e?t.extractKey(e):null}const a=e=>t.multiEntry&&o(e)?e.forEach((e=>i.addKey(e))):i.addKey(e);(n||r).forEach(((e,t)=>{const i=n&&s(n[t]),o=r&&s(r[t]);0!==Wt(i,o)&&(null!=i&&a(i),null!=o&&a(o))}))}))}(c,a,t,p)}else if(d){const e={from:d.lower,to:d.upper};f.add(e),l.add(e)}else l.add(n),f.add(n),a.indexes.forEach((e=>c(e.name).add(n)));return e}))}},h=({query:{index:t,range:n}})=>{var r,i;return[t,new zn(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(i=n.upper)&&void 0!==i?i:e.MAX_KEY)]},d={get:e=>[u,new zn(e.key)],getMany:e=>[u,(new zn).addKeys(e.keys)],count:h,query:h,openCursor:h};return i(d).forEach((e=>{f[e]=function(i){const{subscr:o}=De;if(o){const a=e=>{const n=`idb://${t}/${r}/${e}`;return o[n]||(o[n]=new zn)},u=a(""),f=a(":dels"),[h,p]=d[e](i);if(a(h.name||"").add(p),!h.isPrimaryKey){if("count"!==e){const t="query"===e&&l&&i.values&&s.query({...i,values:!1});return s[e].apply(this,arguments).then((n=>{if("query"===e){if(l&&i.values)return t.then((({result:e})=>(u.addKeys(e),n)));const e=i.values?n.result.map(c):n.result;i.values?u.addKeys(e):f.addKeys(e)}else if("openCursor"===e){const e=n,t=i.values;return e&&Object.create(e,{key:{get:()=>(f.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return f.addKey(t),t}},value:{get:()=>(t&&u.addKey(e.primaryKey),e.value)}})}return n}))}f.add(n)}}return s[e].apply(this,arguments)}})),f}}}};class Xn{constructor(e,t){this._middlewares={},this.verno=0;const n=Xn.dependencies;this._options=t={addons:Xn.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:re,dbReadyPromise:null,cancelOpen:re,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;i.dbReadyPromise=new Oe((e=>{i.dbReadyResolve=e})),i.openCanceller=new Oe(((e,t)=>{i.cancelOpen=t})),this._state=i,this.name=e,this.on=Ft(this,"populate","blocked","versionchange","close",{ready:[fe,re]}),this.on.ready.subscribe=y(this.on.ready.subscribe,(e=>(t,n)=>{Xn.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||Oe.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(o=this,Bt(Ht.prototype,(function(e,t){this.db=o;let n=Ut,r=null;if(t)try{n=t()}catch(e){r=e}const i=e._ctx,s=i.table,a=s.hook.reading.fire;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:a!==ie?a:null}}))),this.Table=function(e){return Bt(Ot.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Ft(null,{creating:[ae,re],reading:[oe,ie],updating:[ce,re],deleting:[ue,re]})}))}(this),this.Transaction=function(e){return Bt(ln.prototype,(function(t,n,r,i,o){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=Ft(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Oe(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),vt(e)}))}))}(this),this.Version=function(e){return Bt(Dn.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Bt(rn.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const i=e._deps.indexedDB;if(!i)throw new ee.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(e,t)=>i.cmp(t,e),this._max=(e,t)=>i.cmp(e,t)>0?e:t,this._min=(e,t)=>i.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=pn(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),St.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(jn),this.use(Kn),this.use(Qn),this.use(Vn),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new ee.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(Sn),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||De.letThrough||this._vip)?e():new Oe(((e,t)=>{if(this._state.openComplete)return t(new ee.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new ee.DatabaseClosed);this.open().catch(re)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:t,level:null==n?10:n,name:r}),i.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return function(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?vt(t.dbOpenError):e));j&&(t.openCanceller._stackHolder=V()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function o(){if(t.openCanceller!==r)throw new ee.DatabaseClosed("db.open() was cancelled")}let s=t.dbReadyResolve,a=null,u=!1;return Oe.race([r,("undefined"==typeof navigator?Oe.resolve():On()).then((()=>new Oe(((r,s)=>{if(o(),!n)throw new ee.MissingAPI;const c=e.name,l=t.autoSchema?n.open(c):n.open(c,Math.round(10*e.verno));if(!l)throw new ee.MissingAPI;l.onerror=on(s),l.onblocked=Ye(e._fireOnBlocked),l.onupgradeneeded=Ye((r=>{if(a=l.transaction,t.autoSchema&&!e._options.allowEmptyDB){l.onerror=sn,a.abort(),l.result.close();const e=n.deleteDatabase(c);e.onsuccess=e.onerror=Ye((()=>{s(new ee.NoSuchDatabase(`Database ${c} doesnt exist`))}))}else{a.onerror=on(s);var i=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;u=i<1,e._novip.idbdb=l.result,Cn(e,i/10,a,s)}}),s),l.onsuccess=Ye((()=>{a=null;const n=e._novip.idbdb=l.result,o=m(n.objectStoreNames);if(o.length>0)try{const r=n.transaction(1===(s=o).length?s[0]:s,"readonly");t.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;const r=e._dbSchema=kn(0,t,n);e._storeNames=m(t.objectStoreNames,0),wn(e,[e._allTables],i(r),r)}(e,n,r):(Tn(e,e._dbSchema,r),function(e,t){const n=En(kn(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),_n(e,r)}catch(e){}var s;St.push(e),n.onversionchange=Ye((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=Ye((t=>{e.on("close").fire(t)})),u&&function({indexedDB:e,IDBKeyRange:t},n){!Un(e)&&n!==kt&&Pn(e,t).put({name:n}).catch(re)}(e._deps,c),r()}),s)}))))]).then((()=>(o(),t.onReadyBeingFired=[],Oe.resolve(Rn((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(fe,re);return t.onReadyBeingFired=[],Oe.resolve(Rn((()=>r(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{a&&a.abort()}catch(e){}return r===t.openCanceller&&e._close(),vt(n)})).finally((()=>{t.openComplete=!0,s()}))}(this)}_close(){const e=this._state,t=St.indexOf(this);if(t>=0&&St.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new Oe((t=>{e.dbReadyResolve=t})),e.openCanceller=new Oe(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new ee.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new Oe(((n,r)=>{const i=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=Ye((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!Un(e)&&n!==kt&&Pn(e,t).delete(n).catch(re)}(this._deps,this.name),n()})),e.onerror=on(r),e.onblocked=this._fireOnBlocked};if(e)throw new ee.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(i):i()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return i(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=Bn.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=De.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const i=-1!==e.indexOf("?");let o,s;e=e.replace("!","").replace("?","");try{if(s=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===Tt)o=Tt;else{if("rw"!=e&&e!=Dt)throw new ee.InvalidArgument("Invalid transaction mode: "+e);o=Dt}if(r){if(r.mode===Tt&&o===Dt){if(!i)throw new ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&s.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!i)throw new ee.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):vt(e)}const a=Mn.bind(null,this,o,s,r,n);return r?r._promise(o,a,"lock"):De.trans?lt(De.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(e){if(!c(this._allTables,e))throw new ee.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const er="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class tr{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[er](){return this}}function nr(e,t){return i(t).forEach((n=>{Hn(e[n]||(e[n]=new zn),t[n])})),e}function rr(e){let t,n=!1;const r=new tr((r=>{const o=N(e);let s=!1,a={},u={};const c={get closed(){return s},unsubscribe:()=>{s=!0,cn.storagemutated.unsubscribe(d)}};r.start&&r.start(c);let l=!1,f=!1;function h(){return i(u).some((e=>a[e]&&$n(a[e],u[e])))}const d=e=>{nr(a,e),h()&&p()},p=()=>{if(l||s)return;a={};const i={},g=function(t){o&&rt();const n=()=>nt(e,{subscr:t,trans:null}),r=De.trans?lt(De.transless,n):n();return o&&r.then(it,it),r}(i);f||(cn(an,d),f=!0),l=!0,Promise.resolve(g).then((e=>{n=!0,t=e,l=!1,s||(h()?p():(a={},u=i,r.next&&r.next(e)))}),(e=>{l=!1,n=!1,r.error&&r.error(e),c.unsubscribe()}))};return p(),c}));return r.hasValue=()=>n,r.getValue=()=>t,r}let ir;try{ir={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch(r){ir={indexedDB:null,IDBKeyRange:null}}const or=Xn;function sr(e){let t=ar;try{ar=!0,cn.storagemutated.fire(e)}finally{ar=t}}l(or,{...ne,delete:e=>new or(e,{addons:[]}).delete(),exists:e=>new or(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return Un(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>e!==kt)))):Pn(e,t).toCollection().primaryKeys()}(or.dependencies).then(e)}catch(e){return vt(new ee.MissingAPI)}},defineClass:()=>function(e){s(this,e)},ignoreTransaction:e=>De.trans?lt(De.transless,e):e(),vip:Rn,async:function(e){return function(){try{var t=Fn(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Oe.resolve(t)}catch(e){return vt(e)}}},spawn:function(e,t,n){try{var r=Fn(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Oe.resolve(r)}catch(e){return vt(e)}},currentTransaction:{get:()=>De.trans||null},waitFor:function(e,t){const n=Oe.resolve("function"==typeof e?or.ignoreTransaction(e):e).timeout(t||6e4);return De.trans?De.trans.waitFor(n):n},Promise:Oe,debug:{get:()=>j,set:e=>{L(e,"dexie"===e?()=>!0:It)}},derive:d,extend:s,props:l,override:y,Events:Ft,on:cn,liveQuery:rr,extendObservabilitySet:nr,getByKeyPath:A,setByKeyPath:S,delByKeyPath:function(e,t){"string"==typeof t?S(e,t,void 0):"length"in t&&[].map.call(t,(function(t){S(e,t,void 0)}))},shallowClone:C,deepClone:D,getObjectDiff:Ln,cmp:Wt,asap:_,minKey:_t,addons:[],connections:St,errnames:Q,dependencies:ir,semVer:yt,version:yt.split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),or.maxKey=pn(or.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(cn(an,(e=>{if(!ar){let t;Ct?(t=document.createEvent("CustomEvent"),t.initCustomEvent(un,!0,!0,e)):t=new CustomEvent(un,{detail:e}),ar=!0,dispatchEvent(t),ar=!1}})),addEventListener(un,(({detail:e})=>{ar||sr(e)})));let ar=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel(un);"function"==typeof e.unref&&e.unref(),cn(an,(t=>{ar||e.postMessage(t)})),e.onmessage=e=>{e.data&&sr(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){cn(an,(e=>{try{ar||("undefined"!=typeof localStorage&&localStorage.setItem(un,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:un,changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if(e.key===un){const t=JSON.parse(e.newValue);t&&sr(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&e.type===un&&sr(e.changedParts)}))}Oe.rejectionMapper=function(e,t){if(!e||e instanceof $||e instanceof TypeError||e instanceof SyntaxError||!e.name||!te[e.name])return e;var n=new te[e.name](t||e.message,e);return"stack"in e&&h(n,"stack",{get:function(){return this.inner.stack}}),n},L(j,It)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n(5698)})();
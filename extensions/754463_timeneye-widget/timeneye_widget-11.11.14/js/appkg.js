/*!
 * Bootstrap v3.2.0 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if(function(e){"use strict";var t=function(){},i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];e.console&&e.console.log&&(t=function(t){e.console.log(t)}),e.base64={encode:function(e){var t,n="",o=function(e){var t,i,n=[],o=0;for(t=(e=encodeURI(e)).length;o<t;)i=e[o],o+=1,"%"!==i?n.push(i.charCodeAt(0)):(i=e[o]+e[o+1],n.push(parseInt(i,16)),o+=2);return n}(e),a=o.length;for(t=0;t<a-2;t+=3)n+=i[o[t]>>2],n+=i[((3&o[t])<<4)+(o[t+1]>>4)],n+=i[((15&o[t+1])<<2)+(o[t+2]>>6)],n+=i[63&o[t+2]];return a%3&&(n+=i[o[t=a-a%3]>>2],a%3==2?(n+=i[((3&o[t])<<4)+(o[t+1]>>4)],n+=i[(15&o[t+1])<<2],n+="="):(n+=i[(3&o[t])<<4],n+="==")),n},decode:function(e){var i,o,a=0,r=[],s=0,l=0;for(a=0;a<e.length;a++)o=e.charCodeAt(a),-1===(i=n[127&o])?t("WARN: Illegal characters (code="+o+") in position "+a):(l=l<<6|i,(s+=6)>=8&&(s-=8,"="!==e.charAt(a)&&r.push(l>>s&255),l&=(1<<s)-1));return s?(t("ERROR: Corrupted base64 string"),null):function(e){for(var t,i,n,o=[],a=0,r=e.length;a<r;)t=e[a],i=e[a+1],n=e[a+2],128>t?(o.push(String.fromCharCode(t)),a+=1):191<t&&t<224?(o.push(String.fromCharCode((31&t)<<6|63&i)),a+=2):(o.push(String.fromCharCode((15&t)<<12|(63&i)<<6|63&n)),a+=3);return o.join("")}(r)}}}(window),window.btoa=base64.encode,window.atob=base64.decode,
/*!
 * jQuery JavaScript Library v3.2.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2017-03-16T21:26Z
 */
function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";var i=[],n=e.document,o=Object.getPrototypeOf,a=i.slice,r=i.concat,s=i.push,l=i.indexOf,c={},d=c.toString,u=c.hasOwnProperty,h=u.toString,f=h.call(Object),p={};function m(e,t){var i=(t=t||n).createElement("script");i.text=e,t.head.appendChild(i).parentNode.removeChild(i)}var g=function(e,t){return new g.fn.init(e,t)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,y=/^-ms-/,b=/-([a-z])/g,_=function(e,t){return t.toUpperCase()};function T(e){var t=!!e&&"length"in e&&e.length,i=g.type(e);return"function"!==i&&!g.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}g.fn=g.prototype={jquery:"3.2.0",constructor:g,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=g.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return g.each(this,e)},map:function(e){return this.pushStack(g.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:i.sort,splice:i.splice},g.extend=g.fn.extend=function(){var e,t,i,n,o,a,r=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[s]||{},s++),"object"==typeof r||g.isFunction(r)||(r={}),s===l&&(r=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=r[t],r!==(n=e[t])&&(c&&n&&(g.isPlainObject(n)||(o=Array.isArray(n)))?(o?(o=!1,a=i&&Array.isArray(i)?i:[]):a=i&&g.isPlainObject(i)?i:{},r[t]=g.extend(c,a,n)):void 0!==n&&(r[t]=n));return r},g.extend({expando:"jQuery"+("3.2.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===g.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=g.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==d.call(e))&&(!(t=o(e))||"function"==typeof(i=u.call(t,"constructor")&&t.constructor)&&h.call(i)===f)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[d.call(e)]||"object":typeof e},globalEval:function(e){m(e)},camelCase:function(e){return e.replace(y,"ms-").replace(b,_)},each:function(e,t){var i,n=0;if(T(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(v,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(T(Object(e))?g.merge(i,"string"==typeof e?[e]:e):s.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:l.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;n<i;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,i){for(var n=[],o=0,a=e.length,r=!i;o<a;o++)!t(e[o],o)!==r&&n.push(e[o]);return n},map:function(e,t,i){var n,o,a=0,s=[];if(T(e))for(n=e.length;a<n;a++)null!=(o=t(e[a],a,i))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,i))&&s.push(o);return r.apply([],s)},guid:1,proxy:function(e,t){var i,n,o;if("string"==typeof t&&(i=e[t],t=e,e=i),g.isFunction(e))return n=a.call(arguments,2),(o=function(){return e.apply(t||this,n.concat(a.call(arguments)))}).guid=e.guid=e.guid||g.guid++,o},now:Date.now,support:p}),"function"==typeof Symbol&&(g.fn[Symbol.iterator]=i[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){c["[object "+t+"]"]=t.toLowerCase()}));var C=
/*!
         * Sizzle CSS Selector Engine v2.3.3
         * https://sizzlejs.com/
         *
         * Copyright jQuery Foundation and other contributors
         * Released under the MIT license
         * http://jquery.org/license
         *
         * Date: 2016-08-08
         */
function(e){var t,i,n,o,a,r,s,l,c,d,u,h,f,p,m,g,v,y,b,_="sizzle"+1*new Date,T=e.document,C=0,w=0,k=re(),j=re(),A=re(),E=function(e,t){return e===t&&(u=!0),0},I={}.hasOwnProperty,x=[],S=x.pop,D=x.push,L=x.push,M=x.slice,Q=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",P="\\["+O+"*("+H+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+O+"*\\]",F=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",G=new RegExp(O+"+","g"),R=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),U=new RegExp("^"+O+"*,"+O+"*"),B=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),$=new RegExp("="+O+"*([^\\]'\"]*?)"+O+"*\\]","g"),q=new RegExp(F),Y=new RegExp("^"+H+"$"),W={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},V=/^(?:input|select|textarea|button)$/i,z=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+O+"?|("+O+")|.)","ig"),ee=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ne=function(){h()},oe=ye((function(e){return!0===e.disabled&&("form"in e||"label"in e)}),{dir:"parentNode",next:"legend"});try{L.apply(x=M.call(T.childNodes),T.childNodes),x[T.childNodes.length].nodeType}catch(e){L={apply:x.length?function(e,t){D.apply(e,M.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function ae(e,t,n,o){var a,s,c,d,u,p,v,y=t&&t.ownerDocument,C=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return n;if(!o&&((t?t.ownerDocument||t:T)!==f&&h(t),t=t||f,m)){if(11!==C&&(u=K.exec(e)))if(a=u[1]){if(9===C){if(!(c=t.getElementById(a)))return n;if(c.id===a)return n.push(c),n}else if(y&&(c=y.getElementById(a))&&b(t,c)&&c.id===a)return n.push(c),n}else{if(u[2])return L.apply(n,t.getElementsByTagName(e)),n;if((a=u[3])&&i.getElementsByClassName&&t.getElementsByClassName)return L.apply(n,t.getElementsByClassName(a)),n}if(i.qsa&&!A[e+" "]&&(!g||!g.test(e))){if(1!==C)y=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((d=t.getAttribute("id"))?d=d.replace(te,ie):t.setAttribute("id",d=_),s=(p=r(e)).length;s--;)p[s]="#"+d+" "+ve(p[s]);v=p.join(","),y=J.test(e)&&me(t.parentNode)||t}if(v)try{return L.apply(n,y.querySelectorAll(v)),n}catch(e){}finally{d===_&&t.removeAttribute("id")}}}return l(e.replace(R,"$1"),t,n,o)}function re(){var e=[];return function t(i,o){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=o}}function se(e){return e[_]=!0,e}function le(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var i=e.split("|"),o=i.length;o--;)n.attrHandle[i[o]]=t}function de(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return se((function(t){return t=+t,se((function(i,n){for(var o,a=e([],i.length,t),r=a.length;r--;)i[o=a[r]]&&(i[o]=!(n[o]=i[o]))}))}))}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in i=ae.support={},a=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=ae.setDocument=function(e){var t,o,r=e?e.ownerDocument||e:T;return r!==f&&9===r.nodeType&&r.documentElement?(p=(f=r).documentElement,m=!a(f),T!==f&&(o=f.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ne,!1):o.attachEvent&&o.attachEvent("onunload",ne)),i.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),i.getElementsByTagName=le((function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length})),i.getElementsByClassName=X.test(f.getElementsByClassName),i.getById=le((function(e){return p.appendChild(e).id=_,!f.getElementsByName||!f.getElementsByName(_).length})),i.getById?(n.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var i=t.getElementById(e);return i?[i]:[]}}):(n.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var i,n,o,a=t.getElementById(e);if(a){if((i=a.getAttributeNode("id"))&&i.value===e)return[a];for(o=t.getElementsByName(e),n=0;a=o[n++];)if((i=a.getAttributeNode("id"))&&i.value===e)return[a]}return[]}}),n.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],o=0,a=t.getElementsByTagName(e);if("*"===e){for(;i=a[o++];)1===i.nodeType&&n.push(i);return n}return a},n.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(i.qsa=X.test(f.querySelectorAll))&&(le((function(e){p.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+O+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+O+"*(?:value|"+N+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+O+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(i.matchesSelector=X.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&le((function(e){i.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",F)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=X.test(p.compareDocumentPosition),b=t||X.test(p.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e===f||e.ownerDocument===T&&b(T,e)?-1:t===f||t.ownerDocument===T&&b(T,t)?1:d?Q(d,e)-Q(d,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var i,n=0,o=e.parentNode,a=t.parentNode,r=[e],s=[t];if(!o||!a)return e===f?-1:t===f?1:o?-1:a?1:d?Q(d,e)-Q(d,t):0;if(o===a)return de(e,t);for(i=e;i=i.parentNode;)r.unshift(i);for(i=t;i=i.parentNode;)s.unshift(i);for(;r[n]===s[n];)n++;return n?de(r[n],s[n]):r[n]===T?-1:s[n]===T?1:0},f):f},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&h(e),t=t.replace($,"='$1']"),i.matchesSelector&&m&&!A[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var n=y.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return ae(t,f,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!==f&&h(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==f&&h(e);var o=n.attrHandle[t.toLowerCase()],a=o&&I.call(n.attrHandle,t.toLowerCase())?o(e,t,!m):void 0;return void 0!==a?a:i.attributes||!m?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},ae.escape=function(e){return(e+"").replace(te,ie)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,n=[],o=0,a=0;if(u=!i.detectDuplicates,d=!i.sortStable&&e.slice(0),e.sort(E),u){for(;t=e[a++];)t===e[a]&&(o=n.push(a));for(;o--;)e.splice(n[o],1)}return d=null,e},o=ae.getText=function(e){var t,i="",n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=o(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n++];)i+=o(t);return i},(n=ae.selectors={cacheLength:50,createPseudo:se,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&q.test(i)&&(t=r(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&k(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,i){return function(n){var o=ae.attr(n,e);return null==o?"!="===t:!t||(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&o.indexOf(i)>-1:"$="===t?i&&o.slice(-i.length)===i:"~="===t?(" "+o.replace(G," ")+" ").indexOf(i)>-1:"|="===t&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,o){var a="nth"!==e.slice(0,3),r="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var c,d,u,h,f,p,m=a!==r?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(a){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[r?g.firstChild:g.lastChild],r&&y){for(b=(f=(c=(d=(u=(h=g)[_]||(h[_]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]||[])[0]===C&&c[1])&&c[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===t){d[e]=[C,f,b];break}}else if(y&&(b=f=(c=(d=(u=(h=t)[_]||(h[_]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]||[])[0]===C&&c[1]),!1===b)for(;(h=++f&&h&&h[m]||(b=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((d=(u=h[_]||(h[_]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]=[C,b]),h!==t)););return(b-=o)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,t){var i,o=n.pseudos[e]||n.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return o[_]?o(t):o.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?se((function(e,i){for(var n,a=o(e,t),r=a.length;r--;)e[n=Q(e,a[r])]=!(i[n]=a[r])})):function(e){return o(e,0,i)}):o}},pseudos:{not:se((function(e){var t=[],i=[],n=s(e.replace(R,"$1"));return n[_]?se((function(e,t,i,o){for(var a,r=n(e,null,o,[]),s=e.length;s--;)(a=r[s])&&(e[s]=!(t[s]=a))})):function(e,o,a){return t[0]=e,n(t,null,a,i),t[0]=null,!i.pop()}})),has:se((function(e){return function(t){return ae(e,t).length>0}})),contains:se((function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}})),lang:se((function(e){return Y.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var i;do{if(i=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return z.test(e.nodeName)},input:function(e){return V.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe((function(){return[0]})),last:pe((function(e,t){return[t-1]})),eq:pe((function(e,t,i){return[i<0?i+t:i]})),even:pe((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:pe((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:pe((function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e})),gt:pe((function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=ue(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=he(t);function ge(){}function ve(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function ye(e,t,i){var n=t.dir,o=t.next,a=o||n,r=i&&"parentNode"===a,s=w++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,o);return!1}:function(t,i,l){var c,d,u,h=[C,s];if(l){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||r)if(d=(u=t[_]||(t[_]={}))[t.uniqueID]||(u[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[n]||t;else{if((c=d[a])&&c[0]===C&&c[1]===s)return h[2]=c[2];if(d[a]=h,h[2]=e(t,i,l))return!0}return!1}}function be(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function _e(e,t,i,n,o){for(var a,r=[],s=0,l=e.length,c=null!=t;s<l;s++)(a=e[s])&&(i&&!i(a,n,o)||(r.push(a),c&&t.push(s)));return r}function Te(e,t,i,n,o,a){return n&&!n[_]&&(n=Te(n)),o&&!o[_]&&(o=Te(o,a)),se((function(a,r,s,l){var c,d,u,h=[],f=[],p=r.length,m=a||function(e,t,i){for(var n=0,o=t.length;n<o;n++)ae(e,t[n],i);return i}(t||"*",s.nodeType?[s]:s,[]),g=!e||!a&&t?m:_e(m,h,e,s,l),v=i?o||(a?e:p||n)?[]:r:g;if(i&&i(g,v,s,l),n)for(c=_e(v,f),n(c,[],s,l),d=c.length;d--;)(u=c[d])&&(v[f[d]]=!(g[f[d]]=u));if(a){if(o||e){if(o){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(g[d]=u);o(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&(c=o?Q(a,u):h[d])>-1&&(a[c]=!(r[c]=u))}}else v=_e(v===r?v.splice(p,v.length):v),o?o(null,r,v,l):L.apply(r,v)}))}function Ce(e){for(var t,i,o,a=e.length,r=n.relative[e[0].type],s=r||n.relative[" "],l=r?1:0,d=ye((function(e){return e===t}),s,!0),u=ye((function(e){return Q(t,e)>-1}),s,!0),h=[function(e,i,n){var o=!r&&(n||i!==c)||((t=i).nodeType?d(e,i,n):u(e,i,n));return t=null,o}];l<a;l++)if(i=n.relative[e[l].type])h=[ye(be(h),i)];else{if((i=n.filter[e[l].type].apply(null,e[l].matches))[_]){for(o=++l;o<a&&!n.relative[e[o].type];o++);return Te(l>1&&be(h),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(R,"$1"),i,l<o&&Ce(e.slice(l,o)),o<a&&Ce(e=e.slice(o)),o<a&&ve(e))}h.push(i)}return be(h)}return ge.prototype=n.filters=n.pseudos,n.setFilters=new ge,r=ae.tokenize=function(e,t){var i,o,a,r,s,l,c,d=j[e+" "];if(d)return t?0:d.slice(0);for(s=e,l=[],c=n.preFilter;s;){for(r in i&&!(o=U.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(a=[])),i=!1,(o=B.exec(s))&&(i=o.shift(),a.push({value:i,type:o[0].replace(R," ")}),s=s.slice(i.length)),n.filter)!(o=W[r].exec(s))||c[r]&&!(o=c[r](o))||(i=o.shift(),a.push({value:i,type:r,matches:o}),s=s.slice(i.length));if(!i)break}return t?s.length:s?ae.error(e):j(e,l).slice(0)},s=ae.compile=function(e,t){var i,o=[],a=[],s=A[e+" "];if(!s){for(t||(t=r(e)),i=t.length;i--;)(s=Ce(t[i]))[_]?o.push(s):a.push(s);(s=A(e,function(e,t){var i=t.length>0,o=e.length>0,a=function(a,r,s,l,d){var u,p,g,v=0,y="0",b=a&&[],_=[],T=c,w=a||o&&n.find.TAG("*",d),k=C+=null==T?1:Math.random()||.1,j=w.length;for(d&&(c=r===f||r||d);y!==j&&null!=(u=w[y]);y++){if(o&&u){for(p=0,r||u.ownerDocument===f||(h(u),s=!m);g=e[p++];)if(g(u,r||f,s)){l.push(u);break}d&&(C=k)}i&&((u=!g&&u)&&v--,a&&b.push(u))}if(v+=y,i&&y!==v){for(p=0;g=t[p++];)g(b,_,r,s);if(a){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=S.call(l));_=_e(_)}L.apply(l,_),d&&!a&&_.length>0&&v+t.length>1&&ae.uniqueSort(l)}return d&&(C=k,c=T),b};return i?se(a):a}(a,o))).selector=e}return s},l=ae.select=function(e,t,i,o){var a,l,c,d,u,h="function"==typeof e&&e,f=!o&&r(e=h.selector||e);if(i=i||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&n.relative[l[1].type]){if(!(t=(n.find.ID(c.matches[0].replace(Z,ee),t)||[])[0]))return i;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(a=W.needsContext.test(e)?0:l.length;a--&&(c=l[a],!n.relative[d=c.type]);)if((u=n.find[d])&&(o=u(c.matches[0].replace(Z,ee),J.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(a,1),!(e=o.length&&ve(l)))return L.apply(i,o),i;break}}return(h||s(e,f))(o,t,!m,i,!t||J.test(e)&&me(t.parentNode)||t),i},i.sortStable=_.split("").sort(E).join("")===_,i.detectDuplicates=!!u,h(),i.sortDetached=le((function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ce("type|href|height|width",(function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),i.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ce("value",(function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||ce(N,(function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null})),ae}(e);g.find=C,g.expr=C.selectors,g.expr[":"]=g.expr.pseudos,g.uniqueSort=g.unique=C.uniqueSort,g.text=C.getText,g.isXMLDoc=C.isXML,g.contains=C.contains,g.escapeSelector=C.escape;var w=function(e,t,i){for(var n=[],o=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&g(e).is(i))break;n.push(e)}return n},k=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},j=g.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,I=/^.[^:#\[\.,]*$/;function x(e,t,i){return g.isFunction(t)?g.grep(e,(function(e,n){return!!t.call(e,n,e)!==i})):t.nodeType?g.grep(e,(function(e){return e===t!==i})):"string"!=typeof t?g.grep(e,(function(e){return l.call(t,e)>-1!==i})):I.test(t)?g.filter(t,e,i):(t=g.filter(t,e),g.grep(e,(function(e){return l.call(t,e)>-1!==i&&1===e.nodeType})))}g.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?g.find.matchesSelector(n,e)?[n]:[]:g.find.matches(e,g.grep(t,(function(e){return 1===e.nodeType})))},g.fn.extend({find:function(e){var t,i,n=this.length,o=this;if("string"!=typeof e)return this.pushStack(g(e).filter((function(){for(t=0;t<n;t++)if(g.contains(o[t],this))return!0})));for(i=this.pushStack([]),t=0;t<n;t++)g.find(e,o[t],i);return n>1?g.uniqueSort(i):i},filter:function(e){return this.pushStack(x(this,e||[],!1))},not:function(e){return this.pushStack(x(this,e||[],!0))},is:function(e){return!!x(this,"string"==typeof e&&j.test(e)?g(e):e||[],!1).length}});var S,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(g.fn.init=function(e,t,i){var o,a;if(!e)return this;if(i=i||S,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:D.exec(e))||!o[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof g?t[0]:t,g.merge(this,g.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:n,!0)),E.test(o[1])&&g.isPlainObject(t))for(o in t)g.isFunction(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(a=n.getElementById(o[2]))&&(this[0]=a,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g.isFunction(e)?void 0!==i.ready?i.ready(e):e(g):g.makeArray(e,this)}).prototype=g.fn,S=g(n);var L=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function Q(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}g.fn.extend({has:function(e){var t=g(e,this),i=t.length;return this.filter((function(){for(var e=0;e<i;e++)if(g.contains(this,t[e]))return!0}))},closest:function(e,t){var i,n=0,o=this.length,a=[],r="string"!=typeof e&&g(e);if(!j.test(e))for(;n<o;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&g.find.matchesSelector(i,e))){a.push(i);break}return this.pushStack(a.length>1?g.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?l.call(g(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),g.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return w(e,"parentNode")},parentsUntil:function(e,t,i){return w(e,"parentNode",i)},next:function(e){return Q(e,"nextSibling")},prev:function(e){return Q(e,"previousSibling")},nextAll:function(e){return w(e,"nextSibling")},prevAll:function(e){return w(e,"previousSibling")},nextUntil:function(e,t,i){return w(e,"nextSibling",i)},prevUntil:function(e,t,i){return w(e,"previousSibling",i)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return A(e,"iframe")?e.contentDocument:(A(e,"template")&&(e=e.content||e),g.merge([],e.childNodes))}},(function(e,t){g.fn[e]=function(i,n){var o=g.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=g.filter(n,o)),this.length>1&&(M[e]||g.uniqueSort(o),L.test(e)&&o.reverse()),this.pushStack(o)}}));var N=/[^\x20\t\r\n\f]+/g;function O(e){return e}function H(e){throw e}function P(e,t,i,n){var o;try{e&&g.isFunction(o=e.promise)?o.call(e).done(t).fail(i):e&&g.isFunction(o=e.then)?o.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}g.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return g.each(e.match(N)||[],(function(e,i){t[i]=!0})),t}(e):g.extend({},e);var t,i,n,o,a=[],r=[],s=-1,l=function(){for(o=o||e.once,n=t=!0;r.length;s=-1)for(i=r.shift();++s<a.length;)!1===a[s].apply(i[0],i[1])&&e.stopOnFalse&&(s=a.length,i=!1);e.memory||(i=!1),t=!1,o&&(a=i?[]:"")},c={add:function(){return a&&(i&&!t&&(s=a.length-1,r.push(i)),function t(i){g.each(i,(function(i,n){g.isFunction(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==g.type(n)&&t(n)}))}(arguments),i&&!t&&l()),this},remove:function(){return g.each(arguments,(function(e,t){for(var i;(i=g.inArray(t,a,i))>-1;)a.splice(i,1),i<=s&&s--})),this},has:function(e){return e?g.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=r=[],a=i="",this},disabled:function(){return!a},lock:function(){return o=r=[],i||t||(a=i=""),this},locked:function(){return!!o},fireWith:function(e,i){return o||(i=[e,(i=i||[]).slice?i.slice():i],r.push(i),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},g.extend({Deferred:function(t){var i=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return g.Deferred((function(t){g.each(i,(function(i,n){var o=g.isFunction(e[n[4]])&&e[n[4]];a[n[1]]((function(){var e=o&&o.apply(this,arguments);e&&g.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(t,n,o){var a=0;function r(t,i,n,o){return function(){var s=this,l=arguments,c=function(){var e,c;if(!(t<a)){if((e=n.apply(s,l))===i.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,g.isFunction(c)?o?c.call(e,r(a,i,O,o),r(a,i,H,o)):(a++,c.call(e,r(a,i,O,o),r(a,i,H,o),r(a,i,O,i.notifyWith))):(n!==O&&(s=void 0,l=[e]),(o||i.resolveWith)(s,l))}},d=o?c:function(){try{c()}catch(e){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(e,d.stackTrace),t+1>=a&&(n!==H&&(s=void 0,l=[e]),i.rejectWith(s,l))}};t?d():(g.Deferred.getStackHook&&(d.stackTrace=g.Deferred.getStackHook()),e.setTimeout(d))}}return g.Deferred((function(e){i[0][3].add(r(0,e,g.isFunction(o)?o:O,e.notifyWith)),i[1][3].add(r(0,e,g.isFunction(t)?t:O)),i[2][3].add(r(0,e,g.isFunction(n)?n:H))})).promise()},promise:function(e){return null!=e?g.extend(e,o):o}},a={};return g.each(i,(function(e,t){var r=t[2],s=t[5];o[t[1]]=r.add,s&&r.add((function(){n=s}),i[3-e][2].disable,i[0][2].lock),r.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=r.fireWith})),o.promise(a),t&&t.call(a,a),a},when:function(e){var t=arguments.length,i=t,n=Array(i),o=a.call(arguments),r=g.Deferred(),s=function(e){return function(i){n[e]=this,o[e]=arguments.length>1?a.call(arguments):i,--t||r.resolveWith(n,o)}};if(t<=1&&(P(e,r.done(s(i)).resolve,r.reject,!t),"pending"===r.state()||g.isFunction(o[i]&&o[i].then)))return r.then();for(;i--;)P(o[i],s(i),r.reject);return r.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&F.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},g.readyException=function(t){e.setTimeout((function(){throw t}))};var G=g.Deferred();function R(){n.removeEventListener("DOMContentLoaded",R),e.removeEventListener("load",R),g.ready()}g.fn.ready=function(e){return G.then(e).catch((function(e){g.readyException(e)})),this},g.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--g.readyWait:g.isReady)||(g.isReady=!0,!0!==e&&--g.readyWait>0||G.resolveWith(n,[g]))}}),g.ready.then=G.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?e.setTimeout(g.ready):(n.addEventListener("DOMContentLoaded",R),e.addEventListener("load",R));var U=function(e,t,i,n,o,a,r){var s=0,l=e.length,c=null==i;if("object"===g.type(i))for(s in o=!0,i)U(e,t,s,i[s],!0,a,r);else if(void 0!==n&&(o=!0,g.isFunction(n)||(r=!0),c&&(r?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(g(e),i)})),t))for(;s<l;s++)t(e[s],i,r?n:n.call(e[s],s,t(e[s],i)));return o?e:c?t.call(e):l?t(e[0],i):a},B=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function $(){this.expando=g.expando+$.uid++}$.uid=1,$.prototype={cache:function(e){var t=e[this.expando];return t||(t={},B(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,o=this.cache(e);if("string"==typeof t)o[g.camelCase(t)]=i;else for(n in t)o[g.camelCase(n)]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][g.camelCase(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(g.camelCase):(t=g.camelCase(t))in n?[t]:t.match(N)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||g.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!g.isEmptyObject(t)}};var q=new $,Y=new $,W=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,V=/[A-Z]/g;function z(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(V,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:W.test(e)?JSON.parse(e):e)}(i)}catch(e){}Y.set(e,t,i)}else i=void 0;return i}g.extend({hasData:function(e){return Y.hasData(e)||q.hasData(e)},data:function(e,t,i){return Y.access(e,t,i)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,i){return q.access(e,t,i)},_removeData:function(e,t){q.remove(e,t)}}),g.fn.extend({data:function(e,t){var i,n,o,a=this[0],r=a&&a.attributes;if(void 0===e){if(this.length&&(o=Y.get(a),1===a.nodeType&&!q.get(a,"hasDataAttrs"))){for(i=r.length;i--;)r[i]&&0===(n=r[i].name).indexOf("data-")&&(n=g.camelCase(n.slice(5)),z(a,n,o[n]));q.set(a,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){Y.set(this,e)})):U(this,(function(t){var i;if(a&&void 0===t)return void 0!==(i=Y.get(a,e))||void 0!==(i=z(a,e))?i:void 0;this.each((function(){Y.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Y.remove(this,e)}))}}),g.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=q.get(e,t),i&&(!n||Array.isArray(i)?n=q.access(e,t,g.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=g.queue(e,t),n=i.length,o=i.shift(),a=g._queueHooks(e,t);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete a.stop,o.call(e,(function(){g.dequeue(e,t)}),a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return q.get(e,i)||q.access(e,i,{empty:g.Callbacks("once memory").add((function(){q.remove(e,[t+"queue",i])}))})}}),g.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?g.queue(this[0],e):void 0===t?this:this.each((function(){var i=g.queue(this,e,t);g._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&g.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){g.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=g.Deferred(),a=this,r=this.length,s=function(){--n||o.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(i=q.get(a[r],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),o.promise(t)}});var X=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,K=new RegExp("^(?:([+-])=|)("+X+")([a-z%]*)$","i"),J=["Top","Right","Bottom","Left"],Z=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&g.contains(e.ownerDocument,e)&&"none"===g.css(e,"display")},ee=function(e,t,i,n){var o,a,r={};for(a in t)r[a]=e.style[a],e.style[a]=t[a];for(a in o=i.apply(e,n||[]),t)e.style[a]=r[a];return o};function te(e,t,i,n){var o,a=1,r=20,s=n?function(){return n.cur()}:function(){return g.css(e,t,"")},l=s(),c=i&&i[3]||(g.cssNumber[t]?"":"px"),d=(g.cssNumber[t]||"px"!==c&&+l)&&K.exec(g.css(e,t));if(d&&d[3]!==c){c=c||d[3],i=i||[],d=+l||1;do{d/=a=a||".5",g.style(e,t,d+c)}while(a!==(a=s()/l)&&1!==a&&--r)}return i&&(d=+d||+l||0,o=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=d,n.end=o)),o}var ie={};function ne(e){var t,i=e.ownerDocument,n=e.nodeName,o=ie[n];return o||(t=i.body.appendChild(i.createElement(n)),o=g.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),ie[n]=o,o)}function oe(e,t){for(var i,n,o=[],a=0,r=e.length;a<r;a++)(n=e[a]).style&&(i=n.style.display,t?("none"===i&&(o[a]=q.get(n,"display")||null,o[a]||(n.style.display="")),""===n.style.display&&Z(n)&&(o[a]=ne(n))):"none"!==i&&(o[a]="none",q.set(n,"display",i)));for(a=0;a<r;a++)null!=o[a]&&(e[a].style.display=o[a]);return e}g.fn.extend({show:function(){return oe(this,!0)},hide:function(){return oe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){Z(this)?g(this).show():g(this).hide()}))}});var ae=/^(?:checkbox|radio)$/i,re=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,se=/^$|\/(?:java|ecma)script/i,le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ce(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?g.merge([e],i):i}function de(e,t){for(var i=0,n=e.length;i<n;i++)q.set(e[i],"globalEval",!t||q.get(t[i],"globalEval"))}le.optgroup=le.option,le.tbody=le.tfoot=le.colgroup=le.caption=le.thead,le.th=le.td;var ue,he,fe=/<|&#?\w+;/;function pe(e,t,i,n,o){for(var a,r,s,l,c,d,u=t.createDocumentFragment(),h=[],f=0,p=e.length;f<p;f++)if((a=e[f])||0===a)if("object"===g.type(a))g.merge(h,a.nodeType?[a]:a);else if(fe.test(a)){for(r=r||u.appendChild(t.createElement("div")),s=(re.exec(a)||["",""])[1].toLowerCase(),l=le[s]||le._default,r.innerHTML=l[1]+g.htmlPrefilter(a)+l[2],d=l[0];d--;)r=r.lastChild;g.merge(h,r.childNodes),(r=u.firstChild).textContent=""}else h.push(t.createTextNode(a));for(u.textContent="",f=0;a=h[f++];)if(n&&g.inArray(a,n)>-1)o&&o.push(a);else if(c=g.contains(a.ownerDocument,a),r=ce(u.appendChild(a),"script"),c&&de(r),i)for(d=0;a=r[d++];)se.test(a.type||"")&&i.push(a);return u}ue=n.createDocumentFragment().appendChild(n.createElement("div")),(he=n.createElement("input")).setAttribute("type","radio"),he.setAttribute("checked","checked"),he.setAttribute("name","t"),ue.appendChild(he),p.checkClone=ue.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!ue.cloneNode(!0).lastChild.defaultValue;var me=n.documentElement,ge=/^key/,ve=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ye=/^([^.]*)(?:\.(.+)|)/;function be(){return!0}function _e(){return!1}function Te(){try{return n.activeElement}catch(e){}}function Ce(e,t,i,n,o,a){var r,s;if("object"==typeof t){for(s in"string"!=typeof i&&(n=n||i,i=void 0),t)Ce(e,s,i,n,t[s],a);return e}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=_e;else if(!o)return e;return 1===a&&(r=o,(o=function(e){return g().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=g.guid++)),e.each((function(){g.event.add(this,t,o,n,i)}))}g.event={global:{},add:function(e,t,i,n,o){var a,r,s,l,c,d,u,h,f,p,m,v=q.get(e);if(v)for(i.handler&&(i=(a=i).handler,o=a.selector),o&&g.find.matchesSelector(me,o),i.guid||(i.guid=g.guid++),(l=v.events)||(l=v.events={}),(r=v.handle)||(r=v.handle=function(t){return void 0!==g&&g.event.triggered!==t.type?g.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(N)||[""]).length;c--;)f=m=(s=ye.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f&&(u=g.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=g.event.special[f]||{},d=g.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&g.expr.match.needsContext.test(o),namespace:p.join(".")},a),(h=l[f])||((h=l[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,n,p,r)||e.addEventListener&&e.addEventListener(f,r)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),g.event.global[f]=!0)},remove:function(e,t,i,n,o){var a,r,s,l,c,d,u,h,f,p,m,v=q.hasData(e)&&q.get(e);if(v&&(l=v.events)){for(c=(t=(t||"").match(N)||[""]).length;c--;)if(f=m=(s=ye.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(u=g.event.special[f]||{},h=l[f=(n?u.delegateType:u.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=a=h.length;a--;)d=h[a],!o&&m!==d.origType||i&&i.guid!==d.guid||s&&!s.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(h.splice(a,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(e,d));r&&!h.length&&(u.teardown&&!1!==u.teardown.call(e,p,v.handle)||g.removeEvent(e,f,v.handle),delete l[f])}else for(f in l)g.event.remove(e,f+t[c],i,n,!0);g.isEmptyObject(l)&&q.remove(e,"handle events")}},dispatch:function(e){var t,i,n,o,a,r,s=g.event.fix(e),l=new Array(arguments.length),c=(q.get(this,"events")||{})[s.type]||[],d=g.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,s)){for(r=g.event.handlers.call(this,s,c),t=0;(o=r[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,i=0;(a=o.handlers[i++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,void 0!==(n=((g.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,l))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,s),s.result}},handlers:function(e,t){var i,n,o,a,r,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(a=[],r={},i=0;i<l;i++)void 0===r[o=(n=t[i]).selector+" "]&&(r[o]=n.needsContext?g(o,this).index(c)>-1:g.find(o,this,null,[c]).length),r[o]&&a.push(n);a.length&&s.push({elem:c,handlers:a})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(g.Event.prototype,e,{enumerable:!0,configurable:!0,get:g.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[g.expando]?e:new g.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Te()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Te()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ae.test(this.type)&&this.click&&A(this,"input"))return this.click(),!1},_default:function(e){return A(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},g.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},g.Event=function(e,t){if(!(this instanceof g.Event))return new g.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?be:_e,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&g.extend(this,t),this.timeStamp=e&&e.timeStamp||g.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:_e,isPropagationStopped:_e,isImmediatePropagationStopped:_e,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=be,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=be,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=be,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ge.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ve.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},g.event.addProp),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){g.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,o=e.relatedTarget,a=e.handleObj;return o&&(o===n||g.contains(n,o))||(e.type=a.origType,i=a.handler.apply(this,arguments),e.type=t),i}}})),g.fn.extend({on:function(e,t,i,n){return Ce(this,e,t,i,n)},one:function(e,t,i,n){return Ce(this,e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,g(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=_e),this.each((function(){g.event.remove(this,e,i,t)}))}});var we=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ke=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^true\/(.*)/,Ee=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ie(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&g(">tbody",e)[0]||e}function xe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Se(e){var t=Ae.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function De(e,t){var i,n,o,a,r,s,l,c;if(1===t.nodeType){if(q.hasData(e)&&(a=q.access(e),r=q.set(t,a),c=a.events))for(o in delete r.handle,r.events={},c)for(i=0,n=c[o].length;i<n;i++)g.event.add(t,o,c[o][i]);Y.hasData(e)&&(s=Y.access(e),l=g.extend({},s),Y.set(t,l))}}function Le(e,t){var i=t.nodeName.toLowerCase();"input"===i&&ae.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function Me(e,t,i,n){t=r.apply([],t);var o,a,s,l,c,d,u=0,h=e.length,f=h-1,v=t[0],y=g.isFunction(v);if(y||h>1&&"string"==typeof v&&!p.checkClone&&je.test(v))return e.each((function(o){var a=e.eq(o);y&&(t[0]=v.call(this,o,a.html())),Me(a,t,i,n)}));if(h&&(a=(o=pe(t,e[0].ownerDocument,!1,e,n)).firstChild,1===o.childNodes.length&&(o=a),a||n)){for(l=(s=g.map(ce(o,"script"),xe)).length;u<h;u++)c=o,u!==f&&(c=g.clone(c,!0,!0),l&&g.merge(s,ce(c,"script"))),i.call(e[u],c,u);if(l)for(d=s[s.length-1].ownerDocument,g.map(s,Se),u=0;u<l;u++)c=s[u],se.test(c.type||"")&&!q.access(c,"globalEval")&&g.contains(d,c)&&(c.src?g._evalUrl&&g._evalUrl(c.src):m(c.textContent.replace(Ee,""),d))}return e}function Qe(e,t,i){for(var n,o=t?g.filter(t,e):e,a=0;null!=(n=o[a]);a++)i||1!==n.nodeType||g.cleanData(ce(n)),n.parentNode&&(i&&g.contains(n.ownerDocument,n)&&de(ce(n,"script")),n.parentNode.removeChild(n));return e}g.extend({htmlPrefilter:function(e){return e.replace(we,"<$1></$2>")},clone:function(e,t,i){var n,o,a,r,s=e.cloneNode(!0),l=g.contains(e.ownerDocument,e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||g.isXMLDoc(e)))for(r=ce(s),n=0,o=(a=ce(e)).length;n<o;n++)Le(a[n],r[n]);if(t)if(i)for(a=a||ce(e),r=r||ce(s),n=0,o=a.length;n<o;n++)De(a[n],r[n]);else De(e,s);return(r=ce(s,"script")).length>0&&de(r,!l&&ce(e,"script")),s},cleanData:function(e){for(var t,i,n,o=g.event.special,a=0;void 0!==(i=e[a]);a++)if(B(i)){if(t=i[q.expando]){if(t.events)for(n in t.events)o[n]?g.event.remove(i,n):g.removeEvent(i,n,t.handle);i[q.expando]=void 0}i[Y.expando]&&(i[Y.expando]=void 0)}}}),g.fn.extend({detach:function(e){return Qe(this,e,!0)},remove:function(e){return Qe(this,e)},text:function(e){return U(this,(function(e){return void 0===e?g.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Me(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ie(this,e).appendChild(e)}))},prepend:function(){return Me(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ie(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Me(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Me(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(g.cleanData(ce(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return g.clone(this,e,t)}))},html:function(e){return U(this,(function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!le[(re.exec(e)||["",""])[1].toLowerCase()]){e=g.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(g.cleanData(ce(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Me(this,arguments,(function(t){var i=this.parentNode;g.inArray(this,e)<0&&(g.cleanData(ce(this)),i&&i.replaceChild(t,this))}),e)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){g.fn[e]=function(e){for(var i,n=[],o=g(e),a=o.length-1,r=0;r<=a;r++)i=r===a?this:this.clone(!0),g(o[r])[t](i),s.apply(n,i.get());return this.pushStack(n)}}));var Ne=/^margin/,Oe=new RegExp("^("+X+")(?!px)[a-z%]+$","i"),He=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)};function Pe(e,t,i){var n,o,a,r,s=e.style;return(i=i||He(e))&&(""!==(r=i.getPropertyValue(t)||i[t])||g.contains(e.ownerDocument,e)||(r=g.style(e,t)),!p.pixelMarginRight()&&Oe.test(r)&&Ne.test(t)&&(n=s.width,o=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=i.width,s.width=n,s.minWidth=o,s.maxWidth=a)),void 0!==r?r+"":r}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){l.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",l.innerHTML="",me.appendChild(s);var t=e.getComputedStyle(l);i="1%"!==t.top,r="2px"===t.marginLeft,o="4px"===t.width,l.style.marginRight="50%",a="4px"===t.marginRight,me.removeChild(s),l=null}}var i,o,a,r,s=n.createElement("div"),l=n.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===l.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(l),g.extend(p,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return t(),o},pixelMarginRight:function(){return t(),a},reliableMarginLeft:function(){return t(),r}}))}();var Ge=/^(none|table(?!-c[ea]).+)/,Re=/^--/,Ue={position:"absolute",visibility:"hidden",display:"block"},Be={letterSpacing:"0",fontWeight:"400"},$e=["Webkit","Moz","ms"],qe=n.createElement("div").style;function Ye(e){var t=g.cssProps[e];return t||(t=g.cssProps[e]=function(e){if(e in qe)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=$e.length;i--;)if((e=$e[i]+t)in qe)return e}(e)||e),t}function We(e,t,i){var n=K.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function Ve(e,t,i,n,o){var a,r=0;for(a=i===(n?"border":"content")?4:"width"===t?1:0;a<4;a+=2)"margin"===i&&(r+=g.css(e,i+J[a],!0,o)),n?("content"===i&&(r-=g.css(e,"padding"+J[a],!0,o)),"margin"!==i&&(r-=g.css(e,"border"+J[a]+"Width",!0,o))):(r+=g.css(e,"padding"+J[a],!0,o),"padding"!==i&&(r+=g.css(e,"border"+J[a]+"Width",!0,o)));return r}function ze(e,t,i){var n,o=He(e),a=Pe(e,t,o),r="border-box"===g.css(e,"boxSizing",!1,o);return Oe.test(a)?a:(n=r&&(p.boxSizingReliable()||a===e.style[t]),(a=parseFloat(a)||0)+Ve(e,t,i||(r?"border":"content"),n,o)+"px")}function Xe(e,t,i,n,o){return new Xe.prototype.init(e,t,i,n,o)}g.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Pe(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,r,s=g.camelCase(t),l=Re.test(t),c=e.style;if(l||(t=Ye(s)),r=g.cssHooks[t]||g.cssHooks[s],void 0===i)return r&&"get"in r&&void 0!==(o=r.get(e,!1,n))?o:c[t];"string"===(a=typeof i)&&(o=K.exec(i))&&o[1]&&(i=te(e,t,o),a="number"),null!=i&&i==i&&("number"===a&&(i+=o&&o[3]||(g.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==i||0!==t.indexOf("background")||(c[t]="inherit"),r&&"set"in r&&void 0===(i=r.set(e,i,n))||(l?c.setProperty(t,i):c[t]=i))}},css:function(e,t,i,n){var o,a,r,s=g.camelCase(t);return Re.test(t)||(t=Ye(s)),(r=g.cssHooks[t]||g.cssHooks[s])&&"get"in r&&(o=r.get(e,!0,i)),void 0===o&&(o=Pe(e,t,n)),"normal"===o&&t in Be&&(o=Be[t]),""===i||i?(a=parseFloat(o),!0===i||isFinite(a)?a||0:o):o}}),g.each(["height","width"],(function(e,t){g.cssHooks[t]={get:function(e,i,n){if(i)return!Ge.test(g.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ze(e,t,n):ee(e,Ue,(function(){return ze(e,t,n)}))},set:function(e,i,n){var o,a=n&&He(e),r=n&&Ve(e,t,n,"border-box"===g.css(e,"boxSizing",!1,a),a);return r&&(o=K.exec(i))&&"px"!==(o[3]||"px")&&(e.style[t]=i,i=g.css(e,t)),We(0,i,r)}}})),g.cssHooks.marginLeft=Fe(p.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Pe(e,"marginLeft"))||e.getBoundingClientRect().left-ee(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),g.each({margin:"",padding:"",border:"Width"},(function(e,t){g.cssHooks[e+t]={expand:function(i){for(var n=0,o={},a="string"==typeof i?i.split(" "):[i];n<4;n++)o[e+J[n]+t]=a[n]||a[n-2]||a[0];return o}},Ne.test(e)||(g.cssHooks[e+t].set=We)})),g.fn.extend({css:function(e,t){return U(this,(function(e,t,i){var n,o,a={},r=0;if(Array.isArray(t)){for(n=He(e),o=t.length;r<o;r++)a[t[r]]=g.css(e,t[r],!1,n);return a}return void 0!==i?g.style(e,t,i):g.css(e,t)}),e,t,arguments.length>1)}}),g.Tween=Xe,Xe.prototype={constructor:Xe,init:function(e,t,i,n,o,a){this.elem=e,this.prop=i,this.easing=o||g.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(g.cssNumber[i]?"":"px")},cur:function(){var e=Xe.propHooks[this.prop];return e&&e.get?e.get(this):Xe.propHooks._default.get(this)},run:function(e){var t,i=Xe.propHooks[this.prop];return this.options.duration?this.pos=t=g.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Xe.propHooks._default.set(this),this}},Xe.prototype.init.prototype=Xe.prototype,Xe.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=g.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){g.fx.step[e.prop]?g.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[g.cssProps[e.prop]]&&!g.cssHooks[e.prop]?e.elem[e.prop]=e.now:g.style(e.elem,e.prop,e.now+e.unit)}}},Xe.propHooks.scrollTop=Xe.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},g.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},g.fx=Xe.prototype.init,g.fx.step={};var Ke,Je,Ze=/^(?:toggle|show|hide)$/,et=/queueHooks$/;function tt(){Je&&(!1===n.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(tt):e.setTimeout(tt,g.fx.interval),g.fx.tick())}function it(){return e.setTimeout((function(){Ke=void 0})),Ke=g.now()}function nt(e,t){var i,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)o["margin"+(i=J[n])]=o["padding"+i]=e;return t&&(o.opacity=o.width=e),o}function ot(e,t,i){for(var n,o=(at.tweeners[t]||[]).concat(at.tweeners["*"]),a=0,r=o.length;a<r;a++)if(n=o[a].call(i,t,e))return n}function at(e,t,i){var n,o,a=0,r=at.prefilters.length,s=g.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=Ke||it(),i=Math.max(0,c.startTime+c.duration-t),n=1-(i/c.duration||0),a=0,r=c.tweens.length;a<r;a++)c.tweens[a].run(n);return s.notifyWith(e,[c,n,i]),n<1&&r?i:(r||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:g.extend({},t),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},i),originalProperties:t,originalOptions:i,startTime:Ke||it(),duration:i.duration,tweens:[],createTween:function(t,i){var n=g.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)c.tweens[i].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),d=c.props;for(!function(e,t){var i,n,o,a,r;for(i in e)if(o=t[n=g.camelCase(i)],a=e[i],Array.isArray(a)&&(o=a[1],a=e[i]=a[0]),i!==n&&(e[n]=a,delete e[i]),(r=g.cssHooks[n])&&"expand"in r)for(i in a=r.expand(a),delete e[n],a)i in e||(e[i]=a[i],t[i]=o);else t[n]=o}(d,c.opts.specialEasing);a<r;a++)if(n=at.prefilters[a].call(c,e,d,c.opts))return g.isFunction(n.stop)&&(g._queueHooks(c.elem,c.opts.queue).stop=g.proxy(n.stop,n)),n;return g.map(d,ot,c),g.isFunction(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),g.fx.timer(g.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}g.Animation=g.extend(at,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return te(i.elem,e,K.exec(t),i),i}]},tweener:function(e,t){g.isFunction(e)?(t=e,e=["*"]):e=e.match(N);for(var i,n=0,o=e.length;n<o;n++)i=e[n],at.tweeners[i]=at.tweeners[i]||[],at.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,o,a,r,s,l,c,d,u="width"in t||"height"in t,h=this,f={},p=e.style,m=e.nodeType&&Z(e),v=q.get(e,"fxshow");for(n in i.queue||(null==(r=g._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,s=r.empty.fire,r.empty.fire=function(){r.unqueued||s()}),r.unqueued++,h.always((function(){h.always((function(){r.unqueued--,g.queue(e,"fx").length||r.empty.fire()}))}))),t)if(o=t[n],Ze.test(o)){if(delete t[n],a=a||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!v||void 0===v[n])continue;m=!0}f[n]=v&&v[n]||g.style(e,n)}if((l=!g.isEmptyObject(t))||!g.isEmptyObject(f))for(n in u&&1===e.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=v&&v.display)&&(c=q.get(e,"display")),"none"===(d=g.css(e,"display"))&&(c?d=c:(oe([e],!0),c=e.style.display||c,d=g.css(e,"display"),oe([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===g.css(e,"float")&&(l||(h.done((function(){p.display=c})),null==c&&(d=p.display,c="none"===d?"":d)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",h.always((function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}))),l=!1,f)l||(v?"hidden"in v&&(m=v.hidden):v=q.access(e,"fxshow",{display:c}),a&&(v.hidden=!m),m&&oe([e],!0),h.done((function(){for(n in m||oe([e]),q.remove(e,"fxshow"),f)g.style(e,n,f[n])}))),l=ot(m?v[n]:0,n,h),n in v||(v[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?at.prefilters.unshift(e):at.prefilters.push(e)}}),g.speed=function(e,t,i){var n=e&&"object"==typeof e?g.extend({},e):{complete:i||!i&&t||g.isFunction(e)&&e,duration:e,easing:i&&t||t&&!g.isFunction(t)&&t};return g.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in g.fx.speeds?n.duration=g.fx.speeds[n.duration]:n.duration=g.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){g.isFunction(n.old)&&n.old.call(this),n.queue&&g.dequeue(this,n.queue)},n},g.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Z).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=g.isEmptyObject(e),a=g.speed(t,i,n),r=function(){var t=at(this,g.extend({},e),a);(o||q.get(this,"finish"))&&t.stop(!0)};return r.finish=r,o||!1===a.queue?this.each(r):this.queue(a.queue,r)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",a=g.timers,r=q.get(this);if(o)r[o]&&r[o].stop&&n(r[o]);else for(o in r)r[o]&&r[o].stop&&et.test(o)&&n(r[o]);for(o=a.length;o--;)a[o].elem!==this||null!=e&&a[o].queue!==e||(a[o].anim.stop(i),t=!1,a.splice(o,1));!t&&i||g.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,i=q.get(this),n=i[e+"queue"],o=i[e+"queueHooks"],a=g.timers,r=n?n.length:0;for(i.finish=!0,g.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<r;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish}))}}),g.each(["toggle","show","hide"],(function(e,t){var i=g.fn[t];g.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(nt(t,!0),e,n,o)}})),g.each({slideDown:nt("show"),slideUp:nt("hide"),slideToggle:nt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){g.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}})),g.timers=[],g.fx.tick=function(){var e,t=0,i=g.timers;for(Ke=g.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||g.fx.stop(),Ke=void 0},g.fx.timer=function(e){g.timers.push(e),g.fx.start()},g.fx.interval=13,g.fx.start=function(){Je||(Je=!0,tt())},g.fx.stop=function(){Je=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(t,i){return t=g.fx&&g.fx.speeds[t]||t,i=i||"fx",this.queue(i,(function(i,n){var o=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(o)}}))},function(){var e=n.createElement("input"),t=n.createElement("select").appendChild(n.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=t.selected,(e=n.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var rt,st=g.expr.attrHandle;g.fn.extend({attr:function(e,t){return U(this,g.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){g.removeAttr(this,e)}))}}),g.extend({attr:function(e,t,i){var n,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?g.prop(e,t,i):(1===a&&g.isXMLDoc(e)||(o=g.attrHooks[t.toLowerCase()]||(g.expr.match.bool.test(t)?rt:void 0)),void 0!==i?null===i?void g.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:(e.setAttribute(t,i+""),i):o&&"get"in o&&null!==(n=o.get(e,t))?n:null==(n=g.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&A(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,o=t&&t.match(N);if(o&&1===e.nodeType)for(;i=o[n++];)e.removeAttribute(i)}}),rt={set:function(e,t,i){return!1===t?g.removeAttr(e,i):e.setAttribute(i,i),i}},g.each(g.expr.match.bool.source.match(/\w+/g),(function(e,t){var i=st[t]||g.find.attr;st[t]=function(e,t,n){var o,a,r=t.toLowerCase();return n||(a=st[r],st[r]=o,o=null!=i(e,t,n)?r:null,st[r]=a),o}}));var lt=/^(?:input|select|textarea|button)$/i,ct=/^(?:a|area)$/i;function dt(e){return(e.match(N)||[]).join(" ")}function ut(e){return e.getAttribute&&e.getAttribute("class")||""}g.fn.extend({prop:function(e,t){return U(this,g.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[g.propFix[e]||e]}))}}),g.extend({prop:function(e,t,i){var n,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&g.isXMLDoc(e)||(t=g.propFix[t]||t,o=g.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=g.find.attr(e,"tabindex");return t?parseInt(t,10):lt.test(e.nodeName)||ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(g.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){g.propFix[this.toLowerCase()]=this})),g.fn.extend({addClass:function(e){var t,i,n,o,a,r,s,l=0;if(g.isFunction(e))return this.each((function(t){g(this).addClass(e.call(this,t,ut(this)))}));if("string"==typeof e&&e)for(t=e.match(N)||[];i=this[l++];)if(o=ut(i),n=1===i.nodeType&&" "+dt(o)+" "){for(r=0;a=t[r++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");o!==(s=dt(n))&&i.setAttribute("class",s)}return this},removeClass:function(e){var t,i,n,o,a,r,s,l=0;if(g.isFunction(e))return this.each((function(t){g(this).removeClass(e.call(this,t,ut(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(N)||[];i=this[l++];)if(o=ut(i),n=1===i.nodeType&&" "+dt(o)+" "){for(r=0;a=t[r++];)for(;n.indexOf(" "+a+" ")>-1;)n=n.replace(" "+a+" "," ");o!==(s=dt(n))&&i.setAttribute("class",s)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):g.isFunction(e)?this.each((function(i){g(this).toggleClass(e.call(this,i,ut(this),t),t)})):this.each((function(){var t,n,o,a;if("string"===i)for(n=0,o=g(this),a=e.match(N)||[];t=a[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==i||((t=ut(this))&&q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":q.get(this,"__className__")||""))}))},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+dt(ut(i))+" ").indexOf(t)>-1)return!0;return!1}});var ht=/\r/g;g.fn.extend({val:function(e){var t,i,n,o=this[0];return arguments.length?(n=g.isFunction(e),this.each((function(i){var o;1===this.nodeType&&(null==(o=n?e.call(this,i,g(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=g.map(o,(function(e){return null==e?"":e+""}))),(t=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=g.valHooks[o.type]||g.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(o,"value"))?i:"string"==typeof(i=o.value)?i.replace(ht,""):null==i?"":i:void 0}}),g.extend({valHooks:{option:{get:function(e){var t=g.find.attr(e,"value");return null!=t?t:dt(g.text(e))}},select:{get:function(e){var t,i,n,o=e.options,a=e.selectedIndex,r="select-one"===e.type,s=r?null:[],l=r?a+1:o.length;for(n=a<0?l:r?a:0;n<l;n++)if(((i=o[n]).selected||n===a)&&!i.disabled&&(!i.parentNode.disabled||!A(i.parentNode,"optgroup"))){if(t=g(i).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var i,n,o=e.options,a=g.makeArray(t),r=o.length;r--;)((n=o[r]).selected=g.inArray(g.valHooks.option.get(n),a)>-1)&&(i=!0);return i||(e.selectedIndex=-1),a}}}}),g.each(["radio","checkbox"],(function(){g.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=g.inArray(g(e).val(),t)>-1}},p.checkOn||(g.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var ft=/^(?:focusinfocus|focusoutblur)$/;g.extend(g.event,{trigger:function(t,i,o,a){var r,s,l,c,d,h,f,p=[o||n],m=u.call(t,"type")?t.type:t,v=u.call(t,"namespace")?t.namespace.split("."):[];if(s=l=o=o||n,3!==o.nodeType&&8!==o.nodeType&&!ft.test(m+g.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),d=m.indexOf(":")<0&&"on"+m,(t=t[g.expando]?t:new g.Event(m,"object"==typeof t&&t)).isTrigger=a?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),i=null==i?[t]:g.makeArray(i,[t]),f=g.event.special[m]||{},a||!f.trigger||!1!==f.trigger.apply(o,i))){if(!a&&!f.noBubble&&!g.isWindow(o)){for(c=f.delegateType||m,ft.test(c+m)||(s=s.parentNode);s;s=s.parentNode)p.push(s),l=s;l===(o.ownerDocument||n)&&p.push(l.defaultView||l.parentWindow||e)}for(r=0;(s=p[r++])&&!t.isPropagationStopped();)t.type=r>1?c:f.bindType||m,(h=(q.get(s,"events")||{})[t.type]&&q.get(s,"handle"))&&h.apply(s,i),(h=d&&s[d])&&h.apply&&B(s)&&(t.result=h.apply(s,i),!1===t.result&&t.preventDefault());return t.type=m,a||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),i)||!B(o)||d&&g.isFunction(o[m])&&!g.isWindow(o)&&((l=o[d])&&(o[d]=null),g.event.triggered=m,o[m](),g.event.triggered=void 0,l&&(o[d]=l)),t.result}},simulate:function(e,t,i){var n=g.extend(new g.Event,i,{type:e,isSimulated:!0});g.event.trigger(n,null,t)}}),g.fn.extend({trigger:function(e,t){return this.each((function(){g.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var i=this[0];if(i)return g.event.trigger(e,t,i,!0)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){g.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}})),g.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),p.focusin="onfocusin"in e,p.focusin||g.each({focus:"focusin",blur:"focusout"},(function(e,t){var i=function(e){g.event.simulate(t,e.target,g.event.fix(e))};g.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=q.access(n,t);o||n.addEventListener(e,i,!0),q.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=q.access(n,t)-1;o?q.access(n,t,o):(n.removeEventListener(e,i,!0),q.remove(n,t))}}}));var pt=e.location,mt=g.now(),gt=/\?/;g.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+t),i};var vt=/\[\]$/,yt=/\r?\n/g,bt=/^(?:submit|button|image|reset|file)$/i,_t=/^(?:input|select|textarea|keygen)/i;function Tt(e,t,i,n){var o;if(Array.isArray(t))g.each(t,(function(t,o){i||vt.test(e)?n(e,o):Tt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,i,n)}));else if(i||"object"!==g.type(t))n(e,t);else for(o in t)Tt(e+"["+o+"]",t[o],i,n)}g.param=function(e,t){var i,n=[],o=function(e,t){var i=g.isFunction(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(e)||e.jquery&&!g.isPlainObject(e))g.each(e,(function(){o(this.name,this.value)}));else for(i in e)Tt(i,e[i],t,o);return n.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=g.prop(this,"elements");return e?g.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!g(this).is(":disabled")&&_t.test(this.nodeName)&&!bt.test(e)&&(this.checked||!ae.test(e))})).map((function(e,t){var i=g(this).val();return null==i?null:Array.isArray(i)?g.map(i,(function(e){return{name:t.name,value:e.replace(yt,"\r\n")}})):{name:t.name,value:i.replace(yt,"\r\n")}})).get()}});var Ct=/%20/g,wt=/#.*$/,kt=/([?&])_=[^&]*/,jt=/^(.*?):[ \t]*([^\r\n]*)$/gm,At=/^(?:GET|HEAD)$/,Et=/^\/\//,It={},xt={},St="*/".concat("*"),Dt=n.createElement("a");function Lt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,a=t.toLowerCase().match(N)||[];if(g.isFunction(i))for(;n=a[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Mt(e,t,i,n){var o={},a=e===xt;function r(s){var l;return o[s]=!0,g.each(e[s]||[],(function(e,s){var c=s(t,i,n);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)})),l}return r(t.dataTypes[0])||!o["*"]&&r("*")}function Qt(e,t){var i,n,o=g.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&g.extend(!0,e,n),e}Dt.href=pt.href,g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(pt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":St,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Qt(Qt(e,g.ajaxSettings),t):Qt(g.ajaxSettings,e)},ajaxPrefilter:Lt(It),ajaxTransport:Lt(xt),ajax:function(t,i){"object"==typeof t&&(i=t,t=void 0),i=i||{};var o,a,r,s,l,c,d,u,h,f,p=g.ajaxSetup({},i),m=p.context||p,v=p.context&&(m.nodeType||m.jquery)?g(m):g.event,y=g.Deferred(),b=g.Callbacks("once memory"),_=p.statusCode||{},T={},C={},w="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(d){if(!s)for(s={};t=jt.exec(r);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return d?r:null},setRequestHeader:function(e,t){return null==d&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,T[e]=t),this},overrideMimeType:function(e){return null==d&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(d)k.always(e[k.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||w;return o&&o.abort(t),j(0,t),this}};if(y.promise(k),p.url=((t||p.url||pt.href)+"").replace(Et,pt.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(N)||[""],null==p.crossDomain){c=n.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Dt.protocol+"//"+Dt.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=g.param(p.data,p.traditional)),Mt(It,p,i,k),d)return k;for(h in(u=g.event&&p.global)&&0==g.active++&&g.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!At.test(p.type),a=p.url.replace(wt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ct,"+")):(f=p.url.slice(a.length),p.data&&(a+=(gt.test(a)?"&":"?")+p.data,delete p.data),!1===p.cache&&(a=a.replace(kt,"$1"),f=(gt.test(a)?"&":"?")+"_="+mt+++f),p.url=a+f),p.ifModified&&(g.lastModified[a]&&k.setRequestHeader("If-Modified-Since",g.lastModified[a]),g.etag[a]&&k.setRequestHeader("If-None-Match",g.etag[a])),(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+St+"; q=0.01":""):p.accepts["*"]),p.headers)k.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,k,p)||d))return k.abort();if(w="abort",b.add(p.complete),k.done(p.success),k.fail(p.error),o=Mt(xt,p,i,k)){if(k.readyState=1,u&&v.trigger("ajaxSend",[k,p]),d)return k;p.async&&p.timeout>0&&(l=e.setTimeout((function(){k.abort("timeout")}),p.timeout));try{d=!1,o.send(T,j)}catch(e){if(d)throw e;j(-1,e)}}else j(-1,"No Transport");function j(t,i,n,s){var c,h,f,T,C,w=i;d||(d=!0,l&&e.clearTimeout(l),o=void 0,r=s||"",k.readyState=t>0?4:0,c=t>=200&&t<300||304===t,n&&(T=function(e,t,i){for(var n,o,a,r,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in s)if(s[o]&&s[o].test(n)){l.unshift(o);break}if(l[0]in i)a=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){a=o;break}r||(r=o)}a=a||r}if(a)return a!==l[0]&&l.unshift(a),i[a]}(p,k,n)),T=function(e,t,i,n){var o,a,r,s,l,c={},d=e.dataTypes.slice();if(d[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(a=d.shift();a;)if(e.responseFields[a]&&(i[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=d.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(r=c[l+" "+a]||c["* "+a]))for(o in c)if((s=o.split(" "))[1]===a&&(r=c[l+" "+s[0]]||c["* "+s[0]])){!0===r?r=c[o]:!0!==c[o]&&(a=s[0],d.unshift(s[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(p,T,k,c),c?(p.ifModified&&((C=k.getResponseHeader("Last-Modified"))&&(g.lastModified[a]=C),(C=k.getResponseHeader("etag"))&&(g.etag[a]=C)),204===t||"HEAD"===p.type?w="nocontent":304===t?w="notmodified":(w=T.state,h=T.data,c=!(f=T.error))):(f=w,!t&&w||(w="error",t<0&&(t=0))),k.status=t,k.statusText=(i||w)+"",c?y.resolveWith(m,[h,w,k]):y.rejectWith(m,[k,w,f]),k.statusCode(_),_=void 0,u&&v.trigger(c?"ajaxSuccess":"ajaxError",[k,p,c?h:f]),b.fireWith(m,[k,w]),u&&(v.trigger("ajaxComplete",[k,p]),--g.active||g.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,i){return g.get(e,t,i,"json")},getScript:function(e,t){return g.get(e,void 0,t,"script")}}),g.each(["get","post"],(function(e,t){g[t]=function(e,i,n,o){return g.isFunction(i)&&(o=o||n,n=i,i=void 0),g.ajax(g.extend({url:e,type:t,dataType:o,data:i,success:n},g.isPlainObject(e)&&e))}})),g._evalUrl=function(e){return g.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},g.fn.extend({wrapAll:function(e){var t;return this[0]&&(g.isFunction(e)&&(e=e.call(this[0])),t=g(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return g.isFunction(e)?this.each((function(t){g(this).wrapInner(e.call(this,t))})):this.each((function(){var t=g(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g.isFunction(e);return this.each((function(i){g(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){g(this).replaceWith(this.childNodes)})),this}}),g.expr.pseudos.hidden=function(e){return!g.expr.pseudos.visible(e)},g.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Nt={0:200,1223:204},Ot=g.ajaxSettings.xhr();p.cors=!!Ot&&"withCredentials"in Ot,p.ajax=Ot=!!Ot,g.ajaxTransport((function(t){var i,n;if(p.cors||Ot&&!t.crossDomain)return{send:function(o,a){var r,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)s[r]=t.xhrFields[r];for(r in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(r,o[r]);i=function(e){return function(){i&&(i=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Nt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=i(),n=s.onerror=i("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){i&&n()}))},i=i("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}})),g.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return g.globalEval(e),e}}}),g.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),g.ajaxTransport("script",(function(e){var t,i;if(e.crossDomain)return{send:function(o,a){t=g("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&a("error"===e.type?404:200,e.type)}),n.head.appendChild(t[0])},abort:function(){i&&i()}}}));var Ht,Pt=[],Ft=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Pt.pop()||g.expando+"_"+mt++;return this[e]=!0,e}}),g.ajaxPrefilter("json jsonp",(function(t,i,n){var o,a,r,s=!1!==t.jsonp&&(Ft.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ft.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=g.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ft,"$1"+o):!1!==t.jsonp&&(t.url+=(gt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return r||g.error(o+" was not called"),r[0]},t.dataTypes[0]="json",a=e[o],e[o]=function(){r=arguments},n.always((function(){void 0===a?g(e).removeProp(o):e[o]=a,t[o]&&(t.jsonpCallback=i.jsonpCallback,Pt.push(o)),r&&g.isFunction(a)&&a(r[0]),r=a=void 0})),"script"})),p.createHTMLDocument=((Ht=n.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ht.childNodes.length),g.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(p.createHTMLDocument?((o=(t=n.implementation.createHTMLDocument("")).createElement("base")).href=n.location.href,t.head.appendChild(o)):t=n),r=!i&&[],(a=E.exec(e))?[t.createElement(a[1])]:(a=pe([e],t,r),r&&r.length&&g(r).remove(),g.merge([],a.childNodes)));var o,a,r},g.fn.load=function(e,t,i){var n,o,a,r=this,s=e.indexOf(" ");return s>-1&&(n=dt(e.slice(s)),e=e.slice(0,s)),g.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),r.length>0&&g.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){a=arguments,r.html(n?g("<div>").append(g.parseHTML(e)).find(n):e)})).always(i&&function(e,t){r.each((function(){i.apply(this,a||[e.responseText,t,e])}))}),this},g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){g.fn[t]=function(e){return this.on(t,e)}})),g.expr.pseudos.animated=function(e){return g.grep(g.timers,(function(t){return e===t.elem})).length},g.offset={setOffset:function(e,t,i){var n,o,a,r,s,l,c=g.css(e,"position"),d=g(e),u={};"static"===c&&(e.style.position="relative"),s=d.offset(),a=g.css(e,"top"),l=g.css(e,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(r=(n=d.position()).top,o=n.left):(r=parseFloat(a)||0,o=parseFloat(l)||0),g.isFunction(t)&&(t=t.call(e,i,g.extend({},s))),null!=t.top&&(u.top=t.top-s.top+r),null!=t.left&&(u.left=t.left-s.left+o),"using"in t?t.using.call(e,u):d.css(u)}},g.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){g.offset.setOffset(this,e,t)}));var t,i,n,o,a=this[0];return a?a.getClientRects().length?(n=a.getBoundingClientRect(),i=(t=a.ownerDocument).documentElement,o=t.defaultView,{top:n.top+o.pageYOffset-i.clientTop,left:n.left+o.pageXOffset-i.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===g.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),A(e[0],"html")||(n=e.offset()),n={top:n.top+g.css(e[0],"borderTopWidth",!0),left:n.left+g.css(e[0],"borderLeftWidth",!0)}),{top:t.top-n.top-g.css(i,"marginTop",!0),left:t.left-n.left-g.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===g.css(e,"position");)e=e.offsetParent;return e||me}))}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var i="pageYOffset"===t;g.fn[e]=function(n){return U(this,(function(e,n,o){var a;if(g.isWindow(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===o)return a?a[t]:e[n];a?a.scrollTo(i?a.pageXOffset:o,i?o:a.pageYOffset):e[n]=o}),e,n,arguments.length)}})),g.each(["top","left"],(function(e,t){g.cssHooks[t]=Fe(p.pixelPosition,(function(e,i){if(i)return i=Pe(e,t),Oe.test(i)?g(e).position()[t]+"px":i}))})),g.each({Height:"height",Width:"width"},(function(e,t){g.each({padding:"inner"+e,content:t,"":"outer"+e},(function(i,n){g.fn[n]=function(o,a){var r=arguments.length&&(i||"boolean"!=typeof o),s=i||(!0===o||!0===a?"margin":"border");return U(this,(function(t,i,o){var a;return g.isWindow(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===o?g.css(t,i,s):g.style(t,i,o,s)}),t,r?o:void 0,r)}}))})),g.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},holdReady:function(e){e?g.readyWait++:g.ready(!0)}}),g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=A,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return g}));var Gt=e.jQuery,Rt=e.$;return g.noConflict=function(t){return e.$===g&&(e.$=Rt),t&&e.jQuery===g&&(e.jQuery=Gt),g},t||(e.jQuery=e.$=g),g})),function e(t,i,n){function o(r,s){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[r]={exports:{}};t[r][0].call(d.exports,(function(e){var i=t[r][1][e];return o(i||e)}),d,d.exports,e,t,i,n)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(e,t,i){"use strict";var n=e("../main"),o=e("../plugin/instances");function a(e){e.fn.perfectScrollbar=function(e){return this.each((function(){if("object"==typeof e||void 0===e){var t=e;o.get(this)||n.initialize(this,t)}else{var i=e;"update"===i?n.update(this):"destroy"===i&&n.destroy(this)}}))}}if("function"==typeof define&&define.amd)define(["jquery"],a);else{var r=window.jQuery?window.jQuery:window.$;void 0!==r&&a(r)}t.exports=a},{"../main":7,"../plugin/instances":18}],2:[function(e,t,i){"use strict";i.add=function(e,t){e.classList?e.classList.add(t):function(e,t){var i=e.className.split(" ");i.indexOf(t)<0&&i.push(t),e.className=i.join(" ")}(e,t)},i.remove=function(e,t){e.classList?e.classList.remove(t):function(e,t){var i=e.className.split(" "),n=i.indexOf(t);n>=0&&i.splice(n,1),e.className=i.join(" ")}(e,t)},i.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},{}],3:[function(e,t,i){"use strict";var n={};n.e=function(e,t){var i=document.createElement(e);return i.className=t,i},n.appendTo=function(e,t){return t.appendChild(e),e},n.css=function(e,t,i){return"object"==typeof t?function(e,t){for(var i in t){var n=t[i];"number"==typeof n&&(n=n.toString()+"px"),e.style[i]=n}return e}(e,t):void 0===i?function(e,t){return window.getComputedStyle(e)[t]}(e,t):function(e,t,i){return"number"==typeof i&&(i=i.toString()+"px"),e.style[t]=i,e}(e,t,i)},n.matches=function(e,t){return void 0!==e.matches?e.matches(t):void 0!==e.matchesSelector?e.matchesSelector(t):void 0!==e.webkitMatchesSelector?e.webkitMatchesSelector(t):void 0!==e.mozMatchesSelector?e.mozMatchesSelector(t):void 0!==e.msMatchesSelector?e.msMatchesSelector(t):void 0},n.remove=function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},n.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,(function(e){return n.matches(e,t)}))},t.exports=n},{}],4:[function(e,t,i){"use strict";var n=function(e){this.element=e,this.events={}};n.prototype.bind=function(e,t){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},n.prototype.unbind=function(e,t){var i=void 0!==t;this.events[e]=this.events[e].filter((function(n){return!(!i||n===t)||(this.element.removeEventListener(e,n,!1),!1)}),this)},n.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var o=function(){this.eventElements=[]};o.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return void 0===t&&(t=new n(e),this.eventElements.push(t)),t},o.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)},o.prototype.unbind=function(e,t,i){this.eventElement(e).unbind(t,i)},o.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},o.prototype.once=function(e,t,i){var n=this.eventElement(e),o=function(e){n.unbind(t,o),i(e)};n.bind(t,o)},t.exports=o},{}],5:[function(e,t,i){"use strict";t.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},{}],6:[function(e,t,i){"use strict";var n=e("./class"),o=e("./dom"),a=i.toInt=function(e){return parseInt(e,10)||0},r=i.clone=function(e){if(e){if(e.constructor===Array)return e.map(r);if("object"==typeof e){var t={};for(var i in e)t[i]=r(e[i]);return t}return e}return null};i.extend=function(e,t){var i=r(e);for(var n in t)i[n]=r(t[n]);return i},i.isEditable=function(e){return o.matches(e,"input,[contenteditable]")||o.matches(e,"select,[contenteditable]")||o.matches(e,"textarea,[contenteditable]")||o.matches(e,"button,[contenteditable]")},i.removePsClasses=function(e){for(var t=n.list(e),i=0;i<t.length;i++){var o=t[i];0===o.indexOf("ps-")&&n.remove(e,o)}},i.outerWidth=function(e){return a(o.css(e,"width"))+a(o.css(e,"paddingLeft"))+a(o.css(e,"paddingRight"))+a(o.css(e,"borderLeftWidth"))+a(o.css(e,"borderRightWidth"))},i.startScrolling=function(e,t){n.add(e,"ps-in-scrolling"),void 0!==t?n.add(e,"ps-"+t):(n.add(e,"ps-x"),n.add(e,"ps-y"))},i.stopScrolling=function(e,t){n.remove(e,"ps-in-scrolling"),void 0!==t?n.remove(e,"ps-"+t):(n.remove(e,"ps-x"),n.remove(e,"ps-y"))},i.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(e,t,i){"use strict";var n=e("./plugin/destroy"),o=e("./plugin/initialize"),a=e("./plugin/update");t.exports={initialize:o,update:a,destroy:n}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(e,t,i){"use strict";t.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(e,t,i){"use strict";var n=e("../lib/helper"),o=e("../lib/dom"),a=e("./instances");t.exports=function(e){var t=a.get(e);t&&(t.event.unbindAll(),o.remove(t.scrollbarX),o.remove(t.scrollbarY),o.remove(t.scrollbarXRail),o.remove(t.scrollbarYRail),n.removePsClasses(e),a.remove(e))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(e,t,i){"use strict";var n=e("../instances"),o=e("../update-geometry"),a=e("../update-scroll");t.exports=function(e){!function(e,t){function i(e){return e.getBoundingClientRect()}var n=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",n),t.event.bind(t.scrollbarYRail,"click",(function(n){var r=n.pageY-window.pageYOffset-i(t.scrollbarYRail).top>t.scrollbarYTop?1:-1;a(e,"top",e.scrollTop+r*t.containerHeight),o(e),n.stopPropagation()})),t.event.bind(t.scrollbarX,"click",n),t.event.bind(t.scrollbarXRail,"click",(function(n){var r=n.pageX-window.pageXOffset-i(t.scrollbarXRail).left>t.scrollbarXLeft?1:-1;a(e,"left",e.scrollLeft+r*t.containerWidth),o(e),n.stopPropagation()}))}(e,n.get(e))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(e,t,i){"use strict";var n=e("../../lib/helper"),o=e("../../lib/dom"),a=e("../instances"),r=e("../update-geometry"),s=e("../update-scroll");function l(e,t){var i=null,a=null;var l=function(o){!function(o){var a=i+o*t.railXRatio,r=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=a<0?0:a>r?r:a;var l=n.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;s(e,"left",l)}(o.pageX-a),r(e),o.stopPropagation(),o.preventDefault()},c=function(){n.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",l)};t.event.bind(t.scrollbarX,"mousedown",(function(r){a=r.pageX,i=n.toInt(o.css(t.scrollbarX,"left"))*t.railXRatio,n.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",l),t.event.once(t.ownerDocument,"mouseup",c),r.stopPropagation(),r.preventDefault()}))}function c(e,t){var i=null,a=null;var l=function(o){!function(o){var a=i+o*t.railYRatio,r=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=a<0?0:a>r?r:a;var l=n.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));s(e,"top",l)}(o.pageY-a),r(e),o.stopPropagation(),o.preventDefault()},c=function(){n.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",l)};t.event.bind(t.scrollbarY,"mousedown",(function(r){a=r.pageY,i=n.toInt(o.css(t.scrollbarY,"top"))*t.railYRatio,n.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",l),t.event.once(t.ownerDocument,"mouseup",c),r.stopPropagation(),r.preventDefault()}))}t.exports=function(e){var t=a.get(e);l(e,t),c(e,t)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(e,t,i){"use strict";var n=e("../../lib/helper"),o=e("../../lib/dom"),a=e("../instances"),r=e("../update-geometry"),s=e("../update-scroll");function l(e,t){var i=!1;t.event.bind(e,"mouseenter",(function(){i=!0})),t.event.bind(e,"mouseleave",(function(){i=!1}));t.event.bind(t.ownerDocument,"keydown",(function(a){if(!(a.isDefaultPrevented&&a.isDefaultPrevented()||a.defaultPrevented)){var l=o.matches(t.scrollbarX,":focus")||o.matches(t.scrollbarY,":focus");if(i||l){var c=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(c){if("IFRAME"===c.tagName)c=c.contentDocument.activeElement;else for(;c.shadowRoot;)c=c.shadowRoot.activeElement;if(n.isEditable(c))return}var d=0,u=0;switch(a.which){case 37:d=a.metaKey?-t.contentWidth:a.altKey?-t.containerWidth:-30;break;case 38:u=a.metaKey?t.contentHeight:a.altKey?t.containerHeight:30;break;case 39:d=a.metaKey?t.contentWidth:a.altKey?t.containerWidth:30;break;case 40:u=a.metaKey?-t.contentHeight:a.altKey?-t.containerHeight:-30;break;case 33:u=90;break;case 32:u=a.shiftKey?90:-90;break;case 34:u=-90;break;case 35:u=a.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:u=a.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}s(e,"top",e.scrollTop-u),s(e,"left",e.scrollLeft+d),r(e),function(i,n){var o=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===o&&n>0||o>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var a=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===a&&i<0||a>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}(d,u)&&a.preventDefault()}}}))}t.exports=function(e){l(e,a.get(e))}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(e,t,i){"use strict";var n=e("../instances"),o=e("../update-geometry"),a=e("../update-scroll");function r(e,t){var i=!1;function n(n){var r=function(e){var t=e.deltaX,i=-1*e.deltaY;return void 0!==t&&void 0!==i||(t=-1*e.wheelDeltaX/6,i=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,i*=10),t!=t&&i!=i&&(t=0,i=e.wheelDelta),e.shiftKey?[-i,-t]:[t,i]}(n),s=r[0],l=r[1];(function(t,i){var n=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(n){if(!window.getComputedStyle(n).overflow.match(/(scroll|auto)/))return!1;var o=n.scrollHeight-n.clientHeight;if(o>0&&!(0===n.scrollTop&&i>0||n.scrollTop===o&&i<0))return!0;var a=n.scrollLeft-n.clientWidth;if(a>0&&!(0===n.scrollLeft&&t<0||n.scrollLeft===a&&t>0))return!0}return!1})(s,l)||(i=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(a(e,"top",l?e.scrollTop-l*t.settings.wheelSpeed:e.scrollTop+s*t.settings.wheelSpeed),i=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(a(e,"left",s?e.scrollLeft+s*t.settings.wheelSpeed:e.scrollLeft-l*t.settings.wheelSpeed),i=!0):(a(e,"top",e.scrollTop-l*t.settings.wheelSpeed),a(e,"left",e.scrollLeft+s*t.settings.wheelSpeed)),o(e),(i=i||function(i,n){var o=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===o&&n>0||o>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var a=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===a&&i<0||a>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}(s,l))&&(n.stopPropagation(),n.preventDefault()))}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)}t.exports=function(e){r(e,n.get(e))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(e,t,i){"use strict";var n=e("../instances"),o=e("../update-geometry");t.exports=function(e){!function(e,t){t.event.bind(e,"scroll",(function(){o(e)}))}(e,n.get(e))}},{"../instances":18,"../update-geometry":19}],15:[function(e,t,i){"use strict";var n=e("../../lib/helper"),o=e("../instances"),a=e("../update-geometry"),r=e("../update-scroll");function s(e,t){var i=null,s={top:0,left:0};function l(){i&&(clearInterval(i),i=null),n.stopScrolling(e)}var c=!1;t.event.bind(t.ownerDocument,"selectionchange",(function(){var t;e.contains(0===(t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"").toString().length?null:t.getRangeAt(0).commonAncestorContainer)?c=!0:(c=!1,l())})),t.event.bind(window,"mouseup",(function(){c&&(c=!1,l())})),t.event.bind(window,"keyup",(function(){c&&(c=!1,l())})),t.event.bind(window,"mousemove",(function(t){if(c){var d={x:t.pageX,y:t.pageY},u={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};d.x<u.left+3?(s.left=-5,n.startScrolling(e,"x")):d.x>u.right-3?(s.left=5,n.startScrolling(e,"x")):s.left=0,d.y<u.top+3?(s.top=u.top+3-d.y<5?-5:-20,n.startScrolling(e,"y")):d.y>u.bottom-3?(s.top=d.y-u.bottom+3<5?5:20,n.startScrolling(e,"y")):s.top=0,0===s.top&&0===s.left?l():i||(i=setInterval((function(){o.get(e)?(r(e,"top",e.scrollTop+s.top),r(e,"left",e.scrollLeft+s.left),a(e)):clearInterval(i)}),50))}}))}t.exports=function(e){s(e,o.get(e))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(e,t,i){"use strict";var n=e("../../lib/helper"),o=e("../instances"),a=e("../update-geometry"),r=e("../update-scroll");function s(e,t,i,n){function s(t,i){r(e,"top",e.scrollTop-i),r(e,"left",e.scrollLeft-t),a(e)}var l={},c=0,d={},u=null,h=!1,f=!1;function p(){h=!0}function m(){h=!1}function g(e){return e.targetTouches?e.targetTouches[0]:e}function v(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function y(e){if(v(e)){f=!0;var t=g(e);l.pageX=t.pageX,l.pageY=t.pageY,c=(new Date).getTime(),null!==u&&clearInterval(u),e.stopPropagation()}}function b(i){if(!f&&t.settings.swipePropagation&&y(i),!h&&f&&v(i)){var n=g(i),o={pageX:n.pageX,pageY:n.pageY},a=o.pageX-l.pageX,r=o.pageY-l.pageY;s(a,r),l=o;var u=(new Date).getTime(),p=u-c;p>0&&(d.x=a/p,d.y=r/p,c=u),function(i,n){var o=e.scrollTop,a=e.scrollLeft,r=Math.abs(i),s=Math.abs(n);if(s>r){if(n<0&&o===t.contentHeight-t.containerHeight||n>0&&0===o)return!t.settings.swipePropagation}else if(r>s&&(i<0&&a===t.contentWidth-t.containerWidth||i>0&&0===a))return!t.settings.swipePropagation;return!0}(a,r)&&(i.stopPropagation(),i.preventDefault())}}function _(){!h&&f&&(f=!1,clearInterval(u),u=setInterval((function(){o.get(e)&&(d.x||d.y)?Math.abs(d.x)<.01&&Math.abs(d.y)<.01?clearInterval(u):(s(30*d.x,30*d.y),d.x*=.8,d.y*=.8):clearInterval(u)}),10))}i?(t.event.bind(window,"touchstart",p),t.event.bind(window,"touchend",m),t.event.bind(e,"touchstart",y),t.event.bind(e,"touchmove",b),t.event.bind(e,"touchend",_)):n&&(window.PointerEvent?(t.event.bind(window,"pointerdown",p),t.event.bind(window,"pointerup",m),t.event.bind(e,"pointerdown",y),t.event.bind(e,"pointermove",b),t.event.bind(e,"pointerup",_)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",p),t.event.bind(window,"MSPointerUp",m),t.event.bind(e,"MSPointerDown",y),t.event.bind(e,"MSPointerMove",b),t.event.bind(e,"MSPointerUp",_)))}t.exports=function(e){(n.env.supportsTouch||n.env.supportsIePointer)&&s(e,o.get(e),n.env.supportsTouch,n.env.supportsIePointer)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(e,t,i){"use strict";var n=e("../lib/helper"),o=e("../lib/class"),a=e("./instances"),r=e("./update-geometry"),s={"click-rail":e("./handler/click-rail"),"drag-scrollbar":e("./handler/drag-scrollbar"),keyboard:e("./handler/keyboard"),wheel:e("./handler/mouse-wheel"),touch:e("./handler/touch"),selection:e("./handler/selection")},l=e("./handler/native-scroll");t.exports=function(e,t){t="object"==typeof t?t:{},o.add(e,"ps-container");var i=a.add(e);i.settings=n.extend(i.settings,t),o.add(e,"ps-theme-"+i.settings.theme),i.settings.handlers.forEach((function(t){s[t](e)})),l(e),r(e)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(e,t,i){"use strict";var n=e("../lib/helper"),o=e("../lib/class"),a=e("./default-setting"),r=e("../lib/dom"),s=e("../lib/event-manager"),l=e("../lib/guid"),c={};function d(e){var t,i,l=this;function c(){o.add(e,"ps-focus")}function d(){o.remove(e,"ps-focus")}l.settings=n.clone(a),l.containerWidth=null,l.containerHeight=null,l.contentWidth=null,l.contentHeight=null,l.isRtl="rtl"===r.css(e,"direction"),l.isNegativeScroll=(i=e.scrollLeft,e.scrollLeft=-1,t=e.scrollLeft<0,e.scrollLeft=i,t),l.negativeScrollAdjustment=l.isNegativeScroll?e.scrollWidth-e.clientWidth:0,l.event=new s,l.ownerDocument=e.ownerDocument||document,l.scrollbarXRail=r.appendTo(r.e("div","ps-scrollbar-x-rail"),e),l.scrollbarX=r.appendTo(r.e("div","ps-scrollbar-x"),l.scrollbarXRail),l.scrollbarX.setAttribute("tabindex",0),l.event.bind(l.scrollbarX,"focus",c),l.event.bind(l.scrollbarX,"blur",d),l.scrollbarXActive=null,l.scrollbarXWidth=null,l.scrollbarXLeft=null,l.scrollbarXBottom=n.toInt(r.css(l.scrollbarXRail,"bottom")),l.isScrollbarXUsingBottom=l.scrollbarXBottom==l.scrollbarXBottom,l.scrollbarXTop=l.isScrollbarXUsingBottom?null:n.toInt(r.css(l.scrollbarXRail,"top")),l.railBorderXWidth=n.toInt(r.css(l.scrollbarXRail,"borderLeftWidth"))+n.toInt(r.css(l.scrollbarXRail,"borderRightWidth")),r.css(l.scrollbarXRail,"display","block"),l.railXMarginWidth=n.toInt(r.css(l.scrollbarXRail,"marginLeft"))+n.toInt(r.css(l.scrollbarXRail,"marginRight")),r.css(l.scrollbarXRail,"display",""),l.railXWidth=null,l.railXRatio=null,l.scrollbarYRail=r.appendTo(r.e("div","ps-scrollbar-y-rail"),e),l.scrollbarY=r.appendTo(r.e("div","ps-scrollbar-y"),l.scrollbarYRail),l.scrollbarY.setAttribute("tabindex",0),l.event.bind(l.scrollbarY,"focus",c),l.event.bind(l.scrollbarY,"blur",d),l.scrollbarYActive=null,l.scrollbarYHeight=null,l.scrollbarYTop=null,l.scrollbarYRight=n.toInt(r.css(l.scrollbarYRail,"right")),l.isScrollbarYUsingRight=l.scrollbarYRight==l.scrollbarYRight,l.scrollbarYLeft=l.isScrollbarYUsingRight?null:n.toInt(r.css(l.scrollbarYRail,"left")),l.scrollbarYOuterWidth=l.isRtl?n.outerWidth(l.scrollbarY):null,l.railBorderYWidth=n.toInt(r.css(l.scrollbarYRail,"borderTopWidth"))+n.toInt(r.css(l.scrollbarYRail,"borderBottomWidth")),r.css(l.scrollbarYRail,"display","block"),l.railYMarginHeight=n.toInt(r.css(l.scrollbarYRail,"marginTop"))+n.toInt(r.css(l.scrollbarYRail,"marginBottom")),r.css(l.scrollbarYRail,"display",""),l.railYHeight=null,l.railYRatio=null}function u(e){return e.getAttribute("data-ps-id")}i.add=function(e){var t=l();return function(e,t){e.setAttribute("data-ps-id",t)}(e,t),c[t]=new d(e),c[t]},i.remove=function(e){delete c[u(e)],function(e){e.removeAttribute("data-ps-id")}(e)},i.get=function(e){return c[u(e)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(e,t,i){"use strict";var n=e("../lib/helper"),o=e("../lib/class"),a=e("../lib/dom"),r=e("./instances"),s=e("./update-scroll");function l(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}t.exports=function(e){var t,i=r.get(e);i.containerWidth=e.clientWidth,i.containerHeight=e.clientHeight,i.contentWidth=e.scrollWidth,i.contentHeight=e.scrollHeight,e.contains(i.scrollbarXRail)||((t=a.queryChildren(e,".ps-scrollbar-x-rail")).length>0&&t.forEach((function(e){a.remove(e)})),a.appendTo(i.scrollbarXRail,e)),e.contains(i.scrollbarYRail)||((t=a.queryChildren(e,".ps-scrollbar-y-rail")).length>0&&t.forEach((function(e){a.remove(e)})),a.appendTo(i.scrollbarYRail,e)),!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth?(i.scrollbarXActive=!0,i.railXWidth=i.containerWidth-i.railXMarginWidth,i.railXRatio=i.containerWidth/i.railXWidth,i.scrollbarXWidth=l(i,n.toInt(i.railXWidth*i.containerWidth/i.contentWidth)),i.scrollbarXLeft=n.toInt((i.negativeScrollAdjustment+e.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))):i.scrollbarXActive=!1,!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight?(i.scrollbarYActive=!0,i.railYHeight=i.containerHeight-i.railYMarginHeight,i.railYRatio=i.containerHeight/i.railYHeight,i.scrollbarYHeight=l(i,n.toInt(i.railYHeight*i.containerHeight/i.contentHeight)),i.scrollbarYTop=n.toInt(e.scrollTop*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))):i.scrollbarYActive=!1,i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth&&(i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth),i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight&&(i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight),function(e,t){var i={width:t.railXWidth};t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:i.left=e.scrollLeft,t.isScrollbarXUsingBottom?i.bottom=t.scrollbarXBottom-e.scrollTop:i.top=t.scrollbarXTop+e.scrollTop,a.css(t.scrollbarXRail,i);var n={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?n.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:n.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:n.left=t.scrollbarYLeft+e.scrollLeft,a.css(t.scrollbarYRail,n),a.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),a.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(e,i),i.scrollbarXActive?o.add(e,"ps-active-x"):(o.remove(e,"ps-active-x"),i.scrollbarXWidth=0,i.scrollbarXLeft=0,s(e,"left",0)),i.scrollbarYActive?o.add(e,"ps-active-y"):(o.remove(e,"ps-active-y"),i.scrollbarYHeight=0,i.scrollbarYTop=0,s(e,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(e,t,i){"use strict";var n,o,a=e("./instances"),r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};t.exports=function(e,t,i){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===i)throw"You must provide a value to the update-scroll function";"top"===t&&i<=0&&(e.scrollTop=i=0,e.dispatchEvent(r("ps-y-reach-start"))),"left"===t&&i<=0&&(e.scrollLeft=i=0,e.dispatchEvent(r("ps-x-reach-start")));var s=a.get(e);"top"===t&&i>=s.contentHeight-s.containerHeight&&((i=s.contentHeight-s.containerHeight)-e.scrollTop<=1?i=e.scrollTop:e.scrollTop=i,e.dispatchEvent(r("ps-y-reach-end"))),"left"===t&&i>=s.contentWidth-s.containerWidth&&((i=s.contentWidth-s.containerWidth)-e.scrollLeft<=1?i=e.scrollLeft:e.scrollLeft=i,e.dispatchEvent(r("ps-x-reach-end"))),n||(n=e.scrollTop),o||(o=e.scrollLeft),"top"===t&&i<n&&e.dispatchEvent(r("ps-scroll-up")),"top"===t&&i>n&&e.dispatchEvent(r("ps-scroll-down")),"left"===t&&i<o&&e.dispatchEvent(r("ps-scroll-left")),"left"===t&&i>o&&e.dispatchEvent(r("ps-scroll-right")),"top"===t&&(e.scrollTop=n=i,e.dispatchEvent(r("ps-scroll-y"))),"left"===t&&(e.scrollLeft=o=i,e.dispatchEvent(r("ps-scroll-x")))}},{"./instances":18}],21:[function(e,t,i){"use strict";var n=e("../lib/helper"),o=e("../lib/dom"),a=e("./instances"),r=e("./update-geometry"),s=e("./update-scroll");t.exports=function(e){var t=a.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,o.css(t.scrollbarXRail,"display","block"),o.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=n.toInt(o.css(t.scrollbarXRail,"marginLeft"))+n.toInt(o.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=n.toInt(o.css(t.scrollbarYRail,"marginTop"))+n.toInt(o.css(t.scrollbarYRail,"marginBottom")),o.css(t.scrollbarXRail,"display","none"),o.css(t.scrollbarYRail,"display","none"),r(e),s(e,"top",e.scrollTop),s(e,"left",e.scrollLeft),o.css(t.scrollbarXRail,"display",""),o.css(t.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]),jQuery.ajaxSetup({cache:!1}),jQuery.fn.getMargin=function(){var e=$(this);return{top:parseFloat(e.css("margin-top")),right:parseFloat(e.css("margin-right")),bottom:parseFloat(e.css("margin-bottom")),left:parseFloat(e.css("margin-left")),vertical:parseFloat(e.css("margin-top"))+parseFloat(e.css("margin-bottom")),horizontal:parseFloat(e.css("margin-right"))+parseFloat(e.css("margin-left"))}},jQuery.fn.getPadding=function(){var e=$(this);return{top:parseFloat(e.css("padding-top")),right:parseFloat(e.css("padding-right")),bottom:parseFloat(e.css("padding-bottom")),left:parseFloat(e.css("padding-left")),vertical:parseFloat(e.css("padding-top"))+parseFloat(e.css("padding-bottom")),horizontal:parseFloat(e.css("padding-right"))+parseFloat(e.css("padding-left"))}},jQuery.fn.disableTextSelection=function(){return this.each((function(){void 0!==this.onselectstart?this.onselectstart=function(){return!1}:void 0!==this.style.MozUserSelect?this.style.MozUserSelect="none":(this.onmousedown=function(){return!1},this.style.cursor="default")}))},"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",(function(){i=!0}));return setTimeout((function(){i||e(n).trigger(e.support.transition.end)}),t),this},e((function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})}))}(jQuery),function(e){"use strict";var t='[data-dismiss="alert"]',i=function(i){e(i).on("click",t,this.close)};i.VERSION="3.2.0",i.prototype.close=function(t){function i(){a.detach().trigger("closed.bs.alert").remove()}var n=e(this),o=n.attr("data-target");o||(o=(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e(o);t&&t.preventDefault(),a.length||(a=n.hasClass("alert")?n:n.parent()),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(150):i())};var n=e.fn.alert;e.fn.alert=function(t){return this.each((function(){var n=e(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof t&&o[t].call(n)}))},e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=n,this},e(document).on("click.bs.alert.data-api",t,i.prototype.close)}(jQuery),function(e){"use strict";function t(t){return this.each((function(){var n=e(this),o=n.data("bs.button"),a="object"==typeof t&&t;o||n.data("bs.button",o=new i(this,a)),"toggle"==t?o.toggle():t&&o.setState(t)}))}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.2.0",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",a=n.data();t+="Text",null==a.resetText&&n.data("resetText",n[o]()),n[o](null==a[t]?this.options[t]:a[t]),setTimeout(e.proxy((function(){"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))}),this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(i){var n=e(i.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),i.preventDefault()}))}(jQuery),function(e){"use strict";function t(t){return this.each((function(){var n=e(this),o=n.data("bs.carousel"),a=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),r="string"==typeof t?t:a.slide;o||n.data("bs.carousel",o=new i(this,a)),"number"==typeof t?o.to(t):r?o[r]():a.interval&&o.pause().cycle()}))}var i=function(t,i){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.2.0",i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},i.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.to=function(t){var i=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",(function(){i.to(t)})):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(t,i){var n=this.$element.find(".item.active"),o=i||n[t](),a=this.interval,r="next"==t?"left":"right",s="next"==t?"first":"last",l=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[s]()}if(o.hasClass("active"))return this.sliding=!1;var c=o[0],d=e.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(o)]);u&&u.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,n.addClass(r),o.addClass(r),n.one("bsTransitionEnd",(function(){o.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout((function(){l.$element.trigger(h)}),0)})).emulateTransitionEnd(1e3*n.css("transition-duration").slice(0,-1))):(n.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",(function(i){var n,o=e(this),a=e(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var r=e.extend({},a.data(),o.data()),s=o.attr("data-slide-to");s&&(r.interval=!1),t.call(a,r),s&&a.data("bs.carousel").to(s),i.preventDefault()}})),e(window).on("load",(function(){e('[data-ride="carousel"]').each((function(){var i=e(this);t.call(i,i.data())}))}))}(jQuery),function(e){"use strict";function t(t){return this.each((function(){var n=e(this),o=n.data("bs.collapse"),a=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!o&&a.toggle&&"show"==t&&(t=!t),o||n.data("bs.collapse",o=new i(this,a)),"string"==typeof t&&o[t]()}))}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};i.VERSION="3.2.0",i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var i=e.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var o=n.data("bs.collapse");if(o&&o.transitioning)return;t.call(n,"hide"),o||n.data("bs.collapse",null)}var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var s=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(350)[a](this.$element[0][s])}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(n,this)).emulateTransitionEnd(350):n.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(i){var n,o=e(this),a=o.attr("data-target")||i.preventDefault()||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=e(a),s=r.data("bs.collapse"),l=s?"toggle":o.data(),c=o.attr("data-parent"),d=c&&e(c);s&&s.transitioning||(d&&d.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(o).addClass("collapsed"),o[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(r,l)}))}(jQuery),function(e){"use strict";function t(t){t&&3===t.which||(e(n).remove(),e(o).each((function(){var n=i(e(this)),o={relatedTarget:this};n.hasClass("open")&&(n.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown",o))})))}function i(t){var i=t.attr("data-target");i||(i=(i=t.attr("href"))&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}var n=".dropdown-backdrop",o='[data-toggle="te-dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.2.0",a.prototype.toggle=function(n){var o=e(this);if(!o.is(".disabled, :disabled")){var a=i(o),r=a.hasClass("open");if(t(),!r){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(a.trigger(n=e.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;o.trigger("focus"),a.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var a=i(n),r=a.hasClass("open");if(!r||r&&27==t.keyCode)return 27==t.which&&a.find(o).trigger("focus"),n.trigger("click");var s=" li:not(.divider):visible a",l=a.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(l.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var r=e.fn.dropdown;e.fn.dropdown=function(t){return this.each((function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new a(this)),"string"==typeof t&&n[t].call(i)}))},e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",(function(e){e.stopPropagation()})).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',a.prototype.keydown)}(jQuery),function(e){"use strict";function t(t,n){return this.each((function(){var o=e(this),a=o.data("bs.modal"),r=e.extend({},i.DEFAULTS,o.data(),"object"==typeof t&&t);a||o.data("bs.modal",a=new i(this,r)),"string"==typeof t?a[t](n):r.show&&a.show(n)}))}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};i.VERSION="3.2.0",i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var i=this,n=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop((function(){var n=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});n?i.$element.find(".modal-dialog").one("bsTransitionEnd",(function(){i.$element.trigger("focus").trigger(o)})).emulateTransitionEnd(300):i.$element.trigger("focus").trigger(o)})))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")}),this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.$element.trigger("hidden.bs.modal")}))},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var i=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy((function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))}),this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(150):a()}else t&&t()},i.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(i){var n=e(this),o=n.attr("href"),a=e(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),r=a.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},a.data(),n.data());n.is("a")&&i.preventDefault(),a.one("show.bs.modal",(function(e){e.isDefaultPrevented()||a.one("hidden.bs.modal",(function(){n.is(":visible")&&n.trigger("focus")}))})),t.call(a,r,this)}))}(jQuery),function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.VERSION="3.2.0",t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,i,n){this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var o=this.options.trigger.split(" "),a=o.length;a--;){var r=o[a];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,(function(e,n){i[e]!=n&&(t[e]=n)})),t},t.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout((function(){"in"==i.hoverState&&i.show()}),i.options.delay.show)):i.show()},t.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout((function(){"out"==i.hoverState&&i.hide()}),i.options.delay.hide)):i.hide()},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var n=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(r);l&&(r=r.replace(s,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var c=this.getPosition(),d=o[0].offsetWidth,u=o[0].offsetHeight;if(l){var h=r,f=this.$element.parent(),p=this.getPosition(f);r="bottom"==r&&c.top+c.height+u-p.scroll>p.height?"top":"top"==r&&c.top-p.scroll-u<0?"bottom":"right"==r&&c.right+d>p.width?"left":"left"==r&&c.left-d<p.left?"right":r,o.removeClass(h).addClass(r)}var m=this.getCalculatedOffset(r,c,d,u);this.applyPlacement(m,r);var g=function(){n.$element.trigger("shown.bs."+n.type),n.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(150):g()}},t.prototype.applyPlacement=function(t,i){var n=this.tip(),o=n[0].offsetWidth,a=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top=t.top+r,t.left=t.left+s,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=a&&(t.top=t.top+a-c);var d=this.getViewportAdjustedDelta(i,t,l,c);d.left?t.left+=d.left:t.top+=d.top;var u=d.left?2*d.left-o+l:2*d.top-a+c,h=d.left?"left":"top",f=d.left?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(u,n[0][f],h)},t.prototype.replaceArrow=function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function t(){"in"!=i.hoverState&&n.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,n=this.tip(),o=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(o),o.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){var i=(t=t||this.$element)[0],n="BODY"==i.tagName;return e.extend({},"function"==typeof i.getBoundingClientRect?i.getBoundingClientRect():null,{scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:n?e(window).width():t.outerWidth(),height:n?e(window).height():t.outerHeight()},n?{top:0,left:0}:t.offset())},t.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var a=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-a-r.scroll,l=t.top+a-r.scroll+n;s<r.top?o.top=r.top-s:l>r.top+r.height&&(o.top=r.top+r.height-l)}else{var c=t.left-a,d=t.left+a+i;c<r.left?o.left=r.left-c:d>r.width&&(o.left=r.left+r.width-d)}return o},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var i=this;t&&((i=e(t.currentTarget).data("bs."+this.type))||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each((function(){var n=e(this),o=n.data("bs.tooltip"),a="object"==typeof i&&i;(o||"destroy"!=i)&&(o||n.data("bs.tooltip",o=new t(this,a)),"string"==typeof i&&o[i]())}))},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.2.0",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var i=e.fn.popover;e.fn.popover=function(i){return this.each((function(){var n=e(this),o=n.data("bs.popover"),a="object"==typeof i&&i;(o||"destroy"!=i)&&(o||n.data("bs.popover",o=new t(this,a)),"string"==typeof i&&o[i]())}))},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),function(e){"use strict";function t(i,n){var o=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(i).is("body")?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o),this.refresh(),this.process()}function i(i){return this.each((function(){var n=e(this),o=n.data("bs.scrollspy"),a="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new t(this,a)),"string"==typeof i&&o[i]()}))}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",i=0;e.isWindow(this.$scrollElement[0])||(t="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var n=this;this.$body.find(this.selector).map((function(){var n=e(this),o=n.data("target")||n.attr("href"),a=/^#./.test(o)&&e(o);return a&&a.length&&a.is(":visible")&&[[a[t]().top+i,o]]||null})).sort((function(e,t){return e[0]-t[0]})).each((function(){n.offsets.push(this[0]),n.targets.push(this[1])}))},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,a=this.targets,r=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return r!=(e=a[a.length-1])&&this.activate(e);if(r&&t<=o[0])return r!=(e=a[0])&&this.activate(e);for(e=o.length;e--;)r!=a[e]&&t>=o[e]&&(!o[e+1]||t<=o[e+1])&&this.activate(a[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",(function(){e('[data-spy="scroll"]').each((function(){var t=e(this);i.call(t,t.data())}))}))}(jQuery),function(e){"use strict";function t(t){return this.each((function(){var n=e(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof t&&o[t]()}))}var i=function(t){this.element=e(t)};i.VERSION="3.2.0",i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=i.find(".active:last a")[0],a=e.Event("show.bs.tab",{relatedTarget:o});if(t.trigger(a),!a.isDefaultPrevented()){var r=e(n);this.activate(t.closest("li"),i),this.activate(r,r.parent(),(function(){t.trigger({type:"shown.bs.tab",relatedTarget:o})}))}}},i.prototype.activate=function(t,i,n){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),n&&n()}var a=i.find("> .active"),r=n&&e.support.transition&&a.hasClass("fade");r?a.one("bsTransitionEnd",o).emulateTransitionEnd(150):o(),a.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',(function(i){i.preventDefault(),t.call(e(this),"show")}))}(jQuery),function(e){"use strict";function t(t){return this.each((function(){var n=e(this),o=n.data("bs.affix"),a="object"==typeof t&&t;o||n.data("bs.affix",o=new i(this,a)),"string"==typeof t&&o[t]()}))}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.2.0",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),n=this.$target.scrollTop(),o=this.$element.offset(),a=this.options.offset,r=a.top,s=a.bottom;"object"!=typeof a&&(s=r=a),"function"==typeof r&&(r=a.top(this.$element)),"function"==typeof s&&(s=a.bottom(this.$element));var l=!(null!=this.unpin&&n+this.unpin<=o.top)&&(null!=s&&o.top+this.$element.height()>=t-s?"bottom":null!=r&&r>=n&&"top");if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),d=e.Event(c+".bs.affix");this.$element.trigger(d),d.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(c).trigger(e.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:t-this.$element.height()-s}))}}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",(function(){e('[data-spy="affix"]').each((function(){var i=e(this),n=i.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)}))}))}(jQuery),function(e,t){var i=e(window);function n(){return new Date(Date.UTC.apply(Date,arguments))}function o(){var e=new Date;return n(e.getFullYear(),e.getMonth(),e.getDate())}function a(e){return function(){return this[e].apply(this,arguments)}}var r,s=(r={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,n=this.length;i<n;i++)if(this[i].valueOf()===t)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new s;return e.replace(this),e}},function(){var t=[];return t.push.apply(t,arguments),e.extend(t,r),t}),l=function(t,i){this.dates=new s,this.viewDate=o(),this.focusDate=null,this._process_options(i),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(g.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown te-dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",(function(e,t){return parseInt(t)+1})),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};l.prototype={constructor:l,_process_options:function(t){this._o=e.extend({},this._o,t);var i=this.o=e.extend({},this._o),n=i.language;switch(m[n]||(n=n.split("-")[0],m[n]||(n=f.language)),i.language=n,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),!0!==i.multidate&&(i.multidate=Number(i.multidate)||!1,!1!==i.multidate?i.multidate=Math.max(0,i.multidate):i.multidate=1),i.multidateSeparator=String(i.multidateSeparator),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var o=g.parseFormat(i.format);i.startDate!==-1/0&&(i.startDate?i.startDate instanceof Date?i.startDate=this._local_to_utc(this._zero_time(i.startDate)):i.startDate=g.parseDate(i.startDate,o,i.language):i.startDate=-1/0),i.endDate!==1/0&&(i.endDate?i.endDate instanceof Date?i.endDate=this._local_to_utc(this._zero_time(i.endDate)):i.endDate=g.parseDate(i.endDate,o,i.language):i.endDate=1/0),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],e.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=e.map(i.daysOfWeekDisabled,(function(e){return parseInt(e,10)}));var a=String(i.orientation).toLowerCase().split(/\s+/g),r=i.orientation.toLowerCase();if(a=e.grep(a,(function(e){return/^auto|left|right|top|bottom$/.test(e)})),i.orientation={x:"auto",y:"auto"},r&&"auto"!==r)if(1===a.length)switch(a[0]){case"top":case"bottom":i.orientation.y=a[0];break;case"left":case"right":i.orientation.x=a[0]}else r=e.grep(a,(function(e){return/^left|right$/.test(e)})),i.orientation.x=r[0]||"auto",r=e.grep(a,(function(e){return/^top|bottom$/.test(e)})),i.orientation.y=r[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,i,n,o=0;o<e.length;o++)t=e[o][0],2===e[o].length?(i=void 0,n=e[o][1]):3===e[o].length&&(i=e[o][1],n=e[o][2]),t.on(n,i)},_unapplyEvents:function(e){for(var t,i,n,o=0;o<e.length;o++)t=e[o][0],2===e[o].length?(n=void 0,i=e[o][1]):3===e[o].length&&(n=e[o][1],i=e[o][2]),t.off(i,n)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy((function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()}),this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy((function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()}),this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy((function(e){this._focused_from=e.target}),this)}],[this.element,{blur:e.proxy((function(e){this._focused_from=e.target}),this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy((function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()}),this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var n=i||this.dates.get(-1),o=this._utc_to_local(n);this.element.trigger({type:t,date:o,dates:e.map(this.dates,this._utc_to_local),format:e.proxy((function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return g.formatDate(i,t,this.o.language)}),this)})},show:function(){this.isInline||this.picker.appendTo("#timeneye_widget_cont"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,(function(e){return new Date(e)}))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:a("setDates"),setUTCDate:a("setUTCDates"),setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change()},getFormattedDate:function(t){void 0===t&&(t=this.o.format);var i=this.o.language;return e.map(this.dates,(function(e){return g.formatDate(e,t,i)})).join(this.o.multidateSeparator)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=this.picker.outerWidth(),n=this.picker.outerHeight(),o=i.width(),a=i.height(),r=i.scrollTop(),s=parseInt(this.element.parents().filter((function(){return"auto"!==e(this).css("z-index")})).first().css("z-index"))+10,l=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),u=l.left,h=l.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(u-=t-d)):(this.picker.addClass("datepicker-orient-left"),l.left<0?u-=l.left-10:l.left+t>o&&(u=o-t-10));var f,p,m=this.o.orientation.y;"auto"===m&&(f=-r+l.top-n,p=r+a-(l.top+c+n),m=Math.max(f,p)===p?"top":"bottom"),this.picker.addClass("datepicker-orient-"+m),"top"===m?h+=c:h-=n+parseInt(this.picker.css("padding-top"));var g=e("#timeneye_widget_cont").offset();g&&(h-=g.top,u-=g.left),this.picker.css({top:h,left:u,zIndex:s})}},_allow_update:!0,update:function(){if(this._allow_update){var t=this.dates.copy(),i=[],n=!1;arguments.length?(e.each(arguments,e.proxy((function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)}),this)),n=!0):(i=(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val())&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=e.map(i,e.proxy((function(e){return g.parseDate(e,this.o.format,this.o.language)}),this)),i=e.grep(i,e.proxy((function(e){return e<this.o.startDate||e>this.o.endDate||!e}),this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),n?this.setValue():i.length&&("string"==typeof this.o.format?String(this.element[0].value).length===String(this.o.format).length&&String(t)!==String(this.dates)&&this._trigger("changeDate"):String(t)!==String(this.dates)&&this._trigger("changeDate")),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';t+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+m[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;t<12;)e+='<span class="month">'+m[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,(function(e){return e.valueOf()})):delete this.range,this.fill()},getClassNames:function(t){var i=[],n=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),a=new Date;return t.getUTCFullYear()<n||t.getUTCFullYear()===n&&t.getUTCMonth()<o?i.push("old"):(t.getUTCFullYear()>n||t.getUTCFullYear()===n&&t.getUTCMonth()>o)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===a.getFullYear()&&t.getUTCMonth()===a.getMonth()&&t.getUTCDate()===a.getDate()&&i.push("today"),-1!==this.dates.contains(t)&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var t,i=new Date(this.viewDate),o=i.getUTCFullYear(),a=i.getUTCMonth(),r=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,s=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=m[this.o.language].today||m.en.today||"",u=m[this.o.language].clear||m.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(m[this.o.language].months[a]+" "+o),this.picker.find("tfoot th.today").text(d).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(u).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var h=n(o,a-1,28),f=g.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(f),h.setUTCDate(f-(h.getUTCDay()-this.o.weekStart+7)%7);var p=new Date(h);p.setUTCDate(p.getUTCDate()+42),p=p.valueOf();for(var v,y=[];h.valueOf()<p;){if(h.getUTCDay()===this.o.weekStart&&(y.push("<tr>"),this.o.calendarWeeks)){var b=new Date(+h+(this.o.weekStart-h.getUTCDay()-7)%7*864e5),_=new Date(Number(b)+(11-b.getUTCDay())%7*864e5),T=new Date(Number(T=n(_.getUTCFullYear(),0,1))+(11-T.getUTCDay())%7*864e5),C=(_-T)/864e5/7+1;y.push('<td class="cw">'+C+"</td>")}if((v=this.getClassNames(h)).push("day"),this.o.beforeShowDay!==e.noop){var w=this.o.beforeShowDay(this._utc_to_local(h));void 0===w?w={}:"boolean"==typeof w?w={enabled:w}:"string"==typeof w&&(w={classes:w}),!1===w.enabled&&v.push("disabled"),w.classes&&(v=v.concat(w.classes.split(/\s+/))),w.tooltip&&(t=w.tooltip)}v=e.unique(v),y.push('<td class="'+v.join(" ")+'"'+(t?' title="'+t+'"':"")+">"+h.getUTCDate()+"</td>"),h.getUTCDay()===this.o.weekEnd&&y.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var k=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");e.each(this.dates,(function(e,t){t.getUTCFullYear()===o&&k.eq(t.getUTCMonth()).addClass("active")})),(o<r||o>l)&&k.addClass("disabled"),o===r&&k.slice(0,s).addClass("disabled"),o===l&&k.slice(c+1).addClass("disabled"),y="",o=10*parseInt(o/10,10);var j=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var A,E=e.map(this.dates,(function(e){return e.getUTCFullYear()})),I=-1;I<11;I++)A=["year"],-1===I?A.push("old"):10===I&&A.push("new"),-1!==e.inArray(o,E)&&A.push("active"),(o<r||o>l)&&A.push("disabled"),y+='<span class="'+A.join(" ")+'">'+o+"</span>",o+=1;j.html(y)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault();var i,o,a,r=e(t.target).closest("span, td, th");if(1===r.length)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":break;case"prev":case"next":var s=g.modes[this.viewMode].navStep*("prev"===r[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":var d;this.isInput?d=this.element:this.component&&(d=this.element.find("input")),d&&d.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":r.is(".disabled")||(this.viewDate.setUTCDate(1),r.is(".month")?(a=1,o=r.parent().find("span").index(r),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(o),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,o,a))):(a=1,o=0,i=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,o,a))),this.showMode(-1),this.fill());break;case"td":r.is(".day")&&!r.is(".disabled")&&(a=parseInt(r.text(),10)||1,i=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),r.is(".old")?0===o?(o=11,i-=1):o-=1:r.is(".new")&&(11===o?(o=0,i+=1):o+=1),this._setDate(n(i,o,a)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e?-1!==t||this.dates.push(e):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){var i;t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate"),this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,t){if(e){if(!t)return e;var i,n,o=new Date(e.valueOf()),a=o.getUTCDate(),r=o.getUTCMonth(),s=Math.abs(t);if(t=t>0?1:-1,1===s)n=-1===t?function(){return o.getUTCMonth()===r}:function(){return o.getUTCMonth()!==i},i=r+t,o.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var l=0;l<s;l++)o=this.moveMonth(o,t);i=o.getUTCMonth(),o.setUTCDate(a),n=function(){return i!==o.getUTCMonth()}}for(;n();)o.setUTCDate(--a),o.setUTCMonth(i);return o}},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))27===e.keyCode&&this.show();else{var t,i,n,a=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.dates.get(-1)||o(),t),n=this.moveYear(a,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.dates.get(-1)||o(),t),n=this.moveMonth(a,t),this._trigger("changeMonth",this.viewDate)):((i=new Date(this.dates.get(-1)||o())).setUTCDate(i.getUTCDate()+t),(n=new Date(a)).setUTCDate(a.getUTCDate()+t)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.dates.get(-1)||o(),t),n=this.moveYear(a,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.dates.get(-1)||o(),t),n=this.moveMonth(a,t),this._trigger("changeMonth",this.viewDate)):((i=new Date(this.dates.get(-1)||o())).setUTCDate(i.getUTCDate()+7*t),(n=new Date(a)).setUTCDate(a.getUTCDate()+7*t)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:this.picker.is(":visible")&&this.o.autoclose&&this.hide();break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+g.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(t,i){this.element=e(t),this.inputs=e.map(i.inputs,(function(e){return e.jquery?e[0]:e})),delete i.inputs,e(this.inputs).datepicker(i).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,(function(t){return e(t).data("datepicker")})),this.updateDates()};function d(t,i){var n=e(t).data(),o={},a=new RegExp("^"+i.toLowerCase()+"([A-Z])");function r(e,t){return t.toLowerCase()}for(var s in i=new RegExp("^"+i.toLowerCase()),n)i.test(s)&&(o[s.replace(a,r)]=n[s]);return o}function u(t){var i={};if(m[t]||(t=t.split("-")[0],m[t])){var n=m[t];return e.each(p,(function(e,t){t in n&&(i[t]=n[t])})),i}}c.prototype={updateDates:function(){this.dates=e.map(this.pickers,(function(e){return e.getUTCDate()})),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,(function(e){return e.valueOf()}));e.each(this.pickers,(function(e,i){i.setRange(t)}))},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=e(t.target).data("datepicker").getUTCDate(),n=e.inArray(t.target,this.inputs),o=this.inputs.length;if(-1!==n){if(e.each(this.pickers,(function(e,t){t.getUTCDate()||t.setUTCDate(i)})),i<this.dates[n])for(;n>=0&&i<this.dates[n];)this.pickers[n--].setUTCDate(i);else if(i>this.dates[n])for(;n<o&&i>this.dates[n];)this.pickers[n++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){e.map(this.pickers,(function(e){e.remove()})),delete this.element.data().datepicker}};var h=e.fn.datepicker;e.fn.datepicker=function(t){var i,n=Array.apply(null,arguments);return n.shift(),this.each((function(){var o=e(this),a=o.data("datepicker"),r="object"==typeof t&&t;if(!a){var s=d(this,"date"),h=u(e.extend({},f,s,r).language),p=e.extend({},f,h,s,r);if(o.is(".input-daterange")||p.inputs){var m={inputs:p.inputs||o.find("input").toArray()};o.data("datepicker",a=new c(this,e.extend(p,m)))}else o.data("datepicker",a=new l(this,p))}if("string"==typeof t&&"function"==typeof a[t]&&void 0!==(i=a[t].apply(a,n)))return!1})),void 0!==i?i:this};var f=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},p=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=l;var m=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},getDaysInMonth:function(e,t){return[31,g.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(t,i,o){if(t){if(t instanceof Date)return t;"string"==typeof i&&(i=g.parseFormat(i));var a,r,s,c=/([\-+]\d+)([dmwy])/,d=t.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(t)){for(t=new Date,s=0;s<d.length;s++)switch(a=c.exec(d[s]),r=parseInt(a[1]),a[2]){case"d":t.setUTCDate(t.getUTCDate()+r);break;case"m":t=l.prototype.moveMonth.call(l.prototype,t,r);break;case"w":t.setUTCDate(t.getUTCDate()+7*r);break;case"y":t=l.prototype.moveYear.call(l.prototype,t,r)}return n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0)}d=t&&t.match(this.nonpunctuation)||[],t=new Date;var u,h,f={},p=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,t=n(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);var y=i.parts.slice();if(d.length!==y.length&&(y=e(y).filter((function(t,i){return-1!==e.inArray(i,p)})).toArray()),d.length===y.length){var b,_,T;for(s=0,b=y.length;s<b;s++){if(u=parseInt(d[s],10),a=y[s],isNaN(u))switch(a){case"MM":h=e(m[o].months).filter(C),u=e.inArray(h[0],m[o].months)+1;break;case"M":h=e(m[o].monthsShort).filter(C),u=e.inArray(h[0],m[o].monthsShort)+1}f[a]=u}for(s=0;s<p.length;s++)(T=p[s])in f&&!isNaN(f[T])&&(_=new Date(t),v[T](_,f[T]),isNaN(_)||(t=_))}return t}function C(){var e=this.slice(0,d[s].length);return e===d[s].slice(0,e.length)}},formatDate:function(t,i,n){if(!t)return"";"string"==typeof i&&(i=g.parseFormat(i));var o={d:t.getUTCDate(),D:m[n].daysShort[t.getUTCDay()],DD:m[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:m[n].monthsShort[t.getUTCMonth()],MM:m[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m,t=[];for(var a=e.extend([],i.separators),r=0,s=i.parts.length;r<=s;r++)a.length&&t.push(a.shift()),t.push(o[i.parts[r]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=g,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=h,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',(function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),i.datepicker("show"))})),e((function(){e('[data-provide="datepicker-inline"]').datepicker()}))}(window.jQuery),
/*!
 * Bootstrap-select v1.12.2 (http://silviomoreto.github.io/bootstrap-select)
 *
 * Copyright 2013-2017 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */
function(e,t){"function"==typeof define&&define.amd?define(["jquery"],(function(e){return t(e)})):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,(function(e){!function(e){"use strict";var t,i,n,o;String.prototype.includes||(t={}.toString,i=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),n="".indexOf,o=function(e){if(null==this)throw new TypeError;var i=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var o=i.length,a=String(e),r=a.length,s=arguments.length>1?arguments[1]:void 0,l=s?Number(s):0;l!=l&&(l=0);var c=Math.min(Math.max(l,0),o);return!(r+c>o)&&-1!=n.call(i,a,l)},i?i(String.prototype,"includes",{value:o,configurable:!0,writable:!0}):String.prototype.includes=o),String.prototype.startsWith||function(){var e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),t={}.toString,i=function(e){if(null==this)throw new TypeError;var i=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var n=i.length,o=String(e),a=o.length,r=arguments.length>1?arguments[1]:void 0,s=r?Number(r):0;s!=s&&(s=0);var l=Math.min(Math.max(s,0),n);if(a+l>n)return!1;for(var c=-1;++c<a;)if(i.charCodeAt(l+c)!=o.charCodeAt(c))return!1;return!0};e?e(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i}(),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i});var a={useDefault:!1,_set:e.valHooks.select.set};e.valHooks.select.set=function(t,i){return i&&!a.useDefault&&e(t).data("selected",!0),a._set.apply(this,arguments)};var r=null;function s(t){return e.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],(function(){t=t?t.replace(this.re,this.ch):""})),t}e.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?("function"==typeof Event?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):i.fireEvent?((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)},e.expr.pseudos.icontains=function(t,i,n){var o=e(t);return(o.data("tokens")||o.text()).toString().toUpperCase().includes(n[3].toUpperCase())},e.expr.pseudos.ibegins=function(t,i,n){var o=e(t);return(o.data("tokens")||o.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())},e.expr.pseudos.aicontains=function(t,i,n){var o=e(t);return(o.data("tokens")||o.data("normalizedText")||o.text()).toString().toUpperCase().includes(n[3].toUpperCase())},e.expr.pseudos.aibegins=function(t,i,n){var o=e(t);return(o.data("tokens")||o.data("normalizedText")||o.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())};var l=function(e){var t=function(t){return e[t]},i="(?:"+Object.keys(e).join("|")+")",n=RegExp(i),o=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(o,t):e}},c=l({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),d=(l({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),function(t,i){a.useDefault||(e.valHooks.select.set=a._set,a.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=i,null===this.options.title&&(this.options.title=this.$element.attr("title"));var n=this.options.windowPadding;"number"==typeof n&&(this.options.windowPadding=[n,n,n,n]),this.val=d.prototype.val,this.render=d.prototype.render,this.refresh=d.prototype.refresh,this.setStyle=d.prototype.setStyle,this.selectAll=d.prototype.selectAll,this.deselectAll=d.prototype.deselectAll,this.destroy=d.prototype.destroy,this.remove=d.prototype.remove,this.show=d.prototype.show,this.hide=d.prototype.hide,this.init()});function u(t){var i,n=arguments,o=t;[].shift.apply(n);var a=this.each((function(){var t=e(this);if(t.is("select")){var a=t.data("selectpicker"),r="object"==typeof o&&o;if(a){if(r)for(var s in r)r.hasOwnProperty(s)&&(a.options[s]=r[s])}else{var l=e.extend({},d.DEFAULTS,e.fn.selectpicker.defaults||{},t.data(),r);l.template=e.extend({},d.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},t.data().template,r.template),t.data("selectpicker",a=new d(this,l))}"string"==typeof o&&(i=a[o]instanceof Function?a[o].apply(a,n):a.options[o])}}));return void 0!==i?i:a}d.VERSION="1.12.2",d.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select all",deselectAllText:"Deselect all",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:"#timeneye_widget_cont",hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!1,header:!1,liveSearch:!1,liveSearchPlaceholder:"Search",liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"iconeye iconeye-android-done",showTick:!1,template:{caret:'<span class="te-caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!0,dropdownAlignRight:!1,windowPadding:0},d.prototype={constructor:d,init:function(){var t=this,i=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".te-dropdown-menu"),this.$menuInner=this.$menu.children(".te-inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==i&&(this.$button.attr("data-id",i),e('label[for="'+i+'"]').click((function(e){e.preventDefault(),t.$button.focus()}))),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!1),t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!0),t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}}),t.$element[0].hasAttribute("required")&&this.$element.on("invalid",(function(){t.$button.addClass("bs-invalid").focus(),t.$element.on({"focus.bs.select":function(){t.$button.focus(),t.$element.off("focus.bs.select")},"shown.bs.select":function(){t.$element.val(t.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&t.$button.removeClass("bs-invalid"),t.$element.off("rendered.bs.select")}})})),setTimeout((function(){t.$element.trigger("loaded.bs.select")}))},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",n=this.autofocus?" autofocus":"",o=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",a=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+c(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",r=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-group-justified"><div class="btn-group"><button type="button" class="actions-btn bs-select-all btn btn-default btn-sm">'+this.options.selectAllText+'</button></div><div class="btn-group"><button type="button" class="actions-btn bs-deselect-all btn btn-default btn-sm">'+this.options.deselectAllText+'</button></div><div class="btn-group"><button type="button" class="actions-btn bs-confirm btn btn-success btn-sm">Confirm</button></div></div></div>':"",s=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",l='<div class="btn-group bootstrap-select'+t+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="te-dropdown"'+n+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="te-dropdown-menu open" role="combobox">'+o+a+r+'<ul class="te-dropdown-menu te-inner te-scroll-cont" role="listbox" aria-expanded="false"></ul>'+s+"</div></div>";return e(l)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul")[0].innerHTML=t,e.find(".te-scroll-cont").perfectScrollbar(),e},reloadLi:function(){var e=this.createLi();this.$menuInner[0].innerHTML=e},createLi:function(){var t=this,i=[],n=0,o=document.createElement("option"),a=-1,r=function(e,t,i,n){return"<li"+(void 0!==i&""!==i?' class="'+i+'"':"")+(void 0!==t&null!==t?' data-original-index="'+t+'"':"")+(void 0!==n&null!==n?'data-optgroup="'+n+'"':"")+">"+e+"</li>"},l=function(i,n,o,a){return'<a tabindex="0"'+(void 0!==n?' class="'+n+'"':"")+(o?' style="'+o+'"':"")+(t.options.liveSearchNormalize?' data-normalized-text="'+s(c(e(i).html()))+'"':"")+(void 0!==a||null!==a?' data-tokens="'+a+'"':"")+' role="option">'+i+'<span class="'+t.options.iconBase+" "+t.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(a--,!this.$element.find(".bs-title-option").length)){var d=this.$element[0];o.className="bs-title-option",o.innerHTML=this.options.title,o.value="",d.insertBefore(o,d.firstChild),void 0===e(d.options[d.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")&&(o.selected=!0)}return this.$element.find("option").each((function(o){var s=e(this);if(a++,!s.hasClass("bs-title-option")){var d=this.className||"",u=this.style.cssText,h=s.data("content")?s.data("content"):s.html(),f=s.data("tokens")?s.data("tokens"):null,p=void 0!==s.data("subtext")?'<small class="text-muted">'+s.data("subtext")+"</small>":"",m=void 0!==s.data("icon")?'<span class="'+t.options.iconBase+" "+s.data("icon")+'"></span> ':"",g=s.parent(),v="OPTGROUP"===g[0].tagName,y=v&&g[0].disabled,b=this.disabled||y;if(""!==m&&b&&(m="<span>"+m+"</span>"),t.options.hideDisabled&&(b&&!v||y))a--;else{if(s.data("content")||(h=m+'<span class="text">'+h+p+"</span>"),v&&!0!==s.data("divider")){if(t.options.hideDisabled&&b){if(void 0===g.data("allOptionsDisabled")){var _=g.children();g.data("allOptionsDisabled",_.filter(":disabled").length===_.length)}if(g.data("allOptionsDisabled"))return void a--}var T=" "+g[0].className||"";if(0===s.index()){n+=1;var C=g[0].label,w=void 0!==g.data("subtext")?'<small class="text-muted">'+g.data("subtext")+"</small>":"";C=(g.data("icon")?'<span class="'+t.options.iconBase+" "+g.data("icon")+'"></span> ':"")+'<span class="text">'+c(C)+w+"</span>",0!==o&&i.length>0&&(a++,i.push(r("",null,"divider",n+"div"))),a++,i.push(r(C,null,"dropdown-header"+T,n))}if(t.options.hideDisabled&&b)return void a--;i.push(r(l(h,"opt "+d+T,u,f),o,"",n))}else if(!0===s.data("divider"))i.push(r("",o,"divider"));else if(!0===s.data("hidden"))i.push(r(l(h,d,u,f),o,"hidden is-hidden"));else{var k=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;if(!k&&t.options.hideDisabled)for(var j=e(this).prevAll(),A=0;A<j.length;A++)if("OPTGROUP"===j[A].tagName){for(var E=0,I=0;I<A;I++){var x=j[I];(x.disabled||!0===e(x).data("hidden"))&&E++}E===A&&(k=!0);break}k&&(a++,i.push(r("",null,"divider",n+"div"))),i.push(r(l(h,d,u,f),o))}t.liObj[o]=a}}})),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),i.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var i,n=this;!1!==t&&this.$element.find("option").each((function(e){var t=n.findLis().eq(n.liObj[e]);n.setDisabled(e,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,t),n.setSelected(e,this.selected,t)})),this.togglePlaceholder(),this.tabIndex();var o=this.$element.find("option").map((function(){if(this.selected){if(n.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var t,i=e(this),o=i.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+i.data("icon")+'"></i> ':"";return t=n.options.showSubtext&&i.data("subtext")&&!n.multiple?' <small class="text-muted">'+i.data("subtext")+"</small>":"",void 0!==i.attr("title")?i.attr("title"):i.data("content")&&n.options.showContent?i.data("content").toString():o+i.html()+t}})).toArray(),a=this.multiple?o.join(this.options.multipleSeparator):o[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var r=this.options.selectedTextFormat.split(">");if(r.length>1&&o.length>r[1]||1==r.length&&o.length>=2){i=this.options.hideDisabled?", [disabled]":"";var s=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+i).length;a=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(o.length,s):this.options.countSelectedText).replace("{0}",o.length.toString()).replace("{1}",s.toString())}}null==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(a=this.options.title),a||(a=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),void 0!==this.$element.data("te-select-title")&&null!=this.$element.data("te-select-title")?this.$button.attr("title",this.$element.data("te-select-title")):this.$button.attr("title",e.trim(a.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(a),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=e||this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){var i=document.createElement("div"),n=document.createElement("div"),o=document.createElement("ul"),a=document.createElement("li"),r=document.createElement("li"),s=document.createElement("a"),l=document.createElement("span"),c=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,d=this.options.liveSearch?document.createElement("div"):null,u=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,h=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",i.className=this.$menu[0].parentNode.className+" open",n.className="te-dropdown-menu open",o.className="te-dropdown-menu te-inner",a.className="divider",l.appendChild(document.createTextNode("Inner text")),s.appendChild(l),r.appendChild(s),o.appendChild(r),o.appendChild(a),c&&n.appendChild(c),d){var f=document.createElement("input");d.className="bs-searchbox",f.className="form-control",d.appendChild(f),n.appendChild(d)}u&&n.appendChild(u),n.appendChild(o),h&&n.appendChild(h),i.appendChild(n),document.body.appendChild(i);var p=s.offsetHeight,m=c?c.offsetHeight:0,g=d?44:0,v=u?u.offsetHeight:0,y=h?h.offsetHeight:0,b=e(a).outerHeight(!0),_="function"==typeof getComputedStyle&&getComputedStyle(n),T=_?null:e(n),C={vert:parseInt(_?_.paddingTop:T.css("paddingTop"))+parseInt(_?_.paddingBottom:T.css("paddingBottom"))+parseInt(_?_.borderTopWidth:T.css("borderTopWidth"))+parseInt(_?_.borderBottomWidth:T.css("borderBottomWidth")),horiz:parseInt(_?_.paddingLeft:T.css("paddingLeft"))+parseInt(_?_.paddingRight:T.css("paddingRight"))+parseInt(_?_.borderLeftWidth:T.css("borderLeftWidth"))+parseInt(_?_.borderRightWidth:T.css("borderRightWidth"))},w={vert:C.vert+parseInt(_?_.marginTop:T.css("marginTop"))+parseInt(_?_.marginBottom:T.css("marginBottom"))+2,horiz:C.horiz+parseInt(_?_.marginLeft:T.css("marginLeft"))+parseInt(_?_.marginRight:T.css("marginRight"))+2};document.body.removeChild(i),this.sizeInfo={liHeight:p,headerHeight:m,searchHeight:g,actionsHeight:v,doneButtonHeight:y,dividerHeight:b,menuPadding:C,menuExtras:w}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var t,i,n,o,a,r,s,l,c=this,d=this.$menu,u=this.$menuInner,h=e(window),f=this.$newElement[0].offsetHeight,p=this.$newElement[0].offsetWidth,m=this.sizeInfo.liHeight,g=this.sizeInfo.headerHeight,v=this.sizeInfo.searchHeight,y=this.sizeInfo.actionsHeight,b=this.sizeInfo.doneButtonHeight,_=this.sizeInfo.dividerHeight,T=this.sizeInfo.menuPadding,C=this.sizeInfo.menuExtras,w=this.options.hideDisabled?".disabled":"",k=function(){var t,i=c.$newElement.offset(),n=e(c.options.container);c.options.container&&!n.is("body")?((t=n.offset()).top+=parseInt(n.css("borderTopWidth")),t.left+=parseInt(n.css("borderLeftWidth"))):t={top:0,left:0};var o=c.options.windowPadding;a=i.top-t.top-h.scrollTop(),r=h.height()-a-f-t.top-o[2],s=i.left-t.left-h.scrollLeft(),l=h.width()-s-p-t.left-o[1],a-=o[0],s-=o[3]};if(k(),"auto"===this.options.size){var j=function(){var h,f=function(t,i){return function(n){return i?n.classList?n.classList.contains(t):e(n).hasClass(t):!(n.classList?n.classList.contains(t):e(n).hasClass(t))}},_=c.$menuInner[0].getElementsByTagName("li"),T=Array.prototype.filter?Array.prototype.filter.call(_,f("hidden",!1)):c.$lis.not(".hidden"),w=Array.prototype.filter?Array.prototype.filter.call(T,f("dropdown-header",!0)):T.filter(".dropdown-header");k(),t=r-C.vert,i=l-C.horiz,c.options.container?(d.data("height")||d.data("height",d.height()),n=d.data("height"),d.data("width")||d.data("width",d.width()),o=d.data("width")):(n=d.height(),o=d.width()),c.options.dropupAuto&&c.$newElement.toggleClass("dropup",a>r&&t-C.vert<n),c.$newElement.hasClass("dropup")&&(t=a-C.vert),"auto"===c.options.dropdownAlignRight&&d.toggleClass("dropdown-menu-right",s>l&&i-C.horiz<o-p),h=T.length+w.length>3?3*m+C.vert-2:0,d.css({"max-height":t+"px",overflow:"hidden","min-height":h+g+v+y+b+"px"}),u.css({"max-height":t-g-v-y-b-12+"px","overflow-y":"auto","min-height":Math.max(h-12,0)+"px"})};j(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",j),h.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",j)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(w).length>this.options.size){var A=this.$lis.not(".divider").not(w).children().slice(0,this.options.size).last().parent().index(),E=this.$lis.slice(0,A+1).filter(".divider").length;t=m*this.options.size+E*_+T.vert,c.options.container?(d.data("height")||d.data("height",d.height()),n=d.data("height")):n=d.height(),c.options.dropupAuto&&this.$newElement.toggleClass("dropup",a>r&&t-C.vert<n),d.css({"max-height":t+g+v+y+b+"px",overflow:"hidden","min-height":""}),u.css({"max-height":t-T.vert+"px","overflow-y":"auto","min-height":""})}u.perfectScrollbar("update")}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var e=this.$menu.parent().clone().appendTo("#timeneye_widget_cont"),t=this.options.container?this.$newElement.clone().appendTo("#timeneye_widget_cont"):e,i=e.children(".te-dropdown-menu").outerWidth(),n=t.css("width","auto").children("button").outerWidth();e.remove(),t.remove(),this.$newElement.css("width",Math.max(i,n)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=e('<div class="bs-container" />');var t,i,n,o=this,a=e(this.options.container),r=function(e){o.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),a.is("body")?i={top:0,left:0}:((i=a.offset()).top+=parseInt(a.css("borderTopWidth"))-a.scrollTop(),i.left+=parseInt(a.css("borderLeftWidth"))-a.scrollLeft()),n=e.hasClass("dropup")?0:e[0].offsetHeight,o.$bsContainer.css({top:t.top-i.top+n,left:t.left-i.left,width:e[0].offsetWidth})};this.$button.on("click",(function(){var t=e(this);o.isDisabled()||(r(o.$newElement),o.$bsContainer.appendTo(o.options.container).toggleClass("open",!t.hasClass("open")).append(o.$menu))})),e(window).on("resize scroll",(function(){r(o.$newElement)})),this.$element.on("hide.bs.select",(function(){o.$menu.data("height",o.$menu.height()),o.$bsContainer.detach()}))},setSelected:function(e,t,i){i||(this.togglePlaceholder(),i=this.findLis().eq(this.liObj[e])),i.toggleClass("selected",t).find("a").attr("aria-selected",t)},setDisabled:function(e,t,i){i||(i=this.findLis().eq(this.liObj[e])),t?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click((function(){return!e.isDisabled()}))},togglePlaceholder:function(){var e=this.$element.val();this.$button.toggleClass("bs-placeholder",null===e||""===e||e.constructor===Array&&0===e.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var t=this,i=e(document);i.data("spaceSelect",!1),this.$button.on("keyup",(function(e){/(32)/.test(e.keyCode.toString(10))&&i.data("spaceSelect")&&(e.preventDefault(),i.data("spaceSelect",!1))})),this.$button.on("click",(function(){t.setSize()})),this.$element.on("shown.bs.select",(function(){if(t.options.liveSearch||t.multiple){if(!t.multiple){var e=t.liObj[t.$element[0].selectedIndex];if("number"!=typeof e||!1===t.options.size)return;var i=t.$lis.eq(e)[0].offsetTop-t.$menuInner[0].offsetTop;i=i-t.$menuInner[0].offsetHeight/2+t.sizeInfo.liHeight/2,t.$menuInner[0].scrollTop=i}}else t.$menuInner.find(".selected a").focus()})),this.$menuInner.on("click","li a",(function(i){var n=e(this),o=n.parent().data("originalIndex"),a=t.$element.val(),s=t.$element.prop("selectedIndex"),l=!0;if(t.multiple&&1!==t.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!n.parent().hasClass("disabled")){var c=t.$element.find("option"),d=c.eq(o),u=d.prop("selected"),h=d.parent("optgroup"),f=t.options.maxOptions,p=h.data("maxOptions")||!1;if(t.multiple){if(d.prop("selected",!u),t.setSelected(o,!u),n.blur(),!1!==f||!1!==p){var m=f<c.filter(":selected").length,g=p<h.find("option:selected").length;if(f&&m||p&&g)if(f&&1==f)c.prop("selected",!1),d.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected"),t.setSelected(o,!0);else if(p&&1==p){h.find("option:selected").prop("selected",!1),d.prop("selected",!0);var v=n.parent().data("optgroup");t.$menuInner.find('[data-optgroup="'+v+'"]').removeClass("selected"),t.setSelected(o,!0)}else{var y="string"==typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText,b="function"==typeof y?y(f,p):y,_=b[0].replace("{n}",f),T=b[1].replace("{n}",p),C=e('<div class="notify"></div>');b[2]&&(_=_.replace("{var}",b[2][f>1?0:1]),T=T.replace("{var}",b[2][p>1?0:1])),d.prop("selected",!1),t.$menu.append(C),f&&m&&(C.append(e("<div>"+_+"</div>")),l=!1,t.$element.trigger("maxReached.bs.select")),p&&g&&(C.append(e("<div>"+T+"</div>")),l=!1,t.$element.trigger("maxReachedGrp.bs.select")),setTimeout((function(){t.setSelected(o,!1)}),10),C.delay(750).fadeOut(300,(function(){e(this).remove()}))}}}else c.prop("selected",!1),d.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),t.setSelected(o,!0);!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.focus():t.options.liveSearch&&t.$searchbox.focus(),l&&(a!=t.$element.val()&&t.multiple||s!=t.$element.prop("selectedIndex")&&!t.multiple)&&(r=[o,d.prop("selected"),u],t.$element.triggerNative("change"))}})),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",(function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),t.options.liveSearch&&!e(i.target).hasClass("close")?t.$searchbox.focus():t.$button.focus())})),this.$menuInner.on("click",".divider, .dropdown-header",(function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus()})),this.$menu.on("click",".popover-title .close",(function(){t.$button.click()})),this.$searchbox.on("click",(function(e){e.stopPropagation()})),this.$menu.on("click",".actions-btn",(function(i){t.options.liveSearch?t.$searchbox.focus():t.$button.focus(),i.preventDefault(),i.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():e(this).hasClass("bs-deselect-all")?t.deselectAll():t.$button.click()})),this.$element.change((function(){t.render(!1),t.$element.trigger("changed.bs.select",r),r=null}))},liveSearchListener:function(){var t=this,i=e('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api",(function(){t.$menuInner.find(".active").removeClass("active"),t.$searchbox.val()&&(t.$searchbox.val(""),t.$lis.not(".is-hidden").removeClass("hidden"),i.parent().length&&i.remove()),t.multiple||t.$menuInner.find(".selected").addClass("active"),setTimeout((function(){t.$searchbox.focus()}),10)})),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",(function(e){e.stopPropagation()})),this.$searchbox.on("input propertychange",(function(){if(t.$lis.not(".is-hidden").removeClass("hidden"),t.$lis.filter(".active").removeClass("active"),i.remove(),t.$searchbox.val()){var n,o=t.$lis.not(".is-hidden, .divider, .dropdown-header");if((n=t.options.liveSearchNormalize?o.find("a").not(":a"+t._searchStyle()+'("'+s(t.$searchbox.val())+'")'):o.find("a").not(":"+t._searchStyle()+'("'+t.$searchbox.val()+'")')).length===o.length)i.html(t.options.noneResultsText.replace("{0}",'"'+c(t.$searchbox.val())+'"')),t.$menuInner.append(i),t.$lis.addClass("hidden");else{n.parent().addClass("hidden");var a,r=t.$lis.not(".hidden");r.each((function(t){var i=e(this);i.hasClass("divider")?void 0===a?i.addClass("hidden"):(a&&a.addClass("hidden"),a=i):i.hasClass("dropdown-header")&&r.eq(t+1).data("optgroup")!==i.data("optgroup")?i.addClass("hidden"):a=null})),a&&a.addClass("hidden"),o.not(".hidden").first().addClass("active")}}t.$menuInner.perfectScrollbar("update")}))},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(e){return void 0!==e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0),this.findLis();var i=this.$element.find("option"),n=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),o=n.length,a=[];if(t){if(n.filter(".selected").length===n.length)return}else if(0===n.filter(".selected").length)return;n.toggleClass("selected",t);for(var r=0;r<o;r++){var s=n[r].getAttribute("data-original-index");a[a.length]=i.eq(s)[0]}e(a).prop("selected",t),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click")},keydown:function(t){var i,n,o,a,r,l,c,d,u,h=e(this),f=h.is("input")?h.parent().parent():h.parent(),p=f.data("this"),m=":not(.disabled, .hidden, .dropdown-header, .divider)",g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(p.options.liveSearch&&(f=h.parent().parent()),p.options.container&&(f=p.$menu),i=e('[role="listbox"] li',f),!(u=p.$newElement.hasClass("open"))&&(t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||t.keyCode>=65&&t.keyCode<=90))return p.options.container?p.$button.trigger("click"):(p.setSize(),p.$menu.parent().addClass("open"),u=!0),void p.$searchbox.focus();if(p.options.liveSearch&&(/(^9$|27)/.test(t.keyCode.toString(10))&&u&&(t.preventDefault(),t.stopPropagation(),p.$menuInner.click(),p.$button.focus()),i=e('[role="listbox"] li'+m,f),h.val()||/(38|40)/.test(t.keyCode.toString(10))||0===i.filter(".active").length&&(i=p.$menuInner.find("li"),i=p.options.liveSearchNormalize?i.filter(":a"+p._searchStyle()+"("+s(g[t.keyCode])+")"):i.filter(":"+p._searchStyle()+"("+g[t.keyCode]+")"))),i.length){if(/(38|40)/.test(t.keyCode.toString(10)))n=i.index(i.find("a").filter(":focus").parent()),a=i.filter(m).first().index(),r=i.filter(m).last().index(),o=i.eq(n).nextAll(m).eq(0).index(),l=i.eq(n).prevAll(m).eq(0).index(),c=i.eq(o).prevAll(m).eq(0).index(),p.options.liveSearch&&(i.each((function(t){e(this).hasClass("disabled")||e(this).data("index",t)})),n=i.index(i.filter(".active")),a=i.first().data("index"),r=i.last().data("index"),o=i.eq(n).nextAll().eq(0).data("index"),l=i.eq(n).prevAll().eq(0).data("index"),c=i.eq(o).prevAll().eq(0).data("index")),d=h.data("prevIndex"),38==t.keyCode?(p.options.liveSearch&&n--,n!=c&&n>l&&(n=l),n<a&&(n=a),n==d&&(n=r)):40==t.keyCode&&(p.options.liveSearch&&n++,-1==n&&(n=0),n!=c&&n<o&&(n=o),n>r&&(n=r),n==d&&(n=a)),h.data("prevIndex",n),p.options.liveSearch?(t.preventDefault(),h.hasClass("dropdown-toggle")||(i.removeClass("active").eq(n).addClass("active").children("a").focus(),h.focus())):i.eq(n).children("a").focus();else if(!h.is("input")){var v,y=[];i.each((function(){e(this).hasClass("disabled")||e.trim(e(this).children("a").text().toLowerCase()).substring(0,1)==g[t.keyCode]&&y.push(e(this).index())})),v=e(document).data("keycount"),v++,e(document).data("keycount",v),e.trim(e(":focus").text().toLowerCase()).substring(0,1)!=g[t.keyCode]?(v=1,e(document).data("keycount",v)):v>=y.length&&(e(document).data("keycount",0),v>y.length&&(v=1)),i.eq(y[v-1]).children("a").focus()}if((/(13|32)/.test(t.keyCode.toString(10))||/(^9$)/.test(t.keyCode.toString(10))&&p.options.selectOnTab)&&u){if(/(32)/.test(t.keyCode.toString(10))||t.preventDefault(),p.options.liveSearch)/(32)/.test(t.keyCode.toString(10))||(p.$menuInner.find(".active a").click(),h.focus());else{var b=e(":focus");b.click(),b.focus(),t.preventDefault(),e(document).data("spaceSelect",!0)}e(document).data("keycount",0)}(/(^9$|27)/.test(t.keyCode.toString(10))&&u&&(p.multiple||p.options.liveSearch)||/(27)/.test(t.keyCode.toString(10))&&!u)&&(p.$menu.parent().removeClass("open"),p.options.container&&p.$newElement.removeClass("open"),p.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var h=e.fn.selectpicker;e.fn.selectpicker=u,e.fn.selectpicker.Constructor=d,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=h,this},e(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=te-dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',d.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=te-dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',(function(e){e.stopPropagation()})),e(window).on("load.bs.select.data-api",(function(){e(".selectpicker").each((function(){var t=e(this);u.call(t,t.data())}))}))}(e)}));var firstBy=function(){function e(e){return e}function t(e){return"string"==typeof e?e.toLowerCase():e}return function i(n,o){var a="function"==typeof this&&this,r=function(i,n){if(n="number"==typeof n?{direction:n}:n||{},"function"!=typeof i){var o=i;i=function(e){return e[o]?e[o]:""}}if(1===i.length){var a=i,r=n.ignoreCase?t:e;i=function(e,t){return r(a(e))<r(a(t))?-1:r(a(e))>r(a(t))?1:0}}return-1===n.direction?function(e,t){return-i(e,t)}:i}(n,o),s=a?function(e,t){return a(e,t)||r(e,t)}:r;return s.thenBy=i,s}}(),generateUUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:3&i|8).toString(16)}))};
/*!
 * iCheck v1.0.2, http://git.io/arlzeA
 * ===================================
 * Powerful jQuery and Zepto plugin for checkboxes and radio buttons customization
 *
 * (c) 2013 Damir Sultanov, http://fronteed.com
 * MIT Licensed
 */
!function(e){var t="touchbegin.i touchend.i",i="addClass",n="removeClass",o=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);function a(e,t,i){var n=e[0],o=/er/.test(i)?"indeterminate":/bl/.test(i)?"disabled":"checked",a="update"==i?{checked:n.checked,disabled:n.disabled,indeterminate:"true"==e.attr("indeterminate")||"false"==e.attr("determinate")}:n[o];if(/^(ch|di|in)/.test(i)&&!a)r(e,o);else if(/^(un|en|de)/.test(i)&&a)s(e,o);else if("update"==i)for(var l in a)a[l]?r(e,l,!0):s(e,l,!0);else t&&"toggle"!=i||(t||e.trigger("ifClicked"),a?"radio"!==n.type&&s(e,o):r(e,o))}function r(t,o,a){var r=t[0],l=t.parent(),h="checked"==o,f="indeterminate"==o,p="disabled"==o,m=f?"determinate":h?"unchecked":"enabled",g=c(t,m+d(r.type)),v=c(t,o+d(r.type));if(!0!==r[o]){if(!a&&"checked"==o&&"radio"==r.type&&r.name){var y=t.closest("form"),b='input[name="'+r.name+'"]';(b=y.length?y.find(b):e(b)).each((function(){this!==r&&e(this).data("iCheck")&&s(e(this),o)}))}f?(r[o]=!0,r.checked&&s(t,"checked","force")):(a||(r[o]=!0),h&&r.indeterminate&&s(t,"indeterminate",!1)),u(t,h,o,a)}r.disabled&&c(t,"cursor",!0)&&l.find(".iCheck-helper").css("cursor","default"),l[i](v||c(t,o)||""),l.attr("role")&&!f&&l.attr("aria-"+(p?"disabled":"checked"),"true"),l[n](g||c(t,m)||"")}function s(e,t,o){var a=e[0],r=e.parent(),s="checked"==t,l="indeterminate"==t,h="disabled"==t,f=l?"determinate":s?"unchecked":"enabled",p=c(e,f+d(a.type)),m=c(e,t+d(a.type));!1!==a[t]&&(!l&&o&&"force"!=o||(a[t]=!1),u(e,s,f,o)),!a.disabled&&c(e,"cursor",!0)&&r.find(".iCheck-helper").css("cursor","pointer"),r[n](m||c(e,t)||""),r.attr("role")&&!l&&r.attr("aria-"+(h?"disabled":"checked"),"false"),r[i](p||c(e,f)||"")}function l(t,i){t.data("iCheck")&&(t.parent().html(t.attr("style",t.data("iCheck").s||"")),i&&t.trigger(i),t.off(".i").unwrap(),e('label[for="'+t[0].id+'"]').add(t.closest("label")).off(".i"))}function c(e,t,i){if(e.data("iCheck"))return e.data("iCheck").o[t+(i?"":"Class")]}function d(e){return e.charAt(0).toUpperCase()+e.slice(1)}function u(e,t,i,n){n||(t&&e.trigger("ifToggled"),e.trigger("ifChanged").trigger("if"+d(i)))}e.fn.iCheck=function(c,d){var u='input[type="checkbox"], input[type="radio"]',h=e(),f=function(t){t.each((function(){var t=e(this);h=t.is(u)?h.add(t):h.add(t.find(u))}))};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(c))return c=c.toLowerCase(),f(this),h.each((function(){var t=e(this);"destroy"==c?l(t,"ifDestroyed"):a(t,!0,c),e.isFunction(d)&&d()}));if("object"!=typeof c&&c)return this;var p=e.extend({checkedClass:"checked",disabledClass:"disabled",indeterminateClass:"indeterminate",labelHover:!0},c),m=p.handle,g=p.hoverClass||"hover",v=p.focusClass||"focus",y=p.activeClass||"active",b=!!p.labelHover,_=p.labelHoverClass||"hover",T=0|(""+p.increaseArea).replace("%","");return"checkbox"!=m&&"radio"!=m||(u='input[type="'+m+'"]'),T<-50&&(T=-50),f(this),h.each((function(){var c=e(this);l(c);var d,u=this,h=u.id,f=-T+"%",m=100+2*T+"%",C={position:"absolute",top:f,left:f,display:"block",width:m,height:m,margin:0,padding:0,background:"#fff",border:0,opacity:0},w=o?{position:"absolute",visibility:"hidden"}:T?C:{position:"absolute",opacity:0},k="checkbox"==u.type?p.checkboxClass||"icheckbox":p.radioClass||"iradio",j=e('label[for="'+h+'"]').add(c.closest("label")),A=!!p.aria,E="iCheck-"+Math.random().toString(36).substr(2,6),I='<div class="'+k+'" '+(A?'role="'+u.type+'" ':"");A&&j.each((function(){I+='aria-labelledby="',this.id?I+=this.id:(this.id=E,I+=E),I+='"'})),I=c.wrap(I+"/>").trigger("ifCreated").parent().append(p.insert),d=e('<ins class="iCheck-helper"/>').css(C).appendTo(I),c.data("iCheck",{o:p,s:c.attr("style")}).css(w),p.inheritClass&&I[i](u.className||""),p.inheritID&&h&&I.attr("id","iCheck-"+h),"static"==I.css("position")&&I.css("position","relative"),a(c,!0,"update"),j.length&&j.on("click.i mouseover.i mouseout.i "+t,(function(t){var r=t.type,s=e(this);if(!u.disabled){if("click"==r){if(e(t.target).is("a"))return;a(c,!1,!0)}else b&&(/ut|nd/.test(r)?(I[n](g),s[n](_)):(I[i](g),s[i](_)));if(!o)return!1;t.stopPropagation()}})),c.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",(function(e){var t=e.type,o=e.keyCode;return"click"!=t&&("keydown"==t&&32==o?("radio"==u.type&&u.checked||(u.checked?s(c,"checked"):r(c,"checked")),!1):void("keyup"==t&&"radio"==u.type?!u.checked&&r(c,"checked"):/us|ur/.test(t)&&I["blur"==t?n:i](v)))})),d.on("click mousedown mouseup mouseover mouseout "+t,(function(e){var t=e.type,r=/wn|up/.test(t)?y:g;if(!u.disabled){if("click"==t?a(c,!1,!0):(/wn|er|in/.test(t)?I[i](r):I[n](r+" "+y),j.length&&b&&r==g&&j[/ut|nd/.test(t)?n:i](_)),!o)return!1;e.stopPropagation()}}))}))}}(window.jQuery||window.Zepto),function(){var e="Expected a function",t="__lodash_placeholder__",i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],n="[object Arguments]",o="[object Array]",a="[object Boolean]",r="[object Date]",s="[object Error]",l="[object Function]",c="[object GeneratorFunction]",d="[object Map]",u="[object Number]",h="[object Object]",f="[object RegExp]",p="[object Set]",m="[object String]",g="[object Symbol]",v="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",T="[object Float64Array]",C="[object Int8Array]",w="[object Int16Array]",k="[object Int32Array]",j="[object Uint8Array]",A="[object Uint16Array]",E="[object Uint32Array]",I=/\b__p \+= '';/g,x=/\b(__p \+=) '' \+/g,S=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,M=RegExp(D.source),Q=RegExp(L.source),N=/<%-([\s\S]+?)%>/g,O=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F=/^\w*$/,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R=/[\\^$.*+?()[\]{}|]/g,U=RegExp(R.source),B=/^\s+|\s+$/g,$=/^\s+/,q=/\s+$/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,W=/\{\n\/\* \[wrapped with (.+)\] \*/,V=/,? & /,z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,X=/\\(\\)?/g,K=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,J=/\w*$/,Z=/^[-+]0x[0-9a-f]+$/i,ee=/^0b[01]+$/i,te=/^\[object .+?Constructor\]$/,ie=/^0o[0-7]+$/i,ne=/^(?:0|[1-9]\d*)$/,oe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ae=/($^)/,re=/['\n\r\u2028\u2029\\]/g,se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",le="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ce="[\\ud800-\\udfff]",de="["+le+"]",ue="["+se+"]",he="\\d+",fe="[\\u2700-\\u27bf]",pe="[a-z\\xdf-\\xf6\\xf8-\\xff]",me="[^\\ud800-\\udfff"+le+he+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ge="\\ud83c[\\udffb-\\udfff]",ve="[^\\ud800-\\udfff]",ye="(?:\\ud83c[\\udde6-\\uddff]){2}",be="[\\ud800-\\udbff][\\udc00-\\udfff]",_e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Te="(?:"+pe+"|"+me+")",Ce="(?:"+_e+"|"+me+")",we="(?:"+ue+"|"+ge+")"+"?",ke="[\\ufe0e\\ufe0f]?"+we+("(?:\\u200d(?:"+[ve,ye,be].join("|")+")[\\ufe0e\\ufe0f]?"+we+")*"),je="(?:"+[fe,ye,be].join("|")+")"+ke,Ae="(?:"+[ve+ue+"?",ue,ye,be,ce].join("|")+")",Ee=RegExp("['â]","g"),Ie=RegExp(ue,"g"),xe=RegExp(ge+"(?="+ge+")|"+Ae+ke,"g"),Se=RegExp([_e+"?"+pe+"+(?:['â](?:d|ll|m|re|s|t|ve))?(?="+[de,_e,"$"].join("|")+")",Ce+"+(?:['â](?:D|LL|M|RE|S|T|VE))?(?="+[de,_e+Te,"$"].join("|")+")",_e+"?"+Te+"+(?:['â](?:d|ll|m|re|s|t|ve))?",_e+"+(?:['â](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",he,je].join("|"),"g"),De=RegExp("[\\u200d\\ud800-\\udfff"+se+"\\ufe0e\\ufe0f]"),Le=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Me=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qe=-1,Ne={};Ne[_]=Ne[T]=Ne[C]=Ne[w]=Ne[k]=Ne[j]=Ne["[object Uint8ClampedArray]"]=Ne[A]=Ne[E]=!0,Ne[n]=Ne[o]=Ne[y]=Ne[a]=Ne[b]=Ne[r]=Ne[s]=Ne[l]=Ne[d]=Ne[u]=Ne[h]=Ne[f]=Ne[p]=Ne[m]=Ne[v]=!1;var Oe={};Oe[n]=Oe[o]=Oe[y]=Oe[b]=Oe[a]=Oe[r]=Oe[_]=Oe[T]=Oe[C]=Oe[w]=Oe[k]=Oe[d]=Oe[u]=Oe[h]=Oe[f]=Oe[p]=Oe[m]=Oe[g]=Oe[j]=Oe["[object Uint8ClampedArray]"]=Oe[A]=Oe[E]=!0,Oe[s]=Oe[l]=Oe[v]=!1;var He={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pe=parseFloat,Fe=parseInt,Ge="object"==typeof global&&global&&global.Object===Object&&global,Re="object"==typeof self&&self&&self.Object===Object&&self,Ue=Ge||Re||Function("return this")(),Be="object"==typeof exports&&exports&&!exports.nodeType&&exports,$e=Be&&"object"==typeof module&&module&&!module.nodeType&&module,qe=$e&&$e.exports===Be,Ye=qe&&Ge.process,We=function(){try{var e=$e&&$e.require&&$e.require("util").types;return e||Ye&&Ye.binding&&Ye.binding("util")}catch(e){}}(),Ve=We&&We.isArrayBuffer,ze=We&&We.isDate,Xe=We&&We.isMap,Ke=We&&We.isRegExp,Je=We&&We.isSet,Ze=We&&We.isTypedArray;function et(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function tt(e,t,i,n){for(var o=-1,a=null==e?0:e.length;++o<a;){var r=e[o];t(n,r,i(r),e)}return n}function it(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}function nt(e,t){for(var i=null==e?0:e.length;i--&&!1!==t(e[i],i,e););return e}function ot(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function at(e,t){for(var i=-1,n=null==e?0:e.length,o=0,a=[];++i<n;){var r=e[i];t(r,i,e)&&(a[o++]=r)}return a}function rt(e,t){return!!(null==e?0:e.length)&&gt(e,t,0)>-1}function st(e,t,i){for(var n=-1,o=null==e?0:e.length;++n<o;)if(i(t,e[n]))return!0;return!1}function lt(e,t){for(var i=-1,n=null==e?0:e.length,o=Array(n);++i<n;)o[i]=t(e[i],i,e);return o}function ct(e,t){for(var i=-1,n=t.length,o=e.length;++i<n;)e[o+i]=t[i];return e}function dt(e,t,i,n){var o=-1,a=null==e?0:e.length;for(n&&a&&(i=e[++o]);++o<a;)i=t(i,e[o],o,e);return i}function ut(e,t,i,n){var o=null==e?0:e.length;for(n&&o&&(i=e[--o]);o--;)i=t(i,e[o],o,e);return i}function ht(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}var ft=_t("length");function pt(e,t,i){var n;return i(e,(function(e,i,o){if(t(e,i,o))return n=i,!1})),n}function mt(e,t,i,n){for(var o=e.length,a=i+(n?1:-1);n?a--:++a<o;)if(t(e[a],a,e))return a;return-1}function gt(e,t,i){return t==t?function(e,t,i){var n=i-1,o=e.length;for(;++n<o;)if(e[n]===t)return n;return-1}(e,t,i):mt(e,yt,i)}function vt(e,t,i,n){for(var o=i-1,a=e.length;++o<a;)if(n(e[o],t))return o;return-1}function yt(e){return e!=e}function bt(e,t){var i=null==e?0:e.length;return i?wt(e,t)/i:NaN}function _t(e){return function(t){return null==t?void 0:t[e]}}function Tt(e){return function(t){return null==e?void 0:e[t]}}function Ct(e,t,i,n,o){return o(e,(function(e,o,a){i=n?(n=!1,e):t(i,e,o,a)})),i}function wt(e,t){for(var i,n=-1,o=e.length;++n<o;){var a=t(e[n]);void 0!==a&&(i=void 0===i?a:i+a)}return i}function kt(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function jt(e){return function(t){return e(t)}}function At(e,t){return lt(t,(function(t){return e[t]}))}function Et(e,t){return e.has(t)}function It(e,t){for(var i=-1,n=e.length;++i<n&&gt(t,e[i],0)>-1;);return i}function xt(e,t){for(var i=e.length;i--&&gt(t,e[i],0)>-1;);return i}function St(e,t){for(var i=e.length,n=0;i--;)e[i]===t&&++n;return n}var Dt=Tt({"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"}),Lt=Tt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Mt(e){return"\\"+He[e]}function Qt(e){return De.test(e)}function Nt(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function Ot(e,t){return function(i){return e(t(i))}}function Ht(e,i){for(var n=-1,o=e.length,a=0,r=[];++n<o;){var s=e[n];s!==i&&s!==t||(e[n]=t,r[a++]=n)}return r}function Pt(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}function Ft(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=[e,e]})),i}function Gt(e){return Qt(e)?function(e){var t=xe.lastIndex=0;for(;xe.test(e);)++t;return t}(e):ft(e)}function Rt(e){return Qt(e)?function(e){return e.match(xe)||[]}(e):function(e){return e.split("")}(e)}var Ut=Tt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Bt=function se(le){var ce,de=(le=null==le?Ue:Bt.defaults(Ue.Object(),le,Bt.pick(Ue,Me))).Array,ue=le.Date,he=le.Error,fe=le.Function,pe=le.Math,me=le.Object,ge=le.RegExp,ve=le.String,ye=le.TypeError,be=de.prototype,_e=fe.prototype,Te=me.prototype,Ce=le["__core-js_shared__"],we=_e.toString,ke=Te.hasOwnProperty,je=0,Ae=(ce=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||""))?"Symbol(src)_1."+ce:"",xe=Te.toString,De=we.call(me),He=Ue._,Ge=ge("^"+we.call(ke).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Re=qe?le.Buffer:void 0,Be=le.Symbol,$e=le.Uint8Array,Ye=Re?Re.allocUnsafe:void 0,We=Ot(me.getPrototypeOf,me),ft=me.create,Tt=Te.propertyIsEnumerable,$t=be.splice,qt=Be?Be.isConcatSpreadable:void 0,Yt=Be?Be.iterator:void 0,Wt=Be?Be.toStringTag:void 0,Vt=function(){try{var e=ea(me,"defineProperty");return e({},"",{}),e}catch(e){}}(),zt=le.clearTimeout!==Ue.clearTimeout&&le.clearTimeout,Xt=ue&&ue.now!==Ue.Date.now&&ue.now,Kt=le.setTimeout!==Ue.setTimeout&&le.setTimeout,Jt=pe.ceil,Zt=pe.floor,ei=me.getOwnPropertySymbols,ti=Re?Re.isBuffer:void 0,ii=le.isFinite,ni=be.join,oi=Ot(me.keys,me),ai=pe.max,ri=pe.min,si=ue.now,li=le.parseInt,ci=pe.random,di=be.reverse,ui=ea(le,"DataView"),hi=ea(le,"Map"),fi=ea(le,"Promise"),pi=ea(le,"Set"),mi=ea(le,"WeakMap"),gi=ea(me,"create"),vi=mi&&new mi,yi={},bi=Ea(ui),_i=Ea(hi),Ti=Ea(fi),Ci=Ea(pi),wi=Ea(mi),ki=Be?Be.prototype:void 0,ji=ki?ki.valueOf:void 0,Ai=ki?ki.toString:void 0;function Ei(e){if($r(e)&&!Mr(e)&&!(e instanceof Di)){if(e instanceof Si)return e;if(ke.call(e,"__wrapped__"))return Ia(e)}return new Si(e)}var Ii=function(){function e(){}return function(t){if(!Br(t))return{};if(ft)return ft(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function xi(){}function Si(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Di(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Li(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Mi(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Qi(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Ni(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new Qi;++t<i;)this.add(e[t])}function Oi(e){var t=this.__data__=new Mi(e);this.size=t.size}function Hi(e,t){var i=Mr(e),n=!i&&Lr(e),o=!i&&!n&&Hr(e),a=!i&&!n&&!o&&Jr(e),r=i||n||o||a,s=r?kt(e.length,ve):[],l=s.length;for(var c in e)!t&&!ke.call(e,c)||r&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||sa(c,l))||s.push(c);return s}function Pi(e){var t=e.length;return t?e[On(0,t-1)]:void 0}function Fi(e,t){return ka(yo(e),Vi(t,0,e.length))}function Gi(e){return ka(yo(e))}function Ri(e,t,i){(void 0!==i&&!xr(e[t],i)||void 0===i&&!(t in e))&&Yi(e,t,i)}function Ui(e,t,i){var n=e[t];ke.call(e,t)&&xr(n,i)&&(void 0!==i||t in e)||Yi(e,t,i)}function Bi(e,t){for(var i=e.length;i--;)if(xr(e[i][0],t))return i;return-1}function $i(e,t,i,n){return Zi(e,(function(e,o,a){t(n,e,i(e),a)})),n}function qi(e,t){return e&&bo(t,_s(t),e)}function Yi(e,t,i){"__proto__"==t&&Vt?Vt(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function Wi(e,t){for(var i=-1,n=t.length,o=de(n),a=null==e;++i<n;)o[i]=a?void 0:ms(e,t[i]);return o}function Vi(e,t,i){return e==e&&(void 0!==i&&(e=e<=i?e:i),void 0!==t&&(e=e>=t?e:t)),e}function zi(e,t,i,o,s,v){var I,x=1&t,S=2&t,D=4&t;if(i&&(I=s?i(e,o,s,v):i(e)),void 0!==I)return I;if(!Br(e))return e;var L=Mr(e);if(L){if(I=function(e){var t=e.length,i=new e.constructor(t);t&&"string"==typeof e[0]&&ke.call(e,"index")&&(i.index=e.index,i.input=e.input);return i}(e),!x)return yo(e,I)}else{var M=na(e),Q=M==l||M==c;if(Hr(e))return ho(e,x);if(M==h||M==n||Q&&!s){if(I=S||Q?{}:aa(e),!x)return S?function(e,t){return bo(e,ia(e),t)}(e,function(e,t){return e&&bo(t,Ts(t),e)}(I,e)):function(e,t){return bo(e,ta(e),t)}(e,qi(I,e))}else{if(!Oe[M])return s?e:{};I=function(e,t,i){var n=e.constructor;switch(t){case y:return fo(e);case a:case r:return new n(+e);case b:return function(e,t){var i=t?fo(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}(e,i);case _:case T:case C:case w:case k:case j:case"[object Uint8ClampedArray]":case A:case E:return po(e,i);case d:return new n;case u:case m:return new n(e);case f:return function(e){var t=new e.constructor(e.source,J.exec(e));return t.lastIndex=e.lastIndex,t}(e);case p:return new n;case g:return o=e,ji?me(ji.call(o)):{}}var o}(e,M,x)}}v||(v=new Oi);var N=v.get(e);if(N)return N;if(v.set(e,I),zr(e))return e.forEach((function(n){I.add(zi(n,t,i,n,e,v))})),I;if(qr(e))return e.forEach((function(n,o){I.set(o,zi(n,t,i,o,e,v))})),I;var O=L?void 0:(D?S?Wo:Yo:S?Ts:_s)(e);return it(O||e,(function(n,o){O&&(n=e[o=n]),Ui(I,o,zi(n,t,i,o,e,v))})),I}function Xi(e,t,i){var n=i.length;if(null==e)return!n;for(e=me(e);n--;){var o=i[n],a=t[o],r=e[o];if(void 0===r&&!(o in e)||!a(r))return!1}return!0}function Ki(t,i,n){if("function"!=typeof t)throw new ye(e);return _a((function(){t.apply(void 0,n)}),i)}function Ji(e,t,i,n){var o=-1,a=rt,r=!0,s=e.length,l=[],c=t.length;if(!s)return l;i&&(t=lt(t,jt(i))),n?(a=st,r=!1):t.length>=200&&(a=Et,r=!1,t=new Ni(t));e:for(;++o<s;){var d=e[o],u=null==i?d:i(d);if(d=n||0!==d?d:0,r&&u==u){for(var h=c;h--;)if(t[h]===u)continue e;l.push(d)}else a(t,u,n)||l.push(d)}return l}Ei.templateSettings={escape:N,evaluate:O,interpolate:H,variable:"",imports:{_:Ei}},Ei.prototype=xi.prototype,Ei.prototype.constructor=Ei,Si.prototype=Ii(xi.prototype),Si.prototype.constructor=Si,Di.prototype=Ii(xi.prototype),Di.prototype.constructor=Di,Li.prototype.clear=function(){this.__data__=gi?gi(null):{},this.size=0},Li.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Li.prototype.get=function(e){var t=this.__data__;if(gi){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return ke.call(t,e)?t[e]:void 0},Li.prototype.has=function(e){var t=this.__data__;return gi?void 0!==t[e]:ke.call(t,e)},Li.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=gi&&void 0===t?"__lodash_hash_undefined__":t,this},Mi.prototype.clear=function(){this.__data__=[],this.size=0},Mi.prototype.delete=function(e){var t=this.__data__,i=Bi(t,e);return!(i<0)&&(i==t.length-1?t.pop():$t.call(t,i,1),--this.size,!0)},Mi.prototype.get=function(e){var t=this.__data__,i=Bi(t,e);return i<0?void 0:t[i][1]},Mi.prototype.has=function(e){return Bi(this.__data__,e)>-1},Mi.prototype.set=function(e,t){var i=this.__data__,n=Bi(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},Qi.prototype.clear=function(){this.size=0,this.__data__={hash:new Li,map:new(hi||Mi),string:new Li}},Qi.prototype.delete=function(e){var t=Jo(this,e).delete(e);return this.size-=t?1:0,t},Qi.prototype.get=function(e){return Jo(this,e).get(e)},Qi.prototype.has=function(e){return Jo(this,e).has(e)},Qi.prototype.set=function(e,t){var i=Jo(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},Ni.prototype.add=Ni.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ni.prototype.has=function(e){return this.__data__.has(e)},Oi.prototype.clear=function(){this.__data__=new Mi,this.size=0},Oi.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},Oi.prototype.get=function(e){return this.__data__.get(e)},Oi.prototype.has=function(e){return this.__data__.has(e)},Oi.prototype.set=function(e,t){var i=this.__data__;if(i instanceof Mi){var n=i.__data__;if(!hi||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new Qi(n)}return i.set(e,t),this.size=i.size,this};var Zi=Co(ln),en=Co(cn,!0);function tn(e,t){var i=!0;return Zi(e,(function(e,n,o){return i=!!t(e,n,o)})),i}function nn(e,t,i){for(var n=-1,o=e.length;++n<o;){var a=e[n],r=t(a);if(null!=r&&(void 0===s?r==r&&!Kr(r):i(r,s)))var s=r,l=a}return l}function on(e,t){var i=[];return Zi(e,(function(e,n,o){t(e,n,o)&&i.push(e)})),i}function an(e,t,i,n,o){var a=-1,r=e.length;for(i||(i=ra),o||(o=[]);++a<r;){var s=e[a];t>0&&i(s)?t>1?an(s,t-1,i,n,o):ct(o,s):n||(o[o.length]=s)}return o}var rn=wo(),sn=wo(!0);function ln(e,t){return e&&rn(e,t,_s)}function cn(e,t){return e&&sn(e,t,_s)}function dn(e,t){return at(t,(function(t){return Gr(e[t])}))}function un(e,t){for(var i=0,n=(t=so(t,e)).length;null!=e&&i<n;)e=e[Aa(t[i++])];return i&&i==n?e:void 0}function hn(e,t,i){var n=t(e);return Mr(e)?n:ct(n,i(e))}function fn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Wt&&Wt in me(e)?function(e){var t=ke.call(e,Wt),i=e[Wt];try{e[Wt]=void 0;var n=!0}catch(e){}var o=xe.call(e);n&&(t?e[Wt]=i:delete e[Wt]);return o}(e):function(e){return xe.call(e)}(e)}function pn(e,t){return e>t}function mn(e,t){return null!=e&&ke.call(e,t)}function gn(e,t){return null!=e&&t in me(e)}function vn(e,t,i){for(var n=i?st:rt,o=e[0].length,a=e.length,r=a,s=de(a),l=1/0,c=[];r--;){var d=e[r];r&&t&&(d=lt(d,jt(t))),l=ri(d.length,l),s[r]=!i&&(t||o>=120&&d.length>=120)?new Ni(r&&d):void 0}d=e[0];var u=-1,h=s[0];e:for(;++u<o&&c.length<l;){var f=d[u],p=t?t(f):f;if(f=i||0!==f?f:0,!(h?Et(h,p):n(c,p,i))){for(r=a;--r;){var m=s[r];if(!(m?Et(m,p):n(e[r],p,i)))continue e}h&&h.push(p),c.push(f)}}return c}function yn(e,t,i){var n=null==(e=ga(e,t=so(t,e)))?e:e[Aa(Fa(t))];return null==n?void 0:et(n,e,i)}function bn(e){return $r(e)&&fn(e)==n}function _n(e,t,i,l,c){return e===t||(null==e||null==t||!$r(e)&&!$r(t)?e!=e&&t!=t:function(e,t,i,l,c,v){var _=Mr(e),T=Mr(t),C=_?o:na(e),w=T?o:na(t),k=(C=C==n?h:C)==h,j=(w=w==n?h:w)==h,A=C==w;if(A&&Hr(e)){if(!Hr(t))return!1;_=!0,k=!1}if(A&&!k)return v||(v=new Oi),_||Jr(e)?$o(e,t,i,l,c,v):function(e,t,i,n,o,l,c){switch(i){case b:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!l(new $e(e),new $e(t)));case a:case r:case u:return xr(+e,+t);case s:return e.name==t.name&&e.message==t.message;case f:case m:return e==t+"";case d:var h=Nt;case p:var v=1&n;if(h||(h=Pt),e.size!=t.size&&!v)return!1;var _=c.get(e);if(_)return _==t;n|=2,c.set(e,t);var T=$o(h(e),h(t),n,o,l,c);return c.delete(e),T;case g:if(ji)return ji.call(e)==ji.call(t)}return!1}(e,t,C,i,l,c,v);if(!(1&i)){var E=k&&ke.call(e,"__wrapped__"),I=j&&ke.call(t,"__wrapped__");if(E||I){var x=E?e.value():e,S=I?t.value():t;return v||(v=new Oi),c(x,S,i,l,v)}}if(!A)return!1;return v||(v=new Oi),function(e,t,i,n,o,a){var r=1&i,s=Yo(e),l=s.length,c=Yo(t).length;if(l!=c&&!r)return!1;var d=l;for(;d--;){var u=s[d];if(!(r?u in t:ke.call(t,u)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var f=!0;a.set(e,t),a.set(t,e);var p=r;for(;++d<l;){u=s[d];var m=e[u],g=t[u];if(n)var v=r?n(g,m,u,t,e,a):n(m,g,u,e,t,a);if(!(void 0===v?m===g||o(m,g,i,n,a):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return a.delete(e),a.delete(t),f}(e,t,i,l,c,v)}(e,t,i,l,_n,c))}function Tn(e,t,i,n){var o=i.length,a=o,r=!n;if(null==e)return!a;for(e=me(e);o--;){var s=i[o];if(r&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<a;){var l=(s=i[o])[0],c=e[l],d=s[1];if(r&&s[2]){if(void 0===c&&!(l in e))return!1}else{var u=new Oi;if(n)var h=n(c,d,l,e,t,u);if(!(void 0===h?_n(d,c,3,n,u):h))return!1}}return!0}function Cn(e){return!(!Br(e)||(t=e,Ae&&Ae in t))&&(Gr(e)?Ge:te).test(Ea(e));var t}function wn(e){return"function"==typeof e?e:null==e?Ys:"object"==typeof e?Mr(e)?xn(e[0],e[1]):In(e):tl(e)}function kn(e){if(!ha(e))return oi(e);var t=[];for(var i in me(e))ke.call(e,i)&&"constructor"!=i&&t.push(i);return t}function jn(e){if(!Br(e))return function(e){var t=[];if(null!=e)for(var i in me(e))t.push(i);return t}(e);var t=ha(e),i=[];for(var n in e)("constructor"!=n||!t&&ke.call(e,n))&&i.push(n);return i}function An(e,t){return e<t}function En(e,t){var i=-1,n=Nr(e)?de(e.length):[];return Zi(e,(function(e,o,a){n[++i]=t(e,o,a)})),n}function In(e){var t=Zo(e);return 1==t.length&&t[0][2]?pa(t[0][0],t[0][1]):function(i){return i===e||Tn(i,e,t)}}function xn(e,t){return ca(e)&&fa(t)?pa(Aa(e),t):function(i){var n=ms(i,e);return void 0===n&&n===t?gs(i,e):_n(t,n,3)}}function Sn(e,t,i,n,o){e!==t&&rn(t,(function(a,r){if(Br(a))o||(o=new Oi),function(e,t,i,n,o,a,r){var s=ya(e,i),l=ya(t,i),c=r.get(l);if(c)return void Ri(e,i,c);var d=a?a(s,l,i+"",e,t,r):void 0,u=void 0===d;if(u){var h=Mr(l),f=!h&&Hr(l),p=!h&&!f&&Jr(l);d=l,h||f||p?Mr(s)?d=s:Or(s)?d=yo(s):f?(u=!1,d=ho(l,!0)):p?(u=!1,d=po(l,!0)):d=[]:Wr(l)||Lr(l)?(d=s,Lr(s)?d=rs(s):Br(s)&&!Gr(s)||(d=aa(l))):u=!1}u&&(r.set(l,d),o(d,l,n,a,r),r.delete(l));Ri(e,i,d)}(e,t,r,i,Sn,n,o);else{var s=n?n(ya(e,r),a,r+"",e,t,o):void 0;void 0===s&&(s=a),Ri(e,r,s)}}),Ts)}function Dn(e,t){var i=e.length;if(i)return sa(t+=t<0?i:0,i)?e[t]:void 0}function Ln(e,t,i){var n=-1;return t=lt(t.length?t:[Ys],jt(Ko())),function(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}(En(e,(function(e,i,o){return{criteria:lt(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,i){var n=-1,o=e.criteria,a=t.criteria,r=o.length,s=i.length;for(;++n<r;){var l=mo(o[n],a[n]);if(l){if(n>=s)return l;var c=i[n];return l*("desc"==c?-1:1)}}return e.index-t.index}(e,t,i)}))}function Mn(e,t,i){for(var n=-1,o=t.length,a={};++n<o;){var r=t[n],s=un(e,r);i(s,r)&&Rn(a,so(r,e),s)}return a}function Qn(e,t,i,n){var o=n?vt:gt,a=-1,r=t.length,s=e;for(e===t&&(t=yo(t)),i&&(s=lt(e,jt(i)));++a<r;)for(var l=0,c=t[a],d=i?i(c):c;(l=o(s,d,l,n))>-1;)s!==e&&$t.call(s,l,1),$t.call(e,l,1);return e}function Nn(e,t){for(var i=e?t.length:0,n=i-1;i--;){var o=t[i];if(i==n||o!==a){var a=o;sa(o)?$t.call(e,o,1):Zn(e,o)}}return e}function On(e,t){return e+Zt(ci()*(t-e+1))}function Hn(e,t){var i="";if(!e||t<1||t>9007199254740991)return i;do{t%2&&(i+=e),(t=Zt(t/2))&&(e+=e)}while(t);return i}function Pn(e,t){return Ta(ma(e,t,Ys),e+"")}function Fn(e){return Pi(xs(e))}function Gn(e,t){var i=xs(e);return ka(i,Vi(t,0,i.length))}function Rn(e,t,i,n){if(!Br(e))return e;for(var o=-1,a=(t=so(t,e)).length,r=a-1,s=e;null!=s&&++o<a;){var l=Aa(t[o]),c=i;if(o!=r){var d=s[l];void 0===(c=n?n(d,l,s):void 0)&&(c=Br(d)?d:sa(t[o+1])?[]:{})}Ui(s,l,c),s=s[l]}return e}var Un=vi?function(e,t){return vi.set(e,t),e}:Ys,Bn=Vt?function(e,t){return Vt(e,"toString",{configurable:!0,enumerable:!1,value:Bs(t),writable:!0})}:Ys;function $n(e){return ka(xs(e))}function qn(e,t,i){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(i=i>o?o:i)<0&&(i+=o),o=t>i?0:i-t>>>0,t>>>=0;for(var a=de(o);++n<o;)a[n]=e[n+t];return a}function Yn(e,t){var i;return Zi(e,(function(e,n,o){return!(i=t(e,n,o))})),!!i}function Wn(e,t,i){var n=0,o=null==e?n:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;n<o;){var a=n+o>>>1,r=e[a];null!==r&&!Kr(r)&&(i?r<=t:r<t)?n=a+1:o=a}return o}return Vn(e,t,Ys,i)}function Vn(e,t,i,n){t=i(t);for(var o=0,a=null==e?0:e.length,r=t!=t,s=null===t,l=Kr(t),c=void 0===t;o<a;){var d=Zt((o+a)/2),u=i(e[d]),h=void 0!==u,f=null===u,p=u==u,m=Kr(u);if(r)var g=n||p;else g=c?p&&(n||h):s?p&&h&&(n||!f):l?p&&h&&!f&&(n||!m):!f&&!m&&(n?u<=t:u<t);g?o=d+1:a=d}return ri(a,4294967294)}function zn(e,t){for(var i=-1,n=e.length,o=0,a=[];++i<n;){var r=e[i],s=t?t(r):r;if(!i||!xr(s,l)){var l=s;a[o++]=0===r?0:r}}return a}function Xn(e){return"number"==typeof e?e:Kr(e)?NaN:+e}function Kn(e){if("string"==typeof e)return e;if(Mr(e))return lt(e,Kn)+"";if(Kr(e))return Ai?Ai.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Jn(e,t,i){var n=-1,o=rt,a=e.length,r=!0,s=[],l=s;if(i)r=!1,o=st;else if(a>=200){var c=t?null:Po(e);if(c)return Pt(c);r=!1,o=Et,l=new Ni}else l=t?[]:s;e:for(;++n<a;){var d=e[n],u=t?t(d):d;if(d=i||0!==d?d:0,r&&u==u){for(var h=l.length;h--;)if(l[h]===u)continue e;t&&l.push(u),s.push(d)}else o(l,u,i)||(l!==s&&l.push(u),s.push(d))}return s}function Zn(e,t){return null==(e=ga(e,t=so(t,e)))||delete e[Aa(Fa(t))]}function eo(e,t,i,n){return Rn(e,t,i(un(e,t)),n)}function to(e,t,i,n){for(var o=e.length,a=n?o:-1;(n?a--:++a<o)&&t(e[a],a,e););return i?qn(e,n?0:a,n?a+1:o):qn(e,n?a+1:0,n?o:a)}function io(e,t){var i=e;return i instanceof Di&&(i=i.value()),dt(t,(function(e,t){return t.func.apply(t.thisArg,ct([e],t.args))}),i)}function no(e,t,i){var n=e.length;if(n<2)return n?Jn(e[0]):[];for(var o=-1,a=de(n);++o<n;)for(var r=e[o],s=-1;++s<n;)s!=o&&(a[o]=Ji(a[o]||r,e[s],t,i));return Jn(an(a,1),t,i)}function oo(e,t,i){for(var n=-1,o=e.length,a=t.length,r={};++n<o;){var s=n<a?t[n]:void 0;i(r,e[n],s)}return r}function ao(e){return Or(e)?e:[]}function ro(e){return"function"==typeof e?e:Ys}function so(e,t){return Mr(e)?e:ca(e,t)?[e]:ja(ss(e))}var lo=Pn;function co(e,t,i){var n=e.length;return i=void 0===i?n:i,!t&&i>=n?e:qn(e,t,i)}var uo=zt||function(e){return Ue.clearTimeout(e)};function ho(e,t){if(t)return e.slice();var i=e.length,n=Ye?Ye(i):new e.constructor(i);return e.copy(n),n}function fo(e){var t=new e.constructor(e.byteLength);return new $e(t).set(new $e(e)),t}function po(e,t){var i=t?fo(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function mo(e,t){if(e!==t){var i=void 0!==e,n=null===e,o=e==e,a=Kr(e),r=void 0!==t,s=null===t,l=t==t,c=Kr(t);if(!s&&!c&&!a&&e>t||a&&r&&l&&!s&&!c||n&&r&&l||!i&&l||!o)return 1;if(!n&&!a&&!c&&e<t||c&&i&&o&&!n&&!a||s&&i&&o||!r&&o||!l)return-1}return 0}function go(e,t,i,n){for(var o=-1,a=e.length,r=i.length,s=-1,l=t.length,c=ai(a-r,0),d=de(l+c),u=!n;++s<l;)d[s]=t[s];for(;++o<r;)(u||o<a)&&(d[i[o]]=e[o]);for(;c--;)d[s++]=e[o++];return d}function vo(e,t,i,n){for(var o=-1,a=e.length,r=-1,s=i.length,l=-1,c=t.length,d=ai(a-s,0),u=de(d+c),h=!n;++o<d;)u[o]=e[o];for(var f=o;++l<c;)u[f+l]=t[l];for(;++r<s;)(h||o<a)&&(u[f+i[r]]=e[o++]);return u}function yo(e,t){var i=-1,n=e.length;for(t||(t=de(n));++i<n;)t[i]=e[i];return t}function bo(e,t,i,n){var o=!i;i||(i={});for(var a=-1,r=t.length;++a<r;){var s=t[a],l=n?n(i[s],e[s],s,i,e):void 0;void 0===l&&(l=e[s]),o?Yi(i,s,l):Ui(i,s,l)}return i}function _o(e,t){return function(i,n){var o=Mr(i)?tt:$i,a=t?t():{};return o(i,e,Ko(n,2),a)}}function To(e){return Pn((function(t,i){var n=-1,o=i.length,a=o>1?i[o-1]:void 0,r=o>2?i[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,r&&la(i[0],i[1],r)&&(a=o<3?void 0:a,o=1),t=me(t);++n<o;){var s=i[n];s&&e(t,s,n,a)}return t}))}function Co(e,t){return function(i,n){if(null==i)return i;if(!Nr(i))return e(i,n);for(var o=i.length,a=t?o:-1,r=me(i);(t?a--:++a<o)&&!1!==n(r[a],a,r););return i}}function wo(e){return function(t,i,n){for(var o=-1,a=me(t),r=n(t),s=r.length;s--;){var l=r[e?s:++o];if(!1===i(a[l],l,a))break}return t}}function ko(e){return function(t){var i=Qt(t=ss(t))?Rt(t):void 0,n=i?i[0]:t.charAt(0),o=i?co(i,1).join(""):t.slice(1);return n[e]()+o}}function jo(e){return function(t){return dt(Gs(Ls(t).replace(Ee,"")),e,"")}}function Ao(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Ii(e.prototype),n=e.apply(i,t);return Br(n)?n:i}}function Eo(e){return function(t,i,n){var o=me(t);if(!Nr(t)){var a=Ko(i,3);t=_s(t),i=function(e){return a(o[e],e,o)}}var r=e(t,i,n);return r>-1?o[a?t[r]:r]:void 0}}function Io(t){return qo((function(i){var n=i.length,o=n,a=Si.prototype.thru;for(t&&i.reverse();o--;){var r=i[o];if("function"!=typeof r)throw new ye(e);if(a&&!s&&"wrapper"==zo(r))var s=new Si([],!0)}for(o=s?o:n;++o<n;){var l=zo(r=i[o]),c="wrapper"==l?Vo(r):void 0;s=c&&da(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[zo(c[0])].apply(s,c[3]):1==r.length&&da(r)?s[l]():s.thru(r)}return function(){var e=arguments,t=e[0];if(s&&1==e.length&&Mr(t))return s.plant(t).value();for(var o=0,a=n?i[o].apply(this,e):t;++o<n;)a=i[o].call(this,a);return a}}))}function xo(e,t,i,n,o,a,r,s,l,c){var d=128&t,u=1&t,h=2&t,f=24&t,p=512&t,m=h?void 0:Ao(e);return function g(){for(var v=arguments.length,y=de(v),b=v;b--;)y[b]=arguments[b];if(f)var _=Xo(g),T=St(y,_);if(n&&(y=go(y,n,o,f)),a&&(y=vo(y,a,r,f)),v-=T,f&&v<c){var C=Ht(y,_);return Oo(e,t,xo,g.placeholder,i,y,C,s,l,c-v)}var w=u?i:this,k=h?w[e]:e;return v=y.length,s?y=va(y,s):p&&v>1&&y.reverse(),d&&l<v&&(y.length=l),this&&this!==Ue&&this instanceof g&&(k=m||Ao(k)),k.apply(w,y)}}function So(e,t){return function(i,n){return function(e,t,i,n){return ln(e,(function(e,o,a){t(n,i(e),o,a)})),n}(i,e,t(n),{})}}function Do(e,t){return function(i,n){var o;if(void 0===i&&void 0===n)return t;if(void 0!==i&&(o=i),void 0!==n){if(void 0===o)return n;"string"==typeof i||"string"==typeof n?(i=Kn(i),n=Kn(n)):(i=Xn(i),n=Xn(n)),o=e(i,n)}return o}}function Lo(e){return qo((function(t){return t=lt(t,jt(Ko())),Pn((function(i){var n=this;return e(t,(function(e){return et(e,n,i)}))}))}))}function Mo(e,t){var i=(t=void 0===t?" ":Kn(t)).length;if(i<2)return i?Hn(t,e):t;var n=Hn(t,Jt(e/Gt(t)));return Qt(t)?co(Rt(n),0,e).join(""):n.slice(0,e)}function Qo(e){return function(t,i,n){return n&&"number"!=typeof n&&la(t,i,n)&&(i=n=void 0),t=is(t),void 0===i?(i=t,t=0):i=is(i),function(e,t,i,n){for(var o=-1,a=ai(Jt((t-e)/(i||1)),0),r=de(a);a--;)r[n?a:++o]=e,e+=i;return r}(t,i,n=void 0===n?t<i?1:-1:is(n),e)}}function No(e){return function(t,i){return"string"==typeof t&&"string"==typeof i||(t=as(t),i=as(i)),e(t,i)}}function Oo(e,t,i,n,o,a,r,s,l,c){var d=8&t;t|=d?32:64,4&(t&=~(d?64:32))||(t&=-4);var u=[e,t,o,d?a:void 0,d?r:void 0,d?void 0:a,d?void 0:r,s,l,c],h=i.apply(void 0,u);return da(e)&&ba(h,u),h.placeholder=n,Ca(h,e,t)}function Ho(e){var t=pe[e];return function(e,i){if(e=as(e),i=null==i?0:ri(ns(i),292)){var n=(ss(e)+"e").split("e");return+((n=(ss(t(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return t(e)}}var Po=pi&&1/Pt(new pi([,-0]))[1]==1/0?function(e){return new pi(e)}:Ks;function Fo(e){return function(t){var i=na(t);return i==d?Nt(t):i==p?Ft(t):function(e,t){return lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Go(i,n,o,a,r,s,l,c){var d=2&n;if(!d&&"function"!=typeof i)throw new ye(e);var u=a?a.length:0;if(u||(n&=-97,a=r=void 0),l=void 0===l?l:ai(ns(l),0),c=void 0===c?c:ns(c),u-=r?r.length:0,64&n){var h=a,f=r;a=r=void 0}var p=d?void 0:Vo(i),m=[i,n,o,a,r,h,f,s,l,c];if(p&&function(e,i){var n=e[1],o=i[1],a=n|o,r=a<131,s=128==o&&8==n||128==o&&256==n&&e[7].length<=i[8]||384==o&&i[7].length<=i[8]&&8==n;if(!r&&!s)return e;1&o&&(e[2]=i[2],a|=1&n?0:4);var l=i[3];if(l){var c=e[3];e[3]=c?go(c,l,i[4]):l,e[4]=c?Ht(e[3],t):i[4]}(l=i[5])&&(c=e[5],e[5]=c?vo(c,l,i[6]):l,e[6]=c?Ht(e[5],t):i[6]);(l=i[7])&&(e[7]=l);128&o&&(e[8]=null==e[8]?i[8]:ri(e[8],i[8]));null==e[9]&&(e[9]=i[9]);e[0]=i[0],e[1]=a}(m,p),i=m[0],n=m[1],o=m[2],a=m[3],r=m[4],!(c=m[9]=void 0===m[9]?d?0:i.length:ai(m[9]-u,0))&&24&n&&(n&=-25),n&&1!=n)g=8==n||16==n?function(e,t,i){var n=Ao(e);return function o(){for(var a=arguments.length,r=de(a),s=a,l=Xo(o);s--;)r[s]=arguments[s];var c=a<3&&r[0]!==l&&r[a-1]!==l?[]:Ht(r,l);if((a-=c.length)<i)return Oo(e,t,xo,o.placeholder,void 0,r,c,void 0,void 0,i-a);var d=this&&this!==Ue&&this instanceof o?n:e;return et(d,this,r)}}(i,n,c):32!=n&&33!=n||r.length?xo.apply(void 0,m):function(e,t,i,n){var o=1&t,a=Ao(e);return function t(){for(var r=-1,s=arguments.length,l=-1,c=n.length,d=de(c+s),u=this&&this!==Ue&&this instanceof t?a:e;++l<c;)d[l]=n[l];for(;s--;)d[l++]=arguments[++r];return et(u,o?i:this,d)}}(i,n,o,a);else var g=function(e,t,i){var n=1&t,o=Ao(e);return function t(){var a=this&&this!==Ue&&this instanceof t?o:e;return a.apply(n?i:this,arguments)}}(i,n,o);return Ca((p?Un:ba)(g,m),i,n)}function Ro(e,t,i,n){return void 0===e||xr(e,Te[i])&&!ke.call(n,i)?t:e}function Uo(e,t,i,n,o,a){return Br(e)&&Br(t)&&(a.set(t,e),Sn(e,t,void 0,Uo,a),a.delete(t)),e}function Bo(e){return Wr(e)?void 0:e}function $o(e,t,i,n,o,a){var r=1&i,s=e.length,l=t.length;if(s!=l&&!(r&&l>s))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var d=-1,u=!0,h=2&i?new Ni:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var f=e[d],p=t[d];if(n)var m=r?n(p,f,d,t,e,a):n(f,p,d,e,t,a);if(void 0!==m){if(m)continue;u=!1;break}if(h){if(!ht(t,(function(e,t){if(!Et(h,t)&&(f===e||o(f,e,i,n,a)))return h.push(t)}))){u=!1;break}}else if(f!==p&&!o(f,p,i,n,a)){u=!1;break}}return a.delete(e),a.delete(t),u}function qo(e){return Ta(ma(e,void 0,Qa),e+"")}function Yo(e){return hn(e,_s,ta)}function Wo(e){return hn(e,Ts,ia)}var Vo=vi?function(e){return vi.get(e)}:Ks;function zo(e){for(var t=e.name+"",i=yi[t],n=ke.call(yi,t)?i.length:0;n--;){var o=i[n],a=o.func;if(null==a||a==e)return o.name}return t}function Xo(e){return(ke.call(Ei,"placeholder")?Ei:e).placeholder}function Ko(){var e=Ei.iteratee||Ws;return e=e===Ws?wn:e,arguments.length?e(arguments[0],arguments[1]):e}function Jo(e,t){var i,n,o=e.__data__;return("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?o["string"==typeof t?"string":"hash"]:o.map}function Zo(e){for(var t=_s(e),i=t.length;i--;){var n=t[i],o=e[n];t[i]=[n,o,fa(o)]}return t}function ea(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return Cn(i)?i:void 0}var ta=ei?function(e){return null==e?[]:(e=me(e),at(ei(e),(function(t){return Tt.call(e,t)})))}:ol,ia=ei?function(e){for(var t=[];e;)ct(t,ta(e)),e=We(e);return t}:ol,na=fn;function oa(e,t,i){for(var n=-1,o=(t=so(t,e)).length,a=!1;++n<o;){var r=Aa(t[n]);if(!(a=null!=e&&i(e,r)))break;e=e[r]}return a||++n!=o?a:!!(o=null==e?0:e.length)&&Ur(o)&&sa(r,o)&&(Mr(e)||Lr(e))}function aa(e){return"function"!=typeof e.constructor||ha(e)?{}:Ii(We(e))}function ra(e){return Mr(e)||Lr(e)||!!(qt&&e&&e[qt])}function sa(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&ne.test(e))&&e>-1&&e%1==0&&e<t}function la(e,t,i){if(!Br(i))return!1;var n=typeof t;return!!("number"==n?Nr(i)&&sa(t,i.length):"string"==n&&t in i)&&xr(i[t],e)}function ca(e,t){if(Mr(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!Kr(e))||(F.test(e)||!P.test(e)||null!=t&&e in me(t))}function da(e){var t=zo(e),i=Ei[t];if("function"!=typeof i||!(t in Di.prototype))return!1;if(e===i)return!0;var n=Vo(i);return!!n&&e===n[0]}(ui&&na(new ui(new ArrayBuffer(1)))!=b||hi&&na(new hi)!=d||fi&&"[object Promise]"!=na(fi.resolve())||pi&&na(new pi)!=p||mi&&na(new mi)!=v)&&(na=function(e){var t=fn(e),i=t==h?e.constructor:void 0,n=i?Ea(i):"";if(n)switch(n){case bi:return b;case _i:return d;case Ti:return"[object Promise]";case Ci:return p;case wi:return v}return t});var ua=Ce?Gr:al;function ha(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Te)}function fa(e){return e==e&&!Br(e)}function pa(e,t){return function(i){return null!=i&&(i[e]===t&&(void 0!==t||e in me(i)))}}function ma(e,t,i){return t=ai(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=ai(n.length-t,0),r=de(a);++o<a;)r[o]=n[t+o];o=-1;for(var s=de(t+1);++o<t;)s[o]=n[o];return s[t]=i(r),et(e,this,s)}}function ga(e,t){return t.length<2?e:un(e,qn(t,0,-1))}function va(e,t){for(var i=e.length,n=ri(t.length,i),o=yo(e);n--;){var a=t[n];e[n]=sa(a,i)?o[a]:void 0}return e}function ya(e,t){if("__proto__"!=t)return e[t]}var ba=wa(Un),_a=Kt||function(e,t){return Ue.setTimeout(e,t)},Ta=wa(Bn);function Ca(e,t,n){var o=t+"";return Ta(e,function(e,t){var i=t.length;if(!i)return e;var n=i-1;return t[n]=(i>1?"& ":"")+t[n],t=t.join(i>2?", ":" "),e.replace(Y,"{\n/* [wrapped with "+t+"] */\n")}(o,function(e,t){return it(i,(function(i){var n="_."+i[0];t&i[1]&&!rt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(W);return t?t[1].split(V):[]}(o),n)))}function wa(e){var t=0,i=0;return function(){var n=si(),o=16-(n-i);if(i=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function ka(e,t){var i=-1,n=e.length,o=n-1;for(t=void 0===t?n:t;++i<t;){var a=On(i,o),r=e[a];e[a]=e[i],e[i]=r}return e.length=t,e}var ja=function(e){var t=wr(e,(function(e){return 500===i.size&&i.clear(),e})),i=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(G,(function(e,i,n,o){t.push(n?o.replace(X,"$1"):i||e)})),t}));function Aa(e){if("string"==typeof e||Kr(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ea(e){if(null!=e){try{return we.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ia(e){if(e instanceof Di)return e.clone();var t=new Si(e.__wrapped__,e.__chain__);return t.__actions__=yo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var xa=Pn((function(e,t){return Or(e)?Ji(e,an(t,1,Or,!0)):[]})),Sa=Pn((function(e,t){var i=Fa(t);return Or(i)&&(i=void 0),Or(e)?Ji(e,an(t,1,Or,!0),Ko(i,2)):[]})),Da=Pn((function(e,t){var i=Fa(t);return Or(i)&&(i=void 0),Or(e)?Ji(e,an(t,1,Or,!0),void 0,i):[]}));function La(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var o=null==i?0:ns(i);return o<0&&(o=ai(n+o,0)),mt(e,Ko(t,3),o)}function Ma(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return void 0!==i&&(o=ns(i),o=i<0?ai(n+o,0):ri(o,n-1)),mt(e,Ko(t,3),o,!0)}function Qa(e){return(null==e?0:e.length)?an(e,1):[]}function Na(e){return e&&e.length?e[0]:void 0}var Oa=Pn((function(e){var t=lt(e,ao);return t.length&&t[0]===e[0]?vn(t):[]})),Ha=Pn((function(e){var t=Fa(e),i=lt(e,ao);return t===Fa(i)?t=void 0:i.pop(),i.length&&i[0]===e[0]?vn(i,Ko(t,2)):[]})),Pa=Pn((function(e){var t=Fa(e),i=lt(e,ao);return(t="function"==typeof t?t:void 0)&&i.pop(),i.length&&i[0]===e[0]?vn(i,void 0,t):[]}));function Fa(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Ga=Pn(Ra);function Ra(e,t){return e&&e.length&&t&&t.length?Qn(e,t):e}var Ua=qo((function(e,t){var i=null==e?0:e.length,n=Wi(e,t);return Nn(e,lt(t,(function(e){return sa(e,i)?+e:e})).sort(mo)),n}));function Ba(e){return null==e?e:di.call(e)}var $a=Pn((function(e){return Jn(an(e,1,Or,!0))})),qa=Pn((function(e){var t=Fa(e);return Or(t)&&(t=void 0),Jn(an(e,1,Or,!0),Ko(t,2))})),Ya=Pn((function(e){var t=Fa(e);return t="function"==typeof t?t:void 0,Jn(an(e,1,Or,!0),void 0,t)}));function Wa(e){if(!e||!e.length)return[];var t=0;return e=at(e,(function(e){if(Or(e))return t=ai(e.length,t),!0})),kt(t,(function(t){return lt(e,_t(t))}))}function Va(e,t){if(!e||!e.length)return[];var i=Wa(e);return null==t?i:lt(i,(function(e){return et(t,void 0,e)}))}var za=Pn((function(e,t){return Or(e)?Ji(e,t):[]})),Xa=Pn((function(e){return no(at(e,Or))})),Ka=Pn((function(e){var t=Fa(e);return Or(t)&&(t=void 0),no(at(e,Or),Ko(t,2))})),Ja=Pn((function(e){var t=Fa(e);return t="function"==typeof t?t:void 0,no(at(e,Or),void 0,t)})),Za=Pn(Wa);var er=Pn((function(e){var t=e.length,i=t>1?e[t-1]:void 0;return i="function"==typeof i?(e.pop(),i):void 0,Va(e,i)}));function tr(e){var t=Ei(e);return t.__chain__=!0,t}function ir(e,t){return t(e)}var nr=qo((function(e){var t=e.length,i=t?e[0]:0,n=this.__wrapped__,o=function(t){return Wi(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Di&&sa(i)?((n=n.slice(i,+i+(t?1:0))).__actions__.push({func:ir,args:[o],thisArg:void 0}),new Si(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(o)}));var or=_o((function(e,t,i){ke.call(e,i)?++e[i]:Yi(e,i,1)}));var ar=Eo(La),rr=Eo(Ma);function sr(e,t){return(Mr(e)?it:Zi)(e,Ko(t,3))}function lr(e,t){return(Mr(e)?nt:en)(e,Ko(t,3))}var cr=_o((function(e,t,i){ke.call(e,i)?e[i].push(t):Yi(e,i,[t])}));var dr=Pn((function(e,t,i){var n=-1,o="function"==typeof t,a=Nr(e)?de(e.length):[];return Zi(e,(function(e){a[++n]=o?et(t,e,i):yn(e,t,i)})),a})),ur=_o((function(e,t,i){Yi(e,i,t)}));function hr(e,t){return(Mr(e)?lt:En)(e,Ko(t,3))}var fr=_o((function(e,t,i){e[i?0:1].push(t)}),(function(){return[[],[]]}));var pr=Pn((function(e,t){if(null==e)return[];var i=t.length;return i>1&&la(e,t[0],t[1])?t=[]:i>2&&la(t[0],t[1],t[2])&&(t=[t[0]]),Ln(e,an(t,1),[])})),mr=Xt||function(){return Ue.Date.now()};function gr(e,t,i){return t=i?void 0:t,Go(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function vr(t,i){var n;if("function"!=typeof i)throw new ye(e);return t=ns(t),function(){return--t>0&&(n=i.apply(this,arguments)),t<=1&&(i=void 0),n}}var yr=Pn((function(e,t,i){var n=1;if(i.length){var o=Ht(i,Xo(yr));n|=32}return Go(e,n,t,i,o)})),br=Pn((function(e,t,i){var n=3;if(i.length){var o=Ht(i,Xo(br));n|=32}return Go(t,n,e,i,o)}));function _r(t,i,n){var o,a,r,s,l,c,d=0,u=!1,h=!1,f=!0;if("function"!=typeof t)throw new ye(e);function p(e){var i=o,n=a;return o=a=void 0,d=e,s=t.apply(n,i)}function m(e){return d=e,l=_a(v,i),u?p(e):s}function g(e){var t=e-c;return void 0===c||t>=i||t<0||h&&e-d>=r}function v(){var e=mr();if(g(e))return y(e);l=_a(v,function(e){var t=i-(e-c);return h?ri(t,r-(e-d)):t}(e))}function y(e){return l=void 0,f&&o?p(e):(o=a=void 0,s)}function b(){var e=mr(),t=g(e);if(o=arguments,a=this,c=e,t){if(void 0===l)return m(c);if(h)return l=_a(v,i),p(c)}return void 0===l&&(l=_a(v,i)),s}return i=as(i)||0,Br(n)&&(u=!!n.leading,r=(h="maxWait"in n)?ai(as(n.maxWait)||0,i):r,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==l&&uo(l),d=0,o=c=a=l=void 0},b.flush=function(){return void 0===l?s:y(mr())},b}var Tr=Pn((function(e,t){return Ki(e,1,t)})),Cr=Pn((function(e,t,i){return Ki(e,as(t)||0,i)}));function wr(t,i){if("function"!=typeof t||null!=i&&"function"!=typeof i)throw new ye(e);var n=function(){var e=arguments,o=i?i.apply(this,e):e[0],a=n.cache;if(a.has(o))return a.get(o);var r=t.apply(this,e);return n.cache=a.set(o,r)||a,r};return n.cache=new(wr.Cache||Qi),n}function kr(t){if("function"!=typeof t)throw new ye(e);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}wr.Cache=Qi;var jr=lo((function(e,t){var i=(t=1==t.length&&Mr(t[0])?lt(t[0],jt(Ko())):lt(an(t,1),jt(Ko()))).length;return Pn((function(n){for(var o=-1,a=ri(n.length,i);++o<a;)n[o]=t[o].call(this,n[o]);return et(e,this,n)}))})),Ar=Pn((function(e,t){return Go(e,32,void 0,t,Ht(t,Xo(Ar)))})),Er=Pn((function(e,t){return Go(e,64,void 0,t,Ht(t,Xo(Er)))})),Ir=qo((function(e,t){return Go(e,256,void 0,void 0,void 0,t)}));function xr(e,t){return e===t||e!=e&&t!=t}var Sr=No(pn),Dr=No((function(e,t){return e>=t})),Lr=bn(function(){return arguments}())?bn:function(e){return $r(e)&&ke.call(e,"callee")&&!Tt.call(e,"callee")},Mr=de.isArray,Qr=Ve?jt(Ve):function(e){return $r(e)&&fn(e)==y};function Nr(e){return null!=e&&Ur(e.length)&&!Gr(e)}function Or(e){return $r(e)&&Nr(e)}var Hr=ti||al,Pr=ze?jt(ze):function(e){return $r(e)&&fn(e)==r};function Fr(e){if(!$r(e))return!1;var t=fn(e);return t==s||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Wr(e)}function Gr(e){if(!Br(e))return!1;var t=fn(e);return t==l||t==c||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Rr(e){return"number"==typeof e&&e==ns(e)}function Ur(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Br(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function $r(e){return null!=e&&"object"==typeof e}var qr=Xe?jt(Xe):function(e){return $r(e)&&na(e)==d};function Yr(e){return"number"==typeof e||$r(e)&&fn(e)==u}function Wr(e){if(!$r(e)||fn(e)!=h)return!1;var t=We(e);if(null===t)return!0;var i=ke.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&we.call(i)==De}var Vr=Ke?jt(Ke):function(e){return $r(e)&&fn(e)==f};var zr=Je?jt(Je):function(e){return $r(e)&&na(e)==p};function Xr(e){return"string"==typeof e||!Mr(e)&&$r(e)&&fn(e)==m}function Kr(e){return"symbol"==typeof e||$r(e)&&fn(e)==g}var Jr=Ze?jt(Ze):function(e){return $r(e)&&Ur(e.length)&&!!Ne[fn(e)]};var Zr=No(An),es=No((function(e,t){return e<=t}));function ts(e){if(!e)return[];if(Nr(e))return Xr(e)?Rt(e):yo(e);if(Yt&&e[Yt])return function(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i}(e[Yt]());var t=na(e);return(t==d?Nt:t==p?Pt:xs)(e)}function is(e){return e?(e=as(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ns(e){var t=is(e),i=t%1;return t==t?i?t-i:t:0}function os(e){return e?Vi(ns(e),0,4294967295):0}function as(e){if("number"==typeof e)return e;if(Kr(e))return NaN;if(Br(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Br(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(B,"");var i=ee.test(e);return i||ie.test(e)?Fe(e.slice(2),i?2:8):Z.test(e)?NaN:+e}function rs(e){return bo(e,Ts(e))}function ss(e){return null==e?"":Kn(e)}var ls=To((function(e,t){if(ha(t)||Nr(t))bo(t,_s(t),e);else for(var i in t)ke.call(t,i)&&Ui(e,i,t[i])})),cs=To((function(e,t){bo(t,Ts(t),e)})),ds=To((function(e,t,i,n){bo(t,Ts(t),e,n)})),us=To((function(e,t,i,n){bo(t,_s(t),e,n)})),hs=qo(Wi);var fs=Pn((function(e,t){e=me(e);var i=-1,n=t.length,o=n>2?t[2]:void 0;for(o&&la(t[0],t[1],o)&&(n=1);++i<n;)for(var a=t[i],r=Ts(a),s=-1,l=r.length;++s<l;){var c=r[s],d=e[c];(void 0===d||xr(d,Te[c])&&!ke.call(e,c))&&(e[c]=a[c])}return e})),ps=Pn((function(e){return e.push(void 0,Uo),et(ws,void 0,e)}));function ms(e,t,i){var n=null==e?void 0:un(e,t);return void 0===n?i:n}function gs(e,t){return null!=e&&oa(e,t,gn)}var vs=So((function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=xe.call(t)),e[t]=i}),Bs(Ys)),ys=So((function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=xe.call(t)),ke.call(e,t)?e[t].push(i):e[t]=[i]}),Ko),bs=Pn(yn);function _s(e){return Nr(e)?Hi(e):kn(e)}function Ts(e){return Nr(e)?Hi(e,!0):jn(e)}var Cs=To((function(e,t,i){Sn(e,t,i)})),ws=To((function(e,t,i,n){Sn(e,t,i,n)})),ks=qo((function(e,t){var i={};if(null==e)return i;var n=!1;t=lt(t,(function(t){return t=so(t,e),n||(n=t.length>1),t})),bo(e,Wo(e),i),n&&(i=zi(i,7,Bo));for(var o=t.length;o--;)Zn(i,t[o]);return i}));var js=qo((function(e,t){return null==e?{}:function(e,t){return Mn(e,t,(function(t,i){return gs(e,i)}))}(e,t)}));function As(e,t){if(null==e)return{};var i=lt(Wo(e),(function(e){return[e]}));return t=Ko(t),Mn(e,i,(function(e,i){return t(e,i[0])}))}var Es=Fo(_s),Is=Fo(Ts);function xs(e){return null==e?[]:At(e,_s(e))}var Ss=jo((function(e,t,i){return t=t.toLowerCase(),e+(i?Ds(t):t)}));function Ds(e){return Fs(ss(e).toLowerCase())}function Ls(e){return(e=ss(e))&&e.replace(oe,Dt).replace(Ie,"")}var Ms=jo((function(e,t,i){return e+(i?"-":"")+t.toLowerCase()})),Qs=jo((function(e,t,i){return e+(i?" ":"")+t.toLowerCase()})),Ns=ko("toLowerCase");var Os=jo((function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}));var Hs=jo((function(e,t,i){return e+(i?" ":"")+Fs(t)}));var Ps=jo((function(e,t,i){return e+(i?" ":"")+t.toUpperCase()})),Fs=ko("toUpperCase");function Gs(e,t,i){return e=ss(e),void 0===(t=i?void 0:t)?function(e){return Le.test(e)}(e)?function(e){return e.match(Se)||[]}(e):function(e){return e.match(z)||[]}(e):e.match(t)||[]}var Rs=Pn((function(e,t){try{return et(e,void 0,t)}catch(e){return Fr(e)?e:new he(e)}})),Us=qo((function(e,t){return it(t,(function(t){t=Aa(t),Yi(e,t,yr(e[t],e))})),e}));function Bs(e){return function(){return e}}var $s=Io(),qs=Io(!0);function Ys(e){return e}function Ws(e){return wn("function"==typeof e?e:zi(e,1))}var Vs=Pn((function(e,t){return function(i){return yn(i,e,t)}})),zs=Pn((function(e,t){return function(i){return yn(e,i,t)}}));function Xs(e,t,i){var n=_s(t),o=dn(t,n);null!=i||Br(t)&&(o.length||!n.length)||(i=t,t=e,e=this,o=dn(t,_s(t)));var a=!(Br(i)&&"chain"in i&&!i.chain),r=Gr(e);return it(o,(function(i){var n=t[i];e[i]=n,r&&(e.prototype[i]=function(){var t=this.__chain__;if(a||t){var i=e(this.__wrapped__),o=i.__actions__=yo(this.__actions__);return o.push({func:n,args:arguments,thisArg:e}),i.__chain__=t,i}return n.apply(e,ct([this.value()],arguments))})})),e}function Ks(){}var Js=Lo(lt),Zs=Lo(ot),el=Lo(ht);function tl(e){return ca(e)?_t(Aa(e)):function(e){return function(t){return un(t,e)}}(e)}var il=Qo(),nl=Qo(!0);function ol(){return[]}function al(){return!1}var rl=Do((function(e,t){return e+t}),0),sl=Ho("ceil"),ll=Do((function(e,t){return e/t}),1),cl=Ho("floor");var dl,ul=Do((function(e,t){return e*t}),1),hl=Ho("round"),fl=Do((function(e,t){return e-t}),0);return Ei.after=function(t,i){if("function"!=typeof i)throw new ye(e);return t=ns(t),function(){if(--t<1)return i.apply(this,arguments)}},Ei.ary=gr,Ei.assign=ls,Ei.assignIn=cs,Ei.assignInWith=ds,Ei.assignWith=us,Ei.at=hs,Ei.before=vr,Ei.bind=yr,Ei.bindAll=Us,Ei.bindKey=br,Ei.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Mr(e)?e:[e]},Ei.chain=tr,Ei.chunk=function(e,t,i){t=(i?la(e,t,i):void 0===t)?1:ai(ns(t),0);var n=null==e?0:e.length;if(!n||t<1)return[];for(var o=0,a=0,r=de(Jt(n/t));o<n;)r[a++]=qn(e,o,o+=t);return r},Ei.compact=function(e){for(var t=-1,i=null==e?0:e.length,n=0,o=[];++t<i;){var a=e[t];a&&(o[n++]=a)}return o},Ei.concat=function(){var e=arguments.length;if(!e)return[];for(var t=de(e-1),i=arguments[0],n=e;n--;)t[n-1]=arguments[n];return ct(Mr(i)?yo(i):[i],an(t,1))},Ei.cond=function(t){var i=null==t?0:t.length,n=Ko();return t=i?lt(t,(function(t){if("function"!=typeof t[1])throw new ye(e);return[n(t[0]),t[1]]})):[],Pn((function(e){for(var n=-1;++n<i;){var o=t[n];if(et(o[0],this,e))return et(o[1],this,e)}}))},Ei.conforms=function(e){return function(e){var t=_s(e);return function(i){return Xi(i,e,t)}}(zi(e,1))},Ei.constant=Bs,Ei.countBy=or,Ei.create=function(e,t){var i=Ii(e);return null==t?i:qi(i,t)},Ei.curry=function e(t,i,n){var o=Go(t,8,void 0,void 0,void 0,void 0,void 0,i=n?void 0:i);return o.placeholder=e.placeholder,o},Ei.curryRight=function e(t,i,n){var o=Go(t,16,void 0,void 0,void 0,void 0,void 0,i=n?void 0:i);return o.placeholder=e.placeholder,o},Ei.debounce=_r,Ei.defaults=fs,Ei.defaultsDeep=ps,Ei.defer=Tr,Ei.delay=Cr,Ei.difference=xa,Ei.differenceBy=Sa,Ei.differenceWith=Da,Ei.drop=function(e,t,i){var n=null==e?0:e.length;return n?qn(e,(t=i||void 0===t?1:ns(t))<0?0:t,n):[]},Ei.dropRight=function(e,t,i){var n=null==e?0:e.length;return n?qn(e,0,(t=n-(t=i||void 0===t?1:ns(t)))<0?0:t):[]},Ei.dropRightWhile=function(e,t){return e&&e.length?to(e,Ko(t,3),!0,!0):[]},Ei.dropWhile=function(e,t){return e&&e.length?to(e,Ko(t,3),!0):[]},Ei.fill=function(e,t,i,n){var o=null==e?0:e.length;return o?(i&&"number"!=typeof i&&la(e,t,i)&&(i=0,n=o),function(e,t,i,n){var o=e.length;for((i=ns(i))<0&&(i=-i>o?0:o+i),(n=void 0===n||n>o?o:ns(n))<0&&(n+=o),n=i>n?0:os(n);i<n;)e[i++]=t;return e}(e,t,i,n)):[]},Ei.filter=function(e,t){return(Mr(e)?at:on)(e,Ko(t,3))},Ei.flatMap=function(e,t){return an(hr(e,t),1)},Ei.flatMapDeep=function(e,t){return an(hr(e,t),1/0)},Ei.flatMapDepth=function(e,t,i){return i=void 0===i?1:ns(i),an(hr(e,t),i)},Ei.flatten=Qa,Ei.flattenDeep=function(e){return(null==e?0:e.length)?an(e,1/0):[]},Ei.flattenDepth=function(e,t){return(null==e?0:e.length)?an(e,t=void 0===t?1:ns(t)):[]},Ei.flip=function(e){return Go(e,512)},Ei.flow=$s,Ei.flowRight=qs,Ei.fromPairs=function(e){for(var t=-1,i=null==e?0:e.length,n={};++t<i;){var o=e[t];n[o[0]]=o[1]}return n},Ei.functions=function(e){return null==e?[]:dn(e,_s(e))},Ei.functionsIn=function(e){return null==e?[]:dn(e,Ts(e))},Ei.groupBy=cr,Ei.initial=function(e){return(null==e?0:e.length)?qn(e,0,-1):[]},Ei.intersection=Oa,Ei.intersectionBy=Ha,Ei.intersectionWith=Pa,Ei.invert=vs,Ei.invertBy=ys,Ei.invokeMap=dr,Ei.iteratee=Ws,Ei.keyBy=ur,Ei.keys=_s,Ei.keysIn=Ts,Ei.map=hr,Ei.mapKeys=function(e,t){var i={};return t=Ko(t,3),ln(e,(function(e,n,o){Yi(i,t(e,n,o),e)})),i},Ei.mapValues=function(e,t){var i={};return t=Ko(t,3),ln(e,(function(e,n,o){Yi(i,n,t(e,n,o))})),i},Ei.matches=function(e){return In(zi(e,1))},Ei.matchesProperty=function(e,t){return xn(e,zi(t,1))},Ei.memoize=wr,Ei.merge=Cs,Ei.mergeWith=ws,Ei.method=Vs,Ei.methodOf=zs,Ei.mixin=Xs,Ei.negate=kr,Ei.nthArg=function(e){return e=ns(e),Pn((function(t){return Dn(t,e)}))},Ei.omit=ks,Ei.omitBy=function(e,t){return As(e,kr(Ko(t)))},Ei.once=function(e){return vr(2,e)},Ei.orderBy=function(e,t,i,n){return null==e?[]:(Mr(t)||(t=null==t?[]:[t]),Mr(i=n?void 0:i)||(i=null==i?[]:[i]),Ln(e,t,i))},Ei.over=Js,Ei.overArgs=jr,Ei.overEvery=Zs,Ei.overSome=el,Ei.partial=Ar,Ei.partialRight=Er,Ei.partition=fr,Ei.pick=js,Ei.pickBy=As,Ei.property=tl,Ei.propertyOf=function(e){return function(t){return null==e?void 0:un(e,t)}},Ei.pull=Ga,Ei.pullAll=Ra,Ei.pullAllBy=function(e,t,i){return e&&e.length&&t&&t.length?Qn(e,t,Ko(i,2)):e},Ei.pullAllWith=function(e,t,i){return e&&e.length&&t&&t.length?Qn(e,t,void 0,i):e},Ei.pullAt=Ua,Ei.range=il,Ei.rangeRight=nl,Ei.rearg=Ir,Ei.reject=function(e,t){return(Mr(e)?at:on)(e,kr(Ko(t,3)))},Ei.remove=function(e,t){var i=[];if(!e||!e.length)return i;var n=-1,o=[],a=e.length;for(t=Ko(t,3);++n<a;){var r=e[n];t(r,n,e)&&(i.push(r),o.push(n))}return Nn(e,o),i},Ei.rest=function(t,i){if("function"!=typeof t)throw new ye(e);return Pn(t,i=void 0===i?i:ns(i))},Ei.reverse=Ba,Ei.sampleSize=function(e,t,i){return t=(i?la(e,t,i):void 0===t)?1:ns(t),(Mr(e)?Fi:Gn)(e,t)},Ei.set=function(e,t,i){return null==e?e:Rn(e,t,i)},Ei.setWith=function(e,t,i,n){return n="function"==typeof n?n:void 0,null==e?e:Rn(e,t,i,n)},Ei.shuffle=function(e){return(Mr(e)?Gi:$n)(e)},Ei.slice=function(e,t,i){var n=null==e?0:e.length;return n?(i&&"number"!=typeof i&&la(e,t,i)?(t=0,i=n):(t=null==t?0:ns(t),i=void 0===i?n:ns(i)),qn(e,t,i)):[]},Ei.sortBy=pr,Ei.sortedUniq=function(e){return e&&e.length?zn(e):[]},Ei.sortedUniqBy=function(e,t){return e&&e.length?zn(e,Ko(t,2)):[]},Ei.split=function(e,t,i){return i&&"number"!=typeof i&&la(e,t,i)&&(t=i=void 0),(i=void 0===i?4294967295:i>>>0)?(e=ss(e))&&("string"==typeof t||null!=t&&!Vr(t))&&!(t=Kn(t))&&Qt(e)?co(Rt(e),0,i):e.split(t,i):[]},Ei.spread=function(t,i){if("function"!=typeof t)throw new ye(e);return i=null==i?0:ai(ns(i),0),Pn((function(e){var n=e[i],o=co(e,0,i);return n&&ct(o,n),et(t,this,o)}))},Ei.tail=function(e){var t=null==e?0:e.length;return t?qn(e,1,t):[]},Ei.take=function(e,t,i){return e&&e.length?qn(e,0,(t=i||void 0===t?1:ns(t))<0?0:t):[]},Ei.takeRight=function(e,t,i){var n=null==e?0:e.length;return n?qn(e,(t=n-(t=i||void 0===t?1:ns(t)))<0?0:t,n):[]},Ei.takeRightWhile=function(e,t){return e&&e.length?to(e,Ko(t,3),!1,!0):[]},Ei.takeWhile=function(e,t){return e&&e.length?to(e,Ko(t,3)):[]},Ei.tap=function(e,t){return t(e),e},Ei.throttle=function(t,i,n){var o=!0,a=!0;if("function"!=typeof t)throw new ye(e);return Br(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),_r(t,i,{leading:o,maxWait:i,trailing:a})},Ei.thru=ir,Ei.toArray=ts,Ei.toPairs=Es,Ei.toPairsIn=Is,Ei.toPath=function(e){return Mr(e)?lt(e,Aa):Kr(e)?[e]:yo(ja(ss(e)))},Ei.toPlainObject=rs,Ei.transform=function(e,t,i){var n=Mr(e),o=n||Hr(e)||Jr(e);if(t=Ko(t,4),null==i){var a=e&&e.constructor;i=o?n?new a:[]:Br(e)&&Gr(a)?Ii(We(e)):{}}return(o?it:ln)(e,(function(e,n,o){return t(i,e,n,o)})),i},Ei.unary=function(e){return gr(e,1)},Ei.union=$a,Ei.unionBy=qa,Ei.unionWith=Ya,Ei.uniq=function(e){return e&&e.length?Jn(e):[]},Ei.uniqBy=function(e,t){return e&&e.length?Jn(e,Ko(t,2)):[]},Ei.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Jn(e,void 0,t):[]},Ei.unset=function(e,t){return null==e||Zn(e,t)},Ei.unzip=Wa,Ei.unzipWith=Va,Ei.update=function(e,t,i){return null==e?e:eo(e,t,ro(i))},Ei.updateWith=function(e,t,i,n){return n="function"==typeof n?n:void 0,null==e?e:eo(e,t,ro(i),n)},Ei.values=xs,Ei.valuesIn=function(e){return null==e?[]:At(e,Ts(e))},Ei.without=za,Ei.words=Gs,Ei.wrap=function(e,t){return Ar(ro(t),e)},Ei.xor=Xa,Ei.xorBy=Ka,Ei.xorWith=Ja,Ei.zip=Za,Ei.zipObject=function(e,t){return oo(e||[],t||[],Ui)},Ei.zipObjectDeep=function(e,t){return oo(e||[],t||[],Rn)},Ei.zipWith=er,Ei.entries=Es,Ei.entriesIn=Is,Ei.extend=cs,Ei.extendWith=ds,Xs(Ei,Ei),Ei.add=rl,Ei.attempt=Rs,Ei.camelCase=Ss,Ei.capitalize=Ds,Ei.ceil=sl,Ei.clamp=function(e,t,i){return void 0===i&&(i=t,t=void 0),void 0!==i&&(i=(i=as(i))==i?i:0),void 0!==t&&(t=(t=as(t))==t?t:0),Vi(as(e),t,i)},Ei.clone=function(e){return zi(e,4)},Ei.cloneDeep=function(e){return zi(e,5)},Ei.cloneDeepWith=function(e,t){return zi(e,5,t="function"==typeof t?t:void 0)},Ei.cloneWith=function(e,t){return zi(e,4,t="function"==typeof t?t:void 0)},Ei.conformsTo=function(e,t){return null==t||Xi(e,t,_s(t))},Ei.deburr=Ls,Ei.defaultTo=function(e,t){return null==e||e!=e?t:e},Ei.divide=ll,Ei.endsWith=function(e,t,i){e=ss(e),t=Kn(t);var n=e.length,o=i=void 0===i?n:Vi(ns(i),0,n);return(i-=t.length)>=0&&e.slice(i,o)==t},Ei.eq=xr,Ei.escape=function(e){return(e=ss(e))&&Q.test(e)?e.replace(L,Lt):e},Ei.escapeRegExp=function(e){return(e=ss(e))&&U.test(e)?e.replace(R,"\\$&"):e},Ei.every=function(e,t,i){var n=Mr(e)?ot:tn;return i&&la(e,t,i)&&(t=void 0),n(e,Ko(t,3))},Ei.find=ar,Ei.findIndex=La,Ei.findKey=function(e,t){return pt(e,Ko(t,3),ln)},Ei.findLast=rr,Ei.findLastIndex=Ma,Ei.findLastKey=function(e,t){return pt(e,Ko(t,3),cn)},Ei.floor=cl,Ei.forEach=sr,Ei.forEachRight=lr,Ei.forIn=function(e,t){return null==e?e:rn(e,Ko(t,3),Ts)},Ei.forInRight=function(e,t){return null==e?e:sn(e,Ko(t,3),Ts)},Ei.forOwn=function(e,t){return e&&ln(e,Ko(t,3))},Ei.forOwnRight=function(e,t){return e&&cn(e,Ko(t,3))},Ei.get=ms,Ei.gt=Sr,Ei.gte=Dr,Ei.has=function(e,t){return null!=e&&oa(e,t,mn)},Ei.hasIn=gs,Ei.head=Na,Ei.identity=Ys,Ei.includes=function(e,t,i,n){e=Nr(e)?e:xs(e),i=i&&!n?ns(i):0;var o=e.length;return i<0&&(i=ai(o+i,0)),Xr(e)?i<=o&&e.indexOf(t,i)>-1:!!o&&gt(e,t,i)>-1},Ei.indexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var o=null==i?0:ns(i);return o<0&&(o=ai(n+o,0)),gt(e,t,o)},Ei.inRange=function(e,t,i){return t=is(t),void 0===i?(i=t,t=0):i=is(i),function(e,t,i){return e>=ri(t,i)&&e<ai(t,i)}(e=as(e),t,i)},Ei.invoke=bs,Ei.isArguments=Lr,Ei.isArray=Mr,Ei.isArrayBuffer=Qr,Ei.isArrayLike=Nr,Ei.isArrayLikeObject=Or,Ei.isBoolean=function(e){return!0===e||!1===e||$r(e)&&fn(e)==a},Ei.isBuffer=Hr,Ei.isDate=Pr,Ei.isElement=function(e){return $r(e)&&1===e.nodeType&&!Wr(e)},Ei.isEmpty=function(e){if(null==e)return!0;if(Nr(e)&&(Mr(e)||"string"==typeof e||"function"==typeof e.splice||Hr(e)||Jr(e)||Lr(e)))return!e.length;var t=na(e);if(t==d||t==p)return!e.size;if(ha(e))return!kn(e).length;for(var i in e)if(ke.call(e,i))return!1;return!0},Ei.isEqual=function(e,t){return _n(e,t)},Ei.isEqualWith=function(e,t,i){var n=(i="function"==typeof i?i:void 0)?i(e,t):void 0;return void 0===n?_n(e,t,void 0,i):!!n},Ei.isError=Fr,Ei.isFinite=function(e){return"number"==typeof e&&ii(e)},Ei.isFunction=Gr,Ei.isInteger=Rr,Ei.isLength=Ur,Ei.isMap=qr,Ei.isMatch=function(e,t){return e===t||Tn(e,t,Zo(t))},Ei.isMatchWith=function(e,t,i){return i="function"==typeof i?i:void 0,Tn(e,t,Zo(t),i)},Ei.isNaN=function(e){return Yr(e)&&e!=+e},Ei.isNative=function(e){if(ua(e))throw new he("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Cn(e)},Ei.isNil=function(e){return null==e},Ei.isNull=function(e){return null===e},Ei.isNumber=Yr,Ei.isObject=Br,Ei.isObjectLike=$r,Ei.isPlainObject=Wr,Ei.isRegExp=Vr,Ei.isSafeInteger=function(e){return Rr(e)&&e>=-9007199254740991&&e<=9007199254740991},Ei.isSet=zr,Ei.isString=Xr,Ei.isSymbol=Kr,Ei.isTypedArray=Jr,Ei.isUndefined=function(e){return void 0===e},Ei.isWeakMap=function(e){return $r(e)&&na(e)==v},Ei.isWeakSet=function(e){return $r(e)&&"[object WeakSet]"==fn(e)},Ei.join=function(e,t){return null==e?"":ni.call(e,t)},Ei.kebabCase=Ms,Ei.last=Fa,Ei.lastIndexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var o=n;return void 0!==i&&(o=(o=ns(i))<0?ai(n+o,0):ri(o,n-1)),t==t?function(e,t,i){for(var n=i+1;n--;)if(e[n]===t)return n;return n}(e,t,o):mt(e,yt,o,!0)},Ei.lowerCase=Qs,Ei.lowerFirst=Ns,Ei.lt=Zr,Ei.lte=es,Ei.max=function(e){return e&&e.length?nn(e,Ys,pn):void 0},Ei.maxBy=function(e,t){return e&&e.length?nn(e,Ko(t,2),pn):void 0},Ei.mean=function(e){return bt(e,Ys)},Ei.meanBy=function(e,t){return bt(e,Ko(t,2))},Ei.min=function(e){return e&&e.length?nn(e,Ys,An):void 0},Ei.minBy=function(e,t){return e&&e.length?nn(e,Ko(t,2),An):void 0},Ei.stubArray=ol,Ei.stubFalse=al,Ei.stubObject=function(){return{}},Ei.stubString=function(){return""},Ei.stubTrue=function(){return!0},Ei.multiply=ul,Ei.nth=function(e,t){return e&&e.length?Dn(e,ns(t)):void 0},Ei.noConflict=function(){return Ue._===this&&(Ue._=He),this},Ei.noop=Ks,Ei.now=mr,Ei.pad=function(e,t,i){e=ss(e);var n=(t=ns(t))?Gt(e):0;if(!t||n>=t)return e;var o=(t-n)/2;return Mo(Zt(o),i)+e+Mo(Jt(o),i)},Ei.padEnd=function(e,t,i){e=ss(e);var n=(t=ns(t))?Gt(e):0;return t&&n<t?e+Mo(t-n,i):e},Ei.padStart=function(e,t,i){e=ss(e);var n=(t=ns(t))?Gt(e):0;return t&&n<t?Mo(t-n,i)+e:e},Ei.parseInt=function(e,t,i){return i||null==t?t=0:t&&(t=+t),li(ss(e).replace($,""),t||0)},Ei.random=function(e,t,i){if(i&&"boolean"!=typeof i&&la(e,t,i)&&(t=i=void 0),void 0===i&&("boolean"==typeof t?(i=t,t=void 0):"boolean"==typeof e&&(i=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=is(e),void 0===t?(t=e,e=0):t=is(t)),e>t){var n=e;e=t,t=n}if(i||e%1||t%1){var o=ci();return ri(e+o*(t-e+Pe("1e-"+((o+"").length-1))),t)}return On(e,t)},Ei.reduce=function(e,t,i){var n=Mr(e)?dt:Ct,o=arguments.length<3;return n(e,Ko(t,4),i,o,Zi)},Ei.reduceRight=function(e,t,i){var n=Mr(e)?ut:Ct,o=arguments.length<3;return n(e,Ko(t,4),i,o,en)},Ei.repeat=function(e,t,i){return t=(i?la(e,t,i):void 0===t)?1:ns(t),Hn(ss(e),t)},Ei.replace=function(){var e=arguments,t=ss(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Ei.result=function(e,t,i){var n=-1,o=(t=so(t,e)).length;for(o||(o=1,e=void 0);++n<o;){var a=null==e?void 0:e[Aa(t[n])];void 0===a&&(n=o,a=i),e=Gr(a)?a.call(e):a}return e},Ei.round=hl,Ei.runInContext=se,Ei.sample=function(e){return(Mr(e)?Pi:Fn)(e)},Ei.size=function(e){if(null==e)return 0;if(Nr(e))return Xr(e)?Gt(e):e.length;var t=na(e);return t==d||t==p?e.size:kn(e).length},Ei.snakeCase=Os,Ei.some=function(e,t,i){var n=Mr(e)?ht:Yn;return i&&la(e,t,i)&&(t=void 0),n(e,Ko(t,3))},Ei.sortedIndex=function(e,t){return Wn(e,t)},Ei.sortedIndexBy=function(e,t,i){return Vn(e,t,Ko(i,2))},Ei.sortedIndexOf=function(e,t){var i=null==e?0:e.length;if(i){var n=Wn(e,t);if(n<i&&xr(e[n],t))return n}return-1},Ei.sortedLastIndex=function(e,t){return Wn(e,t,!0)},Ei.sortedLastIndexBy=function(e,t,i){return Vn(e,t,Ko(i,2),!0)},Ei.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var i=Wn(e,t,!0)-1;if(xr(e[i],t))return i}return-1},Ei.startCase=Hs,Ei.startsWith=function(e,t,i){return e=ss(e),i=null==i?0:Vi(ns(i),0,e.length),t=Kn(t),e.slice(i,i+t.length)==t},Ei.subtract=fl,Ei.sum=function(e){return e&&e.length?wt(e,Ys):0},Ei.sumBy=function(e,t){return e&&e.length?wt(e,Ko(t,2)):0},Ei.template=function(e,t,i){var n=Ei.templateSettings;i&&la(e,t,i)&&(t=void 0),e=ss(e),t=ds({},t,n,Ro);var o,a,r=ds({},t.imports,n.imports,Ro),s=_s(r),l=At(r,s),c=0,d=t.interpolate||ae,u="__p += '",h=ge((t.escape||ae).source+"|"+d.source+"|"+(d===H?K:ae).source+"|"+(t.evaluate||ae).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Qe+"]")+"\n";e.replace(h,(function(t,i,n,r,s,l){return n||(n=r),u+=e.slice(c,l).replace(re,Mt),i&&(o=!0,u+="' +\n__e("+i+") +\n'"),s&&(a=!0,u+="';\n"+s+";\n__p += '"),n&&(u+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),u+="';\n";var p=t.variable;p||(u="with (obj) {\n"+u+"\n}\n"),u=(a?u.replace(I,""):u).replace(x,"$1").replace(S,"$1;"),u="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var m=Rs((function(){return fe(s,f+"return "+u).apply(void 0,l)}));if(m.source=u,Fr(m))throw m;return m},Ei.times=function(e,t){if((e=ns(e))<1||e>9007199254740991)return[];var i=4294967295,n=ri(e,4294967295);e-=4294967295;for(var o=kt(n,t=Ko(t));++i<e;)t(i);return o},Ei.toFinite=is,Ei.toInteger=ns,Ei.toLength=os,Ei.toLower=function(e){return ss(e).toLowerCase()},Ei.toNumber=as,Ei.toSafeInteger=function(e){return e?Vi(ns(e),-9007199254740991,9007199254740991):0===e?e:0},Ei.toString=ss,Ei.toUpper=function(e){return ss(e).toUpperCase()},Ei.trim=function(e,t,i){if((e=ss(e))&&(i||void 0===t))return e.replace(B,"");if(!e||!(t=Kn(t)))return e;var n=Rt(e),o=Rt(t);return co(n,It(n,o),xt(n,o)+1).join("")},Ei.trimEnd=function(e,t,i){if((e=ss(e))&&(i||void 0===t))return e.replace(q,"");if(!e||!(t=Kn(t)))return e;var n=Rt(e);return co(n,0,xt(n,Rt(t))+1).join("")},Ei.trimStart=function(e,t,i){if((e=ss(e))&&(i||void 0===t))return e.replace($,"");if(!e||!(t=Kn(t)))return e;var n=Rt(e);return co(n,It(n,Rt(t))).join("")},Ei.truncate=function(e,t){var i=30,n="...";if(Br(t)){var o="separator"in t?t.separator:o;i="length"in t?ns(t.length):i,n="omission"in t?Kn(t.omission):n}var a=(e=ss(e)).length;if(Qt(e)){var r=Rt(e);a=r.length}if(i>=a)return e;var s=i-Gt(n);if(s<1)return n;var l=r?co(r,0,s).join(""):e.slice(0,s);if(void 0===o)return l+n;if(r&&(s+=l.length-s),Vr(o)){if(e.slice(s).search(o)){var c,d=l;for(o.global||(o=ge(o.source,ss(J.exec(o))+"g")),o.lastIndex=0;c=o.exec(d);)var u=c.index;l=l.slice(0,void 0===u?s:u)}}else if(e.indexOf(Kn(o),s)!=s){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+n},Ei.unescape=function(e){return(e=ss(e))&&M.test(e)?e.replace(D,Ut):e},Ei.uniqueId=function(e){var t=++je;return ss(e)+t},Ei.upperCase=Ps,Ei.upperFirst=Fs,Ei.each=sr,Ei.eachRight=lr,Ei.first=Na,Xs(Ei,(dl={},ln(Ei,(function(e,t){ke.call(Ei.prototype,t)||(dl[t]=e)})),dl),{chain:!1}),Ei.VERSION="4.17.11",it(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Ei[e].placeholder=Ei})),it(["drop","take"],(function(e,t){Di.prototype[e]=function(i){i=void 0===i?1:ai(ns(i),0);var n=this.__filtered__&&!t?new Di(this):this.clone();return n.__filtered__?n.__takeCount__=ri(i,n.__takeCount__):n.__views__.push({size:ri(i,4294967295),type:e+(n.__dir__<0?"Right":"")}),n},Di.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),it(["filter","map","takeWhile"],(function(e,t){var i=t+1,n=1==i||3==i;Di.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ko(e,3),type:i}),t.__filtered__=t.__filtered__||n,t}})),it(["head","last"],(function(e,t){var i="take"+(t?"Right":"");Di.prototype[e]=function(){return this[i](1).value()[0]}})),it(["initial","tail"],(function(e,t){var i="drop"+(t?"":"Right");Di.prototype[e]=function(){return this.__filtered__?new Di(this):this[i](1)}})),Di.prototype.compact=function(){return this.filter(Ys)},Di.prototype.find=function(e){return this.filter(e).head()},Di.prototype.findLast=function(e){return this.reverse().find(e)},Di.prototype.invokeMap=Pn((function(e,t){return"function"==typeof e?new Di(this):this.map((function(i){return yn(i,e,t)}))})),Di.prototype.reject=function(e){return this.filter(kr(Ko(e)))},Di.prototype.slice=function(e,t){e=ns(e);var i=this;return i.__filtered__&&(e>0||t<0)?new Di(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),void 0!==t&&(i=(t=ns(t))<0?i.dropRight(-t):i.take(t-e)),i)},Di.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Di.prototype.toArray=function(){return this.take(4294967295)},ln(Di.prototype,(function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=Ei[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);o&&(Ei.prototype[t]=function(){var t=this.__wrapped__,r=n?[1]:arguments,s=t instanceof Di,l=r[0],c=s||Mr(t),d=function(e){var t=o.apply(Ei,ct([e],r));return n&&u?t[0]:t};c&&i&&"function"==typeof l&&1!=l.length&&(s=c=!1);var u=this.__chain__,h=!!this.__actions__.length,f=a&&!u,p=s&&!h;if(!a&&c){t=p?t:new Di(this);var m=e.apply(t,r);return m.__actions__.push({func:ir,args:[d],thisArg:void 0}),new Si(m,u)}return f&&p?e.apply(this,r):(m=this.thru(d),f?n?m.value()[0]:m.value():m)})})),it(["pop","push","shift","sort","splice","unshift"],(function(e){var t=be[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Ei.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var o=this.value();return t.apply(Mr(o)?o:[],e)}return this[i]((function(i){return t.apply(Mr(i)?i:[],e)}))}})),ln(Di.prototype,(function(e,t){var i=Ei[t];if(i){var n=i.name+"";(yi[n]||(yi[n]=[])).push({name:t,func:i})}})),yi[xo(void 0,2).name]=[{name:"wrapper",func:void 0}],Di.prototype.clone=function(){var e=new Di(this.__wrapped__);return e.__actions__=yo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yo(this.__views__),e},Di.prototype.reverse=function(){if(this.__filtered__){var e=new Di(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Di.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,i=Mr(e),n=t<0,o=i?e.length:0,a=function(e,t,i){var n=-1,o=i.length;for(;++n<o;){var a=i[n],r=a.size;switch(a.type){case"drop":e+=r;break;case"dropRight":t-=r;break;case"take":t=ri(t,e+r);break;case"takeRight":e=ai(e,t-r)}}return{start:e,end:t}}(0,o,this.__views__),r=a.start,s=a.end,l=s-r,c=n?s:r-1,d=this.__iteratees__,u=d.length,h=0,f=ri(l,this.__takeCount__);if(!i||!n&&o==l&&f==l)return io(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var m=-1,g=e[c+=t];++m<u;){var v=d[m],y=v.iteratee,b=v.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue e;break e}}p[h++]=g}return p},Ei.prototype.at=nr,Ei.prototype.chain=function(){return tr(this)},Ei.prototype.commit=function(){return new Si(this.value(),this.__chain__)},Ei.prototype.next=function(){void 0===this.__values__&&(this.__values__=ts(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Ei.prototype.plant=function(e){for(var t,i=this;i instanceof xi;){var n=Ia(i);n.__index__=0,n.__values__=void 0,t?o.__wrapped__=n:t=n;var o=n;i=i.__wrapped__}return o.__wrapped__=e,t},Ei.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Di){var t=e;return this.__actions__.length&&(t=new Di(this)),(t=t.reverse()).__actions__.push({func:ir,args:[Ba],thisArg:void 0}),new Si(t,this.__chain__)}return this.thru(Ba)},Ei.prototype.toJSON=Ei.prototype.valueOf=Ei.prototype.value=function(){return io(this.__wrapped__,this.__actions__)},Ei.prototype.first=Ei.prototype.head,Yt&&(Ei.prototype[Yt]=function(){return this}),Ei}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ue._=Bt,define((function(){return Bt}))):$e?(($e.exports=Bt)._=Bt,Be._=Bt):Ue._=Bt}.call(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,(function(){"use strict";var e,t;function i(){return e.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){return void 0===e}function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var i in t)c(t,i)&&(e[i]=t[i]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,i,n){return gt(e,t,i,n,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function f(e){if(null==e._isValid){var i=h(e),n=t.call(i.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&i.overflow<0&&!i.empty&&!i.invalidMonth&&!i.invalidWeekday&&!i.weekdayMismatch&&!i.nullInput&&!i.invalidFormat&&!i.userInvalidated&&(!i.meridiem||i.meridiem&&n);if(e._strict&&(o=o&&0===i.charsLeftOver&&0===i.unusedTokens.length&&void 0===i.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function p(e){var t=u(NaN);return null!=e?d(h(t),e):h(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var m=i.momentProperties=[];function g(e,t){var i,n,o;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=h(t)),a(t._locale)||(e._locale=t._locale),m.length>0)for(i=0;i<m.length;i++)a(o=t[n=m[i]])||(e[n]=o);return e}var v=!1;function y(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,i.updateOffset(this),v=!1)}function b(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function T(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=_(t)),i}function C(e,t,i){var n,o=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),r=0;for(n=0;n<o;n++)(i&&e[n]!==t[n]||!i&&T(e[n])!==T(t[n]))&&r++;return r+a}function w(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var n=!0;return d((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){for(var o,a=[],r=0;r<arguments.length;r++){if(o="","object"==typeof arguments[r]){for(var s in o+="\n["+r+"] ",arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[r];a.push(o)}w(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var j,A={};function E(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),A[e]||(w(t),A[e]=!0)}function I(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e,t){var i,n=d({},e);for(i in t)c(t,i)&&(o(e[i])&&o(t[i])?(n[i]={},d(n[i],e[i]),d(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(i in e)c(e,i)&&!c(t,i)&&o(e[i])&&(n[i]=d({},n[i]));return n}function S(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,j=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)c(e,t)&&i.push(t);return i};var D={};function L(e,t){var i=e.toLowerCase();D[i]=D[i+"s"]=D[t]=e}function M(e){return"string"==typeof e?D[e]||D[e.toLowerCase()]:void 0}function Q(e){var t,i,n={};for(i in e)c(e,i)&&(t=M(i))&&(n[t]=e[i]);return n}var N={};function O(e,t){N[e]=t}function H(e,t,i){var n=""+Math.abs(e),o=t-n.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}var P=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,G={},R={};function U(e,t,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),e&&(R[e]=o),t&&(R[t[0]]=function(){return H(o.apply(this,arguments),t[1],t[2])}),i&&(R[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function B(e,t){return e.isValid()?(t=$(t,e.localeData()),G[t]=G[t]||function(e){var t,i,n,o=e.match(P);for(t=0,i=o.length;t<i;t++)R[o[t]]?o[t]=R[o[t]]:o[t]=(n=o[t]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(t){var n,a="";for(n=0;n<i;n++)a+=I(o[n])?o[n].call(t,e):o[n];return a}}(t),G[t](e)):e.localeData().invalidDate()}function $(e,t){var i=5;function n(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;i>=0&&F.test(e);)e=e.replace(F,n),F.lastIndex=0,i-=1;return e}var q=/\d/,Y=/\d\d/,W=/\d{3}/,V=/\d{4}/,z=/[+-]?\d{6}/,X=/\d\d?/,K=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,Z=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ie=/\d+/,ne=/[+-]?\d+/,oe=/Z|[+-]\d\d:?\d\d/gi,ae=/Z|[+-]\d\d(?::?\d\d)?/gi,re=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,se={};function le(e,t,i){se[e]=I(t)?t:function(e,n){return e&&i?i:t}}function ce(e,t){return c(se,e)?se[e](t._strict,t._locale):new RegExp(de(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,i,n,o){return t||i||n||o}))))}function de(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ue={};function he(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),r(t)&&(n=function(e,i){i[t]=T(e)}),i=0;i<e.length;i++)ue[e[i]]=n}function fe(e,t){he(e,(function(e,i,n,o){n._w=n._w||{},t(e,n._w,n,o)}))}function pe(e){return me(e)?366:365}function me(e){return e%4==0&&e%100!=0||e%400==0}U("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),U(0,["YY",2],0,(function(){return this.year()%100})),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),L("year","y"),O("year",1),le("Y",ne),le("YY",X,Y),le("YYYY",ee,V),le("YYYYY",te,z),le("YYYYYY",te,z),he(["YYYYY","YYYYYY"],0),he("YYYY",(function(e,t){t[0]=2===e.length?i.parseTwoDigitYear(e):T(e)})),he("YY",(function(e,t){t[0]=i.parseTwoDigitYear(e)})),he("Y",(function(e,t){t[0]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return T(e)+(T(e)>68?1900:2e3)};var ge,ve=ye("FullYear",!0);function ye(e,t){return function(n){return null!=n?(_e(this,e,n),i.updateOffset(this,t),this):be(this,e)}}function be(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function _e(e,t,i){e.isValid()&&!isNaN(i)&&("FullYear"===t&&me(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),Te(i,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](i))}function Te(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=(t%12+12)%12;return e+=(t-i)/12,1===i?me(e)?29:28:31-i%7%2}ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",(function(){return this.month()+1})),U("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),U("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),L("month","M"),O("month",8),le("M",X),le("MM",X,Y),le("MMM",(function(e,t){return t.monthsShortRegex(e)})),le("MMMM",(function(e,t){return t.monthsRegex(e)})),he(["M","MM"],(function(e,t){t[1]=T(e)-1})),he(["MMM","MMMM"],(function(e,t,i,n){var o=i._locale.monthsParse(e,n,i._strict);null!=o?t[1]=o:h(i).invalidMonth=e}));var Ce=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,we="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ke="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function je(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=T(t);else if(!r(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),Te(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function Ae(e){return null!=e?(je(this,e),i.updateOffset(this,!0),this):be(this,"Month")}var Ee=re,Ie=re;function xe(){function e(e,t){return t.length-e.length}var t,i,n=[],o=[],a=[];for(t=0;t<12;t++)i=u([2e3,t]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),a.push(this.months(i,"")),a.push(this.monthsShort(i,""));for(n.sort(e),o.sort(e),a.sort(e),t=0;t<12;t++)n[t]=de(n[t]),o[t]=de(o[t]);for(t=0;t<24;t++)a[t]=de(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Se(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function De(e,t,i){var n=7+t-i;return-(7+Se(e,0,n).getUTCDay()-t)%7+n-1}function Le(e,t,i,n,o){var a,r,s=1+7*(t-1)+(7+i-n)%7+De(e,n,o);return s<=0?r=pe(a=e-1)+s:s>pe(e)?(a=e+1,r=s-pe(e)):(a=e,r=s),{year:a,dayOfYear:r}}function Me(e,t,i){var n,o,a=De(e.year(),t,i),r=Math.floor((e.dayOfYear()-a-1)/7)+1;return r<1?n=r+Qe(o=e.year()-1,t,i):r>Qe(e.year(),t,i)?(n=r-Qe(e.year(),t,i),o=e.year()+1):(o=e.year(),n=r),{week:n,year:o}}function Qe(e,t,i){var n=De(e,t,i),o=De(e+1,t,i);return(pe(e)-n+o)/7}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),O("week",5),O("isoWeek",5),le("w",X),le("ww",X,Y),le("W",X),le("WW",X,Y),fe(["w","ww","W","WW"],(function(e,t,i,n){t[n.substr(0,1)]=T(e)})),U("d",0,"do","day"),U("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),U("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),U("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),O("day",11),O("weekday",11),O("isoWeekday",11),le("d",X),le("e",X),le("E",X),le("dd",(function(e,t){return t.weekdaysMinRegex(e)})),le("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),le("dddd",(function(e,t){return t.weekdaysRegex(e)})),fe(["dd","ddd","dddd"],(function(e,t,i,n){var o=i._locale.weekdaysParse(e,n,i._strict);null!=o?t.d=o:h(i).invalidWeekday=e})),fe(["d","e","E"],(function(e,t,i,n){t[n]=T(e)}));var Ne="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Oe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),He="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Pe=re,Fe=re,Ge=re;function Re(){function e(e,t){return t.length-e.length}var t,i,n,o,a,r=[],s=[],l=[],c=[];for(t=0;t<7;t++)i=u([2e3,1]).day(t),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),a=this.weekdays(i,""),r.push(n),s.push(o),l.push(a),c.push(n),c.push(o),c.push(a);for(r.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=de(s[t]),l[t]=de(l[t]),c[t]=de(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ue(){return this.hours()%12||12}function Be(e,t){U(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function $e(e,t){return t._meridiemParse}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Ue),U("k",["kk",2],0,(function(){return this.hours()||24})),U("hmm",0,0,(function(){return""+Ue.apply(this)+H(this.minutes(),2)})),U("hmmss",0,0,(function(){return""+Ue.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)})),U("Hmm",0,0,(function(){return""+this.hours()+H(this.minutes(),2)})),U("Hmmss",0,0,(function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)})),Be("a",!0),Be("A",!1),L("hour","h"),O("hour",13),le("a",$e),le("A",$e),le("H",X),le("h",X),le("k",X),le("HH",X,Y),le("hh",X,Y),le("kk",X,Y),le("hmm",K),le("hmmss",J),le("Hmm",K),le("Hmmss",J),he(["H","HH"],3),he(["k","kk"],(function(e,t,i){var n=T(e);t[3]=24===n?0:n})),he(["a","A"],(function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e})),he(["h","hh"],(function(e,t,i){t[3]=T(e),h(i).bigHour=!0})),he("hmm",(function(e,t,i){var n=e.length-2;t[3]=T(e.substr(0,n)),t[4]=T(e.substr(n)),h(i).bigHour=!0})),he("hmmss",(function(e,t,i){var n=e.length-4,o=e.length-2;t[3]=T(e.substr(0,n)),t[4]=T(e.substr(n,2)),t[5]=T(e.substr(o)),h(i).bigHour=!0})),he("Hmm",(function(e,t,i){var n=e.length-2;t[3]=T(e.substr(0,n)),t[4]=T(e.substr(n))})),he("Hmmss",(function(e,t,i){var n=e.length-4,o=e.length-2;t[3]=T(e.substr(0,n)),t[4]=T(e.substr(n,2)),t[5]=T(e.substr(o))}));var qe,Ye=ye("Hours",!0),We={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:we,monthsShort:ke,week:{dow:0,doy:6},weekdays:Ne,weekdaysMin:He,weekdaysShort:Oe,meridiemParse:/[ap]\.?m?\.?/i},Ve={},ze={};function Xe(e){return e?e.toLowerCase().replace("_","-"):e}function Ke(e){var t=null;if(!Ve[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=qe._abbr,require("./locale/"+e),Je(t)}catch(e){}return Ve[e]}function Je(e,t){var i;return e&&((i=a(t)?et(e):Ze(e,t))?qe=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),qe._abbr}function Ze(e,t){if(null!==t){var i,n=We;if(t.abbr=e,null!=Ve[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ve[e]._config;else if(null!=t.parentLocale)if(null!=Ve[t.parentLocale])n=Ve[t.parentLocale]._config;else{if(null==(i=Ke(t.parentLocale)))return ze[t.parentLocale]||(ze[t.parentLocale]=[]),ze[t.parentLocale].push({name:e,config:t}),null;n=i._config}return Ve[e]=new S(x(n,t)),ze[e]&&ze[e].forEach((function(e){Ze(e.name,e.config)})),Je(e),Ve[e]}return delete Ve[e],null}function et(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return qe;if(!n(e)){if(t=Ke(e))return t;e=[e]}return function(e){for(var t,i,n,o,a=0;a<e.length;){for(t=(o=Xe(e[a]).split("-")).length,i=(i=Xe(e[a+1]))?i.split("-"):null;t>0;){if(n=Ke(o.slice(0,t).join("-")))return n;if(i&&i.length>=t&&C(o,i,!0)>=t-1)break;t--}a++}return qe}(e)}function tt(e){var t,i=e._a;return i&&-2===h(e).overflow&&(t=i[1]<0||i[1]>11?1:i[2]<1||i[2]>Te(i[0],i[1])?2:i[3]<0||i[3]>24||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:i[4]<0||i[4]>59?4:i[5]<0||i[5]>59?5:i[6]<0||i[6]>999?6:-1,h(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),h(e)._overflowWeeks&&-1===t&&(t=7),h(e)._overflowWeekday&&-1===t&&(t=8),h(e).overflow=t),e}function it(e,t,i){return null!=e?e:null!=t?t:i}function nt(e){var t,n,o,a,r,s=[];if(!e._d){var l,c;for(l=e,c=new Date(i.now()),o=l._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()],e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,i,n,o,a,r,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)a=1,r=4,i=it(t.GG,e._a[0],Me(vt(),1,4).year),n=it(t.W,1),((o=it(t.E,1))<1||o>7)&&(l=!0);else{a=e._locale._week.dow,r=e._locale._week.doy;var c=Me(vt(),a,r);i=it(t.gg,e._a[0],c.year),n=it(t.w,c.week),null!=t.d?((o=t.d)<0||o>6)&&(l=!0):null!=t.e?(o=t.e+a,(t.e<0||t.e>6)&&(l=!0)):o=a}n<1||n>Qe(i,a,r)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(s=Le(i,n,o,a,r),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(r=it(e._a[0],o[0]),(e._dayOfYear>pe(r)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=Se(r,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=o[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Se:function(e,t,i,n,o,a,r){var s=new Date(e,t,i,n,o,a,r);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,s),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==a&&(h(e).weekdayMismatch=!0)}}var ot=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,at=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rt=/Z|[+-]\d\d(?::?\d\d)?/,st=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],lt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ct=/^\/?Date\((\-?\d+)/i;function dt(e){var t,i,n,o,a,r,s=e._i,l=ot.exec(s)||at.exec(s);if(l){for(h(e).iso=!0,t=0,i=st.length;t<i;t++)if(st[t][1].exec(l[1])){o=st[t][0],n=!1!==st[t][2];break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,i=lt.length;t<i;t++)if(lt[t][1].exec(l[3])){a=(l[2]||" ")+lt[t][0];break}if(null==a)return void(e._isValid=!1)}if(!n&&null!=a)return void(e._isValid=!1);if(l[4]){if(!rt.exec(l[4]))return void(e._isValid=!1);r="Z"}e._f=o+(a||"")+(r||""),pt(e)}else e._isValid=!1}var ut=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var ht={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ft(e){var t,i,n,o=ut.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(o){var a=function(e,t,i,n,o,a){var r=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),ke.indexOf(t),parseInt(i,10),parseInt(n,10),parseInt(o,10)];return a&&r.push(parseInt(a,10)),r}(o[4],o[3],o[2],o[5],o[6],o[7]);if(i=a,n=e,(t=o[1])&&Oe.indexOf(t)!==new Date(i[0],i[1],i[2]).getDay()&&(h(n).weekdayMismatch=!0,n._isValid=!1,1))return;e._a=a,e._tzm=function(e,t,i){if(e)return ht[e];if(t)return 0;var n=parseInt(i,10),o=n%100;return(n-o)/100*60+o}(o[8],o[9],o[10]),e._d=Se.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function pt(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],h(e).empty=!0;var t,n,o,a,r,s,l,d,u=""+e._i,f=u.length,p=0;for(o=$(e._f,e._locale).match(P)||[],t=0;t<o.length;t++)a=o[t],(n=(u.match(ce(a,e))||[])[0])&&((r=u.substr(0,u.indexOf(n))).length>0&&h(e).unusedInput.push(r),u=u.slice(u.indexOf(n)+n.length),p+=n.length),R[a]?(n?h(e).empty=!1:h(e).unusedTokens.push(a),s=a,d=e,null!=(l=n)&&c(ue,s)&&ue[s](l,d._a,d,s)):e._strict&&!n&&h(e).unusedTokens.push(a);h(e).charsLeftOver=f-p,u.length>0&&h(e).unusedInput.push(u),e._a[3]<=12&&!0===h(e).bigHour&&e._a[3]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[3]=function(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?((n=e.isPM(i))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),nt(e),tt(e)}else ft(e);else dt(e)}function mt(e){var t,c,u,m,v=e._i,_=e._f;return e._locale=e._locale||et(e._l),null===v||void 0===_&&""===v?p({nullInput:!0}):("string"==typeof v&&(e._i=v=e._locale.preparse(v)),b(v)?new y(tt(v)):(s(v)?e._d=v:n(_)?function(e){var t,i,n,o,a;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)a=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],pt(t),f(t)&&(a+=h(t).charsLeftOver,a+=10*h(t).unusedTokens.length,h(t).score=a,(null==n||a<n)&&(n=a,i=t));d(e,i||t)}(e):_?pt(e):a(c=(t=e)._i)?t._d=new Date(i.now()):s(c)?t._d=new Date(c.valueOf()):"string"==typeof c?(u=t,null===(m=ct.exec(u._i))?(dt(u),!1===u._isValid&&(delete u._isValid,ft(u),!1===u._isValid&&(delete u._isValid,i.createFromInputFallback(u)))):u._d=new Date(+m[1])):n(c)?(t._a=l(c.slice(0),(function(e){return parseInt(e,10)})),nt(t)):o(c)?function(e){if(!e._d){var t=Q(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),nt(e)}}(t):r(c)?t._d=new Date(c):i.createFromInputFallback(t),f(e)||(e._d=null),e))}function gt(e,t,i,a,r){var s,l={};return!0!==i&&!1!==i||(a=i,i=void 0),(o(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||n(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=i,l._i=e,l._f=t,l._strict=a,(s=new y(tt(mt(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function vt(e,t,i,n){return gt(e,t,i,n,!1)}i.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var yt=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()})),bt=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()}));function _t(e,t){var i,o;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return vt();for(i=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](i)||(i=t[o]);return i}var Tt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ct(e){var t=Q(e),i=t.year||0,n=t.quarter||0,o=t.month||0,a=t.week||0,r=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ge.call(Tt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var i=!1,n=0;n<Tt.length;++n)if(e[Tt[n]]){if(i)return!1;parseFloat(e[Tt[n]])!==T(e[Tt[n]])&&(i=!0)}return!0}(t),this._milliseconds=+d+1e3*c+6e4*l+1e3*s*60*60,this._days=+r+7*a,this._months=+o+3*n+12*i,this._data={},this._locale=et(),this._bubble()}function wt(e){return e instanceof Ct}function kt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function jt(e,t){U(e,0,0,(function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+H(~~(e/60),2)+t+H(~~e%60,2)}))}jt("Z",":"),jt("ZZ",""),le("Z",ae),le("ZZ",ae),he(["Z","ZZ"],(function(e,t,i){i._useUTC=!0,i._tzm=Et(ae,e)}));var At=/([\+\-]|\d\d)/gi;function Et(e,t){var i=(t||"").match(e);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(At)||["-",0,0],o=60*n[1]+T(n[2]);return 0===o?0:"+"===n[0]?o:-o}function It(e,t){var n,o;return t._isUTC?(n=t.clone(),o=(b(e)||s(e)?e.valueOf():vt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),i.updateOffset(n,!1),n):vt(e).local()}function xt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function St(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Dt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Lt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Mt(e,t){var i,n,o,a=e,s=null;return wt(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(a={},t?a[t]=e:a.milliseconds=e):(s=Dt.exec(e))?(i="-"===s[1]?-1:1,a={y:0,d:T(s[2])*i,h:T(s[3])*i,m:T(s[4])*i,s:T(s[5])*i,ms:T(kt(1e3*s[6]))*i}):(s=Lt.exec(e))?(i="-"===s[1]?-1:(s[1],1),a={y:Qt(s[2],i),M:Qt(s[3],i),w:Qt(s[4],i),d:Qt(s[5],i),h:Qt(s[6],i),m:Qt(s[7],i),s:Qt(s[8],i)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=function(e,t){var i;return e.isValid()&&t.isValid()?(t=It(t,e),e.isBefore(t)?i=Nt(e,t):((i=Nt(t,e)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}(vt(a.from),vt(a.to)),(a={}).ms=o.milliseconds,a.M=o.months),n=new Ct(a),wt(e)&&c(e,"_locale")&&(n._locale=e._locale),n}function Qt(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Nt(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Ot(e,t){return function(i,n){var o;return null===n||isNaN(+n)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=i,i=n,n=o),Ht(this,Mt(i="string"==typeof i?+i:i,n),e),this}}function Ht(e,t,n,o){var a=t._milliseconds,r=kt(t._days),s=kt(t._months);e.isValid()&&(o=null==o||o,s&&je(e,be(e,"Month")+s*n),r&&_e(e,"Date",be(e,"Date")+r*n),a&&e._d.setTime(e._d.valueOf()+a*n),o&&i.updateOffset(e,r||s))}Mt.fn=Ct.prototype,Mt.invalid=function(){return Mt(NaN)};var Pt=Ot(1,"add"),Ft=Ot(-1,"subtract");function Gt(e,t){var i=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(i,"months");return-(i+(t-n<0?(t-n)/(n-e.clone().add(i-1,"months")):(t-n)/(e.clone().add(i+1,"months")-n)))||0}function Rt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=et(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ut=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Bt(){return this._locale}function $t(e,t){U(0,[e,e.length],0,t)}function qt(e,t,i,n,o){var a;return null==e?Me(this,n,o).year:(t>(a=Qe(e,n,o))&&(t=a),function(e,t,i,n,o){var a=Le(e,t,i,n,o),r=Se(a.year,0,a.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}.call(this,e,t,i,n,o))}U(0,["gg",2],0,(function(){return this.weekYear()%100})),U(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),$t("gggg","weekYear"),$t("ggggg","weekYear"),$t("GGGG","isoWeekYear"),$t("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),O("weekYear",1),O("isoWeekYear",1),le("G",ne),le("g",ne),le("GG",X,Y),le("gg",X,Y),le("GGGG",ee,V),le("gggg",ee,V),le("GGGGG",te,z),le("ggggg",te,z),fe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,i,n){t[n.substr(0,2)]=T(e)})),fe(["gg","GG"],(function(e,t,n,o){t[o]=i.parseTwoDigitYear(e)})),U("Q",0,"Qo","quarter"),L("quarter","Q"),O("quarter",7),le("Q",q),he("Q",(function(e,t){t[1]=3*(T(e)-1)})),U("D",["DD",2],"Do","date"),L("date","D"),O("date",9),le("D",X),le("DD",X,Y),le("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),he(["D","DD"],2),he("Do",(function(e,t){t[2]=T(e.match(X)[0])}));var Yt=ye("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),O("dayOfYear",4),le("DDD",Z),le("DDDD",W),he(["DDD","DDDD"],(function(e,t,i){i._dayOfYear=T(e)})),U("m",["mm",2],0,"minute"),L("minute","m"),O("minute",14),le("m",X),le("mm",X,Y),he(["m","mm"],4);var Wt=ye("Minutes",!1);U("s",["ss",2],0,"second"),L("second","s"),O("second",15),le("s",X),le("ss",X,Y),he(["s","ss"],5);var Vt,zt=ye("Seconds",!1);for(U("S",0,0,(function(){return~~(this.millisecond()/100)})),U(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),U(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),U(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),U(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),U(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),U(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),L("millisecond","ms"),O("millisecond",16),le("S",Z,q),le("SS",Z,Y),le("SSS",Z,W),Vt="SSSS";Vt.length<=9;Vt+="S")le(Vt,ie);function Xt(e,t){t[6]=T(1e3*("0."+e))}for(Vt="S";Vt.length<=9;Vt+="S")he(Vt,Xt);var Kt=ye("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var Jt=y.prototype;function Zt(e){return e}Jt.add=Pt,Jt.calendar=function(e,t){var n=e||vt(),o=It(n,this).startOf("day"),a=i.calendarFormat(this,o)||"sameElse",r=t&&(I(t[a])?t[a].call(this,n):t[a]);return this.format(r||this.localeData().calendar(a,this,vt(n)))},Jt.clone=function(){return new y(this)},Jt.diff=function(e,t,i){var n,o,a;if(!this.isValid())return NaN;if(!(n=It(e,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),t=M(t)){case"year":a=Gt(this,n)/12;break;case"month":a=Gt(this,n);break;case"quarter":a=Gt(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-o)/864e5;break;case"week":a=(this-n-o)/6048e5;break;default:a=this-n}return i?a:_(a)},Jt.endOf=function(e){return void 0===(e=M(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},Jt.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=B(this,e);return this.localeData().postformat(t)},Jt.from=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||vt(e).isValid())?Mt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Jt.fromNow=function(e){return this.from(vt(),e)},Jt.to=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||vt(e).isValid())?Mt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Jt.toNow=function(e){return this.to(vt(),e)},Jt.get=function(e){return I(this[e=M(e)])?this[e]():this},Jt.invalidAt=function(){return h(this).overflow},Jt.isAfter=function(e,t){var i=b(e)?e:vt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=M(a(t)?"millisecond":t))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())},Jt.isBefore=function(e,t){var i=b(e)?e:vt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=M(a(t)?"millisecond":t))?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())},Jt.isBetween=function(e,t,i,n){return("("===(n=n||"()")[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))},Jt.isSame=function(e,t){var i,n=b(e)?e:vt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=M(t||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))},Jt.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Jt.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Jt.isValid=function(){return f(this)},Jt.lang=Ut,Jt.locale=Rt,Jt.localeData=Bt,Jt.max=bt,Jt.min=yt,Jt.parsingFlags=function(){return d({},h(this))},Jt.set=function(e,t){if("object"==typeof e)for(var i=function(e){var t=[];for(var i in e)t.push({unit:i,priority:N[i]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=Q(e)),n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit]);else if(I(this[e=M(e)]))return this[e](t);return this},Jt.startOf=function(e){switch(e=M(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},Jt.subtract=Ft,Jt.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Jt.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Jt.toDate=function(){return new Date(this.valueOf())},Jt.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?B(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):I(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",B(i,"Z")):B(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Jt.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=t+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+o)},Jt.toJSON=function(){return this.isValid()?this.toISOString():null},Jt.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Jt.unix=function(){return Math.floor(this.valueOf()/1e3)},Jt.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Jt.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Jt.year=ve,Jt.isLeapYear=function(){return me(this.year())},Jt.weekYear=function(e){return qt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Jt.isoWeekYear=function(e){return qt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Jt.quarter=Jt.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Jt.month=Ae,Jt.daysInMonth=function(){return Te(this.year(),this.month())},Jt.week=Jt.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Jt.isoWeek=Jt.isoWeeks=function(e){var t=Me(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Jt.weeksInYear=function(){var e=this.localeData()._week;return Qe(this.year(),e.dow,e.doy)},Jt.isoWeeksInYear=function(){return Qe(this.year(),1,4)},Jt.date=Yt,Jt.day=Jt.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,i,n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,i=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=i.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-n,"d")):n},Jt.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Jt.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=(i=e,n=this.localeData(),"string"==typeof i?n.weekdaysParse(i)%7||7:isNaN(i)?null:i);return this.day(this.day()%7?t:t-7)}return this.day()||7;var i,n},Jt.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Jt.hour=Jt.hours=Ye,Jt.minute=Jt.minutes=Wt,Jt.second=Jt.seconds=zt,Jt.millisecond=Jt.milliseconds=Kt,Jt.utcOffset=function(e,t,n){var o,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Et(ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(o=xt(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),a!==e&&(!t||this._changeInProgress?Ht(this,Mt(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:xt(this)},Jt.utc=function(e){return this.utcOffset(0,e)},Jt.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(xt(this),"m")),this},Jt.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Et(oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Jt.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?vt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Jt.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Jt.isLocal=function(){return!!this.isValid()&&!this._isUTC},Jt.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Jt.isUtc=St,Jt.isUTC=St,Jt.zoneAbbr=function(){return this._isUTC?"UTC":""},Jt.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Jt.dates=k("dates accessor is deprecated. Use date instead.",Yt),Jt.months=k("months accessor is deprecated. Use month instead",Ae),Jt.years=k("years accessor is deprecated. Use year instead",ve),Jt.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),Jt.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),(e=mt(e))._a){var t=e._isUTC?u(e._a):vt(e._a);this._isDSTShifted=this.isValid()&&C(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var ei=S.prototype;function ti(e,t,i,n){var o=et(),a=u().set(n,t);return o[i](a,e)}function ii(e,t,i){if(r(e)&&(t=e,e=void 0),e=e||"",null!=t)return ti(e,t,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=ti(e,n,i,"month");return o}function ni(e,t,i,n){"boolean"==typeof e?(r(t)&&(i=t,t=void 0),t=t||""):(i=t=e,e=!1,r(t)&&(i=t,t=void 0),t=t||"");var o,a=et(),s=e?a._week.dow:0;if(null!=i)return ti(t,(i+s)%7,n,"day");var l=[];for(o=0;o<7;o++)l[o]=ti(t,(o+s)%7,n,"day");return l}ei.calendar=function(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return I(n)?n.call(t,i):n},ei.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},ei.invalidDate=function(){return this._invalidDate},ei.ordinal=function(e){return this._ordinal.replace("%d",e)},ei.preparse=Zt,ei.postformat=Zt,ei.relativeTime=function(e,t,i,n){var o=this._relativeTime[i];return I(o)?o(e,t,i,n):o.replace(/%d/i,e)},ei.pastFuture=function(e,t){var i=this._relativeTime[e>0?"future":"past"];return I(i)?i(t):i.replace(/%s/i,t)},ei.set=function(e){var t,i;for(i in e)I(t=e[i])?this[i]=t:this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},ei.months=function(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ce).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone},ei.monthsShort=function(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ce.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},ei.monthsParse=function(e,t,i){var n,o,a;if(this._monthsParseExact)return function(e,t,i){var n,o,a,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=u([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(o=ge.call(this._shortMonthsParse,r))?o:null:-1!==(o=ge.call(this._longMonthsParse,r))?o:null:"MMM"===t?-1!==(o=ge.call(this._shortMonthsParse,r))||-1!==(o=ge.call(this._longMonthsParse,r))?o:null:-1!==(o=ge.call(this._longMonthsParse,r))||-1!==(o=ge.call(this._shortMonthsParse,r))?o:null}.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=u([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(a="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}},ei.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||xe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Ie),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},ei.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||xe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Ee),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},ei.week=function(e){return Me(e,this._week.dow,this._week.doy).week},ei.firstDayOfYear=function(){return this._week.doy},ei.firstDayOfWeek=function(){return this._week.dow},ei.weekdays=function(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone},ei.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},ei.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},ei.weekdaysParse=function(e,t,i){var n,o,a;if(this._weekdaysParseExact)return function(e,t,i){var n,o,a,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=u([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(o=ge.call(this._weekdaysParse,r))?o:null:"ddd"===t?-1!==(o=ge.call(this._shortWeekdaysParse,r))?o:null:-1!==(o=ge.call(this._minWeekdaysParse,r))?o:null:"dddd"===t?-1!==(o=ge.call(this._weekdaysParse,r))||-1!==(o=ge.call(this._shortWeekdaysParse,r))||-1!==(o=ge.call(this._minWeekdaysParse,r))?o:null:"ddd"===t?-1!==(o=ge.call(this._shortWeekdaysParse,r))||-1!==(o=ge.call(this._weekdaysParse,r))||-1!==(o=ge.call(this._minWeekdaysParse,r))?o:null:-1!==(o=ge.call(this._minWeekdaysParse,r))||-1!==(o=ge.call(this._weekdaysParse,r))||-1!==(o=ge.call(this._shortWeekdaysParse,r))?o:null}.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=u([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}},ei.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Re.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Pe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},ei.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Re.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Fe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},ei.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Re.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ge),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},ei.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},ei.meridiem=function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},Je("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===T(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=k("moment.lang is deprecated. Use moment.locale instead.",Je),i.langData=k("moment.langData is deprecated. Use moment.localeData instead.",et);var oi=Math.abs;function ai(e,t,i,n){var o=Mt(t,i);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function ri(e){return e<0?Math.floor(e):Math.ceil(e)}function si(e){return 4800*e/146097}function li(e){return 146097*e/4800}function ci(e){return function(){return this.as(e)}}var di=ci("ms"),ui=ci("s"),hi=ci("m"),fi=ci("h"),pi=ci("d"),mi=ci("w"),gi=ci("M"),vi=ci("y");function yi(e){return function(){return this.isValid()?this._data[e]:NaN}}var bi=yi("milliseconds"),_i=yi("seconds"),Ti=yi("minutes"),Ci=yi("hours"),wi=yi("days"),ki=yi("months"),ji=yi("years"),Ai=Math.round,Ei={ss:44,s:45,m:45,h:22,d:26,M:11},Ii=Math.abs;function xi(e){return(e>0)-(e<0)||+e}function Si(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i=Ii(this._milliseconds)/1e3,n=Ii(this._days),o=Ii(this._months);t=_((e=_(i/60))/60),i%=60,e%=60;var a=_(o/12),r=o%=12,s=n,l=t,c=e,d=i?i.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var h=u<0?"-":"",f=xi(this._months)!==xi(u)?"-":"",p=xi(this._days)!==xi(u)?"-":"",m=xi(this._milliseconds)!==xi(u)?"-":"";return h+"P"+(a?f+a+"Y":"")+(r?f+r+"M":"")+(s?p+s+"D":"")+(l||c||d?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(d?m+d+"S":"")}var Di=Ct.prototype;return Di.isValid=function(){return this._isValid},Di.abs=function(){var e=this._data;return this._milliseconds=oi(this._milliseconds),this._days=oi(this._days),this._months=oi(this._months),e.milliseconds=oi(e.milliseconds),e.seconds=oi(e.seconds),e.minutes=oi(e.minutes),e.hours=oi(e.hours),e.months=oi(e.months),e.years=oi(e.years),this},Di.add=function(e,t){return ai(this,e,t,1)},Di.subtract=function(e,t){return ai(this,e,t,-1)},Di.as=function(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=M(e))||"year"===e)return t=this._days+n/864e5,i=this._months+si(t),"month"===e?i:i/12;switch(t=this._days+Math.round(li(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},Di.asMilliseconds=di,Di.asSeconds=ui,Di.asMinutes=hi,Di.asHours=fi,Di.asDays=pi,Di.asWeeks=mi,Di.asMonths=gi,Di.asYears=vi,Di.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*T(this._months/12):NaN},Di._bubble=function(){var e,t,i,n,o,a=this._milliseconds,r=this._days,s=this._months,l=this._data;return a>=0&&r>=0&&s>=0||a<=0&&r<=0&&s<=0||(a+=864e5*ri(li(s)+r),r=0,s=0),l.milliseconds=a%1e3,e=_(a/1e3),l.seconds=e%60,t=_(e/60),l.minutes=t%60,i=_(t/60),l.hours=i%24,s+=o=_(si(r+=_(i/24))),r-=ri(li(o)),n=_(s/12),s%=12,l.days=r,l.months=s,l.years=n,this},Di.clone=function(){return Mt(this)},Di.get=function(e){return e=M(e),this.isValid()?this[e+"s"]():NaN},Di.milliseconds=bi,Di.seconds=_i,Di.minutes=Ti,Di.hours=Ci,Di.days=wi,Di.weeks=function(){return _(this.days()/7)},Di.months=ki,Di.years=ji,Di.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,i,n,o,a,r,s,l,c,d,u=this.localeData(),h=(t=!e,i=u,n=Mt(this).abs(),o=Ai(n.as("s")),a=Ai(n.as("m")),r=Ai(n.as("h")),s=Ai(n.as("d")),l=Ai(n.as("M")),c=Ai(n.as("y")),(d=o<=Ei.ss&&["s",o]||o<Ei.s&&["ss",o]||a<=1&&["m"]||a<Ei.m&&["mm",a]||r<=1&&["h"]||r<Ei.h&&["hh",r]||s<=1&&["d"]||s<Ei.d&&["dd",s]||l<=1&&["M"]||l<Ei.M&&["MM",l]||c<=1&&["y"]||["yy",c])[2]=t,d[3]=+this>0,d[4]=i,function(e,t,i,n,o){return o.relativeTime(t||1,!!i,e,n)}.apply(null,d));return e&&(h=u.pastFuture(+this,h)),u.postformat(h)},Di.toISOString=Si,Di.toString=Si,Di.toJSON=Si,Di.locale=Rt,Di.localeData=Bt,Di.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Si),Di.lang=Ut,U("X",0,0,"unix"),U("x",0,0,"valueOf"),le("x",ne),le("X",/[+-]?\d+(\.\d{1,3})?/),he("X",(function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))})),he("x",(function(e,t,i){i._d=new Date(T(e))})),i.version="2.21.0",e=vt,i.fn=Jt,i.min=function(){return _t("isBefore",[].slice.call(arguments,0))},i.max=function(){return _t("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=u,i.unix=function(e){return vt(1e3*e)},i.months=function(e,t){return ii(e,t,"months")},i.isDate=s,i.locale=Je,i.invalid=p,i.duration=Mt,i.isMoment=b,i.weekdays=function(e,t,i){return ni(e,t,i,"weekdays")},i.parseZone=function(){return vt.apply(null,arguments).parseZone()},i.localeData=et,i.isDuration=wt,i.monthsShort=function(e,t){return ii(e,t,"monthsShort")},i.weekdaysMin=function(e,t,i){return ni(e,t,i,"weekdaysMin")},i.defineLocale=Ze,i.updateLocale=function(e,t){if(null!=t){var i,n,o=We;null!=(n=Ke(e))&&(o=n._config),(i=new S(t=x(o,t))).parentLocale=Ve[e],Ve[e]=i,Je(e)}else null!=Ve[e]&&(null!=Ve[e].parentLocale?Ve[e]=Ve[e].parentLocale:null!=Ve[e]&&delete Ve[e]);return Ve[e]},i.locales=function(){return j(Ve)},i.weekdaysShort=function(e,t,i){return ni(e,t,i,"weekdaysShort")},i.normalizeUnits=M,i.relativeTimeRounding=function(e){return void 0===e?Ai:"function"==typeof e&&(Ai=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Ei[e]&&(void 0===t?Ei[e]:(Ei[e]=t,"s"===e&&(Ei.ss=t-1),!0))},i.calendarFormat=function(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},i.prototype=Jt,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},i})),function(e,t,i){function n(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)}function o(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return c[e.which]?c[e.which]:d[e.which]?d[e.which]:String.fromCharCode(e.which).toLowerCase()}function a(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function r(e,t){var i,n,o,r=[];for("+"===(i=e)?i=["+"]:i=(i=i.replace(/\+{2}/g,"+plus")).split("+"),o=0;o<i.length;++o)n=i[o],h[n]&&(n=h[n]),t&&"keypress"!=t&&u[n]&&(n=u[n],r.push("shift")),a(n)&&r.push(n);if(i=n,!(o=t)){if(!l)for(var s in l={},c)95<s&&112>s||c.hasOwnProperty(s)&&(l[c[s]]=s);o=l[i]?"keydown":"keypress"}return"keypress"==o&&r.length&&(o="keydown"),{key:n,modifiers:r,action:o}}function s(e){function i(e){e=e||{};var t,i=!1;for(t in m)e[t]?i=!0:m[t]=0;i||(y=!1)}function l(e,t,i,n,o,r){var s,l,c=[],d=i.type;if(!f._callbacks[e])return[];for("keyup"==d&&a(e)&&(t=[e]),s=0;s<f._callbacks[e].length;++s)if(l=f._callbacks[e][s],(n||!l.seq||m[l.seq]==l.level)&&d==l.action){var u;(u="keypress"==d&&!i.metaKey&&!i.ctrlKey)||(u=l.modifiers,u=t.sort().join(",")===u.sort().join(",")),u&&(u=n&&l.seq==n&&l.level==r,(!n&&l.combo==o||u)&&f._callbacks[e].splice(s,1),c.push(l))}return c}function c(e,t,i,n){f.stopCallback(t,t.target||t.srcElement,i,n)||!1!==e(t,i)||(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=o(e);t&&("keyup"==e.type&&g===t?g=!1:f.handleKey(t,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e))}function u(e,t,n,a){function s(t){return function(){y=t,++m[e],clearTimeout(p),p=setTimeout(i,1e3)}}function l(t){c(n,t,e),"keyup"!==a&&(g=o(t)),setTimeout(i,10)}for(var d=m[e]=0;d<t.length;++d){var u=d+1===t.length?l:s(a||r(t[d+1]).action);h(t[d],u,a,e,d)}}function h(e,t,i,n,o){f._directMap[e+":"+i]=t;var a=(e=e.replace(/\s+/g," ")).split(" ");1<a.length?u(e,a,t,i):(i=r(e,i),f._callbacks[i.key]=f._callbacks[i.key]||[],l(i.key,i.modifiers,{type:i.action},n,e,o),f._callbacks[i.key][n?"unshift":"push"]({callback:t,modifiers:i.modifiers,action:i.action,seq:n,level:o,combo:e}))}var f=this;if(e=e||t,!(f instanceof s))return new s(e);f.target=e,f._callbacks={},f._directMap={};var p,m={},g=!1,v=!1,y=!1;f._handleKey=function(e,t,n){var o,r=l(e,t,n);t={};var s=0,d=!1;for(o=0;o<r.length;++o)r[o].seq&&(s=Math.max(s,r[o].level));for(o=0;o<r.length;++o)r[o].seq?r[o].level==s&&(d=!0,t[r[o].seq]=1,c(r[o].callback,n,r[o].combo,r[o].seq)):d||c(r[o].callback,n,r[o].combo);r="keypress"==n.type&&v,n.type!=y||a(e)||r||i(t),v=d&&"keydown"==n.type},f._bindMultiple=function(e,t,i){for(var n=0;n<e.length;++n)h(e[n],t,i)},n(e,"keypress",d),n(e,"keydown",d),n(e,"keyup",d)}var l,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},d={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},h={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"};for(i=1;20>i;++i)c[111+i]="f"+i;for(i=0;9>=i;++i)c[i+96]=i;s.prototype.bind=function(e,t,i){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,i),this},s.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},s.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},s.prototype.reset=function(){return this._callbacks={},this._directMap={},this},s.prototype.stopCallback=function(e,i){return!(-1<(" "+i.className+" ").indexOf(" mousetrap ")||function e(i,n){return null!==i&&i!==t&&(i===n||e(i.parentNode,n))}(i,this.target))&&("INPUT"==i.tagName||"SELECT"==i.tagName||"TEXTAREA"==i.tagName||i.isContentEditable)},s.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},s.init=function(){var e,i=s(t);for(e in i)"_"!==e.charAt(0)&&(s[e]=function(e){return function(){return i[e].apply(i,arguments)}}(e))},s.init(),e.Mousetrap=s,"undefined"!=typeof module&&module.exports&&(module.exports=s),"function"==typeof define&&define.amd&&define((function(){return s}))}(window,document),Object.objLength=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):e(jQuery)}((function(e,t){"use strict";var i={beforeShow:d,move:d,change:d,show:d,hide:d,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"#timeneye_widget_cont",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},n=[],o=!!/msie/i.exec(window.navigator.userAgent),a=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div").style;return t.cssText="background-color:rgba(0,0,0,.5)",e(t.backgroundColor,"rgba")||e(t.backgroundColor,"hsla")}(),r=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var e="";if(o)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input form-control' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel btn btn-sm btn-default' href='#'></a>","<button type='button' class='sp-choose btn btn-sm btn-success'></button>","</div>","</div>","</div>"].join("")}();function l(t,i,n,o){for(var r=[],s=0;s<t.length;s++){var l=t[s];if(l){var c=tinycolor(l),d=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";d+=tinycolor.equals(i,l)?" sp-thumb-active":"";var u=c.toString(o.preferredFormat||"rgb"),h=a?"background-color:"+c.toRgbString():"filter:"+c.toFilter();r.push('<span title="'+u+'" data-color="'+c.toRgbString()+'" class="'+d+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{r.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",o.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+r.join("")+"</div>"}function c(c,d){var m,g,v,y,b=function(t,n){var o=e.extend({},i,t);return o.callbacks={move:h(o.move,n),change:h(o.change,n),show:h(o.show,n),hide:h(o.hide,n),beforeShow:h(o.beforeShow,n)},o}(d,c),_=b.flat,T=b.showSelectionPalette,C=b.localStorageKey,w=b.theme,k=b.callbacks,j=(m=Ue,g=10,function(){var e=this,t=arguments,i=function(){y=null,m.apply(e,t)};v&&clearTimeout(y),!v&&y||(y=setTimeout(i,g))}),A=!1,E=!1,I=0,x=0,S=0,D=0,L=0,M=0,Q=0,N=0,O=0,H=0,P=1,F=[],G=[],R={},U=b.selectionPalette.slice(0),B=b.maxSelectionSize,$=null,q=c.ownerDocument,Y=(q.body,e(c)),W=!1,V=e(s,q).addClass(w),z=V.find(".sp-picker-container"),X=V.find(".sp-color"),K=V.find(".sp-dragger"),J=V.find(".sp-hue"),Z=V.find(".sp-slider"),ee=V.find(".sp-alpha-inner"),te=V.find(".sp-alpha"),ie=V.find(".sp-alpha-handle"),ne=V.find(".sp-input"),oe=V.find(".sp-palette"),ae=V.find(".sp-initial"),re=V.find(".sp-cancel"),se=V.find(".sp-clear"),le=V.find(".sp-choose"),ce=V.find(".sp-palette-toggle"),de=Y.is("input"),ue=de&&"color"===Y.attr("type")&&p(),he=de&&!_,fe=he?e(r).addClass(w).addClass(b.className).addClass(b.replacerClassName):e([]),pe=he?fe:Y,me=fe.find(".sp-preview-inner"),ge=b.color||de&&Y.val(),ve=!1,ye=b.preferredFormat,be=!b.showButtons||b.clickoutFiresChange,_e=!ge,Te=b.allowEmpty&&!ue;function Ce(){if(b.showPaletteOnly&&(b.showPalette=!0),ce.text(b.showPaletteOnly?b.togglePaletteMoreText:b.togglePaletteLessText),b.palette){F=b.palette.slice(0),G=e.isArray(F[0])?F:[F],R={};for(var t=0;t<G.length;t++)for(var i=0;i<G[t].length;i++){var n=tinycolor(G[t][i]).toRgbString();R[n]=!0}}V.toggleClass("sp-flat",_),V.toggleClass("sp-input-disabled",!b.showInput),V.toggleClass("sp-alpha-enabled",b.showAlpha),V.toggleClass("sp-clear-enabled",Te),V.toggleClass("sp-buttons-disabled",!b.showButtons),V.toggleClass("sp-palette-buttons-disabled",!b.togglePaletteOnly),V.toggleClass("sp-palette-disabled",!b.showPalette),V.toggleClass("sp-palette-only",b.showPaletteOnly),V.toggleClass("sp-initial-disabled",!b.showInitial),V.addClass(b.className).addClass(b.containerClassName),Ue()}function we(){if(C&&window.localStorage){try{var t=window.localStorage[C].split(",#");t.length>1&&(delete window.localStorage[C],e.each(t,(function(e,t){ke(t)})))}catch(e){}try{U=window.localStorage[C].split(";")}catch(e){}}}function ke(t){if(T){var i=tinycolor(t).toRgbString();if(!R[i]&&-1===e.inArray(i,U))for(U.push(i);U.length>B;)U.shift();if(C&&window.localStorage)try{window.localStorage[C]=U.join(";")}catch(e){}}}function je(){var t=He(),i=e.map(G,(function(e,i){return l(e,t,"sp-palette-row sp-palette-row-"+i,b)}));we(),U&&i.push(l(function(){var e=[];if(b.showPalette)for(var t=0;t<U.length;t++){var i=tinycolor(U[t]).toRgbString();R[i]||e.push(U[t])}return e.reverse().slice(0,b.maxSelectionSize)}(),t,"sp-palette-row sp-palette-row-selection",b)),oe.html(i.join(""))}function Ae(){if(b.showInitial){var e=ve,t=He();ae.html(l([e,t],t,"sp-palette-row-initial",b))}}function Ee(){(x<=0||I<=0||D<=0)&&Ue(),E=!0,V.addClass("sp-dragging"),$=null,Y.trigger("dragstart.spectrum",[He()])}function Ie(){E=!1,V.removeClass("sp-dragging"),Y.trigger("dragstop.spectrum",[He()])}function xe(){var e=ne.val();if(null!==e&&""!==e||!Te){var t=tinycolor(e);t.isValid()?(Oe(t),Re(!0)):ne.addClass("sp-validation-error")}else Oe(null),Re(!0)}function Se(){A?Qe():De()}function De(){var t=e.Event("beforeShow.spectrum");A?Ue():(Y.trigger(t,[He()]),!1===k.beforeShow(He())||t.isDefaultPrevented()||(!function(){for(var e=0;e<n.length;e++)n[e]&&n[e].hide()}(),A=!0,e(q).bind("keydown.spectrum",Le),e(q).bind("click.spectrum",Me),e(window).bind("resize.spectrum",j),fe.addClass("sp-active"),V.removeClass("sp-hidden"),Ue(),Fe(),ve=He(),Ae(),k.show(ve),Y.trigger("show.spectrum",[ve])))}function Le(e){27===e.keyCode&&Qe()}function Me(e){2!=e.button&&(E||(be?Re(!0):Ne(),Qe()))}function Qe(){A&&!_&&(A=!1,e(q).unbind("keydown.spectrum",Le),e(q).unbind("click.spectrum",Me),e(window).unbind("resize.spectrum",j),fe.removeClass("sp-active"),V.addClass("sp-hidden"),k.hide(He()),Y.trigger("hide.spectrum",[He()]))}function Ne(){Oe(ve,!0)}function Oe(e,t){var i,n;tinycolor.equals(e,He())?Fe():(!e&&Te?_e=!0:(_e=!1,n=(i=tinycolor(e)).toHsv(),N=n.h%360/360,O=n.s,H=n.v,P=n.a),Fe(),i&&i.isValid()&&!t&&(ye=b.preferredFormat||i.getFormat()))}function He(e){return e=e||{},Te&&_e?null:tinycolor.fromRatio({h:N,s:O,v:H,a:Math.round(100*P)/100},{format:e.format||ye})}function Pe(){Fe(),k.move(He()),Y.trigger("move.spectrum",[He()])}function Fe(){ne.removeClass("sp-validation-error"),Ge();var e=tinycolor.fromRatio({h:N,s:1,v:1});X.css("background-color",e.toHexString());var t=ye;P<1&&(0!==P||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var i=He({format:t}),n="";if(me.removeClass("sp-clear-display"),me.css("background-color","transparent"),!i&&Te)me.addClass("sp-clear-display");else{var r=i.toHexString(),s=i.toRgbString();if(a||1===i.alpha?me.css("background-color",s):(me.css("background-color","transparent"),me.css("filter",i.toFilter())),b.showAlpha){var l=i.toRgb();l.a=0;var c=tinycolor(l).toRgbString(),d="linear-gradient(left, "+c+", "+r+")";o?ee.css("filter",tinycolor(c).toFilter({gradientType:1},r)):(ee.css("background","-webkit-"+d),ee.css("background","-moz-"+d),ee.css("background","-ms-"+d),ee.css("background","linear-gradient(to right, "+c+", "+r+")"))}n=i.toString(t)}b.showInput&&ne.val(n),b.showPalette&&je(),Ae()}function Ge(){var e=O,t=H;if(Te&&_e)ie.hide(),Z.hide(),K.hide();else{ie.show(),Z.show(),K.show();var i=e*I,n=x-t*x;i=Math.max(-S,Math.min(I-S,i-S)),n=Math.max(-S,Math.min(x-S,n-S)),K.css({top:n+"px",left:i+"px"});var o=P*L;ie.css({left:o-M/2+"px"});var a=N*D;Z.css({top:a-Q+"px"})}}function Re(e){var t=He(),i="",n=!tinycolor.equals(t,ve);t&&(i=t.toString(ye),ke(t)),de&&Y.val(i),e&&n&&(k.change(t),Y.trigger("change",[t]))}function Ue(){A&&(I=X.width(),x=X.height(),S=K.height(),J.width(),D=J.height(),Q=Z.height(),L=te.width(),M=ie.width(),_||(V.css("position","absolute"),b.offset?V.offset(b.offset):V.offset(function(t,i){var n=t.outerWidth(),o=t.outerHeight(),a=i.outerHeight(),r=t[0].ownerDocument,s=r.documentElement,l=s.clientWidth+e(r).scrollLeft(),c=s.clientHeight+e(r).scrollTop(),d=i.offset();return d.top+=a,d.left-=Math.min(d.left,d.left+n>l&&l>n?Math.abs(d.left+n-l):0),d.top-=Math.min(d.top,d.top+o>c&&c>o?Math.abs(o+a-0):0),d}(V,pe))),Ge(),b.showPalette&&je(),Y.trigger("reflow.spectrum"))}function Be(){Qe(),W=!0,Y.attr("disabled",!0),pe.addClass("sp-disabled")}!function(){if(o&&V.find("*:not(input)").attr("unselectable","on"),Ce(),he&&Y.after(fe).hide(),Te||se.hide(),_)Y.after(V).hide();else{var t="parent"===b.appendTo?Y.parent():e(b.appendTo);1!==t.length&&(t=e("#timeneye_widget_cont")),t.append(V)}function i(t){return t.data&&t.data.ignore?(Oe(e(t.target).closest(".sp-thumb-el").data("color")),Pe()):(Oe(e(t.target).closest(".sp-thumb-el").data("color")),Pe(),Re(!0),b.hideAfterPaletteSelect&&Qe()),!1}we(),pe.bind("click.spectrum touchstart.spectrum",(function(t){W||Se(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()})),(Y.is(":disabled")||!0===b.disabled)&&Be(),V.click(u),ne.change(xe),ne.bind("paste",(function(){setTimeout(xe,1)})),ne.keydown((function(e){13==e.keyCode&&xe()})),re.text(b.cancelText),re.bind("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),Ne(),Qe()})),se.attr("title",b.clearText),se.bind("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),_e=!0,Pe(),_&&Re(!0)})),le.text(b.chooseText),le.bind("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),o&&ne.is(":focus")&&ne.trigger("change"),ne.hasClass("sp-validation-error")||(Re(!0),Qe())})),ce.text(b.showPaletteOnly?b.togglePaletteMoreText:b.togglePaletteLessText),ce.bind("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),b.showPaletteOnly=!b.showPaletteOnly,b.showPaletteOnly||_||V.css("left","-="+(z.outerWidth(!0)+5)),Ce()})),f(te,(function(e,t,i){P=e/L,_e=!1,i.shiftKey&&(P=Math.round(10*P)/10),Pe()}),Ee,Ie),f(J,(function(e,t){N=parseFloat(t/D),_e=!1,b.showAlpha||(P=1),Pe()}),Ee,Ie),f(X,(function(e,t,i){if(i.shiftKey){if(!$){var n=O*I,o=x-H*x,a=Math.abs(e-n)>Math.abs(t-o);$=a?"x":"y"}}else $=null;var r=!$||"y"===$;(!$||"x"===$)&&(O=parseFloat(e/I)),r&&(H=parseFloat((x-t)/x)),_e=!1,b.showAlpha||(P=1),Pe()}),Ee,Ie),ge?(Oe(ge),Fe(),ye=b.preferredFormat||tinycolor(ge).format,ke(ge)):Fe(),_&&De();var n=o?"mousedown.spectrum":"click.spectrum touchstart.spectrum";oe.delegate(".sp-thumb-el",n,i),ae.delegate(".sp-thumb-el:nth-child(1)",n,{ignore:!0},i)}();var $e={show:De,hide:Qe,toggle:Se,reflow:Ue,option:function(i,n){return i===t?e.extend({},b):n===t?b[i]:(b[i]=n,"preferredFormat"===i&&(ye=b.preferredFormat),void Ce())},enable:function(){W=!1,Y.attr("disabled",!1),pe.removeClass("sp-disabled")},disable:Be,offset:function(e){b.offset=e,Ue()},set:function(e){Oe(e),Re()},get:He,destroy:function(){Y.show(),pe.unbind("click.spectrum touchstart.spectrum"),V.remove(),fe.remove(),n[$e.id]=null},container:V};return $e.id=n.push($e)-1,$e}function d(){}function u(e){e.stopPropagation()}function h(e,t){var i=Array.prototype.slice,n=i.call(arguments,2);return function(){return e.apply(t,n.concat(i.call(arguments)))}}function f(t,i,n,a){i=i||function(){},n=n||function(){},a=a||function(){};var r=document,s=!1,l={},c=0,d=0,u="ontouchstart"in window,h={};function f(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function p(e){if(s){if(o&&r.documentMode<9&&!e.button)return m();var n=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],a=n&&n.pageX||e.pageX,h=n&&n.pageY||e.pageY,p=Math.max(0,Math.min(a-l.left,d)),g=Math.max(0,Math.min(h-l.top,c));u&&f(e),i.apply(t,[p,g,e])}}function m(){s&&(e(r).unbind(h),e(r.body).removeClass("sp-dragging"),setTimeout((function(){a.apply(t,arguments)}),0)),s=!1}h.selectstart=f,h.dragstart=f,h["touchmove mousemove"]=p,h["touchend mouseup"]=m,e(t).bind("touchstart mousedown",(function(i){var o=i.which?3==i.which:2==i.button;o||s||!1!==n.apply(t,arguments)&&(s=!0,c=e(t).height(),d=e(t).width(),l=e(t).offset(),e(r).bind(h),e(r.body).addClass("sp-dragging"),p(i),f(i))}))}function p(){return e.fn.spectrum.inputTypeColorSupport()}var m="spectrum.id";e.fn.spectrum=function(t,i){if("string"==typeof t){var o=this,a=Array.prototype.slice.call(arguments,1);return this.each((function(){var i=n[e(this).data(m)];if(i){var r=i[t];if(!r)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?o=i.get():"container"==t?o=i.container:"option"==t?o=i.option.apply(i,a):"destroy"==t?(i.destroy(),e(this).removeData(m)):r.apply(i,a)}})),o}return this.spectrum("destroy").each((function(){var i=c(this,e.extend({},t,e(this).data()));e(this).data(m,i.id)}))},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=f,e.fn.spectrum.defaults=i,e.fn.spectrum.inputTypeColorSupport=function t(){if(void 0===t._cachedResult){var i=e("<input type='color'/>")[0];t._cachedResult="color"===i.type&&""!==i.value}return t._cachedResult},e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){var t=e("input[type=color]");t.length&&!p()&&t.spectrum({preferredFormat:"hex6"})},function(){var e=/^[\s,#]+/,t=/\s+$/,i=0,n=Math,o=n.round,a=n.min,r=n.max,s=n.random,l=function(s,c){if(c=c||{},(s=s||"")instanceof l)return s;if(!(this instanceof l))return new l(s,c);var d=function(i){var o={r:0,g:0,b:0},s=1,l=!1,c=!1;"string"==typeof i&&(i=function(i){i=i.replace(e,"").replace(t,"").toLowerCase();var n,o=!1;if(A[i])i=A[i],o=!0;else if("transparent"==i)return{r:0,g:0,b:0,a:0,format:"name"};if(n=H.rgb.exec(i))return{r:n[1],g:n[2],b:n[3]};if(n=H.rgba.exec(i))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=H.hsl.exec(i))return{h:n[1],s:n[2],l:n[3]};if(n=H.hsla.exec(i))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=H.hsv.exec(i))return{h:n[1],s:n[2],v:n[3]};if(n=H.hsva.exec(i))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=H.hex8.exec(i))return{a:(a=n[1],D(a)/255),r:D(n[2]),g:D(n[3]),b:D(n[4]),format:o?"name":"hex8"};var a;if(n=H.hex6.exec(i))return{r:D(n[1]),g:D(n[2]),b:D(n[3]),format:o?"name":"hex"};if(n=H.hex3.exec(i))return{r:D(n[1]+""+n[1]),g:D(n[2]+""+n[2]),b:D(n[3]+""+n[3]),format:o?"name":"hex"};return!1}(i));"object"==typeof i&&(i.hasOwnProperty("r")&&i.hasOwnProperty("g")&&i.hasOwnProperty("b")?(d=i.r,u=i.g,h=i.b,o={r:255*x(d,255),g:255*x(u,255),b:255*x(h,255)},l=!0,c="%"===String(i.r).substr(-1)?"prgb":"rgb"):i.hasOwnProperty("h")&&i.hasOwnProperty("s")&&i.hasOwnProperty("v")?(i.s=M(i.s),i.v=M(i.v),o=function(e,t,i){e=6*x(e,360),t=x(t,100),i=x(i,100);var o=n.floor(e),a=e-o,r=i*(1-t),s=i*(1-a*t),l=i*(1-(1-a)*t),c=o%6;return{r:255*[i,s,r,r,l,i][c],g:255*[l,i,i,s,r,r][c],b:255*[r,r,l,i,i,s][c]}}(i.h,i.s,i.v),l=!0,c="hsv"):i.hasOwnProperty("h")&&i.hasOwnProperty("s")&&i.hasOwnProperty("l")&&(i.s=M(i.s),i.l=M(i.l),o=function(e,t,i){var n,o,a;function r(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}if(e=x(e,360),t=x(t,100),i=x(i,100),0===t)n=o=a=i;else{var s=i<.5?i*(1+t):i+t-i*t,l=2*i-s;n=r(l,s,e+1/3),o=r(l,s,e),a=r(l,s,e-1/3)}return{r:255*n,g:255*o,b:255*a}}(i.h,i.s,i.l),l=!0,c="hsl"),i.hasOwnProperty("a")&&(s=i.a));var d,u,h;return s=I(s),{ok:l,format:i.format||c,r:a(255,r(o.r,0)),g:a(255,r(o.g,0)),b:a(255,r(o.b,0)),a:s}}(s);this._originalInput=s,this._r=d.r,this._g=d.g,this._b=d.b,this._a=d.a,this._roundA=o(100*this._a)/100,this._format=c.format||d.format,this._gradientType=c.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=d.ok,this._tc_id=i++};function c(e,t,i){e=x(e,255),t=x(t,255),i=x(i,255);var n,o,s=r(e,t,i),l=a(e,t,i),c=(s+l)/2;if(s==l)n=o=0;else{var d=s-l;switch(o=c>.5?d/(2-s-l):d/(s+l),s){case e:n=(t-i)/d+(t<i?6:0);break;case t:n=(i-e)/d+2;break;case i:n=(e-t)/d+4}n/=6}return{h:n,s:o,l:c}}function d(e,t,i){e=x(e,255),t=x(t,255),i=x(i,255);var n,o,s=r(e,t,i),l=a(e,t,i),c=s,d=s-l;if(o=0===s?0:d/s,s==l)n=0;else{switch(s){case e:n=(t-i)/d+(t<i?6:0);break;case t:n=(i-e)/d+2;break;case i:n=(e-t)/d+4}n/=6}return{h:n,s:o,v:c}}function u(e,t,i,n){var a=[L(o(e).toString(16)),L(o(t).toString(16)),L(o(i).toString(16))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function h(e,t,i,n){var a;return[L((a=n,Math.round(255*parseFloat(a)).toString(16))),L(o(e).toString(16)),L(o(t).toString(16)),L(o(i).toString(16))].join("")}function f(e,t){t=0===t?0:t||10;var i=l(e).toHsl();return i.s-=t/100,i.s=S(i.s),l(i)}function p(e,t){t=0===t?0:t||10;var i=l(e).toHsl();return i.s+=t/100,i.s=S(i.s),l(i)}function m(e){return l(e).desaturate(100)}function g(e,t){t=0===t?0:t||10;var i=l(e).toHsl();return i.l+=t/100,i.l=S(i.l),l(i)}function v(e,t){t=0===t?0:t||10;var i=l(e).toRgb();return i.r=r(0,a(255,i.r-o(-t/100*255))),i.g=r(0,a(255,i.g-o(-t/100*255))),i.b=r(0,a(255,i.b-o(-t/100*255))),l(i)}function y(e,t){t=0===t?0:t||10;var i=l(e).toHsl();return i.l-=t/100,i.l=S(i.l),l(i)}function b(e,t){var i=l(e).toHsl(),n=(o(i.h)+t)%360;return i.h=n<0?360+n:n,l(i)}function _(e){var t=l(e).toHsl();return t.h=(t.h+180)%360,l(t)}function T(e){var t=l(e).toHsl(),i=t.h;return[l(e),l({h:(i+120)%360,s:t.s,l:t.l}),l({h:(i+240)%360,s:t.s,l:t.l})]}function C(e){var t=l(e).toHsl(),i=t.h;return[l(e),l({h:(i+90)%360,s:t.s,l:t.l}),l({h:(i+180)%360,s:t.s,l:t.l}),l({h:(i+270)%360,s:t.s,l:t.l})]}function w(e){var t=l(e).toHsl(),i=t.h;return[l(e),l({h:(i+72)%360,s:t.s,l:t.l}),l({h:(i+216)%360,s:t.s,l:t.l})]}function k(e,t,i){t=t||6,i=i||30;var n=l(e).toHsl(),o=360/i,a=[l(e)];for(n.h=(n.h-(o*t>>1)+720)%360;--t;)n.h=(n.h+o)%360,a.push(l(n));return a}function j(e,t){t=t||6;for(var i=l(e).toHsv(),n=i.h,o=i.s,a=i.v,r=[],s=1/t;t--;)r.push(l({h:n,s:o,v:a})),a=(a+s)%1;return r}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=I(e),this._roundA=o(100*this._a)/100,this},toHsv:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=d(this._r,this._g,this._b),t=o(360*e.h),i=o(100*e.s),n=o(100*e.v);return 1==this._a?"hsv("+t+", "+i+"%, "+n+"%)":"hsva("+t+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=c(this._r,this._g,this._b),t=o(360*e.h),i=o(100*e.s),n=o(100*e.l);return 1==this._a?"hsl("+t+", "+i+"%, "+n+"%)":"hsla("+t+", "+i+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return u(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return h(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*x(this._r,255))+"%",g:o(100*x(this._g,255))+"%",b:o(100*x(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*x(this._r,255))+"%, "+o(100*x(this._g,255))+"%, "+o(100*x(this._b,255))+"%)":"rgba("+o(100*x(this._r,255))+"%, "+o(100*x(this._g,255))+"%, "+o(100*x(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(E[u(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a),i=t,n=this._gradientType?"GradientType = 1, ":"";e&&(i=l(e).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var i=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"name"!==e?("rgb"===e&&(i=this.toRgbString()),"prgb"===e&&(i=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(i=this.toHexString()),"hex3"===e&&(i=this.toHexString(!0)),"hex8"===e&&(i=this.toHex8String()),"name"===e&&(i=this.toName()),"hsl"===e&&(i=this.toHslString()),"hsv"===e&&(i=this.toHsvString()),i||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(e,t){var i=e.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(j,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(T,arguments)},tetrad:function(){return this._applyCombination(C,arguments)}},l.fromRatio=function(e,t){if("object"==typeof e){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]="a"===n?e[n]:M(e[n]));e=i}return l(e,t)},l.equals=function(e,t){return!(!e||!t)&&l(e).toRgbString()==l(t).toRgbString()},l.random=function(){return l.fromRatio({r:s(),g:s(),b:s()})},l.mix=function(e,t,i){i=0===i?0:i||50;var n,o=l(e).toRgb(),a=l(t).toRgb(),r=i/100,s=2*r-1,c=a.a-o.a,d=1-(n=((n=s*c==-1?s:(s+c)/(1+s*c))+1)/2),u={r:a.r*n+o.r*d,g:a.g*n+o.g*d,b:a.b*n+o.b*d,a:a.a*r+o.a*(1-r)};return l(u)},l.readability=function(e,t){var i=l(e),n=l(t),o=i.toRgb(),a=n.toRgb(),r=i.getBrightness(),s=n.getBrightness(),c=Math.max(o.r,a.r)-Math.min(o.r,a.r)+Math.max(o.g,a.g)-Math.min(o.g,a.g)+Math.max(o.b,a.b)-Math.min(o.b,a.b);return{brightness:Math.abs(r-s),color:c}},l.isReadable=function(e,t){var i=l.readability(e,t);return i.brightness>125&&i.color>500},l.mostReadable=function(e,t){for(var i=null,n=0,o=!1,a=0;a<t.length;a++){var r=l.readability(e,t[a]),s=r.brightness>125&&r.color>500,c=r.brightness/125*3+r.color/500;(s&&!o||s&&o&&c>n||!s&&!o&&c>n)&&(o=s,n=c,i=l(t[a]))}return i};var A=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},E=l.hexNames=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t}(A);function I(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function x(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var i=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=a(t,r(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),n.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function S(e){return a(1,r(0,e))}function D(e){return parseInt(e,16)}function L(e){return 1==e.length?"0"+e:""+e}function M(e){return e<=1&&(e=100*e+"%"),e}var Q,N,O,H=(N="[\\s|\\(]+("+(Q="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?",O="[\\s|\\(]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?",{rgb:new RegExp("rgb"+N),rgba:new RegExp("rgba"+O),hsl:new RegExp("hsl"+N),hsla:new RegExp("hsla"+O),hsv:new RegExp("hsv"+N),hsva:new RegExp("hsva"+O),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=l}(),e((function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()}))}));var TECA={_:{version:"11.11.14",platform:void 0,urlVersion:3,urlAjax:"https://track.timeneye.com/",fixed_urlPattern:{asana:["*://app.asana.com/*"],azuredevops:["*://dev.azure.com/*"],basecamp:["*://basecamp.com/*"],basecamp3:["*://3.basecamp.com/*"],clickup:["*://app.clickup.com/*"],github:["*://github.com/*"],gitlabcom:["*://gitlab.com/*","*://*.githost.io/*"],googlemail:["*://mail.google.com/mail/*"],googledocs:["*://docs.google.com/document/*"],googlesheets:["*://docs.google.com/spreadsheets/*"],googletasks:["*://*.google.com/*"],jira:["*://*.atlassian.net/*"],pivotaltracker:["*://www.pivotaltracker.com/*"],monday:["*://*.monday.com/*"],microsofttodo:["*://to-do.microsoft.com/*","*://to-do.office.com/*","*://to-do.live.com/*"],planner:["*://tasks.office.com/*","*://tasks.office.com.*/*","*://tasks.teams.microsoft.com/*","*://tasks.teams.microsoft.com.*/*","*://planner.cloud.microsoft/*","*://planner.cloud.microsoft.*/*"],microsoftproject:["*://project.microsoft.com/*","*://project.microsoft.com.*/*"],podio:["*://podio.com/*"],todoist:["*://*.todoist.com/*","*://todoist.com/*"],customerly:["*://*.customerly.io/*"],taskade:["*://*.taskade.com/*","*://taskade.com/*"],trello:["*://trello.com/*"],wunderlist:["*://www.wunderlist.com/*"],zendesk:["*://*.zendesk.com/agent/*"],zenkit:["*://base.zenkit.com/*"]},additional_urlPatterns:{},serviceSettings:{asana:1,basecamp:1,basecamp3:1,gitlabcom:1,trello:"3",zendesk:{project:"Support",task:""}},modulesStyle:{asana:2,basecamp3:2,jira:2,planner:2,microsoftproject:2,monday:2},trackAdditionalInfo:!1,classes:[],authToken:null,weareContentHosted:!1,validService:!1},defineClass:function(e,t){jQuery.inArray(e,this._.classes)<0&&(this._.classes.push(e),this[e]=t,"function"==typeof this[e].classReady&&this[e].classReady())},triggerEvent:function(e,t){for(var i=0,n=this._.classes.length;i<n;i++)void 0!==this[this._.classes[i]][e]&&(void 0===t?this[this._.classes[i]][e]():this[this._.classes[i]][e](t))},standardizeBody:function(e,t){for(var i=new FormData,n=Object.keys(t),o=0,a=n.length;o<a;o++)"object"==typeof t[n[o]]?i.append(n[o],JSON.stringify(t[n[o]])):Number(t[n[o]]==Number(t[n[o]]))?i.append(n[o],t[n[o]].toString()):"string"==typeof t[n[o]]&&i.append(n[o],t[n[o]]);if(i.append("target","widget"),i.append("trackAdditionalInfo",TECA._.trackAdditionalInfo),"authorizeUser"!=e&&"authorizeThirdPartyLoginWithToken"!=e){if(null==TECA._.authToken||null==TECA._.authToken)return null;i.append("authToken",TECA._.authToken)}return i},apiRequest:function(e,t,i){var n=this.standardizeBody(e,t);if(null!=n)return fetch(TECA._.urlAjax+"api/2/"+e,{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){e.code&&401===e.code&&"Authorization failed"==e.description&&(TECA._.user={id:-1},TECA._.account={id:-1},TECA._.authToken=null),i(e)}));chrome.storage.sync.get(["authToken"],(function(e){if(void 0!==e&&void 0!==e.authToken&&null!=e.authToken)return TECA._.authToken=e.authToken,TECA.initData();TECA._.authToken=null,i("Make sure to be logged in the widget and refresh the page.")}))},initData:function(){jQuery("#timeneye_widget_cont");return TECA.Gui.feedback.loading(jQuery("#loader_screen .loader")),TECA.apiRequest("getUserDetails",{},(function(e){"string"==typeof e||e.code?(TECA._.user={id:-1},TECA._.account={id:-1}):(TECA._.user=e.user,TECA._.account=e.account),TECA._.account.fromToFeatureEnabled=!!TECA._.account.fromToFeatureEnabled,TECA.triggerEvent("domReady"),TECA._.weareContentHosted&&void 0!==TECA._.lastIntegrationData&&TECA.triggerEvent("integrationDataReceived")}))},json:{parse:function(e){var t=!1;try{t=JSON.parse(e)}catch(e){}return t},stringify:function(e){var t=!1;try{t=JSON.stringify(e)}catch(e){}return t}},isServiceValid:function(){var e=jQuery.extend({},TECA._.fixed_urlPattern);for(var t in e)e.hasOwnProperty(t)&&TECA._.additional_urlPatterns.hasOwnProperty(t)&&(e[t]=e[t].concat(TECA._.additional_urlPatterns[t]));for(var t in e)if(e.hasOwnProperty(t)){for(var i=0,n=e[t].length;i<n;i++)if(new RegExp(e[t][i].split("*").join(".*")+"$").test(window.location.href)){TECA.Content._.activeService=t,TECA.Gui.message.init(),TECA._.validService=!0;break}if(TECA._.validService)break}}};if("object"==typeof tecaOverrides&&"object"==typeof tecaOverrides._)for(var fKey in tecaOverrides._)tecaOverrides._.hasOwnProperty(fKey)&&(TECA._[fKey]=tecaOverrides._[fKey]);jQuery(document).ready((function(){chrome.storage.sync.get({authToken:null,additionalPatterns:{},serviceSettings:{},modulesStyle:{},optInShown:!1},(function(e){jQuery("#opt-in-prompt").prop("hidden",e.optInShown),jQuery("#timeneye_widget_cont").prop("hidden",!e.optInShown),TECA._.trackAdditionalInfo=e.optIn,jQuery("#button-enable").on("click",(function(){chrome.storage.sync.set({optIn:!0,optInShown:!0}),window.close()})),jQuery("#button-cancel").on("click",(function(){chrome.storage.sync.set({optIn:!1,optInShown:!0}),window.close()})),void 0!==e&&void 0!==e.authToken&&(TECA._.authToken=e.authToken),TECA._.additional_urlPatterns=e.additionalPatterns,TECA._.serviceSettings=jQuery.extend({},TECA._.serviceSettings,e.serviceSettings),TECA._.modulesStyle=jQuery.extend({},TECA._.modulesStyle,e.modulesStyle),TECA._.weareContentHosted?TECA.isServiceValid():TECA._.validService=!0,TECA._.validService&&0==jQuery('head link[data-timeneye-fonts="yup"]').length&&(jQuery("head").append('<link rel="stylesheet" data-timeneye-fonts="yup" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600%7CArimo%7CLateef&amp;subset=latin,latin,latin" media="all" />'),TECA.initData())}))})),window.addEventListener("message",(function(e){if("object"==typeof e.data&&"string"==typeof e.data.callbackTarget&&e.data.callbackTarget.indexOf("TECA.")>=0){var t=e.data.callbackTarget.replace("TECA.",""),i=TECA;if(t.indexOf(".")>0){for(var n=0,o=(t=t.split(".")).length;n<o;n++)void 0!==i[t[n]]&&null!=i[t[n]]&&(i=i[t[n]]);"function"==typeof i&&void 0!==e.data.callbackData&&void 0!==e.data.callbackFlag?i(e.data.callbackData,e.data.callbackFlag):"function"==typeof i&&void 0!==e.data.callbackData?i(e.data.callbackData):"function"==typeof i&&i()}}})),TECA.defineClass("Client",{resetModel:function(){this.model._.requestStatus.clientlist=0,this.model._.requestCallbackStack.clientlist=[],this.model._.clientlist=[]},model:{_:{requestStatus:{clientlist:0},requestCallbackStack:{clientlist:[]},clientlist:[]},_checkClientList:function(e,t){var i=this;"object"!=typeof this._.clientlist||!this._.clientlist.length>0||"boolean"==typeof t&&1==t?this._getClientList((function(){e(jQuery.extend(!0,[],i._.clientlist))})):e(jQuery.extend(!0,[],this._.clientlist))},_getClientList:function(e){"object"==typeof TECA._.user?("function"==typeof e&&this._.requestCallbackStack.clientlist.push(e),0===this._.requestStatus.clientlist&&(this._.requestStatus.clientlist=1,TECA.apiRequest("getClients",{},(function(e){for(TECA.Client.model._.requestStatus.clientlist=0,"object"==typeof e&&null!=e&&e.clients?TECA.Client.model._.clientlist=e.clients:TECA.Client.model._.clientlist=[];TECA.Client.model._.requestCallbackStack.clientlist.length>0;){TECA.Client.model._.requestCallbackStack.clientlist.shift()()}})))):(TECA.Client.model._.clientlist=[],"function"==typeof e&&e())},loadClientList:function(e,t){this._checkClientList((function(t){"function"==typeof e&&e(t)}),t)},loadClientListItem:function(e,t){this._checkClientList((function(i){for(var n=void 0,o=0,a=i.length;o<a;o++)i[o].clientId==e&&(n=i[o]);t(n)}))}}}),TECA.defineClass("Dialog",{dialogList:[],dialogInstanceIdCount:0,dialogZindex:300,init:function(e){var t=this;e.htmlDialog=void 0,e.init=function(){var e=this,t=jQuery("#timeneye_widget_cont");"boolean"==typeof this.notUnique&&this.notUnique&&void 0===this.uniqueId&&(this.uniqueId=generateUUID()),"function"==typeof this.onBeforeInit&&this.onBeforeInit(),"string"==typeof this.icon&&(this.title='<i class="icon iconeye '+this.icon+'"></i><span>'+this.title+"</span>"),"boolean"!=typeof this.modal&&(this.modal=!1),"boolean"!=typeof this.hasTitleWidget&&(this.hasTitleWidget=!1),"boolean"!=typeof this.hasHead&&(this.hasHead=!0),"boolean"!=typeof this.isSidebarOpen&&(this.isSidebarOpen=!1),"boolean"!=typeof this.hasHeadSubtitle&&(this.hasHeadSubtitle=!1);var i=void 0!==TECA.Content;this.htmlDialog=jQuery(TECA.Gui.jhtml("dialog/base",{isHosted:TECA._.weareContentHosted?"hosted":"pop-up",notModal:!this.modal,dialogType:this.name,instanceId:this.instanceId,hasHead:this.hasHead,hasHeadIcon:"string"==typeof this.icon,hasHeadSubtitle:this.hasHeadSubtitle,hasSidebar:"function"==typeof this.initSidebar,dialogTitle:this.title,dialogId:void 0!==this.uniqueId&&null!=this.uniqueId&&this.uniqueId,isCardType:"boolean"==typeof this.cardtype&&1==this.cardtype,dialogClass:"string"==typeof this.dialogClass&&this.dialogClass,dialogTitleWidgetHtml:!!this.hasTitleWidget&&TECA.Gui.jhtml("dialog/"+this.name+"_titleWidget",this),dialogHeadSubtitleHtml:!!this.hasHeadSubtitle&&TECA.Gui.jhtml("dialog/"+this.name+"_headSubtitle",this),hasContent:i,sourceName:i?TECA.Content._.activeService:""}));var n=jQuery(".te-dialog-container",this.htmlDialog);if(this.initBody(),n.append(this.htmlBody),"function"==typeof this.initSidebar&&(this.initSidebar(),void 0===this.htmlSidebar?jQuery(".te-dialog-sidebar",this.htmlDialog).remove():jQuery(".te-dialog-sidebar",this.htmlDialog).html(this.htmlSidebar)),jQuery(".te-dialog-btn-cancel",this.htmlDialog).on("click",(function(){jQuery(".te-dialog-container",e.htmlDialog).hasClass("te-feedback-active")||("function"==typeof e.onBeforeClose?e.onBeforeClose((function(){e.dialogClose()})):e.dialogClose())})),jQuery('a[data-href="#close-dialog"]',this.htmlDialog).on("click",(function(t){"function"==typeof e.onBeforeClose?e.onBeforeClose((function(){e.dialogClose()})):e.dialogClose()})),void 0!==this.modal&&this.modal||jQuery(this.htmlDialog).on("click",(function(t){t.target==this&&(jQuery(".te-dialog-container",e.htmlDialog).hasClass("te-feedback-active")||("function"==typeof e.onBeforeClose?e.onBeforeClose((function(){e.dialogClose()})):e.dialogClose()))})),t.append(this.htmlDialog),"boolean"==typeof TECA._.weareContentHosted&&!TECA._.weareContentHosted){var o,a,r=t.outerHeight(),s=this.htmlDialog.outerHeight(),l=0;s>r?(o=jQuery(">.te-container >.te-dialog-container >.te-dialog-head",this.htmlDialog).outerHeight(),a=jQuery(">.te-container >.te-dialog-container >.te-dialog-foot",this.htmlDialog).outerHeight(),l=s-r,t.append('<div class="body-filling" style="height: '+l+'px;"></div>')):(o=jQuery(">.te-container >.te-dialog-container >.te-dialog-head",this.htmlDialog).outerHeight(),a=jQuery(">.te-container >.te-dialog-container >.te-dialog-foot",this.htmlDialog).outerHeight(),this.htmlDialog.css("height",r),void 0!==this.dimensions&&"fixed"==this.dimensions||jQuery(">.te-container >.te-dialog-container >.te-dialog-body",this.htmlDialog).css("height",r-(o+a)))}TECA.Dialog.dialogZindex++,this.htmlDialog.css("z-index",TECA.Dialog.dialogZindex),this.fixHeight(),function(){TECA.Gui.loading.pop(this.loading_id)}(),this.dialogOpen(),TECA.Dialog.fixDialogsZPos()},e.dialogOpen=function(){var e=this;this.fixWidth(),this.fixHeight(),jQuery(window).resize((function(){e.fixWidth(),e.fixHeight()})),"function"==typeof this.onOpen&&this.onOpen(this),TECA.Gui.fields.icheckradio.parseNew(),jQuery("#timeneye_widget_cont").trigger("dialog_"+this.name+"_open")},e.dialogClose=function(){var e=this;jQuery(".validate-error, .requiredGangBoss",this.htmlDialog).tooltip("destroy"),jQuery(".datepicker-field",this.htmlDialog).datepicker("remove");var t=jQuery(".btn-group.bootstrap-select.open",this.htmlDialog);t.length>0&&t.each((function(){jQuery(this).find("select").selectpicker("destroy")}));var i=jQuery(".sp-replacer.sp-light",this.htmlDialog);i.length>0&&i.each((function(){jQuery(this).prev("input").spectrum("container").remove()}));var n=jQuery('*[data-toggle="tooltip"]',this.htmlDialog);n.length>0&&n.each((function(){jQuery(this).tooltip("destroy")})),setTimeout((function(){"function"==typeof e.onCloseInternal&&e.onCloseInternal(e),"function"==typeof e.onClose&&e.onClose(e),"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted&&TECA.Content.integrations.hasOwnProperty(TECA.Content._.activeService)&&TECA.Content.focusedStatusCheck(TECA.Content.integrations[TECA.Content._.activeService]),e.htmlDialog.remove(),delete window[e.instanceId],jQuery(".body-filling").remove(),TECA.Dialog.fixDialogsZPos(),TECA.Dialog.fixBodyScroll()}),50)},e.fixHeight=function(){var e=jQuery(".te-dialog-head",this.htmlDialog),t=jQuery(".te-dialog-foot",this.htmlDialog),i=jQuery(".te-dialog-sidebar",this.htmlDialog),n=jQuery(window).height();jQuery(".te-dialog-container",this.htmlDialog).css("max-height",n-jQuery("> .te-container",this.htmlDialog).getPadding().vertical+"px");var o=n-jQuery("> .te-container",this.htmlDialog).getPadding().vertical-1-jQuery(".te-dialog-container",this.htmlDialog).getMargin().vertical;e.length>0&&(o-=jQuery(".te-dialog-head",this.htmlDialog).outerHeight()),t.length>0&&(o-=jQuery(".te-dialog-foot",this.htmlDialog).outerHeight()),jQuery(".te-dialog-body",this.htmlDialog).css("max-height",o+"px"),jQuery(".te-dialog-body",this.htmlDialog)[0].scrollHeight>o?(jQuery(".te-dialog-body",this.htmlDialog).css("overflow-y","auto").addClass("te-scroll-cont"),jQuery(".te-scroll-cont",this.htmlDialog).perfectScrollbar()):jQuery(".te-dialog-body",this.htmlDialog).css("overflow-y","visible"),i.length>0&&(e.length>0?i.css("top",e.outerHeight()+"px"):i.css("top","0"),t.length>0?i.css("bottom",t.outerHeight()+"px"):i.css("bottom","0"))},e.fixWidth=function(){var e=jQuery("#timeneye_widget_cont"),t=jQuery("> .te-container",this.htmlDialog),i=jQuery("> .te-container > .te-dialog-container",this.htmlDialog),n=this.isSidebarOpen&&"number"==typeof this.widthWithSidebar?this.widthWithSidebar:this.width;this.isSidebarOpen?(this.htmlDialog.addClass("sidebar-open"),e.trigger("dialog_"+this.name+"_sidebarOpen")):(this.htmlDialog.removeClass("sidebar-open"),e.trigger("dialog_"+this.name+"_sidebarClose")),"auto"!=n&&t.css("width",parseInt(n)+t.getPadding().horizontal+i.getMargin().horizontal+"px")},e.toggleSidebar=function(){"function"==typeof this.initSidebar&&(this.isSidebarOpen=!this.isSidebarOpen,this.fixWidth(),this.fixHeight(),TECA.Dialog.fixDialogsZPos())};var i=function(e){for(var i=void 0,n=0,o=t.dialogList.length;n<o;n++)t.dialogList[n].name==e&&(i=jQuery.extend(!0,{},t.dialogList[n]));return i}(e.name),n=jQuery('.te-dialog[data-dialog-type="'+i.name+'"]');n.length<=0||"boolean"==typeof i.notUnique&&i.notUnique&&void 0!==e.uniqueId&&null!=e.uniqueId&&jQuery('.te-dialog[data-dialog-id="'+e.uniqueId+'"]').length<=0?(window["te_dialogInstance_"+TECA.Dialog.dialogInstanceIdCount]=jQuery.extend({instanceId:"te_dialogInstance_"+TECA.Dialog.dialogInstanceIdCount},i,e),window["te_dialogInstance_"+TECA.Dialog.dialogInstanceIdCount].init(),TECA.Dialog.dialogInstanceIdCount++):(TECA.Dialog.dialogZindex++,void 0!==e.uniqueId&&null!=e.uniqueId&&(n=jQuery('.te-dialog[data-dialog-id="'+e.uniqueId+'"]')),e=window[n.data("dialog-instance-id")],n.css("z-index",TECA.Dialog.dialogZindex),TECA.Dialog.fixDialogsZPos(),"function"==typeof e.onOpen&&e.onOpen(e))},fixBodyScroll:function(){var e=jQuery("#timeneye_widget_cont");jQuery(".te-dialog",e).length>0?e.height()>jQuery(window).height()?e.css("height",jQuery(window).height()).css("position","fixed").css("width","100%").css("overflow-y","scroll"):e.css("height",jQuery(window).height()).css("position","fixed").css("width","100%").css("overflow","hidden"):e.css("height","").css("position","").css("width","").css("overflow-y","").css("overflow","")},fixDialogsZPos:function(){var e=jQuery("#timeneye_widget_cont > .te-dialog"),t=[];if(e.length>0){e.each((function(){t.push(jQuery(this))})),t.sort((function(e,t){return parseInt(t.css("z-index"))-parseInt(e.css("z-index"))})),e.removeClass("mvd");var i=t.shift();i.addClass("mvd").find(".te-dialog-container").data("dialog-slo",i.width()/2-i.find(".te-dialog-container").outerWidth()/2).css("margin-left","");for(var n=function(e,t){var i,n=0,o=0,a=e.offset().left,r=e.getMargin().left/2,s=r-2*r;o=t.data("dialog-slo")?a+s-parseInt(t.data("dialog-slo")):a+s-t.offset().left,i=Math.abs(o),n=o>=0?i+100:o<0&&i<100?100-i:r,e.data("dialog-slo",a+s-n).css("margin-left","-"+2*n+"px")},o=0,a=t.length;o<a;o++)n(t[o].find(".te-dialog-container"),0==o?i.find(".te-dialog-container"):t[o-1].find(".te-dialog-container"))}}}),TECA.Dialog.dialogList.push({name:"entriesLog",title:"Entries",icon:"iconeye-check-bubble",width:550,widthWithSidebar:750,cardtype:!0,hasTitleWidget:!0,hasHeadSubtitle:!0,htmlBody:void 0,notUnique:!0,updateListTimeout:0,updateBulkActionsTimeout:0,bulkActionsActionsVals:{},waitForFiltersBeforeInit:!1,onBeforeInit:function(){var e=this;"object"==typeof this.filters.projectId&&"number"==typeof this.filters.projectId.length&&this.filters.projectId.length>0&&(this.filters.projectId.forEach((function(t,i){e.filters.projectId[i]=parseInt(t)})),this.filters.projectId=JSON.stringify(this.filters.projectId)),"object"==typeof this.filters.taskId&&"number"==typeof this.filters.taskId.length&&this.filters.taskId.length>0&&(this.filters.taskId.forEach((function(t,i){e.filters.taskId[i]=parseInt(t)})),this.filters.taskId=JSON.stringify(this.filters.taskId)),"object"==typeof this.filters.taskCategoryId&&"number"==typeof this.filters.taskCategoryId.length&&this.filters.taskCategoryId.length>0?(this.filters.taskCategoryId.forEach((function(t,i){e.filters.taskCategoryId[i]=parseInt(t)})),this.filters.taskCategoryId=JSON.stringify(this.filters.taskCategoryId)):"number"==typeof this.filters.taskCategoryId&&(this.filters.taskCategoryId=JSON.stringify([parseInt(this.filters.taskCategoryId)])),"object"==typeof this.filters.userId&&"number"==typeof this.filters.userId.length&&this.filters.userId.length>0&&(this.filters.userId.forEach((function(t,i){e.filters.userId[i]=parseInt(t)})),this.filters.userId=JSON.stringify(this.filters.userId)),"object"==typeof this.filters.groupId&&"number"==typeof this.filters.groupId.length&&this.filters.groupId.length>0?(this.filters.groupId.forEach((function(t,i){e.filters.groupId[i]=parseInt(t)})),this.filters.groupId=JSON.stringify(this.filters.groupId)):"number"==typeof this.filters.groupId&&(this.filters.groupId=JSON.stringify([parseInt(this.filters.groupId)])),"object"==typeof this.filters.clientId&&"number"==typeof this.filters.clientId.length&&this.filters.clientId.length>0?(this.filters.clientId.forEach((function(t,i){e.filters.clientId[i]=parseInt(t)})),this.filters.clientId=JSON.stringify(this.filters.clientId)):"number"==typeof this.filters.clientId&&(this.filters.clientId=JSON.stringify([parseInt(this.filters.clientId)])),"object"==typeof this.filters.tagListId&&"number"==typeof this.filters.tagListId.length&&this.filters.tagListId.length>0?(this.filters.tagListId.forEach((function(t,i){e.filters.tagListId[i]=parseInt(t)})),this.filters.tagListId=JSON.stringify(this.filters.tagListId)):"number"==typeof this.filters.tagListId&&(this.filters.tagListId=JSON.stringify([parseInt(this.filters.tagListId)])),"object"==typeof this.filters.tagId&&"number"==typeof this.filters.tagId.length&&this.filters.tagId.length>0?(this.filters.tagId.forEach((function(t,i){e.filters.tagId[i]=parseInt(t)})),this.filters.tagId=JSON.stringify(this.filters.tagId)):"number"==typeof this.filters.tagId&&(this.filters.tagId=JSON.stringify([parseInt(this.filters.tagId)])),TECA.Content.integrations[this.filters.source]&&"function"==typeof TECA.Content.integrations[this.filters.source].getOptFunctions?this.optFunctions=TECA.Content.integrations[this.filters.source].getOptFunctions():this.optFunctions={},"function"==typeof this.optFunctions.onInit&&this.optFunctions.onInit()},initBody:function(){var e=this;"object"!=typeof this.filters&&(this.filters={}),this.htmlBody=jQuery(TECA.Gui.jhtml("dialog/"+this.name+"_body",{uniqueId:this.uniqueId})),jQuery(".btnEntriesLog_toggleSidebar",this.htmlDialog).on("click",(function(){e.toggleSidebar(),jQuery(this).trigger("blur")})),jQuery("body").one("dialog_"+this.name+"_open",(function(){TECA.Gui.feedback.loading(jQuery(".entriesLog-filters-cont",e.htmlDialog)),e.waitForFiltersBeforeInit||e.updateList(),e.initFiltersForm(),jQuery(".te-dialog-sidebar",e.htmlDialog).on("scroll",(function(){e.updateSidebarApplyActionPosition()}))})).on("TEDataUpdate_timeEntries",(function(){e.updateList()})).on("dialog_"+this.name+"_sidebarOpen",(function(){e.updateSidebarApplyActionPosition()})).on("dialog_"+this.name+"_updatedHeight",(function(){e.updateSidebarApplyActionPosition()}))},initSidebar:function(){this.htmlSidebar=jQuery(TECA.Gui.jhtml("dialog/"+this.name+"_sidebar",{showFilters_members:1==TECA._.user.isAdmin||1==TECA._.user.isPM||1==TECA._.user.isGM,showFilters_groups:1==TECA._.user.isAdmin||1==TECA._.user.isGM,showFilters_billable:1==TECA._.user.isAdmin||1==TECA._.user.isPM,filterVal_userId:void 0!==this.filters.userId&&(this.filters.userId>0||-2==this.filters.userId)&&this.filters.userId,filterVal_groupId:void 0!==this.filters.groupId&&this.filters.groupId>0&&this.filters.groupId,filterVal_timeframe:void 0!==this.filters.timeFrame&&this.filters.timeFrame,filterVal_dateFrom:void 0!==this.filters.dateFrom&&this.filters.dateFrom,filterVal_dateTo:void 0!==this.filters.dateTo&&this.filters.dateTo,filterVal_projectId:void 0!==this.filters.projectId&&this.filters.projectId>0&&this.filters.projectId,filterVal_taskId:void 0!==this.filters.taskId&&this.filters.taskId>0&&this.filters.taskId,filterVal_taskCategoryId:void 0!==this.filters.taskCategoryId&&-1!=this.filters.taskCategoryId&&this.filters.taskCategoryId,filterVal_notesText:void 0!==this.filters.notesText&&this.filters.notesText,filterVal_clientId:void 0!==this.filters.clientId&&-1!=this.filters.clientId&&this.filters.clientId,filterVal_tagId:void 0!==this.filters.tagId&&-1!=this.filters.tagId&&this.filters.tagId,filterVal_tagListId:void 0!==this.filters.tagListId&&-1!=this.filters.tagListId&&this.filters.tagListId,filterVal_sourceInfo:void 0!==this.filters.source&&(void 0!==this.filters.sourceId?this.filters.source+"|"+this.filters.sourceId:this.filters.source),hasFilterVal_billed:void 0!==this.filters.billed,filterVal_billed:void 0!==this.filters.billed&&this.filters.billed}))},initFiltersForm:function(){var e=this,t=jQuery(".te-dialog-sidebar",this.htmlDialog),i=function(e){var t=[];return"object"==typeof e&&e.length>0&&jQuery("> option",e).each((function(){parseInt(jQuery(this).attr("value"))>0&&t.push(parseInt(jQuery(this).attr("value")))})),t},n=function(){var t=jQuery('select[name="filter_timeframe"]',e.htmlSidebar),i=jQuery(".filter_timeframe_customPeriod",e.htmlSidebar);"custom"==t.val()?(i.addClass("visible"),jQuery('input[name="filter_dateFrom"]',i).focus()):i.removeClass("visible")},o=function(){jQuery(".form-group",e.htmlSidebar).removeClass("active-filter"),jQuery("input, select",e.htmlSidebar).each((function(){var e=jQuery(this).val();("object"!=typeof e&&!isNaN(e)&&parseInt(e)>=0||"object"!=typeof e&&isNaN(e)&&"all"!=e||"object"==typeof e&&null!=e&&"number"==typeof e.length&&(e.length>1||1==e.length&&-1!=e[0]&&"all"!=e[0]))&&jQuery(this).parents(".form-group").addClass("active-filter")}))},a=function(){var t=jQuery('select[name="filter_userId"]',e.htmlSidebar),i=jQuery('select[name="filter_groupId"]',e.htmlSidebar),n=jQuery('select[name="filter_timeframe"]',e.htmlSidebar),a=jQuery('input[name="filter_dateFrom"]',e.htmlSidebar),r=jQuery('input[name="filter_dateTo"]',e.htmlSidebar),s=jQuery('select[name="filter_projectId"]',e.htmlSidebar),l=jQuery('select[name="filter_taskId"]',e.htmlSidebar),c=jQuery('select[name="filter_taskCategoryId"]',e.htmlSidebar),d=jQuery('input[name="filter_notesText"]',e.htmlSidebar),u=jQuery('select[name="filter_clientId"]',e.htmlSidebar),h=jQuery('select[name="filter_tagId"]',e.htmlSidebar),f=jQuery('select[name="filter_tagListId"]',e.htmlSidebar),p=jQuery('select[name="filter_billed"]',e.htmlSidebar),m=jQuery('input[name="filter_sourceInfo"]',e.htmlSidebar);t.length>0&&(t.val().length>1||1==t.val().length&&t.val()[0]>0)?e.filters.userId=JSON.stringify(t.val()):delete e.filters.userId,i.length>0&&(i.val().length>1||1==i.val().length&&i.val()[0]>0||-2==i.val()[0])?e.filters.groupId=JSON.stringify(i.val()):delete e.filters.groupId,"all"!=n.val()?e.filters.timeFrame=n.val():delete e.filters.timeFrame,"custom"==n.val()&&""!=a.val().replace(/ /g,"")?e.filters.dateFrom=a.val():delete e.filters.dateFrom,"custom"==n.val()&&""!=r.val().replace(/ /g,"")?e.filters.dateTo=r.val():delete e.filters.dateTo,s.val().length>1||1==s.val().length&&s.val()[0]>0?e.filters.projectId=JSON.stringify(s.val()):delete e.filters.projectId,(f.val().length>1||1==f.val().length)&&(myFilters.tagListId=JSON.stringify(f.val())),(h.val().length>1||1==h.val().length)&&(myFilters.tagId=JSON.stringify(h.val())),l.val().length>1||1==l.val().length&&l.val()[0]>0?e.filters.taskId=JSON.stringify(l.val()):delete e.filters.taskId,c.length>0&&(c.val().length>1||1==c.val().length&&(c.val()[0]>0||-2==c.val()[0]))?e.filters.taskCategoryId=JSON.stringify(c.val()):delete e.filters.taskCategoryId,""!=d.val().replace(/ /g,"")?e.filters.notesText=d.val():delete e.filters.notesText,u.length>0&&(u.val().length>1||1==u.val().length&&(u.val()[0]>0||-2==u.val()[0]))?e.filters.clientId=JSON.stringify(u.val()):delete e.filters.clientId,m.length>0&&m.val().split("|").length>0?(e.filters.source=m.val().split("|")[0],m.val().split("|")[1]?e.filters.sourceId=m.val().split("|")[1]:delete e.filters.sourceId):(delete e.filters.source,delete e.filters.sourceId),p.length>0&&"all"!=p.val()?e.filters.billed=p.val():delete e.filters.billed,o(),e.updateTitleWidgetRecap(),e.updateList()},r=function(r,s,l,c){var d,u,h,f,p,m;"boolean"!=typeof r&&(r=!1),"boolean"!=typeof s&&(s=!1),"boolean"!=typeof l&&(l=!1),jQuery('input[name="filter_dateFrom"], input[name="filter_dateTo"]',e.htmlSidebar).datepicker({format:"string"==typeof TECA._.user.settings.dateFormat?TECA._.user.settings.dateFormat:"yyyy-mm-dd",autoclose:!0,todayHighlight:!1,weekStart:TECA._.user.settings.weekStart,keyboardNavigation:!1,startDate:TECA.Gui.newFormatDate("1900-01-01")}),jQuery('select[name="filter_projectId"]',e.htmlSidebar).on("change",(function(){var t,i,n;t=jQuery(this).val(),i=jQuery('select[name="filter_taskId"]',e.htmlSidebar),n="",i.attr("disabled",!1),i.parents(".form-group").removeClass("disabled-with-info"),void 0===t||0==t.length?(n+='<option value="-1">Select a project first</option>',i.attr("disabled",!0)):t.length>1?(n+='<option value="-1">All</option>',i.attr("disabled",!0),i.parents(".form-group").addClass("disabled-with-info")):1==t.length&&parseInt(t[0])>0&&TECA.Project.model.loadAllProjectListItem(t[0],(function(e){TECA.Task.model.loadTaskList((function(i){n="";for(var o=0,a=i.length;o<a;o++)i[o].projectId==t[0]&&(0==i[o].isOpen&&TECA._.user.isAdmin||0==i[o].isOpen&&1==e.isPM||1==i[o].isOpen)&&(0==i[o].isOpen?n+='<option value="'+i[o].taskId+'" data-content="'+i[o].taskName+"<span class='bt-select-addtxt-menuonly'> archived</span><span class='bt-select-addtxt-menuonly-holder w-50'></span>\"NaN"+i[o].taskName+"</option>":n+='<option value="'+i[o].taskId+'">'+i[o].taskName+"</option>")}))})),i.html(n),""!=i.data("value")&&parseInt(i.data("value"))>0&&i.val(i.data("value")).data("value",""),i.selectpicker("refresh"),function(t){var i=jQuery('select[name="filter_billed"]',e.htmlSidebar),n=i.parents(".form-group"),o=0;if(i.length>0)if(n.show(),void 0!==i.data("value")&&i.val(i.data("value")).data("value",""),void 0===t||0==t.length)1!=TECA._.user.isAdmin&&(i.val("all"),n.hide()),i.selectpicker("refresh");else for(var a=0,r=t.length;a<r;a++)TECA.Project.model.loadAllProjectListItem(t[a],(function(e){(0==e.isBillable||1==e.isBillable&&0==TECA._.user.isAdmin&&0==e.isPM)&&o++,a==r-1&&(o>0&&(i.val("all"),n.hide()),i.selectpicker("refresh"))}))}(jQuery(this).val())})),jQuery('select[name="filter_timeframe"]',e.htmlSidebar).on("change",(function(){n()})),jQuery(".btn_applyFilters",e.htmlSidebar).on("click",(function(){a()})),jQuery('input[type="text"]',e.htmlSidebar).on("keydown",(function(e){13===e.which&&a()})),jQuery('select, input[type="text"]',e.htmlSidebar).on("change",(function(){o()})).on("blur",(function(){o()})),1!=TECA._.user.isAdmin&&1!=TECA._.user.isPM&&1!=TECA._.user.isGM||(d=jQuery('select[name="filter_userId"]',e.htmlSidebar),u="",h=function(e,t,i,n){var o='<option value="'+e+"\" data-content=\"<img class='bt-select-item-avatar' src='"+i+"'/> &nbsp; "+t;return o+="string"==typeof n&&"archived"==n?"<span class='bt-select-addtxt-menuonly'>deactivated</span><span class='bt-select-addtxt-menuonly-holder w-60'></span>\" title=\""+t+'">'+t+"</option>":'" title="'+t+'">'+t+"</option>"},d.length>0&&TECA.User.model.loadUserList((function(e){for(var t=0,n=e.length;t<n;t++)0==e[t].enabled?u+=h(e[t].userId,e[t].name,e[t].avatar,"archived"):u+=h(e[t].userId,e[t].name,e[t].avatar);d.html(u);var o=d.data("value");!isNaN(o)&&(parseInt(o)>0||-2==o)||""!=o&&!1!==TECA.json.parse(o)||"object"==typeof o&&"number"==typeof o.length?-2==o?d.val(TECA._.user.id).data("value",""):d.val(o).data("value",""):"all"===o&&d.val(i(d)).data("value",""),d.trigger("change").selectpicker("refresh")}))),r?function(){var t=jQuery('select[name="filter_groupId"]',e.htmlSidebar),n="";n+='<option value="-2" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;No group" title="No group">No group</option>',n+='<option data-divider="true"></option>',t.length>0&&TECA.User.model.loadGroupList((function(e){for(var o=0,a=e.length;o<a;o++)n+='<option value="'+e[o].groupId+'">'+e[o].name+"</option>";t.html(n);var r=t.data("value");!isNaN(r)&&(parseInt(r)>0||-2==r)||""!=r&&!1!==TECA.json.parse(r)||"object"==typeof r&&"number"==typeof r.length?t.val(r).data("value",""):"all"===r&&t.val(i(t)).data("value",""),t.selectpicker("refresh")}))}():jQuery('select[name="filter_groupId"]').parents(".form-group").remove(),function(){var t=jQuery('select[name="filter_projectId"]',e.htmlSidebar),n="",o="",a=function(e,t,i){var n='<option value="'+e+'"';return void 0===i&&(i="normal"),n+="locked"==i?' data-content="'+t+"<span class='bt-select-addtxt-menuonly'> locked</span><span class='bt-select-addtxt-menuonly-holder w-50'></span>\" title=\""+t+'">'+t+"</option>":"archived"==i?' data-content="'+t+"<span class='bt-select-addtxt-menuonly'> archived</span><span class='bt-select-addtxt-menuonly-holder w-50'></span>\" title=\""+t+'">'+t+"</option>":"favorite"==i?" data-content=\"<i class='iconeye iconeye-vote-star-f te-icon-fav'></i> &nbsp;"+t+'" title="'+t+'">'+t+"</option>":">"+t+"</option>"};TECA.Project.model.loadAllProjectList((function(e){for(var r=0,s=e.length;r<s;r++)0==TECA._.user.isAdmin&&0==e[r].isMember?o+=a(e[r].projectId,e[r].projectName,"locked"):0==e[r].isActive?o+=a(e[r].projectId,e[r].projectName,"archived"):1==e[r].isFavorited?n+=a(e[r].projectId,e[r].projectName,"favorite"):o+=a(e[r].projectId,e[r].projectName);""!=n&&(n+='<option data-divider="true"></option>'),t.html(""+n+o);var l=t.data("value");!isNaN(l)&&parseInt(l)>0||""!=l&&!1!==TECA.json.parse(l)||"object"==typeof l&&"number"==typeof l.length?t.val(l).data("value",""):"all"===l&&t.val(i(t)).data("value",""),t.trigger("change").selectpicker("refresh")}))}(),c&&(f=jQuery('select[name="filter_tagListId"]',e.htmlSidebar),p=[],TECA.Tag.model.loadTagList((function(e){for(var t=0,i=e.length;t<i;t++)p.push(e[t].tagListId),f.append('<option value="'+e[t].tagListId+'">'+e[t].name+"</option>");var n=f.data("value");f.attr("disabled",e.length<=0),(!isNaN(n)&&parseInt(n)>0||""!=n&&!1!==TECA.json.parse(n)||"object"==typeof n&&"number"==typeof n.length)&&(-1==TECA.json.parse(n)?f.val(p):f.val(n),f.data("value","")),f.trigger("change"),f.selectpicker("refresh")})),function(){var t=jQuery('select[name="filter_tagId"]',e.htmlSidebar),i=[];TECA.Tag.model.loadTagList((function(e){for(var n=0,o=e.length;n<o;n++){var a=e[n],r="";r+='<optgroup label="'+a.name+'">';for(var s=0,l=a.tags.length;s<l;s++)i.push(a.tags[s].tagId),r+='<option value="'+a.tags[s].tagId+'">'+a.tags[s].name+"</option>";r+="</optgroup>",t.append(r)}var c=t.data("value");t.attr("disabled",e.length<=0),(!isNaN(c)&&parseInt(c)>0||""!=c&&!1!==TECA.json.parse(c)||"object"==typeof c&&"number"==typeof c.length)&&(-1==TECA.json.parse(c)?t.val(TECA.json.stringify(i)):t.val(c),t.data("value","")),t.trigger("change"),t.selectpicker("refresh")}))}()),s?function(){var t=jQuery('select[name="filter_taskCategoryId"]',e.htmlSidebar),n="";n+='<option value="-2" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;No phase category" title="No phase category">No phase category</option>',n+='<option data-divider="true"></option>',t.length>0&&TECA.Task.model.loadTaskCategoriesList((function(e){for(var o=0,a=e.length;o<a;o++)n+='<option value="'+e[o].taskCategoryId+'">'+e[o].name+"</option>";t.html(n);var r=t.data("value");!isNaN(r)&&(parseInt(r)>0||-2==r)||""!=r&&!1!==TECA.json.parse(r)||"object"==typeof r&&"number"==typeof r.length?t.val(r).data("value",""):"all"===r&&t.val(i(t)).data("value",""),t.selectpicker("refresh")}))}():jQuery('select[name="filter_taskCategoryId"]').parents(".form-group").remove(),(m=jQuery('select[name="filter_timeframe"]',e.htmlSidebar)).data("value")&&m.val(m.data("value")).data("value","").selectpicker("refresh"),n(),l?function(){var t=jQuery('select[name="filter_clientId"]',e.htmlSidebar),n="";n+='<option value="-2" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;No client" title="No client">No client</option>',n+='<option data-divider="true"></option>',t.length>0&&TECA.Client.model.loadClientList((function(e){for(var o=0,a=e.length;o<a;o++)n+='<option value="'+e[o].clientId+'"',1==TECA._.user.isAdmin&&0==e[o].projectsCount&&(n+=' data-content="'+e[o].name+"<span class='bt-select-addtxt-menuonly'> no projects</span><span class='bt-select-addtxt-menuonly-holder w-60'></span>\""),n+=">"+e[o].name,n+="</option>";t.html(n);var r=t.data("value");!isNaN(r)&&(parseInt(r)>0||-2==r)||""!=r&&!1!==TECA.json.parse(r)||"object"==typeof r&&"number"==typeof r.length?t.val(r).data("value",""):"all"===r&&t.val(i(t)).data("value",""),t.selectpicker("refresh")}))}():jQuery('select[name="filter_clientId"]').parents(".form-group").remove(),o(),jQuery("select",e.htmlSidebar).selectpicker("refresh"),e.updateTitleWidgetRecap(),jQuery('[data-toggle="popover"]',e.htmlSidebar).popover(),TECA.Gui.feedback.close(e.htmlSidebar),e.fixHeight(),t.perfectScrollbar(),jQuery("body").one("dialog_"+e.name+"_sidebarOpen",(function(){jQuery("select:eq(0)",e.htmlSidebar).siblings(".btn.dropdown-toggle").focus()})),e.waitForFiltersBeforeInit&&(a(),e.waitForFiltersBeforeInit=!1)};TECA.Gui.feedback.loading(this.htmlSidebar),TECA.User.model.loadUserList((function(){TECA.Client.model.loadClientList((function(e){TECA.Task.model.loadTaskCategoriesList((function(t){TECA.Tag.model.loadTagList((function(i){1==TECA._.user.isAdmin||1==TECA._.user.isGM?TECA.User.model.loadGroupList((function(n){r(n.length>0,t.length>0,e.length>0,i.length>0)})):r(!1,t.length>0,e.length>0,i.length>0)}))}))}))}))},updateTitleWidgetRecap:function(){var e=jQuery(".te-dialog-sidebar",this.htmlDialog),t=jQuery(".entriesLog-filters-cont",this.htmlDialog),i=jQuery("> .filters-recap",t),n="",o=0,a=function(e,t){var i="";if("boolean"!=typeof t&&(t=!1),t||(i+='<span class="filter-label">'+e.parents(".form-group").find("> label > span.title").text()+":</span> "),e.is("SELECT"))if(e.prop("multiple")){var n=e.val();if("object"==typeof n&&n.length>0)if(n.length>3)i+='<span class="filter-value">'+n.length+" selected</span>";else{for(var o=0,a=n.length;o<a;o++)i+='<span class="filter-value">'+jQuery('option[value="'+n[o]+'"]',e).text()+"</span>",i+=", ";i=i.slice(0,i.length-2)}}else i+='<span class="filter-value">'+jQuery('option[value="'+e.val()+'"]',e).text()+"</span>";else{var r=e.val();if("filter_sourceInfo"===e.attr("name")){if(i+='<div class="integration-icon '+(r=r.split("|"))[0]+'"></div> ',r.length>1){var s=r[1];"azuredevops"==r[0]&&(s=decodeURIComponent(r[1])),i+='<span class="filter-value">'+s+"</span>"}}else i+='<span class="filter-value">'+r+"</span>"}return i};jQuery('.form-group.active-filter input[type="text"], .form-group.active-filter select',e).each((function(){var t=jQuery(this),i=t.prop("name"),r=t.val();i&&0===i.indexOf("filter_")&&""!=(""+r).replace(/ /g,"")&&("filter_userId"==i?(1==r.length&&r[0]==TECA._.user.id?n+='. &nbsp;&nbsp;<span class="filter-label">'+t.parents(".form-group").find("> label > span.title").text()+':</span> <span class="filter-value">me</span>':n+=". &nbsp;&nbsp;"+a(t),o++):"filter_timeframe"==i?"custom"==r?n+='. &nbsp;&nbsp;<span class="filter-label">'+t.parents(".form-group").find("> label > span.title").text()+":</span>":(n+=". &nbsp;&nbsp;"+a(t),o++):"filter_dateFrom"==i||"filter_dateTo"==i?"custom"==jQuery('select[name="filter_timeframe"]',e).val()&&(n+="filter_dateFrom"==i?' <span class="filter-value">from</span> '+a(t,!0):' <span class="filter-value">to</span> '+a(t,!0),o++):(n+=". &nbsp;&nbsp;"+a(t),o++))})),o>0?(n=n.slice(14)+".",t.show()):t.hide(),i.html(n),TECA.Gui.feedback.close(jQuery(".entriesLog-filters-cont",this.htmlDialog))},updateBulkActionsForm:function(){var e=this,t=jQuery(".te-dialog-sidebar",this.htmlDialog),i=jQuery("> .bulkactions-container",t),n=jQuery("> .advanced-actions",i),o=jQuery("#dialogEntriesLog_list_"+e.uniqueId+" > .te-entity-list",this.htmlBody),a=jQuery(".te-entity-item.selected",o).length,r=0,s="",l=function(){var e=[];return jQuery(".te-entity-item.selected",o).each((function(){var t=jQuery(this).data("entity-project-id");t&&-1==e.indexOf(parseInt(t))&&e.push(parseInt(t))})),e},c=function(){var e=!1;return jQuery(".te-entity-item.selected",o).each((function(){var t=jQuery(this).data("entity-locked");"date"==t&&(e="date"),"apionly"!=t||0!=e&&"membership"!=e||(e="apionly"),"membership"==t&&0==e&&(e="membership")})),e},d=function(){var e=!0,t=[];if(1==TECA._.user.isAdmin){for(var i=0,n=(t=l()).length;i<n;i++)TECA.Project.model.loadAllProjectListItem(t[i],(function(t){0==t.isBillable&&(e=!1)}));return e}if(0==TECA._.user.isGM&&0==TECA._.user.isPM)return!1;var o=jQuery.extend(!0,[],TECA._.user.managedProjects.active);t=l(),1==TECA._.user.isGM&&(o=o.concat(TECA._.user.managedProjects.archived));for(i=0,n=t.length;i<n;i++)-1==o.indexOf(t[i])?e=!1:TECA.Project.model.loadAllProjectListItem(t[i],(function(t){0==t.isBillable&&(e=!1)}));return e},u=function(){var e=!0,t=l();if(1==TECA._.user.isAdmin)e=!0;else if(1==TECA._.user.isPM){var i=jQuery.extend(!0,[],TECA._.user.managedProjects.active);1==TECA._.user.isGM&&(i=i.concat(TECA._.user.managedProjects.archived));for(var n=0,o=t.length;n<o;n++)-1==i.indexOf(t[n])&&(e=!1)}else for(n=0,o=t.length;n<o;n++)-1==TECA._.user.linkedProjects.indexOf(t[n])&&(e=!1),0!=c()&&(e=!1);return e},h=function(){var e=!0,t=l(),i=c();if(1!=TECA._.user.isAdmin)if(1==TECA._.user.isPM)if("date"==i||"apionly"==i)e=!1;else{var n=jQuery.extend(!0,[],TECA._.user.managedProjects.active);1==TECA._.user.isGM&&(n=n.concat(TECA._.user.managedProjects.archived));for(var o=0,a=t.length;o<a;o++)-1==n.indexOf(t[o])&&(e=!1)}else for(o=0,a=t.length;o<a;o++)-1==TECA._.user.linkedProjects.indexOf(t[o])&&(e=!1),0!=c()&&(e=!1);return e},f=function(){var t=jQuery('select[name="bulk_change_projectId"]',e.htmlSidebar),i=jQuery('select[name="bulk_change_userId"]',e.htmlSidebar),n='<option value="-1" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;Leave unchanged" title="leave unchanged">Leave unchanged</option>',a=i.length>0?i.val():-1,r=[],s=[],l=0;n+='<option data-divider="true"></option>',t.length>0&&(t.prop("disabled",!0),jQuery(".te-entity-item.selected",o).each((function(){var e=parseInt(jQuery(this).data("entity-user-id"));e&&-1==r.indexOf(e)&&r.push(e)})),TECA.Project.model.loadAllProjectList((function(e){for(var i=0,o=e.length;i<o;i++)if(1==e[i].isActive&&0==e[i].apiOnly)if(a>0)"object"==typeof e[i].users&&"number"==typeof e[i].users.length&&-1!=e[i].users.indexOf(""+a)&&(s.push(e[i]),l++);else if("object"==typeof e[i].users&&"number"==typeof e[i].users.length){for(var c=!0,d=0,u=r.length;d<u;d++)-1==e[i].users.indexOf(""+r[d])&&(c=!1);c&&(s.push(e[i]),l++)}else(0==r.length||1==r.length&&r[0]==TECA._.user.id)&&-1!=TECA._.user.linkedProjects.indexOf(parseInt(e[i].projectId))&&(s.push(e[i]),l++);for(i=0,o=s.length;i<o;i++)n+='<option value="'+s[i].projectId+'">'+s[i].name+"</option>";t.html(n),l>0&&""!=t.data("value")&&parseInt(t.data("value"))>0&&(t.val(t.data("value")),t.data("value","")),l>0&&t.prop("disabled",!1),t.trigger("change").selectpicker("refresh")})))};t.removeClass("bulkactions-active"),a>0?(jQuery(".te-entity-item.selected",o).each((function(){r+=parseInt(jQuery(this).data("entity-minutes"))})),t.addClass("bulkactions-active"),jQuery(".counter_cont_selected > .counter").html(a),jQuery(".counter_cont_hours > .counter").html(TECA.Gui.formatMins(r,"html")),1==TECA._.user.isAdmin?s="If you have selected a team member, you will only see the projects linked to the team member you chose.<br/>Otherwise, you will see a list of the projects linked to all the users who tracked the selected entries.":1==TECA._.user.isPM&&(s="Here you will find the projects shared by you and the team members who tracked the selected entries"),TECA.Gui.feedback.loading(n),setTimeout((function(){var t,i,o=jQuery(TECA.Gui.jhtml("dialog/"+e.name+"_bulkActionsFieldset",{showActionTargetItems:u(),showActionUser:1==TECA._.user.isAdmin,showActionProject:h(),showActionBillable:d(),valueActionTargetItems:void 0!==e.bulkActionsActionsVals.targetItems&&e.bulkActionsActionsVals.targetItems,valueActionUser:void 0!==e.bulkActionsActionsVals.user&&e.bulkActionsActionsVals.user,valueActionProject:void 0!==e.bulkActionsActionsVals.project&&e.bulkActionsActionsVals.project,valueActionTask:void 0!==e.bulkActionsActionsVals.task&&e.bulkActionsActionsVals.task,valueActionBillable:void 0!==e.bulkActionsActionsVals.billable&&e.bulkActionsActionsVals.billable,hasValueActionBillable:void 0!==e.bulkActionsActionsVals.billable,showProjectActionInfo:1==TECA._.user.isAdmin||1==TECA._.user.isPM,projectActionInfoText:s}));TECA.Gui.feedback.close(n),n.html(o),jQuery("select",o).on("change",(function(){var t=jQuery(this),i=t.data("te-action-id"),n=t.val();"string"==typeof i&&""!=i.replace(/ /g,"")&&(-1!=n?e.bulkActionsActionsVals[i]=n:delete e.bulkActionsActionsVals[i])})),jQuery('select[name="bulk_change_userId"]',o).on("change",(function(){f()})),jQuery('select[name="bulk_change_projectId"]',o).on("change",(function(){var t,i,n,o,a,r;t=jQuery('select[name="bulk_change_taskId"]',e.htmlSidebar),i=jQuery('select[name="bulk_change_projectId"]',e.htmlSidebar),n='<option value="-1" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;Leave unchanged" title="leave unchanged">Leave unchanged</option>',o=0,a=l(),r=-1,n+='<option data-divider="true"></option>',t.length>0&&(t.prop("disabled",!0),TECA.Task.model.loadTaskList((function(e){if(i.val()>0?r=parseInt(i.val()):1==a.length&&(r=a[0]),r>0)for(var s=0,l=e.length;s<l;s++)e[s].projectId==r&&1==e[s].isOpen&&(n+='<option value="'+e[s].taskId+'">'+e[s].name+"</option>",o++);else n='<option value="-1" class="strong">select a project first</option>';t.html(n),o>0&&""!=t.data("value")&&parseInt(t.data("value"))>0&&(t.val(t.data("value")),t.data("value","")),o>0&&t.prop("disabled",!1),t.trigger("change").selectpicker("refresh")})))})),t=jQuery('select[name="bulk_targetItems"]',e.htmlSidebar),i=c(),t.length>0&&(1==TECA._.user.isAdmin||"date"!=i&&"apionly"!=i||t.data("value","original").prop("disabled",!0),t.data("value")&&""!=t.data("value")&&(t.val(t.data("value")),t.data("value",""))),t.trigger("change").selectpicker("refresh"),function(){var t=jQuery('select[name="bulk_change_billed"]',e.htmlSidebar);t.length>0&&"-1"!=t.data("value")&&(t.val(t.data("value")),t.data("value","")),t.trigger("change").selectpicker("refresh")}(),1==TECA._.user.isAdmin?function(){var t=jQuery('select[name="bulk_change_userId"]',e.htmlSidebar),i='<option value="-1" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;Leave unchanged" title="leave unchanged">Leave unchanged</option>',n=[],o=l();i+='<option data-divider="true"></option>';if(t.length>0){for(var a=0,r=o.length;a<r;a++)TECA.Project.model.loadAllProjectListItem(o[a],(function(e){n=0==n.length?jQuery.extend(!0,[],e.users):intersect(n,e.users)}));TECA.User.model.loadUserList((function(e){for(var o=0,a=e.length;o<a;o++)1==e[o].enabled&&-1!=n.indexOf(e[o].userId)&&(i+=(r=e[o].userId,s=e[o].name,l=e[o].avatar,'<option value="'+r+"\" data-content=\"<img class='bt-select-item-avatar' src='"+l+"'/> &nbsp; "+s+'">'+s+"</option>"));var r,s,l;t.html(i),""!=t.data("value")&&(parseInt(t.data("value"))>0||-2==t.data("value"))?-2==t.data("value")?t.val(TECA._.user.id).data("value",""):t.val(t.data("value")).data("value",""):t.val(-1),t.trigger("change").selectpicker("refresh")}))}}():f(),jQuery('[data-toggle="popover"]',o).popover()}),10),jQuery(".btn_applyBulkActions",i).off("click").on("click",(function(){e.applyBulkActions()})),jQuery(".export-btn-group .export-selected-option",e.htmlBody).addClass("visible")):jQuery(".export-btn-group .export-selected-option",e.htmlBody).removeClass("visible"),t.perfectScrollbar(),setTimeout((function(){e.updateSidebarApplyActionPosition()}),100)},updateSidebarApplyActionPosition:function(){var e=jQuery(".te-dialog-sidebar",this.htmlDialog),t=jQuery(".apply-action-parent:visible",e),i=jQuery("> .apply-action-cont",t);t.length>0&&(t.removeClass("flying-action-cont"),i.css("top",""),t.height()>e.height()&&(t.addClass("flying-action-cont"),i.css("top",e.height()-i.height()+(e.offset().top-t.offset().top)+"px")))},updateList:function(){var e=this,t=!1;if(void 0===this.filters.userId)(TECA._.user.isAdmin||TECA._.user.isPM)&&(t=!0);else if(isNaN(this.filters.userId)||this.filters.userId==TECA._.user.id||-2==this.filters.userId){if("object"==typeof JSON.parse(this.filters.userId)){JSON.parse(this.filters.userId).length>1&&(t=!0)}}else t=!0;var i=function(t,i,n){jQuery(".entriesLog_resultsCounterCont",e.htmlDialog).html("<span>"+t+"</span> listed out of <span>"+i+"</span> total"),n>0?jQuery(".entriesLog_resultsTotalTimeCont",e.htmlDialog).html(TECA.Gui.formatMins(n,"html")):jQuery(".entriesLog_resultsTotalTimeCont",e.htmlDialog).html(TECA.Gui.formatMins(0,"html")),e.fixHeight()};TECA.Entry.list.init("dialogEntriesLog_list_"+e.uniqueId,{filters:this.filters,display:{showAlwaysInfo:!0,showDate:!0,showUser:t,showCheckbox:!1,showIntegrationLink:!TECA._.weareContentHosted},dataYes:function(e,t,n){i(e,t,n)},dataNo:function(e,t,n){i(e,t,n)},dataReplaced:function(e,t,n){i(e,t,n)}})},exportEntries:function(e,t){var i=this,n=jQuery("#dialogEntriesLog_list_"+this.uniqueId+" > .te-entity-list",this.htmlBody),o=jQuery(".te-entity-item.selected",n),a=[],r={};"selected"==e?(o.each((function(){a.push(parseInt(jQuery(this).data("entity-id")))})),r.targetMode="entryIds",r.exportFormat=t,r.entryIds=JSON.stringify(a)):r=jQuery.extend(!0,{targetMode:"filters",exportFormat:t},this.filters),TECA.Gui.feedback.loading(i.htmlBody),TECA.requestJson("entry/exportEntries",r,(function(e){TECA.Gui.feedback.close(i.htmlBody),void 0!==e.data.csvHash?window.location=TECA._.ajaxRoot+"index.php?controller=entry&task=streamEntriesCSV&csvHash="+e.data.csvHash:void 0!==e.data.pdfHash&&(window.location=TECA._.ajaxRoot+"index.php?controller=entry&task=streamEntriesPDF&pdfHash="+e.data.pdfHash)}),(function(e){TECA.Gui.feedback.danger(i.htmlBody,e)}))},applyBulkActions:function(){var e=this,t=jQuery(".te-dialog-sidebar",this.htmlDialog),i=jQuery("> .bulkactions-container",t),n=jQuery("> .advanced-actions",i),o=jQuery("#dialogEntriesLog_list_"+this.uniqueId+" > .te-entity-list",this.htmlBody),a=jQuery('select[name="bulk_targetItems"]',n),r=jQuery('select[name="bulk_change_userId"]',n),s=jQuery('select[name="bulk_change_projectId"]',n),l=jQuery('select[name="bulk_change_taskId"]',n),c=jQuery('select[name="bulk_change_billed"]',n),d=jQuery(".te-entity-item.selected",o),u=[],h={};if(d.each((function(){u.push(parseInt(jQuery(this).data("entity-id")))})),h.entryIds=JSON.stringify(u),a.length>0?h.actionsTargetItems=a.val():h.actionsTargetItems="original",r.length>0&&r.val()>0&&(h.setUserTo=r.val()),s.length>0&&s.val()>0&&(h.setProjectTo=s.val()),l.length>0&&l.val()>0&&(h.setTaskTo=l.val()),c.length>0&&(h.setBilledTo=c.val()),TECA.Gui.feedback.loading(e.htmlBody),void 0!==h.setProjectTo&&void 0===h.setTaskTo)return TECA.Gui.feedback.danger(e.htmlBody,"If you're changing the project you need to select also the new phase to set"),!1;TECA.requestJson("entry/applyBulkActions",h,(function(t){jQuery("#dialogEntriesLog_list_"+e.uniqueId).trigger("te-gui-entitylist-checkbox-changeAll",!1),e.bulkActionsActionsVals={},TECA.Gui.feedback.success(e.htmlBody,"Entries updated"),TECA.dataUpdate.getUpdates(!0,!0),e.updateList()}),(function(t){TECA.Gui.feedback.danger(e.htmlBody,t)}))},onCloseInternal:function(){var e=this;setTimeout((function(){"function"==typeof e.optFunctions.onDialogClose&&e.optFunctions.onDialogClose()}),10)}}),TECA.Dialog.dialogList.push({name:"projectNew",title:"Create a new project",icon:"iconeye-folder-bookmark",width:550,notUnique:!0,hasTitleWidget:!0,htmlBody:void 0,tasks:[],users:[],groups:[],cacheArrays:{tasks:[],users:[],userNames:[]},onBeforeInit:function(){this.userIsAdmin=1==TECA._.user.isAdmin,this.userIsGM=1==TECA._.user.isGM&&TECA._.user.groupId>0,this.userCanCreateProjects=this.userIsAdmin||this.userIsGM,this.accountCurrency=TECA._.account.currencySymbol,this.hasGroups=TECA._.account.groupsCount>0,this.showTeamFormGroup=5!=TECA._.account.subscriptionTypeId&&TECA._.account.usersActiveCount>1,this.isFree=1==TECA._.account.subscriptionFree},onCloseInternal:function(){jQuery('input[name="projectNew_name"]',this.htmlBody).tooltip("destroy")},initBody:function(){var e=this,t=jQuery("body");TECA._.weareContentHosted||(t=jQuery("#timeneye_widget_cont"));this.htmlBody=jQuery(TECA.Gui.jhtml("dialog/"+this.name+"_body",this)),TECA._.weareContentHosted&&jQuery(".te-dialog-body").css("height","unset").css("min-height","unset"),this.userCanCreateProjects&&t.one("dialog_"+e.name+"_open",(function(){TECA.Gui.feedback.loading(e.htmlBody),TECA.Project.model.loadProjectList((function(t){TECA.Task.model.loadTaskList((function(){TECA.User.model.loadUserList((function(){TECA.User.model.loadGroupList((function(){TECA.Gui.color.model.loadColorList((function(i){jQuery("select",e.htmlBody).selectpicker(),jQuery(".btnProjectNew_save",e.htmlBody).on("click",(function(){e.save(jQuery(this))})),jQuery("#projectNew_isPublic",e.htmlBody).on("change",(function(){jQuery(this).is(":checked")?jQuery(".formGroupTeamMembers").addClass("hide"):jQuery(".formGroupTeamMembers").removeClass("hide")})),jQuery(".te-collapse-header:not(.te-collapse-disable)").on("click",(function(){var t=jQuery(this),i=t.data("te-body"),n=jQuery('.te-collapse-body[data-te-name="'+i+'"]',e.htmlBody),o=jQuery(".te-collapse-icon",t);n.hasClass("te-visible")?(TECA.Gui.collapse.collapseEl(n),o.removeClass("iconeye-chevron-up").addClass("iconeye-chevron-down")):(TECA.Gui.collapse.expandEl(n),o.removeClass("iconeye-chevron-down").addClass("iconeye-chevron-up"))}));var n,o,a=jQuery('input[name="projectNew_color"]',e.htmlBody);a.val(i[(n=0,o=i.length-1,parseInt(Math.random()*(o-n)+n))]),TECA.Gui.color.initPicker(a),t.length>0&&e.initCopyModule(),e.initTasksModule(),e.initUsersModule(),jQuery('input[name="projectNew_name"]',e.htmlBody).on("blur",(function(){e.checkIfProjectNameIsAlreadyUsed()})),e.initClientSelect(),jQuery("#projectNew_isBillable",e.htmlBody).on("change",(function(){jQuery(this).is(":checked")?jQuery(".formGroupHourlyRate",e.htmlBody).addClass("active"):jQuery(".formGroupHourlyRate",e.htmlBody).removeClass("active")})),jQuery('[data-toggle="popover"]',e.htmlBody).popover(),TECA.Gui.feedback.close(e.htmlBody)}))}))}))}))})),jQuery('input[name="projectNew_name"]',e.htmlBody).focus()}))},initCopyModule:function(){var e=this,t=jQuery('.te-dialog-title-widget select[name="projectNew_copyProject"]',this.htmlDialog);if(t.length>0&&(TECA.Gui.selectpicker.init({type:"project",target:t,personalOnly:!1,showInactive:!0,showNoOption:!1,showFavorites:!1,onPopulateComplete:function(e){t.selectpicker("refresh")}}),t.on("change",(function(){var i;void 0!==(i=jQuery(this).val())&&i>0&&(TECA.Gui.feedback.loading(e.htmlBody),TECA.apiRequest("getProject",{projectId:i},(function(t){if("string"==typeof t)"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(t),TECA.Gui.feedback.close(e.htmlBody)):TECA.Gui.feedback.danger(e.htmlBody,t);else if(t.code)"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(t.description),TECA.Gui.feedback.close(e.htmlBody)):TECA.Gui.feedback.danger(e.htmlBody,t.description);else{t=t.project;var i=jQuery('input[name="projectNew_color"]',e.htmlBody);i.val(t.color),TECA.Gui.color.refreshPicker(i),e.tasks=[];for(var n=0,o=t.tasks.length;n<o;n++)1==t.tasks[n].isOpen&&e.tasks.push(t.tasks[n].name);if(1==TECA._.user.isAdmin)for(e.groups=[],n=0,o=t.groups.length;n<o;n++)e.groups.push(t.groups[n].groupId);if(1==TECA._.user.isAdmin)for(e.users=[],n=0,o=t.users.length;n<o;n++)(t.users[n].groupId<=0||-1==e.groups.indexOf(t.users[n].groupId))&&1==t.users[n].enabled&&e.users.push(t.users[n].userId);if(t.clientId>0?jQuery('select[name="projectNew_client"]',e.htmlBody).val(t.clientId).selectpicker("refresh"):jQuery('select[name="projectNew_client"]',e.htmlBody).val(-1).selectpicker("refresh"),t.budgetMinutes>0){var a=parseInt(parseInt(t.budgetMinutes)/60);a>0&&jQuery('input[name="projectNew_budgetHours"]',e.htmlBody).val(a)}else jQuery('input[name="projectNew_budgetHours"]',e.htmlBody).val("");1==t.isBillable?(jQuery("#projectNew_isBillable",e.htmlBody).prop("checked",!0).trigger("change").selectpicker("refresh"),parseFloat(t.hourlyRate)>0&&jQuery('input[name="projectNew_hourlyRate"]',e.htmlBody).val(t.hourlyRate)):(jQuery("#projectNew_isBillable",e.htmlBody).prop("checked",!1).trigger("change").selectpicker("refresh"),jQuery('input[name="projectNew_hourlyRate"]',e.htmlBody).val("")),jQuery('input[name="projectNew_addTask"]',e.htmlDialog).trigger("_copyForceRender"),jQuery('select[name="projectNew_addGroup"]',e.htmlDialog).trigger("_copyForceRender"),jQuery('input[name="projectNew_addUser"]',e.htmlDialog).trigger("_copyForceRender"),TECA.Gui.feedback.close(e.htmlBody),jQuery('input[name="projectNew_name"]',e.htmlDialog).focus()}}))),t.val("").selectpicker("refresh")})),jQuery(".te-dialog-title-widget",this.htmlDialog).addClass("active"),"boolean"==typeof TECA._.weareContentHosted&&!TECA._.weareContentHosted)){var i=jQuery("#timeneye_widget_cont"),n=jQuery(".te-dialog-body",this.htmlDialog),o=jQuery(".te-dialog-head",this.htmlDialog).outerHeight(),a=jQuery(".te-dialog-foot",this.htmlDialog).outerHeight(),r=i.outerHeight()-(o+a);n.css("height",r)}},initTasksModule:function(){var e=this,t=jQuery(".moduleCont_tasks",this.htmlBody),i=jQuery('input[name="projectNew_addTask"]',t),n=i.parents(".newTaskInputCont"),o=10,a=function(){jQuery(".ghost-content",n).text(i.val()),o=parseFloat(n.width()+10),i.css("width",o+"px")},r=function(){var n=[],o=jQuery("#projectNew_newTaskTips"),a=i.val(),r=a.toLowerCase();if("string"==typeof a&&a.length>=1){for(var l=0,d=e.cacheArrays.tasks.length;l<d;l++)-1!=e.cacheArrays.tasks[l].toLowerCase().indexOf(r)&&-1==e.tasks.indexOf(e.cacheArrays.tasks[l])&&-1==e.tasks.indexOf(jQuery("<div/>").html(e.cacheArrays.tasks[l]).text())&&n.push(e.cacheArrays.tasks[l]);if(n.length>0){n.sort(firstBy((function(e,t){return e.toLowerCase().indexOf(r)>t.toLowerCase().indexOf(r)?1:e.toLowerCase().indexOf(r)<t.toLowerCase().indexOf(r)?-1:0})).thenBy((function(e,t){return e.length>t.length?1:e.length<t.length?-1:0}))),n.splice(20),0==o.length&&(t.append('<div id="projectNew_newTaskTips"></div>'),o=jQuery("#projectNew_newTaskTips"));var u=i.offset().left-15,h=t.height();!TECA._.weareContentHosted&&u+o.width()>550?u=550-o.width()-30:TECA._.weareContentHosted&&(u=i.offset().left,h=i.offset().top+i.height(),o.css("position","fixed")),o.css("top",h+"px").css("left",u+"px"),o.html("");for(l=0,d=n.length;l<d;l++){(y=jQuery(TECA.Gui.jhtml("dialog/"+e.name+"_taskTipsItem",{taskName:n[l]}))).on("mousedown",(function(){c(!0,jQuery(this).text())})),o.append(y)}}else o.length>0&&s()}else{var f=[],p=[],m=[];TECA.Task.model.loadTaskList((function(t){for(var i=0,n=t.length;i<n;i++)-1==e.tasks.indexOf(t[i].taskName)&&-1==e.tasks.indexOf(jQuery("<div/>").html(t[i].taskName).text())&&(-1===p.indexOf(t[i].taskName.toLowerCase())?(m.push({name_lowercase:t[i].taskName.toLowerCase(),name:t[i].taskName,taskIds:[t[i].taskId]}),p.push(t[i].taskName.toLowerCase())):m[p.indexOf(t[i].taskName.toLowerCase())].taskIds.push(t[i].taskId));for(var o=0,a=m.length;o<a;o++)m[o].index=o}));for(var g=0,v=m.length;g<v;g++)f.push({name:m[g].name,count:m[g].taskIds.length});if(f.sort(firstBy((function(e,t){return e.count>t.count?-1:e.count<t.count?1:0})).thenBy((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0}))),(f=f.slice(0,20)).sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0})),(n=f).length>0){0==o.length&&(t.append('<div id="projectNew_newTaskTips"></div>'),o=jQuery("#projectNew_newTaskTips"));u=i.offset().left-15,h=t.height();!TECA._.weareContentHosted&&u+o.width()>550?u=550-o.width()-30:TECA._.weareContentHosted&&(u=i.offset().left,h=i.offset().top+i.height(),o.css("position","fixed")),o.css("top",h+"px").css("left",u+"px"),o.html("");for(l=0,d=n.length;l<d;l++){var y;(y=jQuery(TECA.Gui.jhtml("dialog/"+e.name+"_taskTipsItem",{taskName:n[l].name}))).on("mousedown",(function(){c(!0,jQuery(this).text())})),o.append(y)}}else o.length>0&&s()}},s=function(){jQuery("#projectNew_newTaskTips").remove()},l=function(e){var t=jQuery("#projectNew_newTaskTips");if(t.length>0){var i=jQuery(".task-name.te-focused",t);i.removeClass("te-focused"),1===e?i.length>0&&!i.is(":first-child")&&i.prev(".task-name").addClass("te-focused"):-1===e&&(i.length>0?i.is(":last-child")?i.addClass("te-focused"):i.next(".task-name").addClass("te-focused"):jQuery(".task-name:first-child",t).addClass("te-focused"))}},c=function(t,n){var o="",a=i.val(),r=!1,l=jQuery("#projectNew_newTaskTips > .task-name.te-focused");"boolean"!=typeof t&&(t=!1),l.length>0?o=jQuery.trim(l.text()):"string"==typeof n&&""!=n.replace(/ /g,"")?o=jQuery.trim(n):"string"==typeof a&&""!=a.replace(/ /g,"")&&(o=jQuery.trim(a));for(var c=o.toLowerCase(),d=0,h=e.tasks.length;d<h;d++)e.tasks[d].toLowerCase()==c&&(r=!0);r||""==o||(e.tasks.push(o),s(),i.val(""),setTimeout((function(){i.focus()}),50),t&&u())},d=function(t){"string"==typeof t&&""!=t.replace(/ /g,"")&&-1!=e.tasks.indexOf(t)&&e.tasks.splice(e.tasks.indexOf(t),1),u()},u=function(){jQuery(".te-chip",t).remove();for(var o=0,s=e.tasks.length;o<s;o++){var l=jQuery(TECA.Gui.jhtml("chip/chip_body",{chipType:"task",hasLeadingIcon:!1,hasTrailingIcon:!0,trailingIcon:"iconeye-android-close",chipValue:e.tasks[o]}));jQuery(".te-chip-trailing-icon",l).on("click",(function(){d(jQuery(this).prev(".te-chip-name").text())})),l.on("click",(function(){var e=jQuery(".te-chip-name",jQuery(this)).text();d(e),setTimeout((function(){i.val(e),a(),r()}),50)})),n.before(l)}(t.data("flag-height")&&t.data("flag-height")!=t.outerHeight()||!t.data("flag-height"))&&(e.fixHeight(),t.data("flag-height",t.outerHeight()))};TECA.Task.model.loadTaskList((function(n){for(var o=[],d=0,h=n.length;d<h;d++)-1===o.indexOf(n[d].taskName.toLowerCase())&&(e.cacheArrays.tasks.push(n[d].taskName),o.push(n[d].taskName.toLowerCase()));e.tasks.length>0&&u(),i.on("focus",(function(){t.addClass("te-focused")})).on("blur",(function(){t.removeClass("te-focused"),setTimeout((function(){s()}),50)})).on("keydown",(function(t){8==t.which&&""==i.val()?function(){if(e.tasks.length>0){var t=e.tasks.pop();u(),setTimeout((function(){i.val(t),a()}),50)}}():13==t.which?c(!0):38==t.which?(t.preventDefault(),l(1)):40==t.which?(t.preventDefault(),l(-1)):9!=t.which&&27!=t.which||s()})).on("keyup",(function(e){a();-1==[9,13,16,27,38,40].indexOf(e.which)&&r()})).on("_copyForceRender",(function(){u()})),t.on("click",(function(){i.focus()})),jQuery(".moduleCont_tasks").on("focusin",(function(){r()})),t.data("flag-height",t.outerHeight())}))},initUsersModule:function(){var e=this,t=jQuery(".formGroupTeamMembers",this.htmlBody),i=jQuery(".moduleCont_users",t),n=jQuery(".moduleCont_gmGroup",t),o=jQuery('input[name="projectNew_addUser"]',i),a=o.parents(".newUserInputCont"),r=10,s=jQuery('select[name="projectNew_addGroup"]',t),l=function(){jQuery(".ghost-content",a).text(o.val()),r=parseFloat(a.width()+10),o.css("width",r+"px")},c=function(){var t=[],n=jQuery("#projectNew_newUserTips"),a=o.val(),r=a.toLowerCase();if("string"==typeof a&&a.length>=1){for(var s=0,l=e.cacheArrays.userNames.length;s<l;s++)-1!=e.cacheArrays.userNames[s].toLowerCase().indexOf(r)&&-1==e.users.indexOf(e.cacheArrays.users[s])&&TECA.User.model.loadUserListItem(e.cacheArrays.users[s],(function(i){-1==e.groups.indexOf(i.groupId)&&t.push(i)}));if(t.length>0){t.sort(firstBy((function(e,t){return e.name.toLowerCase().indexOf(r)>t.name.toLowerCase().indexOf(r)?1:e.name.toLowerCase().indexOf(r)<t.name.toLowerCase().indexOf(r)?-1:0})).thenBy((function(e,t){return e.name.length>t.name.length?1:e.name.length<t.name.length?-1:0}))),t.splice(20),0==n.length&&(i.append('<div id="projectNew_newUserTips"></div>'),n=jQuery("#projectNew_newUserTips"));var c=o.offset().left-15,u=i.height();!TECA._.weareContentHosted&&c+n.width()>550?c=550-n.width()-30:TECA._.weareContentHosted&&(c=o.offset().left,u=o.offset().top+o.height(),n.css("position","fixed")),n.css("top",u+"px").css("left",c+"px"),n.html("");for(s=0,l=t.length;s<l;s++){(f=jQuery(TECA.Gui.jhtml("dialog/"+e.name+"_userTipsItem",{userId:t[s].userId,userName:t[s].name,userAvatar:t[s].avatar,isFocused:0==s}))).on("mousedown",(function(){h(!0,jQuery(this).data("user-id"))})),n.append(f)}}else n.length>0&&d()}else{for(s=0,l=e.cacheArrays.userNames.length;s<l;s++)-1==e.users.indexOf(e.cacheArrays.users[s])&&TECA.User.model.loadUserListItem(e.cacheArrays.users[s],(function(i){-1==e.groups.indexOf(i.groupId)&&t.push(i)}));if(t.length>0){t.sort(firstBy((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0}))),t.splice(20),0==n.length&&(i.append('<div id="projectNew_newUserTips"></div>'),n=jQuery("#projectNew_newUserTips"));c=o.offset().left-15,u=i.height();!TECA._.weareContentHosted&&c+n.width()>550?c=550-n.width()-30:TECA._.weareContentHosted&&(c=o.offset().left,u=o.offset().top+o.height(),n.css("position","fixed")),n.css("top",u+"px").css("left",c+"px"),n.html("");for(s=0,l=t.length;s<l;s++){var f;(f=jQuery(TECA.Gui.jhtml("dialog/"+e.name+"_userTipsItem",{userId:t[s].userId,userName:t[s].name,userAvatar:t[s].avatar,isFocused:0==s}))).on("mousedown",(function(){h(!0,jQuery(this).data("user-id"))})),n.append(f)}}else n.length>0&&d()}},d=function(){jQuery("#projectNew_newUserTips").remove()},u=function(e){var t=jQuery("#projectNew_newUserTips");if(t.length>0){var i=jQuery(".te-user-item.te-focused",t);i.removeClass("te-focused"),1===e?i.length>0?i.is(":first-child")?i.addClass("te-focused"):i.prev(".te-user-item").addClass("te-focused"):jQuery(".te-user-item:last-child",t).addClass("te-focused"):-1===e&&(i.length>0?i.is(":last-child")?i.addClass("te-focused"):i.next(".te-user-item").addClass("te-focused"):jQuery(".te-user-item:first-child",t).addClass("te-focused"))}},h=function(t,i){var n=-1,a=jQuery("#projectNew_newUserTips > .te-user-item.te-focused");"boolean"!=typeof t&&(t=!1),void 0!==i?n=i:a.length>0&&(n=a.data("user-id")),n=""+n,-1==e.users.indexOf(n)&&n>0&&(e.users.push(n),d(),o.val(""),setTimeout((function(){o.focus()}),50),t&&p())},f=function(t){void 0!==t&&(t=""+t,-1!=e.users.indexOf(t)&&e.users.splice(e.users.indexOf(t),1)),p()},p=function(){jQuery(".tags-cont > .te-chip",i).remove();for(var t=0,n=e.users.length;t<n;t++)TECA.User.model.loadUserListItem(e.users[t],(function(e){var t=jQuery(TECA.Gui.jhtml("chip/chip_body",{chipType:"user",hasLeadingIcon:!0,isAvatar:!0,avatarSrc:e.avatar,hasTrailingIcon:!0,trailingIcon:"iconeye-android-close",chipValue:e.name,hasId:!0,chipId:e.userId}));jQuery(".te-chip-trailing-icon",t).on("click",(function(){f(jQuery(this).parent(".te-chip").data("chip-entity-id"))})),t.on("click",(function(){var e=jQuery(".te-chip-name",jQuery(this)).text();f(jQuery(this).data("chip-entity-id")),setTimeout((function(){o.val(e),l(),c()}),50)})),jQuery(".moduleCont_users").on("focusin",(function(){c()})),a.before(t)}));(i.data("flag-height")&&i.data("flag-height")!=i.outerHeight()||!i.data("flag-height"))&&(e.fixHeight(),i.data("flag-height",i.outerHeight())),jQuery(".moduleCont_users").on("focusin",(function(){c()}))},m=function(){var i=jQuery(".addGroupsCont",t),n=[],o="";if(s.prop("disabled",!0),i.removeClass("active"),TECA.User.model.loadGroupList((function(t){for(var i=0,o=t.length;i<o;i++)-1==e.groups.indexOf(t[i].groupId)&&n.push(t[i])})),n.length>0){s.html("");for(var a=0,r=n.length;a<r;a++)o+='<option value="'+n[a].groupId+'"',0==n[a].userCount&&(o+=' data-content="'+n[a].name+"<span class='bt-select-addtxt-menuonly'> no members</span><span class='bt-select-addtxt-menuonly-holder w-60'></span>\" disabled"),o+=">"+n[a].name+"</option>";s.html(o).prop("disabled",!1).selectpicker("refresh"),i.addClass("active")}},g=function(t){void 0!==t&&(t=""+t,-1!=e.groups.indexOf(t)&&e.groups.splice(e.groups.indexOf(t),1)),y(),m()},v=function(e,t){for(var n=jQuery(".groups-cont",i),o=jQuery(".newGroupTag",n),a=null,r=0,s=o.length;r<s;r++)if(jQuery(o[r]).data("group-id")==e){a=jQuery(o[r]);break}if(a){var l=jQuery(".te-chip",a);for(r=0,s=l.length;r<s;r++){var c=jQuery(l[r]).data("chip-entity-id");c!=t&&h(!1,c)}g(e),p()}},y=function(){var t=jQuery(".groups-cont",i);jQuery(".newGroupTag",t).remove();for(var n=0,o=e.groups.length;n<o;n++){var a=[];TECA.User.model.loadGroupListItem(e.groups[n],(function(i){TECA.User.model.loadUserList((function(n){for(var o=0,r=n.length;o<r;o++)n[o].groupId==i.groupId&&1==n[o].enabled&&a.push(n[o]);var s=jQuery(TECA.Gui.jhtml("dialog/"+e.name+"_newGroupTag",{groupId:i.groupId,groupName:i.name,hasGroupControls:!0}));for(o=0,r=a.length;o<r;o++)jQuery(".groupMembers",s).append(TECA.Gui.jhtml("chip/chip_body",{chipType:"group-user",hasLeadingIcon:!0,isAvatar:!0,avatarSrc:a[o].avatar,hasTrailingIcon:!0,trailingIcon:"iconeye-android-close",chipValue:a[o].name,hasId:!0,chipId:a[o].userId}));jQuery(".icon-removeGroup",s).on("click",(function(){g(jQuery(this).parents(".newGroupTag").data("group-id"))})),jQuery(".te-chip",s).on("click",(function(){v(jQuery(this).parents(".newGroupTag").data("group-id"),jQuery(this).data("chip-entity-id"))})),t.append(s)}))}))}e.fixHeight()};if(this.userIsAdmin)TECA.User.model.loadUserList((function(n){if(e.users.push(""+TECA._.user.id),n.length>1){t.addClass("active"),e.fixHeight();for(var a=0,r=n.length;a<r;a++)1==n[a].enabled&&(e.cacheArrays.users.push(n[a].userId),e.cacheArrays.userNames.push(n[a].name));e.users.length>0&&p(),o.on("focus",(function(){i.addClass("te-focused")})).on("blur",(function(){i.removeClass("te-focused"),setTimeout((function(){d()}),50)})).on("keydown",(function(t){8==t.which&&""==o.val()?function(){if(e.users.length>0){var t=e.users.pop();p(),TECA.User.model.loadUserListItem(t,(function(e){setTimeout((function(){o.val(e.name),l()}),50)}))}}():13==t.which?h(!0):38==t.which?(t.preventDefault(),u(1)):40==t.which?(t.preventDefault(),u(-1)):9!=t.which&&27!=t.which||d()})).on("keyup",(function(e){l();-1==[9,13,16,27,38,40].indexOf(e.which)&&c()})).on("_copyForceRender",(function(){p()})),i.on("click",(function(){o.focus()})),jQuery("name[projectNew_addUser]").on("focusin",(function(){c()})),i.data("flag-height",i.outerHeight()),s.length>0&&(e.groups.length>0&&y(),m(),s.on("change",(function(){!function(){var t=s.val(),i=!1,n=[];if(t>0&&-1==e.groups.indexOf(t)){e.groups.push(t);for(var a=0,r=e.users.length;a<r;a++)TECA.User.model.loadUserListItem(e.users[a],(function(e){e.groupId==t&&(i=!0,n.push(e.userId))}));if(s.val(-1),m(),y(),i){for(a=0,r=n.length;a<r;a++)-1!=e.users.indexOf(n[a])&&e.users.splice(e.users.indexOf(n[a]),1);p(),setTimeout((function(){o.focus()}),50)}}}()})).on("_copyForceRender",(function(){y(),m()})))}}));else if(this.userIsGM&&n.length>0){e.groups.push(TECA._.user.groupId);var b=[];TECA.User.model.loadGroupListItem(TECA._.user.groupId,(function(i){TECA.User.model.loadUserList((function(o){for(var a=0,r=o.length;a<r;a++)o[a].groupId==i.groupId&&1==o[a].enabled&&b.push(o[a]);var s=jQuery(TECA.Gui.jhtml("dialog/"+e.name+"_newGroupTag",{groupId:i.groupId,groupName:i.name,hasGroupControls:!1}));for(a=0,r=b.length;a<r;a++)jQuery(".groupMembers",s).append(TECA.Gui.jhtml("chip/chip_body",{chipType:"group-user",hasLeadingIcon:!0,isAvatar:!0,avatarSrc:b[a].avatar,hasTrailingIcon:!1,chipValue:b[a].name,hasId:!0,chipId:b[a].userId}));n.html(s),t.addClass("active"),e.fixHeight()}))}))}},initClientSelect:function(){var e=jQuery('select[name="projectNew_client"]',this.htmlBody),t=function(){TECA.Gui.selectpicker.init({type:"client",target:e,showNoOption:!0,canCreateEntity:!1,onPopulateComplete:function(t){e.selectpicker("refresh")}})};t(),jQuery("body").on("TEDataUpdate_clientList",(function(){t()}))},checkIfProjectNameIsAlreadyUsed:function(){var e=jQuery('input[name="projectNew_name"]',this.htmlBody);if(e.length>0){e.tooltip("destroy").parents(".form-group").removeClass("invalid-group");var t=e.val(),i=!1;""!=t.replace(/ /g,"")&&(t=t.trim().toLowerCase(),TECA.Project.model.loadAllProjectList((function(e){for(var n=0,o=e.length;n<o;n++)if(e[n].projectName.toLowerCase()==t){i=!0;break}})),i&&e.tooltip({container:"#timeneye_widget_cont",placement:"top",title:"This project name is already in use",template:'<div class="tooltip tooltip-validation tooltip-validation-danger" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}).tooltip("show").parents(".form-group").addClass("invalid-group"))}},save:function(){var e,t=this,i=jQuery('input[name="projectNew_name"]',this.htmlBody),n=jQuery('input[name="projectNew_color"]',this.htmlBody),o=jQuery('select[name="projectNew_client"]',this.htmlBody),a=jQuery('input[name="projectNew_budgetHours"]',this.htmlBody),r=jQuery("#projectNew_isBillable",this.htmlBody),s=jQuery("#projectNew_isPublic",this.htmlBody),l=jQuery('input[name="projectNew_hourlyRate"]',this.htmlBody);e=!0,jQuery(".form-group",t.htmlBody).removeClass("invalid-group"),""==i.val().replace(/ /g,"")&&("boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?TECA.Gui.message.danger("Project name cannot be left empty"):TECA.Gui.message.push({type:"danger",autoHide:!0,duration:1e4,text:"Project name cannot be left empty"}),i.parents(".form-group").addClass("invalid-group"),e=!1),0==t.tasks.length&&("boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?TECA.Gui.message.danger("Every project must have at least one phase"):TECA.Gui.message.push({type:"danger",autoHide:!0,duration:1e4,text:"Every project must have at least one phase"}),jQuery(".moduleCont_tasks",t.htmlBody).parents(".form-group").addClass("invalid-group"),e=!1),0==t.users.length&&0==t.groups.length&&s&&!s.is(":checked")&&("boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?TECA.Gui.message.danger("Every project must have at least one team member"):TECA.Gui.message.push({type:"danger",autoHide:!0,duration:1e4,text:"Every project must have at least one team member"}),jQuery(".moduleCont_users",t.htmlBody).parents(".form-group").addClass("invalid-group"),e=!1),e||TECA.Gui.message.update(),e&&TECA._.user.id>0&&(TECA.Gui.feedback.loading(this.htmlBody),TECA.apiRequest("createProject",{projectName:i.val(),tasks:JSON.stringify(t.tasks),color:n.val(),clientId:o.val(),budgetHours:a.val(),isBillable:r.is(":checked")?1:0,isPublic:s&&s.is(":checked")?1:0,hourlyRate:l.val(),groups:t.groups,users:t.users},(function(e){if("string"==typeof e)"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e),TECA.Gui.feedback.close(t.htmlBody)):TECA.Gui.feedback.danger(t.htmlBody,e);else if(e.code)"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e.description),TECA.Gui.feedback.close(t.htmlBody)):TECA.Gui.feedback.danger(t.htmlBody,e.description);else{e=e.project[0];("function"==typeof t.onSuccess?function(){t.onSuccess(e),t.dialogClose()}:function(){TECA.Project.model.updateProjectList(),t.dialogClose()})(),"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?TECA.Gui.message.success("New project created"):TECA.Gui.feedback.success(t.htmlBody,"New project created")}})))}}),TECA.Dialog.dialogList.push({name:"registerTime",title:"Register time",icon:"iconeye-add-circle-1",width:550,cardtype:!0,htmlBody:void 0,notUnique:!0,hasTitleWidget:!0,isItemNew:!0,isItemEntry:!1,isItemTimer:!1,itemDate:"",itemHours:"",itemMinutes:"",taskId:-1,projectId:-1,todoId:-1,userId:-1,itemNotes:"",entryId:-1,timerId:-1,suggestionId:-1,tagId:[],integrationData:void 0,integrationHtml:!1,showClientDropdown:!1,noStartTimer:!1,hasOnlyOneAction:!1,entrylocked:!1,lockedBy:!1,lockedMessage:"",userName:"the linked member",mood:-1,isMoodEditable:!1,moodHasBeenUpdated:!1,lastFocusedFieldName:void 0,lastSelectedTaskName:"",showFromTo:!1,itemTimeFrom:"0000-00-00 00:00:00",itemHoursFrom:"",itemMinutesFrom:"",itemTimeTo:"0000-00-00 00:00:00",itemHoursTo:"",itemMinutesTo:"",overflowDays:0,timeoutDateChange:0,tags:[],selectedTags:[],onBeforeInit:function(){var e=this;if(this.showFromTo=TECA._.account.fromToFeatureEnabled,this.entryLocked=void 0!==this.entryLocked&&1==this.entryLocked||void 0!==this.locked&&1==this.locked,this.itemHoursFrom=parseInt(moment().format("H")),this.itemMinutesFrom=parseInt(moment().format("m")),this.itemHoursTo=parseInt(moment().format("H")),this.itemMinutesTo=parseInt(moment().format("m")),this.timerId>0){this.isItemTimer=!0,this.isItemNew=!1,this.title="Edit timer";var t=moment().subtract(60*parseInt(this.itemHours)+parseInt(this.itemMinutes),"minutes");this.itemHoursFrom=parseInt(moment(t).format("H")),this.itemMinutesFrom=parseInt(moment(t).format("m"))}else this.entryId>0&&(this.isItemEntry=!0,this.isItemNew=!1,this.entryLocked?(this.title="Locked entry",this.icon="iconeye-lock-1-f"):this.title="Edit entry","0000-00-00 00:00:00"!=this.itemTimeFrom&&(this.itemHoursFrom=parseInt(moment(this.itemTimeFrom).format("H")),this.itemMinutesFrom=parseInt(moment(this.itemTimeFrom).format("m"))),"0000-00-00 00:00:00"!=this.itemTimeTo&&(this.itemHoursTo=parseInt(moment(this.itemTimeTo).format("H")),this.itemMinutesTo=parseInt(moment(this.itemTimeTo).format("m"))));0==this.itemHours&&(this.itemHours=""),0==this.itemMinutes&&(this.itemMinutes=""),void 0===this.itemDate||null==this.itemDate||"string"==typeof this.itemDate&&""==this.itemDate.replace(/ /g,"")?(this.itemDate=new Date,this.isItemNew&&void 0!==TECA.Entry._.lastEntryNewDate&&(this.itemDate=TECA.Entry._.lastEntryNewDate)):this.isItemTimer||this.itemDate!=moment().format("YYYY-MM-DD")&&(this.noStartTimer=!0),null!=this.integrationData&&"object"==typeof this.integrationData&&"string"==typeof this.integrationData.integration&&"string"==typeof this.integrationData.text&&""!=this.integrationData.text.replace(/ /g,"")&&(this.integrationHtml=TECA.Integration.getSourceHtml(this.integrationData),this.integrationLink="object"==typeof this.integrationData&&"string"==typeof this.integrationData.url&&""!=this.integrationData.url.replace(/ /g,"")&&this.integrationData.url),this.itemDate=TECA.Gui.newFormatDate(this.itemDate),void 0!==TECA._.user.settings.registerTimeClientFilter&&1==TECA._.user.settings.registerTimeClientFilter&&(this.showClientDropdown=!0),this.isPrimaryActionTimer="timer"==TECA._.user.settings.registerTimePrimaryAction&&!this.noStartTimer,this.isUserAdmin="object"==typeof TECA._.user&&1==TECA._.user.isAdmin,this.isUserGM=1==TECA._.user.isGM&&TECA._.user.groupId>0,this.hasUserSelect=this.isUserAdmin&&(1==TECA._.account.adminNewEntryForOthers||this.userId>0&&this.userId!=TECA._.user.id),this.hasUserInfo=this.userId>0&&this.userId!=TECA._.user.id,(this.isItemNew&&this.noStartTimer||!this.isItemNew&&this.isItemEntry)&&(this.hasOnlyOneAction=!0),"approval"==this.lockedBy&&(this.lockedMessage="<p>This entry has been already approved and therefore cannot be manually edited without withdrawing the approval.</p>"),"date"==this.lockedBy?this.lockedMessage="<p>All entries older than <b>"+TECA.Gui.newFormatDate(TECA._.account.prosett_entriesLock_date,!0)+"</b> are locked and can be edited only by admins.</p>":"apionly"==this.lockedBy?this.lockedMessage="<p>The linked project is <b>API only</b> and the entry can be edited only by admins.</p>":"membership"==this.lockedBy&&(this.lockedMessage="<p>The linked phase/project has been archived, or <b>"+this.userName+"</b> may have been removed from the project.</p>"),this.isMoodModeEnabled=1==TECA._.account.moodEnabled&&(this.isItemNew||this.isItemEntry&&this.userId==TECA._.user.id||this.isItemTimer),this.showMoodButtons=this.isMoodModeEnabled&&this.isItemNew,this.isMoodSet=void 0!==this.mood&&this.mood>0,this.isMoodSet&&this.isItemTimer&&(this.isMoodEditable=!0),"object"==typeof this.tagId&&"number"==typeof this.tagId.length&&this.tagId.length>0&&this.tagId.forEach((function(t,i){e.tagId[i]=t.toString()})),TECA.Content.integrations[this.integrationData.integration]&&"function"==typeof TECA.Content.integrations[this.integrationData.integration].getOptFunctions?this.optFunctions=TECA.Content.integrations[this.integrationData.integration].getOptFunctions():this.optFunctions={},"function"==typeof this.optFunctions.onInit&&this.optFunctions.onInit()},initBody:function(){var e=this,t=jQuery("body");this.htmlBody=jQuery(TECA.Gui.jhtml("registerTime/body",_.extend({showInfo:TECA._.user.isAdmin,hasTags:TECA.Tag.model.hasTags(),showTags:TECA._.user.isAdmin||TECA.Tag.model.hasTags()},this))),this.projectId>0&&jQuery('select[name="projectId"]',this.htmlBody).length>0&&jQuery('select[name="projectId"]',this.htmlBody).data("value",this.projectId),this.taskId>0&&jQuery('select[name="taskId"]',this.htmlBody).length>0&&jQuery('select[name="taskId"]',this.htmlBody).data("value",this.taskId),this.userId>0&&jQuery('select[name="userId"]',this.htmlBody).length>0&&jQuery('select[name="userId"]',this.htmlBody).data("value",this.userId),e.todoId>0&&jQuery('select[name="todoId"]',this.htmlBody).length>0&&jQuery('select[name="todoId"]',this.htmlBody).data("value",this.todoId),t.one("dialog_"+this.name+"_open",(function(){e.entryLocked||jQuery("select",e.htmlBody).selectpicker(),jQuery('*[data-toggle="tooltip"]',e.htmlBody).tooltip(),e.initForm()}))},initForm:function(){var e=this,t=jQuery(".registerTime_formCont",this.htmlBody),i=jQuery('input[name="itemHours"]',t),n=jQuery('input[name="itemMinutes"]',t),o=jQuery('input[name="itemHoursFrom"]',t),a=jQuery('input[name="itemMinutesFrom"]',t),r=jQuery('input[name="itemHoursTo"]',t),s=jQuery('input[name="itemMinutesTo"]',t);e.isItemTimer&&e.showFromTo&&(i.attr("disabled",!0),n.attr("disabled",!0),r.attr("disabled",!0),s.attr("disabled",!0));var l,c,d,u=function(i,n){TECA.Project.model.loadAllProjectList((function(o){!function(o){var a=jQuery('select[name="projectId"]',t),r=jQuery('select[name="userId"]',e.htmlDialog),s='<option value="-1" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;No selection" title="No selection">No selection</option>',l="",c="",d="0000-00-00 00:00:00",u=-1,h=0,f=[],p=r.length>0?r.val():e.userId<0?TECA._.user.id:e.userId;(e.isUserAdmin||e.isUserGM)&&(s+='<option value="newItem" class="strong" data-content="<i class=\'iconeye iconeye-add-circle-1-f te-icon-newitem\'></i> &nbsp;Create a new project">Create a new project</option>'),s+='<option data-divider="true"></option>',a.attr("disabled",!1);for(var m=0,g=o.length;m<g;m++)(1==o[m].active||o[m].projectId==e.projectId)&&(void 0===n||n<=0||n>0&&o[m].clientId==n)&&(e.entryLocked&&o[m].projectId==e.projectId||(void 0===o[m].users||"object"==typeof o[m].users&&0==o[m].users.length)&&1==o[m].isMember||"object"==typeof o[m].users&&o[m].users.length>0&&o[m].users.indexOf(""+p)>-1)&&0==parseInt(o[m].apiOnly)&&(h++,o[m].lastUsed>d&&(d=o[m].lastUsed,u=o[m].projectId),1==parseInt(o[m].userIsFavorited)?l+='<option value="'+o[m].projectId+"\" data-content=\"<i class='iconeye iconeye-vote-star-f te-icon-fav'></i> &nbsp;"+o[m].projectName+'" title="'+o[m].projectName+'">'+o[m].projectName+"</option>":c+='<option value="'+o[m].projectId+'">'+o[m].projectName+"</option>",f.push({projectId:o[m].projectId,name:o[m].projectName}));if(""!=l&&(l+='<option data-divider="true"></option>'),e.similarityEnabled&&"object"==typeof e.integrationData){var v=!1;if(e.integrationData.projectId)for(m=0,g=f.length;m<g;m++)if(f[m].integrationCode==e.integrationData.integration&&f[m].integrationProjectId==e.integrationData.projectId){a.data("value",f[m].projectId),v=!0;break}if(!v&&"string"==typeof e.integrationData.projectName){var y=0,b={id:-1,vote:0};for(m=0,g=f.length;m<g;m++)(y=TECA.Register.voteSimilarity(e.integrationData.projectName,jQuery("<div/>").html(f[m].name).text()))>b.vote&&(b.id=f[m].projectId,b.vote=y);b.id>0&&a.data("value",b.id)}}void 0!==n&&n>0&&0==h?(a.html('<option value="-1">No projects for the selected Client</option>'),a.attr("disabled",!0)):a.html(s+l+c),""!=a.data("value")&&parseInt(a.data("value"))>0?(a.val(a.data("value")),a.data("value","")):-1==e.projectId&&u>0&&a.val(u),e.bootstrapSelect?(a.trigger("change"),e.entryLocked&&!e.htmlDialog.hasClass("edit-locked-entry")&&a.attr("disabled",!0),a.selectpicker("refresh"),"boolean"==typeof i&&i&&a.siblings(".btn.dropdown-toggle").focus()):(a.trigger("change"),e.entryLocked&&!e.htmlDialog.hasClass("edit-locked-entry")?a.attr("disabled",!0):a.focus()),a.selectpicker("refresh")}(o)}))},h=function(i){var n=jQuery('select[name="taskId"]',t),o='<option value="-1">Select a project first</option>',a=-1,r=[];if(-1==e.taskId&&TECA.Project.model.loadAllProjectList((function(e){for(var t=0,n=e.length;t<n;t++)e[t].projectId==i&&(a=parseInt(e[t].lastUsedTaskId))})),n.attr("disabled",!1),void 0!==i&&parseInt(i)>0?TECA.Task.model.loadTaskList((function(t){var a=0,s=-1;o='<option value="-1" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;No selection" title="No selection">No selection</option>',(e.isUserAdmin||1==TECA._.user.isPM&&-1!=TECA._.user.managedProjects.active.indexOf(parseInt(i)))&&(o+='<option value="newItem" class="strong" data-content="<i class=\'iconeye iconeye-add-circle-1-f te-icon-newitem\'></i> &nbsp;Create a new phase">Create a new phase</option>'),o+='<option data-divider="true"></option>';for(var l=0,c=t.length;l<c;l++)(t[l].projectId==i&&1==t[l].isOpen||e.entryLocked&&t[l].projectId==i&&t[l].taskId==e.taskId)&&(o+='<option value="'+t[l].taskId+'">'+t[l].taskName+"</option>",a++,s=t[l].taskId,r.push({taskId:t[l].taskId,name:t[l].taskName}));if(-1==e.taskId&&1==a)n.data("value",s);else if(e.similarityEnabled&&"object"==typeof e.integrationData&&"string"==typeof e.integrationData.taskName){for(var d=0,u={id:-1,vote:0},h=e.integrationData.taskName.split(","),f=0,p=h.length;f<p;f++){for(l=0,c=r.length;l<c;l++)(d=TECA.Register.voteSimilarity(h[f],TECA.Gui.decodeHtml(r[l].name)))>u.vote&&(u.id=r[l].taskId,u.vote=d);if(u.id>0)break}u.id>0&&n.data("value",u.id)}})):n.attr("disabled",!0),!(parseInt(n.data("value"))>0)){var s=!1;if(!e.isItemNew&&""!=e.lastSelectedTaskName)jQuery(o).each((function(){jQuery(this).text().toLowerCase()==e.lastSelectedTaskName&&(n.data("value",jQuery(this).val()),s=!0)}));!s&&a>0&&n.data("value",a)}n.html(o),""!=n.data("value")&&parseInt(n.data("value"))>0&&(n.val(n.data("value")),n.data("value","")),n.trigger("change"),e.entryLocked&&!e.htmlDialog.hasClass("edit-locked-entry")&&n.attr("disabled",!0),e.bootstrapSelect&&n.selectpicker("refresh")},f=function(i){TECA.Client.model.loadClientList((function(n){var o=jQuery('select[name="clientId"]',t),a='<option value="-1">There are no clients</option>';if(n.length>0){a='<option value="-1" class="strong" data-content="<i class=\'iconeye iconeye-check-circle-2 te-icon-all\'></i> &nbsp;All clients" title="All">All clients</option>',a+='<option data-divider="true"></option>';for(var r=0,s=n.length;r<s;r++)a+='<option value="'+n[r].clientId+'"',1==TECA._.user.isAdmin&&0==n[r].projectsCount&&(a+=' data-content="'+n[r].name+"<span class='bt-select-addtxt-menuonly'>no projects</span><span class='bt-select-addtxt-menuonly-holder w-60'></span>\" title=\""+n[r].name+'" disabled'),a+=">"+n[r].name,a+="</option>";o.attr("disabled",!1)}else o.attr("disabled",!0);o.html(a),o.trigger("change"),e.entryLocked&&!e.htmlDialog.hasClass("edit-locked-entry")&&o.attr("disabled",!0),o.selectpicker("refresh"),"boolean"==typeof i&&i&&o.siblings(".btn.dropdown-toggle").focus()}))},p=function(){var t=jQuery('.form-group[data-section-id="entity-mood"]',e.htmlBody),i="You felt <strong>"+TECA.Gui._.moodSmileyNames[e.mood]+"</strong> while working on this"+(e.isItemTimer?" timer":" entry");if(t.length>0){jQuery(".registerTime_currentMood_cont",t).remove();var n=jQuery(TECA.Gui.jhtml("registerTime/moodSection",{mood:e.mood,moodText:i,isMoodEditable:e.isMoodEditable}));e.isMoodEditable&&jQuery('a[data-href="#edit-mood"]',n).on("click",(function(){return e.moodHasBeenUpdated=!0,e.mood=parseInt(jQuery(this).data("new-mood")),p(),!1})),t.append(n)}};e.entryLocked||TECA.Register.initDatepicker(jQuery(".registerTime_formCont",this.htmlBody)),jQuery('input[name="itemHours"],input[name="itemMinutes"],input[name="itemHoursFrom"],input[name="itemMinutesFrom"],input[name="itemHoursTo"],input[name="itemMinutesTo"]',t).keydown((function(e){!([8,9,13,16,17,18,37,38,39,40,46,91,93].indexOf(e.which)<0)||e.which>=48&&e.which<=57||e.which>=96&&e.which<=105||e.ctrlKey||e.metaKey||e.preventDefault()})),e.showFromTo&&(jQuery('input[name="itemHoursFrom"], input[name="itemHoursTo"]',t).on("change",(function(e){var t=jQuery(this);parseInt(t.val())>23&&t.val(23).trigger("change")})),jQuery('input[name="itemMinutesFrom"], input[name="itemMinutesTo"]',t).on("change",(function(e){var t=jQuery(this);parseInt(t.val())>59&&t.val(59).trigger("change")})),i.on("change",(function(t){var i,s=jQuery(this).val().replace(/ /g,""),l=o.val().replace(/ /g,""),c=a.val().replace(/ /g,""),d=n.val().replace(/ /g,"");""==l&&""==c||(l=""==l?0:parseInt(l),s=""==s?0:parseInt(s),d=""==d?0:parseInt(d),c=""==c?0:parseInt(c),i=(l+s+Math.floor((d+c)/60))%24,e.overflowDays=Math.floor((l+s+Math.floor((d+c)/60))/24),r.val(i))})),n.on("change",(function(t){var n,l,c=jQuery(this).val().replace(/ /g,""),d=i.val().replace(/ /g,""),u=o.val().replace(/ /g,""),h=a.val().replace(/ /g,"");""==u&&""==h||((n=(h=""==h?0:parseInt(h))+(c=""==c?0:parseInt(c)))>59&&(d=""==d?0:parseInt(d),l=((u=""==u?0:parseInt(u))+d+Math.floor(n/60))%24,e.overflowDays=Math.floor((u+d+Math.floor(n/60))/24),r.val(l),n%=60),s.val(n))})),r.on("change",(function(t){var l,c,d,u=o.val().replace(/ /g,""),h=a.val().replace(/ /g,""),f=r.val().replace(/ /g,""),p=s.val().replace(/ /g,"");f<24&&(u=""==u?0:parseInt(u),h=""==h?0:parseInt(h),f=""==f?0:parseInt(f),l=((p=""==p?0:parseInt(p))-h+60)%60,c=f-u+Math.floor((p-h)/60)<0?1:0,d=(24+(f-u+Math.floor((p-h)/60)))%24,e.overflowDays>0&&(d+=24*+(e.overflowDays-c)),n.val(l),i.val(d))})),s.on("change",(function(t){var l,c,d,u=o.val().replace(/ /g,""),h=a.val().replace(/ /g,""),f=r.val().replace(/ /g,""),p=s.val().replace(/ /g,"");p<60&&(u=""==u?0:parseInt(u),h=""==h?0:parseInt(h),f=""==f?0:parseInt(f),l=((p=""==p?0:parseInt(p))-h+60)%60,c=f-u+Math.floor((p-h)/60)<0?1:0,d=(24+(f-u+Math.floor((p-h)/60)))%24,e.overflowDays>0&&(d+=24*+(e.overflowDays-c)),n.val(l),i.val(d))})),o.on("change",(function(t){var l,c,d,u=o.val().replace(/ /g,""),h=a.val().replace(/ /g,""),f=r.val().replace(/ /g,""),p=s.val().replace(/ /g,"");u<24&&(u=""==u?0:parseInt(u),h=""==h?0:parseInt(h),f=""==f?0:parseInt(f),l=((p=""==p?0:parseInt(p))-h+60)%60,c=f-u+Math.floor((p-h)/60)<0?1:0,d=(24+(f-u+Math.floor((p-h)/60)))%24,e.overflowDays>0&&(d+=24*+(e.overflowDays-c)),n.val(l),i.val(d))})),a.on("change",(function(t){var l,c,d,u=o.val().replace(/ /g,""),h=a.val().replace(/ /g,""),f=r.val().replace(/ /g,""),p=s.val().replace(/ /g,"");h<60&&(u=""==u?0:parseInt(u),h=""==h?0:parseInt(h),f=""==f?0:parseInt(f),l=((p=""==p?0:parseInt(p))-h+60)%60,c=f-u+Math.floor((p-h)/60)<0?1:0,d=(24+(f-u+Math.floor((p-h)/60)))%24,e.overflowDays>0&&(d+=24*+(e.overflowDays-c)),n.val(l),i.val(d))}))),jQuery('select[name="projectId"]',t).on("change",(function(){h(jQuery(this).val())})),jQuery('select[name="taskId"]',t).on("change",(function(){!e.isItemNew&&jQuery(this).val()>0&&(e.lastSelectedTaskName=jQuery(this).find('option[value="'+jQuery(this).val()+'"]').text().toLowerCase())})),e.showClientDropdown&&jQuery('select[name="clientId"]',t).on("change",(function(){u(!1,jQuery(this).val())})),this.hasUserSelect&&jQuery('select[name="userId"]',e.htmlDialog).on("change",(function(){e.showClientDropdown?f(!0):u(!0)})),jQuery('select[name="projectId"]',t).on("change",(function(){TECA.Project.model.loadProjectListItem(jQuery('select[name="projectId"]',t).val(),(function(e){var t=jQuery(".select-todo-container");!_.isNil(e)&&e.trackTasks?jQuery(".integration-info-container").length||t.removeClass("hidden"):t.addClass("hidden")})),"newItem"==jQuery(this).val()&&(jQuery(this).val("-1").trigger("change"),e.entryLocked||jQuery(this).selectpicker("refresh"),TECA.Dialog.init({name:"projectNew",uniqueId:"registerTime_projectSelect",onSuccess:function(i){var n=function(){TECA.Task.model.loadTaskList((function(){jQuery('select[name="projectId"]',t).data("value",i.data.projectId),e.similarityEnabled=!1,u(!0)}),!0)};-2==e.userId||e.userId==TECA._.user.id?TECA.Project.model.loadProjectList((function(){n()}),!0):TECA.Project.model.loadAllProjectList((function(){n()}),!0)}}))})),jQuery('select[name="taskId"]',t).on("change",(function(){if("newItem"==jQuery(this).val()){jQuery(this).val("-1").trigger("change"),e.entryLocked||jQuery(this).selectpicker("refresh");var i=jQuery('select[name="projectId"]',t);TECA.Dialog.init({name:"taskNew",projectId:i.val(),targetProjectName:jQuery('option[value="'+i.val()+'"]',i).text(),saveSuccess:function(e){TECA.Task.model.loadTaskList((function(){jQuery('select[name="taskId"]',t).data("value",e),h(jQuery('select[name="projectId"]',t).val())}),!0)}})}})),jQuery(".registerTime_btn_saveEntry, .registerTime_btn_saveLocked",e.htmlBody).on("click",(function(){var t=jQuery(this);return void 0!==t.data("entity-mood")?e.saveEntry(t.data("entity-mood")):e.saveEntry(),!1})),jQuery(".registerTime_btn_saveTimer",e.htmlBody).on("click",(function(){var t=jQuery(this);return void 0!==t.data("entity-mood")?e.saveTimer(t.data("entity-mood")):e.saveTimer(),!1})).on("mouseenter",(function(){e.htmlBody.parents(".te-dialog").addClass("going-to-save-timer")})).on("mouseleave",(function(){e.htmlBody.parents(".te-dialog").removeClass("going-to-save-timer")})).on("focus",(function(){e.htmlBody.parents(".te-dialog").addClass("going-to-save-timer")})).on("blur",(function(){e.htmlBody.parents(".te-dialog").removeClass("going-to-save-timer")})),jQuery(".registerTime_btn_storeTimer",e.htmlBody).on("click",(function(){var t=jQuery(this);return void 0!==t.data("entity-mood")?e.storeTimer(t.data("entity-mood")):e.storeTimer(),!1})),jQuery(".registerTime_btn_unlock",e.htmlBody).on("click",(function(){return TECA.Register.unlockRegisterTimeTemp(),!1})),jQuery('textarea[name="itemNotes"]',t).on("keypress",(function(e){e.stopPropagation()})),TECA.Gui.keyboard.helper_enter.push("dialogRegisterTime"+e.uniqueId,(function(t){"registerTime"==t.parents(".te-dialog").data("dialog-type")&&t.hasClass("keyComboEnabled")&&(e.showMoodButtons?e.openMoodKeyboard("primary"):jQuery(".registerTime_btn_combo_enter",e.htmlBody).trigger("click"))})),TECA.Gui.keyboard.helper_alt_enter.push("dialogRegisterTime"+e.uniqueId,(function(t){"registerTime"==t.parents(".te-dialog").data("dialog-type")&&t.hasClass("keyComboEnabled")&&(e.showMoodButtons?e.openMoodKeyboard("secondary"):jQuery(".registerTime_btn_combo_altEnter",e.htmlBody).trigger("click"))})),TECA.Gui.keyboard.helper_shift_enter.push("dialogRegisterTime"+e.uniqueId,(function(e){"registerTime"==e.parents(".te-dialog").data("dialog-type")&&e.attr("name")})),TECA.Gui.keyboard.helper_esc.push("dialogRegisterTime"+e.uniqueId,(function(){e.dialogClose()})),jQuery('input[name="itemDate"]',t).on("change",(function(){var t=jQuery(this);clearTimeout(e.timeoutDateChange),e.timeoutDateChange=setTimeout((function(){TECA.Register.updateTimerDateAlert(t.val()),TECA.Register.updateDistantDateAlert(t.val())}),100)})),jQuery('a[data-href="#edit-integration-info"]',e.htmlBody).on("click",(function(){jQuery(".integration-info-container").addClass("hidden"),jQuery(".select-todo-container").removeClass("hidden")})),jQuery('a[data-href="#cancel-edit-integration-info"]',e.htmlBody).on("click",(function(){jQuery(".integration-info-container").removeClass("hidden"),jQuery(".select-todo-container").addClass("hidden")})),jQuery('a[data-href="#remove-integration-info"]',e.htmlBody).on("click",(function(){if(e.isItemNew)TECA.Register.removeIntegrationInfo();else{var t="Are you sure you want to remove the integration info from this ";t+=(e.isItemEntry?"entry":"timer")+"?",t+="\nThis action will be applied immediately.",jQuery(".te-dialog-body",jQuery("#timeneye_widget_cont")).append('<div class="popup-focus"><div class="popup-remove-integration"><p>'+t+'</p><div class="row"><div class="col-xs-6" style="padding-right: 5px;"><button id="btnRemove-integration-cancel" class="btn btn-default btn-block">Cancel</button></div><div class="col-xs-6" style="padding-left: 5px;"><button id="btnRemove-integration-confirm" class="btn btn-warning btn-block">Confirm</button></div></div></div></div>'),jQuery("#btnRemove-integration-confirm").on("click",(function(){jQuery(".popup-focus",jQuery("#timeneye_widget_cont")).detach(),TECA.Register.removeIntegrationInfo()})),jQuery("#btnRemove-integration-cancel").on("click",(function(){jQuery(".popup-focus",jQuery("#timeneye_widget_cont")).detach()}))}return!1})),this.isMoodModeEnabled&&p(),this.hasUserSelect?(c=jQuery('select[name="userId"]',e.htmlDialog),d="",c.length>0&&TECA.User.model.loadUserList((function(t){d="";for(var i=0,n=t.length;i<n;i++)1==t[i].enabled&&(d+='<option value="'+t[i].userId+"\" data-content=\"<img class='bt-select-item-avatar' src='"+t[i].avatar+"'/> &nbsp; "+t[i].name,0==t[i].projectCount?d+="<span class='bt-select-addtxt-menuonly'>no projects</span><span class='bt-select-addtxt-menuonly-holder w-60'></span>\" title=\""+t[i].name+'" disabled':d+='"',d+=">"+t[i].name+"</option>");c.html(d),""!=e.userId&&parseInt(e.userId)>0?c.val(e.userId):c.val(TECA._.user.id),c.trigger("change"),e.entryLocked&&!e.htmlDialog.hasClass("edit-locked-entry")&&c.attr("disabled",!0),e.bootstrapSelect&&c.selectpicker("refresh")}))):(jQuery('select[name="userId"]',this.htmlDialog).remove(),jQuery(".te-dialog-title-widget .entry-user-info",this.htmlDialog).length>0&&(l=jQuery(".te-dialog-title-widget .entry-user-info",e.htmlDialog),void 0!==e.userId&&e.userId>0&&e.userId!=TECA._.user.id&&l.length>0&&TECA.User.model.loadUserListItem(e.userId,(function(e){l.html('<img src="'+e.avatar+'" /> <span>'+e.name+"</span>")}))),e.showClientDropdown?f(!0):u(!0)),e.initTasksModule(),TECA.Register.updateTimerDateAlert(jQuery('input[name="itemDate"]',t).val()),TECA.Gui.feedback.close(jQuery("#timeneye_widget_cont"))},initTasksModule:function(){var e=this,t=jQuery(".moduleCont_tags",this.htmlBody),i=jQuery('input[name="registerTime_addTag"]',t),n=i.parents(".newTagInputCont"),o=10,a=function(){jQuery(".ghost-content",n).text(i.val()),o=parseFloat(n.width()+10),i.css("width",o+"px")},r=function(){for(var n=[],o=jQuery("#registerTime_newTagTips"),a=i.val().toLowerCase(),r=i.offset().top+i.height(),l=200,d=0,u=e.tags.length;d<u;d++)-1!=_.indexOf(e.tagId,e.tags[d].tagId)||""!=a.replace(/ /g,"")&&-1==e.tags[d].name.toLowerCase().indexOf(a)||n.push(e.tags[d]);if(n.length>0){n.sort(firstBy((function(e,t){return e.name.toLowerCase().indexOf(a)>t.name.toLowerCase().indexOf(a)?1:e.name.toLowerCase().indexOf(a)<t.name.toLowerCase().indexOf(a)?-1:0})).thenBy((function(e,t){return e.name.length>t.name.length?1:e.name.length<t.name.length?-1:0}))),n.splice(20),n.sort(firstBy((function(e,t){return e.tagListId>t.tagListId?1:e.tagListId<t.tagListId?-1:0})).thenBy((function(e,t){return e.name.toLowerCase().indexOf(a)>t.name.toLowerCase().indexOf(a)?1:e.name.toLowerCase().indexOf(a)<t.name.toLowerCase().indexOf(a)?-1:0}))),0==o.length&&(t.append('<div id="registerTime_newTagTips"></div>'),o=jQuery("#registerTime_newTagTips")),o.html("");var h=-1;for(d=0,u=n.length;d<u;d++){h!=n[d].tagListId&&(h=n[d].tagListId,o.append(TECA.Gui.jhtml("registerTime/tagTipsHeaderItem",{tagId:n[d].tagId,tagName:n[d].name,tagListId:n[d].tagListId,tagListName:n[d].tagListName})));var f=jQuery(TECA.Gui.jhtml("registerTime/tagTipsItem",{tagId:n[d].tagId,tagName:n[d].name,tagListId:n[d].tagListId,tagListName:n[d].tagListName}));f.on("mousedown",(function(){c(!0,jQuery(this).data("tag-id"))})),o.append(f)}l=o.height(),jQuery(window).height()-r<l&&(r-=i.height()+15+l),o.css("top",r+"px").css("left",i.offset().left-15+"px")}else o.length>0&&s()},s=function(){jQuery("#registerTime_newTagTips").remove()},l=function(e){var t=jQuery("#registerTime_newTagTips");if(t.length>0){var i=jQuery(".tag-name.focused",t);i.removeClass("focused"),1===e?i.length>0&&!i.is(":first-child")&&i.prev(".tag-name").addClass("focused"):-1===e&&(i.length>0?i.is(":last-child")?i.addClass("focused"):i.next(".tag-name").addClass("focused"):jQuery(".tag-name:first-child",t).addClass("focused"))}},c=function(t,n){var o=null,a=(i.val(),jQuery("#registerTime_newTagTips > .tag-name.focused"));"boolean"!=typeof t&&(t=!1),a.length>0?o=_.find(e.tags,["name",_.trim(a.text())]):"number"==typeof n&&n>0&&(o=_.find(e.tags,["tagId",n.toString()])),_.isNil(o)||-1==_.indexOf(e.tagId,o.tagId)&&(e.tagId.push(o.tagId),s(),i.val(""),setTimeout((function(){i.focus()}),50),t&&u())},d=function(t){jQuery(".tooltip").remove(),e.tagId=_.without(e.tagId,t),u()},u=function(){var o,r;jQuery(".te-chip",t).remove();for(var s=0,l=e.tagId.length;s<l;s++)o=_.find(e.tags,["tagId",e.tagId[s].toString()]),r=jQuery(TECA.Gui.jhtml("tag/chip-tag",{chipType:"tag",hasId:!0,hasLeadingIcon:!1,hasTrailingIcon:!0,trailingIcon:"iconeye-android-close",chipValue:o.name,chipHeader:o.tagListName,color:o.color,tagId:o.tagId,isTextWhite:o.isTextWhite,tagListId:o.tagListId,tagListName:o.tagListName})),jQuery(".te-chip-trailing-icon",r).on("click",(function(){d(jQuery(this).parent(".te-chip").data("tag-id").toString())})),r.on("click",(function(){var t=_.find(e.tags,["tagId",jQuery(this).data("tag-id").toString()]);d(t.tagId),setTimeout((function(){i.val(t.name),a()}),50)})),n.before(r);jQuery('[data-toggle="tooltip"]').tooltip(),(t.data("flag-height")&&t.data("flag-height")!=t.outerHeight()||!t.data("flag-height"))&&(e.fixHeight(),t.data("flag-height",t.outerHeight()))};TECA.Tag.model.loadTags((function(n){e.tags=n,e.tagId.length>0&&u(),i.on("focus",(function(){t.addClass("focused")})).on("blur",(function(){t.removeClass("focused"),setTimeout((function(){s()}),50)})).on("keydown",(function(t){8==t.which&&""==i.val()?function(){if(e.tagId.length>0){var t=e.tagId.pop();u(),setTimeout((function(){var n=_.find(e.tags,["tagId",t.toString()]);i.val(n.name),a()}),50)}}():13==t.which?c(!0):38==t.which?(t.preventDefault(),l(1)):40==t.which?(t.preventDefault(),l(-1)):9!=t.which&&27!=t.which||s()})).on("keyup",(function(e){a();-1==[9,13,16,27,38,40].indexOf(e.which)&&r()})).on("_copyForceRender",(function(){u()})),t.on("click",(function(){i.focus()})),jQuery(".moduleCont_tags").on("focusin",(function(){r()})),t.data("flag-height",t.outerHeight())}))},getTimeFrom:function(){var e=jQuery(".registerTime_formCont",this.htmlBody),t=jQuery('input[name="itemDate"]',e).val()+" ";return""!=jQuery('input[name="itemHoursFrom"]',e).val()?t+=jQuery('input[name="itemHoursFrom"]',e).val()+":":t+="00:",""!=jQuery('input[name="itemMinutesFrom"]',e).val()?t+=jQuery('input[name="itemMinutesFrom"]',e).val()+":00":t+="00:00",t},openMoodKeyboard:function(e){var t=this,i=jQuery(".registerTime_mood_cont",this.htmlBody),n=jQuery(".form-control:focus",this.htmlBody),o=function(e){var n=5,a=jQuery(".mood-btn.focus",i),r=!0,s=!0;0==a.length&&(a=jQuery('.mood-btn[data-entity-mood="5"]',i)),jQuery(".mood-btn",i).removeClass("focus").trigger("mouseleave"),TECA.Gui.keyboard.helper_arrow_left.pop("dialogRegisterTime_moodKeyLeft_"+t.uniqueId),TECA.Gui.keyboard.helper_arrow_right.pop("dialogRegisterTime_moodKeyRight_"+t.uniqueId),TECA.Gui.keyboard.helper_enter.pop("dialogRegisterTime_moodKeyConfirm_"+t.uniqueId),TECA.Gui.keyboard.helper_esc.pop("dialogRegisterTime_moodKeyCancel_"+t.uniqueId),void 0!==e&&e>0?a.is(":last-child")?(s=!1,n=parseInt(a.data("entity-mood"))):n=parseInt(a.next(".mood-btn").data("entity-mood")):void 0!==e&&e<0&&(a.is(":first-child")?(r=!1,n=parseInt(a.data("entity-mood"))):n=parseInt(a.prev(".mood-btn").data("entity-mood"))),jQuery('.mood-btn[data-entity-mood="'+n+'"]',i).addClass("focus"),setTimeout((function(){jQuery('.mood-btn[data-entity-mood="'+n+'"]',i).trigger("mouseenter")}),100),r&&TECA.Gui.keyboard.helper_arrow_left.push("dialogRegisterTime_moodKeyLeft_"+t.uniqueId,(function(){o(-1)})),s&&TECA.Gui.keyboard.helper_arrow_right.push("dialogRegisterTime_moodKeyRight_"+t.uniqueId,(function(){o(1)})),TECA.Gui.keyboard.helper_enter.push("dialogRegisterTime_moodKeyConfirm_"+t.uniqueId,(function(){var e=jQuery(".mood-btn.focus",i);e.length>0&&(e.trigger("click"),"string"==typeof t.lastFocusedFieldName&&jQuery('.form-control[name="'+t.lastFocusedFieldName+'"]',t.htmlBody).focus(),TECA.Gui.keyboard.helper_enter.pop("dialogRegisterTime_moodKeyConfirm_"+t.uniqueId),TECA.Gui.keyboard.helper_esc.pop("dialogRegisterTime_moodKeyCancel_"+t.uniqueId),TECA.Gui.keyboard.helper_arrow_left.pop("dialogRegisterTime_moodKeyLeft_"+t.uniqueId),TECA.Gui.keyboard.helper_arrow_right.pop("dialogRegisterTime_moodKeyRight_"+t.uniqueId))})),TECA.Gui.keyboard.helper_esc.push("dialogRegisterTime_moodKeyCombo_"+t.uniqueId,(function(){"string"==typeof t.lastFocusedFieldName&&jQuery('.form-control[name="'+t.lastFocusedFieldName+'"]',t.htmlBody).focus(),jQuery(".mood-btn",i).removeClass("focus").trigger("mouseleave"),i.removeClass("focus"),TECA.Gui.keyboard.helper_esc.pop("dialogRegisterTime_moodKeyCancel_"+t.uniqueId),TECA.Gui.keyboard.helper_enter.pop("dialogRegisterTime_moodKeyConfirm_"+t.uniqueId),TECA.Gui.keyboard.helper_arrow_left.pop("dialogRegisterTime_moodKeyLeft_"+t.uniqueId),TECA.Gui.keyboard.helper_arrow_right.pop("dialogRegisterTime_moodKeyRight_"+t.uniqueId)}))};n.length>0&&(t.lastFocusedFieldName=n.attr("name"),n.trigger("blur")),jQuery(".registerTime_mood_cont",this.htmlBody).removeClass("focus"),jQuery(".mood-btn",this.htmlBody).removeClass("focus"),void 0===e&&(e="primary"),(i=i.length>1&&"secondary"==e?i.eq(1):i.eq(0)).addClass("focus"),o()},onCloseInternal:function(){this.tagId=[],TECA.Gui.keyboard.helper_esc.pop("dialogRegisterTime"+this.uniqueId),TECA.Gui.keyboard.helper_enter.pop("dialogRegisterTime"+this.uniqueId),TECA.Gui.keyboard.helper_shift_enter.pop("dialogRegisterTime"+this.uniqueId),TECA.Gui.keyboard.helper_shift_alt_enter.pop("dialogRegisterTime"+this.uniqueId),"function"==typeof this.optFunctions.onDialogClose&&this.optFunctions.onDialogClose()},saveEntry:function(e){var t=this,i=jQuery(".registerTime_formCont",this.htmlBody),n=jQuery('select[name="userId"]',this.htmlDialog),o="";if(TECA.Gui.validate(i)){TECA.Gui.feedback.loading(i),o="<strong>"+TECA.Gui.formatMins(TECA.Register.getFormMinutes(),!0)+"</strong> saved for <strong>"+jQuery('select[name="projectId"] > option[value="'+jQuery('select[name="projectId"]',i).val()+'"]',i).text()+"</strong>/<strong>"+jQuery('select[name="taskId"] > option[value="'+jQuery('select[name="taskId"]',i).val()+'"]',i).text()+"</strong>";var a=TECA._.user.id;n.length>0&&!n.is(":disabled")?a=n.val():void 0!==t.userId&&t.userId>0&&(a=t.userId),myRequestData={entryId:t.entryId,entryDate:moment(jQuery('input[name="itemDate"]',i).val(),TECA._.user.settings.dateFormat.toUpperCase()).format("YYYY-MM-DD"),minutes:TECA.Register.getFormMinutes(),userId:a,taskId:jQuery('select[name="taskId"]',i).val(),tagId:JSON.stringify(t.tagId),notes:jQuery('textarea[name="itemNotes"]',i).val(),source:jQuery("input.entryIntegrationCode",i).length>0?jQuery("input.entryIntegrationCode",i).val():"",sourceData:jQuery("input.entryIntegrationData",i).length>0?JSON.stringify(t.integrationData):"",mood:void 0!==e?e:t.moodHasBeenUpdated?t.mood:-1},this.showFromTo&&(myRequestData.entryTimeFrom=t.getTimeFrom()),TECA.apiRequest("saveEntry",myRequestData,(function(e){t.tagId=[],"string"==typeof e?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e),TECA.Gui.feedback.close(i)):TECA.Gui.feedback.danger(i,e):e.code?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e.description),TECA.Gui.feedback.close(i)):TECA.Gui.feedback.danger(i,e.description):(t.onCloseInternal(),"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?TECA.Gui.message.success(o,(function(){t.dialogClose()})):(jQuery("body").trigger("TEDataUpdate_timeEntries"),TECA.Gui.feedback.success(t.htmlDialog,o),TECA.Gui.body.showView("entries")))}))}},saveTimer:function(e,t){var i=this,n=jQuery(".registerTime_formCont",this.htmlBody),o={},a="",r="createTimer";jQuery('*[data-toggle="tooltip"]',this.htmlBody).tooltip("destroy"),TECA.Gui.validate(n,["itemHours","itemMinutes"])&&(TECA.Gui.feedback.loading(n),a=(i.timerId>0?"Updated timer for ":"Started timer for ")+"<strong>"+jQuery('select[name="projectId"] > option[value="'+jQuery('select[name="projectId"]',n).val()+'"]',n).text()+"</strong>/<strong>"+jQuery('select[name="taskId"] > option[value="'+jQuery('select[name="taskId"]',n).val()+'"]',n).text()+"</strong>",o={timerId:i.timerId,timerDate:moment(jQuery('input[name="itemDate"]',n).val(),TECA._.user.settings.dateFormat.toUpperCase()).format("YYYY-MM-DD"),projectId:jQuery('select[name="projectId"]',n).val(),taskId:jQuery('select[name="taskId"]',n).val(),tagId:JSON.stringify(i.tagId),notes:jQuery('textarea[name="itemNotes"]',n).val(),mood:void 0!==e?e:i.moodHasBeenUpdated?i.mood:-1},i.tagId=[],i.timerId<0&&(o.source=jQuery("input.entryIntegrationCode",n).length>0?jQuery("input.entryIntegrationCode",n).val():"",o.sourceData=jQuery("input.entryIntegrationData",n).length>0?JSON.stringify(i.integrationData):""),jQuery('input[name="itemHours"]',n).val()==i.itemHours&&jQuery('input[name="itemMinutes"]',n).val()==i.itemMinutes||(o.seconds=60*TECA.Register.getFormMinutes()),i.timerId>0&&(r="updateTimer"),TECA.apiRequest(r,o,(function(e){"string"==typeof e?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e),TECA.Gui.feedback.close(n)):TECA.Gui.feedback.danger(n,e):e.code?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e.description),TECA.Gui.feedback.close(n)):TECA.Gui.feedback.danger(n,e.description):"function"==typeof t?t():(i.onCloseInternal(),"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?TECA.Gui.message.success(a,(function(){i.dialogClose()})):(TECA.Timer.model.updateTimerList(!0),TECA.Gui.feedback.success(i.htmlDialog,a),TECA.Gui.body.showView("timers")))})))},storeTimer:function(e){var t=this,i=jQuery(".registerTime_formCont",this.htmlBody);this.saveTimer(e,(function(){var e="Timer saved as an entry for <strong>"+jQuery('select[name="projectId"] > option[value="'+jQuery('select[name="projectId"]',i).val()+'"]',i).text()+"</strong>/<strong>"+jQuery('select[name="taskId"] > option[value="'+jQuery('select[name="taskId"]',i).val()+'"]',i).text()+"</strong>";TECA.apiRequest("storeTimer",{timerId:t.timerId},(function(n){"string"==typeof n?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(n),TECA.Gui.feedback.close(i)):TECA.Gui.feedback.danger(i,n):n.code?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(n.description),TECA.Gui.feedback.close(i)):TECA.Gui.feedback.danger(i,n.description):(t.onCloseInternal(),"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?TECA.Gui.message.success(e,(function(){t.dialogClose()})):(TECA.Timer.model.updateTimerList(!0),jQuery("body").trigger("TEDataUpdate_timeEntries"),jQuery('*[data-toggle="tooltip"]',t.htmlDialog).tooltip("destroy"),TECA.Gui.feedback.success(t.htmlDialog,e)))}))}))}}),TECA.Dialog.dialogList.push({name:"taskNew",dimensions:"fixed",title:"Create a new phase",icon:"iconeye-folder-bookmark",width:340,htmlBody:void 0,projectId:void 0,onBeforeInit:function(){"string"==typeof this.targetProjectName&&""!=this.targetProjectName.replace(/ /g,"")&&(this.hasHeadSubtitle=!0)},initBody:function(){var e=this;"string"==typeof this.projectName&&(this.title+=" for "+this.projectName),this.htmlBody=jQuery(TECA.Gui.jhtml("dialog/"+this.name+"_body")),jQuery("select",this.htmlBody).selectpicker(),jQuery('[data-toggle="popover"]',this.htmlBody).popover(),jQuery(".btnTaskNew_save",this.htmlBody).on("click",(function(){e.save(jQuery(this))})),jQuery(".formKeyCommand",e.htmlBody).on("keydown",(function(t){13==t.which&&e.save(jQuery(".btnTaskNew_save",e.htmlBody))})),jQuery("body").one("dialog_"+this.name+"_open",(function(){e.populateCategories(),jQuery('input[name="name"]',e.htmlBody).focus()})).on("TEDataUpdate_taskCategoriesList",(function(){e.populateCategories()}))},populateCategories:function(){var e=this;TECA.Task.model.loadTaskCategoriesList((function(t){var i='<option value="-1" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;No selection" title="No category">No category</option>';i+='<option data-divider="true"></option>';for(var n=0,o=t.length;n<o;n++)i+='<option value="'+t[n].taskCategoryId+'">'+t[n].name+"</option>";jQuery('select[name="category"]',e.htmlBody).html(i).selectpicker("refresh")}))},save:function(e){var t=this;void 0!==this.projectId&&TECA.Gui.validate(this.htmlBody)&&(TECA.Gui.feedback.loading(e),TECA.apiRequest("createTask",{projectId:this.projectId,taskName:jQuery('input[name="name"]',this.htmlBody).val(),taskCategoryId:jQuery('select[name="category"]',this.htmlBody).val(),isOpen:1},(function(e){"string"==typeof e?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e),TECA.Gui.feedback.close(t.htmlBody)):TECA.Gui.feedback.danger(t.htmlBody,e):e.code?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e.description),TECA.Gui.feedback.close(t.htmlBody)):TECA.Gui.feedback.danger(t.htmlBody,e.description):("function"==typeof t.saveSuccess&&t.saveSuccess(e.taskId),t.dialogClose())})))}}),TECA.Dialog.dialogList.push({name:"timers",title:"Timers",icon:"iconeye-android-time",width:550,cardtype:!0,htmlBody:void 0,onBeforeInit:function(){"string"==typeof this.filters.source&&""!=this.filters.source.replace(/ /g,"")&&("string"==typeof this.filters.sourceId&&""!=this.filters.sourceId.replace(/ /g,"")||"number"==typeof this.filters.sourceId&&this.filters.sourceId>0)&&(this.hasHeadSubtitle=!0,this.sourceIcon=this.filters.source,this.sourceId=this.filters.sourceId)},initBody:function(){var e=this;this.htmlBody=jQuery(TECA.Gui.jhtml("dialog/"+this.name+"_body")),jQuery("body").one("dialog_"+this.name+"_open",(function(){e.initList(),e.updateTitleWidgetRecap()}))},updateTitleWidgetRecap:function(){var e=jQuery(".timers-filters-cont",this.htmlDialog),t=jQuery("> .filters-recap",e),i="",n=0;if(("object"==typeof this.filters?Object.keys(this.filters).length:0)>0&&(n++,"string"==typeof this.filters.source&&""!=this.filters.source.replace(/ /g,"")&&("string"==typeof this.filters.sourceId&&""!=this.filters.sourceId.replace(/ /g,"")||"number"==typeof this.filters.sourceId&&this.filters.sourceId>0))){i+='. &nbsp;&nbsp;<span class="filter-label">Team members:</span> <span class="filter-value">me</span>',i+='. &nbsp;&nbsp;<span class="filter-label">Integration source:</span> ',i+='<div class="integration-icon '+this.filters.source+'"></div>';var o=this.filters.sourceId;"azuredevops"==this.filters.source&&(o=decodeURIComponent(this.filters.sourceId)),i+=' <span class="filter-value">'+o+"</span>"}n>0?(i=i.slice(14)+".",e.show()):e.hide(),t.html(i),TECA.Gui.feedback.close(jQuery(".timers-filters-cont",this.htmlDialog))},initList:function(){var e=this,t=this.htmlBody.parents(".te-dialog-container").find(".te-dialog-foot");TECA.Timer.list.init("timers_list_cont",{filters:this.filters,display:{showDate:!0,showAlwaysInfo:!0,showIntegrationLink:!TECA._.weareContentHosted},dataYes:function(i){1==i.length&&t.remove(),e.fixHeight()},dataNo:function(){t.remove(),jQuery("#timers_list_cont",e.htmlBody).css("padding","15px"),e.fixHeight()}}),TECA.Timer.activetimer.init(this.filters)}}),TECA.Dialog.dialogList.push({name:"estimates",dimensions:"fixed",title:"Set Estimate",icon:"iconeye-folder-bookmark",width:350,hasTitleWidget:!1,htmlBody:void 0,integrationData:void 0,integration:void 0,estimate:0,todoId:void 0,onBeforeInit:function(e){TECA.Content.integrations[this.integration]&&"function"==typeof TECA.Content.integrations[this.integration].getOptFunctions?this.optFunctions=TECA.Content.integrations[this.integration].getOptFunctions():this.optFunctions={},"function"==typeof this.optFunctions.onInit&&this.optFunctions.onInit()},initBody:function(){var e=this;this.htmlBody=jQuery(TECA.Gui.jhtml("dialog/"+this.name+"_body",{estimate:this.estimate})),jQuery(".btnEstimate_save",this.htmlBody).on("click",(function(){e.save(jQuery(this))}))},save:function(e){var t=this;TECA.Gui.validate(this.htmlBody)&&(TECA.Gui.feedback.loading(e),TECA.apiRequest("saveEstimate",{integration:this.integration,integrationData:JSON.stringify(this.integrationData),hours:jQuery('input[name="estimate"]',this.htmlBody).val()},(function(){t.dialogClose()})))}}),TECA.Dialog.dialogList.push({name:"estimateLogs",dimensions:"fixed",title:"Estimate Log",icon:"iconeye-folder-bookmark",width:600,hasTitleWidget:!1,htmlBody:void 0,todoId:void 0,integration:void 0,onBeforeInit:function(e){TECA.Content.integrations[this.integration]&&"function"==typeof TECA.Content.integrations[this.integration].getOptFunctions?this.optFunctions=TECA.Content.integrations[this.integration].getOptFunctions():this.optFunctions={},"function"==typeof this.optFunctions.onInit&&this.optFunctions.onInit()},initBody:function(){var e=this;this.htmlBody=jQuery(TECA.Gui.jhtml("dialog/"+this.name+"_body")),jQuery("body").one("dialog_"+this.name+"_open",(function(){e.initList()}))},initList:function(){var e=jQuery("#te_estimate_log_list",this.htmlBody);TECA.apiRequest("getEstimateLogs",{todoId:this.todoId},(function(t){t.forEach((function(t){var i=TECA.Gui.formatDate(t.datetime),n=jQuery(TECA.Gui.jhtml("dialog/estimateLogs_item",{userAvatar:t.userAvatar,userName:t.userName,date:TECA.Gui.newFormatDate(t.datetime),time:i.hh+":"+i.ii,action:0==t.oldEstimate?" created":0==t.newEstimate?" deleted":" updated",delta:TECA.Gui.formatMins(Math.abs(60*t.delta),!0),sign:t.delta>0?"+":"-",formattedOldEstimate:TECA.Gui.formatMins(60*t.oldEstimate,!0),formattedNewEstimate:TECA.Gui.formatMins(60*t.newEstimate,!0)}));e.append(n)}))}))}}),TECA.defineClass("Entry",{_:{lastEntryNewDate:void 0},view:{init:function(){var e=jQuery("#timeneye_widget_cont > .te-body"),t=function(t,i,n){jQuery(".entriesLog_resultsCounterCont",e).html("<span>"+t+"</span> listed out of <span>"+i+"</span> total"),n>0?jQuery(".entriesLog_resultsTotalTimeCont",e).html(TECA.Gui.formatMins(n,"html")):jQuery(".entriesLog_resultsTotalTimeCont",e).html(TECA.Gui.formatMins(0,"html"))};e.html('<div id="te_entryList" class="te-feedback-cont te-scroll-cont"></div><div class="te-dialog-foot"><div class="row entriesLog_footNormal"><div class="col-xs-4"></div><div class="col-xs-4 text-center"><div class="entriesLog_resultsCounterCont"></div></div><div class="col-xs-4"><div class="entriesLog_resultsTotalTimeCont"></div></div></div></div>'),TECA.Entry.list.init("te_entryList",{filters:{userId:-2},display:{showDate:!0,showAlwaysInfo:!0},dataYes:function(e,i,n){t(e,i,n)},dataNo:function(e,i,n){t(e,i,n)},dataReplaced:function(e,i,n){t(e,i,n)}})}},list:{init:function(e,t){void 0===t&&(t={}),void 0===t.filters&&(t.filters={}),void 0===t.display&&(t.display={}),void 0===t.mixins&&(t.mixins={});var i=jQuery("#"+e);if(i.length>0){this.destroy(e);var n={instanceId:generateUUID(),itemCount:0,print:function(e,t){if(void 0===this.destroyed||!this.destroyed){var i=this;void 0===this.filters.entryId&&(this.filters.entryId=-1),void 0===e||"full"==e?(this.appendType="full",this.filters.offset=0,this.itemCount>0&&(this.oldFilterLimit=this.filters.limit,this.filters.limit=this.itemCount)):(this.appendType=e,void 0!==this.oldFilterLimit&&(this.filters.limit=this.oldFilterLimit,this.oldFilterLimit=void 0),this.filters.offset=this.itemCount),"boolean"==typeof this.display.showUser&&this.display.showUser&&(this.filters.loadUserInfo=1),void 0===t&&(t=jQuery("#"+this.elementId)),TECA.Gui.feedback.loading(jQuery(t)),TECA.apiRequest("getEntries",jQuery.extend({},this.filters,{limit:100,offset:this.filters.offset}),(function(n){"string"==typeof n?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(n),TECA.Gui.feedback.close(jQuery(t))):TECA.Gui.feedback.danger(t,n):n.code?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(n.description),TECA.Gui.feedback.close(jQuery(t))):TECA.Gui.feedback.danger(t,n.description):(i.filters.entryId<=0?("full"==e&&"function"==typeof i.dataReplaced&&i.dataReplaced(n.entries.length,n.totalCount,n.totalMinutes),"object"==typeof n&&"object"==typeof n.entries&&"number"==typeof n.entries.length&&(i.itemCount+=parseInt(n.entries.length)),i.display.showLoadMore=1==n.showMore):i.itemCount=1,TECA.Gui.entity.updateList({type:"entry",mode:"full"==i.appendType?"replace":"append",instance:i,data:n.entries,display:i.display,mixins:i.mixins,onFinish:function(){TECA.Gui.feedback.close(t)}}),i.filters.entryId<=0&&("object"==typeof n.entries&&n.entries.length>0?"function"==typeof i.dataYes&&i.dataYes(i.itemCount,n.totalCount,n.totalMinutes):"function"==typeof i.dataNo&&i.dataNo(0,n.totalCount,n.totalMinutes)))}))}},openForm:function(e,t){var i=jQuery("#"+this.elementId+' .te-entity-item[data-entity-id="'+e+'"]');"string"!=typeof t&&(t="edit"),TECA.Gui.feedback.loading(i),TECA.apiRequest("getEntry",{entryId:e},(function(n){if("string"==typeof n)"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(n),TECA.Gui.feedback.close(jQuery(i))):TECA.Gui.feedback.danger(i,n);else if(n.code)"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(n.description),TECA.Gui.feedback.close(jQuery(i))):TECA.Gui.feedback.danger(i,n.description);else{n=n.entry;var o={entryId:"edit"==t?n.entryId:-1,userId:n.userId,projectId:n.projectId,taskId:n.taskId,itemDate:"edit"==t?n.entryDate:"",itemHours:"edit"==t?TECA.Gui.formatMins(n.minutes).hh:"",itemMinutes:"edit"==t?TECA.Gui.formatMins(n.minutes).mm:"",itemNotes:n.notes,integrationData:n.sourceData,entryLocked:n.locked,itemTimeFrom:"edit"==t?n.entryTimeFrom:"",itemTimeTo:"edit"==t?n.entryTimeTo:"",lockedBy:1==n.lockedByApproval?"approval":1==n.lockedByDate?"date":1==n.lockedByApiOnly?"apionly":1==n.lockedByMembership&&"membership",userName:n.userName,mood:"edit"==t?n.mood:-1,tagId:n.tagId,bootstrapSelect:!0};"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(o=jQuery.extend({},o,{name:"registerTime",icon:"edit"==t?"iconeye-pencil-1":"iconeye-add-circle-1",title:"edit"==t?"Edit entry":"Register time",uniqueId:"entityEntryActionOpenForm_"+e,onOpen:function(){TECA.Gui.feedback.close(i)},onClose:function(){jQuery("body").trigger("TEDataUpdate_timeEntries")}}),TECA.Dialog.init(o)):TECA.Gui.body.showView("registerTime",o)}}))},delete:function(e){var t=jQuery("#"+this.elementId+' .te-entity-item[data-entity-id="'+e+'"]');TECA.Gui.feedback.loading(t),TECA.apiRequest("deleteEntry",{entryId:e},(function(e){"string"==typeof e?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e),TECA.Gui.feedback.close(t)):TECA.Gui.feedback.danger(t,e):e.code?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e.description),TECA.Gui.feedback.close(t)):TECA.Gui.feedback.danger(t,e.description):("boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.success("Entry deleted"),TECA.Gui.feedback.close(t)):TECA.Gui.feedback.success(t,"Entry deleted"),jQuery("body").trigger("TEDataUpdate_timeEntries"))}))},init:function(){var e=this;this.print("full"),jQuery("body").on("TEDataUpdate_timeEntries",(function(){void 0!==e&&null!=e&&e.print("full")}))}};i.data("te-entrylist-id",n.instanceId),window["te_entryListInstance_"+e]=jQuery.extend(!0,{},{elementId:e},n,t),window["te_entryListInstance_"+e].init()}},destroy:function(e){var t=jQuery("#"+e);t.length>0&&t.data("te-entrylist-id","").html(""),"object"==typeof window["te_entryListInstance_"+e]&&(window["te_entryListInstance_"+e].destroyed=!0,delete window["te_entryListInstance_"+e])}}}),TECA.defineClass("Gui",{_:{jhtml:{},moodSmileyNames:{9:"awesome",7:"happy",5:"neutral",3:"unhappy",1:"upset"}},domReady:function(){var e={calendar:{lastDay:"[yesterday]",sameDay:"[today]",nextDay:"[tomorrow]",lastWeek:"[last] dddd [at] LT",nextWeek:"dddd [at] LT",sameElse:"L"}};"object"==typeof TECA._.user&&TECA._.user.id>0&&(e.week={dow:TECA._.user.settings.weekStart}),moment.updateLocale("en",e),jQuery("body").on("TEDataUpdate_timers",(function(){TECA.Gui.updateIcon()})),"object"==typeof TECA._.user&&TECA._.user.id>0&&(TECA.Tag.model.updateTagList(),TECA._.weareContentHosted||setTimeout((function(){TECA.Timer.model.updateTimerList(!0)}),1)),this.addStyle(),this.keyboard.init()},decodeHtml:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},formatDate:function(e){var t=void 0,i=(t="string"==typeof e?e.indexOf(":")>=0?moment(e,"YYYY-MM-DD HH:mm:ss"):moment(e,"YYYY-MM-DD"):moment(e)).calendar(),n=t.format("dddd");return"today"==i?n="today":"yesterday"==i&&(n="yesterday"),{yy:t.format("YYYY"),mm:t.format("MM"),MM:t.format("MMMM"),M:t.format("MMM"),dd:t.format("DD"),DD:n,hh:t.format("HH"),ii:t.format("mm")}},newFormatDate:function(e){var t=void 0;return t="string"==typeof e?e.indexOf(":")>=0?moment(e,"YYYY-MM-DD HH:mm:ss"):moment(e,"YYYY-MM-DD"):moment(e),"object"==typeof TECA._.user.settings&&"string"==typeof TECA._.user.settings.dateFormat?t.format(TECA._.user.settings.dateFormat.toUpperCase()):t},ucFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},formatMins:function(e,t,i){var n=void 0,o=TECA._.user.settings.timeFormat;return void 0!==t&&null!=t||(t=!1),"boolean"!=typeof i&&(i=!1),i&&(o=TECA._.user.settings.timeFormatReports),n=void 0!==e?{hh:(e=parseInt(e))/60>0?parseInt(e/60):0,mm:e/60>0?("0"+(e-60*parseInt(e/60))).slice(-2):("0"+e).slice(-2)}:{hh:0,mm:0},!0===t?"normal"==o?0==n.hh?1*n.mm+"m":0==n.mm?n.hh+"h":n.hh+"h "+1*n.mm+"m":"hipster"==o?n.hh+"h"+n.mm:n.hh+":"+n.mm:"string"==typeof t&&"html"==t?"normal"==o?0==n.hh?1*n.mm+'<span class="time-label">m</span>':0==n.mm?n.hh+'<span class="time-label">h</span>':n.hh+'<span class="time-label" style="margin-right:2px;">h</span>'+1*n.mm+'<span class="time-label">m</span>':"hipster"==o?n.hh+'<span class="time-label">h</span>'+n.mm:n.hh+":"+n.mm:n},formatSeconds:function(e,t,i){var n=void 0,o=TECA._.user.settings.timeFormat;return void 0!==t&&null!=t||(t=!1),"boolean"!=typeof i&&(i=!1),i&&(o=TECA._.user.settings.timeFormatReports),"undefined"!=typeof pMinutes?(pMinutes=parseInt(pMinutes),n={hh:Math.floor(e/3600),mm:Math.floor(e%3600/60).toString().padStart(2,"0"),ss:(e%60).toString().padStart(2,"0")}):n={hh:0,mm:0,ss:0},!0===t?"normal"==o?0==n.hh?1*n.mm+"m":0==n.mm?n.hh+"h":n.hh+"h "+1*n.mm+"m":"hipster"==o?n.hh+"h"+n.mm:n.hh+":"+n.mm:"string"==typeof t&&"html"==t?"normal"==o?0==n.hh?1*n.mm+'<span class="time-label">m</span>':0==n.mm?n.hh+'<span class="time-label">h</span>':n.hh+'<span class="time-label" style="margin-right:2px;">h</span>'+1*n.mm+'<span class="time-label">m</span>':"hipster"==o?n.hh+'<span class="time-label">h</span>'+n.mm:n.hh+":"+n.mm+":"+n.ss:n},validate:function(e,t){var i=!0;return"object"==typeof t&&"number"==typeof t.length||(t=[]),void 0!==e&&(jQuery(".form-group > label.validate-error",e).removeClass("validate-error"),jQuery('select.required, input[type="text"].required, input[type="email"].required, input[type="password"].required, textarea.required, .bootstrap-select.required > .btn.dropdown-toggle, .requiredGangBoss',e).removeClass("validate-error").removeClass("broKickingAsses").data("toggle","").data("placement","").attr("title","").tooltip("destroy").each((function(){if("BUTTON"!=jQuery(this).prop("tagName")&&"DIV"!=jQuery(this).prop("tagName")&&-1==t.indexOf(jQuery(this).attr("name"))){var n=!1;if(!isNaN(parseInt(jQuery(this).val()))&&parseInt(jQuery(this).val())<=0&&parseInt(jQuery(this).val())==jQuery(this).val()||null!=jQuery(this).val()&&""==jQuery(this).val().replace(/ /g,""))if(null!=jQuery(this).data("required-brosgang")){var o=0;jQuery('*[data-required-brosgang="'+jQuery(this).data("required-brosgang")+'"]',e).each((function(){if(!isNaN(parseInt(jQuery(this).val()))&&parseInt(jQuery(this).val())>0||isNaN(Number(jQuery(this).val()))&&""!=jQuery(this).val().replace(/ /g,""))if(null!=jQuery(this).data("required-bros4real")){var t=!0;jQuery('*[data-required-bros4real="'+jQuery(this).data("required-bros4real")+'"]',e).each((function(){""!=jQuery(this).val().replace(/ /g,"")&&-1!=jQuery(this).val()||(t=!1)})),t&&o++}else o++})),0==o&&(n=!0)}else n=!0;if(n){var a=jQuery(this),r=jQuery(this).data("required-tltp-pos");if("SELECT"==a.prop("tagName")&&(a=jQuery(this).siblings(".btn.dropdown-toggle")),a.addClass("validate-error"),a.parents(".form-group").find("> label").addClass("validate-error"),null!=a.data("required-brosgang")&&(a.parents(".requiredGangBoss").length>0&&!a.parents(".requiredGangBoss").hasClass("broKickingAsses")?(a=a.parents(".requiredGangBoss")).addClass("broKickingAsses"):a=void 0),"object"==typeof a){a.data("tooltip-class")&&a.data("tooltip-class"),a.tooltip({container:"#timeneye_widget_cont",placement:void 0!==r&&null!=r?r:"top",title:jQuery(this).data("required-msg")?jQuery(this).data("required-msg"):"Required field",template:'<div class="tooltip tooltip-validation tooltip-validation-danger" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})}i=!1}}})),i||jQuery(".validate-error").eq(0).tooltip("show")),i},addStyle:function(e){var t=jQuery("#timeneye_widget_stylesheet");(0==t.length||e)&&(t.remove(),jQuery("head").append('<link rel="stylesheet" id="timeneye_widget_stylesheet" href="'+chrome.extension.getURL("css/timeneye_widget_style.css")+'" media="all" type="text/css"/>'))},checkLogin:function(){TECA.Gui.feedback.loading(jQuery("#timeneye_widget_cont")),TECA._.weareContentHosted||TECA.Gui.body.init({viewOptions:{bootstrapSelect:!0}},!1)},updateIcon:function(){"undefined"!=typeof chrome&&void 0!==chrome.browserAction&&TECA.Timer.model.loadTimerList((function(e){var t=!1;if("object"==typeof e&&"number"==typeof e.length){for(var i=0,n=e.length;i<n;i++)"running"==e[i].timerStatus&&(t=!0);e.length>0?chrome.browserAction.setBadgeText({text:""+e.length}):chrome.browserAction.setBadgeText({text:""}),t?chrome.browserAction.setBadgeBackgroundColor({color:[71,217,30,255]}):chrome.browserAction.setBadgeBackgroundColor({color:[51,51,51,255]})}}))},collapse:{collapseEl:function(e){var t=e.prop("scrollHeight"),i=e.css("transition");e.css("transition",""),requestAnimationFrame((function(){e.css("height",t+"px"),e.css("transition",i),requestAnimationFrame((function(){e.css("height","0px")}))})),e.removeClass("te-visible")},expandEl:function(e){var t=e.prop("scrollHeight");e.css("height",t+"px"),e.unbind("transitionend").on("transitionend",(function(){e.unbind("transitionend"),e.removeAttr("style")})),e.addClass("te-visible")}}}),TECA.Gui.body={_:{currentView:void 0},init:function(e,t){"object"!=typeof e&&(e={}),"boolean"!=typeof t&&(t=!0);var i=jQuery("#timeneye_widget_cont");if(i.length>0){var n=TECA._.user.id>0,o="";setTimeout((function(){o=jQuery("#loader_screen").length>0?"append":"html",i[o](TECA.Gui.jhtml("core/body",{isPrimaryActionTimer:!!n&&"timer"==TECA._.user.settings.registerTimePrimaryAction,showMenu:void 0===e.showMenu&&n||"boolean"==typeof e.showMenu&&1==e.showMenu,showSubtitle:"boolean"==typeof e.showSubtitle&&1==e.showSubtitle,subtitle:"string"==typeof e.subtitle?e.subtitle:"",userAvatarSrc:!!n&&TECA._.user.avatar,userName:!!n&&TECA._.user.name,isLogged:(void 0===e.viewName||"login"!=e.viewName)&&n,urlWebApp:TECA._.urlAjax,accountAvatarSrc:TECA._.account.avatar,accountName:TECA._.account.companyName,accountIsPayingSubscription:5!=TECA._.account.subscriptionTypeId,userIsAdmin:1==TECA._.user.isAdmin,userIsOwner:1==TECA._.user.isOwner,isMoodModeEnabled:1==TECA._.account.moodEnabled,isGM:1==TECA._.user.isGM&&TECA._.user.groupId>0,groupName:TECA._.user.groupName})),TECA.Gui.feedback.close(jQuery("#loader_screen .loader")),setTimeout((function(){jQuery("#loader_screen").remove(),jQuery(i).css("min-height","")}),100),n?("string"==typeof e.viewName?(t&&TECA.Gui.feedback.close(i),TECA.Gui.body.showView(e.viewName,e.viewOptions)):TECA.Timer.model.loadTimerList((function(n){t&&TECA.Gui.feedback.close(i),n.length>0?TECA.Gui.body.showView("timers",e.viewOptions):TECA.Gui.body.showView("registerTime",e.viewOptions)})),jQuery("#te_topbar_leftmenu > li > a",i).on("click",(function(){var e=jQuery(this);TECA.Gui.body.showView(e.data("timeneye-view"),{bootstrapSelect:!0})})),jQuery("#te_topbar_registerTime .btn",i).on("click",(function(){var e=jQuery(this);TECA.Gui.body.showView(e.data("timeneye-view"),{bootstrapSelect:!0})})),jQuery('a[data-href="#open-userMenu"]',i).on("click",(function(){var e=jQuery(this),t=jQuery("#teUserMenu"),n=i.height(),o=t.height(),a=0;o>n?(a=o-n,i.append('<div class="body-filling" style="height: '+a+'px;"></div>')):o<=n&&(t.css("height",n),jQuery(".menu-body > ul",t).css("height",n-50),jQuery(">.te-body >.te-dialog-foot",i).addClass("hidden"),jQuery(".te-dialog-foot",jQuery("#te_registerTime")).addClass("hidden")),jQuery("#"+e.data("menu-id")).toggleClass("active")})),jQuery('a[data-href="#close-userMenu"]',i).on("click",(function(){jQuery(this);var e=jQuery("#teUserMenu");jQuery(".body-filling").remove(),e.css("height",""),jQuery(">.te-body >.te-dialog-foot",i).removeClass("hidden"),jQuery(".te-dialog-foot",jQuery("#te_registerTime")).removeClass("hidden"),jQuery(".menu-body > ul",e).css("height",""),jQuery(".te-topbar-submenu-cont",i).removeClass("active")})),jQuery('a[data-href="#widget-options"]',i).on("click",(function(){chrome.extension.openOptionsPage?chrome.extension.openOptionsPage():window.open(chrome.extension.getURL("html/options.html"))})),jQuery('a[data-href="#action-logout"]',i).on("click",(function(){return TECA.User.logOut(),!1})),jQuery('a[data-href="#close-dialog"]',i).on("click",(function(t){TECA.Content.closeEntryDialog(e.viewOptions.optFunctions)}))):TECA.Gui.body.showView("login",e.viewOptions)}),100)}},showView:function(e,t){var i=jQuery("#timeneye_widget_cont"),n=jQuery("#te_topbar_leftmenu",i),o=jQuery("#te_topbar_viewTitle > span",i),a=jQuery("#te_topbar_viewTitle > i",i);if(jQuery("> li",n).removeClass("active"),"string"==typeof TECA._.account.subscriptionStatus&&("TRIAL_EXPIRED"===TECA._.account.subscriptionStatus||"EXPIRED"===TECA._.account.subscriptionStatus))return this.showExpiredSubView(),!1;switch(e){case"login":"registerTime"==this._.currentView&&jQuery("select",i).selectpicker("destroy").selectpicker("render"),this._.currentView="login",this.showLoginFrame();break;case"entries":"registerTime"==this._.currentView&&jQuery("select",i).selectpicker("destroy").selectpicker("render"),this._.currentView="entries",jQuery("> li.entries",n).addClass("active"),o.text("Entries"),a.hasClass("iconeye-add-circle-1")?a.removeClass("iconeye-add-circle-1"):a.hasClass("iconeye-android-time")?a.removeClass("iconeye-android-time"):a.hasClass("iconeye-pencil-1")?a.removeClass("iconeye-pencil-1"):a.hasClass("iconeye-lock-1-f")&&a.removeClass("iconeye-lock-1-f"),a.addClass("iconeye-check-bubble"),TECA.Entry.view.init();break;case"timers":"registerTime"==this._.currentView&&jQuery("select",i).selectpicker("destroy").selectpicker("render"),this._.currentView="timers",jQuery("> li.timers",n).addClass("active"),o.text("Timers"),a.hasClass("iconeye-add-circle-1")?a.removeClass("iconeye-add-circle-1"):a.hasClass("iconeye-check-bubble")?a.removeClass("iconeye-check-bubble"):a.hasClass("iconeye-pencil-1")?a.removeClass("iconeye-pencil-1"):a.hasClass("iconeye-lock-1-f")&&a.removeClass("iconeye-lock-1-f"),a.addClass("iconeye-android-time"),TECA.Timer.view.init();break;default:this._.currentView="registerTime",jQuery("> li.registerTime",n).addClass("active"),a.hasClass("iconeye-android-time")?a.removeClass("iconeye-android-time"):a.hasClass("iconeye-check-bubble")?a.removeClass("iconeye-check-bubble"):a.hasClass("iconeye-pencil-1")?a.removeClass("iconeye-pencil-1"):a.hasClass("iconeye-lock-1-f")&&a.removeClass("iconeye-lock-1-f"),void 0!==t.timerId&&-1!=t.timerId?(o.text("Edit timer"),a.addClass("iconeye-pencil-1")):void 0!==t.entryId&&-1!=t.entryId?void 0!==t.entryLocked&&1==t.entryLocked?(o.text("Locked entry"),a.addClass("iconeye-lock-1-f")):(o.text("Edit entry"),a.addClass("iconeye-pencil-1")):(o.text("Register time"),a.addClass("iconeye-add-circle-1")),TECA.Register.init(t)}},showLoginFrame:function(){TECA.triggerEvent("resetModel"),TECA.Login.view.init(),setTimeout((function(){TECA.Gui.feedback.close(jQuery("#timeneye_widget_cont"))}),100)},showExpiredSubView:function(){var e=jQuery("#timeneye_widget_cont > .te-body");jQuery("#timeneye_widget_cont > .te-title").text("Expired subscription"),e.html(TECA.Gui.jhtml("expiredsub/body",{isOwner:1==TECA._.user.isOwner,linkBilling:TECA._.urlAjax+"billing"}))}},TECA.Gui.color={model:{_:{colorlist:[],requestStatus:{colorlist:0},requestCallbackStack:{colorlist:[]}},_checkColorList:function(e,t){var i=TECA.Gui.color.model;i._.colorlist.length<=0||"boolean"==typeof t&&!0===t?i._getColorList((function(){e(jQuery.extend(!0,[],i._.colorlist))})):e(jQuery.extend(!0,[],i._.colorlist))},_getColorList:function(e,t){var i=TECA.Gui.color.model;"function"==typeof e&&i._.requestCallbackStack.colorlist.push(e);var n=function(e){var t=function(e){for(i._.colorlist=e;i._.requestCallbackStack.colorlist.length>0;){i._.requestCallbackStack.colorlist.shift()()}jQuery("#timeneye_widget_cont").trigger("TEDataUpdate_colors")};i._.requestStatus.colorlist=0,"string"==typeof e||e.code?t([]):t(e)};"object"==typeof t&&"number"==typeof t.length&&t.length>0?n(t):0===i._.requestStatus.colorlist&&(i._.requestStatus.colorlist=1,TECA.apiRequest("getColors",{},n))},loadColorList:function(e,t){TECA.Gui.color.model._checkColorList((function(t){"function"==typeof e&&e(t)}),t)},updateColorList:function(e){"boolean"!=typeof e&&(e=!0),TECA.Gui.color.model.loadColorList((function(){}),e)}},initPicker:function(e){var t=TECA.Gui.color;"string"==typeof e&&(e=jQuery(e)),e.length>0&&!e.hasClass("te-colorpicker-done")&&(e.addClass("te-colorpicker-done"),t.model.loadColorList((function(t){e.spectrum({showAlpha:!1,showInput:!0,clickoutFiresChange:!1,preferredFormat:"hex",cancelText:"Cancel",chooseText:"Confirm",showPalette:!0,palette:t})})))},refreshPicker:function(e){var t=TECA.Gui.color;"string"==typeof e&&(e=jQuery(e)),e.length&&(e.spectrum("destroy"),e.removeClass("te-colorpicker-done"),t.initPicker(e))}},TECA.Gui.entity={_:{multiSelectBusy:!1,lastCheckedItem:-1},updateList:function(e){var t=this,i=void 0;void 0===e.mode&&(e.mode="replace"),void 0===e.display&&(e.display={}),void 0===e.mixins&&(e.mixins={}),i="replace"==e.mode?jQuery(TECA.Gui.jhtml("entity/list",{entityType:e.type,isEntityEntry:"entry"==e.type,isEntityTimer:"timer"==e.type,isEntitySuggestion:"suggestion"==e.type})):jQuery("#"+e.instance.elementId+' > .te-entity-list[data-entity-list-type="'+e.type+'"]');var n=jQuery("#te_entryList"),o=jQuery("#te_timerList");if(n.length>0&&n.hasClass("te-scroll-cont")&&n.perfectScrollbar(),o.length>0&&o.hasClass("te-scroll-cont")&&o.perfectScrollbar(),jQuery('.te-entity-separator[data-entity-separator-type="load-more"]',i).remove(),"object"==typeof e.data&&"number"==typeof e.data.length&&e.data.length>0){"replace"==e.mode&&i.html("");var a={entityType:e.type,isEntityEntry:"entry"==e.type,isEntityTimer:"timer"==e.type,isEntitySuggestion:"suggestion"==e.type,isPrimaryActionTimer:"timer"==TECA._.user.settings.registerTimePrimaryAction,isCheckboxSelected:!1,isMoodModeEnabled:1==TECA._.account.moodEnabled,isBilled:!1,isBillable:!1,showDate:!1,showIntegrationIcon:!1,showPomodoroIcon:!1,showUser:!1,showInfo:!0,showAlwaysInfo:!1,showActions:!0,showActionsIfLocked:!1,showAlwaysActions:!1,showActionOneshotPlay:!0,showActionOneshotPause:!1,showActionOneshotStop:!1,showActionSubStop:!0,showFromTo:TECA._.account.fromToFeatureEnabled,showCheckbox:!1,actionsSmall:!0,actionsSeparated:!1,haveInfo:!1,notesText:!1,integrationHtml:!1,hasIntegrationLink:!1,integrationLink:!1,userName:!1,userAvatar:!1,isMoodSet:!1,moodText:!1,isLocked:!1,showIntegrationLink:!0,showIntegrationHtml:!0},r="",s=!1;(a=jQuery.extend(!0,{},a,e.display)).showFromTo&&a.isEntityEntry&&(e.data=_.orderBy(e.data,["entryTimeFrom","entryId"],["desc","desc"]));for(var l=0,c=e.data.length;l<c;l++){var d={},u="";d.showFromTo=a.showFromTo&&"entry"===e.type,d.entityId=e.data[l][e.type+"Id"],d.projectId=e.data[l].projectId,d.projectName=e.data[l].projectName,d.projectUnknown=!1,d.projectColor=e.data[l].projectColor,d.taskId=e.data[l].taskId,d.taskName=e.data[l].taskName,d.taskUnknown=!1,void 0!==e.data[l].source&&""!=e.data[l].source&&(d.integrationName=TECA.Integration.list[e.data[l].source],d.integrationIcon=TECA._.imgRoot+"integrations/"+e.data[l].source+".png");var h=TECA.Integration.filterNotesDouble(e.data[l].notes,e.data[l].sourceData);if(""!=h.notes&&(d.haveInfo=!0,d.notesText=h.notes),""!=h.integrationInfo&&(d.haveInfo=!0,d.integrationHtml=h.integrationInfo,d.hasIntegrationLink="object"==typeof e.data[l].sourceData&&"string"==typeof e.data[l].sourceData.url&&""!=e.data[l].sourceData.url.replace(/ /g,""),d.integrationLink=d.hasIntegrationLink?e.data[l].sourceData.url:""),void 0!==e.data[l].mood&&e.data[l].mood>0&&("entry"==e.type&&e.data[l].userId==TECA._.user.id||"timer"==e.type)&&(d.isMoodSet=!0,d.mood=e.data[l].mood,d.moodText="You felt <strong>"+TECA.Gui._.moodSmileyNames[d.mood]+"</strong> while working on this"+("timer"==e.type?" timer":" entry")),"function"==typeof e.mixins.checkboxStatus&&(d.isCheckboxSelected=e.mixins.checkboxStatus(e.data[l])),e.data[l].tags.length>0?d.showTags=!0:d.showTags=!1,d.isSelf=!e.data[l].userId||e.data[l].userId==TECA._.user.id,"entry"==e.type)u=e.data[l].entryDate,d.userId=e.data[l].userId?e.data[l].userId:TECA._.user.id,d.entityDate=e.data[l].entryDate,d.entityMinutesTotal=parseInt(e.data[l].minutes),d.timeFormatted=TECA.Gui.formatMins(e.data[l].minutes,"html"),a.showFromTo&&"0000-00-00 00:00:00"!=e.data[l].entryTimeFrom&&"0000-00-00 00:00:00"!=e.data[l].entryTimeTo&&(d.timeFrom=moment(e.data[l].entryTimeFrom).format("HH:mm"),d.timeTo=moment(e.data[l].entryTimeTo).format("HH:mm")),d.isLocked=1==e.data[l].locked,d.lockedBy=1==e.data[l].lockedByApproval?"approval":1==e.data[l].lockedByDate?"date":1==e.data[l].lockedByApiOnly?"apionly":1==e.data[l].lockedByMembership&&"membership",1==e.data[l].lockedByApproval?d.lockedEntryMessage="This entry has been already approved and therefore cannot be manually edited without withdrawing the approval.":1==e.data[l].lockedByDate?(d.lockedEntryMessage="All entries older than <b>"+TECA.Gui.newFormatDate(TECA._.account.prosett_entriesLock_date)+"</b> are locked and can be edited only by admins.",1==TECA._.user.isAdmin&&(d.showActionsIfLocked=!0)):1==e.data[l].lockedByApiOnly?(d.lockedEntryMessage="The linked project is <b>API only</b> and the entry can be edited only by admins.",1==TECA._.user.isAdmin&&(d.showActionsIfLocked=!0)):1==e.data[l].lockedByMembership&&(e.data[l].userId==TECA._.user.id?d.lockedEntryMessage="The linked phase/project has been archived, or you may have been removed from the project.":d.lockedEntryMessage="The linked phase/project has been archived, or <b>"+e.data[l].userName+"</b> may have been removed from the project.",(1==TECA._.user.isAdmin||1==TECA._.user.isGM||1==TECA._.user.isPM&&TECA._.user.managedProjects.active.indexOf(parseInt(e.data[l].projectId))>=0)&&(d.showActionsIfLocked=!0)),!d.isLocked||d.showActionsIfLocked||d.hasIntegrationLink||(d.showActions=!1),void 0!==e.data[l].userId?(d.userName=e.data[l].userName,d.userAvatar=e.data[l].userAvatar):d.showUser=!1,(1==TECA._.user.isAdmin||1==TECA._.user.isPM&&TECA._.user.managedProjects.active.indexOf(parseInt(e.data[l].projectId))>=0)&&1==e.data[l].billed?(d.isBilled=!0,d.isBillable=!0):(1==TECA._.user.isAdmin||1==TECA._.user.isPM&&TECA._.user.managedProjects.active.indexOf(parseInt(e.data[l].projectId))>=0)&&1==e.data[l].billable&&(d.isBillable=!0);else if("timer"==e.type){var f=e.instance.getTimerSeconds(e.data[l].currentSeconds,e.data[l].timerStatus);u=e.data[l].timerDate,d.userId=TECA._.user.id,d.entityMinutesTotal=e.data[l].currentSeconds>0?parseInt(e.data[l].currentSeconds/60):0,d.entityDate=e.data[l].timerDate,d.timerCurrentSeconds=e.data[l].currentSeconds,d.timerStatus=e.data[l].timerStatus,d.timerOwnStartTime=TECA.Timer.model._.timerStartClient,d.timeFormatted=TECA.Gui.formatMins(f/60,"html"),d.showUser=!1,"running"==e.data[l].timerStatus?(d.showActionOneshotPlay=!1,d.showActionOneshotPause=!TECA._.account.fromToFeatureEnabled,d.showActionOneshotStop=TECA._.account.fromToFeatureEnabled,d.showActionSubStop=!TECA._.account.fromToFeatureEnabled,d.timerIsActive=!0):(d.showActionOneshotPlay=!TECA._.account.fromToFeatureEnabled,d.showActionOneshotPause=!1,d.showActionOneshotStop=TECA._.account.fromToFeatureEnabled,d.showActionSubStop=!TECA._.account.fromToFeatureEnabled,d.timerIsActive=!1)}else"suggestion"==e.type&&(u=e.data[l].entryDate,-1==d.projectId&&(d.projectColor=!1,d.projectUnknown=!0),-1==d.taskId&&(d.taskUnknown=!0),d.userId=TECA._.user.id,d.entityMinutesTotal=parseInt(e.data[l].minutes),d.suggestionsWithMinutes=d.entityMinutesTotal>0,d.entityDate=e.data[l].entryDate,d.timeFormatted=TECA.Gui.formatMins(parseInt(e.data[l].minutes)),d.showUser=!1,d.actionsSeparated=!1,d.showActions=!1);var p=jQuery(TECA.Gui.jhtml("entity/item",jQuery.extend(!0,{},a,d))),m=jQuery(".te-entity-tags",p);if(e.data[l].tags.length>0&&(e.data[l].tags.forEach((function(e){m.append(TECA.Gui.jhtml("tag/tagItem",{isTextWhite:"#fff"===e.textColor,color:e.color,tagId:e.tagId,tagListId:e.tagListId,tagListName:e.tagListName,tagName:e.name}))})),jQuery('[data-toggle="tooltip"]',m).tooltip()),p.on("mouseleave",(function(){jQuery(".te-dropdown-menu",jQuery(this)).each((function(){jQuery(this).parents(".btn-group").removeClass("open"),jQuery(this).siblings('.btn[data-toggle="dropdown"]').trigger("blur")}))})),jQuery(".te-entity-info > a",p).on("click",(function(){return jQuery(this).parents(".te-entity-item").toggleClass("show-info"),!1})),"function"==typeof e.instance.openForm&&(jQuery('a[data-href="#action-entity-edit"], button[data-action="entity-edit"]',p).on("click",(function(t){t.preventDefault(),e.instance.openForm(jQuery(this).parents(".te-entity-item").data("entity-id"),"edit")})),jQuery('a[data-href="#action-entity-copy"], button[data-action="entity-copy"]',p).on("click",(function(t){t.preventDefault(),e.instance.openForm(jQuery(this).parents(".te-entity-item").data("entity-id"),"copy")}))),"function"==typeof e.instance.delete&&jQuery('a[data-href="#action-entity-delete"], button[data-action="entity-delete"]',p).on("click",(function(t){t.preventDefault(),e.instance.delete(jQuery(this).parents(".te-entity-item").data("entity-id"))})),"function"==typeof e.instance.play&&jQuery('a[data-href="#action-entity-play"], button[data-action="entity-play"]',p).on("click",(function(t){t.preventDefault(),e.instance.play(jQuery(this).parents(".te-entity-item").data("entity-id"))})),"function"==typeof e.instance.pause&&jQuery('a[data-href="#action-entity-pause"], button[data-action="entity-pause"]',p).on("click",(function(t){t.preventDefault(),e.instance.pause(jQuery(this).parents(".te-entity-item").data("entity-id"))})),"function"==typeof e.instance.stop&&jQuery('a[data-href="#action-entity-stop"], button[data-action="entity-stop"]',p).on("click",(function(t){t.preventDefault(),e.instance.stop(jQuery(this).parents(".te-entity-item").data("entity-id"))})),"function"==typeof e.instance.approve&&p.on("click",(function(t){t.preventDefault(),e.instance.approve(jQuery(this).data("entity-id"))})),a.showDate&&u!=r){var g=TECA.Gui.formatDate(r),v="te-daytotal-cont",y="";jQuery('.te-daytotal-cont[data-target-date="'+u+'"]',i).length>0?(jQuery('.te-daytotal-cont[data-target-date="'+u+'"]',i).removeClass("parsed"),jQuery("> div:last-child",i).hasClass("te-entity-separator")&&(jQuery("> div:last-child",i).remove(),s=!0)):("timer"!=e.type&&"suggestion"!=e.type||(v+=" te-user-daytotal"),y='<div class="'+v+'" data-target-date="'+r+'">',y+='<span class="daytotal-time">0:00</span>',y+="</div>",""!=r&&(i.append(TECA.Gui.jhtml("entity/separator",{separatorType:"time",contentLeft:void 0,contentRight:y,contentFull:void 0})),s&&(s=!1)),r=u,g=TECA.Gui.formatDate(r),s||i.append(TECA.Gui.jhtml("entity/separator",{separatorType:"date",contentLeft:(g.yy==(new Date).getFullYear()?"":g.yy+" | ")+TECA.Gui.ucFirst(g.DD)+", "+g.dd+" "+g.M,contentRight:void 0,contentFull:void 0})))}i.append(p)}v="te-daytotal-cont","timer"!=e.type&&"suggestion"!=e.type||(v+=" te-user-daytotal"),y='<div class="'+v+'" data-target-date="'+r+'">',y+='<span class="daytotal-time">0:00</span>',y+="</div>",""!=r&&i.append(TECA.Gui.jhtml("entity/separator",{separatorType:"time",contentLeft:void 0,contentRight:y,contentFull:void 0}))}if(!e.display.showDate||"entry"!=e.type&&"timer"!=e.type||t.calcListDayTotals(i),"boolean"==typeof e.display.showLoadMore&&e.display.showLoadMore){var b=jQuery(TECA.Gui.jhtml("entity/separator",{separatorType:"load-more",contentLeft:void 0,contentRight:void 0,contentFull:'<button class="btn btn-default btnEntity_loadMore">Load more</button>'}));jQuery(".btnEntity_loadMore",b).on("click",(function(){e.instance.print("new-items",jQuery(this))})),i.append(b)}t.fixListItems(i),jQuery('[data-toggle="tooltip"]',i).tooltip({container:"#timeneye_widget_cont",html:!0}),jQuery('[data-toggle="popover"]',i).popover(),"function"==typeof e.onFinish&&e.onFinish(),"replace"==e.mode&&jQuery("#"+e.instance.elementId).html(i),"boolean"==typeof e.display.showCheckbox&&1==e.display.showCheckbox&&(TECA.Gui.fields.icheckradio.parseNew(),jQuery("#"+e.instance.elementId).off("te-gui-entitylist-checkbox-changeAll").on("te-gui-entitylist-checkbox-changeAll",(function(e,n){t._.multiSelectBusy=!0,jQuery('input[name="teEntity_checkbox"]',i).prop("checked",n).trigger("change"),t._.multiSelectBusy=!1})),"function"==typeof e.mixins.event_checkboxChange&&jQuery('input[name="teEntity_checkbox"]:not(.mixin-change-bent)',i).each((function(){jQuery(this).addClass("mixin-change-bent").on("change",(function(){jQuery(this).is(":checked")?(jQuery(this).parents(".te-entity-item").addClass("selected"),t.checkMultiSelect(jQuery(this))):jQuery(this).parents(".te-entity-item").removeClass("selected"),e.mixins.event_checkboxChange(jQuery(this).parents(".te-entity-item").data("entity-id"))}))})));jQuery("#timeneye_widget_cont").height()},checkMultiSelect:function(e){var t=-1,i=e.parents(".te-entity-list"),n="#"+i.parents("div").attr("id");if(!this._.multiSelectBusy){if(this._.multiSelectBusy=!0,"object"==typeof e&&e.length>0)if(TECA.Gui.keyboard.is_pressed.shift){var o=e.parents(".te-entity-item");-1==this._.lastCheckedItem&&(this._.lastCheckedItem=t=jQuery(n+" .te-entity-list > .te-entity-item:first-child").data("entity-id")),o.index(n+" .te-entity-list > .te-entity-item")>jQuery('.te-entity-item[data-entity-id="'+this._.lastCheckedItem+'"]').index(n+" .te-entity-list > .te-entity-item")?o.prevUntil('.te-entity-item[data-entity-id="'+this._.lastCheckedItem+'"]').each((function(){jQuery(this).find('input[name="teEntity_checkbox"]').prop("checked",!0).trigger("change")})):o.nextUntil('.te-entity-item[data-entity-id="'+this._.lastCheckedItem+'"]').each((function(){jQuery(this).find('input[name="teEntity_checkbox"]').prop("checked",!0).trigger("change")})),t>0&&jQuery('> .te-entity-item[data-entity-id="'+t+'"] input[name="teEntity_checkbox"]',i).prop("checked",!0).trigger("change")}else this._.lastCheckedItem=e.parents(".te-entity-item").data("entity-id");this._.multiSelectBusy=!1}},fixListItems:function(e){"object"==typeof e&&e.length>0&&(jQuery(".te-entity-item:eq(0) .te-entity-actions .btn-group",e).removeClass("dropup"),jQuery(".te-entity-item",e).removeClass("before-separator"),jQuery(".te-entity-separator",e).each((function(){jQuery(this).prev(".te-entity-item").addClass("before-separator")})))},calcListDayTotals:function(e){jQuery(".te-daytotal-cont:not(.parsed)",e).each((function(){var t=jQuery(this),i=0,n=0;jQuery('.te-entity-item[data-entity-date="'+t.data("target-date")+'"]',e).each((function(){i+=parseInt(jQuery(this).data("entity-minutes"))})),e.find('.te-entity-item[data-entity-type="timer"][data-timer-status="paused"]').each((function(){n+=parseInt(jQuery(this).data("timer-current-seconds"))})),n>0&&(i=Math.floor(n/60)),t.addClass("parsed").find(".daytotal-time").html(TECA.Gui.formatMins(i,"html"))}))}},TECA.Gui.feedback={_:{bodyBackgroundBusy:!1},loading:function(e,t,i){var n=e.closest(".te-feedback-cont");"number"==typeof n.length&&0!=n.length||(n=jQuery(".te-head")),n.length>0&&(n.data("loading-inset")||n.data("loading-uuid")&&""!=n.data("loading-uuid")||n.data("loading-uuid",TECA.Gui.loading.push()),n.addClass("te-feedback-active"),!jQuery("> .te-feedback-over",n).length>0&&!n.hasClass("te-feedback-nocover")&&(n.append('<div class="te-feedback-over'+(t?" with-message":"")+'"></div>'),n.data("loading-inset")&&jQuery("> .te-feedback-over",n).html(TECA.Gui.jhtml("core/global_loading",{teFeedbackMode:!0,hasClass_positionTop:"top"==n.data("loading-position"),hasClass_fullWidth:"full"==n.data("loading-width"),bgColor:"string"==typeof n.data("loading-bgcolor")&&n.data("loading-bgcolor"),hasMessage:!!t,hasIcon:!!i,message:t,icon:i}))))},success:function(e,t,i,n){TECA.Gui.message.push({type:"success",autoHide:!0,duration:"number"==typeof i?i:5e3,text:t,removeCallback:function(){"function"==typeof n&&n()}}).update(),"function"==typeof n&&setTimeout((function(){"function"==typeof n&&n()}),i),this.close(e)},danger:function(e,t,i){"function"==typeof t&&void 0===i?i=t:"object"==typeof t&&"string"==typeof t.description&&(t=t.description),TECA.Gui.message.push({type:"danger",autoHide:!0,duration:5e3,text:"string"==typeof t?t:e.data("te-msg-danger")?e.data("te-msg-danger"):"Something went terribly wrong"}).update(),"function"==typeof i&&i(),this.close(e)},close:function(e){var t=e.closest(".te-feedback-cont");"number"==typeof t.length&&0!=t.length||(t=jQuery(".te-head")),t.length>0&&(TECA.Gui.loading.pop(t.data("loading-uuid")),t.data("loading-uuid",""),jQuery("> .te-feedback-over",t).remove(),t.removeClass("te-feedback-active"))}},TECA.Gui.fields={icheckradio:{parseNew:function(){jQuery('input[type="checkbox"]').each((function(){jQuery(this).parent("div").hasClass("icheckbox")||jQuery(this).iCheck({checkboxClass:"icheckbox",radioClass:"iradio"}).on("change",(function(){jQuery(this).iCheck("update")})).on("ifChanged",(function(){jQuery(this).trigger("change")}))})),jQuery('input[type="radio"]').each((function(){jQuery(this).parent("div").hasClass("iradio")||jQuery(this).iCheck({checkboxClass:"icheckbox",radioClass:"iradio"}).on("change",(function(){jQuery(this).iCheck("update")})).on("ifChanged",(function(){jQuery(this).trigger("change")}))}))}}},TECA.Gui.jhtml=function(e,t){if(void 0===e)return{push:function(e,t){if("string"==typeof t&&(t=jQuery.parseJSON(t)),"object"==typeof t&&t.length>0){void 0===TECA.Gui._.jhtml[e]&&(TECA.Gui._.jhtml[e]=[]);for(var i=0,n=t.length;i<n;i++)TECA.Gui._.jhtml[e].push(t[i])}}};var i,n,o,a=e.split("/"),r=function(e,t,i,n){for("boolean"!=typeof n&&(n=!0),__variableTrueCheck=function(e){return n?void 0!==e&&!1!==e:!0!==e};e.indexOf("{{endif:"+t+"}}")>=0&&e.indexOf("{{endif:"+t+"}}")>e.indexOf("{{if:"+t+"}}");){var o=e.indexOf("{{endif:"+t+"}}"),a=e.indexOf("{{else:"+t+"}}"),r=e.indexOf("{{if:"+t+"}}");e=__variableTrueCheck(i)?a>r&&a<o?(e=e.replace(e.slice(a,o+("{{endif:"+t+"}}").length),"")).replace("{{if:"+t+"}}",""):e.replace("{{if:"+t+"}}","").replace("{{endif:"+t+"}}",""):a>r&&a<o?(e=e.replace(e.slice(r,a+("{{else:"+t+"}}").length),"")).replace("{{endif:"+t+"}}",""):e.replace(e.slice(r,o+("{{endif:"+t+"}}").length),"")}return e},s=function(e,t,i){for(;e.indexOf("{{endif("+t+'="')>=0&&e.indexOf("{{endif("+t+'="')>e.indexOf("{{if("+t+'="');){var n=e.indexOf("{{endif("+t+'="'),o=e.indexOf("{{else("+t+'="'),a=e.indexOf("{{if("+t+'="'),r=e.slice(n+("{{endif("+t+'="').length,e.indexOf('")}}',n));e=r==i?o>a&&o<n?(e=e.replace(e.slice(o,n+("{{endif("+t+'="'+r+'")}}').length),"")).replace("{{if("+t+'="'+r+'")}}',""):e.replace("{{if("+t+'="'+r+'")}}',"").replace("{{endif("+t+'="'+r+'")}}',""):o>a&&o<n?(e=e.replace(e.slice(a,o+("{{else("+t+'="'+r+'")}}').length),"")).replace("{{endif("+t+'="'+r+'")}}',""):e.replace(e.slice(a,n+("{{endif("+t+'="'+r+'")}}').length),"")}return e},l=function(e){for(;e.indexOf("{{jhtml(")>=0;){var i,n=e.indexOf("{{jhtml("),o=e.indexOf(")}}",n+8),a=e.slice(n+8,o);if(a.indexOf(",")>=0){var r=a.indexOf(","),s=a.indexOf("}",r+1),l=a.slice(r+1,s+1);i=a.slice(1,r-1),e=e.replace('{{jhtml("'+i+'",'+l+")}}",TECA.Gui.jhtml(i,jQuery.extend(!0,{},t,JSON.parse(l))))}else i=a.slice(1,-1),e=e.replace('{{jhtml("'+i+'")}}',TECA.Gui.jhtml(i,t))}return e};if(void 0!==TECA.Gui._.jhtml[a[0]])for(var c=0,d=TECA.Gui._.jhtml[a[0]].length;c<d;c++)if(TECA.Gui._.jhtml[a[0]][c].name===a[1]){var u=TECA.Gui._.jhtml[a[0]][c].content;if(u=l(u),"object"==typeof t)for(var h in t)u=r(u,h,t[h],!0),u=s(u=r(u,"!"+h,t[h],!1),h,t[h]),i=u,n=h,o=t[h],u=i=void 0!==o&&!1!==o?i.replace(new RegExp("{{"+n+"}}","g"),o):i.replace(new RegExp("{{"+n+"}}","g"),"");return u}},TECA.Gui.keyboard={is_pressed:{shift:!1},init:function(){var e=this;Mousetrap.bind("esc",(function(t){e.helper_esc.trigger(t)})),Mousetrap.bind("enter",(function(t){e.helper_enter.trigger(t)})),Mousetrap.bind("alt+enter",(function(t){e.helper_alt_enter.trigger(t)})),Mousetrap.bind("shift+alt+enter",(function(t){e.helper_shift_alt_enter.trigger(t)})),Mousetrap.bind("shift+enter",(function(t){e.helper_shift_enter.trigger(t)})),Mousetrap.bind("left",(function(t){e.helper_arrow_left.trigger(t)})),Mousetrap.bind("right",(function(t){e.helper_arrow_right.trigger(t)})),Mousetrap.bind("shift",(function(){e.is_pressed.shift=!0}),"keydown").bind("shift",(function(){e.is_pressed.shift=!1}),"keyup")},bind:function(e,t,i){"string"==typeof i?Mousetrap.bind(e,t,i):Mousetrap.bind(e,t)},helper_esc:{_:{stack:[]},push:function(e,t){void 0!==e&&"function"==typeof t&&this._.stack.push({id:e,callback:t})},pop:function(e){if(void 0!==e)for(var t=0,i=this._.stack.length;t<i;t++)"object"==typeof this._.stack[t]&&this._.stack[t].id==e&&this._.stack.splice(t,1)},trigger:function(e){if(this._.stack.length>0){var t=this._.stack.pop();"object"==typeof t&&"function"==typeof t.callback&&t.callback(jQuery(e.target))}}},helper_enter:{_:{stack:[]},push:function(e,t){void 0!==e&&"function"==typeof t&&this._.stack.push({id:e,callback:t})},pop:function(e){if(void 0!==e)for(var t=0,i=this._.stack.length;t<i;t++)"object"==typeof this._.stack[t]&&this._.stack[t].id==e&&this._.stack.splice(t,1)},trigger:function(e){for(var t=0,i=this._.stack.length;t<i;t++)"object"==typeof this._.stack[t]&&"function"==typeof this._.stack[t].callback&&(jQuery(e.target).is("textarea")&&e.preventDefault(),this._.stack[t].callback(jQuery(e.target)))}},helper_alt_enter:{_:{stack:[]},push:function(e,t){void 0!==e&&"function"==typeof t&&this._.stack.push({id:e,callback:t})},pop:function(e){if(void 0!==e)for(var t=0,i=this._.stack.length;t<i;t++)"object"==typeof this._.stack[t]&&this._.stack[t].id==e&&this._.stack.splice(t,1)},trigger:function(e){for(var t=0,i=this._.stack.length;t<i;t++)"object"==typeof this._.stack[t]&&"function"==typeof this._.stack[t].callback&&(jQuery(e.target).is("textarea")&&e.preventDefault(),this._.stack[t].callback(jQuery(e.target)))}},helper_shift_alt_enter:{_:{stack:[]},push:function(e,t){void 0!==e&&"function"==typeof t&&this._.stack.push({id:e,callback:t})},pop:function(e){if(void 0!==e)for(var t=0,i=this._.stack.length;t<i;t++)"object"==typeof this._.stack[t]&&this._.stack[t].id==e&&this._.stack.splice(t,1)},trigger:function(e){for(var t=0,i=this._.stack.length;t<i;t++)"object"==typeof this._.stack[t]&&"function"==typeof this._.stack[t].callback&&(jQuery(e.target).is("textarea")&&e.preventDefault(),this._.stack[t].callback(jQuery(e.target)))}},helper_shift_enter:{_:{stack:[]},push:function(e,t){void 0!==e&&"function"==typeof t&&this._.stack.push({id:e,callback:t})},pop:function(e){if(void 0!==e)for(var t=0,i=this._.stack.length;t<i;t++)"object"==typeof this._.stack[t]&&this._.stack[t].id==e&&this._.stack.splice(t,1)},trigger:function(e){for(var t=0,i=this._.stack.length;t<i;t++)"object"==typeof this._.stack[t]&&"function"==typeof this._.stack[t].callback&&this._.stack[t].callback(jQuery(e.target))}},helper_arrow_left:{_:{stack:[]},push:function(e,t){void 0!==e&&"function"==typeof t&&this._.stack.push({id:e,callback:t})},pop:function(e){if(void 0!==e)for(var t=0,i=this._.stack.length;t<i;t++)"object"==typeof this._.stack[t]&&this._.stack[t].id==e&&this._.stack.splice(t,1)},trigger:function(e){if(this._.stack.length>0){var t=this._.stack.pop();"object"==typeof t&&"function"==typeof t.callback&&t.callback(jQuery(e.target))}}},helper_arrow_right:{_:{stack:[]},push:function(e,t){void 0!==e&&"function"==typeof t&&this._.stack.push({id:e,callback:t})},pop:function(e){if(void 0!==e)for(var t=0,i=this._.stack.length;t<i;t++)"object"==typeof this._.stack[t]&&this._.stack[t].id==e&&this._.stack.splice(t,1)},trigger:function(e){if(this._.stack.length>0){var t=this._.stack.pop();"object"==typeof t&&"function"==typeof t.callback&&t.callback(jQuery(e.target))}}}},TECA.Gui.loading={_:{animationStart:0,stack:[]},push:function(){var e=generateUUID();return this._.stack.push(e),this.updateState(),e},pop:function(e){void 0!==e&&null!=e&&this._.stack.splice(this._.stack.indexOf(e),1),this.updateState()},updateState:function(){var e=this,t=jQuery(".te-head");e._.stack.length>0&&0==jQuery(".horizontal-loader",t).length&&(t.append(TECA.Gui.jhtml("core/global_loading",{teFeedbackMode:!1})),e._.animationStart=Date.now()),setTimeout((function(){e._.stack.length<=0&&(Date.now()-e._.animationStart>=1e3?jQuery(".horizontal-loader",t).remove():setTimeout((function(){jQuery(".horizontal-loader",t).remove()}),1e3-(Date.now()-e._.animationStart)))}),500)}},TECA.Gui.message={_:{list:[]},init:function(){var e=jQuery("body"),t=jQuery('<div id="timeneye_widget_messages"></div>');jQuery("#timeneye_widget_messages").remove(),e.append(t)},push:function(e){var t=e,i=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};void 0===e.length&&(t=[]).push(e);for(var n=0,o=t.length;n<o;n++)if("string"==typeof t[n].text){for(var a=!0,r=0,s=this._.list.length;r<s;r++)"object"==typeof this._.list[r]&&this._.list[r].text==t[n].text&&(a=!1);a&&(t[n].id=i()+i()+i()+i(),this._.list.push(t[n]))}return this},update:function(){var e,t="",i="<span style='background-image: url(\""+chrome.runtime.getURL("images/icon48.png")+"\")'></span>";this._.list.length>0&&TECA._.weareContentHosted&&(t='<div id="te_message_header">'+i+" Timeneye</div>");for(var n=0,o=this._.list.length;n<o;n++)"object"==typeof this._.list[n]&&(t+=TECA.Gui.jhtml("core/messageItem",{msgId:this._.list[n].id,msgType:void 0!==this._.list[n].type?this._.list[n].type:"default",msgText:this._.list[n].text,msgDuration:void 0!==this._.list[n].duration&&this._.list[n].duration,isAutohide:void 0!==this._.list[n].autoHide&&1==this._.list[n].autoHide,isFlashy:!0}));TECA._.weareContentHosted?(jQuery("#timeneye_widget_messages").remove(),jQuery("body").append('<div id="timeneye_widget_messages">'+t+"</div>"),e=jQuery("#timeneye_widget_messages")):(jQuery("#timeneye_widget_messages").remove(),jQuery("#timeneye_widget_cont").append('<div id="timeneye_widget_messages">'+t+"</div>"),e=jQuery("#timeneye_widget_messages")),jQuery(".te-message",e).on("click",(function(){TECA.Gui.message.removeItem(jQuery(this).data("msg-id"))})).each((function(){var e=jQuery(this);e.hasClass("flashy-message")&&setTimeout((function(){e.removeClass("flashy-message")}),60),e.hasClass("message-autohide")?setTimeout((function(){TECA.Gui.message.removeItem(e.data("msg-id"))}),e.data("msg-duration")?e.data("msg-duration"):5e3):e.outerHeight()})).slideDown(50)},removeItem:function(e){var t=this;if(void 0!==e){for(var i=0,n=this._.list.length;i<n;i++)void 0!==this._.list[i]&&this._.list[i].id==e&&("function"==typeof this._.list[i].removeCallback&&this._.list[i].removeCallback(),this._.list[i]=void 0);jQuery("#te_message_"+e).slideUp(500,(function(){TECA._.weareContentHosted&&(0==t._.list.length||function(){for(var e=!0,i=0,n=t._.list.length;i<n;i++)if(void 0!==t._.list[i]){e=!1;break}return e}())&&jQuery("#te_message_header").slideUp(500,(function(){jQuery(this).remove()})),jQuery(this).remove()}))}},success:function(e,t){this.push({type:"success",autoHide:!0,duration:3e3,text:e}).update(),"function"==typeof t&&t()},danger:function(e,t){"function"==typeof e&&void 0===t?t=e:"object"==typeof e&&"string"==typeof e.description&&(e=e.description),this.push({type:"danger",autoHide:!0,duration:3e3,text:"string"==typeof e?e:"Something went terribly wrong"}).update(),"function"==typeof t&&t()}},TECA.Gui.selectpicker={configuration:{target:null,type:"project",showInactive:!1,showNoOption:!0,showCustomOptions:null,canCreateEntity:!1,disableOptions:[],personalOnly:!0,onPopulateComplete:null,filter:!1,showOnlyMissingElements:null},init:function(e){var t=jQuery.extend({},this.configuration,e);this.selectpickers[t.type].init(t)},selectpickers:{project:{configuration:{showLocked:!1,showFavorites:!0,showPublic:!0,managedOnly:!1,entryLocked:!1,integrationCode:null,clientId:null,projectId:-2,userId:"object"==typeof TECA._.user?[TECA._.user.id]:[-1],billableOnly:!1},init:function(e){var t=this,i=jQuery.extend({},this.configuration,e);"object"!=typeof i.userId&&(i.userId=[i.userId]),i.target.length>0&&TECA.Project.model.loadAllProjectList((function(e){t.populate(e,i)}))},populate:function(e,t){if(t.target.length>0){var i,n,o,a="",r="",s="",l="",c="0000-00-00 00:00:00",d=-1,u=0;t.showNoOption&&(a+='<option value="-1" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;No selection" title="No selection">No selection</option>'),t.showCustomOptions&&(a+=t.showCustomOptions),t.canCreateEntity&&(a+='<option value="newItem" class="strong" data-content="<i class=\'iconeye iconeye-add-circle-1-f te-icon-newitem\'></i> &nbsp;Create a new project">Create a new project</option>'),""!=a&&(a+='<option data-divider="true"></option>');for(var h=0,f=e.length;h<f;h++){if(n=!1,l="",t.showOnlyMissingElements){i=!1;for(var p=0,m=t.showOnlyMissingElements.oldElements.length;p<m;p++)t.showOnlyMissingElements.oldElements[p].projectId==e[h].projectId&&(i=!0);if(t.showOnlyMissingElements.newElements.each((function(){jQuery(this).val()==e[h].projectId&&t.target.val()!=e[h].projectId&&(i=!0)})),i)continue}if((t.showPublic||1!=e[h].isPublic)&&(!t.billableOnly||0!=e[h].isBillable)){if(o=!0,"object"==typeof e[h].users&&e[h].users.length>0&&t.userId)for(p=0,m=t.userId.length;p<m;p++)if(-1==e[h].users.indexOf(""+t.userId[p])){o=!1;break}(null==t.clientId||t.clientId<=0||t.clientId>0&&e[h].clientId==t.clientId)&&(t.entryLocked&&e[h].projectId==t.projectId||!t.personalOnly||(void 0===e[h].users||"object"==typeof e[h].users&&0==e[h].users.length)&&1==e[h].isMember||"object"==typeof e[h].users&&e[h].users.length>0&&o)&&(0!=parseInt(e[h].apiOnly)||t.integrationCode&&t.integrationCode!=e[h].integrationCode||t.managedOnly&&1!=TECA._.user.isAdmin&&1!=e[h].isPM||(u++,e[h].lastUsed>c&&(c=e[h].lastUsed,d=e[h].projectId),t.showFavorites&&1==e[h].isFavorited&&(n=!0),t.showInactive&&0==e[h].isActive?l=TECA.Gui.selectpicker.addOption(t,{id:e[h].projectId,name:e[h].projectName,mode:"archived",isFavorite:n}):t.showLocked&&0==TECA._.user.isAdmin&&0==e[h].isMember?l=TECA.Gui.selectpicker.addOption(t,{id:e[h].projectId,name:e[h].projectName,mode:"locked",isFavorite:n}):(t.showInactive||t.showLocked||1==e[h].isActive||e[h].projectId==t.projectId)&&(l=TECA.Gui.selectpicker.addOption(t,{id:e[h].projectId,name:e[h].projectName,isFavorite:n})),n?r+=l:s+=l))}}""!=r&&(r+='<option data-divider="true"></option>'),t.clientId&&t.clientId>0&&0==u?t.target.html('<option value="-1">No projects for the selected Client</option>'):t.target.html(a+r+s),t.onPopulateComplete&&"function"==typeof t.onPopulateComplete&&t.onPopulateComplete({lastUsedProjectId:d,projectCount:u})}}},task:{configuration:{projectId:-1},init:function(e){var t=this,i=jQuery.extend({},this.configuration,e);i.target.length>0&&TECA.Task.model.loadTaskList((function(e){t.populate(e,i)}))},populate:function(e,t){if("number"!=typeof t.projectId&&"string"!=typeof t.projectId||(t.projectId=[t.projectId]),t.target.length>0){var i,n="",o=-1,a=0,r=[];void 0!==t.projectId&&null!=t.projectId&&t.projectId.length>0?1==t.projectId.length&&parseInt(t.projectId[0])>0?TECA.Project.model.loadAllProjectListItem(t.projectId[0],(function(s){o=parseInt(s.lastUsedTaskId),t.showNoOption&&(n+='<option value="-1" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;No selection" title="No selection">No selection</option>'),t.showCustomOptions&&(n+=t.showCustomOptions),t.canCreateEntity&&(1==TECA._.user.isAdmin||s.isPM)&&(n+='<option value="newItem" class="strong" data-content="<i class=\'iconeye iconeye-add-circle-1-f te-icon-newitem\'></i> &nbsp;Create a new phase">Create a new phase</option>'),""!=n&&(n+='<option data-divider="true"></option>');for(var l=0,c=e.length;l<c;l++){if(t.showOnlyMissingElements){i=!1;for(var d=0,u=t.showOnlyMissingElements.oldElements.length;d<u;d++)t.showOnlyMissingElements.oldElements[d].taskId==e[l].taskId&&(i=!0);if(t.showOnlyMissingElements.newElements.each((function(){jQuery(this).val()==e[l].taskId&&t.target.val()!=e[l].taskId&&(i=!0)})),i)continue}(e[l].projectId==t.projectId&&(t.showInactive&&0==e[l].isOpen&&(TECA._.user.isAdmin||1==s.isPM)||1==e[l].isOpen)||self.entryLocked&&e[l].projectId==t.projectId&&e[l].taskId==self.taskId)&&(0==e[l].isOpen?(n+=TECA.Gui.selectpicker.addOption(t,{id:e[l].taskId,name:e[l].taskName,mode:"archived"}),r.push(parseInt(e[l].taskId))):1==e[l].isOpen&&(n+=TECA.Gui.selectpicker.addOption(t,{id:e[l].taskId,name:e[l].taskName}),r.push(parseInt(e[l].taskId))),a++)}})):n+='<option value="-1">All</option>':n+='<option value="-1">Select a project first</option>',t.target.html(n),t.onPopulateComplete&&"function"==typeof t.onPopulateComplete&&t.onPopulateComplete({lastUsedTaskId:o,taskCount:a,pushedTaskIds:r})}}},user:{configuration:{showAvatar:!0,showNoProject:!1,projectId:null,userIds:null,ignoreUserIds:null},init:function(e){var t=this,i=jQuery.extend({},this.configuration,e);i.target.length>0&&(i.projectId?i.projectId>0?TECA.Project.model.loadProjectUserList(i.projectId,(function(e){t.populate(e,i)})):t.populate([],i):TECA.User.model.loadUserList((function(e){t.populate(e,i)})))},populate:function(e,t){if(t.target.length>0){var i,n,o="";if(e.length>0){t.showCustomOptions&&(o+=t.showCustomOptions),""!=o&&(o+='<option data-divider="true"></option>');for(var a=0,r=e.length;a<r;a++)if(!(t.userIds&&-1==t.userIds.indexOf(e[a].userId)||t.ignoreUserIds&&-1!=t.ignoreUserIds.indexOf(parseInt(e[a].userId)))){if(i=!!t.showAvatar&&e[a].avatar,t.showOnlyMissingElements){n=!1;for(var s=0,l=t.showOnlyMissingElements.oldElements.length;s<l;s++)t.showOnlyMissingElements.oldElements[s].userId==e[a].userId&&(n=!0);if(t.showOnlyMissingElements.newElements.each((function(){jQuery(this).val()==e[a].userId&&t.target.val()!=e[a].userId&&(n=!0)})),n)continue}t.showInactive&&0==e[a].enabled?(o+=TECA.Gui.selectpicker.addOption(t,{id:e[a].userId,name:e[a].name,type:"user",avatar:i,mode:"archived"})):1==e[a].enabled&&(0==e[a].projectCount?o+=TECA.Gui.selectpicker.addOption(t,{id:e[a].userId,name:e[a].name,type:"user",avatar:i,mode:"noProject"}):o+=TECA.Gui.selectpicker.addOption(t,{id:e[a].userId,name:e[a].name,type:"user",avatar:i}))}}else o+='<option value="-1">Select a project first</option>';t.target.html(o),t.onPopulateComplete&&"function"==typeof t.onPopulateComplete&&t.onPopulateComplete({userCount:e.length})}}},client:{configuration:{showNoProject:!1,showAll:!0,showNoClient:!1,showAllOption:!1},init:function(e){var t=this,i=jQuery.extend({},this.configuration,e);i.target.length>0&&TECA.Client.model.loadClientList((function(e){t.populate(e,i)}))},populate:function(e,t){if(t.target.length>0){var i,n="";t.showNoOption?n=t.filter?'<option value="-2" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;No client" title="No client">No client</option>':'<option value="-1" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;No selection" title="No selection">No selection</option>':t.showAllOption&&(n='<option value="-1">There are no clients</option>',e.length>0&&(n='<option value="-1" class="strong" data-content="<i class=\'iconeye iconeye-check-circle-2 te-icon-all\'></i> &nbsp;All clients" title="All">All clients</option>')),t.showCustomOptions&&(n+=t.showCustomOptions),t.canCreateEntity&&(n+='<option value="newItem" class="strong" data-content="<i class=\'iconeye iconeye-add-circle-1-f te-icon-newitem\'></i> &nbsp;Create a new client">Create a new client</option>'),""!=n&&(n+='<option data-divider="true"></option>'),t.showNoClient&&(n+='<option value="-1" data-content="Without a client" title="Without a client">Without a client</option>');for(var o=0,a=e.length;o<a;o++)if(t.showAll||0!=e[o].projectsCount){if(t.showOnlyMissingElements){i=!1;for(var r=0,s=t.showOnlyMissingElements.oldElements.length;r<s;r++)t.showOnlyMissingElements.oldElements[r].clientId==e[o].clientId&&(i=!0);if(t.showOnlyMissingElements.newElements.each((function(){jQuery(this).val()==e[o].clientId&&t.target.val()!=e[o].clientId&&(i=!0)})),i)continue}t.showNoProject&&1==TECA._.user.isAdmin&&0==e[o].projectsCount?n+=TECA.Gui.selectpicker.addOption(t,{id:e[o].clientId,name:e[o].name,mode:"noProject"}):n+=TECA.Gui.selectpicker.addOption(t,{id:e[o].clientId,name:e[o].name})}t.target.html(n),t.onPopulateComplete&&"function"==typeof t.onPopulateComplete&&t.onPopulateComplete({clientCount:e.length})}}},group:{configuration:{showNoMember:!1,showAll:!0,showMemberCount:!1},init:function(e){var t=this,i=jQuery.extend({},this.configuration,e);i.target.length>0&&TECA.User.model.loadGroupList((function(e){t.populate(e,i)}))},populate:function(e,t){if(t.target.length>0){var i,n="";t.showNoOption&&(n=t.filter?'<option value="-2" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;No group" title="No group">No group</option>':'<option value="-1" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;No selection" title="No selection">No selection</option>',t.showCustomOptions&&(n+=t.showCustomOptions),e.length>0&&(n+='<option data-divider="true"></option>'));for(var o=0,a=e.length;o<a;o++)if(t.showAll||0!=e[o].userCount){if(t.showOnlyMissingElements){i=!1;for(var r=0,s=t.showOnlyMissingElements.oldElements.length;r<s;r++)t.showOnlyMissingElements.oldElements[r].groupId==e[o].groupId&&(i=!0);if(t.showOnlyMissingElements.newElements.each((function(){jQuery(this).val()==e[o].groupId&&t.target.val()!=e[o].groupId&&(i=!0)})),i)continue}t.showNoMember&&0==e[o].userCount?n+=TECA.Gui.selectpicker.addOption(t,{id:e[o].groupId,name:e[o].groupName,mode:"noMembers"}):t.showMemberCount?n+=TECA.Gui.selectpicker.addOption(t,{id:e[o].groupId,name:e[o].groupName,count:e[o].userCount+" members",mode:"showMembers"}):n+=TECA.Gui.selectpicker.addOption(t,{id:e[o].groupId,name:e[o].groupName})}t.target.html(n),t.onPopulateComplete&&"function"==typeof t.onPopulateComplete&&t.onPopulateComplete({})}}},taskCategory:{configuration:{},init:function(e){var t=this,i=jQuery.extend({},this.configuration,e);i.target.length>0&&TECA.Task.model.loadTaskCategoriesList((function(e){t.populate(e,i)}))},populate:function(e,t){if(t.target.length>0){var i,n="";t.showNoOption&&(n='<option value="-2" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;No phase category" title="No phase category">No phase category</option>'),t.showCustomOptions&&(n+=t.showCustomOptions),t.canCreateEntity&&(n+='<option value="newItem" class="strong" data-content="<i class=\'iconeye iconeye-add-circle-1-f te-icon-newitem\'></i> &nbsp;Create a new phase category">Create a new phase category</option>'),""!=n&&(n+='<option data-divider="true"></option>');for(var o=0,a=e.length;o<a;o++){if(t.showOnlyMissingElements){i=!1;for(var r=0,s=t.showOnlyMissingElements.oldElements.length;r<s;r++)t.showOnlyMissingElements.oldElements[r].taskCategoryId==e[o].taskCategoryId&&(i=!0);if(t.showOnlyMissingElements.newElements.each((function(){jQuery(this).val()==e[o].taskCategoryId&&t.target.val()!=e[o].taskCategoryId&&(i=!0)})),i)continue}n+=TECA.Gui.selectpicker.addOption(t,{id:e[o].taskCategoryId,name:e[o].taskCategoryName})}t.target.html(n),t.onPopulateComplete&&"function"==typeof t.onPopulateComplete&&t.onPopulateComplete({})}}}},addOption:function(e,t){var i='<option value="'+t.id+'"',n="",o="",a="";return void 0===t.mode&&(t.mode="normal"),void 0===t.isFavorite&&(t.isFavorite=!1),"user"==t.type&&t.avatar&&(a="<img class='bt-select-item-avatar' src='"+t.avatar+"'/> &nbsp;"),i+=' data-content="',t.isFavorite&&(i+="<i class='iconeye iconeye-vote-star-f te-icon-fav'></i> &nbsp;",-1==e.disableOptions.indexOf("favorite")&&-1==e.disableOptions.indexOf("active")||(n=" disabled")),i+=a+t.name,"locked"==t.mode?(i+="<span class='bt-select-addtxt-menuonly'> locked</span><span class='bt-select-addtxt-menuonly-holder w-50'></span>",-1==e.disableOptions.indexOf("locked")&&-1==e.disableOptions.indexOf("active")||(n=" disabled")):"archived"==t.mode?(o="archived","user"==t.type&&(o="deactivated"),i+="<span class='bt-select-addtxt-menuonly'> "+o+"</span><span class='bt-select-addtxt-menuonly-holder w-50'></span>",-1==e.disableOptions.indexOf("archived")&&-1==e.disableOptions.indexOf("active")||(n=" disabled")):e.showNoProject&&"noProject"==t.mode?(i+="<span class='bt-select-addtxt-menuonly'>no projects</span><span class='bt-select-addtxt-menuonly-holder w-60'></span>",-1==e.disableOptions.indexOf("noProject")&&-1==e.disableOptions.indexOf("active")||(n=" disabled")):"noMembers"==t.mode?(i+="<span class='bt-select-addtxt-menuonly'>no members</span><span class='bt-select-addtxt-menuonly-holder w-60'></span>",-1!=e.disableOptions.indexOf("noMember")&&(n=" disabled")):"showMembers"==t.mode?i+="<span class='bt-select-addtxt-menuonly'>"+t.count+"</span><span class='bt-select-addtxt-menuonly-holder w-60'></span>":-1!=e.disableOptions.indexOf("active")&&(n=" disabled"),i+='"'+n,""==a&&(i+=' title="'+t.name+'"'),i+=">"+t.name+"</option>"}},TECA.Gui.sure={stack:[],init:function(){var e=this;window.onbeforeunload=function(){return e.alert()}},alert:function(){return this.stack.length>0?"You have some unsaved fields, if you leave the page right now you will lose them.":void 0},push:function(e){this.stack.indexOf(e)<0&&this.stack.push(e)},pop:function(e){this.stack.indexOf(e)>=0&&this.stack.splice(this.stack.indexOf(e),1)},has:function(e){return this.stack.indexOf(e)>=0}},TECA.defineClass("Integration",{list:{basecamp:"Basecamp 2",basecamp3:"Basecamp 3",hiveed:"Hiveed",trello:"Trello",wunderlist:"Wunderlist",asana:"Asana",activecollab:"ActiveCollab",podio:"Podio",breeze:"Breeze",github:"Github",gitlabcom:"GitLab.com",microsofttodo:"Microsoft to-do",pivotaltracker:"Pivotal Tracker",planner:"Microsoft Planner",googlecalendar:"Google Calendar",consistency:"your daily activity",todoist:"Todoist",customerly:"Customerly",taskade:"Taskade",zendesk:"Zendesk Support",googlemail:"Google Mail",googledocs:"Google Docs",googlesheets:"Google Sheets",clickup:"Clickup",zapier:"Zapier",zenkit:"Zenkit"},actionButtonText:{basecamp:"Open this Basecamp 2 todo in a new tab",basecamp3:"Open this Basecamp 3 todo in a new tab",trello:"Open this Trello card in a new tab",wunderlist:"Open this Wunderlist task in a new tab",asana:"Open this Asana task in a new tab",activecollab:"Open this ActiveCollab task in a new tab",podio:"Open this Podio task in a new tab",breeze:"Open this Breeze task in a new tab",github:"Open this Githab issue in a new tab",gitlabcom:"Open this GitLab issue in a new tab",pivotaltracker:"Open this Pivotal Tracker story in a new tab",planner:"",googlecalendar:"Open this Google Calendar event in a new tab",todoist:"",customerly:"",taskade:"",microsofttodo:"",zendesk:"Open this Zendesk Ticket in a new tab",googlemail:"Open this mail in a new tab",googledocs:"Open this document in a new tab",googlesheets:"Open this spreadsheet in a new tab",clickup:"Open this Clickup task in a new tab",zenkit:"Open this Zenkit item in a new tab"},filterNotesDouble:function(e,t){var i={notes:e,integrationInfo:""};return null!=t&&"object"==typeof t&&"string"==typeof t.integration&&(i.integrationInfo=TECA.Integration.getSourceHtml(t),TECA.Integration.getSourceText(t)==e&&(i.notes="")),""!=i.notes&&(i.notes=TECA.Integration.getSourceHtml({integration:"te-entity-note",url:"",text:i.notes.replace(/(?:\r\n|\r|\n)/g,"<br />")})),i},getSourceHtml:function(e){return"object"==typeof e&&"consistency"!=e.integration?TECA.Gui.jhtml("entity/integration",{hasAction:!1,hasDataForSave:"te-entity-note"!=e.integration,dataForSave:btoa(JSON.stringify(e)),integrationUrl:e.url,integrationCode:e.integration,integrationTitle:void 0!==this.actionButtonText[e.integration]?this.actionButtonText[e.integration]:"",integrationText:void 0!==e.text?e.text:""}):""},getSourceText:function(e){return"object"==typeof e&&void 0!==e.text?e.text:""}}),TECA.Gui.jhtml().push("chip",[{name:"chip_body",content:'<span class="te-chip" data-chip-type="{{chipType}}" {{if:hasId}}data-chip-entity-id="{{chipId}}"{{endif:hasId}}>{{if:hasLeadingIcon}} {{if:isAvatar}} <img class="te-chip-leading-icon avatar" src="{{avatarSrc}}"> {{else:isAvatar}} <span class="te-chip-leading-icon {{leadingIcon}}"></span> {{endif:isAvatar}} {{endif:hasLeadingIcon}} <span class="te-chip-name">{{chipValue}}</span> {{if:hasTrailingIcon}} <span class="te-chip-trailing-icon {{trailingIcon}}"></span> {{endif:hasTrailingIcon}} </span>'}]),TECA.Gui.jhtml().push("core",[{name:"body",content:'<div class="te-head">{{if:isLogged}}<ul class="te_topbar_menu te_topbar_navigator"><li class="te_topbar_submenu te_company_menu navigator-first"><div id="te_topbar_viewTitle"><i class="icon iconeye {{menuViewTitleIcon}}"></i> <span></span></div>{{if:showSubtitle}}<div class="te-topbar-subtitle">{{subtitle}}</div>{{endif:showSubtitle}}</li></ul>{{if:showMenu}}<div id="te_topbar_mainactions"><ul id="te_topbar_leftmenu" class="te_topbar_menu">{{if:isPrimaryActionTimer}}<li class="circle-item timers"><a data-href="#open-my-timers-list" title="Timers" class="topbar-item-with-tip" data-timeneye-view="timers"><span class="icon iconeye iconeye-android-time"></span></a></li>{{else:isPrimaryActionTimer}}<li class="circle-item entries"><a data-href="#open-my-entries-list" title="Entries" class="topbar-item-with-tip" data-timeneye-view="entries"><span class="icon iconeye iconeye-check-bubble"></span></a></li>{{endif:isPrimaryActionTimer}}<li id="te_topbar_registerTime"><button class="btn btn-lg btn-primary topbar-item-with-tip" title="Register time" data-timeneye-view="registerTime"><i class="iconeye iconeye-android-add"></i></button></li>{{if:!isPrimaryActionTimer}}<li class="circle-item timers"><a data-href="#open-my-timers-list" title="Timers" class="topbar-item-with-tip" data-timeneye-view="timers"><span class="icon iconeye iconeye-android-time"></span></a></li>{{else:!isPrimaryActionTimer}}<li class="circle-item entries"><a data-href="#open-my-entries-list" title="Entries" class="topbar-item-with-tip" data-timeneye-view="entries"><span class="icon iconeye iconeye-check-bubble"></span></a></li>{{endif:!isPrimaryActionTimer}}</ul></div>{{endif:showMenu}}<ul id="te_topbar_rightmenu" class="te_topbar_menu"><li class="te_topbar_submenu">{{if:showMenu}} <a data-href="#open-userMenu" title="{{userName}}" data-menu-id="teUserMenu"><div class="avatar"><img src="{{userAvatarSrc}}" data-tedataupdate="avatar-user"></div></a>{{else:showMenu}} <a data-href="#close-dialog"><i class="iconeye iconeye-android-close"></i> </a>{{endif:showMenu}}</li></ul>{{endif:isLogged}}</div><div class="te-body"></div><div class="te-topbar-submenu-cont right-to-left" id="teUserMenu"><div class="menu-header"><div>Menu</div><a data-href="#close-userMenu"><i class="iconeye iconeye-android-close"></i></a></div><div class="menu-body"><ul class="submenu-cont company-submenu"><li class="title-with-img"><div><img src="{{accountAvatarSrc}}" data-tedataupdate="avatar-user"> <span class="manager-space"><span class="title">{{accountName}}</span> {{if:isGM}} <span class="managed-group" data-toggle="popover" data-placement="right" data-trigger="hover" data-container="body" data-html="true" data-title="Group manager"><span class="iconeye iconeye-user-group"></span> <span class="group-name">{{groupName}}</span> </span>{{endif:isGM}}</span></div></li><li class="separator"></li><li><a href="{{urlWebApp}}dashboard" title="Dashboard" data-menu-item-id="dashboard" target="_blank"><i class="icon-left iconeye iconeye-calendar-3"></i> <span>Dashboard</span></a></li>{{if:accountIsPayingSubscription}}{{if:userIsAdmin}}<li><a href="{{urlWebApp}}status" title="Status" data-menu-item-id="status" target="_blank"><i class="icon-left iconeye iconeye-transfer-user-group"></i> <span>Status</span></a></li>{{endif:userIsAdmin}}{{endif:accountIsPayingSubscription}} {{if:isMoodModeEnabled}}<li><a href="{{urlWebApp}}mood" title="Mood" data-menu-item-id="mood" target="_blank"><i class="icon-left iconeye iconeye-smiley-neutral"></i> <span>Mood</span></a></li>{{endif:isMoodModeEnabled}}<li><a href="{{urlWebApp}}projects" title="Projects" data-menu-item-id="projects" target="_blank"><i class="icon-left iconeye iconeye-folder-bookmark"></i> <span>Projects</span></a></li><li><a href="{{urlWebApp}}reports" title="Reports" data-menu-item-id="reports" target="_blank"><i class="icon-left iconeye iconeye-business-graph-pie-1"></i> <span>Reports</span></a></li><li class="separator"></li><li><a href="{{urlWebApp}}integrations" title="Integrations" data-menu-item-id="integrations" target="_blank"><i class="icon-left iconeye iconeye-modules-2"></i> <span>Integrations</span></a></li>{{if:userIsAdmin}} {{if:accountIsPayingSubscription}}<li><a href="{{urlWebApp}}import" title="Import data" data-menu-item-id="import" target="_blank"><i class="icon-left iconeye iconeye-file-upload-1"></i> <span>Import data</span></a></li>{{endif:accountIsPayingSubscription}}<li><a href="{{urlWebApp}}users" title="Team management" data-menu-item-id="team-management" target="_blank"><i class="icon-left iconeye iconeye-user-shield-1"></i> <span>Team management</span></a></li><li class="separator"></li><li><a href="{{urlWebApp}}account" title="Account settings" data-menu-item-id="account-settings" target="_blank"><i class="icon-left iconeye iconeye-user-group-settings"></i> <span>Account settings</span></a></li>{{if:userIsOwner}}<li><a href="{{urlWebApp}}billing" title="Plan & billing" data-menu-item-id="plans-billing" target="_blank"><i class="icon-left iconeye iconeye-shield-cash"></i> <span>Plan & billing</span></a></li>{{endif:userIsOwner}} {{endif:userIsAdmin}}</ul><ul class="submenu-cont user-submenu"><li class="title-with-img"><div><img src="{{userAvatarSrc}}" data-tedataupdate="avatar-user"> <span class="title">{{userName}}</span></div></li><li class="separator"></li><li><a href="{{urlWebApp}}preferences/appsettings" title="App settings" data-menu-item-id="app-settings" target="_blank"><i class="icon-left iconeye iconeye-user-setting"></i> <span>App settings</span></a></li><li><a href="{{urlWebApp}}preferences/userinfo" title="User info" data-menu-item-id="user-info" target="_blank"><i class="icon-left iconeye iconeye-id-card-3"></i> <span>User info</span></a></li><li class="separator"></li><li><a data-href="#widget-options" title="Widget settings"><i class="icon-left iconeye iconeye-modules-2"></i> <span>Widget settings</span></a></li><li class="separator"></li><li><a data-href="#action-logout" title="Logout"><i class="icon-left iconeye iconeye-power-button-1"></i> <span>Logout</span></a></li></ul></div></div>'},{name:"global_loading",content:'{{if:teFeedbackMode}}<div class="te-feedback-loadingbar{{if:hasClass_positionTop}} position-top{{endif:hasClass_positionTop}}{{if:hasClass_fullWidth}} full-width{{endif:hasClass_fullWidth}}"></div>{{if:hasMessage}} {{if:hasIcon}} <i class="{{icon}}" style="font-size: 24px"></i> {{else:hasIcon}}<div class="dot-pulse"></div>{{endif:hasIcon}}<div style="font-weight: bold">{{message}}</div>{{endif:hasMessage}} {{else:teFeedbackMode}}<div class="horizontal-loader"></div>{{endif:teFeedbackMode}}'},{name:"messageItem",content:'<div id="te_message_{{msgId}}" class="te-message message-{{msgType}}{{if:isAutohide}} message-autohide{{endif:isAutohide}}{{if:isFlashy}} flashy-message{{endif:isFlashy}}" data-msg-id="{{msgId}}" {{if:msgDuration}}data-msg-duration="{{msgDuration}}"{{endif:msgDuration}}><div class="cont">{{if(msgType="default")}}<i class="icon-left iconeye iconeye-interface-information-f"></i>{{endif(msgType="default")}} {{if(msgType="success")}}<i class="icon-left iconeye iconeye-check-circle-2-1"></i>{{endif(msgType="success")}} {{if(msgType="info")}}<i class="icon-left iconeye iconeye-interface-information-f"></i>{{endif(msgType="info")}} {{if(msgType="warning")}}<i class="icon-left iconeye iconeye-interface-alert-circle-f"></i>{{endif(msgType="warning")}} {{if(msgType="danger")}}<i class="icon-left iconeye iconeye-remove-circle-1-f"></i>{{endif(msgType="danger")}} {{msgText}} <i class="icon-close iconeye iconeye-android-close"></i></div></div>'}]),TECA.Gui.jhtml().push("dialog",[{name:"base",content:'<div class="te-dialog {{if:isCardType}} card-type{{endif:isCardType}}{{if:dialogClass}} {{dialogClass}}{{endif:dialogClass}}" data-dialog-type="{{dialogType}}" data-dialog-instance-id="{{instanceId}}" data-dialog-hosted="{{isHosted}}" {{if:hasContent}}data-te-source="{{sourceName}}" {{endif:hasContent}}{{if:dialogId}}data-dialog-id="{{dialogId}}" {{endif:dialogId}}style="{{if:notModal}}{{else:notModal}}cursor:auto;{{endif:notModal}}"><div class="te-container"><div class="te-dialog-container te-feedback-cont" data-loading-inset="true" data-loading-position="top" data-loading-width="full" {{if:isCardType}}data-loading-bgcolor="blue"{{endif:isCardType}}>{{if:hasHead}}<div class="te-dialog-head {{if:hasHeadIcon}}with-icon{{endif:hasHeadIcon}}"><div class="te-dialog-title-wrapper"><div class="te-dialog-title">{{dialogTitle}}</div><div class="te-dialog-widget-title-wrapper">{{if:dialogTitleWidgetHtml}}<span class="te-dialog-title-widget">{{dialogTitleWidgetHtml}}</span>{{endif:dialogTitleWidgetHtml}} <a data-href="#close-dialog"><i class="icon iconeye iconeye-android-close te-dialog-btn-cancel"></i></a></div></div>{{if:hasHeadSubtitle}}<div class="te-dialog-subtitle">{{dialogHeadSubtitleHtml}}</div>{{endif:hasHeadSubtitle}}</div>{{endif:hasHead}} {{if:hasSidebar}}<div class="te-dialog-sidebar te-feedback-cont" data-loading-inset="true" {{if:isCardType}}data-loading-bgcolor="blue"{{endif:isCardType}}></div>{{endif:hasSidebar}}</div></div></div>'},{name:"entriesLog_body",content:'<div class="te-dialog-body"><div id="dialogEntriesLog_list_{{uniqueId}}" class="dialogEntriesLog_list"></div></div><div class="te-dialog-foot"><div class="row entriesLog_footNormal"><div class="col-xs-4"></div><div class="col-xs-4 text-center" style="padding-left:0;padding-right:0"><div class="entriesLog_resultsCounterCont"></div></div><div class="col-xs-4"><div class="entriesLog_resultsTotalTimeCont"></div></div></div><div class="row entriesLog_footAdvanced"><div class="col-xs-3 checkbox-all-cont"><input type="checkbox" name="entriesLog_check_toggleAll" value="1"></div><div class="col-xs-6 text-center"><div class="entriesLog_resultsCounterCont"></div></div><div class="col-xs-3"><div class="entriesLog_resultsTotalTimeCont"></div></div></div></div>'},{name:"entriesLog_headSubtitle",content:'<span class="entriesLog-filters-cont te-feedback-cont" data-loading-inset="true" data-loading-bgcolor="blue"><span class="filters-title"></span><span class="filters-recap"></span> </span>'},{name:"entriesLog_sidebar",content:'<div class="filters-container apply-action-parent"><h5>Filters</h5>{{if:showFilters_members}}<div class="form-group"><label><span class="title">Team members</span> <i class="icon-filter-applied iconeye iconeye-android-done"></i></label><select name="filter_userId" class="form-control dark-bg multiselect" {{if:filterVal_userId}}data-value="{{filterVal_userId}}" {{endif:filterVal_userId}}data-live-search="true" data-selected-text-format="count > 1" data-count-selected-text="{0} members selected" data-actions-box="true" data-none-selected-text="All" multiple="multiple"></select></div>{{endif:showFilters_members}} {{if:showFilters_groups}}<div class="form-group"><label><span class="title">Groups</span> <i class="icon-filter-applied iconeye iconeye-android-done"></i></label><select name="filter_groupId" class="form-control dark-bg multiselect" {{if:filterVal_groupId}}data-value="{{filterVal_groupId}}" {{endif:filterVal_groupId}}data-live-search="true" data-selected-text-format="count > 1" data-count-selected-text="{0} groups selected" data-actions-box="true" data-none-selected-text="All" multiple="multiple"></select></div>{{endif:showFilters_groups}}<div class="form-group"><label><span class="title">Timeframe</span> <i class="icon-filter-applied iconeye iconeye-android-done"></i></label><select name="filter_timeframe" class="form-control dark-bg" {{if:filterVal_timeframe}}data-value="{{filterVal_timeframe}}"{{endif:filterVal_timeframe}}><option value="all" class="strong" data-content="<i class=\'iconeye iconeye-check-circle-2 te-icon-all\'></i> &nbsp;No timeframe" title="No timeframe">No timeframe</option><option value="custom" class="strong" data-content="<i class=\'iconeye iconeye-pencil-1 te-icon-custom\'></i> &nbsp;Custom timeframe" title="Custom timeframe">Custom timeframe</option><option data-divider="true"></option><option value="today">Today</option><option value="week_this">This Week</option><option value="month_this">This Month</option><option value="week_last">Last Week</option><option value="month_last">Last Month</option><option data-divider="true"></option><option value="days_7">Last 7 days</option><option value="days_15">Last 15 days</option><option value="days_30">Last 30 days</option><option data-divider="true"></option><option value="months_3">Last 3 months</option><option value="months_6">Last 6 months</option><option value="months_12">Last 12 month</option></select><div class="input-group filter_timeframe_customPeriod"><input type="text" name="filter_dateFrom" class="form-control dark-bg" {{if:filterVal_dateFrom}}value="{{filterVal_dateFrom}}"{{endif:filterVal_dateFrom}}> <span class="input-group-addon dark-bg">to</span> <input type="text" name="filter_dateTo" class="form-control dark-bg" {{if:filterVal_dateTo}}value="{{filterVal_dateTo}}"{{endif:filterVal_dateTo}}></div></div><div class="form-group"><label><span class="title">Projects</span> <i class="icon-filter-applied iconeye iconeye-android-done"></i></label><select name="filter_projectId" class="form-control dark-bg multiselect" {{if:filterVal_projectId}}data-value="{{filterVal_projectId}}" {{endif:filterVal_projectId}}data-live-search="true" data-selected-text-format="count > 1" data-count-selected-text="{0} projects selected" data-actions-box="true" data-none-selected-text="All" multiple="multiple"></select></div><div class="form-group"><label><span class="title">Phases</span> <i class="icon-filter-disabled-info iconeye iconeye-interface-information-f" data-toggle="popover" data-placement="right" data-trigger="hover" data-container="body" data-html="true" data-title="Disabled filter" data-content="To filter by phase you need to select one single project."></i> <i class="icon-filter-applied iconeye iconeye-android-done"></i></label><select name="filter_taskId" class="form-control dark-bg multiselect" {{if:filterVal_taskId}}data-value="{{filterVal_taskId}}" {{endif:filterVal_taskId}}data-live-search="true" data-selected-text-format="count > 1" data-count-selected-text="{0} phases selected" data-actions-box="true" data-none-selected-text="All" multiple="multiple"></select></div><div class="form-group"><label><span class="title">Phase categories</span> <i class="icon-filter-applied iconeye iconeye-android-done"></i></label><select name="filter_taskCategoryId" class="form-control dark-bg multiselect" {{if:filterVal_taskCategoryId}}data-value="{{filterVal_taskCategoryId}}" {{endif:filterVal_taskCategoryId}}data-live-search="true" data-selected-text-format="count > 1" data-count-selected-text="{0} categories selected" data-actions-box="true" data-none-selected-text="All" multiple="multiple"></select></div><div class="form-group"><label><span class="title">Clients</span> <i class="icon-filter-applied iconeye iconeye-android-done"></i></label><select name="filter_clientId" class="form-control dark-bg multiselect" {{if:filterVal_clientId}}data-value="{{filterVal_clientId}}" {{endif:filterVal_clientId}}data-live-search="true" data-selected-text-format="count > 1" data-count-selected-text="{0} clients selected" data-actions-box="true" data-none-selected-text="All" multiple="multiple"></select></div><div class="form-group"><label><span class="title">Tag lists</span> <i class="icon-filter-applied iconeye iconeye-android-done"></i></label><select name="filter_tagListId" class="form-control dark-bg multiselect" {{if:filterVal_tagListId}}data-value="{{filterVal_tagListId}}" {{endif:filterVal_tagListId}}data-live-search="true" data-live-search-placeholder="Search within tags" data-selected-text-format="count > 1" data-count-selected-text="{0} tag lists selected" data-actions-box="true" data-none-selected-text="All" data-required-tltp-pos="bottom" multiple="multiple"></select></div><div class="form-group"><label><span class="title">Tags</span> <i class="icon-filter-applied iconeye iconeye-android-done"></i></label><select name="filter_tagId" class="form-control dark-bg multiselect" {{if:filterVal_tagId}}data-value="{{filterVal_tagId}}" {{endif:filterVal_tagId}}data-live-search="true" data-live-search-placeholder="Search within tags" data-selected-text-format="count > 1" data-count-selected-text="{0} tags selected" data-actions-box="true" data-none-selected-text="All" data-required-tltp-pos="bottom" multiple="multiple"></select></div>{{if:showFilters_billable}}<div class="form-group"><label><span class="title">Billed flag</span> <i class="icon-filter-applied iconeye iconeye-android-done"></i></label><select name="filter_billed" class="form-control dark-bg" {{if:hasFilterVal_billed}}data-value="{{filterVal_billed}}"{{endif:hasFilterVal_billed}}><option value="all" class="strong" data-content="<i class=\'iconeye iconeye-check-circle-2 te-icon-all\'></i> &nbsp;Any state" title="Any state">Any state</option><option data-divider="true"></option><option value="2">Not billable</option><option value="1">Billed</option><option value="0">Billable</option></select></div>{{endif:showFilters_billable}}<div class="form-group"><label><span class="title">Notes and integration info</span> <i class="icon-filter-applied iconeye iconeye-android-done"></i></label><input type="text" name="filter_notesText" class="form-control dark-bg" placeholder="Search..." {{if:filterVal_notesText}}value="{{filterVal_notesText}}"{{endif:filterVal_notesText}}></div><div class="form-group"><label><span class="title">Integration source</span> <i class="icon-filter-applied iconeye iconeye-android-done"></i></label><input type="text" name="filter_sourceInfo" class="form-control dark-bg" placeholder="Search..." {{if:filterVal_sourceInfo}}value="{{filterVal_sourceInfo}}"{{endif:filterVal_sourceInfo}}></div><div class="apply-action-cont"><button class="btn btn-default btn_applyFilters">Apply filters</button></div></div><div class="bulkactions-container apply-action-parent"><div class="form-group text-center" style="margin-bottom:0"><div class="counter_cont_selected"><span class="counter">0</span><span> &nbsp;items selected</span></div><div class="counter_cont_hours"><span class="counter">0:00</span><span> &nbsp;total</span></div></div><hr><div class="advanced-actions te-feedback-cont" data-loading-inset="true" data-loading-bgcolor="azure"></div><div class="apply-action-cont"><button class="btn btn-primary btn_applyBulkActions">Update entries</button></div></div>'},{name:"entriesLog_titleWidget",content:'<button class="btn btn-sm btn-default btn-ghost btnEntriesLog_toggleSidebar"><span class="sidebar-show">Show filters</span> <span class="sidebar-hide">Hide filters</span></button>'},{name:"estimateLogs_body",content:'<div class="te-dialog-body"><div class="list" id="te_estimate_log_list"></div></div>'},{name:"estimateLogs_item",content:'<div class="estimate-log-item item" data-estimate-log-id="{{estimateLogId}}"><div class="user-avatar te-avatar"><img class="user-avatar" src="{{userAvatar}}"></div><div class="estimate-log-data"><div class="estimate-log-header"><span class="user-name">{{userName}}</span>, <span class="date">{{date}}</span></div><div class="estimate-log-details"><span class="time">At {{time}}</span>, <span class="user-name">{{userName}}</span> <span class="action">{{action}} the task estimate:</span> {{if:delta}}<span class="delta"><b>{{sign}}{{delta}}</b></span>{{endif:delta}} <span class="change">({{formattedOldEstimate}} -> {{formattedNewEstimate}})</span></div></div></div>'},{name:"estimates_body",content:'<div class="te-dialog-body"><div class="form-group"><label>Set the overall estimated time needed to complete this task</label><div class="col-xs-7 input-wrapper"><div class="input-group"><input type="number" name="estimate" class="form-control required text-right" value="{{estimate}}" placeholder="0"> <span class="input-group-addon" style="border-left:0;border-right:0">h</span></div></div></div></div><div class="te-dialog-foot"><button class="btn btn-success btnEstimate_save">Save</button></div>'},{name:"projectNew_body",content:'<div class="te-dialog-body te-scroll-cont">{{if:userCanCreateProjects}}<div class="te-collapse-header te-collapse-disable" data-te-body="core-body">General info</div><div class="te-collapse-body te-visible" data-te-name="core-body"><div class="form-section"><div class="row"><div class="col-xs-10"><div class="form-group"><label>Name</label><input type="text" name="projectNew_name" class="form-control required"></div></div><div class="col-xs-2"><div class="form-group"><label>Color</label><input type="text" name="projectNew_color" class="form-control required"></div></div></div>{{if:!isFree}} {{if:userIsAdmin}}<div class="row"><div class="col-xs-12"><div class="form-group flex-center"><input id="projectNew_isPublic" type="checkbox">&nbsp;&nbsp;<label class="block-label">Make the project public for the workspace <i class="icon-info iconeye iconeye-interface-information-f te-step-help" data-toggle="popover" data-placement="right" data-trigger="hover" data-container="body" data-html="true" data-content="All workspace members are added to public projects. Only owners/admins can set projects as public."></i></label></div></div></div>{{endif:userIsAdmin}} {{endif:!isFree}} {{if:showTeamFormGroup}}<div class="form-group formGroupTeamMembers"><label>Add the following members</label>{{if:userIsAdmin}} {{if:hasGroups}}<div class="addGroupsCont"><select name="projectNew_addGroup" class="form-control bs-sm ghost-border" title="Add group" data-dropdown-align-right="true"></select></div>{{endif:hasGroups}}<div class="moduleCont_users">{{if:hasGroups}}<div class="groups-cont"></div>{{endif:hasGroups}}<div class="tags-cont"><div class="newUserInputCont"><div class="ghost-content"></div><input type="text" name="projectNew_addUser"></div></div><div class="tip-cont">press "enter" to add a member</div></div>{{else:userIsAdmin}} {{if:userIsGM}}<div class="moduleCont_gmGroup"></div>{{endif:userIsGM}} {{endif:userIsAdmin}}</div>{{endif:showTeamFormGroup}}<div class="form-group te-feedback-cont" data-loading-inset="true"><label>Phases</label><div class="moduleCont_tasks"><div class="tags-cont"><div class="newTaskInputCont"><div class="ghost-content"></div><input type="text" name="projectNew_addTask"></div></div><div class="tip-cont">press "enter" to add a new phase</div></div></div></div></div><div class="te-collapse-header" data-te-body="optional-body">Additional info <i class="te-collapse-icon iconeye iconeye-chevron-up"></i></div><div class="te-collapse-body te-visible" data-te-name="optional-body"><div class="form-section"><div class="row"><div class="col-xs-6"><div class="form-group"><label class="block-label">Client<small class="right">optional</small></label><select name="projectNew_client" class="form-control" data-live-search="true"></select></div></div><div class="col-xs-6"><div class="form-group"><label class="block-label">Budget<small class="right">optional</small></label><input type="text" name="projectNew_budgetHours" placeholder="hours (hh)" class="form-control"></div></div></div><div class="row"><div class="col-xs-6"><div class="form-group flex-center"><input id="projectNew_isBillable" type="checkbox">&nbsp;&nbsp;<label class="block-label">Is billed per hour&nbsp;&nbsp;<small class="right">optional</small></label></div></div><div class="col-xs-6"><div class="form-group formGroupHourlyRate"><label class="block-label">Hourly rate <small>({{accountCurrency}})</small><small class="right">optional</small></label><input type="text" name="projectNew_hourlyRate" class="form-control"></div></div></div></div></div>{{else:userCanCreateProjects}}<div class="alert alert-danger text-center" style="margin:15px">You don\'t have the required access level to create projects</div>{{endif:userCanCreateProjects}}</div>{{if:userCanCreateProjects}}<div class="te-dialog-foot"><button class="btn btn-success btnProjectNew_save">Create new project</button></div>{{endif:userCanCreateProjects}}'},{name:"projectNew_newGroupTag",content:'<div class="newGroupTag" data-group-id="{{groupId}}"><div class="groupTitle"><span class="groupName">{{groupName}}</span> {{if:hasGroupControls}} <span class="icon-removeGroup iconeye iconeye-android-close"></span> {{endif:hasGroupControls}}</div><div class="groupMembers"></div></div>'},{name:"projectNew_newTaskTag",content:'<span class="newTaskTag"><span class="taskName">{{taskName}}</span> <span class="icon-removeTask iconeye iconeye-android-close"></span> </span>'},{name:"projectNew_newUserTag",content:'<span class="newUserTag" data-user-id="{{userId}}"><img class="userAvatar" src="{{userAvatar}}"> <span class="userName">{{userName}}</span> {{if:hasUserControls}} <span class="icon-removeUser iconeye iconeye-android-close"></span> {{endif:hasUserControls}} </span>'},{name:"projectNew_taskTipsItem",content:'<div class="task-name">{{taskName}}</div>'},{name:"projectNew_titleWidget",content:'{{if:userCanCreateProjects}}<select name="projectNew_copyProject" class="form-control" title="Copy project" data-live-search="true" data-dropdown-align-right="true"></select>{{endif:userCanCreateProjects}}'},{name:"projectNew_userTipsItem",content:'<div class="te-user-item{{if:isFocused}} te-focused{{endif:isFocused}}" data-user-id="{{userId}}"><img class="userAvatar" src="{{userAvatar}}"> &nbsp; <span class="userName">{{userName}}</span></div>'},{name:"registerTime_titleWidget",content:'{{if:hasUserSelect}}<select name="userId" class="form-control dark-bg" data-live-search="true" data-live-search-placeholder="Search within team members" data-dropdown-align-right="true"></select>{{else:hasUserSelect}} {{if:hasUserInfo}} <span class="entry-user-info"></span> {{endif:hasUserInfo}} {{endif:hasUserSelect}}'},{name:"taskNew_body",content:'<div class="te-dialog-body"><div class="form-group"><label>Name</label><input type="text" name="name" class="form-control required formKeyCommand"></div><div class="form-group"><label class="block-label">Phase category<small class="right">optional</small></label><select name="category" class="form-control" title="No category"></select></div></div><div class="te-dialog-foot"><button class="btn btn-success btnTaskNew_save">Save</button></div>'},{name:"taskNew_headSubtitle",content:"on <strong>{{targetProjectName}}</strong>"},{name:"timers_body",content:'<div class="te-dialog-body"><div id="timers_list_cont"></div></div><div class="te-dialog-foot"><button id="timers_btn_saveAll" class="btn btn-primary btn-iconeye-left"><span class="iconeye iconeye-floppy-o"></span><span>Save all as Entries</span></button></div>'},{name:"timers_headSubtitle",content:'<span class="timers-filters-cont te-feedback-cont" data-loading-inset="true" data-loading-bgcolor="blue"><span class="filters-title"></span><span class="filters-recap"></span> </span>'}]),TECA.Gui.jhtml().push("entity",[{name:"integration",content:'<div class="integrationInfo" data-source-code="{{integrationCode}}"><div class="integration-icon-cont"><div class="integration-icon {{integrationCode}}"></div></div><div class="integration-text-cont"><div class="integration-text">{{integrationText}} {{if:hasAction}} <a href="{{integrationUrl}}" target="_blank" title="{{integrationTitle}}" class="btn btn-default btn-sm integration-action-btn">Open </a>{{endif:hasAction}}</div></div>{{if:hasDataForSave}} <input class="entryIntegrationCode" type="hidden" value="{{integrationCode}}"> <input class="entryIntegrationData" type="hidden" value="{{dataForSave}}"> {{endif:hasDataForSave}}</div>'},{name:"item",content:'<div class="te-entity-item te-feedback-cont{{if:showAlwaysActions}} show-always-actions{{endif:showAlwaysActions}}{{if:showAlwaysInfo}} show-always-info{{endif:showAlwaysInfo}}{{if:showCheckbox}} has-selectbox{{endif:showCheckbox}}" data-entity-type="{{entityType}}" data-entity-id="{{entityId}}" data-entity-date="{{entityDate}}" data-entity-minutes="{{entityMinutesTotal}}" data-entity-project-id="{{projectId}}" data-entity-user-id="{{userId}}" {{if:isLocked}}data-entity-locked="{{lockedBy}}" {{endif:isLocked}}{{if:isEntityTimer}}data-timer-current-seconds="{{timerCurrentSeconds}}" {{endif:isEntityTimer}}{{if:isEntityTimer}}data-timer-own-start="{{timerOwnStartTime}}" {{endif:isEntityTimer}}{{if:isEntityTimer}}data-timer-status="{{timerStatus}}" {{endif:isEntityTimer}}data-loading-inset="true">{{if:showCheckbox}}<div class="te-entity-checkbox"><input name="teEntity_checkbox" type="checkbox" value="1" {{if:isCheckboxSelected}}checked="checked"{{endif:isCheckboxSelected}}></div>{{endif:showCheckbox}}<div class="te-entity-grid">{{if:showUser}}<div class="te-entity-user"><img src="{{userAvatar}}" title="{{userName}}" data-toggle="tooltip" data-placement="top"></div>{{endif:showUser}} {{if:showIntegrationIcon}}<div class="te-entity-integrationicon"><img src="{{integrationIcon}}" title="Based on {{integrationName}}"></div>{{endif:showIntegrationIcon}} {{if:showPomodoroIcon}}<div class="te-entity-pomodoroicon"></div>{{endif:showPomodoroIcon}}<div class="te-entity-parents te-feedback-cont"><div class="project{{if:projectUnknown}} unknown{{endif:projectUnknown}}">{{if:projectColor}}<span class="color" style="background-color:{{projectColor}}"></span>{{endif:projectColor}}<span>{{projectName}}</span></div><div class="task{{if:taskUnknown}} unknown{{endif:taskUnknown}}">{{taskName}}</div></div><div class="te-entity-time">{{if:isMoodModeEnabled}} {{if:isMoodSet}} <span class="te-entity-mood-icon">{{jhtml("entity/moodSmileys")}}</span> {{endif:isMoodSet}} {{endif:isMoodModeEnabled}} {{if:isEntityTimer}} {{if:timerIsActive}}<span class="te_icon_timerActive_rec blink_me"></span>{{endif:timerIsActive}} {{else:isEntityTimer}} {{if:isLocked}} <span class="iconeye iconeye-lock-1-f te_icon_entry_locked" data-toggle="popover" data-placement="left" data-trigger="hover" data-container="#timeneye_widget_cont" data-html="true" data-title="Locked time entry" data-content="{{lockedEntryMessage}}"></span> {{endif:isLocked}} {{if:isBilled}} <span class="iconeye iconeye-business-receipt te_icon_entry_billed" data-toggle="tooltip" title="Billed entry"></span> {{endif:isBilled}} {{endif:isEntityTimer}} <span class="te-entity-time-formatted">{{if:isEntitySuggestion}} {{if:suggestionsWithMinutes}}{{timeFormatted}}{{endif:suggestionsWithMinutes}} {{else:isEntitySuggestion}} {{timeFormatted}} {{endif:isEntitySuggestion}} </span>{{if:showFromTo}} <span class="te-entity-from-to">{{timeFrom}} - {{timeTo}} </span>{{endif:showFromTo}}</div></div>{{if:showActions}}<div class="te-entity-actions{{if:actionsSeparated}} separated{{endif:actionsSeparated}}{{if:showUser}} entity-has-user{{endif:showUser}}"><div class="btn-group dropup">{{if:isEntityEntry}} {{if:isLocked}} {{if:showActionsIfLocked}} <button type="button" class="btn {{if:actionsSmall}}btn-sm{{endif:actionsSmall}} btn-iconeye btn-primary te-entity-btn-action-oneshot te-top-child-killer" data-action="entity-edit" title="Inspect entry"><i class="icon iconeye iconeye-pencil-1"></i></button> {{endif:showActionsIfLocked}} {{else:isLocked}} <button type="button" class="btn {{if:actionsSmall}}btn-sm{{endif:actionsSmall}} btn-primary dropdown-toggle dropdown-toggle-starter" data-toggle="te-dropdown" aria-haspopup="true" aria-expanded="false"><span class="te-caret"></span></button><ul class="te-dropdown-menu dropdown-menu-arise te-top-child-killer">{{if:isSelf}}<li class="te-entity-btn-action-copy"><a data-href="#action-entity-copy">Copy</a></li><li role="separator" class="divider"></li>{{endif:isSelf}}<li class="te-entity-btn-action-delete danger"><a data-href="#action-entity-delete">Delete</a></li></ul><button type="button" class="btn {{if:actionsSmall}}btn-sm{{endif:actionsSmall}} btn-iconeye btn-primary te-entity-btn-action-oneshot te-top-child-killer" data-action="entity-edit" title="Edit"><i class="icon iconeye iconeye-pencil-1"></i></button> {{endif:isLocked}} {{endif:isEntityEntry}} {{if:isEntityTimer}} <button type="button" class="btn {{if:actionsSmall}}btn-sm{{endif:actionsSmall}} btn-primary dropdown-toggle dropdown-toggle-starter" data-toggle="te-dropdown" aria-haspopup="true" aria-expanded="false"><span class="te-caret"></span></button><ul class="te-dropdown-menu dropdown-menu-arise te-top-child-killer">{{if:isSelf}}<li class="te-entity-btn-action-copy"><a data-href="#action-entity-copy">Copy</a></li><li role="separator" class="divider"></li>{{endif:isSelf}}<li class="te-entity-btn-action-delete danger"><a data-href="#action-entity-delete">Delete</a></li></ul><button type="button" class="btn {{if:actionsSmall}}btn-sm{{endif:actionsSmall}} btn-iconeye btn-primary te-entity-btn-action-oneshot te-top-child-killer" data-action="entity-edit" title="Edit"><i class="icon iconeye iconeye-pencil-1"></i></button></div><div class="btn-group dropup" style="margin-left:5px">{{if:isPrimaryActionTimer}} <button type="button" class="btn {{if:actionsSmall}}btn-sm{{endif:actionsSmall}} btn-iconeye btn-primary te-entity-btn-action-oneshot te-top-child-killer" {{if:showActionOneshotPlay}}data-action="entity-play" {{endif:showActionOneshotPlay}}{{if:showActionOneshotPause}}data-action="entity-pause" {{endif:showActionOneshotPause}}{{if:showActionOneshotStop}}data-action="entity-stop"{{endif:showActionOneshotStop}}>{{if:showActionOneshotPlay}}<i class="icon iconeye iconeye-video-control-play"></i>{{endif:showActionOneshotPlay}} {{if:showActionOneshotPause}}<i class="icon iconeye iconeye-video-control-pause"></i>{{endif:showActionOneshotPause}} {{if:showActionOneshotStop}}<i class="icon iconeye iconeye-floppy-o"></i>{{endif:showActionOneshotStop}}</button> {{if:showActionSubStop}} <button type="button" class="btn {{if:actionsSmall}}btn-sm{{endif:actionsSmall}} btn-iconeye btn-primary te-entity-btn-action-oneshot te-top-child-killer" data-action="entity-stop" title="Save as an Entry"><i class="icon iconeye iconeye-floppy-o"></i></button> {{endif:showActionSubStop}} {{else:isPrimaryActionTimer}} {{if:showActionSubStop}} <button type="button" class="btn {{if:actionsSmall}}btn-sm{{endif:actionsSmall}} btn-iconeye btn-primary te-entity-btn-action-oneshot te-top-child-killer" data-action="entity-stop" title="Save as an Entry"><i class="icon iconeye iconeye-floppy-o"></i></button> {{endif:showActionSubStop}} <button type="button" class="btn {{if:actionsSmall}}btn-sm{{endif:actionsSmall}} btn-iconeye btn-primary te-entity-btn-action-oneshot te-top-child-killer" {{if:showActionOneshotPlay}}data-action="entity-play" {{endif:showActionOneshotPlay}}{{if:showActionOneshotPause}}data-action="entity-pause" {{endif:showActionOneshotPause}}{{if:showActionOneshotStop}}data-action="entity-stop"{{endif:showActionOneshotStop}}>{{if:showActionOneshotPlay}}<i class="icon iconeye iconeye-video-control-play"></i>{{endif:showActionOneshotPlay}} {{if:showActionOneshotPause}}<i class="icon iconeye iconeye-video-control-pause"></i>{{endif:showActionOneshotPause}} {{if:showActionOneshotStop}}<i class="icon iconeye iconeye-floppy-o"></i>{{endif:showActionOneshotStop}}</button> {{endif:isPrimaryActionTimer}} {{endif:isEntityTimer}}</div>{{if:!isEntitySuggestion}} {{if:hasIntegrationLink}} {{if:showIntegrationLink}}<div class="btn-group" style="margin-left:5px"><a href="{{integrationLink}}" target="_blank" class="btn btn-sm btn-iconeye btn-default" title="Open service link in a new tab"><i class="icon iconeye iconeye-link"></i></a></div>{{endif:showIntegrationLink}} {{endif:hasIntegrationLink}} {{endif:!isEntitySuggestion}} {{if:!actionsSeparated}}<div class="te-entity-parents-ghost"><div class="project">{{if:projectColor}}<span class="color" style="background-color:{{projectColor}}"></span>{{endif:projectColor}}<span>{{projectName}}</span></div><div class="task">{{taskName}}</div></div>{{endif:!actionsSeparated}}</div>{{endif:showActions}} {{if:showInfo}} {{if:showTags}}<div class="te-entity-tags"></div>{{endif:showTags}} {{if:haveInfo}}<div class="te-entity-infocont">{{if:notesText}} {{notesText}} {{endif:notesText}} {{if:integrationHtml}} {{if:showIntegrationHtml}} {{integrationHtml}} {{endif:showIntegrationHtml}} {{endif:integrationHtml}}</div>{{endif:haveInfo}} {{endif:showInfo}}</div>'},{name:"list",content:'<div class="te-entity-list te-feedback-cont" data-entity-list-type="{{entityType}}">{{if:isEntityEntry}}<div class="alert alert-warning text-center">No entries</div>{{endif:isEntityEntry}} {{if:isEntityTimer}}<div class="alert alert-warning text-center">No timers</div>{{endif:isEntityTimer}} {{if:isEntitySuggestion}}<div class="alert alert-warning text-center">No suggestions</div>{{endif:isEntitySuggestion}}</div>'},{name:"moodSmileys",content:'{{if(mood="9")}} <span class="te-mood-icon iconeye iconeye-smiley-smile-10-f" data-entity-mood="9" data-toggle="tooltip" data-placement="bottom" data-container="#timeneye_widget_cont" data-html="true" title="{{moodText}}"></span> {{endif(mood="9")}} {{if(mood="7")}} <span class="te-mood-icon iconeye iconeye-smiley-neutral-f" data-entity-mood="7" data-toggle="tooltip" data-placement="bottom" data-container="#timeneye_widget_cont" data-html="true" title="{{moodText}}"></span> {{endif(mood="7")}} {{if(mood="5")}} <span class="te-mood-icon iconeye iconeye-smiley-poker-face-f" data-entity-mood="5" data-toggle="tooltip" data-placement="bottom" data-container="#timeneye_widget_cont" data-html="true" title="{{moodText}}"></span> {{endif(mood="5")}} {{if(mood="3")}} <span class="te-mood-icon iconeye iconeye-smiley-frown-2-f" data-entity-mood="3" data-toggle="tooltip" data-placement="bottom" data-container="#timeneye_widget_cont" data-html="true" title="{{moodText}}"></span> {{endif(mood="3")}} {{if(mood="1")}} <span class="te-mood-icon iconeye iconeye-smiley-angry-1-f" data-entity-mood="1" data-toggle="tooltip" data-placement="bottom" data-container="#timeneye_widget_cont" data-html="true" title="{{moodText}}"></span> {{endif(mood="1")}}'},{name:"separator",content:'<div class="te-entity-separator te-feedback-cont" data-loading-inset="true" {{if:separatorType}}\n    data-entity-separator-type="{{separatorType}}"{{endif:separatorType}}>{{if:contentLeft}}<div>{{contentLeft}}</div>{{endif:contentLeft}} {{if:contentRight}}<div class="text-right">{{contentRight}}</div>{{endif:contentRight}} {{if:contentFull}}<div class="cont-full">{{contentFull}}</div>{{endif:contentFull}}</div>'}]),TECA.Gui.jhtml().push("expiredsub",[{name:"body",content:'<div class="text-center expired-subscription">{{if:isOwner}}<h2 style="margin-bottom:20px">Your Timeneye subscription has expired</h2><p class="lead" style="margin-bottom:30px"><a href="{{linkBilling}}" target="_blank" class="always-decor">Click here</a> to renew your account subscription</p>{{else:isOwner}}<h2 style="margin-bottom:20px">Your Timeneye subscription has expired</h2><p class="lead" style="margin-bottom:30px">Please contact your account owner<br>to renew your subscription and continue using Timeneye</p>{{endif:isOwner}}</div>'}]),TECA.Gui.jhtml().push("integrationModule",[{name:"moduleWrapper_body",content:'<div class="te-module te-visible {{class}}" data-te-source="{{source}}" data-te-integration-id="{{integrationId}}" data-te-timer-id="{{timerId}}" {{if:mode}}data-te-mode="{{mode}}" {{endif:mode}}{{if:projectType}}data-te-project-type="{{projectType}}" {{endif:projectType}}{{if:btnMode}}data-te-btn-mode="{{btnMode}}" {{endif:btnMode}}{{if:estimates}}data-te-estimates="true"{{endif:estimates}}></div>'},{name:"nativeModule_body",content:'<div><div class="te-native-section-header te-feedback-cont" data-loading-inset="true"><div class="te-native-title"><img src="{{logoUrl}}"></div><div class="te-native-new-entity" title="Register time"><i class="iconeye iconeye-android-add"></i></div></div><div class="te-native-subsection" data-section-type="last-active-timer"><div class="te-native-subsection-title">Last active timer</div><div id="te_native_timer_list{{if:notUnique}}_{{entityId}}{{endif:notUnique}}" class="te-native-current-timer"></div></div><div class="te-native-subsection"><div class="te-native-subsection-recap"><div class="te-native-recap te-native-timers" title="See the timers on this element"></div><div class="te-native-recap te-native-entries" title="See the entries on this element"></div>{{if:estimates}}<div class="te-native-recap te-native-estimates" title="See the estimates on this element"></div>{{endif:estimates}}</div></div></div>'},{name:"nativeModule_estimateSection",content:'{{if:!hasEstimate}}<div class="te-recap-section-totals no-estimate">Set estimate</div>{{else:!hasEstimate}}<div>Estimate</div><div class="te-total-time">{{totalTime}} <i class="icon iconeye iconeye-pencil-1"></i></div><div class="te-totals-estimate-logs"><i class="icon iconeye iconeye-back-in-time"></i> Show logs</div>{{endif:!hasEstimate}}'},{name:"nativeModule_recapSection",content:'<div class="te-recap-section-header">{{entityCount}}</div>{{if:hasTotal}}<div class="te-recap-section-totals"><div class="te-total-time">{{totalTime}}</div></div>{{endif:hasTotal}}'},{name:"timerModule_body",content:'<div class="te-button"><div class="te-base-info" title="{{primaryContent}}"><i class="iconeye iconeye-android-time"></i><div class="te-time {{visibleClass}}">{{recIcon}} {{timerMinutes}}</div></div><div class="te-more-info" title="{{secondaryContent}}"><i class="iconeye iconeye-android-more-vertical"></i></div></div>'},{name:"timerModule_menu",content:'<ul class="te-dropdown-menu"><li class="te-dropdown-item" data-te-target="timers"><i class="icon iconeye iconeye-android-time"></i> Timers on this {{serviceItem}}</li><li role="separator" class="divider"></li><li class="te-dropdown-item" data-te-target="entriesLog"><i class="icon iconeye iconeye-check-bubble"></i> Entries on this {{serviceItem}}</li></ul>'}]),TECA.Gui.jhtml().push("integrationModuleNew",[{name:"moduleWrapper_body",content:'<div class="te-module te-module-new te-visible {{class}}" data-te-source="{{source}}" data-te-integration-id="{{integrationId}}" data-te-timer-id="{{timerId}}" {{if:mode}}data-te-mode="{{mode}}" {{endif:mode}}{{if:projectType}}data-te-project-type="{{projectType}}" {{endif:projectType}}{{if:btnMode}}data-te-btn-mode="{{btnMode}}" {{endif:btnMode}}{{if:estimates}}data-te-estimates="true"{{endif:estimates}}></div>'},{name:"nativeModule_body",content:'<div><div class="te-native-section-totals"><span class="te-totals-tracked-time"></span> <span class="te-totals-estimates"></span> <span class="te-totals-estimate-logs hidden"></span> <img class="timeneye-logo-inverted" srcset="{{logoUrl}}images/logo_white_horiz_xs.svg 2x, {{logoUrl}}images/logo_white_horiz_xs.svg 3x" src="{{logoUrl}}images/logo_white_horiz_xs.png"> <img class="timeneye-logo" srcset="{{logoUrl}}images/logo_horiz_xs.svg 2x, {{logoUrl}}images/logo_horiz_xs.svg 3x" src="{{logoUrl}}images/logo_horiz_xs.png"></div><div class="te-native-section-user me"><div class="te-avatar"><img src="{{userAvatarSrc}}" data-tedataupdate="avatar-user"></div><div class="user-data"><div class="user-name">{{userName}}</div><div class="user-tracked-time"></div></div><div class="timer-module-container"></div><div class="te-actions te-native-actions btn-group"><i class="iconeye iconeye-android-more-vertical dropdown-toggle" data-toggle="te-dropdown"></i><ul class="te-dropdown-menu dropdown-menu-right dropdown-menu-arise" role="menu"><li class="te-dropdown-item" data-te-target="timers"><a data-href="#open-timers-dialog"><i class="icon iconeye iconeye-android-time"></i> Timers on this {{serviceItem}}</a></li><li role="separator" class="divider"></li><li class="te-dropdown-item" data-te-target="entriesLog"><a data-href="#open-entries-dialog"><i class="icon iconeye iconeye-check-bubble"></i> Entries on this {{serviceItem}}</a></li></ul></div></div>{{if:canSeeTeamTrackedTime}}<div class="te-native-section-team"></div>{{endif:canSeeTeamTrackedTime}}</div>'},{name:"nativeModule_recapSection",content:'<div class="te-recap-section-header">{{entityCount}}</div>{{if:hasTotal}}<div class="te-recap-section-totals"><div class="te-total-time">{{totalTime}}</div></div>{{endif:hasTotal}}'},{name:"nativeModule_userCard",content:'<div class="te-native-section-user col-xs-6" data-target-user-id="{{userId}}"><div class="te-avatar"><img src="{{userAvatarSrc}}" data-tedataupdate="avatar-user"></div><div class="user-data"><div class="user-name">{{userName}}</div><div class="user-tracked-time">{{trackedTime}}</div></div></div>'},{name:"statusModule_body",content:'{{if:isProjectLinked}}<div class="te-project-status"><i class="iconeye iconeye-billable billable-icon {{if:billable}}is-billable{{endif:billable}}" title="{{if:billable}}Billable{{else:billable}}Unbillable{{endif:billable}}"></i> {{if:hasBudget}}<div class="te-budget-progress" title="Budget"><svg class="progress-circle" width="16px" height="16px" xmlns="http://www.w3.org/2000/svg"><circle class="progress-circle-back" cx="8" cy="8" r="7"></circle><circle class="progress-circle-prog {{budgetClass}}" cx="8" cy="8" r="7" style="stroke-dasharray: {{budgetProgress}} 999"></circle></svg> <span class="te-budget-percentage">{{budgetPercentage}}%</span></div>{{else:hasBudget}} <span>No budget set</span> {{endif:hasBudget}}</div>{{else:isProjectLinked}}<div class="te-project-status"><a href="{{integrationUrl}}" target="_blank"><i class="iconeye iconeye-timeneye-ico"></i>Link project</a></div>{{endif:isProjectLinked}}'},{name:"timerModule_body",content:'<div class="te-button te-button-new{{if:isSmall}} te-button-sm{{endif:isSmall}}{{if:validTimer}} te-valid-timer{{if:isRunning}} te-timer-running{{else:isRunning}} te-timer-paused{{endif:isRunning}}{{endif:validTimer}}"><div class="te-base-info te-button-section" title="{{primaryContent}}">{{if:isSmall}} <i class="iconeye iconeye-timeneye-ico {{if:validTimer}}hidden{{endif:validTimer}}"></i><div class="te-time {{visibleClass}}"><i class="iconeye {{if:fromToFeatureEnabled}}iconeye-floppy-o{{else:fromToFeatureEnabled}}{{if:isRunning}}iconeye-video-control-pause{{else:isRunning}}iconeye-video-control-play{{endif:isRunning}}{{endif:fromToFeatureEnabled}}"></i> <i class="iconeye te_icon_timerActive_rec blink_me{{if:!isRunning}} hidden{{endif:!isRunning}}"></i> {{timerMinutes}}</div>{{else:isSmall}}<div class="te-time te-visible"><i class="iconeye {{if:fromToFeatureEnabled}}iconeye-floppy-o{{else:fromToFeatureEnabled}}{{if:isRunning}}iconeye-video-control-pause{{else:isRunning}}iconeye-video-control-play{{endif:isRunning}}{{endif:fromToFeatureEnabled}}"></i> {{if:validTimer}} <i class="iconeye te_icon_timerActive_rec blink_me{{if:!isRunning}} hidden{{endif:!isRunning}}"></i> {{timerMinutes}} {{else:validTimer}} Add time {{endif:validTimer}}</div>{{endif:isSmall}}</div>{{if:validTimer}} {{if:!isSmall}}<div class="te-button-section btn-group te-actions te-timer-actions" title="{{secondaryContent}}"><div data-toggle="te-dropdown"><span class="te-caret dropdown-toggle"></span></div><ul class="te-dropdown-menu dropdown-menu-right dropdown-menu-arise"><li class="te-dropdown-item" data-entity-action="edit"><a>Edit</a></li><li role="separator" class="divider"></li><li class="te-dropdown-item info" data-entity-action="store"><a>Save as entry</a></li><li role="separator" class="divider"></li><li class="te-dropdown-item danger" data-entity-action="delete"><a>Delete</a></li></ul></div>{{endif:!isSmall}} {{endif:validTimer}}</div>'},{name:"timerModule_menu",content:'<ul class="te-dropdown-menu"><li class="te-entity-btn-action-copy"><a data-href="#action-entity-save">Save as entry</a></li><li role="separator" class="divider"></li><li class="te-entity-btn-action-delete danger"><a data-href="#action-entity-delete">Delete</a></li></ul>'},{name:"totalsModule_body",content:'<div class="te-totals-tracked-time"><span class="te-tracked-time"></span> <span class="hidden te-estimate-wrapper">/ <span class="te-estimate"></span></span></div>'}]),TECA.Gui.jhtml().push("login",[{name:"body",content:'<div id="centered-form"><div class="content-center logo"><img src="/images/logo_white_horiz.png"></div><div class="te-feedback-cont" data-loading-inset="true" data-loading-position="top"><div class="space-bottom"><div class="form-container"><div class="form-group login_fieldset"><input type="email" name="email" class="form-control" placeholder="Email address"> <input type="password" name="password" class="form-control" placeholder="Password"></div><button class="btn btn-success btn-block" type="submit" id="btnLogin_submit">Login</button></div></div><div class="login-divider"><span>OR</span></div><div class="integrations-login-section"><button id="btnLogin_Google" class="btn btn-block btn-default btn-google-sign-in no-microsoft" type="submit"><div class="integration-icon-container"><img class="integration-icon" src="/images/integrations/google.png"> Sign in with Google</div></button> <button id="btnLogin_Microsoft" class="btn btn-block btn-default btn-microsoft-sign-in" type="submit"><div class="integration-icon-container"><img class="integration-icon" src="/images/integrations/microsoft.png"> Sign in with Microsoft</div></button></div><p class="text-right form_content signin with-icon" style="margin-bottom:0"><a href="{{urlForgotPassword}}" target="_blank">Forgot your password?</a><i class="iconeye iconeye-chevron-right icon-right"></i></p></div><div class="signup_section form_content"><a href="{{urlSignup}}" class="btn btn-default btn-ghost btn-block" target="_blank">Don\'t have an account?</a></div></div><div class="loader-container hidden"><div class="content-center logo" style="margin: auto; width: 150px; height: 150px"><img src="https://track.timeneye.com/static/img/logo/full_white_vert.png" style="width: 135px"><div class="loader te-feedback-cont te-cont-in-popup" data-loading-inset="true" data-loading-bgcolor="transparent" style="height: 25px; position: relative"></div></div></div>'}]),TECA.Gui.jhtml().push("options",[{name:"options_body",content:'<div class="te-option-head"><div>{{timeneyeIcon}} Timeneye widget settings <i class="iconeye iconeye-interface-information" data-toggle="popover" data-placement="right" data-trigger="hover" data-container="#timeneye_widget_cont" data-html="true" data-content="These setting are saved in the browser local data. if the local data is erased, or the widget is uninstalled, any changes applied will be lost and the default settings will be restored."></i></div><a id="closePage"><i class="icon iconeye iconeye-android-close"></i></a></div><div class="te-option-body"><div class="main-navigation"><ul class="nav nav-tabs detached dark-bg" role="tablist"><li class="active"><a href="#te_entitiesConf" role="tab" data-toggle="tab">Auto selection conf.</a></li><li><a href="#te_servicePatternLink" role="tab" data-toggle="tab">Service URL patterns</a></li><li><a href="#te_integrationModules" role="tab" data-toggle="tab">Integration modules</a></li></ul></div><div class="tab-content"><div id="te_servicePatternLink" class="tab-pane"><div class="te-body-header space-bottom-xs">List of enabled patterns:</div><div id="teServiceList" class="te-scroll-cont"></div><div class="te-body-footer"><div class="col-xs-10"><div class="option-label">Service</div><div class="col-xs-10"><select id="teIntegrationName" class="form-control"><option value="asana">Asana</option><option value="azuredevops">Azure Devops</option><option value="basecamp">Basecamp</option><option value="basecamp3">Basecamp 3</option><option value="clickup">ClickUp</option><option selected="selected" value="gitlabcom">Gitlab</option><option value="googledocs">Google Docs</option><option value="googlesheets">Google Sheets</option><option value="googlemail">Google Mail</option><option value="jira">Jira</option><option value="pivotaltracker">PivotalTracker</option><option value="planner">Planner</option><option value="podio">Podio</option><option value="todoist">Todoist</option><option value="microsoftproject">Microsoft Project</option><option value="microsofttodo">Microsoft To Do</option><option value="taskade">Taskade</option><option value="wunderlist">Wunderlist</option><option value="zendesk">Zendesk</option><option value="zenkit">Zenkit</option></select></div></div><div class="col-xs-10"><div class="option-label">Pattern <i class="iconeye iconeye-interface-information" data-toggle="popover" data-placement="right" data-trigger="hover" data-container="#timeneye_widget_cont" data-html="true" data-content="A valid pattern can start with http://, https:// or *:// and should end with / or /*"></i></div><div class="col-xs-10"><input id="teNewService" class="form-control"></div></div><div id="teAddService" class="btn btn-primary col-xs-2">Add</div></div></div><div id="te_entitiesConf" class="tab-pane active"><div class="sub-navigation"><ul class="nav nav-tabs detached dark-bg"><li id="te-sub-nav-prev"><a><i class="iconeye iconeye-android-arrow-dropleft"></i></a></li><li class="active"><a href="#te-asana-config" role="tab" data-toggle="tab">Asana</a></li><li><a href="#te-basecamp-config" role="tab" data-toggle="tab">Basecamp</a></li><li><a href="#te-basecamp3-config" role="tab" data-toggle="tab">Basecamp 3</a></li><li><a href="#te-gitlab-config" role="tab" data-toggle="tab">Gitlab</a></li><li><a href="#te-trello-config" role="tab" data-toggle="tab">Trello</a></li><li><a href="#te-zendesk-config" role="tab" data-toggle="tab">Zendesk</a></li><li id="te-sub-nav-succ"><a><i class="iconeye iconeye-android-arrow-dropright"></i></a></li></ul></div><div class="tab-content"><div id="te-asana-config" class="tab-pane active"><div class="space-bottom-xs">Asana supports two modes:<ol><li>Mode 1: In this mode Timeneye will consider Asana projects as Timeneye projects and Asana sections as Timeneye phases. (DEFAULT)</li><li>Mode 2: In this mode Timeneye will consider Asana sections as Timeneye projects and Asana tags as Timeneye phases. In case a task will have multiple tags, the first tag that has a corrispondence in Timeneye will be used.</li></ol></div><div class="col-xs-8"><label>Selected mode:</label><select class="form-control" data-te-service="asana"><option value="1">Mode 1</option><option value="2">Mode 2</option></select></div></div><div id="te-basecamp-config" class="tab-pane"><div class="space-bottom-xs">Basecamp supports two modes:<ol><li>Mode 1: In this mode Timeneye will consider Basecamp projects as Timeneye projects and Basecamp to-do lists as Timeneye phases. (DEFAULT)</li><li>Mode 2: In this mode Timeneye will consider Basecamp to-do lists as Timeneye projects and will not pre-select any phase.</li></ol></div><div class="col-xs-8"><label>Selected mode:</label><select class="form-control" data-te-service="basecamp"><option value="1">Mode 1</option><option value="2">Mode 2</option></select></div></div><div id="te-basecamp3-config" class="tab-pane"><div class="space-bottom-xs">Basecamp 3 supports two modes:<ol><li>Mode 1: In this mode Timeneye will consider Basecamp 3 projects as Timeneye projects and Basecamp 3 to-do lists as Timeneye phases. (DEFAULT)</li><li>Mode 2: In this mode Timeneye will consider Basecamp 3 to-do lists as Timeneye projects and will not pre-select any phase.</li></ol></div><div class="col-xs-8"><label>Selected mode:</label><select class="form-control" data-te-service="basecamp3"><option value="1">Mode 1</option><option value="2">Mode 2</option></select></div></div><div id="te-gitlab-config" class="tab-pane"><div class="space-bottom-xs">GitLab supports two modes:<ol><li>Mode 1: In this mode Timeneye will consider Gitlab groups as Timeneye projects and Gitlab projects as Timeneye phases. (DEFAULT)</li><li>Mode 2: In this mode Timeneye will consider Gitlab projects as Timeneye projects and Gitlab tags as Timeneye phases. When there are multiple tags on an issue the first tag that has a corrispondence in Timeneye will be used. If we are are in the board view, the column name where the issue is located have precedence over any other tag.</li></ol></div><div class="col-xs-8"><label>Selected mode:</label><select class="form-control" data-te-service="gitlabcom"><option value="1">Mode 1</option><option value="2">Mode 2</option></select></div></div><div id="te-trello-config" class="tab-pane"><div class="space-bottom-xs">Trello supports three modes:<ol><li>Mode 1: In this mode Timeneye will consider Trello boards as Timeneye projects and Trello tags as Timeneye phases. (DEFAULT)</li><li>Mode 2: In this mode Timeneye will consider Trello boards as Timeneye projects and Trello columns as Timeneye phases.</li><li>Mode 3: In this mode Timeneye will consider Trello columns as Timeneye projects and Trello tags as Timeneye phases.</li></ol></div><div class="col-xs-8"><label>Selected mode:</label><select class="form-control" data-te-service="trello"><option value="1">Mode 1</option><option value="2">Mode 2</option><option value="3">Mode 3</option></select></div></div><div id="te-zendesk-config" class="tab-pane"><div class="space-bottom-xs">Timeneye by default doesn\'t preselect the project and phase in Zendesk. Here you can set a default project name, task name to select when tracking time on Zendesk support.</div><div class="col-xs-8 space-bottom-sm"><label>Default project name:</label><input class="form-control" data-te-service="zendesk" data-te-entity="project"></div><div class="col-xs-8"><label>Default phase name:</label><input class="form-control" data-te-service="zendesk" data-te-entity="task"></div></div></div></div><div id="te_integrationModules" class="tab-pane"><div class="sub-navigation"><ul class="nav nav-tabs detached dark-bg"><li class="active"><a href="#te-asana-modules" role="tab" data-toggle="tab">Asana</a></li><li><a href="#te-basecamp3-modules" role="tab" data-toggle="tab">Basecamp 3</a></li><li><a href="#te-jira-modules" role="tab" data-toggle="tab">Jira</a></li><li><a href="#te-planner-modules" role="tab" data-toggle="tab">Planner</a></li></ul></div><div class="tab-content"><div id="te-asana-modules" class="tab-pane active"><div class="space-bottom-xs" style="display: flex; justify-content: space-between"><div class="option-label">Module style</div><div class="col-xs-6"><select class="form-control" data-te-service="asana"><option value="1">Legacy</option><option value="2">New (raccomended)</option></select></div></div><hr class="te-separator"></div><div id="te-basecamp3-modules" class="tab-pane"><div class="space-bottom-xs" style="display: flex; justify-content: space-between"><div class="option-label">Module style</div><div class="col-xs-6"><select class="form-control" data-te-service="basecamp3"><option value="1">Legacy</option><option value="2">New (raccomended)</option></select></div></div><hr class="te-separator"></div><div id="te-jira-modules" class="tab-pane"><div class="space-bottom-xs" style="display: flex; justify-content: space-between"><div class="option-label">Module style</div><div class="col-xs-6"><select class="form-control" data-te-service="jira"><option value="1">Legacy</option><option value="2">New (raccomended)</option></select></div></div><hr class="te-separator"></div><div id="te-planner-modules" class="tab-pane"><div class="space-bottom-xs" style="display: flex; justify-content: space-between"><div class="option-label">Module style</div><div class="col-xs-6"><select class="form-control" data-te-service="planner"><option value="1">Legacy</option><option value="2">New (raccomended)</option></select></div></div><hr class="te-separator"></div></div></div></div></div><div class="te-option-footer"><div id="teSaveOptions" class="btn btn-success col-xs-3">Save</div><div id="teCancel" class="btn btn-default col-xs-3">Cancel</div></div>'}]),TECA.Gui.jhtml().push("registerTime",[{name:"body",content:'<div id="te_registerTime"><div class="te-dialog-body"><div class="registerTime_formCont"><input type="hidden" name="entryId" value="{{entryId}}"> <input type="hidden" name="timerId" value="{{timerId}}"><div class="row">{{if:showClientDropdown}}<div class="col-xs-4"><div class="form-group"><label>Client</label><select name="clientId" class="form-control" data-live-search="true" data-live-search-placeholder="Search within clients" {{if:entryLocked}}disabled="disabled"{{endif:entryLocked}}></select></div></div>{{endif:showClientDropdown}}<div class="{{if:showClientDropdown}}col-xs-4{{else:showClientDropdown}}col-xs-6{{endif:showClientDropdown}}"><div class="form-group"><label>Project</label><select name="projectId" class="form-control required" data-value="{{projectId}}" data-live-search="true" data-live-search-placeholder="Search within projects" data-required-tltp-pos="bottom" {{if:entryLocked}}disabled="disabled"{{endif:entryLocked}}></select></div></div><div class="{{if:showClientDropdown}}col-xs-4{{else:showClientDropdown}}col-xs-6{{endif:showClientDropdown}}"><div class="form-group"><label>Phase</label><select name="taskId" class="form-control required" data-value="{{taskId}}" data-dropup="true" data-live-search="true" data-live-search-placeholder="Search within phases" data-required-tltp-pos="bottom" {{if:entryLocked}}disabled="disabled"{{endif:entryLocked}}></select></div></div></div><div class="row"><div class="col-xs-5"><div class="form-group"><label>Time worked</label><div class="time_cont input-group requiredGangBoss"><input type="text" name="itemHours" class="form-control required text-right keyComboEnabled mousetrap" value="{{itemHours}}" placeholder="0" data-required-brosgang="itemTimeGroup" data-required-msg="An entry needs to be at least one minute long" data-required-tltp-pos="bottom" {{if:entryLocked}}disabled="disabled"{{endif:entryLocked}}> <span class="input-group-addon" style="border-left:0;border-right:0">h</span> <input type="text" name="itemMinutes" class="form-control required text-right keyComboEnabled mousetrap" value="{{itemMinutes}}" placeholder="0" data-required-brosgang="itemTimeGroup" data-required-msg="An entry needs to be at least one minute long" data-required-tltp-pos="bottom" {{if:entryLocked}}disabled="disabled"{{endif:entryLocked}}> <span class="input-group-addon">m</span></div></div></div><div class="col-xs-6 col-xs-offset-1"><div class="form-group registerTime_dateFieldSection"><label>Date</label><input type="text" name="itemDate" class="form-control required keyComboEnabled mousetrap datepicker-field" value="{{itemDate}}" data-required-tltp-pos="bottom" {{if:entryLocked}}disabled="disabled"{{endif:entryLocked}}> <span class="warning-distant-date"><span class="iconeye iconeye-interface-alert-circle-f"></span> <span class="distance-cont"></span></span></div></div></div>{{if:showFromTo}}<div class="row"><div class="from-to-section"><div class="col-xs-6"><div class="form-group registerTime_dateFieldSection"><label>From</label><div class="time_cont input-group"><input type="text" name="itemHoursFrom" class="form-control text-center keyComboEnabled mousetrap" value="{{itemHoursFrom}}" placeholder="0" {{if:entryLocked}}disabled="disabled"{{endif:entryLocked}}> <span class="input-group-addon" style="border-left:0;border-right:0">:</span> <input type="text" name="itemMinutesFrom" class="form-control text-center keyComboEnabled mousetrap" value="{{itemMinutesFrom}}" placeholder="0" {{if:entryLocked}}disabled="disabled"{{endif:entryLocked}}></div></div></div><div class="col-xs-6"><div class="form-group registerTime_dateFieldSection"><label>To</label><div class="time_cont input-group"><input type="text" name="itemHoursTo" class="form-control text-center keyComboEnabled mousetrap" value="{{itemHoursTo}}" placeholder="0" {{if:entryLocked}}disabled="disabled"{{endif:entryLocked}}> <span class="input-group-addon" style="border-left:0;border-right:0">:</span> <input type="text" name="itemMinutesTo" class="form-control text-center keyComboEnabled mousetrap" value="{{itemMinutesTo}}" placeholder="0" {{if:entryLocked}}disabled="disabled"{{endif:entryLocked}}></div></div></div></div></div>{{endif:showFromTo}}<div class="form-group"><label>Tags <i class="iconeye iconeye-interface-question-mark-f" data-toggle="tooltip" data-container="#timeneye_widget_cont" data-placement="right" data-html="true" title="Create a new tag list from<br/><b>Management</b> > <b>Tag lists</b> to let<br/>your team start using tags."></i></label><div class="moduleCont_tags--wrapper"></div></div><div class="form-group"><label>Notes</label><textarea name="itemNotes" class="form-control keyComboEnabled mousetrap" placeholder="Optional notes for reference" dir="auto" {{if:entryLocked}}disabled="disabled"{{endif:entryLocked}}>{{itemNotes}}</textarea><div class="notes-actions-info">shift+enter for newline</div></div>{{if:integrationHtml}}<div class="form-group integration-info-container"><label>Integration info</label><small class="integration-info-actions-cont">{{if:integrationLink}}<a href="{{integrationLink}}" target="_blank"><i class="iconeye iconeye-link"></i> open link</a>{{endif:integrationLink}} {{if:integrationLink}}<span class="separator{{if:entryLocked}} hidden-locked{{endif:entryLocked}}">|</span>{{endif:integrationLink}} <a data-href="#remove-integration-info" {{if:entryLocked}}class="hidden-locked"{{endif:entryLocked}}><i class="iconeye iconeye-bin"></i> remove</a> </small>{{integrationHtml}}</div>{{endif:integrationHtml}} {{if:isMoodModeEnabled}} {{if:isMoodSet}}<div class="form-group" data-section-id="entity-mood"><label>Mood</label></div>{{endif:isMoodSet}} {{endif:isMoodModeEnabled}}</div></div><div class="te-dialog-foot"><div class="row"><div {{if:!hasOnlyOneAction}}class="col-xs-6" {{endif:!hasOnlyOneAction}}{{if:hasOnlyOneAction}}class="col-xs-12" {{endif:hasOnlyOneAction}}{{if:!hasOnlyOneAction}}style="padding-right:7px;padding-left:15px"{{endif:!hasOnlyOneAction}}>{{if:isItemNew}} {{if:isPrimaryActionTimer}} {{if:!noStartTimer}} {{if:showMoodButtons}} {{jhtml("registerTime/moodButtons",{ "moodButtons_placeholderIconClass":"iconeye-video-control-play", "moodButtons_placeholderLabel":"Start Timer", "moodButtons_actionClass":"registerTime_btn_saveTimer", "moodButtons_actionTimerType":"new" })}} {{else:showMoodButtons}} <button class="registerTime_btn_saveTimer registerTime_btn_combo_enter btn btn-primary btn-block with-icon" data-timer-action="new"><i class="iconeye iconeye-video-control-play"></i>Start Timer</button> {{endif:showMoodButtons}} {{endif:!noStartTimer}} {{else:isPrimaryActionTimer}} {{if:showMoodButtons}} {{jhtml("registerTime/moodButtons",{ "moodButtons_placeholderIconClass":"iconeye-floppy-o", "moodButtons_placeholderLabel":"Save Entry", "moodButtons_actionClass":"registerTime_btn_saveEntry" })}} {{else:showMoodButtons}} <button class="registerTime_btn_saveEntry registerTime_btn_combo_enter btn btn-primary btn-block with-icon"><i class="iconeye iconeye-floppy-o"></i>Save Entry</button> {{endif:showMoodButtons}} {{endif:isPrimaryActionTimer}} {{endif:isItemNew}} {{if:isItemTimer}} {{if:isPrimaryActionTimer}} {{if:showMoodButtons}} {{jhtml("registerTime/moodButtons",{ "moodButtons_placeholderIconClass":"iconeye-pencil-1", "moodButtons_placeholderLabel":"Update Timer", "moodButtons_actionClass":"registerTime_btn_saveTimer", "moodButtons_actionTimerType":"update" })}} {{else:showMoodButtons}} <button class="registerTime_btn_saveTimer registerTime_btn_combo_enter btn btn-primary btn-block with-icon" data-timer-action="update"><i class="iconeye iconeye-pencil-1"></i>Update Timer</button> {{endif:showMoodButtons}} {{else:isPrimaryActionTimer}} {{if:showMoodButtons}} {{jhtml("registerTime/moodButtons",{ "moodButtons_placeholderIconClass":"iconeye-floppy-o", "moodButtons_placeholderLabel":"Save as an Entry", "moodButtons_actionClass":"registerTime_btn_storeTimer" })}} {{else:showMoodButtons}} <button class="registerTime_btn_storeTimer registerTime_btn_combo_enter btn btn-primary btn-block with-icon"><i class="iconeye iconeye-floppy-o"></i>Save as an Entry</button> {{endif:showMoodButtons}} {{endif:isPrimaryActionTimer}} {{endif:isItemTimer}} {{if:isItemEntry}} {{if:entryLocked}}<div class="registerTime_footSectionLock_warn"><div class="row"><div class="col-xs-8">{{lockedMessage}}<p><strong>Given your role, you can edit this entry.</strong></p></div><div class="col-xs-4" style="padding-left:0"><button class="registerTime_btn_unlock btn btn-warning btn-block with-icon"><i class="iconeye iconeye-lock-unlock-1"></i>Edit Entry</button></div></div></div><div class="registerTime_footSectionLock_actions"><button class="registerTime_btn_saveLocked btn btn-primary btn-block with-icon"><i class="iconeye iconeye-pencil-1"></i>Update Entry</button></div>{{else:entryLocked}} <button class="registerTime_btn_saveEntry registerTime_btn_combo_enter btn btn-primary btn-block with-icon"><i class="iconeye iconeye-pencil-1"></i>Update Entry</button> {{endif:entryLocked}} {{endif:isItemEntry}}</div><div {{if:!hasOnlyOneAction}}class="col-xs-6" {{endif:!hasOnlyOneAction}}{{if:hasOnlyOneAction}}class="col-xs-12" {{endif:hasOnlyOneAction}}{{if:!hasOnlyOneAction}}style="padding-right:15px;padding-left:7px"{{endif:!hasOnlyOneAction}}>{{if:isItemNew}} {{if:!isPrimaryActionTimer}} {{if:!noStartTimer}} {{if:showMoodButtons}} {{jhtml("registerTime/moodButtons",{ "moodButtons_placeholderIconClass":"iconeye-video-control-play", "moodButtons_placeholderLabel":"Start Timer", "moodButtons_actionClass":"registerTime_btn_saveTimer", "moodButtons_actionTimerType":"new" })}} {{else:showMoodButtons}} <button class="registerTime_btn_saveTimer registerTime_btn_combo_altEnter btn btn-primary btn-block with-icon" data-timer-action="new"><i class="iconeye iconeye-video-control-play"></i>Start Timer</button> {{endif:showMoodButtons}} {{endif:!noStartTimer}} {{else:!isPrimaryActionTimer}} {{if:showMoodButtons}} {{jhtml("registerTime/moodButtons",{ "moodButtons_placeholderIconClass":"iconeye-floppy-o", "moodButtons_placeholderLabel":"Save Entry", "moodButtons_actionClass":"registerTime_btn_saveEntry" })}} {{else:showMoodButtons}} <button class="registerTime_btn_saveEntry registerTime_btn_combo_altEnter btn btn-primary btn-block with-icon"><i class="iconeye iconeye-floppy-o"></i>Save Entry</button> {{endif:showMoodButtons}} {{endif:!isPrimaryActionTimer}} {{endif:isItemNew}} {{if:isItemTimer}} {{if:!isPrimaryActionTimer}} {{if:showMoodButtons}} {{jhtml("registerTime/moodButtons",{ "moodButtons_placeholderIconClass":"iconeye-pencil-1", "moodButtons_placeholderLabel":"Update Timer", "moodButtons_actionClass":"registerTime_btn_saveTimer", "moodButtons_actionTimerType":"update" })}} {{else:showMoodButtons}} <button class="registerTime_btn_saveTimer registerTime_btn_combo_altEnter btn btn-primary btn-block with-icon" data-timer-action="update"><i class="iconeye iconeye-pencil-1"></i>Update Timer</button> {{endif:showMoodButtons}} {{else:!isPrimaryActionTimer}} {{if:showMoodButtons}} {{jhtml("registerTime/moodButtons",{ "moodButtons_placeholderIconClass":"iconeye-floppy-o", "moodButtons_placeholderLabel":"Save as an Entry", "moodButtons_actionClass":"registerTime_btn_storeTimer" })}} {{else:showMoodButtons}} <button class="registerTime_btn_storeTimer registerTime_btn_combo_altEnter btn btn-primary btn-block with-icon"><i class="iconeye iconeye-floppy-o"></i>Save as an Entry</button> {{endif:showMoodButtons}} {{endif:!isPrimaryActionTimer}} {{endif:isItemTimer}}</div></div></div></div>'},{name:"moodButtons",content:'<div class="btn btn-primary btn-block registerTime_mood_cont with-icon" tabindex="0"><div class="mood-placeholder"><i class="iconeye {{moodButtons_placeholderIconClass}}"></i>{{moodButtons_placeholderLabel}}</div><div class="mood-controls"><div class="mood-bg"><button class="{{moodButtons_actionClass}} mood-btn" {{if:moodButtons_actionTimerType}}data-timer-action="{{moodButtons_actionTimerType}}" {{endif:moodButtons_actionTimerType}}data-entity-mood="9" data-toggle="tooltip" data-placement="top" data-container="#timeneye_widget_cont" data-html="true" title="{{moodButtons_placeholderLabel}} - I feel awesome"><span class="iconeye iconeye-smiley-smile-10-f line"></span><span class="iconeye iconeye-smiley-smile-10-e full"></span></button><button class="{{moodButtons_actionClass}} mood-btn" {{if:moodButtons_actionTimerType}}data-timer-action="{{moodButtons_actionTimerType}}" {{endif:moodButtons_actionTimerType}}data-entity-mood="7" data-toggle="tooltip" data-placement="top" data-container="#timeneye_widget_cont" data-html="true" title="{{moodButtons_placeholderLabel}} - I feel happy"><span class="iconeye iconeye-smiley-neutral-f line"></span><span class="iconeye iconeye-smiley-neutral-e full"></span></button><button class="{{moodButtons_actionClass}} mood-btn" {{if:moodButtons_actionTimerType}}data-timer-action="{{moodButtons_actionTimerType}}" {{endif:moodButtons_actionTimerType}}data-entity-mood="5" data-toggle="tooltip" data-placement="top" data-container="#timeneye_widget_cont" data-html="true" title="{{moodButtons_placeholderLabel}} - I feel neutral"><span class="iconeye iconeye-smiley-poker-face-f line"></span><span class="iconeye iconeye-smiley-poker-face-e full"></span></button><button class="{{moodButtons_actionClass}} mood-btn" {{if:moodButtons_actionTimerType}}data-timer-action="{{moodButtons_actionTimerType}}" {{endif:moodButtons_actionTimerType}}data-entity-mood="3" data-toggle="tooltip" data-placement="top" data-container="#timeneye_widget_cont" data-html="true" title="{{moodButtons_placeholderLabel}} - I feel unhappy"><span class="iconeye iconeye-smiley-frown-2-f line"></span><span class="iconeye iconeye-smiley-frown-2-e full"></span></button><button class="{{moodButtons_actionClass}} mood-btn" {{if:moodButtons_actionTimerType}}data-timer-action="{{moodButtons_actionTimerType}}" {{endif:moodButtons_actionTimerType}}data-entity-mood="1" data-toggle="tooltip" data-placement="top" data-container="#timeneye_widget_cont" data-html="true" title="{{moodButtons_placeholderLabel}} - I feel upset"><span class="iconeye iconeye-smiley-angry-1-f line"></span><span class="iconeye iconeye-smiley-angry-1-e full"></span></button></div></div></div>'},{name:"moodSection",content:'<div class="registerTime_currentMood_cont"><div class="mood-smiley">{{jhtml("entity/moodSmileys")}}</div><div class="mood-text"><span>{{moodText}}</span> {{if:isMoodEditable}}<div class="mood-update-menu dropup"><button class="btn btn-sm btn-default" type="button" data-toggle="te-dropdown">Change <span class="caret caret-in-right"></span></button><ul class="te-dropdown-menu dropdown-menu-arise dropdown-menu-right" role="menu" aria-labelledby="dropdownEntityEditMood"><li><a data-href="#edit-mood" data-new-mood="9"><span class="te-mood-icon iconeye iconeye-smiley-smile-10-f" data-entity-mood="9"></span><span> to <strong>awesome</strong></span></a></li><li><a data-href="#edit-mood" data-new-mood="7"><span class="te-mood-icon iconeye iconeye-smiley-neutral-f" data-entity-mood="7"></span><span> to <strong>happy</strong></span></a></li><li><a data-href="#edit-mood" data-new-mood="5"><span class="te-mood-icon iconeye iconeye-smiley-poker-face-f" data-entity-mood="5"></span><span> to <strong>neutral</strong></span></a></li><li><a data-href="#edit-mood" data-new-mood="3"><span class="te-mood-icon iconeye iconeye-smiley-frown-2-f" data-entity-mood="3"></span><span> to <strong>unhappy</strong></span></a></li><li><a data-href="#edit-mood" data-new-mood="1"><span class="te-mood-icon iconeye iconeye-smiley-angry-1-f" data-entity-mood="1"></span><span> to <strong>upset</strong></span></a></li></ul></div>{{endif:isMoodEditable}}</div></div>'},{name:"tagSection",content:'{{if:accountHasTags}} {{if:projectHasTags}}<div class="moduleCont_tags"><div class="tags-cont"><div class="newTagInputCont"><div class="ghost-content"></div><input type="text" name="registerTime_addTag"></div></div><div class="tip-cont">press "enter" to select a tag</div></div>{{else:projectHasTags}}<div style="text-align: center; font-style: italic">The selected project does not support Tags.</div>{{endif:projectHasTags}} {{else:accountHasTags}}<div style="text-align: center; font-style: italic">No Tags available.</div>{{endif:accountHasTags}}'},{name:"tagTipsHeaderItem",content:'<div class="te-tag-list" data-tag-list-id="{{tagListId}}" data-tag-list-name="{{tagListName}}">{{tagListName}} {{if:tagListRequired}} <span class="right te-required-tag-list">required</span> {{endif:tagListRequired}}</div>'},{name:"tagTipsItem",content:'<div class="tag-name" data-tag-id="{{tagId}}" data-tag-list-id="{{tagListId}}" data-tag-list-name="{{tagListName}}">{{tagName}}</div>'}]),TECA.Gui.jhtml().push("tag",[{name:"chip-tag",content:'<span class="te-chip te-chip-sm te-tag {{if:isSmall}}te-chip-sm{{endif:isSmall}} {{if:isTextWhite}}white-text{{else:isTextWhite}}black-text{{endif:isTextWhite}}" style="background-color: {{color}}" data-tag-id="{{tagId}}" data-tag-list-id="{{tagListId}}" data-tag-list-name="{{tagListName}}" data-toggle="tooltip" data-container="#timeneye_widget_cont" data-placement="bottom" title="{{tagListName}}">{{if:hasLeadingIcon}} <span class="te-chip-leading-icon {{leadingIcon}}"></span> {{endif:hasLeadingIcon}} {{chipValue}} {{if:hasTrailingIcon}} <span class="te-chip-trailing-icon {{trailingIcon}}"></span> {{endif:hasTrailingIcon}} </span>'},{name:"tagItem",content:'<div class="te-tag {{if:isTextWhite}}white-text{{else:isTextWhite}}black-text{{endif:isTextWhite}}" style="background-color: {{color}}" data-tag-id="{{tagId}}" data-tag-list-id="{{tagListId}}" data-tag-list-name="{{tagListName}}" {{if:!voidTag}}data-toggle="tooltip" {{endif:!voidTag}}{{if:!voidTag}}data-container="body" {{endif:!voidTag}}{{if:!voidTag}}data-placement="bottom" {{endif:!voidTag}}{{if:!voidTag}}title="{{tagListName}}"{{endif:!voidTag}}>{{tagName}}</div>'}]),TECA.defineClass("Login",{firebaseApp:null,view:{init:function(){jQuery("#timeneye_widget_cont > .te-body").html('<div id="te_loginView"></div>');var e=this,t=jQuery(TECA.Gui.jhtml("login/body",{srcImgLogo:TECA._.urlAjax+"static/img/logo/full_white_vert.png",urlForgotPassword:TECA._.urlAjax+"forgot-password",urlSignup:"https://track.timeneye.com/signup/?ref=widget&btnId=login_signupredirect"}));jQuery('input[name="password"]',t).on("keypress",(function(t){13==t.which&&e.tryLogin()})),jQuery("#btnLogin_submit",t).on("click",(function(){e.tryLogin()})),jQuery("#btnLogin_Google",t).on("click",(function(){e.firebaseAuthorize("google")})),jQuery("#btnLogin_Microsoft",t).on("click",(function(){e.firebaseAuthorize("microsoft")})),setTimeout((function(){jQuery("#te_loginView").html(t),jQuery('input[name="email"]',t).focus(),jQuery("body").trigger("TECA_widget_content_changed"),TECA.Gui.feedback.close(t)}),90)},toggleLoading(e){var t=jQuery(".loader-container"),i=jQuery("#centered-form");e?(i.addClass("hidden"),t.removeClass("hidden"),TECA.Gui.feedback.loading(t.find(".loader"))):(TECA.Gui.feedback.close(t.find(".loader")),i.removeClass("hidden"),t.addClass("hidden"))},firebaseAuthorize(e){var t=jQuery("#te_loginView");this.toggleLoading(!0),chrome.extension.getBackgroundPage().signInWithPopupBg(e).then(e=>{TECA.initData(),this.toggleLoading(!1)}).catch(e=>{TECA.Gui.feedback.danger(t,"Something went wrong during the authorization process. Please try again."),this.toggleLoading(!1)})},tryLogin:function(){var e=jQuery("#te_loginView");if(TECA.Gui.validate(e)){TECA.Gui.feedback.loading(e);var t={email:jQuery('input[name="email"]',e).val(),password:jQuery('input[name="password"]',e).val()};TECA.apiRequest("authorizeUser",t,(function(t){"string"==typeof t?TECA.Gui.feedback.danger(e,t):t.code?TECA.Gui.feedback.danger(e,t.description):chrome.storage.sync.set({authToken:t.authToken},(function(){TECA._.authToken=t.authToken,TECA.Gui.feedback.close(e),TECA.initData()}))}))}}}}),TECA.defineClass("Project",{resetModel:function(){this.model._.requestStatus.projectlist=0,this.model._.requestStatus.allprojectlist=0,this.model._.requestCallbackStack.projectlist=[],this.model._.requestCallbackStack.allprojectlist=[],this.model._.dataIndex.projectlist=[],this.model._.dataIndex.allprojectlist=[],this.model._.projectlist=[],this.model._.allprojectlist=[]},model:{_:{requestStatus:{projectlist:0,allprojectlist:0},requestCallbackStack:{projectlist:[],allprojectlist:[]},dataIndex:{projectlist:{},allprojectlist:{}},projectlist:[],allprojectlist:[],lastCacheDatetime:null},_checkProjectList:function(e,t){var i=this;this._.projectlist.length<=0||"boolean"==typeof t&&!0===t?this._getProjectList((function(){e(jQuery.extend(!0,[],i._.projectlist))})):e(jQuery.extend(!0,[],this._.projectlist))},_getProjectList:function(e){var t=this;"function"==typeof e&&this._.requestCallbackStack.projectlist.push(e),0===this._.requestStatus.projectlist&&(this._.requestStatus.projectlist=1,t.loadAllProjectList((function(e){for(t._.requestStatus.projectlist=0;t._.requestCallbackStack.projectlist.length>0;){t._.requestCallbackStack.projectlist.shift()()}}),!0))},loadProjectList:function(e,t){this._checkProjectList((function(t){"function"==typeof e&&e(t)}),t)},loadProjectListItem:function(e,t,i){this._checkProjectList((function(n){for(var o=void 0,a=0,r=n.length;a<r;a++)n[a].projectId==e&&(o=n[a]);t(o,i)}))},_checkAllProjectList:function(e,t,i){var n=this;this._.lastCacheDatetime&&moment().diff(this._.lastCacheDatetime,"minutes")>=2&&(t=!0),this._.allprojectlist.length<=0||"boolean"==typeof t&&!0===t?this._getAllProjectList((function(){e(jQuery.extend(!0,[],n._.allprojectlist))}),i):e(jQuery.extend(!0,[],this._.allprojectlist))},_getAllProjectList:function(e){"function"==typeof e&&this._.requestCallbackStack.allprojectlist.push(e),0===this._.requestStatus.allprojectlist&&(this._.requestStatus.allprojectlist=1,this._.lastCacheDatetime=moment().format("YYYY-MM-DD HH:mm:ss"),TECA.apiRequest("getProjects",{showInactive:!0},(function(e){if(e.projects){e=e.projects,TECA.Project.model._.requestStatus.allprojectlist=0,TECA.Project.model._.allprojectlist=[],TECA.Project.model._.projectlist=[];for(var t=0,i=0,n=e.length;i<n;i++)TECA.Project.model._.allprojectlist[i]=e[i],TECA.Project.model._.dataIndex.allprojectlist[e[i].projectId]=i,1==e[i].isMember&&(TECA.Project.model._.projectlist[t]=e[i],TECA.Project.model._.dataIndex.projectlist[e[i].projectId]=t,t++);for(;TECA.Project.model._.requestCallbackStack.allprojectlist.length>0;){TECA.Project.model._.requestCallbackStack.allprojectlist.shift()()}}})))},loadAllProjectList:function(e,t,i){this._checkAllProjectList((function(t){"function"==typeof e&&e(t)}),t,i)},loadAllProjectListItem:function(e,t,i){var n=this;this._checkAllProjectList((function(o){var a=void 0;void 0!==n._.dataIndex.allprojectlist[e]&&(a=o[n._.dataIndex.allprojectlist[e]]),t(a,i)}))},updateProjectList:function(){TECA.Project.model.loadProjectList(void 0,!0),TECA.Project.model.loadAllProjectList(void 0,!0)}},valFilter:{budgetHours:function(e){return""==e.replace(/ /g,"")&&(e=0),"number"==typeof(e=parseInt(e))&&60*e},hourlyRate:function(e){return""==e.replace(/ /g,"")&&(e="0"),"number"==typeof(e=parseFloat(e.replace(/,/g,".")))&&e}}}),TECA.defineClass("Register",{isItemNew:!0,isItemEntry:!1,isItemTimer:!1,tagUsage:"ALL_TAGS",requiresTags:!1,projectTagLists:[],projectTags:[],itemDate:"",itemHours:"",itemMinutes:"",taskId:-1,projectId:-1,todoId:-1,itemNotes:"",entryId:-1,timerId:-1,tagId:[],integrationData:void 0,integrationHtml:!1,showClientDropdown:!1,similarityEnabled:!1,noStartTimer:!1,hasOnlyOneAction:!1,entrylocked:!1,lockedBy:!1,lockedMessage:"",userName:"the linked member",mood:-1,isMoodEditable:!1,moodHasBeenUpdated:!1,lastFocusedFieldName:void 0,lastSelectedTaskName:"",myIntegration:"",timeoutDateChange:0,tags:[],selectedTags:[],showFromTo:!1,itemTimeFrom:"0000-00-00 00:00:00",itemHoursFrom:"",itemMinutesFrom:"",itemTimeTo:"0000-00-00 00:00:00",itemHoursTo:"",itemMinutesTo:"",overflowDays:0,resetModel:function(){this.isItemNew=!0,this.isItemEntry=!1,this.isItemTimer=!1,this.itemDate="",this.itemHours="",this.itemMinutes="",this.taskId=-1,this.projectId=-1,this.itemNotes="",this.entryId=-1,this.timerId=-1,this.integrationData=void 0,this.integrationHtml=!1,this.showClientDropdown=!1,this.similarityEnabled=!1,this.noStartTimer=!1,this.hasOnlyOneAction=!1,this.entrylocked=!1,this.lockedBy=!1,this.lockedMessage="",this.userName="the linked member",this.mood=-1,this.isMoodEditable=!1,this.moodHasBeenUpdated=!1,this.lastFocusedFieldName=void 0,this.lastSelectedTaskName="",this.myIntegration="",this.timeoutDateChange=0,this.tagId=[],this.tags=[],this.selectedTags=[]},init:function(e){var t=this,i=jQuery("#timeneye_widget_cont > .te-body");if(t.resetModel(),t=jQuery.extend(!0,t,e),this.showFromTo=TECA._.account.fromToFeatureEnabled,t.entryLocked=void 0!==t.entryLocked&&1==t.entryLocked||void 0!==t.locked&&1==t.locked,this.itemHoursFrom=parseInt(moment().format("H")),this.itemMinutesFrom=parseInt(moment().format("m")),this.itemHoursTo=parseInt(moment().format("H")),this.itemMinutesTo=parseInt(moment().format("m")),t.timerId>0){t.isItemTimer=!0,t.isItemNew=!1,t.title="Edit Timer";var n=moment().subtract(60*parseInt(this.itemHours)+parseInt(this.itemMinutes),"minutes");this.itemHoursFrom=parseInt(moment(n).format("H")),this.itemMinutesFrom=parseInt(moment(n).format("m"))}else t.entryId>0&&(t.isItemEntry=!0,t.isItemNew=!1,t.entryLocked?(t.title="Locked entry",t.icon="iconeye-lock-1-f"):t.title="Edit entry","0000-00-00 00:00:00"!=this.itemTimeFrom&&(this.itemHoursFrom=parseInt(moment(this.itemTimeFrom).format("H")),this.itemMinutesFrom=parseInt(moment(this.itemTimeFrom).format("m"))),"0000-00-00 00:00:00"!=this.itemTimeTo&&(this.itemHoursTo=parseInt(moment(this.itemTimeTo).format("H")),this.itemMinutesTo=parseInt(moment(this.itemTimeTo).format("m"))));0==t.itemHours&&(t.itemHours=""),0==t.itemMinutes&&(t.itemMinutes=""),void 0===t.itemDate||null==t.itemDate||"string"==typeof t.itemDate&&""==t.itemDate.replace(/ /g,"")?(t.itemDate=new Date,t.isItemNew&&void 0!==TECA.Entry._.lastEntryNewDate&&(t.itemDate=TECA.Entry._.lastEntryNewDate)):t.isItemTimer||t.itemDate!=moment().format("YYYY-MM-DD")&&(t.noStartTimer=!0),t.itemDate=TECA.Gui.newFormatDate(t.itemDate),null!=t.integrationData&&"object"==typeof t.integrationData&&"string"==typeof t.integrationData.integration&&"string"==typeof t.integrationData.text&&""!=t.integrationData.text.replace(/ /g,"")&&(t.todoId=t.integrationData.todoId,t.integrationHtml=TECA.Integration.getSourceHtml(t.integrationData),t.integrationLink="object"==typeof t.integrationData&&"string"==typeof t.integrationData.url&&""!=t.integrationData.url.replace(/ /g,"")&&t.integrationData.url,t.myIntegration=t.integrationData),void 0!==TECA._.user.settings.registerTimeClientFilter&&1==TECA._.user.settings.registerTimeClientFilter&&(t.showClientDropdown=!0),t.isPrimaryActionTimer="timer"==TECA._.user.settings.registerTimePrimaryAction&&!t.noStartTimer,t.isUserAdmin=typeof TECA._.user&&1==TECA._.user.isAdmin,t.isUserGM=1==TECA._.user.isGM&&TECA._.user.groupId>0,t.hasUserSelect=t.isUserAdmin&&(1==TECA._.account.adminNewEntryForOthers||t.userId>0&&t.userId!=TECA._.user.id),t.hasUserInfo=t.userId>0&&t.userId!=TECA._.user.id,(t.isItemNew&&t.noStartTimer||!t.isItemNew&&t.isItemEntry)&&(t.hasOnlyOneAction=!0),"approval"==this.lockedBy&&(this.lockedMessage="<p>This entry has been already approved and therefore cannot be manually edited without withdrawing the approval.</p>"),"date"==t.lockedBy?t.lockedMessage="<p>All entries older than <b>"+TECA.Gui.newFormatDate(TECA._.account.prosett_entriesLock_date)+"</b> are locked and can be edited only by admins.</p>":"apionly"==t.lockedBy?t.lockedMessage="<p>The linked project is <b>API only</b> and the entry can be edited only by admins.</p>":"membership"==t.lockedBy&&(t.lockedMessage="<p>The linked phase/project has been archived, or <b>"+t.userName+"</b> may have been removed from the project.</p>"),t.isMoodModeEnabled=1==TECA._.account.moodEnabled&&(t.isItemNew||t.isItemEntry&&t.userId==TECA._.user.id||t.isItemTimer),t.showMoodButtons=t.isMoodModeEnabled&&t.isItemNew,t.isMoodSet=void 0!==t.mood&&t.mood>0,t.isMoodSet&&t.isItemTimer&&(t.isMoodEditable=!0),"object"==typeof t.tagId&&"number"==typeof t.tagId.length&&t.tagId.length>0&&t.tagId.forEach((function(e,i){t.tagId[i]=e.toString()})),i.html(TECA.Gui.jhtml("registerTime/body",_.extend({showInfo:TECA._.user.isAdmin},t))),t.projectId>0&&jQuery('select[name="projectId"]',i).length>0&&jQuery('select[name="projectId"]',i).data("value",t.projectId),t.taskId>0&&jQuery('select[name="taskId"]',i).length>0&&jQuery('select[name="taskId"]',i).data("value",t.taskId),t.userId>0&&jQuery('select[name="userId"]',i).length>0&&jQuery('select[name="userId"]',i).data("value",t.userId),t.todoId>0&&jQuery('select[name="todoId"]',i).length>0&&jQuery('select[name="todoId"]',i).data("value",t.todoId),t.bootstrapSelect&&(t.entryLocked||jQuery("select",i).selectpicker()),jQuery('*[data-toggle="tooltip"]',i).tooltip(),this.fixHelperLogHeight(),jQuery("body").trigger("TECA_widget_content_changed");jQuery("#timeneye_widget_cont").height();this.initForm(t,jQuery("#te_registerTime"))},initForm:function(e,t){var i=jQuery(".registerTime_formCont",t),n=jQuery('input[name="itemHours"]',i),o=jQuery('input[name="itemMinutes"]',i),a=jQuery('input[name="itemHoursFrom"]',i),r=jQuery('input[name="itemMinutesFrom"]',i),s=jQuery('input[name="itemHoursTo"]',i),l=jQuery('input[name="itemMinutesTo"]',i);e.isItemTimer&&e.showFromTo&&(n.attr("disabled",!0),o.attr("disabled",!0),s.attr("disabled",!0),l.attr("disabled",!0));var c=function(n,o){TECA.Project.model.loadAllProjectList((function(a){!function(a){var r=jQuery('select[name="projectId"]',i),s=jQuery('select[name="userId"]',t),l='<option value="-1" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;No selection" title="No selection">No selection</option>',c="",d="",u="0000-00-00 00:00:00",h=-1,f=0,p=[],m=s.length>0?s.val():e.userId<0?TECA._.user.id:e.userId;(e.isUserAdmin||e.isUserGM)&&(l+='<option value="newItem" class="strong" data-content="<i class=\'iconeye iconeye-add-circle-1-f te-icon-newitem\'></i> &nbsp;Create a new project">Create a new project</option>'),l+='<option data-divider="true"></option>',r.attr("disabled",!1);for(var g=0,v=a.length;g<v;g++)(1==a[g].active||a[g].projectId==e.projectId)&&(void 0===o||o<=0||o>0&&a[g].clientId==o)&&(e.entryLocked&&a[g].projectId==e.projectId||(void 0===a[g].users||"object"==typeof a[g].users&&0==a[g].users.length)&&1==a[g].isMember||"object"==typeof a[g].users&&a[g].users.length>0&&a[g].users.indexOf(""+m)>-1)&&0==parseInt(a[g].apiOnly)&&(f++,a[g].lastUsed>u&&(u=a[g].lastUsed,h=a[g].projectId),1==parseInt(a[g].userIsFavorited)?c+='<option value="'+a[g].projectId+"\" data-content=\"<i class='iconeye iconeye-vote-star-f te-icon-fav'></i> &nbsp;"+a[g].projectName+'" title="'+a[g].projectName+'">'+a[g].projectName+"</option>":d+='<option value="'+a[g].projectId+'">'+a[g].projectName+"</option>",p.push({projectId:a[g].projectId,name:a[g].projectName,integrationCode:a[g].integrationCode,integrationProjectId:a[g].integrationProjectId}));if(""!=c&&(c+='<option data-divider="true"></option>'),e.similarityEnabled&&"object"==typeof e.integrationData){var y=!1;if(e.integrationData.projectId)for(g=0,v=p.length;g<v;g++)if(p[g].integrationCode==e.integrationData.integration&&p[g].integrationProjectId==e.integrationData.projectId){r.data("value",p[g].projectId),y=!0;break}if(!y&&"string"==typeof e.integrationData.projectName){var b=0,_={id:-1,vote:0};for(g=0,v=p.length;g<v;g++)(b=TECA.Register.voteSimilarity(e.integrationData.projectName,jQuery("<div/>").html(p[g].name).text()))>_.vote&&(_.id=p[g].projectId,_.vote=b);_.id>0&&r.data("value",_.id)}}void 0!==o&&o>0&&0==f?(r.html('<option value="-1">No projects for the selected Client</option>'),r.attr("disabled",!0)):r.html(l+c+d),""!=r.data("value")&&parseInt(r.data("value"))>0?(r.val(r.data("value")),r.data("value","")):-1==e.projectId&&h>0&&r.val(h),e.bootstrapSelect?(r.trigger("change"),e.entryLocked&&!t.hasClass("edit-locked-entry")&&r.attr("disabled",!0),r.selectpicker("refresh"),"boolean"==typeof n&&n&&r.siblings(".btn.dropdown-toggle").focus()):(r.trigger("change"),e.entryLocked&&!t.hasClass("edit-locked-entry")?r.attr("disabled",!0):r.focus()),r.selectpicker("refresh")}(a)}))},d=function(n){var o=jQuery('select[name="taskId"]',i),a='<option value="-1">Select a project first</option>',r=-1,s=[];if(-1==e.taskId&&TECA.Project.model.loadAllProjectList((function(e){for(var t=0,i=e.length;t<i;t++)e[t].projectId==n&&(r=parseInt(e[t].lastUsedTaskId))})),o.attr("disabled",!1),void 0!==n&&parseInt(n)>0?TECA.Task.model.loadTaskList((function(t){var i=0,r=-1;a='<option value="-1" class="strong" data-content="<i class=\'iconeye iconeye-remove-circle-1 te-icon-none\'></i> &nbsp;No selection" title="No selection">No selection</option>',(e.isUserAdmin||1==TECA._.user.isPM&&-1!=TECA._.user.managedProjects.active.indexOf(parseInt(n)))&&(a+='<option value="newItem" class="strong" data-content="<i class=\'iconeye iconeye-add-circle-1-f te-icon-newitem\'></i> &nbsp;Create a new phase">Create a new phase</option>'),a+='<option data-divider="true"></option>';for(var l=0,c=t.length;l<c;l++)(t[l].projectId==n&&1==t[l].isOpen||e.entryLocked&&t[l].projectId==n&&t[l].taskId==e.taskId)&&(a+='<option value="'+t[l].taskId+'">'+t[l].taskName+"</option>",i++,r=t[l].taskId,s.push({taskId:t[l].taskId,name:t[l].taskName}));if(-1==e.taskId&&1==i)o.data("value",r);else if(e.similarityEnabled&&"object"==typeof e.integrationData&&"string"==typeof e.integrationData.taskName){for(var d=0,u={id:-1,vote:0},h=e.integrationData.taskName.split(","),f=0,p=h.length;f<p;f++){for(l=0,c=s.length;l<c;l++)(d=TECA.Register.voteSimilarity(h[f],TECA.Gui.decodeHtml(s[l].name)))>u.vote&&(u.id=s[l].taskId,u.vote=d);if(u.id>0)break}u.id>0&&o.data("value",u.id)}})):o.attr("disabled",!0),!(parseInt(o.data("value"))>0)){var l=!1;if(!e.isItemNew&&""!=e.lastSelectedTaskName)jQuery(a).each((function(){jQuery(this).text().toLowerCase()==e.lastSelectedTaskName&&(o.data("value",jQuery(this).val()),l=!0)}));!l&&r>0&&o.data("value",r)}o.html(a),""!=o.data("value")&&parseInt(o.data("value"))>0&&(o.val(o.data("value")),o.data("value","")),o.trigger("change"),e.entryLocked&&!t.hasClass("edit-locked-entry")&&o.attr("disabled",!0),e.bootstrapSelect&&o.selectpicker("refresh")},u=function(n){TECA.Client.model.loadClientList((function(o){var a=jQuery('select[name="clientId"]',i),r='<option value="-1">There are no clients</option>';if(o.length>0){r='<option value="-1" class="strong" data-content="<i class=\'iconeye iconeye-check-circle-2 te-icon-all\'></i> &nbsp;All clients" title="All">All clients</option>',r+='<option data-divider="true"></option>';for(var s=0,l=o.length;s<l;s++)r+='<option value="'+o[s].clientId+'"',1==TECA._.user.isAdmin&&0==o[s].projectsCount&&(r+=' data-content="'+o[s].name+"<span class='bt-select-addtxt-menuonly'>no projects</span><span class='bt-select-addtxt-menuonly-holder w-60'></span>\" title=\""+o[s].name+'" disabled'),r+=">"+o[s].name,r+="</option>";a.attr("disabled",!1)}else a.attr("disabled",!0);a.html(r),a.trigger("change"),e.entryLocked&&!t.hasClass("edit-locked-entry")&&a.attr("disabled",!0),a.selectpicker("refresh"),"boolean"==typeof n&&n&&a.siblings(".btn.dropdown-toggle").focus()}))},h=function(){var i=jQuery('.form-group[data-section-id="entity-mood"]',t),n="You felt <strong>"+TECA.Gui._.moodSmileyNames[e.mood]+"</strong> while working on this"+(e.isItemTimer?" timer":" entry");if(i.length>0){jQuery(".registerTime_currentMood_cont",i).remove();var o=jQuery(TECA.Gui.jhtml("registerTime/moodSection",{mood:e.mood,moodText:n,isMoodEditable:e.isMoodEditable}));e.isMoodEditable&&jQuery('a[data-href="#edit-mood"]',o).on("click",(function(){return e.moodHasBeenUpdated=!0,e.mood=parseInt(jQuery(this).data("new-mood")),h(),!1})),i.append(o)}};e.entryLocked||e.initDatepicker(i),jQuery('input[name="itemHours"],input[name="itemMinutes"],input[name="itemHoursFrom"],input[name="itemMinutesFrom"],input[name="itemHoursTo"],input[name="itemMinutesTo"]',i).keydown((function(e){!([8,9,13,16,17,18,37,38,39,40,46,91,93].indexOf(e.which)<0)||e.which>=48&&e.which<=57||e.which>=96&&e.which<=105||e.ctrlKey||e.metaKey||e.preventDefault()})),e.showFromTo&&(jQuery('input[name="itemHoursFrom"], input[name="itemHoursTo"]',i).on("change",(function(e){var t=jQuery(this);parseInt(t.val())>23&&t.val(23).trigger("change")})),jQuery('input[name="itemMinutesFrom"], input[name="itemMinutesTo"]',i).on("change",(function(e){var t=jQuery(this);parseInt(t.val())>59&&t.val(59).trigger("change")})),n.on("change",(function(t){var i,n=jQuery(this).val().replace(/ /g,""),l=a.val().replace(/ /g,""),c=r.val().replace(/ /g,""),d=o.val().replace(/ /g,"");""==l&&""==c||(l=""==l?0:parseInt(l),n=""==n?0:parseInt(n),d=""==d?0:parseInt(d),c=""==c?0:parseInt(c),i=(l+n+Math.floor((d+c)/60))%24,e.overflowDays=Math.floor((l+n+Math.floor((d+c)/60))/24),s.val(i))})),o.on("change",(function(t){var i,o,c=jQuery(this).val().replace(/ /g,""),d=n.val().replace(/ /g,""),u=a.val().replace(/ /g,""),h=r.val().replace(/ /g,"");""==u&&""==h||((i=(h=""==h?0:parseInt(h))+(c=""==c?0:parseInt(c)))>59&&(d=""==d?0:parseInt(d),o=((u=""==u?0:parseInt(u))+d+Math.floor(i/60))%24,e.overflowDays=Math.floor((u+d+Math.floor(i/60))/24),s.val(o),i%=60),l.val(i))})),s.on("change",(function(t){var i,c,d,u=a.val().replace(/ /g,""),h=r.val().replace(/ /g,""),f=s.val().replace(/ /g,""),p=l.val().replace(/ /g,"");f<24&&(u=""==u?0:parseInt(u),h=""==h?0:parseInt(h),f=""==f?0:parseInt(f),i=((p=""==p?0:parseInt(p))-h+60)%60,c=f-u+Math.floor((p-h)/60)<0?1:0,d=(24+(f-u+Math.floor((p-h)/60)))%24,e.overflowDays>0&&(d+=24*+(e.overflowDays-c)),o.val(i),n.val(d))})),l.on("change",(function(t){var i,c,d,u=a.val().replace(/ /g,""),h=r.val().replace(/ /g,""),f=s.val().replace(/ /g,""),p=l.val().replace(/ /g,"");p<60&&(u=""==u?0:parseInt(u),h=""==h?0:parseInt(h),f=""==f?0:parseInt(f),i=((p=""==p?0:parseInt(p))-h+60)%60,c=f-u+Math.floor((p-h)/60)<0?1:0,d=(24+(f-u+Math.floor((p-h)/60)))%24,e.overflowDays>0&&(d+=24*+(e.overflowDays-c)),o.val(i),n.val(d))})),a.on("change",(function(t){var i,c,d,u=a.val().replace(/ /g,""),h=r.val().replace(/ /g,""),f=s.val().replace(/ /g,""),p=l.val().replace(/ /g,"");u<24&&(u=""==u?0:parseInt(u),h=""==h?0:parseInt(h),f=""==f?0:parseInt(f),i=((p=""==p?0:parseInt(p))-h+60)%60,c=f-u+Math.floor((p-h)/60)<0?1:0,d=(24+(f-u+Math.floor((p-h)/60)))%24,e.overflowDays>0&&(d+=24*+(e.overflowDays-c)),o.val(i),n.val(d))})),r.on("change",(function(t){var i,c,d,u=a.val().replace(/ /g,""),h=r.val().replace(/ /g,""),f=s.val().replace(/ /g,""),p=l.val().replace(/ /g,"");h<60&&(u=""==u?0:parseInt(u),h=""==h?0:parseInt(h),f=""==f?0:parseInt(f),i=((p=""==p?0:parseInt(p))-h+60)%60,c=f-u+Math.floor((p-h)/60)<0?1:0,d=(24+(f-u+Math.floor((p-h)/60)))%24,e.overflowDays>0&&(d+=24*+(e.overflowDays-c)),o.val(i),n.val(d))}))),jQuery('select[name="projectId"]',i).on("change",(function(){d(jQuery(this).val())})),jQuery('select[name="taskId"]',i).on("change",(function(){!e.isItemNew&&jQuery(this).val()>0&&(e.lastSelectedTaskName=jQuery(this).find('option[value="'+jQuery(this).val()+'"]').text().toLowerCase())})),e.showClientDropdown&&jQuery('select[name="clientId"]',i).on("change",(function(){c(!1,jQuery(this).val())})),this.hasUserSelect&&jQuery('select[name="userId"]',t).on("change",(function(){e.showClientDropdown?u(!0):c(!0)})),jQuery('select[name="projectId"]',i).on("change",(function(){TECA.Project.model.loadProjectListItem(jQuery('select[name="projectId"]',i).val(),(function(i){var n=jQuery(".select-todo-container");_.isNil(i)?n.addClass("hidden"):(i.trackTasks&&(jQuery(".integration-info-container").length||n.removeClass("hidden")),e.projectId=parseInt(i.projectId),e.tagUsage=i.tagUsage,e.projectTags=i.tags,e.projectTagLists=i.tagLists,e.requiresTags=1==i.requiresTags,e.initTagsModule(t))})),"newItem"==jQuery(this).val()&&(jQuery(this).val("-1").trigger("change"),e.entrylocked||jQuery(this).selectpicker("refresh"),TECA.Dialog.init({name:"projectNew",uniqueId:"registerTime_projectSelect",onSuccess:function(t){var n=function(){TECA.Task.model.loadTaskList((function(){jQuery('select[name="projectId"]',i).data("value",t.projectId),e.similarityEnabled=!1,c(!0)}),!0)};-2==e.userId||e.userId==TECA._.user.id?TECA.Project.model.loadProjectList((function(){n()}),!0):TECA.Project.model.loadAllProjectList((function(){n()}),!0)}}))})),jQuery('select[name="taskId"]',i).on("change",(function(){if("newItem"==jQuery(this).val()){jQuery(this).val("-1").trigger("change"),e.entrylocked||jQuery(this).selectpicker("refresh");var t=jQuery('select[name="projectId"]',i);TECA.Dialog.init({name:"taskNew",projectId:t.val(),targetProjectName:jQuery('option[value="'+t.val()+'"]',t).text(),saveSuccess:function(e){TECA.Task.model.loadTaskList((function(){jQuery('select[name="taskId"]',i).data("value",e),d(jQuery('select[name="projectId"]',i).val())}),!0)}})}})),jQuery(".registerTime_btn_saveEntry, .registerTime_btn_saveLocked",t).on("click",(function(){var t=jQuery(this);return void 0!==t.data("entity-mood")?e.saveEntry(t.data("entity-mood")):e.saveEntry(),!1})),jQuery(".registerTime_btn_saveTimer",t).on("click",(function(){var t=jQuery(this);return void 0!==t.data("entity-mood")?e.saveTimer(t.data("entity-mood")):e.saveTimer(),!1})).on("mouseenter",(function(){t.addClass("going-to-save-timer")})).on("mouseleave",(function(){t.removeClass("going-to-save-timer")})).on("focus",(function(){t.addClass("going-to-save-timer")})).on("blur",(function(){t.removeClass("going-to-save-timer")})),jQuery(".registerTime_btn_storeTimer",t).on("click",(function(){var t=jQuery(this);return void 0!==t.data("entity-mood")?e.storeTimer(t.data("entity-mood")):e.storeTimer(),!1})),jQuery(".registerTime_btn_unlock",t).on("click",(function(){return e.unlockRegisterTimeTemp(),!1})),jQuery('textarea[name="itemNotes"]',i).on("keypress",(function(e){e.stopPropagation()})),TECA.Gui.keyboard.helper_enter.push("registerTimeWidget",(function(i){i.parents("#te_registerTime").length>0&&i.hasClass("keyComboEnabled")&&(e.showMoodButtons?e.openMoodKeyboard("primary"):jQuery(".registerTime_btn_combo_enter",t).trigger("click"))})),TECA.Gui.keyboard.helper_alt_enter.push("registerTimeWidget",(function(i){i.parents("#te_registerTime").length>0&&i.hasClass("keyComboEnabled")&&(e.showMoodButtons?e.openMoodKeyboard("secondary"):jQuery(".registerTime_btn_combo_altEnter",t).trigger("click"))})),TECA.Gui.keyboard.helper_shift_enter.push("registerTimeWidget",(function(e){e.parents("#te_registerTime").length>0&&e.attr("name")})),jQuery('input[name="itemDate"]',i).on("change",(function(){var t=jQuery(this);clearTimeout(e.timeoutDateChange),e.timeoutDateChange=setTimeout((function(){e.updateTimerDateAlert(t.val()),e.updateDistantDateAlert(t.val())}),100)})),jQuery('a[data-href="#edit-integration-info"]',e.htmlBody).on("click",(function(){jQuery(".integration-info-container").addClass("hidden"),jQuery(".select-todo-container").removeClass("hidden")})),jQuery('a[data-href="#cancel-edit-integration-info"]',e.htmlBody).on("click",(function(){jQuery(".integration-info-container").removeClass("hidden"),jQuery(".select-todo-container").addClass("hidden")})),jQuery('a[data-href="#remove-integration-info"]',t).on("click",(function(){if(e.isItemNew)e.removeIntegrationInfo();else{var t="Are you sure you want to remove the integration info from this ";t+=(e.isItemEntry?"entry":"timer")+"?",t+="\nThis action will be applied immediately.",jQuery(".te-dialog-body",jQuery("#timeneye_widget_cont")).append('<div class="popup-focus"><div class="popup-remove-integration"><p>'+t+'</p><div class="row"><div class="col-xs-6" style="padding-right: 5px;"><button id="btnRemove-integration-cancel" class="btn btn-default btn-block">Cancel</button></div><div class="col-xs-6" style="padding-left: 5px;"><button id="btnRemove-integration-confirm" class="btn btn-warning btn-block">Confirm</button></div></div></div></div>'),jQuery("#btnRemove-integration-confirm").on("click",(function(){jQuery(".popup-focus",jQuery("#timeneye_widget_cont")).detach(),e.removeIntegrationInfo()})),jQuery("#btnRemove-integration-cancel").on("click",(function(){jQuery(".popup-focus",jQuery("#timeneye_widget_cont")).detach()}))}return!1})),e.isMoodModeEnabled&&h(),e.showClientDropdown?u(!0):c(!0),e.updateTimerDateAlert(jQuery('input[name="itemDate"]',i).val()),TECA.Gui.feedback.close(jQuery("#timeneye_widget_cont"))},initTagsModule:function(e){var t=this;jQuery(".moduleCont_tags--wrapper",e).html(TECA.Gui.jhtml("registerTime/tagSection",{accountHasTags:TECA.Tag.model.hasTags(),projectHasTags:"NO_TAGS"!==this.tagUsage||this.tagId.length>0,requiresTags:this.requiresTags}));var i=jQuery(".moduleCont_tags",e),n=jQuery('input[name="registerTime_addTag"]',i),o=n.parents(".newTagInputCont"),a=10,r=function(){jQuery(".ghost-content",o).text(n.val()),a=parseFloat(o.width()+10),n.css("width",a+"px")},s=function(){for(var e=[],o=jQuery("#registerTime_newTagTips"),a=n.val().toLowerCase(),r=n.offset().top+n.height(),s=200,c=0,u=t.tags.length;c<u;c++)-1!=_.indexOf(t.tagId,t.tags[c].tagId)||""!=a.replace(/ /g,"")&&-1==t.tags[c].name.toLowerCase().indexOf(a)||e.push(t.tags[c]);if(e.length>0){e.sort(firstBy((function(e,t){return!e.required&&t.required?1:e.required&&!t.required?-1:0})).thenBy((function(e,t){return e.tagListId>t.tagListId?1:e.tagListId<t.tagListId?-1:0})).thenBy((function(e,t){return e.name.toLowerCase().indexOf(a)>t.name.toLowerCase().indexOf(a)?1:e.name.toLowerCase().indexOf(a)<t.name.toLowerCase().indexOf(a)?-1:0}))),0==o.length&&(i.append('<div id="registerTime_newTagTips"></div>'),o=jQuery("#registerTime_newTagTips")),o.html("");var h=-1;for(c=0,u=e.length;c<u;c++){h!=e[c].tagListId&&(h=e[c].tagListId,o.append(TECA.Gui.jhtml("registerTime/tagTipsHeaderItem",{tagId:e[c].tagId,tagName:e[c].name,tagListId:e[c].tagListId,tagListName:e[c].tagListName,tagListRequired:1==e[c].required})));var f=jQuery(TECA.Gui.jhtml("registerTime/tagTipsItem",{tagId:e[c].tagId,tagName:e[c].name,tagListId:e[c].tagListId,tagListName:e[c].tagListName}));f.on("mousedown",(function(){d(!0,jQuery(this).data("tag-id"))})),o.append(f)}s=o.height(),jQuery(window).height()-r<s&&(r-=n.height()+15+s),o.css("top",r+"px").css("left",n.offset().left-15+"px")}else o.length>0&&l()},l=function(){jQuery("#registerTime_newTagTips").remove(),f()},c=function(e){var t=jQuery("#registerTime_newTagTips",i);if(t.length>0){var n=jQuery(".tag-name.focused",t),o=jQuery(".tag-name",t);n.removeClass("focused"),n.length>0?1===e?n.is(o.first())?n.addClass("focused"):n.prevAll(".tag-name:first").addClass("focused"):-1===e&&(n.is(o.last())?n.addClass("focused"):n.nextAll(".tag-name:first").addClass("focused")):jQuery(".tag-name",t).first().addClass("focused")}},d=function(e,i){var o=null,a=(n.val(),jQuery("#registerTime_newTagTips > .tag-name.focused"));"boolean"!=typeof e&&(e=!1),a.length>0?o=_.find(t.tags,["name",_.trim(a.text())]):"number"==typeof i&&i>0&&(o=_.find(t.tags,["tagId",i.toString()])),_.isNil(o)||-1==_.indexOf(t.tagId,o.tagId)&&(t.tagId.push(o.tagId),l(),n.val(""),setTimeout((function(){n.focus()}),50),e&&h())},u=function(e){jQuery(".tooltip").remove(),t.tagId=_.without(t.tagId,e),h()},h=function(){var e,a;jQuery(".te-chip",i).remove();for(var s=0,l=t.tagId.length;s<l;s++)e=_.find(t.tags,["tagId",t.tagId[s].toString()]),a=jQuery(TECA.Gui.jhtml("tag/chip-tag",{chipType:"tag",hasId:!0,hasLeadingIcon:!1,hasTrailingIcon:!0,trailingIcon:"iconeye-android-close",chipValue:e.name,chipHeader:e.tagListName,color:e.color,tagId:e.tagId,isTextWhite:e.isTextWhite,tagListId:e.tagListId,tagListName:e.tagListName})),jQuery(".te-chip-trailing-icon",a).on("click",(function(){u(jQuery(this).parent(".te-chip").data("tag-id").toString())})),a.on("click",(function(){var e=_.find(t.tags,["tagId",jQuery(this).data("tag-id").toString()]);u(e.tagId),setTimeout((function(){n.val(e.name),r()}),50)})),o.before(a);jQuery('[data-toggle="tooltip"]').tooltip(),(i.data("flag-height")&&i.data("flag-height")!=i.outerHeight()||!i.data("flag-height"))&&i.data("flag-height",i.outerHeight())},f=function(){t.requiresTags&&0==t.tagId.length?i.tooltip({container:"#timeneye_widget_cont",placement:"bottom",title:"This project requires at least one tag",template:'<div class="tooltip tooltip-validation tooltip-validation-danger" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}).tooltip("show").parents(".form-group").addClass("invalid-group"):i.tooltip("destroy").parents(".form-group").removeClass("invalid-group")};TECA.Tag.model.loadValidTagsForProject(this.projectId,t.tagId,(function(e){if(t.tags=e,t.integrationData&&t.integrationData.tagNames)for(var o=0;o<t.integrationData.tagNames.length;o++){var a=_.find(_.filter(t.tags,["integrationCode","planner"]),["name",t.integrationData.tagNames[o]]);a&&t.tagId.push(a.tagId)}t.tagId.length>0&&h(),n.on("focus",(function(){i.addClass("focused")})).on("blur",(function(){i.removeClass("focused"),setTimeout((function(){l()}),50)})).on("keydown",(function(e){8==e.which&&""==n.val()?function(){if(t.tagId.length>0){var e=t.tagId.pop();h(),setTimeout((function(){var i=_.find(t.tags,["tagId",e.toString()]);n.val(i.name),r()}),50)}}():13==e.which?d(!0):38==e.which?(e.preventDefault(),c(1)):40==e.which?(e.preventDefault(),c(-1)):9!=e.which&&27!=e.which||l()})).on("keyup",(function(e){r();-1==[9,13,16,27,38,40].indexOf(e.which)&&s()})).on("_copyForceRender",(function(){h()})),i.on("click",(function(){n.focus()})),jQuery(".moduleCont_tags").on("focusin",(function(){s()})),i.data("flag-height",i.outerHeight()),f()}))},initDatepicker:function(e){var t={container:"#timeneye_widget_cont",format:"string"==typeof TECA._.user.settings.dateFormat?TECA._.user.settings.dateFormat:"yyyy-mm-dd",autoclose:!0,todayHighlight:!1,weekStart:void 0!==TECA._.user.settings.weekStart?TECA._.user.settings.weekStart:1,keyboardNavigation:!1,startDate:TECA.Gui.newFormatDate("1900-01-01")};1==TECA._.account.prosett_entriesLock_enabled&&""!=TECA._.account.prosett_entriesLock_date&&(t.startDate=TECA.Gui.newFormatDate(TECA._.account.prosett_entriesLock_date)),jQuery('input[name="itemDate"]',e).datepicker(t)},updateTimerDateAlert:function(e){var t=TECA.Gui.newFormatDate(moment()),i=jQuery("#te_registerTime"),n=jQuery('.registerTime_btn_saveTimer[data-timer-action="new"]',i);n.length>0&&!this.isMoodModeEnabled&&(e!=t?n.tooltip({container:"#timeneye_widget_cont",placement:"top",title:"Timers ignore the date field"}):n.tooltip("destroy"))},updateDistantDateAlert:function(e){var t=jQuery("#te_registerTime"),i=jQuery(".registerTime_dateFieldSection .warning-distant-date",t),n=jQuery(".distance-cont",i),o=0,a="",r=moment();i.length>0&&(i.removeClass("active"),n.html(""),this.isItemNew||(r=moment(this.itemDate,TECA._.user.settings.dateFormat.toUpperCase())),o=moment(e,TECA._.user.settings.dateFormat.toUpperCase()).diff(r,"weeks",!0),Math.abs(o)>2&&(a=o>0?"More than "+Math.round(Math.abs(o))+" weeks in the future":"More than "+Math.round(Math.abs(o))+" weeks in the past",this.isItemNew||(a+="<br/>compared to previous date"),n.html(a),i.addClass("active")))},openMoodKeyboard:function(e){var t=this,i=jQuery("#te_registerTime"),n=jQuery(".registerTime_mood_cont",i),o=jQuery(".form-control:focus",i),a=function(e){var o=5,r=jQuery(".mood-btn.focus",n),s=!0,l=!0;0==r.length&&(r=jQuery('.mood-btn[data-entity-mood="5"]',n)),jQuery(".mood-btn",n).removeClass("focus").trigger("mouseleave"),TECA.Gui.keyboard.helper_arrow_left.pop("registerTime_moodKeyLeft"),TECA.Gui.keyboard.helper_arrow_right.pop("registerTime_moodKeyRight"),TECA.Gui.keyboard.helper_enter.pop("registerTime_moodKeyConfirm"),TECA.Gui.keyboard.helper_esc.pop("registerTime_moodKeyCancel"),void 0!==e&&e>0?r.is(":last-child")?(l=!1,o=parseInt(r.data("entity-mood"))):o=parseInt(r.next(".mood-btn").data("entity-mood")):void 0!==e&&e<0&&(r.is(":first-child")?(s=!1,o=parseInt(r.data("entity-mood"))):o=parseInt(r.prev(".mood-btn").data("entity-mood"))),jQuery('.mood-btn[data-entity-mood="'+o+'"]',n).addClass("focus"),setTimeout((function(){jQuery('.mood-btn[data-entity-mood="'+o+'"]',n).trigger("mouseenter")}),100),s&&TECA.Gui.keyboard.helper_arrow_left.push("registerTime_moodKeyLeft",(function(){a(-1)})),l&&TECA.Gui.keyboard.helper_arrow_right.push("registerTime_moodKeyRight",(function(){a(1)})),TECA.Gui.keyboard.helper_enter.push("registerTime_moodKeyConfirm",(function(){var e=jQuery(".mood-btn.focus",n);e.length>0&&(e.trigger("click"),"string"==typeof t.lastFocusedFieldName&&jQuery('.form-control[name="'+t.lastFocusedFieldName+'"]',i).focus(),TECA.Gui.keyboard.helper_enter.pop("dialogRegisterTime_moodKeyConfirm"),TECA.Gui.keyboard.helper_esc.pop("dialogRegisterTime_moodKeyCancel"),TECA.Gui.keyboard.helper_arrow_left.pop("dialogRegisterTime_moodKeyLeft"),TECA.Gui.keyboard.helper_arrow_right.pop("dialogRegisterTime_moodKeyRight"))})),TECA.Gui.keyboard.helper_esc.push("dialogRegisterTime_moodKeyCombo",(function(){"string"==typeof t.lastFocusedFieldName&&jQuery('.form-control[name="'+t.lastFocusedFieldName+'"]',i).focus(),jQuery(".mood-btn",n).removeClass("focus").trigger("mouseleave"),n.removeClass("focus"),TECA.Gui.keyboard.helper_esc.pop("dialogRegisterTime_moodKeyCancel"),TECA.Gui.keyboard.helper_enter.pop("dialogRegisterTime_moodKeyConfirm"),TECA.Gui.keyboard.helper_arrow_left.pop("dialogRegisterTime_moodKeyLeft"),TECA.Gui.keyboard.helper_arrow_right.pop("dialogRegisterTime_moodKeyRight")}))};o.length>0&&(t.lastFocusedFieldName=o.attr("name"),o.trigger("blur")),jQuery(".registerTime_mood_cont",i).removeClass("focus"),jQuery(".mood-btn",i).removeClass("focus"),void 0===e&&(e="primary"),(n=n.length>1&&"secondary"==e?n.eq(1):n.eq(0)).addClass("focus"),a()},removeIntegrationInfo:function(){var e=jQuery("#te_registerTime"),t=jQuery(".registerTime_formCont",e),i=function(){jQuery('a[data-href="#remove-integration-info"]',e).parents(".form-group").remove()};TECA.Gui.feedback.loading(t),this.isItemNew?i():TECA.apiRequest("deleteIntegrationInfo",{entityType:this.isItemEntry?"entry":"timer",entityId:this.isItemEntry?this.entryId:this.timerId},(function(e){"string"==typeof e?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e),TECA.Gui.feedback.close(t)):TECA.Gui.feedback.danger(t,e):e.code?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e.description),TECA.Gui.feedback.close(t)):TECA.Gui.feedback.danger(t,e.description):(i(),TECA.Gui.feedback.close(t))}))},fixHelperLogHeight:function(){var e=jQuery("#te_registerTime");jQuery(".registerTime_logCont",e).css("height",jQuery(".registerTime_formCont",e).outerHeight()+"px")},getFormMinutes:function(){var e=jQuery("#te_registerTime"),t=jQuery(".registerTime_formCont",e),i=0;return""!=jQuery('input[name="itemHours"]',t).val()&&(i+=60*parseInt(jQuery('input[name="itemHours"]',t).val())),""!=jQuery('input[name="itemMinutes"]',t).val()&&(i+=parseInt(jQuery('input[name="itemMinutes"]',t).val())),i},formJustSaved:function(){if(this.resetModel(),"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted||"string"==typeof pCaster&&"timer"==pCaster)TECA.Gui.keyboard.helper_esc.pop("registerTimeWidget"),TECA.Gui.keyboard.helper_enter.pop("registerTimeWidget"),TECA.Gui.keyboard.helper_shift_enter.pop("registerTimeWidget"),TECA.Gui.keyboard.helper_shift_alt_enter.pop("registerTimeWidget"),TECA.Entry.list.destroy("registerTimeWidget_entriesList"),TECA.Timer.list.destroy("registerTimeWidget_timersList"),jQuery("#te_registerTime").html("").addClass("just-feedback");else{var e=jQuery("#te_registerTime"),t=jQuery(".registerTime_formCont",e),i=jQuery(".integrationInfo",t);jQuery('input[name="entryId"]',t).val(-1),jQuery('input[name="timerId"]',t).val(-1),jQuery('input[name="itemHours"]',t).val(""),jQuery('input[name="itemMinutes"]',t).val(""),jQuery('textarea[name="itemNotes"]',t).val(""),i.length>0&&i.remove(),jQuery('select[name="projectId"]',t).next(".bootstrap-select").find(".btn.dropdown-toggle").focus()}},unlockRegisterTimeTemp:function(){var e=jQuery("#te_registerTime"),t=jQuery(".registerTime_formCont",e),i=jQuery(".registerTime_btn_saveLocked",t);this.initDatepicker(t),jQuery('input[type="text"], select, textarea',t).prop("disabled",!1),jQuery("select",t).selectpicker("refresh"),i.prop("disabled",!0),setTimeout((function(){i.prop("disabled",!1)}),1e3),e.addClass("edit-locked-entry")},getTimeFrom:function(){var e=jQuery(".registerTime_formCont",this.htmlBody),t=jQuery('input[name="itemDate"]',e).val()+" ";return""!=jQuery('input[name="itemHoursFrom"]',e).val()?t+=jQuery('input[name="itemHoursFrom"]',e).val()+":":t+="00:",""!=jQuery('input[name="itemMinutesFrom"]',e).val()?t+=jQuery('input[name="itemMinutesFrom"]',e).val()+":00":t+="00:00",t},voteSimilarity:function(e,t){var i=0,n=function(e,t,i){var n=-1,o=t.length;return-1==(n=e.length>t.length?e.indexOf(t):t.indexOf(e))?0:(o-n)/o*i};if("string"==typeof e&&e.length>0&&"string"==typeof t&&t.length>0&&(e=e.toLowerCase().replace(/\s/g," "),t=t.toLowerCase().replace(/\s/g," "),(i=e.length<=t.length?n(e,t,1):n(t,e,.8))<.1&&(i=e.length<=t.length?n(e.replace(/ /g,""),t.replace(/ /g,""),.5):n(t.replace(/ /g,""),e.replace(/ /g,""),.4)),i<.1)){var o=e.split(" ");if(o.length>1){for(var a=0,r=o.length;a<r;a++)i+=n(o[a],t,.4);i/=o.length}}return i},saveEntry:function(e){var t=jQuery("#te_registerTime"),i=jQuery(".registerTime_formCont",t),n="";if(jQuery('*[data-toggle="tooltip"]',t).tooltip("destroy"),TECA.Gui.validate(i)){TECA.Gui.feedback.loading(i),n="<strong>"+TECA.Gui.formatMins(this.getFormMinutes(),!0)+"</strong> saved for <strong>"+jQuery('select[name="projectId"] > option[value="'+jQuery('select[name="projectId"]',i).val()+'"]',i).text()+"</strong>/<strong>"+jQuery('select[name="taskId"] > option[value="'+jQuery('select[name="taskId"]',i).val()+'"]',i).text()+"</strong>";var o=TECA._.user.id,a=this.optFunctions;myRequestData={entryId:jQuery('input[name="entryId"]',i).val(),entryDate:moment(jQuery('input[name="itemDate"]',i).val(),TECA._.user.settings.dateFormat.toUpperCase()).format("YYYY-MM-DD"),minutes:this.getFormMinutes(),userId:o,taskId:jQuery('select[name="taskId"]',i).val(),tagId:JSON.stringify(this.tagId),notes:jQuery('textarea[name="itemNotes"]',i).val(),source:jQuery("input.entryIntegrationCode",i).length>0?jQuery("input.entryIntegrationCode",i).val():"",sourceData:jQuery("input.entryIntegrationData",i).length>0?JSON.stringify(this.myIntegration):"",mood:void 0!==e?e:this.moodHasBeenUpdated?this.mood:-1},this.showFromTo&&(myRequestData.entryTimeFrom=this.getTimeFrom()),TECA.apiRequest("saveEntry",myRequestData,(function(e){"string"==typeof e?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e),TECA.Gui.feedback.close(i)):TECA.Gui.feedback.danger(i,e):e.code?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e.description),TECA.Gui.feedback.close(i)):TECA.Gui.feedback.danger(i,e.description):(jQuery("body").trigger("TEDataUpdate_timeEntries"),TECA.Register.formJustSaved(),"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?TECA.Gui.message.success(n,(function(){TECA.Content.closeEntryDialog(a)})):(TECA.Gui.feedback.success(t,n),TECA.Gui.body.showView("entries")))}))}},saveTimer:function(e,t){var i=this,n=jQuery("#te_registerTime"),o=jQuery(".registerTime_formCont",n),a={};if(jQuery('*[data-toggle="tooltip"]',n).tooltip("destroy"),"boolean"!=typeof t&&(t=!1),TECA.Gui.validate(o,["itemHours","itemMinutes"])){TECA.Gui.feedback.loading(o),a={timerId:i.timerId,timerDate:moment(jQuery('input[name="itemDate"]',o).val(),TECA._.user.settings.dateFormat.toUpperCase()).format("YYYY-MM-DD"),projectId:jQuery('select[name="projectId"]',o).val(),taskId:jQuery('select[name="taskId"]',o).val(),tagId:JSON.stringify(i.tagId),notes:jQuery('textarea[name="itemNotes"]',o).val(),mood:void 0!==e?e:i.moodHasBeenUpdated?i.mood:-1},i.timerId<0&&(a.source=jQuery("input.entryIntegrationCode",o).length>0?jQuery("input.entryIntegrationCode",o).val():"",a.sourceData=jQuery("input.entryIntegrationData",o).length>0?JSON.stringify(i.myIntegration):""),jQuery('input[name="itemHours"]',o).val()==i.itemHours&&jQuery('input[name="itemMinutes"]',o).val()==i.itemMinutes||(a.seconds=60*i.getFormMinutes());var r="createTimer",s=function(e){"string"==typeof e?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?TECA.Gui.message.danger(e):TECA.Gui.feedback.danger(o,e):e.code?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?TECA.Gui.message.danger(e.description):TECA.Gui.feedback.danger(o,e.description):TECA.Project.model.loadProjectListItem(e.projectId,(function(t){TECA.Task.model.loadTaskListItem(e.taskId,(function(o){var a=(e.wasNew?"Updated timer for ":"Started timer for ")+"<strong>"+t.projectName+"</strong>/<strong>"+o.taskName+"</strong>",r=i.optFunctions;TECA.Register.formJustSaved(),"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?TECA.Gui.message.success(a,(function(){TECA.Content.closeEntryDialog(r)})):(TECA.Timer.model.updateTimerList(!0),TECA.Gui.feedback.success(n,a),TECA.Gui.body.showView("timers"))}))}))};i.timerId>0&&(r="updateTimer"),t&&(s=function(e){"string"==typeof e?TECA.Gui.feedback.danger(o,e):e.code?TECA.Gui.feedback.danger(o,e.description):TECA.apiRequest("storeTimer",{timerId:e.timerId},(function(e){"string"==typeof e?TECA.Gui.feedback.danger(o,e):e.code?TECA.Gui.feedback.danger(o,e.description):TECA.Project.model.loadProjectListItem(e.projectId,(function(t){TECA.Task.model.loadTaskListItem(e.taskId,(function(e){var i="Timer saved as an entry for <strong>"+t.projectName+"</strong>/<strong>"+e.taskName+"</strong>";TECA.Timer.model.updateTimerList(!0),jQuery("body").trigger("TEDataUpdate_timeEntries"),TECA.Register.formJustSaved(),jQuery('*[data-toggle="tooltip"]',n).tooltip("destroy"),TECA.Gui.feedback.success(n,i)}))}))}))}),TECA.apiRequest(r,a,s)}},storeTimer:function(e){this.saveTimer(e,!0)}}),TECA.defineClass("Task",{resetModel:function(){this.model._.requestStatus.categorylist=0,this.model._.requestCallbackStack.categorylist=[],this.model._.tasklist=[],this.model._.categorylist=[],this.model._.dataIndex.tasklist={}},model:{_:{tasklist:[],categorylist:[],requestCallbackStack:{categorylist:[]},dataIndex:{tasklist:{}},requestStatus:{categorylist:0}},_checkTaskList:function(e,t){var i=TECA.Task.model;!i._.tasklist.length>0||"boolean"==typeof t&&1==t?this._getTaskList((function(){e(jQuery.extend(!0,[],i._.tasklist))}),t):e(jQuery.extend(!0,[],i._.tasklist))},_getTaskList:function(e,t){var i=TECA.Task.model;TECA.Project.model.loadProjectList((function(t){i._.tasklist=[];for(var n=0,o=0,a=t.length;o<a;o++)for(var r=0,s=t[o].tasks.length;r<s;r++)t[o].tasks[r].parentName=t[o].projectName,t[o].tasks[r].projectId=t[o].projectId,t[o].tasks[r].projectIsActive=t[o].active,i._.tasklist[n]=t[o].tasks[r],i._.dataIndex.tasklist[t[o].tasks[r].taskId]=n,n++;e()}),t)},loadTaskList:function(e,t){this._checkTaskList((function(t){"function"==typeof e&&e(t)}),t)},loadTaskListItem:function(e,t,i){var n=TECA.Task.model;n._checkTaskList((function(o){var a=void 0;void 0!==n._.dataIndex.tasklist[e]&&(a=o[n._.dataIndex.tasklist[e]]),t(a,i)}))},_checkTaskCategoriesList:function(e,t){var i=TECA.Task.model;!i._.categorylist.length>0||"boolean"==typeof t&&1==t?i._getTaskCategoriesList((function(){e(jQuery.extend(!0,[],i._.categorylist))})):e(jQuery.extend(!0,[],i._.categorylist))},_getTaskCategoriesList:function(e){var t=TECA.Task.model;"function"==typeof e&&t._.requestCallbackStack.categorylist.push(e),0===t._.requestStatus.categorylist&&(t._.requestStatus.categorylist=1,TECA.apiRequest("getTaskCategories",{},(function(e){if("string"==typeof e||e.code)t._.categorylist=[];else for(t._.requestStatus.categorylist=0,t._.categorylist=e.categories;t._.requestCallbackStack.categorylist.length>0;){t._.requestCallbackStack.categorylist.shift()()}})))},loadTaskCategoriesList:function(e,t){this._checkTaskCategoriesList((function(t){"function"==typeof e&&e(t)}),t)},loadTaskCategoriesListItem:function(e,t){this._checkTaskCategoriesList((function(i){for(var n=void 0,o=0,a=i.length;o<a;o++)i[o].taskCategoryId==e&&(n=i[o]);t(n)}))},updateTaskList:function(){TECA.Task.model.loadTaskList(void 0,!0)}}}),TECA.defineClass("Timer",{resetModel:function(){this.model._.requestStatus.timerlist=0,this.model._.requestCallbackStack.timerlist=[],this.model._.requestLastTime.timerlist=0,this.model._.timerlist=[],this.model._.timerStartClient=void 0,this.model._.runningTimerId=-1},model:{_:{timerlist:[],requestStatus:{timerlist:0},requestCallbackStack:{timerlist:[]},requestLastTime:{timerlist:0},timerStartClient:void 0,runningTimerId:-1},_checkTimerList:function(e,t,i){var n=TECA.Timer.model;"boolean"!=typeof i&&(i=!1),(Date.now()-n._.requestLastTime.timerlist>6e4||"boolean"==typeof t&&!0===t)&&!i?n._getTimerList((function(){e(jQuery.extend(!0,[],n._.timerlist))})):e(jQuery.extend(!0,[],n._.timerlist))},_getTimerList:function(e){var t=TECA.Timer.model;"function"==typeof e&&t._.requestCallbackStack.timerlist.push(e),0===t._.requestStatus.timerlist&&(t._.requestStatus.timerlist=1,TECA.apiRequest("getTimers",{},(function(e){if(t._.runningTimerId=-1,t._.requestLastTime.timerlist=Date.now(),t._.requestStatus.timerlist=0,t._.timerStartClient=moment().format("YYYY-MM-DD HH:mm:ss"),"string"==typeof e||e.code)t._.timerlist=[];else{for(var i=0,n=(e=e.timers).length;i<n;i++)"running"==e[i].timerStatus&&(t._.runningTimerId=parseInt(e[i].timerId));t._.timerlist=e,t._.timerlist.length>1&&!jQuery(".te-dialog-foot").length?jQuery("#timeneye_widget_cont > .te-body").append('<div class="te-dialog-foot"><button id="timers_btn_saveAll" class="btn btn-primary">Save all</button></div>'):t._.timerlist.length<=1&&jQuery(".te-dialog-foot").length&&jQuery("#timeneye_widget_cont > .te-body > .te-dialog-foot").remove()}for(;t._.requestCallbackStack.timerlist.length>0;){t._.requestCallbackStack.timerlist.shift()()}jQuery("body").trigger("TEDataUpdate_timers")})))},loadTimerList:function(e,t,i){TECA.Timer.model._checkTimerList((function(t){"function"==typeof e&&e(t)}),t,i)},updateTimerList:function(e){"boolean"!=typeof e&&(e=!0),TECA.Timer.model.loadTimerList((function(){}),e)},loadTimerListitem:function(e,t,i){TECA.Timer.model._checkTimerList((function(n){for(var o=void 0,a=0,r=n.length;a<r;a++)parseInt(n[a].timerId)===parseInt(e)&&(o=n[a]);t(o,i)}))},loadIntegrationTimerList:function(e,t,i){void 0===i&&(i=!0),TECA.Timer.model._checkTimerList((function(i){var n,o=[];for(n=0;n<i.length;n++)"string"==typeof i[n].source&&i[n].source==e&&"object"==typeof i[n].sourceData&&""!=i[n].sourceData.id&&i[n].timerDate==moment().format("YYYY-MM-DD")&&o.push(i[n]);"function"==typeof t&&t(o)}),i)},getRunningTimerId:function(){return parseInt(self._.runningTimerId)}},view:{init:function(){TECA.Timer.model._.timerlist.length>1?jQuery("#timeneye_widget_cont > .te-body").html('<div id="te_timerList" class="te-feedback-cont te-scroll-cont"></div><div class="te-dialog-foot"><button id="timers_btn_saveAll" class="btn btn-primary">Save all</button></div>'):jQuery("#timeneye_widget_cont > .te-body").html('<div id="te_timerList" class="te-feedback-cont"></div>'),"function"==typeof TECA.Timer.list.saveAll&&jQuery(" .te-body > .te-dialog-foot > #timers_btn_saveAll").on("click",(function(e){e.preventDefault(),TECA.Timer.list.saveAll()})),TECA.Timer.list.init("te_timerList",{filters:{userId:-2},display:{showDate:!0,showAlwaysInfo:!0}}),TECA.Timer.activetimer.init({userId:-2})}},activetimer:{_:{intervalTimeout:0},filters:{},init:function(e){if("object"==typeof TECA._.user&&void 0!==TECA._.user.id){var t=this;this.filters=e,this.update(),jQuery("body").on("TEDataUpdate_timers",(function(){t.update()})),clearTimeout(this._.intervalTimeout),this._.intervalTimeout=setInterval((function(){t.update()}),1e4)}},update:function(){var e=this,t=jQuery('.te-entity-list .te-entity-item[data-timer-status="running"]'),i=jQuery('.te-entity-list[data-entity-list-type="timer"] .te-daytotal-cont'),n=!1,o=void 0,a=function(e){for(var a=0,r=e.length;a<r;a++)"running"===e[a].timerStatus&&(n=!0,o=e[a]);if(n&&"object"==typeof o){var s=TECA.Timer.utils.getTimerSeconds(o.currentSeconds,o.timerStatus);t.length>0&&t.each((function(){var e=jQuery(this);jQuery(".te-entity-time > .te-entity-time-formatted",e).html(TECA.Gui.formatMins(s/60,"html"))})),i.length>0&&i.each((function(){var e=jQuery(this),t=0;e.parents(".te-entity-list").find('.te-entity-item[data-entity-type="timer"][data-timer-status="paused"]').each((function(){t+=parseInt(jQuery(this).data("timer-current-seconds"))})),jQuery(".daytotal-time",e).html(TECA.Gui.formatMins((t+s)/60,"html"))}))}};"string"==typeof e.filters.source?TECA.Timer.model.loadIntegrationTimerList(e.filters.source,(function(t){var i=function(t){for(var i=[],n=0,o=t.length;n<o;n++)t[n].sourceData.id==e.filters.sourceId&&i.push(t[n]);return i}(t);a(i)}),!1):TECA.Timer.model.loadTimerList((function(e){a(e)}),!1,!0)}},utils:{getTimerSeconds:function(e,t,i){var n=void 0!==e?parseInt(e):0;if(void 0!==t&&"running"==t){var o=moment(),a=moment("string"==typeof i?i:TECA.Timer.model._.timerStartClient,"YYYY-MM-DD HH:mm:ss");n+=parseInt(Math.round(parseInt(o.unix())-parseInt(a.unix())))}return n}},list:{_:{saveStatus:!0,activeTimers:void 0},init:function(e,t){void 0===t&&(t={}),void 0===t.filters&&(t.filters={}),void 0===t.display&&(t.display={}),void 0===t.mixins&&(t.mixins={});var i=jQuery("#"+e);if(i.length>0){this.destroy(e);var n={instanceId:generateUUID(),timerRunningUpdateInterval:void 0,print:function(){if(void 0===this.destroyed||!this.destroyed){var e=this,t=function(t){var i=!1;if("string"==typeof e.filters.timerStatus&&"running"==e.filters.timerStatus){for(var n=0,o=t.length;n<o;n++)if("running"===t[n].timerStatus){t=jQuery.extend(!0,[],[t[n]]),i=!0;break}i||(t=[])}if("string"==typeof e.filters.date&&""!=e.filters.date.replace(/ /g,"")){var a=[];for(n=0,o=t.length;n<o;n++)t[n].timerDate==e.filters.date&&a.push(t[n]);t=a.length>0?a:[]}if(void 0!==e.filters.timerId){var r=[];for(n=0,o=t.length;n<o;n++)if(t[n].timerId==e.filters.timerId){r.push(t[n]);break}t=1==r.length?r:[]}for(var s=jQuery.extend(!0,[],t),l=0,c=s.length;l<c;l++)s[l].currentSeconds=0;s=JSON.stringify(s),void 0===e.dataCacheForPrintCheck||e.dataCacheForPrintCheck!=s?(e.dataCacheForPrintCheck=s,TECA.Gui.entity.updateList({type:"timer",instance:e,data:t,display:e.display,mixins:e.mixins,onFinish:function(){TECA.Gui.feedback.close(jQuery("#"+e.elementId)),e.timerRunningUpdateInterval=setInterval((function(){e.updateRunningTimerTime()}),3e4)}}),"object"==typeof t&&t.length>0?"function"==typeof e.dataYes&&e.dataYes(t):"function"==typeof e.dataNo&&e.dataNo()):TECA.Gui.feedback.close(jQuery("#"+e.elementId))};TECA.Gui.feedback.loading(jQuery("#"+this.elementId)),"string"==typeof e.filters.source?TECA.Timer.model.loadIntegrationTimerList(e.filters.source,(function(i){var n=function(t){for(var i=[],n=0,o=t.length;n<o;n++)t[n].sourceData.id==e.filters.sourceId&&i.push(t[n]);return i}(i);t(n)}),!1):TECA.Timer.model.loadTimerList((function(e){t(e)}))}},getTimerSeconds:function(e,t,i){var n=void 0!==e?parseInt(e):0;if(void 0!==t&&"running"==t){var o=moment(),a=moment("string"==typeof i?i:TECA.Timer.model._.timerStartClient,"YYYY-MM-DD HH:mm:ss");n+=parseInt(Math.round(parseInt(o.unix())-parseInt(a.unix())))}return n},updateRunningTimerTime:function(){var e=this;jQuery("#"+this.elementId+' .te-entity-item[data-timer-status="running"]').each((function(){var t=jQuery(this),i=e.getTimerSeconds(t.data("timer-current-seconds"),t.data("timer-status"),t.data("timer-own-start"));jQuery(".te-entity-time > .hours",t).text(TECA.Gui.formatMins(i/60).hh),jQuery(".te-entity-time > .minutes",t).text(TECA.Gui.formatMins(i/60).mm)}))},openForm:function(e,t){var i=this,n=jQuery("#"+this.elementId+' .te-entity-item[data-entity-id="'+e+'"]');"string"!=typeof t&&(t="edit"),TECA.Gui.feedback.loading(n),TECA.Timer.model.loadTimerListitem(e,(function(o){var a=i.getTimerSeconds(o.currentSeconds,o.timerStatus),r={timerId:"edit"==t?o.timerId:-1,projectId:o.projectId,taskId:o.taskId,itemDate:"edit"==t?o.timerDate:"",itemHours:"edit"==t?TECA.Gui.formatMins(a/60).hh:"",itemMinutes:"edit"==t?TECA.Gui.formatMins(a/60).mm:"",itemNotes:o.notes,integrationData:o.sourceData,tagId:o.tagId,mood:"edit"==t?o.mood:-1,bootstrapSelect:!0};"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(r=jQuery.extend({},r,{name:"registerTime",icon:"edit"==t?"iconeye-pencil-1":"iconeye-add-circle-1",title:"edit"==t?"Edit timer":"Register time",uniqueId:"entityTimerActionOpenForm_"+e,onOpen:function(){TECA.Gui.feedback.close(n)}}),"function"==typeof i.mixins.openDialog?i.mixins.openDialog(r):TECA.Dialog.init(r)):TECA.Gui.body.showView("registerTime",r)}))},play:function(e){var t=this,i=jQuery("#"+this.elementId+' .te-entity-item[data-entity-id="'+e+'"]');TECA.Gui.feedback.loading(i),TECA.apiRequest("updateTimer",{timerId:e,seconds:this.getTimerSeconds(i.data("timer-current-seconds"),i.data("timer-status"),i.data("timer-own-start")),status:"running"},(function(e){"string"==typeof e?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e),TECA.Gui.feedback.close(i)):TECA.Gui.feedback.danger(i,e):e.code?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e.description),TECA.Gui.feedback.close(i)):TECA.Gui.feedback.danger(i,e.description):("boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.feedback.close(i),TECA.Gui.message.success("Timer started successfully"),"function"==typeof t.mixins.reloadModule&&t.mixins.reloadModule()):TECA.Gui.feedback.success(i,"Played timer for <strong>"+jQuery(".te-entity-parents > .project",i).text()+"</strong>/<strong>"+jQuery(".te-entity-parents > .task",i).text()+"</strong>",2e3),TECA.Timer.model.updateTimerList())}))},pause:function(e){var t=this,i=jQuery("#"+this.elementId+' .te-entity-item[data-entity-id="'+e+'"]');TECA.Gui.feedback.loading(i),TECA.apiRequest("updateTimer",{timerId:e,seconds:this.getTimerSeconds(i.data("timer-current-seconds"),i.data("timer-status"),i.data("timer-own-start")),status:"paused"},(function(e){"string"==typeof e?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e),TECA.Gui.feedback.close(i)):TECA.Gui.feedback.danger(i,e):e.code?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e.description),TECA.Gui.feedback.close(i)):TECA.Gui.feedback.danger(i,e.description):("boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.feedback.close(i),TECA.Gui.message.success("Timer paused successfully"),"function"==typeof t.mixins.reloadModule&&t.mixins.reloadModule()):TECA.Gui.feedback.success(i,"Paused timer for <strong>"+jQuery(".te-entity-parents > .project",i).text()+"</strong>/<strong>"+jQuery(".te-entity-parents > .task",i).text()+"</strong>",2e3),TECA.Timer.model.updateTimerList())}))},stop:function(e){var t=this,i=jQuery("#"+this.elementId+' .te-entity-item[data-entity-id="'+e+'"]');TECA.Gui.feedback.loading(i),TECA.apiRequest("storeTimer",{timerId:e},(function(e){"string"==typeof e?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e),TECA.Gui.feedback.close(i)):TECA.Gui.feedback.danger(i,e):e.code?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e.description),TECA.Gui.feedback.close(i)):TECA.Gui.feedback.danger(i,e.description):("boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.feedback.close(i),TECA.Gui.message.success("Timer stopped successfully"),"function"==typeof t.mixins.reloadModule&&t.mixins.reloadModule()):TECA.Gui.feedback.success(i,"Timer saved as an entry for <strong>"+jQuery(".te-entity-parents > .project",i).text()+"</strong>/<strong>"+jQuery(".te-entity-parents > .task",i).text()+"</strong>",2e3),TECA.Timer.model.updateTimerList(),jQuery("body").trigger("TEDataUpdate_timeEntries"))}))},delete:function(e){var t=this,i=jQuery("#"+this.elementId+' .te-entity-item[data-entity-id="'+e+'"]');TECA.Gui.feedback.loading(i),TECA.apiRequest("deleteTimer",{timerId:e},(function(e){"string"==typeof e?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e),TECA.Gui.feedback.close(i)):TECA.Gui.feedback.danger(i,e):e.code?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e.description),TECA.Gui.feedback.close(i)):TECA.Gui.feedback.danger(i,e.description):("boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.feedback.close(i),TECA.Gui.message.success("Timer deleted successfully"),"function"==typeof t.mixins.reloadModule&&t.mixins.reloadModule()):TECA.Gui.feedback.success(i,"Timer deleted for <strong>"+jQuery(".te-entity-parents > .project",i).text()+"</strong>/<strong>"+jQuery(".te-entity-parents > .task",i).text()+"</strong>",2e3),TECA.Timer.model.updateTimerList())}))},init:function(){var e=this;this.print(),jQuery("body").on("TEDataUpdate_timers",(function(){void 0!==e&&null!=e&&e.print()}))}};i.data("te-timerlist-id",n.instanceId),window["te_timerListInstance_"+e]=jQuery.extend({elementId:e},n,t),window["te_timerListInstance_"+e].init()}},destroy:function(e){var t=jQuery("#"+e);t.length>0&&("object"==typeof window["te_timerListInstance_"+e]&&void 0!==window["te_timerListInstance_"+e].timerRunningUpdateInterval&&null!=window["te_timerListInstance_"+e].timerRunningUpdateInterval&&clearInterval(window["te_timerListInstance_"+e].timerRunningUpdateInterval),t.data("te-timerlist-id","").html(""),"object"==typeof window["te_timerListInstance_"+e]&&(window["te_timerListInstance_"+e].destroyed=!0,delete window["te_timerListInstance_"+e]))},saveAll:function(){var e=this,t=jQuery("#te_timerList > .te-entity-list"),i=jQuery("> .te-entity-item",t);this._.activeTimers=i.length,TECA.Gui.feedback.loading(t),i.each((function(){TECA.apiRequest("storeTimer",{timerId:jQuery(this).data("entity-id")},(function(i){("string"==typeof i||i.code)&&(e._.saveStatus=!1),"object"!=typeof i&&(e._.saveStatus=!1),e._.activeTimers--,0==e._.activeTimers&&(TECA.Timer.model.updateTimerList(),e._.saveStatus?TECA.Gui.feedback.success(t,"All timers have been saved as entries"):TECA.Gui.feedback.danger(t,"There has been a problem saving one or multiple timers"))}))}))}},getTimerSeconds:function(e,t,i){var n=void 0!==e?parseInt(e):0;if(void 0!==t&&"running"==t){var o=moment(),a=moment("string"==typeof i?i:TECA.Timer.model._.timerStartClient,"YYYY-MM-DD HH:mm:ss");n+=parseInt(Math.round(parseInt(o.unix())-parseInt(a.unix())))}return n},edit:function(e,t,i="edit"){var n=this;t=jQuery("#"+this.elementId+' .te-entity-item[data-entity-id="'+e+'"]');TECA.Gui.feedback.loading(t),TECA.Timer.model.loadTimerListitem(e,(function(o){var a=n.getTimerSeconds(o.currentSeconds,o.timerStatus),r={timerId:"edit"==i?o.timerId:-1,projectId:o.projectId,taskId:o.taskId,itemDate:"edit"==i?o.timerDate:"",itemHours:"edit"==i?TECA.Gui.formatMins(a/60).hh:"",itemMinutes:"edit"==i?TECA.Gui.formatMins(a/60).mm:"",itemNotes:o.notes,integrationData:o.sourceData,tagId:o.tagId,mood:"edit"==i?o.mood:-1,bootstrapSelect:!0};"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(r=jQuery.extend({},r,{name:"registerTime",icon:"edit"==i?"iconeye-pencil-1":"iconeye-add-circle-1",title:"edit"==i?"Edit timer":"Register time",uniqueId:"entityTimerActionOpenForm_"+e,onOpen:function(){TECA.Gui.feedback.close(t)}}),TECA.Content.openRealDialog(r)):TECA.Gui.body.showView("registerTime",r)}))},store:function(e,t){return TECA.Gui.feedback.loading(t),TECA.apiRequest("storeTimer",{timerId:e},(function(e){"string"==typeof e?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e),TECA.Gui.feedback.close(t)):TECA.Gui.feedback.danger(t,e):e.code?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e.description),TECA.Gui.feedback.close(t)):TECA.Gui.feedback.danger(t,e.description):("boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.feedback.close(t),TECA.Gui.message.success("Timer stopped successfully")):TECA.Gui.feedback.success(t,"Timer saved as an entry for <strong>"+jQuery(".te-entity-parents > .project",t).text()+"</strong>/<strong>"+jQuery(".te-entity-parents > .task",t).text()+"</strong>",2e3),TECA.Timer.model.updateTimerList(),jQuery("body").trigger("TEDataUpdate_timeEntries"))}))},delete:function(e,t){return TECA.Gui.feedback.loading(t),TECA.apiRequest("deleteTimer",{timerId:e},(function(e){"string"==typeof e?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e),TECA.Gui.feedback.close(t)):TECA.Gui.feedback.danger(t,e):e.code?"boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.message.danger(e.description),TECA.Gui.feedback.close(t)):TECA.Gui.feedback.danger(t,e.description):("boolean"==typeof TECA._.weareContentHosted&&TECA._.weareContentHosted?(TECA.Gui.feedback.close(t),TECA.Gui.message.success("Timer deleted successfully")):TECA.Gui.feedback.success(t,"Timer deleted for <strong>"+jQuery(".te-entity-parents > .project",t).text()+"</strong>/<strong>"+jQuery(".te-entity-parents > .task",t).text()+"</strong>",2e3),TECA.Timer.model.updateTimerList())}))}}),TECA.defineClass("Tag",{model:{_:{requestStatus:{tagList:0},requestCallbackStack:{tagList:[]},dataIndex:{tagList:{},tag:{}},tagList:[],tag:[]},_checkTagList:function(e,t){var i=this;!this._.tagList.length>0||"boolean"==typeof t&&1==t?this._getTagList((function(){e(jQuery.extend(!0,[],i._.tagList))}),t):e(jQuery.extend(!0,[],this._.tagList))},_checkTag:function(e,t){var i=this;!this._.tag.length>0||"boolean"==typeof t&&1==t?this._getTagList((function(){e(jQuery.extend(!0,[],i._.tag))}),t):e(jQuery.extend(!0,[],this._.tag))},_getTagList:function(e,t){var i=this;"function"==typeof e&&this._.requestCallbackStack.tagList.push(e),0===this._.requestStatus.tagList&&(this._.requestStatus.tagList=1,TECA.apiRequest("getTags",{},(function(e){i._.requestStatus.tagList=0,i._.tagList=[];var t=0;if(void 0!==e)for(var n=0,o=e.length;n<o;n++){i._.tagList[n]=e[n],i._.dataIndex.tagList[e[n].tagListId]=n;for(var a=0,r=e[n].tags.length;a<r;a++){var s=e[n].tags[a];s.color=e[n].integrationId?e[n].tags[a].color:e[n].color,s.tagListId=e[n].tagListId,s.tagListName=e[n].name,s.isTagListActive=e[n].active,s.isTextWhite="#fff"==e[n].textColor,s.projectIntegrationId=e[n].integrationId,i._.tag[t]=e[n].tags[a],i._.dataIndex.tag[e[n].tags[a].tagId]=t,t++}}for(;i._.requestCallbackStack.tagList.length>0;){i._.requestCallbackStack.tagList.shift()()}jQuery("body").trigger("TEDataUpdate_tags")})))},loadTagList:function(e,t){this._checkTagList((function(t){"function"==typeof e&&e(t)}),t)},loadTags:function(e,t){this._checkTag((function(t){"function"==typeof e&&e(t)}),t)},loadTagListItem:function(e,t,i){var n=this;this._checkTagList((function(o){var a=void 0;void 0!==n._.dataIndex.tagList[e]&&(a=o[n._.dataIndex.tagList[e]]),t(a,i)}))},loadTagListItems:function(e,t){var i=[],n=this;"number"==typeof e?i.push(e):void 0!==e&&(i=e),this._checkTagList((function(e){for(var o=[],a=0;a<i.length;a++)void 0!==n._.dataIndex.tagList[i[a]]&&o.push(e[n._.dataIndex.tagList[i[a]]]);t(o)}))},loadTagItem:function(e,t,i){var n=this;this._checkTag((function(o){var a=void 0;void 0!==n._.dataIndex.tag[e]&&(a=o[n._.dataIndex.tag[e]]),t(a,i)}))},loadTagItems:function(e,t){var i=[],n=this;"number"==typeof e?i.push(e):void 0!==e&&(i=e),this._checkTag((function(e){for(var o=[],a=0;a<i.length;a++)void 0!==n._.dataIndex.tag[i[a]]&&o.push(e[n._.dataIndex.tag[i[a]]]);t(o)}))},loadValidTagsForProject:function(e,t,i){var n=this,o=[];e<=0?i(o):TECA.Project.model.loadProjectListItem(e,(function(e){var a=_.reduce(e.tagLists,(function(e,t){return 1==t.required&&e.push(t.tagListId),e}),[]),r=_.reduce(e.tags,(function(e,t){return e.push(t.tagId),e}),[]);n.loadTags((function(s){if("NO_TAGS"!=e.tagUsage)for(var l=0,c=s.length;l<c;l++)if("ALL_TAGS"==e.tagUsage){if(-1!=a.indexOf(s[l].tagListId)&&(s[l].required=1),s[l].integrationCode&&s[l].integrationCode!==e.integrationCode)continue;if(s[l].projectIntegrationId&&s[l].projectIntegrationId!==e.integrationProjectId)continue;if(0==s[l].isTagListActive||0==s[l].active)continue;o.push(s[l])}else if("LINKED_TAGS"==e.tagUsage&&(-1!=r.indexOf(s[l].tagId)||-1!=t.indexOf(s[l].tagId))){if(-1!=a.indexOf(s[l].tagListId)&&(s[l].required=1),s[l].integrationCode&&s[l].integrationCode!==e.integrationCode)continue;if(s[l].projectIntegrationId&&s[l].projectIntegrationId!==e.integrationProjectId)continue;if(0==s[l].isTagListActive||0==s[l].active)continue;o.push(s[l])}t.length>0&&n.loadTagItems(t,(function(e){for(var t=0,i=e.length;t<i;t++)-1!=a.indexOf(e[t].tagListId)&&(e[t].required=1),o.push(e[t])})),i(o)}))}))},updateTagList:function(e){"function"==typeof e?TECA.Tag.model.loadTagList(e,!0):TECA.Tag.model.loadTagList(void 0,!0)},hasTags:function(){return TECA.Tag.model._.tag.length>0},getTagList:function(e){return this._.tagList[this._.dataIndex.tagList[e]]},getTag:function(e){return this._.tag[this._.dataIndex.tag[e]]}}}),TECA.defineClass("Todo",{model:{_:{requestStatus:{todos:0},requestCallbackStack:{todos:[]},dataIndex:{todos:{}},todos:[]},_checkTodos:function(e,t){var i=this;!this._.todos.length>0||"boolean"==typeof t&&1==t?this._getTodos((function(){e(jQuery.extend(!0,[],i._.todos))}),t):e(jQuery.extend(!0,[],this._.todos))},_checkTodo:function(e,t){var i=this;!this._.todos.length>0||"boolean"==typeof t&&1==t?this._getTodos((function(){e(jQuery.extend(!0,[],i._.todos))}),t):e(jQuery.extend(!0,[],this._.todos))},_getTodos:function(e,t){var i=this;"function"==typeof e&&this._.requestCallbackStack.todos.push(e),0===this._.requestStatus.todos&&TECA.apiRequest("getTodos",{projectId:jQuery('select[name="projectId"]').val()},(function(e){if(i._.requestStatus.todos=0,i._.todos=[],void 0!==e){i._.todos=e;for(var t=0,n=0,o=e.length;n<o;n++)TECA.Todo.model._.dataIndex.todos[e[n].todoId]=t,t++}for(;i._.requestCallbackStack.todos.length>0;){i._.requestCallbackStack.todos.shift()()}jQuery("body").trigger("TEDataUpdate_todos")}))},loadTodos:function(e,t){this._checkTodos((function(t){"function"==typeof e&&e(t)}),t)},loadTodosItem:function(e,t,i){this._checkTodos((function(n){for(var o=void 0,a=0,r=n.length;a<r;a++)n[a].todoId==e&&(o=n[a]);t(o,i)}))},updateTodos:function(e){"function"==typeof e?TECA.Todo.model.loadTodos(e,!0):TECA.Todo.model.loadTodos(void 0,!0)},hasTodos:function(){return TECA.Todo.model._.todos.length>0}}}),TECA.defineClass("User",{resetModel:function(){this.model._.requestStatus.user=0,this.model._.requestStatus.userList=0,this.model._.requestStatus.groupList=0,this.model._.requestStatus.visibleuserlist=0,this.model._.requestCallbackStack.user=[],this.model._.requestCallbackStack.userList=[],this.model._.requestCallbackStack.groupList=[],this.model._.requestCallbackStack.visibleuserlist=[],this.model._.user=void 0,this.model._.userList=[],this.model._.groupList=[],this.model._.visibleuserlist=[]},model:{_:{requestStatus:{user:0,userList:0,groupList:0,visibleuserlist:0},requestCallbackStack:{user:[],userList:[],groupList:[],visibleuserlist:[]},userList:[],groupList:[],user:void 0,visibleuserlist:[]},_checkUserList:function(e,t,i){var n=TECA.User.model;!n._.userList.length>0||"boolean"==typeof t&&1==t?n._getUserList((function(){e(jQuery.extend(!0,[],n._.userList))}),i):e(jQuery.extend(!0,[],n._.userList))},_getUserList:function(e,t){var i=TECA.User.model;"function"==typeof e&&i._.requestCallbackStack.userList.push(e),0===i._.requestStatus.userList&&(i._.requestStatus.userList=1,TECA.apiRequest("getUsers",{showIntegrations:t?1:0},(function(e){for(i._.requestStatus.userList=0,"object"==typeof e&&null!=e&&e.users?i._.userList=e.users:i._.userList=[];i._.requestCallbackStack.userList.length>0;){i._.requestCallbackStack.userList.shift()()}})))},loadUserList:function(e,t,i){TECA.User.model._checkUserList((function(t){"function"==typeof e&&e(t)}),t,i)},loadUserListItem:function(e,t){TECA.User.model._checkUserList((function(i){for(var n=void 0,o=0,a=i.length;o<a;o++)i[o].userId==e&&(n=i[o]);t(n)}))},_checkGroupList:function(e,t){var i=TECA.User.model;!i._.groupList.length>0||"boolean"==typeof t&&1==t?i._getGroupList((function(){e(jQuery.extend(!0,[],i._.groupList))})):e(jQuery.extend(!0,[],i._.groupList))},_getGroupList:function(e){var t=TECA.User.model;"function"==typeof e&&t._.requestCallbackStack.groupList.push(e),0===t._.requestStatus.groupList&&(t._.requestStatus.groupList=1,TECA.apiRequest("getGroups",{},(function(e){for(t._.requestStatus.groupList=0,"object"==typeof e&&null!=e&&e.groups?t._.groupList=e.groups:t._.groupList=[];t._.requestCallbackStack.groupList.length>0;){t._.requestCallbackStack.groupList.shift()()}})))},loadGroupList:function(e,t){TECA.User.model._checkGroupList((function(t){"function"==typeof e&&e(t)}),t)},loadGroupListItem:function(e,t){TECA.User.model._checkGroupList((function(i){for(var n=void 0,o=0,a=i.length;o<a;o++)i[o].groupId==e&&(n=i[o]);"function"==typeof t&&t(n)}))},_checkVisibleUserList:function(e,t,i){var n=TECA.User.model;!n._.visibleuserlist.length>0||"boolean"==typeof t&&1==t?n._getVisibleUserList((function(){e(jQuery.extend(!0,[],n._.visibleuserlist))}),i):e(jQuery.extend(!0,[],n._.visibleuserlist))},_getVisibleUserList:function(e,t){var i=TECA.User.model;"function"==typeof e&&i._.requestCallbackStack.visibleuserlist.push(e),0===i._.requestStatus.visibleuserlist&&(i._.requestStatus.visibleuserlist=1,TECA.apiRequest("getVisibleUsers",{projectId:t},(function(e){for(i._.requestStatus.visibleuserlist=0,"object"==typeof e&&null!=e&&e.users?i._.visibleuserlist=e.users:i._.visibleuserlist=[];i._.requestCallbackStack.visibleuserlist.length>0;){i._.requestCallbackStack.visibleuserlist.shift()()}})))},loadVisibleUserList:function(e,t,i){TECA.User.model._checkVisibleUserList((function(t){"function"==typeof e&&e(t)}),t,i)},loadVisibleUserListItem:function(e,t,i){TECA.User.model._checkVisibleUserList((function(i){for(var n=void 0,o=0,a=i.length;o<a;o++)i[o].userId==e&&(n=i[o]);t(n)}),i)},_checkUser:function(e,t){var i=TECA.User.model;void 0===i._.user||"boolean"==typeof t&&1==t?i._getUser((function(){e(jQuery.extend(!0,[],i._.user))})):e(jQuery.extend(!0,[],i._.user))},_getUser:function(e){var t=TECA.User.model;"function"==typeof e&&t._.requestCallbackStack.user.push(e),0===t._.requestStatus.user&&(t._.requestStatus.user=1,TECA.apiRequest("getUser",{},(function(e){for(t._.requestStatus.user=0,"object"==typeof e&&null!=e&&e.user?t._.user=e.user:t._.user=void 0;t._.requestCallbackStack.user.length>0;){t._.requestCallbackStack.user.shift()()}})))},loadUser:function(e,t){TECA.User.model._checkUser((function(t){"function"==typeof e&&e(t)}),t)}},logOut:function(){var e=jQuery("#timeneye_widget_cont");TECA.Gui.feedback.loading(e),TECA.apiRequest("deauthorizeUser",{},(function(t){"string"==typeof t?TECA.Gui.feedback.danger(e,t):t.code?TECA.Gui.feedback.danger(e,t.description):chrome.storage.sync.remove("authToken",(function(){TECA._.authToken=null,TECA._.user={id:-1},TECA._.account={id:-1},TECA.Gui.feedback.close(e),TECA.Gui.body.init({viewName:"login",showMenu:!1,showTitle:!1})}))}))}});
//# sourceMappingURL=appkg.js.map
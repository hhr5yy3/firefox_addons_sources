(()=>{var e={263:e=>{e.exports={general:{},nativeApp:{},extension:{startup:{},privacy:{allowDataSentToNA:"settings.extension.privacy.allowDataSentToNA",storeDownloadsInPrivate:{mode:"settings.extension.privacy.storeDownloadsInPrivate.mode",ModeNone:"storeDownloadsInPrivateNone",ModeInMemory:"storeDownloadsInPrivateInMemory",ModeInStorage:"storeDownloadsInPrivateInStorage"}},videoDetector:{enable:"settings.extension.videoDetector.enable",cyclicBuffer:{mode:"settings.extension.videoDetector.cyclicBuffer.mode",ModeNone:"cyclicBufferModeNone",PerTab:"cyclicBufferModePerTab",PerBrowser:"cyclicBufferModePerBrowser",perTab:{limit:"settings.extension.videoDetector.cyclicBuffer.perTab.limit"},perBrowser:{limit:"settings.extension.videoDetector.cyclicBuffer.perBrowser.limit"}},protocols:{clearDetectedOnDisable:"settings.extension.videoDetector.protocols.clearDetectedOnDisable",clearDetectedOnMute:"settings.extension.videoDetector.protocols.clearDetectedOnMute",yt:{enable:"settings.extension.videoDetector.protocols.yt.enable",decipherStreamUrls:"settings.extension.videoDetector.protocols.yt.decipherStreamUrls"},ytnp:{enable:"settings.extension.videoDetector.protocols.ytnp.enable"},hls:{enable:"settings.extension.videoDetector.protocols.hls.enable"},vimeo:{enable:"settings.extension.videoDetector.protocols.vimeo.enable"},mpd:{enable:"settings.extension.videoDetector.protocols.mpd.enable",ignoreUnsupported:"settings.extension.videoDetector.protocols.mpd.ignoreUnsupported"},scoring:{enable:"settings.extension.videoDetector.protocols.scoring.enable",detector:{ignore:{noSize:"settings.extension.videoDetector.protocols.scoring.detector.ignore.noSize",zeroSize:"settings.extension.videoDetector.protocols.scoring.detector.ignore.zeroSize",lessThanSize:{enabled:"settings.extension.videoDetector.protocols.scoring.detector.ignore.lessThanSize.enabled",limit:"settings.extension.videoDetector.protocols.scoring.detector.ignore.lessThanSize.limit",LimitDefault:2097152},octetStreamNoFile:"settings.extension.videoDetector.protocols.scoring.detector.ignore.octetStreamNoFile"}}}}},downloads:{private:{mode:"settings.extension.downloads.private.mode",ModeAskEachTime:"settings.extension.downloads.private.ModeAskEachTime",ModeUseNormalLocation:"settings.extension.downloads.private.ModeUseNormalLocation",ModeUseCustomLocation:"settings.extension.downloads.private.ModeUseCustomLocation"}},frontend:{theme:"settings.extension.frontend.theme",ThemeAuto:"ThemeAuto",ThemeLight:"ThemeLight",ThemeDark:"ThemeDark",downloads:{alerts:{noNAForYourSystemYet:{show:"settings.extension.frontend.downloads.alerts.noNAForYourSystemYet.show"},NAIsOutdated:{show:"settings.extension.frontend.downloads.alerts.NAIsOutdated.show"},idleVideosNotShown:{show:"settings.extension.frontend.downloads.alerts.idleVideosNotShown.show"},incognitoMode:{promote:{show:"settings.extension.frontend.downloads.alerts.incognitoMode.promote.show"},downloadsAreDisabled:{show:"settings.extension.frontend.downloads.alerts.incognitoMode.downloadsAreDisabled.show"}}},nav:{showFilterByState:"settings.extension.frontend.downloads.nav.showFilterByState",showFilterByProtocol:"settings.extension.frontend.downloads.nav.showFilterByProtocol",showFilterByTab:"settings.extension.frontend.downloads.nav.showFilterByTab",showFilterByWebsite:"settings.extension.frontend.downloads.nav.showFilterByWebsite"},videoList:{showIdleVideos:"settings.extension.frontend.downloads.videoList.showIdleVideos"},showGoToTabButton:"settings.extension.frontend.downloads.showGoToTabButton"},settings:{alerts:{reloadToTakeEffect:{show:"settings.extension.frontend.settings.alerts.reloadToTakeEffect.show"},settingsAffectBothModes:{show:"settings.extension.frontend.settings.alerts.settingsAffectBothModes.show"}}},popup:{downloadsCounter:{show:"settings.extension.frontend.popup.downloadsCounter.show"},browserServicePage:{},videoNotFound:{},videoDetected:{closeOnStartDownload:"settings.extension.frontend.popup.videoDetected.closeOnStartDownload",toolbar:{display:"settings.extension.frontend.popup.videoDetected.toolbar.display"},video:{sortQualities:{enable:"settings.extension.frontend.popup.videoDetected.video.sortQualities.enable",order:{bestQualitiesAtTheEnd:"settings.extension.frontend.popup.videoDetected.video.sortQualities.order.bestQualitiesAtTheEnd"}},preselectBestQuality:"settings.extension.frontend.popup.videoDetected.video.preselectBestQuality",showFilesize:"settings.extension.frontend.popup.videoDetected.video.showFilesize"},videoList:{sortVideos:{doSort:"settings.extension.frontend.popup.videoDetected.videoList.sortVideos.doSort",order:{newVideosComeFirst:"settings.extension.frontend.popup.videoDetected.videoList.sortVideos.order.newVideosComeFirst"}},limit:{enable:"settings.extension.frontend.popup.videoDetected.videoList.limit.enable",count:"settings.extension.frontend.popup.videoDetected.videoList.limit.count"},yt:{showChannelName:"settings.extension.frontend.popup.videoDetected.videoList.yt.showChannelName",preferred:{container:"settings.extension.frontend.popup.videoDetected.videoList.yt.preferred.container",ContainerAll:"settings.extension.frontend.popup.videoDetected.videoList.yt.preferred.ContainerAll",ContainerDirect:"settings.extension.frontend.popup.videoDetected.videoList.yt.preferred.ContainerDirect",ContainerMP4:"settings.extension.frontend.popup.videoDetected.videoList.yt.preferred.ContainerMP4",ContainerWEBM:"settings.extension.frontend.popup.videoDetected.videoList.yt.preferred.ContainerWEBM",ContainerDownloadAudio:"settings.extension.frontend.popup.videoDetected.videoList.yt.preferred.ContainerDownloadAudio",ContainerConvertAudio:"settings.extension.frontend.popup.videoDetected.videoList.yt.preferred.ContainerConvertAudio"}},ytnp:{alwaysOnTop:"settings.extension.frontend.popup.videoDetected.videoList.ytnp.alwaysOnTop",displayWarningOnIncompatibleStreams:"settings.extension.frontend.popup.videoDetected.videoList.ytnp.displayWarningOnIncompatibleStreams"}}}}}}}},60:e=>{var t=Array.prototype.slice;function n(e){var n=this,o=t.call(arguments,1);return new Promise((function(t,i){if("function"==typeof e&&(e=e.apply(n,o)),!e||"function"!=typeof e.next)return t(e);function s(t){var n;try{n=e.next(t)}catch(e){return i(e)}u(n)}function l(t){var n;try{n=e.throw(t)}catch(e){return i(e)}u(n)}function u(e){if(e.done)return t(e.value);var o=r.call(n,e.value);return o&&a(o)?o.then(s,l):l(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(e.value)+'"'))}s()}))}function r(e){return e?a(e)?e:function(e){var t=e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName||l(t.prototype))}(e)||l(e)?n.call(this,e):"function"==typeof e?o.call(this,e):Array.isArray(e)?i.call(this,e):function(e){return Object==e.constructor}(e)?s.call(this,e):e:e}function o(e){var n=this;return new Promise((function(r,o){e.call(n,(function(e,n){if(e)return o(e);arguments.length>2&&(n=t.call(arguments,1)),r(n)}))}))}function i(e){return Promise.all(e.map(r,this))}function s(e){for(var t=new e.constructor,n=Object.keys(e),o=[],i=0;i<n.length;i++){var s=n[i],l=r.call(this,e[s]);l&&a(l)?u(l,s):t[s]=e[s]}return Promise.all(o).then((function(){return t}));function u(e,n){t[n]=void 0,o.push(e.then((function(e){t[n]=e})))}}function a(e){return"function"==typeof e.then}function l(e){return"function"==typeof e.next&&"function"==typeof e.throw}e.exports=n.default=n.co=n,n.wrap=function(e){return t.__generatorFunction__=e,t;function t(){return n.call(this,e.apply(this,arguments))}}},636:(e,t,n)=>{"use strict";n.r(t),n.d(t,{VERSION:()=>o,after:()=>jt,all:()=>en,allKeys:()=>he,any:()=>tn,assign:()=>je,before:()=>_t,bind:()=>At,bindAll:()=>Nt,chain:()=>vt,chunk:()=>kn,clone:()=>ke,collect:()=>Kt,compact:()=>Mn,compose:()=>Rt,constant:()=>X,contains:()=>nn,countBy:()=>mn,create:()=>Be,debounce:()=>Ot,default:()=>Wn,defaults:()=>_e,defer:()=>Pt,delay:()=>Mt,detect:()=>Ht,difference:()=>In,drop:()=>Nn,each:()=>Qt,escape:()=>st,every:()=>en,extend:()=>Re,extendOwn:()=>je,filter:()=>Xt,find:()=>Ht,findIndex:()=>$t,findKey:()=>Bt,findLastIndex:()=>Ft,findWhere:()=>zt,first:()=>Dn,flatten:()=>Pn,foldl:()=>Jt,foldr:()=>Yt,forEach:()=>Qt,functions:()=>Ee,get:()=>We,groupBy:()=>pn,has:()=>qe,head:()=>Dn,identity:()=>He,include:()=>nn,includes:()=>nn,indexBy:()=>gn,indexOf:()=>Wt,initial:()=>Sn,inject:()=>Jt,intersection:()=>Rn,invert:()=>Oe,invoke:()=>rn,isArguments:()=>G,isArray:()=>z,isArrayBuffer:()=>B,isBoolean:()=>P,isDataView:()=>H,isDate:()=>R,isElement:()=>I,isEmpty:()=>le,isEqual:()=>me,isError:()=>_,isFinite:()=>J,isFunction:()=>F,isMap:()=>De,isMatch:()=>ue,isNaN:()=>Y,isNull:()=>T,isNumber:()=>C,isObject:()=>N,isRegExp:()=>j,isSet:()=>Te,isString:()=>E,isSymbol:()=>L,isTypedArray:()=>oe,isUndefined:()=>M,isWeakMap:()=>Ne,isWeakSet:()=>Me,iteratee:()=>Je,keys:()=>ae,last:()=>Tn,lastIndexOf:()=>qt,map:()=>Kt,mapObject:()=>Xe,matcher:()=>ze,matches:()=>ze,max:()=>an,memoize:()=>Tt,methods:()=>Ee,min:()=>ln,mixin:()=>Fn,negate:()=>Ct,noop:()=>Ze,now:()=>rt,object:()=>Ln,omit:()=>An,once:()=>Lt,pairs:()=>Ie,partial:()=>xt,partition:()=>hn,pick:()=>xn,pluck:()=>on,property:()=>Qe,propertyOf:()=>et,random:()=>nt,range:()=>Bn,reduce:()=>Jt,reduceRight:()=>Yt,reject:()=>Zt,rest:()=>Nn,restArguments:()=>D,result:()=>mt,sample:()=>un,select:()=>Xt,shuffle:()=>cn,size:()=>wn,some:()=>tn,sortBy:()=>dn,sortedIndex:()=>Vt,tail:()=>Nn,take:()=>Dn,tap:()=>$e,template:()=>gt,templateSettings:()=>lt,throttle:()=>It,times:()=>tt,toArray:()=>vn,toPath:()=>Fe,transpose:()=>jn,unescape:()=>at,union:()=>Cn,uniq:()=>En,unique:()=>En,uniqueId:()=>yt,unzip:()=>jn,values:()=>Pe,where:()=>sn,without:()=>On,wrap:()=>Et,zip:()=>_n});var r={};n.r(r),n.d(r,{VERSION:()=>o,after:()=>jt,all:()=>en,allKeys:()=>he,any:()=>tn,assign:()=>je,before:()=>_t,bind:()=>At,bindAll:()=>Nt,chain:()=>vt,chunk:()=>kn,clone:()=>ke,collect:()=>Kt,compact:()=>Mn,compose:()=>Rt,constant:()=>X,contains:()=>nn,countBy:()=>mn,create:()=>Be,debounce:()=>Ot,default:()=>Vn,defaults:()=>_e,defer:()=>Pt,delay:()=>Mt,detect:()=>Ht,difference:()=>In,drop:()=>Nn,each:()=>Qt,escape:()=>st,every:()=>en,extend:()=>Re,extendOwn:()=>je,filter:()=>Xt,find:()=>Ht,findIndex:()=>$t,findKey:()=>Bt,findLastIndex:()=>Ft,findWhere:()=>zt,first:()=>Dn,flatten:()=>Pn,foldl:()=>Jt,foldr:()=>Yt,forEach:()=>Qt,functions:()=>Ee,get:()=>We,groupBy:()=>pn,has:()=>qe,head:()=>Dn,identity:()=>He,include:()=>nn,includes:()=>nn,indexBy:()=>gn,indexOf:()=>Wt,initial:()=>Sn,inject:()=>Jt,intersection:()=>Rn,invert:()=>Oe,invoke:()=>rn,isArguments:()=>G,isArray:()=>z,isArrayBuffer:()=>B,isBoolean:()=>P,isDataView:()=>H,isDate:()=>R,isElement:()=>I,isEmpty:()=>le,isEqual:()=>me,isError:()=>_,isFinite:()=>J,isFunction:()=>F,isMap:()=>De,isMatch:()=>ue,isNaN:()=>Y,isNull:()=>T,isNumber:()=>C,isObject:()=>N,isRegExp:()=>j,isSet:()=>Te,isString:()=>E,isSymbol:()=>L,isTypedArray:()=>oe,isUndefined:()=>M,isWeakMap:()=>Ne,isWeakSet:()=>Me,iteratee:()=>Je,keys:()=>ae,last:()=>Tn,lastIndexOf:()=>qt,map:()=>Kt,mapObject:()=>Xe,matcher:()=>ze,matches:()=>ze,max:()=>an,memoize:()=>Tt,methods:()=>Ee,min:()=>ln,mixin:()=>Fn,negate:()=>Ct,noop:()=>Ze,now:()=>rt,object:()=>Ln,omit:()=>An,once:()=>Lt,pairs:()=>Ie,partial:()=>xt,partition:()=>hn,pick:()=>xn,pluck:()=>on,property:()=>Qe,propertyOf:()=>et,random:()=>nt,range:()=>Bn,reduce:()=>Jt,reduceRight:()=>Yt,reject:()=>Zt,rest:()=>Nn,restArguments:()=>D,result:()=>mt,sample:()=>un,select:()=>Xt,shuffle:()=>cn,size:()=>wn,some:()=>tn,sortBy:()=>dn,sortedIndex:()=>Vt,tail:()=>Nn,take:()=>Dn,tap:()=>$e,template:()=>gt,templateSettings:()=>lt,throttle:()=>It,times:()=>tt,toArray:()=>vn,toPath:()=>Fe,transpose:()=>jn,unescape:()=>at,union:()=>Cn,uniq:()=>En,unique:()=>En,uniqueId:()=>yt,unzip:()=>jn,values:()=>Pe,where:()=>sn,without:()=>On,wrap:()=>Et,zip:()=>_n});var o="1.13.1",i="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},s=Array.prototype,a=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,u=s.push,c=s.slice,d=a.toString,f=a.hasOwnProperty,p="undefined"!=typeof ArrayBuffer,g="undefined"!=typeof DataView,m=Array.isArray,h=Object.keys,y=Object.create,v=p&&ArrayBuffer.isView,w=isNaN,b=isFinite,x=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],S=Math.pow(2,53)-1;function D(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var i=Array(t+1);for(o=0;o<t;o++)i[o]=arguments[o];return i[t]=r,e.apply(this,i)}}function N(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function T(e){return null===e}function M(e){return void 0===e}function P(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)}function I(e){return!(!e||1!==e.nodeType)}function O(e){var t="[object "+e+"]";return function(e){return d.call(e)===t}}const E=O("String"),C=O("Number"),R=O("Date"),j=O("RegExp"),_=O("Error"),L=O("Symbol"),B=O("ArrayBuffer");var k=O("Function"),$=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof $&&(k=function(e){return"function"==typeof e||!1});const F=k,V=O("Object");var U=g&&V(new DataView(new ArrayBuffer(8))),W="undefined"!=typeof Map&&V(new Map),q=O("DataView");const H=U?function(e){return null!=e&&F(e.getInt8)&&B(e.buffer)}:q,z=m||O("Array");function Q(e,t){return null!=e&&f.call(e,t)}var K=O("Arguments");!function(){K(arguments)||(K=function(e){return Q(e,"callee")})}();const G=K;function J(e){return!L(e)&&b(e)&&!isNaN(parseFloat(e))}function Y(e){return C(e)&&w(e)}function X(e){return function(){return e}}function Z(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=S}}function ee(e){return function(t){return null==t?void 0:t[e]}}const te=ee("byteLength"),ne=Z(te);var re=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const oe=p?function(e){return v?v(e)&&!H(e):ne(e)&&re.test(d.call(e))}:X(!1),ie=ee("length");function se(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=A.length,r=e.constructor,o=F(r)&&r.prototype||a,i="constructor";for(Q(e,i)&&!t.contains(i)&&t.push(i);n--;)(i=A[n])in e&&e[i]!==o[i]&&!t.contains(i)&&t.push(i)}function ae(e){if(!N(e))return[];if(h)return h(e);var t=[];for(var n in e)Q(e,n)&&t.push(n);return x&&se(e,t),t}function le(e){if(null==e)return!0;var t=ie(e);return"number"==typeof t&&(z(e)||E(e)||G(e))?0===t:0===ie(ae(e))}function ue(e,t){var n=ae(t),r=n.length;if(null==e)return!r;for(var o=Object(e),i=0;i<r;i++){var s=n[i];if(t[s]!==o[s]||!(s in o))return!1}return!0}function ce(e){return e instanceof ce?e:this instanceof ce?void(this._wrapped=e):new ce(e)}function de(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,te(e))}ce.VERSION=o,ce.prototype.value=function(){return this._wrapped},ce.prototype.valueOf=ce.prototype.toJSON=ce.prototype.value,ce.prototype.toString=function(){return String(this._wrapped)};var fe="[object DataView]";function pe(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&ge(e,t,n,r)}function ge(e,t,n,r){e instanceof ce&&(e=e._wrapped),t instanceof ce&&(t=t._wrapped);var o=d.call(e);if(o!==d.call(t))return!1;if(U&&"[object Object]"==o&&H(e)){if(!H(t))return!1;o=fe}switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t);case"[object ArrayBuffer]":case fe:return ge(de(e),de(t),n,r)}var i="[object Array]"===o;if(!i&&oe(e)){if(te(e)!==te(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;i=!0}if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(F(s)&&s instanceof s&&F(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),i){if((u=e.length)!==t.length)return!1;for(;u--;)if(!pe(e[u],t[u],n,r))return!1}else{var c,f=ae(e);if(u=f.length,ae(t).length!==u)return!1;for(;u--;)if(!Q(t,c=f[u])||!pe(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0}function me(e,t){return pe(e,t)}function he(e){if(!N(e))return[];var t=[];for(var n in e)t.push(n);return x&&se(e,t),t}function ye(e){var t=ie(e);return function(n){if(null==n)return!1;var r=he(n);if(ie(r))return!1;for(var o=0;o<t;o++)if(!F(n[e[o]]))return!1;return e!==Ae||!F(n[ve])}}var ve="forEach",we=["clear","delete"],be=["get","has","set"],xe=we.concat(ve,be),Ae=we.concat(be),Se=["add"].concat(we,ve,"has");const De=W?ye(xe):O("Map"),Ne=W?ye(Ae):O("WeakMap"),Te=W?ye(Se):O("Set"),Me=O("WeakSet");function Pe(e){for(var t=ae(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=e[t[o]];return r}function Ie(e){for(var t=ae(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=[t[o],e[t[o]]];return r}function Oe(e){for(var t={},n=ae(e),r=0,o=n.length;r<o;r++)t[e[n[r]]]=n[r];return t}function Ee(e){var t=[];for(var n in e)F(e[n])&&t.push(n);return t.sort()}function Ce(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],s=e(i),a=s.length,l=0;l<a;l++){var u=s[l];t&&void 0!==n[u]||(n[u]=i[u])}return n}}const Re=Ce(he),je=Ce(ae),_e=Ce(he,!0);function Le(e){if(!N(e))return{};if(y)return y(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Be(e,t){var n=Le(e);return t&&je(n,t),n}function ke(e){return N(e)?z(e)?e.slice():Re({},e):e}function $e(e,t){return t(e),e}function Fe(e){return z(e)?e:[e]}function Ve(e){return ce.toPath(e)}function Ue(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function We(e,t,n){var r=Ue(e,Ve(t));return M(r)?n:r}function qe(e,t){for(var n=(t=Ve(t)).length,r=0;r<n;r++){var o=t[r];if(!Q(e,o))return!1;e=e[o]}return!!n}function He(e){return e}function ze(e){return e=je({},e),function(t){return ue(t,e)}}function Qe(e){return e=Ve(e),function(t){return Ue(t,e)}}function Ke(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)}}return function(){return e.apply(t,arguments)}}function Ge(e,t,n){return null==e?He:F(e)?Ke(e,t,n):N(e)&&!z(e)?ze(e):Qe(e)}function Je(e,t){return Ge(e,t,Infinity)}function Ye(e,t,n){return ce.iteratee!==Je?ce.iteratee(e,t):Ge(e,t,n)}function Xe(e,t,n){t=Ye(t,n);for(var r=ae(e),o=r.length,i={},s=0;s<o;s++){var a=r[s];i[a]=t(e[a],a,e)}return i}function Ze(){}function et(e){return null==e?Ze:function(t){return We(e,t)}}function tt(e,t,n){var r=Array(Math.max(0,e));t=Ke(t,n,1);for(var o=0;o<e;o++)r[o]=t(o);return r}function nt(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}ce.toPath=Fe,ce.iteratee=Je;const rt=Date.now||function(){return(new Date).getTime()};function ot(e){var t=function(t){return e[t]},n="(?:"+ae(e).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,t):e}}const it={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},st=ot(it),at=ot(Oe(it)),lt=ce.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ut=/(.)^/,ct={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},dt=/\\|'|\r|\n|\u2028|\u2029/g;function ft(e){return"\\"+ct[e]}var pt=/^\s*(\w|\$)+\s*$/;function gt(e,t,n){!t&&n&&(t=n),t=_e({},t,ce.templateSettings);var r=RegExp([(t.escape||ut).source,(t.interpolate||ut).source,(t.evaluate||ut).source].join("|")+"|$","g"),o=0,i="__p+='";e.replace(r,(function(t,n,r,s,a){return i+=e.slice(o,a).replace(dt,ft),o=a+t.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(i+="';\n"+s+"\n__p+='"),t})),i+="';\n";var s,a=t.variable;if(a){if(!pt.test(a))throw new Error("variable is not a bare identifier: "+a)}else i="with(obj||{}){\n"+i+"}\n",a="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{s=new Function(a,"_",i)}catch(e){throw e.source=i,e}var l=function(e){return s.call(this,e,ce)};return l.source="function("+a+"){\n"+i+"}",l}function mt(e,t,n){var r=(t=Ve(t)).length;if(!r)return F(n)?n.call(e):n;for(var o=0;o<r;o++){var i=null==e?void 0:e[t[o]];void 0===i&&(i=n,o=r),e=F(i)?i.call(e):i}return e}var ht=0;function yt(e){var t=++ht+"";return e?e+t:t}function vt(e){var t=ce(e);return t._chain=!0,t}function wt(e,t,n,r,o){if(!(r instanceof t))return e.apply(n,o);var i=Le(e.prototype),s=e.apply(i,o);return N(s)?s:i}var bt=D((function(e,t){var n=bt.placeholder,r=function(){for(var o=0,i=t.length,s=Array(i),a=0;a<i;a++)s[a]=t[a]===n?arguments[o++]:t[a];for(;o<arguments.length;)s.push(arguments[o++]);return wt(e,r,this,this,s)};return r}));bt.placeholder=ce;const xt=bt,At=D((function(e,t,n){if(!F(e))throw new TypeError("Bind must be called on a function");var r=D((function(o){return wt(e,r,t,this,n.concat(o))}));return r})),St=Z(ie);function Dt(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=Infinity;for(var o=r.length,i=0,s=ie(e);i<s;i++){var a=e[i];if(St(a)&&(z(a)||G(a)))if(t>1)Dt(a,t-1,n,r),o=r.length;else for(var l=0,u=a.length;l<u;)r[o++]=a[l++];else n||(r[o++]=a)}return r}const Nt=D((function(e,t){var n=(t=Dt(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=At(e[r],e)}return e}));function Tt(e,t){var n=function(r){var o=n.cache,i=""+(t?t.apply(this,arguments):r);return Q(o,i)||(o[i]=e.apply(this,arguments)),o[i]};return n.cache={},n}const Mt=D((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),Pt=xt(Mt,ce,1);function It(e,t,n){var r,o,i,s,a=0;n||(n={});var l=function(){a=!1===n.leading?0:rt(),r=null,s=e.apply(o,i),r||(o=i=null)},u=function(){var u=rt();a||!1!==n.leading||(a=u);var c=t-(u-a);return o=this,i=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),a=u,s=e.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(l,c)),s};return u.cancel=function(){clearTimeout(r),a=0,r=o=i=null},u}function Ot(e,t,n){var r,o,i,s,a,l=function(){var u=rt()-o;t>u?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(a,i)),r||(i=a=null))},u=D((function(u){return a=this,i=u,o=rt(),r||(r=setTimeout(l,t),n&&(s=e.apply(a,i))),s}));return u.cancel=function(){clearTimeout(r),r=i=a=null},u}function Et(e,t){return xt(t,e)}function Ct(e){return function(){return!e.apply(this,arguments)}}function Rt(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function jt(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function _t(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}const Lt=xt(_t,2);function Bt(e,t,n){t=Ye(t,n);for(var r,o=ae(e),i=0,s=o.length;i<s;i++)if(t(e[r=o[i]],r,e))return r}function kt(e){return function(t,n,r){n=Ye(n,r);for(var o=ie(t),i=e>0?0:o-1;i>=0&&i<o;i+=e)if(n(t[i],i,t))return i;return-1}}const $t=kt(1),Ft=kt(-1);function Vt(e,t,n,r){for(var o=(n=Ye(n,r,1))(t),i=0,s=ie(e);i<s;){var a=Math.floor((i+s)/2);n(e[a])<o?i=a+1:s=a}return i}function Ut(e,t,n){return function(r,o,i){var s=0,a=ie(r);if("number"==typeof i)e>0?s=i>=0?i:Math.max(i+a,s):a=i>=0?Math.min(i+1,a):i+a+1;else if(n&&i&&a)return r[i=n(r,o)]===o?i:-1;if(o!=o)return(i=t(c.call(r,s,a),Y))>=0?i+s:-1;for(i=e>0?s:a-1;i>=0&&i<a;i+=e)if(r[i]===o)return i;return-1}}const Wt=Ut(1,$t,Vt),qt=Ut(-1,Ft);function Ht(e,t,n){var r=(St(e)?$t:Bt)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function zt(e,t){return Ht(e,ze(t))}function Qt(e,t,n){var r,o;if(t=Ke(t,n),St(e))for(r=0,o=e.length;r<o;r++)t(e[r],r,e);else{var i=ae(e);for(r=0,o=i.length;r<o;r++)t(e[i[r]],i[r],e)}return e}function Kt(e,t,n){t=Ye(t,n);for(var r=!St(e)&&ae(e),o=(r||e).length,i=Array(o),s=0;s<o;s++){var a=r?r[s]:s;i[s]=t(e[a],a,e)}return i}function Gt(e){var t=function(t,n,r,o){var i=!St(t)&&ae(t),s=(i||t).length,a=e>0?0:s-1;for(o||(r=t[i?i[a]:a],a+=e);a>=0&&a<s;a+=e){var l=i?i[a]:a;r=n(r,t[l],l,t)}return r};return function(e,n,r,o){var i=arguments.length>=3;return t(e,Ke(n,o,4),r,i)}}const Jt=Gt(1),Yt=Gt(-1);function Xt(e,t,n){var r=[];return t=Ye(t,n),Qt(e,(function(e,n,o){t(e,n,o)&&r.push(e)})),r}function Zt(e,t,n){return Xt(e,Ct(Ye(t)),n)}function en(e,t,n){t=Ye(t,n);for(var r=!St(e)&&ae(e),o=(r||e).length,i=0;i<o;i++){var s=r?r[i]:i;if(!t(e[s],s,e))return!1}return!0}function tn(e,t,n){t=Ye(t,n);for(var r=!St(e)&&ae(e),o=(r||e).length,i=0;i<o;i++){var s=r?r[i]:i;if(t(e[s],s,e))return!0}return!1}function nn(e,t,n,r){return St(e)||(e=Pe(e)),("number"!=typeof n||r)&&(n=0),Wt(e,t,n)>=0}const rn=D((function(e,t,n){var r,o;return F(t)?o=t:(t=Ve(t),r=t.slice(0,-1),t=t[t.length-1]),Kt(e,(function(e){var i=o;if(!i){if(r&&r.length&&(e=Ue(e,r)),null==e)return;i=e[t]}return null==i?i:i.apply(e,n)}))}));function on(e,t){return Kt(e,Qe(t))}function sn(e,t){return Xt(e,ze(t))}function an(e,t,n){var r,o,i=-Infinity,s=-Infinity;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=St(e)?e:Pe(e)).length;a<l;a++)null!=(r=e[a])&&r>i&&(i=r);else t=Ye(t,n),Qt(e,(function(e,n,r){((o=t(e,n,r))>s||-Infinity===o&&-Infinity===i)&&(i=e,s=o)}));return i}function ln(e,t,n){var r,o,i=Infinity,s=Infinity;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=St(e)?e:Pe(e)).length;a<l;a++)null!=(r=e[a])&&r<i&&(i=r);else t=Ye(t,n),Qt(e,(function(e,n,r){((o=t(e,n,r))<s||Infinity===o&&Infinity===i)&&(i=e,s=o)}));return i}function un(e,t,n){if(null==t||n)return St(e)||(e=Pe(e)),e[nt(e.length-1)];var r=St(e)?ke(e):Pe(e),o=ie(r);t=Math.max(Math.min(t,o),0);for(var i=o-1,s=0;s<t;s++){var a=nt(s,i),l=r[s];r[s]=r[a],r[a]=l}return r.slice(0,t)}function cn(e){return un(e,Infinity)}function dn(e,t,n){var r=0;return t=Ye(t,n),on(Kt(e,(function(e,n,o){return{value:e,index:r++,criteria:t(e,n,o)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")}function fn(e,t){return function(n,r,o){var i=t?[[],[]]:{};return r=Ye(r,o),Qt(n,(function(t,o){var s=r(t,o,n);e(i,t,s)})),i}}const pn=fn((function(e,t,n){Q(e,n)?e[n].push(t):e[n]=[t]})),gn=fn((function(e,t,n){e[n]=t})),mn=fn((function(e,t,n){Q(e,n)?e[n]++:e[n]=1})),hn=fn((function(e,t,n){e[n?0:1].push(t)}),!0);var yn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function vn(e){return e?z(e)?c.call(e):E(e)?e.match(yn):St(e)?Kt(e,He):Pe(e):[]}function wn(e){return null==e?0:St(e)?e.length:ae(e).length}function bn(e,t,n){return t in n}const xn=D((function(e,t){var n={},r=t[0];if(null==e)return n;F(r)?(t.length>1&&(r=Ke(r,t[1])),t=he(e)):(r=bn,t=Dt(t,!1,!1),e=Object(e));for(var o=0,i=t.length;o<i;o++){var s=t[o],a=e[s];r(a,s,e)&&(n[s]=a)}return n})),An=D((function(e,t){var n,r=t[0];return F(r)?(r=Ct(r),t.length>1&&(n=t[1])):(t=Kt(Dt(t,!1,!1),String),r=function(e,n){return!nn(t,n)}),xn(e,r,n)}));function Sn(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Dn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:Sn(e,e.length-t)}function Nn(e,t,n){return c.call(e,null==t||n?1:t)}function Tn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:Nn(e,Math.max(0,e.length-t))}function Mn(e){return Xt(e,Boolean)}function Pn(e,t){return Dt(e,t,!1)}const In=D((function(e,t){return t=Dt(t,!0,!0),Xt(e,(function(e){return!nn(t,e)}))})),On=D((function(e,t){return In(e,t)}));function En(e,t,n,r){P(t)||(r=n,n=t,t=!1),null!=n&&(n=Ye(n,r));for(var o=[],i=[],s=0,a=ie(e);s<a;s++){var l=e[s],u=n?n(l,s,e):l;t&&!n?(s&&i===u||o.push(l),i=u):n?nn(i,u)||(i.push(u),o.push(l)):nn(o,l)||o.push(l)}return o}const Cn=D((function(e){return En(Dt(e,!0,!0))}));function Rn(e){for(var t=[],n=arguments.length,r=0,o=ie(e);r<o;r++){var i=e[r];if(!nn(t,i)){var s;for(s=1;s<n&&nn(arguments[s],i);s++);s===n&&t.push(i)}}return t}function jn(e){for(var t=e&&an(e,ie).length||0,n=Array(t),r=0;r<t;r++)n[r]=on(e,r);return n}const _n=D(jn);function Ln(e,t){for(var n={},r=0,o=ie(e);r<o;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function Bn(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),o=Array(r),i=0;i<r;i++,e+=n)o[i]=e;return o}function kn(e,t){if(null==t||t<1)return[];for(var n=[],r=0,o=e.length;r<o;)n.push(c.call(e,r,r+=t));return n}function $n(e,t){return e._chain?ce(t).chain():t}function Fn(e){return Qt(Ee(e),(function(t){var n=ce[t]=e[t];ce.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),$n(this,n.apply(ce,e))}})),ce}Qt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=s[e];ce.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),$n(this,n)}})),Qt(["concat","join","slice"],(function(e){var t=s[e];ce.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),$n(this,e)}}));const Vn=ce;var Un=Fn(r);Un._=Un;const Wn=Un}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(636),t=null;const r="crx",o="nex",i="ff",s="edge";let a=!1;if(window.navigator.userAgent&&window.navigator.userAgent.length>0&&(-1==window.navigator.userAgent.indexOf("Edge/")&&-1==window.navigator.userAgent.indexOf("Edg/")||(a=!0)),"undefined"!=typeof browser)t=browser;else if("undefined"!=typeof chrome)t=chrome;else try{a&&(t=browser)}catch(e){}if(null==t)throw"AVD CC: Warning! Browser object is undefined. Try updating to most recent version or contact support";if(t.$type="?","undefined"!=typeof browser?t.$type=i:"undefined"!=typeof chrome&&(t.$type=r),-1!=window.navigator.userAgent.indexOf("OPR/")?t.$type=o:a&&(t.$type=s),"?"==t.$type)throw"AVD CC: Warning! Unable to detect browser platform. This can be due to internal error or browser is unknown";t.runtime&&t.runtime.onMessage&&t.runtime.onMessage.addListener((function(t,n,r){t&&e.has(t,"id")&&"cs-query-tab-info"==t.id&&r({id:"cs-query-tab-info",tabId:n.tab.id,url:n.tab.url,title:n.tab.title})}));var l=new class{constructor(){this.yt={youtubeVideoId:new RegExp("\\?v=([\\w\\-\\_]+)","i"),youtubeChannelId:new RegExp("youtube\\.com\\/channel\\/([\\w\\-\\_]+)(?:\\/join)?","i"),streamId:new RegExp("id=([\\w\\-_]+)","i"),itag:new RegExp("itag=(\\d+)","i"),mime:new RegExp("mime=([\\w\\%]+)","i"),ctier:new RegExp("ctier=(\\w+)","i"),clen:new RegExp("clen\\=(\\d+)","i"),streamTypeAudio:new RegExp("audio\\/","i"),streamTypeVideo:new RegExp("video\\/","i"),streamUrlHosts:[new RegExp(".*?youtube\\.com\\/videoplayback","i"),new RegExp(".*?googlevideo\\.com\\/videoplayback","i")],streamUrlStripTokens:[new RegExp("range=[^&#]+","i"),new RegExp("rn=[^&#]+","i"),new RegExp("rbuf=[^&#]+","i"),new RegExp("&+$","i")],codecs:new RegExp('codecs\\s*\\=\\s*\\"?([\\w\\.;]+)\\"?',"i"),qualityWidth:new RegExp("^(\\d+)p?","i"),nextCallUrl:new RegExp("youtube\\.com\\/youtubei\\/v\\d+\\/player\\?","i")},this.content={type:new RegExp('([\\w\\-_]+)\\/([\\w\\-_]+);?(?:\\s+)?([\\w\\=\\"\\.]+)?',"i"),range:{type1:new RegExp("\\s*(\\w+)\\s(\\d+|\\s?)\\-(\\d+|\\s?)\\/(\\d+|\\*|\\s?)","i"),type2:new RegExp("\\s*(\\w+)\\s\\*\\/(\\d+|\\*|\\s?)","i")}},this.streamKeyPattern=function(e,t){return`stream:${e}:${t}`},this.streamKey=new RegExp("^stream\\:([a-zA-Z\\d]+)\\:([\\w_\\-\\@\\*\\?\\#\\:]+)","i"),this.file={name:new RegExp("^(.+)(?:[?#].*)?","i"),extension:new RegExp("\\.([0-9a-z]+)(?=[?#])|(\\.)(?:[\\w]+)$","i"),filenameReplacementByOS:{win32:new RegExp('[\\/\\:\\*\\\\\\?\\!\\<\\>\\|\\"]',"ig"),mac:new RegExp("\\/|:","g"),gnubsd:new RegExp("\\/","g")}},this.url={httpx:new RegExp("(\\w+):\\/\\/([\\\\\\-\\w@][\\w\\-.:@]+)(\\/?[\\w\\.?=%&=\\-@\\/$,+~:_ \\*]*)","i")},this.text={splitBy:{semicolon:new RegExp("^([\\w_\\-\\s]+):(.*)$")},newLine:new RegExp("\\r\\n|\\n","i")},this.video={descriptor:{keyPattern:function(e,t){return`vd:${e}:${t}`},key:new RegExp("^vd\\:([\\$\\-\\w]+)\\:([\\w_\\-\\@\\*\\?\\#]+)","i")},previousDownload:{keyPattern:function(e,t){return`${e}:${t}`},key:new RegExp("^(S[\\w\\-]+)\\:(vd\\:[\\$\\-\\w]+\\:[\\w_\\-\\@\\*\\?\\#]+)","i")},resolution:{numericValue:new RegExp("^([\\s\\d]+)","i"),twoValues:new RegExp("(\\d+)[x|X](\\d+)","i")}},this.uuid={replacement:new RegExp("[xy]","g")},this.versionNumber={digitsTwo:new RegExp("^(\\d+)\\.(\\d+)$","i"),digitsThree:new RegExp("^(\\d+)\\.(\\d+)\\.(\\d+)$","i")},this.isInteger=new RegExp("^[-+]?(\\d+|Infinity)$","i"),this.websites={netu_hostname_cdn:new RegExp("\\.cf?[\\w\\_\\-]+cdn(?:[\\w\\_\\-]+)?\\.[\\w]+\\/","i")}}},u=n(636),c=new class{constructor(){this.m_PlatformInfo={os:null},this.m_Idx=0;var e=this;if(t.runtime.getPlatformInfo)t.runtime.getPlatformInfo((function(t){e.m_PlatformInfo=t}));else{let e=window.navigator.userAgent.toLowerCase();-1==e.indexOf("edge/")&&-1==e.indexOf("edg/")||(this.m_PlatformInfo.os="win")}}get platformOS(){return this.m_PlatformInfo.os}get nativeAppName(){return"com.ant.avdcc.host"}get xhrForbiddenHeadersArrayLC(){return["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","feature-policy","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}generateUUID(){let e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(l.uuid.replacement,(function(t){let n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}generateShortId(){let e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"S-xxx-xxx".replace(l.uuid.replacement,(function(t){let n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}concatAndResolveUrl(e,t){var n=e.split("/"),r=t.split("/"),o=[];for(let e=0,t=n.length;e<t;e++)if(".."==n[e])o.pop();else{if("."==n[e])continue;o.push(n[e])}for(let e=0,t=r.length;e<t;e++)if(".."==r[e])o.pop();else{if("."==r[e])continue;o.push(r[e])}return o.join("/")}sanitize(e){var t=null;switch(this.m_PlatformInfo.os){case"win":t=l.file.filenameReplacementByOS.win32;break;case"mac":t=l.file.filenameReplacementByOS.mac;break;case"linux":case"openbsd":t=l.file.filenameReplacementByOS.gnubsd;break;default:throw"Android and CrOS platforms are not supported"}return t?e.replaceAll(t," "):null}xhr3(e,t,n){return new Promise((function(r,o){try{var i=new XMLHttpRequest;if(i.open(e,t),null!=n&&u.isObject(n)&&0==u.isEmpty(n)){let e=Object.keys(n);for(let t of e){if(0==u.has(n,t))continue;if("function"==typeof n[t])continue;let e=t.toLowerCase();e.startsWith("proxy-")||e.startsWith("sec-")||c.includesAnySubstring(e,c.xhrForbiddenHeadersArrayLC)||i.setRequestHeader(t,n[t])}}i.onload=function(){var e={status:i.status,"request-url":t,"response-type":i.responseType,"response-value":i.response,"response-headers":[]},n=i.getAllResponseHeaders(),o=function(e){return null!=e&&e.length>0};if(null!=n&&n.length>0){var s=n.split("\r\n");for(var a of s)if(null!=a&&0!=a.length){var u=a.split(l.text.splitBy.semicolon).filter(o);2==u.length&&e["response-headers"].push({name:u[0].trim(),value:u[1].trim()})}}r(e)},i.onerror=function(){o(null)},i.send()}catch(e){o(null)}}))}isURL(e){return null!=e&&0!=e.length&&(1==c.startsWithHTTx(e)||l.url.httpx.test(e))}startsWithHTTx(e){if(null==e)return!1;if(0==e.length)return!1;let t=e.toLowerCase();return t.startsWith("http://")||t.startsWith("https://")}crackUrl(e){return null==e||0==e.length?null:e.match(l.url.httpx)}getHostnameFromUrl(e){var t=this.crackUrl(e);return null==t?null:t.length>=3?t[2]:null}getBaseUrl(e){var t=this.crackUrl(e);return null==t?null:`${t[1]}://${t[2]}/`}getPathFromUrl(e){var t=this.crackUrl(e);return null==t||4!=t.length?null:t[3]}getPathUrl(e){var t=this.crackUrl(e);if(null==t)return null;var n="",r=t[1],o=t[2];if(3==t.length)n=`${r}://${o}/`;else{if(4!=t.length)return null;var i=t[3].substring(0,t[3].lastIndexOf("/"));0==i.endsWith("/")&&(i+="/"),n=`${r}://${o}${i}`}return n}getPathUrl2(e){var t=this.crackUrl(e);if(null==t)return null;var n="",r=t[1],o=t[2];if(3==t.length)n=`${r}://${o}`;else{if(4!=t.length)return null;var i=t[3].substring(0,t[3].lastIndexOf("/"));1==i.endsWith("/")&&(i=1==i.length?"":i.substring(0,i.length-1)),n=`${r}://${o}${i}`}return n}extractFilenameFromURL(e){let t="",n=-1;return e&&0!=e.length?(t=e,n=e.indexOf("?"),-1!=n&&(t=t.substring(0,n)),n=t.lastIndexOf("/"),-1!=n&&(t=t.substring(n+1,t.length)),n=t.indexOf("#"),-1!=n&&(t=t.substring(0,n)),t):t}extractFilenameFromFilesystemPath(e){let t=-1,n="\\";return e&&0!=e.length?("win"!=this.m_PlatformInfo.os&&(n="/"),t=e.lastIndexOf(n),-1==t?e:e.substring(t+1,e.length)):null}tryGettingHeader(e,t){if(null==e||0==e.length)return null;if(null==t)return null;if("object"!=typeof t)return null;let n=Object.keys(t);for(let r=0;r<n.length;r++)if(u.has(t,n[r])&&n[r].toLowerCase()==e.toLowerCase())return t[n[r]];return null}headerExists(e,t){if(null==e||0==e.length)return!1;if(null==t)return!1;if("object"!=typeof t)return!1;let n=Object.keys(t);for(let r=0;r<n.length;r++)if(u.has(t,n[r])&&n[r].toLowerCase()==e.toLowerCase())return!0;return!1}headerDrop(e,t){if(null==e||0==e.length)return!1;if(null==t)return!1;if("object"!=typeof t)return!1;let n={},r=Object.keys(t);for(let o=0;o<r.length;o++){let i=r[o];if(u.has(t,i)){if(i.toLowerCase()==e.toLowerCase())continue;n[i]=t[i]}}return n}verifyNativeInstalled(e){if(e)try{t.runtime.sendNativeMessage(this.nativeAppName,{id:"query-version",isSyncCall:!0},(function(t){var n={available:!1,response:null};t&&(n.available=!0,n.response=t),e(n)}))}catch(t){e(null)}}compareVersionStrings(e,t){if(null==e)return;if(null==t)return;let n=e.toLowerCase(),r=t.toLowerCase();if(n==r)return 0;if(0==l.versionNumber.digitsTwo.test(n)&&0==l.versionNumber.digitsThree.test(n))return;if(0==l.versionNumber.digitsTwo.test(r)&&0==l.versionNumber.digitsThree.test(r))return;if(l.versionNumber.digitsTwo.test(n)&&(n+=".0"),l.versionNumber.digitsTwo.test(r)&&(r+=".0"),n==r)return 0;var o={left:{major:null,minor:null,build:null},right:{major:null,minor:null,build:null}};let i=n.match(l.versionNumber.digitsThree);return i&&4==i.length&&(o.left.major=Number(i[1]),o.left.minor=Number(i[2]),o.left.build=Number(i[3]),i=r.match(l.versionNumber.digitsThree),i&&4==i.length)?(o.right.major=Number(i[1]),o.right.minor=Number(i[2]),o.right.build=Number(i[3]),o.left.major!=o.right.major?o.left.major<o.right.major?-1:1:o.left.minor!=o.right.minor?o.left.minor<o.right.minor?-1:1:o.left.build==o.right.build?0:o.left.build<o.right.build?-1:1):void 0}calculateTextWidth(e,t){var n=document.createElement("canvas").getContext("2d");return n.font=t,n.measureText(e).width}makeShorterByFont(e,t,n){let r=c.calculateTextWidth(e,n);if(r>t){let o=e;do{o=o.substr(0,o.length-4)+"...",r=c.calculateTextWidth(o,n)}while(r>t);return o}return e}kilobytes(e){return 1024*e}megabytes(e){return e*c.kilobytes(1024)}isUCBrowser(e){if(null!=e&&0!=e.length)return-1!=e.toLowerCase().indexOf("ubrowser/")}includesAllSubstrings(e,t){if(null==e||0==e.length)return!1;if(null==t||0==t.length)return!1;for(let n of t)if("string"==typeof n){if(0==e.includes(n))return!1}else if("object"==typeof n&&u.has(n,"test")&&0==n.test(e))return!1;return!0}includesAnySubstring(e,t){if(null==e||0==e.length)return!1;if(null==t||0==t.length)return!1;for(let n of t)if("string"==typeof n){if(1==e.includes(n))return!0}else if("object"==typeof n&&u.has(n,"test")&&1==n.test(e))return!0;return!1}allMet(e){if(null!=e&&e.length>0){for(let t of e)if(0==t)return!1;return!0}return!1}isPromise(e){return e&&"[object Promise]"===Object.prototype.toString.call(e)}getBrowserIncognitoThemeColor(e){switch(e){case o:return"#893e65";case i:return"#1c1b22";case r:return"#35363a";case s:return"#242424"}return"#b5b5b5"}getBrowserIncognitoIcon(e){switch(e){case o:return"mdi-hat-fedora";case i:return"mdi-domino-mask";case r:return"mdi-incognito";case s:return"mdi-account-circle"}return"mdi-incognito"}getBrowserIncognitoModeName(e){switch(e){case o:return"Private mode";case i:return"Private browsing mode";case s:return"InPrivate mode";default:return"Incognito mode"}}isDebug(){return 0==u.isEmpty("production")&&"production".includes("development")}},d=n(636),f=n(60),p=new class{constructor(){this.downloads={search:function(e){return t.$type==i?t.downloads.search(e):new Promise((function(n,r){t.downloads.search(e,n)}))}}}getFromLocalStorage(e){return t.$type==i?t.storage.local.get(e):new Promise((function(n,r){t.storage.local.get(e,n)}))}setIntoLocalStorage(e){return t.$type==i?t.storage.local.set(e):new Promise((function(n,r){t.storage.local.set(e,n)}))}removeFromLocalStorage(e){return t.$type==i?t.storage.local.remove(e):new Promise((function(n,r){t.storage.local.remove(e,n)}))}clearLocalStorage(){return t.$type==i?t.storage.local.clear():new Promise((function(e,n){t.storage.local.clear(e)}))}getAllWindows(){return t.$type==i?t.windows.getAll({populate:!0}):new Promise((function(e,n){t.windows.getAll({populate:!0},e)}))}getCurrentWindow(){return t.$type==i?t.windows.getCurrent(null):new Promise((function(e,n){t.windows.getCurrent(null,e)}))}tabsQuery(){return t.$type==i?t.tabs.query({active:!0}):new Promise((function(e,n){t.tabs.query({active:!0},e)}))}tabsQueryAll(){return t.$type==i?t.tabs.query({}):new Promise((function(e,n){t.tabs.query({},e)}))}tabsUpdate(e){return t.$type==i?t.tabs.update(e):new Promise((function(n,r){t.tabs.update(e,n)}))}currentTabQuery(){var e={active:!0,currentWindow:!0};return t.$type==i?t.tabs.query(e):new Promise((function(n,r){t.tabs.query(e,n)}))}tabGetById(e){return t.$type==i?t.tabs.get(e):new Promise((function(n,r){t.tabs.get(e,n)}))}tabsHandleLastError(e){if(null!=e&&d.has(e,"message")&&null!=e.message){let t=["no tab with id","invalid tab id"],n=e.message.toLowerCase();for(let e of t)if(n.includes(e))return}}tabReloadById(e,n=!1){return t.$type==i?t.tabs.reload(e,{bypassCache:n}):new Promise((function(r,o){t.tabs.reload(e,{bypassCache:n},r)}))}cookiesGetAll(e){var n=null;return t.$type==i?(e.firstPartyDomain=null,n=t.cookies.getAll(e)):n=new Promise((function(n,r){t.cookies.getAll(e,n)})),n}sendMessage(e){return t.$type==i?t.runtime.sendMessage(e):new Promise((function(n,r){t.runtime.sendMessage(e,n)}))}sendMessageHandleLastError(e){if(null!=e&&d.has(e,"message")&&null!=e.message){let t=["could not establish connection. receiving end does not exist.","the message port closed before a response was received.",""],n=e.message.toLowerCase();for(let e of t)if(n.includes(e))return}}sendNativeMessage(e){return e.isSyncCall=!0,t.$type==i?t.runtime.sendNativeMessage(c.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(c.nativeAppName,e,n)}))}NAQueryVersion(){var e={id:"query-version",isSyncCall:!0};return t.$type==i?t.runtime.sendNativeMessage(c.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(c.nativeAppName,e,n)}))}async NAQueryVersionCheck(){let e=await this.NAQueryVersion();return!!(null!=e&&d.has(e,"id")&&d.has(e,"version")&&null!=e.id&&null!=e.version&&"query-version"==e.id.toLowerCase()&&e.version.length>0)}NAQueryDestinationFolder(){var e={id:"query-destination-folder",isSyncCall:!0};return t.$type==i?t.runtime.sendNativeMessage(c.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(c.nativeAppName,e,n)}))}NAChangeDownloadsFolder(){var e={id:"set-destination-folder",isSyncCall:!0};return t.$type==i?t.runtime.sendNativeMessage(c.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(c.nativeAppName,e,n)}))}NAChangePrivateDownloadsFolder(){var e={id:"set-private-destination-folder",isSyncCall:!0};return t.$type==i?t.runtime.sendNativeMessage(c.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(c.nativeAppName,e,n)}))}NAResetDownloadsFolder(){var e={id:"reset-destination-folder",isSyncCall:!0};return t.$type==i?t.runtime.sendNativeMessage(c.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(c.nativeAppName,e,n)}))}NAChangeTemporaryFilesFolder(){var e={id:"set-temporary-folder",isSyncCall:!0};return t.$type==i?t.runtime.sendNativeMessage(c.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(c.nativeAppName,e,n)}))}NAOpenTemporaryFilesFolder(){var e={id:"open-temporary-folder",isSyncCall:!0};return t.$type==i?t.runtime.sendNativeMessage(c.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(c.nativeAppName,e,n)}))}NAResetTemporaryFilesFolder(){var e={id:"reset-temporary-folder",isSyncCall:!0};return t.$type==i?t.runtime.sendNativeMessage(c.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(c.nativeAppName,e,n)}))}NAOpenSessionTemporaryFilesFolder(e){var n={id:"open-temporary-folder-this-session",session:e,isSyncCall:!0};return t.$type==i?t.runtime.sendNativeMessage(c.nativeAppName,n):new Promise((function(e,r){t.runtime.sendNativeMessage(c.nativeAppName,n,e)}))}runtimeGetPlatformInfo(){return t.$type==i?t.runtime.getPlatformInfo():new Promise((function(e,n){t.runtime.getPlatformInfo(e)}))}runtimeGetBrowserInfo(){return t.$type==i?t.runtime.getBrowserInfo():new Promise((function(e,t){t("This method is implemented only on Mozilla Firefox")}))}smartOpenNewTab(e){if(null==e||0==e.length)return null;let n=e+"#",r=t.windows.WINDOW_ID_CURRENT,o=null;f((function*(){var i=yield p.getCurrentWindow();if(null!=i){var s=yield p.getAllWindows();if(1==i.incognito){var a,l=null,u=null;for(let i in s)if(1==s[i].incognito){null==u&&(u=s[i].id),1==s[i].focused&&(l=s[i].id);let a=s[i].tabs;for(let l in a){let u=a[l];if(u.url==e||u.url==n)return o=s[i].id,r!=o&&t.windows.update(o,{focused:!0}),t.tabs.update(u.id,{active:!0}),{updated:!0}}}return a=null!=l?l:u,t.tabs.create({url:e,active:!0,windowId:a}),{created:!0}}for(let i in s){let a=s[i].tabs;for(let l in a){let u=a[l];if(u.url==e||u.url==n)return o=s[i].id,r!=o&&t.windows.update(o,{focused:!0}),t.tabs.update(u.id,{active:!0}),{updated:!0}}}return t.tabs.create({url:e,active:!0}),{created:!0}}})).catch((e=>{}))}smartOpenNewTab2(e,n){if(null==e||0==e.length)return null;if(null==n||"boolean"!=typeof n)return null;let r=`${e}#`;f((function*(){let o=yield p.getCurrentWindow(),i=yield p.getAllWindows();for(let o of i)if(o.incognito==n){let n=o.tabs;for(let i of n)if(i.url==e||i.url==r)return t.windows.update(o.id,{focused:!0}),t.tabs.update(i.id,{active:!0}),{updated:!0}}t.tabs.create({url:e,active:!0,windowId:o.id})})).catch((e=>{}))}async smartOpenNewTabAsync(e){if(null==e||0==e.length)return null;let n=e+"#",r=t.windows.WINDOW_ID_CURRENT,o=null,i=null,s=null;try{i=await p.getCurrentWindow()}catch(e){}if(null!=i){try{s=await p.getAllWindows()}catch(e){}if(1==i.incognito){let i=null,a=null,l=null;if(null!=s)for(let l in s)if(1==s[l].incognito){null==a&&(a=s[l].id),1==s[l].focused&&(i=s[l].id);let u=s[l].tabs;for(let i in u){let a=u[i];if(a.url==e||a.url==n)return o=s[l].id,r!=o&&t.windows.update(o,{focused:!0}),t.tabs.update(a.id,{active:!0}),{updated:!0,incognito:!0}}}return l=null!=i?i:a,t.tabs.create({url:e,active:!0,windowId:l}),{created:!0,incognito:!0}}for(let i in s){let a=s[i].tabs;for(let l in a){let u=a[l];if(u.url==e||u.url==n)return o=s[i].id,r!=o&&t.windows.update(o,{focused:!0}),t.tabs.update(u.id,{active:!0}),{updated:!0,incognito:!1}}}return t.tabs.create({url:e,active:!0}),{created:!0,incognito:!1}}}downloadsDownload(e){return t.$type==i?t.downloads.download(e):new Promise((function(n,r){t.downloads.download(e,n)}))}downloadsCancel(e){return t.$type==i?t.downloads.cancel(e):new Promise((function(n,r){t.downloads.cancel(e,n)}))}};const g={downloader:{startDownload:"messages.downloader.startDownload",startDownloadViaBrowser:"messages.downloader.startDownloadViaBrowser",cancelDownload:"messages.downloader.cancelDownload",deleteDownload:"messages.downloader.deleteDownload",deleteDownloads:"messages.downloader.deleteDownloads",clearBySingleState:"messages.downloader.clearBySingleState"},session:{query:"messages.session.query",openSettingsPage:"messages.session.openSettingsPage",openTopVideoSites:"messages.session.openTopVideoSites",openDebugPage:"messages.session.openDebugPage",wipeOut:"messages.session.wipeOut"},nativeApp:{videoDetector:{yt:{addStream:"avdcc.na.videoDetector.yt.addStream"}}},video:{detector:{ytnp:{ignoreVideoDetection:"messages.video.detector.ytnp.ignoreVideoDetection"},yt:{sendInitialConfig:"messages.video.detector.yt.sendInitialConfig",sendSubsequentConfig:"messages.video.detector.yt.sendSubsequentConfig",sendEmbeddedConfig:"messages.video.detector.yt.sendEmbeddedConfig"}},handler:{videoDetection:"messages.video.handler.videoDetection",query:{all:"messages.video.handler.query.all",nonIdle:"messages.video.handler.query.nonIdle",byTab:"messages.video.handler.query.byTab",popupData:"messages.video.handler.query.popupData"},count:{byTab:"messages.video.handler.count.byTab"},removeFromList:"messages.video.handler.removeFromList",removeFromListBulk:"messages.video.handler.removeFromListBulk",resetVideo:"messages.video.handler.resetVideo",disconnectPeer:"messages.video.handler.disconnectPeer",events:{onVideoDetected:"messages.video.handler.events.onVideoDetected",onVideoUpdated:"messages.video.handler.events.onVideoUpdated",onVideoRemoved:"messages.video.handler.events.onVideoRemoved"}}},settings:{get:"messages.settings.get",set:"messages.settings.set",replace:"messages.settings.replace",reset:"messages.settings.reset",resetAll:"messages.settings.resetAll",events:{onSettingChanged:"messages.settings.events.onSettingChanged"}},ui:{downloads:{command:{download:{start:"messages.ui.downloads.command.download.start",startViaBrowser:"messages.ui.downloads.command.download.startViaBrowser",cancel:"messages.ui.downloads.command.download.cancel"},video:{file:{play:"messages.ui.downloads.command.video.file.play",browse:"messages.ui.downloads.command.video.file.browse",delete:"messages.ui.downloads.command.video.file.delete",showProperties:"messages.ui.downloads.command.video.file.showProperties"},list:{clear:"messages.ui.downloads.command.video.list.clear",removeFrom:"messages.ui.downloads.command.video.list.removeFrom",removePreviousDl:"messages.ui.downloads.command.video.list.removePreviousDl"},reset:"messages.ui.downloads.command.video.reset"},tab:{reload:"messages.ui.downloads.command.tab.reload",goTo:"messages.ui.downloads.command.tab.goTo"},showSnack:"messages.ui.downloads.command.showSnack",clipText:"messages.ui.downloads.command.clipText",startTaskMgr:"messages.ui.downloads.command.startTaskMgr"}},settings:{command:{categoryChanged:"messages.ui.settings.command.categoryChanged",updateSetting:"messages.ui.settings.command.updateSetting",switchTheme:"messages.ui.settings.command.switchTheme",showSnack:"messages.ui.settings.command.showSnack"}}}},m="youtubeNowPlayingStreamTypeSolid",h="youtubeNowPlayingStreamTypeAudio",y="youtubeNowPlayingStreamTypeVideo";function v(e){if(null==e||0==e.length)return null;let t=0,n=null;if("{"!=e[0])return null;t=1;for(let r=1;r<e.length;r++)if("{"!=e[r]){if("}"==e[r]){if(t--,0!=t)continue;try{if(";"==e[r+1]||")"==e[r+1])return n=r+1,e.substring(0,n).trim()}catch(e){}}}else t++;return null}new Map([[18,{label:"360p",weight:360,type:m}],[22,{label:"360p",weight:360,type:m}],[43,{label:"360p",weight:360,type:m}],[133,{label:"240p",weight:240,type:y}],[134,{label:"360p",weight:360,type:y}],[135,{label:"480p",weight:480,type:y}],[136,{label:"720p",weight:720,type:y}],[137,{label:"1024p",weight:1024,type:y}],[138,{label:"2160p",weight:2160,type:y}],[140,{label:null,weight:null,type:h}],[160,{label:"144p",weight:144,type:y}],[171,{label:null,weight:null,type:h}],[242,{label:"240p",weight:240,type:y}],[243,{label:"360p",weight:360,type:y}],[244,{label:"480p",weight:480,type:y}],[247,{label:"720p",weight:720,type:y}],[248,{label:"1080p",weight:1080,type:y}],[249,{label:null,weight:null,type:h}],[250,{label:null,weight:null,type:h}],[251,{label:null,weight:null,type:h}],[264,{label:"1440p",weight:1440,type:y}],[266,{label:"1440p",weight:1440,type:y}],[271,{label:"1440p",weight:1440,type:y}],[272,{label:"4K/8K",weight:2160,type:y}],[278,{label:"144p",weight:144,type:y}],[298,{label:"720p60",weight:721,type:y}],[299,{label:"1080p",weight:1080,type:y}],[302,{label:"720p",weight:720,type:y}],[303,{label:"1080p",weight:1080,type:y}],[308,{label:"1440p60",weight:1441,type:y}],[313,{label:"2160p",weight:2160,type:y}],[315,{label:"2160p60",weight:2161,type:y}],[330,{label:"144p60 HDR",weight:145,type:y}],[331,{label:"240p60 HDR",weight:241,type:y}],[332,{label:"360p60 HDR",weight:361,type:y}],[333,{label:"480p60 HDR",weight:481,type:y}],[334,{label:"720p60 HDR",weight:721,type:y}],[335,{label:"1080p60 HDR",weight:1081,type:y}],[336,{label:"1440p60 HDR",weight:1441,type:y}],[337,{label:"2160p60 HDR",weight:2161,type:y}],[394,{label:"144p",weight:144,type:y}],[395,{label:"240p",weight:240,type:y}],[396,{label:"320p",weight:320,type:y}],[397,{label:"480p",weight:480,type:y}],[398,{label:"720p",weight:720,type:y}],[399,{label:"1080p",weight:1080,type:y}],[400,{label:"4K",weight:2560,type:y}],[401,{label:"4K",weight:3840,type:y}],[571,{label:"8K",weight:4320,type:y}]]),n(636),n(263);var w=n(636),b=n(60);const x=/ytplayer\.config[\s+]?=[\s+]?/gi,A=/ytplayer\.web_player_context_config[\s+]?=[\s+]?/gi,S=/var\sytInitialPlayerResponse(?:\s+)?=(?:\s+)?{/gi;var D=null,N=!1,T=null,M=null;try{"function"==typeof avdOverrideLog&&avdOverrideLog()}catch(e){}function P(e,t){if(null==e)return;if(null==t)return;let n=null,r=t.search(e);if(r>-1&&(r=t.indexOf("{",r),-1!=r)){let e=v(t.substring(r));try{n=JSON.parse(e)}catch(e){return}return w.isEmpty(n)?null:n}return null}function I(e){if(null==e)return;let n=null;try{n=(new XMLSerializer).serializeToString(e)}catch(e){return}if(null==n||0==n.length)return;let r=null,o=null,i=null;if(r=P(x,n),null==r){let e=-1,t=null,o=[];if(e=n.search(x),e>-1&&(e=n.indexOf("{",e),e>-1&&(t=v(n.substring(e)),null!=t&&t.length>0&&(e=t.search(/raw_player_response:/i),e>-1)))){let n=[t.substring(e).replace("raw_player_response:","").replace("}}",""),"ytInitialPlayerResponse"];for(let e of n)if(document&&document.scripts){let n=new RegExp("var(?:\\s*)?"+e+"(?:\\s*)?=(?:\\s*)?{","i");for(let e of document.scripts)null!=e.outerHTML&&-1!=e.outerHTML.search(n)&&o.push(e.outerHTML);if(o.length>0){for(let e of o){let o=e.match(n);if(null!=o&&o.length>0){t=v(e.substring(o.index+o[0].length-1));try{r=JSON.parse(t);break}catch(e){}}}r.length}}}}if(null==r&&document&&document.scripts)for(let e of document.scripts)if(null!=e.outerHTML&&S.test(e.outerHTML)){let t=e.outerHTML.indexOf("{");if(t>-1){let n=v(e.outerHTML.substring(t));try{r=JSON.parse(n);break}catch(e){}w.isEmpty(r)}}if(document&&document.scripts){let e=new RegExp('\\"PLAYER_JS_URL\\"\\:\\"([\\w\\.\\/_]+\\/base\\.js)\\"',"i");for(let t of document.scripts)if(null!=t.outerHTML){let n=t.outerHTML.match(e);if(null!=n&&n.length>=2){i=n[1];break}}}o=P(A,n),t.runtime.sendMessage({id:g.video.detector.yt.sendInitialConfig,config:{playerConfig:r,webPlayerContextConfig:o,playerJsUrl:i},documentCookie:document.cookie,tabId:T,webpage:M})}b((function*(){var e=yield p.sendMessage({id:"cs-query-tab-info"});p.sendMessageHandleLastError(t.runtime.lastError),e&&w.has(e,"id")&&"cs-query-tab-info"==e.id&&(T=e.tabId,M=e.url);try{I(document.getElementById("player-wrap"))}catch(e){}try{D=new MutationObserver((function(e,t){if(null!=e&&e.length>0)for(let t of e)if(t.target&&t.target.className){if("string"!=typeof t.target.className)return;if("player-wrap"==t.target.className)return void I(t.target)}})),N=!0}catch(e){}if(1==N)try{D.observe(document,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0})}catch(e){}})).catch((e=>{}))})()})();
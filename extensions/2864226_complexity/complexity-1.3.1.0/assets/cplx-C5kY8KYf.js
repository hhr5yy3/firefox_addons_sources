const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./cplx-CVsLL7Ku.js","./cplx-M4JPizzD.js","./cplx-Cdcyb6EG.js","./cplx-BbAh7E-i.js","./cplx-CzQHx1MX.js"])))=>i.map(i=>d[i]);
import{j as m,c as ke,S as Bt}from"./cplx-DEt7CUyc.js";import{b as Pt,_ as Wt}from"./cplx-CejnDNPm.js";import{B as qt}from"./cplx-CCGYIZQf.js";import{R as D,r as Ve}from"./cplx-M4JPizzD.js";import{L as $t,I as xe}from"./cplx-OhnDHSjW.js";import{S as Ht}from"./cplx-b9fF-OTI.js";import{T as zt}from"./cplx-DyEN9tFf.js";import{z as X}from"./cplx-Cdcyb6EG.js";import{g as Kt,a as Gt,b as Jt}from"./cplx-BF52nfpw.js";var we=e=>e.type==="checkbox",ae=e=>e instanceof Date,U=e=>e==null;const ht=e=>typeof e=="object";var C=e=>!U(e)&&!Array.isArray(e)&&ht(e)&&!ae(e),mt=e=>C(e)&&e.target?we(e.target)?e.target.checked:e.target.value:e,Yt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,gt=(e,r)=>e.has(Yt(r)),Qt=e=>{const r=e.constructor&&e.constructor.prototype;return C(r)&&r.hasOwnProperty("isPrototypeOf")},qe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function R(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(qe&&(e instanceof Blob||i))&&(t||C(e)))if(r=t?[]:{},!t&&!Qt(e))r=e;else for(const n in e)e.hasOwnProperty(n)&&(r[n]=R(e[n]));else return e;return r}var Te=e=>Array.isArray(e)?e.filter(Boolean):[],S=e=>e===void 0,d=(e,r,t)=>{if(!r||!C(e))return t;const i=Te(r.split(/[,[\].]+?/)).reduce((n,a)=>U(n)?n:n[a],e);return S(i)||i===e?S(e[r])?t:e[r]:i},$=e=>typeof e=="boolean",$e=e=>/^\w*$/.test(e),vt=e=>Te(e.replace(/["|']|\]/g,"").split(/\.|\[/)),A=(e,r,t)=>{let i=-1;const n=$e(r)?[r]:vt(r),a=n.length,u=a-1;for(;++i<a;){const y=n[i];let v=t;if(i!==u){const V=e[y];v=C(V)||Array.isArray(V)?V:isNaN(+n[i+1])?{}:[]}if(y==="__proto__"||y==="constructor"||y==="prototype")return;e[y]=v,e=e[y]}return e};const Se={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xt=D.createContext(null),Ne=()=>D.useContext(xt),Xt=e=>{const{children:r,...t}=e;return D.createElement(xt.Provider,{value:t},r)};var bt=(e,r,t,i=!0)=>{const n={defaultValues:r._defaultValues};for(const a in e)Object.defineProperty(n,a,{get:()=>{const u=a;return r._proxyFormState[u]!==z.all&&(r._proxyFormState[u]=!i||z.all),t&&(t[u]=!0),e[u]}});return n},B=e=>C(e)&&!Object.keys(e).length,_t=(e,r,t,i)=>{t(e);const{name:n,...a}=e;return B(a)||Object.keys(a).length>=Object.keys(r).length||Object.keys(a).find(u=>r[u]===(!i||z.all))},be=e=>Array.isArray(e)?e:[e],Ft=(e,r,t)=>!e||!r||e===r||be(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i)));function He(e){const r=D.useRef(e);r.current=e,D.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function Zt(e){const r=Ne(),{control:t=r.control,disabled:i,name:n,exact:a}=e,[u,y]=D.useState(t._formState),v=D.useRef(!0),V=D.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),F=D.useRef(n);return F.current=n,He({disabled:i,next:x=>v.current&&Ft(F.current,x.name,a)&&_t(x,V.current,t._updateFormState)&&y({...t._formState,...x}),subject:t._subjects.state}),D.useEffect(()=>(v.current=!0,V.current.isValid&&t._updateValid(!0),()=>{v.current=!1}),[t]),D.useMemo(()=>bt(u,t,V.current,!1),[u,t])}var J=e=>typeof e=="string",Vt=(e,r,t,i,n)=>J(e)?(i&&r.watch.add(e),d(t,e,n)):Array.isArray(e)?e.map(a=>(i&&r.watch.add(a),d(t,a))):(i&&(r.watchAll=!0),t);function er(e){const r=Ne(),{control:t=r.control,name:i,defaultValue:n,disabled:a,exact:u}=e,y=D.useRef(i);y.current=i,He({disabled:a,subject:t._subjects.values,next:F=>{Ft(y.current,F.name,u)&&V(R(Vt(y.current,t._names,F.values||t._formValues,!1,n)))}});const[v,V]=D.useState(t._getWatch(i,n));return D.useEffect(()=>t._removeUnmounted()),v}function tr(e){const r=Ne(),{name:t,disabled:i,control:n=r.control,shouldUnregister:a}=e,u=gt(n._names.array,t),y=er({control:n,name:t,defaultValue:d(n._formValues,t,d(n._defaultValues,t,e.defaultValue)),exact:!0}),v=Zt({control:n,name:t,exact:!0}),V=D.useRef(n.register(t,{...e.rules,value:y,...$(e.disabled)?{disabled:e.disabled}:{}})),F=D.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!d(v.errors,t)},isDirty:{enumerable:!0,get:()=>!!d(v.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!d(v.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!d(v.validatingFields,t)},error:{enumerable:!0,get:()=>d(v.errors,t)}}),[v,t]),x=D.useMemo(()=>({name:t,value:y,...$(i)||v.disabled?{disabled:v.disabled||i}:{},onChange:L=>V.current.onChange({target:{value:mt(L),name:t},type:Se.CHANGE}),onBlur:()=>V.current.onBlur({target:{value:d(n._formValues,t),name:t},type:Se.BLUR}),ref:L=>{const K=d(n._fields,t);K&&L&&(K._f.ref={focus:()=>L.focus(),select:()=>L.select(),setCustomValidity:I=>L.setCustomValidity(I),reportValidity:()=>L.reportValidity()})}}),[t,n._formValues,i,v.disabled,y,n._fields]);return D.useEffect(()=>{const L=n._options.shouldUnregister||a,K=(I,O)=>{const P=d(n._fields,I);P&&P._f&&(P._f.mount=O)};if(K(t,!0),L){const I=R(d(n._options.defaultValues,t));A(n._defaultValues,t,I),S(d(n._formValues,t))&&A(n._formValues,t,I)}return!u&&n.register(t),()=>{(u?L&&!n._state.action:L)?n.unregister(t):K(t,!1)}},[t,n,u,a]),D.useEffect(()=>{n._updateDisabledField({disabled:i,fields:n._fields,name:t})},[i,t,n]),D.useMemo(()=>({field:x,formState:v,fieldState:F}),[x,v,F])}const rr=e=>e.render(tr(e));var wt=(e,r,t,i,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:n||!0}}:{},it=e=>({isOnSubmit:!e||e===z.onSubmit,isOnBlur:e===z.onBlur,isOnChange:e===z.onChange,isOnAll:e===z.all,isOnTouch:e===z.onTouched}),nt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const _e=(e,r,t,i)=>{for(const n of t||Object.keys(e)){const a=d(e,n);if(a){const{_f:u,...y}=a;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],n)&&!i)return!0;if(u.ref&&r(u.ref,u.name)&&!i)return!0;if(_e(y,r))break}else if(C(y)&&_e(y,r))break}}};var sr=(e,r,t)=>{const i=be(d(e,t));return A(i,"root",r[t]),A(e,t,i),e},ze=e=>e.type==="file",G=e=>typeof e=="function",Ce=e=>{if(!qe)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},De=e=>J(e),Ke=e=>e.type==="radio",Ee=e=>e instanceof RegExp;const at={value:!1,isValid:!1},ot={value:!0,isValid:!0};var pt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!S(e[0].attributes.value)?S(e[0].value)||e[0].value===""?ot:{value:e[0].value,isValid:!0}:ot:at}return at};const lt={isValid:!1,value:null};var At=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,lt):lt;function ut(e,r,t="validate"){if(De(e)||Array.isArray(e)&&e.every(De)||$(e)&&!e)return{type:t,message:De(e)?e:"",ref:r}}var ue=e=>C(e)&&!Ee(e)?e:{value:e,message:""},ct=async(e,r,t,i,n,a)=>{const{ref:u,refs:y,required:v,maxLength:V,minLength:F,min:x,max:L,pattern:K,validate:I,name:O,valueAsNumber:P,mount:te}=e._f,w=d(t,O);if(!te||r.has(O))return{};const Y=y?y[0]:u,Q=_=>{n&&Y.reportValidity&&(Y.setCustomValidity($(_)?"":_||""),Y.reportValidity())},E={},oe=Ke(u),pe=we(u),ne=oe||pe,le=(P||ze(u))&&S(u.value)&&S(w)||Ce(u)&&u.value===""||w===""||Array.isArray(w)&&!w.length,W=wt.bind(null,O,i,E),Ae=(_,p,j,M=Z.maxLength,H=Z.minLength)=>{const q=_?p:j;E[O]={type:_?M:H,message:q,ref:u,...W(_?M:H,q)}};if(a?!Array.isArray(w)||!w.length:v&&(!ne&&(le||U(w))||$(w)&&!w||pe&&!pt(y).isValid||oe&&!At(y).isValid)){const{value:_,message:p}=De(v)?{value:!!v,message:v}:ue(v);if(_&&(E[O]={type:Z.required,message:p,ref:Y,...W(Z.required,p)},!i))return Q(p),E}if(!le&&(!U(x)||!U(L))){let _,p;const j=ue(L),M=ue(x);if(!U(w)&&!isNaN(w)){const H=u.valueAsNumber||w&&+w;U(j.value)||(_=H>j.value),U(M.value)||(p=H<M.value)}else{const H=u.valueAsDate||new Date(w),q=me=>new Date(new Date().toDateString()+" "+me),ye=u.type=="time",he=u.type=="week";J(j.value)&&w&&(_=ye?q(w)>q(j.value):he?w>j.value:H>new Date(j.value)),J(M.value)&&w&&(p=ye?q(w)<q(M.value):he?w<M.value:H<new Date(M.value))}if((_||p)&&(Ae(!!_,j.message,M.message,Z.max,Z.min),!i))return Q(E[O].message),E}if((V||F)&&!le&&(J(w)||a&&Array.isArray(w))){const _=ue(V),p=ue(F),j=!U(_.value)&&w.length>+_.value,M=!U(p.value)&&w.length<+p.value;if((j||M)&&(Ae(j,_.message,p.message),!i))return Q(E[O].message),E}if(K&&!le&&J(w)){const{value:_,message:p}=ue(K);if(Ee(_)&&!w.match(_)&&(E[O]={type:Z.pattern,message:p,ref:u,...W(Z.pattern,p)},!i))return Q(p),E}if(I){if(G(I)){const _=await I(w,t),p=ut(_,Y);if(p&&(E[O]={...p,...W(Z.validate,p.message)},!i))return Q(p.message),E}else if(C(I)){let _={};for(const p in I){if(!B(_)&&!i)break;const j=ut(await I[p](w,t),Y,p);j&&(_={...j,...W(p,j.message)},Q(j.message),i&&(E[O]=_))}if(!B(_)&&(E[O]={ref:Y,..._},!i))return E}}return Q(!0),E};function ir(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=S(e)?i++:e[r[i++]];return e}function nr(e){for(const r in e)if(e.hasOwnProperty(r)&&!S(e[r]))return!1;return!0}function k(e,r){const t=Array.isArray(r)?r:$e(r)?[r]:vt(r),i=t.length===1?e:ir(e,t),n=t.length-1,a=t[n];return i&&delete i[a],n!==0&&(C(i)&&B(i)||Array.isArray(i)&&nr(i))&&k(e,t.slice(0,-1)),e}var Re=()=>{let e=[];return{get observers(){return e},next:n=>{for(const a of e)a.next&&a.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(a=>a!==n)}}),unsubscribe:()=>{e=[]}}},We=e=>U(e)||!ht(e);function ie(e,r){if(We(e)||We(r))return e===r;if(ae(e)&&ae(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const n of t){const a=e[n];if(!i.includes(n))return!1;if(n!=="ref"){const u=r[n];if(ae(a)&&ae(u)||C(a)&&C(u)||Array.isArray(a)&&Array.isArray(u)?!ie(a,u):a!==u)return!1}}return!0}var Dt=e=>e.type==="select-multiple",ar=e=>Ke(e)||we(e),Be=e=>Ce(e)&&e.isConnected,St=e=>{for(const r in e)if(G(e[r]))return!0;return!1};function je(e,r={}){const t=Array.isArray(e);if(C(e)||t)for(const i in e)Array.isArray(e[i])||C(e[i])&&!St(e[i])?(r[i]=Array.isArray(e[i])?[]:{},je(e[i],r[i])):U(e[i])||(r[i]=!0);return r}function Ct(e,r,t){const i=Array.isArray(e);if(C(e)||i)for(const n in e)Array.isArray(e[n])||C(e[n])&&!St(e[n])?S(r)||We(t[n])?t[n]=Array.isArray(e[n])?je(e[n],[]):{...je(e[n])}:Ct(e[n],U(r)?{}:r[n],t[n]):t[n]=!ie(e[n],r[n]);return t}var ge=(e,r)=>Ct(e,r,je(r)),Et=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>S(e)?e:r?e===""?NaN:e&&+e:t&&J(e)?new Date(e):i?i(e):e;function Pe(e){const r=e.ref;return ze(r)?r.files:Ke(r)?At(e.refs).value:Dt(r)?[...r.selectedOptions].map(({value:t})=>t):we(r)?pt(e.refs).value:Et(S(r.value)?e.ref.value:r.value,e)}var or=(e,r,t,i)=>{const n={};for(const a of e){const u=d(r,a);u&&A(n,a,u._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:i}},ve=e=>S(e)?e:Ee(e)?e.source:C(e)?Ee(e.value)?e.value.source:e.value:e;const dt="AsyncFunction";var lr=e=>!!e&&!!e.validate&&!!(G(e.validate)&&e.validate.constructor.name===dt||C(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===dt)),ur=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ft(e,r,t){const i=d(e,t);if(i||$e(t))return{error:i,name:t};const n=t.split(".");for(;n.length;){const a=n.join("."),u=d(r,a),y=d(e,a);if(u&&!Array.isArray(u)&&t!==a)return{name:t};if(y&&y.type)return{name:a,error:y};n.pop()}return{name:t}}var cr=(e,r,t,i,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?i.isOnBlur:n.isOnBlur)?!e:(t?i.isOnChange:n.isOnChange)?e:!0,dr=(e,r)=>!Te(d(e,r)).length&&k(e,r);const fr={mode:z.onSubmit,reValidateMode:z.onChange,shouldFocusError:!0};function yr(e={}){let r={...fr,...e},t={submitCount:0,isDirty:!1,isLoading:G(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},n=C(r.defaultValues)||C(r.values)?R(r.defaultValues||r.values)||{}:{},a=r.shouldUnregister?{}:R(n),u={action:!1,mount:!1,watch:!1},y={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},v,V=0;const F={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={values:Re(),array:Re(),state:Re()},L=it(r.mode),K=it(r.reValidateMode),I=r.criteriaMode===z.all,O=s=>o=>{clearTimeout(V),V=setTimeout(s,o)},P=async s=>{if(!r.disabled&&(F.isValid||s)){const o=r.resolver?B((await ne()).errors):await W(i,!0);o!==t.isValid&&x.state.next({isValid:o})}},te=(s,o)=>{!r.disabled&&(F.isValidating||F.validatingFields)&&((s||Array.from(y.mount)).forEach(l=>{l&&(o?A(t.validatingFields,l,o):k(t.validatingFields,l))}),x.state.next({validatingFields:t.validatingFields,isValidating:!B(t.validatingFields)}))},w=(s,o=[],l,h,f=!0,c=!0)=>{if(h&&l&&!r.disabled){if(u.action=!0,c&&Array.isArray(d(i,s))){const g=l(d(i,s),h.argA,h.argB);f&&A(i,s,g)}if(c&&Array.isArray(d(t.errors,s))){const g=l(d(t.errors,s),h.argA,h.argB);f&&A(t.errors,s,g),dr(t.errors,s)}if(F.touchedFields&&c&&Array.isArray(d(t.touchedFields,s))){const g=l(d(t.touchedFields,s),h.argA,h.argB);f&&A(t.touchedFields,s,g)}F.dirtyFields&&(t.dirtyFields=ge(n,a)),x.state.next({name:s,isDirty:_(s,o),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(a,s,o)},Y=(s,o)=>{A(t.errors,s,o),x.state.next({errors:t.errors})},Q=s=>{t.errors=s,x.state.next({errors:t.errors,isValid:!1})},E=(s,o,l,h)=>{const f=d(i,s);if(f){const c=d(a,s,S(l)?d(n,s):l);S(c)||h&&h.defaultChecked||o?A(a,s,o?c:Pe(f._f)):M(s,c),u.mount&&P()}},oe=(s,o,l,h,f)=>{let c=!1,g=!1;const b={name:s};if(!r.disabled){const T=!!(d(i,s)&&d(i,s)._f&&d(i,s)._f.disabled);if(!l||h){F.isDirty&&(g=t.isDirty,t.isDirty=b.isDirty=_(),c=g!==b.isDirty);const N=T||ie(d(n,s),o);g=!!(!T&&d(t.dirtyFields,s)),N||T?k(t.dirtyFields,s):A(t.dirtyFields,s,!0),b.dirtyFields=t.dirtyFields,c=c||F.dirtyFields&&g!==!N}if(l){const N=d(t.touchedFields,s);N||(A(t.touchedFields,s,l),b.touchedFields=t.touchedFields,c=c||F.touchedFields&&N!==l)}c&&f&&x.state.next(b)}return c?b:{}},pe=(s,o,l,h)=>{const f=d(t.errors,s),c=F.isValid&&$(o)&&t.isValid!==o;if(r.delayError&&l?(v=O(()=>Y(s,l)),v(r.delayError)):(clearTimeout(V),v=null,l?A(t.errors,s,l):k(t.errors,s)),(l?!ie(f,l):f)||!B(h)||c){const g={...h,...c&&$(o)?{isValid:o}:{},errors:t.errors,name:s};t={...t,...g},x.state.next(g)}},ne=async s=>{te(s,!0);const o=await r.resolver(a,r.context,or(s||y.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return te(s),o},le=async s=>{const{errors:o}=await ne(s);if(s)for(const l of s){const h=d(o,l);h?A(t.errors,l,h):k(t.errors,l)}else t.errors=o;return o},W=async(s,o,l={valid:!0})=>{for(const h in s){const f=s[h];if(f){const{_f:c,...g}=f;if(c){const b=y.array.has(c.name),T=f._f&&lr(f._f);T&&F.validatingFields&&te([h],!0);const N=await ct(f,y.disabled,a,I,r.shouldUseNativeValidation&&!o,b);if(T&&F.validatingFields&&te([h]),N[c.name]&&(l.valid=!1,o))break;!o&&(d(N,c.name)?b?sr(t.errors,N,c.name):A(t.errors,c.name,N[c.name]):k(t.errors,c.name))}!B(g)&&await W(g,o,l)}}return l.valid},Ae=()=>{for(const s of y.unMount){const o=d(i,s);o&&(o._f.refs?o._f.refs.every(l=>!Be(l)):!Be(o._f.ref))&&Ie(s)}y.unMount=new Set},_=(s,o)=>!r.disabled&&(s&&o&&A(a,s,o),!ie(Ge(),n)),p=(s,o,l)=>Vt(s,y,{...u.mount?a:S(o)?n:J(s)?{[s]:o}:o},l,o),j=s=>Te(d(u.mount?a:n,s,r.shouldUnregister?d(n,s,[]):[])),M=(s,o,l={})=>{const h=d(i,s);let f=o;if(h){const c=h._f;c&&(!c.disabled&&A(a,s,Et(o,c)),f=Ce(c.ref)&&U(o)?"":o,Dt(c.ref)?[...c.ref.options].forEach(g=>g.selected=f.includes(g.value)):c.refs?we(c.ref)?c.refs.length>1?c.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(f)?!!f.find(b=>b===g.value):f===g.value)):c.refs[0]&&(c.refs[0].checked=!!f):c.refs.forEach(g=>g.checked=g.value===f):ze(c.ref)?c.ref.value="":(c.ref.value=f,c.ref.type||x.values.next({name:s,values:{...a}})))}(l.shouldDirty||l.shouldTouch)&&oe(s,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&me(s)},H=(s,o,l)=>{for(const h in o){const f=o[h],c=`${s}.${h}`,g=d(i,c);(y.array.has(s)||C(f)||g&&!g._f)&&!ae(f)?H(c,f,l):M(c,f,l)}},q=(s,o,l={})=>{const h=d(i,s),f=y.array.has(s),c=R(o);A(a,s,c),f?(x.array.next({name:s,values:{...a}}),(F.isDirty||F.dirtyFields)&&l.shouldDirty&&x.state.next({name:s,dirtyFields:ge(n,a),isDirty:_(s,c)})):h&&!h._f&&!U(c)?H(s,c,l):M(s,c,l),nt(s,y)&&x.state.next({...t}),x.values.next({name:u.mount?s:void 0,values:{...a}})},ye=async s=>{u.mount=!0;const o=s.target;let l=o.name,h=!0;const f=d(i,l),c=()=>o.type?Pe(f._f):mt(s),g=b=>{h=Number.isNaN(b)||ae(b)&&isNaN(b.getTime())||ie(b,d(a,l,b))};if(f){let b,T;const N=c(),re=s.type===Se.BLUR||s.type===Se.FOCUS_OUT,Ot=!ur(f._f)&&!r.resolver&&!d(t.errors,l)&&!f._f.deps||cr(re,d(t.touchedFields,l),t.isSubmitted,K,L),Oe=nt(l,y,re);A(a,l,N),re?(f._f.onBlur&&f._f.onBlur(s),v&&v(0)):f._f.onChange&&f._f.onChange(s);const Ue=oe(l,N,re,!1),Ut=!B(Ue)||Oe;if(!re&&x.values.next({name:l,type:s.type,values:{...a}}),Ot)return F.isValid&&(r.mode==="onBlur"&&re?P():re||P()),Ut&&x.state.next({name:l,...Oe?{}:Ue});if(!re&&Oe&&x.state.next({...t}),r.resolver){const{errors:rt}=await ne([l]);if(g(N),h){const Rt=ft(t.errors,i,l),st=ft(rt,i,Rt.name||l);b=st.error,l=st.name,T=B(rt)}}else te([l],!0),b=(await ct(f,y.disabled,a,I,r.shouldUseNativeValidation))[l],te([l]),g(N),h&&(b?T=!1:F.isValid&&(T=await W(i,!0)));h&&(f._f.deps&&me(f._f.deps),pe(l,T,b,Ue))}},he=(s,o)=>{if(d(t.errors,o)&&s.focus)return s.focus(),1},me=async(s,o={})=>{let l,h;const f=be(s);if(r.resolver){const c=await le(S(s)?s:f);l=B(c),h=s?!f.some(g=>d(c,g)):l}else s?(h=(await Promise.all(f.map(async c=>{const g=d(i,c);return await W(g&&g._f?{[c]:g}:g)}))).every(Boolean),!(!h&&!t.isValid)&&P()):h=l=await W(i);return x.state.next({...!J(s)||F.isValid&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),o.shouldFocus&&!h&&_e(i,he,s?f:y.mount),h},Ge=s=>{const o={...u.mount?a:n};return S(s)?o:J(s)?d(o,s):s.map(l=>d(o,l))},Je=(s,o)=>({invalid:!!d((o||t).errors,s),isDirty:!!d((o||t).dirtyFields,s),error:d((o||t).errors,s),isValidating:!!d(t.validatingFields,s),isTouched:!!d((o||t).touchedFields,s)}),Nt=s=>{s&&be(s).forEach(o=>k(t.errors,o)),x.state.next({errors:s?t.errors:{}})},Ye=(s,o,l)=>{const h=(d(i,s,{_f:{}})._f||{}).ref,f=d(t.errors,s)||{},{ref:c,message:g,type:b,...T}=f;A(t.errors,s,{...T,...o,ref:h}),x.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&h&&h.focus&&h.focus()},Lt=(s,o)=>G(s)?x.values.subscribe({next:l=>s(p(void 0,o),l)}):p(s,o,!0),Ie=(s,o={})=>{for(const l of s?be(s):y.mount)y.mount.delete(l),y.array.delete(l),o.keepValue||(k(i,l),k(a,l)),!o.keepError&&k(t.errors,l),!o.keepDirty&&k(t.dirtyFields,l),!o.keepTouched&&k(t.touchedFields,l),!o.keepIsValidating&&k(t.validatingFields,l),!r.shouldUnregister&&!o.keepDefaultValue&&k(n,l);x.values.next({values:{...a}}),x.state.next({...t,...o.keepDirty?{isDirty:_()}:{}}),!o.keepIsValid&&P()},Qe=({disabled:s,name:o,field:l,fields:h})=>{($(s)&&u.mount||s||y.disabled.has(o))&&(s?y.disabled.add(o):y.disabled.delete(o),oe(o,Pe(l?l._f:d(h,o)._f),!1,!1,!0))},Me=(s,o={})=>{let l=d(i,s);const h=$(o.disabled)||$(r.disabled);return A(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...o}}),y.mount.add(s),l?Qe({field:l,disabled:$(o.disabled)?o.disabled:r.disabled,name:s}):E(s,!0,o.value),{...h?{disabled:o.disabled||r.disabled}:{},...r.progressive?{required:!!o.required,min:ve(o.min),max:ve(o.max),minLength:ve(o.minLength),maxLength:ve(o.maxLength),pattern:ve(o.pattern)}:{},name:s,onChange:ye,onBlur:ye,ref:f=>{if(f){Me(s,o),l=d(i,s);const c=S(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=ar(c),b=l._f.refs||[];if(g?b.find(T=>T===c):c===l._f.ref)return;A(i,s,{_f:{...l._f,...g?{refs:[...b.filter(Be),c,...Array.isArray(d(n,s))?[{}]:[]],ref:{type:c.type,name:s}}:{ref:c}}}),E(s,!1,void 0,c)}else l=d(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||o.shouldUnregister)&&!(gt(y.array,s)&&u.action)&&y.unMount.add(s)}}},Xe=()=>r.shouldFocusError&&_e(i,he,y.mount),It=s=>{$(s)&&(x.state.next({disabled:s}),_e(i,(o,l)=>{const h=d(i,l);h&&(o.disabled=h._f.disabled||s,Array.isArray(h._f.refs)&&h._f.refs.forEach(f=>{f.disabled=h._f.disabled||s}))},0,!1))},Ze=(s,o)=>async l=>{let h;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=R(a);if(y.disabled.size)for(const c of y.disabled)A(f,c,void 0);if(x.state.next({isSubmitting:!0}),r.resolver){const{errors:c,values:g}=await ne();t.errors=c,f=g}else await W(i);if(k(t.errors,"root"),B(t.errors)){x.state.next({errors:{}});try{await s(f,l)}catch(c){h=c}}else o&&await o({...t.errors},l),Xe(),setTimeout(Xe);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h},Mt=(s,o={})=>{d(i,s)&&(S(o.defaultValue)?q(s,R(d(n,s))):(q(s,o.defaultValue),A(n,s,R(o.defaultValue))),o.keepTouched||k(t.touchedFields,s),o.keepDirty||(k(t.dirtyFields,s),t.isDirty=o.defaultValue?_(s,R(d(n,s))):_()),o.keepError||(k(t.errors,s),F.isValid&&P()),x.state.next({...t}))},et=(s,o={})=>{const l=s?R(s):n,h=R(l),f=B(s),c=f?n:h;if(o.keepDefaultValues||(n=l),!o.keepValues){if(o.keepDirtyValues){const g=new Set([...y.mount,...Object.keys(ge(n,a))]);for(const b of Array.from(g))d(t.dirtyFields,b)?A(c,b,d(a,b)):q(b,d(c,b))}else{if(qe&&S(s))for(const g of y.mount){const b=d(i,g);if(b&&b._f){const T=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;if(Ce(T)){const N=T.closest("form");if(N){N.reset();break}}}}i={}}a=r.shouldUnregister?o.keepDefaultValues?R(n):{}:R(c),x.array.next({values:{...c}}),x.values.next({values:{...c}})}y={mount:o.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!F.isValid||!!o.keepIsValid||!!o.keepDirtyValues,u.watch=!!r.shouldUnregister,x.state.next({submitCount:o.keepSubmitCount?t.submitCount:0,isDirty:f?!1:o.keepDirty?t.isDirty:!!(o.keepDefaultValues&&!ie(s,n)),isSubmitted:o.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:o.keepDirtyValues?o.keepDefaultValues&&a?ge(n,a):t.dirtyFields:o.keepDefaultValues&&s?ge(n,s):o.keepDirty?t.dirtyFields:{},touchedFields:o.keepTouched?t.touchedFields:{},errors:o.keepErrors?t.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},tt=(s,o)=>et(G(s)?s(a):s,o);return{control:{register:Me,unregister:Ie,getFieldState:Je,handleSubmit:Ze,setError:Ye,_executeSchema:ne,_getWatch:p,_getDirty:_,_updateValid:P,_removeUnmounted:Ae,_updateFieldArray:w,_updateDisabledField:Qe,_getFieldArray:j,_reset:et,_resetDefaultValues:()=>G(r.defaultValues)&&r.defaultValues().then(s=>{tt(s,r.resetOptions),x.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:It,_subjects:x,_proxyFormState:F,_setErrors:Q,get _fields(){return i},get _formValues(){return a},get _state(){return u},set _state(s){u=s},get _defaultValues(){return n},get _names(){return y},set _names(s){y=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:me,register:Me,handleSubmit:Ze,watch:Lt,setValue:q,getValues:Ge,reset:tt,resetField:Mt,clearErrors:Nt,unregister:Ie,setError:Ye,setFocus:(s,o={})=>{const l=d(i,s),h=l&&l._f;if(h){const f=h.refs?h.refs[0]:h.ref;f.focus&&(f.focus(),o.shouldSelect&&G(f.select)&&f.select())}},getFieldState:Je}}function hr(e={}){const r=D.useRef(void 0),t=D.useRef(void 0),[i,n]=D.useState({isDirty:!1,isValidating:!1,isLoading:G(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:G(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...yr(e),formState:i});const a=r.current.control;return a._options=e,He({subject:a._subjects.state,next:u=>{_t(u,a._proxyFormState,a._updateFormState,!0)&&n({...a._formState})}}),D.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),D.useEffect(()=>{if(a._proxyFormState.isDirty){const u=a._getDirty();u!==i.isDirty&&a._subjects.state.next({isDirty:u})}},[a,i.isDirty]),D.useEffect(()=>{e.values&&!ie(e.values,t.current)?(a._reset(e.values,a._options.resetOptions),t.current=e.values,n(u=>({...u}))):a._resetDefaultValues()},[e.values,a]),D.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),D.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),D.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),r.current.formState=bt(i,a),r.current}const mr=Xt,jt=Ve.createContext({});function ce({...e}){return m.jsx(jt,{value:{name:e.name},children:m.jsx(rr,{...e})})}function Le(){const e=Ve.use(jt),r=Ve.use(kt),{getFieldState:t,formState:i}=Ne(),n=t(e.name,i);if(e==null)throw new Error("useFormField should be used within <FormField>");const{id:a}=r;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...n}}const kt=Ve.createContext({}),ee=({className:e,...r})=>{const t=Ve.useId();return m.jsx(kt,{value:{id:t},children:m.jsx("div",{className:ke("tw-space-y-2",e),...r})})};ee.displayName="FormItem";const de=({className:e,...r})=>{const{error:t,formItemId:i}=Le();return m.jsx($t,{className:ke(t&&"tw-text-destructive",e),htmlFor:i,...r})};de.displayName="FormLabel";const se=({...e})=>{const{error:r,formItemId:t,formDescriptionId:i,formMessageId:n}=Le();return m.jsx(Bt,{id:t,"aria-describedby":r?`${i} ${n}`:`${i}`,"aria-invalid":!!r,...e})};se.displayName="FormControl";const Fe=({className:e,...r})=>{const{formDescriptionId:t}=Le();return m.jsx("p",{id:t,className:ke("tw-text-sm tw-text-muted-foreground",e),...r})};Fe.displayName="FormDescription";const fe=({className:e,children:r,...t})=>{const{error:i,formMessageId:n}=Le(),a=r??(i==null?void 0:i.message);return a==null?null:m.jsx("p",{id:n,className:ke("tw-text-sm tw-font-medium tw-text-destructive",e),...t,children:a})};fe.displayName="FormMessage";function gr({value:e,onChange:r,label:t,description:i,disabled:n}){const a=v=>{let V=v.target.value;V&&!V.startsWith("#")&&(V=`#${V}`),r(V)},u=v=>{r(v.target.value.toUpperCase())},y=e??"";return m.jsxs(ee,{children:[m.jsx(de,{children:t}),m.jsx(se,{children:m.jsxs("div",{className:"tw-flex tw-gap-2",children:[m.jsx(xe,{disabled:n,type:"color",className:"tw-h-10 tw-w-14",value:e||"#000000",tabIndex:-1,onChange:u}),m.jsx(xe,{type:"text",disabled:n,className:"tw-font-mono",placeholder:"#000000",value:y,maxLength:7,onChange:a})]})}),m.jsx(Fe,{children:i}),m.jsx(fe,{})]})}function Lr({form:e,onSubmit:r,isPending:t,submitText:i,footer:n}){return m.jsx(mr,{...e,children:m.jsxs("form",{className:"tw-space-y-6",onSubmit:r,children:[m.jsx(ce,{control:e.control,disabled:t,name:"title",render:({field:a})=>m.jsxs(ee,{children:[m.jsx(de,{children:"Title"}),m.jsx(se,{children:m.jsx(xe,{placeholder:"Enter theme title",...a})}),m.jsx(fe,{})]})}),m.jsxs(ee,{children:[m.jsx(de,{children:"Font Families"}),m.jsxs("div",{className:"tw-grid tw-grid-cols-2 tw-gap-4",children:[m.jsx(ce,{control:e.control,disabled:t,name:"fonts.ui",render:({field:a})=>m.jsxs(ee,{children:[m.jsx(se,{children:m.jsx(xe,{className:"tw-font-mono",placeholder:"ui (e.g., Inter)",...a})}),m.jsx(fe,{})]})}),m.jsx(ce,{control:e.control,disabled:t,name:"fonts.mono",render:({field:a})=>m.jsxs(ee,{children:[m.jsx(se,{children:m.jsx(xe,{className:"tw-font-mono",placeholder:"monospace (e.g., JetBrains Mono, Fira Code)",...a})}),m.jsx(fe,{})]})})]}),m.jsx(Fe,{children:"Make sure entered fonts are installed on your system, or import them in the CSS section below."})]}),m.jsx(ce,{control:e.control,disabled:t,name:"accentColor",render:({field:a})=>m.jsx(ee,{children:m.jsx(se,{children:m.jsx(gr,{disabled:a.disabled,value:a.value,label:"Primary Color (only affects Dark Mode)",description:"Complexity will generate complementary shades based on provided color",onChange:a.onChange})})})}),m.jsx(ce,{control:e.control,name:"enhanceThreadTypography",disabled:t,render:({field:a})=>m.jsxs(ee,{className:"tw-flex tw-flex-row tw-items-center tw-justify-between",children:[m.jsxs("div",{className:"tw-space-y-0.5",children:[m.jsx(de,{children:"Enhance Typography (in Threads)"}),m.jsx(Fe,{children:"Emphasizes headings, bold text, make inline code more readable, and remove font ligatures."})]}),m.jsx(se,{children:m.jsx(Ht,{disabled:a.disabled,checked:a.value,onCheckedChange:({checked:u})=>a.onChange(u)})})]})}),m.jsx(ce,{control:e.control,disabled:t,name:"customCss",render:({field:a})=>m.jsxs(ee,{children:[m.jsx(de,{children:"Advanced: CSS"}),m.jsx(se,{children:m.jsx(zt,{placeholder:"Enter custom CSS rules",className:"tw-min-h-[300px] tw-font-mono",...a})}),m.jsx(Fe,{children:"Add custom CSS rules to further customize your theme"}),m.jsx(fe,{})]})}),m.jsxs("div",{className:"tw-flex tw-justify-end tw-gap-2",children:[n,m.jsx(qt,{type:"submit",disabled:t||!e.formState.isDirty,children:t?m.jsx(Pt,{className:"tw-size-4 tw-animate-spin"}):i})]})]})})}const yt=(e,r,t)=>{if(e&&"reportValidity"in e){const i=d(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Tt=(e,r)=>{for(const t in r.fields){const i=r.fields[t];i&&i.ref&&"reportValidity"in i.ref?yt(i.ref,t,e):i.refs&&i.refs.forEach(n=>yt(n,t,e))}},vr=(e,r)=>{r.shouldUseNativeValidation&&Tt(e,r);const t={};for(const i in e){const n=d(r.fields,i),a=Object.assign(e[i]||{},{ref:n&&n.ref});if(xr(r.names||Object.keys(e),i)){const u=Object.assign({},d(t,i));A(u,"root",a),A(t,i,u)}else A(t,i,a)}return t},xr=(e,r)=>e.some(t=>t.startsWith(r+"."));var br=function(e,r){for(var t={};e.length;){var i=e[0],n=i.code,a=i.message,u=i.path.join(".");if(!t[u])if("unionErrors"in i){var y=i.unionErrors[0].errors[0];t[u]={message:y.message,type:y.code}}else t[u]={message:a,type:n};if("unionErrors"in i&&i.unionErrors.forEach(function(F){return F.errors.forEach(function(x){return e.push(x)})}),r){var v=t[u].types,V=v&&v[i.code];t[u]=wt(u,r,t,n,V?[].concat(V,i.message):i.message)}e.shift()}return t},_r=function(e,r,t){return t===void 0&&(t={}),function(i,n,a){try{return Promise.resolve(function(u,y){try{var v=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,r)).then(function(V){return a.shouldUseNativeValidation&&Tt({},a),{errors:{},values:t.raw?i:V}})}catch(V){return y(V)}return v&&v.then?v.then(void 0,y):v}(0,function(u){if(function(y){return Array.isArray(y==null?void 0:y.errors)}(u))return{values:{},errors:vr(br(u.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw u}))}catch(u){return Promise.reject(u)}}};const Fr=X.object({title:X.string().min(1,{message:"Title is required"}),fonts:X.object({ui:X.string().default(""),mono:X.string().default("")}),accentColor:X.string().regex(/^#([0-9A-Fa-f]{6}|[0-9A-Fa-f]{3})$/,{message:"Must be a valid hex color (e.g. #72AEFD)"}).transform(e=>e.toUpperCase()).optional().or(X.literal("")),enhanceThreadTypography:X.boolean().default(!1),customCss:X.string()});function Ir(e){return{form:hr({resolver:_r(Fr),defaultValues:e,mode:"onChange"}),generateThemeData:async i=>{let n="";if(i.accentColor&&(n+=Kt(Gt(i.accentColor))),(i.fonts.ui||i.fonts.mono||i.enhanceThreadTypography)&&(n+=Jt({uiFont:i.fonts.ui,monoFont:i.fonts.mono})),i.enhanceThreadTypography&&(n+=(await Wt(async()=>{const{default:a}=await import("./cplx-CVsLL7Ku.js").then(u=>u.ab);return{default:a}},__vite__mapDeps([0,1,2,3,4]),import.meta.url)).default),n+=i.customCss,!i.accentColor&&!i.fonts.ui&&!i.fonts.mono&&!i.customCss)throw new Error("Please add at least one customization");return{css:n,title:i.title}}}}export{Lr as T,Ir as u};

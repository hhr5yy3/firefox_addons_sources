(()=>{var t={9662:(t,e,r)=>{var n=r(614),o=r(6330),u=TypeError;t.exports=function(t){if(n(t))return t;throw u(o(t)+" is not a function")}},9483:(t,e,r)=>{var n=r(4411),o=r(6330),u=TypeError;t.exports=function(t){if(n(t))return t;throw u(o(t)+" is not a constructor")}},6077:(t,e,r)=>{var n=r(614),o=String,u=TypeError;t.exports=function(t){if("object"==typeof t||n(t))return t;throw u("Can't set "+o(t)+" as a prototype")}},1223:(t,e,r)=>{var n=r(5112),o=r(30),u=r(3070).f,a=n("unscopables"),i=Array.prototype;null==i[a]&&u(i,a,{configurable:!0,value:o(null)}),t.exports=function(t){i[a][t]=!0}},1530:(t,e,r)=>{"use strict";var n=r(8710).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},5787:(t,e,r)=>{var n=r(7976),o=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw o("Incorrect invocation")}},9670:(t,e,r)=>{var n=r(111),o=String,u=TypeError;t.exports=function(t){if(n(t))return t;throw u(o(t)+" is not an object")}},4019:t=>{t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:(t,e,r)=>{"use strict";var n,o,u,a=r(4019),i=r(9781),s=r(7854),c=r(614),l=r(111),d=r(2597),f=r(648),D=r(6330),p=r(8880),h=r(8052),v=r(3070).f,y=r(7976),m=r(9518),A=r(7674),g=r(5112),w=r(9711),E=r(9909),C=E.enforce,F=E.get,b=s.Int8Array,_=b&&b.prototype,k=s.Uint8ClampedArray,S=k&&k.prototype,B=b&&m(b),x=_&&m(_),I=Object.prototype,T=s.TypeError,L=g("toStringTag"),O=w("TYPED_ARRAY_TAG"),P="TypedArrayConstructor",$=a&&!!A&&"Opera"!==f(s.opera),j=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M={BigInt64Array:8,BigUint64Array:8},N=function(t){var e=m(t);if(l(e)){var r=F(e);return r&&d(r,P)?r[P]:N(e)}},U=function(t){if(!l(t))return!1;var e=f(t);return d(R,e)||d(M,e)};for(n in R)(u=(o=s[n])&&o.prototype)?C(u)[P]=o:$=!1;for(n in M)(u=(o=s[n])&&o.prototype)&&(C(u)[P]=o);if((!$||!c(B)||B===Function.prototype)&&(B=function(){throw T("Incorrect invocation")},$))for(n in R)s[n]&&A(s[n],B);if((!$||!x||x===I)&&(x=B.prototype,$))for(n in R)s[n]&&A(s[n].prototype,x);if($&&m(S)!==x&&A(S,x),i&&!d(x,L))for(n in j=!0,v(x,L,{get:function(){return l(this)?this[O]:void 0}}),R)s[n]&&p(s[n],O,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:$,TYPED_ARRAY_TAG:j&&O,aTypedArray:function(t){if(U(t))return t;throw T("Target is not a typed array")},aTypedArrayConstructor:function(t){if(c(t)&&(!A||y(B,t)))return t;throw T(D(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,n){if(i){if(r)for(var o in R){var u=s[o];if(u&&d(u.prototype,t))try{delete u.prototype[t]}catch(r){try{u.prototype[t]=e}catch(t){}}}x[t]&&!r||h(x,t,r?e:$&&_[t]||e,n)}},exportTypedArrayStaticMethod:function(t,e,r){var n,o;if(i){if(A){if(r)for(n in R)if((o=s[n])&&d(o,t))try{delete o[t]}catch(t){}if(B[t]&&!r)return;try{return h(B,t,r?e:$&&B[t]||e)}catch(t){}}for(n in R)!(o=s[n])||o[t]&&!r||h(o,t,e)}},getTypedArrayConstructor:N,isView:function(t){if(!l(t))return!1;var e=f(t);return"DataView"===e||d(R,e)||d(M,e)},isTypedArray:U,TypedArray:B,TypedArrayPrototype:x}},1318:(t,e,r)=>{var n=r(5656),o=r(1400),u=r(6244),a=function(t){return function(e,r,a){var i,s=n(e),c=u(s),l=o(a,c);if(t&&r!=r){for(;c>l;)if((i=s[l++])!=i)return!0}else for(;c>l;l++)if((t||l in s)&&s[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},9671:(t,e,r)=>{var n=r(9974),o=r(8361),u=r(7908),a=r(6244),i=function(t){var e=1==t;return function(r,i,s){for(var c,l=u(r),d=o(l),f=n(i,s),D=a(d);D-- >0;)if(f(c=d[D],D,l))switch(t){case 0:return c;case 1:return D}return e?-1:void 0}};t.exports={findLast:i(0),findLastIndex:i(1)}},9341:(t,e,r)=>{"use strict";var n=r(7293);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){return 1},1)}))}},1589:(t,e,r)=>{var n=r(1400),o=r(6244),u=r(6135),a=Array,i=Math.max;t.exports=function(t,e,r){for(var s=o(t),c=n(e,s),l=n(void 0===r?s:r,s),d=a(i(l-c,0)),f=0;c<l;c++,f++)u(d,f,t[c]);return d.length=f,d}},206:(t,e,r)=>{var n=r(1702);t.exports=n([].slice)},4362:(t,e,r)=>{var n=r(1589),o=Math.floor,u=function(t,e){var r=t.length,s=o(r/2);return r<8?a(t,e):i(t,u(n(t,0,s),e),u(n(t,s),e),e)},a=function(t,e){for(var r,n,o=t.length,u=1;u<o;){for(n=u,r=t[u];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==u++&&(t[n]=r)}return t},i=function(t,e,r,n){for(var o=e.length,u=r.length,a=0,i=0;a<o||i<u;)t[a+i]=a<o&&i<u?n(e[a],r[i])<=0?e[a++]:r[i++]:a<o?e[a++]:r[i++];return t};t.exports=u},7475:(t,e,r)=>{var n=r(3157),o=r(4411),u=r(111),a=r(5112)("species"),i=Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,(o(e)&&(e===i||n(e.prototype))||u(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?i:e}},5417:(t,e,r)=>{var n=r(7475);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},7072:(t,e,r)=>{var n=r(5112)("iterator"),o=!1;try{var u=0,a={next:function(){return{done:!!u++}},return:function(){o=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var u={};u[n]=function(){return{next:function(){return{done:r=!0}}}},t(u)}catch(t){}return r}},4326:(t,e,r)=>{var n=r(1702),o=n({}.toString),u=n("".slice);t.exports=function(t){return u(o(t),8,-1)}},648:(t,e,r)=>{var n=r(1694),o=r(614),u=r(4326),a=r(5112)("toStringTag"),i=Object,s="Arguments"==u(function(){return arguments}());t.exports=n?u:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=i(t),a))?r:s?u(e):"Object"==(n=u(e))&&o(e.callee)?"Arguments":n}},7741:(t,e,r)=>{var n=r(1702),o=Error,u=n("".replace),a=String(o("zxcasd").stack),i=/\n\s*at [^:]*:[^\n]*/,s=i.test(a);t.exports=function(t,e){if(s&&"string"==typeof t&&!o.prepareStackTrace)for(;e--;)t=u(t,i,"");return t}},9920:(t,e,r)=>{var n=r(2597),o=r(3887),u=r(1236),a=r(3070);t.exports=function(t,e,r){for(var i=o(e),s=a.f,c=u.f,l=0;l<i.length;l++){var d=i[l];n(t,d)||r&&n(r,d)||s(t,d,c(e,d))}}},8544:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:(t,e,r)=>{"use strict";var n=r(3383).IteratorPrototype,o=r(30),u=r(9114),a=r(8003),i=r(7497),s=function(){return this};t.exports=function(t,e,r,c){var l=e+" Iterator";return t.prototype=o(n,{next:u(+!c,r)}),a(t,l,!1,!0),i[l]=s,t}},8880:(t,e,r)=>{var n=r(9781),o=r(3070),u=r(9114);t.exports=n?function(t,e,r){return o.f(t,e,u(1,r))}:function(t,e,r){return t[e]=r,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:(t,e,r)=>{"use strict";var n=r(4948),o=r(3070),u=r(9114);t.exports=function(t,e,r){var a=n(e);a in t?o.f(t,a,u(0,r)):t[a]=r}},8052:(t,e,r)=>{var n=r(614),o=r(3070),u=r(6339),a=r(3072);t.exports=function(t,e,r,i){i||(i={});var s=i.enumerable,c=void 0!==i.name?i.name:e;if(n(r)&&u(r,c,i),i.global)s?t[e]=r:a(e,r);else{try{i.unsafe?t[e]&&(s=!0):delete t[e]}catch(t){}s?t[e]=r:o.f(t,e,{value:r,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return t}},3072:(t,e,r)=>{var n=r(7854),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},654:(t,e,r)=>{"use strict";var n=r(2109),o=r(6916),u=r(1913),a=r(6530),i=r(614),s=r(4994),c=r(9518),l=r(7674),d=r(8003),f=r(8880),D=r(8052),p=r(5112),h=r(7497),v=r(3383),y=a.PROPER,m=a.CONFIGURABLE,A=v.IteratorPrototype,g=v.BUGGY_SAFARI_ITERATORS,w=p("iterator"),E="keys",C="values",F="entries",b=function(){return this};t.exports=function(t,e,r,a,p,v,_){s(r,e,a);var k,S,B,x=function(t){if(t===p&&P)return P;if(!g&&t in L)return L[t];switch(t){case E:case C:case F:return function(){return new r(this,t)}}return function(){return new r(this)}},I=e+" Iterator",T=!1,L=t.prototype,O=L[w]||L["@@iterator"]||p&&L[p],P=!g&&O||x(p),$="Array"==e&&L.entries||O;if($&&(k=c($.call(new t)))!==Object.prototype&&k.next&&(u||c(k)===A||(l?l(k,A):i(k[w])||D(k,w,b)),d(k,I,!0,!0),u&&(h[I]=b)),y&&p==C&&O&&O.name!==C&&(!u&&m?f(L,"name",C):(T=!0,P=function(){return o(O,this)})),p)if(S={values:x(C),keys:v?P:x(E),entries:x(F)},_)for(B in S)(g||T||!(B in L))&&D(L,B,S[B]);else n({target:e,proto:!0,forced:g||T},S);return u&&!_||L[w]===P||D(L,w,P,{name:p}),h[e]=P,S}},7235:(t,e,r)=>{var n=r(857),o=r(2597),u=r(6061),a=r(3070).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});o(e,t)||a(e,t,{value:u.f(t)})}},5117:(t,e,r)=>{"use strict";var n=r(6330),o=TypeError;t.exports=function(t,e){if(!delete t[e])throw o("Cannot delete property "+n(e)+" of "+n(t))}},9781:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,r)=>{var n=r(7854),o=r(111),u=n.document,a=o(u)&&o(u.createElement);t.exports=function(t){return a?u.createElement(t):{}}},7207:t=>{var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(t,e,r)=>{var n=r(317)("span").classList,o=n&&n.constructor&&n.constructor.prototype;t.exports=o===Object.prototype?void 0:o},8886:(t,e,r)=>{var n=r(8113).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},7871:t=>{t.exports="object"==typeof window&&"object"!=typeof Deno},256:(t,e,r)=>{var n=r(8113);t.exports=/MSIE|Trident/.test(n)},1528:(t,e,r)=>{var n=r(8113),o=r(7854);t.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==o.Pebble},6833:(t,e,r)=>{var n=r(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},5268:(t,e,r)=>{var n=r(4326),o=r(7854);t.exports="process"==n(o.process)},1036:(t,e,r)=>{var n=r(8113);t.exports=/web0s(?!.*chrome)/i.test(n)},8113:(t,e,r)=>{var n=r(5005);t.exports=n("navigator","userAgent")||""},7392:(t,e,r)=>{var n,o,u=r(7854),a=r(8113),i=u.process,s=u.Deno,c=i&&i.versions||s&&s.version,l=c&&c.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=+n[1]),t.exports=o},8008:(t,e,r)=>{var n=r(8113).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:(t,e,r)=>{var n=r(7293),o=r(9114);t.exports=!n((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)}))},2109:(t,e,r)=>{var n=r(7854),o=r(1236).f,u=r(8880),a=r(8052),i=r(3072),s=r(9920),c=r(4705);t.exports=function(t,e){var r,l,d,f,D,p=t.target,h=t.global,v=t.stat;if(r=h?n:v?n[p]||i(p,{}):(n[p]||{}).prototype)for(l in e){if(f=e[l],d=t.dontCallGetSet?(D=o(r,l))&&D.value:r[l],!c(h?l:p+(v?".":"#")+l,t.forced)&&void 0!==d){if(typeof f==typeof d)continue;s(f,d)}(t.sham||d&&d.sham)&&u(f,"sham",!0),a(r,l,f,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:(t,e,r)=>{"use strict";r(4916);var n=r(1702),o=r(8052),u=r(2261),a=r(7293),i=r(5112),s=r(8880),c=i("species"),l=RegExp.prototype;t.exports=function(t,e,r,d){var f=i(t),D=!a((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),p=D&&!a((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return e=!0,null},r[f](""),!e}));if(!D||!p||r){var h=n(/./[f]),v=e(f,""[t],(function(t,e,r,o,a){var i=n(t),s=e.exec;return s===u||s===l.exec?D&&!a?{done:!0,value:h(e,r,o)}:{done:!0,value:i(r,e,o)}:{done:!1}}));o(String.prototype,t,v[0]),o(l,f,v[1])}d&&s(l[f],"sham",!0)}},6790:(t,e,r)=>{"use strict";var n=r(3157),o=r(6244),u=r(7207),a=r(9974),i=function(t,e,r,s,c,l,d,f){for(var D,p,h=c,v=0,y=!!d&&a(d,f);v<s;)v in r&&(D=y?y(r[v],v,e):r[v],l>0&&n(D)?(p=o(D),h=i(t,e,D,p,h,l-1)-1):(u(h+1),t[h]=D),h++),v++;return h};t.exports=i},2104:(t,e,r)=>{var n=r(4374),o=Function.prototype,u=o.apply,a=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(u):function(){return a.apply(u,arguments)})},9974:(t,e,r)=>{var n=r(1702),o=r(9662),u=r(4374),a=n(n.bind);t.exports=function(t,e){return o(t),void 0===e?t:u?a(t,e):function(){return t.apply(e,arguments)}}},4374:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:(t,e,r)=>{var n=r(4374),o=Function.prototype.call;t.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},6530:(t,e,r)=>{var n=r(9781),o=r(2597),u=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,i=o(u,"name"),s=i&&"something"===function(){}.name,c=i&&(!n||n&&a(u,"name").configurable);t.exports={EXISTS:i,PROPER:s,CONFIGURABLE:c}},1702:(t,e,r)=>{var n=r(4374),o=Function.prototype,u=o.bind,a=o.call,i=n&&u.bind(a,a);t.exports=n?function(t){return t&&i(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},5005:(t,e,r)=>{var n=r(7854),o=r(614);t.exports=function(t,e){return arguments.length<2?(r=n[t],o(r)?r:void 0):n[t]&&n[t][e];var r}},1246:(t,e,r)=>{var n=r(648),o=r(8173),u=r(7497),a=r(5112)("iterator");t.exports=function(t){if(null!=t)return o(t,a)||o(t,"@@iterator")||u[n(t)]}},8554:(t,e,r)=>{var n=r(6916),o=r(9662),u=r(9670),a=r(6330),i=r(1246),s=TypeError;t.exports=function(t,e){var r=arguments.length<2?i(t):e;if(o(r))return u(n(r,t));throw s(a(t)+" is not iterable")}},8173:(t,e,r)=>{var n=r(9662);t.exports=function(t,e){var r=t[e];return null==r?void 0:n(r)}},647:(t,e,r)=>{var n=r(1702),o=r(7908),u=Math.floor,a=n("".charAt),i=n("".replace),s=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,n,d,f){var D=r+t.length,p=n.length,h=l;return void 0!==d&&(d=o(d),h=c),i(f,h,(function(o,i){var c;switch(a(i,0)){case"$":return"$";case"&":return t;case"`":return s(e,0,r);case"'":return s(e,D);case"<":c=d[s(i,1,-1)];break;default:var l=+i;if(0===l)return o;if(l>p){var f=u(l/10);return 0===f?o:f<=p?void 0===n[f-1]?a(i,1):n[f-1]+a(i,1):o}c=n[l-1]}return void 0===c?"":c}))}},7854:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},2597:(t,e,r)=>{var n=r(1702),o=r(7908),u=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return u(o(t),e)}},3501:t=>{t.exports={}},842:(t,e,r)=>{var n=r(7854);t.exports=function(t,e){var r=n.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))}},490:(t,e,r)=>{var n=r(5005);t.exports=n("document","documentElement")},4664:(t,e,r)=>{var n=r(9781),o=r(7293),u=r(317);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,r)=>{var n=r(1702),o=r(7293),u=r(4326),a=Object,i=n("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==u(t)?i(t,""):a(t)}:a},9587:(t,e,r)=>{var n=r(614),o=r(111),u=r(7674);t.exports=function(t,e,r){var a,i;return u&&n(a=e.constructor)&&a!==r&&o(i=a.prototype)&&i!==r.prototype&&u(t,i),t}},2788:(t,e,r)=>{var n=r(1702),o=r(614),u=r(5465),a=n(Function.toString);o(u.inspectSource)||(u.inspectSource=function(t){return a(t)}),t.exports=u.inspectSource},8340:(t,e,r)=>{var n=r(111),o=r(8880);t.exports=function(t,e){n(e)&&"cause"in e&&o(t,"cause",e.cause)}},9909:(t,e,r)=>{var n,o,u,a=r(8536),i=r(7854),s=r(1702),c=r(111),l=r(8880),d=r(2597),f=r(5465),D=r(6200),p=r(3501),h="Object already initialized",v=i.TypeError,y=i.WeakMap;if(a||f.state){var m=f.state||(f.state=new y),A=s(m.get),g=s(m.has),w=s(m.set);n=function(t,e){if(g(m,t))throw new v(h);return e.facade=t,w(m,t,e),e},o=function(t){return A(m,t)||{}},u=function(t){return g(m,t)}}else{var E=D("state");p[E]=!0,n=function(t,e){if(d(t,E))throw new v(h);return e.facade=t,l(t,E,e),e},o=function(t){return d(t,E)?t[E]:{}},u=function(t){return d(t,E)}}t.exports={set:n,get:o,has:u,enforce:function(t){return u(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=o(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return r}}}},7659:(t,e,r)=>{var n=r(5112),o=r(7497),u=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[u]===t)}},3157:(t,e,r)=>{var n=r(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},614:t=>{t.exports=function(t){return"function"==typeof t}},4411:(t,e,r)=>{var n=r(1702),o=r(7293),u=r(614),a=r(648),i=r(5005),s=r(2788),c=function(){},l=[],d=i("Reflect","construct"),f=/^\s*(?:class|function)\b/,D=n(f.exec),p=!f.exec(c),h=function(t){if(!u(t))return!1;try{return d(c,l,t),!0}catch(t){return!1}},v=function(t){if(!u(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!D(f,s(t))}catch(t){return!0}};v.sham=!0,t.exports=!d||o((function(){var t;return h(h.call)||!h(Object)||!h((function(){t=!0}))||t}))?v:h},4705:(t,e,r)=>{var n=r(7293),o=r(614),u=/#|\.prototype\./,a=function(t,e){var r=s[i(t)];return r==l||r!=c&&(o(e)?n(e):!!e)},i=a.normalize=function(t){return String(t).replace(u,".").toLowerCase()},s=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},111:(t,e,r)=>{var n=r(614);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},1913:t=>{t.exports=!1},7850:(t,e,r)=>{var n=r(111),o=r(4326),u=r(5112)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[u])?!!e:"RegExp"==o(t))}},2190:(t,e,r)=>{var n=r(5005),o=r(614),u=r(7976),a=r(3307),i=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return o(e)&&u(e.prototype,i(t))}},408:(t,e,r)=>{var n=r(9974),o=r(6916),u=r(9670),a=r(6330),i=r(7659),s=r(6244),c=r(7976),l=r(8554),d=r(1246),f=r(9212),D=TypeError,p=function(t,e){this.stopped=t,this.result=e},h=p.prototype;t.exports=function(t,e,r){var v,y,m,A,g,w,E,C=r&&r.that,F=!(!r||!r.AS_ENTRIES),b=!(!r||!r.IS_ITERATOR),_=!(!r||!r.INTERRUPTED),k=n(e,C),S=function(t){return v&&f(v,"normal",t),new p(!0,t)},B=function(t){return F?(u(t),_?k(t[0],t[1],S):k(t[0],t[1])):_?k(t,S):k(t)};if(b)v=t;else{if(!(y=d(t)))throw D(a(t)+" is not iterable");if(i(y)){for(m=0,A=s(t);A>m;m++)if((g=B(t[m]))&&c(h,g))return g;return new p(!1)}v=l(t,y)}for(w=v.next;!(E=o(w,v)).done;){try{g=B(E.value)}catch(t){f(v,"throw",t)}if("object"==typeof g&&g&&c(h,g))return g}return new p(!1)}},9212:(t,e,r)=>{var n=r(6916),o=r(9670),u=r(8173);t.exports=function(t,e,r){var a,i;o(t);try{if(!(a=u(t,"return"))){if("throw"===e)throw r;return r}a=n(a,t)}catch(t){i=!0,a=t}if("throw"===e)throw r;if(i)throw a;return o(a),r}},3383:(t,e,r)=>{"use strict";var n,o,u,a=r(7293),i=r(614),s=r(30),c=r(9518),l=r(8052),d=r(5112),f=r(1913),D=d("iterator"),p=!1;[].keys&&("next"in(u=[].keys())?(o=c(c(u)))!==Object.prototype&&(n=o):p=!0),null==n||a((function(){var t={};return n[D].call(t)!==t}))?n={}:f&&(n=s(n)),i(n[D])||l(n,D,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},7497:t=>{t.exports={}},6244:(t,e,r)=>{var n=r(7466);t.exports=function(t){return n(t.length)}},6339:(t,e,r)=>{var n=r(7293),o=r(614),u=r(2597),a=r(9781),i=r(6530).CONFIGURABLE,s=r(2788),c=r(9909),l=c.enforce,d=c.get,f=Object.defineProperty,D=a&&!n((function(){return 8!==f((function(){}),"length",{value:8}).length})),p=String(String).split("String"),h=t.exports=function(t,e,r){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!u(t,"name")||i&&t.name!==e)&&(a?f(t,"name",{value:e,configurable:!0}):t.name=e),D&&r&&u(r,"arity")&&t.length!==r.arity&&f(t,"length",{value:r.arity});try{r&&u(r,"constructor")&&r.constructor?a&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=l(t);return u(n,"source")||(n.source=p.join("string"==typeof e?e:"")),t};Function.prototype.toString=h((function(){return o(this)&&d(this).source||s(this)}),"toString")},4758:t=>{var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},5948:(t,e,r)=>{var n,o,u,a,i,s,c,l,d=r(7854),f=r(9974),D=r(1236).f,p=r(261).set,h=r(6833),v=r(1528),y=r(1036),m=r(5268),A=d.MutationObserver||d.WebKitMutationObserver,g=d.document,w=d.process,E=d.Promise,C=D(d,"queueMicrotask"),F=C&&C.value;F||(n=function(){var t,e;for(m&&(t=w.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():u=void 0,t}}u=void 0,t&&t.enter()},h||m||y||!A||!g?!v&&E&&E.resolve?((c=E.resolve(void 0)).constructor=E,l=f(c.then,c),a=function(){l(n)}):m?a=function(){w.nextTick(n)}:(p=f(p,d),a=function(){p(n)}):(i=!0,s=g.createTextNode(""),new A(n).observe(s,{characterData:!0}),a=function(){s.data=i=!i})),t.exports=F||function(t){var e={fn:t,next:void 0};u&&(u.next=e),o||(o=e,a()),u=e}},133:(t,e,r)=>{var n=r(7392),o=r(7293);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8536:(t,e,r)=>{var n=r(7854),o=r(614),u=r(2788),a=n.WeakMap;t.exports=o(a)&&/native code/.test(u(a))},8523:(t,e,r)=>{"use strict";var n=r(9662),o=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new o(t)}},6277:(t,e,r)=>{var n=r(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},30:(t,e,r)=>{var n,o=r(9670),u=r(6048),a=r(748),i=r(3501),s=r(490),c=r(317),l=r(6200),d="prototype",f="script",D=l("IE_PROTO"),p=function(){},h=function(t){return"<"+f+">"+t+"</"+f+">"},v=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;y="undefined"!=typeof document?document.domain&&n?v(n):(e=c("iframe"),r="java"+f+":",e.style.display="none",s.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F):v(n);for(var o=a.length;o--;)delete y[d][a[o]];return y()};i[D]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(p[d]=o(t),r=new p,p[d]=null,r[D]=t):r=y(),void 0===e?r:u.f(r,e)}},6048:(t,e,r)=>{var n=r(9781),o=r(3353),u=r(3070),a=r(9670),i=r(5656),s=r(1956);e.f=n&&!o?Object.defineProperties:function(t,e){a(t);for(var r,n=i(e),o=s(e),c=o.length,l=0;c>l;)u.f(t,r=o[l++],n[r]);return t}},3070:(t,e,r)=>{var n=r(9781),o=r(4664),u=r(3353),a=r(9670),i=r(4948),s=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",D="writable";e.f=n?u?function(t,e,r){if(a(t),e=i(e),a(r),"function"==typeof t&&"prototype"===e&&"value"in r&&D in r&&!r[D]){var n=l(t,e);n&&n[D]&&(t[e]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:d in r?r[d]:n[d],writable:!1})}return c(t,e,r)}:c:function(t,e,r){if(a(t),e=i(e),a(r),o)try{return c(t,e,r)}catch(t){}if("get"in r||"set"in r)throw s("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:(t,e,r)=>{var n=r(9781),o=r(6916),u=r(5296),a=r(9114),i=r(5656),s=r(4948),c=r(2597),l=r(4664),d=Object.getOwnPropertyDescriptor;e.f=n?d:function(t,e){if(t=i(t),e=s(e),l)try{return d(t,e)}catch(t){}if(c(t,e))return a(!o(u.f,t,e),t[e])}},8006:(t,e,r)=>{var n=r(6324),o=r(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},9518:(t,e,r)=>{var n=r(2597),o=r(614),u=r(7908),a=r(6200),i=r(8544),s=a("IE_PROTO"),c=Object,l=c.prototype;t.exports=i?c.getPrototypeOf:function(t){var e=u(t);if(n(e,s))return e[s];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof c?l:null}},7976:(t,e,r)=>{var n=r(1702);t.exports=n({}.isPrototypeOf)},6324:(t,e,r)=>{var n=r(1702),o=r(2597),u=r(5656),a=r(1318).indexOf,i=r(3501),s=n([].push);t.exports=function(t,e){var r,n=u(t),c=0,l=[];for(r in n)!o(i,r)&&o(n,r)&&s(l,r);for(;e.length>c;)o(n,r=e[c++])&&(~a(l,r)||s(l,r));return l}},1956:(t,e,r)=>{var n=r(6324),o=r(748);t.exports=Object.keys||function(t){return n(t,o)}},5296:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},7674:(t,e,r)=>{var n=r(1702),o=r(9670),u=r(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return o(r),u(n),e?t(r,n):r.__proto__=n,r}}():void 0)},2140:(t,e,r)=>{var n=r(6916),o=r(614),u=r(111),a=TypeError;t.exports=function(t,e){var r,i;if("string"===e&&o(r=t.toString)&&!u(i=n(r,t)))return i;if(o(r=t.valueOf)&&!u(i=n(r,t)))return i;if("string"!==e&&o(r=t.toString)&&!u(i=n(r,t)))return i;throw a("Can't convert object to primitive value")}},3887:(t,e,r)=>{var n=r(5005),o=r(1702),u=r(8006),a=r(5181),i=r(9670),s=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=u.f(i(t)),r=a.f;return r?s(e,r(t)):e}},857:(t,e,r)=>{var n=r(7854);t.exports=n},2534:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},3702:(t,e,r)=>{var n=r(7854),o=r(2492),u=r(614),a=r(4705),i=r(2788),s=r(5112),c=r(7871),l=r(1913),d=r(7392),f=o&&o.prototype,D=s("species"),p=!1,h=u(n.PromiseRejectionEvent),v=a("Promise",(function(){var t=i(o),e=t!==String(o);if(!e&&66===d)return!0;if(l&&(!f.catch||!f.finally))return!0;if(d>=51&&/native code/.test(t))return!1;var r=new o((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[D]=n,!(p=r.then((function(){}))instanceof n)||!e&&c&&!h}));t.exports={CONSTRUCTOR:v,REJECTION_EVENT:h,SUBCLASSING:p}},2492:(t,e,r)=>{var n=r(7854);t.exports=n.Promise},9478:(t,e,r)=>{var n=r(9670),o=r(111),u=r(8523);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var r=u.f(t);return(0,r.resolve)(e),r.promise}},612:(t,e,r)=>{var n=r(2492),o=r(7072),u=r(3702).CONSTRUCTOR;t.exports=u||!o((function(t){n.all(t).then(void 0,(function(){}))}))},2626:(t,e,r)=>{var n=r(3070).f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},8572:t=>{var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=e},7651:(t,e,r)=>{var n=r(6916),o=r(9670),u=r(614),a=r(4326),i=r(2261),s=TypeError;t.exports=function(t,e){var r=t.exec;if(u(r)){var c=n(r,t,e);return null!==c&&o(c),c}if("RegExp"===a(t))return n(i,t,e);throw s("RegExp#exec called on incompatible receiver")}},2261:(t,e,r)=>{"use strict";var n,o,u=r(6916),a=r(1702),i=r(1340),s=r(7066),c=r(2999),l=r(2309),d=r(30),f=r(9909).get,D=r(9441),p=r(7168),h=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,y=v,m=a("".charAt),A=a("".indexOf),g=a("".replace),w=a("".slice),E=(o=/b*/g,u(v,n=/a/,"a"),u(v,o,"a"),0!==n.lastIndex||0!==o.lastIndex),C=c.BROKEN_CARET,F=void 0!==/()??/.exec("")[1];(E||F||C||D||p)&&(y=function(t){var e,r,n,o,a,c,l,D=this,p=f(D),b=i(t),_=p.raw;if(_)return _.lastIndex=D.lastIndex,e=u(y,_,b),D.lastIndex=_.lastIndex,e;var k=p.groups,S=C&&D.sticky,B=u(s,D),x=D.source,I=0,T=b;if(S&&(B=g(B,"y",""),-1===A(B,"g")&&(B+="g"),T=w(b,D.lastIndex),D.lastIndex>0&&(!D.multiline||D.multiline&&"\n"!==m(b,D.lastIndex-1))&&(x="(?: "+x+")",T=" "+T,I++),r=new RegExp("^(?:"+x+")",B)),F&&(r=new RegExp("^"+x+"$(?!\\s)",B)),E&&(n=D.lastIndex),o=u(v,S?r:D,T),S?o?(o.input=w(o.input,I),o[0]=w(o[0],I),o.index=D.lastIndex,D.lastIndex+=o[0].length):D.lastIndex=0:E&&o&&(D.lastIndex=D.global?o.index+o[0].length:n),F&&o&&o.length>1&&u(h,o[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&k)for(o.groups=c=d(null),a=0;a<k.length;a++)c[(l=k[a])[0]]=o[l[1]];return o}),t.exports=y},7066:(t,e,r)=>{"use strict";var n=r(9670);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},4706:(t,e,r)=>{var n=r(6916),o=r(2597),u=r(7976),a=r(7066),i=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in i||o(t,"flags")||!u(i,t)?e:n(a,t)}},2999:(t,e,r)=>{var n=r(7293),o=r(7854).RegExp,u=n((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a=u||n((function(){return!o("a","y").sticky})),i=u||n((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:i,MISSED_STICKY:a,UNSUPPORTED_Y:u}},9441:(t,e,r)=>{var n=r(7293),o=r(7854).RegExp;t.exports=n((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:(t,e,r)=>{var n=r(7293),o=r(7854).RegExp;t.exports=n((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:t=>{var e=TypeError;t.exports=function(t){if(null==t)throw e("Can't call method on "+t);return t}},6340:(t,e,r)=>{"use strict";var n=r(5005),o=r(3070),u=r(5112),a=r(9781),i=u("species");t.exports=function(t){var e=n(t),r=o.f;a&&e&&!e[i]&&r(e,i,{configurable:!0,get:function(){return this}})}},8003:(t,e,r)=>{var n=r(3070).f,o=r(2597),u=r(5112)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!o(t,u)&&n(t,u,{configurable:!0,value:e})}},6200:(t,e,r)=>{var n=r(2309),o=r(9711),u=n("keys");t.exports=function(t){return u[t]||(u[t]=o(t))}},5465:(t,e,r)=>{var n=r(7854),o=r(3072),u="__core-js_shared__",a=n[u]||o(u,{});t.exports=a},2309:(t,e,r)=>{var n=r(1913),o=r(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.23.3",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(t,e,r)=>{var n=r(9670),o=r(9483),u=r(5112)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||null==(r=n(a)[u])?e:o(r)}},8710:(t,e,r)=>{var n=r(1702),o=r(9303),u=r(1340),a=r(4488),i=n("".charAt),s=n("".charCodeAt),c=n("".slice),l=function(t){return function(e,r){var n,l,d=u(a(e)),f=o(r),D=d.length;return f<0||f>=D?t?"":void 0:(n=s(d,f))<55296||n>56319||f+1===D||(l=s(d,f+1))<56320||l>57343?t?i(d,f):n:t?c(d,f,f+2):l-56320+(n-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},261:(t,e,r)=>{var n,o,u,a,i=r(7854),s=r(2104),c=r(9974),l=r(614),d=r(2597),f=r(7293),D=r(490),p=r(206),h=r(317),v=r(8053),y=r(6833),m=r(5268),A=i.setImmediate,g=i.clearImmediate,w=i.process,E=i.Dispatch,C=i.Function,F=i.MessageChannel,b=i.String,_=0,k={},S="onreadystatechange";try{n=i.location}catch(t){}var B=function(t){if(d(k,t)){var e=k[t];delete k[t],e()}},x=function(t){return function(){B(t)}},I=function(t){B(t.data)},T=function(t){i.postMessage(b(t),n.protocol+"//"+n.host)};A&&g||(A=function(t){v(arguments.length,1);var e=l(t)?t:C(t),r=p(arguments,1);return k[++_]=function(){s(e,void 0,r)},o(_),_},g=function(t){delete k[t]},m?o=function(t){w.nextTick(x(t))}:E&&E.now?o=function(t){E.now(x(t))}:F&&!y?(a=(u=new F).port2,u.port1.onmessage=I,o=c(a.postMessage,a)):i.addEventListener&&l(i.postMessage)&&!i.importScripts&&n&&"file:"!==n.protocol&&!f(T)?(o=T,i.addEventListener("message",I,!1)):o=S in h("script")?function(t){D.appendChild(h("script"))[S]=function(){D.removeChild(this),B(t)}}:function(t){setTimeout(x(t),0)}),t.exports={set:A,clear:g}},1400:(t,e,r)=>{var n=r(9303),o=Math.max,u=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):u(r,e)}},5656:(t,e,r)=>{var n=r(8361),o=r(4488);t.exports=function(t){return n(o(t))}},9303:(t,e,r)=>{var n=r(4758);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},7466:(t,e,r)=>{var n=r(9303),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},7908:(t,e,r)=>{var n=r(4488),o=Object;t.exports=function(t){return o(n(t))}},4590:(t,e,r)=>{var n=r(3002),o=RangeError;t.exports=function(t,e){var r=n(t);if(r%e)throw o("Wrong offset");return r}},3002:(t,e,r)=>{var n=r(9303),o=RangeError;t.exports=function(t){var e=n(t);if(e<0)throw o("The argument can't be less than 0");return e}},7593:(t,e,r)=>{var n=r(6916),o=r(111),u=r(2190),a=r(8173),i=r(2140),s=r(5112),c=TypeError,l=s("toPrimitive");t.exports=function(t,e){if(!o(t)||u(t))return t;var r,s=a(t,l);if(s){if(void 0===e&&(e="default"),r=n(s,t,e),!o(r)||u(r))return r;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),i(t,e)}},4948:(t,e,r)=>{var n=r(7593),o=r(2190);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+""}},1694:(t,e,r)=>{var n={};n[r(5112)("toStringTag")]="z",t.exports="[object z]"===String(n)},1340:(t,e,r)=>{var n=r(648),o=String;t.exports=function(t){if("Symbol"===n(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},6330:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},9711:(t,e,r)=>{var n=r(1702),o=0,u=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+u,36)}},3307:(t,e,r)=>{var n=r(133);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(t,e,r)=>{var n=r(9781),o=r(7293);t.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:t=>{var e=TypeError;t.exports=function(t,r){if(t<r)throw e("Not enough arguments");return t}},6061:(t,e,r)=>{var n=r(5112);e.f=n},5112:(t,e,r)=>{var n=r(7854),o=r(2309),u=r(2597),a=r(9711),i=r(133),s=r(3307),c=o("wks"),l=n.Symbol,d=l&&l.for,f=s?l:l&&l.withoutSetter||a;t.exports=function(t){if(!u(c,t)||!i&&"string"!=typeof c[t]){var e="Symbol."+t;i&&u(l,t)?c[t]=l[t]:c[t]=s&&d?d(e):f(e)}return c[t]}},9191:(t,e,r)=>{"use strict";var n=r(5005),o=r(2597),u=r(8880),a=r(7976),i=r(7674),s=r(9920),c=r(2626),l=r(9587),d=r(6277),f=r(8340),D=r(7741),p=r(2914),h=r(9781),v=r(1913);t.exports=function(t,e,r,y){var m="stackTraceLimit",A=y?2:1,g=t.split("."),w=g[g.length-1],E=n.apply(null,g);if(E){var C=E.prototype;if(!v&&o(C,"cause")&&delete C.cause,!r)return E;var F=n("Error"),b=e((function(t,e){var r=d(y?e:t,void 0),n=y?new E(t):new E;return void 0!==r&&u(n,"message",r),p&&u(n,"stack",D(n.stack,2)),this&&a(C,this)&&l(n,this,b),arguments.length>A&&f(n,arguments[A]),n}));if(b.prototype=C,"Error"!==w?i?i(b,F):s(b,F,{name:!0}):h&&m in E&&(c(b,E,m),c(b,E,"prepareStackTrace")),s(b,E),!v)try{C.name!==w&&u(C,"name",w),C.constructor=b}catch(t){}return b}}},6535:(t,e,r)=>{"use strict";var n=r(2109),o=r(6790),u=r(9662),a=r(7908),i=r(6244),s=r(5417);n({target:"Array",proto:!0},{flatMap:function(t){var e,r=a(this),n=i(r);return u(t),(e=s(r,0)).length=o(e,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},6699:(t,e,r)=>{"use strict";var n=r(2109),o=r(1318).includes,u=r(7293),a=r(1223);n({target:"Array",proto:!0,forced:u((function(){return!Array(1).includes()}))},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},6992:(t,e,r)=>{"use strict";var n=r(5656),o=r(1223),u=r(7497),a=r(9909),i=r(3070).f,s=r(654),c=r(1913),l=r(9781),d="Array Iterator",f=a.set,D=a.getterFor(d);t.exports=s(Array,"Array",(function(t,e){f(this,{type:d,target:n(t),index:0,kind:e})}),(function(){var t=D(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");var p=u.Arguments=u.Array;if(o("keys"),o("values"),o("entries"),!c&&l&&"values"!==p.name)try{i(p,"name",{value:"values"})}catch(t){}},2707:(t,e,r)=>{"use strict";var n=r(2109),o=r(1702),u=r(9662),a=r(7908),i=r(6244),s=r(5117),c=r(1340),l=r(7293),d=r(4362),f=r(9341),D=r(8886),p=r(256),h=r(7392),v=r(8008),y=[],m=o(y.sort),A=o(y.push),g=l((function(){y.sort(void 0)})),w=l((function(){y.sort(null)})),E=f("sort"),C=!l((function(){if(h)return h<70;if(!(D&&D>3)){if(p)return!0;if(v)return v<603;var t,e,r,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)y.push({k:e+n,v:r})}for(y.sort((function(t,e){return e.v-t.v})),n=0;n<y.length;n++)e=y[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));n({target:"Array",proto:!0,forced:g||!w||!E||!C},{sort:function(t){void 0!==t&&u(t);var e=a(this);if(C)return void 0===t?m(e):m(e,t);var r,n,o=[],l=i(e);for(n=0;n<l;n++)n in e&&A(o,e[n]);for(d(o,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:c(e)>c(r)?1:-1}}(t)),r=o.length,n=0;n<r;)e[n]=o[n++];for(;n<l;)s(e,n++);return e}})},9244:(t,e,r)=>{r(1223)("flatMap")},1703:(t,e,r)=>{var n=r(2109),o=r(7854),u=r(2104),a=r(9191),i="WebAssembly",s=o[i],c=7!==Error("e",{cause:7}).cause,l=function(t,e){var r={};r[t]=a(t,e,c),n({global:!0,constructor:!0,arity:1,forced:c},r)},d=function(t,e){if(s&&s[t]){var r={};r[t]=a(i+"."+t,e,c),n({target:i,stat:!0,constructor:!0,arity:1,forced:c},r)}};l("Error",(function(t){return function(e){return u(t,this,arguments)}})),l("EvalError",(function(t){return function(e){return u(t,this,arguments)}})),l("RangeError",(function(t){return function(e){return u(t,this,arguments)}})),l("ReferenceError",(function(t){return function(e){return u(t,this,arguments)}})),l("SyntaxError",(function(t){return function(e){return u(t,this,arguments)}})),l("TypeError",(function(t){return function(e){return u(t,this,arguments)}})),l("URIError",(function(t){return function(e){return u(t,this,arguments)}})),d("CompileError",(function(t){return function(e){return u(t,this,arguments)}})),d("LinkError",(function(t){return function(e){return u(t,this,arguments)}})),d("RuntimeError",(function(t){return function(e){return u(t,this,arguments)}}))},8862:(t,e,r)=>{var n=r(2109),o=r(5005),u=r(2104),a=r(6916),i=r(1702),s=r(7293),c=r(3157),l=r(614),d=r(111),f=r(2190),D=r(206),p=r(133),h=o("JSON","stringify"),v=i(/./.exec),y=i("".charAt),m=i("".charCodeAt),A=i("".replace),g=i(1..toString),w=/[\uD800-\uDFFF]/g,E=/^[\uD800-\uDBFF]$/,C=/^[\uDC00-\uDFFF]$/,F=!p||s((function(){var t=o("Symbol")();return"[null]"!=h([t])||"{}"!=h({a:t})||"{}"!=h(Object(t))})),b=s((function(){return'"\\udf06\\ud834"'!==h("\udf06\ud834")||'"\\udead"'!==h("\udead")})),_=function(t,e){var r=D(arguments),n=e;if((d(e)||void 0!==t)&&!f(t))return c(e)||(e=function(t,e){if(l(n)&&(e=a(n,this,t,e)),!f(e))return e}),r[1]=e,u(h,null,r)},k=function(t,e,r){var n=y(r,e-1),o=y(r,e+1);return v(E,t)&&!v(C,o)||v(C,t)&&!v(E,n)?"\\u"+g(m(t,0),16):t};h&&n({target:"JSON",stat:!0,arity:3,forced:F||b},{stringify:function(t,e,r){var n=D(arguments),o=u(F?_:h,null,n);return b&&"string"==typeof o?A(o,w,k):o}})},8559:(t,e,r)=>{var n=r(2109),o=r(408),u=r(6135);n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return o(t,(function(t,r){u(e,t,r)}),{AS_ENTRIES:!0}),e}})},821:(t,e,r)=>{"use strict";var n=r(2109),o=r(6916),u=r(9662),a=r(8523),i=r(2534),s=r(408);n({target:"Promise",stat:!0,forced:r(612)},{all:function(t){var e=this,r=a.f(e),n=r.resolve,c=r.reject,l=i((function(){var r=u(e.resolve),a=[],i=0,l=1;s(t,(function(t){var u=i++,s=!1;l++,o(r,e,t).then((function(t){s||(s=!0,a[u]=t,--l||n(a))}),c)})),--l||n(a)}));return l.error&&c(l.value),r.promise}})},4164:(t,e,r)=>{"use strict";var n=r(2109),o=r(1913),u=r(3702).CONSTRUCTOR,a=r(2492),i=r(5005),s=r(614),c=r(8052),l=a&&a.prototype;if(n({target:"Promise",proto:!0,forced:u,real:!0},{catch:function(t){return this.then(void 0,t)}}),!o&&s(a)){var d=i("Promise").prototype.catch;l.catch!==d&&c(l,"catch",d,{unsafe:!0})}},3401:(t,e,r)=>{"use strict";var n,o,u,a=r(2109),i=r(1913),s=r(5268),c=r(7854),l=r(6916),d=r(8052),f=r(7674),D=r(8003),p=r(6340),h=r(9662),v=r(614),y=r(111),m=r(5787),A=r(6707),g=r(261).set,w=r(5948),E=r(842),C=r(2534),F=r(8572),b=r(9909),_=r(2492),k=r(3702),S=r(8523),B="Promise",x=k.CONSTRUCTOR,I=k.REJECTION_EVENT,T=k.SUBCLASSING,L=b.getterFor(B),O=b.set,P=_&&_.prototype,$=_,j=P,R=c.TypeError,M=c.document,N=c.process,U=S.f,q=U,V=!!(M&&M.createEvent&&c.dispatchEvent),W="unhandledrejection",H=function(t){var e;return!(!y(t)||!v(e=t.then))&&e},z=function(t,e){var r,n,o,u=e.value,a=1==e.state,i=a?t.ok:t.fail,s=t.resolve,c=t.reject,d=t.domain;try{i?(a||(2===e.rejection&&X(e),e.rejection=1),!0===i?r=u:(d&&d.enter(),r=i(u),d&&(d.exit(),o=!0)),r===t.promise?c(R("Promise-chain cycle")):(n=H(r))?l(n,r,s,c):s(r)):c(u)}catch(t){d&&!o&&d.exit(),c(t)}},G=function(t,e){t.notified||(t.notified=!0,w((function(){for(var r,n=t.reactions;r=n.get();)z(r,t);t.notified=!1,e&&!t.rejection&&K(t)})))},J=function(t,e,r){var n,o;V?((n=M.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},!I&&(o=c["on"+t])?o(n):t===W&&E("Unhandled promise rejection",r)},K=function(t){l(g,c,(function(){var e,r=t.facade,n=t.value;if(Y(t)&&(e=C((function(){s?N.emit("unhandledRejection",n,r):J(W,r,n)})),t.rejection=s||Y(t)?2:1,e.error))throw e.value}))},Y=function(t){return 1!==t.rejection&&!t.parent},X=function(t){l(g,c,(function(){var e=t.facade;s?N.emit("rejectionHandled",e):J("rejectionhandled",e,t.value)}))},Q=function(t,e,r){return function(n){t(e,n,r)}},Z=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,G(t,!0))},tt=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw R("Promise can't be resolved itself");var n=H(e);n?w((function(){var r={done:!1};try{l(n,e,Q(tt,r,t),Q(Z,r,t))}catch(e){Z(r,e,t)}})):(t.value=e,t.state=1,G(t,!1))}catch(e){Z({done:!1},e,t)}}};if(x&&(j=($=function(t){m(this,j),h(t),l(n,this);var e=L(this);try{t(Q(tt,e),Q(Z,e))}catch(t){Z(e,t)}}).prototype,(n=function(t){O(this,{type:B,done:!1,notified:!1,parent:!1,reactions:new F,rejection:!1,state:0,value:void 0})}).prototype=d(j,"then",(function(t,e){var r=L(this),n=U(A(this,$));return r.parent=!0,n.ok=!v(t)||t,n.fail=v(e)&&e,n.domain=s?N.domain:void 0,0==r.state?r.reactions.add(n):w((function(){z(n,r)})),n.promise})),o=function(){var t=new n,e=L(t);this.promise=t,this.resolve=Q(tt,e),this.reject=Q(Z,e)},S.f=U=function(t){return t===$||undefined===t?new o(t):q(t)},!i&&v(_)&&P!==Object.prototype)){u=P.then,T||d(P,"then",(function(t,e){var r=this;return new $((function(t,e){l(u,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete P.constructor}catch(t){}f&&f(P,j)}a({global:!0,constructor:!0,wrap:!0,forced:x},{Promise:$}),D($,B,!1,!0),p(B)},7727:(t,e,r)=>{"use strict";var n=r(2109),o=r(1913),u=r(2492),a=r(7293),i=r(5005),s=r(614),c=r(6707),l=r(9478),d=r(8052),f=u&&u.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!u&&a((function(){f.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,i("Promise")),r=s(t);return this.then(r?function(r){return l(e,t()).then((function(){return r}))}:t,r?function(r){return l(e,t()).then((function(){throw r}))}:t)}}),!o&&s(u)){var D=i("Promise").prototype.finally;f.finally!==D&&d(f,"finally",D,{unsafe:!0})}},8674:(t,e,r)=>{r(3401),r(821),r(4164),r(6027),r(683),r(6294)},6027:(t,e,r)=>{"use strict";var n=r(2109),o=r(6916),u=r(9662),a=r(8523),i=r(2534),s=r(408);n({target:"Promise",stat:!0,forced:r(612)},{race:function(t){var e=this,r=a.f(e),n=r.reject,c=i((function(){var a=u(e.resolve);s(t,(function(t){o(a,e,t).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},683:(t,e,r)=>{"use strict";var n=r(2109),o=r(6916),u=r(8523);n({target:"Promise",stat:!0,forced:r(3702).CONSTRUCTOR},{reject:function(t){var e=u.f(this);return o(e.reject,void 0,t),e.promise}})},6294:(t,e,r)=>{"use strict";var n=r(2109),o=r(5005),u=r(1913),a=r(2492),i=r(3702).CONSTRUCTOR,s=r(9478),c=o("Promise"),l=u&&!i;n({target:"Promise",stat:!0,forced:u||i},{resolve:function(t){return s(l&&this===c?a:this,t)}})},4916:(t,e,r)=>{"use strict";var n=r(2109),o=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},6373:(t,e,r)=>{"use strict";var n=r(2109),o=r(6916),u=r(1702),a=r(4994),i=r(4488),s=r(7466),c=r(1340),l=r(9670),d=r(4326),f=r(7850),D=r(4706),p=r(8173),h=r(8052),v=r(7293),y=r(5112),m=r(6707),A=r(1530),g=r(7651),w=r(9909),E=r(1913),C=y("matchAll"),F="RegExp String",b=F+" Iterator",_=w.set,k=w.getterFor(b),S=RegExp.prototype,B=TypeError,x=u("".indexOf),I=u("".matchAll),T=!!I&&!v((function(){I("a",/./)})),L=a((function(t,e,r,n){_(this,{type:b,regexp:t,string:e,global:r,unicode:n,done:!1})}),F,(function(){var t=k(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,r=t.string,n=g(e,r);return null===n?{value:void 0,done:t.done=!0}:t.global?(""===c(n[0])&&(e.lastIndex=A(r,s(e.lastIndex),t.unicode)),{value:n,done:!1}):(t.done=!0,{value:n,done:!1})})),O=function(t){var e,r,n,o=l(this),u=c(t),a=m(o,RegExp),i=c(D(o));return e=new a(a===RegExp?o.source:o,i),r=!!~x(i,"g"),n=!!~x(i,"u"),e.lastIndex=s(o.lastIndex),new L(e,u,r,n)};n({target:"String",proto:!0,forced:T},{matchAll:function(t){var e,r,n,u,a=i(this);if(null!=t){if(f(t)&&(e=c(i(D(t))),!~x(e,"g")))throw B("`.matchAll` does not allow non-global regexes");if(T)return I(a,t);if(void 0===(n=p(t,C))&&E&&"RegExp"==d(t)&&(n=O),n)return o(n,t,a)}else if(T)return I(a,t);return r=c(a),u=new RegExp(t,"g"),E?o(O,u,r):u[C](r)}}),E||C in S||h(S,C,O)},5306:(t,e,r)=>{"use strict";var n=r(2104),o=r(6916),u=r(1702),a=r(7007),i=r(7293),s=r(9670),c=r(614),l=r(9303),d=r(7466),f=r(1340),D=r(4488),p=r(1530),h=r(8173),v=r(647),y=r(7651),m=r(5112)("replace"),A=Math.max,g=Math.min,w=u([].concat),E=u([].push),C=u("".indexOf),F=u("".slice),b="$0"==="a".replace(/./,"$0"),_=!!/./[m]&&""===/./[m]("a","$0");a("replace",(function(t,e,r){var u=_?"$":"$0";return[function(t,r){var n=D(this),u=null==t?void 0:h(t,m);return u?o(u,t,n,r):o(e,f(n),t,r)},function(t,o){var a=s(this),i=f(t);if("string"==typeof o&&-1===C(o,u)&&-1===C(o,"$<")){var D=r(e,a,i,o);if(D.done)return D.value}var h=c(o);h||(o=f(o));var m=a.global;if(m){var b=a.unicode;a.lastIndex=0}for(var _=[];;){var k=y(a,i);if(null===k)break;if(E(_,k),!m)break;""===f(k[0])&&(a.lastIndex=p(i,d(a.lastIndex),b))}for(var S,B="",x=0,I=0;I<_.length;I++){for(var T=f((k=_[I])[0]),L=A(g(l(k.index),i.length),0),O=[],P=1;P<k.length;P++)E(O,void 0===(S=k[P])?S:String(S));var $=k.groups;if(h){var j=w([T],O,L,i);void 0!==$&&E(j,$);var R=f(n(o,void 0,j))}else R=v(T,i,L,O,$,o);L>=x&&(B+=F(i,x,L)+R,x=L+T.length)}return B+F(i,x)}]}),!!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!b||_)},1817:(t,e,r)=>{"use strict";var n=r(2109),o=r(9781),u=r(7854),a=r(1702),i=r(2597),s=r(614),c=r(7976),l=r(1340),d=r(3070).f,f=r(9920),D=u.Symbol,p=D&&D.prototype;if(o&&s(D)&&(!("description"in p)||void 0!==D().description)){var h={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=c(p,this)?new D(t):void 0===t?D():D(t);return""===t&&(h[e]=!0),e};f(v,D),v.prototype=p,p.constructor=v;var y="Symbol(test)"==String(D("test")),m=a(p.toString),A=a(p.valueOf),g=/^Symbol\((.*)\)[^)]+$/,w=a("".replace),E=a("".slice);d(p,"description",{configurable:!0,get:function(){var t=A(this),e=m(t);if(i(h,t))return"";var r=y?E(e,7,-1):w(e,g,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:v})}},6066:(t,e,r)=>{r(7235)("matchAll")},8675:(t,e,r)=>{"use strict";var n=r(260),o=r(6244),u=r(9303),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(t){var e=a(this),r=o(e),n=u(t),i=n>=0?n:r+n;return i<0||i>=r?void 0:e[i]}))},2958:(t,e,r)=>{"use strict";var n=r(260),o=r(9671).findLastIndex,u=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(t){return o(u(this),t,arguments.length>1?arguments[1]:void 0)}))},3408:(t,e,r)=>{"use strict";var n=r(260),o=r(9671).findLast,u=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(t){return o(u(this),t,arguments.length>1?arguments[1]:void 0)}))},3462:(t,e,r)=>{"use strict";var n=r(7854),o=r(6916),u=r(260),a=r(6244),i=r(4590),s=r(7908),c=r(7293),l=n.RangeError,d=n.Int8Array,f=d&&d.prototype,D=f&&f.set,p=u.aTypedArray,h=u.exportTypedArrayMethod,v=!c((function(){var t=new Uint8ClampedArray(2);return o(D,t,{length:1,0:3},1),3!==t[1]})),y=v&&u.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var t=new d(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));h("set",(function(t){p(this);var e=i(arguments.length>1?arguments[1]:void 0,1),r=s(t);if(v)return o(D,this,r,e);var n=this.length,u=a(r),c=0;if(u+e>n)throw l("Wrong length");for(;c<u;)this[e+c]=r[c++]}),!v||y)},3824:(t,e,r)=>{"use strict";var n=r(7854),o=r(1702),u=r(7293),a=r(9662),i=r(4362),s=r(260),c=r(8886),l=r(256),d=r(7392),f=r(8008),D=s.aTypedArray,p=s.exportTypedArrayMethod,h=n.Uint16Array,v=h&&o(h.prototype.sort),y=!(!v||u((function(){v(new h(2),null)}))&&u((function(){v(new h(2),{})}))),m=!!v&&!u((function(){if(d)return d<74;if(c)return c<67;if(l)return!0;if(f)return f<602;var t,e,r=new h(516),n=Array(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,n[t]=t-2*e+3;for(v(r,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(r[t]!==n[t])return!0}));p("sort",(function(t){return void 0!==t&&a(t),m?v(this,t):i(D(this),function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t))}),!m||y)},1118:(t,e,r)=>{r(2958)},7380:(t,e,r)=>{r(3408)},3948:(t,e,r)=>{var n=r(7854),o=r(8324),u=r(8509),a=r(6992),i=r(8880),s=r(5112),c=s("iterator"),l=s("toStringTag"),d=a.values,f=function(t,e){if(t){if(t[c]!==d)try{i(t,c,d)}catch(e){t[c]=d}if(t[l]||i(t,l,e),o[e])for(var r in a)if(t[r]!==a[r])try{i(t,r,a[r])}catch(e){t[r]=a[r]}}};for(var D in o)f(n[D]&&n[D].prototype,D);f(u,"DOMTokenList")},1142:function(t){t.exports=function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e=t((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),r=t((function(t){var e=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=e)})),n=(r.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),o=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t},u=function(t){try{return!!t()}catch(t){return!0}},a=!u((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),i=e.document,s=n(i)&&n(i.createElement),c=function(t){return s?i.createElement(t):{}},l=!a&&!u((function(){return 7!=Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a})),d=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")},f=Object.defineProperty,D={f:a?Object.defineProperty:function(t,e,r){if(o(t),e=d(e,!0),o(r),l)try{return f(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},p=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},h=a?function(t,e,r){return D.f(t,e,p(1,r))}:function(t,e,r){return t[e]=r,t},v={}.hasOwnProperty,y=function(t,e){return v.call(t,e)},m=0,A=Math.random(),g=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++m+A).toString(36))},w=!1,E=t((function(t){var n="__core-js_shared__",o=e[n]||(e[n]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:w?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),C=E("native-function-to-string",Function.toString),F=t((function(t){var n=g("src"),o="toString",u=(""+C).split(o);r.inspectSource=function(t){return C.call(t)},(t.exports=function(t,r,o,a){var i="function"==typeof o;i&&(y(o,"name")||h(o,"name",r)),t[r]!==o&&(i&&(y(o,n)||h(o,n,t[r]?""+t[r]:u.join(String(r)))),t===e?t[r]=o:a?t[r]?t[r]=o:h(t,r,o):(delete t[r],h(t,r,o)))})(Function.prototype,o,(function(){return"function"==typeof this&&this[n]||C.call(this)}))})),b=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},_=function(t,e,r){if(b(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},k="prototype",S=function(t,n,o){var u,a,i,s,c=t&S.F,l=t&S.G,d=t&S.S,f=t&S.P,D=t&S.B,p=l?e:d?e[n]||(e[n]={}):(e[n]||{})[k],v=l?r:r[n]||(r[n]={}),y=v[k]||(v[k]={});for(u in l&&(o=n),o)i=((a=!c&&p&&void 0!==p[u])?p:o)[u],s=D&&a?_(i,e):f&&"function"==typeof i?_(Function.call,i):i,p&&F(p,u,i,t&S.U),v[u]!=i&&h(v,u,s),f&&y[u]!=i&&(y[u]=i)};e.core=r,S.F=1,S.G=2,S.S=4,S.P=8,S.B=16,S.W=32,S.U=64,S.R=128;var B,x=S,I=Math.ceil,T=Math.floor,L=function(t){return isNaN(t=+t)?0:(t>0?T:I)(t)},O=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},P=(B=!1,function(t,e){var r,n,o=String(O(t)),u=L(e),a=o.length;return u<0||u>=a?B?"":void 0:(r=o.charCodeAt(u))<55296||r>56319||u+1===a||(n=o.charCodeAt(u+1))<56320||n>57343?B?o.charAt(u):r:B?o.slice(u,u+2):n-56320+(r-55296<<10)+65536});x(x.P,"String",{codePointAt:function(t){return P(this,t)}}),r.String.codePointAt;var $=Math.max,j=Math.min,R=function(t,e){return(t=L(t))<0?$(t+e,0):j(t,e)},M=String.fromCharCode,N=String.fromCodePoint;x(x.S+x.F*(!!N&&1!=N.length),"String",{fromCodePoint:function(t){for(var e,r=arguments,n=[],o=arguments.length,u=0;o>u;){if(e=+r[u++],R(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?M(e):M(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}}),r.String.fromCodePoint;var U,q,V,W,H,z,G,J,K,Y,X,Q,Z,tt,et={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},rt={isSpaceSeparator:function(t){return"string"==typeof t&&et.Space_Separator.test(t)},isIdStartChar:function(t){return"string"==typeof t&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||"$"===t||"_"===t||et.ID_Start.test(t))},isIdContinueChar:function(t){return"string"==typeof t&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||"$"===t||"_"===t||"‌"===t||"‍"===t||et.ID_Continue.test(t))},isDigit:function(t){return"string"==typeof t&&/[0-9]/.test(t)},isHexDigit:function(t){return"string"==typeof t&&/[0-9A-Fa-f]/.test(t)}},nt=function(t,e){U=String(t),q="start",V=[],W=0,H=1,z=0,G=void 0,J=void 0,K=void 0;do{G=ut(),pt[q]()}while("eof"!==G.type);return"function"==typeof e?ot({"":K},"",e):K};function ot(t,e,r){var n=t[e];if(null!=n&&"object"==typeof n)if(Array.isArray(n))for(var o=0;o<n.length;o++){var u=String(o),a=ot(n,u,r);void 0===a?delete n[u]:Object.defineProperty(n,u,{value:a,writable:!0,enumerable:!0,configurable:!0})}else for(var i in n){var s=ot(n,i,r);void 0===s?delete n[i]:Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0})}return r.call(t,e,n)}function ut(){for(Y="default",X="",Q=!1,Z=1;;){tt=at();var t=st[Y]();if(t)return t}}function at(){if(U[W])return String.fromCodePoint(U.codePointAt(W))}function it(){var t=at();return"\n"===t?(H++,z=0):t?z+=t.length:z++,t&&(W+=t.length),t}var st={default:function(){switch(tt){case"\t":case"\v":case"\f":case" ":case" ":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void it();case"/":return it(),void(Y="comment");case void 0:return it(),ct("eof")}if(!rt.isSpaceSeparator(tt))return st[q]();it()},comment:function(){switch(tt){case"*":return it(),void(Y="multiLineComment");case"/":return it(),void(Y="singleLineComment")}throw yt(it())},multiLineComment:function(){switch(tt){case"*":return it(),void(Y="multiLineCommentAsterisk");case void 0:throw yt(it())}it()},multiLineCommentAsterisk:function(){switch(tt){case"*":return void it();case"/":return it(),void(Y="default");case void 0:throw yt(it())}it(),Y="multiLineComment"},singleLineComment:function(){switch(tt){case"\n":case"\r":case"\u2028":case"\u2029":return it(),void(Y="default");case void 0:return it(),ct("eof")}it()},value:function(){switch(tt){case"{":case"[":return ct("punctuator",it());case"n":return it(),lt("ull"),ct("null",null);case"t":return it(),lt("rue"),ct("boolean",!0);case"f":return it(),lt("alse"),ct("boolean",!1);case"-":case"+":return"-"===it()&&(Z=-1),void(Y="sign");case".":return X=it(),void(Y="decimalPointLeading");case"0":return X=it(),void(Y="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return X=it(),void(Y="decimalInteger");case"I":return it(),lt("nfinity"),ct("numeric",1/0);case"N":return it(),lt("aN"),ct("numeric",NaN);case'"':case"'":return Q='"'===it(),X="",void(Y="string")}throw yt(it())},identifierNameStartEscape:function(){if("u"!==tt)throw yt(it());it();var t=Dt();switch(t){case"$":case"_":break;default:if(!rt.isIdStartChar(t))throw At()}X+=t,Y="identifierName"},identifierName:function(){switch(tt){case"$":case"_":case"‌":case"‍":return void(X+=it());case"\\":return it(),void(Y="identifierNameEscape")}if(!rt.isIdContinueChar(tt))return ct("identifier",X);X+=it()},identifierNameEscape:function(){if("u"!==tt)throw yt(it());it();var t=Dt();switch(t){case"$":case"_":case"‌":case"‍":break;default:if(!rt.isIdContinueChar(t))throw At()}X+=t,Y="identifierName"},sign:function(){switch(tt){case".":return X=it(),void(Y="decimalPointLeading");case"0":return X=it(),void(Y="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return X=it(),void(Y="decimalInteger");case"I":return it(),lt("nfinity"),ct("numeric",Z*(1/0));case"N":return it(),lt("aN"),ct("numeric",NaN)}throw yt(it())},zero:function(){switch(tt){case".":return X+=it(),void(Y="decimalPoint");case"e":case"E":return X+=it(),void(Y="decimalExponent");case"x":case"X":return X+=it(),void(Y="hexadecimal")}return ct("numeric",0*Z)},decimalInteger:function(){switch(tt){case".":return X+=it(),void(Y="decimalPoint");case"e":case"E":return X+=it(),void(Y="decimalExponent")}if(!rt.isDigit(tt))return ct("numeric",Z*Number(X));X+=it()},decimalPointLeading:function(){if(rt.isDigit(tt))return X+=it(),void(Y="decimalFraction");throw yt(it())},decimalPoint:function(){switch(tt){case"e":case"E":return X+=it(),void(Y="decimalExponent")}return rt.isDigit(tt)?(X+=it(),void(Y="decimalFraction")):ct("numeric",Z*Number(X))},decimalFraction:function(){switch(tt){case"e":case"E":return X+=it(),void(Y="decimalExponent")}if(!rt.isDigit(tt))return ct("numeric",Z*Number(X));X+=it()},decimalExponent:function(){switch(tt){case"+":case"-":return X+=it(),void(Y="decimalExponentSign")}if(rt.isDigit(tt))return X+=it(),void(Y="decimalExponentInteger");throw yt(it())},decimalExponentSign:function(){if(rt.isDigit(tt))return X+=it(),void(Y="decimalExponentInteger");throw yt(it())},decimalExponentInteger:function(){if(!rt.isDigit(tt))return ct("numeric",Z*Number(X));X+=it()},hexadecimal:function(){if(rt.isHexDigit(tt))return X+=it(),void(Y="hexadecimalInteger");throw yt(it())},hexadecimalInteger:function(){if(!rt.isHexDigit(tt))return ct("numeric",Z*Number(X));X+=it()},string:function(){switch(tt){case"\\":return it(),void(X+=dt());case'"':return Q?(it(),ct("string",X)):void(X+=it());case"'":return Q?void(X+=it()):(it(),ct("string",X));case"\n":case"\r":throw yt(it());case"\u2028":case"\u2029":gt(tt);break;case void 0:throw yt(it())}X+=it()},start:function(){switch(tt){case"{":case"[":return ct("punctuator",it())}Y="value"},beforePropertyName:function(){switch(tt){case"$":case"_":return X=it(),void(Y="identifierName");case"\\":return it(),void(Y="identifierNameStartEscape");case"}":return ct("punctuator",it());case'"':case"'":return Q='"'===it(),void(Y="string")}if(rt.isIdStartChar(tt))return X+=it(),void(Y="identifierName");throw yt(it())},afterPropertyName:function(){if(":"===tt)return ct("punctuator",it());throw yt(it())},beforePropertyValue:function(){Y="value"},afterPropertyValue:function(){switch(tt){case",":case"}":return ct("punctuator",it())}throw yt(it())},beforeArrayValue:function(){if("]"===tt)return ct("punctuator",it());Y="value"},afterArrayValue:function(){switch(tt){case",":case"]":return ct("punctuator",it())}throw yt(it())},end:function(){throw yt(it())}};function ct(t,e){return{type:t,value:e,line:H,column:z}}function lt(t){for(var e=0,r=t;e<r.length;e+=1){var n=r[e];if(at()!==n)throw yt(it());it()}}function dt(){switch(at()){case"b":return it(),"\b";case"f":return it(),"\f";case"n":return it(),"\n";case"r":return it(),"\r";case"t":return it(),"\t";case"v":return it(),"\v";case"0":if(it(),rt.isDigit(at()))throw yt(it());return"\0";case"x":return it(),ft();case"u":return it(),Dt();case"\n":case"\u2028":case"\u2029":return it(),"";case"\r":return it(),"\n"===at()&&it(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw yt(it())}return it()}function ft(){var t="",e=at();if(!rt.isHexDigit(e))throw yt(it());if(t+=it(),e=at(),!rt.isHexDigit(e))throw yt(it());return t+=it(),String.fromCodePoint(parseInt(t,16))}function Dt(){for(var t="",e=4;e-- >0;){var r=at();if(!rt.isHexDigit(r))throw yt(it());t+=it()}return String.fromCodePoint(parseInt(t,16))}var pt={start:function(){if("eof"===G.type)throw mt();ht()},beforePropertyName:function(){switch(G.type){case"identifier":case"string":return J=G.value,void(q="afterPropertyName");case"punctuator":return void vt();case"eof":throw mt()}},afterPropertyName:function(){if("eof"===G.type)throw mt();q="beforePropertyValue"},beforePropertyValue:function(){if("eof"===G.type)throw mt();ht()},beforeArrayValue:function(){if("eof"===G.type)throw mt();"punctuator"!==G.type||"]"!==G.value?ht():vt()},afterPropertyValue:function(){if("eof"===G.type)throw mt();switch(G.value){case",":return void(q="beforePropertyName");case"}":vt()}},afterArrayValue:function(){if("eof"===G.type)throw mt();switch(G.value){case",":return void(q="beforeArrayValue");case"]":vt()}},end:function(){}};function ht(){var t;switch(G.type){case"punctuator":switch(G.value){case"{":t={};break;case"[":t=[]}break;case"null":case"boolean":case"numeric":case"string":t=G.value}if(void 0===K)K=t;else{var e=V[V.length-1];Array.isArray(e)?e.push(t):Object.defineProperty(e,J,{value:t,writable:!0,enumerable:!0,configurable:!0})}if(null!==t&&"object"==typeof t)V.push(t),q=Array.isArray(t)?"beforeArrayValue":"beforePropertyName";else{var r=V[V.length-1];q=null==r?"end":Array.isArray(r)?"afterArrayValue":"afterPropertyValue"}}function vt(){V.pop();var t=V[V.length-1];q=null==t?"end":Array.isArray(t)?"afterArrayValue":"afterPropertyValue"}function yt(t){return Et(void 0===t?"JSON5: invalid end of input at "+H+":"+z:"JSON5: invalid character '"+wt(t)+"' at "+H+":"+z)}function mt(){return Et("JSON5: invalid end of input at "+H+":"+z)}function At(){return Et("JSON5: invalid identifier character at "+H+":"+(z-=5))}function gt(t){console.warn("JSON5: '"+wt(t)+"' in strings is not valid ECMAScript; consider escaping")}function wt(t){var e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){var r=t.charCodeAt(0).toString(16);return"\\x"+("00"+r).substring(r.length)}return t}function Et(t){var e=new SyntaxError(t);return e.lineNumber=H,e.columnNumber=z,e}return{parse:nt,stringify:function(t,e,r){var n,o,u,a=[],i="",s="";if(null==e||"object"!=typeof e||Array.isArray(e)||(r=e.space,u=e.quote,e=e.replacer),"function"==typeof e)o=e;else if(Array.isArray(e)){n=[];for(var c=0,l=e;c<l.length;c+=1){var d=l[c],f=void 0;"string"==typeof d?f=d:("number"==typeof d||d instanceof String||d instanceof Number)&&(f=String(d)),void 0!==f&&n.indexOf(f)<0&&n.push(f)}}return r instanceof Number?r=Number(r):r instanceof String&&(r=String(r)),"number"==typeof r?r>0&&(r=Math.min(10,Math.floor(r)),s="          ".substr(0,r)):"string"==typeof r&&(s=r.substr(0,10)),D("",{"":t});function D(t,e){var r=e[t];switch(null!=r&&("function"==typeof r.toJSON5?r=r.toJSON5(t):"function"==typeof r.toJSON&&(r=r.toJSON(t))),o&&(r=o.call(e,t,r)),r instanceof Number?r=Number(r):r instanceof String?r=String(r):r instanceof Boolean&&(r=r.valueOf()),r){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof r?p(r,!1):"number"==typeof r?String(r):"object"==typeof r?Array.isArray(r)?y(r):h(r):void 0}function p(t){for(var e={"'":.1,'"':.2},r={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},n="",o=0;o<t.length;o++){var a=t[o];switch(a){case"'":case'"':e[a]++,n+=a;continue;case"\0":if(rt.isDigit(t[o+1])){n+="\\x00";continue}}if(r[a])n+=r[a];else if(a<" "){var i=a.charCodeAt(0).toString(16);n+="\\x"+("00"+i).substring(i.length)}else n+=a}var s=u||Object.keys(e).reduce((function(t,r){return e[t]<e[r]?t:r}));return s+(n=n.replace(new RegExp(s,"g"),r[s]))+s}function h(t){if(a.indexOf(t)>=0)throw TypeError("Converting circular structure to JSON5");a.push(t);var e=i;i+=s;for(var r,o,u=[],c=0,l=n||Object.keys(t);c<l.length;c+=1){var d=l[c],f=D(d,t);if(void 0!==f){var p=v(d)+":";""!==s&&(p+=" "),p+=f,u.push(p)}}if(0===u.length)r="{}";else if(""===s)r="{"+(o=u.join(","))+"}";else{var h=",\n"+i;o=u.join(h),r="{\n"+i+o+",\n"+e+"}"}return a.pop(),i=e,r}function v(t){if(0===t.length)return p(t,!0);var e=String.fromCodePoint(t.codePointAt(0));if(!rt.isIdStartChar(e))return p(t,!0);for(var r=e.length;r<t.length;r++)if(!rt.isIdContinueChar(String.fromCodePoint(t.codePointAt(r))))return p(t,!0);return t}function y(t){if(a.indexOf(t)>=0)throw TypeError("Converting circular structure to JSON5");a.push(t);var e=i;i+=s;for(var r,n=[],o=0;o<t.length;o++){var u=D(String(o),t);n.push(void 0!==u?u:"null")}if(0===n.length)r="[]";else if(""===s)r="["+n.join(",")+"]";else{var c=",\n"+i,l=n.join(c);r="[\n"+i+l+",\n"+e+"]"}return a.pop(),i=e,r}}}}()}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var u=e[n]={exports:{}};return t[n].call(u.exports,u,u.exports,r),u.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";r(6992),r(3948);self.Element&&void 0===Element.prototype.replaceChildren&&(Element.prototype.replaceChildren=function(...t){for(;this.lastChild;)this.removeChild(this.lastChild);this.append(...t)});const t="dl1.audiovk.com",e=["audiovk.com","www.audiovk.com"],n=()=>{var e;return(null===(e=self.vks)||void 0===e?void 0:e.API_URL_PREFIX)||`https://${t}`},o=1e4,u=200,a={locale:"ru",options:{timeZone:"Europe/Moscow",dateStyle:"short",timeStyle:"long"}};r(8674),r(4916),r(1703),r(8559),r(6699),r(8862);function i(t){return new Intl.DateTimeFormat(a.locale,a.options).format(new Date(t)).toString()}async function s(t){await new Promise((e=>{setTimeout((()=>e(!0)),t)}))}function c(t,e=(()=>{})){try{return t()}catch(t){return e(t),null}}async function l(t,e=(()=>{})){try{return await t()}catch(t){return e(t),null}}async function d(t){try{return{result:await t()}}catch(t){return{error:t}}}const f=(t,...e)=>Object.fromEntries(e.filter((e=>e in(t||{}))).map((e=>[e,t[e]])));function D(t){if(null===t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map((t=>D(t)));if("DOMException"===t.constructor.name)return f(t,"code","message","name");const e={};return Object.getOwnPropertyNames(t).forEach((r=>{const n=t[r];"stack"===r&&"string"==typeof n&&0<=n.indexOf("\n")?e[r]=n.split("\n"):r.toLowerCase().includes("time")&&"number"==typeof n&&0<=n?(e[r]=n,e[`${r}_formatted`]=i(n)):e[r]=D(n)})),e}function p(t,e=2){return JSON.stringify(t,((t,e)=>D(e)),e)}class h extends Error{constructor(t,e=void 0,r=void 0){var n;super(t),this.name="BaseVksError",this.vksDetails=e,this.isVksException=!0,this.vksCause=D(r),null!==(n=this.vksCause)&&void 0!==n&&n.isVksWarning&&(this.isVksWarning=!0)}}h.custom=({errorTypeSuffix:t,message:e=t,details:r,cause:n})=>{const o=new h(e,r,n);return o.vksErrorType=`Plugin.Errors.${t}`,o};class v extends h{constructor(t,e=void 0,r=void 0){super(t,e,r),this.name="ChromeRuntimeError"}}v.throwIfPresent=()=>{try{if(chrome.runtime.lastError)throw new v(chrome.runtime.lastError.message)}catch(t){if("ChromeRuntimeError"===t.name)throw t;throw new v("Cannot check chrome.runtime.lastError",null,t)}};class y{async download(t){return await new Promise(((e,r)=>{chrome.downloads.download(t,(t=>{try{v.throwIfPresent(),e(t)}catch(t){r(t)}}))}))}async search(t){return await new Promise(((e,r)=>{chrome.downloads.search(t,(t=>{try{v.throwIfPresent(),e(t)}catch(t){r(t)}}))}))}}class m extends h{constructor(t,e=void 0,r=void 0){super(t,e,r),this.name="BaseVksWarning",this.isVksWarning=!0}}m.custom=({errorTypeSuffix:t,message:e=t,details:r,cause:n})=>{const o=new m(e,r,n);return o.vksErrorType=`Plugin.Warnings.${t}`,o};let A=!1;class g extends m{static wasFired(){return A}constructor(t,e=void 0,r=void 0){super(t,e,r),this.name="ContextInvalidatedWarning",A=!0}}g.wrap=t=>"Error"===t.name&&["Extension context invalidated.","Invocation of form runtime.connect(null, ) doesn't match definition runtime.connect(optional string extensionId, optional object connectInfo)"].includes(t.message)||"ContextInvalidatedWarning"===t.name&&!(t instanceof g)?new g(t.message,null,t):t,g.throwIf=t=>{if(t&&"ContextInvalidatedWarning"===(t=g.wrap(t)).name)throw t};class w{constructor(){this.downloads=new y}start(){chrome.runtime.onMessage.addListener(((t,e,r)=>{switch(t.event){case"DownloadsServer.download":return this._download(t,r);case"DownloadsServer.search":return this._search(t,r);default:return!1}}))}_download(t,e){return(async()=>{try{const r=await this.downloads.download(t.options);e({downloadId:r})}catch(t){e({error:D(g.wrap(t))})}})(),!0}_search(t,e){return(async()=>{try{const r=await this.downloads.search(t.query);e({results:r})}catch(t){e({error:D(g.wrap(t))})}})(),!0}}r(6066),r(6373),r(1817);class E{constructor(t="Logger"){this.name=t,this.info=()=>{},this.warn=()=>{},this.error=()=>{}}}let C;function F(t=(()=>{})){if(C)return C;const e="unknown";try{C=chrome.runtime.getManifest().version||e}catch(r){t(r),C=e}return C}class b extends h{constructor(t,e=void 0,r=void 0){super(t,e,r),this.name="ChromeStorageError"}}function _(t){const e=document.createElement("textarea");return e.innerHTML=t,e.value}function k(t){const e=document.createElement("div");return e.innerHTML=t,e.innerText}function S(t){const e=document.createElement("div");return e.innerHTML=t,e.firstElementChild}function B(t,e,r=!0){const n=document.createElement("form");n.action=t,n.method="POST",n.target="_blank";const o=e.filter((({value:t})=>null!=t)).map((({key:t,value:e})=>{const n=document.createElement("input");return n.setAttribute("type","hidden"),n.setAttribute("name",t),n.setAttribute("value",r?encodeURIComponent(e):e),n}));return n.replaceChildren(...o),n}function x(t,e,r=!0){const n=B(t,e,r);document.body.append(n),n.submit(),n.remove()}function I(t,...e){let r=self,n="vks";e.forEach((t=>{const e=r[n]||{};r[n]=e,r=e,n=t})),r[n]={...r[n],...t}}class T extends m{constructor(){super("chrome.storage is undefined"),this.name="ChromeStorageUndefinedWarning"}}let L=!1;const O=new E("ChromeStorageWrapper");class P{constructor(t){this.storageArea=t}async get(t=null){try{return await new Promise(((e,r)=>{this.storageArea.get(t,(t=>{try{v.throwIfPresent(),e(t)}catch(t){r(t)}}))}))}catch(e){throw g.throwIf(e),new b("Read error",{keys:t},e)}}async getSingle(t,e=(()=>null)){const r=await this.get(t);return r&&t in r?r[t]:e()}async set(t){await(async t=>{if(!L)try{const e=await t.getSingle("audiosInfo"),r=await t.getSingle("audios");e&&await t.remove("audiosInfo"),r&&await t.remove("audios"),L=!0,e&&await t.set({audiosInfoRemoved:!0}),r&&await t.set({audiosRemoved:!0})}catch(t){O.error(p({message:"tryCleanLegacyFields error",e:t}))}})(this);try{return await new Promise(((e,r)=>{this.storageArea.set(t,(()=>{try{v.throwIfPresent(),e()}catch(t){r(t)}}))}))}catch(e){g.throwIf(e);const r={items:t,storageInfo:D(await d((()=>this.getStorageInfo())))};throw new b("Write error",r,e)}}async remove(t){try{return await new Promise(((e,r)=>{this.storageArea.remove(t,(()=>{try{v.throwIfPresent(),e()}catch(t){r(t)}}))}))}catch(e){throw g.throwIf(e),new b("Remove error",{keys:t},e)}}async getBytesInUse(t=null){try{return await new Promise(((e,r)=>{"function"!=typeof this.storageArea.getBytesInUse&&e(null),this.storageArea.getBytesInUse(t,(t=>{try{v.throwIfPresent(),e(t)}catch(t){r(t)}}))}))}catch(e){throw g.throwIf(e),new b("getBytesInUse error",{keys:t},e)}}async getStorageInfo(){try{var t,e;const n=null!==(t=await this.get())&&void 0!==t?t:{},o={storageArea:D(this.storageArea),bytesInUse:{total:null!==(e=await this.getBytesInUse())&&void 0!==e?e:JSON.stringify(n).length,named:{}}};for(const[t,e]of Object.entries(n)){var r;o.bytesInUse.named[t]=null!==(r=await this.getBytesInUse(t))&&void 0!==r?r:JSON.stringify({k:t,v:e}).length}return o}catch(t){throw g.throwIf(t),new b("getStorageInfo error",null,t)}}}let $=null;P.getLocal=()=>{if(null===$){if(void 0===chrome.storage)throw new T;try{$=new P(chrome.storage.local)}catch(t){throw g.wrap(t)}}return $};class j{constructor(t,e){this._array=t.slice(0,e),this._sizeLimit=e}add(t){return this.size()===this._sizeLimit&&(this._array=this._array.slice(1)),this._array.push(t),this}size(){return this._array.length}toArray(){return this._array.slice(0,this._sizeLimit)}}const R="ErrorsQueue";class M{constructor(t=5){this._chromeStorage=P.getLocal(),this.capacity=t}async clear(){await this._chromeStorage.remove(R)}async add(t){var e;const r=new j(null!==(e=await this.get())&&void 0!==e?e:[],this.capacity);r.add(t),await this._chromeStorage.set({[R]:r.toArray()})}async get(){return await this._chromeStorage.getSingle(R)}}class N extends m{constructor(){super("uncaught exception: out of memory"),this.name="OutOfMemoryWarning"}}class U extends h{constructor(t,e=void 0,r=void 0){super(t,e,r),this.name="IllegalStateError"}}U.fail=(t,e=void 0,r=void 0)=>{throw new U(t,e,r)};class q{constructor(t,e){this._countLimit=t,this._timeFrameSize=e,this.constructor===q&&U.fail("TimeFramedCounter: Abstract class can't be instantiated.")}_getCurrentTimeFrameIndex(){return Math.trunc(Date.now()/this._timeFrameSize)}async tryIncrement(){return U.fail("TimeFramedCounter.tryIncrement: not implemented."),!0}}class V extends q{constructor(t,e){super(t,e),this._lastTimeFrameIndex=0,this._count=0}async tryIncrement(){const t=this._getCurrentTimeFrameIndex();return this._lastTimeFrameIndex!==t&&(this._count=0),!(this._countLimit<=this._count)&&(++this._count,this._lastTimeFrameIndex=t,!0)}}const W="PersistentTimeFramedCounter",H=new E("ErrorHandler");const z=self,G=new E("ErrorHandler"),J=[],K=!z.document?new class extends q{constructor(t,e,r){super(t,e),this._counterName=r,this._chromeStorage=P.getLocal(),this._fallbackCounter=new V(t,e)}async tryIncrement(){try{const t=this._getCurrentTimeFrameIndex(),e=await this._getCountersData(),r=e.counters[this._counterName]||{count:0,lastTimeFrameIndex:0};return r.lastTimeFrameIndex!==t&&(r.count=0),this._countLimit<=r.count?!1:(++r.count,r.lastTimeFrameIndex=t,await this._setCountersData(e),!0)}catch(t){return H.error(p({message:"Cannot increment persistent time framed counter",cause:t})),await this._fallbackCounter.tryIncrement()}}async _getCountersData(){return await this._chromeStorage.getSingle(W,(()=>({counters:{}})))}async _setCountersData(t){await this._chromeStorage.set({[W]:t})}}(5,3e5,"errors"):new V(5,3e5);let Y=!1,X=()=>{};const Q=async t=>{if(!g.wasFired())try{await(new M).add(t)}catch(t){G.error(p({message:"Cannot save error to ErrorsStorage",cause:t}))}if(await K.tryIncrement())try{await fetch(`${n()}/desktop/api/v0/onException?pluginVersion=${F()}`,{method:"POST",body:JSON.stringify(t),mode:"no-cors"})}catch(t){G.error(p({message:"Cannot send error",cause:t}))}},Z=()=>{var t,e,r,n;const o=Date.now();let u={screen:{width:null===(t=z.screen)||void 0===t?void 0:t.width,height:null===(e=z.screen)||void 0===e?void 0:e.height,orientation:null===(r=z.screen)||void 0===r||null===(n=r.orientation)||void 0===n?void 0:n.type},time:o,formattedTime:i(o),userAgent:z.navigator.userAgent,pluginVersion:F(),pageUrl:z.location.href};for(const t of J)u={...u,...t()};return u},tt=t=>{const{type:e,colno:r,filename:n,lineno:o,message:u,error:a}=t;return{...Z(),error:{type:e,colno:r,filename:n,lineno:o,message:u,error:D(a)}}},et={registerGlobalHandler:()=>{z.addEventListener("error",(async t=>{const e={type:"Plugin.Errors.Unhandled",details:tt(t)};(t=>{if("Uncaught EvalError: Possible side-effect in debug-evaluate"===t.error.message)return!0;try{const e=new URL(t.error.filename);if(e.origin.endsWith(".vk.com")||e.origin.endsWith("/vk.com"))return!0;if("moz-extension:"===e.protocol&&e.origin){const t=new URL((new Error).fileName).origin;if(t&&e.origin!==t)return!0}if(c((()=>{var e,r;const n=new URL((new Error).fileName).origin,o=null!==(e=null===(r=t.error.error)||void 0===r?void 0:r.stack)&&void 0!==e?e:"";return Array.from(/moz-extension:\/\/[a-z\-\d]+\//g[Symbol.matchAll](o)||[]).some((t=>t[0]!==n))})))return!0}catch(t){}return!1})(e.details)||("uncaught exception: out of memory"!==e.details.error.message?(G.error(p(e)),await Q(e)):et.default(new N))}))},addErrorDetailsSupplier:t=>{J.push(t)},setContextInvalidationHandler:t=>{X=t},default:t=>{et.handleException({e:t})},handleException:({e:t,details:e,logger:r=G})=>{et.handleExceptionAndWait({e:t,details:e,logger:r})},handleExceptionAndWait:async({e:t,details:e,logger:r=G})=>{const n=(t=>"string"==typeof(null==t?void 0:t.vksErrorType)?t.vksErrorType:null!=t&&t.isVksWarning?`Plugin.Warnings.${t.name}`:`Plugin.Errors.${(null==t?void 0:t.name)||"Unnamed"}`)(t=g.wrap(t));if(r&&r.error(p({e:t,type:n,details:e})),"ContextInvalidatedWarning"===t.name){if(X(),Y)return Promise.resolve();Y=!0}return await Q({type:n,details:{...Z(),error:D(t),...e}})}},rt="UserInfoStorage";class nt{constructor(){this._chromeStorage=P.getLocal()}async read(){return await this._chromeStorage.getSingle(rt)||{}}async updateInplace(t){const e=await this.read(),r=Date.now();return t(e,r),e.updateTime=r,await this._chromeStorage.set({[rt]:e}),e}}const ot=()=>{chrome.runtime.onMessage.addListener((t=>{"newUrl"===t.event&&chrome.tabs.create({url:t.url}).catch(et.default)})),(new w).start(),chrome.runtime.onInstalled.addListener((t=>{"install"===t.reason&&(chrome.tabs.create({url:`${n()}/vksaver/installed.php?plugin_installed=1`}).catch(et.default),chrome.tabs.create({url:"https://vk.com/audio"}).catch(et.default))}));const t=`${n()}/feedback.php?plugin_uninstalled=1&plugin_version=${F(et.default)}`;chrome.runtime.setUninstallURL(t),(new nt).read().then((e=>e.lastUserId&&chrome.runtime.setUninstallURL(`${t}&last_used_id=${e.lastUserId}`)),et.default)};class ut extends h{constructor(t,e=void 0,r=void 0){super(t,e,r),this.name="DownloadsClientError"}}class at extends m{constructor(t){super("Download client timeout"),this.name="DownloadsClientTimeoutWarning",this.vksErrorType=`Plugin.Warnings.DownloadsClientTimeoutWarning.${t}`}}class it{startDownload(t){return Promise.race([new Promise(((e,r)=>{chrome.runtime.sendMessage({event:"DownloadsServer.download",options:t},(n=>{try{if(v.throwIfPresent(),n.error)throw new ut("startDownload: error: ",{options:t},n.error);e(n.downloadId)}catch(t){r(t)}}))})),s(2500).then((()=>{throw new at("ContentScript.startDownload")}))]).catch((t=>{throw g.wrap(t)}))}search(t){return Promise.race([new Promise(((e,r)=>{chrome.runtime.sendMessage({event:"DownloadsServer.search",query:t},(n=>{try{if(v.throwIfPresent(),n.error)throw new ut("search: error: ",{query:t},n.error);e(n.results)}catch(t){r(t)}}))})),s(2500).then((()=>{throw new at("ContentScript.search")}))]).catch((t=>{throw g.wrap(t)}))}}r(7727),r(8675),r(3462),r(3824),r(7380),r(1118);const st={floatBetween:(t,e)=>Math.random()*(e-t)+t,intBetween:{excludingEnd:(t,e)=>Math.floor(st.floatBetween(Math.ceil(t),Math.floor(e))),includingEnd:(t,e)=>st.intBetween.excludingEnd(t,e+1)},base16String(t=16){const e=new Uint8Array(Math.ceil(t/2));return crypto.getRandomValues(e),Array.from(e,(t=>t.toString(16).padStart(2,"0"))).join("").substring(0,t)}};function ct(t,e,r,n,o){const u=st.base16String();let a=()=>{};return Promise.race([new Promise(((r,o)=>{a=t=>{try{t.data.type===`VKS_RESPONSE_${e}`&&t.data.requestId===u&&(t.data.error?n(t.data.error):r(t.data.responseData))}catch(t){o(t)}},window.addEventListener("message",a),window.postMessage({type:`VKS_REQUEST_${e}`,requestId:u,requestData:t},window.location.origin)})),s(r).then(o)]).finally((()=>{window.removeEventListener("message",a)}))}function lt(t,e){window.addEventListener("message",(async r=>{if(r.data.type===`VKS_REQUEST_${t}`)try{const n=await e(r.data.requestData);window.postMessage({type:`VKS_RESPONSE_${t}`,responseData:n,requestId:r.data.requestId},window.location.origin)}catch(e){window.postMessage({type:`VKS_RESPONSE_${t}`,error:D(e),requestId:r.data.requestId},window.location.origin)}}))}const dt="TracksHistoryStorage";class ft{constructor(t=1e3){this._chromeStorage=P.getLocal(),this.capacity=t}async clear(){await this._chromeStorage.remove(dt)}async add(t){await this.updateInplace((e=>{const r=e.tracks.findIndex((e=>e===t));r>=0&&e.tracks.splice(r,1),e.tracks.push(t);const n=e.tracks.length-this.capacity;n>0&&e.tracks.splice(0,n)}))}async read(){return await this._chromeStorage.getSingle(dt)||{tracks:[],updateTime:0}}async updateInplace(t){const e=await this.read(),r=Date.now();return t(e,r),e.updateTime=r,await this._chromeStorage.set({[dt]:e}),e}}const Dt=()=>{const t=new it,e=new ft;lt("DOWNLOADS_DOWNLOAD",(async e=>await t.startDownload(e.options))),lt("DOWNLOADS_SEARCH",(async e=>await t.search({id:e.downloadId}))),lt("TRACKS_HISTORY_ADD",(async({fullLocalTrackId:t})=>await e.add(t))),((t,e=document.body)=>{const r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",t),e.appendChild(r)})(chrome.runtime.getURL("EntryPoint.js"))};r(5306),r(2707),r(6535),r(9244);var pt=r(1142),ht=r.n(pt);class vt{constructor(){this.elements=[]}add(t,e){this.elements.push({element:t,used:e})}removeUnused(){let t=!1;for(const e of this.elements)e.used(e.element)||(e.element.remove(),e.element=null,t=!0);t&&(this.elements=this.elements.filter((({element:t})=>t)))}}class yt{constructor(t){this._cache={},this._defaultLifetimeMillis=t}itemIsExpiredOrAbsent(t){var e,r;return(null!==(e=null===(r=this._cache[`${t}`])||void 0===r?void 0:r.deathTime)&&void 0!==e?e:0)<=Date.now()}get(t){var e;return null===(e=this._cache[`${t}`])||void 0===e?void 0:e.value}put(t,e,r=this._defaultLifetimeMillis){const n=Date.now()+r;return this._cache[`${t}`]={deathTime:n,value:e},e}async asyncComputeIfExpiredOrAbsent(t,e,r=this._defaultLifetimeMillis){return this.itemIsExpiredOrAbsent(t)?this.put(t,await e(),r):this.get(t)}computeIfExpiredOrAbsent(t,e,r=this._defaultLifetimeMillis){return this.itemIsExpiredOrAbsent(t)?this.put(t,e(),r):this.get(t)}}class mt extends h{constructor(t=void 0,e=void 0){super("Video unavailable",e,null),this.name="VideoUnavailableError",this.reason=t}}function At(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gt(t){return function(t){if(Array.isArray(t))return wt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return wt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Et,Ct,Ft,bt,_t,kt=(Et=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],Ct=function(){function t(e){var r=e.targetModal,n=e.triggers,o=void 0===n?[]:n,u=e.onShow,a=void 0===u?function(){}:u,i=e.onClose,s=void 0===i?function(){}:i,c=e.openTrigger,l=void 0===c?"data-micromodal-trigger":c,d=e.closeTrigger,f=void 0===d?"data-micromodal-close":d,D=e.openClass,p=void 0===D?"is-open":D,h=e.disableScroll,v=void 0!==h&&h,y=e.disableFocus,m=void 0!==y&&y,A=e.awaitCloseAnimation,g=void 0!==A&&A,w=e.awaitOpenAnimation,E=void 0!==w&&w,C=e.debugMode,F=void 0!==C&&C;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modal=document.getElementById(r),this.config={debugMode:F,disableScroll:v,openTrigger:l,closeTrigger:f,openClass:p,onShow:a,onClose:s,awaitCloseAnimation:g,awaitOpenAnimation:E,disableFocus:m},o.length>0&&this.registerTriggers.apply(this,gt(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e,r;return e=t,(r=[{key:"registerTriggers",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.filter(Boolean).forEach((function(e){e.addEventListener("click",(function(e){return t.showModal(e)}))}))}},{key:"showModal",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){this.modal.addEventListener("animationend",(function e(){t.modal.removeEventListener("animationend",e,!1),t.setFocusToFirstNode()}),!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,e)}},{key:"closeModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation){var r=this.config.openClass;this.modal.addEventListener("animationend",(function t(){e.classList.remove(r),e.removeEventListener("animationend",t,!1)}),!1)}else e.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(t){this.modal=document.getElementById(t),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(t){if(this.config.disableScroll){var e=document.querySelector("body");switch(t){case"enable":Object.assign(e.style,{overflow:""});break;case"disable":Object.assign(e.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(t){(t.target.hasAttribute(this.config.closeTrigger)||t.target.parentNode.hasAttribute(this.config.closeTrigger))&&(t.preventDefault(),t.stopPropagation(),this.closeModal(t))}},{key:"onKeydown",value:function(t){27===t.keyCode&&this.closeModal(t),9===t.keyCode&&this.retainFocus(t)}},{key:"getFocusableNodes",value:function(){var t=this.modal.querySelectorAll(Et);return Array.apply(void 0,gt(t))}},{key:"setFocusToFirstNode",value:function(){var t=this;if(!this.config.disableFocus){var e=this.getFocusableNodes();if(0!==e.length){var r=e.filter((function(e){return!e.hasAttribute(t.config.closeTrigger)}));r.length>0&&r[0].focus(),0===r.length&&e[0].focus()}}}},{key:"retainFocus",value:function(t){var e=this.getFocusableNodes();if(0!==e.length)if(e=e.filter((function(t){return null!==t.offsetParent})),this.modal.contains(document.activeElement)){var r=e.indexOf(document.activeElement);t.shiftKey&&0===r&&(e[e.length-1].focus(),t.preventDefault()),!t.shiftKey&&e.length>0&&r===e.length-1&&(e[0].focus(),t.preventDefault())}else e[0].focus()}}])&&At(e.prototype,r),t}(),Ft=null,bt=function(t){if(!document.getElementById(t))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},_t=function(t,e){if(function(t){t.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(t),!e)return!0;for(var r in e)bt(r);return!0},{init:function(t){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),r=gt(document.querySelectorAll("[".concat(e.openTrigger,"]"))),n=function(t,e){var r=[];return t.forEach((function(t){var n=t.attributes[e].value;void 0===r[n]&&(r[n]=[]),r[n].push(t)})),r}(r,e.openTrigger);if(!0!==e.debugMode||!1!==_t(r,n))for(var o in n){var u=n[o];e.targetModal=o,e.triggers=gt(u),Ft=new Ct(e)}},show:function(t,e){var r=e||{};r.targetModal=t,!0===r.debugMode&&!1===bt(t)||(Ft&&Ft.removeEventListeners(),(Ft=new Ct(r)).showModal())},close:function(t){t?Ft.closeModalById(t):Ft.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=kt);const St=kt;async function Bt(t,e,r=(()=>{})){const n=st.base16String(16),o=S(function(t,e,r){return`\n        <div class="vks-modal vks-modal-slide" id="${t}" aria-hidden="true">\n            <div class="vks-modal__overlay" tabindex="-1" data-vks-modal-close>\n                <div class="vks-modal__container" role="dialog" aria-modal="true" aria-labelledby="${t}-title">\n                    <header class="vks-modal__header">\n                        <h2 class="vks-modal__title" id="${t}-title">\n                            ${e}\n                        </h2>\n                        <button class="vks-modal__close" aria-hidden="true" tabindex="-1" data-vks-modal-close></button>\n                    </header>\n                    <main class="vks-modal__content" id="${t}-content">\n                        ${r}\n                    </main>\n                    <footer class="vks-modal__footer">\n                        <button class="vks-modal__btn vks-modal__btn-primary"\n                          aria-label="Close this dialog window" data-vks-modal-close>\n                            Ok\n                        </button>\n                    </footer>\n                </div>\n            </div>\n        </div>\n    `}(n,t,e)),u=()=>St.close(n);return r(o,u),o.querySelectorAll("[data-vks-modal-close]").forEach((t=>{t.addEventListener("click",(t=>{t.currentTarget===t.target&&u()}))})),document.body.appendChild(o),await new Promise(((t,e)=>{try{St.show(n,{onClose:e=>{setTimeout((()=>{e.remove()}),2e3),t()},awaitCloseAnimation:!0})}catch(t){e(t)}}))}const xt=(t,e,r=!0,n=128)=>(t=t||"",r&&(t=_(t)),(t=t.trim().substr(0,n).trim())||e);function It(t,e,r=e){t.setAttribute("data-vks-tooltip",`Аудиозапись недоступна. Нажмите, чтобы перейти к поиску ${e}`),t.setAttribute("data-vks-search-claimed",""),t.addEventListener("click",(()=>{window.open(`https://vk.com/audio?q=${encodeURIComponent(r)}`,"_blank","noopener")}))}function Tt(t){t.setAttribute("data-vks-tooltip","Войдите в ВК, чтобы скачать."),t.setAttribute("data-vks-download-unavailable",""),t.addEventListener("click",(()=>Bt("Войдите в ВК.","<p>Войдите в ВК, чтобы скачать.</p>").catch(et.default)))}const Lt=()=>document.querySelector("#side_bar a[href*='/audio']"),Ot=async(t=1e4)=>await(async(t,e=Number.MAX_SAFE_INTEGER,r=500)=>{const n=Date.now()+e;for(;!t();){const t=n-Date.now();if(t<=0)return!1;await s(Math.min(r,t))}return!0})((()=>!!Lt()),t,500);let Pt=null;function $t(){const t=Lt();if(!t)return null;const e=t.getAttribute("href").replace(/[^0-9]+/gi,""),r=parseInt(e,10);if(Number.isFinite(r)&&(Pt=r,!g.wasFired())){(new nt).updateInplace((t=>{t.lastUserId=Pt})).catch(et.default)}return Pt}function jt(){return"number"==typeof $t()}class Rt extends h{constructor(t,e=void 0,r=void 0){super(t,e,r),this.name="FormatValidationError"}}class Mt extends h{constructor(t=void 0){super("Response body decoding error",null,t),this.name="ResponseBodyDecodingError"}}class Nt extends m{constructor(){super("Response body fetch failed"),this.name="ResponseBodyFetchingWarning"}}class Ut extends m{constructor(){super("Response body fetch failed"),this.name="ResponseBodyVk429HtmlWarning"}}const qt=(t,e=20)=>{const r=`${t}`;return r.length>e?`${r.substring(0,e)}...`:r},Vt=t=>({number:(e,r=(e=>{throw new Rt(`${qt(e)} is not a number`,t)}))=>"number"==typeof e?e:r(e),int:(e,r=(e=>{throw new Rt(`${qt(e)} is not an int (is not a whole number)`,t)}))=>"number"==typeof e&&e%1==0?e:r(e),parseInt(e,r=(e=>{throw new Rt(`${qt(e)} is not an int (is not a whole number)`,t)})){return this.int("string"==typeof e?parseInt(e,10):e,(()=>r(e)))},string:(e,r=(e=>{throw new Rt(`${qt(e)} is not a string`,t)}))=>"string"==typeof e?e:r(e),urlencodedString(e,r=(e=>{throw new Rt(`${qt(e)} is not an urlencoded string`,t)})){if("string"!=typeof e)return r(e);try{return decodeURIComponent(e),e}catch(t){return r(e)}},object:(e,r=(e=>{throw new Rt(`${qt(e)} is not an object`,t)}))=>e&&"object"==typeof e&&!Array.isArray(e)?e:r(e),array:(e,r=(e=>{throw new Rt(`${qt(e)} is not an array`,t)}))=>Array.isArray(e)?e:r(e),arrayOrObject:(e,r=(e=>{throw new Rt(`${qt(e)} is not an array/object`,t)}))=>e&&"object"==typeof e?e:r(e),stringAsObject(e){const r=this.string(e);try{return this.object(JSON.parse(r))}catch(t){}throw new Rt(`${qt(r)} is not a json object representation`,t)},stringAsArray(e){const r=this.string(e);try{return this.array(JSON.parse(r))}catch(t){}throw new Rt(`${qt(r)} is not a json array representation`,t)},stringAsArrayOrObject(e){const r=this.string(e);try{return this.arrayOrObject(JSON.parse(r))}catch(t){}throw new Rt(`${qt(r)} is not a json array/object representation`,t)}});async function Wt(t,e){let r="";try{const n=await t.arrayBuffer();return r=new TextDecoder(e).decode(n),Vt({text:r,status:t.status}).stringAsObject(r)}catch(t){if("TypeError"===t.name&&("Failed to fetch"===t.message||"NetworkError when attempting to fetch resource."===t.message))throw new Nt;if(r.startsWith("<!DOCTYPE html>")&&r.includes("Error 429"))throw new Ut;throw new Mt(t)}}const Ht="FormSubmittingStorage",zt=t=>{const e={};for(const{key:r,value:n}of t){if(r in e)return t;e[r]=n}return e};class Gt{static trySave(t,e){g.wasFired()||(async()=>{await(new Gt).save(t,e)})().catch(et.default)}constructor(){this._chromeStorage=P.getLocal()}async clear(){await this._chromeStorage.remove(Ht)}async save(t,e){const r={url:t,params:zt(e),time:Date.now(),pluginVersion:F()};await this._chromeStorage.set({[Ht]:r})}async get(){return await this._chromeStorage.getSingle(Ht)}}const Jt=["Произошла ошибка!","Для возобновления работы, пожалуйста, обновите страницу."],Kt=(t="Ошибка!",e=Jt)=>{window.vks=window.vks||{},window.vks.refreshPageModalLock||(window.vks.refreshPageModalLock=!0,Bt(t,e.map((t=>`<p>${t}</p>`)).join("\n"),(t=>{const e=t.querySelector(".vks-modal__btn[data-vks-modal-close]");e.innerText="Обновить",e.addEventListener("click",(()=>window.location.reload()))})).finally((()=>{window.vks.refreshPageModalLock=!1})))};class Yt extends m{constructor(t,e){super("Fetch request timed out",{url:t,timeout:e}),this.name="FetchTimeoutWarning"}}class Xt extends h{constructor(t,e=void 0,r=void 0){super(t,e,r),this.name="FetchError"}}async function Qt(t,e={}){const{timeout:r=0}=e;if(r<=0)return await fetch(t,e);const n=new AbortController;let o=!1;const u=setTimeout((()=>{o=!0,n.abort()}),r);try{const r=await fetch(t,{...e,signal:n.signal});if(clearTimeout(u),o)throw new Error;return r}catch(n){if(o||n&&"DOMException"===n.constructor.name&&"AbortError"===n.name)throw new Yt("string"==typeof t?t:t.url,r);throw new Xt("Fetch error",{resource:t,options:e},n)}}const Zt={callAlAudioReloadAudio:async(...t)=>{const e=await Qt("https://vk.com/al_audio.php",{method:"POST",body:`act=reload_audio&al=1&ids=${t.join(",")}`,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},credentials:"include",timeout:o});if(401!==e.status&&418!==e.status||Kt(),200!==e.status)throw m.custom({errorTypeSuffix:`ReloadAudio.status.${e.status}`});const r=await Wt(e,"windows-1251");Vt(r).array(r.payload);const n=Vt(r).parseInt(r.payload[0]);if(3===n)throw Kt(),m.custom({errorTypeSuffix:"ReloadAudio.PayloadCode.3",details:r});const u=Vt(r).array(r.payload[1]);if(8===n){switch(u[0]){case'"bad_hash"':throw Kt(),m.custom({errorTypeSuffix:"ReloadAudio.BadHash",details:r});case'"no_audios"':throw m.custom({errorTypeSuffix:"ReloadAudio.NoAudios",details:r});default:throw h.custom({errorTypeSuffix:"ReloadAudio.PayloadCode.8",details:r})}}if(0!==n)throw h.custom({errorTypeSuffix:`ReloadAudio.PayloadCode.${n}`,details:r});return Vt(r).array(u[0])},callAlAudioLoadSection:async t=>{const e=await Qt("https://vk.com/al_audio.php?act=load_section",{method:"POST",body:new URLSearchParams({al:"1",claim:"0",is_loading_all:"1",is_preload:"0",offset:"0",type:"playlist",...t}).toString(),headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},credentials:"include",timeout:o});if(401!==e.status&&418!==e.status||Kt(),200!==e.status)throw m.custom({errorTypeSuffix:`AudioLoadSection.status.${e.status}`});const r=await Wt(e,"windows-1251");Vt(r).array(r.payload);const n=Vt(r).parseInt(r.payload[0]);if(3===n)throw m.custom({errorTypeSuffix:"AudioLoadSection.PayloadCode.3",details:r});const u=Vt(r).array(r.payload[1]);if(0!==n)throw h.custom({errorTypeSuffix:`AudioLoadSection.PayloadCode.${n}`,details:r});return Vt(r).object(u[0])},callAlAudioLoadCatalogSection:async t=>{const e=await Qt("https://vk.com/al_audio.php?act=load_catalog_section",{method:"POST",body:new URLSearchParams({al:"1",...t}).toString(),headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},credentials:"include",timeout:o});if(401!==e.status&&418!==e.status||Kt(),200!==e.status)throw m.custom({errorTypeSuffix:`AudioLoadCatalogSection.status.${e.status}`});const r=await Wt(e,"windows-1251");Vt(r).array(r.payload);const n=Vt(r).parseInt(r.payload[0]);if(3===n)throw m.custom({errorTypeSuffix:"AudioLoadCatalogSection.PayloadCode.3",details:r});const u=Vt(r).array(r.payload[1]);if(0!==n)throw h.custom({errorTypeSuffix:`AudioLoadCatalogSection.PayloadCode.${n}`,details:r});return Vt(r).object(u[1])},callAlVideoShow:async(t,e,r)=>{const n={al:"1",act:"show",video:t};n.list=e||void 0,n.playlist_id=r||void 0;const u=await Qt("https://vk.com/al_video.php",{method:"POST",body:new URLSearchParams(n).toString(),headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},credentials:"include",timeout:o});if(401!==u.status&&418!==u.status||Kt(),200!==u.status)throw m.custom({errorTypeSuffix:`VideoShow.status.${u.status}`});const a=await Wt(u,"windows-1251");Vt(a).array(a.payload);const i=Vt(a).parseInt(a.payload[0]);if(3===i)throw Kt(),m.custom({errorTypeSuffix:"VideoShow.PayloadCode.3",details:a});const s=Vt(a).array(a.payload[1]);if(8===i){const t=s[0],[e]=['"Видео недоступно в связи с обращением правообладателя','"Видеозапись недоступна, так как была удалена','"Клип недоступен, так как был удалён','"Видео доступно только подписчикам','"Видео закрыто настройками приватности','"Доступ ограничен руководителями сообщества','"Ошибка доступа','"Автор ограничил доступ к видео','"Видео недоступно, так как автор заблокирован','"Видео недоступно, так как страница автора заблокирована','"Видео недоступно для просмотра в вашей стране','"Сервер временно недоступен. Повторите попытку позже','"Кинолента недоступна, так как была уничтожена','"Кинолента засекречена','"Конфузъ съ доступомъ'].filter((e=>t.startsWith(e)));if(e)throw new mt(e.substring(1));throw h.custom({errorTypeSuffix:"VideoShow.PayloadCode.8",details:a})}if(16===i){const t=s[0],[e]=['"В данный момент раздел <b>Видео<\\/b> недоступен, попробуйте позже'].filter((e=>t.startsWith(e)));if(e)throw new mt(e.substring(1));throw h.custom({errorTypeSuffix:"VideoShow.PayloadCode.16",details:a})}if(0!==i)throw h.custom({errorTypeSuffix:`VideoShow.PayloadCode.${i}`,details:a});if(!s.length)throw new Rt("Short payloadJsonArray",a);return Vt(a).object(s[s.length-1])}};I({VkApi:Zt});const te="vks-video-download-btn",ee=new E,re=(t,e="Неподдерживаемый тип видео.")=>({videoId:t,unavailabilityMessage:e});class ne{constructor(){this.elementRemover=new vt,this.vkApiDataCache=new yt(36e5)}tryCreateDownloadButtons(){this.elementRemover.removeUnused();for(const t of function*(){for(const t of function*(){const{listId:t,playlistId:e}=function(t){var e;const r=new URL(t),n={listId:r.searchParams.get("list")||null,playlistId:null},o=null!==(e=r.searchParams.get("z"))&&void 0!==e?e:"";if(/^(video|clip)(-?\d+_\d+)/.exec(o)){const[,t,e]=o.split("/");n.listId=t||n.listId,n.playlistId=e||n.playlistId}return n}(window.location.href),r=Array.from(document.querySelectorAll([".ShortVideoPost__widgets .like_wrap .like_btns","#mv_info .mv_actions_block .like_wrap .like_btns","#mv_info .VerticalVideoLayerInfo__actions .like_wrap .like_btns"].join()));for(const n of r){if(oe(n))continue;const r=n.closest(".like_wrap"),o=/_like_(clip|video)(-?\d+_\d+)/,u=Array.from(r.classList).map((r=>{var u;const[,a,i]=null!==(u=o.exec(r))&&void 0!==u?u:[];return{panelElem:n,videoType:a,videoId:i,listId:t,playlistId:e}})).filter((({videoId:t})=>t));u.length>1&&ee.warn(`panels.length = ${u.length}`),u[0]&&(yield u[0])}}())yield t;for(const t of function*(){const t=Array.from(document.querySelectorAll([".post_info",".wl_post"].join()));for(const e of t){const t=e.querySelector(".like_wrap .like_btns");if(!t||oe(t)||e.querySelector(".vks-wall-audio-download-btn")||e.classList.contains("vksMultipleVideos"))continue;const{videoInfo:r,multipleVideos:n}=ae(e);n&&e.classList.add("vksMultipleVideos"),r&&(yield{panelElem:t,...r})}}())yield t}())try{const{panelElem:e,videoType:r,videoId:n,listId:o,playlistId:u}=t;if(oe(e))continue;this.createDownloadButton(r,n,o,u,e)}catch(t){et.handleException({e:t,details:{errorContext:{file:"VD.js",func:"trCrDoBu",message:"trCrDoBu failed"}}})}}createDownloadButton(t,e,r,o,a){const i=document.createElement("div");i.classList.add("vks-default-download-btn"),i.classList.add(te),a.matches(".PostBottomActionLikeBtns *")&&i.classList.add("PostBottomAction"),a.matches(".like_btns")&&i.classList.add("like_btn");const c=document.createElement("div");c.classList.add("vks-default-download-icon"),i.replaceChildren(c,S(`<span class='like_button_label'>Скачать ${"clip"===t?"клип":"видео"}</span>`)),a.appendChild(i);const l=a.matches([".post_info *",".wl_post *","._post_content *"].join()),d=window.location.href;if(this.elementRemover.add(i,(t=>"none"!==window.getComputedStyle(t).display&&(l||d===window.location.href))),!jt())return void Tt(i);const f=t=>i.setAttribute("data-vks-tooltip",t);i.addEventListener("mouseenter",(async()=>{try{ee.info(`Start downloading video (${e}) metadata`),c.classList.remove("vks-default-download-icon"),c.classList.add("vks-default-spinner"),f("Подождите, идёт загрузка информации о видео..."),await s(u);const a=await this.vkApiDataCache.asyncComputeIfExpiredOrAbsent(e,(()=>this.getVideoInfo(e,r,o)));c.classList.add("vks-default-download-icon"),a.unavailabilityMessage?(i.setAttribute("data-vks-download-unavailable",""),f(a.unavailabilityMessage)):(f("Нажмите, чтобы скачать"),i.addEventListener("click",(()=>{!function(t,e){document.querySelectorAll("video").forEach((t=>t.pause()));const r=`${n()}/${t}-${e.videoId}`,o=[{key:"userId",value:$t()},{key:"videoId",value:e.videoId},{key:"videoType",value:t},{key:"title",value:e.details.title},{key:"previewImg",value:e.details.previewImg},{key:"pluginVersion",value:F()},{key:"vkReferrerUrl",value:window.location.href},...e.details.formats.flatMap(((t,e)=>[{key:`formats[${e}][formatId]`,value:t.formatId},{key:`formats[${e}][url]`,value:t.url||void 0},{key:`formats[${e}][height]`,value:t.height||void 0}]))];Gt.trySave(r,o),x(r,o)}(t,a)})))}catch(t){c.classList.remove("vks-default-download-icon"),c.classList.add("vks-download-error-icon"),f("Произошла ошибка, попробуйте повторить попытку позднее."),i.style.cursor="not-allowed",et.handleException({e:t,details:{errorContext:{file:"VD.js",func:"stDo"}}})}finally{c.classList.remove("vks-default-spinner")}}),{once:!0})}async getVideoInfo(t,e,r){let n;try{n=await Zt.callAlVideoShow(t,e,r)}catch(e){if(e instanceof mt&&e.reason)return re(t,e.reason);throw e}if(!n.player)return re(t);const o=Vt(n).object(n.player);if("youtube"===o.type)return re(t,"Скачивание видео с Youtube не поддерживается.");if("iframeOrFlash"===o.type||"flash"===o.type)return re(t,"Скачивание flash-видеороликов не поддерживается.");const u=Vt(n).array(o.params),a=Vt(n).object(u[0]),i=xt(Vt(a).string(a.md_title),"Без названия"),s=Vt(n).string(a.jpg||""),c=function(t){const e=[],r=new Set;for(const[o,u]of Object.entries(t)){var n;const t=ie(u);if(!t)continue;const a=null===(n=/^(?:url|cache)(\d+)$/.exec(o))||void 0===n?void 0:n[1];if(a||"direct_mp4"===o){if(a){if(r.has(a))continue;r.add(a)}e.push({formatId:o,height:a?parseInt(a,10):0,url:t})}}return e}(a).sort(((t,e)=>t.height-e.height));return c.length?{videoId:t,details:{title:i,previewImg:s,formats:c}}:a.live&&3!==a.live?re(t,"Скачивание неокончившихся прямых трансляций не поддерживается. Если трансляция закончилась - пожалуйста, обновите эту страницу для скачивания видеозаписи."):re(t)}}function oe(t){return!!t.querySelector(`.${te}`)}const ue=t=>c((()=>{(t=t.trim()).endsWith(";")||(t+=";");const e=t.startsWith("return showInlineVideo(")?t.substring(23,t.length-2):t.substring(17,t.length-2),r=e.split(","),n=r.map((t=>t.trim())).map((t=>["event","this","undefined","window","location","self"].includes(t)?"null":t)),o=`[${n.join(",")}]`,[u,a,i]=c((()=>ht().parse(o)),(u=>{throw new Rt("Cannot parse video js",{js:t,paramsString:e,segments:r,transformedSegments:n,jsonArrayString:o},u)})),s=null!=i&&i.shortVideo?"clip":"video";return{videoId:Vt(t).string(u),listId:"string"==typeof a?a:"",videoType:s}}),(e=>et.default("FormatValidationError"===e.name?e:new Rt("Cannot parse video js",{js:t},e))));function ae(t){const e=Array.from(t.querySelectorAll([".wall_text","#wl_post_body"].join())).flatMap((t=>Array.from(t.querySelectorAll(['[onclick^="return showVideo("]','[onclick^="return showInlineVideo("]'].join())))).map((t=>t.getAttribute("onclick"))).map(ue).filter((t=>t)),r=new Set(e.map((t=>t.videoId)));if(1!==r.size)return{videoInfo:null,multipleVideos:r.size>1};const n=new Set(e.map((t=>t.listId)).filter((t=>!!t)));n.size>1&&ee.warn(`listIds.size = ${n.size}`);const o=new Set(e.map((t=>t.videoType)));return o.size>1&&ee.warn(`videoTypes.size = ${o.size}`),{videoInfo:{...e[0],listId:Vt().string(n.keys().next().value||"")||void 0,playlistId:void 0},multipleVideos:!1}}function ie(t){return"string"!=typeof t?null:(t=t.trim()).startsWith("https://")?t:null}const se={create:()=>S('\n            <div class="vks-progress">\n                <svg class="vks-progress-spinner" viewBox="-50 -50 100 100">\n                    <circle class="bgpath" cx="0" cy="0" r="28"></circle>\n                    <circle class="fgpath" cx="0" cy="0" r="28"></circle>\n                </svg>\n                <span class="vks-progress-counter">0﹪</span>\n            </div>\n        '),update(t,e){t.querySelector(".fgpath").style.strokeDashoffset=""+(175-Math.round(135*e));t.querySelector(".vks-progress-counter").textContent=`${Math.round(100*e)}﹪`}};class ce{constructor(t){const e=Date.now();this.status=t,this.count=1,this.firstTime=e,this.lastTime=e}}class le{constructor(){this._history=[]}accept(t){if(0===this._history.length)return void this._pushNew(t);const e=this._history[this._history.length-1];if(t===e.status)return++e.count,void(e.lastTime=Date.now());this._pushNew(t)}join(t=", "){return this._history.map((t=>`${t.count}: ${t.status} (${t.lastTime-t.firstTime} millis)`)).join(t)}_pushNew(t){this._history.push(new ce(t))}}class de extends m{constructor(t,e=void 0,r=void 0){super(t,e,r),this.name="VkBug1887"}}de.throwIfPresent=t=>{if((t=>{try{if("number"==typeof t[1])return!1;const e=Vt().object(t[15]).content_id,r=Math.min(e.length,16);if(r<4)return!1;const n=new Set([2,9,12,15]);for(let o=0;o<r;o++)if(!n.has(o)&&e[o]!==t[o])return!1;return!0}catch(t){return et.default(t),!1}})(t))throw new de("Bug 1887",t)};const fe=new E;class De{constructor(){this._CACHE_LIFETIME_MILLIS=36e5,this._DELAY_BETWEEN_REQUESTS=()=>st.intBetween.includingEnd(500,800),this._DELAY_BEFORE_RETRIES=()=>st.intBetween.includingEnd(2500,3500),this._DELAY_BEFORE_FIRST_REQUEST=()=>st.intBetween.includingEnd(500,1500),this._MAX_RETRIES=10,this._elementRemover=new vt,this._vkApiDataCache={}}async _downloadPlaylistTrackData(t,e=(()=>{})){fe.info(`Downloading metadata: start, audioListId=${t.audioListId}`);let r=!1;const n=new le;let o=0;const u=t.tracks.length;try{for(const{currentTrack:a,nextTracks:i}of this._generateTrackBatches(t.tracks))for(let c=0;c<=this._MAX_RETRIES;++c){if(this._isButtonDestroyed(t))return;r&&await s(this._DELAY_BETWEEN_REQUESTS()),await s(this._DELAY_BEFORE_RETRIES()*c),r=!0;try{const r=await ye([a,...i]);n.accept("OK"),r.forEach((t=>{this._vkApiDataCache[`${t.trackId}`]=t})),o+=r.length;try{e(o,u)}catch(t){et.handleException({e:t,details:{errorContext:{file:"ALC.js",func:"_doPlTr",message:"onPrCh failed"}}})}fe.info(`Got apiTrackData: audioListId=${t.audioListId} trackId=${a.trackId}`);break}catch(t){n.accept("Error"),c<this._MAX_RETRIES?fe.warn(t):et.handleException({e:t,details:{errorContext:{file:"ALC.js",func:"_doPlTrDa",message:"skip do ba: re li exceeded"}}})}}}finally{fe.info(`Downloading metadata: done, audioListId=${t.audioListId}:\n${n.join("\n")}`)}}_isButtonDestroyed(t){return this._elementRemover.removeUnused(),!document.querySelector(`#${t.buttonId}`)&&(fe.info(`Metadata download interrupted, because button ${t.buttonId} is gone, audioListId=${t.audioListId}`),!0)}*_generateTrackBatches(t){for(let e=0;e<t.length;++e){const r=t[e];if(!this._apiTrackDataShouldBeRequested(r))continue;const n=t.slice(e+1,e+5).filter((t=>this._apiTrackDataShouldBeRequested(t)));yield{currentTrack:r,nextTracks:n}}}_createMetadataProgressHandler(t,e="Подождите, идёт загрузка информации о треках: "){return(r,n)=>{t.setAttribute("data-vks-tooltip",`${e}${r} из ${n}`);const o=t.querySelector(".vks-progress");o&&se.update(o,r/n)}}_apiTrackDataShouldBeRequested(t){return!t.claimed&&this._apiTrackDataExpiredOrAbsent(t.trackId)}_apiTrackDataExpiredOrAbsent(t){const e=this._vkApiDataCache[`${t}`];if(!e)return!0;const r=Date.now();return e.timestamp+this._CACHE_LIFETIME_MILLIS<=r}async replaceAudioListDataTracks(t,e){fe.info("replaceOwnerAudiosListDataTracks: start");for(let r=0;r<=this._MAX_RETRIES;++r){if(this._isButtonDestroyed(t))return;await s(this._DELAY_BEFORE_RETRIES()*r);try{return void Object.assign(t,await e())}catch(t){if(!(r<this._MAX_RETRIES))throw t;fe.warn(t)}}}_getBaseFormParams(t){const e=[{key:"playlistId",value:t.audioListId},{key:"size",value:t.size},{key:"pluginVersion",value:t.pluginVersion},{key:"userId",value:t.userId}];return t.author&&e.push({key:"author",value:t.author}),e}_getTracksFormParams(t){return t.tracks.flatMap(((t,e)=>{var r,n;return[{key:`tracks[${e}][artist]`,value:t.artist},{key:`tracks[${e}][claimed]`,value:t.claimed},{key:`tracks[${e}][dur]`,value:t.dur},{key:`tracks[${e}][name]`,value:t.name},{key:`tracks[${e}][ownerId]`,value:t.ownerId},{key:`tracks[${e}][trackId]`,value:t.trackId},{key:`tracks[${e}][coverImage]`,value:t.coverImage||""},{key:`tracks[${e}][gTrackId]`,value:t.gTrackId||""},{key:`tracks[${e}][url]`,value:(null===(r=this._vkApiDataCache)||void 0===r||null===(n=r[`${t.trackId}`])||void 0===n?void 0:n.url)||""}]}))}}function pe(t,e){const r=[],n=t.querySelectorAll(".audio_row");for(let t=0;t<n.length&&r.length<e;t++){const e=he(n[t]);e&&r.push(e)}return r}function he(t){const e=t.getAttribute("data-audio");if(!e)return null;return ve(Vt(t.outerHTML).stringAsArrayOrObject(e))}function ve(t){var e;de.throwIfPresent(t);const r=Vt(t).int(t[1]),n=Vt(t).parseInt(t[0]),o=(()=>{const e=Vt(t).string(t[13]).split("/");return e[5]?`${r}_${n}_${e[2]}_${e[5]}`:null})(),u=!o,a=Vt(t).string(t[11]),i=Vt(t).string(t[14]).split(",http").map(((t,e)=>e?`http${t}`:t)),s=i[i.length-1]||null,l=Vt(t).string(null!==(e=t[26])&&void 0!==e?e:"");return{ownerId:r,trackId:n,claimed:u,artist:xt(Vt(t).string(t[4]),"Неизвестен"),name:xt(Vt(t).string(t[3]),"Без названия"),dur:Vt(t).int(t[5]),coverImage:s,longTrackId:o,playlistAccessHash:c((()=>Vt().string(t[19][2])))||null,context:a,vkPageUrl:l?`https://vk.com/audio${l}`:null,gTrackId:l}}async function ye(t){return(await Zt.callAlAudioReloadAudio(...t.map((t=>t.longTrackId)))).map((t=>({trackId:Vt(t).parseInt(t[0]),url:Vt(t).string(t[2]),timestamp:Date.now()})))}const me=new E,Ae={runSync(t,e,r=0){const n=Date.now();try{return e()}finally{const e=Date.now()-n;e>r&&me.info(`${t} finished. Time elapsed: ${e} ms.`)}},async runAsync(t,e,r=0){const n=Date.now();try{return await e()}finally{const e=Date.now()-n;e>r&&me.info(`${t} finished. Time elapsed: ${e} ms.`)}}},ge="vks-playlist-download-btn",we=()=>document.head.classList.contains("vks-autotests")?20:1e3,Ee=new E,Ce=/(?:https?:\/\/(?:(?:m|new)\.)?vk\.com)?(?:\/music\/(playlist|album)\/|(?:\/audios(-?\d+))?(?:.*?\?.*?z=)?audio_playlist)(-?\d+_\d+)(?:(?:%2F)?_?([0-9a-f]+))?/,Fe=/\b([0-9 ]+)\s+аудиозапис(?:ь|и|ей)/,be=/playlist_(-?\d+_-?\d+)/;function _e(t){return!!t.querySelector(`.${ge}`)}function ke(t){var e;return t.classList.contains("SecondaryAttachment")?`${t.getAttribute("data-owner-id")}_${t.getAttribute("data-playlist-id")}`:null===(e=be.exec(t.getAttribute("data-playlist-id")))||void 0===e?void 0:e[1]}function Se(t){var e,r,n;const o=ke(t);if(!o)return null;const u=pe(t,we()),a=$t(),i=function(t){const e=Ce.exec(t);return e?{playlistId:e[3],playlistType:e[1]||"playlist",fromId:e[2],accessHash:e[4]}:null}(null!==(e=null===(r=t.querySelector(['.audio_pl_snippet__info_title_row a[href*="/music/album/"]','a.SecondaryAttachment__link[href*="/music/album/"]'].join()))||void 0===r?void 0:r.getAttribute("href"))&&void 0!==e?e:window.location.href),s=function(t){var e;return(null===(e=t.querySelector([".AudioPlaylistSnippet__author",".audio_pl_snippet__info_author"].join()))||void 0===e?void 0:e.innerText)||null}(t);return{audioListId:o,playlistType:(null==i?void 0:i.playlistType)||"playlist",accessHash:t.getAttribute("data-access-hash")||t.getAttribute("data-access-key")||(null==i?void 0:i.accessHash)||u.map((t=>t.playlistAccessHash)).find((t=>t))||"",fromId:(null==i?void 0:i.fromId)||`${a}`,title:Be(t),author:s,size:null!==(n=xe(t))&&void 0!==n?n:1===u.length?1:null,pluginVersion:F(),coverImages:Ie(t),tracks:u,buttonId:`btn_${st.base16String()}`,userId:a}}function Be(t){var e;return(null===(e=t.querySelector([".AudioPlaylistSnippet__title--main",".audio_pl_snippet_info_maintitle"].join()))||void 0===e?void 0:e.innerText)||null}function xe(t){var e;const r=(null===(e=t.querySelector([".AudioPlaylistSnippet__left .AudioPlaylistSnippet__info",".audio_pl_snippet__stats",".audio_pls_snippet__more_btn_icon"].join()))||void 0===e?void 0:e.innerText)||"",[,n]=Fe.exec(r)||[];return"string"==typeof n?parseInt(n.replace(" ",""),10):null}function Ie(t){const e=[];if(t.classList.contains("SecondaryAttachment")){t.querySelectorAll([".SecondaryAttachmentAvatar img[src]"].join()).forEach((t=>e.push(t.src)))}else{t.querySelectorAll([".AudioPlaylistSnippet__cover[style*='background-image:url(']",".audio_pl_snippet__cover[style*='background-image:url(']",".audio_pl_snippet__cover [style*='background-image:url(']"].join()).forEach((t=>e.push(t.style.backgroundImage.slice(5,-2))))}return e}class Te extends De{constructor(){super(),Ee.info("PlaylistDownloader created")}tryCreateDownloadButtons(){this._elementRemover.removeUnused();for(const{domPlaylistData:t,panelElem:e}of function*(){const t=Array.from(document.querySelectorAll(["._audio_pl[data-playlist-id]",".SecondaryAttachment[data-playlist-id]"].join()));for(const e of t){const t=ke(e);if(!t)continue;const r=-1!==t.indexOf("_-"),n=function*(){var t,n;if(e.closest(".reply_content")||(yield null===(t=e.closest(".wall_text,#wl_post_body"))||void 0===t||null===(n=t.closest(".post_info,.wl_post"))||void 0===n?void 0:n.querySelector(".like_wrap .like_btns")),e.classList.contains("SecondaryAttachment"))yield e;else{if(r){let t=e.querySelector(["button.ActionButton--shuffle","button.audio_pl_snippet__shuffle_all"].join());var o;if(t)return t=null!==(o=t.closest(".audio_page__shuffle_all"))&&void 0!==o?o:(u=t,a=S('\n                            <div class="audio_page__shuffle_all"></div>\n                        '),u.parentNode.replaceChild(a,u),a.appendChild(u),a),t.style.display="flex",t.style.alignItems="center",void(yield t)}var u,a;yield e.querySelector([".AudioPlaylistSnippet__actions",".audio_pl_snippet__actions"].join())}}();for(const t of n){if(!t)continue;if(_e(t))continue;if("none"===window.getComputedStyle(t).display)continue;const r=Se(e);r&&(yield{panelElem:t,domPlaylistData:r})}}}())try{this.createDownloadButton(t,e)}catch(t){et.handleException({e:t,details:{errorContext:{file:"PD.js",func:"trDoBu",message:"crDoBu failed"}}})}}createDownloadButton(t,e){const r=document.createElement("div");r.classList.add("vks-default-download-btn"),r.classList.add(ge),r.id=t.buttonId,e.matches(".audio_pl_snippet__actions")&&r.classList.add("audio_pl_snippet__action_btn"),e.matches(".AudioPlaylistSnippet__actions")&&r.classList.add("AudioPlaylistSnippet__actionButton"),e.matches(".PostBottomActionLikeBtns *")&&r.classList.add("PostBottomAction"),e.matches(".like_btns")&&r.classList.add("like_btn");const n=e.classList.contains("SecondaryAttachment"),o=se.create(),a=document.createElement("div");a.classList.add("vks-default-download-icon"),r.replaceChildren(a,o,S(`<span class='like_button_label'>${e.closest(".audio_page__shuffle_all")?"Скачать":"Скачать плэйлист"}</span>`)),n?e.querySelector(".SecondaryAttachment__after").before(r):e.appendChild(r),Ee.info(`PlaylistDownloader: button created: audioListId=${t.audioListId}`);const i=t=>r.setAttribute("data-vks-tooltip",t);if(t.tracks.length&&!t.tracks.find((t=>!t.claimed&&t.longTrackId)))return i("В плэйлисте нет аудиозаписей, доступных для скачивания."),void r.setAttribute("data-vks-download-unavailable","");if(!jt())return void Tt(r);const c=e.matches([".post_info *",".wl_post *","._post_content *"].join()),l=window.location.href;this._elementRemover.add(r,(t=>(n||"none"!==window.getComputedStyle(t).display)&&(c||l===window.location.href)));r.addEventListener("mouseenter",(async()=>{try{Ee.info(`Start downloading playlist (${t.buttonId}) metadata`),r.classList.add("vks-btn-loading"),se.update(o,0),i("Подождите, идёт загрузка информации о плэйлисте..."),await s(t.size&&t.size<=5?u:this._DELAY_BEFORE_FIRST_REQUEST()),t.size!==t.tracks.length&&(await Ae.runAsync("replaceAudioListDataTracks",(async()=>await this.replaceAudioListDataTracks(t,(async()=>await async function(t){const[e,r]=t.audioListId.split("_"),n=t.tracks[0],o=await Zt.callAlAudioLoadSection({access_hash:t.accessHash,context:n?n.context:"user_wall",from_id:t.fromId,owner_id:e,playlist_id:r}),u=Vt(o).array(o.list),a={tracks:u.slice(0,we()).map((t=>ve(Vt(t).arrayOrObject(t)))),size:u.length};return t.title||(t.title=k(Vt(o).string(o.title))),t.author||(t.author=k(Vt(o).string(o.authorName))),a}(t))))),await s(this._DELAY_BETWEEN_REQUESTS())),await Ae.runAsync("downloadPlaylistTrackData",(async()=>await this._downloadPlaylistTrackData(t,this._createMetadataProgressHandler(r,"Подождите, идёт загрузка информации о плэйлисте: "))));const{onSubmit:e,form:n}=this.createNavigationForm(t);r.appendChild(n),i("Нажмите, чтобы скачать"),r.addEventListener("click",(t=>{t.stopPropagation(),e(),n.submit()}))}catch(t){a.classList.remove("vks-default-download-icon"),a.classList.add("vks-download-error-icon"),i("Произошла ошибка, попробуйте повторить попытку позднее."),r.style.cursor="not-allowed",et.handleException({e:t,details:{errorContext:{file:"PD.js",func:"stDo"}}})}finally{r.classList.remove("vks-btn-loading")}}),{once:!0})}createNavigationForm(t){const e=`${n()}/playlist-${t.audioListId}`,r=[...this._getBaseFormParams(t),{key:"title",value:t.title},{key:"playlistType",value:t.playlistType},...t.coverImages.map(((t,e)=>({key:`covers[${e}]`,value:t})))],o=this._getTracksFormParams(t);return{onSubmit:()=>Gt.trySave(e,r),form:B(e,[...r,...o])}}}class Le{constructor(t){if(this.data={},t)try{const e=JSON.parse(decodeURIComponent(t));this.merge(e)}catch(t){}}merge(t){return this.data={...this.data,...t},this}toString(){return encodeURIComponent(JSON.stringify(this.data))}}const Oe="SecondaryAttachmentAudio__VksDownloadButton",Pe=t=>!!t.querySelector(`.${Oe}`);function $e(t){var e,r;const n=t.getAttribute("data-audio"),o=Vt(n).stringAsObject(n);return{artist:xt(Vt(o).string(o.artist),"Неизвестен"),title:xt(Vt(o).string(o.title),"Без названия"),url:Vt(o).string(o.url),coverUrl:Vt(o).string(null!==(e=o.coverUrl)&&void 0!==e?e:"")||null,duration:Vt(o).number(o.duration),id:Vt(o).number(o.id),ownerId:Vt(o).number(o.owner_id),restrictionStatus:Vt(o).number(null!==(r=o.restrictionStatus)&&void 0!==r?r:0)||null}}class je{constructor(t){this._tracksHistoryLookupTable=t}tryCreateDownloadButtons(){for(const t of function*(){const t=Array.from(document.querySelectorAll(".SecondaryAttachment[data-audio]"));for(let e=0;e<t.length;e++){const r=t[e];Pe(r)||(yield r)}}())this._createDownloadButton(t)}_createDownloadButton(t){const e=document.createElement("div");e.classList.add(Oe);const r=document.createElement("div");if(r.classList.add("SecondaryAttachmentAudio__VksDownloadIcon"),e.appendChild(r),e.addEventListener("click",(t=>t.stopPropagation())),t.querySelector(".SecondaryAttachment__after").before(e),!jt())return void Tt(e);const n=$e(t);if(n.restrictionStatus){const t=`${n.artist} - ${n.title}`;It(e,t)}else{const t=`${n.ownerId}_${n.id}`;this._tracksHistoryLookupTable.watchFor(t,e,(()=>{e.setAttribute("data-vks-audio-downloaded","")})),e.addEventListener("mouseenter",(async()=>{try{r.setAttribute("data-vks-button-state","loading"),e.setAttribute("data-vks-tooltip","Подождите, идёт загрузка информации о треке..."),await s(500),r.removeAttribute("data-vks-button-state"),e.setAttribute("data-vks-tooltip",`Скачать ${n.artist} - ${n.title}`),e.addEventListener("click",this._createOnClickListener(n))}catch(t){r.setAttribute("data-vks-button-state","error"),e.setAttribute("data-vks-tooltip","Произошла ошибка, попробуйте повторить попытку позднее."),et.default(t)}}),{once:!0})}}_createOnClickListener(t){return()=>{try{this._navigateToSite(t)}catch(t){et.handleException({e:t})}}}_navigateToSite(t){const e=`${n()}/audio-${t.ownerId}_${t.id}`,r=[{key:"vuser_id",value:$t()},{key:"vdur",value:t.duration},{key:"url",value:t.url},{key:"coverImage",value:t.coverUrl},{key:"song_name",value:encodeURIComponent(t.title)},{key:"artist_name",value:encodeURIComponent(t.artist)},{key:"requestContext",value:(new Le).merge({plgSaaData:{dataItem:t}})},{key:"plugin_ver",value:F()},{key:"trackId",value:t.id},{key:"ownerId",value:t.ownerId}];Gt.trySave(e,r),x(e,r,!1)}}const Re="vks-wall-audio-download-btn",Me=new E;function Ne(t){return!!t.querySelector(`.${Re}`)}function Ue(t){var e;const r=null===(e=t.closest("[data-post-id]"))||void 0===e?void 0:e.getAttribute("data-post-id");if(!r)return null;const n=Array.from(t.querySelectorAll(".SecondaryAttachment[data-audio]:not([data-restricted='1'])")).map($e);return n.length<2?null:{audioListId:r,title:qe(t.closest(".post,#wl_post")),pluginVersion:F(),tracks:n,buttonId:`btn_${st.base16String()}`,userId:$t(),size:n.length}}function qe(t){var e,r;return`${xt(null===(e=t.querySelector(".PostHeader .author,.PostHeaderTitle__authorName"))||void 0===e?void 0:e.innerText,"Автор неизвестен",!1,100)}, ${xt(null===(r=t.querySelector(".PostHeader .post_date,.PostHeaderSubtitle__link"))||void 0===r?void 0:r.innerText,"дата неизвестна",!1,100)}`}class Ve extends De{constructor(){super(),Me.info("WallAudioDownloader created")}tryCreateDownloadButtons(){this._elementRemover.removeUnused();for(const{wallAudioListData:t,panelElem:e}of function*(){const t=Array.from(document.querySelectorAll([".SecondaryAttachmentContainer--inPost"].join()));for(const n of t){var e,r;const t=null===(e=n.closest(".wall_text,#wl_post_body"))||void 0===e||null===(r=e.closest(".post_info,.wl_post"))||void 0===r?void 0:r.querySelector(".like_wrap .like_btns");if(!t)continue;if(Ne(t))continue;if("none"===window.getComputedStyle(t).display)continue;const o=Ue(n);o&&(yield{panelElem:t,wallAudioListData:o})}}())try{this.createDownloadButton(t,e)}catch(t){et.handleException({e:t,details:{errorContext:{file:"WAD.js",func:"trCrDoBu",message:"crDoBu failed"}}})}}createDownloadButton(t,e){const r=document.createElement("div");r.classList.add("vks-default-download-btn"),r.classList.add(Re),r.id=t.buttonId,e.matches(".PostBottomActionLikeBtns *")&&r.classList.add("PostBottomAction"),e.matches(".like_btns")&&r.classList.add("like_btn");const n=document.createElement("div");n.classList.add("vks-default-download-icon"),r.replaceChildren(n,S("<span class='like_button_label'>Скачать треки</span>")),e.appendChild(r),Me.info(`WallAudioDownloader: button created: postId=${t.audioListId}`);const o="data-vks-tooltip";if(!t.tracks.find((t=>!t.restrictionStatus)))return r.setAttribute(o,"В посте нет аудиозаписей, доступных для скачивания."),void r.setAttribute("data-vks-download-unavailable","");jt()?(this._elementRemover.add(r,(t=>"none"!==window.getComputedStyle(t).display)),r.setAttribute(o,"Нажмите, чтобы скачать"),r.addEventListener("click",(()=>{Ae.runSync("navigateToSite",(()=>this.navigateToSite(t)))}))):Tt(r)}navigateToSite(t){const e=`${n()}/wall-audio-${t.audioListId}`,r=[...this._getBaseFormParams(t),{key:"title",value:t.title},{key:"playlistType",value:"wallAudio"},...t.tracks.map((t=>t.coverUrl)).filter((t=>t)).slice(0,4).map(((t,e)=>({key:`covers[${e}]`,value:t})))],o=t.tracks.flatMap(((t,e)=>[{key:`tracks[${e}][artist]`,value:t.artist},{key:`tracks[${e}][claimed]`,value:!!t.restrictionStatus},{key:`tracks[${e}][dur]`,value:t.duration},{key:`tracks[${e}][name]`,value:t.title},{key:`tracks[${e}][ownerId]`,value:t.ownerId},{key:`tracks[${e}][trackId]`,value:t.id},{key:`tracks[${e}][coverImage]`,value:t.coverUrl||""},{key:`tracks[${e}][url]`,value:t.url},{key:`tracks[${e}][gTrackId]`,value:""}]));Gt.trySave(e,r),x(e,[...r,...o])}}const We="vks-OwnerAudiosList-download-btn",He=()=>document.head.classList.contains("vks-autotests")?20:1e3,ze=/https?:\/\/(?:(?:m|new)\.)?vk\.com\/audios(-?\d+).*/,Ge=new E;function Je(t){return!!t.querySelector(`.${We}`)}function Ke(t){var e,r;const n=pe(t,He()),o=$t(),u=null!==(e=null!==(r=function(){var t;const e=null===(t=ze.exec(window.location.href))||void 0===t?void 0:t[1],r=parseInt(e,10);return Number.isNaN(r)||!r?null:r}())&&void 0!==r?r:n.find((t=>t.ownerId)).ownerId)&&void 0!==e?e:o,a=(()=>{var e,r;if(o===u)return"Мои аудиозаписи";return`${xt(null===(e=t.closest(".CatalogSection__group_list,.CatalogSection__user_list"))||void 0===e||null===(r=e.querySelector(".MusicOwnerCell__text"))||void 0===r?void 0:r.innerText,`${0<u?"Пользователь":"Сообщество"} ${u}`,!1,100)} - Аудиозаписи`})();return{audioListId:`${u}_-1`,title:a,pluginVersion:F(),buttonId:`btn_${st.base16String()}`,userId:o,ownerId:u,tracks:n,size:n.length}}class Ye extends De{tryCreateDownloadButtons(){this._elementRemover.removeUnused();for(const{ownerAudiosListData:t,panelElem:e}of function*(){const t=Array.from(document.querySelectorAll(['.CatalogBlock__my_audios[data-type="music_audios"]','.CatalogBlock__my_audios_full[data-type="music_audios"]','.CatalogBlock__owner_audios[data-type="music_audios"]','.CatalogBlock__owner_audios_full[data-type="music_audios"]','.CatalogBlock__group_audios[data-type="music_audios"]','.CatalogBlock__group_audios_full[data-type="music_audios"]'].join()));for(const e of t){const t=e.querySelector(".audio_page__shuffle_all");if(!t)continue;if(Je(t))continue;if("none"===window.getComputedStyle(t).display)continue;const r=Ke(e);r&&(yield{panelElem:t,ownerAudiosListData:r})}}())try{this.createDownloadButton(t,e)}catch(t){et.handleException({e:t,details:{errorContext:{file:"UALD.js",func:"trCrDoBu",message:"crDoBu failed"}}})}}createDownloadButton(t,e){const r=document.createElement("div");r.classList.add("vks-default-download-btn"),r.classList.add(We),r.id=t.buttonId;const n=se.create(),o=document.createElement("div");o.classList.add("vks-default-download-icon"),r.replaceChildren(o,n,S("<span class='like_button_label'>Скачать</span>")),e.style.display="flex",e.style.alignItems="center",e.appendChild(r),Ge.info(`OwnerAudiosListDownloader: button created: audioListId=${t.audioListId}`),r.addEventListener("click",(t=>t.stopPropagation()));const a="data-vks-tooltip";if(!t.tracks.find((t=>!t.claimed&&t.longTrackId)))return r.setAttribute(a,"Отсутствуют аудиозаписи, доступные для скачивания."),void r.setAttribute("data-vks-download-unavailable","");if(!jt())return void Tt(r);const i=window.location.href;this._elementRemover.add(r,(t=>"none"!==window.getComputedStyle(t).display&&i===window.location.href));r.addEventListener("mouseenter",(async()=>{try{Ge.info(`Start downloading playlist (${t.buttonId}) metadata`),r.classList.add("vks-btn-loading"),se.update(n,0),r.setAttribute(a,"Подождите, идёт загрузка информации о треках..."),await s(t.size&&t.size<=5?u:this._DELAY_BEFORE_FIRST_REQUEST()),await Ae.runAsync("replaceAudioListDataTracks",(async()=>await this.replaceAudioListDataTracks(t,(async()=>await async function(t){const e=await Zt.callAlAudioLoadSection({owner_id:`${t.ownerId}`,playlist_id:"-1"}),r=Vt(e).array(e.list);return{tracks:r.slice(0,He()).map((t=>ve(Vt(t).arrayOrObject(t)))),size:r.length}}(t))))),await Ae.runAsync("downloadPlaylistTrackData",(async()=>await this._downloadPlaylistTrackData(t,this._createMetadataProgressHandler(r))));const{onSubmit:e,form:o}=this.createNavigationForm(t);r.appendChild(o),r.setAttribute(a,"Нажмите, чтобы скачать"),r.addEventListener("click",(()=>{e(),o.submit()}))}catch(t){o.classList.remove("vks-default-download-icon"),o.classList.add("vks-download-error-icon"),r.setAttribute(a,"Произошла ошибка, попробуйте повторить попытку позднее."),r.style.cursor="not-allowed",et.handleException({e:t,details:{errorContext:{file:"ALC.js",func:"stDo"}}})}finally{r.classList.remove("vks-btn-loading")}}),{once:!0})}createNavigationForm(t){const e=`${n()}/playlist-${t.audioListId}`,r=[...this._getBaseFormParams(t),{key:"title",value:t.title},{key:"playlistType",value:"playlist"},...t.tracks.map((t=>t.coverImage)).filter((t=>t)).slice(0,2).map(((t,e)=>({key:`covers[${e}]`,value:t})))],o=this._getTracksFormParams(t);return{onSubmit:()=>Gt.trySave(e,r),form:B(e,[...r,...o])}}}class Xe{constructor(t){this.allowedFailsCount=t}run(t){if(!(this.allowedFailsCount<=0))try{t()}catch(t){--this.allowedFailsCount,et.handleException({e:t,details:{errorContext:{file:"FL.js"}}})}}}const Qe="AjaxError";class Ze{constructor(){this._chromeStorage=P.getLocal()}async clear(){await this._chromeStorage.remove(Qe)}async save(t,e,r){const n={type:t,content:e,time:Date.now(),audioRow:((null==r?void 0:r.outerHTML)||"").replace(/\r?\n|\r/g,"").replace("#\n*#g","").replace(/( )+</g,"<").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),pluginVersion:F()};await this._chromeStorage.set({[Qe]:n})}async get(){return await this._chromeStorage.getSingle(Qe)}}class tr{constructor(){this.ajaxErrorStorage=new Ze,this.errorsStorage=new M,this.formSubmittingStorage=new Gt}async fillForm(){const t=document.body.querySelector("form#feedbackForm"),e=(e,r)=>{const n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("value",r),t.appendChild(n)};{const t=await l((()=>this.ajaxErrorStorage.get()),et.default);t&&(e("AjaxError::time",t.time),e("AjaxError::formattedTime",i(t.time)),e("AjaxError::content",t.content),e("AjaxError::type",t.type),e("AjaxError::pluginVersion",t.pluginVersion),e("AjaxError::audioRow",t.audioRow))}var r;e("LastErrors",p(null!==(r=await l((()=>this.errorsStorage.get()),et.default))&&void 0!==r?r:[]));{const t=await l((()=>this.formSubmittingStorage.get()),et.default);t&&e("LastSubmit",p(t))}}}class er extends h{constructor(t,e=void 0,r=void 0){super(t,e,r),this.name="TrackNotFoundError"}}class rr extends m{constructor(t,e=void 0,r=void 0){super(t,e,r),this.name="MultipleTracksFoundWarning"}}const nr={utf16:{bypassRanges:["az","AZ","09"],mappings:{а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"e",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"ts",ч:"ch",ш:"sh",щ:"sch",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",ü:"u",ö:"o",ä:"a",ë:"e"}}},or=t=>{if(nr.utf16.bypassRanges.some((e=>e[0]<=t&&t<=e[1])))return t;const e=nr.utf16.mappings[t];return"string"==typeof e?e:"-"},ur=(t,e="unknown")=>[...t.toLowerCase()].map(or).join("").replace(/-+/g,"-").replace(/^-/g,"").replace(/-$/g,"")||e,ar="OwnerContentTabAudios__VksDownloadButton",ir=3e5,sr=t=>!!t.querySelector(`.${ar}`);const cr=(t,e)=>xt(t.replace(/\s+/g," "),e,!1),lr=t=>cr(t,"Без названия"),dr=t=>cr(t,"Неизвестен");class fr{constructor(t){this._tracksHistoryLookupTable=t,this._domTracksCache=new yt(ir),this._vkApiTracksCache=new yt(ir)}tryCreateDownloadButtons(){for(const t of function*(){const t=Array.from(document.querySelectorAll(".OwnerContentTabAudios__items"));for(const e of t){const t=Array.from(e.querySelectorAll([".OwnerContentTabAudiosItem"].join()));for(let e=0;e<t.length;e++){const r=t[e];sr(r)||(yield r)}}}())this._createDownloadButton(t)}_createDownloadButton(t){const e=document.createElement("div");e.classList.add(ar);const r=document.createElement("div");if(r.classList.add("OwnerContentTabAudios__VksDownloadIcon"),e.appendChild(r),e.addEventListener("click",(t=>t.stopPropagation())),t.classList.contains("OwnerContentTabAudiosItem--blocked")){const{title:r,artist:n}=this._parseAudiosItem(t);It(e,`${n} - ${r}`)}else e.addEventListener("mouseenter",this._createOnMouseEnterListener(t,e,r,this._getOwnerId()),{once:!0});t.querySelector(".OwnerContentTabAudiosItem__duration").after(e)}_createOnMouseEnterListener(t,e,r,n){return async()=>{try{r.setAttribute("data-vks-button-state","loading"),e.setAttribute("data-vks-tooltip","Подождите, идёт загрузка информации о треках...");const{domTrack:o,vkApiTrack:u}=await this._getData(n,t);if(r.removeAttribute("data-vks-button-state"),o.claimed)return void e.setAttribute("data-vks-tooltip","Аудиозапись недоступна (заблокирована по жалобе правообладателя или требует наличия подписки).");const a=`${o.ownerId}_${o.trackId}`;this._tracksHistoryLookupTable.watchFor(a,e,(()=>{e.setAttribute("data-vks-audio-downloaded","")})),e.setAttribute("data-vks-tooltip",`Скачать ${o.artist} - ${o.name}`),e.addEventListener("click",this._createOnClickListener(o,u))}catch(t){r.setAttribute("data-vks-button-state","error"),e.setAttribute("data-vks-tooltip","Произошла ошибка, попробуйте повторить попытку позднее."),et.handleException({e:t})}}}async _getDomTracks(t){const e=await Zt.callAlAudioLoadSection({owner_id:`${t}`,playlist_id:"-1"});return Vt(e).array(e.list).map((t=>ve(Vt(t).arrayOrObject(t))))}_parseDuration(t){const e=/(?:(\d+):)?(\d+):(\d+)/.exec(t);if(!e)return NaN;const[,r="0",n,o]=e;return parseInt(o,10)+60*parseInt(n,10)+60*parseInt(r,10)*60}_parseAudiosItem(t){return{title:lr(t.querySelector(".OwnerContentTabAudiosItem__titleText").innerText),artist:dr(t.querySelector(".OwnerContentTabAudiosItemArtists__text").innerText),duration:this._parseDuration(t.querySelector(".OwnerContentTabAudiosItem__duration").innerText)}}async _getData(t,e){const r=await this._domTracksCache.computeIfExpiredOrAbsent(t,(()=>s(u).then((()=>this._getDomTracks(t))))),{title:n,artist:o,duration:a}=this._parseAudiosItem(e),i=r.filter((t=>!(n!==lr(t.name)&&n!==lr(_(t.name))||o!==dr(t.artist)&&o!==dr(_(t.artist))))),c=i.filter((t=>a===t.dur)),l=c.length?c:i;if(0===l.length)throw new er("Track not found",{ownerId:t,title:n,artist:o,audiosItem:e.innerHTML,domTracksHead16:r.slice(0,16)});l.length>1&&et.default(new rr("Multple matched tracks",{matchedTracks:l,ownerId:t,title:n,artist:o,audiosItem:e.innerHTML,domTracksHead16:r.slice(0,16)}));const d=l[0],f=await this._vkApiTracksCache.computeIfExpiredOrAbsent(d.trackId,(()=>s(u).then((()=>ye([d]))).then((t=>t[0]))));return{domTrack:d,vkApiTrack:f}}_getOwnerId(){const t=document.querySelector(".OwnerContentTabAudios a[href*='/audios']");Vt().object(t);const e=t.getAttribute("href").replace(/[^0-9]+/gi,"");return Vt(t).parseInt(e)}_createOnClickListener(t,e){return()=>{try{this._navigateToSite(t,e)}catch(t){et.handleException({e:t})}}}_navigateToSite(t,e){const r=(null==t?void 0:t.gTrackId)||`${t.ownerId}_${t.trackId}`,o=`-${ur(t.artist)}--${ur(t.name)}`,u=`${n()}/audio${r}${o}`,a=[{key:"vuser_id",value:$t()},{key:"vdur",value:t.dur},{key:"url",value:e.url},{key:"coverImage",value:t.coverImage},{key:"vkPageUrl",value:t.vkPageUrl},{key:"gTrackId",value:t.gTrackId},{key:"song_name",value:encodeURIComponent(t.name)},{key:"artist_name",value:encodeURIComponent(t.artist)},{key:"requestContext",value:(new Le).merge({plgOctaData:{domTrackData:t,vkApiTrackData:e}})},{key:"plugin_ver",value:F()},{key:"trackId",value:t.trackId},{key:"ownerId",value:t.ownerId}];Gt.trySave(u,a),x(u,a,!1)}}const Dr="NewsNotifierStorage";class pr{constructor(){this._chromeStorage=P.getLocal(),this._locked=!1}async _lock(){for(;this._locked;)await s(500);this._locked=!0}async read(){return await this._chromeStorage.getSingle(Dr)||{news:{},updateTime:0}}async updateInplace(t){await this._lock();try{const e=await this.read(),r=Date.now();return t(e,r),e.updateTime=r,await this._chromeStorage.set({[Dr]:e}),e}finally{this._locked=!1}}async computeNewsNotificationItemIfAbsent(t,e){await this._lock();try{const r=await this.read(),n=Date.now();return r.news[t]||(r.news[t]=e(r,n),r.updateTime=n,await this._chromeStorage.set({[Dr]:r})),r.news[t]}finally{this._locked=!1}}}class hr{constructor(){this.storage=new pr}async showNews(){}}class vr{constructor(){this._storage=new ft,this._lastModifiedTime=0,this._lastUpdateTime=0,this._table=new Set}async update(){const t=Date.now();if(t-this._lastUpdateTime<2e3)return;this._lastUpdateTime=t;const e=await this._storage.read();e.updateTime!==this._lastModifiedTime&&(this._lastModifiedTime=e.updateTime,this._table=new Set(e.tracks))}has(t){return this._table.has(t)}watchFor(t,e,r){(async()=>{try{for(;document.body.contains(e)&&!this.has(t);){if(await s(1e3),g.wasFired())return;await this.update()}r()}catch(t){et.handleException({e:t,details:{errorContext:{file:"thca.js",func:"wf"}}})}})()}}const yr="vks-CatalogSectionAudiosList-download-btn",mr=()=>document.head.classList.contains("vks-autotests")?20:1e3,Ar=new E;function gr(t){return!!t.querySelector(`.${yr}`)}function wr(t){const e=pe(t,mr()),r=t.querySelector("[data-playlist-id][data-audio-context]").getAttribute("data-playlist-id"),n=$t();return{audioListId:r,title:"TODO - Аудиозаписи",pluginVersion:F(),buttonId:`btn_${st.base16String()}`,userId:n,tracks:e,size:e.length}}class Er extends De{tryCreateDownloadButtons(){this._elementRemover.removeUnused();for(const{catalogSectionAudiosListData:t,panelElem:e}of function*(){const t=Array.from(document.querySelectorAll([".CatalogSection__new_audios_by_country",".CatalogSection__recoms_new_artists",".CatalogSection__tracks_chart",".CatalogSection__recoms_by_recently_listened"].join()));for(const e of t){const t=e.querySelector(".audio_page__shuffle_all");if(!t)continue;if(gr(t))continue;if("none"===window.getComputedStyle(t).display)continue;const r=wr(e);r&&(yield{panelElem:t,catalogSectionAudiosListData:r})}}())try{this.createDownloadButton(t,e)}catch(t){et.handleException({e:t,details:{errorContext:{file:"CSALD.js",func:"trCrDoBu",message:"crDoBu failed"}}})}}createDownloadButton(t,e){const r=document.createElement("div");r.classList.add("vks-default-download-btn"),r.classList.add(yr),r.id=t.buttonId;const n=se.create(),o=document.createElement("div");o.classList.add("vks-default-download-icon"),r.replaceChildren(o,n,S("<span class='like_button_label'>Скачать</span>")),e.style.display="flex",e.style.alignItems="center",e.appendChild(r);const a=t.audioListId;Ar.info(`CatalogSectionAudiosListDownloader: button created: audioListId=${a}`),r.addEventListener("click",(t=>t.stopPropagation()));const i="data-vks-tooltip";if(!t.tracks.find((t=>!t.claimed&&t.longTrackId)))return r.setAttribute(i,"Отсутствуют аудиозаписи, доступные для скачивания."),void r.setAttribute("data-vks-download-unavailable","");if(!jt())return void Tt(r);const c=window.location.href;this._elementRemover.add(r,(t=>"none"!==window.getComputedStyle(t).display&&c===window.location.href));r.addEventListener("mouseenter",(async()=>{try{Ar.info(`Start downloading playlist (${t.buttonId}) metadata`),r.classList.add("vks-btn-loading"),se.update(n,0),r.setAttribute(i,"Подождите, идёт загрузка информации о треках..."),await s(t.size&&t.size<=5?u:this._DELAY_BEFORE_FIRST_REQUEST()),await Ae.runAsync("replaceAudioListDataTracks",(async()=>await this.replaceAudioListDataTracks(t,(async()=>await async function(t){const e=[];let r={nextFrom:"",title:"Плэйлист"};do{var n;const o={section_id:t.audioListId};r.nextFrom&&(o.start_from=r.nextFrom);const u=await Zt.callAlAudioLoadCatalogSection(o),a=Vt(u).array(null===(n=u.playlist)||void 0===n?void 0:n.list);e.push(...a),r=u}while(e.length<mr()&&r.nextFrom);return{tracks:e.slice(0,mr()).map((t=>ve(Vt(t).arrayOrObject(t)))),size:e.length,title:r.title}}(t))))),await Ae.runAsync("downloadPlaylistTrackData",(async()=>await this._downloadPlaylistTrackData(t,this._createMetadataProgressHandler(r))));const{onSubmit:e,form:o}=this.createNavigationForm(t);r.appendChild(o),r.setAttribute(i,"Нажмите, чтобы скачать"),r.addEventListener("click",(()=>{e(),o.submit()}))}catch(t){o.classList.remove("vks-default-download-icon"),o.classList.add("vks-download-error-icon"),r.setAttribute(i,"Произошла ошибка, попробуйте повторить попытку позднее."),r.style.cursor="not-allowed",et.handleException({e:t,details:{errorContext:{file:"CSALD.js",func:"stDo"}}})}finally{r.classList.remove("vks-btn-loading")}}),{once:!0})}createNavigationForm(t){const e=`${n()}/playlist-${t.audioListId}`,r=[...this._getBaseFormParams(t),{key:"title",value:t.title},{key:"playlistType",value:"playlist"},...t.tracks.map((t=>t.coverImage)).filter((t=>t)).slice(0,2).map(((t,e)=>({key:`covers[${e}]`,value:t})))],o=this._getTracksFormParams(t);return{onSubmit:()=>Gt.trySave(e,r),form:B(e,[...r,...o])}}}const Cr=()=>{et.registerGlobalHandler(),et.addErrorDetailsSupplier((()=>({userId:$t()}))),et.setContextInvalidationHandler((()=>Kt("Плагин VKSaver был обновлён или отключён!",["Для надёжной работы скачивания рекомендуется обновить страницу.","Если это не поможет, то убедитесь, что плагин VKSaver установлен и включён."])));const t=new vr,e=new ne,r=new Te,o=new Ve,a=new Ye,i=new Er,c=new fr(t),l=new je(t),d={},D=3e5,h=6e4,v=300,y="data-vks-btn-locked";let m=null;function A(t,e){if(1!==t.nodeType&&9!==t.nodeType)return;const r=t.querySelectorAll("div.audio_row");(async()=>{for(let t=0;t<r.length;++t){await s(0);const n=r[t];e.run((()=>E(n)))}})().catch(et.default)}function g(t){return t.querySelector(".vks-btn").hasAttribute(y)}function w(t){const e=t.querySelector(".vks-btn"),r=t.querySelector(".vks-wrapper"),n=t.querySelector(".vks-audio-spinner");e.removeAttribute(y);const o=t.classList.contains("audio_claimed")?"Аудиозапись недоступна (заблокирована по жалобе правообладателя или требует наличия подписки).":r.getAttribute("data-vks-title")||"Нажмите, чтобы скачать.";r.setAttribute("data-vks-tooltip",o),e.classList.add("vks-audio-download-icon"),n.style.display="none"}function E(e){if(e.hasAttribute("data-vks-active"))return;if(e.classList.contains("audio_row--radio"))return;if(e.querySelector(".vks-wrapper"))return;const r=e.getAttribute("data-full-id");r&&(!function(e,r){const o=document.createElement("div");o.setAttribute("class","vks-wrapper"),o.style.opacity="1",o.appendChild(function(){const t=document.createElement("div");return t.setAttribute("class","vks-btn vks-audio-download-icon"),t}()),o.appendChild(S('<div class="vks-audio-spinner" style="display: none;"></div>')),o.addEventListener("click",(t=>t.stopPropagation()));{const t=e.querySelector(".audio_row__cover_icon");if(!t)return;t.after(o)}const u=o.querySelector(".vks-btn");if(!jt())return void Tt(u);const a=(()=>{try{return k(e)}catch(t){return et.default(t),function(t){t.setAttribute("data-vks-tooltip","Произошла ошибка, попробуйте повторить попытку позднее."),t.setAttribute("data-vks-download-unavailable",""),t.classList.remove("vks-audio-download-icon"),t.classList.add("vks-download-error-icon")}(u),null}})();if(!a)return;if(e.classList.contains("audio_claimed")){const t=`${a.artist} - ${a.name}`;return void It(u,t)}t.watchFor(r,u,(()=>{u.setAttribute("data-vks-audio-downloaded","")})),T(e,a),o.addEventListener("click",(()=>{e.classList.contains("audio_claimed")||(I(r)?_(e,r).catch(et.default):g(e)||function(t,e){const r=`-${ur(e.artist)}--${ur(e.name)}`,o=`${n()}/audio${(null==e?void 0:e.gTrackId)||t}${r}`,[u,a]=t.split("_"),i=[{key:"vuser_id",value:m},{key:"vdur",value:e.dur},{key:"url",value:e.url},{key:"coverImage",value:e.coverImage},{key:"vkPageUrl",value:e.vkPageUrl},{key:"gTrackId",value:e.gTrackId},{key:"song_name",value:encodeURIComponent(e.name)},{key:"artist_name",value:encodeURIComponent(e.artist)},{key:"requestContext",value:(new Le).merge({plgMjsData:{audioInfo:e}})},{key:"plugin_ver",value:F()},{key:"trackId",value:a},{key:"ownerId",value:u}];Gt.trySave(o,i),x(o,i,!1)}(r,d[r]))})),o.addEventListener("mouseenter",(()=>{e.classList.contains("audio_claimed")||I(r)&&_(e,r).catch(et.default)})),o.addEventListener("mouseleave",(()=>{C=null}))}(e,r),e.setAttribute("data-vks-active",1))}let C=null;const b=new Ze;async function _(t,e){const r=st.base16String();if(C=r,!g(t))if(function(t){const e=t.querySelector(".vks-btn"),r=t.querySelector(".vks-wrapper"),n=t.querySelector(".vks-audio-spinner");e.setAttribute(y,""),r.setAttribute("data-vks-tooltip","Подождите, идёт загрузка информации..."),e.classList.remove("vks-audio-download-icon"),n.style.display="block"}(t),await s(v),r===C&&I(e))try{const r=function(t,e){const r=Vt(t.outerHTML),n=function(e){const n=r.stringAsArrayOrObject(e),o=r.string(n[13]).split("/");if(o.length<=5)throw new Rt(`Short track_addon: ${JSON.stringify(o)}`,t.outerHTML);return[o[2],o[5]]}(t.getAttribute("data-audio"));return`${e}_${n[0]}_${n[1]}`}(t,e);m||(m=function(t){const e=t.getAttribute("data-audio");return(e.match(/"vk_id":([0-9]+),/i)||[])[1]||null}(t)),await s(u);const n=await async function(t){const e=await Zt.callAlAudioReloadAudio(t),r=Vt(e).arrayOrObject(e[0]),n=ve(r),o=Vt(e).string(r[2]);return{...B(n),url:o,deathTime:Date.now()+D}}(r);d[e]=n,T(t,n)}catch(r){et.handleException({e:r,details:{errorContext:{file:"m.js",func:"geAuInfFrVk"}}}),await b.save(r.name,p(r),t).catch(et.default);const n=k(t);d[e]={...n,deathTime:Date.now()+h},T(t,d[e])}finally{w(t)}else w(t)}function k(t){return B(he(t))}function B(t){return f(t,"artist","name","dur","coverImage","vkPageUrl","gTrackId")}function I(t){var e,r;return(null!==(e=null===(r=d[t])||void 0===r?void 0:r.deathTime)&&void 0!==e?e:0)<=Date.now()}function T(t,e){const r=t.querySelector(".vks-wrapper"),n=`${e.artist} - ${e.name}`;r.setAttribute("data-vks-title",`Скачать ${n}`);const o=t.classList.contains("audio_claimed")?"Аудиозапись недоступна (заблокирована по жалобе правообладателя или требует наличия подписки).":r.getAttribute("data-vks-title");r.setAttribute("data-vks-tooltip",o),r.style.opacity="1"}new Promise((t=>{const e=()=>"visible"===document.visibilityState&&(t(),!0);e()||document.addEventListener("visibilitychange",e,{once:!0})})).then((()=>Ot())).then((function(){jt()&&(new hr).showNews().catch(et.default);t=document.body,m||t.querySelectorAll("#side_bar a").forEach((t=>{t.getAttribute("href")&&t.getAttribute("href").indexOf("/audios")>-1&&(m=t.getAttribute("href").replace(/[^0-9]+/gi,""))}));var t;const n=new Xe(10),u=()=>{n.run((()=>c.tryCreateDownloadButtons())),n.run((()=>l.tryCreateDownloadButtons())),n.run((()=>o.tryCreateDownloadButtons())),n.run((()=>r.tryCreateDownloadButtons())),n.run((()=>e.tryCreateDownloadButtons())),n.run((()=>a.tryCreateDownloadButtons())),n.run((()=>i.tryCreateDownloadButtons()))};new MutationObserver((t=>{for(const e of t)"childList"===e.type&&((async()=>{for(const r of e.addedNodes){var t;await s(0),null!==(t=r.classList)&&void 0!==t&&t.contains("audio_row")?n.run((()=>E(r))):n.run((()=>A(r,n)))}})().catch(et.default),e.addedNodes.length&&u())})).observe(document.body,{childList:!0,subtree:!0}),n.run((()=>A(document.body,n))),u()})).catch((t=>et.handleException({e:t,details:{errorContext:{file:"m.js",func:"aDOLo"}}})))},Fr=()=>{const e=new Ze,r=-1!==window.location.href.indexOf(`${t}/vksaver/installed.php`);if(r||-1!==window.location.href.indexOf(`${t}/vksaver/check.php`)){const t=document.body.querySelectorAll("#installBlock,.installBlock"),e=document.body.querySelectorAll("#installedBlock,.installedBlock"),r=document.body.querySelector("h1");t.forEach((t=>{t.style.display="none"})),e.forEach((t=>{t.style.display="block"})),r.textContent="VKSaver успешно установлен!",document.title="VKSaver успешно установлен!"}{const t=t=>{window.postMessage({type:"VKS_INSTALLATION_INFO_EVENT",newInfo:t},window.location.origin)},e=Date.now();r&&t({pluginActivationTime:e}),t({pluginLastActiveTime:e,pluginLastSeenVersion:F()})}-1!==window.location.href.indexOf(`${t}/feedback.php?added=1`)?(e.clear().catch(et.default),(new M).clear().catch(et.default),(new Gt).clear().catch(et.default)):-1!==window.location.href.indexOf(`${t}/feedback.php`)&&(new tr).fillForm().catch(et.default)};class br extends h{constructor(t,e=void 0,r=void 0){super(t,e,r),this.name="TracksHistoryError"}}class _r extends m{constructor(t){super("Download client timeout"),this.name="RequestMessageTimeoutWarning",this.vksErrorType=`Plugin.Warnings.RequestMessageTimeoutWarning.${t}`}}const kr=()=>{const t=3e3;async function e(e){const r=await ct({downloadId:e},"DOWNLOADS_SEARCH",t,(t=>{throw g.throwIf(t),new ut("Cannot search download item",{downloadId:e},t)}),(()=>{throw new at("PageScript.searchDownload")}));return null==r?void 0:r[0]}I({downloadFile:async function(r,n){try{const r=await async function(e){return await ct({options:e},"DOWNLOADS_DOWNLOAD",t,(t=>{throw g.throwIf(t),new ut("Cannot start download",{options:e},t)}),(()=>{throw new at("PageScript.startDownload")}))}(n);do{var o;await s(200)}while("in_progress"===(null===(o=await e(r))||void 0===o?void 0:o.state))}catch(t){throw g.wrap(t)}},addTrackToHistory:async function(e){await ct({fullLocalTrackId:e},"TRACKS_HISTORY_ADD",t,(t=>{throw g.throwIf(t),new br("Cannot add track to history",{fullLocalTrackId:e},t)}),(()=>{throw new _r("PageScript.addTrackToHistory")}))}})},Sr=self;try{(()=>{try{new AbortController}catch(t){return}const r=!Sr.document;if(!r&&!Sr.document.body)return;const n=!!c((()=>chrome.runtime.getManifest().version)),o=({protocol:t=[],hostname:e=[],pathname:o=[],extension:u=!0,worker:a=!1,entry:i})=>{if(n===u&&r===a&&(!t.length||t.some((t=>Sr.location.protocol===t)))&&(!o.length||o.some((t=>Sr.location.pathname.startsWith(t))))&&(!e.length||e.some((t=>Sr.location.hostname===t))))try{i()}catch(t){et.handleException({e:t,details:{errorContext:{file:"EP.js",func:"ru",message:"ent failed"}}})}};o({entry:()=>F(et.default)}),o({entry:Cr,hostname:["vk.com","new.vk.com","www.vk.com"]}),o({entry:Fr,hostname:[t,...e]}),o({entry:Dt,hostname:[t],pathname:["/playlist-","/wall-audio-","/video-","/clip-","/audio"],extension:!0}),o({entry:kr,hostname:[t],pathname:["/playlist-","/wall-audio-","/video-","/clip-","/audio"],extension:!1}),o({entry:ot,protocol:["chrome-extension:","moz-extension:"],pathname:["/_generated_background_page.html"]}),o({entry:ot,protocol:["chrome-extension:","moz-extension:"],worker:!0})})()}catch(At){et.handleException({e:At,details:{errorContext:{file:"EP.js",func:"main"}}})}})()})();
var Le=Object.defineProperty;var Ne=(e,t,n)=>t in e?Le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var C=(e,t,n)=>(Ne(e,typeof t!="symbol"?t+"":t,n),n);var z=(e=>(e.HOVER="hover",e.CONTEXT_MENU="contextmenu",e))(z||{}),q=(e=>(e.CAROUSEL="carousel",e.PREVIEW="preview",e.STREAM_OR_RECORD="streamOrRecord",e))(q||{}),M=(e=>(e.BetterTTV="bttv",e.SevenTV="seventv",e.FrankerFaceZ="ffz",e))(M||{});function be(e,t,n,s){function r(u){return u instanceof n?u:new n(function(o){o(u)})}return new(n||(n=Promise))(function(u,o){function a(l){try{i(s.next(l))}catch(h){o(h)}}function c(l){try{i(s.throw(l))}catch(h){o(h)}}function i(l){l.done?u(l.value):r(l.value).then(a,c)}i((s=s.apply(e,t||[])).next())})}function ye(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,r,u,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(i){return function(l){return c([i,l])}}function c(i){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(n=0)),n;)try{if(s=1,r&&(u=i[0]&2?r.return:i[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,i[1])).done)return u;switch(r=0,u&&(i=[i[0]&2,u.value]),i[0]){case 0:case 1:u=i;break;case 4:return n.label++,{value:i[1],done:!1};case 5:n.label++,r=i[1],i=[0];continue;case 7:i=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(i[0]===6||i[0]===2)){n=0;continue}if(i[0]===3&&(!u||i[1]>u[0]&&i[1]<u[3])){n.label=i[1];break}if(i[0]===6&&n.label<u[1]){n.label=u[1],u=i;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(i);break}u[2]&&n.ops.pop(),n.trys.pop();continue}i=t.call(e,n)}catch(l){i=[6,l],r=0}finally{s=u=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}var Oe=new Error("request for lock canceled"),Me=function(){function e(t,n){n===void 0&&(n=Oe),this._value=t,this._cancelError=n,this._weightedQueues=[],this._weightedWaiters=[]}return e.prototype.acquire=function(t){var n=this;if(t===void 0&&(t=1),t<=0)throw new Error("invalid weight ".concat(t,": must be positive"));return new Promise(function(s,r){n._weightedQueues[t-1]||(n._weightedQueues[t-1]=[]),n._weightedQueues[t-1].push({resolve:s,reject:r}),n._dispatch()})},e.prototype.runExclusive=function(t,n){return n===void 0&&(n=1),be(this,void 0,void 0,function(){var s,r,u;return ye(this,function(o){switch(o.label){case 0:return[4,this.acquire(n)];case 1:s=o.sent(),r=s[0],u=s[1],o.label=2;case 2:return o.trys.push([2,,4,5]),[4,t(r)];case 3:return[2,o.sent()];case 4:return u(),[7];case 5:return[2]}})})},e.prototype.waitForUnlock=function(t){var n=this;if(t===void 0&&(t=1),t<=0)throw new Error("invalid weight ".concat(t,": must be positive"));return new Promise(function(s){n._weightedWaiters[t-1]||(n._weightedWaiters[t-1]=[]),n._weightedWaiters[t-1].push(s),n._dispatch()})},e.prototype.isLocked=function(){return this._value<=0},e.prototype.getValue=function(){return this._value},e.prototype.setValue=function(t){this._value=t,this._dispatch()},e.prototype.release=function(t){if(t===void 0&&(t=1),t<=0)throw new Error("invalid weight ".concat(t,": must be positive"));this._value+=t,this._dispatch()},e.prototype.cancel=function(){var t=this;this._weightedQueues.forEach(function(n){return n.forEach(function(s){return s.reject(t._cancelError)})}),this._weightedQueues=[]},e.prototype._dispatch=function(){for(var t,n=this._value;n>0;n--){var s=(t=this._weightedQueues[n-1])===null||t===void 0?void 0:t.shift();if(!!s){var r=this._value,u=n;this._value-=n,n=this._value+1,s.resolve([r,this._newReleaser(u)])}}this._drainUnlockWaiters()},e.prototype._newReleaser=function(t){var n=this,s=!1;return function(){s||(s=!0,n.release(t))}},e.prototype._drainUnlockWaiters=function(){for(var t=this._value;t>0;t--)!this._weightedWaiters[t-1]||(this._weightedWaiters[t-1].forEach(function(n){return n()}),this._weightedWaiters[t-1]=[])},e}(),Ve=function(){function e(t){this._semaphore=new Me(1,t)}return e.prototype.acquire=function(){return be(this,void 0,void 0,function(){var t,n;return ye(this,function(s){switch(s.label){case 0:return[4,this._semaphore.acquire()];case 1:return t=s.sent(),n=t[1],[2,n]}})})},e.prototype.runExclusive=function(t){return this._semaphore.runExclusive(function(){return t()})},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.waitForUnlock=function(){return this._semaphore.waitForUnlock()},e.prototype.release=function(){this._semaphore.isLocked()&&this._semaphore.release()},e.prototype.cancel=function(){return this._semaphore.cancel()},e}();function E(){}const je=e=>e;function Fe(e,t){for(const n in t)e[n]=t[n];return e}function We(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function ve(e){return e()}function le(){return Object.create(null)}function D(e){e.forEach(ve)}function K(e){return typeof e=="function"}function Pe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let W;function Ut(e,t){return W||(W=document.createElement("a")),W.href=t,e===W.href}function qe(e){return Object.keys(e).length===0}function we(e,...t){if(e==null)return E;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Bt(e){let t;return we(e,n=>t=n)(),t}function kt(e,t,n){e.$$.on_destroy.push(we(t,n))}function Lt(e,t,n,s){if(e){const r=Ee(e,t,n,s);return e[0](r)}}function Ee(e,t,n,s){return e[1]&&s?Fe(n.ctx.slice(),e[1](s(t))):n.ctx}function Nt(e,t,n,s){if(e[2]&&s){const r=e[2](s(n));if(t.dirty===void 0)return r;if(typeof r=="object"){const u=[],o=Math.max(t.dirty.length,r.length);for(let a=0;a<o;a+=1)u[a]=t.dirty[a]|r[a];return u}return t.dirty|r}return t.dirty}function Ot(e,t,n,s,r,u){if(r){const o=Ee(t,n,s,u);e.p(o,r)}}function Mt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let s=0;s<n;s++)t[s]=-1;return t}return-1}function Vt(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function jt(e,t){const n={};t=new Set(t);for(const s in e)!t.has(s)&&s[0]!=="$"&&(n[s]=e[s]);return n}function Ft(e){const t={};for(const n in e)t[n]=!0;return t}function Wt(e){return e==null?"":e}function Pt(e,t,n){return e.set(n),t}function qt(e){return e&&K(e.destroy)?e.destroy:E}function It(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const xe=typeof window!="undefined";let Ie=xe?()=>window.performance.now():()=>Date.now(),ne=xe?e=>requestAnimationFrame(e):E;const k=new Set;function Ae(e){k.forEach(t=>{t.c(e)||(k.delete(t),t.f())}),k.size!==0&&ne(Ae)}function ze(e){let t;return k.size===0&&ne(Ae),{promise:new Promise(n=>{k.add(t={c:e,f:n})}),abort(){k.delete(t)}}}function Se(e,t){e.appendChild(t)}function $e(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function He(e){const t=se("style");return Ge($e(e),t),t.sheet}function Ge(e,t){return Se(e.head||e,t),t.sheet}function Qe(e,t,n){e.insertBefore(t,n||null)}function X(e){e.parentNode&&e.parentNode.removeChild(e)}function zt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function se(e){return document.createElement(e)}function Ke(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ce(e){return document.createTextNode(e)}function Ht(){return Ce(" ")}function Gt(){return Ce("")}function fe(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function Qt(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Kt(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function Xt(e){return function(t){t.target===this&&e.call(this,t)}}function re(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const Xe=["width","height"];function Je(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const s in t)t[s]==null?e.removeAttribute(s):s==="style"?e.style.cssText=t[s]:s==="__value"?e.value=e[s]=t[s]:n[s]&&n[s].set&&Xe.indexOf(s)===-1?e[s]=t[s]:re(e,s,t[s])}function Jt(e,t){for(const n in t)re(e,n,t[n])}function Ye(e,t){Object.keys(t).forEach(n=>{Ze(e,n,t[n])})}function Ze(e,t,n){t in e?e[t]=typeof e[t]=="boolean"&&n===""?!0:n:re(e,t,n)}function Yt(e){return/-/.test(e)?Ye:Je}function Zt(e){let t;return{p(...n){t=n,t.forEach(s=>e.push(s))},r(){t.forEach(n=>e.splice(e.indexOf(n),1))}}}function en(e){return e===""?null:+e}function et(e){return Array.from(e.childNodes)}function tn(e,t){t=""+t,e.data!==t&&(e.data=t)}function nn(e,t){e.value=t==null?"":t}function sn(e,t,n,s){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function rn(e,t,n){for(let s=0;s<e.options.length;s+=1){const r=e.options[s];if(r.__value===t){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function un(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];s.selected=~t.indexOf(s.__value)}}function on(e){const t=e.querySelector(":checked");return t&&t.__value}let P;function tt(){if(P===void 0){P=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{P=!0}}return P}function an(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const s=se("iframe");s.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),s.setAttribute("aria-hidden","true"),s.tabIndex=-1;const r=tt();let u;return r?(s.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",u=fe(window,"message",o=>{o.source===s.contentWindow&&t()})):(s.src="about:blank",s.onload=()=>{u=fe(s.contentWindow,"resize",t),t()}),Se(e,s),()=>{(r||u&&s.contentWindow)&&u(),X(s)}}function cn(e,t,n){e.classList[n?"add":"remove"](t)}function De(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,s,t),r}class ln{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,s=null){this.e||(this.is_svg?this.e=Ke(n.nodeName):this.e=se(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(s)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)Qe(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(X)}}function fn(e,t){return new e(t)}const H=new Map;let G=0;function nt(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function st(e,t){const n={stylesheet:He(t),rules:{}};return H.set(e,n),n}function he(e,t,n,s,r,u,o,a=0){const c=16.666/s;let i=`{
`;for(let b=0;b<=1;b+=c){const y=t+(n-t)*u(b);i+=b*100+`%{${o(y,1-y)}}
`}const l=i+`100% {${o(n,1-n)}}
}`,h=`__svelte_${nt(l)}_${a}`,d=$e(e),{stylesheet:f,rules:m}=H.get(d)||st(d,e);m[h]||(m[h]=!0,f.insertRule(`@keyframes ${h} ${l}`,f.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${h} ${s}ms linear ${r}ms 1 both`,G+=1,h}function rt(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?u=>u.indexOf(t)<0:u=>u.indexOf("__svelte")===-1),r=n.length-s.length;r&&(e.style.animation=s.join(", "),G-=r,G||ut())}function ut(){ne(()=>{G||(H.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&X(t)}),H.clear())})}let V;function x(e){V=e}function N(){if(!V)throw new Error("Function called outside component initialization");return V}function hn(e){N().$$.on_mount.push(e)}function dn(e){N().$$.on_destroy.push(e)}function mn(){const e=N();return(t,n,{cancelable:s=!1}={})=>{const r=e.$$.callbacks[t];if(r){const u=De(t,n,{cancelable:s});return r.slice().forEach(o=>{o.call(e,u)}),!u.defaultPrevented}return!0}}function pn(e,t){return N().$$.context.set(e,t),t}function _n(e){return N().$$.context.get(e)}function gn(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(s=>s.call(this,t))}const B=[],de=[];let L=[];const ee=[],ot=Promise.resolve();let te=!1;function it(){te||(te=!0,ot.then(ue))}function Q(e){L.push(e)}function bn(e){ee.push(e)}const Y=new Set;let T=0;function ue(){if(T!==0)return;const e=V;do{try{for(;T<B.length;){const t=B[T];T++,x(t),at(t.$$)}}catch(t){throw B.length=0,T=0,t}for(x(null),B.length=0,T=0;de.length;)de.pop()();for(let t=0;t<L.length;t+=1){const n=L[t];Y.has(n)||(Y.add(n),n())}L.length=0}while(B.length);for(;ee.length;)ee.pop()();te=!1,Y.clear(),x(e)}function at(e){if(e.fragment!==null){e.update(),D(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Q)}}function ct(e){const t=[],n=[];L.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),L=t}let O;function lt(){return O||(O=Promise.resolve(),O.then(()=>{O=null})),O}function Z(e,t,n){e.dispatchEvent(De(`${t?"intro":"outro"}${n}`))}const I=new Set;let A;function ft(){A={r:0,c:[],p:A}}function ht(){A.r||D(A.c),A=A.p}function oe(e,t){e&&e.i&&(I.delete(e),e.i(t))}function Re(e,t,n,s){if(e&&e.o){if(I.has(e))return;I.add(e),A.c.push(()=>{I.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}const dt={duration:0};function yn(e,t,n,s){const r={direction:"both"};let u=t(e,n,r),o=s?0:1,a=null,c=null,i=null;function l(){i&&rt(e,i)}function h(f,m){const g=f.b-o;return m*=Math.abs(g),{a:o,b:f.b,d:g,duration:m,start:f.start,end:f.start+m,group:f.group}}function d(f){const{delay:m=0,duration:g=300,easing:b=je,tick:y=E,css:S}=u||dt,R={start:Ie()+m,b:f};f||(R.group=A,A.r+=1),a||c?c=R:(S&&(l(),i=he(e,o,f,g,m,b,S)),f&&y(0,1),a=h(R,g),Q(()=>Z(e,f,"start")),ze($=>{if(c&&$>c.start&&(a=h(c,g),c=null,Z(e,a.b,"start"),S&&(l(),i=he(e,o,a.b,a.duration,0,b,u.css))),a){if($>=a.end)y(o=a.b,1-o),Z(e,a.b,"end"),c||(a.b?l():--a.group.r||D(a.group.c)),a=null;else if($>=a.start){const j=$-a.start;o=a.a+a.d*b(j/a.duration),y(o,1-o)}}return!!(a||c)}))}return{run(f){K(u)?lt().then(()=>{u=u(r),d(f)}):d(f)},end(){l(),a=c=null}}}function vn(e,t){const n=t.token={};function s(r,u,o,a){if(t.token!==n)return;t.resolved=a;let c=t.ctx;o!==void 0&&(c=c.slice(),c[o]=a);const i=r&&(t.current=r)(c);let l=!1;t.block&&(t.blocks?t.blocks.forEach((h,d)=>{d!==u&&h&&(ft(),Re(h,1,1,()=>{t.blocks[d]===h&&(t.blocks[d]=null)}),ht())}):t.block.d(1),i.c(),oe(i,1),i.m(t.mount(),t.anchor),l=!0),t.block=i,t.blocks&&(t.blocks[u]=i),l&&ue()}if(We(e)){const r=N();if(e.then(u=>{x(r),s(t.then,1,t.value,u),x(null)},u=>{if(x(r),s(t.catch,2,t.error,u),x(null),!t.hasCatch)throw u}),t.current!==t.pending)return s(t.pending,0),!0}else{if(t.current!==t.then)return s(t.then,1,t.value,e),!0;t.resolved=e}}function wn(e,t,n){const s=t.slice(),{resolved:r}=e;e.current===e.then&&(s[e.value]=r),e.current===e.catch&&(s[e.error]=r),e.block.p(s,n)}function En(e,t){Re(e,1,1,()=>{t.delete(e.key)})}function xn(e,t,n,s,r,u,o,a,c,i,l,h){let d=e.length,f=u.length,m=d;const g={};for(;m--;)g[e[m].key]=m;const b=[],y=new Map,S=new Map,R=[];for(m=f;m--;){const _=h(r,u,m),v=n(_);let w=o.get(v);w?s&&R.push(()=>w.p(_,t)):(w=i(v,_),w.c()),y.set(v,b[m]=w),v in g&&S.set(v,Math.abs(m-g[v]))}const $=new Set,j=new Set;function J(_){oe(_,1),_.m(a,l),o.set(_.key,_),l=_.first,f--}for(;d&&f;){const _=b[f-1],v=e[d-1],w=_.key,F=v.key;_===v?(l=_.first,d--,f--):y.has(F)?!o.has(w)||$.has(w)?J(_):j.has(F)?d--:S.get(w)>S.get(F)?(j.add(w),J(_)):($.add(F),d--):(c(v,o),d--)}for(;d--;){const _=e[d];y.has(_.key)||c(_,o)}for(;f;)J(b[f-1]);return D(R),b}function An(e,t){const n={},s={},r={$$scope:1};let u=e.length;for(;u--;){const o=e[u],a=t[u];if(a){for(const c in o)c in a||(s[c]=1);for(const c in a)r[c]||(n[c]=a[c],r[c]=1);e[u]=a}else for(const c in o)r[c]=1}for(const o in s)o in n||(n[o]=void 0);return n}function Sn(e){return typeof e=="object"&&e!==null?e:{}}function $n(e,t,n){const s=e.$$.props[t];s!==void 0&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function Cn(e){e&&e.c()}function mt(e,t,n,s){const{fragment:r,after_update:u}=e.$$;r&&r.m(t,n),s||Q(()=>{const o=e.$$.on_mount.map(ve).filter(K);e.$$.on_destroy?e.$$.on_destroy.push(...o):D(o),e.$$.on_mount=[]}),u.forEach(Q)}function pt(e,t){const n=e.$$;n.fragment!==null&&(ct(n.after_update),D(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function _t(e,t){e.$$.dirty[0]===-1&&(B.push(e),it(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Dn(e,t,n,s,r,u,o,a=[-1]){const c=V;x(e);const i=e.$$={fragment:null,ctx:[],props:u,update:E,not_equal:r,bound:le(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:le(),dirty:a,skip_bound:!1,root:t.target||c.$$.root};o&&o(i.root);let l=!1;if(i.ctx=n?n(e,t.props||{},(h,d,...f)=>{const m=f.length?f[0]:d;return i.ctx&&r(i.ctx[h],i.ctx[h]=m)&&(!i.skip_bound&&i.bound[h]&&i.bound[h](m),l&&_t(e,h)),d}):[],i.update(),l=!0,D(i.before_update),i.fragment=s?s(i.ctx):!1,t.target){if(t.hydrate){const h=et(t.target);i.fragment&&i.fragment.l(h),h.forEach(X)}else i.fragment&&i.fragment.c();t.intro&&oe(e.$$.fragment),mt(e,t.target,t.anchor,t.customElement),ue()}x(c)}class Rn{$destroy(){pt(this,1),this.$destroy=E}$on(t,n){if(!K(n))return E;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(t){this.$$set&&!qe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const U=[];function gt(e,t=E){let n;const s=new Set;function r(a){if(Pe(e,a)&&(e=a,n)){const c=!U.length;for(const i of s)i[1](),U.push(i,e);if(c){for(let i=0;i<U.length;i+=2)U[i][0](U[i+1]);U.length=0}}}function u(a){r(a(e))}function o(a,c=E){const i=[a,c];return s.add(i),s.size===1&&(n=t(r)||E),a(e),()=>{s.delete(i),s.size===0&&n&&(n(),n=null)}}return{set:r,update:u,subscribe:o}}const bt=[{value:browser.runtime.getURL("assets/sounds/vk-message.mp3"),name:"\u0412\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u0435"},{value:browser.runtime.getURL("assets/sounds/ok-message.mp3"),name:"\u041E\u0434\u043D\u043E\u043A\u043B\u0430\u0441\u0441\u043D\u0438\u043A\u0438"},{value:browser.runtime.getURL("assets/sounds/discord-message.mp3"),name:"\u0414\u0438\u0441\u043A\u043E\u0440\u0434"},{value:browser.runtime.getURL("assets/sounds/icq-message-1.mp3"),name:"\u0410\u0441\u044C\u043A\u0430 1"},{value:browser.runtime.getURL("assets/sounds/icq-message-2.mp3"),name:"\u0410\u0441\u044C\u043A\u0430 2"},{value:browser.runtime.getURL("assets/sounds/snapchat.mp3"),name:"\u0421\u043D\u0430\u043F\u0447\u0430\u0442"},{value:browser.runtime.getURL("assets/sounds/bttv.ogg"),name:"BetterTTV"},{value:browser.runtime.getURL("assets/sounds/iphone-message.mp3"),name:"\u0410\u0439\u0444\u043E\u043D"},{value:browser.runtime.getURL("assets/sounds/achievement.mp3"),name:"\u0410\u0447\u0438\u0432\u043A\u0430"},{value:browser.runtime.getURL("assets/sounds/hmm.mp3"),name:"\u0425\u043C\u043C?"},{value:browser.runtime.getURL("assets/sounds/deduction.mp3"),name:"\u0411\u0430\u0440\u0430\u0431\u0430\u043D\u0447\u0438\u043A"},{value:browser.runtime.getURL("assets/sounds/prum.mp3"),name:"\u041F\u0440\u0443\u043C"},{value:browser.runtime.getURL("assets/sounds/that-was-quick.mp3"),name:"\u041A\u0443\u0440\u043B\u044B\u043A"},{value:browser.runtime.getURL("assets/sounds/soft-bells.mp3"),name:"\u041A\u043E\u043B\u043E\u043A\u043E\u043B\u044C\u0447\u0438\u043A\u0438"},{value:browser.runtime.getURL("assets/sounds/xperia-z-reminder.mp3"),name:"\u041D\u0430\u043F\u043E\u043C\u0438\u043D\u0430\u043B\u043A\u0430"}],Tn=[{value:M.BetterTTV,name:"BetterTTV"},{value:M.SevenTV,name:"7TV"},{value:M.FrankerFaceZ,name:"FrankerFaceZ"}],Un=[{value:q.CAROUSEL,name:"\u041A\u0430\u0440\u0443\u0441\u0435\u043B\u044C \u043D\u0430 \u0433\u043B\u0430\u0432\u043D\u043E\u0439 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435"},{value:q.PREVIEW,name:"\u041F\u0440\u0435\u0432\u044C\u044E \u0441\u0442\u0440\u0438\u043C\u0430 (\u0433\u043B\u0430\u0432\u043D\u0430\u044F, \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F, \u0431\u043E\u043A\u043E\u0432\u043E\u0435 \u043C\u0435\u043D\u044E)"},{value:q.STREAM_OR_RECORD,name:"\u0421\u0442\u0440\u0438\u043C \u0438\u043B\u0438 \u0437\u0430\u043F\u0438\u0441\u044C \u043D\u0430 \u043A\u0430\u043D\u0430\u043B\u0435"}],Bn=[{value:z.HOVER,name:"\u041D\u0430\u0432\u0435\u0441\u0442\u0438 \u043C\u044B\u0448\u044C \u043D\u0430 \u043A\u0430\u043D\u0430\u043B"},{value:z.CONTEXT_MENU,name:"\u041A\u043B\u0438\u043A\u043D\u0443\u0442\u044C \u043F\u0440\u0430\u0432\u043E\u0439 \u043A\u043D\u043E\u043F\u043A\u043E\u0439 \u043C\u044B\u0448\u0438 \u043F\u043E \u043A\u0430\u043D\u0430\u043B\u0443"}],p={},yt={installedAtMs:Date.now(),isFirefoxAnnounceShown:!1,isClaimChestBonus:!0,isClaimDrops:!0,isClaimMessageBonus:!1,isAutoLikeEnabled:!0,isAutoTheatreModeEnabled:!1,isDisplayEmotes:!0,emoteScaleValue:1.8,defaultEmoteProvider:M.SevenTV,isRejectRaid:!1,isRemoveCatalogShowcase:!1,isBlockDeleteMessage:!1,isShowChangelogWhenUpdated:!0,isChangelogPageShown:!1,isWelcomeViewShown:!0,subscribedChannels:[],alreadyNotifiedStream:{},isNotificationAboutStreamEnabled:!1,isNotificationAboutStreamOnStartupEnabled:!1,isNotifyAudioMentionEnabled:!1,notifyAudioVolume:100,notifyAudioSrc:bt[0].value,customNotifyAudioSrc:"",autoCloseNotificationAboutStreamSeconds:7,featuresAvailability:{isNotificationAboutStreamAvailable:!1},oftenUsedEmotes:{},oftenUsedEmotesMaxCount:12,emotesBlackList:"",emotes:{twitchIndex:{},emoteIndex:{bttv:{},seventv:{},ffz:{}},globalEmotes:{bttv:[],seventv:[],ffz:[]},channelEmotes:{}},nextMessageBonusTimecodes:{},hotkeySet:{toggleEmoteSelector:{ctrl:!1,shift:!1,alt:!0,keyCode:"KeyW"}},unmutePlayerTypes:[],chatStyle:{isAlternateBackgroundColor:!1,backgroundColorHex:"#3a3a3a",marginBottom:void 0,paddingY:void 0,borderWidth:void 0},sideStreamPreview:{isEnabled:!1,widthPx:"480",showMode:z.CONTEXT_MENU}};let me=!1,Te=new Ve;function vt(e,t){let n=Object.entries(e).reduce((s,[r,u])=>(p[r]!=null&&u.newValue!=null&&(s[r]=u.newValue),s),{});Ue(n,!0)}function wt(e,t){let n={[e]:t};return Et(n)}async function kn(e,t){await browser.storage.local.set({[e]:t})}async function Et(e){await Ue(e,!1),await browser.storage.local.set(e)}async function Ln(e){return await ie(e),p[e].value}async function Nn(e){return await ae(e),e.reduce((t,n)=>(t[n]=p[n].value,t),{})}async function xt(e){return await ie(e),p[e].svelteStore==null&&(p[e].svelteStore=St(e,p[e].value)),p[e].svelteStore}async function On(e){return await ae(e),await Promise.all(e.map(async t=>xt(t))),e.reduce((t,n)=>(t[n]=p[n].svelteStore,t),{})}async function Mn(e,t,n=!0){await ie(e),p[e].listeners==null&&(p[e].listeners=[]),At(e,t)||p[e].listeners.push(t),n&&t(p[e].value)}function Vn(e,t){var n;if(p[e]!=null){let s=(n=p[e].listeners)==null?void 0:n.indexOf(t);s&&s!=-1&&p[e].listeners.splice(s,1)}}function At(e,t){var n,s;return((s=(n=p[e])==null?void 0:n.listeners)==null?void 0:s.find(r=>r===t))!=null}async function Ue(e,t){let n=Object.keys(e);await ae(n),n.forEach(s=>{var u,o;let r=e[s];p[s].value=r,(u=p[s].svelteStore)==null||u.setExceptBrowser(r),t&&((o=p[s].listeners)==null||o.forEach(a=>a(r)))})}async function ie(e){return Te.runExclusive(async()=>{if(Be(),p[e]==null){let t=await browser.storage.local.get(e);ke(e,t[e])}})}async function ae(e){return Te.runExclusive(async()=>{Be();let t=e.filter(n=>p[n]==null);if(t.length>0)try{let n=await browser.storage.local.get(t);t.forEach(s=>ke(s,n[s]))}catch(n){console.log(n),console.log(browser.runtime.lastError)}})}function Be(){me||(me=!0,browser.storage.onChanged.addListener(vt))}function ke(e,t){p[e]={value:t!=null?t:yt[e]}}function St(e,t){const{subscribe:n,set:s}=gt(t),r=$t(u=>{(p[e].value!==u||typeof t=="object"||Array.isArray(t))&&wt(e,u)});return{subscribe:n,setExceptBrowser:s,set:u=>{s(u),r(u)}}}const $t=(e,t=200)=>{let n;return function(...s){clearTimeout(n),n=setTimeout(()=>e.apply(this,s),t)}};class Ct extends Error{constructor(n,s){super(n);C(this,"response");this.response=s}}class ce{constructor(t){C(this,"config");this.config={responseType:void 0,transformRequest:[],transformResponse:[],...t,headers:{...t==null?void 0:t.headers},options:{...t==null?void 0:t.options}}}delete(t,n){return this.fetch(t,{...n,method:"DELETE"})}fetch(t,n){const s=new Headers({...this.config.options.headers,...this.config.headers,...n==null?void 0:n.headers});let r={...this.config.options,...n,headers:s};r.body&&typeof r.body!="string"&&!s.has("content-type")&&!(r.body instanceof ArrayBuffer)&&!(r.body instanceof Blob)&&!(r.body instanceof FormData)&&!(r.body instanceof ReadableStream)&&(r.body=JSON.stringify(r.body),s.set("content-type","application/json"),r.headers=s);let u=t;return!t.startsWith("http://")&&!t.startsWith("https://")&&this.config.baseUrl&&(u=t.startsWith("/")?`${this.config.baseUrl}${t}`:`${this.config.baseUrl}/${t}`),this.config.transformRequest.length&&this.config.transformRequest.forEach(o=>{r={...r,...o(u,r)}}),fetch(u,r).then(async o=>{let a;const c=o.headers.get("content-length"),i=o.headers.get("content-type"),l=typeof r.responseType!="undefined"?r.responseType:this.config.responseType;l&&(i||c&&c!=="0")&&r.method&&!["HEAD","OPTIONS"].includes(r.method)&&(l==="json"?a=await o.json():l==="text"?a=await o.text():l==="blob"?a=await o.blob():l==="arrayBuffer"?a=await o.arrayBuffer():l==="formData"?a=await o.formData():l==="stream"&&(a=await o.body)),o.ok&&this.config.transformResponse.length&&this.config.transformResponse.forEach(f=>{a=f(a,o)});const h={};o.headers.forEach((f,m)=>{h[m]=f});const d={body:a,headers:h,original:o,redirected:o.redirected,status:o.status,statusText:o.statusText,type:o.type};if(!o.ok)throw new Ct(o.statusText,d);return d})}get(t,n){return this.fetch(t,{...n,method:"GET"})}head(t,n){return this.fetch(t,{...n,method:"HEAD"})}options(t,n){return this.fetch(t,{...n,method:"OPTIONS"})}patch(t,n,s){return this.fetch(t,{...s,body:n,method:"PATCH"})}post(t,n,s){return this.fetch(t,{...s,body:n,method:"POST"})}put(t,n,s){return this.fetch(t,{...s,body:n,method:"PUT"})}setHeader(t,n){n==null?delete this.config.headers[t]:this.config.headers[t]=n}setHeaders(t){this.config.headers={...t}}setOption(t,n){this.config.options={...this.config.options,[t]:n}}setOptions(t){this.config.options={...t}}}var pe;(e=>{e.CDN_BASE_URL="https://cdn.betterttv.net/emote";const t=new ce({baseUrl:"https://api.betterttv.net/3",responseType:"json"});function n(r){return t.get(`/cached/users/twitch/${r}`)}e.getUser=n;function s(){return t.get("/cached/emotes/global")}e.getGlobalEmotes=s})(pe||(pe={}));var _e;(e=>{e.CDN_BASE_URL="https://cdn2.frankerfacez.com/emote";const t=new ce({baseUrl:"https://api.frankerfacez.com/v1",responseType:"json"});function n(u){return t.get(`/room/id/${u}`)}e.getUserByTwitchId=n;function s(u){return t.get(`/room/${u}`)}e.getUserByTwitchLogin=s;function r(){return t.get("/set/global")}e.getGlobalEmotes=r})(_e||(_e={}));var ge;(e=>{e.CDN_BASE_URL="https://cdn.7tv.app/emote";const t=new ce({baseUrl:"https://7tv.io/v3",responseType:"json"});function n(r){return t.get(`/users/twitch/${r}`)}e.getUser=n;function s(){return t.get("/emote-sets/global")}e.getGlobalEmotes=s})(ge||(ge={}));class jn{constructor(t,n=void 0,s,r){C(this,"type");C(this,"data");C(this,"target");C(this,"from");this.type=t,this.data=n,this.target=s,this.from=r}}var Dt=(e=>(e.About="about",e.Hotkeys="hotkeys",e.ChatOptions="chat-options",e.PlayerOptions="player-options",e.NotificationOptions="notification-options",e))(Dt||{}),Rt=(e=>(e.About="about",e.Changelog="changelog",e))(Rt||{});export{E as $,Nt as A,pe as B,An as C,K as D,M as E,ce as F,Q as G,yn as H,D as I,gn as J,de as K,Cn as L,mt as M,Sn as N,pt as O,gt as P,It as Q,je as R,ge as S,Ht as T,re as U,Se as V,_n as W,kt as X,hn as Y,Pt as Z,Ke as _,_e as a,Je as a0,Ce as a1,tn as a2,Ft as a3,Ut as a4,N as a5,Zt as a6,nn as a7,en as a8,un as a9,wn as aA,Jt as aB,On as aC,bt as aD,Bn as aE,cn as aF,Xt as aG,fn as aH,Un as aI,Et as aJ,kn as aK,rn as aa,zt as ab,on as ac,$n as ad,bn as ae,mn as af,Qt as ag,Kt as ah,jn as ai,xn as aj,dn as ak,En as al,an as am,Bt as an,Tn as ao,Dt as ap,sn as aq,$t as ar,Wt as as,ln as at,we as au,Nn as av,wt as aw,Rt as ax,vn as ay,xt as az,Mn as b,Rn as c,yt as d,Gt as e,Qe as f,Ln as g,ft as h,Dn as i,Re as j,ht as k,X as l,jt as m,pn as n,Fe as o,Vt as p,Lt as q,Vn as r,Pe as s,oe as t,se as u,Yt as v,qt as w,fe as x,Ot as y,Mt as z};

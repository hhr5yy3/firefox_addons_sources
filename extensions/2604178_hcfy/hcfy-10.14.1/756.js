"use strict";(self.webpackChunkbrowser_extension=self.webpackChunkbrowser_extension||[]).push([[756],{15999:(e,t,n)=>{n.d(t,{Dx:()=>p,I8:()=>u,Qy:()=>m,zy:()=>g});n(10865);var o=n(73418),s=n(45457),r=n(34047),a=n(72431),i=n(51127),c=n.n(i),l=n(29842),d=n(20843);const p=!0,u={id:a.VI.ALi,name:"阿里翻译",points:!0,secretKeys:{get:()=>c().storage.local.get({aLiApiKey:[]}).then((({aLiApiKey:e})=>Array.isArray(e)?e:[e])),set:e=>c().storage.local.set({aLiApiKey:e}),isComplete:e=>(0,d.hP)(e,["id"])},pointsEnable:{get:()=>c().storage.local.get({aliPoints:p}).then((({aliPoints:e})=>e)),set:e=>c().storage.local.set({aliPoints:e})}},m=!0,g={id:a.VI.ALiPro,name:"阿里翻译（专业版）",points:!0,getDomain:()=>c().storage.local.get("aliDomain").then((({aliDomain:e})=>e)),secretKeys:u.secretKeys,pointsEnable:{get:()=>c().storage.local.get({aliProPoints:m}).then((({aliProPoints:e})=>e)),set:e=>c().storage.local.set({aliProPoints:e})}};class h extends r.c{constructor(e){super(e,{standardMap:o,retry:!0})}isSuccessResponse(e){return(0,s.aq)(e)}throwErrorResponse(e){throw new l.Fw(`${this.service.name}报错了，错误码：${e.Code}，错误消息："${e.Message}"`,{type:l.VC.API_SERVER_ERROR,link:{name:"查看错误码释义",url:this.service.getDomain?"https://hcfy.app/docs/services/ali-pro-api#troubleshooting":"https://hcfy.app/docs/services/ali-api#troubleshooting"}})}isSameLang(e,t){return(0,s.dL)(e,t.text)}async callBySecretKey(e,t){const n=await(0,s.Tl)(e,{SourceText:t.text,TargetLanguage:t.destination,SourceLanguage:t.source||void 0,Scene:t.domain||void 0},{headerDateName:"Hcfy-Date"});return this.isSuccessResponse(n)||this.throwErrorResponse(n),n}transform(e,t){const n=e.text,o=e.destinations[e.destIndex],s={text:n,link:`https://translate.alibaba.com/#hcfy_text=${encodeURIComponent(n)}&hcfy_from=auto&hcfy_to=${o}`,from:e.source&&this.convertToStandard(e.source),to:o&&this.convertToStandard(o)};if(t)try{s.result=t.Data.Translated.split("\n")}catch(e){}return s}}new h(u),new h(g)},75023:(e,t,n)=>{n.d(t,{J:()=>p});n(62234),n(10865),n(98376),n(14293),n(28715);var o=n(34047),s=n(72431),r=n(51127),a=n.n(r),i=n(16224),c=n(20843),l=n(76768),d=n(29842);const p={id:s.VI.BaiChuan,name:"百川智能（百小应）",free:!1,points:!1,secretKeys:{get:()=>a().storage.local.get({baiChuanKey:[]}).then((({baiChuanKey:e})=>e.map((e=>({key:e}))))),set:e=>a().storage.local.set({baiChuanKey:e.map((e=>e.key))}),isComplete:e=>(0,c.hP)(e)}};class u extends o.c{constructor(){super(p)}async translateInner(e,t){const n=await a().storage.local.get({baiChuanPrompt:i.g2.baiChuanPrompt});if(n.baiChuanPrompt&&!n.baiChuanPrompt.includes("{{text}}"))throw new d.Fw("翻译命令内必须包含 `{{text}}`，请前往设置修改翻译命令。",{type:d.VC.OTHER});return super.translateInner(e,t)}async callBySecretKey(e,t){const n=await a().storage.local.get({baiChuanPrompt:i.g2.baiChuanPrompt,baiChuanEndpoint:i.g2.baiChuanEndpoint,baiChuanModel:i.g2.baiChuanModel}),o=(n.baiChuanPrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",t.text).replace("{{target}}",t.destination);return(0,l.z)(e.key,{model:n.baiChuanModel,messages:[{role:"user",content:o.replaceAll("\n","\n\n")}]},n.baiChuanEndpoint||void 0)}transform(e,t){const n=e.text,s=e.destinations[e.destIndex],r={text:n,link:"https://www.baichuan-ai.com/",from:e.source&&this.convertToStandard(e.source),to:s&&this.convertToStandard(s)};return t&&(r.result=(0,o.f)(t.choices[0].message.content.trim()).split("\n")),r}}new u},41727:(e,t,n)=>{n.d(t,{Me:()=>g,RO:()=>u,cG:()=>m,p4:()=>p});n(10865);var o=n(51127),s=n.n(o),r=n(30457),a=n(34047),i=n(72431),c=n(98712),l=n(29842),d=n(20843);const p=!0,u={id:i.VI.BaiDu,name:"百度翻译",points:!0,secretKeys:{get:()=>s().storage.local.get({baiDuAppKey:[]}).then((({baiDuAppKey:e})=>Array.isArray(e)?e:[e])),set:e=>s().storage.local.set({baiDuAppKey:e}),isComplete:e=>(0,d.hP)(e,["id"])},pointsEnable:{get:()=>s().storage.local.get({bdPoints:p}).then((({bdPoints:e})=>e)),set:e=>s().storage.local.set({bdPoints:e})}},m=!0,g={id:i.VI.BaiDuPro,name:"百度翻译（专业版）",points:!0,getDomain:()=>s().storage.local.get("baiduDomain").then((({baiduDomain:e})=>e)),secretKeys:u.secretKeys,pointsEnable:{get:()=>s().storage.local.get({bdProPoints:m}).then((({bdProPoints:e})=>e)),set:e=>s().storage.local.set({bdProPoints:e})}};class h extends a.c{constructor(e){super(e,{standardMap:r,retry:!0})}isSuccessResponse(e){return(0,c.aq)(e)}throwErrorResponse(e){throw new l.Fw(`${this.service.name}报错了，错误码：${e.error_code}。`,{type:l.VC.API_SERVER_ERROR,link:{name:"查看错误码释义",url:this.service.getDomain?"https://hcfy.app/docs/services/baidu-pro-api#troubleshooting":"https://hcfy.app/docs/services/baidu-api#troubleshooting"}})}isSameLang(e){return(0,c.dL)(e)}async callBySecretKey(e,t){const n=async o=>{const s=await(0,c.Tl)(e,{q:t.text,to:t.destination,from:t.source||void 0,domain:t.domain||void 0});if(!this.isSuccessResponse(s)){if(!o&&"54003"===s.error_code)return new Promise(((e,t)=>{setTimeout((()=>{n(!0).then(e,t)}),800)}));this.throwErrorResponse(s)}return s};return n()}transform(e,t){const n=e.text,o=null==t?void 0:t.from,s=null==t?void 0:t.to,r={text:n,link:`https://fanyi.baidu.com/#${o||"auto"}/${s||"zh"}/${encodeURIComponent(n)}`,from:o&&this.convertToStandard(o),to:s&&this.convertToStandard(s)};if(t)try{r.result=t.trans_result.map((e=>e.dst))}catch(e){}return r}}new h(u),new h(g)},30275:(e,t,n)=>{n.d(t,{g:()=>c});n(69375),n(10865),n(98376);var o=n(34047),s=n(73516),r=n(72431),a=n(29842);function i(e){var t;const n={},o=null===(t=e.textContent)||void 0===t?void 0:t.trim().split(/\s+/);var s;o&&(n.name=o[0],n.value=null===(s=o[1])||void 0===s?void 0:s.slice(1,-1));const r=e.nextElementSibling;if(null!=r&&r.matches(".hd_tf")){var a;const e=null===(a=r.getElementsByTagName("a")[0])||void 0===a?void 0:a.getAttribute("data-mp3link");e&&(n.ttsURI=e)}return n}const c={id:r.VI.BingDict,name:"必应词典",free:!0};class l extends o.c{constructor(){super(c,{standardMap:{"中文(简体)":"中文(简体)",英语:"英语"},retry:!0})}async callByFree(e){return(0,s.S)(e.text)}transform(e,t){const{text:n}=e,o={text:n,link:"https://www.bing.com/dict/search?q="+encodeURIComponent(n)+"&cc=cn"};if(t){var s;const e=t.getElementsByClassName("qdef")[0];if(e){const t=e.getElementsByClassName("hd_p1_1")[0];if(t){const e=[],n=t.getElementsByClassName("hd_prUS")[0];n&&e.push(i(n));const s=t.getElementsByClassName("hd_pr")[0];if(s&&e.push(i(s)),n||s)o.from="英语";else{var r;const n=null===(r=t.textContent)||void 0===r?void 0:r.trim().slice(1,-1);n&&(o.from="中文(简体)",e.push({value:n}))}e.length&&(o.phonetic=e)}const n=[];e.querySelectorAll("ul li").forEach((e=>{const t=e.getElementsByClassName("pos")[0];if(t){const e=t.nextElementSibling;if(null!=e&&e.matches(".b_regtxt"))if(t.matches(".web")){var o;const t=null===(o=e.textContent)||void 0===o?void 0:o.trim();t&&n.push({pos:"网络: ",terms:t.split(/；\s*/)})}else{var s;const o=null===(s=e.textContent)||void 0===s?void 0:s.trim().split(/；\s*/);var r;if(o)n.push({pos:null===(r=t.textContent)||void 0===r?void 0:r.trim(),terms:o})}}})),n.length&&(o.dict=n)}o.dict||null!==(s=o.result)&&void 0!==s&&s.length||(o.error={type:a.VC.API_SERVER_ERROR,message:"无翻译结果。",link:{name:"查看解决方案",url:"https://hcfy.app/docs/services/free#bingdict"}})}return o}}new l},2599:(e,t,n)=>{n.d(t,{$H:()=>d,n8:()=>l});n(10865);var o=n(51127),s=n.n(o),r=n(34047),a=n(39836),i=n(72431),c=n(20843);const l=!0,d={id:i.VI.CaiYun,name:"彩云小译",points:!0,secretKeys:{get:()=>s().storage.local.get({cyApiToken:[]}).then((({cyApiToken:e})=>e?(Array.isArray(e)?e:[e]).map((e=>({key:e}))):[])),set:e=>s().storage.local.set({cyApiToken:e.map((e=>e.key))}),isComplete:e=>(0,c.hP)(e)},pointsEnable:{get:()=>s().storage.local.get({cyPoints:l}).then((({cyPoints:e})=>e)),set:e=>s().storage.local.set({cyPoints:e})}};class p extends r.c{constructor(){super(d,{standardMap:{"中文(简体)":"zh",英语:"en",日语:"ja"},retry:!0})}isSameLang(e,t){return(0,a.d)(e,[t.text])}async callBySecretKey(e,t){return(0,a.T)(e.key,{source:t.text.split("\n"),trans_type:`${t.source||"auto"}2${t.destination}`,detect:!0})}transform(e,t){const n=e.text,o=e.destinations[e.destIndex],s={text:n,link:"https://fanyi.caiyunapp.com/",from:e.source&&this.convertToStandard(e.source),to:o&&this.convertToStandard(o)};return t&&(s.result=t.target),s}}new p},61479:(e,t,n)=>{n.d(t,{d:()=>u});n(97107),n(62234),n(64727),n(10865),n(98376),n(14293);var o=n(34047),s=n(72431),r=n(51127),a=n.n(r),i=n(16224),c=n(20843),l=n(91177),d=n(29842),p=n(51018);const u={id:s.VI.ChatGPT,name:"ChatGPT",free:!1,package:!0,secretKeys:{get:()=>a().storage.local.get({chatGPTKey:[]}).then((({chatGPTKey:e})=>e.map((e=>({key:e}))))),set:e=>a().storage.local.set({chatGPTKey:e.map((e=>e.key))}),isComplete:e=>(0,c.hP)(e)}};class m extends o.c{constructor(){super(u)}async translateInner(e,t){const n=await a().storage.local.get({chatGPTPrompt:i.g2.chatGPTPrompt});if(n.chatGPTPrompt&&!n.chatGPTPrompt.includes("{{text}}"))throw new d.Fw("翻译命令内必须包含 `{{text}}`，请前往设置修改翻译命令。",{type:d.VC.OTHER});return super.translateInner(e,t)}async callBySecretKey(e,t){const n=await a().storage.local.get({chatGPTPrompt:i.g2.chatGPTPrompt,chatGPTEndpoint:i.g2.chatGPTEndpoint,chatGPTModel:i.g2.chatGPTModel}),o=(n.chatGPTPrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",t.text).replace("{{target}}",t.destination);return(0,l.zk)(e.key,{model:n.chatGPTModel,messages:[{role:"user",content:o}]},n.chatGPTEndpoint)}async callByPackage(e){const t=await a().storage.local.get({chatGPTPrompt:i.g2.chatGPTPrompt,chatGPTModel:i.g2.chatGPTModel}),n=(t.chatGPTPrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",e.text).replace("{{target}}",e.destination),o=await(0,p.Z5)("https://hs-api.limingkai.cn/call/translate/openai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:t.chatGPTModel,messages:[{role:"user",content:n}]})}),s=await o.json();if("isError"in s)throw new Error(s.message);return s}transform(e,t){const n=e.text,s=e.destinations[e.destIndex],r={text:n,link:"https://chat.openai.com/",from:e.source&&this.convertToStandard(e.source),to:s&&this.convertToStandard(s)};return t&&(r.result=(0,o.f)(t.choices[0].message.content.trim()).split("\n")),r}}new m},95548:(e,t,n)=>{n.d(t,{S:()=>u});n(97107),n(62234),n(64727),n(10865),n(98376),n(14293);var o=n(34047),s=n(72431),r=n(51127),a=n.n(r),i=n(16224),c=n(20843),l=n(32136),d=n(29842),p=n(51018);const u={id:s.VI.Claude,name:"Claude",free:!1,package:!0,secretKeys:{get:()=>a().storage.local.get({claudeKey:[]}).then((({claudeKey:e})=>e.map((e=>({key:e}))))),set:e=>a().storage.local.set({claudeKey:e.map((e=>e.key))}),isComplete:e=>(0,c.hP)(e)}};class m extends o.c{constructor(){super(u)}async translateInner(e,t){const n=await a().storage.local.get({claudePrompt:i.g2.claudePrompt});if(n.claudePrompt&&!n.claudePrompt.includes("{{text}}"))throw new d.Fw("翻译命令内必须包含 `{{text}}`，请前往设置修改翻译命令。",{type:d.VC.OTHER});return super.translateInner(e,t)}async callBySecretKey(e,t){const n=await a().storage.local.get({claudePrompt:i.g2.claudePrompt,claudeEndpoint:i.g2.claudeEndpoint,claudeModel:i.g2.claudeModel}),o=(n.claudePrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",t.text).replace("{{target}}",t.destination);return(0,l.D)(e.key,{model:n.claudeModel,messages:[{role:"user",content:o}]},n.claudeEndpoint)}async callByPackage(e){const t=await a().storage.local.get({claudePrompt:i.g2.claudePrompt,claudeModel:i.g2.claudeModel}),n=(t.claudePrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",e.text).replace("{{target}}",e.destination),o=await(0,p.Z5)("https://hs-api.limingkai.cn/call/translate/openai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:t.claudeModel,messages:[{role:"user",content:n}]})}),s=await o.json();if("isError"in s)throw new Error(s.message);return{id:s.id,type:"message",role:"assistant",content:[{text:s.choices[0].message.content,type:"text"}],model:s.model,stop_reason:s.choices[0].finish_reason,stop_sequence:null,usage:{input_tokens:s.usage.prompt_tokens,output_tokens:s.usage.completion_tokens}}}transform(e,t){const n=e.text,s=e.destinations[e.destIndex],r={text:n,link:"https://claude.ai/",from:e.source&&this.convertToStandard(e.source),to:s&&this.convertToStandard(s)};return t&&(r.result=(0,o.f)(t.content[0].text.trim()).split("\n")),r}}new m},91357:(e,t,n)=>{n.d(t,{d:()=>i});n(33873),n(98376),n(14293),n(28715),n(47010);var o=n(34047),s=n(9729),r=n(72431);const a={"中文(简体)":"zh",英语:"en",德语:"de",法语:"fr",西班牙语:"es",葡萄牙语:"pt",意大利语:"it",荷兰语:"nl",波兰语:"pl",俄语:"ru",日语:"ja",爱沙尼亚语:"et",保加利亚语:"bg",丹麦语:"da",芬兰语:"fi",捷克语:"cs",拉脱维亚语:"lv",立陶宛语:"lt",罗马尼亚语:"ro",瑞典语:"sv",斯洛伐克语:"sk",斯洛文尼亚语:"sl",希腊语:"el",匈牙利语:"hu",乌克兰语:"uk",印尼语:"id",书面挪威语:"nb",韩语:"ko",土耳其语:"tr"},i={id:r.VI.DeepL,name:"DeepL（内置）",free:!0,points:!1};class c extends o.c{constructor(){super(i,{standardMap:a})}isSameLang(e,t){return e.from?e.from===t.destinations[t.destIndex]:t.text===e.result}callByFree(e){return(0,s.l)(e)}transform(e,t){var n;const o={text:e.text,from:(null==t?void 0:t.from)&&this.convertToStandard(t.from.toLowerCase()),link:`https://www.deepl.com/translator#${(null==t||null===(n=t.from)||void 0===n?void 0:n.toLowerCase())||e.source||"auto"}/${e.destinations[e.destIndex]}/${encodeURIComponent(e.text.replaceAll("/","\\/"))}`};if(t){const e=t.result.split("\n");t.otherResults.length?o.dict=[{terms:e},...t.otherResults.map((e=>({terms:[e]})))]:o.result=e}return o}}new c},17299:(e,t,n)=>{n.d(t,{Q9:()=>u,rc:()=>p});n(97107),n(64727),n(10865),n(98376),n(14293),n(28715);var o=n(34047),s=n(72431),r=n(20843),a=n(51127),i=n.n(a),c=n(17129),l=n(51018);const d={"中文(简体)":"zh",英语:"en",德语:"de",法语:"fr",西班牙语:"es",葡萄牙语:"pt",意大利语:"it",荷兰语:"nl",波兰语:"pl",俄语:"ru",日语:"ja",爱沙尼亚语:"et",保加利亚语:"bg",丹麦语:"da",芬兰语:"fi",捷克语:"cs",拉脱维亚语:"lv",立陶宛语:"lt",罗马尼亚语:"ro",瑞典语:"sv",斯洛伐克语:"sk",斯洛文尼亚语:"sl",希腊语:"el",匈牙利语:"hu",乌克兰语:"uk",印尼语:"id",书面挪威语:"nb",韩语:"ko",土耳其语:"tr"},p=!0,u={id:s.VI.DeepLOfficial,name:"DeepL",free:!1,package:!0,secretKeys:{get:()=>i().storage.local.get({deeplKey:[]}).then((({deeplKey:e})=>e)),set:e=>i().storage.local.set({deeplKey:e}),isComplete:e=>(0,r.hP)(e,["deeplPro"])},pointsEnable:{get:()=>i().storage.local.get({deeplPoints:p}).then((({deeplPoints:e})=>e)),set:e=>i().storage.local.set({deeplPoints:e})}};class m extends o.c{constructor(){super(u,{standardMap:d,retry:{secretKey:!0}})}isSameLang(e,t){return e.translations[0].detected_source_language.toLowerCase()===t.destinations[t.destIndex]}async callBySecretKey(e,t){var n;const{deeplEndpoint:o}=await i().storage.local.get("deeplEndpoint");return(0,c.T)(e.key,{text:[t.text],target_lang:t.destination.toUpperCase(),source_lang:null===(n=t.source)||void 0===n?void 0:n.toUpperCase()},o)}async callByPackage(e){var t;const n=await(0,l.Z5)("https://hs-api.limingkai.cn/call/translate/deepl",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:[e.text],target_lang:e.destination.toUpperCase(),source_lang:null===(t=e.source)||void 0===t?void 0:t.toUpperCase()})}),o=await n.json();if("isError"in o)throw new Error(o.message);return o}transform(e,t){const n=null==t?void 0:t.translations[0].detected_source_language.toLowerCase(),o={text:e.text,from:n&&this.convertToStandard(n),link:`https://www.deepl.com/translator#${n||e.source||"auto"}/${e.destinations[e.destIndex]}/${encodeURIComponent(e.text.replaceAll("/","\\/"))}`};return t&&(o.result=t.translations[0].text.split("\n")),o}}new m},13036:(e,t,n)=>{n.d(t,{m:()=>p});n(62234),n(10865),n(98376),n(14293),n(28715);var o=n(34047),s=n(72431),r=n(51127),a=n.n(r),i=n(16224),c=n(20843),l=n(20343),d=n(29842);const p={id:s.VI.DeepSeek,name:"DeepSeek",free:!1,points:!1,secretKeys:{get:()=>a().storage.local.get({deepSeekKey:[]}).then((({deepSeekKey:e})=>e.map((e=>({key:e}))))),set:e=>a().storage.local.set({deepSeekKey:e.map((e=>e.key))}),isComplete:e=>(0,c.hP)(e)}};class u extends o.c{constructor(){super(p)}async translateInner(e,t){const n=await a().storage.local.get({deepSeekPrompt:i.g2.deepSeekPrompt});if(n.deepSeekPrompt&&!n.deepSeekPrompt.includes("{{text}}"))throw new d.Fw("翻译命令内必须包含 `{{text}}`，请前往设置修改翻译命令。",{type:d.VC.OTHER});return super.translateInner(e,t)}async callBySecretKey(e,t){const n=await a().storage.local.get({deepSeekPrompt:i.g2.deepSeekPrompt,deepSeekEndpoint:i.g2.deepSeekEndpoint,deepSeekModel:i.g2.deepSeekModel}),o=(n.deepSeekPrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",t.text).replace("{{target}}",t.destination);return(0,l.z)(e.key,{model:n.deepSeekModel,messages:[{role:"user",content:o.replaceAll("\n","\n\n")}]},n.deepSeekEndpoint||void 0)}transform(e,t){const n=e.text,s=e.destinations[e.destIndex],r={text:n,link:"https://chat.deepseek.com/",from:e.source&&this.convertToStandard(e.source),to:s&&this.convertToStandard(s)};return t&&(r.result=(0,o.f)(t.choices[0].message.content.trim()).split("\n")),r}}new u},33984:(e,t,n)=>{n.d(t,{e:()=>p});n(62234),n(10865),n(98376),n(14293),n(28715);var o=n(34047),s=n(72431),r=n(51127),a=n.n(r),i=n(16224),c=n(20843),l=n(82951),d=n(29842);const p={id:s.VI.DouBao,name:"豆包",free:!1,points:!1,secretKeys:{get:()=>a().storage.local.get({douBaoKey:[]}).then((({douBaoKey:e})=>e.map((e=>({key:e}))))),set:e=>a().storage.local.set({douBaoKey:e.map((e=>e.key))}),isComplete:e=>(0,c.hP)(e)}};class u extends o.c{constructor(){super(p)}async translateInner(e,t){const n=await a().storage.local.get({douBaoPrompt:i.g2.douBaoPrompt});if(n.douBaoPrompt&&!n.douBaoPrompt.includes("{{text}}"))throw new d.Fw("翻译命令内必须包含 `{{text}}`，请前往设置修改翻译命令。",{type:d.VC.OTHER});return super.translateInner(e,t)}async callBySecretKey(e,t){const n=await a().storage.local.get({douBaoPrompt:i.g2.douBaoPrompt,douBaoEndpoint:i.g2.douBaoEndpoint,douBaoModel:i.g2.douBaoModel}),o=(n.douBaoPrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",t.text).replace("{{target}}",t.destination);return(0,l.z)(e.key,{model:n.douBaoModel,messages:[{role:"user",content:o.replaceAll("\n","\n\n")}]},n.douBaoEndpoint||void 0)}transform(e,t){const n=e.text,s=e.destinations[e.destIndex],r={text:n,link:"https://www.doubao.com/chat/",from:e.source&&this.convertToStandard(e.source),to:s&&this.convertToStandard(s)};return t&&(r.result=(0,o.f)(t.choices[0].message.content.trim()).split("\n")),r}}new u},82225:(e,t,n)=>{n.d(t,{V:()=>u});n(97107),n(62234),n(64727),n(10865),n(98376),n(14293),n(28715);var o=n(34047),s=n(72431),r=n(51127),a=n.n(r),i=n(16224),c=n(20843),l=n(29842),d=n(77010),p=n(51018);const u={id:s.VI.Gemini,name:"Gemini",free:!1,points:!1,package:!0,secretKeys:{get:()=>a().storage.local.get({geminiKey:[]}).then((({geminiKey:e})=>e.map((e=>({key:e}))))),set:e=>a().storage.local.set({geminiKey:e.map((e=>e.key))}),isComplete:e=>(0,c.hP)(e)}};class m extends o.c{constructor(){super(u)}async translateInner(e,t){const n=await a().storage.local.get({geminiPrompt:i.g2.geminiPrompt});if(n.geminiPrompt&&!n.geminiPrompt.includes("{{text}}"))throw new l.Fw("翻译命令内必须包含 `{{text}}`，请前往设置修改翻译命令。",{type:l.VC.OTHER});return super.translateInner(e,t)}throwErrorResponse(e){throw new l.Fw(`${this.service.name}报错了，错误码：${e.code}，错误消息：${e.message}。`,{type:l.VC.API_SERVER_ERROR,link:{name:"查看错误码释义",url:"https://hcfy.app/docs/services/gemini#troubleshooting"}})}async callBySecretKey(e,t){const n=await a().storage.local.get({geminiPrompt:i.g2.geminiPrompt,geminiEndpoint:i.g2.geminiEndpoint,geminiModel:i.g2.geminiModel}),o=(n.geminiPrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",t.text).replace("{{target}}",t.destination);return(0,d.l)(e.key,n.geminiModel,{contents:[{parts:[{text:o.replaceAll("\n","\n\n")}]}],safetySettings:[{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_NONE"}]},{endpoint:n.geminiEndpoint?e=>n.geminiEndpoint.replace("{model}",e):void 0}).catch((async e=>{if(e.response){let t;try{t=await e.response.json()}catch(e){}throw null!=t&&"object"==typeof t&&"error"in t&&t.error&&this.throwErrorResponse(t.error),new l.Fw(`${this.service.name}报错了，错误消息：${e.message}`,{type:l.VC.API_SERVER_ERROR,context:e})}throw new l.Fw(`${this.service.name}报错了，错误消息：${e.message}`,{type:l.VC.NETWORK_ERROR,context:e})}))}async callByPackage(e){const t=await a().storage.local.get({geminiPrompt:i.g2.geminiPrompt,geminiModel:i.g2.geminiModel}),n=(t.geminiPrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",e.text).replace("{{target}}",e.destination);return(0,p.Z5)("https://hs-api.limingkai.cn/call/translate/openai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:t.geminiModel,messages:[{role:"user",content:n.replaceAll("\n","\n\n")}]})}).then((async e=>{const t=await e.json();if("isError"in t)return Promise.reject(new Error(t.message));return{candidates:[{content:{parts:t.choices.map((e=>({text:e.message.content})))}}]}}),(async e=>{if(e.response){let t;try{t=await e.response.json()}catch(e){}throw null!=t&&"object"==typeof t&&"error"in t&&t.error&&this.throwErrorResponse(t.error),new l.Fw(`${this.service.name}报错了，错误消息：${e.message}`,{type:l.VC.API_SERVER_ERROR,context:e})}throw new l.Fw(`${this.service.name}报错了，错误消息：${e.message}`,{type:l.VC.NETWORK_ERROR,context:e})}))}transform(e,t){const n=e.text,s=e.destinations[e.destIndex],r={text:n,link:"https://gemini.google.com/app",from:e.source&&this.convertToStandard(e.source),to:s&&this.convertToStandard(s)};return t&&(r.result=(0,o.f)(t.candidates[0].content.parts[0].text.trim()).split("\n")),r}}new m},32290:(e,t,n)=>{n.d(t,{G:()=>d});n(10865);var o=n(34047),s=n(32407),r=n(29842),a=n(72431),i=n(2549),c=n(51964),l=n(51018);const d={id:a.VI.Google,name:"谷歌翻译",free:!0};class p extends o.c{constructor(){super(d,{standardMap:s,retry:{secretKey:!0}}),this.region="cn",this.type="fast",this.mirror=""}isSameLang(e,t){return e.from===t.destinations[t.destIndex]}async callByFree(e){const{text:t,destination:n,source:o="auto"}=e;let s;try{s=await(0,i.GL)(t,n,o,{signal:(0,l._)(8e3)},this.mirror)}catch(e){if("fast"!==this.type)s=await(0,i.EF)({text:t,to:n,source:o,region:this.region});else try{s=await(0,i.C5)(t,n,o,{signal:(0,l._)(8e3)},this.mirror)}catch(e){throw(0,c.$)(e)}}return s}transform(e,t){const{text:n}=e,o=e.destinations[e.destIndex],s=null==t?void 0:t.from,r={text:n,from:s&&this.convertToStandard(s),to:o&&this.convertToStandard(o),link:`https://translate.google.${this.region}/?sl=${s||"auto"}&tl=${o}&text=${encodeURIComponent(n)}&op=translate`};if(t){r.result=t.result.split("\n"),t.dict&&(r.dict=t.dict),t.phonetic&&(r.phonetic=t.phonetic.map((e=>({name:e.name,value:e.value,ttsURI:r.from&&this.getTTS(n,r.from)}))));try{!r.phonetic&&r.from&&(r.ttsURI=this.getTTS(n,r.from))}catch(e){}}return r}getTTS(e,t){const n=this.convertToCustom(t);if(!n)throw new r.Fw(`${this.service.name}不支持朗读${t}。`,{type:r.VC.UNSUPPORTED_LANGUAGE});return`https://translate.googleapis.com/translate_tts?client=gtx&tl=${n}&ie=UTF-8&q=${encodeURIComponent(e)}`}}new p},39778:(e,t,n)=>{n.d(t,{s:()=>p});n(62234),n(10865),n(98376),n(14293),n(28715);var o=n(34047),s=n(72431),r=n(51127),a=n.n(r),i=n(16224),c=n(20843),l=n(80624),d=n(29842);const p={id:s.VI.HunYuan,name:"混元大模型",free:!1,points:!1,secretKeys:{get:()=>a().storage.local.get({hunYuanKey:[]}).then((e=>e.hunYuanKey)),set:e=>a().storage.local.set({hunYuanKey:e}),isComplete:e=>(0,c.hP)(e)}};class u extends o.c{constructor(){super(p)}async translateInner(e,t){const n=await a().storage.local.get({hunYuanPrompt:i.g2.hunYuanPrompt});if(n.hunYuanPrompt&&!n.hunYuanPrompt.includes("{{text}}"))throw new d.Fw("翻译命令内必须包含 `{{text}}`，请前往设置修改翻译命令。",{type:d.VC.OTHER});return super.translateInner(e,t)}async callBySecretKey(e,t){const n=await a().storage.local.get({hunYuanPrompt:i.g2.hunYuanPrompt,hunYuanEndpoint:i.g2.hunYuanEndpoint,hunYuanModel:i.g2.hunYuanModel}),o=(n.hunYuanPrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",t.text).replace("{{target}}",t.destination);return(0,l.z)(e,{Model:n.hunYuanModel,Messages:[{Role:"user",Content:o.replaceAll("\n","\n\n")}]},n.hunYuanEndpoint||void 0)}transform(e,t){const n=e.text,s=e.destinations[e.destIndex],r={text:n,link:"https://yuanbao.tencent.com/chat",from:e.source&&this.convertToStandard(e.source),to:s&&this.convertToStandard(s)};return t&&(r.result=(0,o.f)(t.Response.Choices[0].Message.Content.trim()).split("\n")),r}}new u},83680:(e,t,n)=>{n.d(t,{Gs:()=>p,W9:()=>u});n(10865);var o=n(51127),s=n.n(o),r=n(35173),a=n(34047),i=n(72431),c=n(29842),l=n(20843);const d={"中文(简体)":"zh","中文(繁体)":"zh-Hant",英语:"en",越南语:"vi",伊努克提图特语:"iu",意大利语:"it",印尼语:"id",印地语:"hi",希伯来语:"he",西班牙语:"es",现代希腊语:"el",乌克兰语:"uk",乌尔都语:"ur",土库曼语:"tk",土耳其语:"tr",提格利尼亚语:"ti",塔希提语:"ty",他加禄语:"tl",汤加语:"to",泰语:"th",泰米尔语:"ta",泰卢固语:"te",斯洛文尼亚语:"sl",斯洛伐克语:"sk",世界语:"eo",萨摩亚语:"sm",桑戈语:"sg",塞索托语:"st",瑞典语:"sv",日语:"ja",契维语:"tw",克丘亚语:"qu",葡萄牙语:"pt",旁遮普语:"pa",挪威语:"no",新挪威语:"nb",南恩德贝莱语:"nr",缅甸语:"my",孟加拉语:"bn",蒙古语:"mn",马绍尔语:"mh",马其顿语:"mk",马拉雅拉姆语:"ml",马拉地语:"mr",马来语:"ms",罗马尼亚语:"ro",立陶宛语:"lt",拉脱维亚语:"lv",老挝语:"lo",克罗地亚语:"hr",卡纳达语:"kn",捷克语:"cs",加泰隆语:"ca",荷兰语:"nl",韩语:"ko",海地克里奥尔语:"ht",古吉拉特语:"gu",格鲁吉亚语:"ka",格陵兰语:"kl",高棉语:"km",卢干达语:"lg",刚果语:"kg",芬兰语:"fi",斐济语:"fj",法语:"fr",俄语:"ru",德语:"de",鞑靼语:"tt",丹麦语:"da",聪加语:"ts",楚瓦什语:"cv",波斯语:"fa",波斯尼亚语:"bs",波兰语:"pl",比斯拉马语:"bi",巴什基尔语:"ba",保加利亚语:"bg",阿塞拜疆语:"az",阿拉伯语:"ar",南非荷兰语:"af",阿尔巴尼亚语:"sq",阿布哈兹语:"ab",奥塞梯语:"os",埃维语:"ee",爱沙尼亚语:"et",艾马拉语:"ay","中文(文言文)":"lzh",阿姆哈拉语:"am",中库尔德语:"ckb",威尔士语:"cy",加利西亚语:"gl",豪萨语:"ha",亚美尼亚语:"hy",伊博语:"ig",林加拉语:"ln",北索托语:"nso",齐切瓦语:"ny",奥罗莫语:"om",修纳语:"sn",索马里语:"so",塞尔维亚语:"sr",斯瓦希里语:"sw",科萨语:"xh",约鲁巴语:"yo",祖鲁语:"zu",匈牙利语:"hu"},p=!1,u={id:i.VI.HuoShan,name:"火山翻译",points:!1,secretKeys:{get:()=>s().storage.local.get({hsApiKey:[]}).then((({hsApiKey:e})=>Array.isArray(e)?e:[e])),set:e=>s().storage.local.set({hsApiKey:e}),isComplete:e=>(0,l.hP)(e,["id"])}};class m extends a.c{constructor(){super(u,{standardMap:d,retry:!0})}isSuccessResponse(e){return(0,r.aq)(e)}throwErrorResponse(e){const t=e.ResponseMetaData.Error;throw new c.Fw(`${this.service.name}报错了，错误码：${t.Code}，错误消息：${t.Message}。`,{type:c.VC.API_SERVER_ERROR,link:{name:"查看错误码释义",url:"https://hcfy.app/docs/services/hs-api#troubleshooting"}})}isSameLang(e,t){return(0,r.dL)(e,t.destinations[t.destIndex])}async callBySecretKey(e,t){const n=await(0,r.Tl)(e,{TextList:[t.text],TargetLanguage:t.destination,SourceLanguage:t.source});return this.isSuccessResponse(n)||this.throwErrorResponse(n),n}transform(e,t){const n=e.text,o=t&&this.convertToStandard(t.TranslationList[0].DetectedSourceLanguage),s={text:n,link:`https://translate.volcengine.com/translate?category=&home_language=zh&source_language=${e.source||"detect"}&target_language=${e.destinations[e.destIndex]}&text=${encodeURIComponent(n)}`,from:o};if(t)try{s.result=t.TranslationList[0].Translation.split("\n")}catch(e){}return s}}new m},90328:(e,t,n)=>{n.d(t,{C:()=>p});n(62234),n(10865),n(98376),n(14293),n(28715);var o=n(34047),s=n(72431),r=n(51127),a=n.n(r),i=n(16224),c=n(20843),l=n(41731),d=n(29842);const p={id:s.VI.LingYi,name:"零一万物",free:!1,points:!1,secretKeys:{get:()=>a().storage.local.get({lingYiKey:[]}).then((({lingYiKey:e})=>e.map((e=>({key:e}))))),set:e=>a().storage.local.set({lingYiKey:e.map((e=>e.key))}),isComplete:e=>(0,c.hP)(e)}};class u extends o.c{constructor(){super(p)}async translateInner(e,t){const n=await a().storage.local.get({lingYiPrompt:i.g2.lingYiPrompt});if(n.lingYiPrompt&&!n.lingYiPrompt.includes("{{text}}"))throw new d.Fw("翻译命令内必须包含 `{{text}}`，请前往设置修改翻译命令。",{type:d.VC.OTHER});return super.translateInner(e,t)}async callBySecretKey(e,t){const n=await a().storage.local.get({lingYiPrompt:i.g2.lingYiPrompt,lingYiEndpoint:i.g2.lingYiEndpoint,lingYiModel:i.g2.lingYiModel}),o=(n.lingYiPrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",t.text).replace("{{target}}",t.destination);return(0,l.z)(e.key,{model:n.lingYiModel,messages:[{role:"user",content:o.replaceAll("\n","\n\n")}]},n.lingYiEndpoint||void 0)}transform(e,t){const n=e.text,s=e.destinations[e.destIndex],r={text:n,link:"https://www.wanzhi.com/",from:e.source&&this.convertToStandard(e.source),to:s&&this.convertToStandard(s)};return t&&(r.result=(0,o.f)(t.choices[0].message.content.trim()).split("\n")),r}}new u},32815:(e,t,n)=>{n.d(t,{D:()=>p});n(62234),n(10865),n(98376),n(14293),n(28715);var o=n(34047),s=n(72431),r=n(51127),a=n.n(r),i=n(16224),c=n(20843),l=n(70476),d=n(29842);const p={id:s.VI.MiniMax,name:"MiniMax",free:!1,points:!1,secretKeys:{get:()=>a().storage.local.get({miniMaxKey:[]}).then((({miniMaxKey:e})=>e.map((e=>({key:e}))))),set:e=>a().storage.local.set({miniMaxKey:e.map((e=>e.key))}),isComplete:e=>(0,c.hP)(e)}};class u extends o.c{constructor(){super(p)}async translateInner(e,t){const n=await a().storage.local.get({miniMaxPrompt:i.g2.miniMaxPrompt});if(n.miniMaxPrompt&&!n.miniMaxPrompt.includes("{{text}}"))throw new d.Fw("翻译命令内必须包含 `{{text}}`，请前往设置修改翻译命令。",{type:d.VC.OTHER});return super.translateInner(e,t)}async callBySecretKey(e,t){const n=await a().storage.local.get({miniMaxPrompt:i.g2.miniMaxPrompt,miniMaxEndpoint:i.g2.miniMaxEndpoint,miniMaxModel:i.g2.miniMaxModel}),o=(n.miniMaxPrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",t.text).replace("{{target}}",t.destination);return(0,l.z)(e.key,{model:n.miniMaxModel,messages:[{role:"user",content:o.replaceAll("\n","\n\n")}]},n.miniMaxEndpoint||void 0)}transform(e,t){const n=e.text,s=e.destinations[e.destIndex],r={text:n,link:"https://hailuoai.com/",from:e.source&&this.convertToStandard(e.source),to:s&&this.convertToStandard(s)};return t&&(r.result=(0,o.f)(t.choices[0].message.content.trim()).split("\n")),r}}new u},59503:(e,t,n)=>{n.d(t,{h:()=>p});n(62234),n(10865),n(98376),n(14293);var o=n(34047),s=n(72431),r=n(51127),a=n.n(r),i=n(16224),c=n(20843),l=n(76952),d=n(29842);const p={id:s.VI.Moonshot,name:"Moonshot (Kimi)",free:!1,points:!1,secretKeys:{get:()=>a().storage.local.get({moonshotKey:[]}).then((({moonshotKey:e})=>e.map((e=>({key:e}))))),set:e=>a().storage.local.set({moonshotKey:e.map((e=>e.key))}),isComplete:e=>(0,c.hP)(e)}};class u extends o.c{constructor(){super(p)}async translateInner(e,t){const n=await a().storage.local.get({moonshotPrompt:i.g2.moonshotPrompt});if(n.moonshotPrompt&&!n.moonshotPrompt.includes("{{text}}"))throw new d.Fw("翻译命令内必须包含 `{{text}}`，请前往设置修改翻译命令。",{type:d.VC.OTHER});return super.translateInner(e,t)}async callBySecretKey(e,t){const n=await a().storage.local.get({moonshotPrompt:i.g2.moonshotPrompt,moonshotEndpoint:i.g2.moonshotEndpoint,moonshotModel:i.g2.moonshotModel}),o=(n.moonshotPrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",t.text).replace("{{target}}",t.destination);return(0,l.z)(e.key,{model:n.moonshotModel,messages:[{role:"user",content:o}]},n.moonshotEndpoint||void 0)}transform(e,t){const n=e.text,s=e.destinations[e.destIndex],r={text:n,link:"https://kimi.moonshot.cn/",from:e.source&&this.convertToStandard(e.source),to:s&&this.convertToStandard(s)};return t&&(r.result=(0,o.f)(t.choices[0].message.content.trim()).split("\n")),r}}new u},6525:(e,t,n)=>{n.d(t,{b:()=>p});n(62234),n(10865),n(98376),n(14293);var o=n(34047),s=n(72431),r=n(51127),a=n.n(r),i=n(16224),c=n(20843),l=n(29842),d=n(91734);const p={id:s.VI.SiliConflow,name:"硅基流动",free:!1,points:!1,secretKeys:{get:()=>a().storage.local.get({siliConflowKey:[]}).then((({siliConflowKey:e})=>e.map((e=>({key:e}))))),set:e=>a().storage.local.set({siliConflowKey:e.map((e=>e.key))}),isComplete:e=>(0,c.hP)(e)}};class u extends o.c{constructor(){super(p)}async translateInner(e,t){const n=await a().storage.local.get({siliConflowPrompt:i.g2.siliConflowPrompt});if(n.siliConflowPrompt&&!n.siliConflowPrompt.includes("{{text}}"))throw new l.Fw("翻译命令内必须包含 `{{text}}`，请前往设置修改翻译命令。",{type:l.VC.OTHER});return super.translateInner(e,t)}async callBySecretKey(e,t){const n=await a().storage.local.get({siliConflowPrompt:i.g2.siliConflowPrompt,siliConflowEndpoint:i.g2.siliConflowEndpoint,siliConflowModel:i.g2.siliConflowModel}),o=(n.siliConflowPrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",t.text).replace("{{target}}",t.destination);return(0,d.z)(e.key,{model:n.siliConflowModel,messages:[{role:"user",content:o}]},n.siliConflowEndpoint||void 0)}transform(e,t){const n=e.text,s=e.destinations[e.destIndex],r={text:n,link:"https://cloud.siliconflow.cn/models/text/chat?referrer=clyjj1zam002kv1izq1862nxz",from:e.source&&this.convertToStandard(e.source),to:s&&this.convertToStandard(s)};return t&&(r.result=(0,o.f)(t.choices[0].message.content.trim()).split("\n")),r}}new u},55260:(e,t,n)=>{n.d(t,{m:()=>a});n(97107),n(10865);var o=n(34047),s=n(72431),r=n(29842);const a={id:s.VI.SouGou,name:"搜狗翻译"};class i extends o.c{constructor(){super(a)}translate(){return Promise.resolve({text:"",error:{type:r.VC.OTHER,message:"搜狗翻译已下线。",link:{name:"查看公告",url:"https://hcfy.app/blog/2021/11/23/sougou-off"}}})}transform(){throw new Error("Method not implemented.")}}new i},30757:(e,t,n)=>{n.d(t,{fH:()=>p,pl:()=>u});n(10865);var o=n(51127),s=n.n(o),r=n(14626),a=n(56925),i=n(34047),c=n(72431),l=n(29842),d=n(20843);const p=!0,u={id:c.VI.QQ,name:"腾讯翻译君",points:!0,secretKeys:{get:()=>s().storage.local.get({qqApiKey:[]}).then((({qqApiKey:e})=>Array.isArray(e)?e:[e])),set:e=>s().storage.local.set({qqApiKey:e}),isComplete:e=>(0,d.hP)(e,["id"])},pointsEnable:{get:()=>s().storage.local.get({qqPoints:p}).then((({qqPoints:e})=>e)),set:e=>s().storage.local.set({qqPoints:e})}};class m extends i.c{constructor(){super(u,{standardMap:r,retry:!0})}isSuccessResponse(e){return(0,a.aq)(e)}throwErrorResponse(e){const t=e.Response.Error;throw new l.Fw(`${this.service.name}报错了，错误码：${t.Code}，错误消息：${t.Message}。`,{type:l.VC.API_SERVER_ERROR,link:{name:"查看错误码释义",url:"https://hcfy.app/docs/services/qq-api#troubleshooting"}})}isSameLang(e){return(0,a.dL)(e)}async callBySecretKey(e,t){const n=await(0,a.Tl)(e,{SourceText:t.text,Target:t.destination,Source:t.source||void 0});return this.isSuccessResponse(n)||this.throwErrorResponse(n),n}transform(e,t){const n=e.text,o=t&&this.convertToStandard(t.Response.Source),s=t&&this.convertToStandard(t.Response.Target),r={text:n,link:`https://fanyi.qq.com/#hcfy_text=${encodeURIComponent(n)}&hcfy_from=${o||""}&hcfy_to=${s||""}`,from:o,to:s};if(t)try{r.result=t.Response.TargetText.split("\n")}catch(e){}return r}}new m},2226:(e,t,n)=>{n.d(t,{A:()=>p});n(62234),n(10865),n(98376),n(14293),n(28715);var o=n(34047),s=n(72431),r=n(51127),a=n.n(r),i=n(16224),c=n(20843),l=n(42661),d=n(29842);const p={id:s.VI.TongYi,name:"通义千问",free:!1,points:!1,secretKeys:{get:()=>a().storage.local.get({tongYiKey:[]}).then((({tongYiKey:e})=>e.map((e=>({key:e}))))),set:e=>a().storage.local.set({tongYiKey:e.map((e=>e.key))}),isComplete:e=>(0,c.hP)(e)}};class u extends o.c{constructor(){super(p)}async translateInner(e,t){const n=await a().storage.local.get({tongYiPrompt:i.g2.tongYiPrompt});if(n.tongYiPrompt&&!n.tongYiPrompt.includes("{{text}}"))throw new d.Fw("翻译命令内必须包含 `{{text}}`，请前往设置修改翻译命令。",{type:d.VC.OTHER});return super.translateInner(e,t)}async callBySecretKey(e,t){const n=await a().storage.local.get({tongYiPrompt:i.g2.tongYiPrompt,tongYiEndpoint:i.g2.tongYiEndpoint,tongYiModel:i.g2.tongYiModel}),o=(n.tongYiPrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",t.text).replace("{{target}}",t.destination);return(0,l.z)(e.key,{model:n.tongYiModel,messages:[{role:"user",content:o.replaceAll("\n","\n\n")}]},n.tongYiEndpoint||void 0)}transform(e,t){const n=e.text,s=e.destinations[e.destIndex],r={text:n,link:"https://tongyi.aliyun.com/qianwen/",from:e.source&&this.convertToStandard(e.source),to:s&&this.convertToStandard(s)};return t&&(r.result=(0,o.f)(t.choices[0].message.content.trim()).split("\n")),r}}new u},62779:(e,t,n)=>{n.d(t,{F:()=>p});n(62234),n(10865),n(98376),n(14293),n(28715);var o=n(34047),s=n(72431),r=n(51127),a=n.n(r),i=n(16224),c=n(20843),l=n(94959),d=n(29842);const p={id:s.VI.WenXin,name:"文心一言",free:!1,points:!1,secretKeys:{get:()=>a().storage.local.get({wenXinKey:[]}).then((e=>e.wenXinKey)),set:e=>a().storage.local.set({wenXinKey:e}),isComplete:e=>(0,c.hP)(e)}};class u extends o.c{constructor(){super(p)}async translateInner(e,t){const n=await a().storage.local.get({wenXinPrompt:i.g2.wenXinPrompt});if(n.wenXinPrompt&&!n.wenXinPrompt.includes("{{text}}"))throw new d.Fw("翻译命令内必须包含 `{{text}}`，请前往设置修改翻译命令。",{type:d.VC.OTHER});return super.translateInner(e,t)}async callBySecretKey(e,t){const n=await a().storage.local.get({wenXinPrompt:i.g2.wenXinPrompt,wenXinEndpoint:i.g2.wenXinEndpoint,wenXinModel:i.g2.wenXinModel}),o=(n.wenXinPrompt||"将下面的文本翻译为{{target}}并保留段落格式：\n{{text}}").replace("{{text}}",t.text).replace("{{target}}",t.destination);return(0,l.z)({client_id:e.id,client_secret:e.key},n.wenXinModel,{messages:[{role:"user",content:o.replaceAll("\n","\n\n")}]},n.wenXinEndpoint||void 0)}transform(e,t){const n=e.text,s=e.destinations[e.destIndex],r={text:n,link:"https://yiyan.baidu.com/",from:e.source&&this.convertToStandard(e.source),to:s&&this.convertToStandard(s)};return t&&(r.result=(0,o.f)(t.result.trim()).split("\n")),r}}new u},22111:(e,t,n)=>{n.d(t,{l:()=>c});n(33873),n(10865),n(47010);var o=n(34047),s=n(72431),r=n(29842),a=n(15708);const i={"中文(简体)":"zh",英语:"en",阿塞拜疆语:"az",马拉雅拉姆语:"ml",阿尔巴尼亚语:"sq",马耳他语:"mt",阿姆哈拉语:"am",马其顿语:"mk",毛利语:"mi",阿拉伯语:"ar",马拉地语:"mr",亚美尼亚语:"hy","马里语（俄罗斯）":"mhr",南非荷兰语:"af",蒙古语:"mn",巴斯克语:"eu",德语:"de",巴什基尔语:"ba",尼泊尔语:"ne",白俄罗斯语:"be",挪威语:"no",孟加拉语:"bn",旁遮普语:"pa",缅甸语:"my",帕皮阿门托语:"pap",保加利亚语:"bg",波斯语:"fa",波斯尼亚语:"bs",波兰语:"pl",威尔士语:"cy",葡萄牙语:"pt",匈牙利语:"hu",罗马尼亚语:"ro",越南语:"vi",俄语:"ru",海地克里奥尔语:"ht",宿务语:"ceb",加利西亚语:"gl",塞尔维亚语:"sr",荷兰语:"nl",僧伽罗语:"si",斯洛伐克语:"sk",希腊语:"el",斯洛文尼亚语:"sl",格鲁吉亚语:"ka",斯瓦希里语:"sw",古吉拉特语:"gu",印尼巽他语:"su",丹麦语:"da",塔吉克语:"tg",希伯来语:"he",泰语:"th",意第绪语:"yi",他加禄语:"tl",印尼语:"id",泰米尔语:"ta",爱尔兰语:"ga",鞑靼语:"tt",意大利语:"it",泰卢固语:"te",冰岛语:"is",土耳其语:"tr",西班牙语:"es",乌德穆尔特语:"udm",哈萨克语:"kk",乌兹别克语:"uz",卡纳达语:"kn",乌克兰语:"uk",加泰罗尼亚语:"ca",乌尔都语:"ur",吉尔吉斯语:"ky",芬兰语:"fi",法语:"fr",韩语:"ko",印地语:"hi",科萨语:"xh",克罗地亚语:"hr",高棉语:"km",捷克语:"cs",老挝语:"lo",瑞典语:"sv",拉丁语:"la",苏格兰语:"gd",拉脱维亚语:"lv",爱沙尼亚语:"et",立陶宛语:"lt",世界语:"eo",卢森堡语:"lb",爪哇语:"jv",马尔加什语:"mg",日语:"ja",马来语:"ms"},c={id:s.VI.Yandex,name:"Yandex 翻译",free:!0};class l extends o.c{constructor(){super(c,{standardMap:i,retry:!0})}isSuccessResponse(e){return(0,a.wF)(e)}throwErrorResponse(e){const t=e;throw new r.Fw(`${this.service.name}报错了，错误码：${t.code}，错误消息：${t.message}。`,{type:r.VC.API_SERVER_ERROR})}async callByFree(e){const t=await(0,a.Tl)(e.text,e.destination,{source:e.source});return this.isSuccessResponse(t)||this.throwErrorResponse(t),t}transform(e,t){const n=e.text;let o,s,r=e.source,a=e.destinations[e.destIndex];if(t){const[e,n]=t.lang.split("-");r=e,a=n,o=this.convertToStandard(e),s=this.convertToStandard(n)}const i={text:n,link:`https://translate.yandex.com/?source_lang=${r}&target_lang=${a}&text=${encodeURIComponent(n)}`,from:o,to:s};if(t)try{i.result=t.text[0].split("\n")}catch(e){}return i}}new l},6847:(e,t,n)=>{n.d(t,{Gu:()=>p,Xh:()=>u});n(33873),n(69375),n(10865),n(98376),n(47010);var o=n(51127),s=n.n(o),r=n(10187),a=n(70606),i=n(34047),c=n(72431),l=n(29842),d=n(20843);const p=!0,u={id:c.VI.YouDao,name:"有道翻译",points:!0,secretKeys:{get:()=>s().storage.local.get({youDaoAppKey:[]}).then((({youDaoAppKey:e})=>Array.isArray(e)?e:[e])),set:e=>s().storage.local.set({youDaoAppKey:e}),isComplete:e=>(0,d.hP)(e,["id"])},pointsEnable:{get:()=>s().storage.local.get({ydPoints:p}).then((({ydPoints:e})=>e)),set:e=>s().storage.local.set({ydPoints:e})}};class m extends i.c{constructor(){super(u,{standardMap:r,retry:!0})}isSuccessResponse(e){return(0,a.aq)(e)}throwErrorResponse(e){throw new l.Fw(`${this.service.name}报错了，错误码：${e.errorCode}。`,{type:l.VC.API_SERVER_ERROR,link:{name:"查看错误码释义",url:"https://hcfy.app/docs/services/youdao-api#troubleshooting"}})}isSameLang(e){return(0,a.dL)(e)}async callBySecretKey(e,t){const n=await(0,a.Tl)(e,{q:t.text,to:t.destination,from:t.source||void 0});return this.isSuccessResponse(n)||this.throwErrorResponse(n),n}transform(e,t){var n;const o=e.text,[s,r]=((null==t?void 0:t.l)||"").split("2"),a={text:o,from:this.convertToStandard(s),to:this.convertToStandard(r),ttsURI:null==t?void 0:t.speakUrl,link:null!=t&&t.basic?`https://dict.youdao.com/search?q=${encodeURIComponent(o)}`:`http://fanyi.youdao.com/translate?i=${encodeURIComponent(o)}`,result:null==t||null===(n=t.translation[0])||void 0===n?void 0:n.split("\n")};if(null!=t&&t.basic){a.dict=t.basic.explains.map((e=>{const t=e.match(/^([a-z]+\.)\s+/);return{pos:t?t[1]:void 0,terms:[t?e.slice(t[0].length):e]}}));const e=[];t.basic["us-phonetic"]&&e.push({name:"美",value:t.basic["us-phonetic"],ttsURI:t.basic["us-speech"]}),t.basic["uk-phonetic"]&&e.push({name:"英",value:t.basic["uk-phonetic"],ttsURI:t.basic["uk-speech"]}),!e.length&&t.basic.phonetic&&e.push({value:t.basic.phonetic,ttsURI:t.speakUrl}),e.length&&(a.phonetic=e)}return a}}new m},71978:(e,t,n)=>{n.d(t,{_:()=>p});n(62234),n(10865),n(98376),n(14293),n(28715);var o=n(34047),s=n(72431),r=n(51127),a=n.n(r),i=n(16224),c=n(20843),l=n(3081),d=n(29842);const p={id:s.VI.ZhiPu,name:"智谱 AI",free:!1,points:!1,secretKeys:{get:()=>a().storage.local.get({zhiPuKey:[]}).then((({zhiPuKey:e})=>e.map((e=>({key:e}))))),set:e=>a().storage.local.set({zhiPuKey:e.map((e=>e.key))}),isComplete:e=>(0,c.hP)(e)}};class u extends o.c{constructor(){super(p)}async translateInner(e,t){const n=await a().storage.local.get({zhiPuPrompt:i.g2.zhiPuPrompt});if(n.zhiPuPrompt&&!n.zhiPuPrompt.includes("{{text}}"))throw new d.Fw("翻译命令内必须包含 `{{text}}`，请前往设置修改翻译命令。",{type:d.VC.OTHER});return super.translateInner(e,t)}async callBySecretKey(e,t){const n=await a().storage.local.get({zhiPuPrompt:i.g2.zhiPuPrompt,zhiPuEndpoint:i.g2.zhiPuEndpoint,zhiPuModel:i.g2.zhiPuModel}),o=(n.zhiPuPrompt||"将下面的文本翻译为{{target}}：\n{{text}}").replace("{{text}}",t.text).replace("{{target}}",t.destination);return(0,l.z)(e.key,{model:n.zhiPuModel,messages:[{role:"user",content:o.replaceAll("\n","\n\n")}]},n.zhiPuEndpoint||void 0)}transform(e,t){const n=e.text,s=e.destinations[e.destIndex],r={text:n,link:"https://www.zhipuai.cn/",from:e.source&&this.convertToStandard(e.source),to:s&&this.convertToStandard(s)};return t&&(r.result=(0,o.f)(t.choices[0].message.content.trim()).split("\n")),r}}new u},12980:(e,t,n)=>{n(62234),n(69375)},23810:(e,t,n)=>{n(97107),n(33873),n(69375),n(47010);function o(e,t,n){s(e,t),t.set(e,n)}function s(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r(e,t,n){return e.set(i(e,t),n),n}function a(e,t){return e.get(i(e,t))}function i(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function c(e){const t=document.createElement(e);return"div"===e&&(t.contentEditable="true"),t.style.position="absolute",t.style.top="-99999px",document.body.appendChild(t),t}function l(e){return"TEXTAREA"===e.tagName}var d=new WeakMap,p=new WeakMap,u=new WeakSet;function m(e){return"textarea"===e?a(p,this)||r(p,this,c("textarea")):a(d,this)||r(d,this,c("div"))}new class{constructor(){var e,t;s(e=this,t=u),t.add(e),o(this,d,void 0),o(this,p,void 0)}read(e="text"){const t="text"===e?i(u,this,m).call(this,"textarea"):i(u,this,m).call(this,"div");if(l(t)?t.value="":t.textContent="",t.focus(),!document.execCommand("paste"))throw new Error('document.execCommand("paste") returns false.');if(l(t))return t.value;if("html"===e)return t.innerHTML;if("dom"===e)return t.cloneNode(!0);if("images"===e){const e=t.getElementsByTagName("img"),n=[];for(const t of e)n.push(t.src);return n}}write(e){const t=i(u,this,m).call(this,"textarea");if(t.value=e,t.focus(),t.select(),!document.execCommand("copy"))throw new Error('document.execCommand("copy") returns false.')}clear(){a(p,this)&&(document.removeChild(a(p,this)),r(p,this,void 0)),a(d,this)&&(document.removeChild(a(d,this)),r(d,this,void 0))}}}}]);
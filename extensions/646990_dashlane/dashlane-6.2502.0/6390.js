"use strict";(self.webpackChunk_dashlane_leeloo=self.webpackChunk_dashlane_leeloo||[]).push([[6390],{48094:(e,t,a)=>{a.d(t,{D:()=>r});var l=a(61468),s=a(96832),n=a(68593);const r=(0,s.forwardRef)((({label:e,name:t,value:a,placeholder:r,options:o,disabled:i,dataName:d="localeFormat",onChange:h},c)=>{const u=(0,s.useMemo)((()=>o.map((e=>(0,n.tZ)(l.$m,{value:e.value,children:e.label},e.value)))),[o]);return(0,n.tZ)(l.mg,{ref:c,name:t,label:e,placeholder:r,"data-name":d,value:a,onChange:h,readOnly:i,children:u},"country")}));r.displayName="CountryField"},42521:(e,t,a)=>{a.d(t,{Jh:()=>o,UE:()=>n,ZP:()=>i});var l=a(96832),s=a(26849);const n=(0,s.compose)(s.not,s.isEmpty,s.trim,(0,s.defaultTo)("")),r=/.+@.+\..+/,o=e=>r.test(e.trim());class i extends l.Component{constructor(e){super(e),this.setInternalState=e=>{this.setState({internal:{...this.state.internal,...e}})},this.setUpdatedValues=e=>{const{signalEditedValues:t,onValuesUpdated:a}=this.props,l={...this.state.values,...e};this.setState({values:l},(()=>{t&&t(this.hasFormBeenEdited()),a&&a(l)}))},this.handleChange=(e,t="")=>{if(e instanceof Event&&t)throw new Error("handleChange was called with both a ChangeEvent and key.");const a=e?.target?{[e.target.dataset.name]:e.target.value}:{[t]:e};this.setUpdatedValues(a)},this.handleChanges=e=>{this.setUpdatedValues(e)},this.validateValues=e=>{if(0===Object.keys(e).length)return!0;const t=(0,s.reduce)(((t,a)=>(t[a]=e[a]?(0,s.compose)(s.not,e[a]):()=>!1,t)),{},Object.keys(this.state.values)),a=(0,s.evolve)(t,this.state.values);return this.setState({errors:a}),(0,s.all)((0,s.equals)(!1),(0,s.values)(a))},this.hasFormBeenEdited=()=>!(0,s.equals)(this.state.values,this.props.currentValues),this.getValues=()=>this.state.values;const t=Object.keys(e.currentValues).reduce(((e,t)=>(e[t]=!1,e)),{});this.state={internal:{},values:e.currentValues,errors:t}}componentDidUpdate(e){(0,s.equals)(this.props.currentValues,e.currentValues)||this.setState({values:this.props.currentValues})}}},16390:(e,t,a)=>{a.d(t,{k:()=>T}),a(96832);var l=a(44105),s=a(61468),n=a(77063),r=a(42521),o=a(50415);let i=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.WITHSTATE=1]="WITHSTATE",e[e.NORTHAMERICA=2]="NORTHAMERICA",e[e.UNITEDKINGDOM=3]="UNITEDKINGDOM",e[e.ASIA=4]="ASIA",e[e.JAPAN=5]="JAPAN",e}({});const d=new Set([l.c.AR,l.c.BE,l.c.CH,l.c.CL,l.c.CO,l.c.DE,l.c.ES,l.c.IT,l.c.NL,l.c.NO,l.c.PE,l.c.PT,l.c.SE,l.c.MX]),h=new Set([l.c.AU,l.c.CA,l.c.US]),c=new Set([l.c.GB,l.c.IE]),u=new Set([l.c.CN,l.c.IN,l.c.KR,l.c.BR]),p=new Set([l.c.JP]),m=(0,o.x)("streetName","city","state","country","streetNumber","zipCode"),b=e=>d.has(e)?i.WITHSTATE:h.has(e)?i.NORTHAMERICA:c.has(e)?i.UNITEDKINGDOM:u.has(e)?i.ASIA:p.has(e)?i.JAPAN:i.DEFAULT;var v=a(18462),_=a(67406),C=a(24507),g=a(51031),y=a(25792),N=a(39431),S=a(88203);var I=a(68593);const A="other",E=({linkedPhoneId:e,handleChange:t,disabled:a=!1})=>{var l;const{translate:n}=(0,S.Z)(),r=(0,C.k)(y.L,"query",{vaultItemTypes:[N.U.Phone]});if(r.status!==g.rq.Success)return null;const o=r.data.phonesResult.items,i=[{value:"",label:n("webapp_personal_info_edition_address_phone_number_other")},...o.map((e=>({value:e.id,label:`${e.itemName} ${e.phoneNumber}`,selectedLabel:(0,I.BX)("span",{children:[(0,I.tZ)("span",{className:"phoneName--IP3BIyXoAF",children:e.itemName})," ",e.phoneNumber]})})))],d=null!=(l=i.find((t=>t.value===e)))?l:i[0];return(0,I.tZ)(s.mg,{label:n("webapp_personal_info_edition_address_phone_number_label"),"data-name":"linkedPhoneId",onChange:e=>{t(e===A?"":e)},value:""===d.value?A:d.value,readOnly:a,children:i.map((e=>(0,I.tZ)(s.$m,{displayValue:e.label,value:""===e.value?A:e.value,children:e.label},e.value)))})};var f=a(68037),O=a(48094);class T extends r.ZP{isFormValid(){return this.validateValues({streetName:r.UE})}buildCountryOptionList(){return Object.keys(l.c).filter((e=>e!==l.c[l.c.NO_TYPE]&&e!==l.c[l.c.UNIVERSAL])).map((e=>({value:l.c[e],label:(0,v.go)(this.props.lee.translate,l.c[e])}))).sort(((e,t)=>e.label.localeCompare(t.label,this.props.lee.translate.getLocale())))}buildStateOptionListForCountry(e){var t,a;const l=null!=(a=(null!=(t=this.props.lee.globalState.webapp.geographicStates)?t:{})[e])?a:{};return Object.keys(l).map((e=>({value:e,label:l[e].name}))).sort(((e,t)=>e.label<t.label?-1:1))}renderStreetName(e){const{shouldShowFrozenStateDialog:t}=this.context;return(0,I.tZ)(s.qo,{required:!0,label:e("full_address_label"),placeholder:e("placeholder_no_full_address"),"data-name":"streetName",value:this.state.values.streetName,onChange:this.handleChange,error:this.state.errors.streetName,readOnly:!!t},"streetName")}renderZipCode(e){const{shouldShowFrozenStateDialog:t}=this.context;return(0,I.tZ)(s.qo,{label:e("zip_code_label"),placeholder:e("placeholder_no_zip_code"),"data-name":"zipCode",value:this.state.values.zipCode,onChange:this.handleChange,readOnly:!!t},"zipCode")}renderCity(e){const{shouldShowFrozenStateDialog:t}=this.context;return(0,I.tZ)(s.qo,{label:e("city_label"),placeholder:e("placeholder_no_city"),"data-name":"city",value:this.state.values.city,onChange:this.handleChange,readOnly:!!t},"city")}renderState(e){var t;const a=this.buildStateOptionListForCountry(this.state.values.localeFormat),l=null!=(t=a.find((e=>e.value===this.state.values.state)))?t:a[0],{shouldShowFrozenStateDialog:n}=this.context;return(0,I.tZ)(s.mg,{label:b(this.state.values.localeFormat)===i.UNITEDKINGDOM?e("county_label"):e("state_label"),"data-name":"state",value:l.value,placeholder:this.state.values.state,onChange:e=>this.handleChange(e,"state"),readOnly:!!n,children:a.map((e=>(0,I.tZ)(s.$m,{value:e.value,children:e.label},e.value)))},`states_${this.state.values.localeFormat}`)}renderCountry(e){var t;const a=this.buildCountryOptionList(),l=null!=(t=a.find((e=>e.value===this.state.values.localeFormat)))?t:a[0],{shouldShowFrozenStateDialog:s}=this.context;return(0,I.tZ)(O.D,{label:e("country_label"),placeholder:l.label,value:l.value,disabled:s,options:a,onChange:e=>{const t=e,a=this.buildStateOptionListForCountry(t);this.handleChanges({localeFormat:t,state:a&&Object.keys(a).length?Object.keys(a)[0]:""})}})}renderStreetNumber(e){const{shouldShowFrozenStateDialog:t}=this.context;return(0,I.tZ)(s.qo,{label:e("street_number_label"),placeholder:e("placeholder_no_street_number"),"data-name":"streetNumber",value:this.state.values.streetNumber,onChange:this.handleChange,disabled:!!t},"streetNumber")}renderLocalizedFields(){const e=this.props.lee.translate.namespace("webapp_personal_info_edition_address_"),t={[m.streetName]:this.renderStreetName,[m.city]:this.renderCity,[m.country]:this.renderCountry,[m.zipCode]:this.renderZipCode,[m.streetNumber]:this.renderStreetNumber,[m.state]:this.renderState};return(e=>{const t=b(e);return t===i.NORTHAMERICA?[m.streetName,m.city,m.state,m.zipCode,m.country]:t===i.UNITEDKINGDOM?[m.streetNumber,m.streetName,m.city,m.state,m.zipCode,m.country]:t===i.ASIA?[m.streetName,m.city,m.zipCode,m.country]:t===i.JAPAN?[m.zipCode,m.city,m.streetName,m.country]:t===i.WITHSTATE?[m.streetName,m.zipCode,m.city,m.state,m.country]:[m.streetName,m.zipCode,m.city,m.country]})(this.state.values.localeFormat).map((a=>a in t?t[a].call(this,e):null))}render(){var e;const t=this.props.lee.translate.namespace("webapp_personal_info_edition_address_"),{shouldShowFrozenStateDialog:a}=this.context;return(0,I.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,I.BX)(f.u,{title:t("content_card_details_label"),additionalSx:{display:"flex",flexDirection:"column",gap:"8px"},children:[this.renderLocalizedFields(),(0,I.tZ)(s.qo,{label:t("receiver_label"),placeholder:t("placeholder_no_receiver"),"data-name":"receiver",value:this.state.values.receiver,onChange:this.handleChange,disabled:!!a}),(0,I.tZ)(s.qo,{label:t("building_label"),placeholder:t("placeholder_no_building"),"data-name":"building",value:this.state.values.building,onChange:this.handleChange,disabled:!!a}),(0,I.tZ)(s.qo,{label:t("floor_label"),placeholder:t("placeholder_no_floor"),"data-name":"floor",value:this.state.values.floor,onChange:this.handleChange,disabled:!!a}),(0,I.tZ)(s.qo,{label:t("door_label"),placeholder:t("placeholder_no_door"),"data-name":"door",value:this.state.values.door,onChange:this.handleChange,disabled:!!a}),(0,I.tZ)(s.qo,{label:t("digit_code_label"),placeholder:t("placeholder_no_digit_code"),"data-name":"digitCode",value:this.state.values.digitCode,onChange:this.handleChange,disabled:!!a}),(0,I.tZ)(E,{linkedPhoneId:this.state.values.linkedPhoneId,handleChange:e=>this.handleChange(e,"linkedPhoneId"),disabled:!!a})]}),(0,I.BX)(f.u,{title:t("content_card_organization_label"),additionalSx:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,I.tZ)(s.qo,{label:t("name_label"),placeholder:t("placeholder_no_name"),"data-name":"itemName",value:this.state.values.itemName,onChange:this.handleChange,disabled:!!a}),(0,I.tZ)(_.M,{isUsingNewDesign:!0,labelSx:_.e,spaceId:null!=(e=this.state.values.spaceId)?e:"",onChange:e=>this.handleChange(e,"spaceId"),disabled:!!a})]})]})}}T.contextType=n.CQ}}]);
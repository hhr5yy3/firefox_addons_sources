(()=>{var e={5218:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncQueue=void 0;const n=s(r(1600));class o{constructor(){this._queue=[],this._cv=new n.default,this._consumer=this._createConsumer()}push(e){this._queue.push(e),this._cv.notify()}async pop(){return(await this._consumer.next()).value}async*_createConsumer(){for(;;)await this._cv.wait((()=>this._queue.length>0)),yield this._queue.shift()}}t.AsyncQueue=o,t.default=o},9246:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationSignal=void 0;const n=s(r(7638));class o{constructor(){this._slots=new Set}slot(){const e=new n.default((e=>{this._slots.delete(e)}));return this._slots.add(e),e}emit(){const e=Array.from(this._slots);this._slots.clear();for(const t of e)t.cancel()}}t.CancellationSignal=o,t.default=o},7638:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationSlot=void 0;const n=s(r(8643)),o=r(7395);class i{constructor(e){this._disconnect=e??n.default,this.assign(n.default)}get cancelled(){return void 0!==this._reason}assign(e){void 0===this._reason?this._handler=e:e(this._reason)}cancel(){if(void 0!==this._reason)return;const e=this._disconnect,t=this._handler;this._handler=n.default,this._disconnect=n.default,e(this),this._reason=new o.CancelledOperation,t(this._reason)}}t.CancellationSlot=i,t.default=i},1600:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionVariable=void 0;const r="notify";class s{constructor(){this._notifier=new EventTarget}notify(){this._notifier.dispatchEvent(new Event(r))}async wait(e){if(void 0===e||!e())return new Promise((t=>{const s=()=>{(void 0===e||e())&&(this._notifier.removeEventListener(r,s),t())};this._notifier.addEventListener(r,s)}))}}t.ConditionVariable=s,t.default=s},1880:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DeadlineTimer=void 0;const n=s(r(8108)),o=r(7395),i=s(r(4144));class a{constructor(){this._reset()}_reset(){this._deferred=void 0,this._expireTime=i.default.never()}_checkTimer(){if(void 0===this._deferred)return;const e=this._deferred,t=this._expireTime;this._reset(),t===i.default.never()?e.reject(new o.CancelledOperation):e.resolve()}_arm(e){if(this._expireTime=e,this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0),this._expireTime===i.default.never())return void this._checkTimer();const t=Math.max(e-i.default.now(),0);this._timeoutId=setTimeout((()=>{this._checkTimer()}),t)}cancel(){this.expiresAt(i.default.never())}expiresAt(e){if(void 0===e)return this._expireTime;this._arm(e)}expiresFromNow(e){this.expiresAt(i.default.now()+e)}async wait(){return this._expireTime===i.default.never()?Promise.reject(new o.CancelledOperation):(this._deferred??(this._deferred=new n.default),this._deferred.promise)}}t.DeadlineTimer=a,t.default=a},446:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5077:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TypedIO=void 0;const n=s(r(7638));class o{constructor(e,t){this._io=e,this._type=t,this._cancelSlots=new Set}cancel(){for(const e of this._cancelSlots)e.cancel()}async read(e){const t=function(e){return e??(e={}),{cancel:e.cancel??new n.default}}(e),r=this._io.read(this._type,{...t});this._cancelSlots.add(t.cancel);const s=()=>{this._cancelSlots.delete(t.cancel)};return r.then(s,s),r}write(e){this._io.write(this._type,e)}}t.TypedIO=o,t.default=o},1831:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cancelFromNow=void 0;const n=s(r(9246));t.cancelFromNow=function(e){const t=new n.default,r=t.slot();return e<=0?(r.cancel(),r):(setTimeout((()=>{t.emit()}),e),r)}},8606:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferForever=t.transferExactly=void 0,t.transferExactly=function(e){if(e<0)throw new Error("`n` must be 0 or greater");return t=>e<=t?0:e-t},t.transferForever=function(){return()=>1}},6342:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BasicIOContext=void 0;const n=s(r(7860)),o=s(r(3471)),i=s(r(8763)),a=s(r(7139)),c=s(r(16));class u{constructor(e,t){this._source=e,this._port=t,this._proactor=new c.default,t.onMessage((e=>{this._dispatch(e)}))}_dispatch(e){if(!o.default.isValid(e))return;const{type:t,message:r}=o.default.deserialize(e);this._proactor.dispatch(t,r)}write(e,t){(0,i.default)(this._source,e,t,this._port)}writeWithRetry(e,t,r){(0,a.default)(this._source,e,t,this._port,r)}async read(e,t){return(0,n.default)(this._source,e,(async()=>this._proactor.read(e,t)))}cancel(){this._proactor.cancel()}}t.BasicIOContext=u,t.default=u},8108:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0;class r{constructor(){this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}get promise(){return this._promise}get resolve(){return this._resolve}get reject(){return this._reject}}t.Deferred=r,t.default=r},3841:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t._InvalidIOContext=void 0;const n=s(r(7860)),o=s(r(8763)),i=s(r(7139)),a=r(7395);class c{constructor(e){this._source=e}write(e,t){(0,o.default)(this._source,e,t,{postMessage(){throw new a.NoConnectionError}})}writeWithRetry(e,t,r){(0,i.default)(this._source,e,t,{postMessage(){throw new a.NoConnectionError}},r)}async read(e,t){return(0,n.default)(this._source,e,(async()=>Promise.reject(new a.NoConnectionError)))}cancel(){}}t._InvalidIOContext=c,t.default=c},16:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t._MessageProactor=void 0;const n=r(9804),o=s(r(8108));class i{constructor(){this._pendings=new Map,this._messages=new Map}_messagesByType(e){return(0,n.emplace)(this._messages,e,{insert:()=>[]})}_pendingByType(e){return(0,n.emplace)(this._pendings,e,{insert:()=>new Set})}dispatch(e,t){const r=this._messagesByType(e);r.push(t);const s=this._pendingByType(e);if(0===s.size)return;const[n]=s;s.delete(n),n.deferred.resolve(r.shift())}async _createDeferred(e,t){const{cancel:r}=t,s=new o.default,n={deferred:s,cancelSlot:r};e.add(n);const i=()=>{e.delete(n)};r.assign((e=>{s.reject(e)}));const{promise:a}=s;return a.then(i,i),a}async read(e,t){if(t.cancel.cancelled){let e;return t.cancel.assign((t=>{e=t})),Promise.reject(e)}const r=this._messagesByType(e),s=this._pendingByType(e);return r.length&&!s.size?Promise.resolve(r.shift()):this._createDeferred(s,t)}cancel(){for(const e of this._pendings.values()){for(const t of e)t.cancelSlot.cancel();e.clear()}}}t._MessageProactor=i,t.default=i},9600:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnabledTracker=t.DisabledTracker=t.Source=void 0;const s=r(7395);function n(e,t,r,s){const n=(new Date).getTime(),o=function(e,t){switch(e){case"action":return`${t}`;case"cancel":return`~${t}`;case"complete":return`<${t}`;case"error":return`!${t}`;case"start":return`>${t}`}}(t,r);return`@dealfinder-io|${e}|${n}|${o}|${s}`}var o;(o=t.Source||(t.Source={})).Browser="browser",o.Local="local",o.Window="window",t.DisabledTracker=class{action(e){}complete(e){}error(e){}start(e){}},t.EnabledTracker=class{constructor(e,t,r){this._source=e,this._n=t,this._handler=r}action(e){this._handler(n(this._source,"action",this._n,e))}complete(e){this._handler(n(this._source,"complete",this._n,e?e():""))}error(e){e instanceof s.CancelledOperation?this._handler(n(this._source,"cancel",this._n,"")):this._handler(n(this._source,"error",this._n,e.message))}start(e){this._handler(n(this._source,"start",this._n,e?e():""))}}},7444:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OperationTrackerFactory=void 0;const s=r(9600);class n{constructor(){this._n=0,this._disabledTracker=new s.DisabledTracker}create(e){return void 0===this._handler?this._disabledTracker:new s.EnabledTracker(e,this._n++,this._handler)}set handler(e){this._handler=e}get handler(){return this._handler}}t.OperationTrackerFactory=n;const o=new n;t.default=o},7860:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.readOp=void 0;const n=r(7613),o=s(r(7444));async function i(e,t,r){const s=o.default.create(e);return s.start((()=>`read;type=${t}`)),r().then((e=>(s.complete((()=>`read;message=${JSON.stringify(e)}`)),e)),(e=>{const t=(0,n.toIOError)(e);throw s.error(t),t}))}t.readOp=i,t.default=i},8763:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(7613),o=s(r(7444)),i=s(r(3471));t.default=function(e,t,r,s){const a=o.default.create(e);a.start((()=>`write;type=${t};message=${JSON.stringify(r)}`));const c=i.default.serialize(t,r);try{s.postMessage(c)}catch(e){const t=(0,n.toIOError)(e);throw a.error(t),t}a.complete()}},7139:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(7613),o=s(r(7444)),i=s(r(3471));t.default=function(e,t,r,s,a){const c=o.default.create(e);c.start((()=>`writeWithRetry;type=${t};message=${JSON.stringify(r)}`));const u=i.default.serialize(t,r);try{return s.postMessage(u),void c.complete()}catch(e){}try{a((e=>{c.action(e)})),s.postMessage(u)}catch(e){const t=(0,n.toIOError)(e);throw c.error(t),t}c.complete()}},7613:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toIOError=void 0;const s=r(7395);t.toIOError=function(e){if(e instanceof s.IOError)return e;let t;return t=e instanceof Error?e.message:e?.toString()??"unknown",new s.IOError(t)}},236:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),"undefined"!=typeof browser&&"function"==typeof browser.runtime.sendMessage&&(globalThis.EventTarget=window.EventTarget)},3471:(e,t)=>{"use strict";var r;function s(e){return e instanceof Date?`${r.Date}${e.toISOString()}`:e instanceof URL?`${r.Url}${e.href}`:Array.isArray(e)?e.map(s):"object"==typeof e&&null!==e?Object.fromEntries(Object.entries(e).map((([e,t])=>[e,s(t)]))):e}function n(e){return"string"==typeof e?e.startsWith(r.Date)?new Date(e.slice(r.Date.length)):e.startsWith(r.Url)?new URL(e.slice(r.Url.length)):e:Array.isArray(e)?e.map(n):"object"==typeof e&&null!==e?Object.fromEntries(Object.entries(e).map((([e,t])=>[e,n(t)]))):e}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Date="!date;",e.Url="!url;"}(r||(r={})),t.default={serialize:function(e,t){return{type:e,message:s(t)}},deserialize:function(e){return{type:e.type,message:n(e.message)}},isValid:function(e){return e??(e={}),!0===Object.prototype.hasOwnProperty.call(e,"type")&&!0===Object.prototype.hasOwnProperty.call(e,"message")}}},7395:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rethrowIfNotCancelled=t.NoConnectionError=t.CancelledOperation=t.IOError=void 0;class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}t.IOError=r;class s extends r{constructor(){super("cancelled operation"),Object.setPrototypeOf(this,s.prototype)}}t.CancelledOperation=s;class n extends r{constructor(){super("no connection"),Object.setPrototypeOf(this,n.prototype)}}t.NoConnectionError=n,t.rethrowIfNotCancelled=function(e){if(!(e instanceof s))throw e}},7857:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(236),n(r(5218),t),n(r(1831),t),n(r(9246),t),n(r(7638),t),n(r(8606),t),n(r(1600),t),n(r(1880),t),n(r(7395),t),n(r(446),t),n(r(1405),t),n(r(2062),t),n(r(4144),t),n(r(5077),t),n(r(6350),t)},1405:(e,t)=>{"use strict";async function r(e,t){return e.read(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.read=void 0,t.read=r,t.default=r},2062:(e,t)=>{"use strict";async function*r(e,t,r){let s=0;for(;0!=t(s);)yield await e.read(r),++s}Object.defineProperty(t,"__esModule",{value:!0}),t.readMany=void 0,t.readMany=r,t.default=r},4144:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;class r{static now(){return this.milliseconds((new Date).getTime())}static never(){return-1}static seconds(e){return this.milliseconds(1e3*e)}static milliseconds(e){return e}}t.Time=r,t.default=r},6155:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IOClient=void 0,n(r(7857),t);const i=o(r(5442)),a=o(r(6342)),c=o(r(3841)),u=r(9600);class l{constructor(){this._io=new c.default(u.Source.Window)}async connect(e,t){const r=await i.default.connect(e,t);return this._io=new a.default(u.Source.Window,r),this}write(e,t){this._io.write(e,t)}async read(e,t){return this._io.read(e,t)}cancel(){this._io.cancel()}}t.IOClient=l,t.default=l},2679:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IOServer=void 0,n(r(7857),t);const i=o(r(5442)),a=o(r(6342)),c=r(9600);class u{constructor(e){this._acceptOp=i.default.accept(e)}async accept(){const e=await this._acceptOp.next();return new a.default(c.Source.Window,e.value)}}t.IOServer=u,t.default=u},1974:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessagePort=void 0;class r{constructor(e){this._port=e}postMessage(e){this._port.postMessage(e)}onMessage(e){this._port.onmessage=t=>{e(t.data)}}}t.MessagePort=r,t.default=r},5442:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s(r(5218)),o=s(r(1600)),i=s(r(4144)),a=s(r(1974)),c="dealfinder-io:syn",u="dealfinder-io:syn-ack",l=i.default.milliseconds(250);t.default={accept:async function*(e){const t=new n.default;for(e.addEventListener("message",(e=>{if(e.data!==c)return;const r=e.ports[0];r.postMessage(u),t.push(new a.default(r))}));;)yield await t.pop()},connect:async function(e,t){const r=new o.default,s=new MessageChannel;let n;s.port1.onmessage=e=>{e.data===u&&(n=new a.default(s.port1),r.notify())};const i=()=>{void 0===n&&(e.postMessage(c,t,[s.port2]),setTimeout(i,l))};return i(),await r.wait((()=>void 0!==n)),n}}},8874:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(7857),t),n(r(6155),t),n(r(2679),t)},6350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.write=void 0,t.write=function(e,t){e.write(t??{})}},7618:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bind=t.MessageType=void 0;const s=r(7857);var n;(n=t.MessageType||(t.MessageType={})).ActivateCashBackOfferRequest="activate_cash_back_offer_request",n.ActivateCashBackOfferResponse="activate_cash_back_offer_response",n.AppConnected="app_connected",n.AppIFrameCreated="app_iframe_created",n.AttributionUpdate="attribution_update",n.AuthenticateUserRequest="authenticate_user_request",n.AuthenticateUserResponse="authenticate_user_response",n.CashBackOfferStatusRequest="cash_back_offer_status_request",n.CashBackOfferStatusResponse="cash_back_offer_status_response",n.CheckAndApplyCodesRequest="check_and_apply_codes_request",n.CheckAndApplyCodesResponse="check_and_apply_codes_response",n.CheckCodeUpdate="check_code_update",n.DetectPlatformRequest="detect_platform_request",n.DetectPlatformResponse="detect_platform_response",n.DoCloseAuthenticationWindow="do_close_authentication_window",n.DoEnableDataCollection="do_enable_data_collection",n.DoFocusAuthenticationWindow="do_focus_authentication_window",n.DoOpenTab="do_open_tab",n.DoSendAnalyticEvent="do_send_analytic_event",n.DoSetBadge="do_set_badge",n.DoStartContentScript="do_start_content_script",n.DoStopApplyingCodes="do_stop_applying_codes",n.DoTrackEvent="do_track_event",n.DoTrackInternalEvent="do_track_internal_event",n.DoUninstallSelf="do_uninstall_self",n.DoUpdateDOM="do_update_dom",n.DoVisitAffiliate="do_visit_affiliate",n.ExperienceContextUpdate="experience_context_update",n.LivenessProbeRequest="liveness_probe_request",n.LivenessProbeResponse="live_probe_response",n.PartialExperienceContextUpdate="partial_experience_context_update",n.RegisterAndActivateCashBackOfferRequest="register_and_activate_cash_back_offer_request",n.StorageRequest="storage_request",n.StorageResponse="storage_response",n.UserClickedExtensionIcon="user_clicked_extension_icon",n.UserDataRequest="user_data_request",n.UserDataResponse="user_data_response",t.bind=function(e,t){return new s.TypedIO(e,t)}},9737:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(7618),t),n(r(586),t)},4458:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9348:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5638:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8861:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9858:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6285:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8201:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5407:(e,t)=>{"use strict";var r;function s(e){return e._status===r.Fail}Object.defineProperty(t,"__esModule",{value:!0}),t.throwOnFail=t.isFail=t.fail=t.success=t.BasicStatus=void 0,function(e){e.Fail="fail",e.Success="success"}(r=t.BasicStatus||(t.BasicStatus={})),t.success=function(e){return{...e??{},_status:r.Success}},t.fail=function(e){return{_status:r.Fail,reason:e}},t.isFail=s,t.throwOnFail=function(e){if(s(e))throw new Error(JSON.stringify(e.reason))}},1265:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4629:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CashBackOfferActivation=void 0,(r=t.CashBackOfferActivation||(t.CashBackOfferActivation={})).Activated="activated",r.Unactivated="unactivated"},50:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9516:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4182:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2608:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.URLPageType=t.Operation=void 0,(t.Operation||(t.Operation={})).ApplyCodes="apply_codes",(r=t.URLPageType||(t.URLPageType={})).Category="category",r.CodeChecking="code_checking",r.Unknown="unknown"},4215:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4371:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=void 0,(r=t.Platform||(t.Platform={})).BigCommerce="bigcommerce",r.Magento="magento",r.SalesForce_Demandware="salesforce demandware",r.Sellfy="sellfy",r.Shopify="shopify",r.Volusion="volusion",r.WooCommerce="woocommerce"},213:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2210:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9565:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},926:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5198:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1031:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5147:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9356:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},143:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4493:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppNodeIdentifiers=t.ShadowRoot=void 0,t.ShadowRoot="@shadow-root",t.AppNodeIdentifiers={id:"app",path:t.ShadowRoot,parent:t.ShadowRoot,tag:"iframe"}},3891:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8168:(e,t)=>{"use strict";var r,s;Object.defineProperty(t,"__esModule",{value:!0}),t.installId=t.NavigationType=t.NavigationQualifier=void 0,(s=t.NavigationQualifier||(t.NavigationQualifier={})).ClientRedirect="client_redirect",s.Extension="extension",s.ForwardBack="forward_back",s.FromAddressBar="from_address_bar",s.ServerRedirect="server_redirect",(r=t.NavigationType||(t.NavigationType={})).AutoBookmark="auto_bookmark",r.AutoSubframe="auto_subframe",r.FormSubmit="form_submit",r.Generated="generated",r.Keyword="keyword",r.KeywordGenerated="keyword_generated",r.Link="link",r.ManualSubframe="manual_subframe",r.Reload="reload",r.StartPage="start_page",r.Typed="typed",r.Unknown="unknown",t.installId=e=>"installDetails"in e?e.installDetails.id:e.installUuid},9154:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1724:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},545:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3462:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3234:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5388:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2520:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2258:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8156:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.isAuthenticatedUser=t.makeAuthenticatedUser=t.isUnauthenticatedUser=t.makeUnauthenticatedUser=t.Authentication=void 0,function(e){e.Authenticated="authenticated",e.Unauthenticated="unauthenticated"}(r=t.Authentication||(t.Authentication={})),t.makeUnauthenticatedUser=function(){return{authentication:r.Unauthenticated}},t.isUnauthenticatedUser=function(e){return e.authentication==r.Unauthenticated},t.makeAuthenticatedUser=function(e){return{...e,authentication:r.Authenticated}},t.isAuthenticatedUser=function(e){return e.authentication==r.Authenticated}},586:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(4458),t),n(r(9348),t),n(r(5638),t),n(r(8861),t),n(r(9858),t),n(r(6285),t),n(r(8201),t),n(r(5407),t),n(r(1265),t),n(r(4629),t),n(r(50),t),n(r(9516),t),n(r(4182),t),n(r(2608),t),n(r(4493),t),n(r(4215),t),n(r(4371),t),n(r(213),t),n(r(2210),t),n(r(9565),t),n(r(926),t),n(r(5198),t),n(r(6238),t),n(r(1031),t),n(r(5147),t),n(r(9356),t),n(r(143),t),n(r(5366),t),n(r(3891),t),n(r(8168),t),n(r(9154),t),n(r(1724),t),n(r(545),t),n(r(3462),t),n(r(3234),t),n(r(5388),t),n(r(2520),t),n(r(2258),t),n(r(8156),t)},3874:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingEntryError=void 0;class r extends Error{constructor(){super("insert handler required when entry is missing"),Object.setPrototypeOf(this,r.prototype)}}t.MissingEntryError=r,t.default=r},5501:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.emplace=void 0;const n=s(r(3874));function o(e,t,r){if(e.has(t))return function(e,t,r){const s=e.get(t);if(!r)return s;const n=r(s,t,e);return e.set(t,n),n}(e,t,r.update);if(!r.insert)throw new n.default;return function(e,t,r){const s=r(t,e);return e.set(t,s),s}(e,t,r.insert)}t.emplace=o,t.default=o},9804:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(r(3874),t),n(r(5501),t);var i=r(5501);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(i).default}})},8643:e=>{e.exports=function(){}}},t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,r),o.exports}(()=>{"use strict";const e=r(8874),t=r(9737),s=(e,t)=>document.querySelector(e)?.addEventListener("click",t);document.addEventListener("DOMContentLoaded",(()=>{(async function(){const r={nonPersonalData:!0,personalData:!1},n=await(new e.IOClient).connect(window.parent,"*"),o=document.getElementById("consent-screen");o&&(o.style.height=window.outerHeight-150+"px");const i=e=>{r[e]=!r[e],r.personalData&&r.nonPersonalData?document.querySelector("#enable-button")?.removeAttribute("disabled"):document.querySelector("#enable-button")?.setAttribute("disabled","true")};s("#personal-checkbox",(()=>{i("personalData")})),s("#non-personal-checkbox",(()=>{i("nonPersonalData")})),s("#enable-button",(()=>{r.personalData&&r.nonPersonalData&&(0,e.write)((0,t.bind)(n,t.MessageType.DoEnableDataCollection))})),s("#uninstall-button",(()=>(0,e.write)((0,t.bind)(n,t.MessageType.DoUninstallSelf)))),s("#privacy-button",(()=>window.open("https://www.ziffdavis.com/shopping-privacy-policy","_blank")))})().catch(console.log)}))})()})();
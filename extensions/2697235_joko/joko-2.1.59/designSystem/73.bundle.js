"use strict";(self.webpackChunkchrome_extension=self.webpackChunkchrome_extension||[]).push([[73],{43522:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SIDE_BUTTON_DIMENSIONS=void 0;var l=o(n(96540)),s=o(n(38267)),c=n(55015),u=n(80256),d=n(47175),f=n(26368),p=n(69568),m=n(18989),g=n(64777),h=o(n(13350));function b(e){var t=e.offer,n=(0,c.useUserRegion)(),r=!!(0,c.useHasFeature)(c.Feature.enableMultipleCashbackRatesMergingInExtensions);if(!t)return null;var i=(0,u.getBoostedAndNonBoostedCashback)({offer:t,userRegion:n,isMultipleCashbackRatesMergingEnabled:r}),a=i.nonBoostedCashback,o=i.boostedCashback,s=i.isCashbackBoosted;return l.default.createElement(D,null,s?l.default.createElement(l.default.Fragment,null,o):l.default.createElement(l.default.Fragment,null,a))}function y(e){var t=e.isMobileExtension,n=e.windowWidth,r=e.sideButtonWidth,o=e.rightOffset,s=a(l.default.useState(!0),2),c=s[0],u=s[1];return l.default.useEffect((function(){var e=setTimeout((function(){u(!1)}),p.CASHBACK_ACTIVATION_ANIMATION_DURATION_IN_MS);return function(){return clearTimeout(e)}}),[]),c?l.default.createElement(O,i({style:{borderColor:"transparent"}},{isMobileExtension:t,windowWidth:n,sideButtonWidth:r,rightOffset:o}),l.default.createElement(k,{src:d.SPINNER_ICON_URL})):l.default.createElement(v,i({},{isMobileExtension:t,windowWidth:n,sideButtonWidth:r,rightOffset:o}))}function v(e){var t=e.isMobileExtension,n=e.windowWidth,r=e.sideButtonWidth,a=e.rightOffset;return l.default.createElement(A,i({},{isMobileExtension:t,windowWidth:n,sideButtonWidth:r,rightOffset:a}),l.default.createElement(h.default,null))}t.default=function(e){var t=e.webpageUrl,n=e.offer,r=e.userOfferActivationInfo,a=(0,m.useSideButtonInnerState)(t,n,r),o=a.sideButtonElementRef,s=a.isSideButtonDisplayed,u=a.shouldDisplayCashbackRateOnHover,f=a.areFourDotsVisible,g=a.sideButtonWidth,h=a.sideButtonPosition,x=a.onMouseEnterSideButtonContainer,S=a.onMouseLeaveSideButtonContainer,E=a.isDragged,B=a.isMobileExtension,_=a.onSideButtonTransitionEnd,I=(0,p.useOfferActivationState)({offer:n,shouldUpdateStateOnJokoOfferActivatedDomEvent:!0,shouldSyncWithWebpageSessionStorage:!0}).isOfferActivated,C=(0,m.useShouldDisplayCashbackActivationAnimation)(B),P=C.shouldDisplayCashbackActivationAnimation,w=C.shouldDisplayCashbackActivatedGreenBadge,k=(0,c.useWindowDimensions)().width,A=(0,m.useShouldDisplayRedBadgeIndicator)({isMobileExtension:B,offerId:null==n?void 0:n.offerId,offerType:null==n?void 0:n.type,isOfferActivated:I});return l.default.createElement(T,i({ref:o,rightOffset:h.rightOffset,onMouseEnter:x,onMouseLeave:S,onTransitionEnd:_},{isMobileExtension:B,sideButtonWidth:g,windowWidth:k,isDragged:E,isSideButtonDisplayed:s}),P?l.default.createElement(y,i({},{isMobileExtension:B,windowWidth:k,sideButtonWidth:g},{rightOffset:h.rightOffset})):A?l.default.createElement(O,i({},{isMobileExtension:B,windowWidth:k,sideButtonWidth:g},{rightOffset:h.rightOffset})):w?l.default.createElement(v,i({},{isMobileExtension:B,windowWidth:k,sideButtonWidth:g},{rightOffset:h.rightOffset})):null,l.default.createElement(N,i({},{isMobileExtension:B}),l.default.createElement(M,i({src:d.LOGO_IMAGE_URL},{isMobileExtension:B},{draggable:!1}))),u?l.default.createElement(b,i({},{offer:n})):null,f?l.default.createElement(L,null,l.default.createElement(j,{src:d.FOUR_DOTS_ICON_URL})):null)},t.SIDE_BUTTON_DIMENSIONS={desktop:{height:40,containerWidth:40,logoSize:26,cashbackRateSingleCharacterWidth:6,fourDotsContainerWidth:15,defaultTopOffset:325},mobile:{height:42,containerWidth:42,logoSize:27,defaultTopOffset:200}};var x,S,E,B,_,I,C,P,w,T=(0,s.default)(g.RowLeftCenterContainer).attrs((function(e){var t=e.sideButtonWidth;return{style:{width:"".concat(t,"px")}}}))(x||(x=r(["\n    position: fixed;\n    z-index: ",";\n    height: ","px;\n    opacity: ",";\n    border: 0;\n    border-radius: ",";\n    background-color: ",";\n    transition: opacity ","s ease,\n        right\n            ","s,\n        width 0.2s, border-radius ","s;\n    ","\n"],["\n    position: fixed;\n    z-index: ",";\n    height: ","px;\n    opacity: ",";\n    border: 0;\n    border-radius: ",";\n    background-color: ",";\n    transition: opacity ","s ease,\n        right\n            ","s,\n        width 0.2s, border-radius ","s;\n    ","\n"])),f.HIGHEST_Z_INDEX,(function(e){return e.isMobileExtension?t.SIDE_BUTTON_DIMENSIONS.mobile.height:t.SIDE_BUTTON_DIMENSIONS.desktop.height}),(function(e){return e.isSideButtonDisplayed?1:0}),(function(e){var t=e.isMobileExtension,n=e.rightOffset,r=e.windowWidth,i=e.sideButtonWidth;return t&&0!==n?n===r-i?"0 12px 12px 0":"12px":"12px 0 0 12px"}),c.colors.screamingGreen,f.OPEN_AND_CLOSE_ANIMATIONS_DURATION_IN_SECONDS,(function(e){var t=e.isDragged,n=e.isMobileExtension;return t?0:n?.35:.5}),.35,f.CLICKABLE_ELEMENT_CSS_MIXIN),O=s.default.div(S||(S=r(["\n    all: initial; // we need this property to avoid the element being modified by some external CSS rules\n    position: absolute;\n    top: -4px;\n    left: ",";\n    width: 10px;\n    height: 10px;\n    border: 3px solid ",";\n    border-radius: 50%;\n    background-color: ",";\n"],["\n    all: initial; // we need this property to avoid the element being modified by some external CSS rules\n    position: absolute;\n    top: -4px;\n    left: ",";\n    width: 10px;\n    height: 10px;\n    border: 3px solid ",";\n    border-radius: 50%;\n    background-color: ",";\n"])),(function(e){var t=e.isMobileExtension,n=e.rightOffset,r=e.windowWidth,i=e.sideButtonWidth;return!t||n<r/2?"-4px":"".concat(i-12,"px")}),c.colors.white,c.colors.alizarinCrimson),k=s.default.img(E||(E=r(["\n    all: initial; // we need this property to avoid the element being modified by some external CSS rules\n    position: relative;\n    top: -5px;\n    left: -5px;\n    width: 20px;\n    height: 20px;\n\n    animation: spin 1s linear infinite;\n\n    @keyframes spin {\n        0% {\n            transform: rotate(0deg);\n        }\n        100% {\n            transform: rotate(360deg);\n        }\n    }\n"],["\n    all: initial; // we need this property to avoid the element being modified by some external CSS rules\n    position: relative;\n    top: -5px;\n    left: -5px;\n    width: 20px;\n    height: 20px;\n\n    animation: spin 1s linear infinite;\n\n    @keyframes spin {\n        0% {\n            transform: rotate(0deg);\n        }\n        100% {\n            transform: rotate(360deg);\n        }\n    }\n"]))),A=(0,s.default)(O)(B||(B=r(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: ",";\n    animation: fadeIn 0.5s ease-out forwards;\n\n    @keyframes fadeIn {\n        from {\n            opacity: 0;\n        }\n        to {\n            opacity: 1;\n        }\n    }\n"],["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: ",";\n    animation: fadeIn 0.5s ease-out forwards;\n\n    @keyframes fadeIn {\n        from {\n            opacity: 0;\n        }\n        to {\n            opacity: 1;\n        }\n    }\n"])),c.colors.screamingGreen),N=s.default.div(_||(_=r(["\n    display: flex;\n    flex-direction: row;\n    flex-shrink: 0;\n    justify-content: center;\n    width: ","px;\n"],["\n    display: flex;\n    flex-direction: row;\n    flex-shrink: 0;\n    justify-content: center;\n    width: ","px;\n"])),(function(e){return e.isMobileExtension?t.SIDE_BUTTON_DIMENSIONS.mobile.containerWidth:t.SIDE_BUTTON_DIMENSIONS.desktop.containerWidth})),D=s.default.span(I||(I=r(["\n    display: flex;\n    justify-content: flex-start;\n    width: fill-available;\n    white-space: nowrap;\n    margin-left: -5px;\n    font-weight: 700;\n    font-size: 16px;\n"],["\n    display: flex;\n    justify-content: flex-start;\n    width: fill-available;\n    white-space: nowrap;\n    margin-left: -5px;\n    font-weight: 700;\n    font-size: 16px;\n"]))),L=(0,s.default)(g.CenteredContainer)(C||(C=r(["\n    flex-direction: row;\n    flex-shrink: 0;\n    width: ","px;\n    height: ","px;\n    background-color: ",";\n    cursor: move;\n"],["\n    flex-direction: row;\n    flex-shrink: 0;\n    width: ","px;\n    height: ","px;\n    background-color: ",";\n    cursor: move;\n"])),t.SIDE_BUTTON_DIMENSIONS.desktop.fourDotsContainerWidth,t.SIDE_BUTTON_DIMENSIONS.desktop.height,c.colors.mintGreen),M=s.default.img(P||(P=r(["\n    width: ","px;\n    height: ","px;\n    margin: 0;\n    ","\n"],["\n    width: ","px;\n    height: ","px;\n    margin: 0;\n    ","\n"])),(function(e){return e.isMobileExtension?t.SIDE_BUTTON_DIMENSIONS.mobile.logoSize:t.SIDE_BUTTON_DIMENSIONS.desktop.logoSize}),(function(e){return e.isMobileExtension?t.SIDE_BUTTON_DIMENSIONS.mobile.logoSize:t.SIDE_BUTTON_DIMENSIONS.desktop.logoSize}),f.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),j=s.default.img(w||(w=r(["\n    width: 8px;\n    height: 8px;\n    margin: 0;\n    ","\n"],["\n    width: 8px;\n    height: 8px;\n    margin: 0;\n    ","\n"])),f.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN)},51155:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BnplHeader=void 0;var c=l(n(96540)),u=s(n(38267)),d=n(55015),f=n(47175),p=n(32668),m=n(26368),g=n(74648),h=n(24941),b=n(91506),y=n(97669);function v(e){var t=e.goBack,n=e.close,r=e.displayContext,a=e.shouldNotMinimize,o=e.shouldUseFactorizedBnplSubscriptionWidgetIntoPanel,l=r.dragEventListeners,s=l.onDragListener,u=l.onPressListener,d=l.onReleaseListener,p=a?x:u,m=a?x:s,h=a?x:d,y=function(e){e.stopPropagation()};return c.createElement(C,i({onClick:function(e){e.preventDefault(),e.stopPropagation()}},{onPointerDown:p,onPointerMove:m,onPointerUp:h,shouldUseFactorizedBnplSubscriptionWidgetIntoPanel:o}),c.createElement(P,null,!r.isMinimized&&t?c.createElement(g.BackIcon,{src:f.CHEVRON_LEFT_STRAIGHT_ICON_URL,onClick:function(){return t()}}):null),c.createElement(g.BnplHeaderChevronUpDownContainer,{onPointerDown:y,onPointerUp:y,onPointerMove:y,onClick:function(e){a?x():r.isMinimized?function(e){e.stopPropagation(),r.setIsMinimized(!1)}(e):function(e){e.stopPropagation(),r.setIsMinimized(!0)}(e),e.preventDefault()}},a?null:c.createElement(g.ChevronUpDownIcon,{isDown:!r.isMinimized})),n?c.createElement(b.HeaderIconButton,{src:f.CROSS_BLACK_ICON_URL,onClick:function(e){n&&"function"==typeof n&&(e.stopPropagation(),n())},size:14}):null)}t.BnplHeader=function(e){var t=e.goBack,n=e.close,r=e.shouldNotMinimize,a=c.useMemo(p.checkIsOnMobileScreen,[]),o=(0,d.useHasFeature)(d.Feature.bnplTopBarInDesktopBrowserExtension)&&!a,l=(0,h.useBnplMobileDisplayContext)(),s=(0,y.usePanelDisplayContext)(),u=(0,d.useHasFeature)(d.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions);return u&&(null==s?void 0:s.isMobileExtension)?c.createElement(v,i({},{goBack:t,close:n,displayContext:s,shouldNotMinimize:r,shouldUseFactorizedBnplSubscriptionWidgetIntoPanel:u})):l?c.createElement(v,i({},{goBack:t,close:n,displayContext:l,shouldNotMinimize:r,shouldUseFactorizedBnplSubscriptionWidgetIntoPanel:u})):o?c.createElement(S,i({},{goBack:t,close:n,shouldUseFactorizedBnplSubscriptionWidgetIntoPanel:u})):c.createElement(I,null,t?c.createElement(g.BackIcon,{src:f.CHEVRON_LEFT_STRAIGHT_ICON_URL,onClick:function(){return t()}}):c.createElement("div",null),n?c.createElement(g.CrossIcon,{src:f.CROSS_BLACK_ICON_URL,onClick:function(){return n()}}):null)};var x=function(){};function S(e){var t=e.goBack,n=e.close,r=e.shouldUseFactorizedBnplSubscriptionWidgetIntoPanel;return c.createElement(C,i({},{shouldUseFactorizedBnplSubscriptionWidgetIntoPanel:r}),c.createElement(P,null,t?c.createElement(g.BackIcon,{src:f.CHEVRON_LEFT_STRAIGHT_ICON_URL,onClick:function(){return t()}}):null),n?c.createElement(b.HeaderIconButton,{src:f.CROSS_BLACK_ICON_URL,onClick:function(){return n()},size:14}):null)}var E,B,_,I=u.default.div(E||(E=r(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 40px;\n    margin-top: 10px;\n"],["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 40px;\n    margin-top: 10px;\n"]))),C=(0,u.default)(I)(B||(B=r(["\n    box-sizing: border-box;\n    width: ",";\n    height: ","px;\n    margin-top: 0;\n    padding: 0 ","px 0\n        ","px;\n    border-bottom: 1px solid ",";\n    touch-action: none;\n"],["\n    box-sizing: border-box;\n    width: ",";\n    height: ","px;\n    margin-top: 0;\n    padding: 0 ","px 0\n        ","px;\n    border-bottom: 1px solid ",";\n    touch-action: none;\n"])),(function(e){return e.shouldUseFactorizedBnplSubscriptionWidgetIntoPanel?"100%":""}),g.BNPL_HEADER_TOP_BAR_HEIGHT,m.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING/2,m.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,d.colors.gallery),P=u.default.div(_||(_=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    box-sizing: border-box;\n    gap: 10px;\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    box-sizing: border-box;\n    gap: 10px;\n"])))},74648:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.KnowMoreLink=t.LoadingIndicatorContainer=t.BnplPanelSmallContent=t.BnplPanelContentTitleRedesigned=t.BnplPanelContentTitle=t.BnplPanelTitle=t.Input=t.Button=t.ButtonContainer=t.FixedButtonContainer=t.CrossIcon=t.ChevronUpDownIcon=t.BackIcon=t.GenericMobileWidgetContainer=t.GenericDesktopWidgetContainer=t.BodyContainerScrollArea=t.BodyContainer=t.BnplHeaderChevronUpDownContainer=t.BNPL_HEADER_TOP_BAR_HEIGHT=t.BNPL_MOBILE_SMALL_PANEL_HEIGHT=t.JOKO_BNPL_LOWER_AMOUNT_FAQ_REFERENCES=t.JOKO_BNPL_FAQ_REFERENCES=void 0;var a=i(n(38267)),o=n(55015),l=n(26368),s=n(10570),c=n(64777),u=n(78776),d=i(n(84355)),f=n(87869);t.JOKO_BNPL_FAQ_REFERENCES={intercomArticleId:"200515",zendeskArticleUrl:"https://joko.zendesk.com/hc/fr-fr/articles/5758693928212-Comment-fonctionne-le-paiement-en-plusieurs-fois-avec-Joko"},t.JOKO_BNPL_LOWER_AMOUNT_FAQ_REFERENCES={intercomArticleId:"200506",zendeskArticleUrl:"https://joko.zendesk.com/hc/fr-fr/articles/5759058259732-Que-faire-si-le-montant-de-mon-achat-est-inf%C3%A9rieur-au-montant-de-la-carte-%C3%A0-usage-unique-"},t.BNPL_MOBILE_SMALL_PANEL_HEIGHT=352,t.BNPL_HEADER_TOP_BAR_HEIGHT=45;t.BnplHeaderChevronUpDownContainer=a.default.div(p||(p=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    box-sizing: border-box;\n    margin-left: auto;\n    ","\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    box-sizing: border-box;\n    margin-left: auto;\n    ","\n"])),l.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),t.BodyContainer=a.default.div(m||(m=r(["\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    padding-right: ","px;\n    padding-left: ","px;\n    font-family: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    padding-right: ","px;\n    padding-left: ","px;\n    font-family: ",";\n"])),20,20,o.fontFamilyAmbit),t.BodyContainerScrollArea=(0,a.default)(t.BodyContainer)(g||(g=r(["\n    height: 100%;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n    -webkit-overflow-scrolling: touch;\n\n    &::-webkit-scrollbar {\n        display: none;\n    }\n"],["\n    height: 100%;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n    -webkit-overflow-scrolling: touch;\n\n    &::-webkit-scrollbar {\n        display: none;\n    }\n"])));var p,m,g,h,b,y,v,x,S,E,B,_,I,C,P,w,T,O,k,A=(0,a.default)(d.default)(h||(h=r(["\n    position: fixed;\n    z-index: ",";\n    background-color: ",";\n    border: 0;\n    border-radius: 8px;\n    box-shadow: 0px 4px 14px 0px #0000004d;\n    background-size: 700px;\n    opacity: ",";\n    transition: opacity 1s;\n"],["\n    position: fixed;\n    z-index: ",";\n    background-color: ",";\n    border: 0;\n    border-radius: 8px;\n    box-shadow: 0px 4px 14px 0px #0000004d;\n    background-size: 700px;\n    opacity: ",";\n    transition: opacity 1s;\n"])),l.HIGHEST_Z_INDEX,o.colors.white,(function(e){var t=e.opacity;return void 0===t?1:t}));t.GenericDesktopWidgetContainer=(0,a.default)(A)(b||(b=r(["\n    top: 15px;\n    right: 15px;\n"],["\n    top: 15px;\n    right: 15px;\n"]))),t.GenericMobileWidgetContainer=(0,a.default)(A)(y||(y=r(["\n    bottom: 20px;\n    left: 50%;\n    transform: translate3d(-50%, 0px, ","px);\n"],["\n    bottom: 20px;\n    left: 50%;\n    transform: translate3d(-50%, 0px, ","px);\n"])),l.HIGHER_TRANSLATE3D_Z_AXIS),t.BackIcon=a.default.img(v||(v=r(["\n    height: 15px;\n    object-fit: contain;\n    padding: ","px;\n    margin-left: -","px;\n    ","\n"],["\n    height: 15px;\n    object-fit: contain;\n    padding: ","px;\n    margin-left: -","px;\n    ","\n"])),l.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,l.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,l.CLICKABLE_ELEMENT_CSS_MIXIN),t.ChevronUpDownIcon=(0,a.default)(f.ChevronUpIcon)(x||(x=r(["\n    width: 1rem;\n    padding: ","px;\n    transition: rotate 0.1s ease;\n    ","\n\n    ","\n"],["\n    width: 1rem;\n    padding: ","px;\n    transition: rotate 0.1s ease;\n    ","\n\n    ","\n"])),l.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,l.CLICKABLE_ELEMENT_CSS_MIXIN,(function(e){return e.isDown?"rotate: -180deg;":""})),t.CrossIcon=a.default.img(S||(S=r(["\n    height: 13px;\n    object-fit: contain;\n    padding: ","px;\n    margin-right: -","px;\n    ","\n"],["\n    height: 13px;\n    object-fit: contain;\n    padding: ","px;\n    margin-right: -","px;\n    ","\n"])),l.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,l.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,l.CLICKABLE_ELEMENT_CSS_MIXIN),t.FixedButtonContainer=a.default.div(E||(E=r(["\n    display: flex;\n    position: fixed;\n    width: 90%;\n    left: 20px;\n    bottom: 20px;\n    justify-content: center;\n"],["\n    display: flex;\n    position: fixed;\n    width: 90%;\n    left: 20px;\n    bottom: 20px;\n    justify-content: center;\n"]))),t.ButtonContainer=a.default.div(B||(B=r(["\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    margin-bottom: 20px;\n"],["\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    margin-bottom: 20px;\n"]))),t.Button=(0,a.default)(s.BlackButton)(_||(_=r(["\n    &:disabled {\n        opacity: 0.4;\n    }\n"],["\n    &:disabled {\n        opacity: 0.4;\n    }\n"]))),t.Input=a.default.input(I||(I=r(["\n    height: 41px;\n    width: 100%;\n    box-sizing: border-box;\n    align-items: center;\n    border-color: ",";\n    border-style: solid;\n    border-width: 2px;\n    border-radius: 8px;\n    padding-left: 10px;\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px; /* Has to be greater than or equal to 16 px to prevent iOS Safari from auto-zooming */\n    line-height: 24px;\n"],["\n    height: 41px;\n    width: 100%;\n    box-sizing: border-box;\n    align-items: center;\n    border-color: ",";\n    border-style: solid;\n    border-width: 2px;\n    border-radius: 8px;\n    padding-left: 10px;\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px; /* Has to be greater than or equal to 16 px to prevent iOS Safari from auto-zooming */\n    line-height: 24px;\n"])),o.colors.gallery,o.fontFamilyAmbit),t.BnplPanelTitle=(0,a.default)(u.PanelTitle)(C||(C=r(["\n    line-height: 26px;\n    text-align: left;\n"],["\n    line-height: 26px;\n    text-align: left;\n"]))),t.BnplPanelContentTitle=a.default.div(P||(P=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 24px;\n    color: ",";\n    text-align: left;\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 24px;\n    color: ",";\n    text-align: left;\n"])),o.fontFamilyAmbit,o.colors.black),t.BnplPanelContentTitleRedesigned=(0,a.default)(u.ContentTitle)(w||(w=r(["\n    margin-top: 20px;\n    margin-bottom: 12px;\n    line-height: 19.2px;\n"],["\n    margin-top: 20px;\n    margin-bottom: 12px;\n    line-height: 19.2px;\n"]))),t.BnplPanelSmallContent=a.default.div(T||(T=r(["\n    font-family: ",";\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 16.8px;\n    color: ",";\n    text-align: left;\n"],["\n    font-family: ",";\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 16.8px;\n    color: ",";\n    text-align: left;\n"])),o.fontFamilyAmbit,o.colors.black),t.LoadingIndicatorContainer=(0,a.default)(c.CenteredContainer)(O||(O=r(["\n    pointer-events: none;\n    -moz-transition: opacity 0.5s ease-in-out;\n    -webkit-transition: opacity 0.5s ease-in-out;\n"],["\n    pointer-events: none;\n    -moz-transition: opacity 0.5s ease-in-out;\n    -webkit-transition: opacity 0.5s ease-in-out;\n"]))),t.KnowMoreLink=a.default.a(k||(k=r(["\n    text-decoration-line: underline;\n    color: ",";\n"],["\n    text-decoration-line: underline;\n    color: ",";\n"])),o.colors.black)},24941:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};Object.defineProperty(t,"__esModule",{value:!0}),t.useBnplMobileDisplayContext=t.BnplMobileDisplayContextProvider=void 0;var s=o(n(96540)),c=n(55015),u=n(46239),d=n(74648),f=n(13897),p=s.createContext(void 0);t.BnplMobileDisplayContextProvider=function(e){var t=e.height,n=e.children,i=t-d.BNPL_HEADER_TOP_BAR_HEIGHT,a=(0,c.useHasFeature)(c.Feature.resumeUnfinishedBnplSubscriptionOnUrlChange),o=(0,f.useBnplNavigationContext)(),m=o.offer,g=o.currentBnplScreenName,h=o.tabId,b=l(s.useState(!(!a||!h)&&void 0),2),y=b[0],v=b[1];!function(e){var t=e.tabId,n=e.setIsMinimizedState;s.useEffect((function(){(0,c.getLocalStorageItem)(c.LocalStorageKey.unfinishedBnplSubscriptionStateByTabIdMap).then((function(e){t&&((null==e?void 0:e[t])?n(!!e[t].isMinimized):n(!1))}))}),[])}({tabId:h,setIsMinimizedState:v});var x={offerId:m.offerId,bnplScreenName:g},S=function(e){if(v(e),a){if(!h)return;(0,f.updateUnfinishedBnplSubscriptionStateInLocalStorage)(h,{isMinimized:e})}e?((0,u.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"minimizedBnplPanel",payload:x}}}),(0,u.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Minimized Panel",properties:x}}})):((0,u.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"maximizedBnplPanel",payload:x}}}),(0,u.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Maximized Panel",properties:x}}}))},E=(0,c.useMakeMobileBottomSheetSlidable)({onSlideToBottom:function(){return S(!0)},onSlideToTop:function(){return S(!1)},maximumTopOffset:i,initialTopOffset:0,maximumUpwardsDrag:y?t-d.BNPL_HEADER_TOP_BAR_HEIGHT:0,isMobileExtension:!0,shouldSetTopOffsetToMaximumValueOnDragToBottom:!0}),B=E.topOffset,_=E.isBeingDragged,I=E.onDragListener,C=E.onPressListener,P=E.onReleaseListener,w=_?y?Math.min(i,i+B):B:y?i:0,T={isMinimized:y,setIsMinimized:S,isBeingDragged:_,topOffset:w,dragEventListeners:{onDragListener:I,onPressListener:C,onReleaseListener:P}};return s.createElement(p.Provider,r({},{value:T}),"function"==typeof n?n(T):n)},t.useBnplMobileDisplayContext=function(){return s.useContext(p)}},13897:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useViewportHeight=t.useSetBnplPanelHeight=t.MOBILE_BNPL_SUBSCRIPTION_WIDGET_HEIGHT_PERCENTAGE=t.useBnplNavigationContext=t.removeUnfinishedBnplSubscriptionStateInLocalStorage=t.updateUnfinishedBnplSubscriptionStateInLocalStorage=t.BnplNavigationContextProvider=void 0;var c=o(n(96540)),u=s(n(40961)),d=n(55015),f=n(12233),p=n(17621),m=n(74137),g=n(26368),h=n(31229),b=n(46239),y=n(18989),v=n(74648),x=n(21736),S=c.createContext({});function E(e){var t=e.screenName,n=e.offerId,r=e.price,i=e.userBnplTransactionCreatedAt,a=e.errorType;switch(t){case d.BnplScreenName.priceInputScreen:var o={offerId:n};(0,b.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplPriceInputScreen",payload:o}}}),(0,b.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed Price Input Screen",properties:o}}});break;case d.BnplScreenName.pricePaddingScreen:o={offerId:n};(0,b.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplPricePaddingScreen",payload:o}}}),(0,b.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed Price Padding Screen",properties:o}}});break;case d.BnplScreenName.userInfoScreen:o={offerId:n,price:r};(0,b.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplUserInfoScreen",payload:o}}}),(0,b.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed User Info Screen",properties:o}}});break;case d.BnplScreenName.eligibilityScheduleScreen:o={offerId:n,userBnplTransactionCreatedAt:i};(0,b.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplPaymentSchedule",payload:o}}}),(0,b.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed Eligibility Schedule Screen",properties:o}}});break;case d.BnplScreenName.floaPaymentScreen:o={offerId:n,userBnplTransactionCreatedAt:i};(0,b.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplFloaPaymentScreen",payload:o}}}),(0,b.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed Floa Payment Screen",properties:o}}});break;case d.BnplScreenName.cardPendingScreen:o={offerId:n,userBnplTransactionCreatedAt:i};(0,b.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplCardPendingScreen",payload:o}}}),(0,b.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed BNPL Card Pending Screen",properties:o}}});break;case d.BnplScreenName.cardErrorScreen:o={offerId:n,userBnplTransactionCreatedAt:i,errorType:a};(0,b.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplCardErrorScreen",payload:o}}}),(0,b.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed Card Error Screen",properties:o}}});break;case d.BnplScreenName.cardReadyScreen:o={offerId:n,userBnplTransactionCreatedAt:i};(0,b.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplCardReadyScreen",payload:o}}}),(0,b.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed Card Ready Screen",properties:o}}});break;default:(0,m.captureSentryException)(new Error("Cannot log events for unknown BNPL screen name: ".concat(t)))}}function B(e,t){return new Promise((function(n){if(e){var i=d.LocalStorageKey.unfinishedBnplSubscriptionStateByTabIdMap;chrome.storage.local.get([i],(function(a){var o,l,s=a[i],c=(null==s?void 0:s[e])?s[e]:void 0;chrome.storage.local.set(((o={})[i]=r(r({},s),((l={})[e]=r(r({},c),t),l)),o),n)}))}}))}function _(e){return new Promise((function(t){if(e){var n=d.LocalStorageKey.unfinishedBnplSubscriptionStateByTabIdMap;chrome.storage.local.get([n],(function(r){var i,a=r[n];(null==a?void 0:a[e])&&(delete a[e],chrome.storage.local.set(((i={})[n]=a,i),t))}))}}))}function I(){var e=l(c.useState((function(){var e;return"visualViewport"in window&&(null===(e=window.visualViewport)||void 0===e?void 0:e.height)?window.visualViewport.height:window.innerHeight})),2),t=e[0],n=e[1];return c.useEffect((function(){function e(){var e;"visualViewport"in window&&(null===(e=window.visualViewport)||void 0===e?void 0:e.height)?n(window.visualViewport.height):n(window.innerHeight)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t}t.BnplNavigationContextProvider=function(e){var t=e.children,n=e.offer,i=e.isCardReadyWidget,a=e.isFromBnplSuggestionAtCheckoutWidget,o=e.unfinishedBnplSubscriptionState,s=e.tabId,m=(0,d.useHasFeature)(d.Feature.resumeUnfinishedBnplSubscriptionOnUrlChange),g=function(){return i?d.BnplScreenName.cardReadyWidgetScreen:m&&o&&o.currentBnplScreenName?o.currentBnplScreenName:d.BnplScreenName.priceInputScreen},v=function(){return(null==o?void 0:o.userBnplTransactionCreatedAt)?o.userBnplTransactionCreatedAt:void 0},I=function(){return(null==o?void 0:o.priceInCents)?o.priceInCents:0};c.useEffect((function(){E({screenName:g(),offerId:n.offerId,userBnplTransactionCreatedAt:v(),price:I()})}),[]);var C=l(c.useState(g),2),P=C[0],w=C[1];c.useEffect((function(){B(s,{offerId:n.offerId})}),[]);var T=l(c.useState(v),2),O=T[0],k=T[1],A=l(c.useState(I),2),N=A[0],D=A[1],L=l(c.useState(!!o&&!!o.isPricePaddingApplied),2),M=L[0],j=L[1],z=l(c.useState(!!o&&!!o.hasSkippedUserInfoPanel),2),F=z[0],R=z[1],U=function(e,t,n,r){return function(i){var a=i.screenName,o=i.errorType;e(a),a&&E({screenName:a,offerId:t,price:n,userBnplTransactionCreatedAt:r,errorType:o})}}(w,n.offerId,N,O),H={offer:n,tabId:s,currentBnplScreenName:P,setCurrentBnplScreenNameAndLogEvents:U,userBnplTransactionCreatedAt:O,setUserBnplTransactionCreatedAt:k,priceInCents:N,setPriceInCents:D,isPricePaddingApplied:M,setIsPricePaddingApplied:j,hasSkippedUserInfoPanel:F,setHasSkippedUserInfoPanel:R,isFromBnplSuggestionAtCheckoutWidget:!!a},W=function(e){var t=e.offer,n=e.currentBnplScreenName,r=e.userBnplTransactionCreatedAt,i=e.tabId,a=e.setCurrentBnplScreenName,o={offerId:null==t?void 0:t.offerId,userBnplTransactionCreatedAt:r,fromScreen:n},l=(0,h.useIsTemporaryUser)();return function(e){(0,b.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"closedBnplSubscriptionFlow",payload:o}}}),(0,b.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Closed BNPL Subscription Flow",properties:o}}}),a(void 0),_(i),e||(0,y.displaySideButton)({offer:t,isTemporaryUser:l,webpageUrl:window.location.href,userOfferActivationInfo:void 0});var n=(0,p.getHashedElementId)(p.JokoExtensionRootElement.bnplSubscriptionWidget),r=document.getElementById(n);null!==r&&(u.default.unmountComponentAtNode(r),r.remove())}}(r(r({},H),{setCurrentBnplScreenName:w}));return(0,f.useIsDesignSystemModeActivated)().isDesignSystemModeActivated?c.createElement(x.BnplNavigationContextProvider,r({},{offer:n,isFromBnplSuggestionAtCheckoutWidget:a,unfinishedBnplSubscriptionState:o,tabId:s}),t):c.createElement(S.Provider,{value:r(r({},H),{closeBnplPanelAndLogEvents:W})},t)},t.updateUnfinishedBnplSubscriptionStateInLocalStorage=B,t.removeUnfinishedBnplSubscriptionStateInLocalStorage=_,t.useBnplNavigationContext=function(){var e,t,n,r,i,a,o,l,s=c.useContext(S);e={tabId:null==s?void 0:s.tabId,offer:null==s?void 0:s.offer,currentBnplScreenName:null==s?void 0:s.currentBnplScreenName,userBnplTransactionCreatedAt:null==s?void 0:s.userBnplTransactionCreatedAt,priceInCents:null==s?void 0:s.priceInCents,isPricePaddingApplied:!!(null==s?void 0:s.isPricePaddingApplied),hasSkippedUserInfoPanel:!!(null==s?void 0:s.hasSkippedUserInfoPanel)},t=e.tabId,n=e.offer,r=e.currentBnplScreenName,i=e.userBnplTransactionCreatedAt,a=e.priceInCents,o=e.isPricePaddingApplied,l=e.hasSkippedUserInfoPanel,c.useEffect((function(){B(t,{offerId:null==n?void 0:n.offerId,currentBnplScreenName:r,userBnplTransactionCreatedAt:i,priceInCents:a,isPricePaddingApplied:o,hasSkippedUserInfoPanel:l,updatedAt:Date.now()})}),[t,n,r,i,a,o,l]);var u=(0,f.useIsDesignSystemModeActivated)().isDesignSystemModeActivated,d=(0,x.useBnplNavigationContext)();if(u)return d;if(!s)throw new Error("useBnplNavigationContext() should only be used within a <BnplNavigationContextProvider />");return s},t.MOBILE_BNPL_SUBSCRIPTION_WIDGET_HEIGHT_PERCENTAGE=.88,t.useSetBnplPanelHeight=function(e){var n=e.size,r=e.setHeight,i=e.maximumHeight,a=I();c.useEffect((function(){if(r)return r("".concat("small"===n?v.BNPL_MOBILE_SMALL_PANEL_HEIGHT:i?Math.min(a*t.MOBILE_BNPL_SUBSCRIPTION_WIDGET_HEIGHT_PERCENTAGE,i):a*t.MOBILE_BNPL_SUBSCRIPTION_WIDGET_HEIGHT_PERCENTAGE)),function(){return r("".concat(g.MOBILE_PANEL_HEIGHT,"px"))}}),[r,a])},t.useViewportHeight=I},24375:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(96540)),c=n(2543),u=l(n(38267)),d=n(55015),f=n(14568),p=n(47175),m=n(32668),g=n(74648),h=n(64777),b={firstName:1,lastName:2,phoneNumber:3,bnplEmail:4,gender:5,postalAddress:6,city:7,zipCode:8,birthDate:9,birthLastName:10,birthFrenchDepartment:11};function y(e){return"input_".concat(e)}function v(e){var t=e.name,n=e.value,r=e.setValue,i=e.title,o=e.placeholder,l=e.checkIsInputValid,c=e.autocomplete,u=e.isLoading,f=e.isBeforeFirstAttempt,p=e.inputStyle,m=e.keyboardType,h=e.pattern,b=e.invalidInputNames,v=e.setInvalidInputNames,x=s.default.useRef(null),S=a(s.default.useState(!1),2),E=S[0],B=S[1],_=a(s.default.useState(!1),2),I=_[0],C=_[1],O=(0,d.useLocalizedTexts)().contentscript.bnpl.userInfo;s.default.useEffect((function(){if(n){var e=!!l&&!l(n);B(e),e||(b.delete(t),v(new Set(b)))}else B(!0),v(new Set(b.add(t))),f||C(!0)}),[n,f]);var k=y(t);return s.default.createElement(P,{id:k},s.default.createElement(w,{htmlFor:k,style:{display:"flex",flexDirection:"column"}},s.default.createElement("div",{style:{display:"flex"}},i,I?s.default.createElement(T,null,"- ".concat(O.invalidInput)):null)),s.default.createElement(g.Input,{ref:x,type:m||"text",pattern:h,value:n||"",placeholder:o,contentEditable:!u,autoComplete:c,onChange:function(e){e.target.value&&C(!1),r(e.target.value)},onBlur:function(){E&&(C(!0),v(new Set(b.add(t))))},style:p}))}function x(e){var t=e.name,n=e.value,r=e.setValue,i=e.placeholder,o=e.data,l=e.title,c=e.isBeforeFirstAttempt,u=e.invalidInputNames,f=e.setInvalidInputNames,p=(0,d.useLocalizedTexts)().contentscript.bnpl.userInfo,m=a(s.default.useState(!1),2),g=m[0],h=m[1];s.default.useEffect((function(){n?(u.delete(t),f(new Set(u)),h(!1)):(f(new Set(u.add(t))),c||h(!0))}),[n,c]);var b=y(t);return s.default.createElement(P,{id:b},s.default.createElement(w,{htmlFor:b,style:{display:"flex",flexDirection:"column"}},s.default.createElement("div",{style:{display:"flex"}},l,g?s.default.createElement(T,null,"- ".concat(p.invalidInput)):null)),s.default.createElement(O,{value:n||"",onChange:function(e){return r(e.target.value)}},s.default.createElement("option",{disabled:!0,key:-1,value:""},i),o.map((function(e,t){return s.default.createElement("option",{key:t,value:e.value},e.label)}))))}t.default=function(e){var t=e.firstName,n=e.lastName,r=e.email,l=e.birthLastName,u=e.phoneNumber,p=e.bnplEmail,g=e.gender,S=e.formattedBirthDate,E=e.postalAddress,B=e.zipCode,_=e.city,I=e.birthFrenchDepartment,P=e.setFirstName,w=e.setLastName,T=e.setBirthLastName,O=e.setPhoneNumber,k=e.setBnplEmail,A=e.setGender,N=e.setFormattedBirthDate,D=e.setPostalAddress,L=e.setZipCode,M=e.setCity,j=e.setBirthFrenchDepartment,z=e.isBeforeFirstAttempt,F=e.isLoading,R=e.setFirstInvalidInputId,U=(0,d.useLocalizedTexts)().contentscript.bnpl.userInfo,H=s.default.useMemo((function(){var e=[];return(0,c.forIn)(d.FrenchDepartment,(function(t){return e.push({label:"".concat(t," | ").concat((0,d.resolveFrenchDepartmentName)(t)),value:t})})),e}),[]),W=a(s.default.useState(new Set),2),G=W[0],V=W[1];s.default.useEffect((function(){var e=function(e){var t,n,r,i;try{for(var a=o(Array.from(e)),l=a.next();!l.done;l=a.next()){var s=l.value;null!==b[s]&&(void 0===i||b[s]<i)&&(i=b[s],r=s)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r}(G);if(e){var t=y(e);R(t)}}),[G]);var K=[{label:U.identity.gender.options.male,value:d.Gender.Male},{label:U.identity.gender.options.female,value:d.Gender.Female}],J={isLoading:F,isBeforeFirstAttempt:z,invalidInputNames:G,setInvalidInputNames:V};return s.default.createElement(h.ColumnTopCenterContainer,{style:{marginBottom:10,flex:1}},s.default.createElement(v,i({name:"firstName",value:t,setValue:P,title:U.identity.firstName.title,placeholder:U.identity.firstName.placeholder,checkIsInputValid:function(e){return(0,f.checkIsNameValid)(e)},autocomplete:"given-name"},J)),s.default.createElement(v,i({name:"lastName",value:n,setValue:w,title:U.identity.lastName.title,placeholder:U.identity.lastName.placeholder,checkIsInputValid:function(e){return(0,f.checkIsNameValid)(e)},autocomplete:"family-name"},J)),s.default.createElement(v,i({name:"phoneNumber",value:u,setValue:O,title:U.identity.phoneNumber.title,placeholder:U.identity.phoneNumber.placeholder,checkIsInputValid:f.isPhoneNumberValid,autocomplete:"tel",keyboardType:(0,m.checkIsOnMobileScreen)()?"tel":void 0},J)),(0,f.checkShouldAskEmailForAppleUser)(r)?s.default.createElement(v,i({name:"bnplEmail",value:p,setValue:k,title:U.identity.bnplEmail.title,placeholder:U.identity.bnplEmail.placeholder,checkIsInputValid:f.checkIsEmailValid,autocomplete:"off"},J)):null,s.default.createElement(x,i({name:"gender",value:g,setValue:A,placeholder:U.identity.gender.placeholder,data:K,title:U.identity.gender.title},{isBeforeFirstAttempt:z,invalidInputNames:G,setInvalidInputNames:V})),s.default.createElement(C,null,U.address.title),s.default.createElement(v,i({name:"postalAddress",value:E,setValue:D,title:U.address.postalAddress.title,placeholder:U.address.postalAddress.placeholder,autocomplete:"address-line1"},J)),s.default.createElement(v,i({name:"city",value:_,setValue:M,title:U.address.city.title,placeholder:U.address.city.placeholder,autocomplete:"address-level2"},J)),s.default.createElement(v,i({name:"zipCode",value:B,setValue:L,title:U.address.zipCode.title,placeholder:U.address.zipCode.placeholder,checkIsInputValid:function(e){return(0,f.checkDoesContainOnlyDigits)(e)&&5===e.length},autocomplete:"postal-code",inputStyle:{marginBottom:0},pattern:(0,m.checkIsOnMobileScreen)()?"\\d*":void 0},J)),s.default.createElement(C,null,U.birthInformation.title),s.default.createElement(v,i({name:"birthDate",value:S,setValue:N,title:U.birthInformation.birthDate.title,placeholder:U.birthInformation.birthDate.placeholder,checkIsInputValid:f.isFormattedBirthDateValid,autocomplete:"bday",pattern:(0,m.checkIsOnMobileScreen)()?"\\d*":void 0},J)),s.default.createElement(v,i({name:"birthLastName",value:l,setValue:T,title:U.birthInformation.birthName.title,placeholder:U.birthInformation.birthName.placeholder,checkIsInputValid:function(e){return(0,f.checkIsNameValid)(e)},autocomplete:"family-name"},J)),s.default.createElement(x,i({name:"birthFrenchDepartment",value:I,setValue:j,placeholder:U.birthInformation.birthDepartment.placeholder,data:H,title:U.birthInformation.birthDepartment.title},{isBeforeFirstAttempt:z,invalidInputNames:G,setInvalidInputNames:V})))};var S,E,B,_,I,C=u.default.div(S||(S=r(["\n    align-self: flex-start;\n    font-family: ",";\n    font-weight: 700;\n    font-size: 20px;\n    line-height: 19px;\n    color: ",";\n    margin-top: 30px;\n    margin-bottom: 20px;\n"],["\n    align-self: flex-start;\n    font-family: ",";\n    font-weight: 700;\n    font-size: 20px;\n    line-height: 19px;\n    color: ",";\n    margin-top: 30px;\n    margin-bottom: 20px;\n"])),d.fontFamilyAmbit,d.colors.black),P=u.default.div(E||(E=r(["\n    width: 100%;\n    padding-top: 10px;\n"],["\n    width: 100%;\n    padding-top: 10px;\n"]))),w=u.default.label(B||(B=r(["\n    font-family: ",";\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 14px;\n    color: ",";\n    margin-bottom: 5px;\n"],["\n    font-family: ",";\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 14px;\n    color: ",";\n    margin-bottom: 5px;\n"])),d.fontFamilyAmbit,d.colors.black),T=u.default.div(_||(_=r(["\n    font-family: ",";\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 14px;\n    color: ",";\n    margin-left: 4px;\n"],["\n    font-family: ",";\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 14px;\n    color: ",";\n    margin-left: 4px;\n"])),d.fontFamilyAmbit,d.colors.radicalRed),O=u.default.select(I||(I=r(["\n    height: 40px;\n    width: 100%;\n    align-items: center;\n    border-radius: 10px;\n    border-color: ",";\n    border-width: 2px;\n    padding-top: 1px;\n    padding-bottom: 1px;\n    padding-left: 10px;\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px; /* Has to be greater than or equal to 16 px to prevent iOS Safari from auto-zooming */\n    line-height: 24px;\n    // Customize drop-down arrow\n    appearance: none;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-position: center right 10px;\n    background-size: 12px;\n"],["\n    height: 40px;\n    width: 100%;\n    align-items: center;\n    border-radius: 10px;\n    border-color: ",";\n    border-width: 2px;\n    padding-top: 1px;\n    padding-bottom: 1px;\n    padding-left: 10px;\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px; /* Has to be greater than or equal to 16 px to prevent iOS Safari from auto-zooming */\n    line-height: 24px;\n    // Customize drop-down arrow\n    appearance: none;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-position: center right 10px;\n    background-size: 12px;\n"])),d.colors.gallery,d.fontFamilyAmbit,p.CHEVRON_DOWN_ICON_URL)},58529:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FloaTermsOfService=void 0;var s=o(n(96540)),c=l(n(38267)),u=n(55015),d=n(46239),f=n(78776);t.FloaTermsOfService=function(e){var t=e.buttonName,n=e.children,r=e.userBnplTransactionCreatedAt,i=e.offerId,a=e.fromScreen,o=(0,u.useLocalizedTexts)().contentscript.bnpl.terms,l={userBnplTransactionCreatedAt:r,offerId:i,fromScreen:a};return s.createElement(g,null,s.createElement(s.Fragment,null,o.terms({buttonName:t})," ",s.createElement(h,{href:"https://www.joko.com/fr/floa-tos/",target:"_blank",onClick:function(){(0,d.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"openedBnplFloaTos",payload:l}}}),(0,d.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Opened Floa TOS",properties:l}}})}},o.floaTermsOfService)),s.createElement(s.Fragment,null,", "),s.createElement(h,{href:"https://www.joko.com/fr/floa-confidentiality-policy/",target:"_blank",onClick:function(){(0,d.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"openedBnplFloaConfidentialityPolicy",payload:l}}}),(0,d.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Opened Floa Confidentiality Policy",properties:l}}})}},o.floaConfidentialityPolicy),s.createElement(s.Fragment,null," ".concat(o.and," ")),s.createElement(h,{href:"https://www.joko.com/fr/tos/",target:"_blank",onClick:function(){(0,d.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"openedBnplJokoTos",payload:l}}}),(0,d.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Opened Joko TOS",properties:l}}})}},"".concat(o.jokoTermsOfService)),n)};var p,m,g=(0,c.default)(f.ContentSemiBoldText)(p||(p=r(['\n    line-height: 14px;\n    margin-bottom: 40px; // Ample space to make way for the "position: fixed;" form button\n'],['\n    line-height: 14px;\n    margin-bottom: 40px; // Ample space to make way for the "position: fixed;" form button\n']))),h=c.default.a(m||(m=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 12px;\n    line-height: 14px;\n    text-decoration-line: underline;\n    color: ",";\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 12px;\n    line-height: 14px;\n    text-decoration-line: underline;\n    color: ",";\n"])),u.fontFamilyAmbit,u.colors.black)},15557:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MobileWidgetHeader=void 0;var o=a(n(96540)),l=a(n(38267)),s=n(55015),c=n(47175),u=n(26368),d=n(31229),f=n(46239),p=n(78148);function m(e){var t=e.loginTriggeringEventType,n=(0,s.useLocalizedTexts)();return o.default.createElement(_,i({},{onClick:function(){var e={loginTriggeringEventType:t};(0,f.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedLogin",payload:e}}}),(0,f.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"Registration - Clicked Login",properties:e}}}),(0,p.redirectToJokoApp)()}}),o.default.createElement("img",{src:c.LOGIN_PADLOCK_WHITE_ICON_URL}),n.contentscript.commonCashbackWidget.loginButton)}t.MobileWidgetHeader=function(e){var t=e.onClickClose,n=e.loginTriggeringEventType,r=(0,d.useIsTemporaryUser)();return o.default.createElement(S,null,o.default.createElement(B,{src:c.OLD_LOGO_WITH_TITLE_IMAGE_URL}),o.default.createElement(E,null,r&&n?o.default.createElement(m,i({},{loginTriggeringEventType:n})):null,o.default.createElement(I,{src:c.CROSS_BLACK_ICON_URL,onClick:t})))};var g,h,b,y,v,x,S=l.default.div(g||(g=r(["\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    height: 45px;\n    padding: 0 15px;\n    border-bottom: 1px solid ",";\n    box-sizing: border-box;\n"],["\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    height: 45px;\n    padding: 0 15px;\n    border-bottom: 1px solid ",";\n    box-sizing: border-box;\n"])),s.colors.gallery),E=l.default.div(h||(h=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),B=l.default.img(b||(b=r(["\n    height: 22px;\n    object-fit: contain;\n    ","\n"],["\n    height: 22px;\n    object-fit: contain;\n    ","\n"])),u.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),_=l.default.button(y||(y=r(["\n    display: flex;\n    align-items: center;\n    height: 24px;\n    outline: none;\n    padding: 0 10px;\n    margin-right: 12px;\n    color: ",";\n    font-family: ",";\n    font-size: 14px;\n    font-weight: 700;\n    background-color: ",";\n    border-radius: 12px;\n    border: 0;\n    gap: 6px;\n"],["\n    display: flex;\n    align-items: center;\n    height: 24px;\n    outline: none;\n    padding: 0 10px;\n    margin-right: 12px;\n    color: ",";\n    font-family: ",";\n    font-size: 14px;\n    font-weight: 700;\n    background-color: ",";\n    border-radius: 12px;\n    border: 0;\n    gap: 6px;\n"])),s.colors.white,s.fontFamilyAmbit,s.colors.screamingGreen),I=l.default.img(v||(v=r(["\n    height: 12px;\n    width: 12px;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    height: 12px;\n    width: 12px;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),u.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN);(0,l.default)(s.Ambit)(x||(x=r(["\n    font-weight: 900;\n    font-size: 14px;\n    color: ",";\n"],["\n    font-weight: 900;\n    font-size: 14px;\n    color: ",";\n"])),s.colors.white)},86107:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};Object.defineProperty(t,"__esModule",{value:!0}),t.useDesignSystemBnplCardReadyWidgetDisplayContext=t.DesignSystemBnplCardReadyWidgetDisplayContextProvider=void 0;var s=o(n(96540)),c=n(55015),u=n(59674),d=n(46239),f=n(21736),p=s.createContext(void 0);t.DesignSystemBnplCardReadyWidgetDisplayContextProvider=function(e){var t=e.height,n=e.children,i=t-u.PANEL_HEADER_HEIGHT,a=(0,c.useHasFeature)(c.Feature.resumeUnfinishedBnplSubscriptionOnUrlChange),o=(0,f.useBnplNavigationContext)(),m=o.offer,g=o.currentBnplScreenName,h=o.tabId,b=l(s.useState(!(!a||!h)&&void 0),2),y=b[0],v=b[1];!function(e){var t=e.tabId,n=e.setIsMinimizedState;s.useEffect((function(){(0,c.getLocalStorageItem)(c.LocalStorageKey.unfinishedBnplSubscriptionStateByTabIdMap).then((function(e){t&&((null==e?void 0:e[t])?n(!!e[t].isMinimized):n(!1))}))}),[])}({tabId:h,setIsMinimizedState:v});var x={offerId:m.offerId,bnplScreenName:g},S=function(e){if(v(e),a){if(!h)return;(0,f.updateUnfinishedBnplSubscriptionStateInLocalStorage)(h,{isMinimized:e})}e?((0,d.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"minimizedBnplPanel",payload:x}}}),(0,d.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Minimized Panel",properties:x}}})):((0,d.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"maximizedBnplPanel",payload:x}}}),(0,d.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Maximized Panel",properties:x}}}))},E=(0,c.useMakeMobileBottomSheetSlidable)({onSlideToBottom:function(){return S(!0)},onSlideToTop:function(){return S(!1)},maximumTopOffset:i,initialTopOffset:0,maximumUpwardsDrag:y?t-u.PANEL_HEADER_HEIGHT:0,isMobileExtension:!0,shouldSetTopOffsetToMaximumValueOnDragToBottom:!0}),B=E.topOffset,_=E.isBeingDragged,I=E.onDragListener,C=E.onPressListener,P=E.onReleaseListener,w=_?y?Math.min(i,i+B):B:y?i:0,T={isMinimized:y,setIsMinimized:S,isBeingDragged:_,topOffset:w,dragEventListeners:{onDragListener:I,onPressListener:C,onReleaseListener:P}};return s.createElement(p.Provider,r({},{value:T}),"function"==typeof n?n(T):n)},t.useDesignSystemBnplCardReadyWidgetDisplayContext=function(){return s.useContext(p)}},77864:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DesignSystemBnplCardReadyWidgetHeader=t.DesignSystemBnplHeader=void 0;var l=o(n(96540)),s=n(19972),c=n(32668),u=n(86107),d=n(97669);t.DesignSystemBnplHeader=function(e){var t,n=e.goBack,i=e.close,a=e.shouldNotMinimize,o=e.initialPanelHeaderType,u=l.useMemo(c.checkIsOnMobileScreen,[]),p=(0,d.usePanelDisplayContext)();if(!p)return null;var m=null!=o?o:function(e,t){return e?t?s.PanelHeaderType.jokoLogoAndMaximizeButton:s.PanelHeaderType.backArrowMinimizeButtonAndCloseButton:s.PanelHeaderType.backArrowAndCloseButton}(u,null!==(t=p.isMinimized)&&void 0!==t&&t);return l.createElement(s.DesignSystemPanelHeaderContextProvider,{initialPanelHeaderType:m,isMobileExtension:u,initialOnClickPanelGoBackButton:n},l.createElement(f,r({},{panelDisplayContext:p,close:i,shouldNotMinimize:a,isOnMobileScreen:u})))};var f=l.memo((function(e){var t=e.panelDisplayContext,n=e.close,i=e.shouldNotMinimize,a=e.isOnMobileScreen,o=(0,s.useDesignSystemPanelHeaderContext)(),c=o.setPanelHeaderType,u=o.setOnClickPanelMinimizeButton,d=l.useCallback((function(){if(!i){var e=!t.isMinimized;c(e?s.PanelHeaderType.jokoLogoAndMaximizeButton:s.PanelHeaderType.backArrowMinimizeButtonAndCloseButton),t.setIsMinimized(e)}}),[i,t,c]);return l.useEffect((function(){null==u||u((function(){return d}))}),[u,d]),l.createElement(s.DesignSystemPanelHeader,r({isMobileExtension:a,closePanelAndLogEvents:n,offer:void 0,onDragListener:t.dragEventListeners.onDragListener,onPressListener:t.dragEventListeners.onPressListener,onReleaseListener:t.dragEventListeners.onReleaseListener},{shouldNotMinimize:i}))}));t.DesignSystemBnplCardReadyWidgetHeader=function(e){var t=e.goBack,n=e.close,i=e.shouldNotMinimize,a=l.useMemo(c.checkIsOnMobileScreen,[]),o=(0,u.useDesignSystemBnplCardReadyWidgetDisplayContext)();return o?l.createElement(s.DesignSystemPanelHeaderContextProvider,{initialPanelHeaderType:s.PanelHeaderType.backArrowAndCloseButton,isMobileExtension:!0,initialOnClickPanelGoBackButton:t},l.createElement(f,r({panelDisplayContext:o},{close:n,shouldNotMinimize:i,isOnMobileScreen:a}))):null}},95699:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DesignSystemCardImage=t.KnowMoreLink=t.LoadingIndicatorContainer=t.ChevronUpDownIcon=t.GenericMobileWidgetContainer=t.GenericDesktopWidgetContainer=t.DesignSystemBodyContainerScrollArea=t.DesignSystemBodyContainer=t.BnplHeaderChevronUpDownContainer=t.BNPL_MOBILE_SMALL_PANEL_HEIGHT=t.JOKO_BNPL_LOWER_AMOUNT_FAQ_REFERENCES=t.JOKO_BNPL_FAQ_REFERENCES=void 0;var a=i(n(38267)),o=i(n(96750)),l=n(59674),s=n(17436),c=n(64777),u=i(n(84355));t.JOKO_BNPL_FAQ_REFERENCES={intercomArticleId:"200515",zendeskArticleUrl:"https://joko.zendesk.com/hc/fr-fr/articles/5758693928212-Comment-fonctionne-le-paiement-en-plusieurs-fois-avec-Joko"},t.JOKO_BNPL_LOWER_AMOUNT_FAQ_REFERENCES={intercomArticleId:"200506",zendeskArticleUrl:"https://joko.zendesk.com/hc/fr-fr/articles/5759058259732-Que-faire-si-le-montant-de-mon-achat-est-inf%C3%A9rieur-au-montant-de-la-carte-%C3%A0-usage-unique-"},t.BNPL_MOBILE_SMALL_PANEL_HEIGHT=352,t.BnplHeaderChevronUpDownContainer=a.default.div(d||(d=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    box-sizing: border-box;\n    margin-left: auto;\n    ","\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    box-sizing: border-box;\n    margin-left: auto;\n    ","\n"])),l.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN),t.DesignSystemBodyContainer=a.default.div(f||(f=r(["\n    display: flex;\n    flex: 1 0 0;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," ",";\n"],["\n    display: flex;\n    flex: 1 0 0;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," ",";\n"])),s.measurements.spacings.large,s.measurements.spacings.large,s.measurements.spacings.medium),t.DesignSystemBodyContainerScrollArea=(0,a.default)(t.DesignSystemBodyContainer)(p||(p=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," ",";\n    overflow-x: hidden;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n    -webkit-overflow-scrolling: touch;\n\n    &::-webkit-scrollbar {\n        display: none;\n    }\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n    padding: "," ",";\n    overflow-x: hidden;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n    -webkit-overflow-scrolling: touch;\n\n    &::-webkit-scrollbar {\n        display: none;\n    }\n"])),s.measurements.spacings.medium,s.measurements.spacings.large,s.measurements.spacings.medium);var d,f,p,m,g,h,b,y,v,x,S=(0,a.default)(u.default)(m||(m=r(["\n    position: fixed;\n    z-index: ",";\n    opacity: ",";\n    border: 0;\n    border-radius: ",";\n    box-shadow: 0 4px 14px 0 #0000004d;\n    background-color: ",";\n    background-size: 700px;\n    transition: opacity 1s;\n"],["\n    position: fixed;\n    z-index: ",";\n    opacity: ",";\n    border: 0;\n    border-radius: ",";\n    box-shadow: 0 4px 14px 0 #0000004d;\n    background-color: ",";\n    background-size: 700px;\n    transition: opacity 1s;\n"])),l.HIGHEST_Z_INDEX,(function(e){var t=e.opacity;return void 0===t?1:t}),s.measurements.radius.xSmall,s.colors.background.default);t.GenericDesktopWidgetContainer=(0,a.default)(S)(g||(g=r(["\n    top: 15px;\n    right: 15px;\n"],["\n    top: 15px;\n    right: 15px;\n"]))),t.GenericMobileWidgetContainer=(0,a.default)(S)(h||(h=r(["\n    bottom: 20px;\n    left: 50%;\n    transform: translate3d(-50%, 0, ","px);\n"],["\n    bottom: 20px;\n    left: 50%;\n    transform: translate3d(-50%, 0, ","px);\n"])),l.HIGHER_TRANSLATE3D_Z_AXIS),t.ChevronUpDownIcon=(0,a.default)(o.default)(b||(b=r(["\n    width: 1rem;\n    padding: ",";\n    transition: rotate 0.1s ease;\n    ","\n    ","\n"],["\n    width: 1rem;\n    padding: ",";\n    transition: rotate 0.1s ease;\n    ","\n    ","\n"])),s.measurements.spacings.medium,l.CLICKABLE_ELEMENT_CSS_MIXIN,(function(e){return e.isDown?"rotate: -180deg;":""})),t.LoadingIndicatorContainer=(0,a.default)(c.CenteredContainer)(y||(y=r(["\n    pointer-events: none;\n    transition: opacity 0.5s ease-in-out;\n"],["\n    pointer-events: none;\n    transition: opacity 0.5s ease-in-out;\n"]))),t.KnowMoreLink=a.default.a(v||(v=r(["\n    margin-left: 3px;\n    font-family: ",";\n    font-weight: ",";\n    font-size: ",";\n    line-height: ",";\n    text-decoration-line: underline;\n    color: ",";\n"],["\n    margin-left: 3px;\n    font-family: ",";\n    font-weight: ",";\n    font-size: ",";\n    line-height: ",";\n    text-decoration-line: underline;\n    color: ",";\n"])),s.typographies.fonts.paragraph,s.typographies.fontWeights.bold,s.typographies.fontSizes.paragraph.small,s.typographies.lineHeights.paragraph.small,s.colors.content.secondary),t.DesignSystemCardImage=a.default.img(x||(x=r(["\n    width: 151px;\n    height: 96px;\n"],["\n    width: 151px;\n    height: 96px;\n"])))},21736:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useViewportHeight=t.useSetBnplPanelHeight=t.MOBILE_BNPL_SUBSCRIPTION_WIDGET_HEIGHT_RATIO=t.useBnplNavigationContext=t.removeUnfinishedBnplSubscriptionStateInLocalStorage=t.updateUnfinishedBnplSubscriptionStateInLocalStorage=t.BnplNavigationContextProvider=void 0;var c=o(n(96540)),u=s(n(40961)),d=n(55015),f=n(17621),p=n(74137),m=n(26368),g=n(31229),h=n(46239),b=n(18989),y=n(95699),v=c.createContext({});function x(e){var t=e.screenName,n=e.offerId,r=e.price,i=e.userBnplTransactionCreatedAt,a=e.errorType;switch(t){case d.BnplScreenName.priceInputScreen:var o={offerId:n};(0,h.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplPriceInputScreen",payload:o}}}),(0,h.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed Price Input Screen",properties:o}}});break;case d.BnplScreenName.pricePaddingScreen:o={offerId:n};(0,h.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplPricePaddingScreen",payload:o}}}),(0,h.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed Price Padding Screen",properties:o}}});break;case d.BnplScreenName.userInfoScreen:o={offerId:n,price:r};(0,h.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplUserInfoScreen",payload:o}}}),(0,h.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed User Info Screen",properties:o}}});break;case d.BnplScreenName.eligibilityScheduleScreen:o={offerId:n,userBnplTransactionCreatedAt:i};(0,h.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplPaymentSchedule",payload:o}}}),(0,h.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed Eligibility Schedule Screen",properties:o}}});break;case d.BnplScreenName.floaPaymentScreen:o={offerId:n,userBnplTransactionCreatedAt:i};(0,h.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplFloaPaymentScreen",payload:o}}}),(0,h.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed Floa Payment Screen",properties:o}}});break;case d.BnplScreenName.cardPendingScreen:o={offerId:n,userBnplTransactionCreatedAt:i};(0,h.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplCardPendingScreen",payload:o}}}),(0,h.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed BNPL Card Pending Screen",properties:o}}});break;case d.BnplScreenName.cardErrorScreen:o={offerId:n,userBnplTransactionCreatedAt:i,errorType:a};(0,h.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplCardErrorScreen",payload:o}}}),(0,h.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed Card Error Screen",properties:o}}});break;case d.BnplScreenName.cardReadyScreen:o={offerId:n,userBnplTransactionCreatedAt:i};(0,h.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"viewedBnplCardReadyScreen",payload:o}}}),(0,h.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Viewed Card Ready Screen",properties:o}}});break;default:(0,p.captureSentryException)(new Error("Cannot log events for unknown BNPL screen name: ".concat(t)))}}function S(e,t){return new Promise((function(n){if(e){var i=d.LocalStorageKey.unfinishedBnplSubscriptionStateByTabIdMap;chrome.storage.local.get([i],(function(a){var o,l,s=a[i],c=(null==s?void 0:s[e])?s[e]:void 0;chrome.storage.local.set(((o={})[i]=r(r({},s),((l={})[e]=r(r({},c),t),l)),o),n)}))}}))}function E(e){return new Promise((function(t){if(e){var n=d.LocalStorageKey.unfinishedBnplSubscriptionStateByTabIdMap;chrome.storage.local.get([n],(function(r){var i,a=r[n];(null==a?void 0:a[e])&&(delete a[e],chrome.storage.local.set(((i={})[n]=a,i),t))}))}}))}function B(){var e=l(c.useState((function(){var e;return"visualViewport"in window&&(null===(e=window.visualViewport)||void 0===e?void 0:e.height)?window.visualViewport.height:window.innerHeight})),2),t=e[0],n=e[1];return c.useEffect((function(){function e(){var e;"visualViewport"in window&&(null===(e=window.visualViewport)||void 0===e?void 0:e.height)?n(window.visualViewport.height):n(window.innerHeight)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t}t.BnplNavigationContextProvider=function(e){var t=e.children,n=e.offer,i=e.isCardReadyWidget,a=e.isFromBnplSuggestionAtCheckoutWidget,o=e.unfinishedBnplSubscriptionState,s=e.tabId,p=(0,d.useHasFeature)(d.Feature.resumeUnfinishedBnplSubscriptionOnUrlChange),m=function(){return i?d.BnplScreenName.cardReadyWidgetScreen:p&&o&&o.currentBnplScreenName?o.currentBnplScreenName:d.BnplScreenName.priceInputScreen},y=function(){return(null==o?void 0:o.userBnplTransactionCreatedAt)?o.userBnplTransactionCreatedAt:void 0},B=function(){return(null==o?void 0:o.priceInCents)?o.priceInCents:0};c.useEffect((function(){x({screenName:m(),offerId:n.offerId,userBnplTransactionCreatedAt:y(),price:B()})}),[]);var _=l(c.useState(m),2),I=_[0],C=_[1];c.useEffect((function(){S(s,{offerId:n.offerId})}),[]);var P=l(c.useState(y),2),w=P[0],T=P[1],O=l(c.useState(B),2),k=O[0],A=O[1],N=l(c.useState(!!o&&!!o.isPricePaddingApplied),2),D=N[0],L=N[1],M=l(c.useState(!!o&&!!o.hasSkippedUserInfoPanel),2),j=M[0],z=M[1],F=function(e,t,n,r){return function(i){var a=i.screenName,o=i.errorType;e(a),a&&x({screenName:a,offerId:t,price:n,userBnplTransactionCreatedAt:r,errorType:o})}}(C,n.offerId,k,w),R={offer:n,tabId:s,currentBnplScreenName:I,setCurrentBnplScreenNameAndLogEvents:F,userBnplTransactionCreatedAt:w,setUserBnplTransactionCreatedAt:T,priceInCents:k,setPriceInCents:A,isPricePaddingApplied:D,setIsPricePaddingApplied:L,hasSkippedUserInfoPanel:j,setHasSkippedUserInfoPanel:z,isFromBnplSuggestionAtCheckoutWidget:!!a},U=function(e){var t=e.offer,n=e.currentBnplScreenName,r=e.userBnplTransactionCreatedAt,i=e.tabId,a=e.setCurrentBnplScreenName,o={offerId:t.offerId,userBnplTransactionCreatedAt:r,fromScreen:n},l=(0,g.useIsTemporaryUser)();return function(e){(0,h.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"closedBnplSubscriptionFlow",payload:o}}}),(0,h.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Closed BNPL Subscription Flow",properties:o}}}),a(void 0),E(i),e||(0,b.displaySideButton)({offer:t,isTemporaryUser:l,webpageUrl:window.location.href,userOfferActivationInfo:void 0});var n=(0,f.getHashedElementId)(f.JokoExtensionRootElement.bnplSubscriptionWidget),r=document.getElementById(n);null!==r&&(u.default.unmountComponentAtNode(r),r.remove())}}(r(r({},R),{setCurrentBnplScreenName:C}));return c.createElement(v.Provider,{value:r(r({},R),{closeBnplPanelAndLogEvents:U})},t)},t.updateUnfinishedBnplSubscriptionStateInLocalStorage=S,t.removeUnfinishedBnplSubscriptionStateInLocalStorage=E,t.useBnplNavigationContext=function(){var e,t,n,r,i,a,o,l,s=c.useContext(v);if(e={tabId:null==s?void 0:s.tabId,offer:null==s?void 0:s.offer,currentBnplScreenName:null==s?void 0:s.currentBnplScreenName,userBnplTransactionCreatedAt:null==s?void 0:s.userBnplTransactionCreatedAt,priceInCents:null==s?void 0:s.priceInCents,isPricePaddingApplied:!!(null==s?void 0:s.isPricePaddingApplied),hasSkippedUserInfoPanel:!!(null==s?void 0:s.hasSkippedUserInfoPanel)},t=e.tabId,n=e.offer,r=e.currentBnplScreenName,i=e.userBnplTransactionCreatedAt,a=e.priceInCents,o=e.isPricePaddingApplied,l=e.hasSkippedUserInfoPanel,c.useEffect((function(){S(t,{offerId:null==n?void 0:n.offerId,currentBnplScreenName:r,userBnplTransactionCreatedAt:i,priceInCents:a,isPricePaddingApplied:o,hasSkippedUserInfoPanel:l,updatedAt:Date.now()})}),[t,n,r,i,a,o,l]),!s)throw new Error("useBnplNavigationContext() should only be used within a <BnplNavigationContextProvider />");return s},t.MOBILE_BNPL_SUBSCRIPTION_WIDGET_HEIGHT_RATIO=.85,t.useSetBnplPanelHeight=function(e){var n=e.size,r=e.setHeight,i=e.maximumHeight,a=B();c.useEffect((function(){if(r)return r("".concat("small"===n?y.BNPL_MOBILE_SMALL_PANEL_HEIGHT:i?Math.min(a*t.MOBILE_BNPL_SUBSCRIPTION_WIDGET_HEIGHT_RATIO,i):a*t.MOBILE_BNPL_SUBSCRIPTION_WIDGET_HEIGHT_RATIO)),function(){return r("".concat(m.MOBILE_PANEL_HEIGHT,"px"))}}),[r,a])},t.useViewportHeight=B},13944:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.INPUT_NAMES_ORDER=void 0;var u=c(n(96540)),d=n(2543),f=c(n(38267)),p=n(55015),m=l(n(96410)),g=n(27070),h=c(n(35552)),b=n(38403),y=n(17436),v=n(14568),x=n(32668);function S(e){var t=e.name,n=e.value,r=e.setValue,a=e.title,o=e.placeholder,l=e.checkIsInputValid,s=e.autocomplete,c=e.isLoading,d=e.keyboardType,f=e.pattern,m=e.invalidInputNames,h=u.default.useRef(null),y=(0,p.useLocalizedTexts)().designSystem.contentscript.bnpl.userInfo,v=u.default.useCallback((function(e){return!l||l(e)?(m.current.delete(t),!0):(m.current.add(t),!1)}),[l,m,t]),x=u.default.useCallback((function(e){r(e.target.value)}),[r]);return u.default.createElement(b.TextField,i({inputValue:n||"",setInputValue:r,placeholder:o,shouldShowTopInline:!0,shouldShowBottomInline:!0,topInlineProps:{baseInlineState:g.BaseInlineState.default,baseInlineLabelPosition:g.BaseInlineLabelPosition.left,baseInlineSize:g.BaseInlineSize.small,baseInlineLabel:a,shouldShowBaseInlineLeftIcon:!1,shouldShowBaseInlineRightIcon:!1},bottomInlineProps:{baseInlineState:g.BaseInlineState.critical,baseInlineLabelPosition:g.BaseInlineLabelPosition.left,baseInlineSize:g.BaseInlineSize.small,baseInlineLabel:y.invalidInput,shouldShowBaseInlineLeftIcon:!1,shouldShowBaseInlineRightIcon:!1},onInputChange:x,checkIsInputValid:v,textInputRef:h,inputValueRef:u.default.useRef(n||""),shouldShowPlaceholder:!0,isInitiallySelected:!1,isDisabled:c},d&&{inputMode:d},f&&{pattern:f},{baseTextFieldHtmlAttributes:{autoComplete:s}}))}function E(e){var t=e.name,n=e.value,r=e.setValue,a=e.placeholder,o=e.data,l=e.title,c=e.isBeforeFirstAttempt,d=e.invalidInputNames,f=(0,p.useLocalizedTexts)().designSystem.contentscript.bnpl.userInfo,m=s(u.default.useState(!1),2),b=m[0],y=m[1],v=u.default.useCallback((function(e){if(e)return r(e),d.current.delete(t),void y(!1);d.current.add(t),c||y(!0)}),[r,d,t]);return u.default.createElement(h.default,i({},{value:n,data:o,placeholder:a},{setValue:v,shouldShowTopInline:!0,topInlineProps:{baseInlineState:g.BaseInlineState.default,baseInlineLabelPosition:g.BaseInlineLabelPosition.left,baseInlineSize:g.BaseInlineSize.small,baseInlineLabel:l,shouldShowBaseInlineLeftIcon:!1,shouldShowBaseInlineRightIcon:!1},shouldShowBottomInline:b,bottomInlineProps:{baseInlineState:g.BaseInlineState.critical,baseInlineLabelPosition:g.BaseInlineLabelPosition.left,baseInlineSize:g.BaseInlineSize.small,baseInlineLabel:f.invalidInput,shouldShowBaseInlineLeftIcon:!1,shouldShowBaseInlineRightIcon:!1}}))}t.INPUT_NAMES_ORDER={firstName:1,lastName:2,phoneNumber:3,bnplEmail:4,gender:5,postalAddress:6,city:7,zipCode:8,birthDate:9,birthLastName:10,birthFrenchDepartment:11},t.default=function(e){var t=e.firstName,n=e.lastName,r=e.email,a=e.birthLastName,o=e.phoneNumber,l=e.bnplEmail,s=e.gender,c=e.formattedBirthDate,f=e.postalAddress,g=e.zipCode,h=e.city,b=e.birthFrenchDepartment,B=e.setFirstName,I=e.setLastName,C=e.setBirthLastName,P=e.setPhoneNumber,w=e.setBnplEmail,T=e.setGender,O=e.setFormattedBirthDate,k=e.setPostalAddress,A=e.setZipCode,N=e.setCity,D=e.setBirthFrenchDepartment,L=e.isBeforeFirstAttempt,M=e.isLoading,j=e.invalidInputNames,z=(0,p.useLocalizedTexts)().designSystem.contentscript.bnpl.userInfo,F=u.default.useMemo((function(){var e=[];return(0,d.forIn)(p.FrenchDepartment,(function(t){return e.push({label:"".concat(t," | ").concat((0,p.resolveFrenchDepartmentName)(t)),value:t})})),e}),[]),R=[{label:z.identity.gender.options.male,value:p.Gender.Male},{label:z.identity.gender.options.female,value:p.Gender.Female}],U={isLoading:M,invalidInputNames:j};return u.default.createElement(u.default.Fragment,null,u.default.createElement(_,null,u.default.createElement(m.default,{titleSize:m.TitleSize.medium,titleWeight:m.TitleWeight.bold,text:z.identity.title,shouldAlignTextLeft:!0,color:y.colors.content.default}),u.default.createElement(S,i({name:"firstName",value:t,setValue:B,title:z.identity.firstName.title,placeholder:z.identity.firstName.placeholder,checkIsInputValid:function(e){return(0,v.checkIsNameValid)(e)},autocomplete:"given-name"},U)),u.default.createElement(S,i({name:"lastName",value:n,setValue:I,title:z.identity.lastName.title,placeholder:z.identity.lastName.placeholder,checkIsInputValid:function(e){return(0,v.checkIsNameValid)(e)},autocomplete:"family-name"},U)),u.default.createElement(S,i({name:"phoneNumber",value:o,setValue:P,title:z.identity.phoneNumber.title,placeholder:z.identity.phoneNumber.placeholder,checkIsInputValid:v.isPhoneNumberValid,autocomplete:"tel",keyboardType:(0,x.checkIsOnMobileScreen)()?"tel":void 0},U)),(0,v.checkShouldAskEmailForAppleUser)(r)?u.default.createElement(S,i({name:"bnplEmail",value:l,setValue:w,title:z.identity.bnplEmail.title,placeholder:z.identity.bnplEmail.placeholder,checkIsInputValid:v.checkIsEmailValid,autocomplete:"off"},U)):null,u.default.createElement(E,i({name:"gender",value:s,setValue:T,placeholder:z.identity.gender.placeholder,data:R,title:z.identity.gender.title},{isBeforeFirstAttempt:L,invalidInputNames:j}))),u.default.createElement(_,null,u.default.createElement(m.default,{titleSize:m.TitleSize.medium,titleWeight:m.TitleWeight.bold,text:z.address.title,shouldAlignTextLeft:!0,color:y.colors.content.default}),u.default.createElement(S,i({name:"postalAddress",value:f,setValue:k,title:z.address.postalAddress.title,placeholder:z.address.postalAddress.placeholder,autocomplete:"address-line1"},U)),u.default.createElement(S,i({name:"city",value:h,setValue:N,title:z.address.city.title,placeholder:z.address.city.placeholder,autocomplete:"address-level2"},U)),u.default.createElement(S,i({name:"zipCode",value:g,setValue:A,title:z.address.zipCode.title,placeholder:z.address.zipCode.placeholder,checkIsInputValid:function(e){return(0,v.checkDoesContainOnlyDigits)(e)&&5===e.length},autocomplete:"postal-code",pattern:(0,x.checkIsOnMobileScreen)()?"\\d*":void 0},U))),u.default.createElement(_,null,u.default.createElement(m.default,{titleSize:m.TitleSize.medium,titleWeight:m.TitleWeight.bold,text:z.birthInformation.title,shouldAlignTextLeft:!0,color:y.colors.content.default}),u.default.createElement(S,i({name:"birthDate",value:c,setValue:O,title:z.birthInformation.birthDate.title,placeholder:z.birthInformation.birthDate.placeholder,checkIsInputValid:v.isFormattedBirthDateValid,autocomplete:"bday",pattern:(0,x.checkIsOnMobileScreen)()?"\\d*":void 0},U)),u.default.createElement(S,i({name:"birthLastName",value:a,setValue:C,title:z.birthInformation.birthName.title,placeholder:z.birthInformation.birthName.placeholder,checkIsInputValid:function(e){return(0,v.checkIsNameValid)(e)},autocomplete:"family-name"},U)),u.default.createElement(E,i({name:"birthFrenchDepartment",value:b,setValue:D,placeholder:z.birthInformation.birthDepartment.placeholder,data:F,title:z.birthInformation.birthDepartment.title},{isBeforeFirstAttempt:L,invalidInputNames:j}))))};var B,_=f.default.div(B||(B=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"])),y.measurements.spacings.small)},79210:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DesignSystemFloaTermsOfService=void 0;var s=o(n(96540)),c=l(n(38267)),u=n(55015),d=o(n(96410)),f=n(17436),p=n(46239);t.DesignSystemFloaTermsOfService=function(e){var t=e.buttonName,n=e.userBnplTransactionCreatedAt,r=e.offerId,i=e.fromScreen,a=(0,u.useLocalizedTexts)().designSystem.contentscript.bnpl.terms,o={userBnplTransactionCreatedAt:n,offerId:r,fromScreen:i};return s.createElement(h,null,s.createElement(d.default,{titleSize:d.TitleSize.xSmall,titleWeight:d.TitleWeight.semiBold,text:"".concat(a.terms({buttonName:t})," "),shouldAlignTextLeft:!0}),s.createElement(b,{href:"https://www.joko.com/fr/floa-tos/",target:"_blank",onClick:function(){(0,p.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"openedBnplFloaTos",payload:o}}}),(0,p.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Opened Floa TOS",properties:o}}})}},a.floaTermsOfService),s.createElement(d.default,{titleSize:d.TitleSize.xSmall,titleWeight:d.TitleWeight.semiBold,text:", ",shouldAlignTextLeft:!0}),s.createElement(b,{href:"https://www.joko.com/fr/floa-confidentiality-policy/",target:"_blank",onClick:function(){(0,p.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"openedBnplFloaConfidentialityPolicy",payload:o}}}),(0,p.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Opened Floa Confidentiality Policy",properties:o}}})}},a.floaConfidentialityPolicy),s.createElement(d.default,{titleSize:d.TitleSize.xSmall,titleWeight:d.TitleWeight.semiBold,text:" ".concat(a.and," "),shouldAlignTextLeft:!0}),s.createElement(b,{href:"https://www.joko.com/fr/tos/",target:"_blank",onClick:function(){(0,p.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"openedBnplJokoTos",payload:o}}}),(0,p.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Opened Joko TOS",properties:o}}})}},a.jokoTermsOfService))};var m,g,h=c.default.div(m||(m=r(["\n    line-height: ",";\n"],["\n    line-height: ",";\n"])),f.typographies.lineHeights.title.xSmall),b=c.default.a(g||(g=r(["\n    font-family: ",";\n    font-weight: ",";\n    font-size: ",";\n    line-height: ",";\n    text-decoration-line: underline;\n    color: ",";\n"],["\n    font-family: ",";\n    font-weight: ",";\n    font-size: ",";\n    line-height: ",";\n    text-decoration-line: underline;\n    color: ",";\n"])),f.typographies.fonts.title,f.typographies.fontWeights.semiBold,f.typographies.fontSizes.title.xSmall,f.typographies.lineHeights.title.xSmall,f.colors.content.default)},55428:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(96540)),c=l(n(38267)),u=n(55015),d=n(47615),f=n(47175),p=n(51155),m=n(74648),g=n(13897),h=n(64777),b=n(97669);t.default=function(e){var t=e.setHeight,n=(0,g.useBnplNavigationContext)().closeBnplPanelAndLogEvents,r=((0,b.usePanelDisplayContext)()||{}).closePanelAndLogEvents;(0,g.useSetBnplPanelHeight)({size:"large",setHeight:t});var i=(0,d.useShouldUseBnplTopBar)(),a=(0,u.useHasFeature)(u.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),o=(0,u.useLocalizedTexts)().contentscript.bnpl.cardError;return i?s.createElement(s.Fragment,null,s.createElement(p.BnplHeader,{close:function(){return a?null==r?void 0:r("bnplSubscription"):n()},shouldNotMinimize:!0}),s.createElement(m.BodyContainer,{style:{alignItems:"center"}},s.createElement(C,{style:{marginTop:10}},o.title),s.createElement(P,null,o.subtitle),s.createElement(_,null,s.createElement(I,null,s.createElement("img",{style:{width:329,height:207},src:f.JOKO_CARD_ILLUSTRATION_URL}))),s.createElement(m.ButtonContainer,null,s.createElement(m.Button,{isFullWidth:!0,onClick:function(){return a?null==r?void 0:r("bnplSubscription"):n()}},o.button)))):s.createElement(m.BodyContainer,{style:{alignItems:"center"}},s.createElement(B,null),s.createElement(C,null,o.title),s.createElement(P,null,o.subtitle),s.createElement(_,null,s.createElement(I,null,s.createElement("img",{style:{width:329,height:207},src:f.JOKO_CARD_ILLUSTRATION_URL}))),s.createElement(m.ButtonContainer,null,s.createElement(m.Button,{isFullWidth:!0,onClick:function(){return a?null==r?void 0:r("bnplSubscription"):n()}},o.button)))};var y,v,x,S,E,B=c.default.div(y||(y=r(["\n    height: 50px;\n"],["\n    height: 50px;\n"]))),_=c.default.div(v||(v=r(["\n    flex: 1;\n    flex-direction: column;\n    justify-content: space-between;\n    background-color: ",";\n    padding-left: 20px;\n    padding-right: 20px;\n    padding-top: 20px;\n"],["\n    flex: 1;\n    flex-direction: column;\n    justify-content: space-between;\n    background-color: ",";\n    padding-left: 20px;\n    padding-right: 20px;\n    padding-top: 20px;\n"])),u.colors.white),I=(0,c.default)(h.CenteredContainer)(x||(x=r(["\n    flex-direction: column;\n    height: 300px;\n    width: 300px;\n    border-radius: 300px;\n    background-color: ",";\n    align-self: center;\n    margin-bottom: 20px;\n"],["\n    flex-direction: column;\n    height: 300px;\n    width: 300px;\n    border-radius: 300px;\n    background-color: ",";\n    align-self: center;\n    margin-bottom: 20px;\n"])),u.colors.flamingo),C=c.default.div(S||(S=r(["\n    font-family: ",";\n    font-weight: 900;\n    font-size: 24px;\n    line-height: 30px;\n    color: ",";\n    text-align: center;\n"],["\n    font-family: ",";\n    font-weight: 900;\n    font-size: 24px;\n    line-height: 30px;\n    color: ",";\n    text-align: center;\n"])),u.fontFamilyAmbit,u.colors.flamingo),P=c.default.div(E||(E=r(["\n    font-family: ",";\n    font-weight: 600px;\n    font-size: 16px;\n    line-height: 24px;\n    color: ",";\n    text-align: center;\n    margin-top: 20px;\n"],["\n    font-family: ",";\n    font-weight: 600px;\n    font-size: 16px;\n    line-height: 24px;\n    color: ",";\n    text-align: center;\n    margin-top: 20px;\n"])),u.fontFamilyAmbit,u.colors.black)},12653:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(96540)),c=l(n(38267)),u=n(55015),d=n(47615),f=n(47175),p=n(51155),m=n(74648),g=n(13897),h=n(64777),b=n(97669);t.default=function(e){var t=e.setHeight,n=(0,g.useBnplNavigationContext)(),r=n.userBnplTransactionCreatedAt,i=n.closeBnplPanelAndLogEvents;(0,d.useCardNavigation)(r);var a=((0,b.usePanelDisplayContext)()||{}).closePanelAndLogEvents,o=(0,d.useShouldUseBnplTopBar)(),l=(0,u.useHasFeature)(u.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),c=(0,u.useLocalizedTexts)().contentscript.bnpl.cardPending;return o?s.createElement(s.Fragment,null,s.createElement(p.BnplHeader,{close:function(){return l?null==a?void 0:a("bnplSubscription"):i()}}),s.createElement(m.BodyContainer,{style:{alignItems:"center"}},s.createElement(I,{style:{marginTop:15}},c.title),s.createElement(P,null,c.subtitle),s.createElement(B,{style:t?{}:{marginTop:30}},s.createElement(_,null,s.createElement("img",{style:{width:329,height:207},src:f.JOKO_CARD_ILLUSTRATION_URL}))))):s.createElement(m.BodyContainer,{style:{alignItems:"center"}},s.createElement("div",{style:{alignSelf:"flex-start"}},s.createElement(p.BnplHeader,{close:function(){return l?null==a?void 0:a("bnplSubscription"):i()}})),s.createElement(I,null,c.title),s.createElement(C,null,c.subtitle),s.createElement(B,null,s.createElement(_,null,s.createElement("img",{style:{width:329,height:207},src:f.JOKO_CARD_ILLUSTRATION_URL}))))};var y,v,x,S,E,B=c.default.div(y||(y=r(["\n    flex: 1;\n    flex-direction: column;\n    justify-content: space-between;\n    background-color: ",";\n    padding-left: 20px;\n    padding-right: 20px;\n    padding-top: 20px;\n"],["\n    flex: 1;\n    flex-direction: column;\n    justify-content: space-between;\n    background-color: ",";\n    padding-left: 20px;\n    padding-right: 20px;\n    padding-top: 20px;\n"])),u.colors.white),_=(0,c.default)(h.CenteredContainer)(v||(v=r(["\n    flex-direction: column;\n    height: 300px;\n    width: 300px;\n    border-radius: 300px;\n    background-color: ",";\n    align-self: center;\n    margin-bottom: 20px;\n"],["\n    flex-direction: column;\n    height: 300px;\n    width: 300px;\n    border-radius: 300px;\n    background-color: ",";\n    align-self: center;\n    margin-bottom: 20px;\n"])),u.colors.hintOfGreen),I=(0,c.default)(m.BnplPanelTitle)(x||(x=r(["\n    text-align: center;\n"],["\n    text-align: center;\n"]))),C=(0,c.default)(m.BnplPanelContentTitle)(S||(S=r(["\n    text-align: center;\n"],["\n    text-align: center;\n"]))),P=(0,c.default)(C)(E||(E=r(["\n    margin-top: 15px;\n    color: ",";\n"],["\n    margin-top: 15px;\n    color: ",";\n"])),u.colors.onyxBlack)},56029:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(96540)),u=s(n(38267)),d=n(55015),f=n(64242),p=n(14568),m=n(47615),g=n(47175),h=n(32668),b=n(31229),y=n(46239),v=n(51155),x=n(74648),S=n(13897),E=n(97669);function B(e){var t,n=e.offer,r=e.userBnplTransaction,i=e.user,a=(0,d.useLocalizedTexts)().contentscript.bnpl.cardReady;if(!((null===(t=null==r?void 0:r.amount)||void 0===t?void 0:t.valueInCents)&&r.swanPaymentCard&&r.swanPaymentCard.confidentialCardData&&r.swanPaymentCard.confidentialCardData.pan&&r.swanPaymentCard.confidentialCardData.expiryDate&&r.swanPaymentCard.confidentialCardData.cvv))return null;var o=(0,d.formatCurrencyAmount)({localizedFormat:d.frFormat,number:r.amount.valueInCents/100});return c.createElement(U,null,c.createElement(H,null,c.createElement(W,null,c.createElement(K,null,o),(null==n?void 0:n.screen.title)?c.createElement(J,null,a.merchant({merchantName:n.screen.title.toUpperCase()})):null),c.createElement(G,null,c.createElement(X,null,(r.swanPaymentCard.confidentialCardData.pan.match(/.{1,4}/g)||[]).join(" ")),c.createElement("div",{style:{display:"flex",flexDirection:"row"}},c.createElement(X,{style:{width:"32%"}},r.swanPaymentCard.confidentialCardData.expiryDate),c.createElement("div",{style:{display:"flex",flexDirection:"row"}},c.createElement(Z,null,a.cardVerificationValue),c.createElement(X,{style:{justifyContent:"flex-end"}},r.swanPaymentCard.confidentialCardData.cvv))),(null==i?void 0:i.userInfo)?c.createElement(X,null,"".concat(i.userInfo.firstName," ").concat(i.userInfo.lastName)):null)))}function _(e){var t=e.offer,n=(0,d.useLocalizedTexts)().contentscript.bnpl.cardReady;return c.createElement(Y,null,c.createElement(q,{style:{marginTop:0}},c.createElement(Q,null,c.createElement($,null,"1")),c.createElement(ee,null,n.howItWorks.step1({merchantName:t.screen?t.screen.title:void 0}))),c.createElement(q,null,c.createElement(Q,null,c.createElement($,null,"2")),c.createElement(ee,null,n.howItWorks.step2)),c.createElement(q,null,c.createElement(Q,null,c.createElement($,null,"3")),c.createElement(ee,null,n.howItWorks.step3)))}function I(e,t){var n={offerId:e,userBnplTransactionCreatedAt:t,fromScreen:"cardReadyScreen"};(0,y.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"openedBnplFaq",payload:n}}}),(0,y.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Opened FAQ",properties:n}}})}t.default=function(e){var t=e.close,n=e.setHeight,r=(0,S.useBnplNavigationContext)(),a=r.offer,o=r.closeBnplPanelAndLogEvents,l=r.userBnplTransactionCreatedAt,s=(0,b.useUser)(),u=(0,p.useUserBnplTransaction)(l);(0,p.useUpdateProvisionedUserBnplTransactionsLocalStorage)(u);var g=(0,E.usePanelDisplayContext)()||{bnpl:{}},C=g.closePanelAndLogEvents,P=g.bnpl.setIsInBnplSubscription;(0,S.useSetBnplPanelHeight)({size:"large",setHeight:n});var w=(0,m.useShouldUseBnplTopBar)(),T=(0,d.useHasFeature)(d.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),O=function(){if(T)return null==P||P(!1),void(null==C||C("bnplSubscription"));o(!0),t&&"function"==typeof t&&t()},k=(0,d.useLocalizedTexts)().contentscript.bnpl.cardReady,A=(0,f.useGetFaqArticleUrl)();if(!u)return null;var N=function(){if(l){var e={offer:a,userBnplTransactionCreatedAt:l};(0,y.sendMessageToBackgroundScript)({message:"displayBnplCardReadyWidget",data:e})}O()},D=function(){if((0,h.checkIsOnMobileScreen)()&&l){var e={offer:a,userBnplTransactionCreatedAt:l};(0,y.sendMessageToBackgroundScript)({message:"displayBnplCardReadyWidget",data:e})}O()};return w?c.createElement(c.Fragment,null,c.createElement(v.BnplHeader,{close:D}),c.createElement(x.BodyContainerScrollArea,{style:{alignItems:"center",paddingBottom:70}},c.createElement("div",{style:{alignSelf:"flex-start",marginBottom:10}},c.createElement(x.BnplPanelTitle,{style:{marginTop:15}},k.title),c.createElement(B,i({},{offer:a,userBnplTransaction:u,user:s})),c.createElement(x.BnplPanelTitle,null,k.howItWorks.title),c.createElement(_,i({},{offer:a})),c.createElement(te,{href:A(x.JOKO_BNPL_FAQ_REFERENCES),target:"_blank",onClick:function(){return I(a.offerId,l)}},k.faq)),(0,h.checkIsOnMobileScreen)()?c.createElement(x.FixedButtonContainer,null,c.createElement(x.Button,{isFullWidth:!0,onClick:N},k.button)):null)):c.createElement(x.BodyContainer,{style:{alignItems:"center"}},c.createElement("div",{style:{alignSelf:"flex-start",marginBottom:10}},c.createElement(v.BnplHeader,{close:D}),c.createElement(x.BnplPanelTitle,null,k.title),c.createElement(B,i({},{offer:a,userBnplTransaction:u,user:s})),c.createElement(x.BnplPanelTitle,null,k.howItWorks.title),c.createElement(_,i({},{offer:a})),c.createElement(te,{href:A(x.JOKO_BNPL_FAQ_REFERENCES),target:"_blank",onClick:function(){return I(a.offerId,l)}},k.faq)),(0,h.checkIsOnMobileScreen)()?c.createElement(x.ButtonContainer,null,c.createElement(x.Button,{isFullWidth:!0,onClick:N},k.button)):null)};var C,P,w,T,O,k,A,N,D,L,M,j,z,F,R,U=u.default.div(C||(C=r(["\n    font-family: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-self: center;\n    align-items: center;\n    margin-top: 10px;\n    margin-bottom: 10px;\n"],["\n    font-family: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-self: center;\n    align-items: center;\n    margin-top: 10px;\n    margin-bottom: 10px;\n"])),d.fontFamilyAmbit),H=u.default.div(P||(P=r(["\n    width: 329px;\n    height: 207px;\n    background-image: url(",");\n    background-size: contain;\n"],["\n    width: 329px;\n    height: 207px;\n    background-image: url(",");\n    background-size: contain;\n"])),g.JOKO_CARD_BARE_ILLUSTRATION_URL),W=u.default.div(w||(w=r(["\n    height: 40px;\n    margin-top: 60px;\n    margin-right: 20px;\n"],["\n    height: 40px;\n    margin-top: 60px;\n    margin-right: 20px;\n"]))),G=u.default.div(T||(T=r(["\n    margin-top: 20px;\n    height: 40px;\n    padding-left: 15px;\n    justify-content: flex-end;\n"],["\n    margin-top: 20px;\n    height: 40px;\n    padding-left: 15px;\n    justify-content: flex-end;\n"]))),V=u.default.div(O||(O=r(["\n    background: linear-gradient(\n        180deg,\n        #ffffff 0%,\n        #d2d2d2 16.67%,\n        #ffffff 35.42%,\n        #bdbdbd 56.77%,\n        #ffffff 74.48%\n    );\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-clip: text;\n    text-fill-color: transparent;\n"],["\n    background: linear-gradient(\n        180deg,\n        #ffffff 0%,\n        #d2d2d2 16.67%,\n        #ffffff 35.42%,\n        #bdbdbd 56.77%,\n        #ffffff 74.48%\n    );\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-clip: text;\n    text-fill-color: transparent;\n"]))),K=(0,u.default)(V)(k||(k=r(["\n    font-family: ",";\n    font-weight: 900;\n    font-size: 30px;\n    line-height: 36px;\n    text-align: right;\n    color: ",";\n"],["\n    font-family: ",";\n    font-weight: 900;\n    font-size: 30px;\n    line-height: 36px;\n    text-align: right;\n    color: ",";\n"])),d.fontFamilyAmbit,d.colors.alabaster),J=(0,u.default)(V)(A||(A=r(["\n    font-family: ",";\n    font-weight: 700;\n    font-size: 12px;\n    line-height: 14px;\n    text-align: right;\n    color: ",";\n"],["\n    font-family: ",";\n    font-weight: 700;\n    font-size: 12px;\n    line-height: 14px;\n    text-align: right;\n    color: ",";\n"])),d.fontFamilyAmbit,d.colors.alabaster),X=(0,u.default)(V)(N||(N=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 24px;\n    color: ",";\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 24px;\n    color: ",";\n"])),d.fontFamilyAmbit,d.colors.alabaster),Z=(0,u.default)(V)(D||(D=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 24px;\n    color: ",";\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 24px;\n    color: ",";\n"])),d.fontFamilyAmbit,d.colors.alabaster),Y=u.default.div(L||(L=r(["\n    margin-top: 10px;\n    margin-bottom: 10px;\n"],["\n    margin-top: 10px;\n    margin-bottom: 10px;\n"]))),q=u.default.div(M||(M=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    margin-top: 8px;\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    margin-top: 8px;\n"]))),Q=u.default.div(j||(j=r(["\n    display: flex;\n    min-height: 30px;\n    min-width: 30px;\n    border-radius: 50%;\n    background-color: ",";\n    align-items: center;\n    align-self: center;\n    justify-content: center;\n    margin-right: 10px;\n"],["\n    display: flex;\n    min-height: 30px;\n    min-width: 30px;\n    border-radius: 50%;\n    background-color: ",";\n    align-items: center;\n    align-self: center;\n    justify-content: center;\n    margin-right: 10px;\n"])),d.colors.emerald),$=u.default.div(z||(z=r(["\n    font-family: ",";\n    font-weight: 900;\n    font-size: 16px;\n    line-height: 28px;\n    color: ",";\n"],["\n    font-family: ",";\n    font-weight: 900;\n    font-size: 16px;\n    line-height: 28px;\n    color: ",";\n"])),d.fontFamilyAmbit,d.colors.white),ee=u.default.div(F||(F=r(["\n    font-family: ",";\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 24px;\n    color: ",";\n    margin-left: 10px;\n"],["\n    font-family: ",";\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 24px;\n    color: ",";\n    margin-left: 10px;\n"])),d.fontFamilyAmbit,d.colors.black),te=u.default.a(R||(R=r(["\n    font-family: ",";\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 22px;\n    color: ",";\n    text-decoration: underline;\n    margin-top: 10px;\n"],["\n    font-family: ",";\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 22px;\n    color: ",";\n    text-decoration: underline;\n    margin-top: 10px;\n"])),d.fontFamilyAmbit,d.colors.emerald)},27800:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(96540)),d=c(n(95093)),f=n(2309),p=c(n(38267)),m=n(55015),g=n(14568),h=n(47615),b=n(47175),y=n(46239),v=n(51155),x=n(74648),S=n(13897),E=n(64777),B=n(97669),_=n(17551),I=n(59572);function C(e){var t=e.eligibilityInstallments,n=e.formattedAmount,r=e.merchantName;return u.createElement(u.Fragment,null,u.createElement(G,null,u.createElement("img",{src:b.STEPS_TO_COMPLETE_VERTICAL_ILLUSTRATION_URL,height:240,width:30}),u.createElement(V,null,t.map((function(e){return u.createElement(P,{key:e.rank.toString(),eligibilityInstallment:e})})))),u.createElement(w,i({},{merchantName:r})),u.createElement(T,i({},{formattedAmount:n})))}function P(e){var t=e.eligibilityInstallment,n=(0,m.useLocalizedTexts)().contentscript.bnpl.eligibilitySchedule;if(!t.amount)return null;var r=1===t.rank,i=r?n.today:n.date({date:d.default.utc(t.date||void 0)}),a=(0,m.formatCurrencyAmount)({localizedFormat:m.frFormat,number:t.amount/100});return u.createElement(u.Fragment,null,u.createElement(K,{style:{backgroundColor:r?m.colors.hintOfGreen:m.colors.white}},u.createElement("div",{style:{paddingLeft:10}},u.createElement(q,{style:{fontWeight:r?700:600}},n.payAmount({formattedAmount:a})),u.createElement(Q,{style:{color:r?m.colors.malachite:m.colors.gray}},i))))}function w(e){var t=e.merchantName,n=(0,m.useLocalizedTexts)().contentscript.bnpl.eligibilitySchedule;return u.createElement(J,null,u.createElement($,null,n.debitInfo({merchantName:t})))}function T(e){var t=e.formattedAmount,n=(0,m.useLocalizedTexts)().contentscript.bnpl.eligibilitySchedule;return u.createElement(X,null,u.createElement(Z,null,u.createElement(ee,null,n.totalAmount),u.createElement("div",{style:{flex:1}},u.createElement(te,null,t))),u.createElement("div",{style:{display:"flex",flexDirection:"row"}},u.createElement("div",null,u.createElement(ne,null,n.noFee),u.createElement(ne,null,n.payByCard)),u.createElement(Y,null,u.createElement(I.VisaIcon,{style:{height:"1rem"}}),u.createElement(_.MasterCardIcon,{style:{height:"1.7rem"}}))))}function O(e){var t=e.onPress,n=e.isLoading,r=(0,m.useLocalizedTexts)().contentscript.bnpl.eligibilitySchedule;return u.createElement(x.ButtonContainer,null,u.createElement(x.Button,{isFullWidth:!0,onClick:t,disabled:n},n?u.createElement(x.LoadingIndicatorContainer,null,u.createElement(f.TailSpin,{width:24,height:24,color:m.colors.white})):r.button))}t.default=function(e){var t=e.setHeight,n=(0,S.useBnplNavigationContext)(),r=n.offer,a=n.closeBnplPanelAndLogEvents,o=n.userBnplTransactionCreatedAt,l=(0,g.useUserBnplTransaction)(o),c=s(u.useState(!1),2),d=c[0],p=c[1],b=s(u.useState(!1),2),E=b[0],_=b[1];(0,S.useSetBnplPanelHeight)({size:"large",setHeight:t,maximumHeight:580}),(0,h.usePaymentSessionNavigation)({setIsLoading:_,userBnplTransactionCreatedAt:o,hasPressedContinue:d});var I=(0,h.useShouldUseBnplTopBar)(),P=(0,m.useLocalizedTexts)().contentscript.bnpl.eligibilitySchedule,w=(0,m.useHasFeature)(m.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),T=(0,B.usePanelDisplayContext)()||{bnpl:{}},k=T.closePanelAndLogEvents,A=T.bnpl.setIsInBnplSubscription,N=function(){var e=(0,S.useBnplNavigationContext)(),t=e.offer,n=e.setCurrentBnplScreenNameAndLogEvents,r=e.userBnplTransactionCreatedAt,i=e.hasSkippedUserInfoPanel;return function(){var e={offerId:t.offerId,userBnplTransactionCreatedAt:r,fromScreen:m.BnplScreenName.eligibilityScheduleScreen};(0,y.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedBnplSubscriptionFlowBackButton",payload:e}}}),(0,y.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Clicked BNPL Subscription Flow Back Button",properties:e}}}),n({screenName:i?m.BnplScreenName.pricePaddingScreen:m.BnplScreenName.userInfoScreen})}}(),D=function(){_(!0),p(!0),function(e,t){var n={offerId:e,userBnplTransactionCreatedAt:t};(0,y.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"acknowledgedBnplPaymentSchedule",payload:n}}}),(0,y.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Acknowledged payment schedule",properties:n}}})}(r.offerId,o)},L=(0,g.checkIsFloaEligibilityAccepted)(l),M=L?(0,m.formatCurrencyAmount)({localizedFormat:m.frFormat,number:l.amount.valueInCents/100}):"",j=function(){w?(null==A||A(!1),null==k||k("bnplSubscription")):a()};return I?u.createElement(u.Fragment,null,u.createElement(v.BnplHeader,i({},{close:j,goBack:N})),u.createElement(x.BodyContainerScrollArea,{style:{alignItems:"center",justifyContent:L?"flex-start":"center"}},L?u.createElement(u.Fragment,null,u.createElement("div",{style:{alignSelf:"flex-start",marginBottom:5}},u.createElement(x.BnplPanelTitle,{style:{marginTop:10}},P.title),u.createElement(C,i({eligibilityInstallments:l.floaEligibilityInstallmentSchedule.eligibilityInstallments,merchantName:r.screen.title},{formattedAmount:M}))),u.createElement(O,i({},{onPress:D,isLoading:E}))):u.createElement(x.LoadingIndicatorContainer,null,u.createElement(f.TailSpin,{width:50,height:50,color:m.colors.black})))):L?u.createElement(x.BodyContainer,{style:{alignItems:"center"}},u.createElement("div",{style:{alignSelf:"flex-start",marginBottom:5}},u.createElement(v.BnplHeader,i({},{close:j,goBack:N})),u.createElement(x.BnplPanelTitle,null,P.title),u.createElement(C,i({eligibilityInstallments:l.floaEligibilityInstallmentSchedule.eligibilityInstallments,merchantName:r.screen.title},{formattedAmount:M}))),u.createElement(O,i({},{onPress:D,isLoading:E}))):null};var k,A,N,D,L,M,j,z,F,R,U,H,W,G=p.default.div(k||(k=r(["\n    display: flex;\n    flex-direction: row;\n"],["\n    display: flex;\n    flex-direction: row;\n"]))),V=p.default.div(A||(A=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n"]))),K=p.default.div(N||(N=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin-top: 15px;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    border-radius: 10px;\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin-top: 15px;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    border-radius: 10px;\n"]))),J=p.default.div(D||(D=r(["\n    padding-left: 10px;\n"],["\n    padding-left: 10px;\n"]))),X=p.default.div(L||(L=r(["\n    background-color: ",";\n    margin-top: 20px;\n    margin-bottom: 10px;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    padding-left: 20px;\n    padding-right: 20px;\n    border-radius: 10px;\n"],["\n    background-color: ",";\n    margin-top: 20px;\n    margin-bottom: 10px;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    padding-left: 20px;\n    padding-right: 20px;\n    border-radius: 10px;\n"])),m.colors.alabaster),Z=(0,p.default)(E.CenteredContainer)(M||(M=r(["\n    flex-direction: row;\n    margin-bottom: 10px;\n"],["\n    flex-direction: row;\n    margin-bottom: 10px;\n"]))),Y=p.default.div(j||(j=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-end;\n    gap: 10px;\n\n    & > svg {\n        flex-shrink: 0;\n    }\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-end;\n    gap: 10px;\n\n    & > svg {\n        flex-shrink: 0;\n    }\n"]))),q=p.default.div(z||(z=r(["\n    font-family: ",";\n    font-size: 16px;\n    line-height: 24px;\n    color: ",";\n"],["\n    font-family: ",";\n    font-size: 16px;\n    line-height: 24px;\n    color: ",";\n"])),m.fontFamilyAmbit,m.colors.black),Q=p.default.div(F||(F=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 22px;\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 22px;\n"])),m.fontFamilyAmbit),$=p.default.div(R||(R=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 22px;\n    color: ",";\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 22px;\n    color: ",";\n"])),m.fontFamilyAmbit,m.colors.black),ee=p.default.div(U||(U=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 18px;\n    line-height: 34px;\n    color: ",";\n    text-align: right;\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 18px;\n    line-height: 34px;\n    color: ",";\n    text-align: right;\n"])),m.fontFamilyAmbit,m.colors.black),te=p.default.div(H||(H=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 24px;\n    line-height: 34px;\n    color: ",";\n    text-align: right;\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 24px;\n    line-height: 34px;\n    color: ",";\n    text-align: right;\n"])),m.fontFamilyAmbit,m.colors.black),ne=p.default.div(W||(W=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 18px;\n    color: ",";\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 18px;\n    color: ",";\n"])),m.fontFamilyAmbit,m.colors.doveGray)},41976:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=l(n(96540)),f=n(48287),p=n(2309),m=u(n(38267)),g=n(55015),h=n(14568),b=n(47615),y=n(26368),v=n(46239),x=n(51155),S=n(74648),E=n(13897),B=n(97669);function _(e){var t=e.paymentPageUrl,n=e.offerId,r=e.userBnplTransactionCreatedAt,i=(0,g.useLocalizedTexts)().contentscript.bnpl.floaPayment.reopenPaymentPage,a=d.useRef([]);return d.useEffect((function(){return function(){var e,t;try{for(var n=c(a.current),r=n.next();!r.done;r=n.next()){var i=r.value;i&&(0,v.sendMessageToBackgroundScript)({message:"closeTab",data:{tabId:i}})}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}}}),[a]),t?d.createElement(O,null,d.createElement(k,null,i.text,d.createElement(A,{onClick:function(){t&&(!function(e,t){var n={offerId:e,userBnplTransactionCreatedAt:t};(0,v.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"reopenedBnplFloaPaymentPage",payload:n}}}),(0,v.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Reopened Floa Payment Page",properties:n}}})}(n,r),(0,v.sendMessageToBackgroundScript)({message:"openTab",data:{url:t}},(function(e){return a.current.push(e.id)})))}},i.link))):null}t.default=function(){var e=(0,E.useBnplNavigationContext)(),t=e.offer,n=e.userBnplTransactionCreatedAt,r=e.closeBnplPanelAndLogEvents,a=(0,g.useLocalizedTexts)().contentscript.bnpl.floaPayment,o=(0,b.useShouldUseBnplTopBar)(),l=(0,h.useUserBnplTransactionWithPolling)(n),c=l.userBnplTransaction,u=l.startPolling,m=l.stopPolling;(0,b.useFloaPaymentNavigation)({offerId:t.offerId,userBnplTransaction:c,startPollingUserBnplTransaction:u,stopPollingUserBnplTransaction:m});var y=function(e){var t=e.userBnplTransaction,n=s(d.useState(void 0),2),r=n[0],i=n[1],a=(0,g.useUserRegion)();if(d.useEffect((function(){(0,g.checkIsOnDevStack)().then(i)}),[]),!(void 0!==r&&t&&t.lastFloaPaymentSession&&t.lastFloaPaymentSession.sessionId&&t.lastFloaPaymentSession.sessionUrl))return;var o=r?"https://dev.app.joko.com/floa-payment-page-with-url-params":"https://app.joko.com/floa-payment-page-with-url-params";return o+="?paymentSessionId=".concat(t.lastFloaPaymentSession.sessionId)+"&base64EncodedPaymentSessionUrl=".concat(function(e){return f.Buffer.from(e,"binary").toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]+$/,"")}(t.lastFloaPaymentSession.sessionUrl))+"&stackMode=".concat(r?"dev":"prod")+"&userId=".concat(t.userId)+"&region=".concat(a),o}({userBnplTransaction:c}),I=(0,B.usePanelDisplayContext)()||{bnpl:{}},C=I.closePanelAndLogEvents,P=I.bnpl.setIsInBnplSubscription,w=(0,g.useHasFeature)(g.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions);d.useEffect((function(){if(y&&(!(null==c?void 0:c.lastFloaPaymentSession)||"created"===c.lastFloaPaymentSession.status)){var e,t=setTimeout((function(){(0,v.sendMessageToBackgroundScript)({message:"openTab",data:{url:y}},(function(t){return e=t.id}))}),2500);return function(){e&&(0,v.sendMessageToBackgroundScript)({message:"closeTab",data:{tabId:e}}),clearTimeout(t)}}}),[y]);var O=function(){var e=(0,E.useBnplNavigationContext)(),t=e.offer,n=e.userBnplTransactionCreatedAt,r=e.setCurrentBnplScreenNameAndLogEvents;return function(){var e={offerId:t.offerId,userBnplTransactionCreatedAt:n,fromScreen:g.BnplScreenName.floaPaymentScreen};(0,v.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedBnplSubscriptionFlowBackButton",payload:e}}}),(0,v.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Clicked BNPL Subscription Flow Back Button",properties:e}}}),r({screenName:g.BnplScreenName.eligibilityScheduleScreen})}}();if(!(0,h.checkIsFloaEligibilityAccepted)(c)||!(0,h.checkIsFloaPaymentSessionReady)(c))return null;var A=function(){w?(null==P||P(!1),null==C||C("bnplSubscription")):r()};return o?d.createElement(d.Fragment,null,d.createElement(x.BnplHeader,i({},{close:A,goBack:O})),d.createElement(S.BodyContainer,{style:{justifyContent:"center",paddingBottom:100}},d.createElement(T,null,d.createElement(S.LoadingIndicatorContainer,{style:{marginTop:60,marginBottom:50}},d.createElement(p.TailSpin,{width:50,height:50,color:g.colors.black})),d.createElement(k,null,a.enterYourCardInNewPage),d.createElement(_,i({},{paymentPageUrl:y}))))):d.createElement(S.BodyContainer,null,d.createElement(x.BnplHeader,i({},{close:A,goBack:O})),d.createElement(T,null,d.createElement("div",{style:{marginTop:60,marginBottom:50}},d.createElement(S.LoadingIndicatorContainer,null,d.createElement(p.TailSpin,{width:50,height:50,color:g.colors.black}))),d.createElement(k,null,a.enterYourCardInNewPage),d.createElement(_,i({},{paymentPageUrl:y}))))};var I,C,P,w,T=m.default.div(I||(I=r(["\n    margin-top: 50px;\n    margin-bottom: 30px;\n"],["\n    margin-top: 50px;\n    margin-bottom: 30px;\n"]))),O=m.default.div(C||(C=r(["\n    margin-top: 30px;\n"],["\n    margin-top: 30px;\n"]))),k=m.default.div(P||(P=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 24px;\n    color: ",";\n    text-align: center;\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 24px;\n    color: ",";\n    text-align: center;\n"])),g.fontFamilyAmbit,g.colors.black),A=m.default.div(w||(w=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 24px;\n    color: ",";\n    text-decoration: underline;\n    ","\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 24px;\n    color: ",";\n    text-decoration: underline;\n    ","\n"])),g.fontFamilyAmbit,g.colors.emerald,y.CLICKABLE_ELEMENT_CSS_MIXIN)},14961:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(96540)),d=c(n(38267)),f=n(55015),p=n(64242),m=n(47615),g=n(32668),h=n(31229),b=n(46239),y=n(74617),v=n(51155),x=n(74648),S=n(13897),E=l(n(97669));function B(e){var t=e.offerId,n=(0,f.useLocalizedTexts)().contentscript.bnpl.priceInput,r=(0,p.useGetFaqArticleUrl)();return u.createElement(x.KnowMoreLink,i({},{onClick:function(){var e={offerId:t,fromScreen:"priceInputScreen"};(0,b.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"openedBnplFaq",payload:e}}}),(0,b.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Opened FAQ",properties:e}}})},href:r(x.JOKO_BNPL_FAQ_REFERENCES),target:"_blank"}),n.knowMore)}t.default=function(e){var t=e.setHeight,n=(0,S.useBnplNavigationContext)(),r=n.offer,a=n.priceInCents,o=n.setPriceInCents,l=n.closeBnplPanelAndLogEvents,c=n.isFromBnplSuggestionAtCheckoutWidget,d=E.usePanelDisplayContext()||{bnpl:{}},p=d.closePanelAndLogEvents,_=d.bnpl.isFromBnplSuggestionAtCheckoutWidget;(0,h.useUser)();var C=s(u.useState(a?(a/100).toString():""),2),P=C[0],w=C[1],T=u.useMemo(g.checkIsOnMobileScreen,[]),O=(0,f.useHasFeatureByPlatform)({isMobileExtension:T,desktopFeature:f.Feature.bnplV2InDesktopBrowserExtension,mobileFeature:f.Feature.bnplV2InMobileBrowserExtension}),k=s(u.useState(!!a),2),N=k[0],M=k[1],j=function(e){var t=s(u.useState(50),2),n=t[0],r=t[1],i=s(u.useState(1e3),2),a=i[0],o=i[1],l=(0,f.useSetting)({settingKey:f.SettingKey.bnplPriceRangeByMerchantIdMap});return u.useEffect((function(){if(l){var t=l[e.merchantId];if(t)try{var n=s(t.split("-").map(Number),2),i=n[0],a=n[1];isNaN(i)||r(i),isNaN(a)||o(a)}catch(e){console.error(e)}}}),[l]),{minimumPrice:n,maximumPrice:a}}(r),z=j.minimumPrice,F=j.maximumPrice,R=s(function(e){var t=e.inputPrice,n=e.setBnplPriceInCentsForNavigation,r=e.setIsNextButtonEnabled,i=e.isBnplV2Enabled,a=e.minimumPrice,o=e.maximumPrice,l=s(u.useState(void 0),2),c=l[0],d=l[1],f=s(u.useState(0),2),p=f[0],m=f[1];return u.useEffect((function(){if(isNaN(Number(t))||((e=Number(t))%1!=0?e.toString().split(".")[1].length:0)>2)return d("invalidEntry"),void m(0);var e,l=Number(t);return l>o?(d("aboveMax"),m(0),void(i&&r(!1))):l<a?(d("belowMin"),void m(0)):(d(void 0),void(""!==t?(m(Math.round(100*l)),n(Math.round(100*l))):m(0)))}),[t]),[p,c]}({inputPrice:P,setBnplPriceInCentsForNavigation:o,setIsNextButtonEnabled:M,isBnplV2Enabled:O,minimumPrice:z,maximumPrice:F}),2),U=R[0],H=R[1],W=(0,m.useShouldUseBnplTopBar)(),G=(0,f.useLocalizedTexts)().contentscript.bnpl.priceInput,V=function(e){var t=e.resolvedPriceInCents,n=e.setIsNextButtonEnabled,r=e.invalidInputPriceReason,i=e.offerId,a=(0,S.useBnplNavigationContext)().setCurrentBnplScreenNameAndLogEvents,o={offerId:i,price:(t/100).toString()},l=function(){if((0,b.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"submittedBnplPrice",payload:o}}}),(0,b.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Submitted Price",properties:o}}}),r)return(0,b.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"submittedInvalidBnplPrice",payload:o}}}),(0,b.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Submitted Invalid Price",properties:o}}}),void n(!1);a({screenName:f.BnplScreenName.pricePaddingScreen})};return l}({resolvedPriceInCents:U,setIsNextButtonEnabled:M,invalidInputPriceReason:H,offerId:r.offerId}),K=(0,f.useHasFeature)(f.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),J=function(){P&&!H?V():M(!1)};(0,S.useSetBnplPanelHeight)({size:"small",setHeight:t});var X=function(e){var t=(0,S.useBnplNavigationContext)(),n=t.offer,r=t.tabId,i=t.closeBnplPanelAndLogEvents,a=(E.usePanelDisplayContext()||{bnpl:{}}).bnpl,o=a.setIsInBnplSubscription,l=a.setHasNavigatedAwayFromUnfinishedBnplSubscription;return e?function(){null==o||o(!1),null==l||l(!0),(0,S.removeUnfinishedBnplSubscriptionStateInLocalStorage)(r)}:function(){i(!0),(0,y.displayPanelAndLogEvents)({offer:n,bnpl:{isBnplSectionEnabledForOffer:!0},isTemporaryUser:!1,userOfferActivationInfo:void 0,defaultPanelLocationOverride:{panelTab:f.PanelTab.offerDetails,offerDetailsSection:f.OfferDetailsSection.bnpl}},"bnplWidget")}}(K),Z=function(){K?null==p||p("bnplSubscription"):l()},Y=!(!P||!H||N&&(!O||"aboveMax"!==H)),q=K?_:c,Q=function(){return u.createElement(u.Fragment,null,u.createElement(x.BnplPanelContentTitleRedesigned,null,G.title),u.createElement(x.BnplPanelSmallContent,{style:{paddingRight:16}},G.subtitle," ",u.createElement(B,{offerId:r.offerId})),u.createElement(A,null,u.createElement(D,null,G.priceInputHeader),u.createElement("div",{style:{width:"100%"}},u.createElement(I,i({},{priceInCents:a,inputPrice:P,setInputPrice:w,onPressEnter:J,shouldShowPriceInvalidMessage:Y,invalidInputPriceReason:H,setIsNextButtonEnabled:M,isMobileExtension:!!t}))),Y?u.createElement(L,{style:{color:f.colors.flamingo}},"aboveMax"===H?"".concat(G.inputPriceValidation.aboveMax," ").concat((0,f.formatCurrencyAmount)({localizedFormat:f.frFormat,number:F})):"belowMin"===H?"".concat(G.inputPriceValidation.belowMin," ").concat((0,f.formatCurrencyAmount)({localizedFormat:f.frFormat,number:z})):G.inputPriceValidation.invalidEntry):null),u.createElement(x.FixedButtonContainer,null,u.createElement(x.Button,{isFullWidth:!0,disabled:!N,onClick:V},G.button)))};return W?u.createElement(u.Fragment,null,u.createElement(v.BnplHeader,i({},{close:Z},{goBack:q&&O?void 0:X})),u.createElement(x.BodyContainer,null,Q())):u.createElement(x.BodyContainer,null,u.createElement(v.BnplHeader,i({},{close:Z})),Q())};var _=2;function I(e){var t=e.priceInCents,n=e.inputPrice,r=e.setInputPrice,a=e.onPressEnter,o=e.shouldShowPriceInvalidMessage,l=e.invalidInputPriceReason,c=e.setIsNextButtonEnabled,d=e.isMobileExtension,p=(0,f.useUserRegion)(),m=(0,f.getLocalizedFormat)(p),g=u.useRef(null),h=(0,f.useLocalizedTexts)().contentscript.bnpl.priceInput,b=s(u.useState(t?(0,f.formatCurrencyAmount)({localizedFormat:m,number:t/100}):""),2),y=b[0],v=b[1];!function(e,t,n){u.useEffect((function(){var r,i,a=e.current,o=function(e){if(a&&!n)switch(e.key){case"ArrowRight":if(t.currency.shouldSymbolComeInFront)return;r=a.selectionStart||0,i=a.value.indexOf("".concat(t.currency.separator).concat(t.currency.symbol)),r>=i&&e.preventDefault();break;case"ArrowLeft":if(!t.currency.shouldSymbolComeInFront)return;r=a.selectionStart||0;var o="".concat(t.currency.symbol).concat(t.currency.separator).length;r===o&&e.preventDefault();break;case"ArrowDown":if(t.currency.shouldSymbolComeInFront)return;e.preventDefault();break;case"ArrowUp":if(!t.currency.shouldSymbolComeInFront)return;e.preventDefault()}};return a&&a.addEventListener("keydown",o),function(){a&&a.removeEventListener("keydown",o)}}),[])}(g,m,d);var x=function(e){return new RegExp("."===e.number.format.separator?"\\.":e.number.format.separator,"g")}(m),S=P(m);return u.createElement(N,i({},{shouldShowPriceInvalidMessage:o,isMobileExtension:d},{ref:g,inputMode:"decimal",type:"text",value:y,placeholder:h.priceInputPlaceholder,onChange:function(e){var t=function(e,t){var n=e.replace(/[^0-9.,]/g,"").replace(/($| |)/g,""),r=n.indexOf(t.number.format.separator);-1!==r&&n.substring(r+1).length>_&&(n=n.substring(0,r+1+_));/^[.,]/.test(n)&&(n="");return n}(e.target.value,m);r(t.replace(x,".").replace(S,""));var n=function(e,t){if(!e)return"";var n=P(t),r=e.replace(n,"").replace(/(\.|,)/g,t.number.format.separator).replace(/\B(?=(\d{3})+(?!\d))/g,t.number.format.delimiter);return t.currency.shouldSymbolComeInFront?"".concat(t.currency.symbol).concat(t.currency.separator)+"".concat(r):"".concat(r)+"".concat(t.currency.separator).concat(t.currency.symbol)}(t,m);v(n),c(!!t),setTimeout((function(){return C(g,m)}),0)},onClick:function(){return C(g,m)},onKeyPress:function(e){"Enter"===e.key&&(g.current&&g.current.blur(),a())},onBlur:function(){n&&l&&c(!1)}}))}function C(e,t){var n=e.current;if(n){var r=t.currency.shouldSymbolComeInFront?n.value.length:n.value.lastIndexOf("".concat(t.currency.separator).concat(t.currency.symbol))||n.value.length;n.setSelectionRange(r,r)}}function P(e){return new RegExp("."===e.number.format.delimiter?"\\.":e.number.format.delimiter,"g")}var w,T,O,k,A=d.default.div(w||(w=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),N=d.default.input(T||(T=r(["\n    align-items: center;\n    align-self: center;\n    box-sizing: border-box; /* Allows to be exactly 100% as wide as its parent */\n    width: 100%;\n    height: 56px;\n    padding-left: 10px;\n    border-radius: 8px;\n    border-color: ",";\n    border-style: solid;\n    border-width: 2px;\n    background-color: ",";\n    font-family: ",";\n    font-weight: 600;\n    font-size: ","px; /* Has to be greater or equal than 16px to prevent iOS Safari from auto-zooming */\n    line-height: 24px;\n\n    ::placeholder {\n        color: ",";\n    }\n\n    &:focus {\n        outline: none;\n        border-color: ",";\n    }\n"],["\n    align-items: center;\n    align-self: center;\n    box-sizing: border-box; /* Allows to be exactly 100% as wide as its parent */\n    width: 100%;\n    height: 56px;\n    padding-left: 10px;\n    border-radius: 8px;\n    border-color: ",";\n    border-style: solid;\n    border-width: 2px;\n    background-color: ",";\n    font-family: ",";\n    font-weight: 600;\n    font-size: ","px; /* Has to be greater or equal than 16px to prevent iOS Safari from auto-zooming */\n    line-height: 24px;\n\n    ::placeholder {\n        color: ",";\n    }\n\n    &:focus {\n        outline: none;\n        border-color: ",";\n    }\n"])),(function(e){return e.shouldShowPriceInvalidMessage?f.colors.flamingo:f.colors.gallery}),(function(e){return e.shouldShowPriceInvalidMessage?"#FFE8E1":""}),f.fontFamilyAmbit,(function(e){return e.isMobileExtension?16:14}),f.colors.silverChalice,(function(e){return e.shouldShowPriceInvalidMessage?"":f.colors.emerald})),D=d.default.div(O||(O=r(["\n    align-self: start;\n    margin-top: 16px;\n    margin-bottom: 10px;\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 16.8px;\n"],["\n    align-self: start;\n    margin-top: 16px;\n    margin-bottom: 10px;\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 16.8px;\n"])),f.fontFamilyAmbit),L=d.default.div(k||(k=r(["\n    align-self: start;\n    margin-top: 8px;\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 16.8px;\n"],["\n    align-self: start;\n    margin-top: 8px;\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 16.8px;\n"])),f.fontFamilyAmbit)},28916:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(96540)),d=n(2309),f=c(n(38267)),p=n(55015),m=n(64242),g=n(14568),h=n(47615),b=n(47175),y=n(46239),v=n(51155),x=n(74648),S=n(13897),E=n(97669);function B(e){var t=e.offerId,n=(0,p.useLocalizedTexts)().contentscript.bnpl.priceInput,r=(0,m.useGetFaqArticleUrl)();return u.createElement(x.KnowMoreLink,i({},{onClick:function(){var e={offerId:t,fromScreen:"pricePaddingScreen"};(0,y.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"openedBnplFaq",payload:e}}}),(0,y.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Opened FAQ",properties:e}}})},href:r(x.JOKO_BNPL_LOWER_AMOUNT_FAQ_REFERENCES),target:"_blank"}),n.knowMore)}function _(e){var t=e.originalPriceInCents,n=e.setBnplPriceInCentsForNavigation,r=e.isLoading,a=(0,S.useBnplNavigationContext)(),o=a.isPricePaddingApplied,l=a.setIsPricePaddingApplied,s=(0,p.useLocalizedTexts)().contentscript.bnpl.pricePadding;return u.createElement(O,i({},{isLoading:r},{style:{marginTop:20},onClick:function(){r||(l(!1),n(t))}}),o?u.createElement(N,{src:b.RADIO_BUTTON_UNCHECKED_GRAY}):u.createElement(N,{src:b.RADIO_BUTTON_CHECKED_GREEN}),u.createElement(k,null,u.createElement(A,{style:{fontWeight:600,marginBottom:2}},s.noPricePadding),u.createElement(A,{style:{fontWeight:400}},(0,p.formatCurrencyAmount)({localizedFormat:p.frFormat,number:t/100}))))}function I(e){var t=e.originalPriceInCents,n=e.pricePaddingAmount,r=e.setBnplPriceInCentsForNavigation,a=e.isLoading,o=(0,S.useBnplNavigationContext)(),l=o.isPricePaddingApplied,s=o.setIsPricePaddingApplied,c=(0,p.useLocalizedTexts)().contentscript.bnpl.pricePadding;return u.createElement(O,i({},{isLoading:a},{style:{marginTop:12},onClick:function(){a||(s(!0),r(t+100*n))}}),l?u.createElement(N,{src:b.RADIO_BUTTON_CHECKED_GREEN}):u.createElement(N,{src:b.RADIO_BUTTON_UNCHECKED_GRAY}),u.createElement(k,null,u.createElement(A,{style:{fontWeight:600,marginBottom:2}},c.addPricePadding({pricePaddingAmount:n})),u.createElement(A,{style:{fontWeight:400}},(0,p.formatCurrencyAmount)({localizedFormat:p.frFormat,number:t/100+n}))))}t.default=function(e){var t=e.setHeight,n=(0,S.useBnplNavigationContext)(),r=n.offer,a=n.setUserBnplTransactionCreatedAt,o=n.priceInCents,l=n.setPriceInCents,c=n.isPricePaddingApplied,f=n.closeBnplPanelAndLogEvents,m=function(){var e=(0,p.useSetting)({settingKey:p.SettingKey.bnplPricePaddingAmount});return e||5}(),b=(0,h.useShouldUseBnplTopBar)(),C=(0,p.useLocalizedTexts)().contentscript.bnpl.pricePadding,P=s(u.useState(c?o-100*m:o),1)[0],w=s(function(e){var t=e.setUserBnplTransactionCreatedAtForNavigation,n=e.offerId,r=e.pricePaddingAmount,i=(0,S.useBnplNavigationContext)(),a=i.setCurrentBnplScreenNameAndLogEvents,o=i.priceInCents,l=i.isPricePaddingApplied,s=i.setHasSkippedUserInfoPanel,c=(0,g.useBnplUserInformation)().isBnplUserInformationValid,d=(0,g.useCreateUserBnplTransactionStartPollingAndHandleNavigation)({offerId:n}),f=d.createUserBnplTransactionStartPollingAndHandleNavigation,m=d.userBnplTransactionCreatedAt,h=d.isLoading,b=d.setIsLoading;u.useEffect((function(){m&&t(m)}),[m]);var v={offerId:n,isPricePaddingApplied:l,pricePaddingAmount:r},x=function(){(0,y.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"submittedBnplPricePaddingChoice",payload:v}}}),(0,y.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Submitted Price Padding Choice",properties:v}}}),c?(s(!0),function(e){var t=e.priceInCents,n=e.createUserBnplTransactionStartPollingAndHandleNavigation,r=e.setIsLoading;r(!0),n(t)}({priceInCents:o,createUserBnplTransactionStartPollingAndHandleNavigation:f,setIsLoading:b})):a({screenName:p.BnplScreenName.userInfoScreen})};return[h,x]}({setUserBnplTransactionCreatedAtForNavigation:a,offerId:r.offerId,pricePaddingAmount:m}),2),T=w[0],O=w[1];(0,S.useSetBnplPanelHeight)({size:"small",setHeight:t});var k=(0,p.useHasFeature)(p.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),A=((0,E.usePanelDisplayContext)()||{}).closePanelAndLogEvents,N=function(){var e=(0,S.useBnplNavigationContext)(),t=e.offer,n=e.setCurrentBnplScreenNameAndLogEvents,r=e.setIsPricePaddingApplied;return function(){var e=p.BnplScreenName.pricePaddingScreen,i={offerId:t.offerId,fromScreen:e};(0,y.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedBnplSubscriptionFlowBackButton",payload:i}}}),(0,y.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Clicked BNPL Subscription Flow Back Button",properties:i}}}),r(!1),n({screenName:p.BnplScreenName.priceInputScreen})}}(),D=function(){k?null==A||A("bnplSubscription"):f()},L=function(){return u.createElement(u.Fragment,null,u.createElement(x.BnplPanelContentTitleRedesigned,null,C.title),u.createElement(x.BnplPanelSmallContent,{style:{paddingRight:16}},C.subtitle," ",u.createElement(B,{offerId:r.offerId})),u.createElement(_,i({},{originalPriceInCents:P,setBnplPriceInCentsForNavigation:l,isLoading:T})),u.createElement(I,i({},{originalPriceInCents:P,pricePaddingAmount:m||5,setBnplPriceInCentsForNavigation:l,isLoading:T})),u.createElement(x.FixedButtonContainer,null,u.createElement(x.Button,{isFullWidth:!0,disabled:T,onClick:O},T?u.createElement(x.LoadingIndicatorContainer,{style:{minWidth:40}},u.createElement(d.TailSpin,{width:24,height:24,color:p.colors.white})):u.createElement(u.Fragment,null,C.button))))};return b?u.createElement(u.Fragment,null,u.createElement(v.BnplHeader,i({},{close:D,goBack:N})),u.createElement(x.BodyContainer,null,L())):u.createElement(x.BodyContainer,null,u.createElement(v.BnplHeader,i({},{close:D,goBack:N})),L())};var C,P,w,T,O=f.default.div(C||(C=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    height: 46px;\n    opacity: ",";\n    border-radius: 5px;\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    height: 46px;\n    opacity: ",";\n    border-radius: 5px;\n    background-color: ",";\n"])),(function(e){return e.isLoading?.4:1}),p.colors.athensGray),k=f.default.div(P||(P=r(["\n    display: flex;\n    flex-direction: column;\n    font-family: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    font-family: ",";\n"])),p.fontFamilyAmbit),A=f.default.div(w||(w=r(["\n    align-self: start;\n    font-family: ",";\n    font-size: 14px;\n    line-height: 16.8px;\n"],["\n    align-self: start;\n    font-family: ",";\n    font-size: 14px;\n    line-height: 16.8px;\n"])),p.fontFamilyAmbit),N=f.default.img(T||(T=r(["\n    height: 20px;\n    object-fit: contain;\n    padding-right: 8px;\n    padding-left: 12px;\n"],["\n    height: 20px;\n    object-fit: contain;\n    padding-right: 8px;\n    padding-left: 12px;\n"])))},44397:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=l(n(96540)),p=d(n(95093)),m=n(2309),g=d(n(38267)),h=n(55015),b=n(14568),y=n(47615),v=n(47175),x=n(70992),S=n(17621),E=n(31229),B=n(46239),_=n(51155),I=n(74648),C=n(13897),P=d(n(24375)),w=n(58529),T=n(97669);function O(e){var t=e.onGoBack,n=e.onClose;return f.createElement(M,null,t?f.createElement(I.BackIcon,{src:v.CHEVRON_LEFT_STRAIGHT_ICON_URL,onClick:t,style:{marginLeft:-6}}):f.createElement("div",null),n?f.createElement(I.CrossIcon,{src:v.CROSS_BLACK_ICON_URL,onClick:n}):null)}function k(e){var t=e.offer,n=e.isLoading,r=e.isBeforeFirstAttempt,a=e.bnplUserInformation,o=e.isBnplUserInformationValid,l=e.userBnplTransactionCreatedAt,s=e.onPress,c=e.setFirstInvalidInputId,u=(0,h.useLocalizedTexts)().contentscript.bnpl.userInfo,d=f.useRef(null);return f.useEffect((function(){n&&d.current&&d.current.scrollIntoView({behavior:"smooth"})}),[n]),f.createElement(f.Fragment,null,f.createElement(I.BnplPanelTitle,{style:{marginTop:10}},u.title),f.createElement(j,null,u.subtitle),f.createElement(P.default,i({},i(i({},a),{isLoading:n,isBeforeFirstAttempt:r,setFirstInvalidInputId:c}))),f.createElement(w.FloaTermsOfService,i({},{userBnplTransactionCreatedAt:l},{buttonName:u.button.toLowerCase(),offerId:t.offerId,fromScreen:"userInfoScreen"})),f.createElement("div",{ref:d,style:{height:50}}),f.createElement(I.FixedButtonContainer,null,f.createElement(I.Button,{isFullWidth:!0,onClick:s,disabled:n,style:{opacity:!n&&o?1:.4}},n?f.createElement(I.LoadingIndicatorContainer,null,f.createElement(m.TailSpin,{width:24,height:24,color:h.colors.white})):u.button)))}t.default=function(e){var t=e.setHeight,n=(0,C.useBnplNavigationContext)(),r=n.offer,a=n.closeBnplPanelAndLogEvents,o=n.setUserBnplTransactionCreatedAt,l=n.priceInCents,d=(0,b.useBnplUserInformation)(),m=d.bnplUserInformation,g=d.isBnplUserInformationValid,v=u(f.useState(!0),2),P=v[0],w=v[1],A=u(f.useState(void 0),2),N=A[0],M=A[1],j=u(function(e){var t=this,n=e.isBnplUserInformationValid,r=e.setIsBeforeFirstAttempt,i=e.bnplUserInformation,a=e.setUserBnplTransactionCreatedAtForNavigation,o=e.priceInCents,l=e.offerId,u=e.firstInvalidInputId,d=(0,E.useUser)(),m=(0,b.useCreateUserBnplTransactionStartPollingAndHandleNavigation)({offerId:l}),g=m.createUserBnplTransactionStartPollingAndHandleNavigation,y=m.userBnplTransactionCreatedAt,v=m.isLoading,_=m.setIsLoading;f.useEffect((function(){y&&a(y)}),[y]);var I=(0,b.formatPhoneNumber)(i.phoneNumber),C={offerId:l,price:o},P=function(){return s(t,void 0,void 0,(function(){var e,t,a,s,f;return c(this,(function(c){switch(c.label){case 0:return(0,B.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"submittedBnplUserInfo",payload:C}}}),(0,B.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Submitted User Info",properties:C}}}),d&&o&&l?n&&i.birthFrenchDepartment&&I?(_(!0),(e=!d.phoneNumber||d.phoneNumber!==I)?[4,(0,E.checkIsPhoneNumberDuplicate)(I)]:[3,2]):((0,B.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"submittedInvalidBnplUserInfo",payload:C}}}),(0,B.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Submitted Invalid User Info",properties:C}}}),r(!1),u&&function(e){var t=(0,S.getHashedElementId)(S.JokoExtensionElement.bnplSubscriptionFrame),n=document.getElementById(t);if(!n)return;var r=n.contentDocument||(n.contentWindow?n.contentWindow.document:void 0);if(!r)return;var i=r.getElementById(e);i&&i.scrollIntoView({behavior:"smooth",block:"nearest"})}(u),[2]):[2];case 1:e=c.sent(),c.label=2;case 2:return e?((0,B.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"submittedBnplDuplicatePhoneNumber",payload:C}}}),(0,B.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Submitted Duplicate Phone Number",properties:C}}}),r(!1),[2]):(t={birthDate:(0,p.default)(i.formattedBirthDate,"DD/MM/YYYY").format("YYYY-MM-DD"),firstName:null===(a=i.firstName)||void 0===a?void 0:a.trim(),lastName:null===(s=i.lastName)||void 0===s?void 0:s.trim(),birthLastName:i.birthLastName,birthFrenchDepartment:i.birthFrenchDepartment,gender:i.gender,postalAddress:{postalAddress:null===(f=i.postalAddress)||void 0===f?void 0:f.trim(),city:i.city,zipCode:i.zipCode,countryCode:h.PostalAddressCountryCode.FR}},(null==d?void 0:d.phoneNumber)&&d.phoneNumber===I||(t.phoneNumber=I,t.phoneNumberStatus=h.PhoneNumberStatus.pending),d.bnplEmail&&d.bnplEmail===i.bnplEmail||(t.bnplEmail=i.bnplEmail),[4,(0,E.updateUser)(t)]);case 3:return c.sent(),(0,B.sendMessageToBackgroundScript)({message:"getUser",data:{throttlingInMs:0}}),(null==d?void 0:d.phoneNumber)&&d.phoneNumber===I?[3,5]:[4,(0,x.updateCognitoPhoneNumber)(I)];case 4:c.sent(),c.label=5;case 5:return g(o),[2]}}))}))};return[v,P,y]}({isBnplUserInformationValid:g,setIsBeforeFirstAttempt:w,bnplUserInformation:m,setUserBnplTransactionCreatedAtForNavigation:o,priceInCents:l,offerId:r.offerId,firstInvalidInputId:N}),3),z=j[0],F=j[1],R=j[2];(0,C.useSetBnplPanelHeight)({size:"large",setHeight:t});var U=(0,h.useHasFeature)(h.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),H=(0,T.usePanelDisplayContext)()||{bnpl:{}},W=H.closePanelAndLogEvents,G=H.bnpl.setIsInBnplSubscription,V=function(){var e=(0,C.useBnplNavigationContext)(),t=e.offer,n=e.setCurrentBnplScreenNameAndLogEvents;return function(){var e={offerId:t.offerId,fromScreen:h.BnplScreenName.userInfoScreen};(0,B.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedBnplSubscriptionFlowBackButton",payload:e}}}),(0,B.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Clicked BNPL Subscription Flow Back Button",properties:e}}}),n({screenName:h.BnplScreenName.pricePaddingScreen})}}(),K=function(){U?(null==G||G(!1),null==W||W("bnplSubscription")):a()};return(0,y.useShouldUseBnplTopBar)()?f.createElement(f.Fragment,null,f.createElement(_.BnplHeader,i({goBack:z?void 0:V},{close:K})),f.createElement(I.BodyContainerScrollArea,{style:{paddingBottom:40}},f.createElement(k,i({},{offer:r,bnplUserInformation:m,isBeforeFirstAttempt:P,isBnplUserInformationValid:g,userBnplTransactionCreatedAt:R,isLoading:z,onPress:F,setFirstInvalidInputId:M})))):f.createElement(f.Fragment,null,f.createElement(O,{onGoBack:z?void 0:V,onClose:function(){return K()}}),f.createElement(I.BodyContainer,{style:{marginTop:D-L}},f.createElement(k,i({},{offer:r,bnplUserInformation:m,isBeforeFirstAttempt:P,isBnplUserInformationValid:g,userBnplTransactionCreatedAt:R,isLoading:z,onPress:F,setFirstInvalidInputId:M}))))};var A,N,D=60,L=10,M=g.default.div(A||(A=r(["\n    position: fixed;\n    height: ","px;\n    width: 92%;\n    top: -10px;\n    right: 20px;\n    display: flex;\n    flex: 1;\n    justify-content: space-between;\n    align-items: center;\n    background-color: ",";\n    margin-top: ","px;\n"],["\n    position: fixed;\n    height: ","px;\n    width: 92%;\n    top: -10px;\n    right: 20px;\n    display: flex;\n    flex: 1;\n    justify-content: space-between;\n    align-items: center;\n    background-color: ",";\n    margin-top: ","px;\n"])),D,h.colors.white,L),j=(0,g.default)(I.BnplPanelContentTitle)(N||(N=r(["\n    margin-bottom: 10px;\n"],["\n    margin-bottom: 10px;\n"])))},68174:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BnplCardDetailsTable=t.useCardDetailsRows=t.MobileBnplCardDetailsPanel=void 0;var l=o(n(96540)),s=o(n(38267)),c=n(55015),u=n(14568),d=n(31229),f=n(46239),p=n(51155),m=n(74648),g=n(67888),h=n(21324);function b(e){var t,n=e.offer,r=e.user,i=e.formattedAmount,a=e.userBnplTransaction,o=(0,c.useLocalizedTexts)().contentscript.bnpl.cardDetailsWithTopBar;return(null===(t=null==a?void 0:a.amount)||void 0===t?void 0:t.valueInCents)&&a.swanPaymentCard&&a.swanPaymentCard.confidentialCardData&&a.swanPaymentCard.confidentialCardData.pan&&a.swanPaymentCard.confidentialCardData.expiryDate&&a.swanPaymentCard.confidentialCardData.cvv&&r&&r.userInfo&&r.userInfo.firstName&&r.userInfo.lastName&&i?[{label:o.labels.merchantName,value:n.screen.title},{label:o.labels.amount,value:o.values.amountValue(i)},{label:o.labels.cardType,value:"Mastercard"},{label:o.labels.cardHolderName,value:"".concat(r.userInfo.firstName," ").concat(r.userInfo.lastName),copiedData:"cardHolderName"},{label:o.labels.personalAccountNumber,value:a.swanPaymentCard.confidentialCardData.pan,copiedData:"personalAccountNumber"},{label:o.labels.expiryDate,value:a.swanPaymentCard.confidentialCardData.expiryDate,copiedData:"expiryDate"},{label:o.labels.cardVerificationNumber,value:a.swanPaymentCard.confidentialCardData.cvv,copiedData:"cardVerificationValue"}]:null}function y(e){var t=e.offer,n=e.cardDetailsRows,r=e.close;return l.default.createElement(l.default.Fragment,null,l.default.createElement(p.BnplHeader,i({},{close:r})),l.default.createElement(v,i({offerId:t.offerId},{cardDetailsRows:n})))}function v(e){var t=e.offerId,n=e.cardDetailsRows,r=a(l.default.useState(null),2),i=r[0],o=r[1],s=l.default.useRef(void 0),u=(0,c.useLocalizedTexts)().contentscript.bnpl.cardDetailsWithTopBar;return l.default.createElement(m.BodyContainerScrollArea,null,l.default.createElement(m.BnplPanelTitle,{style:{marginTop:15}},u.title),l.default.createElement("p",null,u.subtitle),l.default.createElement(O,null,l.default.createElement(k,null,l.default.createElement("tbody",null,n.map((function(e,n){var r=e.label,a=e.value,c=e.copiedData;return l.default.createElement("tr",{style:{WebkitTapHighlightColor:"transparent"},key:"card-ready-details-row-".concat(n)},l.default.createElement("td",null,r),l.default.createElement("td",null,a),c?l.default.createElement(x,{isCopied:i===n,onClick:function(){return function(e){var t=e.offerId,n=e.copiedData,r=e.value,i=e.index,a=e.setCopiedButtonIndex,o=e.timeoutRef;o.current&&clearTimeout(o.current);a(i);var l={offerId:t,copiedData:n};(0,f.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"copiedBnplCardData",payload:l}}}),(0,f.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Copied BNPL Card Data",properties:l}}}),navigator.clipboard.writeText(r),o.current=setTimeout((function(){return a(null)}),3e3)}({offerId:t,copiedData:c,value:a,index:n,setCopiedButtonIndex:o,timeoutRef:s})}}):l.default.createElement("td",null))}))))))}function x(e){var t=e.isCopied,n=e.onClick,r=t?g.CheckmarkIcon:h.CopyIcon;return l.default.createElement("td",{onClick:t?void 0:n,style:{cursor:t?"default":"pointer"}},l.default.createElement(A,null,l.default.createElement(r,{style:{width:"0.9rem"}})))}function S(e){var t=e.textDetails,n=e.value,r=e.copiedData,i=e.offerId,o=a(l.default.useState(!1),2),s=o[0],u=o[1],d=(0,c.useLocalizedTexts)().contentscript.bnpl.cardDetails;return l.default.createElement(D,null,l.default.createElement(L,null,t),l.default.createElement("div",{style:{display:"flex",flex:1}},l.default.createElement(M,null,n)),l.default.createElement(j,{onClick:function(){var e={copiedData:r,offerId:i};(0,f.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"copiedBnplCardData",payload:e}}}),(0,f.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Copied BNPL Card Data",properties:e}}}),u(!0),navigator.clipboard.writeText(n),setTimeout((function(){return u(!1)}),1e3)}},s?d.copied:d.copy))}t.MobileBnplCardDetailsPanel=function(e){var t,n=e.offer,r=e.userBnplTransactionCreatedAt,a=e.close,o=e.shouldUseBnplTopBar,s=(0,d.useUser)(),f=(0,u.useUserBnplTransaction)(r),p=(0,c.useLocalizedFormat)(),m=(0,c.useLocalizedTexts)().contentscript.bnpl.cardDetails;(0,u.useUpdateProvisionedUserBnplTransactionsLocalStorage)(f);var g=(null===(t=null==f?void 0:f.amount)||void 0===t?void 0:t.valueInCents)?(0,c.formatCurrencyAmount)({localizedFormat:p,number:f.amount.valueInCents/100}):void 0,h=b({offer:n,user:s,formattedAmount:g,userBnplTransaction:f}),v=function(e){var t,n=e.user,r=e.userBnplTransaction,i=(0,c.useLocalizedTexts)().contentscript.bnpl.cardDetails;return(null===(t=null==r?void 0:r.amount)||void 0===t?void 0:t.valueInCents)&&r.swanPaymentCard&&r.swanPaymentCard.confidentialCardData&&r.swanPaymentCard.confidentialCardData.pan&&r.swanPaymentCard.confidentialCardData.expiryDate&&r.swanPaymentCard.confidentialCardData.cvv&&n&&n.userInfo&&n.userInfo.firstName&&n.userInfo.lastName?[{textDetails:i.personalAccountNumber,value:r.swanPaymentCard.confidentialCardData.pan,copiedData:"personalAccountNumber"},{textDetails:i.expiryDate,value:r.swanPaymentCard.confidentialCardData.expiryDate,copiedData:"expiryDate"},{textDetails:i.cardVerificationValue,value:r.swanPaymentCard.confidentialCardData.cvv,copiedData:"cardVerificationValue"},{textDetails:i.cardHolderName,value:"".concat(n.userInfo.firstName," ").concat(n.userInfo.lastName),copiedData:"cardHolderName"}]:null}({user:s,userBnplTransaction:f});return o?h?l.default.createElement(y,i({},{offer:n,cardDetailsRows:h,close:a})):null:v&&g?l.default.createElement(N,null,l.default.createElement(D,null,l.default.createElement(L,null,m.amount),l.default.createElement(M,null,g+" ".concat(m.merchant({merchantName:n.screen.title})))),v.map((function(e,t){var r=e.textDetails,a=e.value,o=e.copiedData;return l.default.createElement(S,i({},{textDetails:r,value:a,copiedData:o},{offerId:n.offerId,key:t}))}))):null},t.useCardDetailsRows=b,t.BnplCardDetailsTable=v;var E,B,_,I,C,P,w,T,O=s.default.div(E||(E=r(["\n    padding: 4px 14px;\n    border-radius: 6px;\n    background-color: ",";\n"],["\n    padding: 4px 14px;\n    border-radius: 6px;\n    background-color: ",";\n"])),c.colors.athensGray),k=s.default.table(B||(B=r(["\n    width: 100%;\n    border-collapse: collapse;\n\n    & tr {\n        border-style: solid;\n        border-width: 1px 0;\n        border-color: ",";\n        line-height: 2.1;\n    }\n\n    & tr:first-child {\n        border-top: none;\n    }\n\n    & tr:last-child {\n        border-bottom: none;\n    }\n\n    & td {\n        color: ",";\n    }\n\n    & td:first-of-type {\n        font-weight: 600;\n    }\n\n    & td:nth-of-type(2) {\n        font-weight: 400;\n    }\n"],["\n    width: 100%;\n    border-collapse: collapse;\n\n    & tr {\n        border-style: solid;\n        border-width: 1px 0;\n        border-color: ",";\n        line-height: 2.1;\n    }\n\n    & tr:first-child {\n        border-top: none;\n    }\n\n    & tr:last-child {\n        border-bottom: none;\n    }\n\n    & td {\n        color: ",";\n    }\n\n    & td:first-of-type {\n        font-weight: 600;\n    }\n\n    & td:nth-of-type(2) {\n        font-weight: 400;\n    }\n"])),c.colors.gallery,c.colors.black),A=s.default.div(_||(_=r(["\n    display: flex;\n    flex-shrink: 0;\n    justify-content: center;\n    align-items: center;\n\n    /* Used to increase the touchable area of the copy button */\n    padding-right: 1px;\n    padding-left: 5px;\n\n    & > svg {\n        flex-shrink: 0;\n    }\n"],["\n    display: flex;\n    flex-shrink: 0;\n    justify-content: center;\n    align-items: center;\n\n    /* Used to increase the touchable area of the copy button */\n    padding-right: 1px;\n    padding-left: 5px;\n\n    & > svg {\n        flex-shrink: 0;\n    }\n"]))),N=s.default.div(I||(I=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    width: 100%;\n    padding-top: 20px;\n    background-color: white;\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    width: 100%;\n    padding-top: 20px;\n    background-color: white;\n"]))),D=s.default.div(C||(C=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: row;\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 24px;\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: row;\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 24px;\n"])),c.fontFamilyAmbit),L=s.default.div(P||(P=r(["\n    width: 30%;\n    margin-bottom: 4px;\n    text-align: left;\n    color: ",";\n"],["\n    width: 30%;\n    margin-bottom: 4px;\n    text-align: left;\n    color: ",";\n"])),c.colors.doveGray),M=s.default.div(w||(w=r(["\n    display: flex;\n    flex: 1;\n    color: ",";\n"],["\n    display: flex;\n    flex: 1;\n    color: ",";\n"])),c.colors.black),j=s.default.div(T||(T=r(["\n    text-align: right;\n    color: ",";\n"],["\n    text-align: right;\n    color: ",";\n"])),c.colors.emerald)},93171:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(96540)),c=l(n(38267)),u=n(55015),d=n(59812),f=n(2286),p=n(21136),m=n(67454),g=n(86028),h=o(n(96410)),b=n(59674),y=n(17436),v=n(47175),x=n(77864),S=n(95699),E=n(21736),B=n(97669);t.default=function(e){var t=e.setHeight,n=(0,E.useBnplNavigationContext)().closeBnplPanelAndLogEvents,r=((0,B.usePanelDisplayContext)()||{}).closePanelAndLogEvents;(0,E.useSetBnplPanelHeight)({size:"small",setHeight:t});var i=(0,u.useHasFeature)(u.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),a=(0,u.useLocalizedTexts)().designSystem.contentscript.bnpl.cardError;return s.createElement(s.Fragment,null,s.createElement(x.DesignSystemBnplHeader,{close:function(){return i?null==r?void 0:r("bnplSubscription"):n()},shouldNotMinimize:!0}),s.createElement(S.DesignSystemBodyContainer,null,s.createElement(C,null,s.createElement(P,null,s.createElement(S.DesignSystemCardImage,{src:v.JOKO_CARD_ILLUSTRATION_URL})),s.createElement(g.TextContent,{textContentLayoutType:g.TextContentLayoutType.centeredContent},s.createElement(h.default,{titleSize:h.TitleSize.medium,titleWeight:h.TitleWeight.bold,text:a.title,color:y.colors.content.default}),s.createElement(m.Subtitle,{subtitleSize:m.SubtitleSize.small,text:a.subtitle,color:y.colors.content.secondary})),s.createElement(p.StickyButtonWrapper,{placeholderHeight:b.SINGLE_MEDIUM_STICKY_BUTTON_PLACEHOLDER_HEIGHT},s.createElement(f.ButtonSet,{buttonSetLayoutType:f.ButtonSetLayoutType.horizontal},s.createElement(d.Button,{hierarchy:d.ButtonHierarchy.primary,buttonState:d.ButtonState.default,buttonSize:d.ButtonSize.medium,shouldShowLabel:!0,shouldTakeFullWidth:!0,label:a.button,onClick:function(){return i?null==r?void 0:r("bnplSubscription"):n()}}))))))};var _,I,C=c.default.div(_||(_=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    align-self: stretch;\n    gap: ",";\n"])),y.measurements.spacings.medium),P=c.default.div(I||(I=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    align-self: center;\n    width: ",";\n    height: ",";\n    border-radius: ",";\n\n    /*\n        The container color in Figma is background.negative with 30% opacity.\n        Since we can't use opacity directly because it affects the image too,\n        we add the opacity directly in the color HEX code\n    */\n    background-color: ","4C;\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    align-self: center;\n    width: ",";\n    height: ",";\n    border-radius: ",";\n\n    /*\n        The container color in Figma is background.negative with 30% opacity.\n        Since we can't use opacity directly because it affects the image too,\n        we add the opacity directly in the color HEX code\n    */\n    background-color: ","4C;\n"])),b.BNPL_CARD_IMAGE_BACKGROUND_SIZE,b.BNPL_CARD_IMAGE_BACKGROUND_SIZE,b.BNPL_CARD_IMAGE_BACKGROUND_BORDER_RADIUS,y.colors.background.negative)},46778:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(96540)),c=l(n(38267)),u=n(55015),d=n(67454),f=n(86028),p=o(n(96410)),m=n(59674),g=n(17436),h=n(47615),b=n(47175),y=n(77864),v=n(95699),x=n(21736),S=n(97669);t.default=function(e){var t=e.setHeight,n=(0,x.useBnplNavigationContext)(),r=n.userBnplTransactionCreatedAt,i=n.closeBnplPanelAndLogEvents;(0,h.useCardNavigation)(r);var a=((0,S.usePanelDisplayContext)()||{}).closePanelAndLogEvents,o=(0,u.useHasFeature)(u.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions);(0,x.useSetBnplPanelHeight)({size:"small",setHeight:t});var l=(0,u.useLocalizedTexts)().designSystem.contentscript.bnpl.cardPending;return s.createElement(s.Fragment,null,s.createElement(y.DesignSystemBnplHeader,{close:function(){return o?null==a?void 0:a("bnplSubscription"):i()}}),s.createElement(v.DesignSystemBodyContainer,null,s.createElement(_,null,s.createElement(I,null,s.createElement(v.DesignSystemCardImage,{src:b.JOKO_CARD_ILLUSTRATION_URL})),s.createElement(f.TextContent,{textContentLayoutType:f.TextContentLayoutType.centeredContent},s.createElement(p.default,{titleSize:p.TitleSize.medium,titleWeight:p.TitleWeight.bold,text:l.title,color:g.colors.content.default}),s.createElement(d.Subtitle,{subtitleSize:d.SubtitleSize.small,text:l.subtitle,color:g.colors.content.secondary})))))};var E,B,_=c.default.div(E||(E=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    align-self: stretch;\n    gap: ",";\n"])),g.measurements.spacings.medium),I=c.default.div(B||(B=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    align-self: center;\n    width: ",";\n    height: ",";\n    border-radius: ",";\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    align-self: center;\n    width: ",";\n    height: ",";\n    border-radius: ",";\n    background-color: ",";\n"])),m.BNPL_CARD_IMAGE_BACKGROUND_SIZE,m.BNPL_CARD_IMAGE_BACKGROUND_SIZE,m.BNPL_CARD_IMAGE_BACKGROUND_BORDER_RADIUS,g.colors.background.positiveLight)},90390:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=l(n(96540)),u=s(n(38267)),d=n(55015),f=n(59812),p=n(2286),m=n(21136),g=s(n(11685)),h=n(67454),b=n(86028),y=l(n(96410)),v=n(59674),x=n(17436),S=n(14568),E=n(47175),B=n(32668),_=n(46239),I=n(77864),C=n(95699),P=n(21736),w=n(97669);function T(e){var t=e.offer,n=(0,d.useLocalizedTexts)().designSystem.contentscript.bnpl.cardReady,r=[{numberInList:1,shouldShowLabel:!0,label:n.howItWorks.step1({merchantName:t.screen?t.screen.title:void 0})},{numberInList:2,shouldShowLabel:!0,label:n.howItWorks.step2},{numberInList:3,shouldShowLabel:!0,label:n.howItWorks.step3}];return c.createElement(j,null,r.map((function(e,t){return c.createElement(g.default,i({},e,{key:t}))})))}t.default=function(e){var t=e.close,n=e.setHeight,r=(0,P.useBnplNavigationContext)(),a=r.offer,o=r.closeBnplPanelAndLogEvents,l=r.userBnplTransactionCreatedAt,s=(0,S.useUserBnplTransaction)(l);(0,S.useUpdateProvisionedUserBnplTransactionsLocalStorage)(s);var u=(0,w.usePanelDisplayContext)()||{bnpl:{}},g=u.closePanelAndLogEvents,v=u.bnpl.setIsInBnplSubscription;(0,P.useSetBnplPanelHeight)({size:"large",setHeight:n});var O=(0,d.useHasFeature)(d.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),k=function(){if(O)return null==v||v(!1),void(null==g||g("bnplSubscription"));o(!0),t&&"function"==typeof t&&t()},A=(0,d.useLocalizedTexts)().designSystem.contentscript.bnpl.cardReady;return s?c.createElement(c.Fragment,null,c.createElement(I.DesignSystemBnplHeader,{close:function(){if((0,B.checkIsOnMobileScreen)()&&l){var e={offer:a,userBnplTransactionCreatedAt:l};(0,_.sendMessageToBackgroundScript)({message:"displayBnplCardReadyWidget",data:e})}k()}}),c.createElement(C.DesignSystemBodyContainerScrollArea,null,c.createElement(D,null,c.createElement(L,null,c.createElement(C.DesignSystemCardImage,{src:E.JOKO_CARD_ILLUSTRATION_URL})),c.createElement(b.TextContent,{textContentLayoutType:b.TextContentLayoutType.content},c.createElement(y.default,{titleSize:y.TitleSize.medium,titleWeight:y.TitleWeight.bold,text:A.title,color:x.colors.content.default}),c.createElement(h.Subtitle,{subtitleSize:h.SubtitleSize.small,text:A.subtitle})),c.createElement(M,null,c.createElement(y.default,{titleSize:y.TitleSize.small,titleWeight:y.TitleWeight.bold,text:A.howItWorks.title,color:x.colors.content.default,shouldAlignTextLeft:!0}),c.createElement(T,i({},{offer:a})))),(0,B.checkIsOnMobileScreen)()?c.createElement(m.StickyButtonWrapper,null,c.createElement(p.ButtonSet,{buttonSetLayoutType:p.ButtonSetLayoutType.horizontal},c.createElement(f.Button,{hierarchy:f.ButtonHierarchy.primary,buttonState:f.ButtonState.default,buttonSize:f.ButtonSize.medium,shouldShowLabel:!0,shouldTakeFullWidth:!0,label:A.button,onClick:function(){if(l){var e={offer:a,userBnplTransactionCreatedAt:l};(0,_.sendMessageToBackgroundScript)({message:"displayBnplCardReadyWidget",data:e})}k()}}))):null)):null};var O,k,A,N,D=u.default.div(O||(O=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    gap: ",";\n"])),x.measurements.spacings.medium),L=u.default.div(k||(k=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    align-self: center;\n    width: ",";\n    height: ",";\n    border-radius: ",";\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    align-self: center;\n    width: ",";\n    height: ",";\n    border-radius: ",";\n    background-color: ",";\n"])),v.BNPL_CARD_IMAGE_BACKGROUND_SIZE,v.BNPL_CARD_IMAGE_BACKGROUND_SIZE,v.BNPL_CARD_IMAGE_BACKGROUND_BORDER_RADIUS,x.colors.background.positiveLight),M=u.default.div(A||(A=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"])),x.measurements.spacings.small),j=u.default.div(N||(N=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    padding: "," ",";\n    border-radius: ",";\n    background: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    padding: "," ",";\n    border-radius: ",";\n    background: ",";\n"])),x.measurements.spacings.small,x.measurements.spacings.smallMedium,x.measurements.radius.xSmall,x.colors.background.light)},75415:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=l(n(96540)),f=n(48287),p=n(2309),m=u(n(38267)),g=n(55015),h=n(59812),b=n(67454),y=n(86028),v=n(59674),x=n(17436),S=n(14568),E=n(47615),B=n(46239),_=n(77864),I=n(95699),C=n(21736),P=n(97669);function w(e){var t=e.paymentPageUrl,n=(0,g.useLocalizedTexts)().designSystem.contentscript.bnpl.floaPayment.enterYourCardInNewPage;return d.createElement(D,null,d.createElement(I.LoadingIndicatorContainer,null,d.createElement(p.TailSpin,{width:v.BNPL_SPINNER_SIZE,height:v.BNPL_SPINNER_SIZE,color:x.colors.content.default})),d.createElement(L,null,d.createElement(b.Subtitle,{subtitleSize:b.SubtitleSize.medium,text:n,color:x.colors.content.default}),d.createElement(T,i({},{paymentPageUrl:t}))))}function T(e){var t=e.paymentPageUrl,n=e.offerId,r=e.userBnplTransactionCreatedAt,i=(0,g.useLocalizedTexts)().designSystem.contentscript.bnpl.floaPayment.reopenPaymentPage,a=d.useRef([]);return d.useEffect((function(){return function(){var e,t;try{for(var n=c(a.current),r=n.next();!r.done;r=n.next()){var i=r.value;i&&(0,B.sendMessageToBackgroundScript)({message:"closeTab",data:{tabId:i}})}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}}}),[a]),t?d.createElement(y.TextContent,{textContentLayoutType:y.TextContentLayoutType.centeredContent},d.createElement(b.Subtitle,{subtitleSize:b.SubtitleSize.medium,text:i.text,color:x.colors.content.default}),d.createElement(h.Button,{hierarchy:h.ButtonHierarchy.primary,buttonSize:h.ButtonSize.smallUnderlined,buttonState:h.ButtonState.default,shouldShowLabel:!0,label:i.link,onClick:function(){t&&(!function(e,t){var n={offerId:e,userBnplTransactionCreatedAt:t};(0,B.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"reopenedBnplFloaPaymentPage",payload:n}}}),(0,B.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Reopened Floa Payment Page",properties:n}}})}(n,r),(0,B.sendMessageToBackgroundScript)({message:"openTab",data:{url:t}},(function(e){return a.current.push(e.id)})))}})):null}t.default=function(){var e=(0,C.useBnplNavigationContext)(),t=e.offer,n=e.userBnplTransactionCreatedAt,r=e.closeBnplPanelAndLogEvents,a=(0,E.useShouldUseBnplTopBar)(),o=(0,S.useUserBnplTransactionWithPolling)(n),l=o.userBnplTransaction,c=o.startPolling,u=o.stopPolling;(0,E.useFloaPaymentNavigation)({offerId:t.offerId,userBnplTransaction:l,startPollingUserBnplTransaction:c,stopPollingUserBnplTransaction:u});var p=function(e){var t=e.userBnplTransaction,n=s(d.useState(void 0),2),r=n[0],i=n[1],a=(0,g.useUserRegion)();if(d.useEffect((function(){(0,g.checkIsOnDevStack)().then(i)}),[]),!(void 0!==r&&t&&t.lastFloaPaymentSession&&t.lastFloaPaymentSession.sessionId&&t.lastFloaPaymentSession.sessionUrl))return;var o=r?"https://dev.app.joko.com/floa-payment-page-with-url-params":"https://app.joko.com/floa-payment-page-with-url-params";return o+="?paymentSessionId=".concat(t.lastFloaPaymentSession.sessionId)+"&base64EncodedPaymentSessionUrl=".concat(function(e){return f.Buffer.from(e,"binary").toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]+$/,"")}(t.lastFloaPaymentSession.sessionUrl))+"&stackMode=".concat(r?"dev":"prod")+"&userId=".concat(t.userId)+"&region=".concat(a),o}({userBnplTransaction:l}),m=(0,P.usePanelDisplayContext)()||{bnpl:{}},h=m.closePanelAndLogEvents,b=m.bnpl.setIsInBnplSubscription,y=(0,g.useHasFeature)(g.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions);d.useEffect((function(){if(p&&(!(null==l?void 0:l.lastFloaPaymentSession)||"created"===l.lastFloaPaymentSession.status)){var e,t=setTimeout((function(){(0,B.sendMessageToBackgroundScript)({message:"openTab",data:{url:p}},(function(t){return e=t.id}))}),2500);return function(){e&&(0,B.sendMessageToBackgroundScript)({message:"closeTab",data:{tabId:e}}),clearTimeout(t)}}}),[p]);var v=function(){var e=(0,C.useBnplNavigationContext)(),t=e.offer,n=e.userBnplTransactionCreatedAt,r=e.setCurrentBnplScreenNameAndLogEvents;return function(){var e={offerId:t.offerId,userBnplTransactionCreatedAt:n,fromScreen:g.BnplScreenName.floaPaymentScreen};(0,B.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedBnplSubscriptionFlowBackButton",payload:e}}}),(0,B.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Clicked BNPL Subscription Flow Back Button",properties:e}}}),r({screenName:g.BnplScreenName.eligibilityScheduleScreen})}}();if(!(0,S.checkIsFloaEligibilityAccepted)(l)||!(0,S.checkIsFloaPaymentSessionReady)(l))return null;var x=function(){y?(null==b||b(!1),null==h||h("bnplSubscription")):r()};return a?d.createElement(d.Fragment,null,d.createElement(_.DesignSystemBnplHeader,i({},{close:x,goBack:v})),d.createElement(N,null,d.createElement(w,i({},{paymentPageUrl:p})))):d.createElement(N,null,d.createElement(_.DesignSystemBnplHeader,i({},{close:x,goBack:v})),d.createElement(w,i({},{paymentPageUrl:p})))};var O,k,A,N=m.default.div(O||(O=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n"]))),D=m.default.div(k||(k=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: ",";\n    padding: 0 ","px;\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: ",";\n    padding: 0 ","px;\n"])),x.measurements.spacings.xxLarge,v.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),L=m.default.div(A||(A=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    align-self: stretch;\n    gap: ",";\n"])),x.measurements.spacings.xLarge)},21700:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(96540)),d=c(n(38267)),f=n(55015),p=n(59812),m=n(2286),g=n(21136),h=n(67454),b=n(86028),y=l(n(96410)),v=n(27070),x=n(38403),S=n(19972),E=n(17436),B=n(31229),_=n(46239),I=n(74617),C=n(77864),P=n(95699),w=n(21736),T=n(97669);t.default=function(e){var t=e.setHeight,n=(0,w.useBnplNavigationContext)(),r=n.offer,a=n.priceInCents,o=n.setPriceInCents,l=n.closeBnplPanelAndLogEvents,c=n.isFromBnplSuggestionAtCheckoutWidget,d=(0,T.usePanelDisplayContext)()||{bnpl:{}},v=d.isMobileExtension,x=d.closePanelAndLogEvents,O=d.bnpl.isFromBnplSuggestionAtCheckoutWidget;(0,B.useUser)();var A=s(u.useState(a?(a/100).toString():""),2),N=A[0],L=A[1],M=s(u.useState(!!a),2),z=M[0],F=M[1],R=function(e){var t=s(u.useState(50),2),n=t[0],r=t[1],i=s(u.useState(1e3),2),a=i[0],o=i[1],l=(0,f.useSetting)({settingKey:f.SettingKey.bnplPriceRangeByMerchantIdMap});return u.useEffect((function(){if(l){var t=l[e.merchantId];if(t)try{var n=s(t.split("-").map(Number),2),i=n[0],a=n[1];isNaN(i)||r(i),isNaN(a)||o(a)}catch(e){console.error(e)}}}),[l]),{minimumPrice:n,maximumPrice:a}}(r),U=R.minimumPrice,H=R.maximumPrice,W=function(e){var t=e.setBnplPriceInCentsForNavigation,n=e.setIsNextButtonEnabled,r=e.minimumPrice,i=e.maximumPrice,a=(0,f.useLocalizedFormat)(),o=s(u.useState(void 0),2),l=o[0],c=o[1],d=s(u.useState(0),2),p=d[0],m=d[1],g=u.useCallback((function(e){var o,l=D(e,a);if(isNaN(Number(l))||((o=Number(l))%1!=0?o.toString().split(".")[1].length:0)>2)return c("invalidEntry"),m(0),!1;var s=Number(l);return s>i?(c("aboveMax"),m(0),n(!1),!1):s<r?(c("belowMin"),m(0),!1):(c(void 0),""===l?(m(0),!0):(m(Math.round(100*s)),t(Math.round(100*s)),!0))}),[a,n,i,r,t]);return{resolvedPriceInCents:p,invalidInputPriceReason:l,validateAndResolvePrice:g}}({setBnplPriceInCentsForNavigation:o,setIsNextButtonEnabled:F,minimumPrice:U,maximumPrice:H}),G=W.resolvedPriceInCents,V=W.invalidInputPriceReason,K=W.validateAndResolvePrice,J=(0,f.useLocalizedTexts)().designSystem.contentscript.bnpl.priceInput,X=function(e){var t=e.resolvedPriceInCents,n=e.setIsNextButtonEnabled,r=e.invalidInputPriceReason,i=e.offerId,a=(0,w.useBnplNavigationContext)().setCurrentBnplScreenNameAndLogEvents,o={offerId:i,price:(t/100).toString()},l=function(){if((0,_.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"submittedBnplPrice",payload:o}}}),(0,_.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Submitted Price",properties:o}}}),r)return(0,_.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"submittedInvalidBnplPrice",payload:o}}}),(0,_.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Submitted Invalid Price",properties:o}}}),void n(!1);a({screenName:f.BnplScreenName.pricePaddingScreen})};return l}({resolvedPriceInCents:G,setIsNextButtonEnabled:F,invalidInputPriceReason:V,offerId:r.offerId}),Z=(0,f.useHasFeature)(f.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions);(0,w.useSetBnplPanelHeight)({size:"small",setHeight:t});var Y=function(e){var t=(0,w.useBnplNavigationContext)(),n=t.offer,r=t.tabId,i=t.closeBnplPanelAndLogEvents,a=((0,T.usePanelDisplayContext)()||{bnpl:{}}).bnpl,o=a.setIsInBnplSubscription,l=a.setHasNavigatedAwayFromUnfinishedBnplSubscription;return e?function(){null==o||o(!1),null==l||l(!0),(0,w.removeUnfinishedBnplSubscriptionStateInLocalStorage)(r)}:function(){i(!0),(0,I.displayPanelAndLogEvents)({offer:n,bnpl:{isBnplSectionEnabledForOffer:!0},isTemporaryUser:!1,userOfferActivationInfo:void 0,defaultPanelLocationOverride:{panelTab:f.PanelTab.offerDetails,offerDetailsSection:f.OfferDetailsSection.bnpl}},"bnplWidget")}}(Z),q=Z?O:c,Q=function(e,t){return t?e?S.PanelHeaderType.jokoLogoMinimizeButtonAndCloseButton:S.PanelHeaderType.jokoLogoAndCloseButton:void 0}(v,q);return u.createElement(u.Fragment,null,u.createElement(C.DesignSystemBnplHeader,i({},{close:function(){Z?null==x||x("bnplSubscription"):l()},initialPanelHeaderType:Q},{goBack:q?void 0:Y})),u.createElement(P.DesignSystemBodyContainer,null,u.createElement(j,null,u.createElement(b.TextContent,{textContentLayoutType:b.TextContentLayoutType.content},u.createElement(y.default,{titleSize:y.TitleSize.medium,titleWeight:y.TitleWeight.bold,text:J.title,shouldAlignTextLeft:!0}),u.createElement(h.Subtitle,{subtitleSize:h.SubtitleSize.small,text:J.subtitle,shouldAlignTextLeft:!0,color:E.colors.content.secondary})),u.createElement(k,i({},{priceInCents:a,inputPrice:N,setInputPrice:L,onPressEnter:function(){N&&!V?X():F(!1)},invalidInputPriceReason:V,validateAndResolvePrice:K,setIsNextButtonEnabled:F,isMobileExtension:!!t,minimumPrice:U,maximumPrice:H}))),u.createElement(g.StickyButtonWrapper,null,u.createElement(m.ButtonSet,{buttonSetLayoutType:m.ButtonSetLayoutType.horizontal},u.createElement(p.Button,{hierarchy:p.ButtonHierarchy.primary,buttonState:z?p.ButtonState.default:p.ButtonState.disabled,buttonSize:p.ButtonSize.medium,shouldShowLabel:!0,shouldTakeFullWidth:!0,label:J.button,onClick:X})))))};var O=2;function k(e){var t=e.priceInCents,n=e.inputPrice,r=e.setInputPrice,a=e.onPressEnter,o=e.invalidInputPriceReason,l=e.validateAndResolvePrice,c=e.setIsNextButtonEnabled,d=e.isMobileExtension,p=e.minimumPrice,m=e.maximumPrice,g=(0,f.useLocalizedFormat)(),h=u.useRef(null),b=u.useRef(""),y=(0,f.useLocalizedTexts)().designSystem.contentscript.bnpl.priceInput,S=s(u.useState(t?(0,f.formatCurrencyAmount)({localizedFormat:g,number:t/100}):""),2),E=S[0],B=S[1];!function(e,t,n){u.useEffect((function(){var r,i,a=e.current,o=function(e){if(a&&!n)switch(e.key){case"ArrowRight":if(t.currency.shouldSymbolComeInFront)return;r=a.selectionStart||0,i=a.value.indexOf("".concat(t.currency.separator).concat(t.currency.symbol)),r>=i&&e.preventDefault();break;case"ArrowLeft":if(!t.currency.shouldSymbolComeInFront)return;r=a.selectionStart||0;var o="".concat(t.currency.symbol).concat(t.currency.separator).length;r===o&&e.preventDefault();break;case"ArrowDown":if(t.currency.shouldSymbolComeInFront)return;e.preventDefault();break;case"ArrowUp":if(!t.currency.shouldSymbolComeInFront)return;e.preventDefault()}};return a&&a.addEventListener("keydown",o),function(){a&&a.removeEventListener("keydown",o)}}),[])}(h,g,d);var _=function(){return A(h,g)},I=u.useCallback((function(e){var t=D(e.target.value,g);r(t);var n=function(e,t){if(!e)return"";var n=N(t),r=e.replace(n,"").replace(/(\.|,)/g,t.number.format.separator).replace(/\B(?=(\d{3})+(?!\d))/g,t.number.format.delimiter);return t.currency.shouldSymbolComeInFront?"".concat(t.currency.symbol).concat(t.currency.separator)+"".concat(r):"".concat(r)+"".concat(t.currency.separator).concat(t.currency.symbol)}(t,g);B(n),c(!!t),setTimeout((function(){return A(h,g)}))}),[g,r,c]);return u.createElement(x.TextField,i({},{textInputRef:h,inputValueRef:b,isMobileExtension:d,onInputChange:I},{shouldShowTopInline:!1,shouldShowBottomInline:!0,bottomInlineProps:{baseInlineState:v.BaseInlineState.critical,baseInlineLabel:L({minimumPrice:p,maximumPrice:m,localizedFormat:g,inputPriceValidationTexts:y.inputPriceValidation,invalidInputPriceReason:o})},isInitiallySelected:!1,inputValue:E,shouldShowPlaceholder:!0,placeholder:y.priceInputPlaceholder,onBlurBaseTextField:function(){n&&o&&c(!1)},onFocusBaseTextField:_,baseTextFieldHtmlAttributes:{inputMode:"decimal",autoCapitalize:"off",onClick:_,onKeyPress:function(e){"Enter"===e.key&&(h.current&&h.current.blur(),a())}},checkIsInputValid:l}))}function A(e,t){var n=e.current;if(n){var r=t.currency.shouldSymbolComeInFront?n.value.length:n.value.lastIndexOf("".concat(t.currency.separator).concat(t.currency.symbol))||n.value.length;n.setSelectionRange(r,r)}}function N(e){return new RegExp("."===e.number.format.delimiter?"\\.":e.number.format.delimiter,"g")}function D(e,t){var n=e.replace(/[^0-9.,]/g,"").replace(/($| |)/g,""),r=n.indexOf(t.number.format.separator);-1!==r&&n.substring(r+1).length>O&&(n=n.substring(0,r+1+O)),/^[.,]/.test(n)&&(n="");var i=function(e){return new RegExp("."===e.number.format.separator?"\\.":e.number.format.separator,"g")}(t),a=N(t);return n.replace(i,".").replace(a,"")}function L(e){var t=e.minimumPrice,n=e.maximumPrice,r=e.localizedFormat,i=e.inputPriceValidationTexts,a=e.invalidInputPriceReason;return"aboveMax"===a?"".concat(i.aboveMax," ").concat((0,f.formatCurrencyAmount)({localizedFormat:r,number:n})):"belowMin"===a?"".concat(i.belowMin," ").concat((0,f.formatCurrencyAmount)({localizedFormat:r,number:t})):i.invalidEntry}var M,j=d.default.div(M||(M=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"])),E.measurements.spacings.medium)},35089:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(96540)),d=c(n(38267)),f=n(55015),p=n(64242),m=n(59812),g=n(2286),h=n(21136),b=n(67454),y=n(86028),v=l(n(96410)),x=l(n(39167)),S=l(n(48024)),E=n(17436),B=n(14568),_=n(46239),I=n(77864),C=n(95699),P=n(21736),w=n(97669);function T(e){var t=e.offerId,n=(0,f.useLocalizedTexts)().designSystem.contentscript.bnpl.priceInput,r=(0,p.useGetFaqArticleUrl)();return u.createElement(C.KnowMoreLink,i({},{onClick:function(){var e={offerId:t,fromScreen:"pricePaddingScreen"};(0,_.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"openedBnplFaq",payload:e}}}),(0,_.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Opened FAQ",properties:e}}})},href:r(C.JOKO_BNPL_LOWER_AMOUNT_FAQ_REFERENCES),target:"_blank"}),n.knowMore)}function O(e){var t=e.originalPriceInCents,n=e.pricePaddingAmount,r=void 0===n?0:n,i=e.setBnplPriceInCentsForNavigation,a=e.isLoading,o=(0,P.useBnplNavigationContext)(),l=o.isPricePaddingApplied,s=o.setIsPricePaddingApplied,c=(0,f.useLocalizedTexts)().designSystem.contentscript.bnpl.pricePadding,d=(0,f.useLocalizedFormat)(),p=0!==r,m=p?c.addPricePadding({pricePaddingAmount:r}):c.noPricePadding,g=p?t/100+r:t/100,h=l===p;return u.createElement(S.default,{checkboxItemStyle:S.CheckboxItemStyle.checkboxWithTextContent,onClickCheckboxItem:function(){if(!a){var e=!l;s(e),i(e?t+100*r:t)}}},u.createElement(x.default,{baseCheckboxItemState:h?x.BaseCheckboxItemState.selected:x.BaseCheckboxItemState.default,baseCheckboxItemOutline:x.BaseCheckboxItemOutline.rounded}),u.createElement(y.TextContent,{textContentLayoutType:y.TextContentLayoutType.content},u.createElement(v.default,{titleSize:v.TitleSize.medium,titleWeight:v.TitleWeight.semiBold,text:m,shouldShowButton:!1,shouldAlignTextLeft:!0}),u.createElement(b.Subtitle,{subtitleSize:b.SubtitleSize.small,color:E.colors.content.default,text:(0,f.formatCurrencyAmount)({localizedFormat:d,number:g})})))}t.default=function(e){var t=e.setHeight,n=(0,P.useBnplNavigationContext)(),r=n.offer,a=n.setUserBnplTransactionCreatedAt,o=n.priceInCents,l=n.setPriceInCents,c=n.isPricePaddingApplied,d=n.closeBnplPanelAndLogEvents,p=function(){var e=(0,f.useSetting)({settingKey:f.SettingKey.bnplPricePaddingAmount});return e||5}(),x=(0,f.useLocalizedTexts)().designSystem.contentscript.bnpl.pricePadding,S=u.useMemo((function(){return c?o-100*p:o}),[o,p,c]),k=s(function(e){var t=e.setUserBnplTransactionCreatedAtForNavigation,n=e.offerId,r=e.pricePaddingAmount,i=(0,P.useBnplNavigationContext)(),a=i.setCurrentBnplScreenNameAndLogEvents,o=i.priceInCents,l=i.isPricePaddingApplied,s=i.setHasSkippedUserInfoPanel,c=(0,B.useBnplUserInformation)().isBnplUserInformationValid,d=(0,B.useCreateUserBnplTransactionStartPollingAndHandleNavigation)({offerId:n}),p=d.createUserBnplTransactionStartPollingAndHandleNavigation,m=d.userBnplTransactionCreatedAt,g=d.isLoading,h=d.setIsLoading;u.useEffect((function(){m&&t(m)}),[m]);var b={offerId:n,isPricePaddingApplied:l,pricePaddingAmount:r},y=function(){(0,_.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"submittedBnplPricePaddingChoice",payload:b}}}),(0,_.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Submitted Price Padding Choice",properties:b}}}),c?(s(!0),function(e){var t=e.priceInCents,n=e.createUserBnplTransactionStartPollingAndHandleNavigation,r=e.setIsLoading;r(!0),n(t)}({priceInCents:o,createUserBnplTransactionStartPollingAndHandleNavigation:p,setIsLoading:h})):a({screenName:f.BnplScreenName.userInfoScreen})};return[g,y]}({setUserBnplTransactionCreatedAtForNavigation:a,offerId:r.offerId,pricePaddingAmount:p}),2),A=k[0],N=k[1];(0,P.useSetBnplPanelHeight)({size:"small",setHeight:t});var j=(0,f.useHasFeature)(f.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),z=((0,w.usePanelDisplayContext)()||{}).closePanelAndLogEvents,F=function(){var e=(0,P.useBnplNavigationContext)(),t=e.offer,n=e.setCurrentBnplScreenNameAndLogEvents,r=e.setIsPricePaddingApplied;return function(){var e=f.BnplScreenName.pricePaddingScreen,i={offerId:t.offerId,fromScreen:e};(0,_.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedBnplSubscriptionFlowBackButton",payload:i}}}),(0,_.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Clicked BNPL Subscription Flow Back Button",properties:i}}}),r(!1),n({screenName:f.BnplScreenName.priceInputScreen})}}();return u.createElement(u.Fragment,null,u.createElement(I.DesignSystemBnplHeader,i({},{close:function(){j?null==z||z("bnplSubscription"):d()},goBack:F})),u.createElement(C.DesignSystemBodyContainer,null,u.createElement(D,null,u.createElement(y.TextContent,{textContentLayoutType:y.TextContentLayoutType.content},u.createElement(v.default,{titleSize:v.TitleSize.medium,titleWeight:v.TitleWeight.bold,text:x.title,shouldAlignTextLeft:!0}),u.createElement(L,null,u.createElement(b.Subtitle,{subtitleSize:b.SubtitleSize.small,text:x.subtitle,shouldAlignTextLeft:!0,color:E.colors.content.secondary}),u.createElement(T,{offerId:r.offerId}))),u.createElement(M,null,u.createElement(O,i({},{originalPriceInCents:S,setBnplPriceInCentsForNavigation:l,isLoading:A})),u.createElement(O,i({},{originalPriceInCents:S,pricePaddingAmount:p||5,setBnplPriceInCentsForNavigation:l,isLoading:A}))),u.createElement(h.StickyButtonWrapper,null,u.createElement(g.ButtonSet,{buttonSetLayoutType:g.ButtonSetLayoutType.horizontal},u.createElement(m.Button,{hierarchy:m.ButtonHierarchy.primary,buttonState:A?m.ButtonState.loading:m.ButtonState.default,buttonSize:m.ButtonSize.medium,shouldShowLabel:!0,shouldTakeFullWidth:!0,label:x.button,onClick:N}))))))};var k,A,N,D=d.default.div(k||(k=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"])),E.measurements.spacings.medium),L=d.default.div(A||(A=r(["\n    flex-direction: row;\n"],["\n    flex-direction: row;\n"]))),M=d.default.div(N||(N=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"])),E.measurements.spacings.small)},22296:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},d=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=l(n(96540)),m=f(n(95093)),g=f(n(38267)),h=n(55015),b=n(59812),y=n(2286),v=n(67454),x=n(86028),S=l(n(96410)),E=n(30503),B=f(n(33857)),_=n(17436),I=n(14568),C=n(70992),P=n(17621),w=n(31229),T=n(46239),O=n(77864),k=n(95699),A=n(21736),N=l(n(13944)),D=n(79210),L=n(97669);function M(e){var t=e.offer,n=e.isLoading,r=e.isBeforeFirstAttempt,a=e.bnplUserInformation,o=e.isBnplUserInformationValid,l=e.userBnplTransactionCreatedAt,s=e.onPress,c=e.invalidInputNames,u=(0,h.useLocalizedTexts)().designSystem.contentscript.bnpl.userInfo,d=p.useRef(null);return p.useEffect((function(){n&&d.current&&d.current.scrollIntoView({behavior:"smooth"})}),[n]),p.createElement(p.Fragment,null,p.createElement(S.default,{titleSize:S.TitleSize.medium,titleWeight:S.TitleWeight.bold,text:u.title,shouldAlignTextLeft:!0,color:_.colors.content.default}),p.createElement(E.Banner,{bannerStyle:E.BannerStyle.neutral,shouldShowLeftIcon:!0,leftIconSvgComponent:B.default},p.createElement(x.TextContent,{textContentLayoutType:x.TextContentLayoutType.content},p.createElement(v.Subtitle,{subtitleSize:v.SubtitleSize.small,text:u.subtitle,color:_.colors.content.default,shouldAlignTextLeft:!0}))),p.createElement(N.default,i({},i(i({},a),{isLoading:n,isBeforeFirstAttempt:r,invalidInputNames:c}))),p.createElement(D.DesignSystemFloaTermsOfService,i({},{userBnplTransactionCreatedAt:l},{buttonName:u.button.toLowerCase(),offerId:t.offerId,fromScreen:"userInfoScreen"})),p.createElement(F,null,p.createElement(R,{ref:d}),p.createElement(y.ButtonSet,{buttonSetLayoutType:y.ButtonSetLayoutType.horizontal},p.createElement(b.Button,{hierarchy:b.ButtonHierarchy.primary,buttonState:n?b.ButtonState.loading:o?b.ButtonState.default:b.ButtonState.disabled,buttonSize:b.ButtonSize.medium,shouldShowLabel:!0,shouldTakeFullWidth:!0,label:u.button,onClick:s}))))}t.default=function(e){var t=e.setHeight,n=(0,A.useBnplNavigationContext)(),r=n.offer,a=n.closeBnplPanelAndLogEvents,o=n.setUserBnplTransactionCreatedAt,l=n.priceInCents,f=(0,I.useBnplUserInformation)(),g=f.bnplUserInformation,b=f.isBnplUserInformationValid,y=u(p.useState(!0),2),v=y[0],x=y[1],S=p.useRef(new Set),E=u(function(e){var t=this,n=e.isBnplUserInformationValid,r=e.setIsBeforeFirstAttempt,i=e.bnplUserInformation,a=e.setUserBnplTransactionCreatedAtForNavigation,o=e.priceInCents,l=e.offerId,u=e.invalidInputNames,f=(0,w.useUser)(),g=(0,I.useCreateUserBnplTransactionStartPollingAndHandleNavigation)({offerId:l}),b=g.createUserBnplTransactionStartPollingAndHandleNavigation,y=g.userBnplTransactionCreatedAt,v=g.isLoading,x=g.setIsLoading;p.useEffect((function(){y&&a(y)}),[y]);var S=(0,I.formatPhoneNumber)(i.phoneNumber),E={offerId:l,price:o},B=function(){return s(t,void 0,void 0,(function(){var e,t,a,s,p,g;return c(this,(function(c){switch(c.label){case 0:return(0,T.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"submittedBnplUserInfo",payload:E}}}),(0,T.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Submitted User Info",properties:E}}}),f&&o&&l?n&&i.birthFrenchDepartment&&S?(x(!0),(t=!f.phoneNumber||f.phoneNumber!==S)?[4,(0,w.checkIsPhoneNumberDuplicate)(S)]:[3,2]):((0,T.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"submittedInvalidBnplUserInfo",payload:E}}}),(0,T.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Submitted Invalid User Info",properties:E}}}),r(!1),e=function(e){var t=function(e){var t,n,r,i;try{for(var a=d(Array.from(e)),o=a.next();!o.done;o=a.next()){var l=o.value;null!==N.INPUT_NAMES_ORDER[l]&&(void 0===i||N.INPUT_NAMES_ORDER[l]<i)&&(i=N.INPUT_NAMES_ORDER[l],r=l)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r}(e);return t?"input_".concat(t):null}(u.current),e&&function(e){var t=(0,P.getHashedElementId)(P.JokoExtensionElement.bnplSubscriptionFrame),n=document.getElementById(t);if(!n)return;var r=n.contentDocument||(n.contentWindow?n.contentWindow.document:void 0);if(!r)return;var i=r.getElementById(e);i&&i.scrollIntoView({behavior:"smooth",block:"nearest"})}(e),[2]):[2];case 1:t=c.sent(),c.label=2;case 2:return t?((0,T.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"submittedBnplDuplicatePhoneNumber",payload:E}}}),(0,T.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Submitted Duplicate Phone Number",properties:E}}}),r(!1),[2]):(a={birthDate:(0,m.default)(i.formattedBirthDate,"DD/MM/YYYY").format("YYYY-MM-DD"),firstName:null===(s=i.firstName)||void 0===s?void 0:s.trim(),lastName:null===(p=i.lastName)||void 0===p?void 0:p.trim(),birthLastName:i.birthLastName,birthFrenchDepartment:i.birthFrenchDepartment,gender:i.gender,postalAddress:{postalAddress:null===(g=i.postalAddress)||void 0===g?void 0:g.trim(),city:i.city,zipCode:i.zipCode,countryCode:h.PostalAddressCountryCode.FR}},(null==f?void 0:f.phoneNumber)&&f.phoneNumber===S||(a.phoneNumber=S,a.phoneNumberStatus=h.PhoneNumberStatus.pending),f.bnplEmail&&f.bnplEmail===i.bnplEmail||(a.bnplEmail=i.bnplEmail),[4,(0,w.updateUser)(a)]);case 3:return c.sent(),(0,T.sendMessageToBackgroundScript)({message:"getUser",data:{throttlingInMs:0}}),(null==f?void 0:f.phoneNumber)&&f.phoneNumber===S?[3,5]:[4,(0,C.updateCognitoPhoneNumber)(S)];case 4:c.sent(),c.label=5;case 5:return b(o),[2]}}))}))};return[v,B,y]}({isBnplUserInformationValid:b,setIsBeforeFirstAttempt:x,bnplUserInformation:g,setUserBnplTransactionCreatedAtForNavigation:o,priceInCents:l,offerId:r.offerId,invalidInputNames:S}),3),B=E[0],_=E[1],D=E[2];(0,A.useSetBnplPanelHeight)({size:"large",setHeight:t});var j=(0,h.useHasFeature)(h.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),z=(0,L.usePanelDisplayContext)()||{bnpl:{}},F=z.closePanelAndLogEvents,R=z.bnpl.setIsInBnplSubscription,U=function(){var e=(0,A.useBnplNavigationContext)(),t=e.offer,n=e.setCurrentBnplScreenNameAndLogEvents;return function(){var e={offerId:t.offerId,fromScreen:h.BnplScreenName.userInfoScreen};(0,T.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedBnplSubscriptionFlowBackButton",payload:e}}}),(0,T.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Clicked BNPL Subscription Flow Back Button",properties:e}}}),n({screenName:h.BnplScreenName.pricePaddingScreen})}}();return p.createElement(p.Fragment,null,p.createElement(O.DesignSystemBnplHeader,i({goBack:B?void 0:U},{close:function(){j?(null==R||R(!1),null==F||F("bnplSubscription")):a()}})),p.createElement(k.DesignSystemBodyContainerScrollArea,null,p.createElement(M,i({},{offer:r,bnplUserInformation:g,isBeforeFirstAttempt:v,isBnplUserInformationValid:b,userBnplTransactionCreatedAt:D,isLoading:B,onPress:_,invalidInputNames:S}))))};var j,z,F=g.default.div(j||(j=r(["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n"]))),R=g.default.div(z||(z=r(["\n    height: ",";\n"],["\n    height: ",";\n"])),_.measurements.spacings.small)},44065:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DesignSystemBnplCardDetailsTable=t.useCardDetailsRows=t.DesignSystemBnplCardDetailsPanel=void 0;var u=c(n(96540)),d=c(n(38267)),f=n(55015),p=n(81778),m=n(67454),g=n(86028),h=l(n(96410)),b=c(n(3413)),y=c(n(86580)),v=n(59674),x=n(17436),S=n(14568),E=n(31229),B=n(46239),_=n(77864),I=n(95699);function C(e){var t,n=e.offer,r=e.user,i=e.formattedAmount,a=e.userBnplTransaction,o=(0,f.useLocalizedTexts)().designSystem.contentscript.bnpl.cardDetailsWithTopBar;return(null===(t=null==a?void 0:a.amount)||void 0===t?void 0:t.valueInCents)&&a.swanPaymentCard&&a.swanPaymentCard.confidentialCardData&&a.swanPaymentCard.confidentialCardData.pan&&a.swanPaymentCard.confidentialCardData.expiryDate&&a.swanPaymentCard.confidentialCardData.cvv&&r&&r.userInfo&&r.userInfo.firstName&&r.userInfo.lastName&&i?[{label:o.labels.merchantName,value:n.screen.title},{label:o.labels.amount,value:o.values.amountValue(i)},{label:o.labels.cardType,value:"Mastercard"},{label:o.labels.cardHolderName,value:"".concat(r.userInfo.firstName," ").concat(r.userInfo.lastName),copiedData:"cardHolderName"},{label:o.labels.personalAccountNumber,value:a.swanPaymentCard.confidentialCardData.pan,copiedData:"personalAccountNumber"},{label:o.labels.expiryDate,value:a.swanPaymentCard.confidentialCardData.expiryDate,copiedData:"expiryDate"},{label:o.labels.cardVerificationNumber,value:a.swanPaymentCard.confidentialCardData.cvv,copiedData:"cardVerificationValue"}]:null}function P(e){var t=e.offerId,n=e.cardDetailsRows,r=s(u.default.useState(null),2),i=r[0],a=r[1],o=u.default.useRef(void 0),l=(0,f.useLocalizedTexts)().designSystem.contentscript.bnpl.cardDetailsWithTopBar;return u.default.createElement(I.DesignSystemBodyContainerScrollArea,null,u.default.createElement(g.TextContent,{textContentLayoutType:g.TextContentLayoutType.content},u.default.createElement(h.default,{titleSize:h.TitleSize.xLarge,titleWeight:h.TitleWeight.bold,text:l.title,shouldAlignTextLeft:!0}),u.default.createElement(m.Subtitle,{subtitleSize:m.SubtitleSize.medium,text:l.subtitle,shouldAlignTextLeft:!0})),u.default.createElement(j,null,u.default.createElement(z,null,u.default.createElement("tbody",null,n.map((function(e,n){var r=e.label,l=e.value,s=e.copiedData;return u.default.createElement("tr",{key:"card-ready-details-row-".concat(n)},u.default.createElement("td",null,u.default.createElement(h.default,{titleSize:h.TitleSize.small,titleWeight:h.TitleWeight.semiBold,text:r})),u.default.createElement("td",null,u.default.createElement(m.Subtitle,{subtitleSize:m.SubtitleSize.small,text:l,color:x.colors.content.default})),s?u.default.createElement(w,{isCopied:i===n,onClick:function(){return function(e){var t=e.offerId,n=e.copiedData,r=e.value,i=e.index,a=e.setCopiedButtonIndex,o=e.timeoutRef;o.current&&clearTimeout(o.current);a(i);var l={offerId:t,copiedData:n};(0,B.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"copiedBnplCardData",payload:l}}}),(0,B.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Copied BNPL Card Data",properties:l}}}),navigator.clipboard.writeText(r),o.current=setTimeout((function(){return a(null)}),3e3)}({offerId:t,copiedData:s,value:l,index:n,setCopiedButtonIndex:a,timeoutRef:o})}}):u.default.createElement("td",null))}))))))}function w(e){var t=e.isCopied,n=e.onClick;return u.default.createElement("td",{onClick:t?void 0:n,style:{cursor:t?"default":"pointer"}},u.default.createElement(p.StyledSvg,{width:x.measurements.icons.medium,height:x.measurements.icons.medium,component:t?y.default:b.default,color:x.colors.brand.greenLight}))}function T(e){var t=e.textDetails,n=e.value,r=e.copiedData,i=e.offerId,a=s(u.default.useState(!1),2),o=a[0],l=a[1],c=(0,f.useLocalizedTexts)().designSystem.contentscript.bnpl.cardDetails;return u.default.createElement(R,null,u.default.createElement(U,null,u.default.createElement(h.default,{titleSize:h.TitleSize.medium,titleWeight:h.TitleWeight.semiBold,text:t,color:x.colors.content.secondary,shouldAlignTextLeft:!0})),u.default.createElement(H,null,u.default.createElement(h.default,{titleSize:h.TitleSize.medium,titleWeight:h.TitleWeight.semiBold,text:n,shouldAlignTextLeft:!0})),u.default.createElement(W,{onClick:function(){var e={copiedData:r,offerId:i};(0,B.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"copiedBnplCardData",payload:e}}}),(0,B.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Copied BNPL Card Data",properties:e}}}),l(!0),navigator.clipboard.writeText(n),setTimeout((function(){return l(!1)}),1e3)}},u.default.createElement(h.default,{titleSize:h.TitleSize.medium,titleWeight:h.TitleWeight.semiBold,text:o?c.copied:c.copy,color:x.colors.brand.greenLight})))}t.DesignSystemBnplCardDetailsPanel=function(e){var t,n=e.offer,r=e.userBnplTransactionCreatedAt,a=e.close,o=e.shouldUseBnplTopBar,l=(0,E.useUser)(),s=(0,S.useUserBnplTransaction)(r),c=(0,f.useLocalizedFormat)(),d=(0,f.useLocalizedTexts)().designSystem.contentscript.bnpl.cardDetails;(0,S.useUpdateProvisionedUserBnplTransactionsLocalStorage)(s);var p=(null===(t=null==s?void 0:s.amount)||void 0===t?void 0:t.valueInCents)?(0,f.formatCurrencyAmount)({localizedFormat:c,number:s.amount.valueInCents/100}):void 0,m=C({offer:n,user:l,formattedAmount:p,userBnplTransaction:s}),g=function(e){var t,n=e.user,r=e.userBnplTransaction,i=(0,f.useLocalizedTexts)().designSystem.contentscript.bnpl.cardDetails;return(null===(t=null==r?void 0:r.amount)||void 0===t?void 0:t.valueInCents)&&r.swanPaymentCard&&r.swanPaymentCard.confidentialCardData&&r.swanPaymentCard.confidentialCardData.pan&&r.swanPaymentCard.confidentialCardData.expiryDate&&r.swanPaymentCard.confidentialCardData.cvv&&n&&n.userInfo&&n.userInfo.firstName&&n.userInfo.lastName?[{textDetails:i.personalAccountNumber,value:r.swanPaymentCard.confidentialCardData.pan,copiedData:"personalAccountNumber"},{textDetails:i.expiryDate,value:r.swanPaymentCard.confidentialCardData.expiryDate,copiedData:"expiryDate"},{textDetails:i.cardVerificationValue,value:r.swanPaymentCard.confidentialCardData.cvv,copiedData:"cardVerificationValue"},{textDetails:i.cardHolderName,value:"".concat(n.userInfo.firstName," ").concat(n.userInfo.lastName),copiedData:"cardHolderName"}]:null}({user:l,userBnplTransaction:s});return o?m?u.default.createElement(u.default.Fragment,null,u.default.createElement(_.DesignSystemBnplCardReadyWidgetHeader,i({},{close:a})),u.default.createElement(P,i({offerId:n.offerId},{cardDetailsRows:m}))):null:g&&p?u.default.createElement(F,null,u.default.createElement(R,null,u.default.createElement(U,null,u.default.createElement(h.default,{titleSize:h.TitleSize.medium,titleWeight:h.TitleWeight.semiBold,text:d.amount,color:x.colors.content.secondary,shouldAlignTextLeft:!0})),u.default.createElement(H,null,u.default.createElement(h.default,{titleSize:h.TitleSize.medium,titleWeight:h.TitleWeight.semiBold,text:p+" ".concat(d.merchant({merchantName:n.screen.title})),shouldAlignTextLeft:!0}))),g.map((function(e,t){var r=e.textDetails,a=e.value,o=e.copiedData;return u.default.createElement(T,i({},{textDetails:r,value:a,copiedData:o},{offerId:n.offerId,key:t}))}))):null},t.useCardDetailsRows=C,t.DesignSystemBnplCardDetailsTable=P;var O,k,A,N,D,L,M,j=d.default.div(O||(O=r(["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    padding: "," ",";\n    border-radius: ",";\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    padding: "," ",";\n    border-radius: ",";\n    background-color: ",";\n"])),x.measurements.spacings.xSmall,x.measurements.spacings.medium,x.measurements.radius.xSmall,x.colors.background.light),z=d.default.table(k||(k=r(["\n    width: 100%;\n    border-collapse: collapse;\n\n    & tr {\n        border-style: solid;\n        border-width: 1px 0;\n        border-color: ",";\n        line-height: 2.1;\n        -webkit-tap-highlight-color: transparent;\n    }\n\n    & tr:first-child {\n        border-top: none;\n    }\n\n    & tr:last-child {\n        border-bottom: none;\n    }\n\n    & td:nth-of-type(2) > span {\n        font-weight: 400;\n    }\n"],["\n    width: 100%;\n    border-collapse: collapse;\n\n    & tr {\n        border-style: solid;\n        border-width: 1px 0;\n        border-color: ",";\n        line-height: 2.1;\n        -webkit-tap-highlight-color: transparent;\n    }\n\n    & tr:first-child {\n        border-top: none;\n    }\n\n    & tr:last-child {\n        border-bottom: none;\n    }\n\n    & td:nth-of-type(2) > span {\n        font-weight: 400;\n    }\n"])),x.colors.border.subtle),F=d.default.div(A||(A=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-self: stretch;\n    gap: ",";\n"])),x.measurements.spacings.xSmall),R=d.default.div(N||(N=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: row;\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: row;\n"]))),U=d.default.div(D||(D=r(["\n    width: 30%;\n"],["\n    width: 30%;\n"]))),H=d.default.div(L||(L=r(["\n    display: flex;\n    flex: 1;\n"],["\n    display: flex;\n    flex: 1;\n"]))),W=d.default.button(M||(M=r(["\n    border: none;\n    background: none;\n    text-align: right;\n    ","\n"],["\n    border: none;\n    background: none;\n    text-align: right;\n    ","\n"])),v.CLICKABLE_ELEMENT_CSS_MIXIN)},13290:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(96540)),d=c(n(95093)),f=n(2309),p=c(n(38267)),m=n(55015),g=n(14568),h=n(47615),b=n(47175),y=n(46239),v=n(51155),x=n(74648),S=n(13897),E=n(97669);function B(e){var t=e.eligibilityInstallments,n=e.formattedAmount,r=e.merchantName;return u.createElement(u.Fragment,null,u.createElement(I,i({},{merchantName:r})),u.createElement(U,null,u.createElement(Q,{src:b.STEPS_TO_COMPLETE_VERTICAL_SOLID_LINES_ILLUSTRATION_URL}),u.createElement(H,null,t.map((function(e){return u.createElement(_,i({key:e.rank.toString()},{eligibilityInstallment:e}))})))),u.createElement(C,i({},{formattedAmount:n})))}function _(e){var t=e.eligibilityInstallment,n=(0,m.useLocalizedTexts)().contentscript.bnpl.eligibilityScheduleRedesigned;if(!t.amount)return null;var r=1===t.rank,a=r?n.today:n.date({date:d.default.utc(t.date||void 0)}),o=(0,m.formatCurrencyAmount)({localizedFormat:m.frFormat,number:t.amount/100});return u.createElement(W,i({},{isFirstInstallment:r}),u.createElement(J,null,n.payAmount({formattedAmount:o})),u.createElement(X,null,a))}function I(e){var t=e.merchantName,n=(0,m.useLocalizedTexts)().contentscript.bnpl.eligibilityScheduleRedesigned;return u.createElement(G,null,u.createElement($,{src:b.INFO_CIRCLE_BLACK_ICON_URL}),u.createElement(Z,null,n.debitInfo({merchantName:t})))}function C(e){var t=e.formattedAmount,n=(0,m.useLocalizedTexts)().contentscript.bnpl.eligibilityScheduleRedesigned;return u.createElement(K,null,u.createElement(V,null,u.createElement(Y,null,n.totalAmount),u.createElement(Y,null,t)),u.createElement(q,null,n.totalAmountSubtitle))}function P(e){var t=e.onPress,n=e.isLoading,r=(0,m.useLocalizedTexts)().contentscript.bnpl.eligibilityScheduleRedesigned;return u.createElement(x.Button,{isFullWidth:!0,onClick:t,disabled:n},n?u.createElement(x.LoadingIndicatorContainer,null,u.createElement(f.TailSpin,{width:24,height:24,color:m.colors.white})):r.button)}t.default=function(e){var t=e.setHeight,n=(0,S.useBnplNavigationContext)(),r=n.offer,a=n.closeBnplPanelAndLogEvents,o=n.userBnplTransactionCreatedAt,l=(0,g.useUserBnplTransaction)(o),c=s(u.useState(!1),2),d=c[0],p=c[1],b=s(u.useState(!1),2),_=b[0],I=b[1];(0,S.useSetBnplPanelHeight)({size:"large",setHeight:t,maximumHeight:558}),(0,h.usePaymentSessionNavigation)({setIsLoading:I,userBnplTransactionCreatedAt:o,hasPressedContinue:d});var C=(0,m.useLocalizedTexts)().contentscript.bnpl.eligibilityScheduleRedesigned,w=(0,m.useHasFeature)(m.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),T=(0,E.usePanelDisplayContext)()||{bnpl:{}},O=T.closePanelAndLogEvents,k=T.bnpl.setIsInBnplSubscription,A=function(){var e=(0,S.useBnplNavigationContext)(),t=e.offer,n=e.setCurrentBnplScreenNameAndLogEvents,r=e.userBnplTransactionCreatedAt,i=e.hasSkippedUserInfoPanel;return function(){var e={offerId:t.offerId,userBnplTransactionCreatedAt:r,fromScreen:m.BnplScreenName.eligibilityScheduleScreen};(0,y.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedBnplSubscriptionFlowBackButton",payload:e}}}),(0,y.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Clicked BNPL Subscription Flow Back Button",properties:e}}}),n({screenName:i?m.BnplScreenName.pricePaddingScreen:m.BnplScreenName.userInfoScreen})}}(),N=(0,g.checkIsFloaEligibilityAccepted)(l),D=N?(0,m.formatCurrencyAmount)({localizedFormat:m.frFormat,number:l.amount.valueInCents/100}):"";return u.createElement(u.Fragment,null,u.createElement(v.BnplHeader,i({},{close:function(){w?(null==k||k(!1),null==O||O("bnplSubscription")):a()},goBack:A})),u.createElement(x.BodyContainerScrollArea,{style:{alignItems:"center",justifyContent:N?"flex-start":"center"}},N?u.createElement(u.Fragment,null,u.createElement("div",{style:{alignSelf:"flex-start"}},u.createElement(x.BnplPanelTitle,{style:{marginTop:16}},C.title),u.createElement(B,i({eligibilityInstallments:l.floaEligibilityInstallmentSchedule.eligibilityInstallments,merchantName:r.screen.title},{formattedAmount:D}))),u.createElement(x.FixedButtonContainer,null,u.createElement(P,i({},{onPress:function(){I(!0),p(!0),function(e,t){var n={offerId:e,userBnplTransactionCreatedAt:t};(0,y.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"acknowledgedBnplPaymentSchedule",payload:n}}}),(0,y.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Acknowledged payment schedule",properties:n}}})}(r.offerId,o)},isLoading:_})))):u.createElement(x.LoadingIndicatorContainer,null,u.createElement(f.TailSpin,{width:50,height:50,color:m.colors.black}))))};var w,T,O,k,A,N,D,L,M,j,z,F,R,U=p.default.div(w||(w=r(["\n    display: flex;\n    flex-direction: row;\n"],["\n    display: flex;\n    flex-direction: row;\n"]))),H=p.default.div(T||(T=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    margin-top: 18px;\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    margin-top: 18px;\n"]))),W=p.default.div(O||(O=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: left;\n    padding-left: 16px;\n    margin-top: ","px;\n    color: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: left;\n    padding-left: 16px;\n    margin-top: ","px;\n    color: ",";\n"])),(function(e){return e.isFirstInstallment?0:24}),(function(e){return e.isFirstInstallment?m.colors.black:m.colors.gray})),G=p.default.div(k||(k=r(["\n    display: flex;\n    flex-direction: row;\n    margin-top: 12px;\n    padding-top: 12px;\n    padding-bottom: 12px;\n    padding-left: 6px;\n    border-radius: 8px;\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    margin-top: 12px;\n    padding-top: 12px;\n    padding-bottom: 12px;\n    padding-left: 6px;\n    border-radius: 8px;\n    background-color: ",";\n"])),m.colors.concrete),V=p.default.div(A||(A=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n"]))),K=p.default.div(N||(N=r(["\n    margin-top: 16px;\n    margin-bottom: 16px;\n    padding-top: 16px;\n    padding-bottom: 4px;\n    border-style: solid;\n    border-color: ",";\n    border-width: 1px 0 0;\n"],["\n    margin-top: 16px;\n    margin-bottom: 16px;\n    padding-top: 16px;\n    padding-bottom: 4px;\n    border-style: solid;\n    border-color: ",";\n    border-width: 1px 0 0;\n"])),m.colors.gallery),J=p.default.div(D||(D=r(["\n    font-family: ",";\n    font-weight: 700;\n    font-size: 16px;\n    line-height: 24px;\n"],["\n    font-family: ",";\n    font-weight: 700;\n    font-size: 16px;\n    line-height: 24px;\n"])),m.fontFamilyAmbit),X=p.default.div(L||(L=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 22px;\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 22px;\n"])),m.fontFamilyAmbit),Z=p.default.div(M||(M=r(["\n    padding-right: 4px;\n    padding-left: 4px;\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 22px;\n    color: ",";\n"],["\n    padding-right: 4px;\n    padding-left: 4px;\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 22px;\n    color: ",";\n"])),m.fontFamilyAmbit,m.colors.black),Y=p.default.div(j||(j=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 18px;\n    line-height: 34px;\n    color: ",";\n    text-align: right;\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 18px;\n    line-height: 34px;\n    color: ",";\n    text-align: right;\n"])),m.fontFamilyAmbit,m.colors.black),q=p.default.div(z||(z=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 18px;\n    color: ",";\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 16px;\n    line-height: 18px;\n    color: ",";\n"])),m.fontFamilyAmbit,m.colors.doveGray),Q=p.default.img(F||(F=r(["\n    width: 30px;\n    height: 178px;\n    margin-top: 24px;\n    margin-left: 18px;\n"],["\n    width: 30px;\n    height: 178px;\n    margin-top: 24px;\n    margin-left: 18px;\n"]))),$=p.default.img(R||(R=r(["\n    width: 12px;\n    height: 12px;\n    margin: 4px;\n    object-fit: contain;\n"],["\n    width: 12px;\n    height: 12px;\n    margin: 4px;\n    object-fit: contain;\n"])))},569:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(n(96540)),d=c(n(95093)),f=n(2309),p=c(n(38267)),m=n(55015),g=n(59812),h=n(2286),b=n(21136),y=n(67454),v=n(86028),x=l(n(96410)),S=n(30503),E=c(n(33857)),B=n(59674),_=n(17436),I=n(14568),C=n(47615),P=n(47175),w=n(46239),T=n(77864),O=n(95699),k=n(21736),A=n(97669);function N(e){var t=e.eligibilityInstallments,n=e.formattedAmount,r=e.merchantName;return u.createElement(u.Fragment,null,u.createElement(L,i({},{merchantName:r})),u.createElement(H,null,u.createElement(W,{src:P.STEPS_TO_COMPLETE_VERTICAL_SOLID_LINES_ILLUSTRATION_URL}),u.createElement(G,null,t.map((function(e){return u.createElement(D,i({key:e.rank.toString()},{eligibilityInstallment:e}))})))),u.createElement(M,i({},{formattedAmount:n})))}function D(e){var t=e.eligibilityInstallment,n=(0,m.useLocalizedTexts)().designSystem.contentscript.bnpl.eligibilityScheduleRedesigned,r=(0,m.useLocalizedFormat)();if(!t.amount)return null;var i=1===t.rank,a=i?n.today:n.date({date:d.default.utc(t.date||void 0)}),o=(0,m.formatCurrencyAmount)({localizedFormat:r,number:t.amount/100});return u.createElement(v.TextContent,{textContentLayoutType:v.TextContentLayoutType.content},u.createElement(x.default,{titleSize:x.TitleSize.medium,titleWeight:x.TitleWeight.bold,text:n.payAmount({formattedAmount:o}),color:i?_.colors.content.default:_.colors.content.secondary,shouldAlignTextLeft:!0}),u.createElement(y.Subtitle,{subtitleSize:y.SubtitleSize.small,text:a,color:i?_.colors.content.default:_.colors.content.secondary,shouldAlignTextLeft:!0}))}function L(e){var t=e.merchantName,n=(0,m.useLocalizedTexts)().designSystem.contentscript.bnpl.eligibilityScheduleRedesigned;return u.createElement(S.Banner,{bannerStyle:S.BannerStyle.neutral,shouldShowLeftIcon:!0,leftIconSvgComponent:E.default},u.createElement(v.TextContent,{textContentLayoutType:v.TextContentLayoutType.content},u.createElement(y.Subtitle,{subtitleSize:y.SubtitleSize.medium,text:n.debitInfo({merchantName:t}),color:_.colors.content.default,shouldAlignTextLeft:!0})))}function M(e){var t=e.formattedAmount,n=(0,m.useLocalizedTexts)().designSystem.contentscript.bnpl.eligibilityScheduleRedesigned;return u.createElement(V,null,u.createElement(v.TextContent,{textContentLayoutType:v.TextContentLayoutType.horizontalContent},u.createElement(K,null,n.totalAmount),u.createElement(K,null,t)),u.createElement(y.Subtitle,{subtitleSize:y.SubtitleSize.medium,text:n.totalAmountSubtitle,shouldAlignTextLeft:!0}))}t.default=function(e){var t=e.setHeight,n=(0,k.useBnplNavigationContext)(),r=n.offer,a=n.closeBnplPanelAndLogEvents,o=n.userBnplTransactionCreatedAt,l=(0,I.useUserBnplTransaction)(o),c=s(u.useState(!1),2),d=c[0],p=c[1],y=s(u.useState(!1),2),v=y[0],S=y[1];(0,k.useSetBnplPanelHeight)({size:"large",setHeight:t,maximumHeight:558}),(0,C.usePaymentSessionNavigation)({setIsLoading:S,userBnplTransactionCreatedAt:o,hasPressedContinue:d});var E=(0,m.useLocalizedTexts)().designSystem.contentscript.bnpl.eligibilityScheduleRedesigned,P=(0,m.useHasFeature)(m.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),D=(0,A.usePanelDisplayContext)()||{bnpl:{}},L=D.closePanelAndLogEvents,M=D.bnpl.setIsInBnplSubscription,j=function(){var e=(0,k.useBnplNavigationContext)(),t=e.offer,n=e.setCurrentBnplScreenNameAndLogEvents,r=e.userBnplTransactionCreatedAt,i=e.hasSkippedUserInfoPanel;return function(){var e={offerId:t.offerId,userBnplTransactionCreatedAt:r,fromScreen:m.BnplScreenName.eligibilityScheduleScreen};(0,w.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedBnplSubscriptionFlowBackButton",payload:e}}}),(0,w.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Clicked BNPL Subscription Flow Back Button",properties:e}}}),n({screenName:i?m.BnplScreenName.pricePaddingScreen:m.BnplScreenName.userInfoScreen})}}(),z=(0,I.checkIsFloaEligibilityAccepted)(l),F=z?(0,m.formatCurrencyAmount)({localizedFormat:m.frFormat,number:l.amount.valueInCents/100}):"";return u.createElement(u.Fragment,null,u.createElement(T.DesignSystemBnplHeader,i({},{close:function(){P?(null==M||M(!1),null==L||L("bnplSubscription")):a()},goBack:j})),u.createElement(O.DesignSystemBodyContainerScrollArea,null,z?u.createElement(u.Fragment,null,u.createElement(x.default,{titleSize:x.TitleSize.xLarge,titleWeight:x.TitleWeight.bold,text:E.title,shouldAlignTextLeft:!0}),u.createElement(N,i({eligibilityInstallments:l.floaEligibilityInstallmentSchedule.eligibilityInstallments,merchantName:r.screen.title},{formattedAmount:F})),u.createElement(b.StickyButtonWrapper,{placeholderHeight:B.SINGLE_MEDIUM_STICKY_BUTTON_PLACEHOLDER_HEIGHT},u.createElement(h.ButtonSet,{buttonSetLayoutType:h.ButtonSetLayoutType.horizontal},u.createElement(g.Button,{hierarchy:g.ButtonHierarchy.primary,buttonState:v?g.ButtonState.loading:g.ButtonState.default,buttonSize:g.ButtonSize.medium,shouldShowLabel:!0,shouldTakeFullWidth:!0,label:E.button,onClick:function(){S(!0),p(!0),function(e,t){var n={offerId:e,userBnplTransactionCreatedAt:t};(0,w.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"acknowledgedBnplPaymentSchedule",payload:n}}}),(0,w.sendMessageToBackgroundScript)({message:"logAmplitudeEvent",data:{event:{type:"BNPL - Acknowledged payment schedule",properties:n}}})}(r.offerId,o)}})))):u.createElement(O.LoadingIndicatorContainer,null,u.createElement(f.TailSpin,{width:B.BNPL_SPINNER_SIZE,height:B.BNPL_SPINNER_SIZE,color:_.colors.content.default}))))};var j,z,F,R,U,H=p.default.div(j||(j=r(["\n    display: flex;\n    flex-direction: row;\n    gap: ",";\n    padding: 0 ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    gap: ",";\n    padding: 0 ",";\n"])),_.measurements.spacings.medium,_.measurements.spacings.medium),W=p.default.img(z||(z=r(["\n    width: 30px;\n    height: 178px;\n"],["\n    width: 30px;\n    height: 178px;\n"]))),G=p.default.div(F||(F=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    gap: ",";\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    gap: ",";\n"])),_.measurements.spacings.large),V=p.default.div(R||(R=r(["\n    align-self: stretch;\n    padding-top: ",";\n    padding-bottom: ",";\n    border-top: 1px solid ",";\n"],["\n    align-self: stretch;\n    padding-top: ",";\n    padding-bottom: ",";\n    border-top: 1px solid ",";\n"])),_.measurements.spacings.medium,_.measurements.spacings.xSmall,_.colors.border.subtle),K=p.default.div(U||(U=r(["\n    font-family: ",";\n    font-weight: ",";\n    font-size: ",";\n    line-height: ",";\n    color: ",";\n"],["\n    font-family: ",";\n    font-weight: ",";\n    font-size: ",";\n    line-height: ",";\n    color: ",";\n"])),_.typographies.fonts.paragraph,_.typographies.fontWeights.semiBold,_.typographies.fontSizes.paragraph.large,_.typographies.lineHeights.paragraph.large,_.colors.content.default)},77807:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(96540)),u=s(n(38267)),d=n(55015),f=n(12233),p=n(47615),m=n(17621),g=n(32668),h=n(26368),b=n(74617),y=n(74648),v=n(24941),x=n(13897),S=n(15557),E=s(n(56029)),B=n(68174),_=n(20989),I=s(n(77374));function C(e){var t=e.offer,n=e.userBnplTransactionCreatedAt,r=l(c.default.useState(!0),2),a=r[0],o=r[1],s=l(c.default.useState(0),2),u=s[0],d=s[1],f=(0,m.useHashedElementId)(m.JokoExtensionElement.bnplCardReadyWidget),g=(0,p.useShouldUseBnplTopBar)();if(c.default.useEffect((function(){setTimeout((function(){return d(1)}),100)}),[]),!a)return null;var h=function(){return T(o)};return g?c.default.createElement(v.BnplMobileDisplayContextProvider,{height:window.innerHeight*x.MOBILE_BNPL_SUBSCRIPTION_WIDGET_HEIGHT_PERCENTAGE},c.default.createElement(P,i({},{opacity:u,elementId:f,offer:t,userBnplTransactionCreatedAt:n,close:h}))):c.default.createElement(j,{opacity:u,id:f,style:{width:window.screen.width-40}},c.default.createElement(z,null,c.default.createElement(S.MobileWidgetHeader,{onClickClose:h}),c.default.createElement(F,null,c.default.createElement(B.MobileBnplCardDetailsPanel,i({},{offer:t,userBnplTransactionCreatedAt:n})))))}function P(e){var t=e.opacity,n=e.elementId,r=e.offer,a=e.userBnplTransactionCreatedAt,o=e.close,l=(0,v.useBnplMobileDisplayContext)();if(function(){var e=(0,v.useBnplMobileDisplayContext)(),t=!!e&&e.isMinimized,n=(0,m.useHashedElementId)(m.JokoExtensionRootElement.bnplCardReadyWidget);c.default.useEffect((function(){return document.getElementById(n)&&(e&&!t?(0,b.disableWebpageBodyScrolling)():(0,b.enableWebpageBodyScrolling)()),function(){return(0,b.enableWebpageBodyScrolling)()}}),[t])}(),!l)return null;var s=l.topOffset,u=l.isBeingDragged;return c.default.createElement(_.MobileBnplSubscriptionWidgetContainerWithTopBar,i({},{opacity:t,topOffset:s,isBeingDragged:u},{id:n,shouldBeFullHeight:!0,panelHeight:0,shouldRemoveAllTransitions:!1}),c.default.createElement(B.MobileBnplCardDetailsPanel,i({shouldUseBnplTopBar:!0},{offer:r,userBnplTransactionCreatedAt:a,close:o})))}function w(e){var t=e.offer,n=e.userBnplTransactionCreatedAt,r=l(c.default.useState(!0),2),a=r[0],o=r[1],s=l(c.default.useState(0),2),u=s[0],d=s[1],f=(0,m.useHashedElementId)(m.JokoExtensionElement.bnplCardReadyWidget),g=(0,p.useShouldUseBnplTopBar)();c.default.useEffect((function(){setTimeout((function(){return d(1)}),500)}),[]);var h=function(){return T(o)};return a?g?c.default.createElement(M,{opacity:u,id:f},c.default.createElement(B.MobileBnplCardDetailsPanel,i({shouldUseBnplTopBar:!0},{offer:t,userBnplTransactionCreatedAt:n,close:h}))):c.default.createElement(L,{opacity:u,id:f},c.default.createElement(E.default,i({},{userBnplTransactionCreatedAt:n,close:h}))):null}function T(e){return a(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,(0,d.getLocalStorageItem)(d.LocalStorageKey.lastCreatedUserBnplTransaction)];case 1:return t=n.sent(),[4,(0,d.updateLocalStorageItem)(d.LocalStorageKey.lastCreatedUserBnplTransaction,{numberOfDismissals:t?(t.numberOfDismissals||0)+1:1})];case 2:return n.sent(),e(!1),[2]}}))}))}t.default=function(e){return(0,f.useIsDesignSystemModeActivated)().isDesignSystemModeActivated?c.default.createElement(I.default,i({},e)):(0,g.checkIsOnMobileScreen)()?c.default.createElement(C,i({},e)):c.default.createElement(w,i({},e))};var O,k,A,N,D,L=(0,u.default)(y.GenericDesktopWidgetContainer)(O||(O=r(["\n    z-index: ",";\n    width: 365px;\n    height: 600px;\n"],["\n    z-index: ",";\n    width: 365px;\n    height: 600px;\n"])),h.HIGHEST_Z_INDEX-1),M=(0,u.default)(_.DesktopBnplSubscriptionWidgetContainer)(k||(k=r(["\n    z-index: ",";\n"],["\n    z-index: ",";\n"])),h.HIGHEST_Z_INDEX-1),j=(0,u.default)(y.GenericMobileWidgetContainer)(A||(A=r(["\n    z-index: ",";\n    min-height: 220px;\n    max-height: 220px;\n    height: 220px;\n"],["\n    z-index: ",";\n    min-height: 220px;\n    max-height: 220px;\n    height: 220px;\n"])),h.HIGHEST_Z_INDEX-1),z=u.default.div(N||(N=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    font-family: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    font-family: ",";\n"])),d.fontFamilyAmbit),F=u.default.div(D||(D=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n    width: 90%;\n    height: 130px;\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n    width: 90%;\n    height: 130px;\n"])))},20989:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MobileBnplSubscriptionWidgetContainerWithTopBar=t.DesktopBnplSubscriptionWidgetContainer=t.CurrentBnplPanel=void 0;var l=o(n(96540)),s=o(n(38267)),c=n(55015),u=n(12233),d=n(17621),f=n(32668),p=n(26368),m=n(74617),g=n(74648),h=n(24941),b=n(13897),y=o(n(55428)),v=o(n(12653)),x=o(n(56029)),S=o(n(27800)),E=o(n(41976)),B=o(n(14961)),_=o(n(28916)),I=o(n(44397)),C=o(n(13290)),P=o(n(10038)),w=n(97669);function T(e){var r=e.wasUnfinishedBnplSubscriptionResumed,o=(0,c.useHasFeature)(c.Feature.bnplTopBarInDesktopBrowserExtension),s=(0,c.useLocalizedFormat)();l.default.useEffect((function(){"fr"===s.momentLocale&&n(85498)}),[s]);var u=a(l.default.useState(r?1:0),2),f=u[0],p=u[1];l.default.useEffect((function(){setTimeout((function(){return p(1)}),50)}),[]);var m=(0,d.useHashedElementId)(d.JokoExtensionElement.bnplSubscriptionWidget),g=(0,d.useHashedElementId)(d.JokoExtensionElement.bnplSubscriptionFrame);return l.default.createElement(t.DesktopBnplSubscriptionWidgetContainer,i({},{opacity:f,frameId:g},{id:m,shouldUseLegacyStyle:!0,shouldBeFullHeight:o}),l.default.createElement(N,null))}function O(e){var t=e.wasUnfinishedBnplSubscriptionResumed,r=(0,c.useHasFeature)(c.Feature.bnplTopBarInMobileBrowserExtension),o=(0,c.useLocalizedFormat)();l.default.useEffect((function(){"fr"===o.momentLocale&&n(85498)}),[o]);var s=a(l.default.useState(t?1:0),2),u=s[0],f=s[1],p=a(l.default.useState(void 0),2),m=p[0],g=p[1];l.default.useEffect((function(){setTimeout((function(){return f(1)}),50)}),[]);var y=(0,d.useHashedElementId)(d.JokoExtensionElement.bnplSubscriptionWidget),v=(0,d.useHashedElementId)(d.JokoExtensionElement.bnplSubscriptionFrame),x=(0,b.useViewportHeight)();return r?l.default.createElement(h.BnplMobileDisplayContextProvider,{height:parseInt(m||"0",10)||x*b.MOBILE_BNPL_SUBSCRIPTION_WIDGET_HEIGHT_PERCENTAGE},l.default.createElement(k,i({},{opacity:u,elementId:y,frameId:v,height:m,setHeight:g,wasUnfinishedBnplSubscriptionResumed:t}))):l.default.createElement(A,i({},{opacity:u,elementId:y,frameId:v,height:m,setHeight:g}))}function k(e){var n=e.opacity,r=e.elementId,o=e.frameId,s=e.height,u=e.setHeight,d=e.wasUnfinishedBnplSubscriptionResumed,f=(0,b.useBnplNavigationContext)().currentBnplScreenName,p=function(e){var t=a(l.default.useState(e),2),n=t[0],r=t[1];return l.default.useEffect((function(){var t;return e&&(t=setTimeout((function(){return r(!1)}),50)),function(){t&&clearTimeout(t)}}),[]),n}(d),m=(0,c.useHasFeature)(c.Feature.resumeUnfinishedBnplSubscriptionOnUrlChange);D(f);var g=(0,h.useBnplMobileDisplayContext)();return g?m&&void 0===g.isMinimized?null:l.default.createElement(t.MobileBnplSubscriptionWidgetContainerWithTopBar,i({},{opacity:n,frameId:o},{id:r,style:{height:s},shouldBeFullHeight:!0,panelHeight:s?parseInt(s,10):0,topOffset:g.topOffset,isBeingDragged:g.isBeingDragged,shouldRemoveAllTransitions:p}),l.default.createElement(N,i({},{setHeight:u}))):null}function A(e){var t=e.opacity,n=e.elementId,r=e.frameId,a=e.height,o=e.setHeight;return D((0,b.useBnplNavigationContext)().currentBnplScreenName),l.default.createElement(z,i({},{opacity:t,frameId:r},{id:n,style:{height:a},shouldUseLegacyStyle:!0}),l.default.createElement(N,i({},{setHeight:o})))}function N(e){var t=e.setHeight,n=(0,c.useHasFeatureByPlatform)({isMobileExtension:!!t,desktopFeature:c.Feature.bnplV2InDesktopBrowserExtension,mobileFeature:c.Feature.bnplV2InMobileBrowserExtension}),r=(0,c.useHasFeature)(c.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),a=(0,b.useBnplNavigationContext)().currentBnplScreenName;switch(function(e,t){var n=(0,w.usePanelDisplayContext)(),r=n||{},i=r.isMinimized,a=r.isMobileExtension,o=(0,d.useHashedElementId)(d.JokoExtensionElement.panelFrame);l.default.useEffect((function(){if(t&&a){var r,l=document.getElementById(o),s=!(e!==c.BnplScreenName.priceInputScreen&&e!==c.BnplScreenName.pricePaddingScreen),u=function(e){e.preventDefault(),e.stopPropagation()};return l&&(n&&!i&&!s||!n&&!s?((0,m.disableWebpageBodyScrolling)(),(null==l?void 0:l.contentWindow)&&l.contentWindow.document.removeEventListener("touchmove",u)):!i&&s?r=setTimeout((function(){(null==l?void 0:l.contentWindow)&&l.contentWindow.document.addEventListener("touchmove",u,{passive:!1})}),100):(0,m.enableWebpageBodyScrolling)()),function(){(0,m.enableWebpageBodyScrolling)(),(null==l?void 0:l.contentWindow)&&l.contentWindow.document.removeEventListener("touchmove",u),r&&clearTimeout(r)}}}),[e,i])}(a,r),a){case c.BnplScreenName.priceInputScreen:return l.default.createElement(B.default,i({},{setHeight:t}));case c.BnplScreenName.pricePaddingScreen:return l.default.createElement(_.default,i({},{setHeight:t}));case c.BnplScreenName.userInfoScreen:return l.default.createElement(I.default,i({},{setHeight:t}));case c.BnplScreenName.eligibilityScheduleScreen:return n?l.default.createElement(C.default,i({},{setHeight:t})):l.default.createElement(S.default,i({},{setHeight:t}));case c.BnplScreenName.cardErrorScreen:return l.default.createElement(y.default,i({},{setHeight:t}));case c.BnplScreenName.floaPaymentScreen:return l.default.createElement(E.default,null);case c.BnplScreenName.cardPendingScreen:return l.default.createElement(v.default,i({},{setHeight:t}));case c.BnplScreenName.cardReadyScreen:return l.default.createElement(x.default,i({},{setHeight:t}));default:return null}}function D(e){var t=(0,h.useBnplMobileDisplayContext)(),n=!!t&&t.isMinimized,r=(0,d.useHashedElementId)(d.JokoExtensionRootElement.bnplSubscriptionWidget),i=(0,d.useHashedElementId)(d.JokoExtensionElement.bnplSubscriptionFrame);l.default.useEffect((function(){var a,o=document.getElementById(r),l=document.getElementById(i),s=!(e!==c.BnplScreenName.priceInputScreen&&e!==c.BnplScreenName.pricePaddingScreen),u=function(e){e.preventDefault(),e.stopPropagation()};return o&&(t&&!n&&!s||!t&&!s?((0,m.disableWebpageBodyScrolling)(),(null==l?void 0:l.contentWindow)&&l.contentWindow.document.removeEventListener("touchmove",u)):!n&&s?a=setTimeout((function(){(null==l?void 0:l.contentWindow)&&l.contentWindow.document.addEventListener("touchmove",u,{passive:!1})}),100):(0,m.enableWebpageBodyScrolling)()),function(){(0,m.enableWebpageBodyScrolling)(),(null==l?void 0:l.contentWindow)&&l.contentWindow.document.removeEventListener("touchmove",u),a&&clearTimeout(a)}}),[e,n])}t.default=function(e){var t=e.wasUnfinishedBnplSubscriptionResumed,n=(0,u.useIsDesignSystemModeActivated)().isDesignSystemModeActivated,r=(0,b.useBnplNavigationContext)().currentBnplScreenName,a=(0,d.useHashedElementId)(d.JokoExtensionRootElement.bnplSuggestionAtCheckoutWidget);if(void 0===r)return null;var o=document.getElementById(a);return o&&o.remove(),n?l.default.createElement(P.default,i({},{wasUnfinishedBnplSubscriptionResumed:t})):(0,f.checkIsOnMobileScreen)()?l.default.createElement(O,i({},{wasUnfinishedBnplSubscriptionResumed:t})):l.default.createElement(T,i({},{wasUnfinishedBnplSubscriptionResumed:t}))},t.CurrentBnplPanel=N,t.DesktopBnplSubscriptionWidgetContainer=(0,s.default)(g.GenericDesktopWidgetContainer)(L||(L=r(["\n    z-index: ",";\n    width: ","px;\n    height: ","px;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    z-index: ",";\n    width: ","px;\n    height: ","px;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),p.HIGHEST_Z_INDEX,p.DESKTOP_PANEL_AND_WIDGET_WIDTH,p.DESKTOP_PANEL_HEIGHT);var L,M,j,z=(0,s.default)(g.GenericMobileWidgetContainer)(M||(M=r(["\n    z-index: ",";\n    bottom: 0;\n    left: 50%;\n    width: 100%;\n    height: ","%;\n    border-radius: 0;\n    border-top-left-radius: 25px;\n    border-top-right-radius: 25px;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    z-index: ",";\n    bottom: 0;\n    left: 50%;\n    width: 100%;\n    height: ","%;\n    border-radius: 0;\n    border-top-left-radius: 25px;\n    border-top-right-radius: 25px;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),p.HIGHEST_Z_INDEX,100*b.MOBILE_BNPL_SUBSCRIPTION_WIDGET_HEIGHT_PERCENTAGE);t.MobileBnplSubscriptionWidgetContainerWithTopBar=(0,s.default)(z).attrs((function(e){var t=e.topOffset,n=(e.panelHeight,e.isBeingDragged),r=e.shouldRemoveAllTransitions,i="translate3d(-50%, "+"".concat(t,"px, ")+"".concat(p.HIGHER_TRANSLATE3D_Z_AXIS,"px)");return{style:{"-webkit-transform":i,transform:i,transition:r?"":n?"opacity 1s":"opacity 1s, transform ".concat(p.OPEN_AND_CLOSE_ANIMATIONS_DURATION_IN_SECONDS,"s ease")}}}))(j||(j=r(["\n    overflow: hidden;\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n"],["\n    overflow: hidden;\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n"])))},11849:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(96540)),l=a(n(38267)),s=n(55015),c=n(12233),u=n(45948),d=n(47175),f=n(17621),p=n(26368),m=a(n(12134)),g=n(10570),h=n(78776),b=a(n(3757)),y={backgroundImage:'url("'.concat(d.JOKO_CARD_TILTED_ILLUSTRATION_URL,'")'),backgroundRepeat:"no-repeat",backgroundSize:"50%",backgroundPosition:"160% ".concat(p.WIDGET_VERTICAL_PADDING,"px")};t.default=function(e){var t=e.offer,n=(0,u.useBnplSuggestionAtCheckoutWidgetInnerState)(t),r=n.onClickCloseButton,a=n.onClickDisplayBnplSubscriptionWidget,l=n.userRegion,d=n.isWidgetDisplayed,p=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.bnplSuggestionAtCheckoutWidget;return(0,c.useIsDesignSystemModeActivated)().isDesignSystemModeActivated?o.default.createElement(m.default,i({},{offer:t})):o.default.createElement(b.default,i({widgetContentId:f.JokoExtensionElement.bnplSuggestionAtCheckoutWidget,onClickWidgetHeaderCloseButton:r,shouldDisableMobileScrolling:!0,bodyStyle:y},{offer:t,isWidgetDisplayed:d}),o.default.createElement(E,null,o.default.createElement(s.OfferInfo,i({shouldShowCashback:!1,shouldIncludeMargins:!1},{offer:t,userRegion:l})),o.default.createElement(B,{onClick:a},p.button),o.default.createElement(_,null,p.explanation)))};var v,x,S,E=l.default.div(v||(v=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: 100%;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: 100%;\n"]))),B=(0,l.default)(g.BlackButton)(x||(x=r(["\n    width: 80%;\n    margin-top: 12px;\n"],["\n    width: 80%;\n    margin-top: 12px;\n"]))),_=(0,l.default)(h.ContentSubtitle)(S||(S=r(["\n    width: 100%;\n    margin-top: 12px;\n"],["\n    width: 100%;\n    margin-top: 12px;\n"])))},77374:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(96540)),u=s(n(38267)),d=n(55015),f=n(47615),p=n(17621),m=n(32668),g=n(26368),h=n(74617),b=n(86107),y=n(95699),v=n(21736),x=s(n(90390)),S=n(44065),E=n(10038),B=n(97669),_=s(n(3757));function I(e){var t=e.offer,n=e.userBnplTransactionCreatedAt,r=l(c.default.useState(!0),2),a=r[0],o=r[1],s=l(c.default.useState(0),2),u=s[0],d=s[1],m=(0,p.useHashedElementId)(p.JokoExtensionElement.bnplCardReadyWidget),g=(0,f.useShouldUseBnplTopBar)();if(c.default.useEffect((function(){setTimeout((function(){return d(1)}),100)}),[]),!a)return null;var h=function(){return w(o)};return g?c.default.createElement(b.DesignSystemBnplCardReadyWidgetDisplayContextProvider,{height:window.innerHeight*v.MOBILE_BNPL_SUBSCRIPTION_WIDGET_HEIGHT_RATIO},c.default.createElement(C,i({},{opacity:u,elementId:m,offer:t,userBnplTransactionCreatedAt:n,close:h}))):c.default.createElement(_.default,{widgetContentId:p.JokoExtensionElement.bnplCardReadyWidget,isWidgetDisplayed:!0,onClickWidgetHeaderCloseButton:h,offer:t},c.default.createElement(S.DesignSystemBnplCardDetailsPanel,i({},{offer:t,userBnplTransactionCreatedAt:n,close:h})))}function C(e){var t=e.opacity,n=e.elementId,r=e.offer,a=e.userBnplTransactionCreatedAt,o=e.close,l=(0,b.useDesignSystemBnplCardReadyWidgetDisplayContext)();if(function(){var e,t=(0,B.usePanelDisplayContext)(),n=null!==(e=null==t?void 0:t.isMinimized)&&void 0!==e&&e,r=(0,p.useHashedElementId)(p.JokoExtensionRootElement.bnplCardReadyWidget);c.default.useEffect((function(){return document.getElementById(r)&&(t&&!n?(0,h.disableWebpageBodyScrolling)():(0,h.enableWebpageBodyScrolling)()),function(){return(0,h.enableWebpageBodyScrolling)()}}),[n])}(),!l)return null;var s=l.topOffset,u=l.isBeingDragged;return c.default.createElement(E.MobileBnplSubscriptionWidgetContainerWithTopBar,i({},{opacity:t,topOffset:s,isBeingDragged:u},{id:n,shouldBeFullHeight:!0,panelHeight:0,shouldRemoveAllTransitions:!1}),c.default.createElement(S.DesignSystemBnplCardDetailsPanel,i({shouldUseBnplTopBar:!0},{offer:r,userBnplTransactionCreatedAt:a,close:o})))}function P(e){var t=e.offer,n=e.userBnplTransactionCreatedAt,r=l(c.default.useState(!0),2),a=r[0],o=r[1],s=l(c.default.useState(0),2),u=s[0],d=s[1],m=(0,p.useHashedElementId)(p.JokoExtensionElement.bnplCardReadyWidget),g=(0,f.useShouldUseBnplTopBar)();c.default.useEffect((function(){setTimeout((function(){return d(1)}),500)}),[]);var h=function(){return w(o)};return a?g?c.default.createElement(b.DesignSystemBnplCardReadyWidgetDisplayContextProvider,{height:window.innerHeight*v.MOBILE_BNPL_SUBSCRIPTION_WIDGET_HEIGHT_RATIO},c.default.createElement(A,{opacity:u,id:m},c.default.createElement(S.DesignSystemBnplCardDetailsPanel,i({shouldUseBnplTopBar:!0},{offer:t,userBnplTransactionCreatedAt:n,close:h})))):c.default.createElement(k,{opacity:u,id:m},c.default.createElement(x.default,i({},{userBnplTransactionCreatedAt:n,close:h}))):null}function w(e){return a(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,(0,d.getLocalStorageItem)(d.LocalStorageKey.lastCreatedUserBnplTransaction)];case 1:return t=n.sent(),[4,(0,d.updateLocalStorageItem)(d.LocalStorageKey.lastCreatedUserBnplTransaction,{numberOfDismissals:t?(t.numberOfDismissals||0)+1:1})];case 2:return n.sent(),e(!1),[2]}}))}))}t.default=function(e){return(0,m.checkIsOnMobileScreen)()?c.default.createElement(I,i({},e)):c.default.createElement(P,i({},e))};var T,O,k=(0,u.default)(y.GenericDesktopWidgetContainer)(T||(T=r(["\n    z-index: ",";\n    width: 365px;\n    height: 600px;\n"],["\n    z-index: ",";\n    width: 365px;\n    height: 600px;\n"])),g.HIGHEST_Z_INDEX-1),A=(0,u.default)(E.DesktopBnplSubscriptionWidgetContainer)(O||(O=r(["\n    z-index: ",";\n"],["\n    z-index: ",";\n"])),g.HIGHEST_Z_INDEX-1)},10038:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MobileBnplSubscriptionWidgetContainerWithTopBar=t.DesktopBnplSubscriptionWidgetContainer=t.DesignSystemCurrentBnplPanel=void 0;var l=o(n(96540)),s=o(n(38267)),c=n(55015),u=n(59674),d=n(17436),f=n(17621),p=n(32668),m=n(74617),g=n(74648),h=n(21736),b=o(n(93171)),y=o(n(46778)),v=o(n(90390)),x=o(n(75415)),S=o(n(21700)),E=o(n(35089)),B=o(n(22296)),_=o(n(569)),I=n(97669);function C(e){var r=e.wasUnfinishedBnplSubscriptionResumed,o=(0,c.useLocalizedFormat)();l.default.useEffect((function(){"fr"===o.momentLocale&&n(85498)}),[o]);var s=a(l.default.useState(r?1:0),2),u=s[0],d=s[1];l.default.useEffect((function(){setTimeout((function(){return d(1)}),50)}),[]);var p=(0,f.useHashedElementId)(f.JokoExtensionElement.bnplSubscriptionWidget),m=(0,f.useHashedElementId)(f.JokoExtensionElement.bnplSubscriptionFrame);return l.default.createElement(t.DesktopBnplSubscriptionWidgetContainer,i({},{opacity:u,frameId:m},{id:p,shouldUseLegacyStyle:!0,shouldBeFullHeight:!0}),l.default.createElement(O,null))}function P(e){var t=e.wasUnfinishedBnplSubscriptionResumed,r=(0,c.useHasFeature)(c.Feature.bnplTopBarInMobileBrowserExtension),o=(0,c.useLocalizedFormat)();l.default.useEffect((function(){"fr"===o.momentLocale&&n(85498)}),[o]);var s=a(l.default.useState(t?1:0),2),u=s[0],d=s[1],p=a(l.default.useState(void 0),2),m=p[0],g=p[1];l.default.useEffect((function(){setTimeout((function(){return d(1)}),50)}),[]);var h=(0,f.useHashedElementId)(f.JokoExtensionElement.bnplSubscriptionWidget),b=(0,f.useHashedElementId)(f.JokoExtensionElement.bnplSubscriptionFrame);return r?l.default.createElement(w,i({},{opacity:u,elementId:h,frameId:b,height:m,setHeight:g,wasUnfinishedBnplSubscriptionResumed:t})):l.default.createElement(T,i({},{opacity:u,elementId:h,frameId:b,height:m,setHeight:g}))}function w(e){var n=e.opacity,r=e.elementId,o=e.frameId,s=e.height,u=e.setHeight,d=e.wasUnfinishedBnplSubscriptionResumed,f=(0,h.useBnplNavigationContext)().currentBnplScreenName,p=function(e){var t=a(l.default.useState(e),2),n=t[0],r=t[1];return l.default.useEffect((function(){var t;return e&&(t=setTimeout((function(){return r(!1)}),50)),function(){t&&clearTimeout(t)}}),[]),n}(d),m=(0,c.useHasFeature)(c.Feature.resumeUnfinishedBnplSubscriptionOnUrlChange);k(f);var g=(0,I.usePanelDisplayContext)();return g?m&&void 0===g.isMinimized?null:l.default.createElement(t.MobileBnplSubscriptionWidgetContainerWithTopBar,i({},{opacity:n,frameId:o},{id:r,style:{height:s},shouldBeFullHeight:!0,panelHeight:s?parseInt(s,10):0,topOffset:g.topOffset,isBeingDragged:g.isBeingDragged,shouldRemoveAllTransitions:p}),l.default.createElement(O,i({},{setHeight:u}))):null}function T(e){var t=e.opacity,n=e.elementId,r=e.frameId,a=e.height,o=e.setHeight;return k((0,h.useBnplNavigationContext)().currentBnplScreenName),l.default.createElement(L,i({},{opacity:t,frameId:r},{id:n,style:{height:a},shouldUseLegacyStyle:!0}),l.default.createElement(O,i({},{setHeight:o})))}function O(e){var t=e.setHeight,n=(0,c.useHasFeature)(c.Feature.shouldUseFactorizedBnplSubscriptionWidgetIntoPanelInExtensions),r=(0,h.useBnplNavigationContext)().currentBnplScreenName;switch(function(e,t){var n=(0,I.usePanelDisplayContext)(),r=n||{},i=r.isMinimized,a=r.isMobileExtension,o=(0,f.useHashedElementId)(f.JokoExtensionElement.panelFrame);l.default.useEffect((function(){if(t&&a){var r,l=document.getElementById(o),s=!(e!==c.BnplScreenName.priceInputScreen&&e!==c.BnplScreenName.pricePaddingScreen),u=function(e){e.preventDefault(),e.stopPropagation()};return l&&(n&&!i&&!s||!n&&!s?((0,m.disableWebpageBodyScrolling)(),(null==l?void 0:l.contentWindow)&&l.contentWindow.document.removeEventListener("touchmove",u)):!i&&s?r=setTimeout((function(){(null==l?void 0:l.contentWindow)&&l.contentWindow.document.addEventListener("touchmove",u,{passive:!1})}),100):(0,m.enableWebpageBodyScrolling)()),function(){(0,m.enableWebpageBodyScrolling)(),(null==l?void 0:l.contentWindow)&&l.contentWindow.document.removeEventListener("touchmove",u),r&&clearTimeout(r)}}}),[e,i])}(r,n),r){case c.BnplScreenName.priceInputScreen:return l.default.createElement(S.default,i({},{setHeight:t}));case c.BnplScreenName.pricePaddingScreen:return l.default.createElement(E.default,i({},{setHeight:t}));case c.BnplScreenName.userInfoScreen:return l.default.createElement(B.default,i({},{setHeight:t}));case c.BnplScreenName.eligibilityScheduleScreen:return l.default.createElement(_.default,i({},{setHeight:t}));case c.BnplScreenName.cardErrorScreen:return l.default.createElement(b.default,i({},{setHeight:t}));case c.BnplScreenName.floaPaymentScreen:return l.default.createElement(x.default,null);case c.BnplScreenName.cardPendingScreen:return l.default.createElement(y.default,i({},{setHeight:t}));case c.BnplScreenName.cardReadyScreen:return l.default.createElement(v.default,i({},{setHeight:t}));default:return null}}function k(e){var t,n=(0,I.usePanelDisplayContext)(),r=null!==(t=null==n?void 0:n.isMinimized)&&void 0!==t&&t,i=(0,f.useHashedElementId)(f.JokoExtensionRootElement.bnplSubscriptionWidget),a=(0,f.useHashedElementId)(f.JokoExtensionElement.bnplSubscriptionFrame);l.default.useEffect((function(){var t,o=document.getElementById(i),l=document.getElementById(a),s=!(e!==c.BnplScreenName.priceInputScreen&&e!==c.BnplScreenName.pricePaddingScreen),u=function(e){e.preventDefault(),e.stopPropagation()};return o&&(n&&!r&&!s||!n&&!s?((0,m.disableWebpageBodyScrolling)(),(null==l?void 0:l.contentWindow)&&l.contentWindow.document.removeEventListener("touchmove",u)):!r&&s?t=setTimeout((function(){(null==l?void 0:l.contentWindow)&&l.contentWindow.document.addEventListener("touchmove",u,{passive:!1})}),100):(0,m.enableWebpageBodyScrolling)()),function(){(0,m.enableWebpageBodyScrolling)(),(null==l?void 0:l.contentWindow)&&l.contentWindow.document.removeEventListener("touchmove",u),t&&clearTimeout(t)}}),[e,r])}t.default=function(e){var t=e.wasUnfinishedBnplSubscriptionResumed,n=(0,h.useBnplNavigationContext)().currentBnplScreenName,r=(0,f.useHashedElementId)(f.JokoExtensionRootElement.bnplSuggestionAtCheckoutWidget);if(void 0===n)return null;var a=document.getElementById(r);return a&&a.remove(),(0,p.checkIsOnMobileScreen)()?l.default.createElement(P,i({},{wasUnfinishedBnplSubscriptionResumed:t})):l.default.createElement(C,i({},{wasUnfinishedBnplSubscriptionResumed:t}))},t.DesignSystemCurrentBnplPanel=O,t.DesktopBnplSubscriptionWidgetContainer=(0,s.default)(g.GenericDesktopWidgetContainer)(A||(A=r(["\n    z-index: ",";\n    width: ","px;\n    height: ","px;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    z-index: ",";\n    width: ","px;\n    height: ","px;\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),u.HIGHEST_Z_INDEX,u.DESKTOP_PANEL_AND_WIDGET_WIDTH,u.DESKTOP_PANEL_HEIGHT);var A,N,D,L=(0,s.default)(g.GenericMobileWidgetContainer)(N||(N=r(["\n    z-index: ",";\n    bottom: 0;\n    left: 50%;\n    width: 100%;\n    height: ","%;\n    border-radius: 0;\n    border-top-left-radius: ",";\n    border-top-right-radius: ",";\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    z-index: ",";\n    bottom: 0;\n    left: 50%;\n    width: 100%;\n    height: ","%;\n    border-radius: 0;\n    border-top-left-radius: ",";\n    border-top-right-radius: ",";\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),u.HIGHEST_Z_INDEX,100*h.MOBILE_BNPL_SUBSCRIPTION_WIDGET_HEIGHT_RATIO,d.measurements.radius.xLarge,d.measurements.radius.xLarge);t.MobileBnplSubscriptionWidgetContainerWithTopBar=(0,s.default)(L).attrs((function(e){var t=e.topOffset,n=(e.panelHeight,e.isBeingDragged),r=e.shouldRemoveAllTransitions,i="translate3d(-50%, "+"".concat(t,"px, ")+"".concat(u.HIGHER_TRANSLATE3D_Z_AXIS,"px)");return{style:{"-webkit-transform":i,transform:i,transition:r?"":n?"opacity 1s":"opacity 1s, transform ".concat(u.OPEN_AND_CLOSE_ANIMATIONS_DURATION_IN_SECONDS,"s ease")}}}))(D||(D=r(["\n    overflow: hidden;\n    border-top-left-radius: ",";\n    border-top-right-radius: ",";\n"],["\n    overflow: hidden;\n    border-top-left-radius: ",";\n    border-top-right-radius: ",";\n"])),d.measurements.radius.xSmall,d.measurements.radius.xSmall)},12134:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(96540)),u=s(n(38267)),d=n(55015),f=n(59812),p=n(4911),m=n(67454),g=n(86028),h=l(n(96410)),b=n(17436),y=n(45948),v=n(47175),x=n(17621),S=s(n(3757));t.default=function(e){var t=e.offer,n=(0,y.useBnplSuggestionAtCheckoutWidgetInnerState)(t),r=n.onClickCloseButton,a=n.onClickDisplayBnplSubscriptionWidget,o=n.isWidgetDisplayed,l=(0,d.useLocalizedTexts)().designSystem.contentscript.redesign.widgets.bnplSuggestionAtCheckoutWidget;return c.default.createElement(S.default,i({widgetContentId:x.JokoExtensionElement.bnplSuggestionAtCheckoutWidget,onClickWidgetHeaderCloseButton:r,shouldDisableMobileScrolling:!0},{offer:t,isWidgetDisplayed:o}),c.default.createElement(B,null,c.default.createElement(p.Avatar,{avatarType:p.AvatarType.image,avatarSize:p.AvatarSize.medium,avatarRadius:p.AvatarRadius.circle,logoUrl:v.JOKO_CARD_ILLUSTRATION_URL}),c.default.createElement(g.TextContent,null,c.default.createElement(h.default,{titleSize:h.TitleSize.small,titleWeight:h.TitleWeight.bold,text:l.title,shouldAlignTextLeft:!0}),c.default.createElement(m.Subtitle,{subtitleSize:m.SubtitleSize.xSmall,text:l.subtitle,color:b.colors.content.default,shouldAlignTextLeft:!0}))),c.default.createElement(f.Button,{hierarchy:f.ButtonHierarchy.primary,buttonState:f.ButtonState.default,buttonSize:f.ButtonSize.medium,shouldShowLabel:!0,label:l.button,onClick:a,shouldTakeFullWidth:!0}))};var E,B=u.default.div(E||(E=r(["\n    display: flex;\n    align-items: center;\n    gap: ",";\n    padding: ",";\n"],["\n    display: flex;\n    align-items: center;\n    gap: ",";\n    padding: ",";\n"])),b.measurements.spacings.medium,"".concat(b.measurements.spacings.xSmall," 0"))},47825:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(96540)),l=a(n(38267)),s=n(55015),c=n(94576),u=n(26368),d=n(64777),f=a(n(84355));t.default=function(e){var t=e.children,n=e.bottomSheetInnerContainerRef,r=e.bottomSheetContentId,a=e.isBottomSheetDisplayed,l=e.setIsBottomSheetDisplayed,s=e.onSlideDown,u=(0,c.useBottomSheetContainerInnerState)(r,n,a,l,s),d=u.onBottomSheetTransitionEnd,f=u.height,p=u.elementId,m=u.topOffset,g=u.isBeingDragged,S=u.handleMountedBottomSheetInnerContainer,E=u.onDragListener,B=u.onPressListener,_=u.onReleaseListener;return o.default.createElement(h,i({id:p,onLoad:S,onTransitionEnd:function(e){return d(e,a)}},{isBottomSheetDisplayed:a,height:f,isBeingDragged:g,topOffset:m}),o.default.createElement(y,{ref:n},o.default.createElement(b,{onPointerDown:B,onPointerMove:E,onPointerUp:_},o.default.createElement(v,null)),o.default.createElement(x,null,t)))};var p,m,g,h=(0,l.default)(f.default)((function(e){var t=e.isBottomSheetDisplayed,n=e.height,r=e.isBeingDragged,i=e.topOffset;return{position:"fixed",zIndex:u.HIGHEST_Z_INDEX,bottom:0,width:"100%",height:void 0===n?"0":"".concat(n,"px"),border:0,borderRadius:"24px 24px 0 0",boxShadow:"0 -4px 20px 0 #0000004d",backgroundColor:s.colors.white,transform:"translate3d(0, ".concat("".concat(t?i:(n||u.BOTTOM_SHEET_MAXIMUM_HEIGHT)+20,"px"),", ").concat(u.HIGHER_TRANSLATE3D_Z_AXIS,"px)"),transition:"transform ".concat(r?0:u.OPEN_AND_CLOSE_ANIMATIONS_DURATION_IN_SECONDS,"s ease"),pointerEvents:t?"auto":"none"}})),b=l.default.div(p||(p=r(["\n    /* This property is necessary to allow pointer events to work */\n    touch-action: none;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: ","px;\n    padding: 0 ","px 0\n        ","px;\n"],["\n    /* This property is necessary to allow pointer events to work */\n    touch-action: none;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: ","px;\n    padding: 0 ","px 0\n        ","px;\n"])),u.BOTTOM_SHEET_BAR_HEIGHT,u.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,u.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),y=d.ColumnTopCenterContainer,v=l.default.div(m||(m=r(["\n    width: 56px;\n    height: 5px;\n    border-radius: 4px;\n    background-color: ",";\n"],["\n    width: 56px;\n    height: 5px;\n    border-radius: 4px;\n    background-color: ",";\n"])),s.colors.alto),x=(0,l.default)(d.ColumnTopCenterContainer)(g||(g=r(["\n    box-sizing: border-box;\n    width: 100%;\n    padding: 0 0 ","px 0;\n"],["\n    box-sizing: border-box;\n    width: 100%;\n    padding: 0 0 ","px 0;\n"])),u.DEFAULT_BOTTOM_SHEET_BOTTOM_PADDING)},35237:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(96540)),l=a(n(38267)),s=n(55015),c=n(12233),u=n(94576),d=n(17621),f=n(26368),p=n(57682),m=a(n(47825)),g=a(n(10422)),h=n(10570),b=n(64777),y=n(78776);t.default=function(e){var t=e.setUserBrowsedProductWebpages,n=e.isMobileExtension,r=e.panelInnerContainerRef,a=e.closeDeletion,l=e.setIsDeleteAllAnimationInProgress,f=(0,u.useBottomSheetDisplay)(),h=f.isBottomSheetDisplayed,b=f.setIsBottomSheetDisplayed,y=f.closeBottomSheet,v=(0,p.useDeleteAllBrowsedProductsBottomSheetInnerState)({setUserBrowsedProductWebpages:t,isMobileExtension:n,panelInnerContainerRef:r,isBottomSheetDisplayed:h,setIsBottomSheetDisplayed:b,closeBottomSheet:y,closeDeletion:a,setIsDeleteAllAnimationInProgress:l}),x=v.deleteAllBrowsedProductsBottomSheetRef,S=v.onClickConfirmDeleteAll,E=v.onClickCancelDeleteAll,B=(0,s.useLocalizedTexts)().contentscript.redesign.panel.products.browsedProductsSection.deleteAllBrowsedProductsBottomSheet;return(0,c.useIsDesignSystemModeActivated)().isDesignSystemModeActivated?o.default.createElement(g.default,i({},{setUserBrowsedProductWebpages:t,isMobileExtension:n,panelInnerContainerRef:r,closeDeletion:a,setIsDeleteAllAnimationInProgress:l})):o.default.createElement(m.default,i({bottomSheetInnerContainerRef:x,bottomSheetContentId:d.JokoExtensionElement.deleteAllBrowsedProductsBottomSheet,onSlideDown:a},{isBottomSheetDisplayed:h,setIsBottomSheetDisplayed:b}),o.default.createElement(_,null,o.default.createElement(I,null,B.title),o.default.createElement(C,null,B.subtitle),o.default.createElement(P,{onClick:S,isFullWidth:!0},B.confirmDeleteAllButton),o.default.createElement(w,{onClick:E,isFullWidth:!0},B.cancelDeleteAllButton)))};var v,x,S,E,B,_=(0,l.default)(b.ColumnTopLeftContainer)(v||(v=r(["\n    padding: 16px;\n"],["\n    padding: 16px;\n"]))),I=(0,l.default)(y.ContentTitle)(x||(x=r(["\n    font-size: 22px;\n"],["\n    font-size: 22px;\n"]))),C=(0,l.default)(y.ContentSemiBoldSubtitle)(S||(S=r(["\n    margin-top: 8px;\n    font-size: 16px;\n"],["\n    margin-top: 8px;\n    font-size: 16px;\n"]))),P=(0,l.default)(h.BlackButton)(E||(E=r(["\n    margin-top: 24px;\n    padding: 0;\n    border: none;\n    ","\n"],["\n    margin-top: 24px;\n    padding: 0;\n    border: none;\n    ","\n"])),f.CLICKABLE_ELEMENT_CSS_MIXIN),w=(0,l.default)(h.WhiteButtonWithBlackBorder)(B||(B=r(["\n    margin-top: 12px;\n    ","\n"],["\n    margin-top: 12px;\n    ","\n"])),f.CLICKABLE_ELEMENT_CSS_MIXIN)},39959:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(96540)),l=a(n(38267)),s=n(55015),c=n(94576),u=n(47175),d=n(17621),f=n(84159),p=n(26368),m=a(n(47825)),g=n(64777),h=a(n(57229));t.default=function(e){var t=e.offer,n=e.closingActionOnSnoozing,r=e.widgetInnerContainerRef,a=e.panelInnerContainerRef,l=(0,c.useBottomSheetDisplay)(),p=l.isBottomSheetDisplayed,g=l.setIsBottomSheetDisplayed,b=l.closeBottomSheet,y=(0,f.useSnoozeSettingsButtonInnerState)({isMobileExtension:!0,offer:t,closingActionOnSnoozing:n,widgetInnerContainerRef:r,panelInnerContainerRef:a,setIsBottomSheetDisplayed:g}),v=y.onClickSnoozeForCurrentWebsiteButton,B=y.mobileSnoozingBottomSheetRef,_=(0,s.useLocalizedTexts)().contentscript.redesign.common.snoozeSettings;return o.default.createElement(m.default,i({bottomSheetInnerContainerRef:B,bottomSheetContentId:d.JokoExtensionElement.snoozingBottomSheet},{isBottomSheetDisplayed:p,setIsBottomSheetDisplayed:g}),o.default.createElement(x,{onClick:function(){v(),b()}},o.default.createElement(E,{src:u.NOTIFICATION_OFF_ICON_URL}),o.default.createElement(S,null,_.snoozeUntilTomorrow),o.default.createElement(h.default,null)))};var b,y,v,x=(0,l.default)(g.RowLeftCenterContainer)(b||(b=r(["\n    box-sizing: border-box;\n    width: 100%;\n    padding: 16px ","px;\n    touch-action: manipulation;\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"],["\n    box-sizing: border-box;\n    width: 100%;\n    padding: 16px ","px;\n    touch-action: manipulation;\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"])),p.DEFAULT_BOTTOM_SHEET_HORIZONTAL_PADDING,p.CLICKABLE_ELEMENT_CSS_MIXIN,s.colors.alto),S=l.default.span(y||(y=r(["\n    width: 100%;\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 120%;\n"],["\n    width: 100%;\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 120%;\n"])),s.fontFamilyAmbit),E=l.default.img(v||(v=r(["\n    width: 16px;\n    height: 16px;\n    margin-right: 12px;\n    ","\n"],["\n    width: 16px;\n    height: 16px;\n    margin-right: 12px;\n    ","\n"])),p.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN)},92328:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(96540)),o=n(12233),l=i(n(25007)),s=i(n(39959));t.default=function(e){var t=e.offer,n=e.closingActionOnSnoozing,i=e.widgetInnerContainerRef,c=e.panelInnerContainerRef;return(0,o.useIsDesignSystemModeActivated)().isDesignSystemModeActivated?a.default.createElement(l.default,r({},{offer:t,closingActionOnSnoozing:n,widgetInnerContainerRef:i,panelInnerContainerRef:c})):a.default.createElement(s.default,r({},{offer:t,closingActionOnSnoozing:n,widgetInnerContainerRef:i,panelInnerContainerRef:c}))}},10422:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=o(n(96540)),s=n(55015),c=n(59812),u=a(n(59261)),d=n(94576),f=n(17621),p=n(57682);t.default=function(e){var t=e.setUserBrowsedProductWebpages,n=e.isMobileExtension,r=e.panelInnerContainerRef,i=e.closeDeletion,a=e.setIsDeleteAllAnimationInProgress,o=(0,d.useBottomSheetDisplay)(),m=o.isBottomSheetDisplayed,g=o.setIsBottomSheetDisplayed,h=o.closeBottomSheet,b=(0,p.useDeleteAllBrowsedProductsBottomSheetInnerState)({setUserBrowsedProductWebpages:t,isMobileExtension:n,panelInnerContainerRef:r,isBottomSheetDisplayed:m,setIsBottomSheetDisplayed:g,closeBottomSheet:h,closeDeletion:i,setIsDeleteAllAnimationInProgress:a}),y=b.deleteAllBrowsedProductsBottomSheetRef,v=b.onClickConfirmDeleteAll,x=b.onClickCancelDeleteAll,S=(0,s.useLocalizedTexts)().designSystem.contentscript.redesign.panel.products.browsedProductsSection.deleteAllBrowsedProductsBottomSheet;return l.default.createElement(u.default,{bottomSheetInnerContainerRef:y,bottomSheetContentId:f.JokoExtensionElement.deleteAllBrowsedProductsBottomSheet,isBottomSheetDisplayed:m,setIsBottomSheetDisplayed:g,onSlideDown:i,bottomSheetType:u.BottomSheetType.textLeft,titles:{title:S.title,subtitle:S.subtitle},buttonSize:c.ButtonSize.large,primaryButtonLabel:S.confirmDeleteAllButton,onPrimaryButtonClick:v,secondaryButtonLabel:S.cancelDeleteAllButton,onSecondaryButtonClick:x})}},25007:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(96540)),o=n(55015),l=i(n(29556)),s=i(n(98029)),c=i(n(6372)),u=n(94576),d=n(17621),f=n(84159);t.default=function(e){var t=e.offer,n=e.closingActionOnSnoozing,i=e.widgetInnerContainerRef,p=e.panelInnerContainerRef,m=(0,u.useBottomSheetDisplay)(),g=m.isBottomSheetDisplayed,h=m.setIsBottomSheetDisplayed,b=m.closeBottomSheet,y=(0,f.useSnoozeSettingsButtonInnerState)({isMobileExtension:!0,offer:t,closingActionOnSnoozing:n,widgetInnerContainerRef:i,panelInnerContainerRef:p,setIsBottomSheetDisplayed:h}),v=y.onClickSnoozeForCurrentWebsiteButton,x=y.mobileSnoozingBottomSheetRef,S=(0,o.useLocalizedTexts)().designSystem.contentscript.redesign.common.snoozeSettings;return a.default.createElement(c.default,r({bottomSheetInnerContainerRef:x,bottomSheetContentId:d.JokoExtensionElement.snoozingBottomSheet},{isBottomSheetDisplayed:g,setIsBottomSheetDisplayed:h},{onSlideDown:b}),a.default.createElement(l.default,{isMobileExtension:!0,title:S.snoozeUntilTomorrow,shouldShowIcon:!0,iconComponent:s.default,onClick:function(){v(),b()}}))}},43310:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(96540)),l=a(n(38267)),s=n(55015),c=n(47175),u=n(26368),d=n(10570),f=n(39838);function p(e){var t,n=e.isLoading,r=e.isOfferActivated,i=e.activateOfferTextOverrideValue,a=(0,f.useOfferDetailsTabContentContext)(),l=(0,s.useLocalizedTexts)().contentscript.redesign.common.activateOfferButton;return n?o.default.createElement(s.SpinningWheel,{scale:.3,color:s.colors.white}):r?o.default.createElement(o.default.Fragment,null,l.offerActivated):!a||!!((null===(t=a.displayedOffer)||void 0===t?void 0:t.offerId)&&a.currentWebpageOffer&&a.currentWebpageOffer.offerId&&a.displayedOffer.offerId===a.currentWebpageOffer.offerId)?o.default.createElement(o.default.Fragment,null,null!=i?i:l.activateOffer):o.default.createElement(o.default.Fragment,null,l.activateOffer,o.default.createElement("img",{src:c.REDIRECTION_ICON_URL}))}t.default=function(e){var t=e.isLoading,n=e.isOfferActivated,r=e.onClickActivateOffer,a=e.isFullWidth,l=e.isThin,c=e.style,u=e.customActivateOfferButtonHeight,d=e.activateOfferTextOverrideValue,f=e.shouldAnimateActivateOfferButton;return o.default.createElement(g,i({onClick:r,style:i({backgroundColor:n?s.colors.emerald:s.colors.black,fontSize:u?14:12,margin:"".concat(f?"0 8px":"0")},c),buttonHeight:u,shouldAnimate:!!f&&!n},{isFullWidth:a,isThin:l,isLoading:t}),o.default.createElement(p,i({},{isLoading:t,isOfferActivated:n,activateOfferTextOverrideValue:d})))};var m,g=(0,l.default)(d.BlackButton)(m||(m=r(["\n    align-items: ",";\n    ","\n\n    & > img {\n        width: 12px;\n        height: 12px;\n        margin-left: 10px;\n        ","\n    }\n\n    // Using a pseudo-element for the light ray sweep\n    &::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: -150%; // Start from the left, out of sight\n        width: 100%;\n        height: 100%;\n        background: linear-gradient(135deg, transparent, rgba(0, 255, 0, 70%), transparent);\n        animation: ",";\n    }\n\n    @keyframes sweep {\n        0% {\n            left: -150%;\n        }\n        100% {\n            left: 150%;\n        }\n    }\n"],["\n    align-items: ",";\n    ","\n\n    & > img {\n        width: 12px;\n        height: 12px;\n        margin-left: 10px;\n        ","\n    }\n\n    // Using a pseudo-element for the light ray sweep\n    &::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: -150%; // Start from the left, out of sight\n        width: 100%;\n        height: 100%;\n        background: linear-gradient(135deg, transparent, rgba(0, 255, 0, 70%), transparent);\n        animation: ",";\n    }\n\n    @keyframes sweep {\n        0% {\n            left: -150%;\n        }\n        100% {\n            left: 150%;\n        }\n    }\n"])),(function(e){return e.isLoading?"center":"baseline"}),(function(e){return e.shouldAnimate?"\n        position: relative;\n        overflow: hidden; // This keeps all pseudo-elements and overflowing styles contained within the button\n    ":""}),u.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN,(function(e){return e.shouldAnimate?"sweep 3s ease-in-out infinite":"none"}))},86829:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AlternativeOffersList=t.AlternativeOffers=void 0;var o=a(n(96540)),l=a(n(38267)),s=n(55015),c=n(26368),u=n(78776),d=a(n(13576));function f(e){var t=e.alternativeOffers,n=e.userRegion,r=e.onClickAlternativeOffer;return o.default.createElement(o.default.Fragment,null,null==t?void 0:t.map((function(e){return o.default.createElement(b,{key:e.offerId,onClick:function(){return r(e)}},o.default.createElement(s.OfferInfo,i({shouldShowCashback:!0,shouldIncludeMargins:!1,offerTitleStyleOverride:{fontSize:"16px"}},{offer:e,userRegion:n})),o.default.createElement(y,null,o.default.createElement(d.default,null)))})))}t.AlternativeOffers=function(e){var t,n=e.currentWebpageOffer,r=e.alternativeOffers,a=e.userRegion,l=e.onClickAlternativeOffer,c=(0,s.useLocalizedTexts)().contentscript.redesign.widgets.alternativeOffersWidget;return o.default.createElement(o.default.Fragment,null,o.default.createElement(v,null,c.subtitle),o.default.createElement(x,null,n.alternativeOffersDescription&&(null===(t=n.screen)||void 0===t?void 0:t.title)?n.alternativeOffersDescription:c.defaultDescription({merchantName:n.screen.title})),o.default.createElement(f,i({},{alternativeOffers:r,userRegion:a,onClickAlternativeOffer:l})))},t.AlternativeOffersList=f;var p,m,g,h,b=l.default.div(p||(p=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    margin: 0 -","px;\n    padding: 8px ","px;\n    ",";\n\n    &:hover {\n        background-color: ",";\n    }\n\n    &:active {\n        background-color: ",";\n    }\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    margin: 0 -","px;\n    padding: 8px ","px;\n    ",";\n\n    &:hover {\n        background-color: ",";\n    }\n\n    &:active {\n        background-color: ",";\n    }\n"])),c.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,c.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,c.CLICKABLE_ELEMENT_CSS_MIXIN,s.colors.alabaster,s.colors.concrete),y=l.default.div(m||(m=r(["\n    margin-right: 5px;\n"],["\n    margin-right: 5px;\n"]))),v=(0,l.default)(u.ContentBoldSubtitle)(g||(g=r(["\n    align-self: flex-start;\n    margin-bottom: 8px;\n"],["\n    align-self: flex-start;\n    margin-bottom: 8px;\n"]))),x=(0,l.default)(u.ContentSemiBoldSubtitle)(h||(h=r(["\n    align-self: flex-start;\n    margin-bottom: 8px;\n"],["\n    align-self: flex-start;\n    margin-bottom: 8px;\n"])))},65946:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BankReconnectionBanner=void 0;var a=i(n(96540)),o=i(n(38267)),l=n(55015),s=n(47248),c=n(26368),u=n(46239),d=n(62491),f=n(78776),p=n(97669),m="joko://BankConnections/";t.BankReconnectionBanner=function(e){var t,n,r=e.closePanelAndLogEvents,i=(0,l.useLocalizedTexts)().contentscript.redesign.panel.profile.bankReconnectionBanner;t=(0,p.usePanelDisplayContext)(),n={offerId:null==t?void 0:t.offerId,selectedPanelTab:null==t?void 0:t.selectedPanelTab,redBadgeDisplayedReason:s.RedBadgeDisplayedReason.bankDisconnected},a.default.useEffect((function(){(0,u.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"bankReconnectionBannerDisplayed",payload:n}}})}),[null==t?void 0:t.selectedPanelTab,null==t?void 0:t.offerId]);var o=function(e){return function(){(0,u.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"clickedReconnectBank"}}}),null==e||e("clickedReconnectBankButton"),window.open(m)}}(r);return a.default.createElement(y,null,a.default.createElement(d.RedBadge,null),a.default.createElement(v,null,a.default.createElement(f.ContentSemiBoldSubtitle,null,i.description),a.default.createElement(x,{onClick:o},i.button)))};var g,h,b,y=o.default.div(g||(g=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    width: fill-available;\n    margin: ","px ","px 0;\n    padding: 8px;\n    border-radius: 8px;\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    width: fill-available;\n    margin: ","px ","px 0;\n    padding: 8px;\n    border-radius: 8px;\n    background-color: ",";\n"])),c.DEFAULT_PANEL_TOP_PADDING,c.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,l.colors.sauvignon),v=o.default.div(h||(h=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: fill-available;\n    gap: 5px;\n    padding: 0 8px;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: fill-available;\n    gap: 5px;\n    padding: 0 8px;\n"]))),x=o.default.button(b||(b=r(["\n    padding: 0;\n    background-color: transparent;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],["\n    padding: 0;\n    background-color: transparent;\n    font-weight: 700;\n    font-size: 14px;\n    line-height: 17px;\n    color: black;\n    border-bottom: 2px solid ",";\n    border-top: 0;\n    border-left: 0;\n    border-right: 0;\n    ","\n\n    &:hover {\n        opacity: 0.6;\n    }\n"])),l.colors.alto,c.CLICKABLE_ELEMENT_CSS_MIXIN)},10570:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BlackButton=t.WhiteButtonWithBlackBorder=t.JokoButton=void 0;var a,o,l,s=i(n(38267)),c=n(55015),u=n(26368);t.JokoButton=s.default.button(a||(a=r(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: ",";\n    height: ","px;\n    padding: ","px\n        12px;\n    border: 0;\n    border-radius: 32px;\n    font-family: ",";\n    font-weight: ",";\n    font-size: ","px;\n    line-height: ","px;\n    text-align: center;\n    ","\n\n    &:active {\n        outline: 0;\n        filter: brightness(1.1);\n    }\n"],["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: ",";\n    height: ","px;\n    padding: ","px\n        12px;\n    border: 0;\n    border-radius: 32px;\n    font-family: ",";\n    font-weight: ",";\n    font-size: ","px;\n    line-height: ","px;\n    text-align: center;\n    ","\n\n    &:active {\n        outline: 0;\n        filter: brightness(1.1);\n    }\n"])),(function(e){return e.isFullWidth?"100%":"auto"}),(function(e){var t=e.isFullWidth,n=e.isThin,r=e.buttonHeight;return null!=r?r:t&&!n?u.DEFAULT_FULL_WIDTH_BUTTON_HEIGHT:u.DEFAULT_BUTTON_HEIGHT}),(function(e){var t=e.isFullWidth,n=e.isThin;return e.buttonHeight||t&&!n?8:5}),c.fontFamilyAmbit,u.DEFAULT_BUTTON_FONT_WEIGHT,(function(e){var t=e.isFullWidth,n=e.isThin;return t&&!n?u.DEFAULT_FULL_WIDTH_BUTTON_FONT_SIZE:u.DEFAULT_BUTTON_FONT_SIZE}),(function(e){var t=e.buttonHeight;return t?t-16:24}),u.CLICKABLE_ELEMENT_CSS_MIXIN),t.WhiteButtonWithBlackBorder=(0,s.default)(t.JokoButton)(o||(o=r(["\n    border: 2px solid ",";\n    background-color: ",";\n    color: ",";\n"],["\n    border: 2px solid ",";\n    background-color: ",";\n    color: ",";\n"])),c.colors.black,c.colors.white,c.colors.black),t.BlackButton=(0,s.default)(t.JokoButton)(l||(l=r(["\n    background-color: ",";\n    color: ",";\n"],["\n    background-color: ",";\n    color: ",";\n"])),c.colors.black,c.colors.white)},64777:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LargeSpinningWheelContainer=t.BaseOverlay=t.ContentScrollView=t.ColumnTopLeftContainer=t.ColumnTopCenterContainer=t.RowSpacedCenterContainer=t.RowLeftCenterContainer=t.CenteredContainer=void 0;var a,o,l,s,c,u,d,f,p=i(n(38267)),m=n(55015);t.CenteredContainer=p.default.div(a||(a=r(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-family: ",";\n"],["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-family: ",";\n"])),m.fontFamilyAmbit),t.RowLeftCenterContainer=p.default.div(o||(o=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    font-family: ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    font-family: ",";\n"])),m.fontFamilyAmbit),t.RowSpacedCenterContainer=p.default.div(l||(l=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    font-family: ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    font-family: ",";\n"])),m.fontFamilyAmbit),t.ColumnTopCenterContainer=p.default.div(s||(s=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    font-family: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    font-family: ",";\n"])),m.fontFamilyAmbit),t.ColumnTopLeftContainer=p.default.div(c||(c=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    font-family: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    font-family: ",";\n"])),m.fontFamilyAmbit),t.ContentScrollView=p.default.div(u||(u=r(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    font-family: ",";\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    width: 100%;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    font-family: ",";\n    scrollbar-width: none; /* This is for Firefox */\n\n    &::-webkit-scrollbar {\n        display: none; /* This is for webkit-based browsers: Safari and Chrome */\n    }\n"])),m.fontFamilyAmbit),t.BaseOverlay=p.default.div(d||(d=r(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n"],["\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n"]))),t.LargeSpinningWheelContainer=(0,p.default)(t.CenteredContainer)(f||(f=r(["\n    flex: 1;\n    flex-direction: column;\n    align-self: center;\n"],["\n    flex: 1;\n    flex-direction: column;\n    align-self: center;\n"])))},40549:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=o(n(96540)),s=a(n(77721)),c=n(74137);t.default=function(e){var t=e.children;return l.default.createElement(s.ErrorBoundary,{onError:function(e){return(0,c.captureSentryException)(e)}},t)}},61967:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(96540));t.default=function(e){return i.default.createElement(i.default.Fragment,null,e.children.split("*").map((function(t,n){return i.default.createElement("span",{key:"highlighted-text-".concat(n),style:n%2!=0?e.highlightedStyle||{fontWeight:700}:{}},t)})))}},53171:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(96540)),l=a(n(38267)),s=n(55015),c=n(47175),u=n(64777),d=n(78776);function f(e){var t=e.offer,n=e.userOfferActivationInfo,r=e.shouldDisplayOnetimeOfferCashbackActivatedInfo,i=n.active,a=(0,s.useLocalizedTexts)().contentscript.redesign.common.activatedOfferInfo;return r&&t.type===s.OfferType.OneTime&&i?o.default.createElement(x,null,o.default.createElement(_,{src:c.CHECK_MARK_BLACK_ICON_URL}),o.default.createElement(B,null,a)):null}function p(){var e=(0,s.useLocalizedTexts)();return o.default.createElement(S,null,o.default.createElement(E,null,o.default.createElement(I,{src:c.CREDIT_CARD_ICON_URL}),o.default.createElement("span",null,e.shared.offerDetails.offerTypeIcon.cardLinked)),o.default.createElement(d.ContentSubtitle,null,e.contentscript.redesign.common.offerCashbackInfo.onetimeOfferCashbackBanner))}t.default=function(e){var t=e.offer,n=e.userOfferActivationInfo,r=e.shouldDisplayOnetimeOfferCashbackActivatedInfo,a=(0,s.useLocalizedTexts)().contentscript.redesign.common.offerCashbackInfo;return o.default.createElement(o.default.Fragment,null,t.type===s.OfferType.OneTime?o.default.createElement(o.default.Fragment,null,void 0!==n?o.default.createElement(f,i({},{offer:t,userOfferActivationInfo:n,shouldDisplayOnetimeOfferCashbackActivatedInfo:r})):null,o.default.createElement(p,null)):null,o.default.createElement(s.OfferMultipleRates,i({sectionTitle:o.default.createElement(d.ContentTitle,{style:{marginBottom:10}},a.multipleRatesTitle)},{offer:t})),o.default.createElement(s.OfferConditions,i({sectionTitle:o.default.createElement(d.ContentTitle,{style:{marginBottom:10}},a.conditionsTitle)},{offer:t})))};var m,g,h,b,y,v,x=l.default.div(m||(m=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: fill-available;\n    min-height: 28px;\n    margin-top: 16px;\n    padding-left: 10px;\n    border-radius: 8px;\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: fill-available;\n    min-height: 28px;\n    margin-top: 16px;\n    padding-left: 10px;\n    border-radius: 8px;\n    background-color: ",";\n"])),s.colors.hintOfGreen),S=l.default.div(g||(g=r(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin: 16px 0 0;\n"],["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin: 16px 0 0;\n"]))),E=(0,l.default)(u.CenteredContainer)(h||(h=r(["\n    flex-direction: row;\n    min-width: 48px;\n    width: 48px;\n    height: 48px;\n    object-fit: contain;\n    margin-right: 12px;\n    border-radius: 100px;\n    background-color: ",";\n    font-family: ",";\n    font-weight: 700;\n    font-size: 12px;\n    color: ",";\n"],["\n    flex-direction: row;\n    min-width: 48px;\n    width: 48px;\n    height: 48px;\n    object-fit: contain;\n    margin-right: 12px;\n    border-radius: 100px;\n    background-color: ",";\n    font-family: ",";\n    font-weight: 700;\n    font-size: 12px;\n    color: ",";\n"])),s.colors.tranquil,s.fontFamilyAmbit,s.colors.easternBlue),B=l.default.div(b||(b=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    color: ",";\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n    color: ",";\n"])),s.fontFamilyAmbit,s.colors.black),_=l.default.img(y||(y=r(["\n    width: 8px;\n    height: 6px;\n    object-fit: contain;\n    margin-right: 4px;\n"],["\n    width: 8px;\n    height: 6px;\n    object-fit: contain;\n    margin-right: 4px;\n"]))),I=l.default.img(v||(v=r(["\n    width: 10px;\n    height: 8px;\n    margin-right: 2px;\n"],["\n    width: 10px;\n    height: 8px;\n    margin-right: 2px;\n"])))},98413:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.addOverlayToBackground=void 0;var o=a(n(96540)),l=a(n(40961)),s=a(n(38267)),c=n(37392),u=n(26368),d=n(16868);function f(e){var t=e.removeOverlay,n=e.onClickOverlay;return o.default.useEffect((function(){var e=(0,c.setJokoDomEventListener)(c.JokoDomEvent.onOfferActivated,t),n=(0,c.setJokoDomEventListener)(c.JokoDomEvent.onCashbackTrackingLostWidgetClosed,t),r=(0,c.setJokoDomEventListener)(c.JokoDomEvent.onOfferWidgetClosed,t);return function(){(0,c.removeJokoDomEventListener)(c.JokoDomEvent.onOfferActivated,e),(0,c.removeJokoDomEventListener)(c.JokoDomEvent.onCashbackTrackingLostWidgetClosed,n),(0,c.removeJokoDomEventListener)(c.JokoDomEvent.onOfferWidgetClosed,r)}}),[]),o.default.createElement(m,{onClick:n})}t.addOverlayToBackground=function(e,t){var n=function(){return setTimeout((function(){return document.documentElement.removeChild(r)}),50)},r=document.createElement("div");document.documentElement.appendChild(r),l.default.render(o.default.createElement(f,i({},{removeOverlay:n,onClickOverlay:function(r){r.preventDefault(),n(),(0,d.closeOfferWidgetAndLogEvents)(e,null!=t&&t)}})),r)};var p,m=s.default.div(p||(p=r(["\n    position: fixed;\n    z-index: ",";\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 70%);\n"],["\n    position: fixed;\n    z-index: ",";\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 70%);\n"])),u.HIGHEST_Z_INDEX)},4624:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProductImageContainer=t.PRODUCT_IMAGE_SIZE=void 0;var l=o(n(96540)),s=o(n(38267)),c=n(55015),u=n(47175),d=n(92204),f=n(64777);t.PRODUCT_IMAGE_SIZE=54,t.default=function(e){var n=e.imageUrl,r=e.size,o=a(l.default.useState(!n),2),s=o[0],c=o[1],f=(0,d.useImageSource)(n||"");return l.default.createElement(t.ProductImageContainer,i({},{size:r}),!s&&f?l.default.createElement(h,i({src:f,onError:function(){return c(!0)}},{size:r})):l.default.createElement(b,{src:u.SHOPPING_BAG_ICON_URL}))},t.ProductImageContainer=(0,s.default)(f.CenteredContainer)(p||(p=r(["\n    min-width: ","px;\n    max-width: ","px;\n    min-height: ","px;\n    max-height: ","px;\n    border-radius: 10px;\n    background-color: ",";\n"],["\n    min-width: ","px;\n    max-width: ","px;\n    min-height: ","px;\n    max-height: ","px;\n    border-radius: 10px;\n    background-color: ",";\n"])),(function(e){var n=e.size;return null!=n?n:t.PRODUCT_IMAGE_SIZE}),(function(e){var n=e.size;return null!=n?n:t.PRODUCT_IMAGE_SIZE}),(function(e){var n=e.size;return null!=n?n:t.PRODUCT_IMAGE_SIZE}),(function(e){var n=e.size;return null!=n?n:t.PRODUCT_IMAGE_SIZE}),c.colors.wildSand);var p,m,g,h=s.default.img(m||(m=r(["\n    width: ","px;\n    height: ","px;\n    object-fit: contain;\n    border-radius: 10px;\n"],["\n    width: ","px;\n    height: ","px;\n    object-fit: contain;\n    border-radius: 10px;\n"])),(function(e){var n=e.size;return null!=n?n:t.PRODUCT_IMAGE_SIZE}),(function(e){var n=e.size;return null!=n?n:t.PRODUCT_IMAGE_SIZE})),b=s.default.img(g||(g=r(["\n    width: 22px;\n    height: 22px;\n    object-fit: contain;\n    ","\n"],["\n    width: 22px;\n    height: 22px;\n    object-fit: contain;\n    ","\n"])),(0,c.getCssFilterFromBlackToTargetColor)(c.ColorName.frenchGray))},51186:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BestPriceTag=void 0;var o=a(n(96540)),l=a(n(38267)),s=n(55015),c=n(26368),u=n(87105),d=n(64777),f=a(n(4624)),p=n(78776);function m(e){var t=e.webpageUrl,n=e.productPriceAmount,r=e.productPriceCurrency,i=e.lastPriceData,a=o.default.useMemo((function(){return(0,s.getUrlToDisplay)(t,!1,!0)}),[t]),l=(0,u.useFormattedPriceAndSeparator)({lastPriceData:i,productPriceAmount:n,productPriceCurrency:r});return o.default.createElement(p.ContentSubtitle,{style:{color:s.colors.gray}},l||"",a)}function g(e){var t=e.shouldDisplayBestPriceTag,n=e.isProductCurrentlyBrowsed,r=(0,s.useLocalizedTexts)().contentscript.sideButtonWidget.productTab.priceComparison.bestPrice;return t?o.default.createElement(B,i({},{isProductCurrentlyBrowsed:n}),o.default.createElement(_,null,r)):null}t.default=function(e){var t=e.productTitleToDisplay,n=e.webpageUrl,r=e.imageUrl,a=e.productPriceAmount,l=e.productPriceCurrency,s=e.lastPriceData,c=e.shouldDisplayBestPriceTag,u=e.isProductCurrentlyBrowsed,d=e.onClick,p=e.imageSize;return o.default.createElement(S,i({},{onClick:d,shouldDisplayBestPriceTag:c}),o.default.createElement(f.default,i({},{imageUrl:r},{size:p})),o.default.createElement(E,null,o.default.createElement(I,null,t),o.default.createElement(m,i({},{lastPriceData:s,webpageUrl:n,productPriceAmount:a,productPriceCurrency:l,shouldDisplayBestPriceTag:c})),o.default.createElement(g,i({},{shouldDisplayBestPriceTag:c,isProductCurrentlyBrowsed:u}))))},t.BestPriceTag=g;var h,b,y,v,x,S=(0,l.default)(d.RowLeftCenterContainer)(h||(h=r(["\n    flex: 1;\n    align-self: flex-start;\n    min-width: 0;\n    min-height: ","px;\n    max-height: 50px;\n    touch-action: manipulation;\n    ","\n"],["\n    flex: 1;\n    align-self: flex-start;\n    min-width: 0;\n    min-height: ","px;\n    max-height: 50px;\n    touch-action: manipulation;\n    ","\n"])),(function(e){return e.shouldDisplayBestPriceTag?50:44}),c.TRUNCATED_TEXT_CSS_MIXIN),E=(0,l.default)(d.ColumnTopLeftContainer)(b||(b=r(["\n    margin: 0 15px;\n    ","\n"],["\n    margin: 0 15px;\n    ","\n"])),c.TRUNCATED_TEXT_CSS_MIXIN),B=(0,l.default)(d.CenteredContainer)(y||(y=r(["\n    flex-direction: column;\n    height: 22px;\n    margin-right: 8px;\n    padding: 0 8px;\n    border-radius: 4px;\n    background-color: ",";\n"],["\n    flex-direction: column;\n    height: 22px;\n    margin-right: 8px;\n    padding: 0 8px;\n    border-radius: 4px;\n    background-color: ",";\n"])),s.colors.hintOfGreen),_=l.default.span(v||(v=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    flex-shrink: 0;\n    font-family: ",";\n    font-weight: 700;\n    font-size: 10px;\n    font-style: normal;\n    text-align: center;\n    color: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    flex-shrink: 0;\n    font-family: ",";\n    font-weight: 700;\n    font-size: 10px;\n    font-style: normal;\n    text-align: center;\n    color: ",";\n"])),s.fontFamilyAmbit,s.colors.emerald),I=(0,l.default)(p.ContentSemiBoldSubtitle)(x||(x=r(["\n    width: fill-available;\n    margin-bottom: 2px;\n    ","\n"],["\n    width: fill-available;\n    margin-bottom: 2px;\n    ","\n"])),c.TRUNCATED_TEXT_CSS_MIXIN)},48403:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSelectProductForDeletion=t.ProductInfoCardAndPriceTrackingGraph=void 0;var s=l(n(96540)),c=l(n(38267)),u=n(55015),d=n(47175),f=n(26368),p=n(46239),m=n(23081),g=n(87105),h=n(97925),b=n(50934),y=n(64777),v=l(n(51186)),x=l(n(32413)),S=l(n(13350));function E(e){var t=e.productWebpage,n=e.isProductSelectedForDeletion,r=e.onClickSelectForDeletion,a=e.lastPriceData,o=e.productTitleToDisplay,l=e.isDeletionEnabled,c=e.hasDeletionEverBeenEnabled,u=e.hasClickedDeleteAll;return l?s.default.createElement(s.default.Fragment,null,s.default.createElement(B,i({},{hasClickedDeleteAll:u,isProductSelectedForDeletion:n,onClickSelectForDeletion:r})),s.default.createElement(F,null,s.default.createElement(v.default,i({imageUrl:t.productImageUrl},t,{lastPriceData:a,productTitleToDisplay:o})))):c?s.default.createElement(z,null,s.default.createElement(v.default,i({imageUrl:t.productImageUrl},t,{lastPriceData:a,productTitleToDisplay:o}))):s.default.createElement(j,null,s.default.createElement(v.default,i({imageUrl:t.productImageUrl},t,{lastPriceData:a,productTitleToDisplay:o})))}function B(e){var t=e.hasClickedDeleteAll,n=e.isProductSelectedForDeletion,r=e.onClickSelectForDeletion;return s.default.createElement(U,{onClick:r,ticked:n||t},s.default.createElement(S.default,null))}function _(e){var t=e.productWebpage,n=e.browsedProductWebpages,r=e.selectedProductTimestampsForDeletion,i=e.setSelectedProductTimestampsForDeletion,l=a(s.default.useState(!1),2),c=l[0],u=l[1];return{isProductSelectedForDeletion:c,onClickSelectForDeletion:function(){var e;if("BrowsedProductWebpage"===t.__typename&&n&&r&&i){u(!c);var l=null!==(e=h.identicalConsecutivelyBrowsedProductsTimestampsMap.get("".concat(t.webpageUrl,"|").concat(t.timestamp)))&&void 0!==e?e:[t.timestamp];c?i(r.filter((function(e){return!l.includes(e)}))):(i(o(o([],a(r),!1),a(l),!1)),(0,p.sendMessageToBackgroundScript)({message:"logUserEvent",data:{event:{type:"selectedBrowsedProductToDelete"}}}))}}}}t.ProductInfoCardAndPriceTrackingGraph=function(e){var t=e.productWebpage,n=e.fromComponent,r=e.isMobileExtension,a=e.requestProductUnsave,o=e.userRegion,l=e.isCurrentWebpage,c=e.productDataFromCurrentWebpage,f=e.blacklistedPriceTrackingDomains,p=e.currentlyOpenPriceTrackingGraphWebpageUrl,y=e.setCurrentlyOpenPriceTrackingGraphWebpageUrl,S=e.isProductSaved,B=e.toggleIsProductSaved,I=e.isDeletionEnabled,C=e.hasDeletionEverBeenEnabled,P=e.hasClickedDeleteAll,w=e.selectedProductTimestampsForDeletion,T=e.setSelectedProductTimestampsForDeletion,O=e.browsedProductWebpages,k="BrowsedProductWebpage"===t.__typename,A=(0,u.usePriceHistory)({webpage:t,offerId:void 0,isCurrentWebpage:l,productDataFromCurrentWebpage:c,shouldAutomaticallyCheckAvailability:!0,shouldFetchBlacklistedPriceTrackingDomainsFromBackend:!1,blacklistedPriceTrackingDomains:f}),N=A.isPriceHistoryAvailable,D=A.lastPrice,z=A.priceHistory,F=A.loadPriceHistoryAndLogEvents,U=A.isWebsiteBlacklistedForPriceTracking,V=N&&!(0,m.checkIsPriceTrackingDisabled)(o,U),K=(0,g.useOnClickPriceTrackingButton)({webpageUrl:t.webpageUrl,loadPriceHistoryAndLogEvents:F,currentlyOpenPriceTrackingGraphWebpageUrl:p,setCurrentlyOpenPriceTrackingGraphWebpageUrl:y,fromComponent:n}),J=K.onClickPriceTrackingButton,X=K.isPriceTrackingGraphOpen,Z=s.default.useMemo((function(){return(0,m.getCleanProductName)(t.webpageTitle)}),[]),Y=_({productWebpage:t,browsedProductWebpages:O,selectedProductTimestampsForDeletion:w,setSelectedProductTimestampsForDeletion:T}),q=Y.isProductSelectedForDeletion,Q=Y.onClickSelectForDeletion;return s.default.createElement(L,i({},{isMobileExtension:r,isPriceTrackingGraphOpen:X},{onClick:function(){return k?(0,h.onClickBrowsedProductWebpageElement)({webpageUrl:t.webpageUrl,isDeletionEnabled:!!I,onClickSelectForDeletion:Q}):(0,b.onClickSavedWebpageElement)(t.webpageUrl)}}),s.default.createElement(M,null,k?s.default.createElement(E,i({isDeletionEnabled:!!I,hasDeletionEverBeenEnabled:!!C,hasClickedDeleteAll:!!P},{productWebpage:t,isProductSelectedForDeletion:q,onClickSelectForDeletion:Q,lastPriceData:D,productTitleToDisplay:Z,shouldDisplayPriceTrackingButton:V})):s.default.createElement(j,null,s.default.createElement(v.default,i({imageUrl:t.webpageImageUrl},t,{lastPriceData:D,productTitleToDisplay:Z}))),V?s.default.createElement("button",{onClick:J,style:{border:"none",backgroundColor:"transparent"}},s.default.createElement(W,i({src:d.PRICE_TRACKING_ICON_URL},{isMobileExtension:r}))):s.default.createElement(G,null),S?s.default.createElement(H,i({key:"".concat(S,"-").concat(t.webpageUrl,"-").concat(k?t.timestamp:""),onClick:function(e){e.stopPropagation(),a()}},{isMobileExtension:r,isProductSaved:S}),s.default.createElement(x.default,null)):s.default.createElement(H,i({key:"".concat(S,"-").concat(t.webpageUrl,"-").concat(k?t.timestamp:""),onClick:function(e){e.stopPropagation(),null==B||B()},isProductSaved:!!S},{isMobileExtension:r}),s.default.createElement(x.default,{initialFill:u.colors.white}))),X?z?s.default.createElement(R,null,s.default.createElement(u.PriceTrackingGraph,i({shouldOccupyMaximumWidth:!0,shouldShowGrayAxes:!0},{priceHistory:z}))):s.default.createElement(R,null,s.default.createElement(u.SpinningWheel,{scale:.35,color:u.colors.gray})):null)},t.useSelectProductForDeletion=_;var I,C,P,w,T,O,k,A,N,D,L=c.default.div(I||(I=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    width: fill-available;\n    margin: 2px 0;\n    padding: 0 ","px;\n    ","\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    width: fill-available;\n    margin: 2px 0;\n    padding: 0 ","px;\n    ","\n    ","\n\n    &:active {\n        background-color: ",";\n    }\n"])),f.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING,(function(e){return e.isPriceTrackingGraphOpen?"background-color: ".concat(u.colors.athensGray,";"):" "}),(function(e){return e.isMobileExtension?"":"&:hover {\n                    background-color: ".concat(u.colors.athensGray,";\n                    cursor: pointer;\n    }")}),(function(e){return e.isMobileExtension?u.colors.athensGray:u.colors.concrete})),M=(0,c.default)(y.RowLeftCenterContainer)(C||(C=r(["\n    z-index: 1;\n    box-sizing: border-box;\n    width: fill-available;\n    gap: 12px;\n    padding: 8px 0;\n    overflow: hidden;\n"],["\n    z-index: 1;\n    box-sizing: border-box;\n    width: fill-available;\n    gap: 12px;\n    padding: 8px 0;\n    overflow: hidden;\n"]))),j=c.default.button(P||(P=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    box-sizing: border-box;\n    width: fill-available;\n    border: none;\n    overflow: hidden;\n    background-color: transparent;\n    ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    box-sizing: border-box;\n    width: fill-available;\n    border: none;\n    overflow: hidden;\n    background-color: transparent;\n    ",";\n"])),f.CLICKABLE_ELEMENT_CSS_MIXIN),z=(0,c.default)(j)(w||(w=r(["\n    animation: right-entry 0.3s ease-in-out;\n\n    @keyframes right-entry {\n        0% {\n            transform: translateX(10%);\n        }\n\n        100% {\n            transform: translateX(0);\n        }\n    }\n"],["\n    animation: right-entry 0.3s ease-in-out;\n\n    @keyframes right-entry {\n        0% {\n            transform: translateX(10%);\n        }\n\n        100% {\n            transform: translateX(0);\n        }\n    }\n"]))),F=(0,c.default)(j)(T||(T=r(["\n    animation: left-entry 0.3s ease-in-out;\n\n    @keyframes left-entry {\n        0% {\n            transform: translateX(-10%);\n        }\n\n        100% {\n            transform: translateX(0);\n        }\n    }\n"],["\n    animation: left-entry 0.3s ease-in-out;\n\n    @keyframes left-entry {\n        0% {\n            transform: translateX(-10%);\n        }\n\n        100% {\n            transform: translateX(0);\n        }\n    }\n"]))),R=c.default.div(O||(O=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: fill-available;\n    height: ","px;\n    padding: 0 ","px;\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: fill-available;\n    height: ","px;\n    padding: 0 ","px;\n"])),120,f.DEFAULT_PANEL_AND_WIDGET_HORIZONTAL_PADDING),U=c.default.button(k||(k=r(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 20px;\n    padding: 0;\n    border: 2px solid;\n    border-radius: 4px;\n    border-color: ",";\n    background-color: ",";\n    ","\n"],["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 20px;\n    padding: 0;\n    border: 2px solid;\n    border-radius: 4px;\n    border-color: ",";\n    background-color: ",";\n    ","\n"])),(function(e){return e.ticked?u.colors.emerald:u.colors.alto}),(function(e){return e.ticked?u.colors.emerald:"transparent"}),f.CLICKABLE_ELEMENT_CSS_MIXIN),H=c.default.button(A||(A=r(["\n    padding: 0;\n    border: none;\n    background-color: transparent;\n    ","\n    ","\n"],["\n    padding: 0;\n    border: none;\n    background-color: transparent;\n    ","\n    ","\n"])),f.CLICKABLE_ELEMENT_CSS_MIXIN,(function(e){return e.isMobileExtension?"":"&:hover {\n                opacity: ".concat((function(e){return e.isProductSaved?.6:1}),";\n            }")})),W=c.default.img(N||(N=r(["\n    width: 20px;\n    height: 20px;\n    border-radius: 1000px;\n    ","\n    ","\n            &:active {\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 10%), 0 2px 1px rgba(0, 0, 0, 6%),\n            0 1px 1px rgba(0, 0, 0, 8%);\n        background-color: ",";\n        ","\n    }\n"],["\n    width: 20px;\n    height: 20px;\n    border-radius: 1000px;\n    ","\n    ","\n            &:active {\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 10%), 0 2px 1px rgba(0, 0, 0, 6%),\n            0 1px 1px rgba(0, 0, 0, 8%);\n        background-color: ",";\n        ","\n    }\n"])),f.CLICKABLE_ELEMENT_CSS_MIXIN,(function(e){return e.isMobileExtension?"":"&:hover {\n            background-color: ".concat(u.colors.gallery,";\n            ").concat((0,u.getCssFilterFromBlackToTargetColor)(u.ColorName.black),"}")}),u.colors.alto,(0,u.getCssFilterFromBlackToTargetColor)(u.ColorName.black)),G=c.default.div(D||(D=r(["\n    width: ","px;\n    height: ","px;\n"],["\n    width: ","px;\n    height: ","px;\n"])),g.PRODUCT_INFO_BUTTON_SIZE,g.PRODUCT_INFO_BUTTON_SIZE)},62491:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RedBadge=void 0;var a,o=i(n(38267)),l=n(55015);t.RedBadge=o.default.div(a||(a=r(["\n    flex-shrink: 0;\n    flex-grow: 0;\n    width: 10px;\n    height: 10px;\n    border: 3px solid ",";\n    border-radius: 50%;\n    background-color: ",";\n"],["\n    flex-shrink: 0;\n    flex-grow: 0;\n    width: 10px;\n    height: 10px;\n    border: 3px solid ",";\n    border-radius: 50%;\n    background-color: ",";\n"])),l.colors.white,l.colors.alizarinCrimson)},4956:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=o(n(96540)),s=o(n(38267)),c=n(55015),u=n(28805),d=n(2073),f=n(47175),p=n(17621),m=n(32668),g=n(84159),h=n(26368),b=n(64777),y=n(91506);function v(e){var t=e.offer,n=e.closingActionOnSnoozing,r=e.widgetInnerContainerRef,a=e.panelInnerContainerRef,o=e.snoozeSettingsButtonRef,s=e.setIsSnoozeSettingsPopupOpen,u=e.shouldHideCloseButton,d=(0,g.useSnoozeSettingsButtonInnerState)({isMobileExtension:!1,offer:t,closingActionOnSnoozing:n,widgetInnerContainerRef:r,panelInnerContainerRef:a,snoozeSettingsButtonRef:o,setIsSnoozeSettingsPopupOpen:s}),p=d.onClickSnoozeForCurrentWebsiteButton,m=d.desktopSnoozeSettingsPopupRef,h=(0,c.useLocalizedTexts)().contentscript.redesign.common.snoozeSettings;return l.default.createElement(_,i({ref:m},{shouldHideCloseButton:u}),l.default.createElement(I,{onClick:function(){return p()}},l.default.createElement(P,{src:f.NOTIFICATION_OFF_ICON_URL}),l.default.createElement(C,null,h.snoozeUntilTomorrow)))}t.default=function(e){var t=e.offer,n=e.openingSource,r=e.closingActionOnSnoozing,o=e.widgetInnerContainerRef,s=e.panelInnerContainerRef,c=e.shouldHideCloseButton,g=l.default.useMemo(m.checkIsOnMobileScreen,[]),h=a(l.default.useState(!1),2),b=h[0],x=h[1],S=l.default.useCallback((function(){if(g){var e=(0,p.getHashedElementId)(p.JokoExtensionRootElement.snoozingBottomSheet);null===document.getElementById(e)&&(0,d.displaySnoozingBottomSheet)({offer:t,closingActionOnSnoozing:r,widgetInnerContainerRef:o,panelInnerContainerRef:s})}else x(!b);!function(e,t){var n={offerId:e,openingSource:t};(0,u.sendMessage)({message:"logUserEvent",data:{event:{type:"clickedSettingsButtonOnBrowserExtension",payload:n}}}),(0,u.sendMessage)({message:"logAmplitudeEvent",data:{event:{type:"Browser Extension - Clicked Settings Button",properties:n}}})}(null==t?void 0:t.offerId,n)}),[b]),E=l.default.useRef(null);return l.default.createElement(l.default.Fragment,null,l.default.createElement(y.HeaderIconButton,{src:f.SETTINGS_WHEEL_ICON_URL,onClick:S,size:16,ref:E}),b?l.default.createElement(v,i({},{offer:t,closingActionOnSnoozing:r,widgetInnerContainerRef:o,panelInnerContainerRef:s,snoozeSettingsButtonRef:E,setIsSnoozeSettingsPopupOpen:x,shouldHideCloseButton:c})):null)};var x,S,E,B,_=(0,s.default)(b.ColumnTopLeftContainer)(x||(x=r(["\n    position: absolute;\n    z-index: ",";\n    top: 35px;\n    right: ","px;\n    border: 1px solid #e5e6e9;\n    border-radius: 8px;\n    box-shadow: 0 1px 1px rgba(0, 0, 0, 8%), 0 2px 1px rgba(0, 0, 0, 6%),\n        0 1px 3px rgba(0, 0, 0, 10%);\n    background-color: ",";\n\n    &:hover {\n        background-color: ",";\n    }\n"],["\n    position: absolute;\n    z-index: ",";\n    top: 35px;\n    right: ","px;\n    border: 1px solid #e5e6e9;\n    border-radius: 8px;\n    box-shadow: 0 1px 1px rgba(0, 0, 0, 8%), 0 2px 1px rgba(0, 0, 0, 6%),\n        0 1px 3px rgba(0, 0, 0, 10%);\n    background-color: ",";\n\n    &:hover {\n        background-color: ",";\n    }\n"])),h.HIGHEST_Z_INDEX,(function(e){return e.shouldHideCloseButton?16:48}),c.colors.white,c.colors.gallery),I=(0,s.default)(b.RowSpacedCenterContainer)(S||(S=r(["\n    height: 36px;\n    padding: 0 10px;\n    touch-action: manipulation;\n    ","\n"],["\n    height: 36px;\n    padding: 0 10px;\n    touch-action: manipulation;\n    ","\n"])),h.CLICKABLE_ELEMENT_CSS_MIXIN),C=s.default.span(E||(E=r(["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n"],["\n    font-family: ",";\n    font-weight: 600;\n    font-size: 14px;\n"])),c.fontFamilyAmbit),P=s.default.img(B||(B=r(["\n    width: 16px;\n    height: 16px;\n    margin-right: 8px;\n    ","\n"],["\n    width: 16px;\n    height: 16px;\n    margin-right: 8px;\n    ","\n"])),h.NON_HIGHLIGHTABLE_NOR_DRAGGABLE_ELEMENT_CSS_MIXIN)},54165:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AverageCashbackEarnedSocialProof=void 0;var a=i(n(96540)),o=i(n(38267)),l=n(55015),s=n(58029),c=n(19630),u=n(64534),d=n(26368),f=n(78776);t.AverageCashbackEarnedSocialProof=function(e){var t=e.offer,n=e.userRegion,r=(0,l.useLocalizedTexts)().contentscript.redesign.widgets.offerWidget.cashback.onlineOffer.socialProof,i=(0,l.useLocalizedFormat)(),o=(0,u.useCheckIsSocialProofValueSatisfyingThreshold)({socialProofName:u.SocialProofName.displayedAmountOfCashbackEarnedByUsers,socialProofValue:t.displayedAmountOfCashbackEarnedByUsers}),p=!!(0,s.useAppFeature)(s.Feature.enableMultipleCashbackRatesMergingInExtensions),g=(0,c.checkIsFixedPointsOffer)({offer:t,userRegion:n,isMultipleCashbackRatesMergingEnabled:p});if(!t.displayedAmountOfCashbackEarnedByUsers||!o||g)return a.default.createElement("div",{style:{marginTop:d.WIDGET_VERTICAL_PADDING}});var h=(0,l.formatCurrencyAmount)({number:t.displayedAmountOfCashbackEarnedByUsers,localizedFormat:i});return a.default.createElement(m,null,a.default.createElement(l.CurrencySymbolNoCircle,{color:l.CurrencySymbolColor.black,size:"medium"}),a.default.createElement(f.ContentBoldSubtitle,null,h),a.default.createElement(f.ContentSemiBoldSubtitle,null,r))};var p,m=o.default.div(p||(p=r(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    gap: 2px;\n    margin-top: 12px;\n    margin-bottom: -1px; // We need to add this negative margin to avoid having a think white line at the bottom\n    padding: 8px 0;\n    background-color: ",";\n"],["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    gap: 2px;\n    margin-top: 12px;\n    margin-bottom: -1px; // We need to add this negative margin to avoid having a think white line at the bottom\n    padding: 8px 0;\n    background-color: ",";\n"])),l.colors.gallery)},78776:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentText=t.ContentSemiBoldText=t.ContentSubtitle=t.ContentSemiBoldSubtitle=t.ContentBoldSubtitle=t.PanelContentInlineBoldTitle=t.ContentTitle=t.PanelTitle=t.JokoTitle=void 0;var a,o,l,s,c,u,d,f,p,m=i(n(38267)),g=n(55015);t.JokoTitle=(0,m.default)(g.Ambit)(a||(a=r(["\n    text-align: left;\n    color: ",";\n"],["\n    text-align: left;\n    color: ",";\n"])),g.colors.black),t.PanelTitle=(0,m.default)(t.JokoTitle)(o||(o=r(["\n    font-weight: 750;\n    font-size: 20px;\n    line-height: 20px;\n"],["\n    font-weight: 750;\n    font-size: 20px;\n    line-height: 20px;\n"]))),t.ContentTitle=(0,m.default)(t.JokoTitle)(l||(l=r(["\n    font-weight: 700;\n    font-size: 16px;\n"],["\n    font-weight: 700;\n    font-size: 16px;\n"]))),t.PanelContentInlineBoldTitle=(0,m.default)(t.JokoTitle)(s||(s=r(["\n    font-weight: 900;\n    font-size: 14px;\n    line-height: 20px;\n"],["\n    font-weight: 900;\n    font-size: 14px;\n    line-height: 20px;\n"]))),t.ContentBoldSubtitle=(0,m.default)(t.JokoTitle)(c||(c=r(["\n    font-weight: 700;\n    font-size: 14px;\n"],["\n    font-weight: 700;\n    font-size: 14px;\n"]))),t.ContentSemiBoldSubtitle=(0,m.default)(t.JokoTitle)(u||(u=r(["\n    font-weight: 600;\n    font-size: 14px;\n"],["\n    font-weight: 600;\n    font-size: 14px;\n"]))),t.ContentSubtitle=(0,m.default)(t.JokoTitle)(d||(d=r(["\n    font-weight: 400;\n    font-size: 14px;\n"],["\n    font-weight: 400;\n    font-size: 14px;\n"]))),t.ContentSemiBoldText=(0,m.default)(t.JokoTitle)(f||(f=r(["\n    font-weight: 600;\n    font-size: 12px;\n"],["\n    font-weight: 600;\n    font-size: 12px;\n"]))),t.ContentText=(0,m.default)(t.JokoTitle)(p||(p=r(["\n    font-weight: 400;\n    font-size: 12px;\n"],["\n    font-weight: 400;\n    font-size: 12px;\n"])))},87021:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(96540)),o=n(61698),l=n(55015),s=n(59812),c=n(81778),u=i(n(74305)),d=n(39838);t.default=function(e){var t,n=e.isLoading,i=e.isOfferActivated,f=e.onClickActivateOffer,p=e.shouldShowShadow,m=void 0!==p&&p,g=(0,l.useLocalizedTexts)().designSystem.contentscript.redesign.common.activateOfferButton,h=(0,d.useOfferDetailsTabContentContext)(),b=!h||!!((null===(t=h.displayedOffer)||void 0===t?void 0:t.offerId)&&h.currentWebpageOffer&&h.currentWebpageOffer.offerId&&h.displayedOffer.offerId===h.currentWebpageOffer.offerId);return a.default.createElement(s.Button,r({hierarchy:i?s.ButtonHierarchy.positive:s.ButtonHierarchy.primary,buttonState:n?s.ButtonState.loading:s.ButtonState.default,buttonSize:s.ButtonSize.medium,shouldShowLabel:!0,label:i?g.offerActivated:g.activateOffer,shouldShowRightIcon:!b,rightIcon:a.default.createElement(c.StyledSvg,{component:u.default,width:o.measurements.icons.small,height:o.measurements.icons.small,onClick:f,isClickable:!0}),shouldTakeFullWidth:!0,onClick:f},{shouldShowShadow:m}))}},7864:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(96540)),l=a(n(38267)),s=n(55015),c=n(4911),u=n(96410),d=a(n(5655)),f=n(17436),p=a(n(6290)),m=a(n(50587));function g(){var e=(0,s.useLocalizedTexts)(),t=e.designSystem.shared.offerDetails.offerTypeIcon.cardLinked,n=e.designSystem.contentscript.redesign.common.offerCashbackInfo.onetimeOfferCashbackBanner,r=n.title,i=n.subtitle;return o.default.createElement(S,null,o.default.createElement(u.Title,{titleSize:u.TitleSize.medium,titleWeight:u.TitleWeight.bold,text:r}),o.default.createElement(E,null,o.default.createElement(c.Avatar,{avatarSize:c.AvatarSize.medium,avatarRadius:c.AvatarRadius.circle,avatarType:c.AvatarType.icon,backgroundColor:f.colors.background.light,iconComponent:d.default,iconComponentColor:f.colors.brand.black,iconComponentSize:f.measurements.icons.medium,shouldShowTextBesideIcon:!0,textToDisplayBesideIcon:t}),o.default.createElement(B,null,i)))}t.default=function(e){var t=e.offer;return o.default.createElement(x,null,o.default.createElement(m.default,i({},{offer:t})),t.type===s.OfferType.OneTime?o.default.createElement(g,null):null,o.default.createElement(p.default,i({},{offer:t})))};var h,b,y,v,x=l.default.div(h||(h=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"])),f.measurements.spacings.medium),S=l.default.div(b||(b=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"])),f.measurements.spacings.small),E=l.default.div(y||(y=r(["\n    display: flex;\n    align-items: center;\n    min-height: ",";\n    gap: ",";\n"],["\n    display: flex;\n    align-items: center;\n    min-height: ",";\n    gap: ",";\n"])),f.measurements.spacings.large,f.measurements.spacings.medium),B=l.default.span(v||(v=r(["\n    font-family: ",";\n    font-weight: ",";\n    font-size: ",";\n    line-height: ",";\n    color: ",";\n    cursor: inherit;\n"],["\n    font-family: ",";\n    font-weight: ",";\n    font-size: ",";\n    line-height: ",";\n    color: ",";\n    cursor: inherit;\n"])),f.typographies.fonts.paragraph,f.typographies.fontWeights.semiBold,f.typographies.fontSizes.paragraph.small,f.typographies.lineHeights.paragraph.small,f.colors.content.default)},6290:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(96540)),l=n(61698),s=a(n(38267)),c=n(57406),u=n(58029),d=n(47277),f=n(67454),p=n(86028),m=n(96410),g=n(18635),h=n(17436),b=n(92204);function y(e){var t=e.condition,n=t.iconUrl,r=t.summary,i=t.description,a=(0,b.useImageSource)(n||"");return o.default.createElement(d.TextContentLine,{textContentLineType:d.TextContentLineType.textWithLeftImage,shouldShowIconOrImage:!0,imageUrl:a,iconComponentSize:h.measurements.icons.medium,shouldShowButtonIcon:!1},o.default.createElement(p.TextContent,{textContentLayoutType:p.TextContentLayoutType.content},o.default.createElement(m.Title,{titleSize:m.TitleSize.small,titleWeight:m.TitleWeight.semiBold,text:r,shouldAlignTextLeft:!0}),i?o.default.createElement(f.Subtitle,{subtitleSize:f.SubtitleSize.small,color:h.colors.content.secondary,text:i,shouldAlignTextLeft:!0}):null))}t.default=function(e){var t,n=e.offer,r=(0,u.useAppFeature)(u.Feature.useNewOfferConditionStyleInExtensions),a=(0,c.useLocalizedTexts)().designSystem.contentscript.redesign.common.offerCashbackInfo,s=(null===(t=n.enrichedConditions)||void 0===t?void 0:t.conditions)||[],d=o.default.useMemo((function(){return s.sort((function(e,t){return(e.priority||0)-(t.priority||0)}))}),[s]),f=void 0===r;return 0===d.length?null:o.default.createElement(S,null,o.default.createElement(m.Title,{titleSize:m.TitleSize.medium,titleWeight:m.TitleWeight.bold,text:a.conditionsTitle,shouldAlignTextLeft:!0}),o.default.createElement(E,null,f?o.default.createElement(g.Rectangle,{width:l.LONG_SKELETON_PLACEHOLDER_WIDTH,height:l.THICK_SKELETON_PLACEHOLDER_HEIGHT,color:h.colors.background.subtle}):o.default.createElement(o.default.Fragment,null,d.map((function(e,t){return o.default.createElement(y,i({},{condition:e},{key:e.conditionId||"condition-".concat(t)}))})))))};var v,x,S=s.default.div(v||(v=r(["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-self: stretch;\n    gap: ",";\n"])),h.measurements.spacings.small),E=s.default.div(x||(x=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    box-sizing: border-box;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    box-sizing: border-box;\n"])))},50587:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(96540)),l=a(n(38267)),s=n(55015),c=n(55015),u=n(58029),d=n(60945),f=n(96410),p=n(17436);t.default=function(e){var t=e.offer,n=(0,c.useUserRegion)(),r=(0,s.useLocalizedTexts)().designSystem.contentscript.redesign.common,a=!!(0,u.useAppFeature)(c.Feature.enableMultipleCashbackRatesMergingInExtensions),l=(0,c.getOfferMainCashbackRate)({offer:t,userRegion:n,isMultipleCashbackRatesMergingEnabled:a}),p=(0,c.getOfferMultipleCashbackRates)({offer:t,userRegion:n,isMultipleCashbackRatesMergingEnabled:a});return 0===p.length&&p.push(l),o.default.createElement(h,null,o.default.createElement(f.Title,{titleSize:f.TitleSize.medium,titleWeight:f.TitleWeight.bold,text:r.offerCashbackInfo.multipleRatesTitle,shouldAlignTextLeft:!0}),o.default.createElement(b,null,p.map((function(e,t){return o.default.createElement(d.CashbackLine,i({},{cashbackRate:e},{shouldForceGapBetweenRateAndText:p.length>1,key:t}))}))))};var m,g,h=l.default.div(m||(m=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n    gap: ",";\n"])),p.measurements.spacings.small),b=l.default.div(g||(g=r(["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n"],["\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    align-self: stretch;\n"])))},44580:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DesignSystemPriceTrackingGraph=void 0;var d=l(n(96540)),f=u(n(14783)),p=u(n(38267)),m=n(17436);t.DesignSystemPriceTrackingGraph=function(e){var t=e.priceHistory,n=e.shouldOccupyMaximumWidth,r=e.shouldShowGrayAxes,a=e.isOnMobile,o=e.priceTrackingGraphHeight,l=function(e){var t=(0,d.useMemo)((function(){return e.map((function(e){return[1e3*e.timestamp,e.amount]}))}),[e]),n=(0,d.useMemo)((function(){if(e.length){var t=e.map((function(e){return e.amount}));return{lowestPrice:Math.min.apply(Math,c([],s(t),!1)),highestPrice:Math.max.apply(Math,c([],s(t),!1))}}}),[e]),r=(0,d.useMemo)((function(){return e.length?e[0].currency:""}),[e]);return{formattedPriceHistory:t,priceHistoryExtrema:n,currency:r}}(t),u=function(e,t,n,r,i){var a=(0,d.useMemo)((function(){function a(e){var t=(Math.round(100*(e+Number.EPSILON))/100).toFixed(2);return"EUR"===r?t+" ":"USD"===r?"$"+t:"GBP"===r?""+t:t+" "+r}function o(){var e=a(this.y);return'<span style="color:'.concat(m.colors.content.default,';position:relative;top:100;">').concat(e,"</span>")}function l(t){var n=this.chart.hoverPoint,r=n.series.data,i=e?20:15;return{x:n.plotX<t/2?0:n.plotX+t/2>r[r.length-1].plotX?r[r.length-1].plotX-t/1.5:n.plotX-t/2,y:n.plotY-i}}var s=t.every((function(e){return e[1]===t[0][1]}));return{chart:{type:"areaspline",backgroundColor:"transparent",spacingBottom:0},title:{text:""},style:{fontFamily:m.typographies.fonts.paragraph},legend:{enabled:!1},xAxis:{type:"datetime",tickLength:0,lineColor:i?m.colors.border.subtle:m.colors.border.light,gridLineColor:m.colors.border.light,labels:{y:e?20:18,step:2,style:{fontSize:m.typographies.fontSizes.paragraph.xSmall,color:m.colors.content.secondary}},dateTimeLabelFormats:{millisecond:" ",second:" ",minute:" ",hour:" ",day:"%e/%m",week:"%e/%m",month:"%m/%Y",year:"%Y"},tickPixelInterval:30,minPadding:0,maxPadding:0},yAxis:{title:{text:null},labels:{enabled:!1},tickLength:0,lineColor:"".concat(i?m.colors.border.subtle:m.colors.border.light),gridLineColor:"".concat(m.colors.border.light),gridLineWidth:0,min:(s?.7:.85)*((null==n?void 0:n.lowestPrice)||0),max:1.1*((null==n?void 0:n.highestPrice)||0),endOnTick:!1},plotOptions:{series:{color:m.colors.brand.blue,marker:{enabled:!1,radius:2},states:{hover:{halo:null}}}},series:[{fillColor:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"#5EF2F2"],[.9,"#E8FFFF"]]},data:t}],tooltip:{style:{fontSize:e?m.typographies.fontSizes.title.small:m.typographies.fontSizes.title.xxSmall,fontWeight:m.typographies.fontWeights.bold},borderWidth:0,shadow:!1,backgroundColor:"transparent",formatter:o,positioner:l},credits:{enabled:!1}}}),[t,n,r]);return a}(a,l.formattedPriceHistory,l.priceHistoryExtrema,l.currency,r),p=(0,d.useRef)(null);return(0,d.useEffect)((function(){p.current&&f.default.chart(p.current,u)}),[]),d.default.createElement(h,i({ref:p},{isOnMobile:a,shouldOccupyMaximumWidth:n,priceTrackingGraphHeight:o}))};var g,h=p.default.div(g||(g=r(["\n    width: ","%;\n    min-height: ",";\n    background-color: transparent;\n"],["\n    width: ","%;\n    min-height: ",";\n    background-color: transparent;\n"])),(function(e){var t=e.isOnMobile,n=e.shouldOccupyMaximumWidth;return t||n?100:90}),(function(e){var t=e.priceTrackingGraphHeight;return"number"==typeof t?"".concat(t,"px"):t}))},71621:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=o(n(96540)),s=n(55015),c=a(n(40616)),u=n(87105);t.default=function(e){var t=e.productTitleToDisplay,n=e.webpageUrl,r=e.imageUrl,i=e.productPriceAmount,a=e.productPriceCurrency,o=e.lastPriceData,d=e.shouldShowPriceTrackingButton,f=void 0!==d&&d,p=e.onClick,m=e.isMobileExtension,g=l.default.useMemo((function(){return(0,s.getUrlToDisplay)(n,!1,!0)}),[n]),h=(0,u.useFormattedPriceAndSeparator)({lastPriceData:o,productPriceAmount:i,productPriceCurrency:a});return l.default.createElement(c.default,{productLineType:c.ProductLineType.withoutAddonsAndPadding,productLineState:c.ProductLineState.default,shouldShowPriceTrackingButton:f,productTitle:t,productSubtitle:"".concat(h||"").concat(g),logoUrl:null!=r?r:void 0,onClickProductLine:p,isMobileExtension:m})}},37465:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=c(n(96540)),d=c(n(38267)),f=n(55015),p=n(28805),m=n(81778),g=l(n(94126)),h=c(n(56906)),b=n(59674),y=n(17436),v=n(2073),x=n(17621),S=n(32668),E=n(84159);function B(e){var t=e.offer,n=e.closingActionOnSnoozing,r=e.widgetInnerContainerRef,a=e.panelInnerContainerRef,o=e.snoozeSettingsButtonRef,l=e.setIsDesktopSnoozeSettingsPopupOpen,s=e.shouldHideCloseButton,c=(0,E.useSnoozeSettingsButtonInnerState)({isMobileExtension:!1,offer:t,closingActionOnSnoozing:n,widgetInnerContainerRef:r,panelInnerContainerRef:a,snoozeSettingsButtonRef:o,setIsSnoozeSettingsPopupOpen:l}),d=c.onClickSnoozeForCurrentWebsiteButton,p=c.desktopSnoozeSettingsPopupRef,m=(0,f.useLocalizedTexts)().designSystem.contentscript.redesign.common.snoozeSettings;return u.default.createElement(I,i({ref:p},{shouldHideCloseButton:s}),u.default.createElement(g.default,{menuType:g.MenuType.webView,menuItemState:g.MenuItemState.active,title:m.snoozeUntilTomorrow,icon:h.default,onClick:d}))}t.default=function(e){var t=e.offer,n=e.openingSource,r=e.closingActionOnSnoozing,a=e.widgetInnerContainerRef,o=e.panelInnerContainerRef,l=e.shouldHideCloseButton,c=u.default.useMemo(S.checkIsOnMobileScreen,[]),d=s(u.default.useState(!1),2),f=d[0],g=d[1],b=u.default.useCallback((function(){if(c){var e=(0,x.getHashedElementId)(x.JokoExtensionRootElement.snoozingBottomSheet);null===document.getElementById(e)&&(0,v.displaySnoozingBottomSheet)({offer:t,closingActionOnSnoozing:r,widgetInnerContainerRef:a,panelInnerContainerRef:o})}else g(!f);!function(e,t){var n={offerId:e,openingSource:t};(0,p.sendMessage)({message:"logUserEvent",data:{event:{type:"clickedSettingsButtonOnBrowserExtension",payload:n}}})}(null==t?void 0:t.offerId,n)}),[f]),E=u.default.useRef(null);return u.default.createElement(u.default.Fragment,null,u.default.createElement(m.StyledSvg,{component:h.default,width:y.measurements.icons.medium,height:y.measurements.icons.medium,isClickable:!0,onClick:b,ref:E}),f?u.default.createElement(B,i({},{offer:t,closingActionOnSnoozing:r,widgetInnerContainerRef:a,panelInnerContainerRef:o,snoozeSettingsButtonRef:E,setIsDesktopSnoozeSettingsPopupOpen:g,shouldHideCloseButton:l})):null)};var _,I=d.default.div(_||(_=r(["\n    position: absolute;\n    z-index: ",";\n    top: 35px;\n    right: ","px;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    border-radius: ",";\n    box-shadow: ",";\n    background-color: ",";\n"],["\n    position: absolute;\n    z-index: ",";\n    top: 35px;\n    right: ","px;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    border-radius: ",";\n    box-shadow: ",";\n    background-color: ",";\n"])),b.HIGHEST_Z_INDEX,(function(e){return e.shouldHideCloseButton?16:48}),y.measurements.radius.small,y.elevations.belowShadows.xLarge,y.colors.background.default)},61840:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(96540)),o=i(n(38267)),l=n(55015),s=n(47175),c=n(74137),u=n(643),d=n(64777);function f(){return a.default.createElement(b,null,"")}t.default=function(e){var t=e.onJokoCardReady,n=(0,l.useLocalizedTexts)().contentscript.embeddedAmazonBnplButton,r=function(e){return a.default.useCallback((function(t){return t&&"displayWidget"===t.message&&t.data&&"bnplCardReady"===t.data.widgetType&&t.data.offer&&t.data.offer.merchantId===u.AMAZON_MERCHANT_ID&&e(),!0}),[e])}(t);return a.default.useEffect((function(){var e=(0,c.withSentry)(r);return chrome.runtime.onMessage.addListener(e),function(){return chrome.runtime.onMessage.removeListener(e)}}),[r]),a.default.createElement(h,null,n.button,a.default.createElement(f,null),a.default.createElement(y,{src:s.LOGO_WITH_TITLE_WHITE_IMAGE_URL}))};var p,m,g,h=(0,o.default)(d.CenteredContainer)(p||(p=r(["\n    flex-direction: row;\n    flex: 1;\n    color: ",";\n"],["\n    flex-direction: row;\n    flex: 1;\n    color: ",";\n"])),l.colors.white),b=o.default.span(m||(m=r(["\n    display: flex;\n    align-items: center;\n    margin-left: 8px;\n    margin-right: 8px;\n"],["\n    display: flex;\n    align-items: center;\n    margin-left: 8px;\n    margin-right: 8px;\n"]))),y=o.default.img(g||(g=r(["\n    height: 16px;\n    object-fit: contain;\n"],["\n    height: 16px;\n    object-fit: contain;\n"])))}}]);
(()=>{var e=[,(e,t,r)=>{var n=r(2),o=r(3);e.exports=function(e,t,r){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),n(e,t,{leading:i,maxWait:t,trailing:a})}},(e,t,r)=>{var n=r(3),o=r(4),i=r(7),a=Math.max,s=Math.min;e.exports=function(e,t,r){var c,u,l,f,d,E,_=0,p=!1,S=!1,T=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var r=c,n=u;return c=u=void 0,_=t,f=e.apply(n,r)}function O(e){var r=e-E;return void 0===E||r>=t||r<0||S&&e-_>=l}function v(){var e=o();if(O(e))return A(e);d=setTimeout(v,function(e){var r=t-(e-E);return S?s(r,l-(e-_)):r}(e))}function A(e){return d=void 0,T&&c?h(e):(c=u=void 0,f)}function g(){var e=o(),r=O(e);if(c=arguments,u=this,E=e,r){if(void 0===d)return function(e){return _=e,d=setTimeout(v,t),p?h(e):f}(E);if(S)return clearTimeout(d),d=setTimeout(v,t),h(E)}return void 0===d&&(d=setTimeout(v,t)),f}return t=i(t)||0,n(r)&&(p=!!r.leading,l=(S="maxWait"in r)?a(i(r.maxWait)||0,t):l,T="trailing"in r?!!r.trailing:T),g.cancel=function(){void 0!==d&&clearTimeout(d),_=0,c=E=u=d=void 0},g.flush=function(){return void 0===d?f:A(o())},g}},e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},(e,t,r)=>{var n=r(5);e.exports=function(){return n.Date.now()}},(e,t,r)=>{var n=r(6),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},(e,t,r)=>{var n=r(8),o=r(3),i=r(10),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):a.test(e)?NaN:+e}},(e,t,r)=>{var n=r(9),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},(e,t,r)=>{var n=r(11),o=r(15);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},(e,t,r)=>{var n=r(12),o=r(13),i=r(14),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},(e,t,r)=>{var n=r(5).Symbol;e.exports=n},(e,t,r)=>{var n=r(12),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[s]=r:delete e[s]),o}},e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},(e,t,r)=>{"use strict";Object.defineProperty(t,"il",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Tw",{enumerable:!0,get:function(){return o.default}});var n=s(r(17)),o=s(r(24)),i=s(r(25)),a=s(r(27));function s(e){return e&&e.__esModule?e:{default:e}}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(18)),o=r(19),i=r(20),a=c(r(21)),s=r(23);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l="\nLooks like there is an error in the background page. You might want to inspect your background page for more details.\n",f=(0,s.isSafari)(),d={portName:o.DEFAULT_PORT_NAME,state:{},extensionId:null,serializer:i.noop,deserializer:i.noop,patchStrategy:a.default},E=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=r.portName,a=void 0===n?d.portName:n,c=r.state,u=void 0===c?d.state:c,l=r.extensionId,E=void 0===l?d.extensionId:l,_=r.serializer,p=void 0===_?d.serializer:_,S=r.deserializer,T=void 0===S?d.deserializer:S,h=r.patchStrategy,O=void 0===h?d.patchStrategy:h;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!a)throw new Error("portName is required in options");if("function"!=typeof p)throw new Error("serializer must be a function");if("function"!=typeof T)throw new Error("deserializer must be a function");if("function"!=typeof O)throw new Error("patchStrategy must be one of the included patching strategies or a custom patching function");this.portName=a,this.readyResolved=!1,this.readyPromise=new Promise((function(e){return t.readyResolve=e})),this.browserAPI=(0,s.getBrowserAPI)(),this.extensionId=E,this.safetyHandler=this.storeReadyHandler.bind(this),this.readyMessage=this.browserAPI.runtime.onMessage.addListener(this.safetyHandler),this.deserializer=T,this.serializedPortListener=(0,i.withDeserializer)(T)((function(e){return t.port.onMessage.addListener(e)}),(function(e){return t.port.onMessage.removeListener(e)})),this.portConnected=!1,this.connectPort=function(){t.port=t.browserAPI.runtime.connect(t.extensionId,{name:a}),f&&t.port.postMessage({type:o.STATE_TYPE}),t.portConnected=!0;var e=t.serializedPortListener((function(e){switch(e.type){case o.STATE_TYPE:t.replaceState(e.payload),t.readyResolved||(t.readyResolved=!0,t.readyResolve());break;case o.PATCH_STATE_TYPE:t.patchState(e.payload)}}));t.port.onDisconnect.addListener((function(){t.portConnected=!1,e()}))},this.connectPort(),this.serializedMessageSender=(0,i.withSerializer)(p)((function(){var e;return(e=t.browserAPI.runtime).sendMessage.apply(e,arguments)}),1),this.listeners=[],this.state=u,this.patchStrategy=O,this.dispatch=this.dispatch.bind(this)}var t,r,a;return t=e,r=[{key:"ready",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e?this.readyPromise.then(e):this.readyPromise}},{key:"subscribe",value:function(e){var t=this;return this.listeners.push(e),function(){t.listeners=t.listeners.filter((function(t){return t!==e}))}}},{key:"patchState",value:function(e){this.state=this.patchStrategy(this.state,e),this.listeners.forEach((function(e){return e()}))}},{key:"replaceState",value:function(e){this.state=e,this.listeners.forEach((function(e){return e()}))}},{key:"getState",value:function(){return this.state}},{key:"replaceReducer",value:function(){}},{key:"dispatch",value:function(e){var t=this;return new Promise((function(r,i){t.serializedMessageSender(t.extensionId,{type:o.DISPATCH_TYPE,portName:t.portName,payload:e},null,(function(e){if(e){var o=e.error,a=e.value;if(o){var s=new Error("".concat(l).concat(o));i((0,n.default)(s,o))}else r(a&&a.payload)}else{var c=t.browserAPI.runtime.lastError,u=new Error("".concat(l).concat(c));i((0,n.default)(u,c))}}))}))}},{key:"storeReadyHandler",value:function(e){"storeReady"===e.action&&e.portName===this.portName&&(this.portConnected||this.connectPort(),this.readyResolved||(this.readyResolved=!0,this.readyResolve()))}}],r&&u(t.prototype,r),a&&u(t,a),e}();t.default=E},e=>{var t=9007199254740991,r="[object Arguments]",n="[object Function]",o="[object GeneratorFunction]",i=/^(?:0|[1-9]\d*)$/;var a=Object.prototype,s=a.hasOwnProperty,c=a.toString,u=a.propertyIsEnumerable,l=Math.max;function f(e,t){var n=S(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&T(e)}(e)&&s.call(e,"callee")&&(!u.call(e,"callee")||c.call(e)==r)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],o=n.length,i=!!o;for(var a in e)!t&&!s.call(e,a)||i&&("length"==a||_(a,o))||n.push(a);return n}function d(e,t,r){var n=e[t];s.call(e,t)&&p(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function E(e){if(!h(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t,r,n,o=(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||a,t===n),i=[];for(var c in e)("constructor"!=c||!o&&s.call(e,c))&&i.push(c);return i}function _(e,r){return!!(r=null==r?t:r)&&("number"==typeof e||i.test(e))&&e>-1&&e%1==0&&e<r}function p(e,t){return e===t||e!=e&&t!=t}var S=Array.isArray;function T(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}(e.length)&&!function(e){var t=h(e)?c.call(e):"";return t==n||t==o}(e)}function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var O,v,A,g=(O=function(e,t){!function(e,t,r,n){r||(r={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=n?n(r[a],e[a],a,r,e):void 0;d(r,a,void 0===s?e[a]:s)}}(t,function(e){return T(e)?f(e,!0):E(e)}(t),e)},v=function(e,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,i=n>2?t[2]:void 0;for(o=O.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(e,t,r){if(!h(r))return!1;var n=typeof t;return!!("number"==n?T(r)&&_(t,r.length):"string"==n&&t in r)&&p(r[t],e)}(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var a=t[r];a&&O(e,a,r,o)}return e},A=l(void 0===A?v.length-1:A,0),function(){for(var e=arguments,t=-1,r=l(e.length-A,0),n=Array(r);++t<r;)n[t]=e[A+t];t=-1;for(var o=Array(A+1);++t<A;)o[t]=e[t];return o[A]=n,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(v,this,o)});e.exports=g},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PORT_NAME=t.PATCH_STATE_TYPE=t.STATE_TYPE=t.DISPATCH_TYPE=void 0;t.DISPATCH_TYPE="chromex.dispatch";t.STATE_TYPE="chromex.state";t.PATCH_STATE_TYPE="chromex.patch_state";t.DEFAULT_PORT_NAME="chromex.port_name"},(e,t)=>{"use strict";function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.withSerializer=t.withDeserializer=t.noop=void 0;var n=function(e){return e};t.noop=n;var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}({},e,e.payload?{payload:t(e.payload)}:{})};t.withDeserializer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return function(i,a){var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=arguments.length>2?arguments[2]:void 0;return r?function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return r.apply(void 0,[n].concat(a))?e.apply(void 0,[o(n,t)].concat(a)):e.apply(void 0,[n].concat(a))}:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return e.apply(void 0,[o(r,t)].concat(i))}}(i,e,a);return t(s),function(){r(s)}}}};t.withSerializer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];if(i.length<=r)throw new Error("Message in request could not be serialized. "+"Expected message in position ".concat(r," but only received ").concat(i.length," args."));return i[r]=o(i[r],e),t.apply(void 0,i)}}}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=Object.assign({},e);return t.forEach((function(e){var t=e.change,o=e.key,i=e.value;switch(t){case n.DIFF_STATUS_UPDATED:r[o]=i;break;case n.DIFF_STATUS_REMOVED:Reflect.deleteProperty(r,o)}})),r};var n=r(22)},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DIFF_STATUS_ARRAY_UPDATED=t.DIFF_STATUS_KEYS_UPDATED=t.DIFF_STATUS_REMOVED=t.DIFF_STATUS_UPDATED=void 0;t.DIFF_STATUS_UPDATED="updated";t.DIFF_STATUS_REMOVED="removed";t.DIFF_STATUS_KEYS_UPDATED="updated_keys";t.DIFF_STATUS_ARRAY_UPDATED="updated_array"},(e,t)=>{"use strict";function r(){var e;try{e=self.chrome||self.browser||browser}catch(t){e=browser}if(!e)throw new Error("Browser API is not present");return e}Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowserAPI=r,t.isSafari=function(){return r().runtime.getURL("").startsWith("safari-web-extension://")}},(e,t)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},a={getState:e.getState.bind(e),dispatch:function(){return i.apply(void 0,arguments)}};return n=(n||[]).map((function(e){return e(a)})),i=r.apply(void 0,function(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(n))(e.dispatch),e.dispatch=i,e}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=r(19),i=r(20),a=r(23),s=(n=r(26))&&n.__esModule?n:{default:n};var c={portName:o.DEFAULT_PORT_NAME,dispatchResponder:function(e,t){Promise.resolve(e).then((function(e){t({error:null,value:e})})).catch((function(e){t({error:e.message,value:null})}))},serializer:i.noop,deserializer:i.noop,diffStrategy:s.default},u=(0,a.isSafari)();t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,r=t.portName,n=void 0===r?c.portName:r,s=t.dispatchResponder,l=void 0===s?c.dispatchResponder:s,f=t.serializer,d=void 0===f?c.serializer:f,E=t.deserializer,_=void 0===E?c.deserializer:E,p=t.diffStrategy,S=void 0===p?c.diffStrategy:p;if(!n)throw new Error("portName is required in options");if("function"!=typeof d)throw new Error("serializer must be a function");if("function"!=typeof _)throw new Error("deserializer must be a function");if("function"!=typeof S)throw new Error("diffStrategy must be one of the included diffing strategies or a custom diff function");var T=(0,a.getBrowserAPI)(),h=function(t){if(t.name===n){var r=(0,i.withSerializer)(d)((function(){try{return t.postMessage.apply(t,arguments)}catch(e){throw e}})),a=e.getState(),s=e.subscribe((function(){var t=e.getState(),n=S(a,t);n.length&&(a=t,r({type:o.PATCH_STATE_TYPE,payload:n}))}));t.onDisconnect.addListener(s),u?t.onMessage.addListener((function(e){if(e.type===o.STATE_TYPE)r({type:o.STATE_TYPE,payload:a})})):r({type:o.STATE_TYPE,payload:a})}},O=(0,i.withDeserializer)(_)((function(e){return T.runtime.onMessage.addListener(e)}),(function(e){return T.runtime.onMessage.removeListener(e)}))((function(t,r,i){if(t.type===o.DISPATCH_TYPE&&t.portName===n){var a=Object.assign({},t.payload,{_sender:r}),s=null;try{s=e.dispatch(a)}catch(e){s=Promise.reject(e.message)}return l(s,i),!0}}),(function(e){return e.type===o.DISPATCH_TYPE&&e.portName===n}));return T.runtime.onConnect.addListener(h),T.tabs.query({},(function(e){var t=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;T.tabs.sendMessage(s.id,{action:"storeReady",portName:n},(function(){chrome.runtime.lastError}))}}catch(e){r=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw o}}})),T.runtime.sendMessage({action:"storeReady",portName:n}),e.cleanup=function(){T.runtime.onConnect.removeListener(h),O()},e}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=[];return Object.keys(t).forEach((function(o){e[o]!==t[o]&&r.push({key:o,value:t[o],change:n.DIFF_STATUS_UPDATED})})),Object.keys(e).forEach((function(e){t.hasOwnProperty(e)||r.push({key:e,change:n.DIFF_STATUS_REMOVED})})),r};var n=r(22)},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){return function(){return function(t){return function(r){var n=e[r.type];return t(n?n(r):r)}}}}},function(e,t,r){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,r){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,r){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function c(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function u(e){var t=void 0===e?"undefined":D(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,r,n,f,d,E){E=E||[];var _=(f=f||[]).slice(0);if(void 0!==d){if(n){if("function"==typeof n&&n(_,d))return;if("object"===(void 0===n?"undefined":D(n))){if(n.prefilter&&n.prefilter(_,d))return;if(n.normalize){var p=n.normalize(_,d,e,t);p&&(e=p[0],t=p[1])}}}_.push(d)}"regexp"===u(e)&&"regexp"===u(t)&&(e=e.toString(),t=t.toString());var S=void 0===e?"undefined":D(e),T=void 0===t?"undefined":D(t),h="undefined"!==S||E&&E[E.length-1].lhs&&E[E.length-1].lhs.hasOwnProperty(d),O="undefined"!==T||E&&E[E.length-1].rhs&&E[E.length-1].rhs.hasOwnProperty(d);if(!h&&O)r(new i(_,t));else if(!O&&h)r(new a(_,e));else if(u(e)!==u(t))r(new o(_,e,t));else if("date"===u(e)&&e-t!=0)r(new o(_,e,t));else if("object"===S&&null!==e&&null!==t)if(E.filter((function(t){return t.lhs===e})).length)e!==t&&r(new o(_,e,t));else{if(E.push({lhs:e,rhs:t}),Array.isArray(e)){var v;for(e.length,v=0;v<e.length;v++)v>=t.length?r(new s(_,v,new a(void 0,e[v]))):l(e[v],t[v],r,n,_,v,E);for(;v<t.length;)r(new s(_,v,new i(void 0,t[v++])))}else{var A=Object.keys(e),g=Object.keys(t);A.forEach((function(o,i){var a=g.indexOf(o);a>=0?(l(e[o],t[o],r,n,_,o,E),g=c(g,a)):l(e[o],void 0,r,n,_,o,E)})),g.forEach((function(e){l(void 0,t[e],r,n,_,e,E)}))}E.length=E.length-1}else e!==t&&("number"===S&&isNaN(e)&&isNaN(t)||r(new o(_,e,t)))}function f(e,t,r,n){return n=n||[],l(e,t,(function(e){e&&n.push(e)}),r),n.length?n:void 0}function d(e,t,r){if(r.path&&r.path.length){var n,o=e[t],i=r.path.length-1;for(n=0;n<i;n++)o=o[r.path[n]];switch(r.kind){case"A":d(o[r.path[n]],r.index,r.item);break;case"D":delete o[r.path[n]];break;case"E":case"N":o[r.path[n]]=r.rhs}}else switch(r.kind){case"A":d(e[t],r.index,r.item);break;case"D":e=c(e,t);break;case"E":case"N":e[t]=r.rhs}return e}function E(e,t,r){if(e&&t&&r&&r.kind){for(var n=e,o=-1,i=r.path?r.path.length-1:0;++o<i;)void 0===n[r.path[o]]&&(n[r.path[o]]="number"==typeof r.path[o]?[]:{}),n=n[r.path[o]];switch(r.kind){case"A":d(r.path?n[r.path[o]]:n,r.index,r.item);break;case"D":delete n[r.path[o]];break;case"E":case"N":n[r.path[o]]=r.rhs}}}function _(e,t,r){if(r.path&&r.path.length){var n,o=e[t],i=r.path.length-1;for(n=0;n<i;n++)o=o[r.path[n]];switch(r.kind){case"A":_(o[r.path[n]],r.index,r.item);break;case"D":case"E":o[r.path[n]]=r.lhs;break;case"N":delete o[r.path[n]]}}else switch(r.kind){case"A":_(e[t],r.index,r.item);break;case"D":case"E":e[t]=r.lhs;break;case"N":e=c(e,t)}return e}function p(e,t,r){if(e&&t&&r&&r.kind){var n,o,i=e;for(o=r.path.length-1,n=0;n<o;n++)void 0===i[r.path[n]]&&(i[r.path[n]]={}),i=i[r.path[n]];switch(r.kind){case"A":_(i[r.path[n]],r.index,r.item);break;case"D":case"E":i[r.path[n]]=r.lhs;break;case"N":delete i[r.path[n]]}}}function S(e,t,r){e&&t&&l(e,t,(function(n){r&&!r(e,t,n)||E(e,t,n)}))}function T(e){return"color: "+w[e].color+"; font-weight: bold"}function h(e){var t=e.kind,r=e.path,n=e.lhs,o=e.rhs,i=e.index,a=e.item;switch(t){case"E":return[r.join("."),n,"→",o];case"N":return[r.join("."),o];case"D":return[r.join(".")];case"A":return[r.join(".")+"["+i+"]",a];default:return[]}}function O(e,t,r,n){var o=f(e,t);try{n?r.groupCollapsed("diff"):r.group("diff")}catch(e){r.log("diff")}o?o.forEach((function(e){var t=e.kind,n=h(e);r.log.apply(r,["%c "+w[t].text,T(t)].concat(L(n)))})):r.log("—— no diff ——");try{r.groupEnd()}catch(e){r.log("—— diff end —— ")}}function v(e,t,r,n){switch(void 0===e?"undefined":D(e)){case"object":return"function"==typeof e[n]?e[n].apply(e,L(r)):e[n];case"function":return e(t);default:return e}}function A(e){var t=e.timestamp,r=e.duration;return function(e,n,o){var i=["action"];return i.push("%c"+String(e.type)),t&&i.push("%c@ "+n),r&&i.push("%c(in "+o.toFixed(2)+" ms)"),i.join(" ")}}function g(e,t){var r=t.logger,n=t.actionTransformer,o=t.titleFormatter,i=void 0===o?A(t):o,a=t.collapsed,s=t.colors,c=t.level,u=t.diff,l=void 0===t.titleFormatter;e.forEach((function(o,f){var d=o.started,E=o.startedTime,_=o.action,p=o.prevState,S=o.error,T=o.took,h=o.nextState,A=e[f+1];A&&(h=A.prevState,T=A.started-d);var g=n(_),m="function"==typeof a?a((function(){return h}),_,o):a,R=b(E),y=s.title?"color: "+s.title(g)+";":"",P=["color: gray; font-weight: lighter;"];P.push(y),t.timestamp&&P.push("color: gray; font-weight: lighter;"),t.duration&&P.push("color: gray; font-weight: lighter;");var I=i(g,R,T);try{m?s.title&&l?r.groupCollapsed.apply(r,["%c "+I].concat(P)):r.groupCollapsed(I):s.title&&l?r.group.apply(r,["%c "+I].concat(P)):r.group(I)}catch(e){r.log(I)}var N=v(c,g,[p],"prevState"),D=v(c,g,[g],"action"),L=v(c,g,[S,p],"error"),M=v(c,g,[h],"nextState");if(N)if(s.prevState){var w="color: "+s.prevState(p)+"; font-weight: bold";r[N]("%c prev state",w,p)}else r[N]("prev state",p);if(D)if(s.action){var C="color: "+s.action(g)+"; font-weight: bold";r[D]("%c action    ",C,g)}else r[D]("action    ",g);if(S&&L)if(s.error){var F="color: "+s.error(S,p)+"; font-weight: bold;";r[L]("%c error     ",F,S)}else r[L]("error     ",S);if(M)if(s.nextState){var U="color: "+s.nextState(h)+"; font-weight: bold";r[M]("%c next state",U,h)}else r[M]("next state",h);u&&O(p,h,r,m);try{r.groupEnd()}catch(e){r.log("—— log end ——")}}))}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},C,e),r=t.logger,n=t.stateTransformer,o=t.errorTransformer,i=t.predicate,a=t.logErrors,s=t.diffPredicate;if(void 0===r)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return function(){return function(e){return function(t){return e(t)}}};var c=[];return function(e){var r=e.getState;return function(e){return function(u){if("function"==typeof i&&!i(r,u))return e(u);var l={};c.push(l),l.started=N.now(),l.startedTime=new Date,l.prevState=n(r()),l.action=u;var f=void 0;if(a)try{f=e(u)}catch(e){l.error=o(e)}else f=e(u);l.took=N.now()-l.started,l.nextState=n(r());var d=t.diff&&"function"==typeof s?s(r,u):t.diff;if(g(c,Object.assign({},t,{diff:d})),c.length=0,l.error)throw l.error;return f}}}}var R,y,P=function(e,t){return new Array(t+1).join(e)},I=function(e,t){return P("0",t-e.toString().length)+e},b=function(e){return I(e.getHours(),2)+":"+I(e.getMinutes(),2)+":"+I(e.getSeconds(),2)+"."+I(e.getMilliseconds(),3)},N="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},M=[];R="object"===(void 0===r.g?"undefined":D(r.g))&&r.g?r.g:"undefined"!=typeof window?window:{},(y=R.DeepDiff)&&M.push((function(){void 0!==y&&R.DeepDiff===f&&(R.DeepDiff=y,y=void 0)})),t(o,n),t(i,n),t(a,n),t(s,n),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:S,enumerable:!0},applyChange:{value:E,enumerable:!0},revertChange:{value:p,enumerable:!0},isConflict:{value:function(){return void 0!==y},enumerable:!0},noConflict:{value:function(){return M&&(M.forEach((function(e){e()})),M=null),f},enumerable:!0}});var w={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},C={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,r=e.getState;return"function"==typeof t||"function"==typeof r?m()({dispatch:t,getState:r}):void 0};e.defaults=C,e.createLogger=m,e.logger=F,e.default=F,Object.defineProperty(e,"__esModule",{value:!0})}(t)}],t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(1),t=r.n(e);function n(){const e=1==(void 0!==navigator.userAgentData&&void 0!==navigator.userAgentData.platform)?navigator.userAgentData:navigator.userAgent;if(!e)return null;if("string"==typeof e)switch(!0){case e.indexOf("Chrome")>-1:return"chrome";case e.indexOf("Firefox")>-1:return"firefox";case e.indexOf("Safari")>-1:return"safari"}else switch(!0){case Boolean(e.brands.find((e=>"Microsoft Edge"===e.brand))):return"edge";case Boolean(e.brands.find((e=>"Opera"===e.brand))):return"opera";case Boolean(e.brands.find((e=>"Google Chrome"===e.brand||"Chromium"===e.brand))):return"chrome";case Boolean(e.brands.find((e=>"Firefox"===e.brand||"Mozilla"===e.brand))):return"firefox";case Boolean(e.brands.find((e=>"Safari"===e.brand))):return"safari"}return null}window.location,window.parent.location;const o="firefox"===n(),i="safari"===n();function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s={addMessageListener:function(e){const t=(t,r,n)=>(e(t,r,n),!0);return chrome.runtime.onMessage.addListener(t),()=>{chrome.runtime.onMessage.removeListener(t)}},handleResponse:u,get messageCallbacks(){return window.messageCallbacks},onMessage:function(e){return function(t,r,n){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}t.name?t.name.indexOf("re:")>-1?u(t):e(t,r,n):t.cmd?(t.name="toVault",e(t,r,n)):["chromex.dispatch","chromex.patch_state","chromex.state"].includes(t.type)}},sendMessage:function(e,t,r){var n;const i=JSON.parse(JSON.stringify({name:e,params:t}));if("undefined"==typeof chrome||o)o&&Promise.resolve().then((()=>browser.runtime.sendMessage(i))).then((e=>{r&&r(e)})).catch((()=>{}));else try{chrome.runtime.sendMessage(i,(function(e){chrome.runtime.lastError,r&&r(e)}))}catch(e){}"undefined"!=typeof chrome&&null!==(n=chrome.runtime)&&void 0!==n&&n.lastError}};class c{constructor(){a(this,"bucket",new Map)}register(e){const t="k-"+Math.random().toString(36).substr(2);return this.bucket.set(t,e),t}invoke(e,...t){const r=this.bucket.get(e);r&&(this.bucket.delete(e),r(...t))}}function u(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return}e.callbackId&&window.messageCallbacks.invoke(e.callbackId,e.data)}window.messageCallbacks||(window.messageCallbacks=new c);let l=function(e){return e.GET="GET",e.SET="SET",e.ACTION="ACTION",e}({}),f=function(e){return e.GET_TAB_ID="getTabId",e.IS_SSO_USER="isSsoUser",e.MASTER_PASSWORD_REENTRY="masterPasswordReEntry",e.MUTATION_OBSERVER_DATA="mutation_observer_data",e.LAST_FILL_TIME_ON_INPUT_FIELD="lastFillTimeOnInputField",e.AUTO_FILL_RECORD="autoFillRecord",e.IS_SSO_PAGE="isSsoPage",e.RECORDS="records",e.RECORD_INFO="recordInfo",e.PASSKEY_RECORDS="passkeyRecords",e.PROMPT_APPEARS_FROM_LOCATION_DATA="promptAppearsFromLocationData",e.URL_MATCHED_RECORDS_GMH="urlMatchedRecordsGMH",e.ALL_CARDS_AND_ADDRESSES="allCardsAndAddresses",e.GET_DATA_BY_ID="getDataById",e.GET_RECORD_REF="getRecordRef",e.GET_FOLDERS="getFolders",e.IS_OFFLINE="isOffline",e.CHANGE_PASSWORD_PENDING="changePasswordPending",e.IS_NOT_APPENDED_TO_LOCK="isNotAppendedToLock",e.NEW_TOTP_TOKEN="newTotpToken",e.GENERATE_TOTP_PARAMS_GMH="generateTotpParamsGMH",e.GET_SHOULD_FIXINATOR_PROMPT="getShouldFixinatorPrompt",e.VERIFY_SSO_URL="verifySsoUrl",e.GET_SEARCH_RESULTS="getSearchResults",e.GET_LINKED_RECORD_OPTIONS="getLinkedRecordOptions",e.GET_RECORD_TEMPLATE="getRecordTemplate",e.GET_LOGS="getLogsGMH",e.GET_TEST_DOMAINS="testDomains",e.FIXINATOR_PAGE_INFO="fixinatorPageInfo",e}({});async function d(){return new Promise((e=>{s.sendMessage(f.GET_TAB_ID,{type:l.GET},(t=>{e(t)}))}))}let E=function(e){return e.ADD_ADDRESS="addAddress",e.ADD_CARD="addCard",e.ADD_RECORD="addRecord",e.CLOSE_EDIT_CREATE_MENU_EVENT_LISTENER="closeEditCreateMenuEventListener",e.CLOSE_RECORD_LIST_EVENT_LISTENER="closeRecordListEventListener",e.DO_NOT_ASK="doNotAsk",e.FRAME_FILL="frameFill",e.LAST_INPUT_FIELD="lastInputField",e.LAST_FILL_TIME_ON_INPUT_FIELD_SMH="lastFillTimeOnInputField",e.LINK_CLICKED="linkClicked",e.OPEN_FIXINATOR_NEW_TAB="openFixinatorNewTab",e.REMOVE_FIXINATOR_PROMPT_SMH="removeFixinatorPrompt",e.SET_FIXINATOR_ATTR_FILL_SMH="setFixinatorAttrFill",e.SET_FIXINATOR_LOGIN_FILL_SMH="setFixinatorLoginFill",e.SET_FIXINATOR_REGISTRATION_FILL_SMH="setFixinatorRegistrationFill",e.SET_RECORD_CHANGE_PASSWORD="setRecordChangePassword",e.SET_SMART_FILL="setSmartfill",e.SETUP_NO_FILLING="setupNoFilling",e.SIZE_DRAGGABLE_ELEMENT_ON_HEADER="sizeDraggableElementOnHeader",e.SUCCESSFUL_AUTO_FILL="successfulAutoFill",e.TOGGLE_DRAG_WIDTH_LOCK="toggleDragWidthLock",e.UPDATE_RECORD_LAST_FILLED_SMH="updateRecordLastFilled",e.VAULT_SSO_PAGE="vaultSSOPage",e.OPEN_DEBUG_WINDOW="openDebugWindow",e}({}),_=function(e){return e.ACCOUNT_SHARE_CONFIRMATION="accountShareConfirmation",e.CHANGE_PASSWORD_FORM_SUBMITTED="changePasswordFormSubmitted",e.CHANGE_PASSWORD_REPOSITION="changePasswordReposition",e.CHANGE_PASSWORD_SHOW_REVERT_SCREEN="changePasswordShowRevertScreen",e.CHANGE_TARGETED_LOCK="changeTargetedLock",e.CHECK_CHANGED_PASSWORD="checkChangedPassword",e.CHECK_IF_SSO_LOGIN_SCREEN="checkIfSSOLoginScreen",e.CHECK_SSO_PAGE_ON_PREM="checkSSOPageOnPrem",e.CHECK_SSO_PAGE_CLOUD="checkSSOPageCloud",e.CLEANUP_DETECTION_TESTS="cleanupDetectionTests",e.CLEAR_ALL_STORAGE="clearAllStorage",e.CLEAR_IDB_STORAGE="clearIDBStorage",e.CLEAR_LOCAL_STORAGE="clearLocalStorage",e.CLEAR_THROTTLE_STATE="clearThrottleState",e.CLEAR_LOCAL_STORAGE_DEVLOGS="clearLocalStorageDevlogs",e.CLOSE_EDIT_CREATE_MENU="closeEditCreateMenu",e.CLOSE_FRAME="closeFrame",e.CLOSE_HOVER_DATA="closeHoverData",e.CLOSE_INPUT_HELPER="closeInputHelper",e.CLOSE_RECORD_LIST="closeRecordList",e.CLOSE_TAB_SSO_AMH="closeTabSso",e.CONFIRM_THIS_MESSAGE="confirmThisMessage",e.DEBUG_PAGE="openDebugPage",e.DEVLOGS_ADD="devlogsAdd",e.DISABLE_LOCKS="disableLocks",e.DISPLAY_IFRAME_ERROR_MESSAGE="displayIframeErrorMessage",e.DUO_SELECTION="duoSelection",e.EDIT_DONE="editDone",e.EDIT_MODE="editMode",e.ENABLE_HUMIO_FIX="enableHumioFix",e.FILL_CUSTOM_FIELDS="fillCustomFields",e.FILL_GIVEN_AUTOFILL_RECORD="fillGivenAutofillRecord",e.FILL_NON_SECURE_SITE="fillNonSecureSite",e.FILL_BASIC_AUTH="fillBasicAuth",e.FRAME_FILL_FIELD="frameFillField",e.GET_INPUT_VALUE_FOR_LOCK="getInputValueForLock",e.GIVE_RECORD_TOTP_IN_CUSTOM_FOR_FILLING="giveRecordTotpInCustomForFilling",e.HANDLE_VAULT_MESSAGE_AMH="handleVaultMessage",e.INIT_INJECTED_SCRIPT="initInjectedScript",e.IS_POPUP_ATTACHED_TO_LOCK="isPopupAttachedToLock",e.LOAD_EXTENSION_CONTENTS="loadExtensionContents",e.MAKE_DRAGGABLE_ELEMENT_UNMOVABLE="makeDraggableElementUnmovable",e.MAKE_VOICE_OVER_ALERT="makeVoiceOverAlert",e.MASTER_PASSWORD_REENTRY_ACTION="masterPasswordReentryAction",e.MATCH_MEDIA_REQUEST="matchMediaRequest",e.MATCH_MEDIA_THEME_REQUEST="matchMediaThemeRequest",e.CHECK_DARK_MODE_META="checkDarkModeMeta",e.USE_DARK_MODE_HEADER="useDarkModeMeta",e.OPEN_PROMPT_FROM_DISABLE_TAB="openPromptFromDisableTab",e.OPEN_PROMPT_FROM_GROUPS="openPromptFromGroupsThunk",e.OPEN_PROMPT_FROM_IS_APPENDED_TO_LOCK="openPromptFromIsAppendedToLock",e.OPEN_PROMPT_FROM_OPEN_TO_SPECIFIC_SCREEN="openPromptFromOpenToSpecificScreen",e.OPEN_PROMPT_FROM_REVERT_SCREEN="openPromptFromRevertScreen",e.OPEN_PROMPT_FROM_SHOW_LOGGED_OUT_KEEPER="openPromptFromShowLoggedOutKeeper",e.OPEN_PROMPT_FROM_SHOW_PROMPT="openPromptFromShowPrompt",e.OPEN_PROMPT_FROM_EXTENSION_PAGE="openPromptFromExtensionPage",e.PING="ping",e.POST_MESSAGE_TO_ALL_IFRAMES="postMessageToAllIframes",e.REMOVE_CONTENT_SCRIPTS_V3="removeContentScripts",e.REMOVE_DO_NOT_PROMPT="remove_do_not_prompt",e.REMOVE_INPUT_OBSERVERS="removeInputObservers",e.REPOSITION_FRAME="repositionFrame",e.REPOSITION_OVERLAY="repositionOverlay",e.REQUEST_ADMIN_APPROVAL="request_admin_approval",e.REQUEST_RESPONSE="requestResponse",e.RESET_EXTENSION="resetExtension",e.RESET_INACTIVITY_TIMEOUT_AMH="resetInactivityTimeout",e.RESTORE_LOCKS="restoreLocks",e.REVERT_MOVABLE_HEADER="revertMovableHeader",e.ROLE_ENFORCEMENT_RESTRICTION="roleEnforcementRestriction",e.SAVE_PROMPT_VIEW_RECORD_SCREEN="savePromptViewRecordScreen",e.SEND_KEEPER_PUSH="send_keeper_push",e.SEND_KEY_TO_INPUT_ON_PAGE="sendKeyToInputOnPage",e.SEND_SEARCH_RESULTS="sendSearchResults",e.SHOW_CHANGE_PROMPT="showChangePrompt",e.SHOW_CHANGE_PASSWORD_FROM_CS="showChangePasswordFromCS",e.SHOW_EXTENSION_FROM_FRAME="showExtensionFromFrame",e.SHOW_EXTENSION_FROM_FRAME_BY_PROMPT="showExtensionFromFrameByPrompt",e.SHOW_HOVER_DATA="showHoverData",e.SHOW_KEEPER_NOT_APPENDED_TO_LOCK="showKeeperNotAppendedToLock",e.SHOW_INPUT_HELPER="showInputHelper",e.SHOW_LOCAL_STORAGE="showLocalStorage",e.SHOW_IDB_STORAGE="showIDBStorage",e.SHOW_MP_REENTRY_ERROR_POPUP="showMPRentryErrorPopup",e.SHOW_PASSKEY_PROMPT="showPasskeyPrompt",e.SHOW_PROMPT_FROM_FRAME="showPromptFromFrame",e.SHOW_PREVIEW="showPreview",e.SHOW_REVIEW_SAVED_RECORD="showReviewSavedRecord",e.SSO_ACCOUNT_NEEDS_RESOLUTION="ssoAccountNeedsResolution",e.SSO_LOGIN="sso_login",e.TEST_ACTION="testAction",e.TEST_REMOVE_DOMAIN="testRemoveDomain",e.TEST_REMOVE_SUBDOMAIN="testRemoveSubdomain",e.SETUP_DETECTION_TESTS="setupDetectionTests",e.START_OBSERVER="startObserver",e.START_PROMPTS="startPrompts",e.SUPPLY_TRY_TO_PROMPT="supplyTryToPrompt",e.TOGGLE_LISTENER_FOR_CHANGE_PASSWORD_SUBMISSION="toggleListenerForChangePasswordSubmission",e.TRY_SHOULD_FIXINATOR_PROMPT="tryShouldFixinatorPrompt",e.UPDATE_EXTENSION_CLASSES="updateExtensionClasses",e.UPDATE_INPUT_OBSERVER="updateInputObserver",e.UPDATE_LOCKS_PAYLOAD="updateLocksPayload",e.USE_BACKUP_2FA="useBackup2FA",e.VALIDATE_2FA="validate_2fa",e.VAULT_VERSION_CHECK="vaultVersionCheck",e.WEBAUTHN_RESPONSE="webauthnResponse",e.STEAL_FOCUS="stealFocus",e.OPEN_EXTENSION_PAGE_IN_BG="openExtensionPageInBg",e}({}),p=function(e){return e.SET_INACTIVITY_TIMEOUT_LISTENER="setInactivityTimeoutListener",e.REMOVE_INACTIVITY_TIMEOUT_LISTENER="removeInactivityTimeoutListener",e.VAULT_FORCE_RELOAD="vaultForceReload",e.VAULT_VERSION_USES_ECIES_COMMUNICATION="vaultVersionUsesEciesCommunication",e}({});function S(e,t){if(e.includes(".")&&t.includes(".")){var r=parseInt(e.substr(0,e.indexOf("."))),n=parseInt(t.substr(0,t.indexOf("."))),o=e.slice(e.indexOf(".")+1),i=t.slice(t.indexOf(".")+1);return r>n||!(r<n)&&S(o,i)}return parseInt(e)>parseInt(t)}var T=r(16);r(28);function h(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"==typeof o?o(r,n,e):t(o)}}}}var O=h();O.withExtraArgument=h;const v=O;let A;function g(e){const t=new T.il({portName:"chromex.cs_"+e});let r=[v];A=(0,T.Tw)(t,...r)}async function m(e){return A.dispatch(e)}let R=function(e){return e.YES="yes",e.NO="no",e.UNKNOWN="unknown",e}({});const y=e=>({type:"vault/eciesCommunication/SET",payload:e});s.addMessageListener((async function(e,t,r){switch(e.name){case p.SET_INACTIVITY_TIMEOUT_LISTENER:document.addEventListener("keyup",P),document.addEventListener("mousemove",P);break;case p.REMOVE_INACTIVITY_TIMEOUT_LISTENER:document.removeEventListener("keyup",P),document.removeEventListener("mousemove",P);break;case p.VAULT_FORCE_RELOAD:location.reload();break;case p.VAULT_VERSION_USES_ECIES_COMMUNICATION:for(const e of document.head.getElementsByTagName("meta"))if("version"===e.name&&e.content){A||g((await d()).tabId),S(e.content,"16.10.12")?m(y(R.YES)):m(y(R.NO));break}break;default:((e,t)=>{window.postMessage(e,document.location.origin),t&&t()})(e,r)}})),function e(){if(document&&document.body){var t=document.querySelector('meta[name="version"]').content;s.sendMessage(_.VAULT_VERSION_CHECK,{type:l.ACTION,data:{versionNumber:t}})}else setTimeout(e,10)}(),(o||i)&&window.addEventListener("message",(function(e){var t=e.data;if(document.location.origin===e.origin&&"ext"!==t.client)if("[object Uint8Array]"===Object.prototype.toString.call(t)){var r=Array.from(t);s.sendMessage(_.HANDLE_VAULT_MESSAGE_AMH,{type:l.ACTION,data:r},(function(e){}))}else s.sendMessage(_.HANDLE_VAULT_MESSAGE_AMH,{type:l.ACTION,data:t},(function(e){}))}));const P=t()((e=>{s.sendMessage(_.RESET_INACTIVITY_TIMEOUT_AMH,{type:l.ACTION})}),2e3);window.addEventListener("beforeunload",(function(e){document.querySelector(".sso-title")&&s.sendMessage(E.VAULT_SSO_PAGE,{type:l.SET,data:!0})})),i&&window.addEventListener("pagehide",(function(e){document.querySelector(".sso-title")&&s.sendMessage(E.VAULT_SSO_PAGE,{type:l.SET,data:!0})})),document.addEventListener("keyup",P),document.addEventListener("mousemove",P)})()})();

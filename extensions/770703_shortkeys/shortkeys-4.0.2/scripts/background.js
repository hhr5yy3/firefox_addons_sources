!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}({2:function(e,t,r){"use strict";let o=e=>{let t={currentWindow:!0,hidden:!1};browser.tabs.query(t).then((function(t){t.length<=1||browser.tabs.query({currentWindow:!0,active:!0}).then((function(r){let o,n=r[0],s=t.findIndex(e=>e.id===n.id);switch(e){case"next":o=t[(s+1+t.length)%t.length];break;case"previous":o=t[(s-1+t.length)%t.length];break;case"first":o=t[0];break;case"last":o=t[t.length-1];break;default:let r=parseInt(e)||0;if(!(r>=1&&r<=t.length))return;o=t[r-1]}browser.tabs.update(o.id,{active:!0})}))}))},n=function(e,t){if(!e.blacklist||"false"===e.blacklist)return!0;let r=!0===e.blacklist||"true"===e.blacklist;return e.sitesArray.forEach(e=>{t.match(function(e){if(/^\/.*\/$/.test(e))return new RegExp(e.replace(/^\/(.*)\/$/,"$1"));let t=["^"];for(let r=0;r<e.length;++r){let o=e.charAt(r);"*"===o?t.push(".*"):("\\^$*+?.()|{}[]".indexOf(o)>=0&&t.push("\\"),t.push(o))}return t.push("$"),new RegExp(t.join(""))}(e))&&(r=!r)}),r},s=(e,t={})=>{var r=t.smoothScrolling?"smooth":"auto";if("cleardownloads"===e)browser.browsingData.remove({since:0},{downloads:!0});else if("viewsource"===e)browser.tabs.query({currentWindow:!0,active:!0}).then((function(e){browser.tabs.create({url:"view-source:"+e[0].url})}));else if("print"===e)browser.tabs.executeScript(null,{code:"window.print()"});else if("opensettings"===e)browser.tabs.create({url:"chrome://settings",active:!0});else if("openextensions"===e)browser.tabs.create({url:"chrome://extensions",active:!0});else if("openshortcuts"===e)browser.tabs.create({url:"chrome://extensions/shortcuts",active:!0});else if("nexttab"===e)o("next");else if("prevtab"===e)o("previous");else if("firsttab"===e)o("first");else if("lasttab"===e)o("last");else if("newtab"===e)browser.tabs.create({});else if("reopentab"===e)browser.sessions.getRecentlyClosed({maxResults:1}).then((function(e){let t=e[0];browser.sessions.restore(t.sessionId)}));else if("closetab"===e)browser.tabs.query({currentWindow:!0,active:!0}).then((function(e){browser.tabs.remove(e[0].id)}));else if("clonetab"===e)browser.tabs.query({currentWindow:!0,active:!0}).then((function(e){browser.tabs.duplicate(e[0].id)}));else if("movetabtonewwindow"===e)browser.tabs.query({currentWindow:!0,active:!0}).then((function(e){browser.windows.create({url:e[0].url}),browser.tabs.remove(e[0].id)}));else if("onlytab"===e)browser.tabs.query({currentWindow:!0,pinned:!1,active:!1}).then((function(e){let t=[];e.forEach((function(e){t.push(e.id)})),browser.tabs.remove(t)}));else if("closelefttabs"===e||"closerighttabs"===e)browser.tabs.query({currentWindow:!0,active:!0}).then((function(t){let r=t[0].index;browser.tabs.query({currentWindow:!0,pinned:!1,active:!1}).then((function(t){let o=[];t.forEach((function(t){("closelefttabs"===e&&t.index<r||"closerighttabs"===e&&t.index>r)&&o.push(t.id)})),browser.tabs.remove(o)}))}));else if("togglepin"===e)browser.tabs.query({active:!0,currentWindow:!0}).then((function(e){let t=!e[0].pinned;browser.tabs.update(e[0].id,{pinned:t})}));else if("togglemute"===e)browser.tabs.query({active:!0,currentWindow:!0}).then((function(e){let t=!e[0].mutedInfo.muted;browser.tabs.update(e[0].id,{muted:t})}));else if("copyurl"===e)browser.tabs.query({currentWindow:!0,active:!0}).then((function(e){(e=>{let t=document.createElement("div");t.contentEditable=!0,document.body.appendChild(t),t.innerHTML=e,t.unselectable="off",t.focus(),document.execCommand("SelectAll"),document.execCommand("Copy",!1,null),document.body.removeChild(t)})(e[0].url)}));else if("searchgoogle"===e)browser.tabs.executeScript({code:"window.getSelection().toString();"}).then((function(e){if(e[0]){let t=encodeURIComponent(e[0]);browser.tabs.query({currentWindow:!0,active:!0}).then((function(e){browser.tabs.create({url:"https://www.google.com/search?q="+t,index:e[0].index+1})}))}}));else if("movetableft"===e)browser.tabs.query({currentWindow:!0,active:!0}).then((function(e){e[0].index>0&&browser.tabs.move(e[0].id,{index:e[0].index-1})}));else if("movetabright"===e)browser.tabs.query({currentWindow:!0,active:!0}).then((function(e){browser.tabs.move(e[0].id,{index:e[0].index+1})}));else if("movetabtofirst"===e)browser.tabs.query({currentWindow:!0,active:!0}).then((function(e){e[0].index>0&&chrome.tabs.move(e[0].id,{index:0})}));else if("movetabtolast"===e)browser.tabs.query({currentWindow:!0,active:!0}).then((function(e){browser.tabs.move(e[0].id,{index:-1})}));else if("gototab"===e){let e=()=>{browser.tabs.create({url:t.openurl})};if(t.matchurl){let r={url:t.matchurl};t.currentWindow&&(r.currentWindow=!0),browser.tabs.query(r).then((function(t){t.length>0?(browser.tabs.update(t[0].id,{active:!0}),browser.windows.update(t[0].windowId,{focused:!0})):e()}))}else e()}else if("gototabbytitle"===e){if(t.matchtitle){let e={title:t.matchtitle};t.currentWindow&&(e.currentWindow=!0),browser.tabs.query(e).then((function(e){e.length>0&&(browser.tabs.update(e[0].id,{active:!0}),browser.windows.update(e[0].windowId,{focused:!0}))}))}}else if("gototabbyindex"===e)t.matchindex&&o(t.matchindex);else if("newwindow"===e)browser.windows.create();else if("newprivatewindow"===e)browser.windows.create({incognito:!0});else if("closewindow"===e)browser.tabs.query({currentWindow:!0,active:!0}).then((function(e){browser.windows.remove(e[0].windowId)}));else if("fullscreen"===e)browser.windows.getCurrent().then((function(e){var t="fullscreen"===e.state?"normal":"fullscreen";browser.windows.update(e.id,{state:t})}));else if("zoomin"===e)browser.tabs.query({currentWindow:!0,active:!0}).then((function(e){browser.tabs.getZoom(e[0].id).then((function(t){browser.tabs.setZoom(e[0].id,t+.1)}))}));else if("zoomout"===e)browser.tabs.query({currentWindow:!0,active:!0}).then((function(e){browser.tabs.getZoom(e[0].id).then((function(t){browser.tabs.setZoom(e[0].id,t-.1)}))}));else if("zoomreset"===e)browser.tabs.query({currentWindow:!0,active:!0}).then((function(e){browser.tabs.setZoom(e[0].id,0)}));else if("showlatestdownload"===e)chrome.downloads.search({orderBy:["-startTime"],state:"complete"},e=>{e&&e.length>0&&chrome.downloads.show(e[0].id)});else if("back"===e)browser.tabs.executeScript(null,{code:"window.history.back()"});else if("forward"===e)browser.tabs.executeScript(null,{code:"window.history.forward()"});else if("reload"===e)browser.tabs.executeScript(null,{code:"window.location.reload()"});else if("hardreload"===e)browser.tabs.reload({bypassCache:!0});else if("top"===e)browser.tabs.executeScript(null,{code:'window.scrollTo({left: 0, top: 0, behavior: "'+r+'"})'});else if("bottom"===e)browser.tabs.executeScript(null,{code:'window.scrollTo({left: 0, top: document.body.scrollHeight, behavior: "'+r+'"})'});else if("scrollup"===e)browser.tabs.executeScript(null,{code:'window.scrollBy({left: 0, top: -50, behavior: "'+r+'"})'});else if("scrollupmore"===e)browser.tabs.executeScript(null,{code:'window.scrollBy({left: 0, top: -500, behavior: "'+r+'"})'});else if("pageup"===e)browser.tabs.executeScript(null,{code:'window.scrollBy({left: 0, top: -window.innerHeight, behavior: "'+r+'"})'});else if("scrolldown"===e)browser.tabs.executeScript(null,{code:'window.scrollBy({left: 0, top: 50, behavior: "'+r+'"})'});else if("scrolldownmore"===e)browser.tabs.executeScript(null,{code:'window.scrollBy({left: 0, top: 500, behavior: "'+r+'"})'});else if("pagedown"===e)browser.tabs.executeScript(null,{code:'window.scrollBy({left: 0, top: window.innerHeight, behavior: "'+r+'"})'});else if("scrollleft"===e)browser.tabs.executeScript(null,{code:'window.scrollBy({left: -50, top: 0, behavior: "'+r+'"})'});else if("scrollleftmore"===e)browser.tabs.executeScript(null,{code:'window.scrollBy({left: -500, top: 0, behavior: "'+r+'"})'});else if("scrollright"===e)browser.tabs.executeScript(null,{code:'window.scrollBy({left: 50, top: 0, behavior: "'+r+'"})'});else if("scrollrightmore"===e)browser.tabs.executeScript(null,{code:'window.scrollBy({left: 500, top: 0, behavior: "'+r+'"})'});else if("openbookmark"===e||"openbookmarknewtab"===e||"openbookmarkbackgroundtab"===e||"openbookmarkbackgroundtabandclose"===e)browser.bookmarks.search({title:t.bookmark}).then((function(r){let o;for(let e=r.length;e-- >0;){let n=r[e];if(n.url&&n.title===t.bookmark){o=n;break}}"openbookmark"===e?0===o.url.indexOf("javascript:")?browser.tabs.executeScript(null,{code:decodeURIComponent(o.url.replace("javascript:",""))}):browser.tabs.update(null,{url:decodeURI(o.url)}):"openbookmarkbackgroundtab"===e?browser.tabs.create({url:decodeURI(o.url),active:!1}):"openbookmarkbackgroundtabandclose"===e?browser.tabs.create({url:decodeURI(o.url),active:!1}).then((function(e){var t=function(r,o,n){r===e.id&&"complete"===o.status&&(browser.tabs.remove(e.id),browser.tabs.onUpdated.removeListener(t))};browser.tabs.onUpdated.addListener(t)})):browser.tabs.create({url:decodeURI(o.url)})}));else{if("openapp"!==e)return!1;t.openappid&&browser.management.launchApp(t.openappid)}return!0};browser.commands.onCommand.addListener((function(e){e=e.split("-")[1],s(e)})),browser.runtime.onMessage.addListener((function(e,t,r){const o=e.action;if("getKeys"===o){const t=e.url;let r=JSON.parse(localStorage.shortkeys),o=[];return r.keys.length>0&&r.keys.forEach(e=>{n(e,t)&&o.push(e)}),Promise.resolve(o)}s(o,e)}))}});
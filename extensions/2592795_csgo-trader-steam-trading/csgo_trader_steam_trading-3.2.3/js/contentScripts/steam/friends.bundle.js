(()=>{var e={7856:function(e){
/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */
e.exports=function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:a,getOwnPropertyDescriptor:r}=Object;let{freeze:o,seal:i,create:s}=Object,{apply:c,construct:l}="undefined"!=typeof Reflect&&Reflect;c||(c=function(e,t,n){return e.apply(t,n)}),o||(o=function(e){return e}),i||(i=function(e){return e}),l||(l=function(e,t){return new e(...t)});const m=v(Array.prototype.forEach),d=v(Array.prototype.pop),p=v(Array.prototype.push),u=v(String.prototype.toLowerCase),f=v(String.prototype.toString),h=v(String.prototype.match),_=v(String.prototype.replace),y=v(String.prototype.indexOf),g=v(String.prototype.trim),b=v(RegExp.prototype.test),T=A(TypeError);function v(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return c(e,t,a)}}function A(e){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return l(e,n)}}function k(e,a,r){var o;r=null!==(o=r)&&void 0!==o?o:u,t&&t(e,null);let i=a.length;for(;i--;){let t=a[i];if("string"==typeof t){const e=r(t);e!==t&&(n(a)||(a[i]=e),t=e)}e[t]=!0}return e}function w(t){const n=s(null);for(const[a,r]of e(t))n[a]=r;return n}function N(e,t){for(;null!==e;){const n=r(e,t);if(n){if(n.get)return v(n.get);if("function"==typeof n.value)return v(n.value)}e=a(e)}function n(e){return console.warn("fallback value for",e),null}return n}const E=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),R=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),S=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),x=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),M=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),C=o(["#text"]),D=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),L=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),O=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),P=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),U=i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),F=i(/<%[\w\W]*|[\w\W]*%>/gm),W=i(/\${[\w\W]*}/gm),H=i(/^data-[\-\w.\u00B7-\uFFFF]/),z=i(/^aria-[\-\w]+$/),B=i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=i(/^(?:\w+script|data):/i),j=i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),K=i(/^html$/i);var Y=Object.freeze({__proto__:null,MUSTACHE_EXPR:U,ERB_EXPR:F,TMPLIT_EXPR:W,DATA_ATTR:H,ARIA_ATTR:z,IS_ALLOWED_URI:B,IS_SCRIPT_OR_DATA:G,ATTR_WHITESPACE:j,DOCTYPE_NAME:K});const q=()=>"undefined"==typeof window?null:window,$=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(n=t.getAttribute(a));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function V(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q();const n=e=>V(e);if(n.version="3.0.5",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;const a=t.document,r=a.currentScript;let{document:i}=t;const{DocumentFragment:s,HTMLTemplateElement:c,Node:l,Element:v,NodeFilter:A,NamedNodeMap:U=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:F,DOMParser:W,trustedTypes:H}=t,z=v.prototype,G=N(z,"cloneNode"),j=N(z,"nextSibling"),X=N(z,"childNodes"),Q=N(z,"parentNode");if("function"==typeof c){const e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let Z,J="";const{implementation:ee,createNodeIterator:te,createDocumentFragment:ne,getElementsByTagName:ae}=i,{importNode:re}=a;let oe={};n.isSupported="function"==typeof e&&"function"==typeof Q&&ee&&void 0!==ee.createHTMLDocument;const{MUSTACHE_EXPR:ie,ERB_EXPR:se,TMPLIT_EXPR:ce,DATA_ATTR:le,ARIA_ATTR:me,IS_SCRIPT_OR_DATA:de,ATTR_WHITESPACE:pe}=Y;let{IS_ALLOWED_URI:ue}=Y,fe=null;const he=k({},[...E,...R,...S,...x,...C]);let _e=null;const ye=k({},[...D,...L,...O,...P]);let ge=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,Te=null,ve=!0,Ae=!0,ke=!1,we=!0,Ne=!1,Ee=!1,Re=!1,Se=!1,Ie=!1,xe=!1,Me=!1,Ce=!0,De=!1;const Le="user-content-";let Oe=!0,Pe=!1,Ue={},Fe=null;const We=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let He=null;const ze=k({},["audio","video","img","source","image","track"]);let Be=null;const Ge=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),je="http://www.w3.org/1998/Math/MathML",Ke="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1999/xhtml";let qe=Ye,$e=!1,Ve=null;const Xe=k({},[je,Ke,Ye],f);let Qe;const Ze=["application/xhtml+xml","text/html"],Je="text/html";let et,tt=null;const nt=i.createElement("form"),at=function(e){return e instanceof RegExp||e instanceof Function},rt=function(e){if(!tt||tt!==e){if(e&&"object"==typeof e||(e={}),e=w(e),Qe=Qe=-1===Ze.indexOf(e.PARSER_MEDIA_TYPE)?Je:e.PARSER_MEDIA_TYPE,et="application/xhtml+xml"===Qe?f:u,fe="ALLOWED_TAGS"in e?k({},e.ALLOWED_TAGS,et):he,_e="ALLOWED_ATTR"in e?k({},e.ALLOWED_ATTR,et):ye,Ve="ALLOWED_NAMESPACES"in e?k({},e.ALLOWED_NAMESPACES,f):Xe,Be="ADD_URI_SAFE_ATTR"in e?k(w(Ge),e.ADD_URI_SAFE_ATTR,et):Ge,He="ADD_DATA_URI_TAGS"in e?k(w(ze),e.ADD_DATA_URI_TAGS,et):ze,Fe="FORBID_CONTENTS"in e?k({},e.FORBID_CONTENTS,et):We,be="FORBID_TAGS"in e?k({},e.FORBID_TAGS,et):{},Te="FORBID_ATTR"in e?k({},e.FORBID_ATTR,et):{},Ue="USE_PROFILES"in e&&e.USE_PROFILES,ve=!1!==e.ALLOW_ARIA_ATTR,Ae=!1!==e.ALLOW_DATA_ATTR,ke=e.ALLOW_UNKNOWN_PROTOCOLS||!1,we=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ne=e.SAFE_FOR_TEMPLATES||!1,Ee=e.WHOLE_DOCUMENT||!1,Ie=e.RETURN_DOM||!1,xe=e.RETURN_DOM_FRAGMENT||!1,Me=e.RETURN_TRUSTED_TYPE||!1,Se=e.FORCE_BODY||!1,Ce=!1!==e.SANITIZE_DOM,De=e.SANITIZE_NAMED_PROPS||!1,Oe=!1!==e.KEEP_CONTENT,Pe=e.IN_PLACE||!1,ue=e.ALLOWED_URI_REGEXP||B,qe=e.NAMESPACE||Ye,ge=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ge.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ge.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ge.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ne&&(Ae=!1),xe&&(Ie=!0),Ue&&(fe=k({},[...C]),_e=[],!0===Ue.html&&(k(fe,E),k(_e,D)),!0===Ue.svg&&(k(fe,R),k(_e,L),k(_e,P)),!0===Ue.svgFilters&&(k(fe,S),k(_e,L),k(_e,P)),!0===Ue.mathMl&&(k(fe,x),k(_e,O),k(_e,P))),e.ADD_TAGS&&(fe===he&&(fe=w(fe)),k(fe,e.ADD_TAGS,et)),e.ADD_ATTR&&(_e===ye&&(_e=w(_e)),k(_e,e.ADD_ATTR,et)),e.ADD_URI_SAFE_ATTR&&k(Be,e.ADD_URI_SAFE_ATTR,et),e.FORBID_CONTENTS&&(Fe===We&&(Fe=w(Fe)),k(Fe,e.FORBID_CONTENTS,et)),Oe&&(fe["#text"]=!0),Ee&&k(fe,["html","head","body"]),fe.table&&(k(fe,["tbody"]),delete be.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw T('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw T('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Z=e.TRUSTED_TYPES_POLICY,J=Z.createHTML("")}else void 0===Z&&(Z=$(H,r)),null!==Z&&"string"==typeof J&&(J=Z.createHTML(""));o&&o(e),tt=e}},ot=k({},["mi","mo","mn","ms","mtext"]),it=k({},["foreignobject","desc","title","annotation-xml"]),st=k({},["title","style","font","a","script"]),ct=k({},R);k(ct,S),k(ct,I);const lt=k({},x);k(lt,M);const mt=function(e){let t=Q(e);t&&t.tagName||(t={namespaceURI:qe,tagName:"template"});const n=u(e.tagName),a=u(t.tagName);return!!Ve[e.namespaceURI]&&(e.namespaceURI===Ke?t.namespaceURI===Ye?"svg"===n:t.namespaceURI===je?"svg"===n&&("annotation-xml"===a||ot[a]):Boolean(ct[n]):e.namespaceURI===je?t.namespaceURI===Ye?"math"===n:t.namespaceURI===Ke?"math"===n&&it[a]:Boolean(lt[n]):e.namespaceURI===Ye?!(t.namespaceURI===Ke&&!it[a])&&!(t.namespaceURI===je&&!ot[a])&&!lt[n]&&(st[n]||!ct[n]):!("application/xhtml+xml"!==Qe||!Ve[e.namespaceURI]))},dt=function(e){p(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},pt=function(e,t){try{p(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!_e[e])if(Ie||xe)try{dt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},ut=function(e){let t,n;if(Se)e="<remove></remove>"+e;else{const t=h(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Qe&&qe===Ye&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const a=Z?Z.createHTML(e):e;if(qe===Ye)try{t=(new W).parseFromString(a,Qe)}catch(e){}if(!t||!t.documentElement){t=ee.createDocument(qe,"template",null);try{t.documentElement.innerHTML=$e?J:a}catch(e){}}const r=t.body||t.documentElement;return e&&n&&r.insertBefore(i.createTextNode(n),r.childNodes[0]||null),qe===Ye?ae.call(t,Ee?"html":"body")[0]:Ee?t.documentElement:r},ft=function(e){return te.call(e.ownerDocument||e,e,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT,null,!1)},ht=function(e){return e instanceof F&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof U)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},_t=function(e){return"object"==typeof l?e instanceof l:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},yt=function(e,t,a){oe[e]&&m(oe[e],(e=>{e.call(n,t,a,tt)}))},gt=function(e){let t;if(yt("beforeSanitizeElements",e,null),ht(e))return dt(e),!0;const a=et(e.nodeName);if(yt("uponSanitizeElement",e,{tagName:a,allowedTags:fe}),e.hasChildNodes()&&!_t(e.firstElementChild)&&(!_t(e.content)||!_t(e.content.firstElementChild))&&b(/<[/\w]/g,e.innerHTML)&&b(/<[/\w]/g,e.textContent))return dt(e),!0;if(!fe[a]||be[a]){if(!be[a]&&Tt(a)){if(ge.tagNameCheck instanceof RegExp&&b(ge.tagNameCheck,a))return!1;if(ge.tagNameCheck instanceof Function&&ge.tagNameCheck(a))return!1}if(Oe&&!Fe[a]){const t=Q(e)||e.parentNode,n=X(e)||e.childNodes;if(n&&t)for(let a=n.length-1;a>=0;--a)t.insertBefore(G(n[a],!0),j(e))}return dt(e),!0}return e instanceof v&&!mt(e)?(dt(e),!0):"noscript"!==a&&"noembed"!==a&&"noframes"!==a||!b(/<\/no(script|embed|frames)/i,e.innerHTML)?(Ne&&3===e.nodeType&&(t=e.textContent,t=_(t,ie," "),t=_(t,se," "),t=_(t,ce," "),e.textContent!==t&&(p(n.removed,{element:e.cloneNode()}),e.textContent=t)),yt("afterSanitizeElements",e,null),!1):(dt(e),!0)},bt=function(e,t,n){if(Ce&&("id"===t||"name"===t)&&(n in i||n in nt))return!1;if(Ae&&!Te[t]&&b(le,t));else if(ve&&b(me,t));else if(!_e[t]||Te[t]){if(!(Tt(e)&&(ge.tagNameCheck instanceof RegExp&&b(ge.tagNameCheck,e)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(e))&&(ge.attributeNameCheck instanceof RegExp&&b(ge.attributeNameCheck,t)||ge.attributeNameCheck instanceof Function&&ge.attributeNameCheck(t))||"is"===t&&ge.allowCustomizedBuiltInElements&&(ge.tagNameCheck instanceof RegExp&&b(ge.tagNameCheck,n)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(n))))return!1}else if(Be[t]);else if(b(ue,_(n,pe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(n,"data:")||!He[e])if(ke&&!b(de,_(n,pe,"")));else if(n)return!1;return!0},Tt=function(e){return e.indexOf("-")>0},vt=function(e){let t,a,r,o;yt("beforeSanitizeAttributes",e,null);const{attributes:i}=e;if(!i)return;const s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_e};for(o=i.length;o--;){t=i[o];const{name:c,namespaceURI:l}=t;if(a="value"===c?t.value:g(t.value),r=et(c),s.attrName=r,s.attrValue=a,s.keepAttr=!0,s.forceKeepAttr=void 0,yt("uponSanitizeAttribute",e,s),a=s.attrValue,s.forceKeepAttr)continue;if(pt(c,e),!s.keepAttr)continue;if(!we&&b(/\/>/i,a)){pt(c,e);continue}Ne&&(a=_(a,ie," "),a=_(a,se," "),a=_(a,ce," "));const m=et(e.nodeName);if(bt(m,r,a)){if(!De||"id"!==r&&"name"!==r||(pt(c,e),a=Le+a),Z&&"object"==typeof H&&"function"==typeof H.getAttributeType)if(l);else switch(H.getAttributeType(m,r)){case"TrustedHTML":a=Z.createHTML(a);break;case"TrustedScriptURL":a=Z.createScriptURL(a)}try{l?e.setAttributeNS(l,c,a):e.setAttribute(c,a),d(n.removed)}catch(e){}}}yt("afterSanitizeAttributes",e,null)},At=function e(t){let n;const a=ft(t);for(yt("beforeSanitizeShadowDOM",t,null);n=a.nextNode();)yt("uponSanitizeShadowNode",n,null),gt(n)||(n.content instanceof s&&e(n.content),vt(n));yt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t,r,o,i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if($e=!e,$e&&(e="\x3c!--\x3e"),"string"!=typeof e&&!_t(e)){if("function"!=typeof e.toString)throw T("toString is not a function");if("string"!=typeof(e=e.toString()))throw T("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Re||rt(c),n.removed=[],"string"==typeof e&&(Pe=!1),Pe){if(e.nodeName){const t=et(e.nodeName);if(!fe[t]||be[t])throw T("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)t=ut("\x3c!----\x3e"),r=t.ownerDocument.importNode(e,!0),1===r.nodeType&&"BODY"===r.nodeName||"HTML"===r.nodeName?t=r:t.appendChild(r);else{if(!Ie&&!Ne&&!Ee&&-1===e.indexOf("<"))return Z&&Me?Z.createHTML(e):e;if(t=ut(e),!t)return Ie?null:Me?J:""}t&&Se&&dt(t.firstChild);const m=ft(Pe?e:t);for(;o=m.nextNode();)gt(o)||(o.content instanceof s&&At(o.content),vt(o));if(Pe)return e;if(Ie){if(xe)for(i=ne.call(t.ownerDocument);t.firstChild;)i.appendChild(t.firstChild);else i=t;return(_e.shadowroot||_e.shadowrootmode)&&(i=re.call(a,i,!0)),i}let d=Ee?t.outerHTML:t.innerHTML;return Ee&&fe["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&b(K,t.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+d),Ne&&(d=_(d,ie," "),d=_(d,se," "),d=_(d,ce," ")),Z&&Me?Z.createHTML(d):d},n.setConfig=function(e){rt(e),Re=!0},n.clearConfig=function(){tt=null,Re=!1},n.isValidAttribute=function(e,t,n){tt||rt({});const a=et(e),r=et(t);return bt(a,r,n)},n.addHook=function(e,t){"function"==typeof t&&(oe[e]=oe[e]||[],p(oe[e],t))},n.removeHook=function(e){if(oe[e])return d(oe[e])},n.removeHooks=function(e){oe[e]&&(oe[e]=[])},n.removeAllHooks=function(){oe={}},n}return V()}()},7388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcidFadeCalculator=t.AmberFadeCalculator=t.FadeCalculator=void 0;const a=n(6243),r=n(6038),o=n(7976);t.FadeCalculator=new a.default,t.AmberFadeCalculator=new r.default,t.AcidFadeCalculator=new o.default},7976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(5428);class r extends a.default{constructor(){super(...arguments),this.weapons=["SSG 08"],this.reversedWeapons=["SSG 08"],this.tradeUpWeapons=["SSG 08"],this.configs={default:{pattern_offset_x_start:-2.4,pattern_offset_x_end:-2.1,pattern_offset_y_start:0,pattern_offset_y_end:0,pattern_rotate_start:-55,pattern_rotate_end:-65}}}}t.default=r},6038:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(5428);class r extends a.default{constructor(){super(...arguments),this.weapons=["AUG","Galil AR","MAC-10","P2000","R8 Revolver","Sawed-Off"],this.reversedWeapons=[],this.tradeUpWeapons=["AUG","Galil AR","MAC-10","P2000","R8 Revolver","Sawed-Off"],this.configs={default:{pattern_offset_x_start:-.7,pattern_offset_x_end:-.7,pattern_offset_y_start:-.7,pattern_offset_y_end:-.7,pattern_rotate_start:-55,pattern_rotate_end:-65}}}}t.default=r},5428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(3738);t.default=class{constructor(){this.minPercentage=80}getSupportedWeapons(){return this.weapons}getFadePercentage(e,t){return this.getFadePercentages(e)[t]}getAllFadePercentages(){return this.weapons.map((e=>({weapon:e,percentages:this.getFadePercentages(e)})))}getFadePercentages(e){if(!this.weapons.includes(e))throw new Error(`The weapon "${e}" is currently not supported.`);const t=this.configs[e]||this.configs.default,n=[],r=this.tradeUpWeapons.includes(e)?1e3:999;for(let e=0;e<=r;e+=1){const r=new a.default;r.setSeed(e);const o=r.randomFloat(t.pattern_offset_x_start,t.pattern_offset_x_end);r.randomFloat(t.pattern_offset_y_start,t.pattern_offset_y_end);const i=r.randomFloat(t.pattern_rotate_start,t.pattern_rotate_end);let s;const c=t.pattern_rotate_start!==t.pattern_rotate_end,l=t.pattern_offset_x_start!==t.pattern_offset_x_end;s=c&&l?i*o:c?i:o,n.push(s)}let o,i;this.reversedWeapons.includes(e)?(o=Math.min(...n),i=Math.max(...n)):(o=Math.max(...n),i=Math.min(...n));const s=i-o,c=n.map((e=>(i-e)/s)),l=[...c].sort(((e,t)=>e-t));return c.map(((e,t)=>({seed:t,percentage:this.minPercentage+e*(100-this.minPercentage),ranking:Math.min(l.indexOf(e)+1,l.length-l.indexOf(e))})))}}},6243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(5428);class r extends a.default{constructor(){super(...arguments),this.weapons=["AWP","Bayonet","Bowie Knife","Butterfly Knife","Classic Knife","Falchion Knife","Flip Knife","Glock-18","Gut Knife","Huntsman Knife","Karambit","Kukri Knife","M4A1-S","M9 Bayonet","MAC-10","MP7","Navaja Knife","Nomad Knife","Paracord Knife","R8 Revolver","Shadow Daggers","Skeleton Knife","Stiletto Knife","Survival Knife","Talon Knife","UMP-45","Ursus Knife"],this.reversedWeapons=["AWP","Karambit","MP7","Talon Knife"],this.tradeUpWeapons=["AWP","Glock-18","M4A1-S","MAC-10","MP7","R8 Revolver","UMP-45"],this.configs={default:{pattern_offset_x_start:-.7,pattern_offset_x_end:-.7,pattern_offset_y_start:-.7,pattern_offset_y_end:-.7,pattern_rotate_start:-55,pattern_rotate_end:-65},MP7:{pattern_offset_x_start:-.9,pattern_offset_x_end:-.3,pattern_offset_y_start:-.7,pattern_offset_y_end:-.5,pattern_rotate_start:-55,pattern_rotate_end:-65},"M4A1-S":{pattern_offset_x_start:-.14,pattern_offset_x_end:.05,pattern_offset_y_start:0,pattern_offset_y_end:0,pattern_rotate_start:-45,pattern_rotate_end:-45}}}}t.default=r},3738:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.mIdum=0,this.mIy=0,this.mIv=[],this.NTAB=32,this.IA=16807,this.IM=2147483647,this.IQ=127773,this.IR=2836,this.NDIV=1+(this.IM-1)/this.NTAB,this.AM=1/this.IM,this.RNMX=1-12e-8}setSeed(e){this.mIdum=e,e>=0&&(this.mIdum=-e),this.mIy=0}generateRandomNumber(){let e,t;if(this.mIdum<=0||0===this.mIy){for(-this.mIdum<1?this.mIdum=1:this.mIdum=-this.mIdum,t=this.NTAB+7;t>=0;t-=1)e=Math.floor(this.mIdum/this.IQ),this.mIdum=Math.floor(this.IA*(this.mIdum-e*this.IQ)-this.IR*e),this.mIdum<0&&(this.mIdum+=this.IM),t<this.NTAB&&(this.mIv[t]=this.mIdum);[this.mIy]=this.mIv}return e=Math.floor(this.mIdum/this.IQ),this.mIdum=Math.floor(this.IA*(this.mIdum-e*this.IQ)-this.IR*e),this.mIdum<0&&(this.mIdum+=this.IM),t=Math.floor(this.mIy/this.NDIV),this.mIy=Math.floor(this.mIv[t]),this.mIv[t]=this.mIdum,this.mIy}randomFloat(e,t){let n=this.AM*this.generateRandomNumber();return n>this.RNMX&&(n=this.RNMX),n*(t-e)+e}}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";chrome.i18n.getMessage("fn_long"),chrome.i18n.getMessage("fn_short"),chrome.i18n.getMessage("mw_long"),chrome.i18n.getMessage("mw_short"),chrome.i18n.getMessage("ft_long"),chrome.i18n.getMessage("ft_short"),chrome.i18n.getMessage("ww_long"),chrome.i18n.getMessage("ww_short"),chrome.i18n.getMessage("bs_long"),chrome.i18n.getMessage("bs_short");const e={short:"USD",long:"United States dollar",sign:"$"},t={short:"EUR",long:"Euro",sign:"€"},a={name:"csgotrader",long:"CS2 Trader",short:"CS",url:"http://csgotrader.app/prices/",description:"The extension's own pricing, aims to be accurate and to provide some kind of price for every item.",pricing_modes:{csgotrader:{description:"CS2 Trader price",name:"csgotrader",long:"CS2 Trader price"}}},r={common:{internal_name:"Rarity_Common",name:"common",prettyName:"Common"},common_weapon:{internal_name:"Rarity_Common_Weapon",name:"common",prettyName:"Common Weapon"},uncommon:{internal_name:"Rarity_Uncommon",name:"uncommon",prettyName:"Uncommon"},uncommon_weapon:{internal_name:"Rarity_Uncommon_Weapon",name:"uncommon",prettyName:"Uncommon Weapon"},rare:{internal_name:"Rarity_Rare",name:"rare",prettyName:"Rare"},rare_weapon:{internal_name:"Rarity_Rare_Weapon",name:"rare",prettyName:"Rare Weapon"},rare_character:{internal_name:"Rarity_Rare_Character",name:"rare",prettyName:"Distinguished Agent"},mythical:{internal_name:"Rarity_Mythical",name:"mythical",prettyName:"Mythical"},mythical_weapon:{internal_name:"Rarity_Mythical_Weapon",name:"mythical",prettyName:"Mythical Weapon"},mythical_character:{internal_name:"Rarity_Mythical_Character",name:"mythical",prettyName:"Exceptional Agent"},legendary:{internal_name:"Rarity_Legendary",name:"legendary",prettyName:"Legendary"},legendary_weapon:{internal_name:"Rarity_Legendary_Weapon",name:"legendary",prettyName:"Legendary Weapon"},legendary_character:{internal_name:"Rarity_Legendary_Character",name:"legendary",prettyName:"Superior Agent"},ancient:{internal_name:"Rarity_Ancient",name:"ancient",prettyName:"Ancient"},ancient_weapon:{internal_name:"Rarity_Ancient_Weapon",name:"ancient",prettyName:"Ancient Weapon"},ancient_character:{internal_name:"Rarity_Ancient_Character",name:"ancient",prettyName:"Master Agent"},contraband:{internal_name:"Rarity_Contraband",name:"contraband",prettyName:"Contraband"},contraband_weapon:{internal_name:"Rarity_Contraband_Weapon",name:"contraband",prettyName:"Contraband Weapon"},default:{internal_name:"Rarity_Default",name:"stock",prettyName:"Default"},default_weapon:{internal_name:"Rarity_Default_Weapon",name:"stock",prettyName:"Default Weapon"}};r.common.name,r.common.prettyName,r.uncommon.name,r.uncommon.prettyName,r.rare.name,r.rare.prettyName,r.mythical.name,r.mythical.prettyName,r.legendary.name,r.legendary.prettyName,r.ancient.name,r.ancient.prettyName,r.contraband.name,r.contraband.prettyName;var o=n(7856),i=n.n(o);chrome.runtime.getURL("/index.html").includes("chrome-extension");const s={default:{key:"default",name:"Default (position last to first)"},reverse:{key:"reverse",name:"Reverse (position first to last)"},price_desc:{key:"price_desc",name:"Price (expensive to cheap)"},price_asc:{key:"price_asc",name:"Price (cheap to expensive)"},name_asc:{key:"name_asc",name:"Alphabetical (a to z)"},name_desc:{key:"name_desc",name:"Alphabetical (z to a)"},tradability_desc:{key:"tradability_desc",name:"Tradability (untradable to tradable)"},tradability_asc:{key:"tradability_asc",name:"Tradability (tradable to untradable)"},float_asc:{key:"float_asc",name:"Float (lowest to highest)"},float_desc:{key:"float_desc",name:"Float (highest to lowest)"},sticker_price_asc:{key:"sticker_price_asc",name:"Sticker price (cheap to expensive)"},sticker_price_desc:{key:"sticker_price_desc",name:"Sticker price (expensive to cheap)"},charm_price_asc:{key:"charm_price_asc",name:"Charm price (cheap to expensive)"},charm_price_desc:{key:"charm_price_desc",name:"Charm price (expensive to cheap)"}},c={key:"default",name:"Default Steam Order"},l={key:"profile_private",pretty:"Private profile",description:"The user has a private Steam profile",with_value:!1},m={key:"steam_level_under",pretty:"Steam level under",description:"User' Steam profile lever is under or the same as the set number",with_value:!0,value_type:"number",default_value:5},d={key:"vac_banned",pretty:"Vac banned",description:"The user has VAC ban(s) on their account",with_value:!1},p={key:"community_banned",pretty:"Community banned",description:"The user is community banned on Steam",with_value:!1},u={key:"trade_banned",pretty:"Trade banned",description:"The user is trade banned or on trade ban probation",with_value:!1},f={key:"inventory_private",pretty:"Private inventory",description:"The user's inventory is not publicly viewable",with_value:!1},h={key:"ignore",pretty:"Ignore",description:"Ignore friend request"},_={key:"accept",pretty:"Accept",description:"Accept trade offer"},y={key:"decline",pretty:"Decline",description:"Decline trade offer"},g={key:"notify",pretty:"Notify",description:"Send a browser notification"},b={key:"profit_over",pretty:"Profit over",description:"Projected profit equal or over the specified value",with_value:!0,value_type:"number",default_value:5},T={key:"profit_percentage_over",pretty:"Profit percentage over",description:"Projected profit percentage equal or over the specified value",with_value:!0,value_type:"number",default_value:10},v={key:"no_message",pretty:"Has no message",description:"The offer has no message attached",with_value:!1},A={key:"message_includes",pretty:"Message includes",description:"The offer message includes the specified string",with_value:!0,value_type:"string",default_value:"please"},k={key:"receiving_items_under",pretty:"Receiving fewer than x items",description:"Receiving fewer than x items in the offer",with_value:!0,value_type:"number",default_value:1},w={key:"giving_items_under",pretty:"Giving fewer than x items",description:"Giving fewer than x items in the offer",with_value:!0,value_type:"number",default_value:1},N={key:"and",pretty:"AND",description:"AND operator"},E=(a.name,a.pricing_modes.csgotrader.name,e.short,s.default.key,s.default.key,e.short,t.short,Date.now(),Date.now(),l.key,h.key,m.key,h.key,d.key,h.key,p.key,h.key,u.key,h.key,f.key,h.key,Date.now(),Date.now(),e.short,c.key,w.key,v.key,N.key,g.key,b.key,b.default_value,g.key,T.key,T.default_value,g.key,k.key,v.key,N.key,y.key,k.key,A.key,A.default_value,N.key,_.key,new Date("2020-01-01T00:00:00.000Z").getTime(),(e,t,n,a)=>{const r=document.createElement("div");r.setAttribute("onreset",`${e};`),r.dispatchEvent(new CustomEvent("reset")),r.removeAttribute("onreset"),r.remove();const o=["steamidOfLoggedinUser","steamidOfProfileOwner","tradePartnerSteamID","inventoryOwnerID","listingsInfo","inventoryInfo","allItemsLoaded","offerInventoryInfo","steamWalletCurrency","steamWallet","formattedToInt","intToFormatted","priceAfterFees","sessionid","offerID","partnerName","userAppInfo","csgoFloat","commentExtendedData"].includes(a)?document.querySelector("body").getAttribute(a):null;return null!==o&&document.querySelector("body").removeAttribute(a),o}),{FadeCalculator:R}=n(7388);chrome.runtime.getURL("images/list-solid.svg");(()=>{const{version:e}=chrome.runtime.getManifest();console.log(`CS2 Trader - Steam Trading Enhancer ${e} is running on this page. Changelog at: https://csgotrader.app/changelog/`),console.log("If you see any errors that seem related to the extension please email support@csgotrader.app.")})(),chrome.storage.local.get(["steamAcessToken","steamAcessTokenValid"],(({steamAcessToken:e,steamAcessTokenValid:t})=>{const n=document.getElementById("application_config")?.getAttribute("data-loyalty_webapi_token")?.replace('"',"").replace('"',"");!t||t&&e!==n?chrome.runtime.sendMessage({accessTokenToValidate:n},(e=>{e.valid?chrome.storage.local.set({steamAcessToken:n,steamAcessTokenValid:!0},(()=>{console.log("Steam access token updated")})):console.log("Steam access token could not be validated")})):console.log("Access token not changed")})),(()=>{const e=E("document.querySelector('body').setAttribute('steamidOfLoggedinUser', g_steamID);",0,0,"steamidOfLoggedinUser");"false"!==e&&!1!==e&&null!==e&&chrome.storage.local.set({steamIDOfUser:e,steamSessionID:E("document.querySelector('body').setAttribute('sessionid', g_sessionID);",0,0,"sessionid")},(()=>{}))})(),chrome.storage.local.get(["showUpdatedRibbon"],(({showUpdatedRibbon:e})=>{e&&(document.querySelector("body").insertAdjacentHTML("afterbegin",i().sanitize(`<div id="extensionUpdatedRibbon">\n                       CS2 Trader Extension was updated to ${chrome.runtime.getManifest().version}. Check out the \n                      <a href="https://csgotrader.app/changelog/" target="_blank" title="Open CS2Trader Changelog">\n                          Changelog\n                      </a>\n                      for details\n                      <span class="clickable" id="closeUpdatedRibbon" title="Close ribbon until the next update">Close</span>\n                    </div>`,{ADD_ATTR:["target"]})),document.getElementById("closeUpdatedRibbon").addEventListener("click",(()=>{chrome.storage.local.set({showUpdatedRibbon:!1},(()=>{document.getElementById("extensionUpdatedRibbon").classList.add("hidden")}))})))})),chrome.runtime.onMessage.addListener(((e,t,n)=>{if(e.acceptOffer){let t=1;const a=setInterval((()=>{var r,o;t<=5&&(t+=1,(r=e.acceptOffer.offerID,o=e.acceptOffer.partnerID,new Promise(((e,t)=>{chrome.storage.local.get(["steamSessionID"],(({steamSessionID:n})=>{const a=new Headers;a.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");const i=new Request(`https://steamcommunity.com/tradeoffer/${r}/accept`,{method:"POST",headers:a,referrer:`https://steamcommunity.com/tradeoffer/${r}/`,body:`sessionid=${n}&serverid=1&tradeofferid=${r}&partner=${o}&captcha=`});fetch(i).then((e=>{if(e.ok)return e.json();console.log(`Error code: ${e.status} Status: ${e.statusText}`),t({status:e.status,statusText:e.statusText})})).then((t=>{e(t)})).catch((e=>{console.log(e),t(e)}))}))}))).then((()=>{clearInterval(a),n({success:!0})})).catch((e=>{console.log(e),n({success:!1})}))),clearInterval(a)}),5e3)}return!0})),setInterval((()=>{chrome.runtime?.id||window.location.reload()}),5e3);const S=document.querySelector(".profile_friends.title_bar");null!==S&&S.insertAdjacentHTML("beforeBegin",i().sanitize('\n    <div class="friendInvitesBanner">\n        <b>CS2 Trader Extension:</b>\n         You can set rules to friend requests and check invite history in the <b>Extension Options</b>\n         under <b>"Friends and Invites"</b>\n    </div>'))})()})();
//# sourceMappingURL=friends.bundle.js.map
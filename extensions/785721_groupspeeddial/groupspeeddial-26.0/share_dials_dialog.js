"use strict";(globalThis.webpackChunkgroup_speed_dial=globalThis.webpackChunkgroup_speed_dial||[]).push([[363],{1049:(e,t,a)=>{a.d(t,{s:()=>i});var s=a(4323);const i=new class{isActive=!1;constructor(){}async toggleSelection(e){this.isActive=(0,s.Lm)(e)?e:!this.isActive;const t=await(async()=>await Promise.all([a.e(288),a.e(278)]).then(a.bind(a,2761)))();this.isActive?await t.startSelection():await t.stopSelection()}}},8814:(e,t,a)=>{var s;a.d(t,{g:()=>s}),(e=>{e.General="general",e.AutoReload="reload",e.CropScale="crop_scale",e.Thumbnail="thumbnail",e.Settings="settings",e.Visual="visual",e.Tags="tags"})(s||(s={}))},9343:(e,t,a)=>{var s,i;a.d(t,{K:()=>u}),(e=>{e[e.RAW=0]="RAW",e[e.BASE_64=1]="BASE_64",e[e.BASE_93=2]="BASE_93"})(s||(s={})),(e=>{e[e.LZ=0]="LZ",e[e.LZMA=1]="LZMA"})(i||(i={}));var r=a(9254),o=a(7371),n=a(1061),l=(a(2460),a(2062));class c{passwordHashWithSecret;lzutf8;keyPromise;constructor(e,t){this.passwordHashWithSecret=e,this.lzutf8=t,this.keyPromise=new l.k(e).unwrapKey(e.options.secret)}async encrypt(e,{encoding:t,compression:a}){performance.now();const l=JSON.stringify(e);let c;switch(a){default:case i.LZ:c=await this.lzutf8.compress(l);break;case i.LZMA:c=await(0,o.v)(l)}const d=self.crypto.getRandomValues(new Uint8Array(12)),p=await self.crypto.subtle.encrypt({name:"AES-GCM",iv:d},await this.keyPromise,c);let h;switch(t){default:case s.RAW:h=(0,r.JR)(p);break;case s.BASE_64:h=btoa((0,r.JR)(p));break;case s.BASE_93:h=await(0,n.h)(new Uint8Array(p))}return{ciphertext:h,iv:[...d],en:t,cp:a}}async decrypt({ciphertext:e,iv:t,cp:a,en:l}){let c;switch(l){default:case s.RAW:c=(0,r.Al)(e);break;case s.BASE_64:c=(0,r.Al)(atob(e));break;case s.BASE_93:c=await(0,n.A)(e)}const d=await self.crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(t)},await this.keyPromise,c);let p;switch(a){default:case i.LZ:p=await this.lzutf8.decompress(new Uint8Array(d));break;case i.LZMA:p=await(0,o.O)(new Uint8Array(d))}return JSON.parse(p)}}var d=a(7398),p=a(4716),h=a(4721);class u{ciphertext;cp;en;iv;pwdOptions;accessSecret;constructor(e){Object.assign(this,e)}async decrypt(e){const t=new c({hash:e,options:this.pwdOptions});return await t.decrypt(this)}static async encrypt(e,t){const a=new p.w("Encryption:"),r=await u.generateNewPassword(t,"SHA-256",5e6);a.diff("generated password hash");const o=new c(r),n=await o.encrypt(e,{encoding:s.BASE_93,compression:i.LZMA});return a.diff("encrypted + encoded"),a.stop("Total"),new u({...n,pwdOptions:r.options,accessSecret:await(0,h.d)(r.hash,"SHA-256")})}static async generateNewPassword(e,t,a){const s=await self.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);return await(0,d.mA)(e,s,{iterations:a,salt:(0,r.gU)(128),hash:t})}}},7897:(e,t,a)=>{a.r(t),a.d(t,{openShareDialsModal:()=>I});var s=a(5471),i=a(6499),r=a(97),o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-app",{staticStyle:{width:"100%",height:"100%"}},[t("v-app-bar",{attrs:{app:"",absolute:"","clipped-left":"",color:""}},[t("v-toolbar-title",{staticClass:"ml-0 d-flex align-center"},[t("v-icon",[e._v("fa-square-share-nodes")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"share_dials",expression:"'share_dials'"}],staticClass:"hidden-xs-and-down ml-4"})],1),e._v(" "),t("draggable_top"),e._v(" "),e.isMinimized?[e.isMinimized?t("span",{directives:[{name:"tr",rawName:"v-tr",value:["selected_dials_groups",e.selection.dialsCount,e.selection.groupsCount],expression:"['selected_dials_groups', selection.dialsCount, selection.groupsCount]"}],staticClass:"hidden-xs-and-down mr-4 subtitle-1"}):e._e(),e._v(" "),t("v-btn",{attrs:{icon:"",title:e.tr("label_maximize")}},[t("v-icon",[e._v("fa-chevron-up")])],1)]:[t("a",{staticClass:"ma-4 subtitle-1 d-flex align-center hover-underline",attrs:{href:e.MANAGE_SHARED_DIALS,target:"_blank"}},[t("v-icon",{staticClass:"ma-2",staticStyle:{"font-size":"18px"},attrs:{color:"primary"}},[e._v("fa-cloud-arrow-up")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"share_manage",expression:"'share_manage'"}]})],1),e._v(" "),e.state!==e.ShareState.done?t("v-btn",{attrs:{icon:"",title:e.tr("label_minimize")},on:{click:e.selectDials}},[t("v-icon",[e._v("fa-chevron-down")])],1):e._e(),e._v(" "),t("v-btn",{attrs:{icon:"",title:e.tr("label_close")},on:{click:e.closeEditor}},[t("v-icon",[e._v("fa-times")])],1)]],2),e._v(" "),t("v-main",{staticClass:"fill-height pl-0",staticStyle:{"padding-bottom":"174px"}},[e.hasCloudAccount?e._e():t("div",{staticClass:"text-center"},[t("v-btn",{staticClass:"ma-6",attrs:{tile:"",color:"primary"},on:{click:e.createAccount}},[t("v-icon",{attrs:{left:""}},[e._v("fa-sign-in-alt")]),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"login_login_create",expression:"'login_login_create'"}]})],1)],1),e._v(" "),e.hasCloudAccount?t("v-container",{staticClass:"fill-height overflow-auto align-content-start",attrs:{fluid:""}},[t("v-card",[t("v-card-text",{staticClass:"py-2"},[t("v-row",{staticClass:"align-center",attrs:{dense:""}},[t("v-col",{attrs:{cols:"12",md:"7"}},[t("v-btn",{staticClass:"ma-2",attrs:{tile:"",color:"secondary",disabled:e.state!==e.ShareState.init},on:{click:e.selectDials}},[t("v-icon",{attrs:{left:""}},[e._v("fa-hand-pointer")]),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"select_dials",expression:"'select_dials'"}]})],1),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:["selected_dials_groups",e.selection.dialsCount,e.selection.groupsCount],expression:"['selected_dials_groups', selection.dialsCount, selection.groupsCount]"}],staticClass:"ml-2 subtitle-1"})],1),e._v(" "),e.selectedGroups.length>1||e.shareAsList?t("v-col",{attrs:{cols:"12",md:"5"}},[t("v-checkbox",{staticClass:"mx-2 mt-0",attrs:{color:"primary",label:e.tr("share_as_list"),"hide-details":"","persistent-hint":"",disabled:e.state!==e.ShareState.init},model:{value:e.shareAsList,callback:t=>{e.shareAsList=t},expression:"shareAsList"}})],1):e._e()],1)],1)],1),e._v(" "),e.selectedGroups.length?t("v-card",[t("v-card-text",[t("div",{staticClass:"shared_dials"},[t("draggable",e._b({staticClass:"list-group",attrs:{handle:"div",tag:"div",disabled:!e.selectedGroups.length||e.shareAsList},on:{start:t=>{e.groupDrag=!0},end:t=>{e.groupDrag=!1},update:e.orderChanged},model:{value:e.selectedGroups,callback:t=>{e.selectedGroups=t},expression:"selectedGroups"}},"draggable",e.dragOptions,!1),e._l(e.selectedGroups,(a=>t("div",[t("div",{staticClass:"shared_group"},[t("group_favicon",{attrs:{group:a}}),e._v(" "),t("a",{attrs:{href:`#${a.id}`,target:"_blank"},domProps:{textContent:e._s(a.name+":")}})],1),e._v(" "),t("draggable",e._b({staticClass:"list-group",attrs:{handle:"div",tag:"div",disabled:!a.dials.length||e.groupDrag},on:{update:e.orderChanged},model:{value:a.dials,callback:t=>{e.$set(a,"dials",t)},expression:"group.dials"}},"draggable",e.dragOptions,!1),e._l(a.dials,(a=>t("div",{staticClass:"shared_dial"},[t("dial_favicon",{attrs:{dial:a}}),e._v(" "),t("a",{attrs:{href:a.url,target:"_blank"},domProps:{textContent:e._s(a.name)}})],1))),0)],1))),0)],1)])],1):e._e()],1):e._e()],1),e._v(" "),e.selectedGroups.length&&e.hasCloudAccount?t("v-footer",{attrs:{app:"",absolute:"",outlined:""}},[t("v-card-text",[t("v-row",{attrs:{dense:"",align:"center"}},[t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{staticClass:"pt-0",attrs:{"hide-details":"",outlined:"",dense:"",autofocus:"",label:e.tr("share_name"),disabled:e.state!==e.ShareState.init},on:{focus:e=>e.target.select()},model:{value:e.shareName,callback:t=>{e.shareName=t},expression:"shareName"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6"}},[t("pro_label",{attrs:{"tr-title":"share_privacy_password"}},[t("v-checkbox",{staticClass:"mx-2 mt-0",attrs:{color:"primary","prepend-icon":"fa-lock",label:e.tr("share_privacy_password"),"hide-details":"","persistent-hint":"",disabled:e.state!==e.ShareState.init},model:{value:e.isPasswordProtected,callback:t=>{e.isPasswordProtected=t},expression:"isPasswordProtected"}})],1)],1)],1),e._v(" "),t("v-row",{attrs:{dense:""}},[e.isPasswordProtected?t("v-col",{attrs:{cols:"12",md:"6"}},[t("a",{directives:[{name:"tr",rawName:"v-tr",value:"share_encrypted",expression:"'share_encrypted'"}],staticClass:"ml-2 subtitle-1 text--primary",attrs:{href:e.GITHUB_E2E,target:"_blank"}})]):t("v-col",{attrs:{cols:"12",md:"12"}},[t("div",{directives:[{name:"tr",rawName:"v-tr",value:"share_privacy_open",expression:"'share_privacy_open'"}],staticClass:"ml-2 subtitle-1"})]),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6"}},[e.isPasswordProtected?t("v-text-field",{staticClass:"pt-0",attrs:{"prepend-icon":"fa-key",type:e.showPassword?"text":"password","append-icon":e.showPassword?"fa-eye":"fa-eye-slash",autofocus:"","hide-details":"",disabled:e.state!==e.ShareState.init},on:{"click:append":t=>{e.showPassword=!e.showPassword}},model:{value:e.password,callback:t=>{e.password=t},expression:"password"}}):e._e()],1)],1),e._v(" "),t("v-row",{attrs:{dense:"",align:"center"}},[e.state>=e.ShareState.init?t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-btn",{staticClass:"ma-2",staticStyle:{width:"100%"},attrs:{tile:"",color:"primary",loading:e.state>e.ShareState.init},on:{click:e.createSharedLink}},[t("v-icon",{attrs:{left:""}},[e._v("fa-share-nodes")]),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"share_link_create",expression:"'share_link_create'"}]})],1)],1):t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{staticClass:"share_dials_url",attrs:{"hide-details":"",outlined:"",dense:"",autofocus:"",readonly:"","append-icon":e.copied?"fa-check-circle":"fa-copy",label:e.tr("share_link")},on:{focus:e=>e.target.select(),"click:append":e.copyToClipboard},model:{value:e.shareURL,callback:t=>{e.shareURL=t},expression:"shareURL"}})],1),e._v(" "),e.state===e.ShareState.done?t("v-col",{staticClass:"d-flex",attrs:{cols:"12",md:"6"}},[t("v-btn",{staticClass:"ma-2 ml-auto",staticStyle:{"min-width":"70%"},attrs:{tile:"",color:"secondary"},on:{click:e.closeEditor}},[t("v-icon",{attrs:{left:""}},[e._v("fa-check")]),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"label_close",expression:"'label_close'"}]})],1)],1):e._e(),e._v(" "),e.state===e.ShareState.init&&e.errorMessage?t("v-col",{staticClass:"d-flex",attrs:{cols:"12",md:"6"}},[t("div",{staticClass:"ma-4 error--text"},[e._v(e._s(e.tr("error")+": "+e.errorMessage))])]):e._e()],1)],1)],1):e._e()],1)};o._withStripped=!0;var n,l=a(6346),c=a(4590),d=a(2392),p=a(3120),h=a(5431),u=a(2846),m=a(1962),v=a(4323),g=a(7969),_=a(9343),w=a(4623),y=a(1374),f=a(6683),b=a(2037),x=a(9074),k=a(2036),S=a(8408),C=a(432),A=a.n(C),P=a(4497),E=a(2221),L=a(7111),O=a(8297),z=a(6554),N=a(4242);(e=>{e[e.done=-1]="done",e[e.init=0]="init",e[e.encrypting=1]="encrypting",e[e.uploading=2]="uploading"})(n||(n={}));const D=s.default.extend({name:"share_dials_modal",props:{_selection:{type:d.P,required:!1}},components:{Group_favicon:N.A,Dial_favicon:z.A,pro_label:h.A,draggable:A(),Draggable_top:p.A},data(){return{EMPTY_IMAGE_SRC:m.RO,GITHUB_E2E:x.dD,MANAGE_SHARED_DIALS:x.U4,groupDrag:!1,hasCloudAccount:!0,ShareState:n,state:0,errorMessage:"",shareURL:"",copied:!1,isMinimized:!1,shareAsList:!1,shareName:"",isPasswordProtected:!1,password:"",showPassword:!1,selection:this._selection||new d.P({selectionContextMenu:P.N,icons:"check",targetGroups:!0,activateNow:!0}),selectedGroups:[]}},async created(){this.hasCloudAccount=!!await(0,k.wz)(),this.selection.addSelectionChangeListener((()=>this.$forceUpdate())),await this.reloadSelection(),(0,l.Q)(this.$el,{type:"addOnCloseHandler",callback:(0,g.o)(this,this.closeEditor)})},watch:{shareAsList(e){this.reloadSelection(e)}},computed:{dragOptions:()=>({animation:200,group:"description",ghostClass:"drag_and_drop_ghost"})},methods:{tr:c.tr,async copyToClipboard(){await navigator.clipboard.writeText(this.shareURL),this.copied=!0,await(0,v.BK)(2e3),this.copied=!1},async reloadSelection(e=!1){this.selectedGroups=await this.getAllSelectedDials(),e&&(this.selectedGroups=[new w.Y({dials:this.selectedGroups.flatMap((e=>e.dials)),name:this.shareName,id:0,iconId:15,rows:3,cols:3,list:{direction:f.PX.row,width:324}})]),this.shareName||(this.shareName=this.selectedGroups.map((e=>e.name)).join(", "))},selectDials(){this.isMinimized=!0,(0,l.Q)(this.$el,{type:"minimize",restoreCallback:async()=>{this.isMinimized=!1,await this.reloadSelection()}})},async getAllSelectedDials(){const e=this.selection.getSelectedItems(),t=(0,y.jw)([...[...e.selectedDialsPerGroup].filter((([e,t])=>t.size>0)).map((([e])=>e)),...e.selectedGroups]).map((async t=>{const a=u.M.groupById(t).clone(),s=await a.getDials(),i=Array.from(e.selectedDialsPerGroup.get(t)||[]),r=i.length>0?i.map((e=>s[e])):s.filter((e=>e.isNotEmptyDial()));return r.forEach((e=>{switch(delete e.settings,delete e.reload,e.thumbnail?.type){case f.O8.FILE:case f.O8.CLIPBOARD:case f.O8.MAKE_TEXT:delete e.thumbnail}})),new w.Y({dials:r,id:a.id,name:a.name,rows:a.rows,cols:a.cols,ratio:a.ratio,dynamic:a.dynamic,list:a.list,background:a.background,color:a.color,rowColor:a.rowColor,colColor:a.colColor,iconId:a.iconId||60})})),a=await Promise.all(t);return(0,L.j)(a,0),a},async createSharedLink(){this.state=1;try{const e=await(0,b.J8)("share/upload",{},{name:this.shareName,theme:E.lw.TEMPLATE_COLOR,groups:this.isPasswordProtected?[]:this.selectedGroups,encrypted:this.isPasswordProtected?await _.K.encrypt({groups:this.selectedGroups},this.password):void 0});if(!e.uuidBase64)throw e;this.shareURL=(0,O.GU)(x.Vd,e.uuidBase64),this.state=-1}catch(e){this.state=0,this.errorMessage=e.message||JSON.stringify(e)}},closeEditor(){(0,l.Q)(this.$el,{type:"removeOnCloseHandler",callback:(0,g.o)(this,this.closeEditor)}),(0,l.Q)(this.$el,{type:"close"}),this.selection.deactivate()},createAccount(){(0,S.K)(x.jg)},orderChanged(){}}});const M=(0,a(4486).A)(D,o,[],!1,null,null,null).exports;var G=a(1879);let T=null;async function I(e){if("number"==typeof e){const t=e;e=new d.P({selectionContextMenu:P.N,icons:"check",targetGroups:!0,activateNow:!0}),await G.e.activate(t),e.selectGroup(t),e.selectAll()}T?(0,l.Q)(T.$el,{type:"restore"}):T=new s.default({el:(0,i.Q)(document.createElement("div"),{width:800,height:600,closeOnOverlayClick:!1,onClose(){T&&(T.$destroy(),T=null)}}).node,vuetify:(await(0,r.X)())(),render:t=>t(M,{props:{_selection:e}})})}},6221:(e,t,a)=>{a.d(t,{H:()=>i});var s=a(4323);const i=(e=s.lQ)=>({event:t})=>{t.stopImmediatePropagation(),e()}},6005:(e,t,a)=>{a.d(t,{l:()=>p});var s=a(1589),i=a(2846),r=a(2094),o=a(4067),n=a(7302),l=a(7283),c=a(8814),d=a(6799);async function p({data:{dial:e,activeGroup:t}}){return[s.v.getEmptyTag()].concat(i.M.METADATA.getUserTags()).map((a=>({tag:a,menuItem:{key:"",action:`add_tag_${a.id}`},action:{nameFix:a.name,disabled:()=>a.id===(e.settings?.TAG_ID||0),iconStyle:a.getIconStyle(),fn:async()=>(e.settings={...e.settings,TAG_ID:a.id},i.M.action("replaceDial",{dial:e,groupId:t.id}))}}))).concat([{menuItem:(0,r.w)("at")},{menuItem:{key:"",action:"tags_edit"},action:{name:"tags_edit",iconStyle:(0,o.W)((0,n.Z)("icons/tags/tag (1).svg"),l.e),fn:({data:{dial:e}})=>(0,d.t1)({id:e.domId,targetTab:c.g.Tags})}}])}},7879:(e,t,a)=>{a.d(t,{H:()=>o});var s=a(910),i=a(4323),r=a(1550);const o=new class{isDarkPromise;dataStore;_value=r.Uy.light;_isDark=!1;_callbacks=new Array;get value(){return this._value}get isDark(){return this._isDark}get isSystem(){return this._value===r.Uy.system}set isSystem(e){this.dataStore.set(e?r.Uy.system:(0,r.Rl)(this._isDark))}constructor(e=i.lQ,{prefName:t="_u_dark_theme_switch"}={}){this.dataStore=new s.F(t,(()=>r.Uy.light),{storageArea:"local"}),this.dataStore.addOnChangeListener((async t=>{const a=await this.updateDarkValue(t.newValue);e(a)})),this.updateDarkValue().then(e)}addCallback(e){this._callbacks.push(e)}async toggle(e){const t=(0,r.Rl)((0,i.Lm)(e)?e:!this._isDark);return await this.dataStore.set(t),await this.updateDarkValue(t)}async updateDarkValue(e=this.dataStore.get()){return this.isDarkPromise=(async()=>{this._value=await e;const t=this._isDark=Boolean(this._value===r.Uy.system?window.matchMedia?.(r.Co).matches:this._value);return this._callbacks.forEach((e=>e(t))),t})()}}},1061:(e,t,a)=>{a.d(t,{A:()=>n,h:()=>o});var s=a(4681);function i(){return new Worker(a.p+"base_x.worker.worker.js")}a(1055);const r=" !#$%&'()*+,-./0123456789:;=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~";async function o(e){return(0,s.c)(i,{type:"encode",alphabet:r,buffer:e})}async function n(e){return(0,s.c)(i,{type:"decode",alphabet:r,data:e})}},2895:(e,t,a)=>{a.d(t,{Nw:()=>s,fF:()=>i});const s=(e,t)=>`${e}: ${t?.name}\n${t?.message}\n${t?.stack}\n${t}`,i=e=>t=>(e(t),t)},2689:(e,t,a)=>{a.d(t,{u:()=>i});var s=a(4590);const i=async(e,t)=>e.nameFn&&await e.nameFn(t)||e.nameFix||(0,s.C8)(e.name)},2094:(e,t,a)=>{a.d(t,{w:()=>s});const s=(e="")=>({action:`_s_${e}`,type:"separator"})},6499:(e,t,a)=>{a.d(t,{Q:()=>w});var s=a(6004),i=a(3091),r=a(4323),o=a(6690);var n=a(7302),l=a(1471),c=a(910),d=a(9598),p=a(8698),h=a(6346),u=a(1374),m=a(1181),v=a(9100),g=a(4590),_=a(4069);function w(e,{width:t=800,height:a=600,draggableStyle:w="",onClose:y=r.lQ,appendToBody:f=!0,rememberPositionKey:b="",closableOverlay:x=!0,overlayBackground:k="rgba(0, 0, 0, 0.3)",closeOnOverlayClick:S=!0,closeOnESC:C=!0}){const A={get node(){return e},get overlayNode(){return M},minimize:async function(e){H("0"),z.style.transition="top 550ms",z.classList.add("pointer_all"),z.title=(0,g.tr)("label_restore");const t=I.getY();I.setPosition(void 0,window.innerHeight-64),z.addEventListener("mousedown",(0,m.do)(T=()=>{H("100%"),z.classList.remove("pointer_all"),z.title="",(0,r.BK)(250).then((()=>z.style.removeProperty("transition"))),I.setPosition(void 0,t),e?.()}),{capture:!0,once:!0})},maximize:async function(){z.style.transition="top 250ms, left 250ms, width 250ms, height 250ms";I.setPosition(40,40),F.setPosition(window.innerWidth-80,window.innerHeight-80),await(0,r.BK)(250),z.style.removeProperty("transition")},closeModal:()=>{M.isConnected&&(M.remove(),y(),(0,r.XB)(G),window.removeEventListener("keydown",P),_.m0&&document.body.focus({preventScroll:!0}))}},P=(0,l.ak)(A.closeModal);C&&window.addEventListener("keydown",P);const E=`\nz-index: 20;\nwidth: ${x?"100%":"0"};\nheight: 100%;\nbackground: ${k};\nposition: fixed;\ntop: 0;\nleft: 0;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\n`,L=`\ndisplay: flex;\nflex-direction: column;\nopacity: 0;\ntop: 0;\nleft: 0;\nposition: fixed;\nbackground: transparent;\nbox-shadow: rgba(0, 0, 0, 0.5) 0px 0px 5px;\nwidth: ${t}px;\nheight: ${a}px;\nmin-width: 320px;\nmin-height: 170px;\nmax-width: 100%;\nmax-height: 100%;\n/*border: 1px solid rgb(65, 65, 65);*/\n`,O=`\nz-index: 10;\ncursor: move;\nposition: absolute;\nwidth: 100%;\ntop: 0;\nleft: 0;\nheight: 15px;\n${w}\n`;let z;const N=new c.F(b,(()=>({}))),D=(0,p.U)(500),M=(0,d.z)("div",{"data-modal-overlay":1,style:E,handlers:{onmousedown:e=>{e.target===M&&(M.onclick=e=>{e.target===M&&S&&A.closeModal()})}}},[z=(0,d.z)("div",{style:L},[(0,d.z)("div",{style:"\ndisplay: flex;\noverflow: auto;\nwidth: 100%;\nheight: 100%;\n"},[e]),(0,d.z)("draggable-top",{style:O,"data-draggable-top":0,handlers:{ondblclick:()=>{A.maximize()}}}),(0,d.z)("img",{style:"\nz-index: 10;\ncursor: nw-resize;\nwidth: 16px;\nheight: 16px;\nopacity: 0.8;\npadding: 2px;\nposition: absolute;\nright: 0;\nbottom: 0;\nuser-select: none;\n",src:(0,n.Z)("utils/svg/resize-corner.svg"),"data-resize-corner":0})])]),G=Array();let T=r.lQ;(0,h.Z)(M,(e=>{switch(e.type){case"changeOpacity":M.style.opacity=e.opacity;break;case"changeTransparency":M.style.backgroundColor=e.isTransparent?"transparent":k;break;case"changeOverlayCloseOnClick":S=e.value;break;case"maximize":A.maximize();break;case"addOnCloseHandler":G.push(e.callback);break;case"removeOnCloseHandler":(0,u.E6)(G,e.callback);break;case"close":A.closeModal();break;case"minimize":A.minimize(e.restoreCallback);break;case"restore":T()}})),f&&document.body.appendChild(M);const I=(0,i.$)(z,{autoLockFrames:!0,keepInWindow:250,dontMovePredicate:e=>e.target!==z&&!e.target.hasAttribute("data-draggable-top")});I.setCallback(((e,t,a)=>{(0,s.eC)(z,"top",(0,o.px)(t)),(0,s.eC)(z,"left",(0,o.px)(e)),b&&D((()=>N.update((({w:a,h:s})=>({x:e,y:t,w:a,h:s})))))}));const R=document.documentElement.clientWidth,$=document.documentElement.clientHeight,[B,U]=[R/2-t/2,$/2-a/2];I.setPosition((0,v.n)(0,R-t-10,B),(0,v.n)(0,$-a-10,U)),(0,s.eC)(z,"opacity","1");const F=function(e,{cornerNode:t=e.querySelector("[data-resize-corner]"),originalWidth:a,originalHeight:n,callback:l=r.lQ,autoLockFrames:c=!1}){let d=a,p=n;const h=(0,i.$)(t,c?{autoLockFrames:!0,autoLockFramesContainer:e}:{});return h.setCallback(((t,i,r)=>{d=a+t,p=n+i,(0,s.eC)(e,"width",(0,o.px)(d)),(0,s.eC)(e,"height",(0,o.px)(p)),l(d,p,r)})),{setPosition:(e,t,s)=>h.setPosition(e-a,t-n,s),getWidth:()=>d,getHeight:()=>p}}(z,{autoLockFrames:!0,originalWidth:t,originalHeight:a,callback:(e,t,a)=>{b&&N.update((({x:a,y:s})=>({w:e,h:t,x:a,y:s})))}});return b&&N.get().then((({x:e,y:t,w:a,h:s})=>{[e,t].every(r.Et)&&I.setPosition(e,t,!0),[a,s].every(r.Et)&&F.setPosition(a,s,!0),I.moveToViewport()})),A;function H(e){["width","height"].forEach((t=>M.style.setProperty(t,e)))}}},6346:(e,t,a)=>{a.d(t,{Q:()=>i,Z:()=>r});const s="__modal_window_custom_event",i=(e,t)=>e.dispatchEvent(new CustomEvent(s,{detail:t,bubbles:!0})),r=(e,t)=>e.addEventListener(s,(e=>t(e.detail)))},7371:(e,t,a)=>{a.d(t,{v:()=>r,O:()=>o});var s=a(4681);function i(){return new Worker(a.p+"lzma_high_compressor.worker.worker.js")}a(611),a(1055);async function r(e,t=9){return(0,s.c)(i,{type:"compress",mode:t,data:e})}async function o(e){return(0,s.c)(i,{type:"decompress",byteArray:e})}},7969:(e,t,a)=>{a.d(t,{o:()=>i});const s=new WeakMap;function i(e,t){const a=s.get(t);if(a)return a;const i=t.bind(e);return s.set(t,i),i}},4681:(e,t,a)=>{function s(e,t){const a=e();return new Promise(((e,s)=>{a.postMessage(t),a.onmessageerror=s,a.onerror=s,a.onmessage=t=>e(t.data)})).finally((()=>a.terminate()))}a.d(t,{c:()=>s})},97:(e,t,a)=>{a.d(t,{X:()=>s});const s=()=>Promise.all([a.e(525),a.e(702)]).then(a.bind(a,6276)).then((e=>e.getVuetifyInstance))},6554:(e,t,a)=>{a.d(t,{A:()=>d});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("img",{directives:[{name:"intersect",rawName:"v-intersect.once",value:{handler:e.onIntersect,options:{rootMargin:"100px"}},expression:"{ handler: onIntersect, options: { rootMargin: '100px' } }",modifiers:{once:!0}}],key:e.updateView,style:e.getDialFavicon(e.dial).style,attrs:{src:e.getDialFavicon(e.dial).src}})};s._withStripped=!0;var i=a(5471),r=a(9510),o=a(489),n=a(1962);const l={},c=i.default.extend({props:{dial:{type:Object,required:!0}},name:"dial_favicon",data:()=>({updateView:0}),methods:{onIntersect(e,t,a){a&&this.updateFaviconStore(this.dial)},getDialFavicon(e){const t=document.createElement("img");return e instanceof o.z&&e.styleIcon(t,l[e.url]?.iconBlobURL),{style:t.style.cssText,src:t.src||n.RO}},async updateFaviconStore(e){if(e.url&&!l.hasOwnProperty(e.url)){l[e.url]=void 0;const t=await(0,r.Q)(e.groupId,e.url);t&&(l[e.url]=t,this.updateView++)}}}});const d=(0,a(4486).A)(c,s,[],!1,null,"cc55beca",null).exports},4242:(e,t,a)=>{a.d(t,{A:()=>l});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("img",{style:e.getGroupFavicon(e.group).style,attrs:{src:e.getGroupFavicon(e.group).src}})};s._withStripped=!0;var i=a(5471),r=a(1962),o=a(1589);const n=i.default.extend({props:{group:{type:Object,required:!0}},name:"group_favicon",methods:{getGroupFavicon(e){const t=e.styleIcon(void 0,e.color||(this.$vuetify.theme.dark?"#fff":"#000"),o.v.GROUP_TAG);return{style:t.style.cssText,src:t.src||r.RO}}}});const l=(0,a(4486).A)(n,s,[],!1,null,"800f50ee",null).exports},5431:(e,t,a)=>{a.d(t,{A:()=>p});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flex pro_label",attrs:{title:e.proTitle},on:{mousedown:e.redirectStore}},[t("div",{ref:"nested",class:e.className,style:e.disabledStyle},[e._t("default")],2),e._v(" "),e.isPro?e._e():t("img",{staticStyle:{height:"28px"},style:{marginLeft:e.offsetLeft,marginTop:e.offsetTop,zIndex:e.zIndex},attrs:{src:e.PRO_ICON,alt:""}})])};s._withStripped=!0;var i=a(4298),r=a(5471),o=a(2036),n=a(8408),l=a(4590),c=a(1181);const d=r.default.extend({name:"pro_label",props:{trTitle:String,title:String,allow:Boolean,offsetLeft:String,offsetTop:String,zIndex:String,className:String,autoWidth:Boolean},data:()=>({PRO_ICON:i.In}),async created(){await(0,o.FJ)()?this.PRO_ICON="":this.$refs.nested.querySelectorAll("input").forEach((e=>e.setAttribute("disabled","true")))},computed:{disabledStyle(){return this.isPro?{}:{opacity:"0.5","pointer-events":"none",...this.autoWidth?{width:"auto"}:{}}},proTitle(){const e=this.title||(this.trTitle?(0,l.tr)(this.trTitle):"");return this.isPro?e:`${(0,l.tr)("msg_pro_header")}\n${(0,l.tr)("msg_pro_support")}\n\n${e}`.trim()},isPro(){return this.allow||!this.PRO_ICON}},methods:{redirectStore(e){this.isPro||((0,c.jo)(e),(0,n.K)(i.Bq,{nextToCurrent:!0,active:!0,inNewTab:!0}))}}});const p=(0,a(4486).A)(d,s,[],!1,null,"ddf49c3c",null).exports},3120:(e,t,a)=>{a.d(t,{A:()=>n});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-spacer",{staticStyle:{height:"100%",cursor:"move"},attrs:{"data-draggable-top":""},on:{dblclick:function(t){return t.stopPropagation(),e.maximize.apply(null,arguments)}}})};s._withStripped=!0;var i=a(5471),r=a(6346);const o=i.default.extend({name:"draggable_top",methods:{maximize(){(0,r.Q)(this.$el,{type:"maximize"})}}});const n=(0,a(4486).A)(o,s,[],!1,null,null,null).exports}}]);
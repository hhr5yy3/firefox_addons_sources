{"version":3,"file":"bundle.min.js","mappings":"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","sources":["webpack://options-page-builder/./node_modules/csjs-inject/csjs.js","webpack://options-page-builder/./node_modules/csjs-inject/get-css.js","webpack://options-page-builder/./node_modules/csjs-inject/index.js","webpack://options-page-builder/./node_modules/csjs/csjs.js","webpack://options-page-builder/./node_modules/csjs/get-css.js","webpack://options-page-builder/./node_modules/csjs/index.js","webpack://options-page-builder/./node_modules/csjs/lib/base62-encode.js","webpack://options-page-builder/./node_modules/csjs/lib/build-exports.js","webpack://options-page-builder/./node_modules/csjs/lib/composition.js","webpack://options-page-builder/./node_modules/csjs/lib/csjs.js","webpack://options-page-builder/./node_modules/csjs/lib/css-extract-extends.js","webpack://options-page-builder/./node_modules/csjs/lib/css-key.js","webpack://options-page-builder/./node_modules/csjs/lib/extract-exports.js","webpack://options-page-builder/./node_modules/csjs/lib/get-css.js","webpack://options-page-builder/./node_modules/csjs/lib/hash-string.js","webpack://options-page-builder/./node_modules/csjs/lib/regex.js","webpack://options-page-builder/./node_modules/csjs/lib/replace-animations.js","webpack://options-page-builder/./node_modules/csjs/lib/scoped-name.js","webpack://options-page-builder/./node_modules/csjs/lib/scopeify.js","webpack://options-page-builder/./node_modules/inferno-component/dist/index.js","webpack://options-page-builder/./node_modules/inferno-component/index.js","webpack://options-page-builder/./node_modules/inferno-component/node_modules/inferno/dist/index.js","webpack://options-page-builder/./node_modules/inferno-component/node_modules/inferno/index.js","webpack://options-page-builder/./node_modules/inferno-create-element/dist/index.js","webpack://options-page-builder/./node_modules/inferno-create-element/index.js","webpack://options-page-builder/./node_modules/inferno-create-element/node_modules/inferno/dist/index.js","webpack://options-page-builder/./node_modules/inferno-create-element/node_modules/inferno/index.js","webpack://options-page-builder/./node_modules/inferno-shared/dist/index.js","webpack://options-page-builder/./node_modules/inferno-shared/index.js","webpack://options-page-builder/./node_modules/inferno/dist/DOM/constants.js","webpack://options-page-builder/./node_modules/inferno/dist/DOM/events/delegation.js","webpack://options-page-builder/./node_modules/inferno/dist/DOM/events/linkEvent.js","webpack://options-page-builder/./node_modules/inferno/dist/DOM/hydration.js","webpack://options-page-builder/./node_modules/inferno/dist/DOM/mounting.js","webpack://options-page-builder/./node_modules/inferno/dist/DOM/patching.js","webpack://options-page-builder/./node_modules/inferno/dist/DOM/recycling.js","webpack://options-page-builder/./node_modules/inferno/dist/DOM/rendering.js","webpack://options-page-builder/./node_modules/inferno/dist/DOM/unmounting.js","webpack://options-page-builder/./node_modules/inferno/dist/DOM/utils.js","webpack://options-page-builder/./node_modules/inferno/dist/DOM/wrappers/InputWrapper.js","webpack://options-page-builder/./node_modules/inferno/dist/DOM/wrappers/SelectWrapper.js","webpack://options-page-builder/./node_modules/inferno/dist/DOM/wrappers/TextareaWrapper.js","webpack://options-page-builder/./node_modules/inferno/dist/DOM/wrappers/processElement.js","webpack://options-page-builder/./node_modules/inferno/dist/core/VNodes.js","webpack://options-page-builder/./node_modules/inferno/dist/core/normalization.js","webpack://options-page-builder/./node_modules/inferno/dist/core/options.js","webpack://options-page-builder/./node_modules/inferno/dist/index.js","webpack://options-page-builder/./node_modules/inferno/index.js","webpack://options-page-builder/./node_modules/insert-css/index.js","webpack://options-page-builder/webpack/bootstrap","webpack://options-page-builder/webpack/runtime/compat get default export","webpack://options-page-builder/webpack/runtime/define property getters","webpack://options-page-builder/webpack/runtime/global","webpack://options-page-builder/webpack/runtime/hasOwnProperty shorthand","webpack://options-page-builder/./src/components/InfoLi.js","webpack://options-page-builder/./src/components/Main.js","webpack://options-page-builder/./src/components/TabPanel.js","webpack://options-page-builder/./src/components/PacChooser.js","webpack://options-page-builder/./src/components/LastUpdateDate.js","webpack://options-page-builder/./src/components/Exceptions.js","webpack://options-page-builder/./src/components/ExcEditor.js","webpack://options-page-builder/./src/components/ModList.js","webpack://options-page-builder/./src/components/ProxyEditor.js","webpack://options-page-builder/./src/components/ApplyMods.js","webpack://options-page-builder/./src/components/Notifications.js","webpack://options-page-builder/./src/index.js","webpack://options-page-builder/./src/globalCss.js","webpack://options-page-builder/./src/components/App.js","webpack://options-page-builder/./src/components/NotControlledWarning.js","webpack://options-page-builder/./src/components/Footer.js"],"sourcesContent":["'use strict';\n\nvar csjs = require('csjs');\nvar insertCss = require('insert-css');\n\nfunction csjsInserter() {\n  var args = Array.prototype.slice.call(arguments);\n  var result = csjs.apply(null, args);\n  if (global.document) {\n    insertCss(csjs.getCss(result));\n  }\n  return result;\n}\n\nmodule.exports = csjsInserter;\n","'use strict';\n\nmodule.exports = require('csjs/get-css');\n","'use strict';\n\nvar csjs = require('./csjs');\n\nmodule.exports = csjs;\nmodule.exports.csjs = csjs;\nmodule.exports.getCss = require('./get-css');\n","'use strict';\n\nmodule.exports = require('./lib/csjs');\n","'use strict';\n\nmodule.exports = require('./lib/get-css');\n","'use strict';\n\nvar csjs = require('./csjs');\n\nmodule.exports = csjs();\nmodule.exports.csjs = csjs;\nmodule.exports.noScope = csjs({ noscope: true });\nmodule.exports.getCss = require('./get-css');\n","'use strict';\n\n/**\n * base62 encode implementation based on base62 module:\n * https://github.com/andrew/base62.js\n */\n\nvar CHARS = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\nmodule.exports = function encode(integer) {\n  if (integer === 0) {\n    return '0';\n  }\n  var str = '';\n  while (integer > 0) {\n    str = CHARS[integer % 62] + str;\n    integer = Math.floor(integer / 62);\n  }\n  return str;\n};\n","'use strict';\n\nvar makeComposition = require('./composition').makeComposition;\n\nmodule.exports = function createExports(classes, keyframes, compositions) {\n  var keyframesObj = Object.keys(keyframes).reduce(function(acc, key) {\n    var val = keyframes[key];\n    acc[val] = makeComposition([key], [val], true);\n    return acc;\n  }, {});\n\n  var exports = Object.keys(classes).reduce(function(acc, key) {\n    var val = classes[key];\n    var composition = compositions[key];\n    var extended = composition ? getClassChain(composition) : [];\n    var allClasses = [key].concat(extended);\n    var unscoped = allClasses.map(function(name) {\n      return classes[name] ? classes[name] : name;\n    });\n    acc[val] = makeComposition(allClasses, unscoped);\n    return acc;\n  }, keyframesObj);\n\n  return exports;\n}\n\nfunction getClassChain(obj) {\n  var visited = {}, acc = [];\n\n  function traverse(obj) {\n    return Object.keys(obj).forEach(function(key) {\n      if (!visited[key]) {\n        visited[key] = true;\n        acc.push(key);\n        traverse(obj[key]);\n      }\n    });\n  }\n\n  traverse(obj);\n  return acc;\n}\n","'use strict';\n\nmodule.exports = {\n  makeComposition: makeComposition,\n  isComposition: isComposition,\n  ignoreComposition: ignoreComposition\n};\n\n/**\n * Returns an immutable composition object containing the given class names\n * @param  {array} classNames - The input array of class names\n * @return {Composition}      - An immutable object that holds multiple\n *                              representations of the class composition\n */\nfunction makeComposition(classNames, unscoped, isAnimation) {\n  var classString = classNames.join(' ');\n  return Object.create(Composition.prototype, {\n    classNames: { // the original array of class names\n      value: Object.freeze(classNames),\n      configurable: false,\n      writable: false,\n      enumerable: true\n    },\n    unscoped: { // the original array of class names\n      value: Object.freeze(unscoped),\n      configurable: false,\n      writable: false,\n      enumerable: true\n    },\n    className: { // space-separated class string for use in HTML\n      value: classString,\n      configurable: false,\n      writable: false,\n      enumerable: true\n    },\n    selector: { // comma-separated, period-prefixed string for use in CSS\n      value: classNames.map(function(name) {\n        return isAnimation ? name : '.' + name;\n      }).join(', '),\n      configurable: false,\n      writable: false,\n      enumerable: true\n    },\n    toString: { // toString() method, returns class string for use in HTML\n      value: function() {\n        return classString;\n      },\n      configurable: false,\n      writeable: false,\n      enumerable: false\n    }\n  });\n}\n\n/**\n * Returns whether the input value is a Composition\n * @param value      - value to check\n * @return {boolean} - whether value is a Composition or not\n */\nfunction isComposition(value) {\n  return value instanceof Composition;\n}\n\nfunction ignoreComposition(values) {\n  return values.reduce(function(acc, val) {\n    if (isComposition(val)) {\n      val.classNames.forEach(function(name, i) {\n        acc[name] = val.unscoped[i];\n      });\n    }\n    return acc;\n  }, {});\n}\n\n/**\n * Private constructor for use in `instanceof` checks\n */\nfunction Composition() {}\n","'use strict';\n\nvar extractExtends = require('./css-extract-extends');\nvar composition = require('./composition');\nvar isComposition = composition.isComposition;\nvar ignoreComposition = composition.ignoreComposition;\nvar buildExports = require('./build-exports');\nvar scopify = require('./scopeify');\nvar cssKey = require('./css-key');\nvar extractExports = require('./extract-exports');\n\nmodule.exports = function csjsTemplate(opts) {\n  opts = (typeof opts === 'undefined') ? {} : opts;\n  var noscope = (typeof opts.noscope === 'undefined') ? false : opts.noscope;\n\n  return function csjsHandler(strings, values) {\n    // Fast path to prevent arguments deopt\n    var values = Array(arguments.length - 1);\n    for (var i = 1; i < arguments.length; i++) {\n      values[i - 1] = arguments[i];\n    }\n    var css = joiner(strings, values.map(selectorize));\n    var ignores = ignoreComposition(values);\n\n    var scope = noscope ? extractExports(css) : scopify(css, ignores);\n    var extracted = extractExtends(scope.css);\n    var localClasses = without(scope.classes, ignores);\n    var localKeyframes = without(scope.keyframes, ignores);\n    var compositions = extracted.compositions;\n\n    var exports = buildExports(localClasses, localKeyframes, compositions);\n\n    return Object.defineProperty(exports, cssKey, {\n      enumerable: false,\n      configurable: false,\n      writeable: false,\n      value: extracted.css\n    });\n  }\n}\n\n/**\n * Replaces class compositions with comma seperated class selectors\n * @param  value - the potential class composition\n * @return       - the original value or the selectorized class composition\n */\nfunction selectorize(value) {\n  return isComposition(value) ? value.selector : value;\n}\n\n/**\n * Joins template string literals and values\n * @param  {array} strings - array of strings\n * @param  {array} values  - array of values\n * @return {string}        - strings and values joined\n */\nfunction joiner(strings, values) {\n  return strings.map(function(str, i) {\n    return (i !== values.length) ? str + values[i] : str;\n  }).join('');\n}\n\n/**\n * Returns first object without keys of second\n * @param  {object} obj      - source object\n * @param  {object} unwanted - object with unwanted keys\n * @return {object}          - first object without unwanted keys\n */\nfunction without(obj, unwanted) {\n  return Object.keys(obj).reduce(function(acc, key) {\n    if (!unwanted[key]) {\n      acc[key] = obj[key];\n    }\n    return acc;\n  }, {});\n}\n","'use strict';\n\nvar makeComposition = require('./composition').makeComposition;\n\nvar regex = /\\.([^\\s]+)(\\s+)(extends\\s+)(\\.[^{]+)/g;\n\nmodule.exports = function extractExtends(css) {\n  var found, matches = [];\n  while (found = regex.exec(css)) {\n    matches.unshift(found);\n  }\n\n  function extractCompositions(acc, match) {\n    var extendee = getClassName(match[1]);\n    var keyword = match[3];\n    var extended = match[4];\n\n    // remove from output css\n    var index = match.index + match[1].length + match[2].length;\n    var len = keyword.length + extended.length;\n    acc.css = acc.css.slice(0, index) + \" \" + acc.css.slice(index + len + 1);\n\n    var extendedClasses = splitter(extended);\n\n    extendedClasses.forEach(function(className) {\n      if (!acc.compositions[extendee]) {\n        acc.compositions[extendee] = {};\n      }\n      if (!acc.compositions[className]) {\n        acc.compositions[className] = {};\n      }\n      acc.compositions[extendee][className] = acc.compositions[className];\n    });\n    return acc;\n  }\n\n  return matches.reduce(extractCompositions, {\n    css: css,\n    compositions: {}\n  });\n\n};\n\nfunction splitter(match) {\n  return match.split(',').map(getClassName);\n}\n\nfunction getClassName(str) {\n  var trimmed = str.trim();\n  return trimmed[0] === '.' ? trimmed.substr(1) : trimmed;\n}\n","'use strict';\n\n/**\n * CSS identifiers with whitespace are invalid\n * Hence this key will not cause a collision\n */\n\nmodule.exports = ' css ';\n","'use strict';\n\nvar regex = require('./regex');\nvar classRegex = regex.classRegex;\nvar keyframesRegex = regex.keyframesRegex;\n\nmodule.exports = extractExports;\n\nfunction extractExports(css) {\n  return {\n    css: css,\n    keyframes: getExport(css, keyframesRegex),\n    classes: getExport(css, classRegex)\n  };\n}\n\nfunction getExport(css, regex) {\n  var prop = {};\n  var match;\n  while((match = regex.exec(css)) !== null) {\n    var name = match[2];\n    prop[name] = name;\n  }\n  return prop;\n}\n","'use strict';\n\nvar cssKey = require('./css-key');\n\nmodule.exports = function getCss(csjs) {\n  return csjs[cssKey];\n};\n","'use strict';\n\n/**\n * djb2 string hash implementation based on string-hash module:\n * https://github.com/darkskyapp/string-hash\n */\n\nmodule.exports = function hashStr(str) {\n  var hash = 5381;\n  var i = str.length;\n\n  while (i) {\n    hash = (hash * 33) ^ str.charCodeAt(--i)\n  }\n  return hash >>> 0;\n};\n","'use strict';\n\nvar findClasses = /(\\.)(?!\\d)([^\\s\\.,{\\[>+~#:)]*)(?![^{]*})/.source;\nvar findKeyframes = /(@\\S*keyframes\\s*)([^{\\s]*)/.source;\nvar ignoreComments = /(?!(?:[^*/]|\\*[^/]|\\/[^*])*\\*+\\/)/.source;\n\nvar classRegex = new RegExp(findClasses + ignoreComments, 'g');\nvar keyframesRegex = new RegExp(findKeyframes + ignoreComments, 'g');\n\nmodule.exports = {\n  classRegex: classRegex,\n  keyframesRegex: keyframesRegex,\n  ignoreComments: ignoreComments,\n};\n","var ignoreComments = require('./regex').ignoreComments;\n\nmodule.exports = replaceAnimations;\n\nfunction replaceAnimations(result) {\n  var animations = Object.keys(result.keyframes).reduce(function(acc, key) {\n    acc[result.keyframes[key]] = key;\n    return acc;\n  }, {});\n  var unscoped = Object.keys(animations);\n\n  if (unscoped.length) {\n    var regexStr = '((?:animation|animation-name)\\\\s*:[^};]*)('\n      + unscoped.join('|') + ')([;\\\\s])' + ignoreComments;\n    var regex = new RegExp(regexStr, 'g');\n\n    var replaced = result.css.replace(regex, function(match, preamble, name, ending) {\n      return preamble + animations[name] + ending;\n    });\n\n    return {\n      css: replaced,\n      keyframes: result.keyframes,\n      classes: result.classes\n    }\n  }\n\n  return result;\n}\n","'use strict';\n\nvar encode = require('./base62-encode');\nvar hash = require('./hash-string');\n\nmodule.exports = function fileScoper(fileSrc) {\n  var suffix = encode(hash(fileSrc));\n\n  return function scopedName(name) {\n    return name + '_' + suffix;\n  }\n};\n","'use strict';\n\nvar fileScoper = require('./scoped-name');\nvar replaceAnimations = require('./replace-animations');\nvar regex = require('./regex');\nvar classRegex = regex.classRegex;\nvar keyframesRegex = regex.keyframesRegex;\n\nmodule.exports = scopify;\n\nfunction scopify(css, ignores) {\n  var makeScopedName = fileScoper(css);\n  var replacers = {\n    classes: classRegex,\n    keyframes: keyframesRegex\n  };\n\n  function scopeCss(result, key) {\n    var replacer = replacers[key];\n    function replaceFn(fullMatch, prefix, name) {\n      var scopedName = ignores[name] ? name : makeScopedName(name);\n      result[key][scopedName] = name;\n      return prefix + scopedName;\n    }\n    return {\n      css: result.css.replace(replacer, replaceFn),\n      keyframes: result.keyframes,\n      classes: result.classes\n    };\n  }\n\n  var result = Object.keys(replacers).reduce(scopeCss, {\n    css: css,\n    keyframes: {},\n    classes: {}\n  });\n\n  return replaceAnimations(result);\n}\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar inferno = require('inferno');\n\n/**\r\n * @module Inferno-Shared\r\n */ /** TypeDoc Comment */\r\nvar NO_OP = \"$NO_OP\";\r\nvar ERROR_MSG = \"a runtime error occured! Use Inferno in development environment to find the error.\";\r\n// this is MUCH faster than .constructor === Array and instanceof Array\r\n// in Node 7 and the later versions of V8, slower in older versions though\r\nvar isArray = Array.isArray;\r\nfunction isStringOrNumber(o) {\r\n    var type = typeof o;\r\n    return type === \"string\" || type === \"number\";\r\n}\r\nfunction isNullOrUndef(o) {\r\n    return isUndefined(o) || isNull(o);\r\n}\r\nfunction isInvalid(o) {\r\n    return isNull(o) || o === false || isTrue(o) || isUndefined(o);\r\n}\r\nfunction isFunction(o) {\r\n    return typeof o === \"function\";\r\n}\r\nfunction isNull(o) {\r\n    return o === null;\r\n}\r\nfunction isTrue(o) {\r\n    return o === true;\r\n}\r\nfunction isUndefined(o) {\r\n    return o === void 0;\r\n}\r\nfunction throwError(message) {\r\n    if (!message) {\r\n        message = ERROR_MSG;\r\n    }\r\n    throw new Error((\"Inferno Error: \" + message));\r\n}\r\nfunction combineFrom(first, second) {\r\n    var out = {};\r\n    if (first) {\r\n        for (var key in first) {\r\n            out[key] = first[key];\r\n        }\r\n    }\r\n    if (second) {\r\n        for (var key$1 in second) {\r\n            out[key$1] = second[key$1];\r\n        }\r\n    }\r\n    return out;\r\n}\r\nfunction Lifecycle() {\r\n    this.listeners = [];\r\n}\r\nLifecycle.prototype.addListener = function addListener(callback) {\r\n    this.listeners.push(callback);\r\n};\r\nLifecycle.prototype.trigger = function trigger() {\r\n    var listeners = this.listeners;\r\n    var listener;\r\n    // We need to remove current listener from array when calling it, because more listeners might be added\r\n    while ((listener = listeners.shift())) {\r\n        listener();\r\n    }\r\n};\n\n/**\r\n * @module Inferno-Component\r\n */ /** TypeDoc Comment */\r\n// Make sure u use EMPTY_OBJ from 'inferno', otherwise it'll be a different reference\r\nvar noOp = ERROR_MSG;\r\nif (process.env.NODE_ENV !== \"production\") {\r\n    noOp =\r\n        \"Inferno Error: Can only update a mounted or mounting component. This usually means you called setState() or forceUpdate() on an unmounted component. This is a no-op.\";\r\n}\r\nvar componentCallbackQueue = new Map();\r\nvar resolvedPromise = Promise.resolve();\r\nfunction addToQueue(component, force, callback) {\r\n    var queue = componentCallbackQueue.get(component);\r\n    if (queue === void 0) {\r\n        queue = [];\r\n        componentCallbackQueue.set(component, queue);\r\n        resolvedPromise.then((function () {\r\n            componentCallbackQueue.delete(component);\r\n            component._updating = true;\r\n            applyState(component, force, (function () {\r\n                for (var i = 0, len = queue.length; i < len; i++) {\r\n                    queue[i].call(component);\r\n                }\r\n            }));\r\n            component._updating = false;\r\n        }));\r\n    }\r\n    if (!isNullOrUndef(callback)) {\r\n        queue.push(callback);\r\n    }\r\n}\r\nfunction queueStateChanges(component, newState, callback) {\r\n    if (isFunction(newState)) {\r\n        newState = newState(component.state, component.props, component.context);\r\n    }\r\n    var pending = component._pendingState;\r\n    if (isNullOrUndef(pending)) {\r\n        component._pendingState = newState;\r\n    }\r\n    else {\r\n        for (var stateKey in newState) {\r\n            pending[stateKey] = newState[stateKey];\r\n        }\r\n    }\r\n    if (!component._pendingSetState && !component._blockRender) {\r\n        if (!component._updating) {\r\n            component._pendingSetState = true;\r\n            component._updating = true;\r\n            applyState(component, false, callback);\r\n            component._updating = false;\r\n        }\r\n        else {\r\n            addToQueue(component, false, callback);\r\n        }\r\n    }\r\n    else {\r\n        component._pendingSetState = true;\r\n        if (isFunction(callback) && component._blockRender) {\r\n            component._lifecycle.addListener(callback.bind(component));\r\n        }\r\n    }\r\n}\r\nfunction applyState(component, force, callback) {\r\n    if (component._unmounted) {\r\n        return;\r\n    }\r\n    if (force || !component._blockRender) {\r\n        component._pendingSetState = false;\r\n        var pendingState = component._pendingState;\r\n        var prevState = component.state;\r\n        var nextState = combineFrom(prevState, pendingState);\r\n        var props = component.props;\r\n        var context = component.context;\r\n        component._pendingState = null;\r\n        var nextInput;\r\n        var renderOutput = component._updateComponent(prevState, nextState, props, props, context, force, true);\r\n        var didUpdate = true;\r\n        if (isInvalid(renderOutput)) {\r\n            nextInput = inferno.createVNode(4096 /* Void */, null);\r\n        }\r\n        else if (renderOutput === NO_OP) {\r\n            nextInput = component._lastInput;\r\n            didUpdate = false;\r\n        }\r\n        else if (isStringOrNumber(renderOutput)) {\r\n            nextInput = inferno.createVNode(1 /* Text */, null, null, renderOutput);\r\n        }\r\n        else if (isArray(renderOutput)) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                throwError(\"a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.\");\r\n            }\r\n            return throwError();\r\n        }\r\n        else {\r\n            nextInput = renderOutput;\r\n        }\r\n        var lastInput = component._lastInput;\r\n        var vNode = component._vNode;\r\n        var parentDom = (lastInput.dom && lastInput.dom.parentNode) ||\r\n            (lastInput.dom = vNode.dom);\r\n        if (nextInput.flags & 28 /* Component */) {\r\n            nextInput.parentVNode = vNode;\r\n        }\r\n        component._lastInput = nextInput;\r\n        if (didUpdate) {\r\n            var childContext;\r\n            if (!isNullOrUndef(component.getChildContext)) {\r\n                childContext = component.getChildContext();\r\n            }\r\n            if (isNullOrUndef(childContext)) {\r\n                childContext = component._childContext;\r\n            }\r\n            else {\r\n                childContext = combineFrom(context, childContext);\r\n            }\r\n            var lifeCycle = component._lifecycle;\r\n            inferno.internal_patch(lastInput, nextInput, parentDom, lifeCycle, childContext, component._isSVG, false);\r\n            // If this component was unmounted by its parent, do nothing. This is no-op\r\n            if (component._unmounted) {\r\n                return;\r\n            }\r\n            lifeCycle.trigger();\r\n            if (!isNullOrUndef(component.componentDidUpdate)) {\r\n                component.componentDidUpdate(props, prevState, context);\r\n            }\r\n            if (!isNull(inferno.options.afterUpdate)) {\r\n                inferno.options.afterUpdate(vNode);\r\n            }\r\n        }\r\n        var dom = (vNode.dom = nextInput.dom);\r\n        if (inferno.options.findDOMNodeEnabled) {\r\n            inferno.internal_DOMNodeMap.set(component, nextInput.dom);\r\n        }\r\n        while (!isNullOrUndef((vNode = vNode.parentVNode))) {\r\n            if ((vNode.flags & 28 /* Component */) > 0) {\r\n                vNode.dom = dom;\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        component.state = component._pendingState;\r\n        component._pendingState = null;\r\n    }\r\n    if (isFunction(callback)) {\r\n        callback.call(component);\r\n    }\r\n}\r\nvar Component = function Component(props, context) {\r\n    this.state = null;\r\n    this._blockRender = false;\r\n    this._blockSetState = true;\r\n    this._pendingSetState = false;\r\n    this._pendingState = null;\r\n    this._lastInput = null;\r\n    this._vNode = null;\r\n    this._unmounted = false;\r\n    this._lifecycle = null;\r\n    this._childContext = null;\r\n    this._isSVG = false;\r\n    this._updating = true;\r\n    /** @type {object} */\r\n    this.props = props || inferno.EMPTY_OBJ;\r\n    /** @type {object} */\r\n    this.context = context || inferno.EMPTY_OBJ; // context should not be mutable\r\n};\r\nComponent.prototype.forceUpdate = function forceUpdate (callback) {\r\n    if (this._unmounted) {\r\n        return;\r\n    }\r\n    applyState(this, true, callback);\r\n};\r\nComponent.prototype.setState = function setState (newState, callback) {\r\n    if (this._unmounted) {\r\n        return;\r\n    }\r\n    if (!this._blockSetState) {\r\n        queueStateChanges(this, newState, callback);\r\n    }\r\n    else {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError(\"cannot update state via setState() in componentWillUpdate() or constructor.\");\r\n        }\r\n        throwError();\r\n    }\r\n};\r\nComponent.prototype._updateComponent = function _updateComponent (prevState, nextState, prevProps, nextProps, context, force, fromSetState) {\r\n    if (this._unmounted === true) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError(noOp);\r\n        }\r\n        throwError();\r\n    }\r\n    if (prevProps !== nextProps ||\r\n        nextProps === inferno.EMPTY_OBJ ||\r\n        prevState !== nextState ||\r\n        force) {\r\n        if (prevProps !== nextProps || nextProps === inferno.EMPTY_OBJ) {\r\n            if (!isNullOrUndef(this.componentWillReceiveProps) && !fromSetState) {\r\n                this._blockRender = true;\r\n                this.componentWillReceiveProps(nextProps, context);\r\n                // If this component was removed during its own update do nothing...\r\n                if (this._unmounted) {\r\n                    return NO_OP;\r\n                }\r\n                this._blockRender = false;\r\n            }\r\n            if (this._pendingSetState) {\r\n                nextState = combineFrom(nextState, this._pendingState);\r\n                this._pendingSetState = false;\r\n                this._pendingState = null;\r\n            }\r\n        }\r\n        /* Update if scu is not defined, or it returns truthy value or force */\r\n        if (force ||\r\n            isNullOrUndef(this.shouldComponentUpdate) ||\r\n            (this.shouldComponentUpdate &&\r\n                this.shouldComponentUpdate(nextProps, nextState, context))) {\r\n            if (!isNullOrUndef(this.componentWillUpdate)) {\r\n                this._blockSetState = true;\r\n                this.componentWillUpdate(nextProps, nextState, context);\r\n                this._blockSetState = false;\r\n            }\r\n            this.props = nextProps;\r\n            this.state = nextState;\r\n            this.context = context;\r\n            if (inferno.options.beforeRender) {\r\n                inferno.options.beforeRender(this);\r\n            }\r\n            var render = this.render(nextProps, nextState, context);\r\n            if (inferno.options.afterRender) {\r\n                inferno.options.afterRender(this);\r\n            }\r\n            return render;\r\n        }\r\n        else {\r\n            this.props = nextProps;\r\n            this.state = nextState;\r\n            this.context = context;\r\n        }\r\n    }\r\n    return NO_OP;\r\n};\r\n// tslint:disable-next-line:no-empty\r\nComponent.prototype.render = function render (nextProps, nextState, nextContext) { };\n\nexports['default'] = Component;\n","module.exports = require('./dist').default;\nmodule.exports.default = module.exports;\n\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\r\n * @module Inferno-Shared\r\n */ /** TypeDoc Comment */\r\nvar NO_OP = \"$NO_OP\";\r\nvar ERROR_MSG = \"a runtime error occured! Use Inferno in development environment to find the error.\";\r\n// This should be boolean and not reference to window.document\r\nvar isBrowser = !!(typeof window !== \"undefined\" && window.document);\r\n// this is MUCH faster than .constructor === Array and instanceof Array\r\n// in Node 7 and the later versions of V8, slower in older versions though\r\nvar isArray = Array.isArray;\r\nfunction isStatefulComponent(o) {\r\n    return !isUndefined(o.prototype) && !isUndefined(o.prototype.render);\r\n}\r\nfunction isStringOrNumber(o) {\r\n    var type = typeof o;\r\n    return type === \"string\" || type === \"number\";\r\n}\r\nfunction isNullOrUndef(o) {\r\n    return isUndefined(o) || isNull(o);\r\n}\r\nfunction isInvalid(o) {\r\n    return isNull(o) || o === false || isTrue(o) || isUndefined(o);\r\n}\r\nfunction isFunction(o) {\r\n    return typeof o === \"function\";\r\n}\r\nfunction isString(o) {\r\n    return typeof o === \"string\";\r\n}\r\nfunction isNumber(o) {\r\n    return typeof o === \"number\";\r\n}\r\nfunction isNull(o) {\r\n    return o === null;\r\n}\r\nfunction isTrue(o) {\r\n    return o === true;\r\n}\r\nfunction isUndefined(o) {\r\n    return o === void 0;\r\n}\r\nfunction isObject(o) {\r\n    return typeof o === \"object\";\r\n}\r\nfunction throwError(message) {\r\n    if (!message) {\r\n        message = ERROR_MSG;\r\n    }\r\n    throw new Error((\"Inferno Error: \" + message));\r\n}\r\nfunction warning(message) {\r\n    // tslint:disable-next-line:no-console\r\n    console.warn(message);\r\n}\r\nfunction combineFrom(first, second) {\r\n    var out = {};\r\n    if (first) {\r\n        for (var key in first) {\r\n            out[key] = first[key];\r\n        }\r\n    }\r\n    if (second) {\r\n        for (var key$1 in second) {\r\n            out[key$1] = second[key$1];\r\n        }\r\n    }\r\n    return out;\r\n}\r\nfunction Lifecycle() {\r\n    this.listeners = [];\r\n}\r\nLifecycle.prototype.addListener = function addListener(callback) {\r\n    this.listeners.push(callback);\r\n};\r\nLifecycle.prototype.trigger = function trigger() {\r\n    var listeners = this.listeners;\r\n    var listener;\r\n    // We need to remove current listener from array when calling it, because more listeners might be added\r\n    while ((listener = listeners.shift())) {\r\n        listener();\r\n    }\r\n};\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nvar options = {\r\n    afterMount: null,\r\n    afterRender: null,\r\n    afterUpdate: null,\r\n    beforeRender: null,\r\n    beforeUnmount: null,\r\n    createVNode: null,\r\n    findDOMNodeEnabled: false,\r\n    recyclingEnabled: false,\r\n    roots: []\r\n};\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nvar xlinkNS = \"http://www.w3.org/1999/xlink\";\r\nvar xmlNS = \"http://www.w3.org/XML/1998/namespace\";\r\nvar svgNS = \"http://www.w3.org/2000/svg\";\r\nvar strictProps = new Set();\r\nstrictProps.add(\"volume\");\r\nstrictProps.add(\"defaultChecked\");\r\nvar booleanProps = new Set();\r\nbooleanProps.add(\"muted\");\r\nbooleanProps.add(\"scoped\");\r\nbooleanProps.add(\"loop\");\r\nbooleanProps.add(\"open\");\r\nbooleanProps.add(\"checked\");\r\nbooleanProps.add(\"default\");\r\nbooleanProps.add(\"capture\");\r\nbooleanProps.add(\"disabled\");\r\nbooleanProps.add(\"readOnly\");\r\nbooleanProps.add(\"required\");\r\nbooleanProps.add(\"autoplay\");\r\nbooleanProps.add(\"controls\");\r\nbooleanProps.add(\"seamless\");\r\nbooleanProps.add(\"reversed\");\r\nbooleanProps.add(\"allowfullscreen\");\r\nbooleanProps.add(\"novalidate\");\r\nbooleanProps.add(\"hidden\");\r\nbooleanProps.add(\"autoFocus\");\r\nbooleanProps.add(\"selected\");\r\nbooleanProps.add(\"indeterminate\");\r\nvar namespaces = new Map();\r\nnamespaces.set(\"xlink:href\", xlinkNS);\r\nnamespaces.set(\"xlink:arcrole\", xlinkNS);\r\nnamespaces.set(\"xlink:actuate\", xlinkNS);\r\nnamespaces.set(\"xlink:show\", xlinkNS);\r\nnamespaces.set(\"xlink:role\", xlinkNS);\r\nnamespaces.set(\"xlink:title\", xlinkNS);\r\nnamespaces.set(\"xlink:type\", xlinkNS);\r\nnamespaces.set(\"xml:base\", xmlNS);\r\nnamespaces.set(\"xml:lang\", xmlNS);\r\nnamespaces.set(\"xml:space\", xmlNS);\r\nvar isUnitlessNumber = new Set();\r\nisUnitlessNumber.add(\"animationIterationCount\");\r\nisUnitlessNumber.add(\"borderImageOutset\");\r\nisUnitlessNumber.add(\"borderImageSlice\");\r\nisUnitlessNumber.add(\"borderImageWidth\");\r\nisUnitlessNumber.add(\"boxFlex\");\r\nisUnitlessNumber.add(\"boxFlexGroup\");\r\nisUnitlessNumber.add(\"boxOrdinalGroup\");\r\nisUnitlessNumber.add(\"columnCount\");\r\nisUnitlessNumber.add(\"flex\");\r\nisUnitlessNumber.add(\"flexGrow\");\r\nisUnitlessNumber.add(\"flexPositive\");\r\nisUnitlessNumber.add(\"flexShrink\");\r\nisUnitlessNumber.add(\"flexNegative\");\r\nisUnitlessNumber.add(\"flexOrder\");\r\nisUnitlessNumber.add(\"gridRow\");\r\nisUnitlessNumber.add(\"gridColumn\");\r\nisUnitlessNumber.add(\"fontWeight\");\r\nisUnitlessNumber.add(\"lineClamp\");\r\nisUnitlessNumber.add(\"lineHeight\");\r\nisUnitlessNumber.add(\"opacity\");\r\nisUnitlessNumber.add(\"order\");\r\nisUnitlessNumber.add(\"orphans\");\r\nisUnitlessNumber.add(\"tabSize\");\r\nisUnitlessNumber.add(\"widows\");\r\nisUnitlessNumber.add(\"zIndex\");\r\nisUnitlessNumber.add(\"zoom\");\r\nisUnitlessNumber.add(\"fillOpacity\");\r\nisUnitlessNumber.add(\"floodOpacity\");\r\nisUnitlessNumber.add(\"stopOpacity\");\r\nisUnitlessNumber.add(\"strokeDasharray\");\r\nisUnitlessNumber.add(\"strokeDashoffset\");\r\nisUnitlessNumber.add(\"strokeMiterlimit\");\r\nisUnitlessNumber.add(\"strokeOpacity\");\r\nisUnitlessNumber.add(\"strokeWidth\");\r\nvar skipProps = new Set();\r\nskipProps.add(\"children\");\r\nskipProps.add(\"childrenType\");\r\nskipProps.add(\"defaultValue\");\r\nskipProps.add(\"ref\");\r\nskipProps.add(\"key\");\r\nskipProps.add(\"checked\");\r\nskipProps.add(\"multiple\");\r\nvar delegatedEvents = new Set();\r\ndelegatedEvents.add(\"onClick\");\r\ndelegatedEvents.add(\"onMouseDown\");\r\ndelegatedEvents.add(\"onMouseUp\");\r\ndelegatedEvents.add(\"onMouseMove\");\r\ndelegatedEvents.add(\"onSubmit\");\r\ndelegatedEvents.add(\"onDblClick\");\r\ndelegatedEvents.add(\"onKeyDown\");\r\ndelegatedEvents.add(\"onKeyUp\");\r\ndelegatedEvents.add(\"onKeyPress\");\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nvar isiOS = isBrowser &&\r\n    !!navigator.platform &&\r\n    /iPad|iPhone|iPod/.test(navigator.platform);\r\nvar delegatedEvents$1 = new Map();\r\nfunction handleEvent(name, lastEvent, nextEvent, dom) {\r\n    var delegatedRoots = delegatedEvents$1.get(name);\r\n    if (nextEvent) {\r\n        if (!delegatedRoots) {\r\n            delegatedRoots = { items: new Map(), docEvent: null };\r\n            delegatedRoots.docEvent = attachEventToDocument(name, delegatedRoots);\r\n            delegatedEvents$1.set(name, delegatedRoots);\r\n        }\r\n        if (!lastEvent) {\r\n            if (isiOS && name === \"onClick\") {\r\n                trapClickOnNonInteractiveElement(dom);\r\n            }\r\n        }\r\n        delegatedRoots.items.set(dom, nextEvent);\r\n    }\r\n    else if (delegatedRoots) {\r\n        var items = delegatedRoots.items;\r\n        if (items.delete(dom)) {\r\n            // If any items were deleted, check if listener need to be removed\r\n            if (items.size === 0) {\r\n                document.removeEventListener(normalizeEventName(name), delegatedRoots.docEvent);\r\n                delegatedEvents$1.delete(name);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction dispatchEvents(event, target, items, count, isClick, eventData) {\r\n    var dom = target;\r\n    while (count > 0) {\r\n        if (isClick && dom.disabled) {\r\n            return;\r\n        }\r\n        var eventsToTrigger = items.get(dom);\r\n        if (eventsToTrigger) {\r\n            count--;\r\n            // linkEvent object\r\n            eventData.dom = dom;\r\n            if (eventsToTrigger.event) {\r\n                eventsToTrigger.event(eventsToTrigger.data, event);\r\n            }\r\n            else {\r\n                eventsToTrigger(event);\r\n            }\r\n            if (event.cancelBubble) {\r\n                return;\r\n            }\r\n        }\r\n        dom = dom.parentNode;\r\n        // Html Nodes can be nested fe: span inside button in that scenario browser does not handle disabled attribute on parent,\r\n        // because the event listener is on document.body\r\n        // Don't process clicks on disabled elements\r\n        if (dom === null) {\r\n            return;\r\n        }\r\n    }\r\n}\r\nfunction normalizeEventName(name) {\r\n    return name.substr(2).toLowerCase();\r\n}\r\nfunction stopPropagation() {\r\n    this.cancelBubble = true;\r\n    this.stopImmediatePropagation();\r\n}\r\nfunction attachEventToDocument(name, delegatedRoots) {\r\n    var docEvent = function (event) {\r\n        var count = delegatedRoots.items.size;\r\n        if (count > 0) {\r\n            event.stopPropagation = stopPropagation;\r\n            // Event data needs to be object to save reference to currentTarget getter\r\n            var eventData = {\r\n                dom: document\r\n            };\r\n            try {\r\n                Object.defineProperty(event, \"currentTarget\", {\r\n                    configurable: true,\r\n                    get: function get() {\r\n                        return eventData.dom;\r\n                    }\r\n                });\r\n            }\r\n            catch (e) {\r\n                /* safari7 and phantomJS will crash */\r\n            }\r\n            dispatchEvents(event, event.target, delegatedRoots.items, count, event.type === \"click\", eventData);\r\n        }\r\n    };\r\n    document.addEventListener(normalizeEventName(name), docEvent);\r\n    return docEvent;\r\n}\r\n// tslint:disable-next-line:no-empty\r\nfunction emptyFn() { }\r\nfunction trapClickOnNonInteractiveElement(dom) {\r\n    // Mobile Safari does not fire properly bubble click events on\r\n    // non-interactive elements, which means delegated click listeners do not\r\n    // fire. The workaround for this bug involves attaching an empty click\r\n    // listener on the target node.\r\n    // http://www.quirksmode.org/blog/archives/2010/09/click_event_del.html\r\n    // Just set it using the onclick property so that we don't have to manage any\r\n    // bookkeeping for it. Not sure if we need to clear it when the listener is\r\n    // removed.\r\n    // TODO: Only do this for the relevant Safaris maybe?\r\n    dom.onclick = emptyFn;\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction isCheckedType(type) {\r\n    return type === \"checkbox\" || type === \"radio\";\r\n}\r\nfunction onTextInputChange(e) {\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    var previousValue = props.value;\r\n    if (props.onInput) {\r\n        var event = props.onInput;\r\n        if (event.event) {\r\n            event.event(event.data, e);\r\n        }\r\n        else {\r\n            event(e);\r\n        }\r\n    }\r\n    else if (props.oninput) {\r\n        props.oninput(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    if (previousValue !== newProps.value) {\r\n        // When this happens we need to store current cursor position and restore it, to avoid jumping\r\n        applyValue(newProps, dom);\r\n    }\r\n}\r\nfunction wrappedOnChange(e) {\r\n    var props = this.vNode.props || EMPTY_OBJ;\r\n    var event = props.onChange;\r\n    if (event.event) {\r\n        event.event(event.data, e);\r\n    }\r\n    else {\r\n        event(e);\r\n    }\r\n}\r\nfunction onCheckboxChange(e) {\r\n    e.stopPropagation(); // This click should not propagate its for internal use\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    if (props.onClick) {\r\n        var event = props.onClick;\r\n        if (event.event) {\r\n            event.event(event.data, e);\r\n        }\r\n        else {\r\n            event(e);\r\n        }\r\n    }\r\n    else if (props.onclick) {\r\n        props.onclick(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    applyValue(newProps, dom);\r\n}\r\nfunction processInput(vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    applyValue(nextPropsOrEmpty, dom);\r\n    if (isControlled) {\r\n        dom.vNode = vNode; // TODO: Remove this when implementing Fiber's\r\n        if (mounting) {\r\n            if (isCheckedType(nextPropsOrEmpty.type)) {\r\n                dom.onclick = onCheckboxChange;\r\n                dom.onclick.wrapped = true;\r\n            }\r\n            else {\r\n                dom.oninput = onTextInputChange;\r\n                dom.oninput.wrapped = true;\r\n            }\r\n            if (nextPropsOrEmpty.onChange) {\r\n                dom.onchange = wrappedOnChange;\r\n                dom.onchange.wrapped = true;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction applyValue(nextPropsOrEmpty, dom) {\r\n    var type = nextPropsOrEmpty.type;\r\n    var value = nextPropsOrEmpty.value;\r\n    var checked = nextPropsOrEmpty.checked;\r\n    var multiple = nextPropsOrEmpty.multiple;\r\n    var defaultValue = nextPropsOrEmpty.defaultValue;\r\n    var hasValue = !isNullOrUndef(value);\r\n    if (type && type !== dom.type) {\r\n        dom.setAttribute(\"type\", type);\r\n    }\r\n    if (multiple && multiple !== dom.multiple) {\r\n        dom.multiple = multiple;\r\n    }\r\n    if (!isNullOrUndef(defaultValue) && !hasValue) {\r\n        dom.defaultValue = defaultValue + \"\";\r\n    }\r\n    if (isCheckedType(type)) {\r\n        if (hasValue) {\r\n            dom.value = value;\r\n        }\r\n        if (!isNullOrUndef(checked)) {\r\n            dom.checked = checked;\r\n        }\r\n    }\r\n    else {\r\n        if (hasValue && dom.value !== value) {\r\n            dom.defaultValue = value;\r\n            dom.value = value;\r\n        }\r\n        else if (!isNullOrUndef(checked)) {\r\n            dom.checked = checked;\r\n        }\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction updateChildOptionGroup(vNode, value) {\r\n    var type = vNode.type;\r\n    if (type === \"optgroup\") {\r\n        var children = vNode.children;\r\n        if (isArray(children)) {\r\n            for (var i = 0, len = children.length; i < len; i++) {\r\n                updateChildOption(children[i], value);\r\n            }\r\n        }\r\n        else if (isVNode(children)) {\r\n            updateChildOption(children, value);\r\n        }\r\n    }\r\n    else {\r\n        updateChildOption(vNode, value);\r\n    }\r\n}\r\nfunction updateChildOption(vNode, value) {\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    // we do this as multiple may have changed\r\n    dom.value = props.value;\r\n    if ((isArray(value) && value.indexOf(props.value) !== -1) ||\r\n        props.value === value) {\r\n        dom.selected = true;\r\n    }\r\n    else if (!isNullOrUndef(value) || !isNullOrUndef(props.selected)) {\r\n        dom.selected = props.selected || false;\r\n    }\r\n}\r\nfunction onSelectChange(e) {\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    var previousValue = props.value;\r\n    if (props.onChange) {\r\n        var event = props.onChange;\r\n        if (event.event) {\r\n            event.event(event.data, e);\r\n        }\r\n        else {\r\n            event(e);\r\n        }\r\n    }\r\n    else if (props.onchange) {\r\n        props.onchange(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    if (previousValue !== newProps.value) {\r\n        // When this happens we need to store current cursor position and restore it, to avoid jumping\r\n        applyValue$1(newVNode, dom, newProps, false);\r\n    }\r\n}\r\nfunction processSelect(vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    applyValue$1(vNode, dom, nextPropsOrEmpty, mounting);\r\n    if (isControlled) {\r\n        dom.vNode = vNode; // TODO: Remove this when implementing Fiber's\r\n        if (mounting) {\r\n            dom.onchange = onSelectChange;\r\n            dom.onchange.wrapped = true;\r\n        }\r\n    }\r\n}\r\nfunction applyValue$1(vNode, dom, nextPropsOrEmpty, mounting) {\r\n    if (nextPropsOrEmpty.multiple !== dom.multiple) {\r\n        dom.multiple = nextPropsOrEmpty.multiple;\r\n    }\r\n    var children = vNode.children;\r\n    if (!isInvalid(children)) {\r\n        var value = nextPropsOrEmpty.value;\r\n        if (mounting && isNullOrUndef(value)) {\r\n            value = nextPropsOrEmpty.defaultValue;\r\n        }\r\n        if (isArray(children)) {\r\n            for (var i = 0, len = children.length; i < len; i++) {\r\n                updateChildOptionGroup(children[i], value);\r\n            }\r\n        }\r\n        else if (isVNode(children)) {\r\n            updateChildOptionGroup(children, value);\r\n        }\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction wrappedOnChange$1(e) {\r\n    var props = this.vNode.props || EMPTY_OBJ;\r\n    var event = props.onChange;\r\n    if (event.event) {\r\n        event.event(event.data, e);\r\n    }\r\n    else {\r\n        event(e);\r\n    }\r\n}\r\nfunction onTextareaInputChange(e) {\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var previousValue = props.value;\r\n    if (props.onInput) {\r\n        var event = props.onInput;\r\n        if (event.event) {\r\n            event.event(event.data, e);\r\n        }\r\n        else {\r\n            event(e);\r\n        }\r\n    }\r\n    else if (props.oninput) {\r\n        props.oninput(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    if (previousValue !== newProps.value) {\r\n        // When this happens we need to store current cursor position and restore it, to avoid jumping\r\n        applyValue$2(newVNode, vNode.dom, false);\r\n    }\r\n}\r\nfunction processTextarea(vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    applyValue$2(nextPropsOrEmpty, dom, mounting);\r\n    if (isControlled) {\r\n        dom.vNode = vNode; // TODO: Remove this when implementing Fiber's\r\n        if (mounting) {\r\n            dom.oninput = onTextareaInputChange;\r\n            dom.oninput.wrapped = true;\r\n            if (nextPropsOrEmpty.onChange) {\r\n                dom.onchange = wrappedOnChange$1;\r\n                dom.onchange.wrapped = true;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction applyValue$2(nextPropsOrEmpty, dom, mounting) {\r\n    var value = nextPropsOrEmpty.value;\r\n    var domValue = dom.value;\r\n    if (isNullOrUndef(value)) {\r\n        if (mounting) {\r\n            var defaultValue = nextPropsOrEmpty.defaultValue;\r\n            if (!isNullOrUndef(defaultValue)) {\r\n                if (defaultValue !== domValue) {\r\n                    dom.defaultValue = defaultValue;\r\n                    dom.value = defaultValue;\r\n                }\r\n            }\r\n            else if (domValue !== \"\") {\r\n                dom.defaultValue = \"\";\r\n                dom.value = \"\";\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        /* There is value so keep it controlled */\r\n        if (domValue !== value) {\r\n            dom.defaultValue = value;\r\n            dom.value = value;\r\n        }\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n/**\r\n * There is currently no support for switching same input between controlled and nonControlled\r\n * If that ever becomes a real issue, then re design controlled elements\r\n * Currently user must choose either controlled or non-controlled and stick with that\r\n */\r\nfunction processElement(flags, vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    if ((flags & 512 /* InputElement */) > 0) {\r\n        processInput(vNode, dom, nextPropsOrEmpty, mounting, isControlled);\r\n    }\r\n    else if ((flags & 2048 /* SelectElement */) > 0) {\r\n        processSelect(vNode, dom, nextPropsOrEmpty, mounting, isControlled);\r\n    }\r\n    else if ((flags & 1024 /* TextareaElement */) > 0) {\r\n        processTextarea(vNode, dom, nextPropsOrEmpty, mounting, isControlled);\r\n    }\r\n}\r\nfunction isControlledFormElement(nextPropsOrEmpty) {\r\n    return nextPropsOrEmpty.type && isCheckedType(nextPropsOrEmpty.type)\r\n        ? !isNullOrUndef(nextPropsOrEmpty.checked)\r\n        : !isNullOrUndef(nextPropsOrEmpty.value);\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction normalizeChildNodes(parentDom) {\r\n    var dom = parentDom.firstChild;\r\n    while (dom) {\r\n        if (dom.nodeType === 8) {\r\n            if (dom.data === \"!\") {\r\n                var placeholder = document.createTextNode(\"\");\r\n                parentDom.replaceChild(placeholder, dom);\r\n                dom = dom.nextSibling;\r\n            }\r\n            else {\r\n                var lastDom = dom.previousSibling;\r\n                parentDom.removeChild(dom);\r\n                dom = lastDom || parentDom.firstChild;\r\n            }\r\n        }\r\n        else {\r\n            dom = dom.nextSibling;\r\n        }\r\n    }\r\n}\r\nfunction hydrateComponent(vNode, dom, lifecycle, context, isSVG, isClass) {\r\n    var type = vNode.type;\r\n    var ref = vNode.ref;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    if (isClass) {\r\n        var _isSVG = dom.namespaceURI === svgNS;\r\n        var instance = createClassComponentInstance(vNode, type, props, context, _isSVG, lifecycle);\r\n        var input = instance._lastInput;\r\n        instance._vNode = vNode;\r\n        hydrate(input, dom, lifecycle, instance._childContext, _isSVG);\r\n        vNode.dom = input.dom;\r\n        mountClassComponentCallbacks(vNode, ref, instance, lifecycle);\r\n        instance._updating = false; // Mount finished allow going sync\r\n        if (options.findDOMNodeEnabled) {\r\n            componentToDOMNodeMap.set(instance, dom);\r\n        }\r\n    }\r\n    else {\r\n        var input$1 = createFunctionalComponentInput(vNode, type, props, context);\r\n        hydrate(input$1, dom, lifecycle, context, isSVG);\r\n        vNode.children = input$1;\r\n        vNode.dom = input$1.dom;\r\n        mountFunctionalComponentCallbacks(props, ref, dom, lifecycle);\r\n    }\r\n    return dom;\r\n}\r\nfunction hydrateElement(vNode, dom, lifecycle, context, isSVG) {\r\n    var children = vNode.children;\r\n    var props = vNode.props;\r\n    var className = vNode.className;\r\n    var flags = vNode.flags;\r\n    var ref = vNode.ref;\r\n    isSVG = isSVG || (flags & 128 /* SvgElement */) > 0;\r\n    if (dom.nodeType !== 1 || dom.tagName.toLowerCase() !== vNode.type) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            warning(\"Inferno hydration: Server-side markup doesn't match client-side markup or Initial render target is not empty\");\r\n        }\r\n        var newDom = mountElement(vNode, null, lifecycle, context, isSVG);\r\n        vNode.dom = newDom;\r\n        replaceChild(dom.parentNode, newDom, dom);\r\n        return newDom;\r\n    }\r\n    vNode.dom = dom;\r\n    if (!isInvalid(children)) {\r\n        hydrateChildren(children, dom, lifecycle, context, isSVG);\r\n    }\r\n    else if (dom.firstChild !== null && !isSamePropsInnerHTML(dom, props)) {\r\n        dom.textContent = \"\"; // dom has content, but VNode has no children remove everything from DOM\r\n    }\r\n    if (props) {\r\n        var hasControlledValue = false;\r\n        var isFormElement = (flags & 3584 /* FormElement */) > 0;\r\n        if (isFormElement) {\r\n            hasControlledValue = isControlledFormElement(props);\r\n        }\r\n        for (var prop in props) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            patchProp(prop, null, props[prop], dom, isSVG, hasControlledValue);\r\n        }\r\n        if (isFormElement) {\r\n            processElement(flags, vNode, dom, props, true, hasControlledValue);\r\n        }\r\n    }\r\n    if (!isNullOrUndef(className)) {\r\n        if (isSVG) {\r\n            dom.setAttribute(\"class\", className);\r\n        }\r\n        else {\r\n            dom.className = className;\r\n        }\r\n    }\r\n    else {\r\n        if (dom.className !== \"\") {\r\n            dom.removeAttribute(\"class\");\r\n        }\r\n    }\r\n    if (ref) {\r\n        mountRef(dom, ref, lifecycle);\r\n    }\r\n    return dom;\r\n}\r\nfunction hydrateChildren(children, parentDom, lifecycle, context, isSVG) {\r\n    normalizeChildNodes(parentDom);\r\n    var dom = parentDom.firstChild;\r\n    if (isStringOrNumber(children)) {\r\n        if (!isNull(dom) && dom.nodeType === 3) {\r\n            if (dom.nodeValue !== children) {\r\n                dom.nodeValue = children;\r\n            }\r\n        }\r\n        else if (children === \"\") {\r\n            parentDom.appendChild(document.createTextNode(\"\"));\r\n        }\r\n        else {\r\n            parentDom.textContent = children;\r\n        }\r\n        if (!isNull(dom)) {\r\n            dom = dom.nextSibling;\r\n        }\r\n    }\r\n    else if (isArray(children)) {\r\n        for (var i = 0, len = children.length; i < len; i++) {\r\n            var child = children[i];\r\n            if (!isNull(child) && isObject(child)) {\r\n                if (!isNull(dom)) {\r\n                    var nextSibling = dom.nextSibling;\r\n                    hydrate(child, dom, lifecycle, context, isSVG);\r\n                    dom = nextSibling;\r\n                }\r\n                else {\r\n                    mount(child, parentDom, lifecycle, context, isSVG);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // It's VNode\r\n        if (!isNull(dom)) {\r\n            hydrate(children, dom, lifecycle, context, isSVG);\r\n            dom = dom.nextSibling;\r\n        }\r\n        else {\r\n            mount(children, parentDom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n    // clear any other DOM nodes, there should be only a single entry for the root\r\n    while (dom) {\r\n        var nextSibling$1 = dom.nextSibling;\r\n        parentDom.removeChild(dom);\r\n        dom = nextSibling$1;\r\n    }\r\n}\r\nfunction hydrateText(vNode, dom) {\r\n    if (dom.nodeType !== 3) {\r\n        var newDom = mountText(vNode, null);\r\n        vNode.dom = newDom;\r\n        replaceChild(dom.parentNode, newDom, dom);\r\n        return newDom;\r\n    }\r\n    var text = vNode.children;\r\n    if (dom.nodeValue !== text) {\r\n        dom.nodeValue = text;\r\n    }\r\n    vNode.dom = dom;\r\n    return dom;\r\n}\r\nfunction hydrateVoid(vNode, dom) {\r\n    vNode.dom = dom;\r\n    return dom;\r\n}\r\nfunction hydrate(vNode, dom, lifecycle, context, isSVG) {\r\n    var flags = vNode.flags;\r\n    if (flags & 28 /* Component */) {\r\n        hydrateComponent(vNode, dom, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0);\r\n    }\r\n    else if (flags & 3970 /* Element */) {\r\n        hydrateElement(vNode, dom, lifecycle, context, isSVG);\r\n    }\r\n    else if (flags & 1 /* Text */) {\r\n        hydrateText(vNode, dom);\r\n    }\r\n    else if (flags & 4096 /* Void */) {\r\n        hydrateVoid(vNode, dom);\r\n    }\r\n    else {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError((\"hydrate() expects a valid VNode, instead it received an object with the type \\\"\" + (typeof vNode) + \"\\\".\"));\r\n        }\r\n        throwError();\r\n    }\r\n}\r\nfunction hydrateRoot(input, parentDom, lifecycle) {\r\n    if (!isNull(parentDom)) {\r\n        var dom = parentDom.firstChild;\r\n        if (!isNull(dom)) {\r\n            hydrate(input, dom, lifecycle, EMPTY_OBJ, false);\r\n            dom = parentDom.firstChild;\r\n            // clear any other DOM nodes, there should be only a single entry for the root\r\n            while ((dom = dom.nextSibling)) {\r\n                parentDom.removeChild(dom);\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nvar componentPools = new Map();\r\nvar elementPools = new Map();\r\nfunction recycleElement(vNode, lifecycle, context, isSVG) {\r\n    var tag = vNode.type;\r\n    var pools = elementPools.get(tag);\r\n    if (!isUndefined(pools)) {\r\n        var key = vNode.key;\r\n        var pool = key === null ? pools.nonKeyed : pools.keyed.get(key);\r\n        if (!isUndefined(pool)) {\r\n            var recycledVNode = pool.pop();\r\n            if (!isUndefined(recycledVNode)) {\r\n                patchElement(recycledVNode, vNode, null, lifecycle, context, isSVG, true);\r\n                return vNode.dom;\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction poolElement(vNode) {\r\n    var tag = vNode.type;\r\n    var key = vNode.key;\r\n    var pools = elementPools.get(tag);\r\n    if (isUndefined(pools)) {\r\n        pools = {\r\n            keyed: new Map(),\r\n            nonKeyed: []\r\n        };\r\n        elementPools.set(tag, pools);\r\n    }\r\n    if (isNull(key)) {\r\n        pools.nonKeyed.push(vNode);\r\n    }\r\n    else {\r\n        var pool = pools.keyed.get(key);\r\n        if (isUndefined(pool)) {\r\n            pool = [];\r\n            pools.keyed.set(key, pool);\r\n        }\r\n        pool.push(vNode);\r\n    }\r\n}\r\nfunction recycleComponent(vNode, lifecycle, context, isSVG) {\r\n    var type = vNode.type;\r\n    var pools = componentPools.get(type);\r\n    if (!isUndefined(pools)) {\r\n        var key = vNode.key;\r\n        var pool = key === null ? pools.nonKeyed : pools.keyed.get(key);\r\n        if (!isUndefined(pool)) {\r\n            var recycledVNode = pool.pop();\r\n            if (!isUndefined(recycledVNode)) {\r\n                var flags = vNode.flags;\r\n                var failed = patchComponent(recycledVNode, vNode, null, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0, true);\r\n                if (!failed) {\r\n                    return vNode.dom;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction poolComponent(vNode) {\r\n    var hooks = vNode.ref;\r\n    var nonRecycleHooks = hooks &&\r\n        (hooks.onComponentWillMount ||\r\n            hooks.onComponentWillUnmount ||\r\n            hooks.onComponentDidMount ||\r\n            hooks.onComponentWillUpdate ||\r\n            hooks.onComponentDidUpdate);\r\n    if (nonRecycleHooks) {\r\n        return;\r\n    }\r\n    var type = vNode.type;\r\n    var key = vNode.key;\r\n    var pools = componentPools.get(type);\r\n    if (isUndefined(pools)) {\r\n        pools = {\r\n            keyed: new Map(),\r\n            nonKeyed: []\r\n        };\r\n        componentPools.set(type, pools);\r\n    }\r\n    if (isNull(key)) {\r\n        pools.nonKeyed.push(vNode);\r\n    }\r\n    else {\r\n        var pool = pools.keyed.get(key);\r\n        if (isUndefined(pool)) {\r\n            pool = [];\r\n            pools.keyed.set(key, pool);\r\n        }\r\n        pool.push(vNode);\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction unmount(vNode, parentDom, lifecycle, canRecycle, isRecycling) {\r\n    var flags = vNode.flags;\r\n    var dom = vNode.dom;\r\n    if (flags & 28 /* Component */) {\r\n        var instance = vNode.children;\r\n        var isStatefulComponent$$1 = (flags & 4 /* ComponentClass */) > 0;\r\n        var props = vNode.props || EMPTY_OBJ;\r\n        var ref = vNode.ref;\r\n        if (!isRecycling) {\r\n            if (isStatefulComponent$$1) {\r\n                if (!instance._unmounted) {\r\n                    if (!isNull(options.beforeUnmount)) {\r\n                        options.beforeUnmount(vNode);\r\n                    }\r\n                    if (!isUndefined(instance.componentWillUnmount)) {\r\n                        instance.componentWillUnmount();\r\n                    }\r\n                    if (ref && !isRecycling) {\r\n                        ref(null);\r\n                    }\r\n                    instance._unmounted = true;\r\n                    if (options.findDOMNodeEnabled) {\r\n                        componentToDOMNodeMap.delete(instance);\r\n                    }\r\n                    unmount(instance._lastInput, null, instance._lifecycle, false, isRecycling);\r\n                }\r\n            }\r\n            else {\r\n                if (!isNullOrUndef(ref)) {\r\n                    if (!isNullOrUndef(ref.onComponentWillUnmount)) {\r\n                        ref.onComponentWillUnmount(dom, props);\r\n                    }\r\n                }\r\n                unmount(instance, null, lifecycle, false, isRecycling);\r\n            }\r\n        }\r\n        if (options.recyclingEnabled &&\r\n            !isStatefulComponent$$1 &&\r\n            (parentDom || canRecycle)) {\r\n            poolComponent(vNode);\r\n        }\r\n    }\r\n    else if (flags & 3970 /* Element */) {\r\n        var ref$1 = vNode.ref;\r\n        var props$1 = vNode.props;\r\n        if (!isRecycling && isFunction(ref$1)) {\r\n            ref$1(null);\r\n        }\r\n        var children = vNode.children;\r\n        if (!isNullOrUndef(children)) {\r\n            if (isArray(children)) {\r\n                for (var i = 0, len = children.length; i < len; i++) {\r\n                    var child = children[i];\r\n                    if (!isInvalid(child) && isObject(child)) {\r\n                        unmount(child, null, lifecycle, false, isRecycling);\r\n                    }\r\n                }\r\n            }\r\n            else if (isObject(children)) {\r\n                unmount(children, null, lifecycle, false, isRecycling);\r\n            }\r\n        }\r\n        if (!isNull(props$1)) {\r\n            for (var name in props$1) {\r\n                // do not add a hasOwnProperty check here, it affects performance\r\n                if (props$1[name] !== null && isAttrAnEvent(name)) {\r\n                    patchEvent(name, props$1[name], null, dom);\r\n                    // We need to set this null, because same props otherwise come back if SCU returns false and we are recyling\r\n                    props$1[name] = null;\r\n                }\r\n            }\r\n        }\r\n        if (options.recyclingEnabled && (parentDom || canRecycle)) {\r\n            poolElement(vNode);\r\n        }\r\n    }\r\n    if (!isNull(parentDom)) {\r\n        removeChild(parentDom, dom);\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n// rather than use a Map, like we did before, we can use an array here\r\n// given there shouldn't be THAT many roots on the page, the difference\r\n// in performance is huge: https://esbench.com/bench/5802a691330ab09900a1a2da\r\nvar componentToDOMNodeMap = new Map();\r\nvar roots = options.roots;\r\n/**\r\n * When inferno.options.findDOMNOdeEnabled is true, this function will return DOM Node by component instance\r\n * @param ref Component instance\r\n * @returns {*|null} returns dom node\r\n */\r\nfunction findDOMNode(ref) {\r\n    if (!options.findDOMNodeEnabled) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError(\"findDOMNode() has been disabled, use Inferno.options.findDOMNodeEnabled = true; enabled findDOMNode(). Warning this can significantly impact performance!\");\r\n        }\r\n        throwError();\r\n    }\r\n    var dom = ref && ref.nodeType ? ref : null;\r\n    return componentToDOMNodeMap.get(ref) || dom;\r\n}\r\nfunction getRoot(dom) {\r\n    for (var i = 0, len = roots.length; i < len; i++) {\r\n        var root = roots[i];\r\n        if (root.dom === dom) {\r\n            return root;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction setRoot(dom, input, lifecycle) {\r\n    var root = {\r\n        dom: dom,\r\n        input: input,\r\n        lifecycle: lifecycle\r\n    };\r\n    roots.push(root);\r\n    return root;\r\n}\r\nfunction removeRoot(root) {\r\n    for (var i = 0, len = roots.length; i < len; i++) {\r\n        if (roots[i] === root) {\r\n            roots.splice(i, 1);\r\n            return;\r\n        }\r\n    }\r\n}\r\nif (process.env.NODE_ENV !== \"production\") {\r\n    if (isBrowser && document.body === null) {\r\n        warning('Inferno warning: you cannot initialize inferno without \"document.body\". Wait on \"DOMContentLoaded\" event, add script to bottom of body, or use async/defer attributes on script tag.');\r\n    }\r\n}\r\nvar documentBody = isBrowser ? document.body : null;\r\n/**\r\n * Renders virtual node tree into parent node.\r\n * @param {VNode | null | string | number} input vNode to be rendered\r\n * @param parentDom DOM node which content will be replaced by virtual node\r\n * @returns {InfernoChildren} rendered virtual node\r\n */\r\nfunction render(input, parentDom) {\r\n    if (documentBody === parentDom) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError('you cannot render() to the \"document.body\". Use an empty element as a container instead.');\r\n        }\r\n        throwError();\r\n    }\r\n    if (input === NO_OP) {\r\n        return;\r\n    }\r\n    var root = getRoot(parentDom);\r\n    if (isNull(root)) {\r\n        var lifecycle = new Lifecycle();\r\n        if (!isInvalid(input)) {\r\n            if (input.dom) {\r\n                input = directClone(input);\r\n            }\r\n            if (!hydrateRoot(input, parentDom, lifecycle)) {\r\n                mount(input, parentDom, lifecycle, EMPTY_OBJ, false);\r\n            }\r\n            root = setRoot(parentDom, input, lifecycle);\r\n            lifecycle.trigger();\r\n        }\r\n    }\r\n    else {\r\n        var lifecycle$1 = root.lifecycle;\r\n        lifecycle$1.listeners = [];\r\n        if (isNullOrUndef(input)) {\r\n            unmount(root.input, parentDom, lifecycle$1, false, false);\r\n            removeRoot(root);\r\n        }\r\n        else {\r\n            if (input.dom) {\r\n                input = directClone(input);\r\n            }\r\n            patch(root.input, input, parentDom, lifecycle$1, EMPTY_OBJ, false, false);\r\n        }\r\n        root.input = input;\r\n        lifecycle$1.trigger();\r\n    }\r\n    if (root) {\r\n        var rootInput = root.input;\r\n        if (rootInput && rootInput.flags & 28 /* Component */) {\r\n            return rootInput.children;\r\n        }\r\n    }\r\n}\r\nfunction createRenderer(parentDom) {\r\n    return function renderer(lastInput, nextInput) {\r\n        if (!parentDom) {\r\n            parentDom = lastInput;\r\n        }\r\n        render(nextInput, parentDom);\r\n    };\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction patch(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    if (lastVNode !== nextVNode) {\r\n        var lastFlags = lastVNode.flags;\r\n        var nextFlags = nextVNode.flags;\r\n        if (nextFlags & 28 /* Component */) {\r\n            var isClass = (nextFlags & 4 /* ComponentClass */) > 0;\r\n            if (lastFlags & 28 /* Component */) {\r\n                patchComponent(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isClass, isRecycling);\r\n            }\r\n            else {\r\n                replaceVNode(parentDom, mountComponent(nextVNode, null, lifecycle, context, isSVG, isClass), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else if (nextFlags & 3970 /* Element */) {\r\n            if (lastFlags & 3970 /* Element */) {\r\n                patchElement(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n            }\r\n            else {\r\n                replaceVNode(parentDom, mountElement(nextVNode, null, lifecycle, context, isSVG), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else if (nextFlags & 1 /* Text */) {\r\n            if (lastFlags & 1 /* Text */) {\r\n                patchText(lastVNode, nextVNode);\r\n            }\r\n            else {\r\n                replaceVNode(parentDom, mountText(nextVNode, null), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else if (nextFlags & 4096 /* Void */) {\r\n            if (lastFlags & 4096 /* Void */) {\r\n                patchVoid(lastVNode, nextVNode);\r\n            }\r\n            else {\r\n                replaceVNode(parentDom, mountVoid(nextVNode, null), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else {\r\n            // Error case: mount new one replacing old one\r\n            replaceLastChildAndUnmount(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n        }\r\n    }\r\n}\r\nfunction unmountChildren(children, dom, lifecycle, isRecycling) {\r\n    if (isVNode(children)) {\r\n        unmount(children, dom, lifecycle, true, isRecycling);\r\n    }\r\n    else if (isArray(children)) {\r\n        removeAllChildren(dom, children, lifecycle, isRecycling);\r\n    }\r\n    else {\r\n        dom.textContent = \"\";\r\n    }\r\n}\r\nfunction patchElement(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    var nextTag = nextVNode.type;\r\n    var lastTag = lastVNode.type;\r\n    if (lastTag !== nextTag) {\r\n        replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n    }\r\n    else {\r\n        var dom = lastVNode.dom;\r\n        var lastProps = lastVNode.props;\r\n        var nextProps = nextVNode.props;\r\n        var lastChildren = lastVNode.children;\r\n        var nextChildren = nextVNode.children;\r\n        var lastFlags = lastVNode.flags;\r\n        var nextFlags = nextVNode.flags;\r\n        var nextRef = nextVNode.ref;\r\n        var lastClassName = lastVNode.className;\r\n        var nextClassName = nextVNode.className;\r\n        nextVNode.dom = dom;\r\n        isSVG = isSVG || (nextFlags & 128 /* SvgElement */) > 0;\r\n        if (lastChildren !== nextChildren) {\r\n            var childrenIsSVG = isSVG === true && nextVNode.type !== \"foreignObject\";\r\n            patchChildren(lastFlags, nextFlags, lastChildren, nextChildren, dom, lifecycle, context, childrenIsSVG, isRecycling);\r\n        }\r\n        // inlined patchProps  -- starts --\r\n        if (lastProps !== nextProps) {\r\n            var lastPropsOrEmpty = lastProps || EMPTY_OBJ;\r\n            var nextPropsOrEmpty = nextProps || EMPTY_OBJ;\r\n            var hasControlledValue = false;\r\n            if (nextPropsOrEmpty !== EMPTY_OBJ) {\r\n                var isFormElement = (nextFlags & 3584 /* FormElement */) > 0;\r\n                if (isFormElement) {\r\n                    hasControlledValue = isControlledFormElement(nextPropsOrEmpty);\r\n                }\r\n                for (var prop in nextPropsOrEmpty) {\r\n                    // do not add a hasOwnProperty check here, it affects performance\r\n                    var nextValue = nextPropsOrEmpty[prop];\r\n                    var lastValue = lastPropsOrEmpty[prop];\r\n                    patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue);\r\n                }\r\n                if (isFormElement) {\r\n                    // When inferno is recycling form element, we need to process it like it would be mounting\r\n                    processElement(nextFlags, nextVNode, dom, nextPropsOrEmpty, isRecycling, hasControlledValue);\r\n                }\r\n            }\r\n            if (lastPropsOrEmpty !== EMPTY_OBJ) {\r\n                for (var prop$1 in lastPropsOrEmpty) {\r\n                    // do not add a hasOwnProperty check here, it affects performance\r\n                    if (isNullOrUndef(nextPropsOrEmpty[prop$1]) &&\r\n                        !isNullOrUndef(lastPropsOrEmpty[prop$1])) {\r\n                        removeProp(prop$1, lastPropsOrEmpty[prop$1], dom, nextFlags);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // inlined patchProps  -- ends --\r\n        if (lastClassName !== nextClassName) {\r\n            if (isNullOrUndef(nextClassName)) {\r\n                dom.removeAttribute(\"class\");\r\n            }\r\n            else {\r\n                if (isSVG) {\r\n                    dom.setAttribute(\"class\", nextClassName);\r\n                }\r\n                else {\r\n                    dom.className = nextClassName;\r\n                }\r\n            }\r\n        }\r\n        if (nextRef) {\r\n            if (lastVNode.ref !== nextRef || isRecycling) {\r\n                mountRef(dom, nextRef, lifecycle);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction patchChildren(lastFlags, nextFlags, lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling) {\r\n    var patchArray = false;\r\n    var patchKeyed = false;\r\n    if (nextFlags & 64 /* HasNonKeyedChildren */) {\r\n        patchArray = true;\r\n    }\r\n    else if ((lastFlags & 32 /* HasKeyedChildren */) > 0 &&\r\n        (nextFlags & 32 /* HasKeyedChildren */) > 0) {\r\n        patchKeyed = true;\r\n        patchArray = true;\r\n    }\r\n    else if (isInvalid(nextChildren)) {\r\n        unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n    }\r\n    else if (isInvalid(lastChildren)) {\r\n        if (isStringOrNumber(nextChildren)) {\r\n            setTextContent(dom, nextChildren);\r\n        }\r\n        else {\r\n            if (isArray(nextChildren)) {\r\n                mountArrayChildren(nextChildren, dom, lifecycle, context, isSVG);\r\n            }\r\n            else {\r\n                mount(nextChildren, dom, lifecycle, context, isSVG);\r\n            }\r\n        }\r\n    }\r\n    else if (isStringOrNumber(nextChildren)) {\r\n        if (isStringOrNumber(lastChildren)) {\r\n            updateTextContent(dom, nextChildren);\r\n        }\r\n        else {\r\n            unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n            setTextContent(dom, nextChildren);\r\n        }\r\n    }\r\n    else if (isArray(nextChildren)) {\r\n        if (isArray(lastChildren)) {\r\n            patchArray = true;\r\n            if (isKeyed(lastChildren, nextChildren)) {\r\n                patchKeyed = true;\r\n            }\r\n        }\r\n        else {\r\n            unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n            mountArrayChildren(nextChildren, dom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n    else if (isArray(lastChildren)) {\r\n        removeAllChildren(dom, lastChildren, lifecycle, isRecycling);\r\n        mount(nextChildren, dom, lifecycle, context, isSVG);\r\n    }\r\n    else if (isVNode(nextChildren)) {\r\n        if (isVNode(lastChildren)) {\r\n            patch(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling);\r\n        }\r\n        else {\r\n            unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n            mount(nextChildren, dom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n    if (patchArray) {\r\n        var lastLength = lastChildren.length;\r\n        var nextLength = nextChildren.length;\r\n        // Fast path's for both algorithms\r\n        if (lastLength === 0) {\r\n            if (nextLength > 0) {\r\n                mountArrayChildren(nextChildren, dom, lifecycle, context, isSVG);\r\n            }\r\n        }\r\n        else if (nextLength === 0) {\r\n            removeAllChildren(dom, lastChildren, lifecycle, isRecycling);\r\n        }\r\n        else if (patchKeyed) {\r\n            patchKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling, lastLength, nextLength);\r\n        }\r\n        else {\r\n            patchNonKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling, lastLength, nextLength);\r\n        }\r\n    }\r\n}\r\nfunction patchComponent(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isClass, isRecycling) {\r\n    var lastType = lastVNode.type;\r\n    var nextType = nextVNode.type;\r\n    var lastKey = lastVNode.key;\r\n    var nextKey = nextVNode.key;\r\n    if (lastType !== nextType || lastKey !== nextKey) {\r\n        replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n        return false;\r\n    }\r\n    else {\r\n        var nextProps = nextVNode.props || EMPTY_OBJ;\r\n        if (isClass) {\r\n            var instance = lastVNode.children;\r\n            instance._updating = true;\r\n            if (instance._unmounted) {\r\n                if (isNull(parentDom)) {\r\n                    return true;\r\n                }\r\n                replaceChild(parentDom, mountComponent(nextVNode, null, lifecycle, context, isSVG, (nextVNode.flags & 4 /* ComponentClass */) > 0), lastVNode.dom);\r\n            }\r\n            else {\r\n                var hasComponentDidUpdate = !isUndefined(instance.componentDidUpdate);\r\n                var nextState = instance.state;\r\n                // When component has componentDidUpdate hook, we need to clone lastState or will be modified by reference during update\r\n                var lastState = hasComponentDidUpdate\r\n                    ? combineFrom(nextState, null)\r\n                    : nextState;\r\n                var lastProps = instance.props;\r\n                nextVNode.children = instance;\r\n                instance._isSVG = isSVG;\r\n                var lastInput = instance._lastInput;\r\n                var nextInput = instance._updateComponent(lastState, nextState, lastProps, nextProps, context, false, false);\r\n                // If this component was destroyed by its parent do nothing, this is no-op\r\n                // It can happen by using external callback etc during render / update\r\n                if (instance._unmounted) {\r\n                    return false;\r\n                }\r\n                var didUpdate = true;\r\n                // Update component before getting child context\r\n                var childContext;\r\n                if (!isNullOrUndef(instance.getChildContext)) {\r\n                    childContext = instance.getChildContext();\r\n                }\r\n                if (isNullOrUndef(childContext)) {\r\n                    childContext = context;\r\n                }\r\n                else {\r\n                    childContext = combineFrom(context, childContext);\r\n                }\r\n                instance._childContext = childContext;\r\n                if (isInvalid(nextInput)) {\r\n                    nextInput = createVoidVNode();\r\n                }\r\n                else if (nextInput === NO_OP) {\r\n                    nextInput = lastInput;\r\n                    didUpdate = false;\r\n                }\r\n                else if (isStringOrNumber(nextInput)) {\r\n                    nextInput = createTextVNode(nextInput, null);\r\n                }\r\n                else if (isArray(nextInput)) {\r\n                    if (process.env.NODE_ENV !== \"production\") {\r\n                        throwError(\"a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.\");\r\n                    }\r\n                    throwError();\r\n                }\r\n                else if (isObject(nextInput)) {\r\n                    if (!isNull(nextInput.dom)) {\r\n                        nextInput = directClone(nextInput);\r\n                    }\r\n                }\r\n                if (nextInput.flags & 28 /* Component */) {\r\n                    nextInput.parentVNode = nextVNode;\r\n                }\r\n                else if (lastInput.flags & 28 /* Component */) {\r\n                    lastInput.parentVNode = nextVNode;\r\n                }\r\n                instance._lastInput = nextInput;\r\n                instance._vNode = nextVNode;\r\n                if (didUpdate) {\r\n                    patch(lastInput, nextInput, parentDom, lifecycle, childContext, isSVG, isRecycling);\r\n                    if (hasComponentDidUpdate && instance.componentDidUpdate) {\r\n                        instance.componentDidUpdate(lastProps, lastState);\r\n                    }\r\n                    if (!isNull(options.afterUpdate)) {\r\n                        options.afterUpdate(nextVNode);\r\n                    }\r\n                    if (options.findDOMNodeEnabled) {\r\n                        componentToDOMNodeMap.set(instance, nextInput.dom);\r\n                    }\r\n                }\r\n                nextVNode.dom = nextInput.dom;\r\n            }\r\n            instance._updating = false;\r\n        }\r\n        else {\r\n            var shouldUpdate = true;\r\n            var lastProps$1 = lastVNode.props;\r\n            var nextHooks = nextVNode.ref;\r\n            var nextHooksDefined = !isNullOrUndef(nextHooks);\r\n            var lastInput$1 = lastVNode.children;\r\n            var nextInput$1 = lastInput$1;\r\n            nextVNode.dom = lastVNode.dom;\r\n            nextVNode.children = lastInput$1;\r\n            if (lastKey !== nextKey) {\r\n                shouldUpdate = true;\r\n            }\r\n            else {\r\n                if (nextHooksDefined &&\r\n                    !isNullOrUndef(nextHooks.onComponentShouldUpdate)) {\r\n                    shouldUpdate = nextHooks.onComponentShouldUpdate(lastProps$1, nextProps);\r\n                }\r\n            }\r\n            if (shouldUpdate !== false) {\r\n                if (nextHooksDefined &&\r\n                    !isNullOrUndef(nextHooks.onComponentWillUpdate)) {\r\n                    nextHooks.onComponentWillUpdate(lastProps$1, nextProps);\r\n                }\r\n                nextInput$1 = nextType(nextProps, context);\r\n                if (isInvalid(nextInput$1)) {\r\n                    nextInput$1 = createVoidVNode();\r\n                }\r\n                else if (isStringOrNumber(nextInput$1) && nextInput$1 !== NO_OP) {\r\n                    nextInput$1 = createTextVNode(nextInput$1, null);\r\n                }\r\n                else if (isArray(nextInput$1)) {\r\n                    if (process.env.NODE_ENV !== \"production\") {\r\n                        throwError(\"a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.\");\r\n                    }\r\n                    throwError();\r\n                }\r\n                else if (isObject(nextInput$1)) {\r\n                    if (!isNull(nextInput$1.dom)) {\r\n                        nextInput$1 = directClone(nextInput$1);\r\n                    }\r\n                }\r\n                if (nextInput$1 !== NO_OP) {\r\n                    patch(lastInput$1, nextInput$1, parentDom, lifecycle, context, isSVG, isRecycling);\r\n                    nextVNode.children = nextInput$1;\r\n                    if (nextHooksDefined &&\r\n                        !isNullOrUndef(nextHooks.onComponentDidUpdate)) {\r\n                        nextHooks.onComponentDidUpdate(lastProps$1, nextProps);\r\n                    }\r\n                    nextVNode.dom = nextInput$1.dom;\r\n                }\r\n            }\r\n            if (nextInput$1.flags & 28 /* Component */) {\r\n                nextInput$1.parentVNode = nextVNode;\r\n            }\r\n            else if (lastInput$1.flags & 28 /* Component */) {\r\n                lastInput$1.parentVNode = nextVNode;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction patchText(lastVNode, nextVNode) {\r\n    var nextText = nextVNode.children;\r\n    var dom = lastVNode.dom;\r\n    nextVNode.dom = dom;\r\n    if (lastVNode.children !== nextText) {\r\n        dom.nodeValue = nextText;\r\n    }\r\n}\r\nfunction patchVoid(lastVNode, nextVNode) {\r\n    nextVNode.dom = lastVNode.dom;\r\n}\r\nfunction patchNonKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling, lastChildrenLength, nextChildrenLength) {\r\n    var commonLength = lastChildrenLength > nextChildrenLength\r\n        ? nextChildrenLength\r\n        : lastChildrenLength;\r\n    var i = 0;\r\n    for (; i < commonLength; i++) {\r\n        var nextChild = nextChildren[i];\r\n        if (nextChild.dom) {\r\n            nextChild = nextChildren[i] = directClone(nextChild);\r\n        }\r\n        patch(lastChildren[i], nextChild, dom, lifecycle, context, isSVG, isRecycling);\r\n    }\r\n    if (lastChildrenLength < nextChildrenLength) {\r\n        for (i = commonLength; i < nextChildrenLength; i++) {\r\n            var nextChild$1 = nextChildren[i];\r\n            if (nextChild$1.dom) {\r\n                nextChild$1 = nextChildren[i] = directClone(nextChild$1);\r\n            }\r\n            appendChild(dom, mount(nextChild$1, null, lifecycle, context, isSVG));\r\n        }\r\n    }\r\n    else if (lastChildrenLength > nextChildrenLength) {\r\n        for (i = commonLength; i < lastChildrenLength; i++) {\r\n            unmount(lastChildren[i], dom, lifecycle, false, isRecycling);\r\n        }\r\n    }\r\n}\r\nfunction patchKeyedChildren(a, b, dom, lifecycle, context, isSVG, isRecycling, aLength, bLength) {\r\n    var aEnd = aLength - 1;\r\n    var bEnd = bLength - 1;\r\n    var aStart = 0;\r\n    var bStart = 0;\r\n    var i;\r\n    var j;\r\n    var aNode;\r\n    var bNode;\r\n    var nextNode;\r\n    var nextPos;\r\n    var node;\r\n    var aStartNode = a[aStart];\r\n    var bStartNode = b[bStart];\r\n    var aEndNode = a[aEnd];\r\n    var bEndNode = b[bEnd];\r\n    if (bStartNode.dom) {\r\n        b[bStart] = bStartNode = directClone(bStartNode);\r\n    }\r\n    if (bEndNode.dom) {\r\n        b[bEnd] = bEndNode = directClone(bEndNode);\r\n    }\r\n    // Step 1\r\n    // tslint:disable-next-line\r\n    outer: {\r\n        // Sync nodes with the same key at the beginning.\r\n        while (aStartNode.key === bStartNode.key) {\r\n            patch(aStartNode, bStartNode, dom, lifecycle, context, isSVG, isRecycling);\r\n            aStart++;\r\n            bStart++;\r\n            if (aStart > aEnd || bStart > bEnd) {\r\n                break outer;\r\n            }\r\n            aStartNode = a[aStart];\r\n            bStartNode = b[bStart];\r\n            if (bStartNode.dom) {\r\n                b[bStart] = bStartNode = directClone(bStartNode);\r\n            }\r\n        }\r\n        // Sync nodes with the same key at the end.\r\n        while (aEndNode.key === bEndNode.key) {\r\n            patch(aEndNode, bEndNode, dom, lifecycle, context, isSVG, isRecycling);\r\n            aEnd--;\r\n            bEnd--;\r\n            if (aStart > aEnd || bStart > bEnd) {\r\n                break outer;\r\n            }\r\n            aEndNode = a[aEnd];\r\n            bEndNode = b[bEnd];\r\n            if (bEndNode.dom) {\r\n                b[bEnd] = bEndNode = directClone(bEndNode);\r\n            }\r\n        }\r\n    }\r\n    if (aStart > aEnd) {\r\n        if (bStart <= bEnd) {\r\n            nextPos = bEnd + 1;\r\n            nextNode = nextPos < bLength ? b[nextPos].dom : null;\r\n            while (bStart <= bEnd) {\r\n                node = b[bStart];\r\n                if (node.dom) {\r\n                    b[bStart] = node = directClone(node);\r\n                }\r\n                bStart++;\r\n                insertOrAppend(dom, mount(node, null, lifecycle, context, isSVG), nextNode);\r\n            }\r\n        }\r\n    }\r\n    else if (bStart > bEnd) {\r\n        while (aStart <= aEnd) {\r\n            unmount(a[aStart++], dom, lifecycle, false, isRecycling);\r\n        }\r\n    }\r\n    else {\r\n        var aLeft = aEnd - aStart + 1;\r\n        var bLeft = bEnd - bStart + 1;\r\n        var sources = new Array(bLeft);\r\n        // Mark all nodes as inserted.\r\n        for (i = 0; i < bLeft; i++) {\r\n            sources[i] = -1;\r\n        }\r\n        var moved = false;\r\n        var pos = 0;\r\n        var patched = 0;\r\n        // When sizes are small, just loop them through\r\n        if (bLeft <= 4 || aLeft * bLeft <= 16) {\r\n            for (i = aStart; i <= aEnd; i++) {\r\n                aNode = a[i];\r\n                if (patched < bLeft) {\r\n                    for (j = bStart; j <= bEnd; j++) {\r\n                        bNode = b[j];\r\n                        if (aNode.key === bNode.key) {\r\n                            sources[j - bStart] = i;\r\n                            if (pos > j) {\r\n                                moved = true;\r\n                            }\r\n                            else {\r\n                                pos = j;\r\n                            }\r\n                            if (bNode.dom) {\r\n                                b[j] = bNode = directClone(bNode);\r\n                            }\r\n                            patch(aNode, bNode, dom, lifecycle, context, isSVG, isRecycling);\r\n                            patched++;\r\n                            a[i] = null;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var keyIndex = new Map();\r\n            // Map keys by their index in array\r\n            for (i = bStart; i <= bEnd; i++) {\r\n                keyIndex.set(b[i].key, i);\r\n            }\r\n            // Try to patch same keys\r\n            for (i = aStart; i <= aEnd; i++) {\r\n                aNode = a[i];\r\n                if (patched < bLeft) {\r\n                    j = keyIndex.get(aNode.key);\r\n                    if (!isUndefined(j)) {\r\n                        bNode = b[j];\r\n                        sources[j - bStart] = i;\r\n                        if (pos > j) {\r\n                            moved = true;\r\n                        }\r\n                        else {\r\n                            pos = j;\r\n                        }\r\n                        if (bNode.dom) {\r\n                            b[j] = bNode = directClone(bNode);\r\n                        }\r\n                        patch(aNode, bNode, dom, lifecycle, context, isSVG, isRecycling);\r\n                        patched++;\r\n                        a[i] = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // fast-path: if nothing patched remove all old and add all new\r\n        if (aLeft === aLength && patched === 0) {\r\n            removeAllChildren(dom, a, lifecycle, isRecycling);\r\n            while (bStart < bLeft) {\r\n                node = b[bStart];\r\n                if (node.dom) {\r\n                    b[bStart] = node = directClone(node);\r\n                }\r\n                bStart++;\r\n                insertOrAppend(dom, mount(node, null, lifecycle, context, isSVG), null);\r\n            }\r\n        }\r\n        else {\r\n            i = aLeft - patched;\r\n            while (i > 0) {\r\n                aNode = a[aStart++];\r\n                if (!isNull(aNode)) {\r\n                    unmount(aNode, dom, lifecycle, true, isRecycling);\r\n                    i--;\r\n                }\r\n            }\r\n            if (moved) {\r\n                var seq = lis_algorithm(sources);\r\n                j = seq.length - 1;\r\n                for (i = bLeft - 1; i >= 0; i--) {\r\n                    if (sources[i] === -1) {\r\n                        pos = i + bStart;\r\n                        node = b[pos];\r\n                        if (node.dom) {\r\n                            b[pos] = node = directClone(node);\r\n                        }\r\n                        nextPos = pos + 1;\r\n                        insertOrAppend(dom, mount(node, null, lifecycle, context, isSVG), nextPos < bLength ? b[nextPos].dom : null);\r\n                    }\r\n                    else {\r\n                        if (j < 0 || i !== seq[j]) {\r\n                            pos = i + bStart;\r\n                            node = b[pos];\r\n                            nextPos = pos + 1;\r\n                            insertOrAppend(dom, node.dom, nextPos < bLength ? b[nextPos].dom : null);\r\n                        }\r\n                        else {\r\n                            j--;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (patched !== bLeft) {\r\n                // when patched count doesn't match b length we need to insert those new ones\r\n                // loop backwards so we can use insertBefore\r\n                for (i = bLeft - 1; i >= 0; i--) {\r\n                    if (sources[i] === -1) {\r\n                        pos = i + bStart;\r\n                        node = b[pos];\r\n                        if (node.dom) {\r\n                            b[pos] = node = directClone(node);\r\n                        }\r\n                        nextPos = pos + 1;\r\n                        insertOrAppend(dom, mount(node, null, lifecycle, context, isSVG), nextPos < bLength ? b[nextPos].dom : null);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n// // https://en.wikipedia.org/wiki/Longest_increasing_subsequence\r\nfunction lis_algorithm(arr) {\r\n    var p = arr.slice(0);\r\n    var result = [0];\r\n    var i;\r\n    var j;\r\n    var u;\r\n    var v;\r\n    var c;\r\n    var len = arr.length;\r\n    for (i = 0; i < len; i++) {\r\n        var arrI = arr[i];\r\n        if (arrI !== -1) {\r\n            j = result[result.length - 1];\r\n            if (arr[j] < arrI) {\r\n                p[i] = j;\r\n                result.push(i);\r\n                continue;\r\n            }\r\n            u = 0;\r\n            v = result.length - 1;\r\n            while (u < v) {\r\n                c = ((u + v) / 2) | 0;\r\n                if (arr[result[c]] < arrI) {\r\n                    u = c + 1;\r\n                }\r\n                else {\r\n                    v = c;\r\n                }\r\n            }\r\n            if (arrI < arr[result[u]]) {\r\n                if (u > 0) {\r\n                    p[i] = result[u - 1];\r\n                }\r\n                result[u] = i;\r\n            }\r\n        }\r\n    }\r\n    u = result.length;\r\n    v = result[u - 1];\r\n    while (u-- > 0) {\r\n        result[u] = v;\r\n        v = p[v];\r\n    }\r\n    return result;\r\n}\r\nfunction isAttrAnEvent(attr) {\r\n    return attr[0] === \"o\" && attr[1] === \"n\";\r\n}\r\nfunction patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue) {\r\n    if (lastValue !== nextValue) {\r\n        if (skipProps.has(prop) || (hasControlledValue && prop === \"value\")) {\r\n            return;\r\n        }\r\n        else if (booleanProps.has(prop)) {\r\n            prop = prop === \"autoFocus\" ? prop.toLowerCase() : prop;\r\n            dom[prop] = !!nextValue;\r\n        }\r\n        else if (strictProps.has(prop)) {\r\n            var value = isNullOrUndef(nextValue) ? \"\" : nextValue;\r\n            if (dom[prop] !== value) {\r\n                dom[prop] = value;\r\n            }\r\n        }\r\n        else if (isAttrAnEvent(prop)) {\r\n            patchEvent(prop, lastValue, nextValue, dom);\r\n        }\r\n        else if (isNullOrUndef(nextValue)) {\r\n            dom.removeAttribute(prop);\r\n        }\r\n        else if (prop === \"style\") {\r\n            patchStyle(lastValue, nextValue, dom);\r\n        }\r\n        else if (prop === \"dangerouslySetInnerHTML\") {\r\n            var lastHtml = lastValue && lastValue.__html;\r\n            var nextHtml = nextValue && nextValue.__html;\r\n            if (lastHtml !== nextHtml) {\r\n                if (!isNullOrUndef(nextHtml) && !isSameInnerHTML(dom, nextHtml)) {\r\n                    dom.innerHTML = nextHtml;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // We optimize for NS being boolean. Its 99.9% time false\r\n            if (isSVG && namespaces.has(prop)) {\r\n                // If we end up in this path we can read property again\r\n                dom.setAttributeNS(namespaces.get(prop), prop, nextValue);\r\n            }\r\n            else {\r\n                dom.setAttribute(prop, nextValue);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction patchEvent(name, lastValue, nextValue, dom) {\r\n    if (lastValue !== nextValue) {\r\n        if (delegatedEvents.has(name)) {\r\n            handleEvent(name, lastValue, nextValue, dom);\r\n        }\r\n        else {\r\n            var nameLowerCase = name.toLowerCase();\r\n            var domEvent = dom[nameLowerCase];\r\n            // if the function is wrapped, that means it's been controlled by a wrapper\r\n            if (domEvent && domEvent.wrapped) {\r\n                return;\r\n            }\r\n            if (!isFunction(nextValue) && !isNullOrUndef(nextValue)) {\r\n                var linkEvent = nextValue.event;\r\n                if (linkEvent && isFunction(linkEvent)) {\r\n                    dom[nameLowerCase] = function (e) {\r\n                        linkEvent(nextValue.data, e);\r\n                    };\r\n                }\r\n                else {\r\n                    if (process.env.NODE_ENV !== \"production\") {\r\n                        throwError((\"an event on a VNode \\\"\" + name + \"\\\". was not a function or a valid linkEvent.\"));\r\n                    }\r\n                    throwError();\r\n                }\r\n            }\r\n            else {\r\n                dom[nameLowerCase] = nextValue;\r\n            }\r\n        }\r\n    }\r\n}\r\n// We are assuming here that we come from patchProp routine\r\n// -nextAttrValue cannot be null or undefined\r\nfunction patchStyle(lastAttrValue, nextAttrValue, dom) {\r\n    var domStyle = dom.style;\r\n    var style;\r\n    var value;\r\n    if (isString(nextAttrValue)) {\r\n        domStyle.cssText = nextAttrValue;\r\n        return;\r\n    }\r\n    if (!isNullOrUndef(lastAttrValue) && !isString(lastAttrValue)) {\r\n        for (style in nextAttrValue) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            value = nextAttrValue[style];\r\n            if (value !== lastAttrValue[style]) {\r\n                domStyle[style] =\r\n                    !isNumber(value) || isUnitlessNumber.has(style)\r\n                        ? value\r\n                        : value + \"px\";\r\n            }\r\n        }\r\n        for (style in lastAttrValue) {\r\n            if (isNullOrUndef(nextAttrValue[style])) {\r\n                domStyle[style] = \"\";\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        for (style in nextAttrValue) {\r\n            value = nextAttrValue[style];\r\n            domStyle[style] =\r\n                !isNumber(value) || isUnitlessNumber.has(style) ? value : value + \"px\";\r\n        }\r\n    }\r\n}\r\nfunction removeProp(prop, lastValue, dom, nextFlags) {\r\n    if (prop === \"value\") {\r\n        // When removing value of select element, it needs to be set to null instead empty string, because empty string is valid value for option which makes that option selected\r\n        // MS IE/Edge don't follow html spec for textArea and input elements and we need to set empty string to value in those cases to avoid \"null\" and \"undefined\" texts\r\n        dom.value = nextFlags & 2048 /* SelectElement */ ? null : \"\";\r\n    }\r\n    else if (prop === \"style\") {\r\n        dom.removeAttribute(\"style\");\r\n    }\r\n    else if (isAttrAnEvent(prop)) {\r\n        handleEvent(prop, lastValue, null, dom);\r\n    }\r\n    else {\r\n        dom.removeAttribute(prop);\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction mount(vNode, parentDom, lifecycle, context, isSVG) {\r\n    var flags = vNode.flags;\r\n    if (flags & 3970 /* Element */) {\r\n        return mountElement(vNode, parentDom, lifecycle, context, isSVG);\r\n    }\r\n    else if (flags & 28 /* Component */) {\r\n        return mountComponent(vNode, parentDom, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0);\r\n    }\r\n    else if (flags & 4096 /* Void */) {\r\n        return mountVoid(vNode, parentDom);\r\n    }\r\n    else if (flags & 1 /* Text */) {\r\n        return mountText(vNode, parentDom);\r\n    }\r\n    else {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            if (typeof vNode === \"object\") {\r\n                throwError((\"mount() received an object that's not a valid VNode, you should stringify it first. Object: \\\"\" + (JSON.stringify(vNode)) + \"\\\".\"));\r\n            }\r\n            else {\r\n                throwError((\"mount() expects a valid VNode, instead it received an object with the type \\\"\" + (typeof vNode) + \"\\\".\"));\r\n            }\r\n        }\r\n        throwError();\r\n    }\r\n}\r\nfunction mountText(vNode, parentDom) {\r\n    var dom = document.createTextNode(vNode.children);\r\n    vNode.dom = dom;\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nfunction mountVoid(vNode, parentDom) {\r\n    var dom = document.createTextNode(\"\");\r\n    vNode.dom = dom;\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nfunction mountElement(vNode, parentDom, lifecycle, context, isSVG) {\r\n    var dom;\r\n    if (options.recyclingEnabled) {\r\n        dom = recycleElement(vNode, lifecycle, context, isSVG);\r\n        if (!isNull(dom)) {\r\n            if (!isNull(parentDom)) {\r\n                appendChild(parentDom, dom);\r\n            }\r\n            return dom;\r\n        }\r\n    }\r\n    var flags = vNode.flags;\r\n    isSVG = isSVG || (flags & 128 /* SvgElement */) > 0;\r\n    dom = documentCreateElement(vNode.type, isSVG);\r\n    var children = vNode.children;\r\n    var props = vNode.props;\r\n    var className = vNode.className;\r\n    var ref = vNode.ref;\r\n    vNode.dom = dom;\r\n    if (!isInvalid(children)) {\r\n        if (isStringOrNumber(children)) {\r\n            setTextContent(dom, children);\r\n        }\r\n        else {\r\n            var childrenIsSVG = isSVG === true && vNode.type !== \"foreignObject\";\r\n            if (isArray(children)) {\r\n                mountArrayChildren(children, dom, lifecycle, context, childrenIsSVG);\r\n            }\r\n            else if (isVNode(children)) {\r\n                mount(children, dom, lifecycle, context, childrenIsSVG);\r\n            }\r\n        }\r\n    }\r\n    if (!isNull(props)) {\r\n        var hasControlledValue = false;\r\n        var isFormElement = (flags & 3584 /* FormElement */) > 0;\r\n        if (isFormElement) {\r\n            hasControlledValue = isControlledFormElement(props);\r\n        }\r\n        for (var prop in props) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            patchProp(prop, null, props[prop], dom, isSVG, hasControlledValue);\r\n        }\r\n        if (isFormElement) {\r\n            processElement(flags, vNode, dom, props, true, hasControlledValue);\r\n        }\r\n    }\r\n    if (className !== null) {\r\n        if (isSVG) {\r\n            dom.setAttribute(\"class\", className);\r\n        }\r\n        else {\r\n            dom.className = className;\r\n        }\r\n    }\r\n    if (!isNull(ref)) {\r\n        mountRef(dom, ref, lifecycle);\r\n    }\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nfunction mountArrayChildren(children, dom, lifecycle, context, isSVG) {\r\n    for (var i = 0, len = children.length; i < len; i++) {\r\n        var child = children[i];\r\n        // Verify can string/number be here. might cause de-opt. - Normalization takes care of it.\r\n        if (!isInvalid(child)) {\r\n            if (child.dom) {\r\n                children[i] = child = directClone(child);\r\n            }\r\n            mount(children[i], dom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n}\r\nfunction mountComponent(vNode, parentDom, lifecycle, context, isSVG, isClass) {\r\n    var dom;\r\n    if (options.recyclingEnabled) {\r\n        dom = recycleComponent(vNode, lifecycle, context, isSVG);\r\n        if (!isNull(dom)) {\r\n            if (!isNull(parentDom)) {\r\n                appendChild(parentDom, dom);\r\n            }\r\n            return dom;\r\n        }\r\n    }\r\n    var type = vNode.type;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var ref = vNode.ref;\r\n    if (isClass) {\r\n        var instance = createClassComponentInstance(vNode, type, props, context, isSVG, lifecycle);\r\n        var input = instance._lastInput;\r\n        instance._vNode = vNode;\r\n        vNode.dom = dom = mount(input, null, lifecycle, instance._childContext, isSVG);\r\n        if (!isNull(parentDom)) {\r\n            appendChild(parentDom, dom);\r\n        }\r\n        mountClassComponentCallbacks(vNode, ref, instance, lifecycle);\r\n        instance._updating = false;\r\n        if (options.findDOMNodeEnabled) {\r\n            componentToDOMNodeMap.set(instance, dom);\r\n        }\r\n    }\r\n    else {\r\n        var input$1 = createFunctionalComponentInput(vNode, type, props, context);\r\n        vNode.dom = dom = mount(input$1, null, lifecycle, context, isSVG);\r\n        vNode.children = input$1;\r\n        mountFunctionalComponentCallbacks(props, ref, dom, lifecycle);\r\n        if (!isNull(parentDom)) {\r\n            appendChild(parentDom, dom);\r\n        }\r\n    }\r\n    return dom;\r\n}\r\nfunction mountClassComponentCallbacks(vNode, ref, instance, lifecycle) {\r\n    if (ref) {\r\n        if (isFunction(ref)) {\r\n            ref(instance);\r\n        }\r\n        else {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (isStringOrNumber(ref)) {\r\n                    throwError('string \"refs\" are not supported in Inferno 1.0. Use callback \"refs\" instead.');\r\n                }\r\n                else if (isObject(ref) && vNode.flags & 4 /* ComponentClass */) {\r\n                    throwError(\"functional component lifecycle events are not supported on ES2015 class components.\");\r\n                }\r\n                else {\r\n                    throwError((\"a bad value for \\\"ref\\\" was used on component: \\\"\" + (JSON.stringify(ref)) + \"\\\"\"));\r\n                }\r\n            }\r\n            throwError();\r\n        }\r\n    }\r\n    var hasDidMount = !isUndefined(instance.componentDidMount);\r\n    var afterMount = options.afterMount;\r\n    if (hasDidMount || !isNull(afterMount)) {\r\n        lifecycle.addListener((function () {\r\n            instance._updating = true;\r\n            if (afterMount) {\r\n                afterMount(vNode);\r\n            }\r\n            if (hasDidMount) {\r\n                instance.componentDidMount();\r\n            }\r\n            instance._updating = false;\r\n        }));\r\n    }\r\n}\r\nfunction mountFunctionalComponentCallbacks(props, ref, dom, lifecycle) {\r\n    if (ref) {\r\n        if (!isNullOrUndef(ref.onComponentWillMount)) {\r\n            ref.onComponentWillMount(props);\r\n        }\r\n        if (!isNullOrUndef(ref.onComponentDidMount)) {\r\n            lifecycle.addListener((function () { return ref.onComponentDidMount(dom, props); }));\r\n        }\r\n    }\r\n}\r\nfunction mountRef(dom, value, lifecycle) {\r\n    if (isFunction(value)) {\r\n        lifecycle.addListener((function () { return value(dom); }));\r\n    }\r\n    else {\r\n        if (isInvalid(value)) {\r\n            return;\r\n        }\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError('string \"refs\" are not supported in Inferno 1.0. Use callback \"refs\" instead.');\r\n        }\r\n        throwError();\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n// We need EMPTY_OBJ defined in one place.\r\n// Its used for comparison so we cant inline it into shared\r\nvar EMPTY_OBJ = {};\r\nif (process.env.NODE_ENV !== \"production\") {\r\n    Object.freeze(EMPTY_OBJ);\r\n}\r\nfunction createClassComponentInstance(vNode, Component, props, context, isSVG, lifecycle) {\r\n    if (isUndefined(context)) {\r\n        context = EMPTY_OBJ; // Context should not be mutable\r\n    }\r\n    var instance = new Component(props, context);\r\n    vNode.children = instance;\r\n    instance._blockSetState = false;\r\n    instance.context = context;\r\n    if (instance.props === EMPTY_OBJ) {\r\n        instance.props = props;\r\n    }\r\n    // setState callbacks must fire after render is done when called from componentWillReceiveProps or componentWillMount\r\n    instance._lifecycle = lifecycle;\r\n    instance._unmounted = false;\r\n    instance._isSVG = isSVG;\r\n    if (!isNullOrUndef(instance.componentWillMount)) {\r\n        instance._blockRender = true;\r\n        instance.componentWillMount();\r\n        if (instance._pendingSetState) {\r\n            var state = instance.state;\r\n            var pending = instance._pendingState;\r\n            if (state === null) {\r\n                instance.state = pending;\r\n            }\r\n            else {\r\n                for (var key in pending) {\r\n                    state[key] = pending[key];\r\n                }\r\n            }\r\n            instance._pendingSetState = false;\r\n            instance._pendingState = null;\r\n        }\r\n        instance._blockRender = false;\r\n    }\r\n    var childContext;\r\n    if (!isNullOrUndef(instance.getChildContext)) {\r\n        childContext = instance.getChildContext();\r\n    }\r\n    if (isNullOrUndef(childContext)) {\r\n        instance._childContext = context;\r\n    }\r\n    else {\r\n        instance._childContext = combineFrom(context, childContext);\r\n    }\r\n    if (!isNull(options.beforeRender)) {\r\n        options.beforeRender(instance);\r\n    }\r\n    var input = instance.render(props, instance.state, context);\r\n    if (!isNull(options.afterRender)) {\r\n        options.afterRender(instance);\r\n    }\r\n    if (isArray(input)) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError(\"a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.\");\r\n        }\r\n        throwError();\r\n    }\r\n    else if (isInvalid(input)) {\r\n        input = createVoidVNode();\r\n    }\r\n    else if (isStringOrNumber(input)) {\r\n        input = createTextVNode(input, null);\r\n    }\r\n    else {\r\n        if (input.dom) {\r\n            input = directClone(input);\r\n        }\r\n        if (input.flags & 28 /* Component */) {\r\n            // if we have an input that is also a component, we run into a tricky situation\r\n            // where the root vNode needs to always have the correct DOM entry\r\n            // so we break monomorphism on our input and supply it our vNode as parentVNode\r\n            // we can optimise this in the future, but this gets us out of a lot of issues\r\n            input.parentVNode = vNode;\r\n        }\r\n    }\r\n    instance._lastInput = input;\r\n    return instance;\r\n}\r\nfunction replaceLastChildAndUnmount(lastInput, nextInput, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    replaceVNode(parentDom, mount(nextInput, null, lifecycle, context, isSVG), lastInput, lifecycle, isRecycling);\r\n}\r\nfunction replaceVNode(parentDom, dom, vNode, lifecycle, isRecycling) {\r\n    unmount(vNode, null, lifecycle, false, isRecycling);\r\n    replaceChild(parentDom, dom, vNode.dom);\r\n}\r\nfunction createFunctionalComponentInput(vNode, component, props, context) {\r\n    var input = component(props, context);\r\n    if (isArray(input)) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError(\"a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.\");\r\n        }\r\n        throwError();\r\n    }\r\n    else if (isInvalid(input)) {\r\n        input = createVoidVNode();\r\n    }\r\n    else if (isStringOrNumber(input)) {\r\n        input = createTextVNode(input, null);\r\n    }\r\n    else {\r\n        if (input.dom) {\r\n            input = directClone(input);\r\n        }\r\n        if (input.flags & 28 /* Component */) {\r\n            // if we have an input that is also a component, we run into a tricky situation\r\n            // where the root vNode needs to always have the correct DOM entry\r\n            // so we break monomorphism on our input and supply it our vNode as parentVNode\r\n            // we can optimise this in the future, but this gets us out of a lot of issues\r\n            input.parentVNode = vNode;\r\n        }\r\n    }\r\n    return input;\r\n}\r\nfunction setTextContent(dom, text) {\r\n    if (text !== \"\") {\r\n        dom.textContent = text;\r\n    }\r\n    else {\r\n        dom.appendChild(document.createTextNode(\"\"));\r\n    }\r\n}\r\nfunction updateTextContent(dom, text) {\r\n    var textNode = dom.firstChild;\r\n    // Guard against external change on DOM node.\r\n    if (isNull(textNode)) {\r\n        setTextContent(dom, text);\r\n    }\r\n    else {\r\n        textNode.nodeValue = text;\r\n    }\r\n}\r\nfunction appendChild(parentDom, dom) {\r\n    parentDom.appendChild(dom);\r\n}\r\nfunction insertOrAppend(parentDom, newNode, nextNode) {\r\n    if (isNullOrUndef(nextNode)) {\r\n        appendChild(parentDom, newNode);\r\n    }\r\n    else {\r\n        parentDom.insertBefore(newNode, nextNode);\r\n    }\r\n}\r\nfunction documentCreateElement(tag, isSVG) {\r\n    if (isSVG === true) {\r\n        return document.createElementNS(svgNS, tag);\r\n    }\r\n    else {\r\n        return document.createElement(tag);\r\n    }\r\n}\r\nfunction replaceWithNewNode(lastNode, nextNode, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    unmount(lastNode, null, lifecycle, false, isRecycling);\r\n    var dom = mount(nextNode, null, lifecycle, context, isSVG);\r\n    nextNode.dom = dom;\r\n    replaceChild(parentDom, dom, lastNode.dom);\r\n}\r\nfunction replaceChild(parentDom, newDom, lastDom) {\r\n    if (!parentDom) {\r\n        parentDom = lastDom.parentNode;\r\n    }\r\n    parentDom.replaceChild(newDom, lastDom);\r\n}\r\nfunction removeChild(parentDom, dom) {\r\n    parentDom.removeChild(dom);\r\n}\r\nfunction removeAllChildren(dom, children, lifecycle, isRecycling) {\r\n    if (!options.recyclingEnabled || (options.recyclingEnabled && !isRecycling)) {\r\n        removeChildren(null, children, lifecycle, isRecycling);\r\n    }\r\n    dom.textContent = \"\";\r\n}\r\nfunction removeChildren(dom, children, lifecycle, isRecycling) {\r\n    for (var i = 0, len = children.length; i < len; i++) {\r\n        var child = children[i];\r\n        if (!isInvalid(child)) {\r\n            unmount(child, dom, lifecycle, true, isRecycling);\r\n        }\r\n    }\r\n}\r\nfunction isKeyed(lastChildren, nextChildren) {\r\n    return (nextChildren.length > 0 &&\r\n        !isNullOrUndef(nextChildren[0]) &&\r\n        !isNullOrUndef(nextChildren[0].key) &&\r\n        lastChildren.length > 0 &&\r\n        !isNullOrUndef(lastChildren[0]) &&\r\n        !isNullOrUndef(lastChildren[0].key));\r\n}\r\nfunction isSameInnerHTML(dom, innerHTML) {\r\n    var tempdom = document.createElement(\"i\");\r\n    tempdom.innerHTML = innerHTML;\r\n    return tempdom.innerHTML === dom.innerHTML;\r\n}\r\nfunction isSamePropsInnerHTML(dom, props) {\r\n    return Boolean(props &&\r\n        props.dangerouslySetInnerHTML &&\r\n        props.dangerouslySetInnerHTML.__html &&\r\n        isSameInnerHTML(dom, props.dangerouslySetInnerHTML.__html));\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n/**\r\n * Creates virtual node\r\n * @param {number} flags\r\n * @param {string|Function|null} type\r\n * @param {string|null=} className\r\n * @param {object=} children\r\n * @param {object=} props\r\n * @param {*=} key\r\n * @param {object|Function=} ref\r\n * @param {boolean=} noNormalise\r\n * @returns {VNode} returns new virtual node\r\n */\r\nfunction createVNode(flags, type, className, children, props, key, ref, noNormalise) {\r\n    if (flags & 16 /* ComponentUnknown */) {\r\n        flags = isStatefulComponent(type)\r\n            ? 4 /* ComponentClass */\r\n            : 8 /* ComponentFunction */;\r\n    }\r\n    var vNode = {\r\n        children: children === void 0 ? null : children,\r\n        className: className === void 0 ? null : className,\r\n        dom: null,\r\n        flags: flags,\r\n        key: key === void 0 ? null : key,\r\n        props: props === void 0 ? null : props,\r\n        ref: ref === void 0 ? null : ref,\r\n        type: type\r\n    };\r\n    if (noNormalise !== true) {\r\n        normalize(vNode);\r\n    }\r\n    if (options.createVNode !== null) {\r\n        options.createVNode(vNode);\r\n    }\r\n    return vNode;\r\n}\r\nfunction directClone(vNodeToClone) {\r\n    var newVNode;\r\n    var flags = vNodeToClone.flags;\r\n    if (flags & 28 /* Component */) {\r\n        var props;\r\n        var propsToClone = vNodeToClone.props;\r\n        if (isNull(propsToClone)) {\r\n            props = EMPTY_OBJ;\r\n        }\r\n        else {\r\n            props = {};\r\n            for (var key in propsToClone) {\r\n                props[key] = propsToClone[key];\r\n            }\r\n        }\r\n        newVNode = createVNode(flags, vNodeToClone.type, null, null, props, vNodeToClone.key, vNodeToClone.ref, true);\r\n        var newProps = newVNode.props;\r\n        var newChildren = newProps.children;\r\n        // we need to also clone component children that are in props\r\n        // as the children may also have been hoisted\r\n        if (newChildren) {\r\n            if (isArray(newChildren)) {\r\n                var len = newChildren.length;\r\n                if (len > 0) {\r\n                    var tmpArray = [];\r\n                    for (var i = 0; i < len; i++) {\r\n                        var child = newChildren[i];\r\n                        if (isStringOrNumber(child)) {\r\n                            tmpArray.push(child);\r\n                        }\r\n                        else if (!isInvalid(child) && isVNode(child)) {\r\n                            tmpArray.push(directClone(child));\r\n                        }\r\n                    }\r\n                    newProps.children = tmpArray;\r\n                }\r\n            }\r\n            else if (isVNode(newChildren)) {\r\n                newProps.children = directClone(newChildren);\r\n            }\r\n        }\r\n        newVNode.children = null;\r\n    }\r\n    else if (flags & 3970 /* Element */) {\r\n        var children = vNodeToClone.children;\r\n        var props$1;\r\n        var propsToClone$1 = vNodeToClone.props;\r\n        if (propsToClone$1 === null) {\r\n            props$1 = EMPTY_OBJ;\r\n        }\r\n        else {\r\n            props$1 = {};\r\n            for (var key$1 in propsToClone$1) {\r\n                props$1[key$1] = propsToClone$1[key$1];\r\n            }\r\n        }\r\n        newVNode = createVNode(flags, vNodeToClone.type, vNodeToClone.className, children, props$1, vNodeToClone.key, vNodeToClone.ref, !children);\r\n    }\r\n    else if (flags & 1 /* Text */) {\r\n        newVNode = createTextVNode(vNodeToClone.children, vNodeToClone.key);\r\n    }\r\n    return newVNode;\r\n}\r\n/*\r\n directClone is preferred over cloneVNode and used internally also.\r\n This function makes Inferno backwards compatible.\r\n And can be tree-shaked by modern bundlers\r\n\r\n Would be nice to combine this with directClone but could not do it without breaking change\r\n */\r\n/**\r\n * Clones given virtual node by creating new instance of it\r\n * @param {VNode} vNodeToClone virtual node to be cloned\r\n * @param {Props=} props additional props for new virtual node\r\n * @param {...*} _children new children for new virtual node\r\n * @returns {VNode} new virtual node\r\n */\r\nfunction cloneVNode(vNodeToClone, props) {\n    var _children = [], len$2 = arguments.length - 2;\n    while ( len$2-- > 0 ) _children[ len$2 ] = arguments[ len$2 + 2 ];\n\r\n    var children = _children;\r\n    var childrenLen = _children.length;\r\n    if (childrenLen > 0 && !isUndefined(_children[0])) {\r\n        if (!props) {\r\n            props = {};\r\n        }\r\n        if (childrenLen === 1) {\r\n            children = _children[0];\r\n        }\r\n        if (!isUndefined(children)) {\r\n            props.children = children;\r\n        }\r\n    }\r\n    var newVNode;\r\n    if (isArray(vNodeToClone)) {\r\n        var tmpArray = [];\r\n        for (var i = 0, len = vNodeToClone.length; i < len; i++) {\r\n            tmpArray.push(directClone(vNodeToClone[i]));\r\n        }\r\n        newVNode = tmpArray;\r\n    }\r\n    else {\r\n        var flags = vNodeToClone.flags;\r\n        var className = vNodeToClone.className;\r\n        var key = vNodeToClone.key;\r\n        var ref = vNodeToClone.ref;\r\n        if (props) {\r\n            if (props.hasOwnProperty(\"className\")) {\r\n                className = props.className;\r\n            }\r\n            if (props.hasOwnProperty(\"ref\")) {\r\n                ref = props.ref;\r\n            }\r\n            if (props.hasOwnProperty(\"key\")) {\r\n                key = props.key;\r\n            }\r\n        }\r\n        if (flags & 28 /* Component */) {\r\n            newVNode = createVNode(flags, vNodeToClone.type, className, null, !vNodeToClone.props && !props\r\n                ? EMPTY_OBJ\r\n                : combineFrom(vNodeToClone.props, props), key, ref, true);\r\n            var newProps = newVNode.props;\r\n            if (newProps) {\r\n                var newChildren = newProps.children;\r\n                // we need to also clone component children that are in props\r\n                // as the children may also have been hoisted\r\n                if (newChildren) {\r\n                    if (isArray(newChildren)) {\r\n                        var len$1 = newChildren.length;\r\n                        if (len$1 > 0) {\r\n                            var tmpArray$1 = [];\r\n                            for (var i$1 = 0; i$1 < len$1; i$1++) {\r\n                                var child = newChildren[i$1];\r\n                                if (isStringOrNumber(child)) {\r\n                                    tmpArray$1.push(child);\r\n                                }\r\n                                else if (!isInvalid(child) && isVNode(child)) {\r\n                                    tmpArray$1.push(directClone(child));\r\n                                }\r\n                            }\r\n                            newProps.children = tmpArray$1;\r\n                        }\r\n                    }\r\n                    else if (isVNode(newChildren)) {\r\n                        newProps.children = directClone(newChildren);\r\n                    }\r\n                }\r\n            }\r\n            newVNode.children = null;\r\n        }\r\n        else if (flags & 3970 /* Element */) {\r\n            children =\r\n                props && !isUndefined(props.children)\r\n                    ? props.children\r\n                    : vNodeToClone.children;\r\n            newVNode = createVNode(flags, vNodeToClone.type, className, children, !vNodeToClone.props && !props\r\n                ? EMPTY_OBJ\r\n                : combineFrom(vNodeToClone.props, props), key, ref, false);\r\n        }\r\n        else if (flags & 1 /* Text */) {\r\n            newVNode = createTextVNode(vNodeToClone.children, key);\r\n        }\r\n    }\r\n    return newVNode;\r\n}\r\nfunction createVoidVNode() {\r\n    return createVNode(4096 /* Void */, null);\r\n}\r\nfunction createTextVNode(text, key) {\r\n    return createVNode(1 /* Text */, null, null, text, null, key);\r\n}\r\nfunction isVNode(o) {\r\n    return !!o.flags;\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction applyKey(key, vNode) {\r\n    vNode.key = key;\r\n    return vNode;\r\n}\r\nfunction applyKeyIfMissing(key, vNode) {\r\n    if (isNumber(key)) {\r\n        key = \".\" + key;\r\n    }\r\n    if (isNull(vNode.key) || vNode.key[0] === \".\") {\r\n        return applyKey(key, vNode);\r\n    }\r\n    return vNode;\r\n}\r\nfunction applyKeyPrefix(key, vNode) {\r\n    vNode.key = key + vNode.key;\r\n    return vNode;\r\n}\r\nfunction _normalizeVNodes(nodes, result, index, currentKey) {\r\n    for (var len = nodes.length; index < len; index++) {\r\n        var n = nodes[index];\r\n        var key = currentKey + \".\" + index;\r\n        if (!isInvalid(n)) {\r\n            if (isArray(n)) {\r\n                _normalizeVNodes(n, result, 0, key);\r\n            }\r\n            else {\r\n                if (isStringOrNumber(n)) {\r\n                    n = createTextVNode(n, null);\r\n                }\r\n                else if ((isVNode(n) && n.dom) || (n.key && n.key[0] === \".\")) {\r\n                    n = directClone(n);\r\n                }\r\n                if (isNull(n.key) || n.key[0] === \".\") {\r\n                    n = applyKey(key, n);\r\n                }\r\n                else {\r\n                    n = applyKeyPrefix(currentKey, n);\r\n                }\r\n                result.push(n);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction normalizeVNodes(nodes) {\r\n    var newNodes;\r\n    // we assign $ which basically means we've flagged this array for future note\r\n    // if it comes back again, we need to clone it, as people are using it\r\n    // in an immutable way\r\n    // tslint:disable\r\n    if (nodes[\"$\"] === true) {\r\n        nodes = nodes.slice();\r\n    }\r\n    else {\r\n        nodes[\"$\"] = true;\r\n    }\r\n    // tslint:enable\r\n    for (var i = 0, len = nodes.length; i < len; i++) {\r\n        var n = nodes[i];\r\n        if (isInvalid(n) || isArray(n)) {\r\n            var result = (newNodes || nodes).slice(0, i);\r\n            _normalizeVNodes(nodes, result, i, \"\");\r\n            return result;\r\n        }\r\n        else if (isStringOrNumber(n)) {\r\n            if (!newNodes) {\r\n                newNodes = nodes.slice(0, i);\r\n            }\r\n            newNodes.push(applyKeyIfMissing(i, createTextVNode(n, null)));\r\n        }\r\n        else if ((isVNode(n) && n.dom !== null) ||\r\n            (isNull(n.key) && (n.flags & 64 /* HasNonKeyedChildren */) === 0)) {\r\n            if (!newNodes) {\r\n                newNodes = nodes.slice(0, i);\r\n            }\r\n            newNodes.push(applyKeyIfMissing(i, directClone(n)));\r\n        }\r\n        else if (newNodes) {\r\n            newNodes.push(applyKeyIfMissing(i, directClone(n)));\r\n        }\r\n    }\r\n    return newNodes || nodes;\r\n}\r\nfunction normalizeChildren(children) {\r\n    if (isArray(children)) {\r\n        return normalizeVNodes(children);\r\n    }\r\n    else if (isVNode(children) && children.dom !== null) {\r\n        return directClone(children);\r\n    }\r\n    return children;\r\n}\r\nfunction normalizeProps(vNode, props, children) {\r\n    if (vNode.flags & 3970 /* Element */) {\r\n        if (isNullOrUndef(children) && props.hasOwnProperty(\"children\")) {\r\n            vNode.children = props.children;\r\n        }\r\n        if (props.hasOwnProperty(\"className\")) {\r\n            vNode.className = props.className || null;\r\n            delete props.className;\r\n        }\r\n    }\r\n    if (props.hasOwnProperty(\"ref\")) {\r\n        vNode.ref = props.ref;\r\n        delete props.ref;\r\n    }\r\n    if (props.hasOwnProperty(\"key\")) {\r\n        vNode.key = props.key;\r\n        delete props.key;\r\n    }\r\n}\r\nfunction getFlagsForElementVnode(type) {\r\n    if (type === \"svg\") {\r\n        return 128 /* SvgElement */;\r\n    }\r\n    else if (type === \"input\") {\r\n        return 512 /* InputElement */;\r\n    }\r\n    else if (type === \"select\") {\r\n        return 2048 /* SelectElement */;\r\n    }\r\n    else if (type === \"textarea\") {\r\n        return 1024 /* TextareaElement */;\r\n    }\r\n    else if (type === \"media\") {\r\n        return 256 /* MediaElement */;\r\n    }\r\n    return 2 /* HtmlElement */;\r\n}\r\nfunction normalize(vNode) {\r\n    var props = vNode.props;\r\n    var children = vNode.children;\r\n    // convert a wrongly created type back to element\r\n    // Primitive node doesn't have defaultProps, only Component\r\n    if (vNode.flags & 28 /* Component */) {\r\n        // set default props\r\n        var type = vNode.type;\r\n        var defaultProps = type.defaultProps;\r\n        if (!isNullOrUndef(defaultProps)) {\r\n            if (!props) {\r\n                props = vNode.props = defaultProps; // Create new object if only defaultProps given\r\n            }\r\n            else {\r\n                for (var prop in defaultProps) {\r\n                    if (isUndefined(props[prop])) {\r\n                        props[prop] = defaultProps[prop];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (isString(type)) {\r\n            vNode.flags = getFlagsForElementVnode(type);\r\n            if (props && props.children) {\r\n                vNode.children = props.children;\r\n                children = props.children;\r\n            }\r\n        }\r\n    }\r\n    if (props) {\r\n        normalizeProps(vNode, props, children);\r\n        if (!isInvalid(props.children)) {\r\n            props.children = normalizeChildren(props.children);\r\n        }\r\n    }\r\n    if (!isInvalid(children)) {\r\n        vNode.children = normalizeChildren(children);\r\n    }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        // This code will be stripped out from production CODE\r\n        // It helps users to track errors in their applications.\r\n        var verifyKeys = function (vNodes) {\r\n            var keyValues = vNodes.map((function (vnode) {\r\n                return vnode.key;\r\n            }));\r\n            keyValues.some((function (item, idx) {\r\n                var hasDuplicate = keyValues.indexOf(item) !== idx;\r\n                if (hasDuplicate) {\r\n                    warning(\"Inferno normalisation(...): Encountered two children with same key, all keys must be unique within its siblings. Duplicated key is:\" +\r\n                        item);\r\n                }\r\n                return hasDuplicate;\r\n            }));\r\n        };\r\n        if (vNode.children && Array.isArray(vNode.children)) {\r\n            verifyKeys(vNode.children);\r\n        }\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n/**\r\n * Links given data to event as first parameter\r\n * @param {*} data data to be linked, it will be available in function as first parameter\r\n * @param {Function} event Function to be called when event occurs\r\n * @returns {{data: *, event: Function}}\r\n */\r\nfunction linkEvent(data, event) {\r\n    if (isFunction(event)) {\r\n        return { data: data, event: event };\r\n    }\r\n    return null; // Return null when event is invalid, to avoid creating unnecessary event handlers\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n/* tslint:disable:object-literal-sort-keys */\r\nif (process.env.NODE_ENV !== \"production\") {\r\n    /* tslint:disable-next-line:no-empty */\r\n    var testFunc = function testFn() { };\r\n    if ((testFunc.name || testFunc.toString()).indexOf(\"testFn\") ===\r\n        -1) {\r\n        warning(\"It looks like you're using a minified copy of the development build \" +\r\n            \"of Inferno. When deploying Inferno apps to production, make sure to use \" +\r\n            \"the production build which skips development warnings and is faster. \" +\r\n            \"See http://infernojs.org for more details.\");\r\n    }\r\n}\r\nvar version = \"3.10.1\";\r\n// we duplicate it so it plays nicely with different module loading systems\r\nvar index = {\r\n    EMPTY_OBJ: EMPTY_OBJ,\r\n    NO_OP: NO_OP,\r\n    cloneVNode: cloneVNode,\r\n    createRenderer: createRenderer,\r\n    createVNode: createVNode,\r\n    findDOMNode: findDOMNode,\r\n    getFlagsForElementVnode: getFlagsForElementVnode,\r\n    internal_DOMNodeMap: componentToDOMNodeMap,\r\n    internal_isUnitlessNumber: isUnitlessNumber,\r\n    internal_normalize: normalize,\r\n    internal_patch: patch,\r\n    linkEvent: linkEvent,\r\n    options: options,\r\n    render: render,\r\n    version: version\r\n};\n\nexports['default'] = index;\nexports.EMPTY_OBJ = EMPTY_OBJ;\nexports.NO_OP = NO_OP;\nexports.cloneVNode = cloneVNode;\nexports.createRenderer = createRenderer;\nexports.createVNode = createVNode;\nexports.findDOMNode = findDOMNode;\nexports.getFlagsForElementVnode = getFlagsForElementVnode;\nexports.internal_DOMNodeMap = componentToDOMNodeMap;\nexports.internal_isUnitlessNumber = isUnitlessNumber;\nexports.internal_normalize = normalize;\nexports.internal_patch = patch;\nexports.linkEvent = linkEvent;\nexports.options = options;\nexports.render = render;\nexports.version = version;\n","module.exports = require('./dist').default;\nmodule.exports.default = module.exports;\n\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar inferno = require('inferno');\n\n/**\r\n * @module Inferno-Shared\r\n */ /** TypeDoc Comment */\r\nfunction isNullOrUndef(o) {\r\n    return isUndefined(o) || isNull(o);\r\n}\r\nfunction isInvalid(o) {\r\n    return isNull(o) || o === false || isTrue(o) || isUndefined(o);\r\n}\r\nfunction isString(o) {\r\n    return typeof o === \"string\";\r\n}\r\nfunction isNull(o) {\r\n    return o === null;\r\n}\r\nfunction isTrue(o) {\r\n    return o === true;\r\n}\r\nfunction isUndefined(o) {\r\n    return o === void 0;\r\n}\r\nfunction isObject(o) {\r\n    return typeof o === \"object\";\r\n}\r\nfunction Lifecycle() {\r\n    this.listeners = [];\r\n}\r\nLifecycle.prototype.addListener = function addListener(callback) {\r\n    this.listeners.push(callback);\r\n};\r\nLifecycle.prototype.trigger = function trigger() {\r\n    var listeners = this.listeners;\r\n    var listener;\r\n    // We need to remove current listener from array when calling it, because more listeners might be added\r\n    while ((listener = listeners.shift())) {\r\n        listener();\r\n    }\r\n};\n\n/**\r\n * @module Inferno-Create-Element\r\n */ /** TypeDoc Comment */\r\nvar componentHooks = new Set();\r\ncomponentHooks.add(\"onComponentWillMount\");\r\ncomponentHooks.add(\"onComponentDidMount\");\r\ncomponentHooks.add(\"onComponentWillUnmount\");\r\ncomponentHooks.add(\"onComponentShouldUpdate\");\r\ncomponentHooks.add(\"onComponentWillUpdate\");\r\ncomponentHooks.add(\"onComponentDidUpdate\");\r\n/**\r\n * Creates virtual node\r\n * @param {string|Function|Component<any, any>} type Type of node\r\n * @param {object=} props Optional props for virtual node\r\n * @param {...{object}=} _children Optional children for virtual node\r\n * @returns {VNode} new virtual ndoe\r\n */\r\nfunction createElement(type, props) {\n    var _children = [], len = arguments.length - 2;\n    while ( len-- > 0 ) _children[ len ] = arguments[ len + 2 ];\n\r\n    if (isInvalid(type) || isObject(type)) {\r\n        throw new Error(\"Inferno Error: createElement() name parameter cannot be undefined, null, false or true, It must be a string, class or function.\");\r\n    }\r\n    var children = _children;\r\n    var ref = null;\r\n    var key = null;\r\n    var className = null;\r\n    var flags = 0;\r\n    var newProps;\r\n    if (_children) {\r\n        if (_children.length === 1) {\r\n            children = _children[0];\r\n        }\r\n        else if (_children.length === 0) {\r\n            children = void 0;\r\n        }\r\n    }\r\n    if (isString(type)) {\r\n        flags = inferno.getFlagsForElementVnode(type);\r\n        if (!isNullOrUndef(props)) {\r\n            newProps = {};\r\n            for (var prop in props) {\r\n                if (prop === \"className\" || prop === \"class\") {\r\n                    className = props[prop];\r\n                }\r\n                else if (prop === \"key\") {\r\n                    key = props.key;\r\n                }\r\n                else if (prop === \"children\" && isUndefined(children)) {\r\n                    children = props.children; // always favour children args, default to props\r\n                }\r\n                else if (prop === \"ref\") {\r\n                    ref = props.ref;\r\n                }\r\n                else {\r\n                    newProps[prop] = props[prop];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        flags = 16 /* ComponentUnknown */;\r\n        if (!isUndefined(children)) {\r\n            if (!props) {\r\n                props = {};\r\n            }\r\n            props.children = children;\r\n            children = null;\r\n        }\r\n        if (!isNullOrUndef(props)) {\r\n            newProps = {};\r\n            for (var prop$1 in props) {\r\n                if (componentHooks.has(prop$1)) {\r\n                    if (!ref) {\r\n                        ref = {};\r\n                    }\r\n                    ref[prop$1] = props[prop$1];\r\n                }\r\n                else if (prop$1 === \"key\") {\r\n                    key = props.key;\r\n                }\r\n                else {\r\n                    newProps[prop$1] = props[prop$1];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return inferno.createVNode(flags, type, className, children, newProps, key, ref);\r\n}\n\nexports['default'] = createElement;\n","module.exports = require('./dist').default;\nmodule.exports.default = module.exports;\n\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\r\n * @module Inferno-Shared\r\n */ /** TypeDoc Comment */\r\nvar NO_OP = \"$NO_OP\";\r\nvar ERROR_MSG = \"a runtime error occured! Use Inferno in development environment to find the error.\";\r\n// This should be boolean and not reference to window.document\r\nvar isBrowser = !!(typeof window !== \"undefined\" && window.document);\r\n// this is MUCH faster than .constructor === Array and instanceof Array\r\n// in Node 7 and the later versions of V8, slower in older versions though\r\nvar isArray = Array.isArray;\r\nfunction isStatefulComponent(o) {\r\n    return !isUndefined(o.prototype) && !isUndefined(o.prototype.render);\r\n}\r\nfunction isStringOrNumber(o) {\r\n    var type = typeof o;\r\n    return type === \"string\" || type === \"number\";\r\n}\r\nfunction isNullOrUndef(o) {\r\n    return isUndefined(o) || isNull(o);\r\n}\r\nfunction isInvalid(o) {\r\n    return isNull(o) || o === false || isTrue(o) || isUndefined(o);\r\n}\r\nfunction isFunction(o) {\r\n    return typeof o === \"function\";\r\n}\r\nfunction isString(o) {\r\n    return typeof o === \"string\";\r\n}\r\nfunction isNumber(o) {\r\n    return typeof o === \"number\";\r\n}\r\nfunction isNull(o) {\r\n    return o === null;\r\n}\r\nfunction isTrue(o) {\r\n    return o === true;\r\n}\r\nfunction isUndefined(o) {\r\n    return o === void 0;\r\n}\r\nfunction isObject(o) {\r\n    return typeof o === \"object\";\r\n}\r\nfunction throwError(message) {\r\n    if (!message) {\r\n        message = ERROR_MSG;\r\n    }\r\n    throw new Error((\"Inferno Error: \" + message));\r\n}\r\nfunction warning(message) {\r\n    // tslint:disable-next-line:no-console\r\n    console.warn(message);\r\n}\r\nfunction combineFrom(first, second) {\r\n    var out = {};\r\n    if (first) {\r\n        for (var key in first) {\r\n            out[key] = first[key];\r\n        }\r\n    }\r\n    if (second) {\r\n        for (var key$1 in second) {\r\n            out[key$1] = second[key$1];\r\n        }\r\n    }\r\n    return out;\r\n}\r\nfunction Lifecycle() {\r\n    this.listeners = [];\r\n}\r\nLifecycle.prototype.addListener = function addListener(callback) {\r\n    this.listeners.push(callback);\r\n};\r\nLifecycle.prototype.trigger = function trigger() {\r\n    var listeners = this.listeners;\r\n    var listener;\r\n    // We need to remove current listener from array when calling it, because more listeners might be added\r\n    while ((listener = listeners.shift())) {\r\n        listener();\r\n    }\r\n};\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nvar options = {\r\n    afterMount: null,\r\n    afterRender: null,\r\n    afterUpdate: null,\r\n    beforeRender: null,\r\n    beforeUnmount: null,\r\n    createVNode: null,\r\n    findDOMNodeEnabled: false,\r\n    recyclingEnabled: false,\r\n    roots: []\r\n};\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nvar xlinkNS = \"http://www.w3.org/1999/xlink\";\r\nvar xmlNS = \"http://www.w3.org/XML/1998/namespace\";\r\nvar svgNS = \"http://www.w3.org/2000/svg\";\r\nvar strictProps = new Set();\r\nstrictProps.add(\"volume\");\r\nstrictProps.add(\"defaultChecked\");\r\nvar booleanProps = new Set();\r\nbooleanProps.add(\"muted\");\r\nbooleanProps.add(\"scoped\");\r\nbooleanProps.add(\"loop\");\r\nbooleanProps.add(\"open\");\r\nbooleanProps.add(\"checked\");\r\nbooleanProps.add(\"default\");\r\nbooleanProps.add(\"capture\");\r\nbooleanProps.add(\"disabled\");\r\nbooleanProps.add(\"readOnly\");\r\nbooleanProps.add(\"required\");\r\nbooleanProps.add(\"autoplay\");\r\nbooleanProps.add(\"controls\");\r\nbooleanProps.add(\"seamless\");\r\nbooleanProps.add(\"reversed\");\r\nbooleanProps.add(\"allowfullscreen\");\r\nbooleanProps.add(\"novalidate\");\r\nbooleanProps.add(\"hidden\");\r\nbooleanProps.add(\"autoFocus\");\r\nbooleanProps.add(\"selected\");\r\nbooleanProps.add(\"indeterminate\");\r\nvar namespaces = new Map();\r\nnamespaces.set(\"xlink:href\", xlinkNS);\r\nnamespaces.set(\"xlink:arcrole\", xlinkNS);\r\nnamespaces.set(\"xlink:actuate\", xlinkNS);\r\nnamespaces.set(\"xlink:show\", xlinkNS);\r\nnamespaces.set(\"xlink:role\", xlinkNS);\r\nnamespaces.set(\"xlink:title\", xlinkNS);\r\nnamespaces.set(\"xlink:type\", xlinkNS);\r\nnamespaces.set(\"xml:base\", xmlNS);\r\nnamespaces.set(\"xml:lang\", xmlNS);\r\nnamespaces.set(\"xml:space\", xmlNS);\r\nvar isUnitlessNumber = new Set();\r\nisUnitlessNumber.add(\"animationIterationCount\");\r\nisUnitlessNumber.add(\"borderImageOutset\");\r\nisUnitlessNumber.add(\"borderImageSlice\");\r\nisUnitlessNumber.add(\"borderImageWidth\");\r\nisUnitlessNumber.add(\"boxFlex\");\r\nisUnitlessNumber.add(\"boxFlexGroup\");\r\nisUnitlessNumber.add(\"boxOrdinalGroup\");\r\nisUnitlessNumber.add(\"columnCount\");\r\nisUnitlessNumber.add(\"flex\");\r\nisUnitlessNumber.add(\"flexGrow\");\r\nisUnitlessNumber.add(\"flexPositive\");\r\nisUnitlessNumber.add(\"flexShrink\");\r\nisUnitlessNumber.add(\"flexNegative\");\r\nisUnitlessNumber.add(\"flexOrder\");\r\nisUnitlessNumber.add(\"gridRow\");\r\nisUnitlessNumber.add(\"gridColumn\");\r\nisUnitlessNumber.add(\"fontWeight\");\r\nisUnitlessNumber.add(\"lineClamp\");\r\nisUnitlessNumber.add(\"lineHeight\");\r\nisUnitlessNumber.add(\"opacity\");\r\nisUnitlessNumber.add(\"order\");\r\nisUnitlessNumber.add(\"orphans\");\r\nisUnitlessNumber.add(\"tabSize\");\r\nisUnitlessNumber.add(\"widows\");\r\nisUnitlessNumber.add(\"zIndex\");\r\nisUnitlessNumber.add(\"zoom\");\r\nisUnitlessNumber.add(\"fillOpacity\");\r\nisUnitlessNumber.add(\"floodOpacity\");\r\nisUnitlessNumber.add(\"stopOpacity\");\r\nisUnitlessNumber.add(\"strokeDasharray\");\r\nisUnitlessNumber.add(\"strokeDashoffset\");\r\nisUnitlessNumber.add(\"strokeMiterlimit\");\r\nisUnitlessNumber.add(\"strokeOpacity\");\r\nisUnitlessNumber.add(\"strokeWidth\");\r\nvar skipProps = new Set();\r\nskipProps.add(\"children\");\r\nskipProps.add(\"childrenType\");\r\nskipProps.add(\"defaultValue\");\r\nskipProps.add(\"ref\");\r\nskipProps.add(\"key\");\r\nskipProps.add(\"checked\");\r\nskipProps.add(\"multiple\");\r\nvar delegatedEvents = new Set();\r\ndelegatedEvents.add(\"onClick\");\r\ndelegatedEvents.add(\"onMouseDown\");\r\ndelegatedEvents.add(\"onMouseUp\");\r\ndelegatedEvents.add(\"onMouseMove\");\r\ndelegatedEvents.add(\"onSubmit\");\r\ndelegatedEvents.add(\"onDblClick\");\r\ndelegatedEvents.add(\"onKeyDown\");\r\ndelegatedEvents.add(\"onKeyUp\");\r\ndelegatedEvents.add(\"onKeyPress\");\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nvar isiOS = isBrowser &&\r\n    !!navigator.platform &&\r\n    /iPad|iPhone|iPod/.test(navigator.platform);\r\nvar delegatedEvents$1 = new Map();\r\nfunction handleEvent(name, lastEvent, nextEvent, dom) {\r\n    var delegatedRoots = delegatedEvents$1.get(name);\r\n    if (nextEvent) {\r\n        if (!delegatedRoots) {\r\n            delegatedRoots = { items: new Map(), docEvent: null };\r\n            delegatedRoots.docEvent = attachEventToDocument(name, delegatedRoots);\r\n            delegatedEvents$1.set(name, delegatedRoots);\r\n        }\r\n        if (!lastEvent) {\r\n            if (isiOS && name === \"onClick\") {\r\n                trapClickOnNonInteractiveElement(dom);\r\n            }\r\n        }\r\n        delegatedRoots.items.set(dom, nextEvent);\r\n    }\r\n    else if (delegatedRoots) {\r\n        var items = delegatedRoots.items;\r\n        if (items.delete(dom)) {\r\n            // If any items were deleted, check if listener need to be removed\r\n            if (items.size === 0) {\r\n                document.removeEventListener(normalizeEventName(name), delegatedRoots.docEvent);\r\n                delegatedEvents$1.delete(name);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction dispatchEvents(event, target, items, count, isClick, eventData) {\r\n    var dom = target;\r\n    while (count > 0) {\r\n        if (isClick && dom.disabled) {\r\n            return;\r\n        }\r\n        var eventsToTrigger = items.get(dom);\r\n        if (eventsToTrigger) {\r\n            count--;\r\n            // linkEvent object\r\n            eventData.dom = dom;\r\n            if (eventsToTrigger.event) {\r\n                eventsToTrigger.event(eventsToTrigger.data, event);\r\n            }\r\n            else {\r\n                eventsToTrigger(event);\r\n            }\r\n            if (event.cancelBubble) {\r\n                return;\r\n            }\r\n        }\r\n        dom = dom.parentNode;\r\n        // Html Nodes can be nested fe: span inside button in that scenario browser does not handle disabled attribute on parent,\r\n        // because the event listener is on document.body\r\n        // Don't process clicks on disabled elements\r\n        if (dom === null) {\r\n            return;\r\n        }\r\n    }\r\n}\r\nfunction normalizeEventName(name) {\r\n    return name.substr(2).toLowerCase();\r\n}\r\nfunction stopPropagation() {\r\n    this.cancelBubble = true;\r\n    this.stopImmediatePropagation();\r\n}\r\nfunction attachEventToDocument(name, delegatedRoots) {\r\n    var docEvent = function (event) {\r\n        var count = delegatedRoots.items.size;\r\n        if (count > 0) {\r\n            event.stopPropagation = stopPropagation;\r\n            // Event data needs to be object to save reference to currentTarget getter\r\n            var eventData = {\r\n                dom: document\r\n            };\r\n            try {\r\n                Object.defineProperty(event, \"currentTarget\", {\r\n                    configurable: true,\r\n                    get: function get() {\r\n                        return eventData.dom;\r\n                    }\r\n                });\r\n            }\r\n            catch (e) {\r\n                /* safari7 and phantomJS will crash */\r\n            }\r\n            dispatchEvents(event, event.target, delegatedRoots.items, count, event.type === \"click\", eventData);\r\n        }\r\n    };\r\n    document.addEventListener(normalizeEventName(name), docEvent);\r\n    return docEvent;\r\n}\r\n// tslint:disable-next-line:no-empty\r\nfunction emptyFn() { }\r\nfunction trapClickOnNonInteractiveElement(dom) {\r\n    // Mobile Safari does not fire properly bubble click events on\r\n    // non-interactive elements, which means delegated click listeners do not\r\n    // fire. The workaround for this bug involves attaching an empty click\r\n    // listener on the target node.\r\n    // http://www.quirksmode.org/blog/archives/2010/09/click_event_del.html\r\n    // Just set it using the onclick property so that we don't have to manage any\r\n    // bookkeeping for it. Not sure if we need to clear it when the listener is\r\n    // removed.\r\n    // TODO: Only do this for the relevant Safaris maybe?\r\n    dom.onclick = emptyFn;\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction isCheckedType(type) {\r\n    return type === \"checkbox\" || type === \"radio\";\r\n}\r\nfunction onTextInputChange(e) {\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    var previousValue = props.value;\r\n    if (props.onInput) {\r\n        var event = props.onInput;\r\n        if (event.event) {\r\n            event.event(event.data, e);\r\n        }\r\n        else {\r\n            event(e);\r\n        }\r\n    }\r\n    else if (props.oninput) {\r\n        props.oninput(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    if (previousValue !== newProps.value) {\r\n        // When this happens we need to store current cursor position and restore it, to avoid jumping\r\n        applyValue(newProps, dom);\r\n    }\r\n}\r\nfunction wrappedOnChange(e) {\r\n    var props = this.vNode.props || EMPTY_OBJ;\r\n    var event = props.onChange;\r\n    if (event.event) {\r\n        event.event(event.data, e);\r\n    }\r\n    else {\r\n        event(e);\r\n    }\r\n}\r\nfunction onCheckboxChange(e) {\r\n    e.stopPropagation(); // This click should not propagate its for internal use\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    if (props.onClick) {\r\n        var event = props.onClick;\r\n        if (event.event) {\r\n            event.event(event.data, e);\r\n        }\r\n        else {\r\n            event(e);\r\n        }\r\n    }\r\n    else if (props.onclick) {\r\n        props.onclick(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    applyValue(newProps, dom);\r\n}\r\nfunction processInput(vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    applyValue(nextPropsOrEmpty, dom);\r\n    if (isControlled) {\r\n        dom.vNode = vNode; // TODO: Remove this when implementing Fiber's\r\n        if (mounting) {\r\n            if (isCheckedType(nextPropsOrEmpty.type)) {\r\n                dom.onclick = onCheckboxChange;\r\n                dom.onclick.wrapped = true;\r\n            }\r\n            else {\r\n                dom.oninput = onTextInputChange;\r\n                dom.oninput.wrapped = true;\r\n            }\r\n            if (nextPropsOrEmpty.onChange) {\r\n                dom.onchange = wrappedOnChange;\r\n                dom.onchange.wrapped = true;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction applyValue(nextPropsOrEmpty, dom) {\r\n    var type = nextPropsOrEmpty.type;\r\n    var value = nextPropsOrEmpty.value;\r\n    var checked = nextPropsOrEmpty.checked;\r\n    var multiple = nextPropsOrEmpty.multiple;\r\n    var defaultValue = nextPropsOrEmpty.defaultValue;\r\n    var hasValue = !isNullOrUndef(value);\r\n    if (type && type !== dom.type) {\r\n        dom.setAttribute(\"type\", type);\r\n    }\r\n    if (multiple && multiple !== dom.multiple) {\r\n        dom.multiple = multiple;\r\n    }\r\n    if (!isNullOrUndef(defaultValue) && !hasValue) {\r\n        dom.defaultValue = defaultValue + \"\";\r\n    }\r\n    if (isCheckedType(type)) {\r\n        if (hasValue) {\r\n            dom.value = value;\r\n        }\r\n        if (!isNullOrUndef(checked)) {\r\n            dom.checked = checked;\r\n        }\r\n    }\r\n    else {\r\n        if (hasValue && dom.value !== value) {\r\n            dom.defaultValue = value;\r\n            dom.value = value;\r\n        }\r\n        else if (!isNullOrUndef(checked)) {\r\n            dom.checked = checked;\r\n        }\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction updateChildOptionGroup(vNode, value) {\r\n    var type = vNode.type;\r\n    if (type === \"optgroup\") {\r\n        var children = vNode.children;\r\n        if (isArray(children)) {\r\n            for (var i = 0, len = children.length; i < len; i++) {\r\n                updateChildOption(children[i], value);\r\n            }\r\n        }\r\n        else if (isVNode(children)) {\r\n            updateChildOption(children, value);\r\n        }\r\n    }\r\n    else {\r\n        updateChildOption(vNode, value);\r\n    }\r\n}\r\nfunction updateChildOption(vNode, value) {\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    // we do this as multiple may have changed\r\n    dom.value = props.value;\r\n    if ((isArray(value) && value.indexOf(props.value) !== -1) ||\r\n        props.value === value) {\r\n        dom.selected = true;\r\n    }\r\n    else if (!isNullOrUndef(value) || !isNullOrUndef(props.selected)) {\r\n        dom.selected = props.selected || false;\r\n    }\r\n}\r\nfunction onSelectChange(e) {\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    var previousValue = props.value;\r\n    if (props.onChange) {\r\n        var event = props.onChange;\r\n        if (event.event) {\r\n            event.event(event.data, e);\r\n        }\r\n        else {\r\n            event(e);\r\n        }\r\n    }\r\n    else if (props.onchange) {\r\n        props.onchange(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    if (previousValue !== newProps.value) {\r\n        // When this happens we need to store current cursor position and restore it, to avoid jumping\r\n        applyValue$1(newVNode, dom, newProps, false);\r\n    }\r\n}\r\nfunction processSelect(vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    applyValue$1(vNode, dom, nextPropsOrEmpty, mounting);\r\n    if (isControlled) {\r\n        dom.vNode = vNode; // TODO: Remove this when implementing Fiber's\r\n        if (mounting) {\r\n            dom.onchange = onSelectChange;\r\n            dom.onchange.wrapped = true;\r\n        }\r\n    }\r\n}\r\nfunction applyValue$1(vNode, dom, nextPropsOrEmpty, mounting) {\r\n    if (nextPropsOrEmpty.multiple !== dom.multiple) {\r\n        dom.multiple = nextPropsOrEmpty.multiple;\r\n    }\r\n    var children = vNode.children;\r\n    if (!isInvalid(children)) {\r\n        var value = nextPropsOrEmpty.value;\r\n        if (mounting && isNullOrUndef(value)) {\r\n            value = nextPropsOrEmpty.defaultValue;\r\n        }\r\n        if (isArray(children)) {\r\n            for (var i = 0, len = children.length; i < len; i++) {\r\n                updateChildOptionGroup(children[i], value);\r\n            }\r\n        }\r\n        else if (isVNode(children)) {\r\n            updateChildOptionGroup(children, value);\r\n        }\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction wrappedOnChange$1(e) {\r\n    var props = this.vNode.props || EMPTY_OBJ;\r\n    var event = props.onChange;\r\n    if (event.event) {\r\n        event.event(event.data, e);\r\n    }\r\n    else {\r\n        event(e);\r\n    }\r\n}\r\nfunction onTextareaInputChange(e) {\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var previousValue = props.value;\r\n    if (props.onInput) {\r\n        var event = props.onInput;\r\n        if (event.event) {\r\n            event.event(event.data, e);\r\n        }\r\n        else {\r\n            event(e);\r\n        }\r\n    }\r\n    else if (props.oninput) {\r\n        props.oninput(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    if (previousValue !== newProps.value) {\r\n        // When this happens we need to store current cursor position and restore it, to avoid jumping\r\n        applyValue$2(newVNode, vNode.dom, false);\r\n    }\r\n}\r\nfunction processTextarea(vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    applyValue$2(nextPropsOrEmpty, dom, mounting);\r\n    if (isControlled) {\r\n        dom.vNode = vNode; // TODO: Remove this when implementing Fiber's\r\n        if (mounting) {\r\n            dom.oninput = onTextareaInputChange;\r\n            dom.oninput.wrapped = true;\r\n            if (nextPropsOrEmpty.onChange) {\r\n                dom.onchange = wrappedOnChange$1;\r\n                dom.onchange.wrapped = true;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction applyValue$2(nextPropsOrEmpty, dom, mounting) {\r\n    var value = nextPropsOrEmpty.value;\r\n    var domValue = dom.value;\r\n    if (isNullOrUndef(value)) {\r\n        if (mounting) {\r\n            var defaultValue = nextPropsOrEmpty.defaultValue;\r\n            if (!isNullOrUndef(defaultValue)) {\r\n                if (defaultValue !== domValue) {\r\n                    dom.defaultValue = defaultValue;\r\n                    dom.value = defaultValue;\r\n                }\r\n            }\r\n            else if (domValue !== \"\") {\r\n                dom.defaultValue = \"\";\r\n                dom.value = \"\";\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        /* There is value so keep it controlled */\r\n        if (domValue !== value) {\r\n            dom.defaultValue = value;\r\n            dom.value = value;\r\n        }\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n/**\r\n * There is currently no support for switching same input between controlled and nonControlled\r\n * If that ever becomes a real issue, then re design controlled elements\r\n * Currently user must choose either controlled or non-controlled and stick with that\r\n */\r\nfunction processElement(flags, vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    if ((flags & 512 /* InputElement */) > 0) {\r\n        processInput(vNode, dom, nextPropsOrEmpty, mounting, isControlled);\r\n    }\r\n    else if ((flags & 2048 /* SelectElement */) > 0) {\r\n        processSelect(vNode, dom, nextPropsOrEmpty, mounting, isControlled);\r\n    }\r\n    else if ((flags & 1024 /* TextareaElement */) > 0) {\r\n        processTextarea(vNode, dom, nextPropsOrEmpty, mounting, isControlled);\r\n    }\r\n}\r\nfunction isControlledFormElement(nextPropsOrEmpty) {\r\n    return nextPropsOrEmpty.type && isCheckedType(nextPropsOrEmpty.type)\r\n        ? !isNullOrUndef(nextPropsOrEmpty.checked)\r\n        : !isNullOrUndef(nextPropsOrEmpty.value);\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction normalizeChildNodes(parentDom) {\r\n    var dom = parentDom.firstChild;\r\n    while (dom) {\r\n        if (dom.nodeType === 8) {\r\n            if (dom.data === \"!\") {\r\n                var placeholder = document.createTextNode(\"\");\r\n                parentDom.replaceChild(placeholder, dom);\r\n                dom = dom.nextSibling;\r\n            }\r\n            else {\r\n                var lastDom = dom.previousSibling;\r\n                parentDom.removeChild(dom);\r\n                dom = lastDom || parentDom.firstChild;\r\n            }\r\n        }\r\n        else {\r\n            dom = dom.nextSibling;\r\n        }\r\n    }\r\n}\r\nfunction hydrateComponent(vNode, dom, lifecycle, context, isSVG, isClass) {\r\n    var type = vNode.type;\r\n    var ref = vNode.ref;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    if (isClass) {\r\n        var _isSVG = dom.namespaceURI === svgNS;\r\n        var instance = createClassComponentInstance(vNode, type, props, context, _isSVG, lifecycle);\r\n        var input = instance._lastInput;\r\n        instance._vNode = vNode;\r\n        hydrate(input, dom, lifecycle, instance._childContext, _isSVG);\r\n        vNode.dom = input.dom;\r\n        mountClassComponentCallbacks(vNode, ref, instance, lifecycle);\r\n        instance._updating = false; // Mount finished allow going sync\r\n        if (options.findDOMNodeEnabled) {\r\n            componentToDOMNodeMap.set(instance, dom);\r\n        }\r\n    }\r\n    else {\r\n        var input$1 = createFunctionalComponentInput(vNode, type, props, context);\r\n        hydrate(input$1, dom, lifecycle, context, isSVG);\r\n        vNode.children = input$1;\r\n        vNode.dom = input$1.dom;\r\n        mountFunctionalComponentCallbacks(props, ref, dom, lifecycle);\r\n    }\r\n    return dom;\r\n}\r\nfunction hydrateElement(vNode, dom, lifecycle, context, isSVG) {\r\n    var children = vNode.children;\r\n    var props = vNode.props;\r\n    var className = vNode.className;\r\n    var flags = vNode.flags;\r\n    var ref = vNode.ref;\r\n    isSVG = isSVG || (flags & 128 /* SvgElement */) > 0;\r\n    if (dom.nodeType !== 1 || dom.tagName.toLowerCase() !== vNode.type) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            warning(\"Inferno hydration: Server-side markup doesn't match client-side markup or Initial render target is not empty\");\r\n        }\r\n        var newDom = mountElement(vNode, null, lifecycle, context, isSVG);\r\n        vNode.dom = newDom;\r\n        replaceChild(dom.parentNode, newDom, dom);\r\n        return newDom;\r\n    }\r\n    vNode.dom = dom;\r\n    if (!isInvalid(children)) {\r\n        hydrateChildren(children, dom, lifecycle, context, isSVG);\r\n    }\r\n    else if (dom.firstChild !== null && !isSamePropsInnerHTML(dom, props)) {\r\n        dom.textContent = \"\"; // dom has content, but VNode has no children remove everything from DOM\r\n    }\r\n    if (props) {\r\n        var hasControlledValue = false;\r\n        var isFormElement = (flags & 3584 /* FormElement */) > 0;\r\n        if (isFormElement) {\r\n            hasControlledValue = isControlledFormElement(props);\r\n        }\r\n        for (var prop in props) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            patchProp(prop, null, props[prop], dom, isSVG, hasControlledValue);\r\n        }\r\n        if (isFormElement) {\r\n            processElement(flags, vNode, dom, props, true, hasControlledValue);\r\n        }\r\n    }\r\n    if (!isNullOrUndef(className)) {\r\n        if (isSVG) {\r\n            dom.setAttribute(\"class\", className);\r\n        }\r\n        else {\r\n            dom.className = className;\r\n        }\r\n    }\r\n    else {\r\n        if (dom.className !== \"\") {\r\n            dom.removeAttribute(\"class\");\r\n        }\r\n    }\r\n    if (ref) {\r\n        mountRef(dom, ref, lifecycle);\r\n    }\r\n    return dom;\r\n}\r\nfunction hydrateChildren(children, parentDom, lifecycle, context, isSVG) {\r\n    normalizeChildNodes(parentDom);\r\n    var dom = parentDom.firstChild;\r\n    if (isStringOrNumber(children)) {\r\n        if (!isNull(dom) && dom.nodeType === 3) {\r\n            if (dom.nodeValue !== children) {\r\n                dom.nodeValue = children;\r\n            }\r\n        }\r\n        else if (children === \"\") {\r\n            parentDom.appendChild(document.createTextNode(\"\"));\r\n        }\r\n        else {\r\n            parentDom.textContent = children;\r\n        }\r\n        if (!isNull(dom)) {\r\n            dom = dom.nextSibling;\r\n        }\r\n    }\r\n    else if (isArray(children)) {\r\n        for (var i = 0, len = children.length; i < len; i++) {\r\n            var child = children[i];\r\n            if (!isNull(child) && isObject(child)) {\r\n                if (!isNull(dom)) {\r\n                    var nextSibling = dom.nextSibling;\r\n                    hydrate(child, dom, lifecycle, context, isSVG);\r\n                    dom = nextSibling;\r\n                }\r\n                else {\r\n                    mount(child, parentDom, lifecycle, context, isSVG);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // It's VNode\r\n        if (!isNull(dom)) {\r\n            hydrate(children, dom, lifecycle, context, isSVG);\r\n            dom = dom.nextSibling;\r\n        }\r\n        else {\r\n            mount(children, parentDom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n    // clear any other DOM nodes, there should be only a single entry for the root\r\n    while (dom) {\r\n        var nextSibling$1 = dom.nextSibling;\r\n        parentDom.removeChild(dom);\r\n        dom = nextSibling$1;\r\n    }\r\n}\r\nfunction hydrateText(vNode, dom) {\r\n    if (dom.nodeType !== 3) {\r\n        var newDom = mountText(vNode, null);\r\n        vNode.dom = newDom;\r\n        replaceChild(dom.parentNode, newDom, dom);\r\n        return newDom;\r\n    }\r\n    var text = vNode.children;\r\n    if (dom.nodeValue !== text) {\r\n        dom.nodeValue = text;\r\n    }\r\n    vNode.dom = dom;\r\n    return dom;\r\n}\r\nfunction hydrateVoid(vNode, dom) {\r\n    vNode.dom = dom;\r\n    return dom;\r\n}\r\nfunction hydrate(vNode, dom, lifecycle, context, isSVG) {\r\n    var flags = vNode.flags;\r\n    if (flags & 28 /* Component */) {\r\n        hydrateComponent(vNode, dom, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0);\r\n    }\r\n    else if (flags & 3970 /* Element */) {\r\n        hydrateElement(vNode, dom, lifecycle, context, isSVG);\r\n    }\r\n    else if (flags & 1 /* Text */) {\r\n        hydrateText(vNode, dom);\r\n    }\r\n    else if (flags & 4096 /* Void */) {\r\n        hydrateVoid(vNode, dom);\r\n    }\r\n    else {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError((\"hydrate() expects a valid VNode, instead it received an object with the type \\\"\" + (typeof vNode) + \"\\\".\"));\r\n        }\r\n        throwError();\r\n    }\r\n}\r\nfunction hydrateRoot(input, parentDom, lifecycle) {\r\n    if (!isNull(parentDom)) {\r\n        var dom = parentDom.firstChild;\r\n        if (!isNull(dom)) {\r\n            hydrate(input, dom, lifecycle, EMPTY_OBJ, false);\r\n            dom = parentDom.firstChild;\r\n            // clear any other DOM nodes, there should be only a single entry for the root\r\n            while ((dom = dom.nextSibling)) {\r\n                parentDom.removeChild(dom);\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nvar componentPools = new Map();\r\nvar elementPools = new Map();\r\nfunction recycleElement(vNode, lifecycle, context, isSVG) {\r\n    var tag = vNode.type;\r\n    var pools = elementPools.get(tag);\r\n    if (!isUndefined(pools)) {\r\n        var key = vNode.key;\r\n        var pool = key === null ? pools.nonKeyed : pools.keyed.get(key);\r\n        if (!isUndefined(pool)) {\r\n            var recycledVNode = pool.pop();\r\n            if (!isUndefined(recycledVNode)) {\r\n                patchElement(recycledVNode, vNode, null, lifecycle, context, isSVG, true);\r\n                return vNode.dom;\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction poolElement(vNode) {\r\n    var tag = vNode.type;\r\n    var key = vNode.key;\r\n    var pools = elementPools.get(tag);\r\n    if (isUndefined(pools)) {\r\n        pools = {\r\n            keyed: new Map(),\r\n            nonKeyed: []\r\n        };\r\n        elementPools.set(tag, pools);\r\n    }\r\n    if (isNull(key)) {\r\n        pools.nonKeyed.push(vNode);\r\n    }\r\n    else {\r\n        var pool = pools.keyed.get(key);\r\n        if (isUndefined(pool)) {\r\n            pool = [];\r\n            pools.keyed.set(key, pool);\r\n        }\r\n        pool.push(vNode);\r\n    }\r\n}\r\nfunction recycleComponent(vNode, lifecycle, context, isSVG) {\r\n    var type = vNode.type;\r\n    var pools = componentPools.get(type);\r\n    if (!isUndefined(pools)) {\r\n        var key = vNode.key;\r\n        var pool = key === null ? pools.nonKeyed : pools.keyed.get(key);\r\n        if (!isUndefined(pool)) {\r\n            var recycledVNode = pool.pop();\r\n            if (!isUndefined(recycledVNode)) {\r\n                var flags = vNode.flags;\r\n                var failed = patchComponent(recycledVNode, vNode, null, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0, true);\r\n                if (!failed) {\r\n                    return vNode.dom;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction poolComponent(vNode) {\r\n    var hooks = vNode.ref;\r\n    var nonRecycleHooks = hooks &&\r\n        (hooks.onComponentWillMount ||\r\n            hooks.onComponentWillUnmount ||\r\n            hooks.onComponentDidMount ||\r\n            hooks.onComponentWillUpdate ||\r\n            hooks.onComponentDidUpdate);\r\n    if (nonRecycleHooks) {\r\n        return;\r\n    }\r\n    var type = vNode.type;\r\n    var key = vNode.key;\r\n    var pools = componentPools.get(type);\r\n    if (isUndefined(pools)) {\r\n        pools = {\r\n            keyed: new Map(),\r\n            nonKeyed: []\r\n        };\r\n        componentPools.set(type, pools);\r\n    }\r\n    if (isNull(key)) {\r\n        pools.nonKeyed.push(vNode);\r\n    }\r\n    else {\r\n        var pool = pools.keyed.get(key);\r\n        if (isUndefined(pool)) {\r\n            pool = [];\r\n            pools.keyed.set(key, pool);\r\n        }\r\n        pool.push(vNode);\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction unmount(vNode, parentDom, lifecycle, canRecycle, isRecycling) {\r\n    var flags = vNode.flags;\r\n    var dom = vNode.dom;\r\n    if (flags & 28 /* Component */) {\r\n        var instance = vNode.children;\r\n        var isStatefulComponent$$1 = (flags & 4 /* ComponentClass */) > 0;\r\n        var props = vNode.props || EMPTY_OBJ;\r\n        var ref = vNode.ref;\r\n        if (!isRecycling) {\r\n            if (isStatefulComponent$$1) {\r\n                if (!instance._unmounted) {\r\n                    if (!isNull(options.beforeUnmount)) {\r\n                        options.beforeUnmount(vNode);\r\n                    }\r\n                    if (!isUndefined(instance.componentWillUnmount)) {\r\n                        instance.componentWillUnmount();\r\n                    }\r\n                    if (ref && !isRecycling) {\r\n                        ref(null);\r\n                    }\r\n                    instance._unmounted = true;\r\n                    if (options.findDOMNodeEnabled) {\r\n                        componentToDOMNodeMap.delete(instance);\r\n                    }\r\n                    unmount(instance._lastInput, null, instance._lifecycle, false, isRecycling);\r\n                }\r\n            }\r\n            else {\r\n                if (!isNullOrUndef(ref)) {\r\n                    if (!isNullOrUndef(ref.onComponentWillUnmount)) {\r\n                        ref.onComponentWillUnmount(dom, props);\r\n                    }\r\n                }\r\n                unmount(instance, null, lifecycle, false, isRecycling);\r\n            }\r\n        }\r\n        if (options.recyclingEnabled &&\r\n            !isStatefulComponent$$1 &&\r\n            (parentDom || canRecycle)) {\r\n            poolComponent(vNode);\r\n        }\r\n    }\r\n    else if (flags & 3970 /* Element */) {\r\n        var ref$1 = vNode.ref;\r\n        var props$1 = vNode.props;\r\n        if (!isRecycling && isFunction(ref$1)) {\r\n            ref$1(null);\r\n        }\r\n        var children = vNode.children;\r\n        if (!isNullOrUndef(children)) {\r\n            if (isArray(children)) {\r\n                for (var i = 0, len = children.length; i < len; i++) {\r\n                    var child = children[i];\r\n                    if (!isInvalid(child) && isObject(child)) {\r\n                        unmount(child, null, lifecycle, false, isRecycling);\r\n                    }\r\n                }\r\n            }\r\n            else if (isObject(children)) {\r\n                unmount(children, null, lifecycle, false, isRecycling);\r\n            }\r\n        }\r\n        if (!isNull(props$1)) {\r\n            for (var name in props$1) {\r\n                // do not add a hasOwnProperty check here, it affects performance\r\n                if (props$1[name] !== null && isAttrAnEvent(name)) {\r\n                    patchEvent(name, props$1[name], null, dom);\r\n                    // We need to set this null, because same props otherwise come back if SCU returns false and we are recyling\r\n                    props$1[name] = null;\r\n                }\r\n            }\r\n        }\r\n        if (options.recyclingEnabled && (parentDom || canRecycle)) {\r\n            poolElement(vNode);\r\n        }\r\n    }\r\n    if (!isNull(parentDom)) {\r\n        removeChild(parentDom, dom);\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n// rather than use a Map, like we did before, we can use an array here\r\n// given there shouldn't be THAT many roots on the page, the difference\r\n// in performance is huge: https://esbench.com/bench/5802a691330ab09900a1a2da\r\nvar componentToDOMNodeMap = new Map();\r\nvar roots = options.roots;\r\n/**\r\n * When inferno.options.findDOMNOdeEnabled is true, this function will return DOM Node by component instance\r\n * @param ref Component instance\r\n * @returns {*|null} returns dom node\r\n */\r\nfunction findDOMNode(ref) {\r\n    if (!options.findDOMNodeEnabled) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError(\"findDOMNode() has been disabled, use Inferno.options.findDOMNodeEnabled = true; enabled findDOMNode(). Warning this can significantly impact performance!\");\r\n        }\r\n        throwError();\r\n    }\r\n    var dom = ref && ref.nodeType ? ref : null;\r\n    return componentToDOMNodeMap.get(ref) || dom;\r\n}\r\nfunction getRoot(dom) {\r\n    for (var i = 0, len = roots.length; i < len; i++) {\r\n        var root = roots[i];\r\n        if (root.dom === dom) {\r\n            return root;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction setRoot(dom, input, lifecycle) {\r\n    var root = {\r\n        dom: dom,\r\n        input: input,\r\n        lifecycle: lifecycle\r\n    };\r\n    roots.push(root);\r\n    return root;\r\n}\r\nfunction removeRoot(root) {\r\n    for (var i = 0, len = roots.length; i < len; i++) {\r\n        if (roots[i] === root) {\r\n            roots.splice(i, 1);\r\n            return;\r\n        }\r\n    }\r\n}\r\nif (process.env.NODE_ENV !== \"production\") {\r\n    if (isBrowser && document.body === null) {\r\n        warning('Inferno warning: you cannot initialize inferno without \"document.body\". Wait on \"DOMContentLoaded\" event, add script to bottom of body, or use async/defer attributes on script tag.');\r\n    }\r\n}\r\nvar documentBody = isBrowser ? document.body : null;\r\n/**\r\n * Renders virtual node tree into parent node.\r\n * @param {VNode | null | string | number} input vNode to be rendered\r\n * @param parentDom DOM node which content will be replaced by virtual node\r\n * @returns {InfernoChildren} rendered virtual node\r\n */\r\nfunction render(input, parentDom) {\r\n    if (documentBody === parentDom) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError('you cannot render() to the \"document.body\". Use an empty element as a container instead.');\r\n        }\r\n        throwError();\r\n    }\r\n    if (input === NO_OP) {\r\n        return;\r\n    }\r\n    var root = getRoot(parentDom);\r\n    if (isNull(root)) {\r\n        var lifecycle = new Lifecycle();\r\n        if (!isInvalid(input)) {\r\n            if (input.dom) {\r\n                input = directClone(input);\r\n            }\r\n            if (!hydrateRoot(input, parentDom, lifecycle)) {\r\n                mount(input, parentDom, lifecycle, EMPTY_OBJ, false);\r\n            }\r\n            root = setRoot(parentDom, input, lifecycle);\r\n            lifecycle.trigger();\r\n        }\r\n    }\r\n    else {\r\n        var lifecycle$1 = root.lifecycle;\r\n        lifecycle$1.listeners = [];\r\n        if (isNullOrUndef(input)) {\r\n            unmount(root.input, parentDom, lifecycle$1, false, false);\r\n            removeRoot(root);\r\n        }\r\n        else {\r\n            if (input.dom) {\r\n                input = directClone(input);\r\n            }\r\n            patch(root.input, input, parentDom, lifecycle$1, EMPTY_OBJ, false, false);\r\n        }\r\n        root.input = input;\r\n        lifecycle$1.trigger();\r\n    }\r\n    if (root) {\r\n        var rootInput = root.input;\r\n        if (rootInput && rootInput.flags & 28 /* Component */) {\r\n            return rootInput.children;\r\n        }\r\n    }\r\n}\r\nfunction createRenderer(parentDom) {\r\n    return function renderer(lastInput, nextInput) {\r\n        if (!parentDom) {\r\n            parentDom = lastInput;\r\n        }\r\n        render(nextInput, parentDom);\r\n    };\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction patch(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    if (lastVNode !== nextVNode) {\r\n        var lastFlags = lastVNode.flags;\r\n        var nextFlags = nextVNode.flags;\r\n        if (nextFlags & 28 /* Component */) {\r\n            var isClass = (nextFlags & 4 /* ComponentClass */) > 0;\r\n            if (lastFlags & 28 /* Component */) {\r\n                patchComponent(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isClass, isRecycling);\r\n            }\r\n            else {\r\n                replaceVNode(parentDom, mountComponent(nextVNode, null, lifecycle, context, isSVG, isClass), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else if (nextFlags & 3970 /* Element */) {\r\n            if (lastFlags & 3970 /* Element */) {\r\n                patchElement(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n            }\r\n            else {\r\n                replaceVNode(parentDom, mountElement(nextVNode, null, lifecycle, context, isSVG), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else if (nextFlags & 1 /* Text */) {\r\n            if (lastFlags & 1 /* Text */) {\r\n                patchText(lastVNode, nextVNode);\r\n            }\r\n            else {\r\n                replaceVNode(parentDom, mountText(nextVNode, null), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else if (nextFlags & 4096 /* Void */) {\r\n            if (lastFlags & 4096 /* Void */) {\r\n                patchVoid(lastVNode, nextVNode);\r\n            }\r\n            else {\r\n                replaceVNode(parentDom, mountVoid(nextVNode, null), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else {\r\n            // Error case: mount new one replacing old one\r\n            replaceLastChildAndUnmount(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n        }\r\n    }\r\n}\r\nfunction unmountChildren(children, dom, lifecycle, isRecycling) {\r\n    if (isVNode(children)) {\r\n        unmount(children, dom, lifecycle, true, isRecycling);\r\n    }\r\n    else if (isArray(children)) {\r\n        removeAllChildren(dom, children, lifecycle, isRecycling);\r\n    }\r\n    else {\r\n        dom.textContent = \"\";\r\n    }\r\n}\r\nfunction patchElement(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    var nextTag = nextVNode.type;\r\n    var lastTag = lastVNode.type;\r\n    if (lastTag !== nextTag) {\r\n        replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n    }\r\n    else {\r\n        var dom = lastVNode.dom;\r\n        var lastProps = lastVNode.props;\r\n        var nextProps = nextVNode.props;\r\n        var lastChildren = lastVNode.children;\r\n        var nextChildren = nextVNode.children;\r\n        var lastFlags = lastVNode.flags;\r\n        var nextFlags = nextVNode.flags;\r\n        var nextRef = nextVNode.ref;\r\n        var lastClassName = lastVNode.className;\r\n        var nextClassName = nextVNode.className;\r\n        nextVNode.dom = dom;\r\n        isSVG = isSVG || (nextFlags & 128 /* SvgElement */) > 0;\r\n        if (lastChildren !== nextChildren) {\r\n            var childrenIsSVG = isSVG === true && nextVNode.type !== \"foreignObject\";\r\n            patchChildren(lastFlags, nextFlags, lastChildren, nextChildren, dom, lifecycle, context, childrenIsSVG, isRecycling);\r\n        }\r\n        // inlined patchProps  -- starts --\r\n        if (lastProps !== nextProps) {\r\n            var lastPropsOrEmpty = lastProps || EMPTY_OBJ;\r\n            var nextPropsOrEmpty = nextProps || EMPTY_OBJ;\r\n            var hasControlledValue = false;\r\n            if (nextPropsOrEmpty !== EMPTY_OBJ) {\r\n                var isFormElement = (nextFlags & 3584 /* FormElement */) > 0;\r\n                if (isFormElement) {\r\n                    hasControlledValue = isControlledFormElement(nextPropsOrEmpty);\r\n                }\r\n                for (var prop in nextPropsOrEmpty) {\r\n                    // do not add a hasOwnProperty check here, it affects performance\r\n                    var nextValue = nextPropsOrEmpty[prop];\r\n                    var lastValue = lastPropsOrEmpty[prop];\r\n                    patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue);\r\n                }\r\n                if (isFormElement) {\r\n                    // When inferno is recycling form element, we need to process it like it would be mounting\r\n                    processElement(nextFlags, nextVNode, dom, nextPropsOrEmpty, isRecycling, hasControlledValue);\r\n                }\r\n            }\r\n            if (lastPropsOrEmpty !== EMPTY_OBJ) {\r\n                for (var prop$1 in lastPropsOrEmpty) {\r\n                    // do not add a hasOwnProperty check here, it affects performance\r\n                    if (isNullOrUndef(nextPropsOrEmpty[prop$1]) &&\r\n                        !isNullOrUndef(lastPropsOrEmpty[prop$1])) {\r\n                        removeProp(prop$1, lastPropsOrEmpty[prop$1], dom, nextFlags);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // inlined patchProps  -- ends --\r\n        if (lastClassName !== nextClassName) {\r\n            if (isNullOrUndef(nextClassName)) {\r\n                dom.removeAttribute(\"class\");\r\n            }\r\n            else {\r\n                if (isSVG) {\r\n                    dom.setAttribute(\"class\", nextClassName);\r\n                }\r\n                else {\r\n                    dom.className = nextClassName;\r\n                }\r\n            }\r\n        }\r\n        if (nextRef) {\r\n            if (lastVNode.ref !== nextRef || isRecycling) {\r\n                mountRef(dom, nextRef, lifecycle);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction patchChildren(lastFlags, nextFlags, lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling) {\r\n    var patchArray = false;\r\n    var patchKeyed = false;\r\n    if (nextFlags & 64 /* HasNonKeyedChildren */) {\r\n        patchArray = true;\r\n    }\r\n    else if ((lastFlags & 32 /* HasKeyedChildren */) > 0 &&\r\n        (nextFlags & 32 /* HasKeyedChildren */) > 0) {\r\n        patchKeyed = true;\r\n        patchArray = true;\r\n    }\r\n    else if (isInvalid(nextChildren)) {\r\n        unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n    }\r\n    else if (isInvalid(lastChildren)) {\r\n        if (isStringOrNumber(nextChildren)) {\r\n            setTextContent(dom, nextChildren);\r\n        }\r\n        else {\r\n            if (isArray(nextChildren)) {\r\n                mountArrayChildren(nextChildren, dom, lifecycle, context, isSVG);\r\n            }\r\n            else {\r\n                mount(nextChildren, dom, lifecycle, context, isSVG);\r\n            }\r\n        }\r\n    }\r\n    else if (isStringOrNumber(nextChildren)) {\r\n        if (isStringOrNumber(lastChildren)) {\r\n            updateTextContent(dom, nextChildren);\r\n        }\r\n        else {\r\n            unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n            setTextContent(dom, nextChildren);\r\n        }\r\n    }\r\n    else if (isArray(nextChildren)) {\r\n        if (isArray(lastChildren)) {\r\n            patchArray = true;\r\n            if (isKeyed(lastChildren, nextChildren)) {\r\n                patchKeyed = true;\r\n            }\r\n        }\r\n        else {\r\n            unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n            mountArrayChildren(nextChildren, dom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n    else if (isArray(lastChildren)) {\r\n        removeAllChildren(dom, lastChildren, lifecycle, isRecycling);\r\n        mount(nextChildren, dom, lifecycle, context, isSVG);\r\n    }\r\n    else if (isVNode(nextChildren)) {\r\n        if (isVNode(lastChildren)) {\r\n            patch(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling);\r\n        }\r\n        else {\r\n            unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n            mount(nextChildren, dom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n    if (patchArray) {\r\n        var lastLength = lastChildren.length;\r\n        var nextLength = nextChildren.length;\r\n        // Fast path's for both algorithms\r\n        if (lastLength === 0) {\r\n            if (nextLength > 0) {\r\n                mountArrayChildren(nextChildren, dom, lifecycle, context, isSVG);\r\n            }\r\n        }\r\n        else if (nextLength === 0) {\r\n            removeAllChildren(dom, lastChildren, lifecycle, isRecycling);\r\n        }\r\n        else if (patchKeyed) {\r\n            patchKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling, lastLength, nextLength);\r\n        }\r\n        else {\r\n            patchNonKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling, lastLength, nextLength);\r\n        }\r\n    }\r\n}\r\nfunction patchComponent(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isClass, isRecycling) {\r\n    var lastType = lastVNode.type;\r\n    var nextType = nextVNode.type;\r\n    var lastKey = lastVNode.key;\r\n    var nextKey = nextVNode.key;\r\n    if (lastType !== nextType || lastKey !== nextKey) {\r\n        replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n        return false;\r\n    }\r\n    else {\r\n        var nextProps = nextVNode.props || EMPTY_OBJ;\r\n        if (isClass) {\r\n            var instance = lastVNode.children;\r\n            instance._updating = true;\r\n            if (instance._unmounted) {\r\n                if (isNull(parentDom)) {\r\n                    return true;\r\n                }\r\n                replaceChild(parentDom, mountComponent(nextVNode, null, lifecycle, context, isSVG, (nextVNode.flags & 4 /* ComponentClass */) > 0), lastVNode.dom);\r\n            }\r\n            else {\r\n                var hasComponentDidUpdate = !isUndefined(instance.componentDidUpdate);\r\n                var nextState = instance.state;\r\n                // When component has componentDidUpdate hook, we need to clone lastState or will be modified by reference during update\r\n                var lastState = hasComponentDidUpdate\r\n                    ? combineFrom(nextState, null)\r\n                    : nextState;\r\n                var lastProps = instance.props;\r\n                nextVNode.children = instance;\r\n                instance._isSVG = isSVG;\r\n                var lastInput = instance._lastInput;\r\n                var nextInput = instance._updateComponent(lastState, nextState, lastProps, nextProps, context, false, false);\r\n                // If this component was destroyed by its parent do nothing, this is no-op\r\n                // It can happen by using external callback etc during render / update\r\n                if (instance._unmounted) {\r\n                    return false;\r\n                }\r\n                var didUpdate = true;\r\n                // Update component before getting child context\r\n                var childContext;\r\n                if (!isNullOrUndef(instance.getChildContext)) {\r\n                    childContext = instance.getChildContext();\r\n                }\r\n                if (isNullOrUndef(childContext)) {\r\n                    childContext = context;\r\n                }\r\n                else {\r\n                    childContext = combineFrom(context, childContext);\r\n                }\r\n                instance._childContext = childContext;\r\n                if (isInvalid(nextInput)) {\r\n                    nextInput = createVoidVNode();\r\n                }\r\n                else if (nextInput === NO_OP) {\r\n                    nextInput = lastInput;\r\n                    didUpdate = false;\r\n                }\r\n                else if (isStringOrNumber(nextInput)) {\r\n                    nextInput = createTextVNode(nextInput, null);\r\n                }\r\n                else if (isArray(nextInput)) {\r\n                    if (process.env.NODE_ENV !== \"production\") {\r\n                        throwError(\"a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.\");\r\n                    }\r\n                    throwError();\r\n                }\r\n                else if (isObject(nextInput)) {\r\n                    if (!isNull(nextInput.dom)) {\r\n                        nextInput = directClone(nextInput);\r\n                    }\r\n                }\r\n                if (nextInput.flags & 28 /* Component */) {\r\n                    nextInput.parentVNode = nextVNode;\r\n                }\r\n                else if (lastInput.flags & 28 /* Component */) {\r\n                    lastInput.parentVNode = nextVNode;\r\n                }\r\n                instance._lastInput = nextInput;\r\n                instance._vNode = nextVNode;\r\n                if (didUpdate) {\r\n                    patch(lastInput, nextInput, parentDom, lifecycle, childContext, isSVG, isRecycling);\r\n                    if (hasComponentDidUpdate && instance.componentDidUpdate) {\r\n                        instance.componentDidUpdate(lastProps, lastState);\r\n                    }\r\n                    if (!isNull(options.afterUpdate)) {\r\n                        options.afterUpdate(nextVNode);\r\n                    }\r\n                    if (options.findDOMNodeEnabled) {\r\n                        componentToDOMNodeMap.set(instance, nextInput.dom);\r\n                    }\r\n                }\r\n                nextVNode.dom = nextInput.dom;\r\n            }\r\n            instance._updating = false;\r\n        }\r\n        else {\r\n            var shouldUpdate = true;\r\n            var lastProps$1 = lastVNode.props;\r\n            var nextHooks = nextVNode.ref;\r\n            var nextHooksDefined = !isNullOrUndef(nextHooks);\r\n            var lastInput$1 = lastVNode.children;\r\n            var nextInput$1 = lastInput$1;\r\n            nextVNode.dom = lastVNode.dom;\r\n            nextVNode.children = lastInput$1;\r\n            if (lastKey !== nextKey) {\r\n                shouldUpdate = true;\r\n            }\r\n            else {\r\n                if (nextHooksDefined &&\r\n                    !isNullOrUndef(nextHooks.onComponentShouldUpdate)) {\r\n                    shouldUpdate = nextHooks.onComponentShouldUpdate(lastProps$1, nextProps);\r\n                }\r\n            }\r\n            if (shouldUpdate !== false) {\r\n                if (nextHooksDefined &&\r\n                    !isNullOrUndef(nextHooks.onComponentWillUpdate)) {\r\n                    nextHooks.onComponentWillUpdate(lastProps$1, nextProps);\r\n                }\r\n                nextInput$1 = nextType(nextProps, context);\r\n                if (isInvalid(nextInput$1)) {\r\n                    nextInput$1 = createVoidVNode();\r\n                }\r\n                else if (isStringOrNumber(nextInput$1) && nextInput$1 !== NO_OP) {\r\n                    nextInput$1 = createTextVNode(nextInput$1, null);\r\n                }\r\n                else if (isArray(nextInput$1)) {\r\n                    if (process.env.NODE_ENV !== \"production\") {\r\n                        throwError(\"a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.\");\r\n                    }\r\n                    throwError();\r\n                }\r\n                else if (isObject(nextInput$1)) {\r\n                    if (!isNull(nextInput$1.dom)) {\r\n                        nextInput$1 = directClone(nextInput$1);\r\n                    }\r\n                }\r\n                if (nextInput$1 !== NO_OP) {\r\n                    patch(lastInput$1, nextInput$1, parentDom, lifecycle, context, isSVG, isRecycling);\r\n                    nextVNode.children = nextInput$1;\r\n                    if (nextHooksDefined &&\r\n                        !isNullOrUndef(nextHooks.onComponentDidUpdate)) {\r\n                        nextHooks.onComponentDidUpdate(lastProps$1, nextProps);\r\n                    }\r\n                    nextVNode.dom = nextInput$1.dom;\r\n                }\r\n            }\r\n            if (nextInput$1.flags & 28 /* Component */) {\r\n                nextInput$1.parentVNode = nextVNode;\r\n            }\r\n            else if (lastInput$1.flags & 28 /* Component */) {\r\n                lastInput$1.parentVNode = nextVNode;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction patchText(lastVNode, nextVNode) {\r\n    var nextText = nextVNode.children;\r\n    var dom = lastVNode.dom;\r\n    nextVNode.dom = dom;\r\n    if (lastVNode.children !== nextText) {\r\n        dom.nodeValue = nextText;\r\n    }\r\n}\r\nfunction patchVoid(lastVNode, nextVNode) {\r\n    nextVNode.dom = lastVNode.dom;\r\n}\r\nfunction patchNonKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling, lastChildrenLength, nextChildrenLength) {\r\n    var commonLength = lastChildrenLength > nextChildrenLength\r\n        ? nextChildrenLength\r\n        : lastChildrenLength;\r\n    var i = 0;\r\n    for (; i < commonLength; i++) {\r\n        var nextChild = nextChildren[i];\r\n        if (nextChild.dom) {\r\n            nextChild = nextChildren[i] = directClone(nextChild);\r\n        }\r\n        patch(lastChildren[i], nextChild, dom, lifecycle, context, isSVG, isRecycling);\r\n    }\r\n    if (lastChildrenLength < nextChildrenLength) {\r\n        for (i = commonLength; i < nextChildrenLength; i++) {\r\n            var nextChild$1 = nextChildren[i];\r\n            if (nextChild$1.dom) {\r\n                nextChild$1 = nextChildren[i] = directClone(nextChild$1);\r\n            }\r\n            appendChild(dom, mount(nextChild$1, null, lifecycle, context, isSVG));\r\n        }\r\n    }\r\n    else if (lastChildrenLength > nextChildrenLength) {\r\n        for (i = commonLength; i < lastChildrenLength; i++) {\r\n            unmount(lastChildren[i], dom, lifecycle, false, isRecycling);\r\n        }\r\n    }\r\n}\r\nfunction patchKeyedChildren(a, b, dom, lifecycle, context, isSVG, isRecycling, aLength, bLength) {\r\n    var aEnd = aLength - 1;\r\n    var bEnd = bLength - 1;\r\n    var aStart = 0;\r\n    var bStart = 0;\r\n    var i;\r\n    var j;\r\n    var aNode;\r\n    var bNode;\r\n    var nextNode;\r\n    var nextPos;\r\n    var node;\r\n    var aStartNode = a[aStart];\r\n    var bStartNode = b[bStart];\r\n    var aEndNode = a[aEnd];\r\n    var bEndNode = b[bEnd];\r\n    if (bStartNode.dom) {\r\n        b[bStart] = bStartNode = directClone(bStartNode);\r\n    }\r\n    if (bEndNode.dom) {\r\n        b[bEnd] = bEndNode = directClone(bEndNode);\r\n    }\r\n    // Step 1\r\n    // tslint:disable-next-line\r\n    outer: {\r\n        // Sync nodes with the same key at the beginning.\r\n        while (aStartNode.key === bStartNode.key) {\r\n            patch(aStartNode, bStartNode, dom, lifecycle, context, isSVG, isRecycling);\r\n            aStart++;\r\n            bStart++;\r\n            if (aStart > aEnd || bStart > bEnd) {\r\n                break outer;\r\n            }\r\n            aStartNode = a[aStart];\r\n            bStartNode = b[bStart];\r\n            if (bStartNode.dom) {\r\n                b[bStart] = bStartNode = directClone(bStartNode);\r\n            }\r\n        }\r\n        // Sync nodes with the same key at the end.\r\n        while (aEndNode.key === bEndNode.key) {\r\n            patch(aEndNode, bEndNode, dom, lifecycle, context, isSVG, isRecycling);\r\n            aEnd--;\r\n            bEnd--;\r\n            if (aStart > aEnd || bStart > bEnd) {\r\n                break outer;\r\n            }\r\n            aEndNode = a[aEnd];\r\n            bEndNode = b[bEnd];\r\n            if (bEndNode.dom) {\r\n                b[bEnd] = bEndNode = directClone(bEndNode);\r\n            }\r\n        }\r\n    }\r\n    if (aStart > aEnd) {\r\n        if (bStart <= bEnd) {\r\n            nextPos = bEnd + 1;\r\n            nextNode = nextPos < bLength ? b[nextPos].dom : null;\r\n            while (bStart <= bEnd) {\r\n                node = b[bStart];\r\n                if (node.dom) {\r\n                    b[bStart] = node = directClone(node);\r\n                }\r\n                bStart++;\r\n                insertOrAppend(dom, mount(node, null, lifecycle, context, isSVG), nextNode);\r\n            }\r\n        }\r\n    }\r\n    else if (bStart > bEnd) {\r\n        while (aStart <= aEnd) {\r\n            unmount(a[aStart++], dom, lifecycle, false, isRecycling);\r\n        }\r\n    }\r\n    else {\r\n        var aLeft = aEnd - aStart + 1;\r\n        var bLeft = bEnd - bStart + 1;\r\n        var sources = new Array(bLeft);\r\n        // Mark all nodes as inserted.\r\n        for (i = 0; i < bLeft; i++) {\r\n            sources[i] = -1;\r\n        }\r\n        var moved = false;\r\n        var pos = 0;\r\n        var patched = 0;\r\n        // When sizes are small, just loop them through\r\n        if (bLeft <= 4 || aLeft * bLeft <= 16) {\r\n            for (i = aStart; i <= aEnd; i++) {\r\n                aNode = a[i];\r\n                if (patched < bLeft) {\r\n                    for (j = bStart; j <= bEnd; j++) {\r\n                        bNode = b[j];\r\n                        if (aNode.key === bNode.key) {\r\n                            sources[j - bStart] = i;\r\n                            if (pos > j) {\r\n                                moved = true;\r\n                            }\r\n                            else {\r\n                                pos = j;\r\n                            }\r\n                            if (bNode.dom) {\r\n                                b[j] = bNode = directClone(bNode);\r\n                            }\r\n                            patch(aNode, bNode, dom, lifecycle, context, isSVG, isRecycling);\r\n                            patched++;\r\n                            a[i] = null;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var keyIndex = new Map();\r\n            // Map keys by their index in array\r\n            for (i = bStart; i <= bEnd; i++) {\r\n                keyIndex.set(b[i].key, i);\r\n            }\r\n            // Try to patch same keys\r\n            for (i = aStart; i <= aEnd; i++) {\r\n                aNode = a[i];\r\n                if (patched < bLeft) {\r\n                    j = keyIndex.get(aNode.key);\r\n                    if (!isUndefined(j)) {\r\n                        bNode = b[j];\r\n                        sources[j - bStart] = i;\r\n                        if (pos > j) {\r\n                            moved = true;\r\n                        }\r\n                        else {\r\n                            pos = j;\r\n                        }\r\n                        if (bNode.dom) {\r\n                            b[j] = bNode = directClone(bNode);\r\n                        }\r\n                        patch(aNode, bNode, dom, lifecycle, context, isSVG, isRecycling);\r\n                        patched++;\r\n                        a[i] = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // fast-path: if nothing patched remove all old and add all new\r\n        if (aLeft === aLength && patched === 0) {\r\n            removeAllChildren(dom, a, lifecycle, isRecycling);\r\n            while (bStart < bLeft) {\r\n                node = b[bStart];\r\n                if (node.dom) {\r\n                    b[bStart] = node = directClone(node);\r\n                }\r\n                bStart++;\r\n                insertOrAppend(dom, mount(node, null, lifecycle, context, isSVG), null);\r\n            }\r\n        }\r\n        else {\r\n            i = aLeft - patched;\r\n            while (i > 0) {\r\n                aNode = a[aStart++];\r\n                if (!isNull(aNode)) {\r\n                    unmount(aNode, dom, lifecycle, true, isRecycling);\r\n                    i--;\r\n                }\r\n            }\r\n            if (moved) {\r\n                var seq = lis_algorithm(sources);\r\n                j = seq.length - 1;\r\n                for (i = bLeft - 1; i >= 0; i--) {\r\n                    if (sources[i] === -1) {\r\n                        pos = i + bStart;\r\n                        node = b[pos];\r\n                        if (node.dom) {\r\n                            b[pos] = node = directClone(node);\r\n                        }\r\n                        nextPos = pos + 1;\r\n                        insertOrAppend(dom, mount(node, null, lifecycle, context, isSVG), nextPos < bLength ? b[nextPos].dom : null);\r\n                    }\r\n                    else {\r\n                        if (j < 0 || i !== seq[j]) {\r\n                            pos = i + bStart;\r\n                            node = b[pos];\r\n                            nextPos = pos + 1;\r\n                            insertOrAppend(dom, node.dom, nextPos < bLength ? b[nextPos].dom : null);\r\n                        }\r\n                        else {\r\n                            j--;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (patched !== bLeft) {\r\n                // when patched count doesn't match b length we need to insert those new ones\r\n                // loop backwards so we can use insertBefore\r\n                for (i = bLeft - 1; i >= 0; i--) {\r\n                    if (sources[i] === -1) {\r\n                        pos = i + bStart;\r\n                        node = b[pos];\r\n                        if (node.dom) {\r\n                            b[pos] = node = directClone(node);\r\n                        }\r\n                        nextPos = pos + 1;\r\n                        insertOrAppend(dom, mount(node, null, lifecycle, context, isSVG), nextPos < bLength ? b[nextPos].dom : null);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n// // https://en.wikipedia.org/wiki/Longest_increasing_subsequence\r\nfunction lis_algorithm(arr) {\r\n    var p = arr.slice(0);\r\n    var result = [0];\r\n    var i;\r\n    var j;\r\n    var u;\r\n    var v;\r\n    var c;\r\n    var len = arr.length;\r\n    for (i = 0; i < len; i++) {\r\n        var arrI = arr[i];\r\n        if (arrI !== -1) {\r\n            j = result[result.length - 1];\r\n            if (arr[j] < arrI) {\r\n                p[i] = j;\r\n                result.push(i);\r\n                continue;\r\n            }\r\n            u = 0;\r\n            v = result.length - 1;\r\n            while (u < v) {\r\n                c = ((u + v) / 2) | 0;\r\n                if (arr[result[c]] < arrI) {\r\n                    u = c + 1;\r\n                }\r\n                else {\r\n                    v = c;\r\n                }\r\n            }\r\n            if (arrI < arr[result[u]]) {\r\n                if (u > 0) {\r\n                    p[i] = result[u - 1];\r\n                }\r\n                result[u] = i;\r\n            }\r\n        }\r\n    }\r\n    u = result.length;\r\n    v = result[u - 1];\r\n    while (u-- > 0) {\r\n        result[u] = v;\r\n        v = p[v];\r\n    }\r\n    return result;\r\n}\r\nfunction isAttrAnEvent(attr) {\r\n    return attr[0] === \"o\" && attr[1] === \"n\";\r\n}\r\nfunction patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue) {\r\n    if (lastValue !== nextValue) {\r\n        if (skipProps.has(prop) || (hasControlledValue && prop === \"value\")) {\r\n            return;\r\n        }\r\n        else if (booleanProps.has(prop)) {\r\n            prop = prop === \"autoFocus\" ? prop.toLowerCase() : prop;\r\n            dom[prop] = !!nextValue;\r\n        }\r\n        else if (strictProps.has(prop)) {\r\n            var value = isNullOrUndef(nextValue) ? \"\" : nextValue;\r\n            if (dom[prop] !== value) {\r\n                dom[prop] = value;\r\n            }\r\n        }\r\n        else if (isAttrAnEvent(prop)) {\r\n            patchEvent(prop, lastValue, nextValue, dom);\r\n        }\r\n        else if (isNullOrUndef(nextValue)) {\r\n            dom.removeAttribute(prop);\r\n        }\r\n        else if (prop === \"style\") {\r\n            patchStyle(lastValue, nextValue, dom);\r\n        }\r\n        else if (prop === \"dangerouslySetInnerHTML\") {\r\n            var lastHtml = lastValue && lastValue.__html;\r\n            var nextHtml = nextValue && nextValue.__html;\r\n            if (lastHtml !== nextHtml) {\r\n                if (!isNullOrUndef(nextHtml) && !isSameInnerHTML(dom, nextHtml)) {\r\n                    dom.innerHTML = nextHtml;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // We optimize for NS being boolean. Its 99.9% time false\r\n            if (isSVG && namespaces.has(prop)) {\r\n                // If we end up in this path we can read property again\r\n                dom.setAttributeNS(namespaces.get(prop), prop, nextValue);\r\n            }\r\n            else {\r\n                dom.setAttribute(prop, nextValue);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction patchEvent(name, lastValue, nextValue, dom) {\r\n    if (lastValue !== nextValue) {\r\n        if (delegatedEvents.has(name)) {\r\n            handleEvent(name, lastValue, nextValue, dom);\r\n        }\r\n        else {\r\n            var nameLowerCase = name.toLowerCase();\r\n            var domEvent = dom[nameLowerCase];\r\n            // if the function is wrapped, that means it's been controlled by a wrapper\r\n            if (domEvent && domEvent.wrapped) {\r\n                return;\r\n            }\r\n            if (!isFunction(nextValue) && !isNullOrUndef(nextValue)) {\r\n                var linkEvent = nextValue.event;\r\n                if (linkEvent && isFunction(linkEvent)) {\r\n                    dom[nameLowerCase] = function (e) {\r\n                        linkEvent(nextValue.data, e);\r\n                    };\r\n                }\r\n                else {\r\n                    if (process.env.NODE_ENV !== \"production\") {\r\n                        throwError((\"an event on a VNode \\\"\" + name + \"\\\". was not a function or a valid linkEvent.\"));\r\n                    }\r\n                    throwError();\r\n                }\r\n            }\r\n            else {\r\n                dom[nameLowerCase] = nextValue;\r\n            }\r\n        }\r\n    }\r\n}\r\n// We are assuming here that we come from patchProp routine\r\n// -nextAttrValue cannot be null or undefined\r\nfunction patchStyle(lastAttrValue, nextAttrValue, dom) {\r\n    var domStyle = dom.style;\r\n    var style;\r\n    var value;\r\n    if (isString(nextAttrValue)) {\r\n        domStyle.cssText = nextAttrValue;\r\n        return;\r\n    }\r\n    if (!isNullOrUndef(lastAttrValue) && !isString(lastAttrValue)) {\r\n        for (style in nextAttrValue) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            value = nextAttrValue[style];\r\n            if (value !== lastAttrValue[style]) {\r\n                domStyle[style] =\r\n                    !isNumber(value) || isUnitlessNumber.has(style)\r\n                        ? value\r\n                        : value + \"px\";\r\n            }\r\n        }\r\n        for (style in lastAttrValue) {\r\n            if (isNullOrUndef(nextAttrValue[style])) {\r\n                domStyle[style] = \"\";\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        for (style in nextAttrValue) {\r\n            value = nextAttrValue[style];\r\n            domStyle[style] =\r\n                !isNumber(value) || isUnitlessNumber.has(style) ? value : value + \"px\";\r\n        }\r\n    }\r\n}\r\nfunction removeProp(prop, lastValue, dom, nextFlags) {\r\n    if (prop === \"value\") {\r\n        // When removing value of select element, it needs to be set to null instead empty string, because empty string is valid value for option which makes that option selected\r\n        // MS IE/Edge don't follow html spec for textArea and input elements and we need to set empty string to value in those cases to avoid \"null\" and \"undefined\" texts\r\n        dom.value = nextFlags & 2048 /* SelectElement */ ? null : \"\";\r\n    }\r\n    else if (prop === \"style\") {\r\n        dom.removeAttribute(\"style\");\r\n    }\r\n    else if (isAttrAnEvent(prop)) {\r\n        handleEvent(prop, lastValue, null, dom);\r\n    }\r\n    else {\r\n        dom.removeAttribute(prop);\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction mount(vNode, parentDom, lifecycle, context, isSVG) {\r\n    var flags = vNode.flags;\r\n    if (flags & 3970 /* Element */) {\r\n        return mountElement(vNode, parentDom, lifecycle, context, isSVG);\r\n    }\r\n    else if (flags & 28 /* Component */) {\r\n        return mountComponent(vNode, parentDom, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0);\r\n    }\r\n    else if (flags & 4096 /* Void */) {\r\n        return mountVoid(vNode, parentDom);\r\n    }\r\n    else if (flags & 1 /* Text */) {\r\n        return mountText(vNode, parentDom);\r\n    }\r\n    else {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            if (typeof vNode === \"object\") {\r\n                throwError((\"mount() received an object that's not a valid VNode, you should stringify it first. Object: \\\"\" + (JSON.stringify(vNode)) + \"\\\".\"));\r\n            }\r\n            else {\r\n                throwError((\"mount() expects a valid VNode, instead it received an object with the type \\\"\" + (typeof vNode) + \"\\\".\"));\r\n            }\r\n        }\r\n        throwError();\r\n    }\r\n}\r\nfunction mountText(vNode, parentDom) {\r\n    var dom = document.createTextNode(vNode.children);\r\n    vNode.dom = dom;\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nfunction mountVoid(vNode, parentDom) {\r\n    var dom = document.createTextNode(\"\");\r\n    vNode.dom = dom;\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nfunction mountElement(vNode, parentDom, lifecycle, context, isSVG) {\r\n    var dom;\r\n    if (options.recyclingEnabled) {\r\n        dom = recycleElement(vNode, lifecycle, context, isSVG);\r\n        if (!isNull(dom)) {\r\n            if (!isNull(parentDom)) {\r\n                appendChild(parentDom, dom);\r\n            }\r\n            return dom;\r\n        }\r\n    }\r\n    var flags = vNode.flags;\r\n    isSVG = isSVG || (flags & 128 /* SvgElement */) > 0;\r\n    dom = documentCreateElement(vNode.type, isSVG);\r\n    var children = vNode.children;\r\n    var props = vNode.props;\r\n    var className = vNode.className;\r\n    var ref = vNode.ref;\r\n    vNode.dom = dom;\r\n    if (!isInvalid(children)) {\r\n        if (isStringOrNumber(children)) {\r\n            setTextContent(dom, children);\r\n        }\r\n        else {\r\n            var childrenIsSVG = isSVG === true && vNode.type !== \"foreignObject\";\r\n            if (isArray(children)) {\r\n                mountArrayChildren(children, dom, lifecycle, context, childrenIsSVG);\r\n            }\r\n            else if (isVNode(children)) {\r\n                mount(children, dom, lifecycle, context, childrenIsSVG);\r\n            }\r\n        }\r\n    }\r\n    if (!isNull(props)) {\r\n        var hasControlledValue = false;\r\n        var isFormElement = (flags & 3584 /* FormElement */) > 0;\r\n        if (isFormElement) {\r\n            hasControlledValue = isControlledFormElement(props);\r\n        }\r\n        for (var prop in props) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            patchProp(prop, null, props[prop], dom, isSVG, hasControlledValue);\r\n        }\r\n        if (isFormElement) {\r\n            processElement(flags, vNode, dom, props, true, hasControlledValue);\r\n        }\r\n    }\r\n    if (className !== null) {\r\n        if (isSVG) {\r\n            dom.setAttribute(\"class\", className);\r\n        }\r\n        else {\r\n            dom.className = className;\r\n        }\r\n    }\r\n    if (!isNull(ref)) {\r\n        mountRef(dom, ref, lifecycle);\r\n    }\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nfunction mountArrayChildren(children, dom, lifecycle, context, isSVG) {\r\n    for (var i = 0, len = children.length; i < len; i++) {\r\n        var child = children[i];\r\n        // Verify can string/number be here. might cause de-opt. - Normalization takes care of it.\r\n        if (!isInvalid(child)) {\r\n            if (child.dom) {\r\n                children[i] = child = directClone(child);\r\n            }\r\n            mount(children[i], dom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n}\r\nfunction mountComponent(vNode, parentDom, lifecycle, context, isSVG, isClass) {\r\n    var dom;\r\n    if (options.recyclingEnabled) {\r\n        dom = recycleComponent(vNode, lifecycle, context, isSVG);\r\n        if (!isNull(dom)) {\r\n            if (!isNull(parentDom)) {\r\n                appendChild(parentDom, dom);\r\n            }\r\n            return dom;\r\n        }\r\n    }\r\n    var type = vNode.type;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var ref = vNode.ref;\r\n    if (isClass) {\r\n        var instance = createClassComponentInstance(vNode, type, props, context, isSVG, lifecycle);\r\n        var input = instance._lastInput;\r\n        instance._vNode = vNode;\r\n        vNode.dom = dom = mount(input, null, lifecycle, instance._childContext, isSVG);\r\n        if (!isNull(parentDom)) {\r\n            appendChild(parentDom, dom);\r\n        }\r\n        mountClassComponentCallbacks(vNode, ref, instance, lifecycle);\r\n        instance._updating = false;\r\n        if (options.findDOMNodeEnabled) {\r\n            componentToDOMNodeMap.set(instance, dom);\r\n        }\r\n    }\r\n    else {\r\n        var input$1 = createFunctionalComponentInput(vNode, type, props, context);\r\n        vNode.dom = dom = mount(input$1, null, lifecycle, context, isSVG);\r\n        vNode.children = input$1;\r\n        mountFunctionalComponentCallbacks(props, ref, dom, lifecycle);\r\n        if (!isNull(parentDom)) {\r\n            appendChild(parentDom, dom);\r\n        }\r\n    }\r\n    return dom;\r\n}\r\nfunction mountClassComponentCallbacks(vNode, ref, instance, lifecycle) {\r\n    if (ref) {\r\n        if (isFunction(ref)) {\r\n            ref(instance);\r\n        }\r\n        else {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (isStringOrNumber(ref)) {\r\n                    throwError('string \"refs\" are not supported in Inferno 1.0. Use callback \"refs\" instead.');\r\n                }\r\n                else if (isObject(ref) && vNode.flags & 4 /* ComponentClass */) {\r\n                    throwError(\"functional component lifecycle events are not supported on ES2015 class components.\");\r\n                }\r\n                else {\r\n                    throwError((\"a bad value for \\\"ref\\\" was used on component: \\\"\" + (JSON.stringify(ref)) + \"\\\"\"));\r\n                }\r\n            }\r\n            throwError();\r\n        }\r\n    }\r\n    var hasDidMount = !isUndefined(instance.componentDidMount);\r\n    var afterMount = options.afterMount;\r\n    if (hasDidMount || !isNull(afterMount)) {\r\n        lifecycle.addListener((function () {\r\n            instance._updating = true;\r\n            if (afterMount) {\r\n                afterMount(vNode);\r\n            }\r\n            if (hasDidMount) {\r\n                instance.componentDidMount();\r\n            }\r\n            instance._updating = false;\r\n        }));\r\n    }\r\n}\r\nfunction mountFunctionalComponentCallbacks(props, ref, dom, lifecycle) {\r\n    if (ref) {\r\n        if (!isNullOrUndef(ref.onComponentWillMount)) {\r\n            ref.onComponentWillMount(props);\r\n        }\r\n        if (!isNullOrUndef(ref.onComponentDidMount)) {\r\n            lifecycle.addListener((function () { return ref.onComponentDidMount(dom, props); }));\r\n        }\r\n    }\r\n}\r\nfunction mountRef(dom, value, lifecycle) {\r\n    if (isFunction(value)) {\r\n        lifecycle.addListener((function () { return value(dom); }));\r\n    }\r\n    else {\r\n        if (isInvalid(value)) {\r\n            return;\r\n        }\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError('string \"refs\" are not supported in Inferno 1.0. Use callback \"refs\" instead.');\r\n        }\r\n        throwError();\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n// We need EMPTY_OBJ defined in one place.\r\n// Its used for comparison so we cant inline it into shared\r\nvar EMPTY_OBJ = {};\r\nif (process.env.NODE_ENV !== \"production\") {\r\n    Object.freeze(EMPTY_OBJ);\r\n}\r\nfunction createClassComponentInstance(vNode, Component, props, context, isSVG, lifecycle) {\r\n    if (isUndefined(context)) {\r\n        context = EMPTY_OBJ; // Context should not be mutable\r\n    }\r\n    var instance = new Component(props, context);\r\n    vNode.children = instance;\r\n    instance._blockSetState = false;\r\n    instance.context = context;\r\n    if (instance.props === EMPTY_OBJ) {\r\n        instance.props = props;\r\n    }\r\n    // setState callbacks must fire after render is done when called from componentWillReceiveProps or componentWillMount\r\n    instance._lifecycle = lifecycle;\r\n    instance._unmounted = false;\r\n    instance._isSVG = isSVG;\r\n    if (!isNullOrUndef(instance.componentWillMount)) {\r\n        instance._blockRender = true;\r\n        instance.componentWillMount();\r\n        if (instance._pendingSetState) {\r\n            var state = instance.state;\r\n            var pending = instance._pendingState;\r\n            if (state === null) {\r\n                instance.state = pending;\r\n            }\r\n            else {\r\n                for (var key in pending) {\r\n                    state[key] = pending[key];\r\n                }\r\n            }\r\n            instance._pendingSetState = false;\r\n            instance._pendingState = null;\r\n        }\r\n        instance._blockRender = false;\r\n    }\r\n    var childContext;\r\n    if (!isNullOrUndef(instance.getChildContext)) {\r\n        childContext = instance.getChildContext();\r\n    }\r\n    if (isNullOrUndef(childContext)) {\r\n        instance._childContext = context;\r\n    }\r\n    else {\r\n        instance._childContext = combineFrom(context, childContext);\r\n    }\r\n    if (!isNull(options.beforeRender)) {\r\n        options.beforeRender(instance);\r\n    }\r\n    var input = instance.render(props, instance.state, context);\r\n    if (!isNull(options.afterRender)) {\r\n        options.afterRender(instance);\r\n    }\r\n    if (isArray(input)) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError(\"a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.\");\r\n        }\r\n        throwError();\r\n    }\r\n    else if (isInvalid(input)) {\r\n        input = createVoidVNode();\r\n    }\r\n    else if (isStringOrNumber(input)) {\r\n        input = createTextVNode(input, null);\r\n    }\r\n    else {\r\n        if (input.dom) {\r\n            input = directClone(input);\r\n        }\r\n        if (input.flags & 28 /* Component */) {\r\n            // if we have an input that is also a component, we run into a tricky situation\r\n            // where the root vNode needs to always have the correct DOM entry\r\n            // so we break monomorphism on our input and supply it our vNode as parentVNode\r\n            // we can optimise this in the future, but this gets us out of a lot of issues\r\n            input.parentVNode = vNode;\r\n        }\r\n    }\r\n    instance._lastInput = input;\r\n    return instance;\r\n}\r\nfunction replaceLastChildAndUnmount(lastInput, nextInput, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    replaceVNode(parentDom, mount(nextInput, null, lifecycle, context, isSVG), lastInput, lifecycle, isRecycling);\r\n}\r\nfunction replaceVNode(parentDom, dom, vNode, lifecycle, isRecycling) {\r\n    unmount(vNode, null, lifecycle, false, isRecycling);\r\n    replaceChild(parentDom, dom, vNode.dom);\r\n}\r\nfunction createFunctionalComponentInput(vNode, component, props, context) {\r\n    var input = component(props, context);\r\n    if (isArray(input)) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError(\"a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.\");\r\n        }\r\n        throwError();\r\n    }\r\n    else if (isInvalid(input)) {\r\n        input = createVoidVNode();\r\n    }\r\n    else if (isStringOrNumber(input)) {\r\n        input = createTextVNode(input, null);\r\n    }\r\n    else {\r\n        if (input.dom) {\r\n            input = directClone(input);\r\n        }\r\n        if (input.flags & 28 /* Component */) {\r\n            // if we have an input that is also a component, we run into a tricky situation\r\n            // where the root vNode needs to always have the correct DOM entry\r\n            // so we break monomorphism on our input and supply it our vNode as parentVNode\r\n            // we can optimise this in the future, but this gets us out of a lot of issues\r\n            input.parentVNode = vNode;\r\n        }\r\n    }\r\n    return input;\r\n}\r\nfunction setTextContent(dom, text) {\r\n    if (text !== \"\") {\r\n        dom.textContent = text;\r\n    }\r\n    else {\r\n        dom.appendChild(document.createTextNode(\"\"));\r\n    }\r\n}\r\nfunction updateTextContent(dom, text) {\r\n    var textNode = dom.firstChild;\r\n    // Guard against external change on DOM node.\r\n    if (isNull(textNode)) {\r\n        setTextContent(dom, text);\r\n    }\r\n    else {\r\n        textNode.nodeValue = text;\r\n    }\r\n}\r\nfunction appendChild(parentDom, dom) {\r\n    parentDom.appendChild(dom);\r\n}\r\nfunction insertOrAppend(parentDom, newNode, nextNode) {\r\n    if (isNullOrUndef(nextNode)) {\r\n        appendChild(parentDom, newNode);\r\n    }\r\n    else {\r\n        parentDom.insertBefore(newNode, nextNode);\r\n    }\r\n}\r\nfunction documentCreateElement(tag, isSVG) {\r\n    if (isSVG === true) {\r\n        return document.createElementNS(svgNS, tag);\r\n    }\r\n    else {\r\n        return document.createElement(tag);\r\n    }\r\n}\r\nfunction replaceWithNewNode(lastNode, nextNode, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    unmount(lastNode, null, lifecycle, false, isRecycling);\r\n    var dom = mount(nextNode, null, lifecycle, context, isSVG);\r\n    nextNode.dom = dom;\r\n    replaceChild(parentDom, dom, lastNode.dom);\r\n}\r\nfunction replaceChild(parentDom, newDom, lastDom) {\r\n    if (!parentDom) {\r\n        parentDom = lastDom.parentNode;\r\n    }\r\n    parentDom.replaceChild(newDom, lastDom);\r\n}\r\nfunction removeChild(parentDom, dom) {\r\n    parentDom.removeChild(dom);\r\n}\r\nfunction removeAllChildren(dom, children, lifecycle, isRecycling) {\r\n    if (!options.recyclingEnabled || (options.recyclingEnabled && !isRecycling)) {\r\n        removeChildren(null, children, lifecycle, isRecycling);\r\n    }\r\n    dom.textContent = \"\";\r\n}\r\nfunction removeChildren(dom, children, lifecycle, isRecycling) {\r\n    for (var i = 0, len = children.length; i < len; i++) {\r\n        var child = children[i];\r\n        if (!isInvalid(child)) {\r\n            unmount(child, dom, lifecycle, true, isRecycling);\r\n        }\r\n    }\r\n}\r\nfunction isKeyed(lastChildren, nextChildren) {\r\n    return (nextChildren.length > 0 &&\r\n        !isNullOrUndef(nextChildren[0]) &&\r\n        !isNullOrUndef(nextChildren[0].key) &&\r\n        lastChildren.length > 0 &&\r\n        !isNullOrUndef(lastChildren[0]) &&\r\n        !isNullOrUndef(lastChildren[0].key));\r\n}\r\nfunction isSameInnerHTML(dom, innerHTML) {\r\n    var tempdom = document.createElement(\"i\");\r\n    tempdom.innerHTML = innerHTML;\r\n    return tempdom.innerHTML === dom.innerHTML;\r\n}\r\nfunction isSamePropsInnerHTML(dom, props) {\r\n    return Boolean(props &&\r\n        props.dangerouslySetInnerHTML &&\r\n        props.dangerouslySetInnerHTML.__html &&\r\n        isSameInnerHTML(dom, props.dangerouslySetInnerHTML.__html));\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n/**\r\n * Creates virtual node\r\n * @param {number} flags\r\n * @param {string|Function|null} type\r\n * @param {string|null=} className\r\n * @param {object=} children\r\n * @param {object=} props\r\n * @param {*=} key\r\n * @param {object|Function=} ref\r\n * @param {boolean=} noNormalise\r\n * @returns {VNode} returns new virtual node\r\n */\r\nfunction createVNode(flags, type, className, children, props, key, ref, noNormalise) {\r\n    if (flags & 16 /* ComponentUnknown */) {\r\n        flags = isStatefulComponent(type)\r\n            ? 4 /* ComponentClass */\r\n            : 8 /* ComponentFunction */;\r\n    }\r\n    var vNode = {\r\n        children: children === void 0 ? null : children,\r\n        className: className === void 0 ? null : className,\r\n        dom: null,\r\n        flags: flags,\r\n        key: key === void 0 ? null : key,\r\n        props: props === void 0 ? null : props,\r\n        ref: ref === void 0 ? null : ref,\r\n        type: type\r\n    };\r\n    if (noNormalise !== true) {\r\n        normalize(vNode);\r\n    }\r\n    if (options.createVNode !== null) {\r\n        options.createVNode(vNode);\r\n    }\r\n    return vNode;\r\n}\r\nfunction directClone(vNodeToClone) {\r\n    var newVNode;\r\n    var flags = vNodeToClone.flags;\r\n    if (flags & 28 /* Component */) {\r\n        var props;\r\n        var propsToClone = vNodeToClone.props;\r\n        if (isNull(propsToClone)) {\r\n            props = EMPTY_OBJ;\r\n        }\r\n        else {\r\n            props = {};\r\n            for (var key in propsToClone) {\r\n                props[key] = propsToClone[key];\r\n            }\r\n        }\r\n        newVNode = createVNode(flags, vNodeToClone.type, null, null, props, vNodeToClone.key, vNodeToClone.ref, true);\r\n        var newProps = newVNode.props;\r\n        var newChildren = newProps.children;\r\n        // we need to also clone component children that are in props\r\n        // as the children may also have been hoisted\r\n        if (newChildren) {\r\n            if (isArray(newChildren)) {\r\n                var len = newChildren.length;\r\n                if (len > 0) {\r\n                    var tmpArray = [];\r\n                    for (var i = 0; i < len; i++) {\r\n                        var child = newChildren[i];\r\n                        if (isStringOrNumber(child)) {\r\n                            tmpArray.push(child);\r\n                        }\r\n                        else if (!isInvalid(child) && isVNode(child)) {\r\n                            tmpArray.push(directClone(child));\r\n                        }\r\n                    }\r\n                    newProps.children = tmpArray;\r\n                }\r\n            }\r\n            else if (isVNode(newChildren)) {\r\n                newProps.children = directClone(newChildren);\r\n            }\r\n        }\r\n        newVNode.children = null;\r\n    }\r\n    else if (flags & 3970 /* Element */) {\r\n        var children = vNodeToClone.children;\r\n        var props$1;\r\n        var propsToClone$1 = vNodeToClone.props;\r\n        if (propsToClone$1 === null) {\r\n            props$1 = EMPTY_OBJ;\r\n        }\r\n        else {\r\n            props$1 = {};\r\n            for (var key$1 in propsToClone$1) {\r\n                props$1[key$1] = propsToClone$1[key$1];\r\n            }\r\n        }\r\n        newVNode = createVNode(flags, vNodeToClone.type, vNodeToClone.className, children, props$1, vNodeToClone.key, vNodeToClone.ref, !children);\r\n    }\r\n    else if (flags & 1 /* Text */) {\r\n        newVNode = createTextVNode(vNodeToClone.children, vNodeToClone.key);\r\n    }\r\n    return newVNode;\r\n}\r\n/*\r\n directClone is preferred over cloneVNode and used internally also.\r\n This function makes Inferno backwards compatible.\r\n And can be tree-shaked by modern bundlers\r\n\r\n Would be nice to combine this with directClone but could not do it without breaking change\r\n */\r\n/**\r\n * Clones given virtual node by creating new instance of it\r\n * @param {VNode} vNodeToClone virtual node to be cloned\r\n * @param {Props=} props additional props for new virtual node\r\n * @param {...*} _children new children for new virtual node\r\n * @returns {VNode} new virtual node\r\n */\r\nfunction cloneVNode(vNodeToClone, props) {\n    var _children = [], len$2 = arguments.length - 2;\n    while ( len$2-- > 0 ) _children[ len$2 ] = arguments[ len$2 + 2 ];\n\r\n    var children = _children;\r\n    var childrenLen = _children.length;\r\n    if (childrenLen > 0 && !isUndefined(_children[0])) {\r\n        if (!props) {\r\n            props = {};\r\n        }\r\n        if (childrenLen === 1) {\r\n            children = _children[0];\r\n        }\r\n        if (!isUndefined(children)) {\r\n            props.children = children;\r\n        }\r\n    }\r\n    var newVNode;\r\n    if (isArray(vNodeToClone)) {\r\n        var tmpArray = [];\r\n        for (var i = 0, len = vNodeToClone.length; i < len; i++) {\r\n            tmpArray.push(directClone(vNodeToClone[i]));\r\n        }\r\n        newVNode = tmpArray;\r\n    }\r\n    else {\r\n        var flags = vNodeToClone.flags;\r\n        var className = vNodeToClone.className;\r\n        var key = vNodeToClone.key;\r\n        var ref = vNodeToClone.ref;\r\n        if (props) {\r\n            if (props.hasOwnProperty(\"className\")) {\r\n                className = props.className;\r\n            }\r\n            if (props.hasOwnProperty(\"ref\")) {\r\n                ref = props.ref;\r\n            }\r\n            if (props.hasOwnProperty(\"key\")) {\r\n                key = props.key;\r\n            }\r\n        }\r\n        if (flags & 28 /* Component */) {\r\n            newVNode = createVNode(flags, vNodeToClone.type, className, null, !vNodeToClone.props && !props\r\n                ? EMPTY_OBJ\r\n                : combineFrom(vNodeToClone.props, props), key, ref, true);\r\n            var newProps = newVNode.props;\r\n            if (newProps) {\r\n                var newChildren = newProps.children;\r\n                // we need to also clone component children that are in props\r\n                // as the children may also have been hoisted\r\n                if (newChildren) {\r\n                    if (isArray(newChildren)) {\r\n                        var len$1 = newChildren.length;\r\n                        if (len$1 > 0) {\r\n                            var tmpArray$1 = [];\r\n                            for (var i$1 = 0; i$1 < len$1; i$1++) {\r\n                                var child = newChildren[i$1];\r\n                                if (isStringOrNumber(child)) {\r\n                                    tmpArray$1.push(child);\r\n                                }\r\n                                else if (!isInvalid(child) && isVNode(child)) {\r\n                                    tmpArray$1.push(directClone(child));\r\n                                }\r\n                            }\r\n                            newProps.children = tmpArray$1;\r\n                        }\r\n                    }\r\n                    else if (isVNode(newChildren)) {\r\n                        newProps.children = directClone(newChildren);\r\n                    }\r\n                }\r\n            }\r\n            newVNode.children = null;\r\n        }\r\n        else if (flags & 3970 /* Element */) {\r\n            children =\r\n                props && !isUndefined(props.children)\r\n                    ? props.children\r\n                    : vNodeToClone.children;\r\n            newVNode = createVNode(flags, vNodeToClone.type, className, children, !vNodeToClone.props && !props\r\n                ? EMPTY_OBJ\r\n                : combineFrom(vNodeToClone.props, props), key, ref, false);\r\n        }\r\n        else if (flags & 1 /* Text */) {\r\n            newVNode = createTextVNode(vNodeToClone.children, key);\r\n        }\r\n    }\r\n    return newVNode;\r\n}\r\nfunction createVoidVNode() {\r\n    return createVNode(4096 /* Void */, null);\r\n}\r\nfunction createTextVNode(text, key) {\r\n    return createVNode(1 /* Text */, null, null, text, null, key);\r\n}\r\nfunction isVNode(o) {\r\n    return !!o.flags;\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction applyKey(key, vNode) {\r\n    vNode.key = key;\r\n    return vNode;\r\n}\r\nfunction applyKeyIfMissing(key, vNode) {\r\n    if (isNumber(key)) {\r\n        key = \".\" + key;\r\n    }\r\n    if (isNull(vNode.key) || vNode.key[0] === \".\") {\r\n        return applyKey(key, vNode);\r\n    }\r\n    return vNode;\r\n}\r\nfunction applyKeyPrefix(key, vNode) {\r\n    vNode.key = key + vNode.key;\r\n    return vNode;\r\n}\r\nfunction _normalizeVNodes(nodes, result, index, currentKey) {\r\n    for (var len = nodes.length; index < len; index++) {\r\n        var n = nodes[index];\r\n        var key = currentKey + \".\" + index;\r\n        if (!isInvalid(n)) {\r\n            if (isArray(n)) {\r\n                _normalizeVNodes(n, result, 0, key);\r\n            }\r\n            else {\r\n                if (isStringOrNumber(n)) {\r\n                    n = createTextVNode(n, null);\r\n                }\r\n                else if ((isVNode(n) && n.dom) || (n.key && n.key[0] === \".\")) {\r\n                    n = directClone(n);\r\n                }\r\n                if (isNull(n.key) || n.key[0] === \".\") {\r\n                    n = applyKey(key, n);\r\n                }\r\n                else {\r\n                    n = applyKeyPrefix(currentKey, n);\r\n                }\r\n                result.push(n);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction normalizeVNodes(nodes) {\r\n    var newNodes;\r\n    // we assign $ which basically means we've flagged this array for future note\r\n    // if it comes back again, we need to clone it, as people are using it\r\n    // in an immutable way\r\n    // tslint:disable\r\n    if (nodes[\"$\"] === true) {\r\n        nodes = nodes.slice();\r\n    }\r\n    else {\r\n        nodes[\"$\"] = true;\r\n    }\r\n    // tslint:enable\r\n    for (var i = 0, len = nodes.length; i < len; i++) {\r\n        var n = nodes[i];\r\n        if (isInvalid(n) || isArray(n)) {\r\n            var result = (newNodes || nodes).slice(0, i);\r\n            _normalizeVNodes(nodes, result, i, \"\");\r\n            return result;\r\n        }\r\n        else if (isStringOrNumber(n)) {\r\n            if (!newNodes) {\r\n                newNodes = nodes.slice(0, i);\r\n            }\r\n            newNodes.push(applyKeyIfMissing(i, createTextVNode(n, null)));\r\n        }\r\n        else if ((isVNode(n) && n.dom !== null) ||\r\n            (isNull(n.key) && (n.flags & 64 /* HasNonKeyedChildren */) === 0)) {\r\n            if (!newNodes) {\r\n                newNodes = nodes.slice(0, i);\r\n            }\r\n            newNodes.push(applyKeyIfMissing(i, directClone(n)));\r\n        }\r\n        else if (newNodes) {\r\n            newNodes.push(applyKeyIfMissing(i, directClone(n)));\r\n        }\r\n    }\r\n    return newNodes || nodes;\r\n}\r\nfunction normalizeChildren(children) {\r\n    if (isArray(children)) {\r\n        return normalizeVNodes(children);\r\n    }\r\n    else if (isVNode(children) && children.dom !== null) {\r\n        return directClone(children);\r\n    }\r\n    return children;\r\n}\r\nfunction normalizeProps(vNode, props, children) {\r\n    if (vNode.flags & 3970 /* Element */) {\r\n        if (isNullOrUndef(children) && props.hasOwnProperty(\"children\")) {\r\n            vNode.children = props.children;\r\n        }\r\n        if (props.hasOwnProperty(\"className\")) {\r\n            vNode.className = props.className || null;\r\n            delete props.className;\r\n        }\r\n    }\r\n    if (props.hasOwnProperty(\"ref\")) {\r\n        vNode.ref = props.ref;\r\n        delete props.ref;\r\n    }\r\n    if (props.hasOwnProperty(\"key\")) {\r\n        vNode.key = props.key;\r\n        delete props.key;\r\n    }\r\n}\r\nfunction getFlagsForElementVnode(type) {\r\n    if (type === \"svg\") {\r\n        return 128 /* SvgElement */;\r\n    }\r\n    else if (type === \"input\") {\r\n        return 512 /* InputElement */;\r\n    }\r\n    else if (type === \"select\") {\r\n        return 2048 /* SelectElement */;\r\n    }\r\n    else if (type === \"textarea\") {\r\n        return 1024 /* TextareaElement */;\r\n    }\r\n    else if (type === \"media\") {\r\n        return 256 /* MediaElement */;\r\n    }\r\n    return 2 /* HtmlElement */;\r\n}\r\nfunction normalize(vNode) {\r\n    var props = vNode.props;\r\n    var children = vNode.children;\r\n    // convert a wrongly created type back to element\r\n    // Primitive node doesn't have defaultProps, only Component\r\n    if (vNode.flags & 28 /* Component */) {\r\n        // set default props\r\n        var type = vNode.type;\r\n        var defaultProps = type.defaultProps;\r\n        if (!isNullOrUndef(defaultProps)) {\r\n            if (!props) {\r\n                props = vNode.props = defaultProps; // Create new object if only defaultProps given\r\n            }\r\n            else {\r\n                for (var prop in defaultProps) {\r\n                    if (isUndefined(props[prop])) {\r\n                        props[prop] = defaultProps[prop];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (isString(type)) {\r\n            vNode.flags = getFlagsForElementVnode(type);\r\n            if (props && props.children) {\r\n                vNode.children = props.children;\r\n                children = props.children;\r\n            }\r\n        }\r\n    }\r\n    if (props) {\r\n        normalizeProps(vNode, props, children);\r\n        if (!isInvalid(props.children)) {\r\n            props.children = normalizeChildren(props.children);\r\n        }\r\n    }\r\n    if (!isInvalid(children)) {\r\n        vNode.children = normalizeChildren(children);\r\n    }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        // This code will be stripped out from production CODE\r\n        // It helps users to track errors in their applications.\r\n        var verifyKeys = function (vNodes) {\r\n            var keyValues = vNodes.map((function (vnode) {\r\n                return vnode.key;\r\n            }));\r\n            keyValues.some((function (item, idx) {\r\n                var hasDuplicate = keyValues.indexOf(item) !== idx;\r\n                if (hasDuplicate) {\r\n                    warning(\"Inferno normalisation(...): Encountered two children with same key, all keys must be unique within its siblings. Duplicated key is:\" +\r\n                        item);\r\n                }\r\n                return hasDuplicate;\r\n            }));\r\n        };\r\n        if (vNode.children && Array.isArray(vNode.children)) {\r\n            verifyKeys(vNode.children);\r\n        }\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n/**\r\n * Links given data to event as first parameter\r\n * @param {*} data data to be linked, it will be available in function as first parameter\r\n * @param {Function} event Function to be called when event occurs\r\n * @returns {{data: *, event: Function}}\r\n */\r\nfunction linkEvent(data, event) {\r\n    if (isFunction(event)) {\r\n        return { data: data, event: event };\r\n    }\r\n    return null; // Return null when event is invalid, to avoid creating unnecessary event handlers\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n/* tslint:disable:object-literal-sort-keys */\r\nif (process.env.NODE_ENV !== \"production\") {\r\n    /* tslint:disable-next-line:no-empty */\r\n    var testFunc = function testFn() { };\r\n    if ((testFunc.name || testFunc.toString()).indexOf(\"testFn\") ===\r\n        -1) {\r\n        warning(\"It looks like you're using a minified copy of the development build \" +\r\n            \"of Inferno. When deploying Inferno apps to production, make sure to use \" +\r\n            \"the production build which skips development warnings and is faster. \" +\r\n            \"See http://infernojs.org for more details.\");\r\n    }\r\n}\r\nvar version = \"3.10.1\";\r\n// we duplicate it so it plays nicely with different module loading systems\r\nvar index = {\r\n    EMPTY_OBJ: EMPTY_OBJ,\r\n    NO_OP: NO_OP,\r\n    cloneVNode: cloneVNode,\r\n    createRenderer: createRenderer,\r\n    createVNode: createVNode,\r\n    findDOMNode: findDOMNode,\r\n    getFlagsForElementVnode: getFlagsForElementVnode,\r\n    internal_DOMNodeMap: componentToDOMNodeMap,\r\n    internal_isUnitlessNumber: isUnitlessNumber,\r\n    internal_normalize: normalize,\r\n    internal_patch: patch,\r\n    linkEvent: linkEvent,\r\n    options: options,\r\n    render: render,\r\n    version: version\r\n};\n\nexports['default'] = index;\nexports.EMPTY_OBJ = EMPTY_OBJ;\nexports.NO_OP = NO_OP;\nexports.cloneVNode = cloneVNode;\nexports.createRenderer = createRenderer;\nexports.createVNode = createVNode;\nexports.findDOMNode = findDOMNode;\nexports.getFlagsForElementVnode = getFlagsForElementVnode;\nexports.internal_DOMNodeMap = componentToDOMNodeMap;\nexports.internal_isUnitlessNumber = isUnitlessNumber;\nexports.internal_normalize = normalize;\nexports.internal_patch = patch;\nexports.linkEvent = linkEvent;\nexports.options = options;\nexports.render = render;\nexports.version = version;\n","module.exports = require('./dist').default;\nmodule.exports.default = module.exports;\n\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NO_OP = '$NO_OP';\r\nexports.ERROR_MSG = 'a runtime error occured! Use Inferno in development environment to find the error.';\r\n// This should be boolean and not reference to window.document\r\nexports.isBrowser = !!(typeof window !== 'undefined' && window.document);\r\nfunction toArray(children) {\r\n    return exports.isArray(children) ? children : (children ? [children] : children);\r\n}\r\nexports.toArray = toArray;\r\n// this is MUCH faster than .constructor === Array and instanceof Array\r\n// in Node 7 and the later versions of V8, slower in older versions though\r\nexports.isArray = Array.isArray;\r\nfunction isStatefulComponent(o) {\r\n    return !isUndefined(o.prototype) && !isUndefined(o.prototype.render);\r\n}\r\nexports.isStatefulComponent = isStatefulComponent;\r\nfunction isStringOrNumber(o) {\r\n    var type = typeof o;\r\n    return type === 'string' || type === 'number';\r\n}\r\nexports.isStringOrNumber = isStringOrNumber;\r\nfunction isNullOrUndef(o) {\r\n    return isUndefined(o) || isNull(o);\r\n}\r\nexports.isNullOrUndef = isNullOrUndef;\r\nfunction isInvalid(o) {\r\n    return isNull(o) || o === false || isTrue(o) || isUndefined(o);\r\n}\r\nexports.isInvalid = isInvalid;\r\nfunction isFunction(o) {\r\n    return typeof o === 'function';\r\n}\r\nexports.isFunction = isFunction;\r\nfunction isString(o) {\r\n    return typeof o === 'string';\r\n}\r\nexports.isString = isString;\r\nfunction isNumber(o) {\r\n    return typeof o === 'number';\r\n}\r\nexports.isNumber = isNumber;\r\nfunction isNull(o) {\r\n    return o === null;\r\n}\r\nexports.isNull = isNull;\r\nfunction isTrue(o) {\r\n    return o === true;\r\n}\r\nexports.isTrue = isTrue;\r\nfunction isUndefined(o) {\r\n    return o === void 0;\r\n}\r\nexports.isUndefined = isUndefined;\r\nfunction isObject(o) {\r\n    return typeof o === 'object';\r\n}\r\nexports.isObject = isObject;\r\nfunction throwError(message) {\r\n    if (!message) {\r\n        message = exports.ERROR_MSG;\r\n    }\r\n    throw new Error(\"Inferno Error: \" + message);\r\n}\r\nexports.throwError = throwError;\r\nfunction warning(message) {\r\n    // tslint:disable-next-line:no-console\r\n    console.warn(message);\r\n}\r\nexports.warning = warning;\r\nfunction combineFrom(first, second) {\r\n    var out = {};\r\n    if (first) {\r\n        for (var key in first) {\r\n            out[key] = first[key];\r\n        }\r\n    }\r\n    if (second) {\r\n        for (var key in second) {\r\n            out[key] = second[key];\r\n        }\r\n    }\r\n    return out;\r\n}\r\nexports.combineFrom = combineFrom;\r\nfunction Lifecycle() {\r\n    this.listeners = [];\r\n}\r\nexports.Lifecycle = Lifecycle;\r\nLifecycle.prototype.addListener = function addListener(callback) {\r\n    this.listeners.push(callback);\r\n};\r\nLifecycle.prototype.trigger = function trigger() {\r\n    var listeners = this.listeners;\r\n    var listener;\r\n    // We need to remove current listener from array when calling it, because more listeners might be added\r\n    while (listener = listeners.shift()) {\r\n        listener();\r\n    }\r\n};\r\n","module.exports = require('./dist');\nmodule.exports.default = module.exports;\n\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.xlinkNS = 'http://www.w3.org/1999/xlink';\r\nexports.xmlNS = 'http://www.w3.org/XML/1998/namespace';\r\nexports.svgNS = 'http://www.w3.org/2000/svg';\r\nexports.strictProps = new Set();\r\nexports.strictProps.add('volume');\r\nexports.strictProps.add('defaultChecked');\r\nexports.booleanProps = new Set();\r\nexports.booleanProps.add('muted');\r\nexports.booleanProps.add('scoped');\r\nexports.booleanProps.add('loop');\r\nexports.booleanProps.add('open');\r\nexports.booleanProps.add('checked');\r\nexports.booleanProps.add('default');\r\nexports.booleanProps.add('capture');\r\nexports.booleanProps.add('disabled');\r\nexports.booleanProps.add('readOnly');\r\nexports.booleanProps.add('required');\r\nexports.booleanProps.add('autoplay');\r\nexports.booleanProps.add('controls');\r\nexports.booleanProps.add('seamless');\r\nexports.booleanProps.add('reversed');\r\nexports.booleanProps.add('allowfullscreen');\r\nexports.booleanProps.add('novalidate');\r\nexports.booleanProps.add('hidden');\r\nexports.booleanProps.add('autoFocus');\r\nexports.booleanProps.add('selected');\r\nexports.namespaces = new Map();\r\nexports.namespaces.set('xlink:href', exports.xlinkNS);\r\nexports.namespaces.set('xlink:arcrole', exports.xlinkNS);\r\nexports.namespaces.set('xlink:actuate', exports.xlinkNS);\r\nexports.namespaces.set('xlink:show', exports.xlinkNS);\r\nexports.namespaces.set('xlink:role', exports.xlinkNS);\r\nexports.namespaces.set('xlink:title', exports.xlinkNS);\r\nexports.namespaces.set('xlink:type', exports.xlinkNS);\r\nexports.namespaces.set('xml:base', exports.xmlNS);\r\nexports.namespaces.set('xml:lang', exports.xmlNS);\r\nexports.namespaces.set('xml:space', exports.xmlNS);\r\nexports.isUnitlessNumber = new Set();\r\nexports.isUnitlessNumber.add('animationIterationCount');\r\nexports.isUnitlessNumber.add('borderImageOutset');\r\nexports.isUnitlessNumber.add('borderImageSlice');\r\nexports.isUnitlessNumber.add('borderImageWidth');\r\nexports.isUnitlessNumber.add('boxFlex');\r\nexports.isUnitlessNumber.add('boxFlexGroup');\r\nexports.isUnitlessNumber.add('boxOrdinalGroup');\r\nexports.isUnitlessNumber.add('columnCount');\r\nexports.isUnitlessNumber.add('flex');\r\nexports.isUnitlessNumber.add('flexGrow');\r\nexports.isUnitlessNumber.add('flexPositive');\r\nexports.isUnitlessNumber.add('flexShrink');\r\nexports.isUnitlessNumber.add('flexNegative');\r\nexports.isUnitlessNumber.add('flexOrder');\r\nexports.isUnitlessNumber.add('gridRow');\r\nexports.isUnitlessNumber.add('gridColumn');\r\nexports.isUnitlessNumber.add('fontWeight');\r\nexports.isUnitlessNumber.add('lineClamp');\r\nexports.isUnitlessNumber.add('lineHeight');\r\nexports.isUnitlessNumber.add('opacity');\r\nexports.isUnitlessNumber.add('order');\r\nexports.isUnitlessNumber.add('orphans');\r\nexports.isUnitlessNumber.add('tabSize');\r\nexports.isUnitlessNumber.add('widows');\r\nexports.isUnitlessNumber.add('zIndex');\r\nexports.isUnitlessNumber.add('zoom');\r\nexports.isUnitlessNumber.add('fillOpacity');\r\nexports.isUnitlessNumber.add('floodOpacity');\r\nexports.isUnitlessNumber.add('stopOpacity');\r\nexports.isUnitlessNumber.add('strokeDasharray');\r\nexports.isUnitlessNumber.add('strokeDashoffset');\r\nexports.isUnitlessNumber.add('strokeMiterlimit');\r\nexports.isUnitlessNumber.add('strokeOpacity');\r\nexports.isUnitlessNumber.add('strokeWidth');\r\nexports.skipProps = new Set();\r\nexports.skipProps.add('children');\r\nexports.skipProps.add('childrenType');\r\nexports.skipProps.add('defaultValue');\r\nexports.skipProps.add('ref');\r\nexports.skipProps.add('key');\r\nexports.skipProps.add('checked');\r\nexports.skipProps.add('multiple');\r\nexports.delegatedEvents = new Set();\r\nexports.delegatedEvents.add('onClick');\r\nexports.delegatedEvents.add('onMouseDown');\r\nexports.delegatedEvents.add('onMouseUp');\r\nexports.delegatedEvents.add('onMouseMove');\r\nexports.delegatedEvents.add('onSubmit');\r\nexports.delegatedEvents.add('onDblClick');\r\nexports.delegatedEvents.add('onKeyDown');\r\nexports.delegatedEvents.add('onKeyUp');\r\nexports.delegatedEvents.add('onKeyPress');\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\nvar isiOS = inferno_shared_1.isBrowser && !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\r\nvar delegatedEvents = new Map();\r\nfunction handleEvent(name, lastEvent, nextEvent, dom) {\r\n    var delegatedRoots = delegatedEvents.get(name);\r\n    if (nextEvent) {\r\n        if (!delegatedRoots) {\r\n            delegatedRoots = { items: new Map(), docEvent: null };\r\n            delegatedRoots.docEvent = attachEventToDocument(name, delegatedRoots);\r\n            delegatedEvents.set(name, delegatedRoots);\r\n        }\r\n        if (!lastEvent) {\r\n            if (isiOS && name === 'onClick') {\r\n                trapClickOnNonInteractiveElement(dom);\r\n            }\r\n        }\r\n        delegatedRoots.items.set(dom, nextEvent);\r\n    }\r\n    else if (delegatedRoots) {\r\n        var items = delegatedRoots.items;\r\n        if (items.delete(dom)) {\r\n            // If any items were deleted, check if listener need to be removed\r\n            if (items.size === 0) {\r\n                document.removeEventListener(normalizeEventName(name), delegatedRoots.docEvent);\r\n                delegatedEvents.delete(name);\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.handleEvent = handleEvent;\r\nfunction dispatchEvent(event, target, items, count, isClick, eventData) {\r\n    var eventsToTrigger = items.get(target);\r\n    if (eventsToTrigger) {\r\n        count--;\r\n        // linkEvent object\r\n        eventData.dom = target;\r\n        if (eventsToTrigger.event) {\r\n            eventsToTrigger.event(eventsToTrigger.data, event);\r\n        }\r\n        else {\r\n            eventsToTrigger(event);\r\n        }\r\n        if (event.cancelBubble) {\r\n            return;\r\n        }\r\n    }\r\n    if (count > 0) {\r\n        var parentDom = target.parentNode;\r\n        // Html Nodes can be nested fe: span inside button in that scenario browser does not handle disabled attribute on parent,\r\n        // because the event listener is on document.body\r\n        // Don't process clicks on disabled elements\r\n        if (parentDom === null || (isClick && parentDom.nodeType === 1 && parentDom.disabled)) {\r\n            return;\r\n        }\r\n        dispatchEvent(event, parentDom, items, count, isClick, eventData);\r\n    }\r\n}\r\nfunction normalizeEventName(name) {\r\n    return name.substr(2).toLowerCase();\r\n}\r\nfunction stopPropagation() {\r\n    this.cancelBubble = true;\r\n    this.stopImmediatePropagation();\r\n}\r\nfunction attachEventToDocument(name, delegatedRoots) {\r\n    var docEvent = function (event) {\r\n        var count = delegatedRoots.items.size;\r\n        if (count > 0) {\r\n            event.stopPropagation = stopPropagation;\r\n            // Event data needs to be object to save reference to currentTarget getter\r\n            var eventData_1 = {\r\n                dom: document\r\n            };\r\n            try {\r\n                Object.defineProperty(event, 'currentTarget', {\r\n                    configurable: true,\r\n                    get: function get() {\r\n                        return eventData_1.dom;\r\n                    }\r\n                });\r\n            }\r\n            catch (e) { }\r\n            dispatchEvent(event, event.target, delegatedRoots.items, count, event.type === 'click', eventData_1);\r\n        }\r\n    };\r\n    document.addEventListener(normalizeEventName(name), docEvent);\r\n    return docEvent;\r\n}\r\n// tslint:disable-next-line:no-empty\r\nfunction emptyFn() { }\r\nfunction trapClickOnNonInteractiveElement(dom) {\r\n    // Mobile Safari does not fire properly bubble click events on\r\n    // non-interactive elements, which means delegated click listeners do not\r\n    // fire. The workaround for this bug involves attaching an empty click\r\n    // listener on the target node.\r\n    // http://www.quirksmode.org/blog/archives/2010/09/click_event_del.html\r\n    // Just set it using the onclick property so that we don't have to manage any\r\n    // bookkeeping for it. Not sure if we need to clear it when the listener is\r\n    // removed.\r\n    // TODO: Only do this for the relevant Safaris maybe?\r\n    dom.onclick = emptyFn;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\n/**\r\n * Links given data to event as first parameter\r\n * @param {*} data data to be linked, it will be available in function as first parameter\r\n * @param {Function} event Function to be called when event occurs\r\n * @returns {{data: *, event: Function}}\r\n */\r\nfunction linkEvent(data, event) {\r\n    if (inferno_shared_1.isFunction(event)) {\r\n        return { data: data, event: event };\r\n    }\r\n    return null; // Return null when event is invalid, to avoid creating unnecessary event handlers\r\n}\r\nexports.linkEvent = linkEvent;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\nvar options_1 = require(\"../core/options\");\r\nvar constants_1 = require(\"./constants\");\r\nvar mounting_1 = require(\"./mounting\");\r\nvar patching_1 = require(\"./patching\");\r\nvar rendering_1 = require(\"./rendering\");\r\nvar utils_1 = require(\"./utils\");\r\nvar processElement_1 = require(\"./wrappers/processElement\");\r\nfunction normalizeChildNodes(parentDom) {\r\n    var dom = parentDom.firstChild;\r\n    while (dom) {\r\n        if (dom.nodeType === 8) {\r\n            if (dom.data === '!') {\r\n                var placeholder = document.createTextNode('');\r\n                parentDom.replaceChild(placeholder, dom);\r\n                dom = dom.nextSibling;\r\n            }\r\n            else {\r\n                var lastDom = dom.previousSibling;\r\n                parentDom.removeChild(dom);\r\n                dom = lastDom || parentDom.firstChild;\r\n            }\r\n        }\r\n        else {\r\n            dom = dom.nextSibling;\r\n        }\r\n    }\r\n}\r\nfunction hydrateComponent(vNode, dom, lifecycle, context, isSVG, isClass) {\r\n    var type = vNode.type;\r\n    var ref = vNode.ref;\r\n    vNode.dom = dom;\r\n    var props = vNode.props || utils_1.EMPTY_OBJ;\r\n    if (isClass) {\r\n        var _isSVG = dom.namespaceURI === constants_1.svgNS;\r\n        var instance = utils_1.createClassComponentInstance(vNode, type, props, context, _isSVG, lifecycle);\r\n        var input = instance._lastInput;\r\n        instance._vNode = vNode;\r\n        hydrate(input, dom, lifecycle, instance._childContext, _isSVG);\r\n        mounting_1.mountClassComponentCallbacks(vNode, ref, instance, lifecycle);\r\n        instance._updating = false; // Mount finished allow going sync\r\n        if (options_1.options.findDOMNodeEnabled) {\r\n            rendering_1.componentToDOMNodeMap.set(instance, dom);\r\n        }\r\n    }\r\n    else {\r\n        var input = utils_1.createFunctionalComponentInput(vNode, type, props, context);\r\n        hydrate(input, dom, lifecycle, context, isSVG);\r\n        vNode.children = input;\r\n        vNode.dom = input.dom;\r\n        mounting_1.mountFunctionalComponentCallbacks(ref, dom, lifecycle);\r\n    }\r\n    return dom;\r\n}\r\nfunction hydrateElement(vNode, dom, lifecycle, context, isSVG) {\r\n    var children = vNode.children;\r\n    var props = vNode.props;\r\n    var className = vNode.className;\r\n    var flags = vNode.flags;\r\n    var ref = vNode.ref;\r\n    isSVG = isSVG || (flags & 128 /* SvgElement */) > 0;\r\n    if (dom.nodeType !== 1 || dom.tagName.toLowerCase() !== vNode.type) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            inferno_shared_1.warning('Inferno hydration: Server-side markup doesn\\'t match client-side markup or Initial render target is not empty');\r\n        }\r\n        var newDom = mounting_1.mountElement(vNode, null, lifecycle, context, isSVG);\r\n        vNode.dom = newDom;\r\n        utils_1.replaceChild(dom.parentNode, newDom, dom);\r\n        return newDom;\r\n    }\r\n    vNode.dom = dom;\r\n    if (children) {\r\n        hydrateChildren(children, dom, lifecycle, context, isSVG);\r\n    }\r\n    if (props) {\r\n        var hasControlledValue = false;\r\n        var isFormElement = (flags & 3584 /* FormElement */) > 0;\r\n        if (isFormElement) {\r\n            hasControlledValue = processElement_1.isControlledFormElement(props);\r\n        }\r\n        for (var prop in props) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            patching_1.patchProp(prop, null, props[prop], dom, isSVG, hasControlledValue);\r\n        }\r\n        if (isFormElement) {\r\n            processElement_1.processElement(flags, vNode, dom, props, true, hasControlledValue);\r\n        }\r\n    }\r\n    if (!inferno_shared_1.isNullOrUndef(className)) {\r\n        if (isSVG) {\r\n            dom.setAttribute('class', className);\r\n        }\r\n        else {\r\n            dom.className = className;\r\n        }\r\n    }\r\n    if (ref) {\r\n        mounting_1.mountRef(dom, ref, lifecycle);\r\n    }\r\n    return dom;\r\n}\r\nfunction hydrateChildren(children, parentDom, lifecycle, context, isSVG) {\r\n    normalizeChildNodes(parentDom);\r\n    var dom = parentDom.firstChild;\r\n    if (inferno_shared_1.isArray(children)) {\r\n        for (var i = 0, len = children.length; i < len; i++) {\r\n            var child = children[i];\r\n            if (!inferno_shared_1.isNull(child) && inferno_shared_1.isObject(child)) {\r\n                if (!inferno_shared_1.isNull(dom)) {\r\n                    hydrate(child, dom, lifecycle, context, isSVG);\r\n                    dom = dom.nextSibling;\r\n                }\r\n                else {\r\n                    mounting_1.mount(child, parentDom, lifecycle, context, isSVG);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else if (inferno_shared_1.isStringOrNumber(children)) {\r\n        if (dom && dom.nodeType === 3) {\r\n            if (dom.nodeValue !== children) {\r\n                dom.nodeValue = children;\r\n            }\r\n        }\r\n        else if (children) {\r\n            parentDom.textContent = children;\r\n        }\r\n        dom = dom.nextSibling;\r\n    }\r\n    else if (inferno_shared_1.isObject(children)) {\r\n        hydrate(children, dom, lifecycle, context, isSVG);\r\n        dom = dom.nextSibling;\r\n    }\r\n    // clear any other DOM nodes, there should be only a single entry for the root\r\n    while (dom) {\r\n        var nextSibling = dom.nextSibling;\r\n        parentDom.removeChild(dom);\r\n        dom = nextSibling;\r\n    }\r\n}\r\nfunction hydrateText(vNode, dom) {\r\n    if (dom.nodeType !== 3) {\r\n        var newDom = mounting_1.mountText(vNode, null);\r\n        vNode.dom = newDom;\r\n        utils_1.replaceChild(dom.parentNode, newDom, dom);\r\n        return newDom;\r\n    }\r\n    var text = vNode.children;\r\n    if (dom.nodeValue !== text) {\r\n        dom.nodeValue = text;\r\n    }\r\n    vNode.dom = dom;\r\n    return dom;\r\n}\r\nfunction hydrateVoid(vNode, dom) {\r\n    vNode.dom = dom;\r\n    return dom;\r\n}\r\nfunction hydrate(vNode, dom, lifecycle, context, isSVG) {\r\n    var flags = vNode.flags;\r\n    if (flags & 28 /* Component */) {\r\n        hydrateComponent(vNode, dom, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0);\r\n    }\r\n    else if (flags & 3970 /* Element */) {\r\n        hydrateElement(vNode, dom, lifecycle, context, isSVG);\r\n    }\r\n    else if (flags & 1 /* Text */) {\r\n        hydrateText(vNode, dom);\r\n    }\r\n    else if (flags & 4096 /* Void */) {\r\n        hydrateVoid(vNode, dom);\r\n    }\r\n    else {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            inferno_shared_1.throwError(\"hydrate() expects a valid VNode, instead it received an object with the type \\\"\" + typeof vNode + \"\\\".\");\r\n        }\r\n        inferno_shared_1.throwError();\r\n    }\r\n}\r\nfunction hydrateRoot(input, parentDom, lifecycle) {\r\n    if (!inferno_shared_1.isNull(parentDom)) {\r\n        var dom = parentDom.firstChild;\r\n        if (!inferno_shared_1.isNull(dom)) {\r\n            hydrate(input, dom, lifecycle, utils_1.EMPTY_OBJ, false);\r\n            dom = parentDom.firstChild;\r\n            // clear any other DOM nodes, there should be only a single entry for the root\r\n            while (dom = dom.nextSibling) {\r\n                parentDom.removeChild(dom);\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexports.hydrateRoot = hydrateRoot;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\nvar options_1 = require(\"../core/options\");\r\nvar VNodes_1 = require(\"../core/VNodes\");\r\nvar patching_1 = require(\"./patching\");\r\nvar recycling_1 = require(\"./recycling\");\r\nvar rendering_1 = require(\"./rendering\");\r\nvar utils_1 = require(\"./utils\");\r\nvar processElement_1 = require(\"./wrappers/processElement\");\r\nfunction mount(vNode, parentDom, lifecycle, context, isSVG) {\r\n    var flags = vNode.flags;\r\n    if (flags & 3970 /* Element */) {\r\n        return mountElement(vNode, parentDom, lifecycle, context, isSVG);\r\n    }\r\n    else if (flags & 28 /* Component */) {\r\n        return mountComponent(vNode, parentDom, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0);\r\n    }\r\n    else if (flags & 4096 /* Void */) {\r\n        return mountVoid(vNode, parentDom);\r\n    }\r\n    else if (flags & 1 /* Text */) {\r\n        return mountText(vNode, parentDom);\r\n    }\r\n    else {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            if (typeof vNode === 'object') {\r\n                inferno_shared_1.throwError(\"mount() received an object that's not a valid VNode, you should stringify it first. Object: \\\"\" + JSON.stringify(vNode) + \"\\\".\");\r\n            }\r\n            else {\r\n                inferno_shared_1.throwError(\"mount() expects a valid VNode, instead it received an object with the type \\\"\" + typeof vNode + \"\\\".\");\r\n            }\r\n        }\r\n        inferno_shared_1.throwError();\r\n    }\r\n}\r\nexports.mount = mount;\r\nfunction mountText(vNode, parentDom) {\r\n    var dom = document.createTextNode(vNode.children);\r\n    vNode.dom = dom;\r\n    if (!inferno_shared_1.isNull(parentDom)) {\r\n        utils_1.appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nexports.mountText = mountText;\r\nfunction mountVoid(vNode, parentDom) {\r\n    var dom = document.createTextNode('');\r\n    vNode.dom = dom;\r\n    if (!inferno_shared_1.isNull(parentDom)) {\r\n        utils_1.appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nexports.mountVoid = mountVoid;\r\nfunction mountElement(vNode, parentDom, lifecycle, context, isSVG) {\r\n    if (options_1.options.recyclingEnabled) {\r\n        var dom_1 = recycling_1.recycleElement(vNode, lifecycle, context, isSVG);\r\n        if (!inferno_shared_1.isNull(dom_1)) {\r\n            if (!inferno_shared_1.isNull(parentDom)) {\r\n                utils_1.appendChild(parentDom, dom_1);\r\n            }\r\n            return dom_1;\r\n        }\r\n    }\r\n    var flags = vNode.flags;\r\n    isSVG = isSVG || (flags & 128 /* SvgElement */) > 0;\r\n    var dom = utils_1.documentCreateElement(vNode.type, isSVG);\r\n    var children = vNode.children;\r\n    var props = vNode.props;\r\n    var className = vNode.className;\r\n    var ref = vNode.ref;\r\n    vNode.dom = dom;\r\n    if (!inferno_shared_1.isInvalid(children)) {\r\n        if (inferno_shared_1.isStringOrNumber(children)) {\r\n            utils_1.setTextContent(dom, children);\r\n        }\r\n        else if (inferno_shared_1.isArray(children)) {\r\n            mountArrayChildren(children, dom, lifecycle, context, isSVG);\r\n        }\r\n        else if (VNodes_1.isVNode(children)) {\r\n            mount(children, dom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n    if (!inferno_shared_1.isNull(props)) {\r\n        var hasControlledValue = false;\r\n        var isFormElement = (flags & 3584 /* FormElement */) > 0;\r\n        if (isFormElement) {\r\n            hasControlledValue = processElement_1.isControlledFormElement(props);\r\n        }\r\n        for (var prop in props) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            patching_1.patchProp(prop, null, props[prop], dom, isSVG, hasControlledValue);\r\n        }\r\n        if (isFormElement) {\r\n            processElement_1.processElement(flags, vNode, dom, props, true, hasControlledValue);\r\n        }\r\n    }\r\n    if (className !== null) {\r\n        if (isSVG) {\r\n            dom.setAttribute('class', className);\r\n        }\r\n        else {\r\n            dom.className = className;\r\n        }\r\n    }\r\n    if (!inferno_shared_1.isNull(ref)) {\r\n        mountRef(dom, ref, lifecycle);\r\n    }\r\n    if (!inferno_shared_1.isNull(parentDom)) {\r\n        utils_1.appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nexports.mountElement = mountElement;\r\nfunction mountArrayChildren(children, dom, lifecycle, context, isSVG) {\r\n    for (var i = 0, len = children.length; i < len; i++) {\r\n        var child = children[i];\r\n        // Verify can string/number be here. might cause de-opt. - Normalization takes care of it.\r\n        if (!inferno_shared_1.isInvalid(child)) {\r\n            if (child.dom) {\r\n                children[i] = child = VNodes_1.directClone(child);\r\n            }\r\n            mount(children[i], dom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n}\r\nexports.mountArrayChildren = mountArrayChildren;\r\nfunction mountComponent(vNode, parentDom, lifecycle, context, isSVG, isClass) {\r\n    if (options_1.options.recyclingEnabled) {\r\n        var dom_2 = recycling_1.recycleComponent(vNode, lifecycle, context, isSVG);\r\n        if (!inferno_shared_1.isNull(dom_2)) {\r\n            if (!inferno_shared_1.isNull(parentDom)) {\r\n                utils_1.appendChild(parentDom, dom_2);\r\n            }\r\n            return dom_2;\r\n        }\r\n    }\r\n    var type = vNode.type;\r\n    var props = vNode.props || utils_1.EMPTY_OBJ;\r\n    var ref = vNode.ref;\r\n    var dom;\r\n    if (isClass) {\r\n        var instance = utils_1.createClassComponentInstance(vNode, type, props, context, isSVG, lifecycle);\r\n        var input = instance._lastInput;\r\n        instance._vNode = vNode;\r\n        vNode.dom = dom = mount(input, null, lifecycle, instance._childContext, isSVG);\r\n        if (!inferno_shared_1.isNull(parentDom)) {\r\n            utils_1.appendChild(parentDom, dom);\r\n        }\r\n        mountClassComponentCallbacks(vNode, ref, instance, lifecycle);\r\n        instance._updating = false;\r\n        if (options_1.options.findDOMNodeEnabled) {\r\n            rendering_1.componentToDOMNodeMap.set(instance, dom);\r\n        }\r\n    }\r\n    else {\r\n        var input = utils_1.createFunctionalComponentInput(vNode, type, props, context);\r\n        vNode.dom = dom = mount(input, null, lifecycle, context, isSVG);\r\n        vNode.children = input;\r\n        mountFunctionalComponentCallbacks(ref, dom, lifecycle);\r\n        if (!inferno_shared_1.isNull(parentDom)) {\r\n            utils_1.appendChild(parentDom, dom);\r\n        }\r\n    }\r\n    return dom;\r\n}\r\nexports.mountComponent = mountComponent;\r\nfunction mountClassComponentCallbacks(vNode, ref, instance, lifecycle) {\r\n    if (ref) {\r\n        if (inferno_shared_1.isFunction(ref)) {\r\n            ref(instance);\r\n        }\r\n        else {\r\n            if (process.env.NODE_ENV !== 'production') {\r\n                if (inferno_shared_1.isStringOrNumber(ref)) {\r\n                    inferno_shared_1.throwError('string \"refs\" are not supported in Inferno 1.0. Use callback \"refs\" instead.');\r\n                }\r\n                else if (inferno_shared_1.isObject(ref) && (vNode.flags & 4 /* ComponentClass */)) {\r\n                    inferno_shared_1.throwError('functional component lifecycle events are not supported on ES2015 class components.');\r\n                }\r\n                else {\r\n                    inferno_shared_1.throwError(\"a bad value for \\\"ref\\\" was used on component: \\\"\" + JSON.stringify(ref) + \"\\\"\");\r\n                }\r\n            }\r\n            inferno_shared_1.throwError();\r\n        }\r\n    }\r\n    var hasDidMount = !inferno_shared_1.isUndefined(instance.componentDidMount);\r\n    var afterMount = options_1.options.afterMount;\r\n    if (hasDidMount || !inferno_shared_1.isNull(afterMount)) {\r\n        lifecycle.addListener(function () {\r\n            instance._updating = true;\r\n            if (afterMount) {\r\n                afterMount(vNode);\r\n            }\r\n            if (hasDidMount) {\r\n                instance.componentDidMount();\r\n            }\r\n            instance._updating = false;\r\n        });\r\n    }\r\n}\r\nexports.mountClassComponentCallbacks = mountClassComponentCallbacks;\r\nfunction mountFunctionalComponentCallbacks(ref, dom, lifecycle) {\r\n    if (ref) {\r\n        if (!inferno_shared_1.isNullOrUndef(ref.onComponentWillMount)) {\r\n            ref.onComponentWillMount();\r\n        }\r\n        if (!inferno_shared_1.isNullOrUndef(ref.onComponentDidMount)) {\r\n            lifecycle.addListener(function () { return ref.onComponentDidMount(dom); });\r\n        }\r\n    }\r\n}\r\nexports.mountFunctionalComponentCallbacks = mountFunctionalComponentCallbacks;\r\nfunction mountRef(dom, value, lifecycle) {\r\n    if (inferno_shared_1.isFunction(value)) {\r\n        lifecycle.addListener(function () { return value(dom); });\r\n    }\r\n    else {\r\n        if (inferno_shared_1.isInvalid(value)) {\r\n            return;\r\n        }\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            inferno_shared_1.throwError('string \"refs\" are not supported in Inferno 1.0. Use callback \"refs\" instead.');\r\n        }\r\n        inferno_shared_1.throwError();\r\n    }\r\n}\r\nexports.mountRef = mountRef;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\nvar options_1 = require(\"../core/options\");\r\nvar VNodes_1 = require(\"../core/VNodes\");\r\nvar constants_1 = require(\"./constants\");\r\nvar delegation_1 = require(\"./events/delegation\");\r\nvar mounting_1 = require(\"./mounting\");\r\nvar rendering_1 = require(\"./rendering\");\r\nvar unmounting_1 = require(\"./unmounting\");\r\nvar utils_1 = require(\"./utils\");\r\nvar processElement_1 = require(\"./wrappers/processElement\");\r\nfunction patch(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    if (lastVNode !== nextVNode) {\r\n        var lastFlags = lastVNode.flags;\r\n        var nextFlags = nextVNode.flags;\r\n        if (nextFlags & 28 /* Component */) {\r\n            var isClass = (nextFlags & 4 /* ComponentClass */) > 0;\r\n            if (lastFlags & 28 /* Component */) {\r\n                patchComponent(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isClass, isRecycling);\r\n            }\r\n            else {\r\n                utils_1.replaceVNode(parentDom, mounting_1.mountComponent(nextVNode, null, lifecycle, context, isSVG, isClass), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else if (nextFlags & 3970 /* Element */) {\r\n            if (lastFlags & 3970 /* Element */) {\r\n                patchElement(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n            }\r\n            else {\r\n                utils_1.replaceVNode(parentDom, mounting_1.mountElement(nextVNode, null, lifecycle, context, isSVG), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else if (nextFlags & 1 /* Text */) {\r\n            if (lastFlags & 1 /* Text */) {\r\n                patchText(lastVNode, nextVNode);\r\n            }\r\n            else {\r\n                utils_1.replaceVNode(parentDom, mounting_1.mountText(nextVNode, null), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else if (nextFlags & 4096 /* Void */) {\r\n            if (lastFlags & 4096 /* Void */) {\r\n                patchVoid(lastVNode, nextVNode);\r\n            }\r\n            else {\r\n                utils_1.replaceVNode(parentDom, mounting_1.mountVoid(nextVNode, null), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else {\r\n            // Error case: mount new one replacing old one\r\n            utils_1.replaceLastChildAndUnmount(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n        }\r\n    }\r\n}\r\nexports.patch = patch;\r\nfunction unmountChildren(children, dom, lifecycle, isRecycling) {\r\n    if (VNodes_1.isVNode(children)) {\r\n        unmounting_1.unmount(children, dom, lifecycle, true, isRecycling);\r\n    }\r\n    else if (inferno_shared_1.isArray(children)) {\r\n        utils_1.removeAllChildren(dom, children, lifecycle, isRecycling);\r\n    }\r\n    else {\r\n        dom.textContent = '';\r\n    }\r\n}\r\nfunction patchElement(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    var nextTag = nextVNode.type;\r\n    var lastTag = lastVNode.type;\r\n    if (lastTag !== nextTag) {\r\n        utils_1.replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n    }\r\n    else {\r\n        var dom = lastVNode.dom;\r\n        var lastProps = lastVNode.props;\r\n        var nextProps = nextVNode.props;\r\n        var lastChildren = lastVNode.children;\r\n        var nextChildren = nextVNode.children;\r\n        var lastFlags = lastVNode.flags;\r\n        var nextFlags = nextVNode.flags;\r\n        var nextRef = nextVNode.ref;\r\n        var lastClassName = lastVNode.className;\r\n        var nextClassName = nextVNode.className;\r\n        nextVNode.dom = dom;\r\n        isSVG = isSVG || (nextFlags & 128 /* SvgElement */) > 0;\r\n        if (lastChildren !== nextChildren) {\r\n            patchChildren(lastFlags, nextFlags, lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling);\r\n        }\r\n        // inlined patchProps  -- starts --\r\n        if (lastProps !== nextProps) {\r\n            var lastPropsOrEmpty = lastProps || utils_1.EMPTY_OBJ;\r\n            var nextPropsOrEmpty = nextProps || utils_1.EMPTY_OBJ;\r\n            var hasControlledValue = false;\r\n            if (nextPropsOrEmpty !== utils_1.EMPTY_OBJ) {\r\n                var isFormElement = (nextFlags & 3584 /* FormElement */) > 0;\r\n                if (isFormElement) {\r\n                    hasControlledValue = processElement_1.isControlledFormElement(nextPropsOrEmpty);\r\n                }\r\n                for (var prop in nextPropsOrEmpty) {\r\n                    // do not add a hasOwnProperty check here, it affects performance\r\n                    var nextValue = nextPropsOrEmpty[prop];\r\n                    var lastValue = lastPropsOrEmpty[prop];\r\n                    patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue);\r\n                }\r\n                if (isFormElement) {\r\n                    // When inferno is recycling form element, we need to process it like it would be mounting\r\n                    processElement_1.processElement(nextFlags, nextVNode, dom, nextPropsOrEmpty, isRecycling, hasControlledValue);\r\n                }\r\n            }\r\n            if (lastPropsOrEmpty !== utils_1.EMPTY_OBJ) {\r\n                for (var prop in lastPropsOrEmpty) {\r\n                    // do not add a hasOwnProperty check here, it affects performance\r\n                    if (inferno_shared_1.isNullOrUndef(nextPropsOrEmpty[prop]) && !inferno_shared_1.isNullOrUndef(lastPropsOrEmpty[prop])) {\r\n                        removeProp(prop, lastPropsOrEmpty[prop], dom);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // inlined patchProps  -- ends --\r\n        if (lastClassName !== nextClassName) {\r\n            if (inferno_shared_1.isNullOrUndef(nextClassName)) {\r\n                dom.removeAttribute('class');\r\n            }\r\n            else {\r\n                if (isSVG) {\r\n                    dom.setAttribute('class', nextClassName);\r\n                }\r\n                else {\r\n                    dom.className = nextClassName;\r\n                }\r\n            }\r\n        }\r\n        if (nextRef) {\r\n            if (lastVNode.ref !== nextRef || isRecycling) {\r\n                mounting_1.mountRef(dom, nextRef, lifecycle);\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.patchElement = patchElement;\r\nfunction patchChildren(lastFlags, nextFlags, lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling) {\r\n    var patchArray = false;\r\n    var patchKeyed = false;\r\n    if (nextFlags & 64 /* HasNonKeyedChildren */) {\r\n        patchArray = true;\r\n    }\r\n    else if ((lastFlags & 32 /* HasKeyedChildren */) > 0 && (nextFlags & 32 /* HasKeyedChildren */) > 0) {\r\n        patchKeyed = true;\r\n        patchArray = true;\r\n    }\r\n    else if (inferno_shared_1.isInvalid(nextChildren)) {\r\n        unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n    }\r\n    else if (inferno_shared_1.isInvalid(lastChildren)) {\r\n        if (inferno_shared_1.isStringOrNumber(nextChildren)) {\r\n            utils_1.setTextContent(dom, nextChildren);\r\n        }\r\n        else {\r\n            if (inferno_shared_1.isArray(nextChildren)) {\r\n                mounting_1.mountArrayChildren(nextChildren, dom, lifecycle, context, isSVG);\r\n            }\r\n            else {\r\n                mounting_1.mount(nextChildren, dom, lifecycle, context, isSVG);\r\n            }\r\n        }\r\n    }\r\n    else if (inferno_shared_1.isStringOrNumber(nextChildren)) {\r\n        if (inferno_shared_1.isStringOrNumber(lastChildren)) {\r\n            utils_1.updateTextContent(dom, nextChildren);\r\n        }\r\n        else {\r\n            unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n            utils_1.setTextContent(dom, nextChildren);\r\n        }\r\n    }\r\n    else if (inferno_shared_1.isArray(nextChildren)) {\r\n        if (inferno_shared_1.isArray(lastChildren)) {\r\n            patchArray = true;\r\n            if (utils_1.isKeyed(lastChildren, nextChildren)) {\r\n                patchKeyed = true;\r\n            }\r\n        }\r\n        else {\r\n            unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n            mounting_1.mountArrayChildren(nextChildren, dom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n    else if (inferno_shared_1.isArray(lastChildren)) {\r\n        utils_1.removeAllChildren(dom, lastChildren, lifecycle, isRecycling);\r\n        mounting_1.mount(nextChildren, dom, lifecycle, context, isSVG);\r\n    }\r\n    else if (VNodes_1.isVNode(nextChildren)) {\r\n        if (VNodes_1.isVNode(lastChildren)) {\r\n            patch(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling);\r\n        }\r\n        else {\r\n            unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n            mounting_1.mount(nextChildren, dom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n    if (patchArray) {\r\n        if (patchKeyed) {\r\n            patchKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling);\r\n        }\r\n        else {\r\n            patchNonKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling);\r\n        }\r\n    }\r\n}\r\nfunction patchComponent(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isClass, isRecycling) {\r\n    var lastType = lastVNode.type;\r\n    var nextType = nextVNode.type;\r\n    var lastKey = lastVNode.key;\r\n    var nextKey = nextVNode.key;\r\n    if (lastType !== nextType || lastKey !== nextKey) {\r\n        utils_1.replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n        return false;\r\n    }\r\n    else {\r\n        var nextProps = nextVNode.props || utils_1.EMPTY_OBJ;\r\n        if (isClass) {\r\n            var instance = lastVNode.children;\r\n            instance._updating = true;\r\n            if (instance._unmounted) {\r\n                if (inferno_shared_1.isNull(parentDom)) {\r\n                    return true;\r\n                }\r\n                utils_1.replaceChild(parentDom, mounting_1.mountComponent(nextVNode, null, lifecycle, context, isSVG, (nextVNode.flags & 4 /* ComponentClass */) > 0), lastVNode.dom);\r\n            }\r\n            else {\r\n                var hasComponentDidUpdate = !inferno_shared_1.isUndefined(instance.componentDidUpdate);\r\n                var nextState = instance.state;\r\n                // When component has componentDidUpdate hook, we need to clone lastState or will be modified by reference during update\r\n                var lastState = hasComponentDidUpdate ? inferno_shared_1.combineFrom(nextState, null) : nextState;\r\n                var lastProps = instance.props;\r\n                var childContext = void 0;\r\n                if (!inferno_shared_1.isUndefined(instance.getChildContext)) {\r\n                    childContext = instance.getChildContext();\r\n                }\r\n                nextVNode.children = instance;\r\n                instance._isSVG = isSVG;\r\n                if (inferno_shared_1.isNullOrUndef(childContext)) {\r\n                    childContext = context;\r\n                }\r\n                else {\r\n                    childContext = inferno_shared_1.combineFrom(context, childContext);\r\n                }\r\n                var lastInput = instance._lastInput;\r\n                var nextInput = instance._updateComponent(lastState, nextState, lastProps, nextProps, context, false, false);\r\n                var didUpdate = true;\r\n                instance._childContext = childContext;\r\n                if (inferno_shared_1.isInvalid(nextInput)) {\r\n                    nextInput = VNodes_1.createVoidVNode();\r\n                }\r\n                else if (nextInput === inferno_shared_1.NO_OP) {\r\n                    nextInput = lastInput;\r\n                    didUpdate = false;\r\n                }\r\n                else if (inferno_shared_1.isStringOrNumber(nextInput)) {\r\n                    nextInput = VNodes_1.createTextVNode(nextInput, null);\r\n                }\r\n                else if (inferno_shared_1.isArray(nextInput)) {\r\n                    if (process.env.NODE_ENV !== 'production') {\r\n                        inferno_shared_1.throwError('a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.');\r\n                    }\r\n                    inferno_shared_1.throwError();\r\n                }\r\n                else if (inferno_shared_1.isObject(nextInput)) {\r\n                    if (!inferno_shared_1.isNull(nextInput.dom)) {\r\n                        nextInput = VNodes_1.directClone(nextInput);\r\n                    }\r\n                }\r\n                if (nextInput.flags & 28 /* Component */) {\r\n                    nextInput.parentVNode = nextVNode;\r\n                }\r\n                else if (lastInput.flags & 28 /* Component */) {\r\n                    lastInput.parentVNode = nextVNode;\r\n                }\r\n                instance._lastInput = nextInput;\r\n                instance._vNode = nextVNode;\r\n                if (didUpdate) {\r\n                    patch(lastInput, nextInput, parentDom, lifecycle, childContext, isSVG, isRecycling);\r\n                    if (hasComponentDidUpdate) {\r\n                        instance.componentDidUpdate(lastProps, lastState);\r\n                    }\r\n                    if (!inferno_shared_1.isNull(options_1.options.afterUpdate)) {\r\n                        options_1.options.afterUpdate(nextVNode);\r\n                    }\r\n                    if (options_1.options.findDOMNodeEnabled) {\r\n                        rendering_1.componentToDOMNodeMap.set(instance, nextInput.dom);\r\n                    }\r\n                }\r\n                nextVNode.dom = nextInput.dom;\r\n            }\r\n            instance._updating = false;\r\n        }\r\n        else {\r\n            var shouldUpdate = true;\r\n            var lastProps = lastVNode.props;\r\n            var nextHooks = nextVNode.ref;\r\n            var nextHooksDefined = !inferno_shared_1.isNullOrUndef(nextHooks);\r\n            var lastInput = lastVNode.children;\r\n            var nextInput = lastInput;\r\n            nextVNode.dom = lastVNode.dom;\r\n            nextVNode.children = lastInput;\r\n            if (lastKey !== nextKey) {\r\n                shouldUpdate = true;\r\n            }\r\n            else {\r\n                if (nextHooksDefined && !inferno_shared_1.isNullOrUndef(nextHooks.onComponentShouldUpdate)) {\r\n                    shouldUpdate = nextHooks.onComponentShouldUpdate(lastProps, nextProps);\r\n                }\r\n            }\r\n            if (shouldUpdate !== false) {\r\n                if (nextHooksDefined && !inferno_shared_1.isNullOrUndef(nextHooks.onComponentWillUpdate)) {\r\n                    nextHooks.onComponentWillUpdate(lastProps, nextProps);\r\n                }\r\n                nextInput = nextType(nextProps, context);\r\n                if (inferno_shared_1.isInvalid(nextInput)) {\r\n                    nextInput = VNodes_1.createVoidVNode();\r\n                }\r\n                else if (inferno_shared_1.isStringOrNumber(nextInput) && nextInput !== inferno_shared_1.NO_OP) {\r\n                    nextInput = VNodes_1.createTextVNode(nextInput, null);\r\n                }\r\n                else if (inferno_shared_1.isArray(nextInput)) {\r\n                    if (process.env.NODE_ENV !== 'production') {\r\n                        inferno_shared_1.throwError('a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.');\r\n                    }\r\n                    inferno_shared_1.throwError();\r\n                }\r\n                else if (inferno_shared_1.isObject(nextInput)) {\r\n                    if (!inferno_shared_1.isNull(nextInput.dom)) {\r\n                        nextInput = VNodes_1.directClone(nextInput);\r\n                    }\r\n                }\r\n                if (nextInput !== inferno_shared_1.NO_OP) {\r\n                    patch(lastInput, nextInput, parentDom, lifecycle, context, isSVG, isRecycling);\r\n                    nextVNode.children = nextInput;\r\n                    if (nextHooksDefined && !inferno_shared_1.isNullOrUndef(nextHooks.onComponentDidUpdate)) {\r\n                        nextHooks.onComponentDidUpdate(lastProps, nextProps);\r\n                    }\r\n                    nextVNode.dom = nextInput.dom;\r\n                }\r\n            }\r\n            if (nextInput.flags & 28 /* Component */) {\r\n                nextInput.parentVNode = nextVNode;\r\n            }\r\n            else if (lastInput.flags & 28 /* Component */) {\r\n                lastInput.parentVNode = nextVNode;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexports.patchComponent = patchComponent;\r\nfunction patchText(lastVNode, nextVNode) {\r\n    var nextText = nextVNode.children;\r\n    var dom = lastVNode.dom;\r\n    nextVNode.dom = dom;\r\n    if (lastVNode.children !== nextText) {\r\n        dom.nodeValue = nextText;\r\n    }\r\n}\r\nexports.patchText = patchText;\r\nfunction patchVoid(lastVNode, nextVNode) {\r\n    nextVNode.dom = lastVNode.dom;\r\n}\r\nexports.patchVoid = patchVoid;\r\nfunction patchNonKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling) {\r\n    var lastChildrenLength = lastChildren.length;\r\n    var nextChildrenLength = nextChildren.length;\r\n    var commonLength = lastChildrenLength > nextChildrenLength ? nextChildrenLength : lastChildrenLength;\r\n    var i = 0;\r\n    for (; i < commonLength; i++) {\r\n        var nextChild = nextChildren[i];\r\n        if (nextChild.dom) {\r\n            nextChild = nextChildren[i] = VNodes_1.directClone(nextChild);\r\n        }\r\n        patch(lastChildren[i], nextChild, dom, lifecycle, context, isSVG, isRecycling);\r\n    }\r\n    if (lastChildrenLength < nextChildrenLength) {\r\n        for (i = commonLength; i < nextChildrenLength; i++) {\r\n            var nextChild = nextChildren[i];\r\n            if (nextChild.dom) {\r\n                nextChild = nextChildren[i] = VNodes_1.directClone(nextChild);\r\n            }\r\n            utils_1.appendChild(dom, mounting_1.mount(nextChild, null, lifecycle, context, isSVG));\r\n        }\r\n    }\r\n    else if (nextChildrenLength === 0) {\r\n        utils_1.removeAllChildren(dom, lastChildren, lifecycle, isRecycling);\r\n    }\r\n    else if (lastChildrenLength > nextChildrenLength) {\r\n        for (i = commonLength; i < lastChildrenLength; i++) {\r\n            unmounting_1.unmount(lastChildren[i], dom, lifecycle, false, isRecycling);\r\n        }\r\n    }\r\n}\r\nexports.patchNonKeyedChildren = patchNonKeyedChildren;\r\nfunction patchKeyedChildren(a, b, dom, lifecycle, context, isSVG, isRecycling) {\r\n    var aLength = a.length;\r\n    var bLength = b.length;\r\n    var aEnd = aLength - 1;\r\n    var bEnd = bLength - 1;\r\n    var aStart = 0;\r\n    var bStart = 0;\r\n    var i;\r\n    var j;\r\n    var aNode;\r\n    var bNode;\r\n    var nextNode;\r\n    var nextPos;\r\n    var node;\r\n    if (aLength === 0) {\r\n        if (bLength > 0) {\r\n            mounting_1.mountArrayChildren(b, dom, lifecycle, context, isSVG);\r\n        }\r\n        return;\r\n    }\r\n    else if (bLength === 0) {\r\n        utils_1.removeAllChildren(dom, a, lifecycle, isRecycling);\r\n        return;\r\n    }\r\n    var aStartNode = a[aStart];\r\n    var bStartNode = b[bStart];\r\n    var aEndNode = a[aEnd];\r\n    var bEndNode = b[bEnd];\r\n    if (bStartNode.dom) {\r\n        b[bStart] = bStartNode = VNodes_1.directClone(bStartNode);\r\n    }\r\n    if (bEndNode.dom) {\r\n        b[bEnd] = bEndNode = VNodes_1.directClone(bEndNode);\r\n    }\r\n    // Step 1\r\n    /* eslint no-constant-condition: 0 */\r\n    outer: while (true) {\r\n        // Sync nodes with the same key at the beginning.\r\n        while (aStartNode.key === bStartNode.key) {\r\n            patch(aStartNode, bStartNode, dom, lifecycle, context, isSVG, isRecycling);\r\n            aStart++;\r\n            bStart++;\r\n            if (aStart > aEnd || bStart > bEnd) {\r\n                break outer;\r\n            }\r\n            aStartNode = a[aStart];\r\n            bStartNode = b[bStart];\r\n            if (bStartNode.dom) {\r\n                b[bStart] = bStartNode = VNodes_1.directClone(bStartNode);\r\n            }\r\n        }\r\n        // Sync nodes with the same key at the end.\r\n        while (aEndNode.key === bEndNode.key) {\r\n            patch(aEndNode, bEndNode, dom, lifecycle, context, isSVG, isRecycling);\r\n            aEnd--;\r\n            bEnd--;\r\n            if (aStart > aEnd || bStart > bEnd) {\r\n                break outer;\r\n            }\r\n            aEndNode = a[aEnd];\r\n            bEndNode = b[bEnd];\r\n            if (bEndNode.dom) {\r\n                b[bEnd] = bEndNode = VNodes_1.directClone(bEndNode);\r\n            }\r\n        }\r\n        // Move and sync nodes from right to left.\r\n        if (aEndNode.key === bStartNode.key) {\r\n            patch(aEndNode, bStartNode, dom, lifecycle, context, isSVG, isRecycling);\r\n            utils_1.insertOrAppend(dom, bStartNode.dom, aStartNode.dom);\r\n            aEnd--;\r\n            bStart++;\r\n            aEndNode = a[aEnd];\r\n            bStartNode = b[bStart];\r\n            if (bStartNode.dom) {\r\n                b[bStart] = bStartNode = VNodes_1.directClone(bStartNode);\r\n            }\r\n            continue;\r\n        }\r\n        // Move and sync nodes from left to right.\r\n        if (aStartNode.key === bEndNode.key) {\r\n            patch(aStartNode, bEndNode, dom, lifecycle, context, isSVG, isRecycling);\r\n            nextPos = bEnd + 1;\r\n            nextNode = nextPos < b.length ? b[nextPos].dom : null;\r\n            utils_1.insertOrAppend(dom, bEndNode.dom, nextNode);\r\n            aStart++;\r\n            bEnd--;\r\n            aStartNode = a[aStart];\r\n            bEndNode = b[bEnd];\r\n            if (bEndNode.dom) {\r\n                b[bEnd] = bEndNode = VNodes_1.directClone(bEndNode);\r\n            }\r\n            continue;\r\n        }\r\n        break;\r\n    }\r\n    if (aStart > aEnd) {\r\n        if (bStart <= bEnd) {\r\n            nextPos = bEnd + 1;\r\n            nextNode = nextPos < b.length ? b[nextPos].dom : null;\r\n            while (bStart <= bEnd) {\r\n                node = b[bStart];\r\n                if (node.dom) {\r\n                    b[bStart] = node = VNodes_1.directClone(node);\r\n                }\r\n                bStart++;\r\n                utils_1.insertOrAppend(dom, mounting_1.mount(node, null, lifecycle, context, isSVG), nextNode);\r\n            }\r\n        }\r\n    }\r\n    else if (bStart > bEnd) {\r\n        while (aStart <= aEnd) {\r\n            unmounting_1.unmount(a[aStart++], dom, lifecycle, false, isRecycling);\r\n        }\r\n    }\r\n    else {\r\n        aLength = aEnd - aStart + 1;\r\n        bLength = bEnd - bStart + 1;\r\n        var sources = new Array(bLength);\r\n        // Mark all nodes as inserted.\r\n        for (i = 0; i < bLength; i++) {\r\n            sources[i] = -1;\r\n        }\r\n        var moved = false;\r\n        var pos = 0;\r\n        var patched = 0;\r\n        // When sizes are small, just loop them through\r\n        if ((bLength <= 4) || (aLength * bLength <= 16)) {\r\n            for (i = aStart; i <= aEnd; i++) {\r\n                aNode = a[i];\r\n                if (patched < bLength) {\r\n                    for (j = bStart; j <= bEnd; j++) {\r\n                        bNode = b[j];\r\n                        if (aNode.key === bNode.key) {\r\n                            sources[j - bStart] = i;\r\n                            if (pos > j) {\r\n                                moved = true;\r\n                            }\r\n                            else {\r\n                                pos = j;\r\n                            }\r\n                            if (bNode.dom) {\r\n                                b[j] = bNode = VNodes_1.directClone(bNode);\r\n                            }\r\n                            patch(aNode, bNode, dom, lifecycle, context, isSVG, isRecycling);\r\n                            patched++;\r\n                            a[i] = null;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var keyIndex = new Map();\r\n            // Map keys by their index in array\r\n            for (i = bStart; i <= bEnd; i++) {\r\n                keyIndex.set(b[i].key, i);\r\n            }\r\n            // Try to patch same keys\r\n            for (i = aStart; i <= aEnd; i++) {\r\n                aNode = a[i];\r\n                if (patched < bLength) {\r\n                    j = keyIndex.get(aNode.key);\r\n                    if (!inferno_shared_1.isUndefined(j)) {\r\n                        bNode = b[j];\r\n                        sources[j - bStart] = i;\r\n                        if (pos > j) {\r\n                            moved = true;\r\n                        }\r\n                        else {\r\n                            pos = j;\r\n                        }\r\n                        if (bNode.dom) {\r\n                            b[j] = bNode = VNodes_1.directClone(bNode);\r\n                        }\r\n                        patch(aNode, bNode, dom, lifecycle, context, isSVG, isRecycling);\r\n                        patched++;\r\n                        a[i] = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // fast-path: if nothing patched remove all old and add all new\r\n        if (aLength === a.length && patched === 0) {\r\n            utils_1.removeAllChildren(dom, a, lifecycle, isRecycling);\r\n            while (bStart < bLength) {\r\n                node = b[bStart];\r\n                if (node.dom) {\r\n                    b[bStart] = node = VNodes_1.directClone(node);\r\n                }\r\n                bStart++;\r\n                utils_1.insertOrAppend(dom, mounting_1.mount(node, null, lifecycle, context, isSVG), null);\r\n            }\r\n        }\r\n        else {\r\n            i = aLength - patched;\r\n            while (i > 0) {\r\n                aNode = a[aStart++];\r\n                if (!inferno_shared_1.isNull(aNode)) {\r\n                    unmounting_1.unmount(aNode, dom, lifecycle, true, isRecycling);\r\n                    i--;\r\n                }\r\n            }\r\n            if (moved) {\r\n                var seq = lis_algorithm(sources);\r\n                j = seq.length - 1;\r\n                for (i = bLength - 1; i >= 0; i--) {\r\n                    if (sources[i] === -1) {\r\n                        pos = i + bStart;\r\n                        node = b[pos];\r\n                        if (node.dom) {\r\n                            b[pos] = node = VNodes_1.directClone(node);\r\n                        }\r\n                        nextPos = pos + 1;\r\n                        nextNode = nextPos < b.length ? b[nextPos].dom : null;\r\n                        utils_1.insertOrAppend(dom, mounting_1.mount(node, dom, lifecycle, context, isSVG), nextNode);\r\n                    }\r\n                    else {\r\n                        if (j < 0 || i !== seq[j]) {\r\n                            pos = i + bStart;\r\n                            node = b[pos];\r\n                            nextPos = pos + 1;\r\n                            nextNode = nextPos < b.length ? b[nextPos].dom : null;\r\n                            utils_1.insertOrAppend(dom, node.dom, nextNode);\r\n                        }\r\n                        else {\r\n                            j--;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (patched !== bLength) {\r\n                // when patched count doesn't match b length we need to insert those new ones\r\n                // loop backwards so we can use insertBefore\r\n                for (i = bLength - 1; i >= 0; i--) {\r\n                    if (sources[i] === -1) {\r\n                        pos = i + bStart;\r\n                        node = b[pos];\r\n                        if (node.dom) {\r\n                            b[pos] = node = VNodes_1.directClone(node);\r\n                        }\r\n                        nextPos = pos + 1;\r\n                        nextNode = nextPos < b.length ? b[nextPos].dom : null;\r\n                        utils_1.insertOrAppend(dom, mounting_1.mount(node, null, lifecycle, context, isSVG), nextNode);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.patchKeyedChildren = patchKeyedChildren;\r\n// // https://en.wikipedia.org/wiki/Longest_increasing_subsequence\r\nfunction lis_algorithm(arr) {\r\n    var p = arr.slice(0);\r\n    var result = [0];\r\n    var i;\r\n    var j;\r\n    var u;\r\n    var v;\r\n    var c;\r\n    var len = arr.length;\r\n    for (i = 0; i < len; i++) {\r\n        var arrI = arr[i];\r\n        if (arrI === -1) {\r\n            continue;\r\n        }\r\n        j = result[result.length - 1];\r\n        if (arr[j] < arrI) {\r\n            p[i] = j;\r\n            result.push(i);\r\n            continue;\r\n        }\r\n        u = 0;\r\n        v = result.length - 1;\r\n        while (u < v) {\r\n            c = ((u + v) / 2) | 0;\r\n            if (arr[result[c]] < arrI) {\r\n                u = c + 1;\r\n            }\r\n            else {\r\n                v = c;\r\n            }\r\n        }\r\n        if (arrI < arr[result[u]]) {\r\n            if (u > 0) {\r\n                p[i] = result[u - 1];\r\n            }\r\n            result[u] = i;\r\n        }\r\n    }\r\n    u = result.length;\r\n    v = result[u - 1];\r\n    while (u-- > 0) {\r\n        result[u] = v;\r\n        v = p[v];\r\n    }\r\n    return result;\r\n}\r\nfunction isAttrAnEvent(attr) {\r\n    return attr[0] === 'o' && attr[1] === 'n';\r\n}\r\nexports.isAttrAnEvent = isAttrAnEvent;\r\nfunction patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue) {\r\n    if (lastValue !== nextValue) {\r\n        if (constants_1.skipProps.has(prop) || (hasControlledValue && prop === 'value')) {\r\n            return;\r\n        }\r\n        else if (constants_1.booleanProps.has(prop)) {\r\n            prop = prop === 'autoFocus' ? prop.toLowerCase() : prop;\r\n            dom[prop] = !!nextValue;\r\n        }\r\n        else if (constants_1.strictProps.has(prop)) {\r\n            var value = inferno_shared_1.isNullOrUndef(nextValue) ? '' : nextValue;\r\n            if (dom[prop] !== value) {\r\n                dom[prop] = value;\r\n            }\r\n        }\r\n        else if (isAttrAnEvent(prop)) {\r\n            patchEvent(prop, lastValue, nextValue, dom);\r\n        }\r\n        else if (inferno_shared_1.isNullOrUndef(nextValue)) {\r\n            dom.removeAttribute(prop);\r\n        }\r\n        else if (prop === 'style') {\r\n            patchStyle(lastValue, nextValue, dom);\r\n        }\r\n        else if (prop === 'dangerouslySetInnerHTML') {\r\n            var lastHtml = lastValue && lastValue.__html;\r\n            var nextHtml = nextValue && nextValue.__html;\r\n            if (lastHtml !== nextHtml) {\r\n                if (!inferno_shared_1.isNullOrUndef(nextHtml)) {\r\n                    dom.innerHTML = nextHtml;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // We optimize for NS being boolean. Its 99.9% time false\r\n            if (isSVG && constants_1.namespaces.has(prop)) {\r\n                // If we end up in this path we can read property again\r\n                dom.setAttributeNS(constants_1.namespaces.get(prop), prop, nextValue);\r\n            }\r\n            else {\r\n                dom.setAttribute(prop, nextValue);\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.patchProp = patchProp;\r\nfunction patchEvent(name, lastValue, nextValue, dom) {\r\n    if (lastValue !== nextValue) {\r\n        if (constants_1.delegatedEvents.has(name)) {\r\n            delegation_1.handleEvent(name, lastValue, nextValue, dom);\r\n        }\r\n        else {\r\n            var nameLowerCase = name.toLowerCase();\r\n            var domEvent = dom[nameLowerCase];\r\n            // if the function is wrapped, that means it's been controlled by a wrapper\r\n            if (domEvent && domEvent.wrapped) {\r\n                return;\r\n            }\r\n            if (!inferno_shared_1.isFunction(nextValue) && !inferno_shared_1.isNullOrUndef(nextValue)) {\r\n                var linkEvent_1 = nextValue.event;\r\n                if (linkEvent_1 && inferno_shared_1.isFunction(linkEvent_1)) {\r\n                    dom[nameLowerCase] = function (e) {\r\n                        linkEvent_1(nextValue.data, e);\r\n                    };\r\n                }\r\n                else {\r\n                    if (process.env.NODE_ENV !== 'production') {\r\n                        inferno_shared_1.throwError(\"an event on a VNode \\\"\" + name + \"\\\". was not a function or a valid linkEvent.\");\r\n                    }\r\n                    inferno_shared_1.throwError();\r\n                }\r\n            }\r\n            else {\r\n                dom[nameLowerCase] = nextValue;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.patchEvent = patchEvent;\r\n// We are assuming here that we come from patchProp routine\r\n// -nextAttrValue cannot be null or undefined\r\nfunction patchStyle(lastAttrValue, nextAttrValue, dom) {\r\n    var domStyle = dom.style;\r\n    if (inferno_shared_1.isString(nextAttrValue)) {\r\n        domStyle.cssText = nextAttrValue;\r\n        return;\r\n    }\r\n    for (var style in nextAttrValue) {\r\n        // do not add a hasOwnProperty check here, it affects performance\r\n        var value = nextAttrValue[style];\r\n        if (!inferno_shared_1.isNumber(value) || constants_1.isUnitlessNumber.has(style)) {\r\n            domStyle[style] = value;\r\n        }\r\n        else {\r\n            domStyle[style] = value + 'px';\r\n        }\r\n    }\r\n    if (!inferno_shared_1.isNullOrUndef(lastAttrValue)) {\r\n        for (var style in lastAttrValue) {\r\n            if (inferno_shared_1.isNullOrUndef(nextAttrValue[style])) {\r\n                domStyle[style] = '';\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.patchStyle = patchStyle;\r\nfunction removeProp(prop, lastValue, dom) {\r\n    if (prop === 'value') {\r\n        dom.value = '';\r\n    }\r\n    else if (prop === 'style') {\r\n        dom.removeAttribute('style');\r\n    }\r\n    else if (isAttrAnEvent(prop)) {\r\n        delegation_1.handleEvent(prop, lastValue, null, dom);\r\n    }\r\n    else {\r\n        dom.removeAttribute(prop);\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\nvar patching_1 = require(\"./patching\");\r\nvar componentPools = new Map();\r\nvar elementPools = new Map();\r\nfunction recycleElement(vNode, lifecycle, context, isSVG) {\r\n    var tag = vNode.type;\r\n    var pools = elementPools.get(tag);\r\n    if (!inferno_shared_1.isUndefined(pools)) {\r\n        var key = vNode.key;\r\n        var pool = key === null ? pools.nonKeyed : pools.keyed.get(key);\r\n        if (!inferno_shared_1.isUndefined(pool)) {\r\n            var recycledVNode = pool.pop();\r\n            if (!inferno_shared_1.isUndefined(recycledVNode)) {\r\n                patching_1.patchElement(recycledVNode, vNode, null, lifecycle, context, isSVG, true);\r\n                return vNode.dom;\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\nexports.recycleElement = recycleElement;\r\nfunction poolElement(vNode) {\r\n    var tag = vNode.type;\r\n    var key = vNode.key;\r\n    var pools = elementPools.get(tag);\r\n    if (inferno_shared_1.isUndefined(pools)) {\r\n        pools = {\r\n            keyed: new Map(),\r\n            nonKeyed: []\r\n        };\r\n        elementPools.set(tag, pools);\r\n    }\r\n    if (inferno_shared_1.isNull(key)) {\r\n        pools.nonKeyed.push(vNode);\r\n    }\r\n    else {\r\n        var pool = pools.keyed.get(key);\r\n        if (inferno_shared_1.isUndefined(pool)) {\r\n            pool = [];\r\n            pools.keyed.set(key, pool);\r\n        }\r\n        pool.push(vNode);\r\n    }\r\n}\r\nexports.poolElement = poolElement;\r\nfunction recycleComponent(vNode, lifecycle, context, isSVG) {\r\n    var type = vNode.type;\r\n    var pools = componentPools.get(type);\r\n    if (!inferno_shared_1.isUndefined(pools)) {\r\n        var key = vNode.key;\r\n        var pool = key === null ? pools.nonKeyed : pools.keyed.get(key);\r\n        if (!inferno_shared_1.isUndefined(pool)) {\r\n            var recycledVNode = pool.pop();\r\n            if (!inferno_shared_1.isUndefined(recycledVNode)) {\r\n                var flags = vNode.flags;\r\n                var failed = patching_1.patchComponent(recycledVNode, vNode, null, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0, true);\r\n                if (!failed) {\r\n                    return vNode.dom;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\nexports.recycleComponent = recycleComponent;\r\nfunction poolComponent(vNode) {\r\n    var hooks = vNode.ref;\r\n    var nonRecycleHooks = hooks && (hooks.onComponentWillMount ||\r\n        hooks.onComponentWillUnmount ||\r\n        hooks.onComponentDidMount ||\r\n        hooks.onComponentWillUpdate ||\r\n        hooks.onComponentDidUpdate);\r\n    if (nonRecycleHooks) {\r\n        return;\r\n    }\r\n    var type = vNode.type;\r\n    var key = vNode.key;\r\n    var pools = componentPools.get(type);\r\n    if (inferno_shared_1.isUndefined(pools)) {\r\n        pools = {\r\n            keyed: new Map(),\r\n            nonKeyed: []\r\n        };\r\n        componentPools.set(type, pools);\r\n    }\r\n    if (inferno_shared_1.isNull(key)) {\r\n        pools.nonKeyed.push(vNode);\r\n    }\r\n    else {\r\n        var pool = pools.keyed.get(key);\r\n        if (inferno_shared_1.isUndefined(pool)) {\r\n            pool = [];\r\n            pools.keyed.set(key, pool);\r\n        }\r\n        pool.push(vNode);\r\n    }\r\n}\r\nexports.poolComponent = poolComponent;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\nvar options_1 = require(\"../core/options\");\r\nvar VNodes_1 = require(\"../core/VNodes\");\r\nvar hydration_1 = require(\"./hydration\");\r\nvar mounting_1 = require(\"./mounting\");\r\nvar patching_1 = require(\"./patching\");\r\nvar unmounting_1 = require(\"./unmounting\");\r\nvar utils_1 = require(\"./utils\");\r\n// rather than use a Map, like we did before, we can use an array here\r\n// given there shouldn't be THAT many roots on the page, the difference\r\n// in performance is huge: https://esbench.com/bench/5802a691330ab09900a1a2da\r\nexports.componentToDOMNodeMap = new Map();\r\nvar roots = options_1.options.roots;\r\n/**\r\n * When inferno.options.findDOMNOdeEnabled is true, this function will return DOM Node by component instance\r\n * @param ref Component instance\r\n * @returns {*|null} returns dom node\r\n */\r\nfunction findDOMNode(ref) {\r\n    if (!options_1.options.findDOMNodeEnabled) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            inferno_shared_1.throwError('findDOMNode() has been disabled, use Inferno.options.findDOMNodeEnabled = true; enabled findDOMNode(). Warning this can significantly impact performance!');\r\n        }\r\n        inferno_shared_1.throwError();\r\n    }\r\n    var dom = ref && ref.nodeType ? ref : null;\r\n    return exports.componentToDOMNodeMap.get(ref) || dom;\r\n}\r\nexports.findDOMNode = findDOMNode;\r\nfunction getRoot(dom) {\r\n    for (var i = 0, len = roots.length; i < len; i++) {\r\n        var root = roots[i];\r\n        if (root.dom === dom) {\r\n            return root;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction setRoot(dom, input, lifecycle) {\r\n    var root = {\r\n        dom: dom,\r\n        input: input,\r\n        lifecycle: lifecycle\r\n    };\r\n    roots.push(root);\r\n    return root;\r\n}\r\nfunction removeRoot(root) {\r\n    for (var i = 0, len = roots.length; i < len; i++) {\r\n        if (roots[i] === root) {\r\n            roots.splice(i, 1);\r\n            return;\r\n        }\r\n    }\r\n}\r\nif (process.env.NODE_ENV !== 'production') {\r\n    if (inferno_shared_1.isBrowser && document.body === null) {\r\n        inferno_shared_1.warning('Inferno warning: you cannot initialize inferno without \"document.body\". Wait on \"DOMContentLoaded\" event, add script to bottom of body, or use async/defer attributes on script tag.');\r\n    }\r\n}\r\nvar documentBody = inferno_shared_1.isBrowser ? document.body : null;\r\n/**\r\n * Renders virtual node tree into parent node.\r\n * @param {VNode | null | string | number} input vNode to be rendered\r\n * @param parentDom DOM node which content will be replaced by virtual node\r\n * @returns {InfernoChildren} rendered virtual node\r\n */\r\nfunction render(input, parentDom) {\r\n    if (documentBody === parentDom) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            inferno_shared_1.throwError('you cannot render() to the \"document.body\". Use an empty element as a container instead.');\r\n        }\r\n        inferno_shared_1.throwError();\r\n    }\r\n    if (input === inferno_shared_1.NO_OP) {\r\n        return;\r\n    }\r\n    var root = getRoot(parentDom);\r\n    if (inferno_shared_1.isNull(root)) {\r\n        var lifecycle = new inferno_shared_1.Lifecycle();\r\n        if (!inferno_shared_1.isInvalid(input)) {\r\n            if (input.dom) {\r\n                input = VNodes_1.directClone(input);\r\n            }\r\n            if (!hydration_1.hydrateRoot(input, parentDom, lifecycle)) {\r\n                mounting_1.mount(input, parentDom, lifecycle, utils_1.EMPTY_OBJ, false);\r\n            }\r\n            root = setRoot(parentDom, input, lifecycle);\r\n            lifecycle.trigger();\r\n        }\r\n    }\r\n    else {\r\n        var lifecycle = root.lifecycle;\r\n        lifecycle.listeners = [];\r\n        if (inferno_shared_1.isNullOrUndef(input)) {\r\n            unmounting_1.unmount(root.input, parentDom, lifecycle, false, false);\r\n            removeRoot(root);\r\n        }\r\n        else {\r\n            if (input.dom) {\r\n                input = VNodes_1.directClone(input);\r\n            }\r\n            patching_1.patch(root.input, input, parentDom, lifecycle, utils_1.EMPTY_OBJ, false, false);\r\n        }\r\n        root.input = input;\r\n        lifecycle.trigger();\r\n    }\r\n    if (root) {\r\n        var rootInput = root.input;\r\n        if (rootInput && (rootInput.flags & 28 /* Component */)) {\r\n            return rootInput.children;\r\n        }\r\n    }\r\n}\r\nexports.render = render;\r\nfunction createRenderer(parentDom) {\r\n    return function renderer(lastInput, nextInput) {\r\n        if (!parentDom) {\r\n            parentDom = lastInput;\r\n        }\r\n        render(nextInput, parentDom);\r\n    };\r\n}\r\nexports.createRenderer = createRenderer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\nvar options_1 = require(\"../core/options\");\r\nvar patching_1 = require(\"./patching\");\r\nvar recycling_1 = require(\"./recycling\");\r\nvar rendering_1 = require(\"./rendering\");\r\nvar utils_1 = require(\"./utils\");\r\nfunction unmount(vNode, parentDom, lifecycle, canRecycle, isRecycling) {\r\n    var flags = vNode.flags;\r\n    if (flags & 28 /* Component */) {\r\n        unmountComponent(vNode, parentDom, lifecycle, canRecycle, isRecycling);\r\n    }\r\n    else if (flags & 3970 /* Element */) {\r\n        unmountElement(vNode, parentDom, lifecycle, canRecycle, isRecycling);\r\n    }\r\n    else if (flags & (1 /* Text */ | 4096 /* Void */)) {\r\n        unmountVoidOrText(vNode, parentDom);\r\n    }\r\n}\r\nexports.unmount = unmount;\r\nfunction unmountVoidOrText(vNode, parentDom) {\r\n    if (!inferno_shared_1.isNull(parentDom)) {\r\n        utils_1.removeChild(parentDom, vNode.dom);\r\n    }\r\n}\r\nfunction unmountComponent(vNode, parentDom, lifecycle, canRecycle, isRecycling) {\r\n    var instance = vNode.children;\r\n    var flags = vNode.flags;\r\n    var isStatefulComponent = flags & 4 /* ComponentClass */;\r\n    var ref = vNode.ref;\r\n    var dom = vNode.dom;\r\n    if (!isRecycling) {\r\n        if (isStatefulComponent) {\r\n            if (!instance._unmounted) {\r\n                instance._blockSetState = true;\r\n                if (!inferno_shared_1.isNull(options_1.options.beforeUnmount)) {\r\n                    options_1.options.beforeUnmount(vNode);\r\n                }\r\n                if (!inferno_shared_1.isUndefined(instance.componentWillUnmount)) {\r\n                    instance.componentWillUnmount();\r\n                }\r\n                if (ref && !isRecycling) {\r\n                    ref(null);\r\n                }\r\n                instance._unmounted = true;\r\n                if (options_1.options.findDOMNodeEnabled) {\r\n                    rendering_1.componentToDOMNodeMap.delete(instance);\r\n                }\r\n                unmount(instance._lastInput, null, instance._lifecycle, false, isRecycling);\r\n            }\r\n        }\r\n        else {\r\n            if (!inferno_shared_1.isNullOrUndef(ref)) {\r\n                if (!inferno_shared_1.isNullOrUndef(ref.onComponentWillUnmount)) {\r\n                    ref.onComponentWillUnmount(dom);\r\n                }\r\n            }\r\n            unmount(instance, null, lifecycle, false, isRecycling);\r\n        }\r\n    }\r\n    if (parentDom) {\r\n        var lastInput = instance._lastInput;\r\n        if (inferno_shared_1.isNullOrUndef(lastInput)) {\r\n            lastInput = instance;\r\n        }\r\n        utils_1.removeChild(parentDom, dom);\r\n    }\r\n    if (options_1.options.recyclingEnabled && !isStatefulComponent && (parentDom || canRecycle)) {\r\n        recycling_1.poolComponent(vNode);\r\n    }\r\n}\r\nexports.unmountComponent = unmountComponent;\r\nfunction unmountElement(vNode, parentDom, lifecycle, canRecycle, isRecycling) {\r\n    var dom = vNode.dom;\r\n    var ref = vNode.ref;\r\n    var props = vNode.props;\r\n    if (ref && !isRecycling) {\r\n        unmountRef(ref);\r\n    }\r\n    var children = vNode.children;\r\n    if (!inferno_shared_1.isNullOrUndef(children)) {\r\n        unmountChildren(children, lifecycle, isRecycling);\r\n    }\r\n    if (!inferno_shared_1.isNull(props)) {\r\n        for (var name_1 in props) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            if (props[name_1] !== null && patching_1.isAttrAnEvent(name_1)) {\r\n                patching_1.patchEvent(name_1, props[name_1], null, dom);\r\n                // We need to set this null, because same props otherwise come back if SCU returns false and we are recyling\r\n                props[name_1] = null;\r\n            }\r\n        }\r\n    }\r\n    if (!inferno_shared_1.isNull(parentDom)) {\r\n        utils_1.removeChild(parentDom, dom);\r\n    }\r\n    if (options_1.options.recyclingEnabled && (parentDom || canRecycle)) {\r\n        recycling_1.poolElement(vNode);\r\n    }\r\n}\r\nexports.unmountElement = unmountElement;\r\nfunction unmountChildren(children, lifecycle, isRecycling) {\r\n    if (inferno_shared_1.isArray(children)) {\r\n        for (var i = 0, len = children.length; i < len; i++) {\r\n            var child = children[i];\r\n            if (!inferno_shared_1.isInvalid(child) && inferno_shared_1.isObject(child)) {\r\n                unmount(child, null, lifecycle, false, isRecycling);\r\n            }\r\n        }\r\n    }\r\n    else if (inferno_shared_1.isObject(children)) {\r\n        unmount(children, null, lifecycle, false, isRecycling);\r\n    }\r\n}\r\nfunction unmountRef(ref) {\r\n    if (inferno_shared_1.isFunction(ref)) {\r\n        ref(null);\r\n    }\r\n    else {\r\n        if (inferno_shared_1.isInvalid(ref)) {\r\n            return;\r\n        }\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            inferno_shared_1.throwError('string \"refs\" are not supported in Inferno 1.0. Use callback \"refs\" instead.');\r\n        }\r\n        inferno_shared_1.throwError();\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\nvar options_1 = require(\"../core/options\");\r\nvar VNodes_1 = require(\"../core/VNodes\");\r\nvar constants_1 = require(\"./constants\");\r\nvar mounting_1 = require(\"./mounting\");\r\nvar unmounting_1 = require(\"./unmounting\");\r\n// We need EMPTY_OBJ defined in one place.\r\n// Its used for comparison so we cant inline it into shared\r\nexports.EMPTY_OBJ = {};\r\nif (process.env.NODE_ENV !== 'production') {\r\n    Object.freeze(exports.EMPTY_OBJ);\r\n}\r\nfunction createClassComponentInstance(vNode, Component, props, context, isSVG, lifecycle) {\r\n    if (inferno_shared_1.isUndefined(context)) {\r\n        context = exports.EMPTY_OBJ; // Context should not be mutable\r\n    }\r\n    var instance = new Component(props, context);\r\n    vNode.children = instance;\r\n    instance._blockSetState = false;\r\n    instance.context = context;\r\n    if (instance.props === exports.EMPTY_OBJ) {\r\n        instance.props = props;\r\n    }\r\n    // setState callbacks must fire after render is done when called from componentWillReceiveProps or componentWillMount\r\n    instance._lifecycle = lifecycle;\r\n    instance._unmounted = false;\r\n    instance._pendingSetState = true;\r\n    instance._isSVG = isSVG;\r\n    if (!inferno_shared_1.isUndefined(instance.componentWillMount)) {\r\n        instance._blockRender = true;\r\n        instance.componentWillMount();\r\n        instance._blockRender = false;\r\n    }\r\n    var childContext;\r\n    if (!inferno_shared_1.isUndefined(instance.getChildContext)) {\r\n        childContext = instance.getChildContext();\r\n    }\r\n    if (inferno_shared_1.isNullOrUndef(childContext)) {\r\n        instance._childContext = context;\r\n    }\r\n    else {\r\n        instance._childContext = inferno_shared_1.combineFrom(context, childContext);\r\n    }\r\n    if (!inferno_shared_1.isNull(options_1.options.beforeRender)) {\r\n        options_1.options.beforeRender(instance);\r\n    }\r\n    var input = instance.render(props, instance.state, context);\r\n    if (!inferno_shared_1.isNull(options_1.options.afterRender)) {\r\n        options_1.options.afterRender(instance);\r\n    }\r\n    if (inferno_shared_1.isArray(input)) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            inferno_shared_1.throwError('a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.');\r\n        }\r\n        inferno_shared_1.throwError();\r\n    }\r\n    else if (inferno_shared_1.isInvalid(input)) {\r\n        input = VNodes_1.createVoidVNode();\r\n    }\r\n    else if (inferno_shared_1.isStringOrNumber(input)) {\r\n        input = VNodes_1.createTextVNode(input, null);\r\n    }\r\n    else {\r\n        if (input.dom) {\r\n            input = VNodes_1.directClone(input);\r\n        }\r\n        if (input.flags & 28 /* Component */) {\r\n            // if we have an input that is also a component, we run into a tricky situation\r\n            // where the root vNode needs to always have the correct DOM entry\r\n            // so we break monomorphism on our input and supply it our vNode as parentVNode\r\n            // we can optimise this in the future, but this gets us out of a lot of issues\r\n            input.parentVNode = vNode;\r\n        }\r\n    }\r\n    instance._pendingSetState = false;\r\n    instance._lastInput = input;\r\n    return instance;\r\n}\r\nexports.createClassComponentInstance = createClassComponentInstance;\r\nfunction replaceLastChildAndUnmount(lastInput, nextInput, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    replaceVNode(parentDom, mounting_1.mount(nextInput, null, lifecycle, context, isSVG), lastInput, lifecycle, isRecycling);\r\n}\r\nexports.replaceLastChildAndUnmount = replaceLastChildAndUnmount;\r\nfunction replaceVNode(parentDom, dom, vNode, lifecycle, isRecycling) {\r\n    unmounting_1.unmount(vNode, null, lifecycle, false, isRecycling);\r\n    replaceChild(parentDom, dom, vNode.dom);\r\n}\r\nexports.replaceVNode = replaceVNode;\r\nfunction createFunctionalComponentInput(vNode, component, props, context) {\r\n    var input = component(props, context);\r\n    if (inferno_shared_1.isArray(input)) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            inferno_shared_1.throwError('a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.');\r\n        }\r\n        inferno_shared_1.throwError();\r\n    }\r\n    else if (inferno_shared_1.isInvalid(input)) {\r\n        input = VNodes_1.createVoidVNode();\r\n    }\r\n    else if (inferno_shared_1.isStringOrNumber(input)) {\r\n        input = VNodes_1.createTextVNode(input, null);\r\n    }\r\n    else {\r\n        if (input.dom) {\r\n            input = VNodes_1.directClone(input);\r\n        }\r\n        if (input.flags & 28 /* Component */) {\r\n            // if we have an input that is also a component, we run into a tricky situation\r\n            // where the root vNode needs to always have the correct DOM entry\r\n            // so we break monomorphism on our input and supply it our vNode as parentVNode\r\n            // we can optimise this in the future, but this gets us out of a lot of issues\r\n            input.parentVNode = vNode;\r\n        }\r\n    }\r\n    return input;\r\n}\r\nexports.createFunctionalComponentInput = createFunctionalComponentInput;\r\nfunction setTextContent(dom, text) {\r\n    if (text !== '') {\r\n        dom.textContent = text;\r\n    }\r\n    else {\r\n        dom.appendChild(document.createTextNode(''));\r\n    }\r\n}\r\nexports.setTextContent = setTextContent;\r\nfunction updateTextContent(dom, text) {\r\n    dom.firstChild.nodeValue = text;\r\n}\r\nexports.updateTextContent = updateTextContent;\r\nfunction appendChild(parentDom, dom) {\r\n    parentDom.appendChild(dom);\r\n}\r\nexports.appendChild = appendChild;\r\nfunction insertOrAppend(parentDom, newNode, nextNode) {\r\n    if (inferno_shared_1.isNullOrUndef(nextNode)) {\r\n        appendChild(parentDom, newNode);\r\n    }\r\n    else {\r\n        parentDom.insertBefore(newNode, nextNode);\r\n    }\r\n}\r\nexports.insertOrAppend = insertOrAppend;\r\nfunction documentCreateElement(tag, isSVG) {\r\n    if (isSVG === true) {\r\n        return document.createElementNS(constants_1.svgNS, tag);\r\n    }\r\n    else {\r\n        return document.createElement(tag);\r\n    }\r\n}\r\nexports.documentCreateElement = documentCreateElement;\r\nfunction replaceWithNewNode(lastNode, nextNode, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    unmounting_1.unmount(lastNode, null, lifecycle, false, isRecycling);\r\n    var dom = mounting_1.mount(nextNode, null, lifecycle, context, isSVG);\r\n    nextNode.dom = dom;\r\n    replaceChild(parentDom, dom, lastNode.dom);\r\n}\r\nexports.replaceWithNewNode = replaceWithNewNode;\r\nfunction replaceChild(parentDom, nextDom, lastDom) {\r\n    if (!parentDom) {\r\n        parentDom = lastDom.parentNode;\r\n    }\r\n    parentDom.replaceChild(nextDom, lastDom);\r\n}\r\nexports.replaceChild = replaceChild;\r\nfunction removeChild(parentDom, dom) {\r\n    parentDom.removeChild(dom);\r\n}\r\nexports.removeChild = removeChild;\r\nfunction removeAllChildren(dom, children, lifecycle, isRecycling) {\r\n    if (!options_1.options.recyclingEnabled || (options_1.options.recyclingEnabled && !isRecycling)) {\r\n        removeChildren(null, children, lifecycle, isRecycling);\r\n    }\r\n    dom.textContent = '';\r\n}\r\nexports.removeAllChildren = removeAllChildren;\r\nfunction removeChildren(dom, children, lifecycle, isRecycling) {\r\n    for (var i = 0, len = children.length; i < len; i++) {\r\n        var child = children[i];\r\n        if (!inferno_shared_1.isInvalid(child)) {\r\n            unmounting_1.unmount(child, dom, lifecycle, true, isRecycling);\r\n        }\r\n    }\r\n}\r\nexports.removeChildren = removeChildren;\r\nfunction isKeyed(lastChildren, nextChildren) {\r\n    return nextChildren.length > 0 && !inferno_shared_1.isNullOrUndef(nextChildren[0]) && !inferno_shared_1.isNullOrUndef(nextChildren[0].key)\r\n        && lastChildren.length > 0 && !inferno_shared_1.isNullOrUndef(lastChildren[0]) && !inferno_shared_1.isNullOrUndef(lastChildren[0].key);\r\n}\r\nexports.isKeyed = isKeyed;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\nvar utils_1 = require(\"../utils\");\r\nfunction isCheckedType(type) {\r\n    return type === 'checkbox' || type === 'radio';\r\n}\r\nexports.isCheckedType = isCheckedType;\r\nfunction onTextInputChange(e) {\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || utils_1.EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    var previousValue = props.value;\r\n    if (props.onInput) {\r\n        var event_1 = props.onInput;\r\n        if (event_1.event) {\r\n            event_1.event(event_1.data, e);\r\n        }\r\n        else {\r\n            event_1(e);\r\n        }\r\n    }\r\n    else if (props.oninput) {\r\n        props.oninput(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || utils_1.EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    if (previousValue !== newProps.value) {\r\n        // When this happens we need to store current cursor position and restore it, to avoid jumping\r\n        applyValue(newProps, dom);\r\n    }\r\n}\r\nfunction wrappedOnChange(e) {\r\n    var props = this.vNode.props || utils_1.EMPTY_OBJ;\r\n    var event = props.onChange;\r\n    if (event.event) {\r\n        event.event(event.data, e);\r\n    }\r\n    else {\r\n        event(e);\r\n    }\r\n}\r\nfunction onCheckboxChange(e) {\r\n    e.stopPropagation(); // This click should not propagate its for internal use\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || utils_1.EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    var previousValue = props.value;\r\n    if (props.onClick) {\r\n        var event_2 = props.onClick;\r\n        if (event_2.event) {\r\n            event_2.event(event_2.data, e);\r\n        }\r\n        else {\r\n            event_2(e);\r\n        }\r\n    }\r\n    else if (props.onclick) {\r\n        props.onclick(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || utils_1.EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    if (previousValue !== newProps.value) {\r\n        // When this happens we need to store current cursor position and restore it, to avoid jumping\r\n        applyValue(newProps, dom);\r\n    }\r\n}\r\nfunction processInput(vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    applyValue(nextPropsOrEmpty, dom);\r\n    if (isControlled) {\r\n        dom.vNode = vNode; // TODO: Remove this when implementing Fiber's\r\n        if (mounting) {\r\n            if (isCheckedType(nextPropsOrEmpty.type)) {\r\n                dom.onclick = onCheckboxChange;\r\n                dom.onclick.wrapped = true;\r\n            }\r\n            else {\r\n                dom.oninput = onTextInputChange;\r\n                dom.oninput.wrapped = true;\r\n            }\r\n            if (nextPropsOrEmpty.onChange) {\r\n                dom.onchange = wrappedOnChange;\r\n                dom.onchange.wrapped = true;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.processInput = processInput;\r\nfunction applyValue(nextPropsOrEmpty, dom) {\r\n    var type = nextPropsOrEmpty.type;\r\n    var value = nextPropsOrEmpty.value;\r\n    var checked = nextPropsOrEmpty.checked;\r\n    var multiple = nextPropsOrEmpty.multiple;\r\n    var defaultValue = nextPropsOrEmpty.defaultValue;\r\n    var hasValue = !inferno_shared_1.isNullOrUndef(value);\r\n    if (type && type !== dom.type) {\r\n        dom.setAttribute('type', type);\r\n    }\r\n    if (multiple && multiple !== dom.multiple) {\r\n        dom.multiple = multiple;\r\n    }\r\n    if (!inferno_shared_1.isNullOrUndef(defaultValue) && !hasValue) {\r\n        dom.defaultValue = defaultValue + '';\r\n    }\r\n    if (isCheckedType(type)) {\r\n        if (hasValue) {\r\n            dom.value = value;\r\n        }\r\n        if (!inferno_shared_1.isNullOrUndef(checked)) {\r\n            dom.checked = checked;\r\n        }\r\n    }\r\n    else {\r\n        if (hasValue && dom.value !== value) {\r\n            dom.value = value;\r\n        }\r\n        else if (!inferno_shared_1.isNullOrUndef(checked)) {\r\n            dom.checked = checked;\r\n        }\r\n    }\r\n}\r\nexports.applyValue = applyValue;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\nvar VNodes_1 = require(\"../../core/VNodes\");\r\nvar utils_1 = require(\"../utils\");\r\nfunction updateChildOptionGroup(vNode, value) {\r\n    var type = vNode.type;\r\n    if (type === 'optgroup') {\r\n        var children = vNode.children;\r\n        if (inferno_shared_1.isArray(children)) {\r\n            for (var i = 0, len = children.length; i < len; i++) {\r\n                updateChildOption(children[i], value);\r\n            }\r\n        }\r\n        else if (VNodes_1.isVNode(children)) {\r\n            updateChildOption(children, value);\r\n        }\r\n    }\r\n    else {\r\n        updateChildOption(vNode, value);\r\n    }\r\n}\r\nfunction updateChildOption(vNode, value) {\r\n    var props = vNode.props || utils_1.EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    // we do this as multiple may have changed\r\n    dom.value = props.value;\r\n    if ((inferno_shared_1.isArray(value) && value.indexOf(props.value) !== -1) || props.value === value) {\r\n        dom.selected = true;\r\n    }\r\n    else if (!inferno_shared_1.isNullOrUndef(value) || !inferno_shared_1.isNullOrUndef(props.selected)) {\r\n        dom.selected = props.selected || false;\r\n    }\r\n}\r\nfunction onSelectChange(e) {\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || utils_1.EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    var previousValue = props.value;\r\n    if (props.onChange) {\r\n        var event_1 = props.onChange;\r\n        if (event_1.event) {\r\n            event_1.event(event_1.data, e);\r\n        }\r\n        else {\r\n            event_1(e);\r\n        }\r\n    }\r\n    else if (props.onchange) {\r\n        props.onchange(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || utils_1.EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    if (previousValue !== newProps.value) {\r\n        // When this happens we need to store current cursor position and restore it, to avoid jumping\r\n        applyValue(newVNode, dom, newProps, false);\r\n    }\r\n}\r\nfunction processSelect(vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    applyValue(vNode, dom, nextPropsOrEmpty, mounting);\r\n    if (isControlled) {\r\n        dom.vNode = vNode; // TODO: Remove this when implementing Fiber's\r\n        if (mounting) {\r\n            dom.onchange = onSelectChange;\r\n            dom.onchange.wrapped = true;\r\n        }\r\n    }\r\n}\r\nexports.processSelect = processSelect;\r\nfunction applyValue(vNode, dom, nextPropsOrEmpty, mounting) {\r\n    if (nextPropsOrEmpty.multiple !== dom.multiple) {\r\n        dom.multiple = nextPropsOrEmpty.multiple;\r\n    }\r\n    var children = vNode.children;\r\n    if (!inferno_shared_1.isInvalid(children)) {\r\n        var value = nextPropsOrEmpty.value;\r\n        if (mounting && inferno_shared_1.isNullOrUndef(value)) {\r\n            value = nextPropsOrEmpty.defaultValue;\r\n        }\r\n        if (inferno_shared_1.isArray(children)) {\r\n            for (var i = 0, len = children.length; i < len; i++) {\r\n                updateChildOptionGroup(children[i], value);\r\n            }\r\n        }\r\n        else if (VNodes_1.isVNode(children)) {\r\n            updateChildOptionGroup(children, value);\r\n        }\r\n    }\r\n}\r\nexports.applyValue = applyValue;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\nvar utils_1 = require(\"../utils\");\r\nfunction wrappedOnChange(e) {\r\n    var props = this.vNode.props || utils_1.EMPTY_OBJ;\r\n    var event = props.onChange;\r\n    if (event.event) {\r\n        event.event(event.data, e);\r\n    }\r\n    else {\r\n        event(e);\r\n    }\r\n}\r\nfunction onTextareaInputChange(e) {\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || utils_1.EMPTY_OBJ;\r\n    var previousValue = props.value;\r\n    if (props.onInput) {\r\n        var event_1 = props.onInput;\r\n        if (event_1.event) {\r\n            event_1.event(event_1.data, e);\r\n        }\r\n        else {\r\n            event_1(e);\r\n        }\r\n    }\r\n    else if (props.oninput) {\r\n        props.oninput(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || utils_1.EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    if (previousValue !== newProps.value) {\r\n        // When this happens we need to store current cursor position and restore it, to avoid jumping\r\n        applyValue(newVNode, vNode.dom, false);\r\n    }\r\n}\r\nfunction processTextarea(vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    applyValue(nextPropsOrEmpty, dom, mounting);\r\n    if (isControlled) {\r\n        dom.vNode = vNode; // TODO: Remove this when implementing Fiber's\r\n        if (mounting) {\r\n            dom.oninput = onTextareaInputChange;\r\n            dom.oninput.wrapped = true;\r\n            if (nextPropsOrEmpty.onChange) {\r\n                dom.onchange = wrappedOnChange;\r\n                dom.onchange.wrapped = true;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.processTextarea = processTextarea;\r\nfunction applyValue(nextPropsOrEmpty, dom, mounting) {\r\n    var value = nextPropsOrEmpty.value;\r\n    var domValue = dom.value;\r\n    if (inferno_shared_1.isNullOrUndef(value)) {\r\n        if (mounting) {\r\n            var defaultValue = nextPropsOrEmpty.defaultValue;\r\n            if (!inferno_shared_1.isNullOrUndef(defaultValue)) {\r\n                if (defaultValue !== domValue) {\r\n                    dom.value = defaultValue;\r\n                }\r\n            }\r\n            else if (domValue !== '') {\r\n                dom.value = '';\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        /* There is value so keep it controlled */\r\n        if (domValue !== value) {\r\n            dom.value = value;\r\n        }\r\n    }\r\n}\r\nexports.applyValue = applyValue;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\nvar InputWrapper_1 = require(\"./InputWrapper\");\r\nvar SelectWrapper_1 = require(\"./SelectWrapper\");\r\nvar TextareaWrapper_1 = require(\"./TextareaWrapper\");\r\n/**\r\n * There is currently no support for switching same input between controlled and nonControlled\r\n * If that ever becomes a real issue, then re design controlled elements\r\n * Currently user must choose either controlled or non-controlled and stick with that\r\n */\r\nfunction processElement(flags, vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    if (flags & 512 /* InputElement */) {\r\n        InputWrapper_1.processInput(vNode, dom, nextPropsOrEmpty, mounting, isControlled);\r\n    }\r\n    if (flags & 2048 /* SelectElement */) {\r\n        SelectWrapper_1.processSelect(vNode, dom, nextPropsOrEmpty, mounting, isControlled);\r\n    }\r\n    if (flags & 1024 /* TextareaElement */) {\r\n        TextareaWrapper_1.processTextarea(vNode, dom, nextPropsOrEmpty, mounting, isControlled);\r\n    }\r\n}\r\nexports.processElement = processElement;\r\nfunction isControlledFormElement(nextPropsOrEmpty) {\r\n    return (nextPropsOrEmpty.type && InputWrapper_1.isCheckedType(nextPropsOrEmpty.type)) ? !inferno_shared_1.isNullOrUndef(nextPropsOrEmpty.checked) : !inferno_shared_1.isNullOrUndef(nextPropsOrEmpty.value);\r\n}\r\nexports.isControlledFormElement = isControlledFormElement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\nvar utils_1 = require(\"../DOM/utils\");\r\nvar normalization_1 = require(\"./normalization\");\r\nvar options_1 = require(\"./options\");\r\nfunction VNode(children, className, flags, key, props, ref, type) {\r\n    this.children = children;\r\n    this.className = className;\r\n    this.dom = null;\r\n    this.flags = flags;\r\n    this.key = key;\r\n    this.props = props;\r\n    this.ref = ref;\r\n    this.type = type;\r\n}\r\n/**\r\n * Creates virtual node\r\n * @param {number} flags\r\n * @param {string|Function|null} type\r\n * @param {string|null=} className\r\n * @param {object=} children\r\n * @param {object=} props\r\n * @param {*=} key\r\n * @param {object|Function=} ref\r\n * @param {boolean=} noNormalise\r\n * @returns {VNode} returns new virtual node\r\n */\r\nfunction createVNode(flags, type, className, children, props, key, ref, noNormalise) {\r\n    if (flags & 16 /* ComponentUnknown */) {\r\n        flags = inferno_shared_1.isStatefulComponent(type) ? 4 /* ComponentClass */ : 8 /* ComponentFunction */;\r\n    }\r\n    var vNode = new VNode(children === void 0 ? null : children, className === void 0 ? null : className, flags, key === void 0 ? null : key, props === void 0 ? null : props, ref === void 0 ? null : ref, type);\r\n    if (noNormalise !== true) {\r\n        normalization_1.normalize(vNode);\r\n    }\r\n    if (options_1.options.createVNode !== null) {\r\n        options_1.options.createVNode(vNode);\r\n    }\r\n    return vNode;\r\n}\r\nexports.createVNode = createVNode;\r\nfunction directClone(vNodeToClone) {\r\n    var newVNode;\r\n    var flags = vNodeToClone.flags;\r\n    if (flags & 28 /* Component */) {\r\n        var props = void 0;\r\n        var propsToClone = vNodeToClone.props;\r\n        if (inferno_shared_1.isNull(propsToClone)) {\r\n            props = utils_1.EMPTY_OBJ;\r\n        }\r\n        else {\r\n            props = {};\r\n            for (var key in propsToClone) {\r\n                props[key] = propsToClone[key];\r\n            }\r\n        }\r\n        newVNode = createVNode(flags, vNodeToClone.type, null, null, props, vNodeToClone.key, vNodeToClone.ref, true);\r\n        var newProps = newVNode.props;\r\n        var newChildren = newProps.children;\r\n        // we need to also clone component children that are in props\r\n        // as the children may also have been hoisted\r\n        if (newChildren) {\r\n            if (inferno_shared_1.isArray(newChildren)) {\r\n                var len = newChildren.length;\r\n                if (len > 0) {\r\n                    var tmpArray = [];\r\n                    for (var i = 0; i < len; i++) {\r\n                        var child = newChildren[i];\r\n                        if (inferno_shared_1.isStringOrNumber(child)) {\r\n                            tmpArray.push(child);\r\n                        }\r\n                        else if (!inferno_shared_1.isInvalid(child) && isVNode(child)) {\r\n                            tmpArray.push(directClone(child));\r\n                        }\r\n                    }\r\n                    newProps.children = tmpArray;\r\n                }\r\n            }\r\n            else if (isVNode(newChildren)) {\r\n                newProps.children = directClone(newChildren);\r\n            }\r\n        }\r\n        newVNode.children = null;\r\n    }\r\n    else if (flags & 3970 /* Element */) {\r\n        var children = vNodeToClone.children;\r\n        var props = void 0;\r\n        var propsToClone = vNodeToClone.props;\r\n        if (propsToClone === null) {\r\n            props = utils_1.EMPTY_OBJ;\r\n        }\r\n        else {\r\n            props = {};\r\n            for (var key in propsToClone) {\r\n                props[key] = propsToClone[key];\r\n            }\r\n        }\r\n        newVNode = createVNode(flags, vNodeToClone.type, vNodeToClone.className, children, props, vNodeToClone.key, vNodeToClone.ref, !children);\r\n    }\r\n    else if (flags & 1 /* Text */) {\r\n        newVNode = createTextVNode(vNodeToClone.children, vNodeToClone.key);\r\n    }\r\n    return newVNode;\r\n}\r\nexports.directClone = directClone;\r\n/*\r\n directClone is preferred over cloneVNode and used internally also.\r\n This function makes Inferno backwards compatible.\r\n And can be tree-shaked by modern bundlers\r\n\r\n Would be nice to combine this with directClone but could not do it without breaking change\r\n */\r\n/**\r\n * Clones given virtual node by creating new instance of it\r\n * @param {VNode} vNodeToClone virtual node to be cloned\r\n * @param {Props=} props additional props for new virtual node\r\n * @param {...*} _children new children for new virtual node\r\n * @returns {VNode} new virtual node\r\n */\r\nfunction cloneVNode(vNodeToClone, props) {\r\n    var _children = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        _children[_i - 2] = arguments[_i];\r\n    }\r\n    var children = _children;\r\n    var childrenLen = _children.length;\r\n    if (childrenLen > 0 && !inferno_shared_1.isUndefined(_children[0])) {\r\n        if (!props) {\r\n            props = {};\r\n        }\r\n        if (childrenLen === 1) {\r\n            children = _children[0];\r\n        }\r\n        if (!inferno_shared_1.isUndefined(children)) {\r\n            props.children = children;\r\n        }\r\n    }\r\n    var newVNode;\r\n    if (inferno_shared_1.isArray(vNodeToClone)) {\r\n        var tmpArray = [];\r\n        for (var i = 0, len = vNodeToClone.length; i < len; i++) {\r\n            tmpArray.push(directClone(vNodeToClone[i]));\r\n        }\r\n        newVNode = tmpArray;\r\n    }\r\n    else {\r\n        var flags = vNodeToClone.flags;\r\n        var className = vNodeToClone.className || (props && props.className);\r\n        var key = !inferno_shared_1.isNullOrUndef(vNodeToClone.key) ? vNodeToClone.key : (props ? props.key : null);\r\n        var ref = vNodeToClone.ref || (props ? props.ref : null);\r\n        if (flags & 28 /* Component */) {\r\n            newVNode = createVNode(flags, vNodeToClone.type, className, null, (!vNodeToClone.props && !props) ? utils_1.EMPTY_OBJ : inferno_shared_1.combineFrom(vNodeToClone.props, props), key, ref, true);\r\n            var newProps = newVNode.props;\r\n            if (newProps) {\r\n                var newChildren = newProps.children;\r\n                // we need to also clone component children that are in props\r\n                // as the children may also have been hoisted\r\n                if (newChildren) {\r\n                    if (inferno_shared_1.isArray(newChildren)) {\r\n                        var len = newChildren.length;\r\n                        if (len > 0) {\r\n                            var tmpArray = [];\r\n                            for (var i = 0; i < len; i++) {\r\n                                var child = newChildren[i];\r\n                                if (inferno_shared_1.isStringOrNumber(child)) {\r\n                                    tmpArray.push(child);\r\n                                }\r\n                                else if (!inferno_shared_1.isInvalid(child) && isVNode(child)) {\r\n                                    tmpArray.push(directClone(child));\r\n                                }\r\n                            }\r\n                            newProps.children = tmpArray;\r\n                        }\r\n                    }\r\n                    else if (isVNode(newChildren)) {\r\n                        newProps.children = directClone(newChildren);\r\n                    }\r\n                }\r\n            }\r\n            newVNode.children = null;\r\n        }\r\n        else if (flags & 3970 /* Element */) {\r\n            children = (props && !inferno_shared_1.isUndefined(props.children)) ? props.children : vNodeToClone.children;\r\n            newVNode = createVNode(flags, vNodeToClone.type, className, children, (!vNodeToClone.props && !props) ? utils_1.EMPTY_OBJ : inferno_shared_1.combineFrom(vNodeToClone.props, props), key, ref, !children);\r\n        }\r\n        else if (flags & 1 /* Text */) {\r\n            newVNode = createTextVNode(vNodeToClone.children, key);\r\n        }\r\n    }\r\n    return newVNode;\r\n}\r\nexports.cloneVNode = cloneVNode;\r\nfunction createVoidVNode() {\r\n    return createVNode(4096 /* Void */, null);\r\n}\r\nexports.createVoidVNode = createVoidVNode;\r\nfunction createTextVNode(text, key) {\r\n    return createVNode(1 /* Text */, null, null, text, null, key);\r\n}\r\nexports.createTextVNode = createTextVNode;\r\nfunction isVNode(o) {\r\n    return !!o.flags;\r\n}\r\nexports.isVNode = isVNode;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\nvar VNodes_1 = require(\"./VNodes\");\r\nfunction applyKey(key, vNode) {\r\n    vNode.key = key;\r\n    return vNode;\r\n}\r\nfunction applyKeyIfMissing(key, vNode) {\r\n    if (inferno_shared_1.isNumber(key)) {\r\n        key = \".\" + key;\r\n    }\r\n    if (inferno_shared_1.isNull(vNode.key) || vNode.key[0] === '.') {\r\n        return applyKey(key, vNode);\r\n    }\r\n    return vNode;\r\n}\r\nfunction applyKeyPrefix(key, vNode) {\r\n    vNode.key = key + vNode.key;\r\n    return vNode;\r\n}\r\nfunction _normalizeVNodes(nodes, result, index, currentKey) {\r\n    for (var len = nodes.length; index < len; index++) {\r\n        var n = nodes[index];\r\n        var key = currentKey + \".\" + index;\r\n        if (!inferno_shared_1.isInvalid(n)) {\r\n            if (inferno_shared_1.isArray(n)) {\r\n                _normalizeVNodes(n, result, 0, key);\r\n            }\r\n            else {\r\n                if (inferno_shared_1.isStringOrNumber(n)) {\r\n                    n = VNodes_1.createTextVNode(n, null);\r\n                }\r\n                else if (VNodes_1.isVNode(n) && n.dom || (n.key && n.key[0] === '.')) {\r\n                    n = VNodes_1.directClone(n);\r\n                }\r\n                if (inferno_shared_1.isNull(n.key) || n.key[0] === '.') {\r\n                    n = applyKey(key, n);\r\n                }\r\n                else {\r\n                    n = applyKeyPrefix(currentKey, n);\r\n                }\r\n                result.push(n);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction normalizeVNodes(nodes) {\r\n    var newNodes;\r\n    // we assign $ which basically means we've flagged this array for future note\r\n    // if it comes back again, we need to clone it, as people are using it\r\n    // in an immutable way\r\n    // tslint:disable\r\n    if (nodes['$'] === true) {\r\n        nodes = nodes.slice();\r\n    }\r\n    else {\r\n        nodes['$'] = true;\r\n    }\r\n    // tslint:enable\r\n    for (var i = 0, len = nodes.length; i < len; i++) {\r\n        var n = nodes[i];\r\n        if (inferno_shared_1.isInvalid(n) || inferno_shared_1.isArray(n)) {\r\n            var result = (newNodes || nodes).slice(0, i);\r\n            _normalizeVNodes(nodes, result, i, \"\");\r\n            return result;\r\n        }\r\n        else if (inferno_shared_1.isStringOrNumber(n)) {\r\n            if (!newNodes) {\r\n                newNodes = nodes.slice(0, i);\r\n            }\r\n            newNodes.push(applyKeyIfMissing(i, VNodes_1.createTextVNode(n, null)));\r\n        }\r\n        else if ((VNodes_1.isVNode(n) && n.dom !== null) || (inferno_shared_1.isNull(n.key) && (n.flags & 64 /* HasNonKeyedChildren */) === 0)) {\r\n            if (!newNodes) {\r\n                newNodes = nodes.slice(0, i);\r\n            }\r\n            newNodes.push(applyKeyIfMissing(i, VNodes_1.directClone(n)));\r\n        }\r\n        else if (newNodes) {\r\n            newNodes.push(applyKeyIfMissing(i, VNodes_1.directClone(n)));\r\n        }\r\n    }\r\n    return newNodes || nodes;\r\n}\r\nexports.normalizeVNodes = normalizeVNodes;\r\nfunction normalizeChildren(children) {\r\n    if (inferno_shared_1.isArray(children)) {\r\n        return normalizeVNodes(children);\r\n    }\r\n    else if (VNodes_1.isVNode(children) && children.dom !== null) {\r\n        return VNodes_1.directClone(children);\r\n    }\r\n    return children;\r\n}\r\nfunction normalizeProps(vNode, props, children) {\r\n    if (vNode.flags & 3970 /* Element */) {\r\n        if (inferno_shared_1.isNullOrUndef(children) && !inferno_shared_1.isNullOrUndef(props.children)) {\r\n            vNode.children = props.children;\r\n        }\r\n        if (!inferno_shared_1.isNullOrUndef(props.className)) {\r\n            vNode.className = props.className;\r\n            delete props.className;\r\n        }\r\n    }\r\n    if (props.ref) {\r\n        vNode.ref = props.ref;\r\n        delete props.ref;\r\n    }\r\n    if (!inferno_shared_1.isNullOrUndef(props.key)) {\r\n        vNode.key = props.key;\r\n        delete props.key;\r\n    }\r\n}\r\nfunction getFlagsForElementVnode(type) {\r\n    if (type === 'svg') {\r\n        return 128 /* SvgElement */;\r\n    }\r\n    else if (type === 'input') {\r\n        return 512 /* InputElement */;\r\n    }\r\n    else if (type === 'select') {\r\n        return 2048 /* SelectElement */;\r\n    }\r\n    else if (type === 'textarea') {\r\n        return 1024 /* TextareaElement */;\r\n    }\r\n    else if (type === 'media') {\r\n        return 256 /* MediaElement */;\r\n    }\r\n    return 2 /* HtmlElement */;\r\n}\r\nexports.getFlagsForElementVnode = getFlagsForElementVnode;\r\nfunction normalize(vNode) {\r\n    var props = vNode.props;\r\n    var children = vNode.children;\r\n    // convert a wrongly created type back to element\r\n    // Primitive node doesn't have defaultProps, only Component\r\n    if (vNode.flags & 28 /* Component */) {\r\n        // set default props\r\n        var type = vNode.type;\r\n        var defaultProps = type.defaultProps;\r\n        if (!inferno_shared_1.isNullOrUndef(defaultProps)) {\r\n            if (!props) {\r\n                props = vNode.props = defaultProps; // Create new object if only defaultProps given\r\n            }\r\n            else {\r\n                for (var prop in defaultProps) {\r\n                    if (inferno_shared_1.isUndefined(props[prop])) {\r\n                        props[prop] = defaultProps[prop];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (inferno_shared_1.isString(type)) {\r\n            vNode.flags = getFlagsForElementVnode(type);\r\n            if (props && props.children) {\r\n                vNode.children = props.children;\r\n                children = props.children;\r\n            }\r\n        }\r\n    }\r\n    if (props) {\r\n        normalizeProps(vNode, props, children);\r\n        if (!inferno_shared_1.isInvalid(props.children)) {\r\n            props.children = normalizeChildren(props.children);\r\n        }\r\n    }\r\n    if (!inferno_shared_1.isInvalid(children)) {\r\n        vNode.children = normalizeChildren(children);\r\n    }\r\n    if (process.env.NODE_ENV !== 'production') {\r\n        // This code will be stripped out from production CODE\r\n        // It helps users to track errors in their applications.\r\n        var verifyKeys = function (vNodes) {\r\n            var keyValues = vNodes.map(function (vnode) {\r\n                return vnode.key;\r\n            });\r\n            keyValues.some(function (item, idx) {\r\n                var hasDuplicate = keyValues.indexOf(item) !== idx;\r\n                if (hasDuplicate) {\r\n                    inferno_shared_1.warning('Inferno normalisation(...): Encountered two children with same key, all keys must be unique within its siblings. Duplicated key is:' + item);\r\n                }\r\n                return hasDuplicate;\r\n            });\r\n        };\r\n        if (vNode.children && Array.isArray(vNode.children)) {\r\n            verifyKeys(vNode.children);\r\n        }\r\n    }\r\n}\r\nexports.normalize = normalize;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.options = {\r\n    afterMount: null,\r\n    afterRender: null,\r\n    afterUpdate: null,\r\n    beforeRender: null,\r\n    beforeUnmount: null,\r\n    createVNode: null,\r\n    findDOMNodeEnabled: false,\r\n    recyclingEnabled: false,\r\n    roots: []\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar inferno_shared_1 = require(\"inferno-shared\");\r\nexports.NO_OP = inferno_shared_1.NO_OP;\r\nvar normalization_1 = require(\"./core/normalization\");\r\nexports.getFlagsForElementVnode = normalization_1.getFlagsForElementVnode;\r\nexports.internal_normalize = normalization_1.normalize;\r\nvar options_1 = require(\"./core/options\");\r\nexports.options = options_1.options;\r\nvar VNodes_1 = require(\"./core/VNodes\");\r\nexports.cloneVNode = VNodes_1.cloneVNode;\r\nexports.createVNode = VNodes_1.createVNode;\r\nvar constants_1 = require(\"./DOM/constants\");\r\nexports.internal_isUnitlessNumber = constants_1.isUnitlessNumber;\r\nvar linkEvent_1 = require(\"./DOM/events/linkEvent\");\r\nexports.linkEvent = linkEvent_1.linkEvent;\r\nvar patching_1 = require(\"./DOM/patching\");\r\nexports.internal_patch = patching_1.patch;\r\nvar rendering_1 = require(\"./DOM/rendering\");\r\nexports.internal_DOMNodeMap = rendering_1.componentToDOMNodeMap;\r\nexports.createRenderer = rendering_1.createRenderer;\r\nexports.findDOMNode = rendering_1.findDOMNode;\r\nexports.render = rendering_1.render;\r\nvar utils_1 = require(\"./DOM/utils\");\r\nexports.EMPTY_OBJ = utils_1.EMPTY_OBJ;\r\nif (process.env.NODE_ENV !== 'production') {\r\n    /* tslint:disable-next-line:no-empty */\r\n    var testFunc = function testFn() { };\r\n    if ((testFunc.name || testFunc.toString()).indexOf('testFn') === -1) {\r\n        inferno_shared_1.warning(('It looks like you\\'re using a minified copy of the development build ' +\r\n            'of Inferno. When deploying Inferno apps to production, make sure to use ' +\r\n            'the production build which skips development warnings and is faster. ' +\r\n            'See http://infernojs.org for more details.'));\r\n    }\r\n}\r\nvar version = '3.2.2';\r\nexports.version = version;\r\n// we duplicate it so it plays nicely with different module loading systems\r\nexports.default = {\r\n    getFlagsForElementVnode: normalization_1.getFlagsForElementVnode,\r\n    linkEvent: linkEvent_1.linkEvent,\r\n    // core shapes\r\n    createVNode: VNodes_1.createVNode,\r\n    // cloning\r\n    cloneVNode: VNodes_1.cloneVNode,\r\n    // used to shared common items between Inferno libs\r\n    NO_OP: inferno_shared_1.NO_OP,\r\n    EMPTY_OBJ: utils_1.EMPTY_OBJ,\r\n    // DOM\r\n    render: rendering_1.render,\r\n    findDOMNode: rendering_1.findDOMNode,\r\n    createRenderer: rendering_1.createRenderer,\r\n    options: options_1.options,\r\n    version: version,\r\n    internal_patch: patching_1.patch,\r\n    internal_DOMNodeMap: rendering_1.componentToDOMNodeMap,\r\n    internal_isUnitlessNumber: constants_1.isUnitlessNumber,\r\n    internal_normalize: normalization_1.normalize\r\n};\r\n","module.exports = require('./dist').default;\nmodule.exports.default = module.exports;\n\n","var inserted = {};\n\nmodule.exports = function (css, options) {\n    if (inserted[css]) return;\n    inserted[css] = true;\n    \n    var elem = document.createElement('style');\n    elem.setAttribute('type', 'text/css');\n\n    if ('textContent' in elem) {\n      elem.textContent = css;\n    } else {\n      elem.styleSheet.cssText = css;\n    }\n    \n    var head = document.getElementsByTagName('head')[0];\n    if (options && options.prepend) {\n        head.insertBefore(elem, head.childNodes[0]);\n    } else {\n        head.appendChild(elem);\n    }\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import Inferno from 'inferno';\nimport createElement from 'inferno-create-element';\nimport css from 'csjs-inject';\n\nexport default function getInfoLi() {\n\n  const scopedCss = css`\n    /* CONTROL RAW = BUTTON + LINK */\n\n    .labelContainer {\n      flex-grow: 9;\n      padding-left: 0.3em;\n      /* Vertical align to middle. */\n      /*align-self: flex-end;*/\n      line-height: 100%;\n    }\n\n    /* INFO SIGNS */\n\n    input:disabled + .labelContainer label {\n      color: var(--default-grey);\n      pointer-events: none;\n    }\n\n    .infoRow {\n      position: relative;\n    }\n    .infoRow a {\n      text-decoration: underline;\n    }\n    .infoRow > input[type=\"checkbox\"] {\n      position: relative;\n      top: -0.08em;\n    }\n    .rightBottomIcon {\n      margin-left: 0.1em;\n      vertical-align: bottom;\n    }\n    .infoUrl, .infoUrl:hover {\n      text-decoration: none;\n    }\n\n    /* Source: https://jsfiddle.net/greypants/zgCb7/ */\n    .desc {\n      text-align: right;\n      color: var(--ribbon-color);\n      cursor: help;\n      padding-left: 0.3em;\n    }\n    .tooltip {\n      display: none;\n      position: absolute;\n      white-space: initial;\n      word-break: initial;\n      /* top: 100%; Commented to get rid of bug when tooltip is placed below InfoLi children fields. */\n      left: 0;\n      right: 1em;\n      z-index: 1;\n      background-color: var(--ribbon-color);\n      padding: 1em;\n      color: white;\n      text-align: initial;\n    }\n    .desc:hover .tooltip {\n      display: block;\n    }\n    .tooltip a,\n    .tooltip em {\n      color: white;\n    }\n    .desc .tooltip:after {\n      border-left: solid transparent 0.5em;\n      border-bottom: solid var(--ribbon-color) 0.5em;\n      position: absolute;\n      top: -0.5em;\n      content: \"\";\n      width: 0;\n      right: 0;\n      height: 0;\n    }\n    /* This bridges the gap so you can mouse into the tooltip without it disappearing. */\n    .desc .tooltip:before {\n      position: absolute;\n      top: -1em;\n      content: \"\";\n      display: block;\n      height: 1.2em;\n      left: 75%;\n      width: calc(25% + 0.6em);\n    }\n\n    /* CHILDREN */\n\n    .children {\n      flex-grow: 9999;\n    }\n\n  `;\n\n  const camelToDash = (name) => name.replace(/([A-Z])/g, (_, p1) => '-' + p1.toLowerCase());\n  // const dashToCamel = (name) => name.replace(/-(.)/g, (_, p1) => p1.toUpperCase());\n\n  const InfoIcon = function InfoIcon(props) {\n\n      return (\n        <svg class=\"icon\" style=\"position: relative; top: 0.08em\">$\n          <use xlink:href=\"#iconInfo\"></use>$\n        </svg>\n      );\n\n  };\n\n  return function InfoLi(originalProps) {\n\n    const props = Object.assign({}, {\n      idPrefix: '',\n      ifDashify: false,\n    }, originalProps);\n\n    const iddy = props.idPrefix + ( props.ifDashify ? camelToDash(props.conf.key) : props.conf.key );\n\n    const inputProps = {\n      id: iddy,\n      name: props.name,\n      type: props.type,\n      checked: props.checked,\n      onClick: props.onClick,\n      onChange: props.onChange,\n      class: props.class,\n      disabled: props.ifInputsDisabled,\n    };\n    delete inputProps.children;\n\n    return (\n      <li class={scopedCss.infoRow + ' horFlex'} style={ props.children && 'flex-wrap: wrap'}>\n        {createElement('input', inputProps)}\n        <div class={scopedCss.labelContainer}>\n          <label for={iddy} dangerouslySetInnerHTML={{__html: props.conf.label}}></label>\n          {props.nodeAfterLabel}\n        </div>\n        {props.conf.desc\n          ? (\n            <div class={scopedCss.desc}>\n              <InfoIcon />\n              <div class={scopedCss.tooltip} dangerouslySetInnerHTML={{__html: props.conf.desc}}/>\n            </div>)\n          : (props.conf.url\n              ? (<a href={props.conf.url} class={[scopedCss.rightBottomIcon, scopedCss.infoUrl].join(' ')} title=\"Открыть документацию\"><InfoIcon /></a>)\n              : (<span>&nbsp;</span>) // Affects vertical align of flexbox items.\n            )\n        }\n        {/* props.checked && props.children */}\n        {props.checked && props.children && (<div class={scopedCss.children}>{props.children}</div>)}\n      </li>\n    );\n\n  };\n\n};\n","import Inferno, {linkEvent} from 'inferno';\nimport Component from 'inferno-component';\nimport createElement from 'inferno-create-element';\nimport css from 'csjs-inject';\n\nimport getTabPanel from './TabPanel';\nimport getPacChooser from './PacChooser';\nimport getExceptions from './Exceptions';\nimport getModList from './ModList';\nimport getProxyEditor from './ProxyEditor';\nimport getApplyMods from './ApplyMods';\nimport getNotifications from './Notifications';\n\nexport default function getMain(theState) {\n\n  const scopedCss = css`\n\n    input#ifProxyHttpsUrlsOnly:checked + div {\n      color: red;\n    }\n\n  `;\n\n  const TabPanel = getTabPanel(theState);\n\n  const PacChooser = getPacChooser(theState);\n  const Exceptions = getExceptions(theState);\n  const ModList = getModList(theState);\n  const ProxyEditor = getProxyEditor(theState);\n  const ApplyMods = getApplyMods(theState);\n  const Notifications = getNotifications(theState);\n\n  const checksName = 'pacMods';\n  let selection = [0, 0]; // TODO: dirty hack but seems ok.\n\n  return class Main extends Component {\n\n    constructor(props) {\n\n      super(props);\n      this.state = {\n        ifModsChangesAreStashed: false,\n        ifModsChangesAreValid: true,\n        catToOrderedMods: {\n          'general': props.apis.pacKitchen.getOrderedConfigs('general'),\n          'ownProxies': props.apis.pacKitchen.getOrderedConfigs('ownProxies'),\n        },\n      };\n      this.handleModChange = this.handleModChange.bind(this);\n\n    }\n\n    getAllMods() {\n\n      return [].concat(...Object.keys(this.state.catToOrderedMods).map((cat) =>\n        this.state.catToOrderedMods[cat]\n      ))\n\n    }\n\n    handleModApply(that) {\n\n      if (!that.state.ifModsChangesAreValid) {\n        // Error message must be already set by a config validator.\n        return;\n      }\n      const modsMutated = that.props.apis.pacKitchen.getPacMods();\n      const newMods = that.getAllMods().reduce((_, conf) => {\n\n        modsMutated[conf.key] = conf.value;\n        return modsMutated;\n\n      }, modsMutated/* Needed for index 0*/);\n      that.props.funs.conduct(\n        'Применяем настройки...',\n        (cb) => that.props.apis.pacKitchen.keepCookedNowAsync(newMods, cb),\n        'Настройки применены.',\n        () => that.setState({\n          ifModsChangesAreStashed: false,\n          ifModsChangesAreValid: true,\n        })\n      );\n\n    }\n\n    handleModChange({ifValid, targetConf, targetIndex, newValue}) {\n\n      if (ifValid === undefined) {\n        // User input some data, but not validated yet.\n        this.setState({\n          // Make apply button clickable when user only starts writing.\n          ifModsChangesAreStashed: true,\n        });\n        return;\n      }\n      if (ifValid === false) {\n        this.setState({\n          ifModsChangesAreValid: false,\n          ifModsChangesAreStashed: true,\n        })\n        return;\n      }\n      const oldCats = this.state.catToOrderedMods;\n      const newCats = Object.keys(this.state.catToOrderedMods).reduce((acc, cat) => {\n\n        if (cat !== targetConf.category) {\n          acc[cat] = oldCats[cat];\n        } else {\n          acc[cat] = oldCats[cat].map((conf, index) => {\n\n            if (targetIndex !== index) {\n              return conf;\n            }\n            return Object.assign({}, conf, {\n              value: newValue\n            });\n\n          });\n        }\n        return acc;\n\n      }, {});\n\n      this.setState({\n        catToOrderedMods: newCats,\n        ifModsChangesAreStashed: true,\n        ifModsChangesAreValid: true,\n      });\n\n    }\n\n    render(props) {\n\n      const applyModsEl = createElement(ApplyMods, Object.assign({}, props,\n        {\n          ifInputsDisabled: !this.state.ifModsChangesAreStashed || props.ifInputsDisabled,\n          onClick: linkEvent(this, this.handleModApply),\n        }\n      ));\n\n      const modsHandlers = {\n        onConfChanged: this.handleModChange,\n      };\n\n      return createElement(TabPanel, Object.assign({}, props, {\n        tabs: [\n          {\n            label: chrome.i18n.getMessage('PAC_script'),\n            content: createElement(PacChooser, props),\n            key: 'pacScript',\n          },\n          {\n            label: chrome.i18n.getMessage('Exceptions'),\n            content: createElement(Exceptions, props),\n            key: 'exceptions',\n          },\n          {\n            label: chrome.i18n.getMessage('Own_proxies'),\n            content: createElement(\n              ModList,\n              Object.assign({}, props, {\n                orderedConfigs: this.state.catToOrderedMods['ownProxies'],\n                childrenOfMod: {\n                  customProxyStringRaw: ProxyEditor,\n                  replaceDirectWith: ({ conf, onNewValue, ifInputsDisabled }) =>\n                    (<input\n                      style=\"width: 100%; margin: 0.5em 0\"\n                      disabled={ifInputsDisabled}\n                      value={conf.value || ''}\n                      onInput={(event) => {\n\n                        const t = event.target;\n                        selection = [t.selectionStart, t.selectionEnd];\n                        onNewValue(true, t.value);\n                      }}\n                      ref={(input) => {\n\n                        if (input) {\n                          input.focus();\n                          input.selectionStart = selection[0];\n                          input.selectionEnd = selection[1];\n                        }\n                      }}\n                    />),\n                },\n                name: checksName,\n              }, modsHandlers)\n            ),\n            key: 'ownProxies',\n          },\n          {\n            label: chrome.i18n.getMessage('Modifiers'),\n            content: createElement(\n              ModList,\n              Object.assign({}, props, {\n                orderedConfigs: this.state.catToOrderedMods['general'],\n                name: checksName,\n              }, modsHandlers)\n            ),\n            key: 'mods',\n          },\n          {\n            content: applyModsEl,\n            key: 'applyMods',\n          },\n          {\n            label: chrome.i18n.getMessage('Notifications'),\n            content: createElement(Notifications, props),\n            key: 'notifications',\n          },\n        ],\n        alwaysShownWith: {\n          'applyMods': ['ownProxies', 'mods'],\n        },\n      }));\n\n    }\n\n  }\n\n};\n","import Inferno, { linkEvent } from 'inferno';\nimport Component from 'inferno-component';\nimport css from 'csjs-inject';\n\nexport default function getTabPannel({ flags, baseCss }) {\n\n  const scopedCss = css`\n\n    /*.tabContainer {\n      padding: 0;\n    }*/\n    .tabContainer li label {\n      display: inline-block; /* Needed for ::first-letter below. */\n    }\n    .tabContainer li label::first-letter {\n      text-transform: uppercase;\n    }\n    :root.ifInsideOptionsPage .tabContainer {\n      padding: 0.3em 0 0.4em 0;\n    }\n    :root.ifInsideOptionsPage nav.mainNav > section:not(:last-child):not([data-key=ownProxies]):not([data-key=mods]) {\n      border-bottom: 1px solid var(--cr-options-headline);\n    }\n\n    :root.ifInsideOptionsPage .navLabels {\n      display: none;\n    }\n\n    /* HIDE starts. */\n\n      :root:not(.ifInsideOptionsPage) .mainNav input:not(:checked) + section\n      {\n        /* Hide, but preclude width resizes. */\n        height: 0px !important;\n        line-height: 0px !important;\n        padding-top: 0 !important;\n        padding-bottom: 0 !important;\n        margin-top: 0 !important;\n        margin-bottom: 0 !important;\n        border: none !important;\n        display: block;\n        visibility: hidden;\n        transform: scaleY(0) !important;\n      }\n\n      :root:not(.ifInsideOptionsPage) .mainNav input:not(:checked) + section *\n      {\n        margin-top: 0 !important;\n        margin-bottom: 0 !important;\n      }\n\n    /* HIDE ends. */\n\n    .navLabels {\n      background-color: var(--cr-grey-panel);\n      text-align: center;\n      min-width: 25em;\n    }\n    .navLabels li label {\n      display: inline-block;\n\n      border: 1px solid var(--ribbon-color);\n      border-radius: 0.2em;\n\n      background-color: white;\n      color: var(--ribbon-color);\n\n      padding: 0.2em 0.3em 0.3em 0.2em;\n      line-height: 0.8em;\n      margin: 0.1em 0;\n    }\n    .navLabels li label:hover {\n      background-color: var(--blue-bg);\n      color: white;\n    }\n\n    /* LABELS starts. */\n\n      input[name=\"selectedTabLabel\"]:checked + label:not(:hover)\n      {\n        background-color: var(--blue-bg);\n        color: white;\n      }\n      /* ★★★★★ */\n      .navLabels label:before {\n        content: '★';\n        padding-right: 0.1em;\n        visibility: hidden;\n      }\n      .navLabels li label:hover:before,\n      input[name=\"selectedTabLabel\"]:checked + label:before\n      {\n        visibility: initial;\n      }\n      .navLabels li {\n        margin: 0 0.125em; /* 1.5px */\n      }\n\n    /* LABELS ends. */\n\n    .mainNav {\n      padding-top: 0.6em;\n      padding-bottom: 1em;\n    }\n\n  `;\n\n  if (flags.ifInsideOptionsPage) {\n    document.documentElement.classList.add(scopedCss.ifInsideOptionsPage);\n  }\n\n  return class TabPannel extends Component {\n\n    constructor(props) {\n\n      super(props);\n      const fromHash = props.hashParams.get('tab');\n      this.state = {\n        chosenTabKeyRaw: fromHash,\n      };\n\n    }\n\n    render(props) {\n\n      const indexedTabs = props.tabs.filter((tab) => tab.label);\n\n      let [chosenTabIndex] = indexedTabs\n        .map((tab, index) => tab.key === this.state.chosenTabKeyRaw ? index : false)\n        .filter((index) => index !== false);\n      if (!(chosenTabIndex >= 0)) {\n        chosenTabIndex = 0;\n      }\n\n      const chosenTabKey = indexedTabs[chosenTabIndex].key;\n      if (chosenTabKey !== props.hashParams.get('tab')) {\n        props.hashParams.set('tab', chosenTabKey);\n        window.location.hash = props.hashParams.toString();\n      }\n\n      return (\n        <div>\n          <nav class={scopedCss.navLabels}>\n            <ul class='horizontalList'>\n              {\n                indexedTabs.map((tab, index) =>\n                  (<li>\n                    <input type=\"radio\" name=\"selectedTabLabel\" id={'radioLabel' + index} checked={chosenTabIndex === index} class=\"off\"/>\n                    <label onClick={() => this.setState({chosenTabKeyRaw: tab.key})} for={'radioLabel' + index} class={scopedCss.navLabel}>{tab.label}</label>\n                  </li>)\n                )\n              }\n            </ul>\n            <hr/>\n          </nav>\n\n          <nav class={'horPadded ' + scopedCss.mainNav}>\n            {\n              [].concat(...props.tabs.map((tab, index) => [\n                (<input type=\"checkbox\" name=\"selectedTab\" id={'radioTab' + index} checked={\n\n                  chosenTabKey === tab.key || (props.alwaysShownWith[tab.key] || []).includes(chosenTabKey)\n\n                } class=\"off\"/>),\n                (<section id={'tab' + index} class={scopedCss.tabContainer} data-key={tab.key}>{tab.content}</section>),\n              ]))\n            }\n          </nav>\n          <hr/>\n        </div>);\n\n    }\n\n  };\n\n};\n","import Inferno from 'inferno';\nimport Component from 'inferno-component';\nimport createElement from 'inferno-create-element';\nimport css from 'csjs-inject';\n\nimport getLastUpdateDate from './LastUpdateDate';\nimport getInfoLi from './InfoLi';\n\nexport default function getPacChooser(theState) {\n\n  const scopedCss = css`\n    /* OTHER VERSION */\n\n    .otherVersion {\n      font-size: 1.7em;\n      color: var(--ribbon-color);\n      margin-left: 0.1em;\n    }\n    .otherVersion:hover {\n      text-decoration: none;\n    }\n    .fullLineHeight,\n    .fullLineHeight * {\n      line-height: 100%;\n    }\n\n    /* TAB_1: PAC PROVIDER */\n\n    .updateButton {\n      visibility: hidden;\n      margin-left: 0.5em;\n    }\n    input:checked + div .updateButton {\n      visibility: inherit;\n    }\n    label[for=\"onlyOwnSites\"] + .updateButton,\n    label[for=\"none\"] + .updateButton {\n      display: none;\n    }\n    #none:checked + div label[for=\"none\"] {\n      color: red;\n    }\n\n    #updateMessage {\n      white-space: nowrap;\n      margin-top: 0.5em;\n    }\n\n  `;\n\n  const LastUpdateDate = getLastUpdateDate(theState);\n  const InfoLi = getInfoLi(theState);\n\n  return class PacChooser extends Component {\n\n    constructor(props) {\n\n      super(props);\n      this.state = {\n        chosenPacName: 'none',\n      };\n\n      this.updatePac = function updatePac(onSuccess) {\n        props.funs.conduct(\n          chrome.i18n.getMessage('UpdatingDDD'),\n          (cb) => theState.apis.antiCensorRu.syncWithPacProviderAsync(cb),\n          chrome.i18n.getMessage('UpdatedD'),\n          onSuccess\n        );\n      };\n      this.radioClickHandler = this.radioClickHandler.bind(this);\n      this.updateClickHandler = this.updateClickHandler.bind(this);\n\n    }\n\n    getCurrentProviderId() {\n\n      return theState.apis.antiCensorRu.getCurrentPacProviderKey() || 'none';\n\n    }\n\n    updateClickHandler(event) {\n\n      event.preventDefault();\n      this.updatePac();\n\n    }\n\n    radioClickHandler(event) {\n\n      const checkChosenProvider = () =>\n        this.setState({ chosenPacName: this.getCurrentProviderId() });\n\n      const pacKey = event.target.id;\n      if (\n        pacKey === (\n          theState.apis.antiCensorRu.getCurrentPacProviderKey() || 'none'\n        )\n      ) {\n        return false;\n      }\n      if (pacKey === 'none') {\n        this.props.funs.conduct(\n          chrome.i18n.getMessage('DisablingDDD'),\n          (cb) => theState.apis.antiCensorRu.clearPacAsync(cb),\n          chrome.i18n.getMessage('DisabledD'),\n          () => this.setState({ chosenPacName: 'none' }),\n          checkChosenProvider\n        );\n      } else {\n        this.props.funs.conduct(\n          chrome.i18n.getMessage('InstallingDDD'),\n          (cb) => theState.apis.antiCensorRu.installPacAsync(pacKey, cb),\n          chrome.i18n.getMessage('PacScriptWasInstalledD'),\n          checkChosenProvider\n        );\n      }\n      return false;\n\n    }\n\n    render(props) {\n\n      const iddyToCheck = this.getCurrentProviderId();\n      return (\n        <div>\n          {props.flags.ifInsideOptionsPage && (<header>{chrome.i18n.getMessage('PAC_script')}:</header>)}\n          <ul>\n            {\n              [...theState.apis.antiCensorRu.getSortedEntriesForProviders(), {key: 'none', label: chrome.i18n.getMessage('Disable')}].map((provConf) =>\n                (<InfoLi\n                  onClick={this.radioClickHandler}\n                  conf={provConf}\n                  type=\"radio\"\n                  name=\"pacProvider\"\n                  checked={iddyToCheck === provConf.key}\n                  ifInputsDisabled={props.ifInputsDisabled}\n                  nodeAfterLabel={<a href=\"\" class={scopedCss.updateButton} onClick={this.updateClickHandler}>[{chrome.i18n.getMessage('update')}]</a>}\n                />)\n              )\n            }\n          </ul>\n          <div id=\"updateMessage\" class=\"horFlex\" style=\"align-items: center\">\n            { createElement(LastUpdateDate, props) }\n            <div class={scopedCss.fullLineHeight}>\n              {\n                props.flags.ifMini\n                  ? (<a class={scopedCss.otherVersion + ' emoji'} href=\"https://github.com/anticensority/runet-censorship-bypass/wiki/Различные-версии-расширения\"\n                      title={chrome.i18n.getMessage(\"FullVersion\")}>🏋</a>)\n                  : (<a class={scopedCss.otherVersion + ' emoji'} href=\"https://github.com/anticensority/runet-censorship-bypass/wiki/Различные-версии-расширения\"\n                      title={chrome.i18n.getMessage(\"VersionForSlowMachines\")}>🐌</a>)\n              }\n            </div>\n          </div>\n        </div>\n      );\n\n    }\n\n    componentDidMount() {\n\n      if (theState.apis.antiCensorRu.ifFirstInstall) {\n        this.updatePac();\n      }\n\n    }\n\n  };\n\n};\n","import Inferno from 'inferno';\nimport Component from 'inferno-component';\n\nexport default function getLastUpdateDate(theState) {\n\n  return class LastUpdateDate extends Component {\n\n    componentWillMount() {\n\n      this.onStorageChangedHandler = (changes) => {\n        const ac = changes.antiCensorRu;\n        return ac && ac.newValue && ac.newValue.lastPacUpdateStamp && this.forceUpdate();\n      };\n\n      chrome.storage.onChanged.addListener( this.onStorageChangedHandler );\n\n    }\n\n    componentWillUnmount() {\n\n      chrome.storage.onChanged.removeListener( this.onStorageChangedHandler );\n\n    }\n\n    getDate(antiCensorRu) {\n\n      let dateForUser = chrome.i18n.getMessage('never');\n      if( antiCensorRu.lastPacUpdateStamp ) {\n        let diff = Date.now() - antiCensorRu.lastPacUpdateStamp;\n        let units = chrome.i18n.getMessage('ms');\n        const gauges = [\n          [1000, chrome.i18n.getMessage('s')],\n          [60,   chrome.i18n.getMessage('min')],\n          [60,   chrome.i18n.getMessage('h')],\n          [24,   chrome.i18n.getMessage('d')],\n          [7,    chrome.i18n.getMessage('w')],\n          [4,    chrome.i18n.getMessage('m')],\n        ];\n        for(const g of gauges) {\n          const diffy = Math.floor(diff / g[0]);\n          if (!diffy)\n            break;\n          diff = diffy;\n          units = g[1];\n        }\n        dateForUser = diff + units + ' ' + chrome.i18n.getMessage('ago');\n      }\n      return {\n        text: `${dateForUser} / ${antiCensorRu.pacUpdatePeriodInMinutes/60}${chrome.i18n.getMessage('h')}`,\n        title: new Date(antiCensorRu.lastPacUpdateStamp).toLocaleString('ru-RU'),\n      };\n\n    }\n\n    render(props) {\n\n      const date = this.getDate(props.apis.antiCensorRu);\n      return (<div>{chrome.i18n.getMessage('Updated')}: <span class=\"updateDate\" title={date.title}>{ date.text }</span></div>);\n\n    }\n\n  };\n\n};\n","import Inferno from 'inferno';\nimport createElement from 'inferno-create-element';\nimport css from 'csjs-inject';\n\nimport getInfoLi from './InfoLi';\nimport getExcEditor from './ExcEditor';\n\nexport default function getExceptions(theState) {\n\n  const scopedCss = css`\n\n    .excMods {\n      padding-top: 1em;\n    }\n    .excMods input#mods-ifMindExceptions:not(:checked) + * > label {\n      color: red;\n    }\n\n  `;\n\n  const InfoLi = getInfoLi(theState);\n  const ExcEditor = getExcEditor(theState);\n\n  return function Exceptions(props) {\n\n      const applyMods = (newMods) => {\n\n        props.apis.pacKitchen.keepCookedNowAsync(newMods, (err, ...warns) =>\n          err\n            ? props.funs.showErrors(err, ...warns)\n            : props.funs.setStatusTo('Применено.')\n        );\n\n      };\n\n      return props.flags.ifInsideOptionsPage\n        ? (\n        <div class=\"nowrap\">\n          Редактор исключений доступен только для <a href=\"chrome://newtab\">вкладок</a>.\n        </div>)\n        :\n        (<div>\n          {createElement(ExcEditor, props)}\n          <ul class={scopedCss.excMods}>\n            {\n              props.apis.pacKitchen.getOrderedConfigs('exceptions').map((conf) => {\n\n                return <InfoLi\n                  type=\"checkbox\"\n                  conf={conf}\n                  idPrefix=\"mods-\"\n                  checked={conf.value}\n                  disabled={props.ifInputsDisabled}\n                  onClick={(evt) => {\n\n                    const oldMods = props.apis.pacKitchen.getPacMods();\n                    oldMods[conf.key] = !conf.value;\n                    applyMods(oldMods);\n\n                  }}\n                />;\n\n              })\n            }\n            {\n              !props.flags.ifMini && (\n                <InfoLi\n                  type=\"checkbox\"\n                  conf={{\n                    label: '<span>Собирать <a data-in-bg=\"false\" href=\"../errors-to-exc/index.html\">последние ошибки</a> сайтов</span>',\n                    key: 'lookupLastErrors',\n                    desc: 'Собирать последние ошибки в запросах, чтобы вручную добавлять избранные из них в исключения.',\n                  }}\n                  checked={props.bgWindow.apis.lastNetErrors.ifCollecting}\n                  onChange={(event) => {\n\n                    props.bgWindow.apis.lastNetErrors.ifCollecting = event.target.checked;\n                    props.funs.setStatusTo('Сделано.');\n\n                  }}\n                />\n              )\n            }\n          </ul>\n        </div>\n      );\n\n  };\n\n};\n","import Inferno from 'inferno';\nimport Component from 'inferno-component';\nimport css from 'csjs-inject';\n\nexport default function getExcEditor(theState) {\n\n  const scopedCss = css`\n\n    #exc-address-container {\n      display: flex;\n      align-items: center;\n      width: 100%;\n    }\n    #exc-address-container > a {\n      border-bottom: 1px solid transparent;\n      margin-left: 0.2em;\n      align-self: flex-end;\n    }\n    #exc-address {\n      width: 100%;\n      display: flex;\n      align-items: baseline;\n      --exc-hieght: 1.6em;\n      font-size: 1em;\n      border-bottom: 1px solid var(--ribbon-color) !important;\n    }\n    input#exc-editor {\n      border: none;\n      width: 100%;\n      background: inherit;\n      /* The two below align '.' (dot) vertically. */\n      max-height: var(--exc-hieght) !important;\n      min-height: var(--exc-hieght) !important;\n    }\n    #exc-radio {\n      display: flex;\n      justify-content: space-around;\n      margin-top: 0.5em;\n    }\n    [name=\"if-proxy-this-site\"]:checked + label {\n      font-weight: bold;\n    }\n    #exc-address.ifYes {\n      background-color: lightgreen;\n    }\n    #exc-address.ifNo {\n      background-color: pink;\n    }\n\n  `;\n\n  const labelIfProxied = '✔';\n  const labelIfNotProxied = '✘';\n  const labelIfAuto = '↻';\n\n  /* Not used.\n  const sortOptions = (options) => {\n\n    const aWins = 1;\n    return options.sort(([aHost, aState], [bHost, bState]) => aState === undefined ? aWins : aHost.localeCompare(bHost))\n\n  };\n  */\n\n  return class ExcEditor extends Component {\n\n    modsToOpts(pacMods) {\n\n      return Object.keys(pacMods.exceptions || {}).sort().map(\n        (excHost) => [excHost, pacMods.exceptions[excHost]]\n      );\n\n    }\n\n    constructor(props) {\n\n      super(props);\n      const trimmedInputValueOrSpace =\n        props.currentTab &&\n        props.currentTab.url &&\n        !props.currentTab.url.startsWith('chrome')\n          ? '*.' + (new URL(props.currentTab.url).hostname.replace(/^www\\./g, ''))\n          : '';\n\n      const pacMods = props.apis.pacKitchen.getPacMods();\n      this.state = {\n        trimmedInputValueOrSpace,\n        sortedListOfOptions: this.modsToOpts(pacMods),\n        hostToIfHidden: {},\n      };\n      this.handleRadioClick = this.handleRadioClick.bind(this);\n      this.handleInputOrClick = this.handleInputOrClick.bind(this);\n\n    }\n\n    hideAllOptions() {\n\n      this.setState({\n        hostToIfHidden: this.state.sortedListOfOptions.reduce(\n          (hostToIfHidden, [excHost]) => {\n\n            hostToIfHidden[excHost] = true;\n            return hostToIfHidden;\n\n          },\n        {}),\n      });\n\n    }\n\n    isHostValid(host) {\n\n      const ValidHostnameRegex = /^(?:\\*\\.)?(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9])$/;\n      if(!ValidHostnameRegex.test(host)) {\n        this.props.funs.showErrors(new TypeError('Должно быть только доменное имя, без протокола, порта и пути. Попробуйте ещё раз.'));\n        return false;\n      }\n      return true;\n\n    }\n\n    handleRadioClick(event) {\n\n      const host = this.state.trimmedInputValueOrSpace;\n      (() => { // `return` === `preventDefault`.\n\n        if(!this.isHostValid(host)) {\n          return false;\n        }\n\n        const pacMods = this.props.apis.pacKitchen.getPacMods();\n        pacMods.exceptions = pacMods.exceptions || {};\n\n        let ifYesClicked = false;\n        switch(event.target.id) {\n          case 'this-auto':\n            delete pacMods.exceptions[host];\n            break;\n\n          case 'this-yes':\n            ifYesClicked = true;\n          case 'this-no':\n            if (ifYesClicked && !pacMods.filteredCustomsString) {\n              this.props.funs.showErrors( new TypeError(\n                chrome.i18n.getMessage('noOwnProxiesError'),\n              ));\n              return false;\n            }\n\n            pacMods.exceptions[host] = ifYesClicked;\n            break;\n\n          default:\n            throw new Error('Only yes/no/auto!');\n        }\n\n        this.props.funs.conduct(\n          'Применяем исключения...',\n          (cb) => this.props.apis.pacKitchen.keepCookedNowAsync(pacMods, cb),\n          'Исключения применены. Не забывайте о кэше!',\n          () => this.setState({sortedListOfOptions: this.modsToOpts(pacMods)})\n        );\n\n      })();\n      // Don't check before operation is finished.\n      event.preventDefault();\n\n    }\n\n    handleKeyDown(event) {\n\n      if(event.key === 'Enter') {\n        this.hideAllOptions();\n      }\n      return true;\n\n    }\n\n    handleInputOrClick(event) {\n\n      // Episode 1.\n\n      const ifClick = event && event.type === 'click';\n\n      // If triangle button on right of datalist input clicked.\n      let ifTriangleClicked = false;\n      {\n        const maxIndentFromRightInPx = 15;\n        ifTriangleClicked = ifClick\n          && !this.rawInput.selectionStart && !this.rawInput.selectionEnd\n          && event.x > this.rawInput.getBoundingClientRect().right - maxIndentFromRightInPx;\n      }\n\n      const setInputValue = (newValue) => {\n\n        if (ifClick && !ifTriangleClicked) {\n          // Don't jerk cursor on simple clicks.\n          return;\n        }\n        // See bug in my comment to http://stackoverflow.com/a/32394157/521957\n        // First click on empty input may be still ignored.\n        const newPos = this.rawInput.selectionStart + newValue.length - this.rawInput.value.length;\n        this.rawInput.value = newValue;\n        window.setTimeout(() => this.rawInput.setSelectionRange(newPos, newPos), 0);\n\n      };\n\n      const trimmedInput = event.target.value.trim();\n      const ifInputEmpty = !trimmedInput;\n      const ifInit = !event;\n      const currentHost = ifTriangleClicked ? '' : (trimmedInput || (ifInit ? '' : ' '));\n      setInputValue(currentHost);\n      this.setState({\n        trimmedInputValueOrSpace: currentHost,\n      });\n\n      // Episode 2.\n\n      let exactHost, exactState; // Undefined.\n      let editedHost = false;\n      const hidden = this.state.sortedListOfOptions.reduce(\n        (hiddenAcc, [excHost, excState]) => {\n\n          if (excState === undefined) {\n            editedHost = excHost;\n          } else if (excHost === trimmedInput) {\n            // Exact match found for input.\n            [exactHost, exactState] = [excHost, excState];\n          }\n          hiddenAcc[excHost] = false;\n          return hiddenAcc;\n\n        },\n        {}\n      );\n      let options = this.state.sortedListOfOptions;\n      const removeEditedHost = () => {\n\n        options = options.filter(([excHost, excState]) => editedHost !== excHost);\n        delete hidden[editedHost];\n\n      };\n\n\n      (() => {// `return` === setState\n\n        if (ifTriangleClicked || ifInputEmpty) {\n          // Show all opts.\n          if (editedHost) {\n            // Example of editedOpt.value: 'abcde ' <- Mind the space (see unhideOptAndAddSpace)!\n            const ifBackspacedOneChar = ifInputEmpty && editedHost.length < 3;\n            if (ifBackspacedOneChar) {\n              removeEditedHost();\n            }\n          }\n          return true;\n        }\n\n        if (editedHost) {\n          const ifUpdateNeeded = editedHost !== trimmedInput;\n          if(!ifUpdateNeeded) {\n            hidden[editedHost] = true;\n            return true;\n          }\n          // Not exact! Update!\n          removeEditedHost();\n        }\n\n        if (!exactHost) {\n          editedHost = trimmedInput;\n          options.unshift([editedHost, undefined]);\n          if (!ifClick) {\n            // New value was typed -- don't show tooltip.\n            hidden[editedHost] = true;\n          }\n        }\n\n        // Exact found!\n        // Do nothing.\n\n      })();\n\n      this.setState({\n        hostToIfHidden: hidden,\n        sortedListOfOptions: options,\n      });\n\n    }\n\n    render(props) {\n\n      const inputProxyingState = this.state.sortedListOfOptions.reduce((acc, [excHost, excState]) => {\n\n        if ( acc !== undefined ) {\n          return acc;\n        }\n        return this.state.trimmedInputValueOrSpace === excHost ? excState : undefined;\n\n      }, undefined);\n\n      return (\n        <section style=\"padding-bottom: 1em;\">\n          <div>{chrome.i18n.getMessage('ProxyTheDomainNameBelowQ')}</div>\n          <div id=\"exc-address-container\">\n            <div id=\"exc-address\" class={inputProxyingState !== undefined ? ( inputProxyingState === true ? scopedCss.ifYes : scopedCss.ifNo ) : ''}>\n              <input placeholder=\"*.navalny.com\" list=\"exc-list\" id=\"exc-editor\"\n                value={this.state.trimmedInputValueOrSpace}\n                ref={(inputNode) => { this.rawInput = inputNode; }}\n                onKeyDown={this.handleKeyDown.bind(this)}\n                onInput={this.handleInputOrClick}\n                onClick={this.handleInputOrClick}\n              />\n            </div>\n            {/*<a href class=\"emoji\">⇄</a>*/}\n            <a href=\"../exceptions/index.html\" title=\"импорт/экспорт\"><svg\n              class=\"icon\"\n              ><use xlink:href=\"#iconImportExport\"></use></svg>\n            </a>\n          </div>\n          <datalist id=\"exc-list\">\n            {\n              this.state.sortedListOfOptions.map(([excHost, excState]) => {\n\n                // 1. Option's value may be changed to hide it from the tooltip.\n                // 2. Space is used in matching so even an empty input (replaced with space) has tooltip with prompts.\n                const ifProxy = excState;\n                return <option\n                  value={ this.state.hostToIfHidden[excHost] ? '\\n' : excHost + ' ' }\n                  label={ ifProxy === true ? labelIfProxied : (ifProxy === false ? labelIfNotProxied : labelIfAuto) }/>\n\n              })\n            }\n          </datalist>\n          <ol class=\"horizontalList middledChildren\" id=\"exc-radio\">\n            <li><input id=\"this-auto\" type=\"radio\" checked name=\"if-proxy-this-site\" onClick={this.handleRadioClick}/>{' '}\n                  <label for=\"this-auto\">{/*<span class=\"emoji\">🔄(looks fat)</span>*/}<svg\n                    class=\"icon\"\n                    style=\"position: relative; top: 0.15em;\"><use xlink:href=\"#iconLoopRound\"></use></svg>&nbsp;{chrome.i18n.getMessage('auto')}</label>\n            </li>\n            <li>\n              <input id=\"this-yes\" type=\"radio\" name=\"if-proxy-this-site\" checked={inputProxyingState === true} onClick={this.handleRadioClick}/>\n              {' '}<label for=\"this-yes\">\n                    <span\n                      class=\"emoji____buggy\"\n                    >✔</span>&nbsp;{chrome.i18n.getMessage('yes')}\n                  </label>\n            </li>\n            <li>\n              <input id=\"this-no\" type=\"radio\" name=\"if-proxy-this-site\" checked={inputProxyingState === false} onClick={this.handleRadioClick}/>\n              {' '}<label for=\"this-no\"><span class=\"emoji\">✘</span>&nbsp;{chrome.i18n.getMessage('no')}</label></li>\n          </ol>\n        </section>\n      );\n\n    }\n\n  };\n\n};\n","import Inferno, {linkEvent} from 'inferno';\nimport Component from 'inferno-component';\nimport createElement from 'inferno-create-element';\nimport getInfoLi from './InfoLi';\n\nexport default function getModList(theState) {\n\n  const InfoLi = getInfoLi(theState);\n\n  return class ModList extends Component {\n\n    constructor(props) {\n\n      super(props);\n      this.state= {\n        checks: props.orderedConfigs.map((mod) => Boolean(mod.value)),\n      };\n\n    }\n\n    handleCheck(confMeta, ifChecked) {\n\n      this.setState({\n        checks: this.state.checks.map(\n          (ch, i) => i === confMeta.index ? ifChecked : ch\n        )\n      });\n      if (ifChecked === false || !confMeta.ifChild) {\n        this.handleNewValue(true, confMeta, ifChecked);\n      }\n\n    }\n\n    handleNewValue(ifValid, { conf, index }, newValue) {\n\n      this.props.onConfChanged({\n        targetConf: conf,\n        targetIndex: index,\n        newValue: newValue,\n        ifValid,\n      });\n\n    }\n\n    render(props) {\n\n      return (\n        <ol>\n        {\n          props.orderedConfigs.map((conf, index) => {\n\n            const ifMayHaveChild = props.childrenOfMod && props.childrenOfMod[conf.key];\n            const confMeta = { conf, index, ifChild: ifMayHaveChild };\n\n            const child = ifMayHaveChild && this.state.checks[index]\n              && createElement(\n                props.childrenOfMod[conf.key],\n                Object.assign(\n                  {},\n                  props,\n                  {\n                    conf,\n                    onNewValue: (ifValid, newValue) => this.handleNewValue(ifValid, confMeta, newValue),\n                  },\n                )\n              );\n\n            return (<InfoLi\n              conf={conf}\n              type='checkbox'\n              name={props.name}\n              checked={this.state.checks[index]}\n              key={index}\n              onChange={(event) => this.handleCheck(confMeta, event.target.checked)}\n              ifInputsDisabled={props.ifInputsDisabled}\n            >\n              {child}\n            </InfoLi>);\n\n          })\n        }\n        </ol>\n      );\n\n    }\n\n  }\n\n};\n","import Inferno, {linkEvent} from 'inferno';\nimport Component from 'inferno-component';\nimport createElement from 'inferno-create-element';\nimport css from 'csjs-inject';\n\nexport default function getProxyEditor(theState) {\n\n  const scopedCss = css`\n\n    table.editor {\n      border-collapse: collapse;\n      /*border-style: hidden;*/\n      width: 100%;\n      margin: 0.5em 0;\n      background-color: #f3f5f6;\n    }\n\n    .tabledEditor, .exportsEditor {\n      /* Empty, but not undefined. */\n    }\n\n    table.editor ::-webkit-input-placeholder {\n      color: #c9c9c9;\n    }\n\n    table.editor th.shrink,\n    table.editor td.shrink {\n      width: 1%;\n    }\n\n    table.editor td, table.editor th {\n      border: 1px solid #ccc;\n      text-align: left;\n      height: 100%;\n    }\n\n    table.editor input,\n    table.editor button,\n    table.editor select\n    {\n      min-width: 0;\n      min-height: 0;\n      height: 100%;\n    }\n\n    /* ADD PANEL */\n    table.editor tr.addPanel td,\n    table.editor tr.addPanel td input\n    {\n      padding: 0;\n    }\n    table.editor tr.addPanel td > select[name=\"newProxyType\"],\n    table.editor tr.addPanel td:nth-last-child(2) input /* PORT */\n    {\n      font-size: 0.9em;\n    }\n    table.editor tr.addPanel td:nth-last-child(2) /* PORT */\n    {\n      min-width: 4em;\n    }\n    /* PROXY ROW */\n    table.editor tr.proxyRow td:nth-child(2), /* type */\n    table.editor tr.proxyRow td:nth-child(4)  /* port */\n    {\n      text-align: center;\n    }\n    table.editor tr.proxyRow input[name=\"crededHostname\"] {\n      padding: 0;\n    }\n\n    table.editor th:not(:last-child) {\n      padding: 0 0.6em;\n    }\n\n    table.editor input:not([type=\"submit\"]),\n    table.editor select,\n    table.editor select:hover {\n      border: none;\n      background: inherit !important;\n    }\n    table.editor select,\n    table.editor select:hover {\n      -webkit-appearance: menulist !important;\n      box-shadow: none !important;\n    }\n    table.editor input {\n      width: 100%;\n    }\n\n    /* BUTTONS */\n    table.editor input[type=\"submit\"],\n    table.editor button {\n      width: 100%;\n      padding: 0;\n      border: none;\n    }\n    .only {\n      /*height: 100%;*/\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n    table.editor .add {\n      font-weight: 900;\n    }\n    table.editor .export {\n      /*padding-right: 2px;*/\n    }\n\n    /* LAST COLUMN: BUTTONS */\n    table.editor tr > *:nth-last-child(1), /* Buttons */\n    table.tabledEditor tr > *:nth-last-child(2), /* Port */\n    table.tabledEditor tr.proxyRow > td:first-child /* Type */\n    {\n      text-align: center;\n      padding: 0;\n      position: relative;\n      min-width: 1em;\n    }\n    /* LAST-2 COLUMN: HOSTNAME\n    table.editor td:nth-last-child(3) {\n      padding-left: 2px;\n    }*/\n    .noPad {\n      padding: 0;\n    }\n    .padLeft {\n      padding-left: 2px !important;\n    }\n\n    textarea.textarea {\n      width: 100% !important;\n      min-height: 100%;\n      height: 6em;\n      border-width: 1px 0 0 0;\n      /*border: none;*/\n    }\n\n    table.editor input:invalid {\n      color: red !important;\n      border-radius: 0;\n      border-bottom: 1px dotted red !important;\n    }\n\n  `;\n\n  const UI_RAW = 'ui-proxy-string-raw';\n  const MAX_PORT = 65535;\n  const onlyPort = function onlyPort(event) {\n\n    if (!event.ctrlKey && (/^\\D$/.test(event.key) || /^\\d$/.test(event.key) && parseInt(`${this.value}${event.key}`) > MAX_PORT)) {\n      event.preventDefault();\n      return false;\n    }\n    // Digits, Alt, Tab, Enter, etc.\n    return true;\n\n  };\n  const splitBySemi = (proxyString) => proxyString\n    .replace(/#.*$/mg, '')\n    .trim()\n    .split(/\\s*;\\r?\\n\\s*/g)\n    .map((s) => s.trim())\n    .filter((s) => s);\n\n  const joinBySemi = (strs) => strs.join(';\\n');\n  const normalizeProxyString = (str) => joinBySemi(splitBySemi(str));\n\n  const PROXY_TYPE_LABEL_PAIRS = [['PROXY', 'PROXY/HTTP'],['HTTPS'],['SOCKS4'],['SOCKS5'],['SOCKS']];\n\n\n  const SwitchButton = (props) =>\n    (\n      <button\n        type=\"button\" disabled={props.ifInputsDisabled}\n        class={'emoji' + ' ' + scopedCss.export + ' ' + scopedCss.only}\n        title={props.title}\n        onClick={props.onClick}\n      >⇄</button>\n    );\n\n  class TabledEditor extends Component {\n\n    constructor(props) {\n\n      super(props);\n      this.state = {\n        selectedNewType: 'HTTPS',\n      };\n\n    }\n\n    handleTypeSelect(that, event) {\n\n      that.setState({\n        selectedNewType: event.target.value,\n      });\n\n    }\n\n    showInvalidMessage(that, event) {\n\n      that.props.funs.showErrors({message: event.target.validationMessage});\n\n    }\n\n    handleModeSwitch(that) {\n\n      that.props.onSwitch();\n\n    }\n\n    handleAdd(that, event) {\n\n      const form = event.target;\n      const elements = Array.from(form.elements).reduce((acc, el, index) => {\n\n        acc[el.name || index] = el.value;\n        el.value = '';\n        return acc;\n\n      }, {});\n      const type = that.state.selectedNewType;\n      const crededHostname = elements.newHostname;\n      const port = elements.newPort;\n\n      const newValue = `${that.props.proxyStringRaw};\\n${type} ${crededHostname}:${port}`\n        .trim().replace(/(\\s*;\\n\\s*)+/, ';\\n');\n      that.props.setProxyStringRaw(true, newValue);\n\n    }\n\n    handleDelete(that, {proxyAsString, index}) {\n\n      event.preventDefault();\n      const proxyStrings = splitBySemi(that.props.proxyStringRaw);\n      proxyStrings.splice(index, 1);\n\n      that.props.setProxyStringRaw(true, joinBySemi(proxyStrings) );\n\n    }\n\n    raisePriority(that, {proxyAsString, index}) {\n\n      event.preventDefault();\n      if (index < 1) {\n        return;\n      }\n      const proxyStrings = splitBySemi(that.props.proxyStringRaw);\n      proxyStrings.splice(index - 1, 2, proxyStrings[index], proxyStrings[index-1]);\n\n      that.props.setProxyStringRaw(true, joinBySemi(proxyStrings) );\n\n    }\n\n    handleSubmit(that, event) {\n\n      event.preventDefault();\n      that.handleAdd(that, event);\n\n    }\n\n    render(props) {\n\n      return (\n        <form onSubmit={linkEvent(this, this.handleSubmit)}>\n          <table class={scopedCss.editor + ' ' + scopedCss.tabledEditor}>\n            <thead>\n              <tr>\n                <th colspan=\"2\" class={scopedCss.shrink}>протокол</th>\n                <th>домен / IP</th>\n                <th class={scopedCss.shrink}>порт</th>\n                <th>\n                  <SwitchButton title=\"импорт/экспорт\" onClick={linkEvent(this, this.handleModeSwitch)}/>\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {/* ADD NEW PROXY STARTS. */}\n              <tr class={scopedCss.addPanel}>\n                <td colspan=\"2\">\n                  <select reqiured\n                    class={scopedCss.noPad}\n                    name=\"newProxyType\"\n                    onChange={linkEvent(this, this.handleTypeSelect)}\n                  >\n                    {\n                      PROXY_TYPE_LABEL_PAIRS.map(\n                        ([type, label]) =>\n                          (<option value={type} selected={type === this.state.selectedNewType}>\n                            {label || type}\n                          </option>)\n                      )\n                    }\n                  </select>\n                </td>\n                <td>\n                  {/* LAST-2: HOSTNAME */}\n                  <input required disabled={props.ifInputsDisabled}\n                    class={scopedCss.noPad}\n                    placeholder=\"89.140.125.17\"\n                    name=\"newHostname\"\n                    onInvalid={linkEvent(this, this.showInvalidMessage)}\n                    tabindex=\"1\"\n                  />\n                </td>\n                <td>\n                  {/* LAST-1: PORT */}\n                  <input required type=\"number\" disabled={props.ifInputsDisabled}\n                    class={scopedCss.noPad + ' ' + scopedCss.padLeft + ' ' + scopedCss.only}\n                    placeholder=\"9150\"\n                    min=\"0\" step=\"1\" max={MAX_PORT} pattern=\"[0-9]{1,5}\"\n                    name=\"newPort\"\n                    onInvalid={linkEvent(this, this.showInvalidMessage)}\n                    onkeydown={onlyPort}\n                    tabindex=\"2\"\n                  />\n                </td>\n                <td>\n                  {/* LAST: ADD BUTTON */}\n                  <input type=\"submit\" disabled={props.ifInputsDisabled}\n                    class={scopedCss.add + ' ' + scopedCss.only}\n                    title=\"Добавить прокси\" value=\"+\"\n                  />\n                </td>\n              </tr>\n              {/* ADD NEW PROXY ENDS. */}\n              {\n                splitBySemi(this.props.proxyStringRaw).map((proxyAsStringRaw, index) => {\n\n                  const proxyAsString = proxyAsStringRaw.trim();\n\n                  const {\n                    type,\n                    creds,\n                    hostname,\n                    port,\n                  } = theState.utils.parseProxyScheme(proxyAsString);\n\n                  return (\n                    <tr class={scopedCss.proxyRow}>\n                      <td>\n                        <button type=\"button\" disabled={props.ifInputsDisabled}\n                          class={scopedCss.only} title=\"Удалить\"\n                          onClick={() => this.handleDelete(this, {proxyAsString, index})}\n                        >X</button>\n                      </td>\n                      <td>{type}</td>\n                      <td><input value={`${creds && `${creds}@`}${hostname}`} name=\"crededHostname\" readonly/></td>\n                      <td>{port}</td>\n                      <td>\n                        <button type=\"button\" disabled={props.ifInputsDisabled}\n                          class={scopedCss.only} title=\"Повысить приоритет\"\n                          onClick={() => this.raisePriority(this, {proxyAsString, index})}\n                        >▲</button>\n                      </td>\n                    </tr>\n                  );\n\n                })\n              }\n            </tbody>\n          </table>\n          <a href=\"https://github.com/anticensority/runet-censorship-bypass/wiki/Прокси-и-пароль\">Запароленные прокси?</a>\n        </form>\n      );\n    }\n  }\n\n  const getInitState = () => ({\n    ifHasErrors: false,\n    stashedExports: false,\n  });\n\n  class ExportsEditor extends Component {\n\n    constructor(props) {\n\n      super(props);\n      this.state = getInitState();\n      this.resetState = linkEvent(this, this.resetState);\n      this.showApply =  linkEvent(undefined,  props.setProxyStringRaw);\n\n    }\n\n    resetState(that, event) {\n\n      that.props.setProxyStringRaw(true, that.props.proxyStringRaw);\n      if (that.state.ifHasErrors) {\n        that.props.funs.setStatusTo(''); // Clear errors\n      }\n      that.setState(getInitState());\n      event.preventDefault();\n\n    }\n\n    getErrorsInStashedExports() {\n\n      if(this.state.stashedExports === false) {\n        return;\n      }\n      const errors = splitBySemi(this.state.stashedExports)\n        .map((proxyAsString) => {\n\n          const {\n            type,\n            creds,\n            hostname,\n            port,\n            username,\n            password,\n          } = theState.utils.parseProxyScheme(proxyAsString);\n          const crededAddr = `${creds ? `${creds}@` : ''}${hostname}:${port}`;\n\n          const knownTypes = PROXY_TYPE_LABEL_PAIRS.map(([type, label]) => type);\n          if( !knownTypes.includes(type.toUpperCase()) ) {\n            return new Error(\n              `Неверный тип ${type}. Известные типы: ${knownTypes.join(', ')}.`\n            );\n          }\n          if (!(crededAddr && /^(?:.+@)?[^:]+:\\d+$/.test(crededAddr))) {\n            return new Error(\n              `Адрес прокси \"${crededAddr || ''}\" не соответствует формату \"<опц_логин>:<опц_пароль>@<домен_или_IP>:<порт_из_цифр>\".`\n            );\n          }\n          if (password && !username) {\n            return new Error('Вашему пользователю не хватает имени?');\n          }\n          const portInt = parseInt(port);\n          if (portInt < 0 || portInt > 65535) {\n            return new Error(\n              `Порт \"${port}\" должен быть целым числом от 0 до 65535.`\n            );\n          }\n          return false;\n\n        }).filter((e) => e);\n      return errors && errors.length && errors;\n\n    }\n\n    handleModeSwitch(that, event) {\n\n      if (that.state.ifHasErrors) {\n        return;\n      }\n      that.props.onSwitch();\n\n    }\n\n    handleTextareaChange(that, event) {\n\n      that.setState({\n        stashedExports: normalizeProxyString(event.target.value),\n      });\n      const errors = that.getErrorsInStashedExports();\n      if (errors) {\n        that.props.setProxyStringRaw(false);\n        that.setState({ifHasErrors: true});\n        that.props.funs.showErrors(...errors);\n        return;\n      }\n      // No errors.\n      that.props.setProxyStringRaw(true, that.state.stashedExports);\n      that.setState({\n        stashedExports: false,\n        ifHasErrors: false,\n      });\n\n    }\n\n    handleSubmit(that, event) {\n\n      event.preventDefault();\n      this.handleModeSwitch(this, event);\n\n    }\n\n    render(props) {\n\n      return (\n        <form onSubmit={linkEvent(this, this.handleSubmit)}>\n          <table class={scopedCss.editor + ' ' + scopedCss.exportsEditor}>\n            <thead>\n              <tr>\n                <th style=\"width: 100%\">\n                  {\n                    this.state.stashedExports === false\n                      ? 'Комментарии вырезаются!'\n                      : (this.state.ifHasErrors\n                          ? (<span><a href=\"\" onClick={this.resetState} style=\"color: red\">Сбросьте изменения</a> или поправьте</span>)\n                          : (<a href=\"\" onClick={this.resetState}>Сбросить изменения</a>)\n                        )\n                  }\n                </th>\n                <th style=\"width: 1%\">\n                  <SwitchButton title=\"Переключиться в табличный режим\" onClick={linkEvent(this, this.handleModeSwitch)}/>\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td colspan=\"2\"><textarea\n                    class={scopedCss.textarea}\n                    spellcheck={false}\n                    placeholder={`\nSOCKS5 localhost:9050; # Tor Expert\nSOCKS5 localhost:9150; # Tor Browser\nHTTPS 11.22.33.44:3143;\nPROXY foobar.com:8080; # Not HTTP!`.trim()}\n                    onChange={linkEvent(this, this.handleTextareaChange)}\n                    onFocus={this.showApply}\n                    value={\n                      this.state.stashedExports !== false\n                        ? this.state.stashedExports\n                        : (this.props.proxyStringRaw || '').replace(/\\s*;\\n\\s*/g, ';\\n')\n                    }\n                  /></td>\n              </tr>\n            </tbody>\n          </table>\n        </form>\n      );\n\n    }\n\n  }\n\n  const migrate = (proxyStringRaw) => {\n    /* In the old format \\n\\r? could be used as a separator. */\n\n    return proxyStringRaw\n      .replace(/#.*$/mg, '') // Strip comments.\n      .replace(/[^\\S\\r\\n]*DIRECT[^\\S\\r\\n]*/g, '') // Remove DIRECT from old versions.\n      /*\n      .split( /(?:[^\\S\\r\\n]*(?:;|\\r?\\n)+[^\\S\\r\\n]*)+/g )\n      .map( (p) => p.trim() )\n      .filter((p) => p)\n      .join(';\\n');\n      */\n\n  };\n\n  let waitingTillMount = [];\n\n  return class ProxyEditor extends Component {\n\n    constructor(props/*{ conf, onNewValue, ifInputsDisabled }*/) {\n\n      super(props);\n      const oldValue = typeof props.conf.value === 'string' && props.conf.value;\n      const newValue = migrate(oldValue || localStorage.getItem(UI_RAW) || '');\n      this.state = {\n        proxyStringRaw: newValue,\n        ifExportsMode: false,\n        ifValid: true,\n      };\n      this.handleSwitch = () => this.setState({ifExportsMode: !this.state.ifExportsMode});\n      waitingTillMount.push(newValue); // Wait till mount or eat bugs.\n\n    }\n\n    componentDidMount() {\n\n      if (waitingTillMount.length) {\n        this.mayEmitNewValue(this.props.value, waitingTillMount.pop());\n        waitingTillMount = [];\n      }\n\n    }\n\n    componentDidUnmount() {\n\n      waitingTillMount = [];\n\n    }\n\n    mayEmitNewValue(oldValue, newValue, ifValidityChanged) {\n\n      if ( // Reject: 1) both `false` OR 2) both `===`.\n        ifValidityChanged || ( Boolean(oldValue) || Boolean(newValue) ) && oldValue !== newValue\n      ) {\n        this.props.onNewValue(this.state.ifValid, newValue);\n      }\n\n    }\n\n    render(originalProps) {\n\n      const props = Object.assign({\n        proxyStringRaw: this.state.proxyStringRaw,\n        onSwitch: this.handleSwitch,\n        setProxyStringRaw: (ifValid, newValue) => {\n\n          const ifValidityChanged = this.state.ifValid !== ifValid;\n          if (!ifValid) {\n            if (ifValidityChanged || ifValid === undefined) {\n              this.props.onNewValue(ifValid);\n              this.setState({ ifValid });\n            }\n            return;\n          }\n\n          const oldValue = this.state.proxyStringRaw;\n          localStorage.setItem(UI_RAW, newValue);\n          this.setState({proxyStringRaw: newValue, ifValid});\n          this.mayEmitNewValue(oldValue, newValue, ifValidityChanged);\n\n        },\n      }, originalProps);\n\n      return this.state.ifExportsMode\n        ? createElement(ExportsEditor, props)\n        : createElement(TabledEditor, props);\n\n    };\n  }\n\n};\n","import Inferno, { linkEvent } from 'inferno';\n\nexport default function getApplyMods(theState) {\n\n  const resetMods = function resetMods(props) {\n\n    const ifSure = props.bgWindow.confirm('Сбросить все модификаторы и ИСКЛЮЧЕНИЯ?');\n    if (!ifSure) {\n      return false;\n    }\n    props.funs.conduct(\n      'Сбрасываем...',\n      (cb) => {\n\n        props.apis.pacKitchen.resetToDefaults();\n        props.bgWindow.utils.fireRequest('ip-to-host-reset-to-defaults', cb);\n        window.localStorage.clear();\n\n      },\n      'Откройте окно заново для отображения эффекта.',\n      () => window.close()\n    );\n\n  }\n\n  return function ApplyMods(props) {\n\n    return (\n      <section class=\"controlRow horFlex\" style=\"margin-top: 1em\">\n        <input type=\"button\" value=\"Применить\" disabled={props.ifInputsDisabled} onClick={props.onClick}/>\n        <a href=\"\" onClick={linkEvent(props, resetMods)}>К изначальным!</a>\n      </section>\n    );\n\n  };\n\n};\n","import Inferno from 'inferno';\nimport css from 'csjs-inject';\n\nexport default function getPacChooser(theState) {\n\n  const scopedCss = css`\n\n    .listOfNotifiers {\n      margin-left: 0.4em;\n    }\n\n  `;\n\n  return function Notifications(props) {\n\n    return (\n      <section>\n        <header>Я <span class=\"emoji\" style=\"color: #f93a17\">❤</span> yведомления:</header>\n        <ul class={scopedCss.listOfNotifiers + ' middledChildren'}>\n        {\n          Array.from(props.apis.errorHandlers.getEventsMap()).map(([ntfId, ntfName]) => {\n\n            const iddy = `if-on-${ntfId}`;\n            const ifChecked = props.apis.errorHandlers.isOn(ntfId);\n            return (\n              <li>\n                <input\n                  type=\"checkbox\"\n                  id={iddy}\n                  checked={ifChecked}\n                  disabled={props.ifInputsDisabled}\n                  onClick={() => {\n\n                    props.apis.errorHandlers.switch(\n                      ifChecked ? 'off' : 'on', // Reverse.\n                      ntfId\n                    );\n\n                  }}\n                />\n                {' '}\n                <label for={iddy}>{ntfName}</label>\n              </li>\n            );\n\n          })\n        }\n        </ul>\n      </section>\n    );\n\n  };\n\n};\n","// @flow\n\nimport Inferno from 'inferno';\nimport createElement from 'inferno-create-element';\nimport appendGlobalCss from './globalCss';\nimport css from 'csjs-inject';\nimport getApp from './components/App';\n\nchrome.runtime.getBackgroundPage( (bgWindow) =>\n  bgWindow.apis.errorHandlers.installListenersOn(\n    window, 'PUP', async() => {\n      /*\n        `Extension context invalidated` error is thrown if `window.closed` is true and call to\n        `window.chrome.i18n` or other `window.chrome` api happens. Use bgWindow.chrome instead.\n        Use winChrome for tab-related calls like winChrome.tabs.getCurrent.\n      */\n      window.winChrome = window.chrome;\n      window.chrome = bgWindow.chrome;\n      let theState;\n      {\n        const apis = bgWindow.apis;\n\n        theState = {\n          utils: bgWindow.utils,\n          apis: apis,\n          flags: {\n            /* Shortcuts to boolean values. */\n            ifNotControlled: !apis.errorHandlers.ifControllable,\n            ifMini: apis.version.ifMini,\n          },\n          bgWindow,\n        };\n      }\n\n      // IF INSIDE OPTIONS TAB\n\n      const currentTab = await new Promise(\n        (resolve) => winChrome.tabs.query(\n          {active: true, currentWindow: true},\n          ([tab]) => resolve(tab),\n        )\n      );\n      // winChrome.runtime.sendMessage({ currentTab, eventName: 'POPUP_OPENED' });\n\n      theState.flags.ifInsideOptionsPage = !(currentTab && currentTab.url) || /.*:\\/\\/extensions\\/\\?options=/g.test(currentTab.url) || currentTab.url.startsWith('about:addons');\n      theState.flags.ifInsideEdgeOptionsPage = theState.flags.ifInsideOptionsPage && currentTab && currentTab.url && currentTab.url.startsWith('edge://');\n\n      theState.currentTab = currentTab;\n\n      // If opened not via popup and not via options modal.\n      // E.g., if opened via copy-pasting an URL into the address bar from somewhere.\n      // If browser is not Chrome (Opera, e.g.) then options page may be opened in a separate tab\n      // and then you will get a false positive.\n      theState.flags.ifOpenedUnsafely = Boolean(await new Promise(\n        (resolve) => winChrome.tabs.getCurrent(resolve),\n      ));\n\n      // STATE DEFINED, COMPOSE.\n\n      appendGlobalCss(document, theState);\n      // Extendable css classes.\n\n      Inferno.render(\n        createElement(getApp(theState), theState),\n        document.getElementById('app-root'),\n      );\n      // READY TO RENDER\n\n      const show = () => { document.documentElement.style.visibility = 'initial'; };\n\n      if (theState.flags.ifInsideOptionsPage) {\n        show();\n      } else {\n        setTimeout(show, 200); // Mac bug: https://bugs.chromium.org/p/chromium/issues/detail?id=428044\n      }\n\n    }\n  )\n);\n\n","export default function append(document, { flags }) {\n\n  // innerText converts \\n to <br>, so:\n  document.querySelector('style').innerHTML = `\n    /* GLOBAL VARIABLES */\n\n    body {\n      --ribbon-color: #4169e1;\n      --blue-bg: dodgerblue;\n      --default-grey: #bfbfbf;\n      --cr-options-headline: #d3d3d3;\n      --cr-icon-selected: #d7d7d7;\n      --cr-popup-border: #bababa;\n      --cr-grey-panel: #f2f2f2;\n    }\n\n    /* BASE ELEMENTS */\n\n    body {\n      margin: 0;\n      max-width: 25em;\n    }\n    a, a:visited {\n      color: var(--ribbon-color);\n      text-decoration: none;\n    }\n    a:hover {\n      text-decoration: underline;\n    }\n    /*\n    label {\n      user-select: none;\n    }\n    */\n    div, section, header, ul, ol {\n      margin: 0;\n      padding: 0;\n    }\n    header {\n      margin-bottom: 0.3em\n    }\n    ul, ol {\n      list-style-type: none;\n    }\n    .nowrap {\n      white-space: nowrap;\n      word-break: keep-all;\n    }\n    .nowrap {\n      display: block;\n    }\n    .middledChildren > li,\n    .middledChildren > li > * {\n      vertical-align: middle;\n    }\n    input[type=\"radio\"], input[type=\"checkbox\"] {\n      flex-shrink: 0;\n    }\n    input[type=\"radio\"], label {\n      cursor: pointer;\n    }\n    hr {\n      border: none;\n      border-top: 1px solid var(--cr-popup-border);\n      margin: 0 0 0.6em 0;\n      padding: 0;\n    }\n    em {\n      font-style: normal;\n      text-decoration: underline;\n    }\n\n\n    /* IF INSIDE OPTIONS */\n    ${\n      flags.ifInsideOptionsPage\n        ? `\n\n            ul, ol {\n              margin-left: 0.4em;\n            }\n\n      ` : `\n\n            ul, ol {\n              /*Here is a flex bug:\n                () antizapret [update]                     (i)\n                () anticensority very_long_foobar [update]  (i) <- Sic!\n                Also: options page is wider, check it too.\n                But: fixed 100% width conflicts with margins/paddings.\n                So: use only when needed and avoid margins.\n                FYI: setting left-margin fixes problem too, but margins are not wanted.\n                Fix this problem below:\n              */\n              display: inline-block;\n              min-width: 100%;\n            }\n          `\n    }\n\n\n    /* COMMON CLASSES */\n\n    .off {\n      display: none;\n    }\n    .horPadded {\n      padding-left: 1.4em;\n      padding-right: 1.4em;\n    }\n    .horizontalList,\n    .horizontalList li {\n      line-height: 100%;\n    }\n    .horizontalList li {\n      display: inline-block;\n    }\n\n    /* Flexes */\n\n    .horFlex {\n      display: flex;\n      align-items: baseline;\n      justify-content: space-between;\n      width: 100%;\n    }\n    .horFlex > input:not([type=\"button\"]) {\n      align-self: flex-end;\n    }\n\n    /* Fonts/Icons */\n\n    @font-face {\n      font-family: \"emoji\";\n      src:url(\"../lib/fonts/emoji.woff\") format(\"woff\");\n      font-weight: normal;\n      font-style: normal;\n    }\n    .emoji {\n      font-family: \"emoji\";\n    }\n\n    svg.icon {\n      display: inline-block;\n      width: 1em;\n      height: 1em;\n      stroke-width: 0;\n      stroke: currentColor;\n      fill: currentColor;\n    }\n\n  `;\n\n};\n","import Inferno from 'inferno';\nimport Component from 'inferno-component';\nimport createElement from 'inferno-create-element';\n\nimport getNotControlledWarning from './NotControlledWarning';\nimport getMain from './Main';\nimport getFooter from './Footer';\n\nexport default function getApp(theState) {\n\n  const NotControlledWarning = getNotControlledWarning(theState);\n  const Main = getMain(theState);\n  const Footer = getFooter(theState);\n\n  return class App extends Component {\n\n    constructor(props) {\n\n      super(props);\n\n      const sanitizedUrl = theState.flags.ifOpenedUnsafely ? { hash: '', search: '' } : window.location;\n      const hashParams = new URLSearchParams(sanitizedUrl.hash.substr(1));\n      const searchParams = new URLSearchParams(sanitizedUrl.search.substr(1));\n      this.state = {\n        status: 'Загрузка...',\n        ifInputsDisabled: false,\n        hashParams,\n        searchParams,\n      };\n\n      this.setStatusTo = this.setStatusTo.bind(this);\n      this.conduct = this.conduct.bind(this);\n      this.showErrors = this.showErrors.bind(this);\n      this.showNews = this.showNews.bind(this);\n\n    }\n\n    setStatusTo(msg, cb) {\n\n      this.setState(\n        {\n          status: msg || 'Хорошего настроения Вам!',\n        },\n        cb\n      );\n\n    }\n\n    setNewsStatusTo(newsArr) {\n\n      this.setStatusTo(\n        <ol style=\"list-style-type: initial;\">\n          {newsArr\n            .map(([title, url]) => (<li><a href={url}>{title}</a></li>))\n            .reverse() // News order.\n          }\n        </ol>\n      );\n\n    }\n\n    async showNews() {\n\n      const uiComDate = 'ui-last-comment-date';\n      const uiComEtag = 'ui-last-comments-etag';\n      const uiLastNewsArr = 'ui-last-news-arr';\n\n      const statusFromUrl = this.state.searchParams.get('status');\n      if (statusFromUrl) {\n        return this.setStatusTo(statusFromUrl);\n      }\n\n      const comDate = localStorage[uiComDate];\n      const query = comDate ? `?since=${comDate}` : '';\n      const oldEtag = localStorage[uiComEtag];\n      const headers = {\n        'User-Agent': 'https://github.com/anticensority/runet-censorship-bypass',\n      };\n      if (oldEtag) {\n        Object.assign(headers, {\n          'If-None-Match': oldEtag,\n        });\n      };\n      const params = {\n        headers: new Headers(headers),\n      };\n\n      // I comment and uncomment this variable manually before release or build:\n      const ghUrl = `https://api.github.com/repos/anticensority/chromium-extension/issues/10/comments${query}`;\n      // const ghUrl = `https://api.github.com/repos/anticensority/for-testing/issues/1/comments${query}`;\n\n      const [error, comments, etag] = await fetch(\n        ghUrl,\n        params\n      ).then(\n        (res) => !( res.status >= 200 && res.status < 300 || res.status === 304 )\n                    ? Promise.reject({message: `Получен ответ с неудачным кодом ${res.status}.`, data: res})\n                    : res\n      ).then(\n        (res) => Promise.all([\n          null,\n          res.status !== 304 ? res.json() : false,\n          res.headers.get('ETag')\n        ]),\n        (err) => {\n\n          const statusCode = err.data && err.data.status;\n          const ifCritical = null;\n          this.showErrors(ifCritical, {\n            message: statusCode === 403\n              ? 'Слишком много запросов :-( Сообщите разработчику, как вам удалось всё истратить.'\n              : 'Не удалось достать новости: что-то не так с сетью.',\n            wrapped: err,\n          });\n          return [err, false, false];\n\n        }\n      );\n      if (etag) {\n        localStorage[uiComEtag] = etag;\n      }\n\n      if (error) {\n        return; // Let the user see the error message and contemplate.\n      }\n\n      const ifNewsWasSet = (() => {\n\n        if (comments === false) {\n          // 304\n          const json = localStorage[uiLastNewsArr];\n          const news = json && JSON.parse(json);\n          if (news && news.length) {\n            this.setNewsStatusTo(news);\n            return true;\n          }\n          return false;\n        }\n\n        let minDate; // Minimal date among all news-comments.\n        const news = comments.reduce((acc, comment) => {\n\n          const curDate = comment.updated_at || comment.created_at;\n          const newsTitle = this.getNewsHeadline( comment.body );\n          if (newsTitle) {\n            if (!minDate || curDate <= minDate) {\n              minDate = curDate;\n            }\n            acc.push([newsTitle, comment.html_url]);\n          }\n          return acc;\n\n        }, []);\n        // Response with empty news is cached too.\n        localStorage[uiLastNewsArr] = JSON.stringify(news);\n        if (news.length) {\n          if (minDate) {\n            localStorage[uiComDate] = minDate;\n          }\n          this.setNewsStatusTo(news);\n          return true;\n        }\n        return false;\n\n      })();\n      if (!ifNewsWasSet) {\n        this.setStatusTo();\n      }\n\n    }\n\n    componentDidMount() {\n\n      if (!this.props.apis.antiCensorRu.ifFirstInstall) {\n        this.showNews();\n      }\n\n    }\n\n    getNewsHeadline(comBody) {\n\n        const headline = comBody.split(/\\r?\\n/)[0];\n        const ifOver = /#+\\s*$/.test(headline);\n        if (ifOver) {\n          return false;\n        }\n        return headline.replace(/^\\s*#+\\s*/g, '');\n\n    }\n\n    showErrors(err, ...args/* ...warns, cb */) {\n\n      const lastArg = args[args.length - 1];\n      const cb = (lastArg && typeof lastArg === 'function')\n        ? args.pop()\n        : () => {};\n      const warns = args;\n\n      const errToHtmlMessage = (error) => {\n\n        let messageHtml = '';\n        let wrapped = error.wrapped;\n        messageHtml = error.message || '';\n\n        while( wrapped ) {\n          const deeperMsg = wrapped && wrapped.message;\n          if (deeperMsg) {\n            messageHtml = messageHtml + ' &gt; ' + deeperMsg;\n          }\n          wrapped = wrapped.wrapped;\n        }\n        return messageHtml;\n\n      };\n\n      let messageHtml = err ? errToHtmlMessage(err) : '';\n\n      const warningHtml = warns\n        .filter((w) => w)\n        .map(\n          (w) => errToHtmlMessage(w)\n        )\n        .map( (m) => '✘ ' + m )\n        .join('<br/>');\n\n      messageHtml = messageHtml.trim();\n      if (warningHtml) {\n        messageHtml = messageHtml ? messageHtml + '<br/>' + warningHtml : warningHtml;\n      }\n      this.setStatusTo(\n        (<span>\n          <span style=\"color:red\">\n            {err\n              ? <span><span class=\"emoji\">🔥</span> {chrome.i18n.getMessage('Error')}!</span>\n              : `${chrome.i18n.getMessage('Non_critical_error')}.`\n            }\n          </span>\n          <br/>\n          <span style=\"font-size: 0.9em; color: darkred\" dangerouslySetInnerHTML={{__html: messageHtml}}></span>\n          {' '}\n          {err && <a href=\"\" onClick={(evt) => {\n\n            this.props.apis.errorHandlers.viewError('pup-ext-err', err);\n            evt.preventDefault();\n\n          }}>[Техн.детали]</a>}\n        </span>),\n        cb\n      );\n\n    }\n\n    switchInputs(val) {\n\n      this.setState({\n        ifInputsDisabled: val === 'off' ? true : false,\n      });\n\n    }\n\n    conduct(\n      beforeStatus, operation, afterStatus,\n      onSuccess = () => {}, onError = () => {}\n    ) {\n\n      this.setStatusTo(beforeStatus);\n      this.switchInputs('off');\n      operation((err, res, ...warns) => {\n        warns = warns.filter( (w) => w );\n        if (err || warns.length) {\n          this.showErrors(err, ...warns);\n        } else {\n          this.setStatusTo(afterStatus);\n        }\n        this.switchInputs('on');\n        if (!err) {\n          onSuccess(res);\n        } else {\n          onError(err);\n        }\n\n      });\n\n    }\n\n    render(originalProps) {\n\n      const props = Object.assign({}, originalProps, {\n        funs: {\n          setStatusTo: this.setStatusTo,\n          conduct: this.conduct,\n          showErrors: this.showErrors,\n          showNews: this.showNews,\n        },\n        ifInputsDisabled: this.state.ifInputsDisabled,\n        hashParams: this.state.hashParams,\n      });\n\n      return createElement('div', null, [\n        ...( props.flags.ifNotControlled ? [createElement(NotControlledWarning, props)] : [] ),\n        createElement(Main, props),\n        createElement(Footer, Object.assign({ status: this.state.status }, props)),\n      ]);\n\n    }\n\n  }\n\n};\n","// @flow\n\nimport css from 'csjs-inject';\nimport Inferno from 'inferno';\n\nexport default function getNotControlledWarning({ flags }) {\n\n  const cssClasses = css`\n\n    .warningContainer {\n      background-color: red;\n      color: white;\n      font-weight: bold;\n      text-align: center;\n\n      ${ flags.ifInsideOptionsPage\n          ? `\n        padding-top: 0;\n        padding-bottom: 0;\n        ` : `\n        padding-top: 1em;\n        padding-bottom: 1em;\n        `\n      }\n\n      border-bottom: 1px solid var(--default-grey);\n    }\n    .warningContainer a {\n      color: white;\n    }\n  `;\n\n  return function NotControlledWarning(props) {\n\n    return (\n      <section class={cssClasses.warningContainer + \" horPadded\"} dangerouslySetInnerHTML={{ __html: props.utils.messages.whichExtensionHtml() }} />\n    );\n\n  }\n\n}\n","import Inferno from 'inferno';\nimport css from 'csjs-inject';\n\nexport default function getFooter(theState) {\n\n  const scopedCss = css`\n\n    .statusRow {\n      padding: 0 0.3em 1em;\n    }\n    .status {\n      display: inline-block;\n    }\n    .controlRow {\n      margin: 1em 0 1em 0;\n    }\n\n  `;\n\n  return (props) => (\n    <div class=\"horPadded\">\n      <section class={scopedCss.statusRow}>\n        <div class={scopedCss.status} style=\"will-change: contents\">\n          {typeof(props.status) === 'string' ? <div dangerouslySetInnerHTML={{ __html: props.status }}></div> : props.status}\n        </div>\n      </section>\n\n      <footer class={scopedCss.controlRow + ' horFlex nowrap'}>\n        <input type=\"button\" value={chrome.i18n.getMessage('Finish')} disabled={props.ifInputsDisabled} style={{ display: theState.flags.ifInsideEdgeOptionsPage ? 'none' : 'initial' }} onClick={() => window.close()} />\n        <a href=\"https://github.com/anticensority/runet-censorship-bypass/wiki/Поддержать\">{chrome.i18n.getMessage('Donate')}</a>\n        <a data-in-bg=\"false\" href=\"../troubleshoot/index.html\">\n          {chrome.i18n.getMessage('ProblemsQ')}\n        </a>\n      </footer>\n    </div>\n  );\n\n};\n"],"names":["csjs","insertCss","module","exports","args","Array","prototype","slice","call","arguments","result","apply","g","document","getCss","noScope","noscope","integer","str","Math","floor","makeComposition","classes","keyframes","compositions","keyframesObj","Object","keys","reduce","acc","key","val","composition","extended","obj","visited","traverse","forEach","push","getClassChain","allClasses","concat","unscoped","map","name","isComposition","value","Composition","classNames","isAnimation","classString","join","create","freeze","configurable","writable","enumerable","className","selector","toString","writeable","ignoreComposition","values","i","extractExtends","buildExports","scopify","cssKey","extractExports","selectorize","without","unwanted","opts","strings","length","css","joiner","ignores","scope","extracted","localClasses","localKeyframes","defineProperty","regex","getClassName","trimmed","trim","substr","found","matches","exec","unshift","match","extendee","keyword","index","len","split","splitter","classRegex","keyframesRegex","getExport","prop","hash","charCodeAt","findKeyframes","source","ignoreComments","RegExp","animations","regexStr","replace","preamble","ending","encode","fileSrc","suffix","fileScoper","replaceAnimations","makeScopedName","replacers","replacer","fullMatch","prefix","scopedName","inferno","NO_OP","ERROR_MSG","isArray","isNullOrUndef","o","isUndefined","isNull","isFunction","throwError","message","Error","combineFrom","first","second","out","key$1","Lifecycle","this","listeners","addListener","callback","trigger","listener","shift","componentCallbackQueue","Map","resolvedPromise","Promise","resolve","applyState","component","force","_unmounted","_blockRender","_pendingSetState","nextInput","pendingState","_pendingState","prevState","state","nextState","props","context","renderOutput","_updateComponent","didUpdate","isTrue","createVNode","_lastInput","type","isStringOrNumber","lastInput","vNode","_vNode","parentDom","dom","parentNode","flags","parentVNode","childContext","getChildContext","_childContext","lifeCycle","_lifecycle","internal_patch","_isSVG","componentDidUpdate","options","afterUpdate","findDOMNodeEnabled","internal_DOMNodeMap","set","Component","_blockSetState","_updating","EMPTY_OBJ","forceUpdate","setState","newState","pending","stateKey","bind","queue","get","then","delete","addToQueue","queueStateChanges","prevProps","nextProps","fromSetState","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","beforeRender","render","afterRender","nextContext","isBrowser","window","isInvalid","isString","isNumber","isObject","afterMount","beforeUnmount","recyclingEnabled","roots","xlinkNS","xmlNS","svgNS","strictProps","Set","add","booleanProps","namespaces","isUnitlessNumber","skipProps","delegatedEvents","isiOS","navigator","platform","test","delegatedEvents$1","handleEvent","lastEvent","nextEvent","delegatedRoots","items","docEvent","event","count","size","stopPropagation","eventData","e","target","isClick","disabled","eventsToTrigger","data","cancelBubble","dispatchEvents","addEventListener","normalizeEventName","attachEventToDocument","onclick","emptyFn","trapClickOnNonInteractiveElement","removeEventListener","toLowerCase","stopImmediatePropagation","isCheckedType","onTextInputChange","previousValue","onInput","oninput","newProps","applyValue","wrappedOnChange","onChange","onCheckboxChange","onClick","nextPropsOrEmpty","checked","multiple","defaultValue","hasValue","setAttribute","updateChildOptionGroup","children","updateChildOption","isVNode","indexOf","selected","onSelectChange","onchange","newVNode","applyValue$1","mounting","wrappedOnChange$1","onTextareaInputChange","applyValue$2","domValue","processElement","isControlled","wrapped","processInput","processSelect","processTextarea","isControlledFormElement","hydrate","lifecycle","isSVG","isClass","ref","namespaceURI","instance","createClassComponentInstance","input","mountClassComponentCallbacks","componentToDOMNodeMap","input$1","createFunctionalComponentInput","mountFunctionalComponentCallbacks","hydrateComponent","nodeType","tagName","newDom","mountElement","replaceChild","firstChild","Boolean","dangerouslySetInnerHTML","__html","isSameInnerHTML","isSamePropsInnerHTML","textContent","placeholder","createTextNode","nextSibling","lastDom","previousSibling","removeChild","normalizeChildNodes","appendChild","nodeValue","child","mount","nextSibling$1","hydrateChildren","hasControlledValue","isFormElement","patchProp","removeAttribute","mountRef","hydrateElement","mountText","text","hydrateText","hydrateVoid","componentPools","elementPools","unmount","canRecycle","isRecycling","isStatefulComponent$$1","componentWillUnmount","onComponentWillUnmount","hooks","onComponentWillMount","onComponentDidMount","onComponentWillUpdate","onComponentDidUpdate","pools","keyed","nonKeyed","pool","poolComponent","ref$1","props$1","isAttrAnEvent","patchEvent","tag","poolElement","documentBody","body","root","getRoot","directClone","hydrateRoot","setRoot","lifecycle$1","splice","removeRoot","patch","rootInput","lastVNode","nextVNode","lastFlags","nextFlags","patchComponent","replaceVNode","mountComponent","patchElement","nextText","patchText","patchVoid","mountVoid","replaceLastChildAndUnmount","unmountChildren","removeAllChildren","nextTag","replaceWithNewNode","lastProps","lastChildren","nextChildren","nextRef","lastClassName","nextClassName","patchArray","patchKeyed","setTextContent","mountArrayChildren","textNode","updateTextContent","isKeyed","lastLength","nextLength","a","b","aLength","bLength","j","aNode","bNode","nextNode","nextPos","node","aEnd","bEnd","aStart","bStart","aStartNode","bStartNode","aEndNode","bEndNode","outer","insertOrAppend","aLeft","bLeft","sources","moved","pos","patched","keyIndex","seq","arr","u","v","c","p","arrI","lis_algorithm","patchKeyedChildren","lastChildrenLength","nextChildrenLength","commonLength","nextChild","nextChild$1","patchNonKeyedChildren","patchChildren","lastPropsOrEmpty","nextValue","prop$1","removeProp","lastType","nextType","lastKey","nextKey","hasComponentDidUpdate","lastState","createVoidVNode","createTextVNode","shouldUpdate","lastProps$1","nextHooks","nextHooksDefined","lastInput$1","nextInput$1","onComponentShouldUpdate","attr","lastValue","has","lastAttrValue","nextAttrValue","style","domStyle","cssText","patchStyle","lastHtml","nextHtml","innerHTML","setAttributeNS","nameLowerCase","domEvent","linkEvent","recycledVNode","pop","recycleElement","createElementNS","createElement","documentCreateElement","childrenIsSVG","recycleComponent","hasDidMount","componentDidMount","componentWillMount","newNode","insertBefore","lastNode","removeChildren","tempdom","noNormalise","normalize","vNodeToClone","propsToClone","newChildren","tmpArray","propsToClone$1","applyKey","applyKeyIfMissing","applyKeyPrefix","_normalizeVNodes","nodes","currentKey","n","normalizeChildren","newNodes","normalizeVNodes","getFlagsForElementVnode","defaultProps","hasOwnProperty","normalizeProps","cloneVNode","_children","len$2","childrenLen","len$1","tmpArray$1","i$1","createRenderer","findDOMNode","internal_isUnitlessNumber","internal_normalize","version","componentHooks","toArray","isStatefulComponent","warning","console","warn","dispatchEvent","eventData_1","inferno_shared_1","options_1","constants_1","mounting_1","patching_1","rendering_1","utils_1","processElement_1","VNodes_1","recycling_1","dom_1","dom_2","delegation_1","unmounting_1","linkEvent_1","hydration_1","unmountComponent","unmountElement","unmountVoidOrText","unmountRef","name_1","nextDom","event_1","event_2","InputWrapper_1","SelectWrapper_1","TextareaWrapper_1","normalization_1","VNode","_i","inserted","elem","styleSheet","head","getElementsByTagName","prepend","childNodes","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","d","definition","globalThis","Function","getInfoLi","scopedCss","InfoIcon","originalProps","assign","idPrefix","ifDashify","iddy","conf","_","p1","inputProps","id","class","ifInputsDisabled","infoRow","labelContainer","label","nodeAfterLabel","desc","tooltip","url","rightBottomIcon","infoUrl","getMain","theState","TabPanel","baseCss","ifInsideOptionsPage","documentElement","classList","constructor","super","fromHash","hashParams","chosenTabKeyRaw","indexedTabs","tabs","filter","tab","chosenTabIndex","chosenTabKey","location","navLabels","navLabel","mainNav","alwaysShownWith","includes","tabContainer","content","getTabPanel","PacChooser","LastUpdateDate","onStorageChangedHandler","changes","ac","antiCensorRu","newValue","lastPacUpdateStamp","chrome","storage","onChanged","removeListener","getDate","dateForUser","i18n","getMessage","diff","Date","now","units","gauges","diffy","pacUpdatePeriodInMinutes","title","toLocaleString","date","apis","InfoLi","chosenPacName","updatePac","onSuccess","funs","conduct","cb","syncWithPacProviderAsync","radioClickHandler","updateClickHandler","getCurrentProviderId","getCurrentPacProviderKey","preventDefault","checkChosenProvider","pacKey","clearPacAsync","installPacAsync","iddyToCheck","getSortedEntriesForProviders","provConf","updateButton","fullLineHeight","ifMini","otherVersion","ifFirstInstall","getPacChooser","Exceptions","ExcEditor","modsToOpts","pacMods","exceptions","sort","excHost","trimmedInputValueOrSpace","currentTab","startsWith","URL","hostname","pacKitchen","getPacMods","sortedListOfOptions","hostToIfHidden","handleRadioClick","handleInputOrClick","hideAllOptions","isHostValid","host","showErrors","TypeError","ifYesClicked","filteredCustomsString","keepCookedNowAsync","handleKeyDown","ifClick","ifTriangleClicked","maxIndentFromRightInPx","rawInput","selectionStart","selectionEnd","x","getBoundingClientRect","right","trimmedInput","ifInputEmpty","currentHost","exactHost","exactState","newPos","setTimeout","setSelectionRange","setInputValue","editedHost","hidden","hiddenAcc","excState","removeEditedHost","inputProxyingState","ifYes","ifNo","inputNode","ifProxy","getExcEditor","excMods","getOrderedConfigs","evt","oldMods","newMods","err","warns","setStatusTo","bgWindow","lastNetErrors","ifCollecting","getExceptions","ModList","checks","orderedConfigs","mod","handleCheck","confMeta","ifChecked","ch","ifChild","handleNewValue","ifValid","onConfChanged","targetConf","targetIndex","ifMayHaveChild","childrenOfMod","onNewValue","getModList","ProxyEditor","UI_RAW","onlyPort","ctrlKey","parseInt","splitBySemi","proxyString","s","joinBySemi","strs","PROXY_TYPE_LABEL_PAIRS","SwitchButton","export","only","TabledEditor","selectedNewType","handleTypeSelect","that","showInvalidMessage","validationMessage","handleModeSwitch","onSwitch","handleAdd","form","elements","from","el","crededHostname","newHostname","port","newPort","proxyStringRaw","setProxyStringRaw","handleDelete","proxyAsString","proxyStrings","raisePriority","handleSubmit","editor","tabledEditor","shrink","addPanel","noPad","padLeft","proxyAsStringRaw","creds","utils","parseProxyScheme","proxyRow","ExportsEditor","ifHasErrors","stashedExports","resetState","showApply","getErrorsInStashedExports","errors","username","password","crededAddr","knownTypes","toUpperCase","portInt","handleTextareaChange","exportsEditor","textarea","waitingTillMount","localStorage","getItem","ifExportsMode","handleSwitch","mayEmitNewValue","componentDidUnmount","oldValue","ifValidityChanged","setItem","getProxyEditor","ApplyMods","resetMods","confirm","resetToDefaults","fireRequest","clear","close","getApplyMods","Notifications","listOfNotifiers","errorHandlers","getEventsMap","ntfId","ntfName","isOn","switch","getNotifications","checksName","selection","ifModsChangesAreStashed","ifModsChangesAreValid","catToOrderedMods","handleModChange","getAllMods","cat","handleModApply","modsMutated","oldCats","newCats","category","applyModsEl","modsHandlers","customProxyStringRaw","replaceDirectWith","t","focus","runtime","getBackgroundPage","installListenersOn","async","winChrome","ifNotControlled","ifControllable","query","active","currentWindow","ifInsideEdgeOptionsPage","ifOpenedUnsafely","getCurrent","querySelector","appendGlobalCss","Inferno","NotControlledWarning","cssClasses","warningContainer","messages","whichExtensionHtml","getNotControlledWarning","Main","Footer","statusRow","status","controlRow","display","getFooter","sanitizedUrl","search","URLSearchParams","searchParams","showNews","msg","setNewsStatusTo","newsArr","reverse","uiComDate","uiComEtag","uiLastNewsArr","statusFromUrl","comDate","oldEtag","headers","params","Headers","ghUrl","error","comments","etag","fetch","res","reject","all","json","statusCode","news","JSON","parse","minDate","comment","curDate","updated_at","created_at","newsTitle","getNewsHeadline","html_url","stringify","comBody","headline","lastArg","errToHtmlMessage","messageHtml","deeperMsg","warningHtml","w","m","viewError","switchInputs","beforeStatus","operation","afterStatus","onError","getApp","getElementById","show","visibility"],"sourceRoot":""}
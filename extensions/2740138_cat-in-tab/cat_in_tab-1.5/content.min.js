!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([,function(t,e){const i={attack:5,blink:5,dig:10,ennui:20,fly:20,lick:10,paw:10,relax:30,scratch:5,sleep1:30,sleep2:60,sleep3:20,sniff:5,stretch:5,sway:10,tail:20},s=["attack","sniff","stretch"],n={};function h(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)}async function o(t){const e=await fetch(t).then(t=>t.blob()).catch(t=>console.log(t));return await new Promise(t=>{const i=new FileReader;i.onload=()=>t(i.result),i.readAsDataURL(e)})}class r{constructor(t,e,i){this.x=e,this.y=i,this.name=t,this.width=50,this.height=50,this.frame=0,this.node=null,this.animId=null,this.spriteIndex=1,this.speed=.5}init(){if(!this.node){const t=document.createElement("img");t.src=chrome.runtime.getURL("sprites/walk/down/1.png"),t.id="cat-in-tab",t.style.left=this.x+"px",t.style.top=this.y+"px",t.style.position="absolute",t.style.zIndex="9999",t.style.width=this.width+"px",t.style.height=this.height+"px",this.node=document.body.appendChild(t)}}changeSprite(t,e){this.frame%13==0&&(4===this.spriteIndex?this.spriteIndex=1:this.spriteIndex+=1,this.node.src=void 0!==e?n[`${this.name}/${t}/${e}/${this.spriteIndex}`]:n[`${this.name}/${t}/${this.spriteIndex}`],this.frame=0),this.frame+=1}refreshPos(){this.node.style.top=this.y+"px",this.node.style.left=this.x+"px"}walkUp(){this.y<=0?this.next():(this.changeSprite("walk","up"),this.refreshPos(),this.y-=this.speed,this.animId=window.requestAnimationFrame(t=>this.walkUp(t)))}walkDown(){this.y+this.height>=document.body.scrollHeight?this.next():(this.changeSprite("walk","down"),this.refreshPos(),this.y+=this.speed,this.animId=window.requestAnimationFrame(t=>this.walkDown(t)))}walkRight(){this.x+this.width>=document.body.scrollWidth?this.next():(this.changeSprite("walk","right"),this.refreshPos(),this.x+=this.speed,this.animId=window.requestAnimationFrame(t=>this.walkRight(t)))}walkLeft(){this.x<=0?this.next():(this.changeSprite("walk","left"),this.refreshPos(),this.x-=this.speed,this.animId=window.requestAnimationFrame(t=>this.walkLeft(t)))}walkTopRight(){this.x+this.width>=document.body.scrollWidth||this.y<=0?this.next():(this.changeSprite("walk","top-right"),this.refreshPos(),this.x+=this.speed,this.y-=this.speed,this.animId=window.requestAnimationFrame(t=>this.walkTopRight(t)))}walkTopLeft(){this.x<=0||this.y<=0?this.next():(this.changeSprite("walk","top-left"),this.refreshPos(),this.x-=this.speed,this.y-=this.speed,this.animId=window.requestAnimationFrame(t=>this.walkTopLeft(t)))}walkBottomLeft(){this.x<=0||this.y+this.height>=document.body.scrollHeight?this.next():(this.changeSprite("walk","bottom-left"),this.refreshPos(),this.x-=this.speed,this.y+=this.speed,this.animId=window.requestAnimationFrame(t=>this.walkBottomLeft(t)))}walkBottomRight(){this.x+this.width>=document.body.scrollWidth||this.y+this.height>=document.body.scrollHeight?this.next():(this.changeSprite("walk","bottom-right"),this.refreshPos(),this.x+=this.speed,this.y+=this.speed,this.animId=window.requestAnimationFrame(t=>this.walkBottomRight(t)))}runUp(){this.y<=0?this.next():(this.changeSprite("run","up"),this.refreshPos(),this.y-=1.5*this.speed,this.animId=window.requestAnimationFrame(t=>this.runUp(t)))}runDown(){this.y+this.height>=document.body.scrollHeight?this.next():(this.changeSprite("run","down"),this.refreshPos(),this.y+=1.5*this.speed,this.animId=window.requestAnimationFrame(t=>this.runDown(t)))}runRight(){this.x+this.width>=document.body.scrollWidth?this.next():(this.changeSprite("run","right"),this.refreshPos(),this.x+=1.5*this.speed,this.animId=window.requestAnimationFrame(t=>this.runRight(t)))}runLeft(){this.x<=0?this.next():(this.changeSprite("run","left"),this.refreshPos(),this.x-=1.5*this.speed,this.animId=window.requestAnimationFrame(t=>this.runLeft(t)))}runTopRight(){this.x+this.width>=document.body.scrollWidth||this.y<=0?this.next():(this.changeSprite("run","top-right"),this.refreshPos(),this.x+=1.5*this.speed,this.y-=1.5*this.speed,this.animId=window.requestAnimationFrame(t=>this.runTopRight(t)))}runTopLeft(){this.x<=0||this.y<=0?this.next():(this.changeSprite("run","top-left"),this.refreshPos(),this.x-=1.5*this.speed,this.y-=1.5*this.speed,this.animId=window.requestAnimationFrame(t=>this.runTopLeft(t)))}runBottomLeft(){this.x<=0||this.y+this.height>=document.body.scrollHeight?this.next():(this.changeSprite("run","bottom-left"),this.refreshPos(),this.x-=1.5*this.speed,this.y+=1.5*this.speed,this.animId=window.requestAnimationFrame(t=>this.runBottomLeft(t)))}runBottomRight(){this.x+this.width>=document.body.scrollWidth||this.y+this.height>=document.body.scrollHeight?this.next():(this.changeSprite("run","bottom-right"),this.refreshPos(),this.x+=1.5*this.speed,this.y+=1.5*this.speed,this.animId=window.requestAnimationFrame(t=>this.runBottomRight(t)))}next(){const t=function*(){const t=["walkUp","walkDown","walkLeft","walkRight","walkTopLeft","walkTopRight","walkBottomLeft","walkBottomRight","runUp","runDown","runLeft","runRight","runTopLeft","runTopRight","runBottomLeft","runBottomRight","static"];for(;;){const e=h(0,t.length);yield t[e]}}().next();if("static"!==t.value&&this[t.value](),"static"===t.value){const t=Object.keys(i),e=t[h(0,t.length)],s=1e3*i[e];this[e](),setTimeout(()=>{this.stop(),this.next()},s)}}static injectActions(t){Object.keys(i).forEach(e=>{t[e]=()=>{t.changeSprite(e),t.refreshPos(),t.animId=window.requestAnimationFrame(i=>t[e](i))}})}static mountHoverActions(t){t.node.onmouseover=()=>{t.stop();const e=s[h(0,s.length)];t[e]()},t.node.onmouseout=()=>{t.node.style.transform="",t.stop(),t.next()},t.node.onmousemove=e=>{const i=e.clientX,s=t.width/2;i-t.x>=s?t.node.style.transform="scaleX(-1)":t.node.style.transform=""}}stop(){window.cancelAnimationFrame(this.animId)}}chrome.storage.sync.get(["count"],({count:t})=>{if(void 0!==t){let e=0;Object.values(t).forEach(t=>{e+=t}),0!==e&&(console.log("- Cat In Tab: Enable"),function(t){const e=document.getElementsByTagName("head")[0],i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t),e.appendChild(i)}(chrome.runtime.getURL("main.css")),function(){const t=["black","calico","glay","tabby","white"],e=["attack","blink","dig","ennui","fly","lick","paw","relax","scratch","sleep1","sleep2","sleep3","sniff","stretch","sway","tail","run/bottom-left","run/bottom-right","run/down","run/left","run/right","run/top-left","run/top-right","run/up","walk/bottom-left","walk/bottom-right","walk/down","walk/left","walk/right","walk/top-left","walk/top-right","walk/up"],i=[];for(;t.length>0;){const s=t.shift();for(let t=0,n=e.length;t<n;t+=1)for(let n=1;n<5;n+=1){const h=`${s}/${e[t]}/${n}`;i.push(o(chrome.runtime.getURL(`sprites/${h}.png`)).then(t=>({src:h,dataUrl:t})))}}return Promise.all(i).then(t=>{t.forEach(({src:t,dataUrl:e})=>{n[t]=e})})}().then(()=>{Object.keys(t).forEach(e=>{if(0!==t[e])for(let i=0;i<t[e];i+=1){const t=new r(e,h(0,document.body.scrollWidth),h(0,document.body.scrollHeight));t.init(),r.injectActions(t),r.mountHoverActions(t),t.next()}})}).catch(t=>console.log(`Cat: Preload Failed (${t})`)))}})}]);
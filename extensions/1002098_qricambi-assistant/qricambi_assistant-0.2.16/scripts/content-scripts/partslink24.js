chrome.storage.local.get(["partslinkOptions"]).then(t=>{if(console.log(t),t.partslinkOptions){var n=chrome.runtime.getURL("images/qicon16.png");let o=0;window.location.href.includes("partslink24/search-text-ajax.action?")&&(document.body.textContent.toLowerCase().includes("forbidden")?window.location.href="https://www.partslink24.com/partslink24/user/login.do":JSON.parse(document.body.textContent)&&"200"==JSON.parse(document.body.textContent).code&&JSON.parse(document.body.textContent).payload["redirect-url"]&&(window.location.href="https://www.partslink24.com"+JSON.parse(document.body.textContent).payload["redirect-url"])),setTimeout(async()=>{$("tbody, div.illubomalone div.p5_table_data, div.p5_table_cell").find('div[col-id="articleNo"] > span > div, div.p5t0_partno, span.codice, td.pnc.tc-lcell, td.bomPartno, td.partno, td.portnoFormatted, td.partnoColumn, td.partinfoPartnoCol, td.partnoHtml, div[id*="AOArticleNumberCell"], td.gmOpelNo, td.gmNo, td.partnoFormattedHTML, div.article-number-cell, tr:contains(Article number) > td, tr:contains(Numero articolo) > td, part-oe-card tr.ng-star-inserted > td, .p5t8_partno.cp_selectable > span, .p5t1_partno.cp_selectable > span').get().forEach(function(t){var e;!($(t).text()||"").trim()||0<$(t).find("img.qbuttonCode").length||($(t).children("div").first().css("display","inline-block"),e="&nbsp;<span><img class='qbuttonCode' style='user-select:none;background-color: white' src='"+n+"'></img></span>",$(t).append(e),o=Math.max(o,$(t).width()))});var t=$(document).find("img.qbuttonCode");t.unbind("click"),t.on("click",function(t){var t=$(t.target).parent().parent().text(),e=t.replace(")","").split("(");console.log(t.split("(")),chrome.runtime.sendMessage({method:"gotoQ",code:e[0]})})},2e3)}});
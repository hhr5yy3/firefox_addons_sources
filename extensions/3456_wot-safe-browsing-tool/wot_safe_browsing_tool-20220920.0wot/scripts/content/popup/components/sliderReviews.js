class SliderReviews extends React.Component{constructor(e){super(e),this.clickTypes=["rateStars","firstReviewButton","readMoreReviews"],this.avatarColors=scrambleAvatarColors(),this.seeAllReviews=this.seeAllReviews.bind(this)}getUserReview(){var e=this.props.store.getState();const t=e.user,a=e.reviews;if(!t.uid)return null;const s=a[t.uid]&&a[t.uid][this.props.info.host];return s&&-1!==s.rating?{name:t.name,picture:t.picture,comment:s.comment,rating:s.rating,uid:t.uid,timestamp:s.timestamp}:null}addMyReview(e){GA(GA_MAIN_CATEGORY,this.clickTypes[e]);const t=this.props.store.getState().user.uid,a=document.querySelectorAll(".reputation__star.selected");return t&&this.props.store.dispatch(newReview(t,this.props.info.host,a.length)),a.forEach(e=>e.classList.remove("selected")),parent.postMessage({type:OPEN_ADD_REVIEW},"*")}seeAllReviews(e){const t={[WOT_PRODUCT]:e};GA(GA_MAIN_CATEGORY,e),webextApi.runtime.sendMessage({name:OPEN_TAB_MESSAGE,url:buildUrl(SCORECARD_PAGE_URL+this.props.info.host,t)})}render(){const e=this.props.info,t=e.host[0].toUpperCase()+e.host.slice(1);var a=e.comments;const s=a.count,r=a.data,i=r&&this.getUserReview(),c=translate("shareExperience").split("%1%");return React.createElement("div",{className:"slider-reviews-container"},i?React.createElement("div",{className:"reviews-top-rect"},React.createElement(SliderSingleReview,{host:e.host,store:this.props.store,avatarStyle:this.avatarColors[0],review:i,index:0})):React.createElement("div",{className:"reviews-top-rect"},React.createElement("div",{className:"top-rect-title"},c[0],React.createElement("span",null,t),c[1]),e.rating?React.createElement("div",{className:"top-rect-action-wrapper"},React.createElement("div",{className:"slider-domain-logo"},React.createElement("img",{src:e.faviconUrl,alt:t[0]})),React.createElement("div",{className:"top-rect-action rate-stars",onClick:()=>this.addMyReview(0)},getRatingStarsAndColor(null).stars)):React.createElement("div",{className:"top-rect-action-wrapper no-rating"},React.createElement("div",{className:"top-rect-action"},React.createElement("div",{className:"write-review-button",onClick:()=>this.addMyReview(1)},React.createElement("div",{className:"write-review-icon"}),translate("writeReview"))))),React.createElement("div",{className:"reviews-title"},translate("reviews")),r&&r.length?r.slice(0,10).map((t,a)=>React.createElement(SliderSingleReview,{host:e.host,store:this.props.store,avatarStyle:this.avatarColors[a%5],review:t,index:a+1})):React.createElement("div",{className:"no-reviews"},React.createElement(LottieAnimation,{className:"review-lady",animationName:"review-lady.json"}),React.createElement("div",{className:"no-reviews-text"},translate("writeFirstReview"))),s>10&&React.createElement("div",{className:"reviews-read-more",onClick:()=>this.seeAllReviews(this.clickTypes[2])},translate("readMoreReviews").replace("%1%",(s-10).toLocaleString())))}}
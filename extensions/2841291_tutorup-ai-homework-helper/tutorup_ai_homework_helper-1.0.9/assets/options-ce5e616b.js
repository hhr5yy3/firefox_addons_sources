import{S as se,i as ae,s as le,x as v,H as ne,I as ie,J as re,N as ue,l as b,e as y,y as H,t as w,a as l,c as S,A as I,d as s,m as oe,P as ce,f as J,B as O,C as P,k as E,D as j,q as fe,z as pe,O as de,n as me,Q as ge,R as Z,u as F,T as _e}from"./HowTo.svelte_svelte_type_style_lang-20556c1e.js";function ee(n){let i,u=v.devices+"",c,f,t,a=n[0].status.usage+"",o,m,r,k;return{c(){i=w("- "),c=w(u),f=w(`:\r
        `),t=y("span"),o=w(a),m=w("/"),r=w(x),l(t,"class",k=n[0].status.usage===x?"text-red-600":"text-green-600")},m(_,g){S(_,i,g),S(_,c,g),S(_,f,g),S(_,t,g),s(t,o),s(t,m),s(t,r)},p(_,g){g&1&&a!==(a=_[0].status.usage+"")&&J(o,a),g&1&&k!==(k=_[0].status.usage===x?"text-red-600":"text-green-600")&&l(t,"class",k)},d(_){_&&(E(i),E(c),E(f),E(t))}}}function ve(n){let i,u=v.subscribe_to_pro+"",c,f,t,a;return{c(){i=y("a"),c=w(u),f=b(),t=y("img"),pe(t.src,a="/icons/deals.svg")||l(t,"src",a),l(t,"role","presentation"),l(t,"alt",""),l(i,"href",de),l(i,"target","_blank"),l(i,"class","main-footer-btn gradient-reverse flex items-center justify-center gap-2")},m(o,m){S(o,i,m),s(i,c),s(i,f),s(i,t)},p:me,d(o){o&&E(i)}}}function ke(n){let i,u,c,f,t,a,o,m,r,k,_,g,L=(n[0].key?v.deactivate:v.activate)+"",q,N,M,h,te=v.license_status+"",Q,X,D,R=(n[0].status.valid?v.active:v.inactive)+"",z,T,G,K,U,A,C,$,B,V;document.title=ne+" Settings",c=new ie({props:{options:!0}});let d=n[0].status.usage&&ee(n);return U=new re({props:{$$slots:{default:[ve]},$$scope:{ctx:n}}}),C=new ue({props:{detail:n[1]}}),{c(){i=b(),u=y("div"),H(c.$$.fragment),f=b(),t=y("main"),a=y("form"),o=y("label"),o.textContent=`${v.license_key}`,m=b(),r=y("input"),_=b(),g=y("button"),q=w(L),M=b(),h=y("p"),Q=w(te),X=b(),D=y("span"),z=w(R),G=b(),d&&d.c(),K=b(),H(U.$$.fragment),A=b(),H(C.$$.fragment),l(o,"for","license"),l(o,"class","col-span-full text-lg"),r.disabled=k=!!n[0].key,r.value=n[2],l(r,"type","text"),l(r,"name","license"),l(r,"autocomplete","off"),l(r,"class","min-w-[22rem] border text-sm"),l(r,"placeholder","ABCDEFGH-IJKL-MNOP-QRST-UVWXYZ123456"),l(g,"class",N=(n[0].key?"bg-red-600":"main-gradient")+" rounded px-6 py-0.5 font-medium text-white"),l(a,"class","grid max-w-max grid-cols-[1fr,auto] gap-2"),l(D,"class",T="capitalize "+(n[0].status.valid?"text-green-600":"text-red-600")),l(t,"class","grid w-full place-content-baseline justify-center gap-8 px-4 py-20"),l(u,"class","grid h-dvh grid-rows-[auto,1fr,auto]")},m(e,p){S(e,i,p),S(e,u,p),I(c,u,null),s(u,f),s(u,t),s(t,a),s(a,o),s(a,m),s(a,r),s(a,_),s(a,g),s(g,q),s(t,M),s(t,h),s(h,Q),s(h,X),s(h,D),s(D,z),s(h,G),d&&d.m(h,null),s(u,K),I(U,u,null),S(e,A,p),I(C,e,p),$=!0,B||(V=oe(a,"submit",ce(n[3])),B=!0)},p(e,[p]){(!$||p&1&&k!==(k=!!e[0].key))&&(r.disabled=k),(!$||p&4&&r.value!==e[2])&&(r.value=e[2]),(!$||p&1)&&L!==(L=(e[0].key?v.deactivate:v.activate)+"")&&J(q,L),(!$||p&1&&N!==(N=(e[0].key?"bg-red-600":"main-gradient")+" rounded px-6 py-0.5 font-medium text-white"))&&l(g,"class",N),(!$||p&1)&&R!==(R=(e[0].status.valid?v.active:v.inactive)+"")&&J(z,R),(!$||p&1&&T!==(T="capitalize "+(e[0].status.valid?"text-green-600":"text-red-600")))&&l(D,"class",T),e[0].status.usage?d?d.p(e,p):(d=ee(e),d.c(),d.m(h,null)):d&&(d.d(1),d=null);const W={};p&16&&(W.$$scope={dirty:p,ctx:e}),U.$set(W);const Y={};p&2&&(Y.detail=e[1]),C.$set(Y)},i(e){$||(O(c.$$.fragment,e),O(U.$$.fragment,e),O(C.$$.fragment,e),$=!0)},o(e){P(c.$$.fragment,e),P(U.$$.fragment,e),P(C.$$.fragment,e),$=!1},d(e){e&&(E(i),E(u),E(A)),j(c),d&&d.d(),j(U),j(C,e),B=!1,V()}}}const x=2;function ye(n,i,u){let c,f;fe(n,F,o=>u(0,f=o));async function t(o){try{if(f.key){if(!await _e(f.key))throw new Error("Failed to deactivate license key");F.changeSetting("key",""),Z.runtime.setUninstallURL(""),F.changeSetting("status",{valid:!1,usage:0,last_validated:Date.now()})}else{const r=new FormData(o.currentTarget).get("license");if(!r)return u(1,a={type:"error",msg:"Please enter a valid license key"});const k=await ge(r);Z.runtime.setUninstallURL(`https://tutorup.vercel.app/uninstall?lk=${r}`),F.changeSetting("key",r),F.changeSetting("status",k)}u(1,a={type:"success",msg:`License key was ${f.key?"activated":"deactivated"} successfully!`})}catch(m){u(1,a={type:"error",msg:m instanceof Error?m.message:m})}}let a;return n.$$.update=()=>{n.$$.dirty&1&&u(2,c=f.key.replace(/\w*(?=-)/g,o=>"*".repeat(o.length)))},[f,a,c,t]}class $e extends se{constructor(i){super(),ae(this,i,ye,ke,le,{})}}new $e({target:document.getElementById("root")});

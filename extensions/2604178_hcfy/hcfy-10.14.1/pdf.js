(()=>{var e,t,o,n={21060:(e,t,o)=>{"use strict";o.d(t,{O:()=>r});o(10865),o(17840);const n={"中文(简体)":"zh",英语:"en",俄语:"ru",西班牙语:"es",法语:"fr",阿拉伯语:"ar",土耳其语:"tr",葡萄牙语:"pt",泰语:"th",印尼语:"id",意大利语:"it",越南语:"vi"};function r(e,t="",o=""){const r=n[o]||"auto",s=n[t]||"zh";return`https://translate.alibaba.com/#hcfy_text=${encodeURIComponent(e)}&hcfy_from=${r}&hcfy_to=${s}`}},1707:(e,t,o)=>{"use strict";o.d(t,{O:()=>r});o(10865),o(17840),o(48983);const n={"":"自动识别","中文(简体)":"中文"};function r(e,t="中文",o=""){return`https://fanyi.qq.com/#hcfy_text=${encodeURIComponent(e)}&hcfy_from=${n[o]||o}&hcfy_to=${n[t]||t}`}},10469:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});const n=JSON.parse('{"中文(简体)":"zh-CHS","英语":"en","日语":"ja","西班牙语":"es","阿拉伯语":"ar","法语":"fr","韩语":"ko","俄语":"ru","德语":"de","葡萄牙语":"pt","意大利语":"it","希腊语":"el","荷兰语":"nl","芬兰语":"fi","丹麦语":"da","越南语":"vi","印地语":"hi","印尼语":"id","马来语":"ms"}');o(17840);function r(e,t="",o=""){const r=n[o],s=n[t];return r&&s?`https://fanyi.youdao.com/#hcfy_text=${encodeURIComponent(e)}&hcfy_from=${r}&hcfy_to=${s}`:`http://fanyi.youdao.com/#hcfy_text=${encodeURIComponent(e)}`}},37752:(e,t,o)=>{"use strict";o(1363);var n=o(51127),r=o.n(n),s=o(25873),i=(o(10865),o(46172));(0,i.FN)(chrome.windows.get),(0,i.FN)(chrome.windows.create),(0,i.FN)(chrome.windows.update),(0,i.FN)(chrome.tabs.sendMessage),(0,i.FN)(chrome.tabs.query),(0,i.FN)(chrome.tabs.executeScript),(0,i.FN)(chrome.tabs.get),(0,i.FN)(chrome.tabs.update),(0,i.FN)(chrome.tabs.create),(0,i.FN)(chrome.permissions.contains);o(62234);var a=o(79071),c=o.n(a);let l,u=()=>{u=c(),l=document.createElement("textarea"),l.style.position="absolute",l.style.top="-99999px",document.body.appendChild(l)};o(33873),o(98376),o(47010);var d=o(85596),m=o.n(d),p=o(14041),f=o(95805),h=o(74874),g=o.n(h),v=o(16224),b=o(25148),y=o(96538);var w=o(42631),x=o(30819),C=o(19687),F=o(31085);function E(){localStorage.setItem("tipForGoogleNewAPI2","1")}function j(e){const t=(0,p.useRef)();(0,p.useEffect)((()=>{if(e&&!localStorage.getItem("tipForGoogleNewAPI2"))return t.current=e.show({timeout:0,action:{text:"不再提示",onClick:E},intent:"primary",message:(0,F.jsxs)(F.Fragment,{children:["划词翻译自 v10.4.0 起重新支持了返回跟谷歌翻译网站（translate.google.com）一样的翻译结果，可在【划词翻译设置】-【第三方服务】-【谷歌翻译】中选择【速度慢、准确率高】启用。",(0,F.jsx)(C.$,{small:!0,intent:"primary",onClick:()=>{r().runtime.sendMessage({action:"open options page"})},text:"打开设置"})]})},t.current),()=>{t.current&&e.dismiss(t.current)}}),[e])}var P=o(12128),k=o(20916),N=o(22780),O=o(23619);function _(){r().runtime.sendMessage({action:"open options page",suffix:"#/store"}).catch((e=>{window.alert("打开设置页时发生了一个错误。错误消息：："+(null==e?void 0:e.message))}))}const S=50,A=new P.y("pdfLimit",S);function $(e){const[t,o]=(0,p.useState)(!1),[n,r]=(0,p.useState)("");return(0,p.useEffect)((()=>{A.isOver().then((e=>{o(e),r(A.dateEnd)}))}),[]),(0,p.useEffect)((()=>{document.addEventListener("webviewerloaded",(function(){const e=window.PDFViewerApplication;e.initializedPromise.then((function(){e.eventBus.on("fileinputchange",(()=>{A.isOver(!0).then((t=>{o(t),t&&e.close()}))}))}))}))}),[]),(0,F.jsxs)(k.l,{isOpen:t,isCloseButtonShown:!1,canEscapeKeyClose:!1,canOutsideClickClose:!1,title:"提示",portalContainer:e.portalContainer,children:[(0,F.jsxs)(N.R,{children:["非会员每七天只能打开 ",S," 个 PDF 文件，下次重置时间：",n,"。成为会员即可解除文件个数限制。"]}),(0,F.jsx)(O.E,{actions:(0,F.jsx)(C.$,{intent:"primary",text:"开通会员",onClick:_})})]})}const z=window.location.search.includes("_blocked"),I=window.location.search.includes("_incognito"),M=g()(v.g2,"tipNewProfessionalClosed"),D=document.createElement("link");function R(){const[e,t]=(0,p.useState)(null),[o,n]=(0,b.A)(M),r=!o||o.tipNewProfessionalClosed;return(0,y.A)((e=>{const t=document.head.contains(D);e?t||document.head.appendChild(D):t&&document.head.removeChild(D)})),function(e,t,o){const n=(0,p.useRef)();(0,p.useEffect)((()=>{if(t&&e)return n.current=e.show({timeout:0,action:{text:"不再提示",onClick:()=>{o()}},intent:"primary",message:"划词翻译支持百度翻译（专业版）和阿里翻译（专业版），覆盖电子科技、水利机械、电商、医药、金融等多个领域。"},n.current),()=>{n.current&&e.dismiss(n.current)}}),[o,t,e])}(e,!r,(0,p.useCallback)((()=>{n({tipNewProfessionalClosed:!0})}),[n])),j(e),(0,p.useEffect)((()=>{z&&e&&e.show({timeout:0,className:"blocked-tip",intent:"warning",message:`由于浏览器自身的安全限制，划词翻译无法通过右键菜单打开电脑里的 PDF 文件；从 ${x.UP?"Edge":"Chrome"} 93 起，也无法在浏览器自带的 PDF 阅读器中打开在线 PDF 文件，请将文件拖放到此页面打开。`})}),[e]),(0,p.useEffect)((()=>{I&&e&&e.show({timeout:0,className:"blocked-tip",intent:"warning",message:"由于浏览器自身的安全限制，内置 PDF 阅读器无法在无痕模式下使用，已自动为你转到普通模式窗口里打开。"})}),[e]),(0,F.jsx)(w.A,{cssText:m(),children:e=>(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(f.V,{ref:t,usePortal:!1}),(0,F.jsx)($,{portalContainer:e||void 0})]})})}D.rel="stylesheet",D.href="viewer-dark.css";var B=o(18861),T=o(65040),q=o(16680),L=o(17840),U=o(28487);if(T.$){const e=document.createElement("div");e.style.all="initial",document.documentElement.appendChild(e);(0,s.H)(e).render((0,F.jsx)(B.A,{})),function(){const e=e=>{if("get tab url"===e)return Promise.resolve(window.location.href)};r().runtime.onMessage.addListener(e)}(),r().runtime.sendMessage({action:"update badge"})}else new q.Z;const Z=document.createElement("div");Z.style.all="initial",document.documentElement.appendChild(Z);(0,s.H)(Z).render((0,F.jsx)(R,{})),document.addEventListener("webviewerloaded",(function(){const e=window.PDFViewerApplication;e.initializedPromise.then((function(){const t=document.createElement("button");t.textContent="复制 PDF 网址",t.style.margin="3px 2px 4px 0",t.style.cursor="pointer",t.addEventListener("click",(()=>{var t;t=e.url,u(),l.value=t,l.select(),document.execCommand("copy")}));const o=document.getElementById("toolbarViewerRight");null==o||o.insertAdjacentElement("afterbegin",t);const n=document.createElement("span");n.textContent="提示：可以将 PDF 文件拖放到此页面打开",n.style.fontSize="12px",n.style.color="#fff",n.style.margin="8px 8px 0 0",null==o||o.insertAdjacentElement("afterbegin",n),r().storage.local.get("pdfZoom").then((({pdfZoom:e})=>{if(e){const t=location.hash,o=(0,L.q)(t,"#"===t[0]),n=Number(e);o.zoom=isNaN(n)?e:String(100*n),location.hash="#"+(0,U.qs)(o)}})),e.eventBus.on("scalechanged",(function(e){r().storage.local.set({pdfZoom:e.value})})),e.eventBus.on("zoomin",(function(e){r().storage.local.set({pdfZoom:e.source.pageScaleValue})})),e.eventBus.on("zoomout",(function(e){r().storage.local.set({pdfZoom:e.source.pageScaleValue})}))}))}))},17840:(e,t,o)=>{"use strict";o.d(t,{q:()=>n});o(33873),o(48605),o(47010);function n(e,t=!0){return(t?e.slice(1):e).split("&").reduce(((e,t)=>{const[o,n]=t.split("=");return e[o]=n?decodeURIComponent(n):"",e}),{})}},52665:(e,t,o)=>{var n=o(36758),r=o(40935)(n);r.push([e.id,".bp5-overlay{z-index:99999999999}",""]),e.exports=r},85596:(e,t,o)=>{var n=o(52665);n&&n.__esModule&&(n=n.default),e.exports="string"==typeof n?n:n.toString()},46172:(e,t,o)=>{"use strict";o.d(t,{FN:()=>r.F,Ye:()=>n.Ye});var n=o(74004),r=o(37508)},37508:(e,t,o)=>{"use strict";o.d(t,{F:()=>n});o(33873),o(10865),o(47010);function n(e,t){return function(...o){return new Promise(((n,r)=>{e.call(t,...o,(e=>{const t=chrome.runtime.lastError;t?r(t):n(e)}))}))}}},74004:(e,t,o)=>{"use strict";o.d(t,{Ye:()=>r});var n=o(37508);const r=(0,n.F)(chrome.runtime.sendMessage);(0,n.F)(chrome.storage.local.set,chrome.storage.local),(0,n.F)(chrome.storage.local.get,chrome.storage.local),(0,n.F)(chrome.storage.local.remove,chrome.storage.local),(0,n.F)(chrome.storage.local.clear,chrome.storage.local),(0,n.F)(chrome.storage.local.getBytesInUse,chrome.storage.local)}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}s.m=n,e=[],s.O=(t,o,n,r)=>{if(!o){var i=1/0;for(u=0;u<e.length;u++){for(var[o,n,r]=e[u],a=!0,c=0;c<o.length;c++)(!1&r||i>=r)&&Object.keys(s.O).every((e=>s.O[e](o[c])))?o.splice(c--,1):(a=!1,r<i&&(i=r));if(a){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,n,r]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,o)=>(s.f[o](e,t),t)),[])),s.u=e=>({231:"blueprint-icons-split-paths-by-size-loader",824:"blueprint-icons-all-paths-loader",860:"blueprint-icons-all-paths"}[e]+".js"),s.miniCssF=e=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},o="browser-extension:",s.l=(e,n,r,i)=>{if(t[e])t[e].push(n);else{var a,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==o+r){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",o+r),a.src=e),t[e]=[n];var m=(o,n)=>{a.onerror=a.onload=null,clearTimeout(p);var r=t[e];if(delete t[e],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(n))),o)return o(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=m.bind(null,a.onerror),a.onload=m.bind(null,a.onload),c&&document.head.appendChild(a)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),s.p="",(()=>{var e={839:0};s.f.j=(t,o)=>{var n=s.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var r=new Promise(((o,r)=>n=e[t]=[o,r]));o.push(n[2]=r);var i=s.p+s.u(t),a=new Error;s.l(i,(o=>{if(s.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",a.name="ChunkLoadError",a.type=r,a.request=i,n[1](a)}}),"chunk-"+t,t)}},s.O.j=t=>0===e[t];var t=(t,o)=>{var n,r,[i,a,c]=o,l=0;if(i.some((t=>0!==e[t]))){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(c)var u=c(s)}for(t&&t(o);l<i.length;l++)r=i[l],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(u)},o=self.webpackChunkbrowser_extension=self.webpackChunkbrowser_extension||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=s.O(void 0,[375,492,167,267,233,984,756,643,189,701,49,861],(()=>s(37752)));i=s.O(i)})();
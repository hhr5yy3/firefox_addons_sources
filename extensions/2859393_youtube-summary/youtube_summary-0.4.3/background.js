function isYoutubeUrl(t){if(!t)return!1;if(!t.startsWith("http"))return!1;return"www.youtube.com"===new URL(t).hostname}chrome.tabs.onUpdated.addListener((async function(t,e,r){if("complete"===e.status&&r.active&&r.url.startsWith("http")&&isYoutubeUrl(r.url)){const e=new URL(r.url).search,s=new URLSearchParams(e).get("v");if(!s)return;chrome.tabs.sendMessage(r.id,{event:"show-button",videoId:s,tabId:t})}}));
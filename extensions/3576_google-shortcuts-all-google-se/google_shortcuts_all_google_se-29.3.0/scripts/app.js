"use strict";!function(){var n=window,A=n.location,I=document,B="undefined"!=typeof chrome&&chrome||{},m=B.runtime.getURL("PATH/").replace("/PATH/",""),d=m.startsWith("safari-web-extension://"),m=!d&&m.startsWith("moz-extension://"),f=!d&&!m;function v(r){return new Promise(function(n,a){B.tabs.query(r,function(e){var t=B.runtime.lastError;t?a(t):Array.isArray(e)?d&&r&&r.url?(t=e.filter(function(e){return e.url}),n(t)):n(e):a(new Error("No array returned"))}),setTimeout(n,2e3)})}function b(r){var o,i,e,t;return r&&"string"==typeof r?(o=-1===r.indexOf("?"),i=-1===r.indexOf("#"),e=r.split("?")[0].split("#")[0]+"*",t={currentWindow:!0},(e=e)&&(t.url=e),v(t).then(function(e){for(var t=e.length-1;0<=t;t--){var n=e[t],a=n.url;if(a){if(a===r)return n;try{a=new URL(a)}catch(e){continue}if(o&&(a.search=""),i&&(a.hash=""),a.href===r)return n}}return null},function(){return null})):Promise.resolve(null)}function _(){return new Promise(function(t){B.tabs.getCurrent(function(e){B.runtime.lastError,t(e)})})}function C(){return v({active:!0,currentWindow:!0}).then(function(e){return e[0]},function(){return null})}function y(e,t){return new Promise(function(n,a){B.tabs.update(e,t,function(e){var t=B.runtime.lastError;t?a(t):n(e)})})}function E(o){return new Promise(function(n,a){function r(e){var t=e.message||"";"openerTabId"in o&&-1!==t.indexOf("openerTabId")?(delete o.openerTabId,n(E(o))):f&&-1!==t.indexOf("Saved groups are not editable")?n():a(e)}try{B.tabs.create(o,function(e){var t=B.runtime.lastError;t?r(t):n(e)})}catch(e){r(e)}})}function w(e){n.open(e,"_blank","noopener")}function L(t){try{n.top.location.href=t}catch(e){w(t)}}function j(e,t,n,r){var a={url:e};return!1===t&&n&&(a.active=!1),r&&(a.openerTabId=r.id,a.index=r.index+1),E(a).then(function(e){var t,n,a;return t=e,n=r,B.tabs.group&&t&&n&&(a=n.groupId,t.groupId!==a)&&B.tabs.group({groupId:a,tabIds:t.id},function(){B.runtime.lastError||(t.groupId=a)}),e},function(){w(e)})}function x(e,t,n,a,r){if(!e)return Promise.reject(new Error("Missing URL"));if(!n){var o;if(t)return o=Boolean(a&&a.incognito),i={incognito:o,url:e},new Promise(function(n,a){B.windows.create(i,function(e){var t=B.runtime.lastError;t?a(t):n(e)})}).catch(function(){return j(e,t,n,a)});if(!1===n)return function t(n,e){var a=e||null;return y(a,{url:n}).catch(function(){if(!a)return C().then(function(e){if(e.id)return t(n,e.id);L(n)});L(n)})}(e,r)}var i;return j(e,t,n,a)}function k(e,t,n){var a;x(B.runtime.getURL((a=B.runtime.getManifest()).options_page||(a.options_ui||{}).page||"/views/options.html"),e,t,n)}function S(e,t,n){return e||t?k(e,t,n):new Promise(function(e,t){B.runtime.openOptionsPage(function(){(B.runtime.lastError?t:e)()})}).catch(function(){return k(e,t,n)})}var N=!0;try{var e=B.i18n.getMessage("@@ui_locale");"string"==typeof e&&"und"!==e&&(a=e.replace("_","-"))}catch(e){N=!1}var r=a;if(!r)try{var t=B.runtime.getManifest().default_locale;"string"==typeof t&&(r=t.replace("_","-"))}catch(e){}function X(e,t){return e&&N&&B.i18n.getMessage(e)||t||""}function Y(e,t){return-1!==e.indexOf(t)||(t=t&&t.split("-",1)[0],-1!==e.indexOf(t))?t:null}function Z(){return getSelection().toString()}function ee(e){return B.scripting.executeScript({func:Z,target:{allFrames:!0,tabId:e}}).then(function(e){return("string"==typeof e[0]?e:e.map(function(e){return e.result})).filter(Boolean).join(" ")},function(){return""})}function te(e,t){var a;return B.scripting?e?ee(e):(t||C()).then(function(e){return e?ee(e.id):""}):(a=e,new Promise(function(n){B.tabs.executeScript(a||null,{allFrames:!0,code:"getSelection().toString()",runAt:"document_start"},function(e){var t="";Array.isArray(e)?t=e.filter(Boolean).join(" "):"string"==typeof e&&(t=e),n(t)})}).catch(function(){return""}))}function ne(e){var n;return"object"!=typeof e?"":(n=[],Object.keys(e).forEach(function(t){null!=e[t]&&(Array.isArray(e[t])?e[t].forEach(function(e){n.push(t+"="+encodeURIComponent(e))}):n.push(t+"="+encodeURIComponent(e[t])))}),n.join("&"))}function ae(a){var e=C();return Promise.all([e,te(null,e)]).then(function(e){var t=e[0],e=e[1],n="",e=(0<e.length&&(n+=e+"\n\n"),t.pendingUrl||t.url);return e&&(n+=e),"https://mail.google.com/mail/u/"+(a.authuser||"0")+"/?"+ne({tf:"0",ui:"2",view:"cm",su:t.title,body:n})})}function re(n){return te().then(function(e){var t;return"https://www.google.com/maps/search/?"+ne({api:"1",authuser:!(t=(t=n).authuser)||"0"===t?null:t,query:e})})}var oe=["ac","ad","ae","af","ag","al","am","as","at","az","ba","be","bf","bg","bi","bj","bo","bs","bt","by","ca","cat","cc","cd","cf","cg","ch","ci","cl","cm","cn","co","co.ao","co.bw","co.ck","co.cr","co.hu","co.id","co.il","co.im","co.in","co.je","co.jp","co.ke","co.kr","co.ls","co.ma","co.mz","co.nz","co.th","co.tz","co.ug","co.uk","co.uz","co.ve","co.vi","co.za","co.zm","co.zw","com","com.af","com.ag","com.ai","com.ar","com.au","com.bd","com.bh","com.bn","com.bo","com.br","com.by","com.bz","com.co","com.cu","com.cy","com.do","com.ec","com.eg","com.et","com.fj","com.ge","com.gh","com.gi","com.gr","com.gt","com.hk","com.iq","com.jm","com.jo","com.kh","com.kw","com.lb","com.lc","com.ly","com.mm","com.mt","com.mx","com.my","com.na","com.nf","com.ng","com.ni","com.np","com.nr","com.om","com.pa","com.pe","com.pg","com.ph","com.pk","com.pr","com.py","com.qa","com.ru","com.sa","com.sb","com.sg","com.sl","com.sv","com.tj","com.tn","com.tr","com.tw","com.ua","com.uy","com.vc","com.vn","cv","cz","de","dj","dk","dm","do","dz","ec","ee","es","fi","fm","fr","ga","gd","ge","gf","gg","gl","gm","gp","gr","gy","hk","hn","hr","ht","hu","ie","im","io","iq","is","it","it.ao","je","jo","kg","ki","kz","la","li","lk","lt","lu","lv","md","me","mg","mk","ml","mn","ms","mu","mv","mw","mx","ne","ng","nl","no","nr","nu","ph","pk","pl","pn","ps","pt","qa","ro","rs","ru","rw","sc","se","sg","sh","si","sk","sl","sm","sn","so","sr","st","td","tg","tk","tl","tm","tn","to","tt","tw","ua","us","vg","vn","vu","ws"];function ie(r,e,o){if(!e)return null;try{var t=new URL(e),i=function(e){for(var t=e,n=t+"/",a=!1,r=0;!a&&r<oe.length;){var o=".google."+oe[r]+"/";-1!==n.indexOf(o)&&(t=n.replace(o,".google.com"),a=!0),r++}return t}(t.hostname)+t.pathname.split(/\/u\/\d\//).join("/").split(/\/b\/\d{21}\//).join("/")}catch(e){return null}return Object.keys(r).filter(function(e){var t=r[e],n=t.nu,a=!n&&t.u;return a&&((n=(a=new URL(a)).hostname+a.pathname).endsWith("/")&&(n=n.slice(0,-1)),t.nu=n),n&&-1!==i.indexOf(n)&&(o||!t.subId||t.subId===e)}).sort(function(e,t){return r[e].nu<r[t].nu?1:-1})}var ce="undefined"!=typeof KeyboardEvent&&"key"in KeyboardEvent.prototype&&!/MSIE |Edge\/|Trident.*rv:11\./.test(navigator.userAgent)&&void 0===String.quote,se=ce?" ":32,le=ce?"Enter":13;function de(e){return ce&&e.key||e.which||e.keyCode}var e=n.top===n.self,O=A.pathname.endsWith("/embed.html"),u=!1,ue=!1,ge=!O&&!u&&!ue;if(e===O)throw A.href="about:blank",new Error("Not allowed to run");var P,g,he,T,pe,M,me,fe,ve,be,_e,Ce,W,o,ye,Ee,i,s,we,Le,je,xe,ke,D,F,h,Se,U,z,q,Ne,c,Ae,a=navigator.userAgent.toLowerCase(),t=d||/^Mac|^iP/.test(navigator.platform),Ie=t&&-1!==a.indexOf("chrome")&&-1===a.indexOf("opr"),Be=t?50:0,Oe="undefined"!=typeof fetch,Pe=t?"metaKey":"ctrlKey",Te=!1,Me=!0,We=!1,De=!1,Fe=!0,Ue=Fe||De,ze=!0,qe=!1,Re=!1,Ge=!0,He=!1,Ke=!1,Je=!1,Ve=!0,$e=!1,Qe=!1,l=320,p=O&&new URLSearchParams(A.search),Xe=p&&"1"===p.get("newtab"),Ye=p&&"1"===p.get("darkmode"),Ze=p&&(e=p.get("ogsUrl"))&&e.startsWith("https://ogs.google.")?e:null,t=!p||!(a=p.get("authuser"))||1!==a.length||-1==="0123456789".indexOf(a)?null:a,et=p&&(et=p.get("pageId"))&&0|et?et:null,tt=algBasics.proFeatures,nt=algBasics.hasProSubscription&&-1!==tt.indexOf("search_all"),R={authuser:t,pageId:et},at=algBasics.cachePrefix+"applauncher",G=algBasics.getShortcutsList(),H={},rt={},ot={},it=!1,K=I.documentElement,J=I.body;function ct(e){var t=I.getElementById("ref-darkmode");t&&(t.media=e)}function st(){pt()?ct("(prefers-color-scheme: dark)"):ct(Ye?"screen":"not all")}O&&st(),m?K.classList.add("alg-style-flag--firefox"):d&&(K.classList.add("alg-style-flag--safari"),"iPhone"===navigator.platform)&&K.classList.remove("alg-style-flag--popup");var lt=["af","am","ar","be","bg","bn","bs","ca","cs","da","de","el","en","en-GB","en-US","eo","es","es-419","es-AR","es-CL","es-MX","et","fa","fi","fil","fr","fr-CA","gl","gu","he","hi","hr","hu","id","is","it","iw","ja","ka","km","kn","ko","lb","lt","lv","mk","ml","mr","ms","nb","nl","nn","no","pl","pt","pt-BR","pt-PT","ro","ru","sk","sl","sr","sr-Latn","sv","sw","ta","te","th","tl","tr","uk","ur","vi","zh","zh-CN","zh-HK","zh-TW"];function V(e,t){return e&&Ae&&Ae[e]&&Ae[e].message||X(e,t)}function dt(){return d?Promise.resolve({}):C().then(function(e){(je=e)&&(xe=je.pendingUrl||je.url)})}function ut(){setTimeout(function(){A.reload()})}function gt(){I.hidden?it=!0:ut()}function ht(e){return"string"==typeof e&&("about:blank"===e||"about:newtab"===e||"about:home"===e||"favorites://"===e||"topsites://"===e||-1!==e.indexOf("/_/chrome/newtab")||-1!==e.indexOf("/components/startpage/startpage.html")||e.startsWith("chrome-native://newtab")||e.startsWith("chrome-search://local-ntp")||e.startsWith("chrome-untrusted://new-tab-page")||e.startsWith("chrome://new-tab-page")||e.startsWith("chrome://new-tab-page-third-party")||e.startsWith("chrome://newtab")||e.startsWith("chrome://startpage")||e.startsWith("chrome://startpageshared")||e.startsWith("chrome://vivaldi-webui/startpage")||e.startsWith("edge://newtab")||e.startsWith("https://duckduckgo.com/chrome_newtab")||e.startsWith("https://ntp.msn.com/")||e.startsWith("https://www.bing.com/chrome/newtab")||e.startsWith("https://www.ecosia.org/newtab/"))}function pt(){if(Xe)return 1;if(ht(xe))return 1;try{return ht(new URLSearchParams(Ze.split("?")[1]).get("origin"))}catch(e){}}function mt(e,t){var n,a;H=algBasics.joinCustomShortcutsDatabase([t,e]),rt=t[algBasics.cachePrefix+"iconDataCache"]||{},o=!(be=!1),e.openInCurrentTab?o=!1:e.openInNewTabChrome?o=!0:Xe?o=!1:ke.then(function(){o=!pt()}),e.appDarkMode&&ct("screen"),ye=e.noFocusTab,Ee=e.noFocusActiveTab,g=Ge&&!1!==e.showLaunchbox,he=!g&&He&&!1!==e.showSettings,P=g||he,ve=O&&!e.gbwaConfig,me=e.freezeCustomisation,M=!0===Fe&&!me,T=Re||ze&&e.displayMarketplaceApps,pe=Ve&&!e.hideSuggestions,i=Me&&e.hideLabel,W=algBasics.parseUserlist(e.userList),algBasics.handleTemporaryShortcuts(W,e.autoListRemoved,G),t=e.shortcutIconSize,s=d?48:40==(t=0|t)?40:!t||40<t?48:We&&i?t:24,we=32===s||16===s?s:48,I.documentElement.style.setProperty("--icon-size",s+"px"),Le=32<s,Te&&(t=e.displayMode||"grid",e=0|e.iconBreak,"grid"!==(t="custom"===t&&e<1?"grid":t)||i&&!Le)&&(n=Le?44:16,a=Le?92:i?16+s:152,"vertical"===t?e=1:"horizontal"===t?e=25:"custom"!==t&&(e=16<s?4:5),t=W.length,l=n+(e=t<e&&t?t:e)*a,g&&l<152?(_e=l,l=152):794<l&&(l=n+Math.floor((794-n)/a)*a),O&&(l+=24),Ce=l<224,ge)&&(t=l.toString()+"px",K.style.width=t,K.classList.add("alg-style-flag--customgrid"))}function ft(e){var t="string"==typeof(t=e)&&Boolean(/^(?:ar|ajp|arz|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[_-](?:adlm|arab|hebr|nkoo|rohg|thaa)(?:$|-|_))(?!.*[_-](?:latn|cyrl)(?:$|-|_))/i.test(t));K.dir=t?"rtl":"ltr",K.lang=e}function vt(){var e,t=function(){if(Oe)if(u)for(var e=Array.prototype.concat(navigator.language,navigator.languages,navigator.userLanguage),t=0;t<e.length;t++){var n=e[t],n=Y(lt,n);if(n)return n===r?void 0:n}else{var a=p&&p.get("hl");if(a&&"string"==typeof a){a=Y(lt,a);if(a&&a!==r)return a}}}();return t?((e=t)&&"string"==typeof e?"undefined"==typeof fetch?Promise.reject(new Error("No fetch API")):(e="/_locales/"+e.replace("-","_")+"/messages.json",e=B.runtime?B.runtime.getURL(e):".."+e,fetch(e).then(function(e){return e.json()})):Promise.reject(new Error("Invalid language tag"))).then(function(e){return Ae=e,t},function(){return r}):Promise.resolve(r)}function bt(){var e=browserStorage.local.get([algBasics.cachePrefix+"iconDataCache","algCustomShortcutsDatabase","legacyExtDisplayed202404"]),e=[browserStorage.sync.get(algBasics.supportedStorageKeys),e];return(O||u)&&e.push(vt().then(ft)),Promise.all(e).then(function(e){return mt(e[0],e[1])})}var _t=-1;function Ct(){var t;t=!0,_().then(function(e){return!d||!e||t||e.url===A.href?e:void 0},function(){return null}).then(function(e){e=e&&e.id||-1;_t=e,$(),setTimeout($,10),setTimeout($,50),setTimeout($,200),setTimeout($,1e3),setInterval($,4e3)})}function yt(e,t){e={method:e,data:t,target:"contentscript"};if(-1===_t){t=e;try{B.runtime.sendMessage({method:"forward",data:t,targetFrame:0})}catch(e){(e.message||"").includes("Extension context invalidated")}}else B.tabs.sendMessage(_t,e,{frameId:0})}function Et(){n.close()}function wt(){ue||(ge?Et():(setTimeout(function(){n.scrollTo(0,0)}),yt("closePopup")))}function Lt(e){var t,n;u?webkit.messageHandlers.controller.postMessage("openExtensionPreferences"):(t=e&&e.shiftKey,n=e&&(e[Pe]||1===e.button),S(t,n).then(function(){n&&!1===t||wt()}))}function jt(e,t,n){var a=t,r=n||ye&&!t||o&&null;return x(e,a,r,O&&je).then(function(){r&&!1===a||wt()})}function xt(t,e){var n=e&&e.shiftKey,a=e&&(e[Pe]||1===e.button);return"object"!=typeof B.tabs||Ee||n||a?jt(t,n,a):b(t).then(function(e){return e?y(e.id,{active:!0}).then(wt,function(){return jt(t,n,a)}):jt(t,n,a)})}function kt(e,t){e(R).then(function(e){return xt(e,t)})}function St(e,t){"175"===e?kt(ae,t):"176"===e?kt(re,t):"-1"===e?Lt(t):e in H?xt(H[e].url,t):xt(algBasics.getShortcutUrl(e,R),t)}function Nt(e,t){O?dt().then(function(){St(e,t)},function(){St(e,t)}):St(e,t)}function At(){W=[];for(var e=U.children,t=0;t<e.length;t++){var n=e[t].dataset.shortcutId;W.push(n)}}function It(e,t){var n=V(e.i,e.name||""),a=algFrontend.createShortcutItem(e,{customIconDataCache:rt,customShortcutsDatabase:H,draggable:Ue&&!e.marketplaceApp,hideLabel:i,label:n,sourceSize:we},t);return"edit"===Fe&&((e=algFrontend.createIconButton({iconName:"delete",label:X("cj_i18n_01669","Remove shortcut"),onClick:function(){a.remove(),At(),algBasics.saveSelectedShortcutsWithRemovals(W)}})).classList.add("alg-removeicon"),a.appendChild(e)),a.setAttribute("role","link"),a.dataset.queryLabel=n.toLowerCase(),a}function $(){var e=D?D.scrollHeight+2:J.scrollHeight;e<3||yt("popupHeight",0|(e=2e3<(e=e<200?200:e)?2e3:e))}function Bt(){var e=I.createElement("ul");return e.className="cj-shortcutlist",ge&&_e&&(e.style.width=_e+"px"),Le?e.classList.add("cj-shortcutlist--grid"):O&&e.classList.add("cj-shortcutlist--list"),i&&e.classList.add("cj-shortcutlist--nolabels"),s<24&&e.classList.add("cj-shortcutlist--condensed"),e}function Q(e){var t;fe||(t=e.target.dataset.shortcutId)&&Nt(t,e)}function Ot(){algBasics.saveSelectedShortcutsWithRemovals(W)}function Pt(e){var t,n,a,r=e.target;algFrontend.envMacLockdownMode&&(r=r.parentNode),(M||De)&&r.parentNode===U?(t=e.dataTransfer,M?(t.setData("text/plain",r.textContent),t.dropEffect="move",c=r,setTimeout(function(){U.classList.add("cj-shortcutlist--dragging"),r.classList.add("cj-shortcutlist__item--dragging"),h&&(h.hidden=!1),P||(F.hidden=!1)})):(n=r.dataset.shortcutId,n=(a=algBasics.getShortcutUrl(n,R))||(a=H[n]||G[n]).url||a.u,t.setData("text/uri-list",n),t.setData("text/plain",n),t.dropEffect="link")):e.preventDefault()}function Tt(e){M&&(e.preventDefault(),setTimeout(function(){U.classList.remove("cj-shortcutlist--dragging"),c.classList.remove("cj-shortcutlist__item--dragging"),c=null,h&&(h.hidden=!0),P||(F.hidden=!0),Ot(),$()}))}function Mt(e){var t,n;M&&(t=e.target,algFrontend.envMacLockdownMode&&t.classList.contains("cj-shortcutlist__dragimage")&&(t=t.parentNode),n=c.dataset.shortcutId,setTimeout(function(){var e;t===U?U.appendChild(c):t===h?U.removeChild(c):(e=W.indexOf(n)<W.indexOf(t.dataset.shortcutId)?t.nextSibling:t,U.insertBefore(c,e)),At()}))}function Wt(e){var t=Bt();t.addEventListener("click",Q),t.addEventListener("auxclick",Q),t.addEventListener("keydown",function(e){var t=de(e);t!==le&&t!==se||Q(e)});for(var n=0;n<e.length;n++){var a=e[n],r=G[a]||H[a];r&&t.appendChild(It(r,a))}return Ue&&(t.addEventListener("dragstart",Pt),t.addEventListener("dragend",Tt),t.addEventListener("dragenter",Mt)),t}function Dt(e,t){var n=I.createDocumentFragment();t.forEach(function(e){var e=e[1]&&e[1][0],e=algBasics.gbIdToShortcutIdMap[e];e&&G[e]&&(e=It(G[e],e),n.appendChild(e))}),e.appendChild(n)}function Ft(e,t){var i=I.createDocumentFragment(),c=48<(n.devicePixelRatio||2)*s;t.forEach(function(t){o=c,a={marketplaceApp:!0,name:(e=t).name||""},(r=e.iconUrl48x48||e.iconUrl96x96||e.iconUrl).endsWith("/apps_script_48dp.png")?a.icon="script":r.startsWith("https://ssl.gstatic.com/classroom/ic_product_classroom_")?a.icon="classroom":r.startsWith("https://ssl.gstatic.com/images/branding/product/1x/cloud_print_")?a.icon="cloudprint":(n=48,o&&e.iconUrl96x96&&(r=e.iconUrl96x96,n=96),a.iconData={href:r,size:n});var e,n,a,r,o=It(a);o.addEventListener("click",function(e){xt(t.url,e)}),i.appendChild(o)}),e.appendChild(i),e.hidden=!1}function Ut(e){var t=U.querySelector(".cj-shortcutlist__item--prefixmatch")||U.querySelector(".cj-shortcutlist__item:not(.cj-shortcutlist__item--noquerymatch)");t?Nt(t.dataset.shortcutId,e):(t=T&&q.querySelector(".cj-shortcutlist__item:not([hidden])"))&&t.click()}function zt(e){for(var t=e.currentTarget.value.toLowerCase(),n=0<t.length,a=(K.classList.toggle("alg-style-flag--searching",n),I.querySelectorAll(".cj-shortcutlist > .cj-shortcutlist__item")),r=0;r<a.length;r++){var o=a[r],i=o.dataset.queryLabel,c=!1,s=!1;n&&(-1===(i=i.indexOf(t))?c=!0:s=0===i),o.classList.toggle("cj-shortcutlist__item--noquerymatch",c),o.classList.toggle("cj-shortcutlist__item--prefixmatch",s)}nt?(z.hidden=!n,U.hidden=n,q&&(q.hidden=n),Se.hidden=n):(U.hidden=!U.querySelector(".cj-shortcutlist__item:not(.cj-shortcutlist__item--noquerymatch)"),T&&(e=q.querySelector(".cj-shortcutlist__item:not(.cj-shortcutlist__item--noquerymatch)"),q.hidden=!e)),O&&setTimeout($,1e-10)}function qt(){var t,a,e,n,r,o,i,c,s,l=I.createElement("div");return l.className="alg-appbar",Fe&&!me&&((h=I.createElement("div")).hidden=!0,h.className="alg-droparea",I.addEventListener("dragover",function(e){e.preventDefault()}),h.addEventListener("drop",Tt),h.addEventListener("dragenter",Mt),l.appendChild(h),(o=algFrontend.createIconButton({iconName:"delete"})).classList.add("alg-droparea__icon"),o.disabled=!0,h.appendChild(o),(o=I.createElement("p")).className="alg-droparea__message",o.textContent=V("cj_i18n_00097","Drop here to remove"),h.appendChild(o)),P&&(O&&B.runtime.onMessage.addListener(function(e){var t,n=e&&e.method;n&&"app"===e.target&&(e=e.data,"shareDocHeightRequest"===n?$():"popupOpenState"===n?g&&e&&($(),a.focus(),setTimeout($,100)):"newDarkMode"===n?(t=e,(t=Boolean(t))!==Ye&&(Ye=t,st())):"newPageLanguage"===n?(t=Y(lt,e))&&K.lang.split("-")[0]!==t.split("-")[0]&&gt():"ping"===n&&yt("pong",e))}),g?(t=algFrontend.createIconButton({iconName:"search",label:V("cj_i18n_01619","Search and launch"),onClick:function(e){a.value&&Ut(e),a.focus()}}),l.appendChild(t),(a=I.createElement("input")).className="alg-appbar__input",a.autofocus=!O,a.placeholder=Ce?V("cj_i18n_00085","Search"):V("cj_i18n_01619","Search and launch"),a.addEventListener("input",zt),a.addEventListener("keyup",function(e){de(e)===le&&Ut(e)}),l.appendChild(a)):((o=I.createElement("h1")).className="alg-appbar__title",o.textContent="Shortcuts for Google",l.appendChild(o)),"edit"!==Fe||me||(e=function(e){U.classList.toggle("cj-shortcutlist--customising",e),M=fe=e,t.hidden=e,a.hidden=e,Se.hidden=e,r.hidden=!e,n.hidden=!e},(n=I.createElement("h1")).hidden=!0,n.className="alg-appbar__title",n.textContent="Customise",l.appendChild(n),Se=algFrontend.createIconButton({iconName:"edit",label:V("cj_i18n_01713","Customise")}),(r=algFrontend.createIconButton({iconName:"done",label:V("cj_i18n_00301","Done")})).hidden=!0,Se.addEventListener("click",function(){e(!0)}),l.appendChild(Se),r.addEventListener("click",function(){e(!1)}),l.appendChild(r)),o=V("cj_i18n_00298","Settings"),u?(c=d?"more_horiz":"more_vert",s=V("cj_i18n_00047","More"),i=[[o,Lt]],u&&i.push([V("cj_i18n_01997","Quit"),Et]),c=algFrontend.createDropdownButton(c,s,function(){return i}),l.appendChild(c)):(s=algFrontend.createIconButton({iconName:"settings",label:o,onClick:Lt}),l.appendChild(s))),l}function Rt(e){n.scrollTo(0,0),J.style.width=l+e%2+"px",K.style.width=l+"px",K.style.marginLeft=(e-1)%2+"px",e<2?setTimeout(Rt.bind(null,e+1),100):(J.style.width="",K.style.marginLeft="")}function Gt(a,e,r,o){var t=I.createElement("section"),n=(t.className="alg-suggestion",algFrontend.createShortcutIcon(a,e,{size:48})),n=(n.classList.add("alg-suggestion__icon"),t.appendChild(n),I.createElement("div")),i=(n.className="alg-suggestion__details",t.appendChild(n),I.createElement("h2")),i=(i.className="alg-suggestion__title",i.textContent=e.name||"",n.appendChild(i),I.createElement("p")),e=(i.className="alg-suggestion__subtitle",i.textContent=e.nu,n.appendChild(i),I.createElement("div")),i=(e.className="ccc-button ccc-button--color alg-suggestion__add",e.textContent=V("cj_i18n_01621","Add shortcut"),e.addEventListener("click",function(){var e,t;t=G[e=a],-1===W.indexOf(e)&&t&&(W.push(e),U.appendChild(It(t,e)),Ot()),Ne.cjceClose()}),n.appendChild(e),algFrontend.createIconButton({iconName:"close",label:V("cj_i18n_01620","Dismiss"),onClick:function(){var e,t,n;e=a,n=o,-1===(t=r).indexOf(e)&&(t.push(e),t.sort(),B.storage.local.set({suggestionBlacklist:t})),-1!==(t=n.indexOf(e))&&(n.splice(t,1),n.sort(),B.storage.local.set({suggestionWhitelist:n})),Ne.cjceClose()}}));return i.classList.add("alg-suggestion__dismiss"),t.appendChild(i),t}function Ht(){var t,n,a,r,e,o,i,c,s,l="-"+R.pageId+"-"+R.authuser,l=(at+=l,(D=I.createElement("main")).className="alg-launcherapp",(P||M)&&(F=qt(),P||(F.hidden=!0),he||(F.classList.add("alg-appbar--sticky"),D.appendChild(F))),Array.isArray(W)&&0<W.length);function d(e,t){var n=e[t];n&&Array.isArray(e)&&0!==e.length&&Dt(o[t],c[t]=n)}function u(e,t){var n=e[t],a=o[t];n&&Array.isArray(e)&&0!==e.length?(e=c[t],s[t]=n,JSON.stringify(n)!==JSON.stringify(e)&&(a.textContent="",Dt(a,n))):a.textContent=""}q=T&&(n=Bt(),a=!(n.hidden=!0),r=algBasics.cachePrefix+"marketplace-apps-"+R.pageId+"-"+R.authuser,browserStorage.local.getItem(r).then(function(e){!a&&Array.isArray(e)&&0!==e.length&&Ft(n,t=e)}),algBasics.getMarketplaceApps(R).then(function(e){a=!0,0===e.length?n.remove():t&&JSON.stringify(t)===JSON.stringify(e)||(n.textContent="",Ft(n,e),browserStorage.local.setItem(r,e))}),n),T&&qe&&D.appendChild(q),nt&&((z=function(e){for(var t=Bt(),n=(t.addEventListener("click",Q),t.addEventListener("auxclick",Q),t.addEventListener("keydown",function(e){var t=de(e);t!==le&&t!==se||Q(e)}),[].concat(e,Object.keys(G))),a=[],r=0;r<n.length;r++){var o,i=n[r];-1===a.indexOf(i)&&(a.push(i),o=G[i]||H[i])&&t.appendChild(It(o,i))}return Ue&&(t.addEventListener("dragstart",Pt),t.addEventListener("dragend",Tt),t.addEventListener("dragenter",Mt)),t}(W)).classList.remove("cj-shortcutlist--grid"),z.classList.add("cj-shortutlist--details"),z.style.setProperty("--icon-size","24px"),z.hidden=!0,D.appendChild(z)),!Ke&&l&&(U=Wt(W),D.appendChild(U)),Qe&&ot&&Array.isArray(ot.enterpriseList)&&0<ot.enterpriseList.length&&(e=Wt(ot.enterpriseList),U=U||e,D.appendChild(e)),Je&&D.appendChild((e=I.createDocumentFragment(),(j=Bt()).addEventListener("click",Q),j.addEventListener("auxclick",Q),e.appendChild(j),(m=Bt()).addEventListener("click",Q),m.addEventListener("auxclick",Q),e.appendChild(m),i=!(o=[j,m]),c=[],s=[],browserStorage.local.getItem(at).then(function(e){!i&&e&&Array.isArray(e)&&0!==e.length&&(d(e,0),d(e,1))}),algBasics.getOgsShortcuts(R).then(function(e){i=!0,e&&Array.isArray(e)&&0!==e.length&&(u(e,0),u(e,1),JSON.stringify(c)!==JSON.stringify(s))&&browserStorage.local.setItem(at,s)}),j.addEventListener("dragstart",Pt),j.addEventListener("dragend",Tt),j.addEventListener("dragenter",Mt),m.addEventListener("dragstart",Pt),m.addEventListener("dragend",Tt),m.addEventListener("dragenter",Mt),e)),T&&!qe&&D.appendChild(q),he&&(F.classList.add("alg-appbar--bottom","alg-appbar--center"),D.appendChild(F));var g,h,p,m,f,v,b,_,C,y,E,w,L,j=!0,x=((g=I.createElement("div")).classList.add("alg-bottombanner"),g.cjceClose=function(){K.classList.remove("alg-style-flag--wide-content"),g.remove(),setTimeout($,10)},g.cjceOpen=function(){K.classList.add("alg-style-flag--wide-content"),D.appendChild(g)},g);function k(e){ve=!1,browserStorage.sync.set({gbwaConfig:e||"override"}),f.cjceClose()}function S(){B.storage.local.set({workspaceBannerDisplayed:!0}),C.cjceClose()}function N(){y.cjceClose()}be?(h=x,p=-1!==navigator.userAgent.indexOf("OPR"),(m=I.createElement("section")).className="alg-bottombanner__section",h.appendChild(m),(_=I.createElement("div")).className="alg-bottombanner__header",m.appendChild(_),(b=I.createElement("img")).draggable=!1,b.className="alg-bottombanner__icon",b.src="/images/action/alg/alg-16.svg",_.appendChild(b),(b=I.createElement("h3")).className="alg-bottombanner__title",v=p?"Shortcuts for Google on Opera":"App Launcher in Popup",b.textContent=v+=" has been replaced with G App Launcher.",_.appendChild(b),(v=I.createElement("p")).className="alg-dialog__message",_=V("cj_i18n_06310","This extension also overrides the App Launcher on Google websites. This can always be changed in settings."),v.textContent=_,m.appendChild(v),(b=I.createElement("div")).className="alg-dialog__controls",m.appendChild(b),_=algFrontend.createMaterialButton({color:!0,hairline:!0,label:V("cj_i18n_01659","Cancel"),onClick:function(){B.storage.local.set({legacyExtDisplayed202404:!0}),h.cjceClose()}}),b.appendChild(_),v=algFrontend.createMaterialButton({color:!0,fill:!0,label:V("cj_i18n_06968","Upgrade now"),onClick:function(e){xt(p?"https://addons.opera.com/extensions/details/app_id/jegfmclagmheobcjojbiohjekamkpbeb":"https://chrome.google.com/webstore/detail/g-app-launcher-customizer/ponjkmladgjfjgllmhnkhgbgocdigcjm",e),h.cjceClose()}}),b.appendChild(v)):ve?(f=x,(_=I.createElement("section")).className="alg-bottombanner__section",f.appendChild(_),(b=I.createElement("div")).className="alg-bottombanner__header",_.appendChild(b),(v=I.createElement("img")).draggable=!1,v.className="alg-bottombanner__icon",v.src="/images/action/alg/alg-16.svg",b.appendChild(v),(v=I.createElement("h3")).className="alg-bottombanner__title",v.textContent=V("cj_i18n_06309","Welcome to {APP_NAME}").replace("{APP_NAME}","G App Launcher"),b.appendChild(v),(b=I.createElement("p")).className="alg-dialog__message",b.textContent=V("cj_i18n_06310","This extension also overrides the App Launcher on Google websites. This can always be changed in settings."),_.appendChild(b),(v=I.createElement("div")).className="alg-dialog__controls",_.appendChild(v),b=algFrontend.createMaterialDropdown({color:!0,hairline:!0,label:V("cj_i18n_01900","More options"),options:{override:V("cj_i18n_06302","Override button and launcher"),launcheronly:V("cj_i18n_06303","Only override launcher"),hide:V("cj_i18n_06304","Hide button"),leave:V("cj_i18n_06305","Don't override")},onChange:function(e){k(e),"leave"===e&&Ze&&(A.href=Ze)}}),v.appendChild(b),_=algFrontend.createMaterialButton({color:!0,fill:!0,label:V("cj_i18n_06311","Confirm"),onClick:function(){k("override")}}),v.appendChild(_)):$e?(C=x,(E=I.createElement("section")).classList.add("alg-bottombanner__section"),C.appendChild(E),(L=I.createElement("div")).className="alg-bottombanner__header",E.appendChild(L),(w=I.createElement("img")).draggable=!1,w.className="alg-bottombanner__icon",w.src="/images/action/alg/alg-16.svg",L.appendChild(w),(w=I.createElement("h3")).className="alg-bottombanner__title",w.textContent="Try Google Workspace!",L.appendChild(w),(L=I.createElement("p")).className="alg-dialog__message",L.textContent="Try Google Workspace!",E.appendChild(L),(w=I.createElement("div")).className="alg-dialog__controls",E.appendChild(w),L=algFrontend.createMaterialButton({color:!0,hairline:!0,label:V("cj_i18n_07403","Do not ask again"),onClick:function(){S()}}),w.appendChild(L),E=algFrontend.createMaterialButton({color:!0,fill:!0,label:V("cj_i18n_07404","Start"),onClick:function(){S()}}),w.appendChild(E)):pe&&l?(Ne=x,setTimeout(function(){ke.then(function(){var o;o=x,B.storage.local.get(["suggestionBlacklist","suggestionWhitelist"],function(e){var t,n,a=e.suggestionBlacklist||[],e=e.suggestionWhitelist||[],r=!1;if(!(t=xe&&(n=ie(G,xe),Array.isArray(n))&&0<n.length?n.filter(function(e){return-1===W.indexOf(e)&&-1===a.indexOf(e)})[0]:t)){if(.03<Math.random())return;r=!0,t=.5<Math.random()||-1!==W.indexOf("9998")?"9999":"9998"}-1!==W.indexOf(t)||-1!==algBasics.disallowedlist.indexOf(t)||!r&&-1===e.indexOf(t)?(e.push(t),e.sort(),B.storage.local.set({suggestionWhitelist:e})):(n=G[t])&&(r=Gt(t,n,a,e),o.appendChild(r),o.cjceOpen())})})})):j=!1,nt&&(j=!0,y=x,(L=I.createElement("section")).className="alg-bottombanner__section alg-searchpromo",y.appendChild(L),(w=I.createElement("div")).className="alg-bottombanner__header",L.appendChild(w),(E=I.createElement("img")).draggable=!1,E.className="alg-bottombanner__icon",E.src="/images/action/alg/alg-16.svg",w.appendChild(E),(E=I.createElement("h3")).className="alg-bottombanner__title",E.textContent=V("cj_i18n_06309","Welcome to {APP_NAME}").replace("{APP_NAME}","G App Launcher"),w.appendChild(E),(w=I.createElement("p")).className="alg-dialog__message",w.textContent=V("cj_i18n_06310","This extension also overrides the App Launcher on Google websites. This can always be changed in settings."),L.appendChild(w),(E=I.createElement("div")).className="alg-dialog__controls",L.appendChild(E),w=algFrontend.createMaterialButton({color:!0,outline:!0,label:V("cj_i18n_01616","Close"),onClick:function(){N()}}),E.appendChild(w),L=algFrontend.createMaterialButton({color:!0,fill:!0,label:V("cj_i18n_07618","Upgrade"),onClick:function(){N(),openUpgradeView()}}),E.appendChild(L)),j&&x.cjceOpen(),J.textContent="",J.appendChild(D),K.classList.add("alg-style-flag--loaded"),O&&(Ct(),I.addEventListener("visibilitychange",function(){!I.hidden&&it&&ut()}),B.storage.onChanged.addListener(function(e,t){"sync"!==t||(t=e.userList&&e.userList.newValue)&&t.join(",")===W.join(",")||gt()})),ge&&Ie&&(K.classList.add("alg-style-flag--macfix"),Rt(0))}function Kt(){J.textContent="",O||(K.dir=N&&B.i18n.getMessage("@@bidi_dir")||"ltr",K.lang=r),ke=dt(),Qe?algBasics.getEnterpriseData().then(function(e){var t;e&&e.toolbarIconUrl?algBasics.setActionIconWithUrl(e.toolbarIconUrl):algBasics.setActionIcon("app_launcher_square"),e?(ot=e.config,R=e.account,bt().then(Ht)):((e=I.createElement("div")).style.margin="24px",(t=I.createElement("p")).textContent=V("cj_i18n_01949","No compatible account could be found"),e.appendChild(t),(t=I.createElement("button")).type="button",t.textContent=V("cj_i18n_01544","Sign in"),t.className="ccc-button ccc-button--fill ccc-button--color",t.addEventListener("click",function(e){xt("https://accounts.google.com/AddSession",e)}),e.appendChild(t),J.appendChild(e))}):bt().then(Ht)}O?Kt():"complete"===I.readyState?setTimeout(Kt,10+Be):n.addEventListener("load",function(){setTimeout(Kt,30+Be)})}();
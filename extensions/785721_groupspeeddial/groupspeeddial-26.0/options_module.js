"use strict";(globalThis.webpackChunkgroup_speed_dial=globalThis.webpackChunkgroup_speed_dial||[]).push([[534],{6304:(e,t,a)=>{a.d(t,{W:()=>s});let s=a(4323).lQ},4662:(e,t,a)=>{a.d(t,{I:()=>s});const s=new(a(910).F)("_bing_data",(()=>({images:[],index:0})),{storageArea:"local"})},5448:(e,t,a)=>{a.d(t,{G:()=>l});var s=a(2846),i=a(2542),r=a(7552),n=a(5524),o=a(6683);async function l(e){await s.M.promise;const t=s.M.GROUPS,a=new Set;for(let e=0;e<t.length;e++){const s=t[e];s.background?.type===o.sf.FILE&&a.add(s.id+s.createBackgroundFileURL());for(let e=0;e<s.dials.length;e++){const t=s.dials[e];t.url?a.add(s.id+t.url):t.multi&&Array.isArray(t.multi.links)?t.multi.links.forEach((e=>a.add(s.id+e.url))):t.providers&&Array.isArray(t.providers)&&t.providers.filter(i.Z).forEach((e=>a.add(s.id+e.url)))}}if(0!==a.size)for(const t of[r.ew.DB_IMAGE,r.ew.DB_PREVIOUS,r.ew.DB_ORIGINAL]){const s=await e.mapEachRecord(t,{filter:e=>!a.has(e.group+e.url),map:e=>({groupId:e.group,url:e.url})});for(const{groupId:a,url:i}of s)await e.removeDial(a,i).catch((e=>(0,n.vV)(`cannot delete dial from "${t}", row: [${a}, ${i}]`,e)));(0,n.cO)(`DB cleanup complete, from table: "${t}" deleted ${s.length} rows:`)}}},3015:(e,t,a)=>{a.d(t,{D:()=>s});const s=()=>Promise.all([a.e(611),a.e(900)]).then(a.bind(a,9232))},9830:(e,t,a)=>{a.d(t,{J:()=>i,W:()=>r});var s=a(910);const i=new s.F("sync",(()=>({}))),r=new s.F("version",(()=>0))},4352:(e,t,a)=>{a.d(t,{L:()=>n});var s=a(4323),i=a(6801),r=a(6062);function n(...e){new Set(e.length?e:[void 0]).forEach(o)}async function o(e){const t={type:"data_changed",groupId:e};(0,i._z)(r.Dy?t:{type:"broadcast",message:t}).catch(s.lQ)}},8297:(e,t,a)=>{a.d(t,{G0:()=>i,GU:()=>r});var s=a(4162);s.G_.Home,s.G_.Pro,s.G_.Enterprise;const i="x-access-secret",r=(e,t)=>`${e}/cloud?share=${t}`;var n,o;(e=>{e[e.public=0]="public"})(n||(n={})),(e=>{e[e.unlimited=0]="unlimited"})(o||(o={}))},2924:(e,t,a)=>{a.d(t,{H:()=>s,J:()=>i});let s=0;const i=e=>s=e},2009:(e,t,a)=>{a.d(t,{DN:()=>r,ZQ:()=>n,mX:()=>i});var s=a(2846);let i=!1;async function r(){i=!0,(await s.M.getVisibleGroups()).find((e=>e.archived))?.activateGroup()}async function n(){i=!1,(await s.M.getVisibleGroups()).find((e=>!e.archived))?.activateGroup()}},6214:(e,t,a)=>{a.d(t,{Lv:()=>n,RN:()=>o});var s=a(5524),i=a(4323);class r{_groupsCache=[new Map];constructor(){}getBlobURL(e,t,a){const i=this._groupsCache[e]||(this._groupsCache[e]=new Map),r=i.get(t);if(r)return r;try{const e=URL.createObjectURL(a);return i.set(t,e),e}catch(i){(0,s.vV)("createObjectURL failed",i,{url:t,groupId:e,blob:a})}}clearAll(){this._groupsCache.forEach(((e,t)=>this.clearGroup(t)))}clearGroup(e){const t=this._groupsCache[e];t&&(t.forEach((async e=>{await(0,i.BK)(2e3),URL.revokeObjectURL(e)})),t.clear())}}const n=new r,o=new r},4559:(e,t,a)=>{a.d(t,{B:()=>i,O1:()=>r,uT:()=>n});var s=a(1962);const i=()=>(0,s.$H)("dials-container"),r=()=>(0,s.$H)("groups"),n=()=>(0,s.$H)("dials")},3143:(e,t,a)=>{a.d(t,{i:()=>r});var s=a(6683),i=a(1484);function r(e,t){const a=[];let r=!1,n=0;for(const o of t){const t=o.size||0;if(t!==s.ZU.NORMAL){if(0===n){if(r)return a;n=(0,i.Q)(t)-1,a.length=0}else n--;a.push(o),o.domId===e.domId&&(r=!0)}else{if(r)return a;a.length=0,n=0}}return a}},1038:(e,t,a)=>{a.d(t,{f:()=>d});var s=a(1374),i=a(6683),r=a(5524),n=a(1484),o=a(9719),l=a(7526),c=a(3143);function d(e,t,a,d){const u=t.map((e=>e.clone())),_=u.find((e=>e.domId===a.domId)),p=_.size||0,h=(0,n.Q)(d),m=(0,n.Q)(p),v=Math.abs(h-m);if(p!==d){if(p===i.ZU.NORMAL);else{const e=(0,c.i)(_,u);if(e.length<m)return(0,r.vV)("bad cluster size");if(h>=m);else{if(e.filter((e=>e.isEmptyDial())).length<v)return;for(let t=u.length-1,a=0;t>=0;t--){const s=u[t];if(s.isEmptyDial()&&e.some((e=>e.domId===s.domId))&&(u.splice(t,1),++a>=v))break}}e.forEach((e=>e.size=d))}if(h>m){const t=Array(v).fill(0).map(((t,a)=>new o.I((0,l.V)(),e,{size:d}))),a=(0,s.SL)(u,(e=>e.domId===_.domId));a>=0&&u.splice(a+1,0,...t)}return _.size=d,u}}},1484:(e,t,a)=>{a.d(t,{M:()=>r,Q:()=>i});var s=a(6683);const i=e=>Math.imul(...r(e));function r(e){switch(e){case s.ZU.V_HALF:return[2,1];case s.ZU.H_HALF:return[1,2];case s.ZU.V_THIRD:return[3,1];case s.ZU.H_THIRD:return[1,3];case s.ZU.V_FOURTH:return[4,1];case s.ZU.H_FOURTH:return[1,4];default:return[e+1,e+1]}}},1410:(e,t,a)=>{a.d(t,{CL:()=>u,a5:()=>l,oV:()=>_,t3:()=>d});var s=a(2221),i=a(2447),r=a(4559);const n="no-drop";let o=!1;const l={get isTempEnabled(){return o},setTempEnable(){o=!0},get isLocked(){return s.lw.DISABLE_DRAG_AND_DROP&&!l.isTempEnabled},lockDrop(e){e.setData(n,n)},isDropLocked:e=>e.getData(n)===n},c=new i.e("locked_grid_groups",(()=>[]));function d(e){return c.get().includes(e)}function u(e,t){_(e,t);const a=new Set(c.get());t?a.add(e):a.delete(e),c.set([...a])}function _(e,t){(0,r.B)().classList.toggle("grid_locked",t??d(e))}},6481:(e,t,a)=>{a.d(t,{s:()=>n,w:()=>o});var s=a(4323),i=a(8794),r=a(2846);async function n(e,t,a){t!==a&&await r.M.action("swapDials",{srcGroupId:t,destGroupId:a,srcDialIndex:e,destDialIndex:-1,operation:"swap"})}async function o(e,t,a){const n=await i._V.get()||(0,s.qb)("source dial not found"),[{dialIndex:o,operation:l,groupId:c}]=n;"cut"!==l&&"swap"!==a||await i._V.remove(),"cut"===l&&"paste"===a?await r.M.action("moveDials",{srcGroupId:c,destGroupId:e,srcDialIndexes:n.map((e=>e.dialIndex)),destDialIndex:t,operation:"move"}):await r.M.action("swapDials",{srcGroupId:c,destGroupId:e,srcDialIndex:o,destDialIndex:t,operation:"swap"===a?"swap":"replace"===a||"paste"===a?l:(0,s.qb)("unknown op")})}},3074:(e,t,a)=>{a.d(t,{$8:()=>i,jE:()=>r,yc:()=>s});const s=e=>{self.dispatchEvent(new CustomEvent("__drawDials",{detail:e}))},i=()=>{self.dispatchEvent(new CustomEvent("__redrawDials"))},r=()=>{self.dispatchEvent(new CustomEvent("__redrawLastDials"))}},2100:(e,t,a)=>{a.d(t,{GZ:()=>o,RT:()=>n,_C:()=>r});var s=a(3456),i=a(4323);const r=new s.k,[n,o]=(0,i.Mj)()},6799:(e,t,a)=>{a.d(t,{$u:()=>d,Np:()=>u,t1:()=>c});var s=a(2924),i=a(2100),r=a(6664),n=a(416),o=a(2846),l=a(2857);async function c(e){const{editSingleDial:t}=await Promise.all([a.e(274),a.e(432),a.e(711),a.e(356),a.e(767)]).then(a.bind(a,6126));return e.groupId??=s.H,(0,n.$)((e=>document.documentElement.classList.toggle("edit_dial",e)),(()=>t(e)))}async function d(e,t,a=t.getLastEmptyDial()?.domId){if(a){if(t.grid){const s=t=>{const s=t.dialById(a);r.J.create(t).placeItem(s,e)};return(0,n.$)((e=>{r.J.showEmptyDial(e),e&&s(t),i._C[e?"register":"unregister"](s)}),(()=>c({id:a,gridPlacement:{x:e.x,y:e.y}})))}return c({id:a})}}async function u(e,t){await(0,l.g)(t,e),await o.M.action("removeDial",{groupId:e,index:t.index})}},7743:(e,t,a)=>{a.d(t,{O:()=>r,c:()=>n});var s=a(6683),i=a(416);const r=()=>a.e(711).then(a.bind(a,2497));async function n(e,{isNewGroup:t=!1,targetTab:r=s.tR.General}={}){const{editSingleGroup:n}=await Promise.all([a.e(274),a.e(432),a.e(711),a.e(356),a.e(178)]).then(a.bind(a,4925));return(0,i.$)((e=>document.documentElement.classList.toggle("edit_group",e)),(()=>n(e,{isNewGroup:t,targetTab:r})))}},841:(e,t,a)=>{a.d(t,{v:()=>s});const s={width:300,height:225,androidWidth:240,androidHeight:195,listWidth:300,androidListWidth:228}},9:(e,t,a)=>{a.d(t,{Ks:()=>c,QY:()=>d,yd:()=>l});var s=a(4424),i=a(1374),r=a(4323),n=a(9719),o=a(5717);function l(e,t,a,s,r,l,c,d,u){let _=o.M6.dialsToClusters(t);if(r||l||c)_=_.filter((e=>!e.isEmptyDial())).concat(new o.uP(n.I.createEmptyDial(e)));else{const t=d*u-_.length;if(t>0){const a=Array(t).fill(0).map((()=>new o.uP(n.I.createEmptyDial(e))));_.push(...a)}const r=a-d,l=s-u;if(r>=0&&l>0)for(let t=d;t>0;t--)for(let a=0;a<l;a++)_.splice(t*u,0,new o.uP(n.I.createEmptyDial(e)));if(r<=0||l<0)for(let e=d;e>0;e--)for(let t=0;t<-l;t++){const a=e*u-1-t;_[a].isEmptyDial()&&_.splice(a,1)}_.reverse(),_.length>a*s&&Array(_.length-a*s).fill(0).forEach((()=>(0,i.M$)(_,(e=>e.isEmptyDial())))),_.reverse();for(let t=_.length;t<a*s;t++)_.push(new o.uP(n.I.createEmptyDial(e)))}return o.M6.clustersToDials(_)}function c(e,t){const{rows:a,cols:s,dials:i,dynamic:r,list:n,grid:o}=e,c=a+("row"===t?1:0),d=s+("column"===t?1:0),u=l(e.id,i,c,d,r,n,o,a,s);return Object.assign(e,{rows:c,cols:d,dials:u})}function d(e,t,a){const n=o.M6.dialsToClusters(t.dials),l=(0,i.SL)(n,(e=>e.includes(a)));l<0&&(0,r.qb)("dial not found");const c="row"===e?s.q:s.W,d=c(l,t.cols);return n.filter(((e,a)=>d===c(a,t.cols)))}},8641:(e,t,a)=>{a.d(t,{H:()=>s});const s=()=>a.e(286).then(a.bind(a,1329))},5904:(e,t,a)=>{a.d(t,{x:()=>n});var s=a(5953),i=a(9887),r=a(2441);class n{areas;height;width;constructor(e){this.areas=e,this.height=this.areas.length,this.width=this.areas.at(0)?.length||0}getCoordinates(e){let t=-1,a=-1;const i=this.areas.findIndex((s=>{if(t=s.indexOf(e),-1!==t)return a=s.lastIndexOf(e),!0}));if(-1===i)return;const r=this.areas.findLastIndex((a=>a.includes(e,t)));return new s.$(t,i,a,r)}getConflictsInRange(e,{left:t,top:a,right:s,bottom:i},r){const n=new Map;for(let o=a;o<=i;o++){const a=this.areas[o];if(!a)return r?n:void 0;for(let i=t;i<=s;i++){const t=a[i];if(void 0===t&&!r)return;if(t&&t!==e){const e=n.get(t);e?e.push({x:i,y:o}):n.set(t,[{x:i,y:o}])}}}return n}hasConflictsInRange(e,{left:t,top:a,right:s,bottom:i}){if(t<0||a<0||s>=this.width||i>=this.height)return!0;for(let r=a;r<=i;r++){const a=this.areas[r];for(let i=t;i<=s;i++){const t=a[i];if(t&&t!==e)return!0}}return!1}replaceCells({left:e,top:t,right:a,bottom:s},i){for(let r=t;r<=s;r++){const t=this.areas[r];for(let s=e;s<=a;s++)t[s]=i}return this}removeItems(e){for(let t=0;t<this.height;t++){const a=this.areas[t];for(let t=0;t<this.width;t++)e.has(a[t])&&(a[t]=0)}return this}insertItems(e,t,a){const s=this.clone(),i=e[Symbol.iterator]();for(let e=0;e<s.height;e++)for(let r=0;r<s.width;r++){const n=r+t-1,o=e+a-1;if(n>=s.width||o>=s.height||s.hasConflictsInRange(-1,{left:r,right:n,top:e,bottom:o}))continue;const{done:l,value:c}=i.next();if(l)return s;s.replaceCells({left:r,right:n,top:e,bottom:o},c)}if(i.next().done)return s}resize(e,t){const a=this.height+t,s=this.width+e,r=e>0?[]:this.getConflictsInRange(-1,{left:this.width+e,top:0,right:this.width-1,bottom:this.height-1},!0),o=t>0?[]:this.getConflictsInRange(-1,{left:0,top:this.height+t,right:this.width+e-1,bottom:this.height-1},!0),l=Array.from(new Map([...r,...o]),(([a,s])=>new i.o(a,this,s,e,t))).sort(i.o.getSortBySizeAndDistance(Math.floor(a/2),Math.floor(s/2))),c=this.clone();l.forEach((e=>c.replaceCells(e.coordinates,0)));return{grid:new n(Array.from({length:a},((e,t)=>{const a=c.areas[t]||[];return[...a,...Array.from({length:s-a.length},(()=>0))].slice(0,s)}))),conflicts:l}}getCommonDimension(){const e=new r._;for(let t=0;t<this.height;t++){const a=this.areas[t];for(let s=0;s<this.width;s++){const i=a[s];i&&e.push(i,{x:s,y:t})}}const t=Array.from(e,(([e,t])=>{const{x:a,y:s}=t[0],{x:i,y:r}=t.at(-1);return{width:i-a+1,height:r-s+1}})),a=new r._;return t.forEach((e=>a.push(`${e.width}x${e.height}`,e))),Array.from(a.values()).sort(((e,t)=>t.length-e.length)).at(0)?.at(0)}replaceItem(e,t){return e!==t&&this.areas.some((t=>t.includes(e)))?this.areas.map((a=>a.map((a=>a===e?t:a===t?0:a)))):this.areas}swapItems(e,t){return this.areas.map((a=>a.map((a=>a===e?t:a===t?e:a))))}getMaximumNewItemSize(e){const t=this.height*this.width,a=Math.floor(Math.min(4,this.height/2,this.width/2,Math.sqrt(t/e)))||1;return{width:a,height:Math.min(3,a)}}clone(){return new n(this.areas.map((e=>e.slice())))}getItems(){const e=new Set(this.areas.flat());return e.delete(0),e}}},9887:(e,t,a)=>{a.d(t,{o:()=>s});class s{item;grid;overlaps;offsetX;offsetY;coordinates;itemSize;evadingVector;constructor(e,t,a,s,i){this.item=e,this.grid=t,this.overlaps=a,this.offsetX=s,this.offsetY=i,this.coordinates=this.grid.getCoordinates(this.item),this.itemSize=this.coordinates.width*this.coordinates.height,this.evadingVector=this.computeEvadingVector()}computeEvadingVector(){const{left:e,top:t,right:a,bottom:s,width:i,height:r}=this.coordinates,{offsetX:n,offsetY:o}=this;let l=0,c=0;for(let n=t;n<=s;n++)for(let s=e;s<=a;s++)if(this.overlaps.some((e=>e.x===s&&e.y===n))){const a=i/2,o=r/2;s+1>e+a&&l--,s<e+a&&l++,n+1>t+o&&c--,n<t+o&&c++}return l||c?{x:l,y:c}:{x:n,y:o}}*moveToEmptySpace(e){const t=Math.max(e.width,e.height),{x:a,y:s}=this.evadingVector,i=function*(e){const[t,a]=e.map((e=>Math.sign(e)));for(let e=1;e<1e3;e++){const s=2*e+1,i=Math.floor(s/2),r=[],n=[],o=[],l=[];for(let t=0;t<s;t++){const a=t-i;for(let t=0;t<s;t++){const s=t-i;Math.abs(a)+Math.abs(s)===e&&(a&&s?a>0&&s>0?r.push([a,s]):a<0&&s<0?n.push([a,s]):o.push([a,s]):l.push([a,s]))}}for(const e of[r,o,n,l]){e.sort((([e,t],[a,s])=>e!==a?a-e:s-t));for(const s of e){const[e,i]=s;t&&a?yield[e*t,i*a]:a&&!t?yield[i,e*a]:t&&!a?yield[i*t,e]:yield s}}}}([a,s]);for(const[a,s]of i){if(a>t)break;const i=this.coordinates.offset(a,s);e.hasConflictsInRange(this.item,i)||(yield e.clone().replaceCells(i,this.item))}}static getSortBySizeAndDistance(e,t){return(a,s)=>{const i=s.itemSize-a.itemSize;if(i)return i;const[r,n]=[a,s].map((a=>Math.abs(a.coordinates.top-e)+Math.abs(a.coordinates.left-t)));return r-n}}}},6664:(e,t,a)=>{a.d(t,{J:()=>g});var s=a(5904),i=a(5953),r=a(9100),n=a(9887);class o{item;grid;coordinates;constructor(e,t){this.item=e,this.grid=t,this.coordinates=this.grid.getCoordinates(this.item)}offset(e,t,a){const{left:s,top:o,right:l,bottom:c,width:d,height:u}=this.coordinates,_="move"===a,p=_?(0,r.n)(0,this.grid.width-d,s+e):s,h=_?(0,r.n)(0,this.grid.height-u,o+t):o,m=_?p+d-1:(0,r.n)(s,this.grid.width-1,l+e),v=_?h+u-1:(0,r.n)(o,this.grid.height-1,c+t);if(m===l&&v===c&&p===s&&h===o)return;const g=this.grid.getConflictsInRange(this.item,new i.$(p,h,m,v));if(!g)return;const O=Array.from(g,(([a,s])=>new n.o(a,this.grid,s,e,t))).sort(n.o.getSortBySizeAndDistance(o,s));return{coordinates:new i.$(p,h,m,v),conflicts:O}}}var l=a(1282);class c{grid;clone(){return new c(this.grid.areas)}get areas(){return this.grid.areas}get width(){return this.grid.width}get height(){return this.grid.height}constructor(e){this.grid=new s.x(e)}move(e,t,a,s="move"){if(0===t&&0===a)return this.grid;const i=new o(e,this.grid);if(!i.coordinates)return;const r=i.offset(t,a,s);if(!r)return this.grid;const n=this.grid.clone();n.replaceCells(i.coordinates,0),r.conflicts.forEach((e=>n.replaceCells(e.coordinates,0))),n.replaceCells(r.coordinates,i.item);try{return this.resolveConflicts(n,r.conflicts)||this.resolveConflicts(n,r.conflicts.toReversed())}catch(e){}}placeItem(e,t,a){const s=this.grid.clone(),{width:i,height:r}=s.getCommonDimension()||s.getMaximumNewItemSize(1);for(let n=i,o=r;n>0;n--,o=Math.max(1,o-1)){const i={left:t,top:a,right:t+n-1,bottom:a+o-1};if(!s.hasConflictsInRange(-1,i))return{grid:s.replaceCells(i,e),itemWidth:n,itemHeight:o}}}resizeGrid(e,t){const{width:a,height:s}=this.grid;if(e===a&&t===s)return this;const{grid:i,conflicts:r}=this.grid.resize(e-a,t-s),n=this.resolveConflicts(i,r);return n?(this.grid=n,this):void 0}resolveConflicts(e,t,a=performance.now()+200){if(performance.now()>a)throw Error("grid_timeout");const[s,...i]=t;if(!s)return e;const r=s.moveToEmptySpace(e);for(const e of r){const t=this.resolveConflicts(e,i,a);if(t)return t}}updateGrid(e){const t=this.grid.getCommonDimension();if(!t){const t=c.fromItems(e,this.width,this.height);return t?(this.grid=t,this):void 0}const a=new Set(e),s=this.grid.getItems(),i=(0,l.tX)(s,a),r=(0,l.tX)(a,s),n=this.grid.clone();n.removeItems(i);const o=n.insertItems(r,t.width,t.height);if(o)return this.grid=o,this}static fromItems(e,t,a){const i=Array.from({length:a},(()=>Array.from({length:t},(()=>0)))),r=new s.x(i),{width:n}=r.getMaximumNewItemSize(e.length);for(const[t,a]of[[4,3],[3,3],[3,2],[2,2],[1,1]]){if(t>n)continue;const s=r.insertItems(e,t,a);if(s)return s}}}var d=a(3694),u=a(1361),_=a(4559),p=a(2780),h=a(4323),m=a(1470),v=a(2846);class g{gridData;groupId;dialsNode;handlers;_currentAreas;get rows(){return this._currentAreas.length}get cols(){return this._currentAreas[0].length||0}constructor(e,t,a=(0,_.uT)()){this.gridData=e,this.groupId=t,this.dialsNode=a,this.handlers=new u.G,this.applyGridLayout(e),this._currentAreas=e.areas}static create(e){if(!e.grid)throw new Error("Not a grid!");return new g(e.grid,e.id)}applyGridLayout(e){this._currentAreas=e.areas,this.previewGridLayout(e)}previewGridLayout(e){const t=e.areas.flatMap((e=>`"${e.map((e=>e?`d${e}`:".")).join(" ")}"`)).join("\n");this.dialsNode.style.setProperty("--grid-template-areas",t),this.dialsNode.style.setProperty("--grid-rows",`${this.rows}`),this.dialsNode.style.setProperty("--grid-cols",`${this.cols}`)}placeItem(e,{x:t,y:a}){const s=new c(this._currentAreas),i=this.dialsNode.getBoundingClientRect();t-=i.left,a-=i.top;const r=i.width/s.width,n=i.height/s.height,o=Math.floor(t/r),l=Math.floor(a/n),d=[[-1,-1],[-2,-2],[-1,-2],[-2,-1],[0,-2],[-2,0],[-1,0],[0,-1],[0,0]].map((([t,a])=>{const i=s.placeItem(e.areaNumber,o+t,l+a);return i&&{grid:i.grid,priority:(i.grid.hasConflictsInRange(-1,{left:o,right:o,top:l,bottom:l})?1e3:0)+i.itemWidth*i.itemHeight}})).filter(h.zz).sort(((e,t)=>t.priority-e.priority)).at(0);if(d)return this.previewGridLayout(d.grid),{areas:d.grid.areas}}static normalizeGrid(e,t,a,s){t=t.slice(0,-1),this.makeDialsUnique(t);const i=t.map((e=>e.created));if(0===e.areas.length){const t=c.fromItems(i,s||24,a||12);if(!t)throw new Error("Cannot create grid, dimensions are too small");return{...e,areas:t.areas}}const r=new c(e.areas);if(a&&s&&(a!==r.height||s!==r.width)){if(!r.resizeGrid(s,a))throw new Error("Cannot resize grid, dimensions are too small")}if(!r.updateGrid(i))throw new Error("Cannot update grid");return{...e,areas:r.grid.areas}}static makeDialsUnique(e){const t=new Set;for(const a of e){let e=a.created||(0,d.Sy)();for(;t.has(e);)e++;a.created=e,t.add(e)}}startDrag(e){e.dataTransfer.setDragImage(new Image,0,0);const t=new c(this.gridData.areas);let a=!1,s=!1;this.handlers.addListener((0,_.O1)(),"change",(e=>a=!0));const i=(0,_.B)();i.classList.remove("stopped_moving"),this.handlers.addListener(document.documentElement,"dragend",(async e=>{if(s=!0,this.handlers.clearAll(),a||"none"===e.dataTransfer?.dropEffect)return this.applyGridLayout(this.gridData),void i.classList.add("stopped_moving");this.gridData.areas=this._currentAreas,this.applyGridLayout(this.gridData),await v.M.action("updateGroup",{groupId:this.groupId,update:{grid:this.gridData}})}));const r={left:e.x,top:e.y},n=this.dialsNode.getBoundingClientRect(),o=n.width/t.width,l=n.height/t.height,d=e.currentTarget,u=parseInt(d.style.getPropertyValue("grid-area").slice(1));if(!u)throw Error("Cannot find grid item");const g=d.getBoundingClientRect(),O=parseFloat(window.getComputedStyle(document.documentElement).fontSize),f=e.x>g.right-O&&e.y>g.bottom-O,{scrollLeft:w,scrollTop:b}=i,I=new p.v("one_by_last_one");this.handlers.addListener(this.dialsNode,"dragover",(e=>{e.dataTransfer.dropEffect="move",I.addWork((async()=>{if(s||a)return;if(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)return a=!0,this.applyGridLayout(this.gridData),void i.classList.add("stopped_moving");const n={left:e.x+(i.scrollLeft-w),top:e.y+(i.scrollTop-b)},c=(0,m.FP)(n,r),d=t.move(u,Math.round(c.left/o),Math.round(c.top/l),f?"resize":"move");d&&this.applyGridLayout(d),await(0,h.BK)(50)}))}))}static showEmptyDial(e){(0,_.B)().classList.toggle("show_empty",e)}}},5953:(e,t,a)=>{a.d(t,{$:()=>s});class s{left;top;right;bottom;width;height;constructor(e,t,a,s,i=a-e+1,r=s-t+1){this.left=e,this.top=t,this.right=a,this.bottom=s,this.width=i,this.height=r}offset(e,t){return new s(this.left+e,this.top+t,this.right+e,this.bottom+t,this.width,this.height)}}},8654:(e,t,a)=>{a.d(t,{j:()=>r,x:()=>i});var s=a(6795);const i=Object.freeze(["up","right","down","left"]),r=Object.freeze({up:{type:s.EM.HOME_GROUP},right:{type:s.EM.NEXT_GROUP},left:{type:s.EM.PREV_GROUP},down:{type:s.EM.NONE}})},3254:(e,t,a)=>{a.d(t,{R:()=>s});const s=()=>Promise.all([a.e(711),a.e(141)]).then(a.bind(a,3011))},9510:(e,t,a)=>{a.d(t,{$:()=>l,Q:()=>c});var s=a(6801),i=a(6214),r=a(1305),n=a(179),o=a(744);async function l(e){const t=await n.YG?await o.b.then((()=>(0,s._z)({type:"getImages",groupId:e})))||{}:await r.i.withDB((t=>t.getThumbnails(e)));return Object.values(t).forEach((t=>d(e,t))),t}async function c(e,t){return d(e,await n.YG?await(0,s._z)({type:"getDbDial",groupId:e,url:t}):await r.i.withDB((async a=>a.getDbDial(e,t))))}function d(e,t){return t&&(t.iconBlob&&(t.iconBlobURL=i.RN.getBlobURL(e,t.url,t.iconBlob)),t.imgBlob&&(t.imgBlobURL=i.Lv.getBlobURL(e,t.url,t.imgBlob))),t}},5162:(e,t,a)=>{a.d(t,{$:()=>r,y:()=>i});var s=a(7865);const i=async()=>(await s.W,a.e(863).then(a.bind(a,559))),r=async()=>await Promise.all([a.e(274),a.e(288),a.e(609)]).then(a.bind(a,2529))},3650:(e,t,a)=>{a.d(t,{L5:()=>p,Tt:()=>m,cw:()=>g});var s=a(1962),i=a(4323),r=a(4590),n=a(8495),o=a(5772),l=a(5360),c=a(5048),d=a(6683),u=a(2846),_=a(2447);const p="AUTO_RELOAD_DIALS",h=(0,l.M)((e=>u.M.METADATA.tagById(e)?.name??""));async function m(e,t){const a=g.filter((e=>e.checked)),s=a.filter((e=>!e.isGroupSearch)),i=a.find((e=>e.isGroupSearch)),r=e.toLocaleLowerCase(),n=(await Promise.all(t.map((async t=>{const a=t.clone(),i=await a.getDialsToDraw();return a.dials=i.filter(((t,a)=>e===p?t.reload:!t.isEmptyDial()&&s.reduce(((e,a)=>{if(e)return e;const s=a.indexOfWord(r,t);return t._TMP_is_perfect_match=0===s,s>-1}),!1))).sort((0,o.s)("_TMP_is_perfect_match",!1)),a})))).filter((e=>e.dials.length)).sort(((e,t)=>t.dials[0]._TMP_is_perfect_match-e.dials[0]._TMP_is_perfect_match));return[...i?t.filter((e=>i.indexOfWordInGroup(r,e)>-1)).map((e=>{const t=e.clone();return t.dials=[],t})):[],...n]}class v{name;label;getField;_isPersistent;store;setPersistent(){this._isPersistent=!0}isGroupSearch;get checked(){return this.inputNode?.checked??(!this._isPersistent||this.store.get())}set checked(e){this.inputNode.checked=e,this._isPersistent&&this.store.set(e)}get inputNode(){return(0,s.$H)(this.id)}get id(){return`search_${this.name}`}constructor(e,t,a){this.name=e,this.label=t,this.getField=a,this._isPersistent=!1,this.store=new _.e(`_search_popup_${this.name}`,(()=>!this.isGroupSearch)),this.isGroupSearch=!1}indexOfWord(e,t){const a=this.getField(t);return(0,i.Kg)(a)?a.toLocaleLowerCase().indexOf(e):Array.isArray(a)?a.map((t=>t.toLocaleLowerCase().indexOf(e))).find((e=>e>=0))??-1:-1}indexOfWordInGroup(e,t){return-1}}const g=Object.freeze([new class extends v{indexOfWord(e,t){const a=this.getField(t);return a?(0,i.Kg)(a)?this.checkURL(e,a):a.map((t=>this.checkURL(e,t))).find((e=>e>-1))??-1:-1}checkURL(e,t){const a=(0,c.Ty)(t).indexOf(e);return a>-1?a:t.indexOf(e)}}("url",(0,r.tr)("msg_search_url"),(e=>e.url||e.multi?.links.map((e=>e.url)))),new v("name",(0,r.tr)("msg_search_name"),(e=>e.type===d.kh.MULTI?e.multi?.links.map((e=>e.name)).concat(e.name||""):e.name)),new v("note",(0,r.tr)("msg_search_note"),(e=>e.note)),new v("tags",(0,r.tr)("tag"),(e=>h(e.settings?.TAG_ID||-1))),new v("text",(0,n.e)("ed_text_dial",{column:!1}),(e=>e.text?.value)),new class extends v{isGroupSearch=!0;indexOfWord(e,t){return-1}indexOfWordInGroup(e,t){return t.name.toLocaleLowerCase().indexOf(e)}}("group",(0,r.tr)("msg_search_groups"),((e,t)=>t?.name))])},8310:(e,t,a)=>{a.d(t,{n:()=>s});const s=async()=>await a.e(267).then(a.bind(a,9684))},7861:(e,t,a)=>{a.d(t,{X:()=>s});const s=async()=>await Promise.all([a.e(274),a.e(432),a.e(611),a.e(288),a.e(363)]).then(a.bind(a,7897))},3210:(e,t,a)=>{a.d(t,{NK:()=>d,k2:()=>u,lc:()=>c});a(4823);var s=a(2037),i=a(8297),r=a(6801);const n=void 0,o=n?(0,s.B8)(l?"share/:uuidBase64?x":"share/:uuidBase64",{uuidBase64:n},{headers:l?{[i.G0]:l}:void 0}):Promise.resolve();var l;let c=!1,d=!1;function u(){(0,r._z)({type:"share_re_lock",uuidBase64:n||""})}o.then((e=>{c=!!e?.data,d=!!e?.data?.encrypted}))},2399:(e,t,a)=>{a.d(t,{D:()=>o});var s=a(6683),i=a(8794),r=a(2846),n=a(5048);async function o(e,t){const a=!!t&&t.type===s.kh.GROUP,o=(0,n._V)(e);await i.SR.update((t=>(r.M.GROUPS.forEach((s=>s.dials.filter((t=>t.url===o&&(!a||e>s.id))).forEach((e=>t.push([s.id,e.url]))))),t)))}},5941:(e,t,a)=>{a.d(t,{w:()=>s});const s=()=>a.e(241).then(a.bind(a,6064)).then((e=>e.reloadService))},2857:(e,t,a)=>{a.d(t,{g:()=>o});var s=a(5524),i=a(4352),r=a(9510),n=a(1305);async function o({url:e},t){if(!e)return;const a=await(0,r.Q)(t,e);try{a?.imgBlobURL&&await fetch(a.imgBlobURL),a?.iconBlobURL&&await fetch(a.iconBlobURL)}catch(a){(0,s.vV)("Broken image detected!",a),await n.i.withDB((async a=>a.deleteDbDial(t,e))).catch((e=>(0,s.vV)("deleting broken thumbnail failed",e))),(0,i.L)(t)}}},4823:(e,t,a)=>{a.d(t,{Y:()=>i});var s=a(2036);const i=new class{searchParams=new URL(window.location.href).searchParams;isEmpty=!window.location.search;constructor(){}has(e){return this.searchParams.has(e)}get(e){return this.searchParams.get(e)}focusPageAndExecute(e,t){i.has(e)?(this.clearParamsWithoutReload(),t()):this.setWithReload(e)}setWithReload(e){window.location.search=`?${e}`}clearParamsWithoutReload(){window.history.replaceState(null,"",s.KL+location.hash)}}},7139:(e,t,a)=>{a.d(t,{vx:()=>s});a(9074),a(4323),a(1055);let s},1792:(e,t,a)=>{a.d(t,{b:()=>s});a(2804);const s=!1},179:(e,t,a)=>{a.d(t,{A$:()=>c,ik:()=>d,YG:()=>l});var s=a(865),i=a(3941);var r=a(4069),n=a(2031),o=a(1792);(0,n.g)("non-background");const l=async function(){const e=await s.uL;return!!e&&(e.incognito||(0,i.M)(e))}(),c=()=>self.matchMedia("(orientation: portrait)").matches,d=()=>r.m0||o.b||!1},7253:(e,t,a)=>{a.d(t,{CE:()=>s,Jz:()=>r,U6:()=>o});let s=[];i();async function i(){return s=await(browser.contextualIdentities?.query({}))||[]}browser.contextualIdentities?.onCreated.addListener(i),browser.contextualIdentities?.onUpdated.addListener(i);const r=e=>n(e)?.cookieStoreId;function n(e){if(e)return s.find((t=>t.name===e))}function o(e,t){e.style.boxShadow=`0 2px 0 ${n(t)?.colorCode||"white"}`}},6795:(e,t,a)=>{var s,i,r,n;a.d(t,{Cr:()=>r,EM:()=>i,Gj:()=>n}),(e=>{e[e.none=0]="none",e[e.enlarge=1]="enlarge",e[e.open=2]="open",e[e.openNewTab=3]="openNewTab"})(s||(s={})),(e=>{e[e.NONE=0]="NONE",e[e.OPEN_GROUP=1]="OPEN_GROUP",e[e.NEXT_GROUP=2]="NEXT_GROUP",e[e.PREV_GROUP=3]="PREV_GROUP",e[e.HOME_GROUP=4]="HOME_GROUP"})(i||(i={})),(e=>{e[e.fillSpace=0]="fillSpace",e[e.center=1]="center",e[e.scroll=2]="scroll"})(r||(r={})),(e=>{e[e.NORMAL=0]="NORMAL",e[e.LOCK=1]="LOCK",e[e.HIDDEN=2]="HIDDEN"})(n||(n={}))},4099:(e,t,a)=>{a.d(t,{O:()=>o});var s=a(3456),i=a(6062),r=a(6801);const n=new s.k;function o(e,t){i.Dy?n.notifyAll([e,t]):(0,r._z)({type:"updateFavicon",onlyIfMissing:!0,url:t,groupId:e})}},7552:(e,t,a)=>{var s,i,r,n;a.d(t,{Pb:()=>i,ew:()=>r,mU:()=>n,p0:()=>s,yH:()=>o}),(e=>{e.DB_OP_READ_WRITE="readwrite",e.DB_OP_READONLY="readonly"})(s||(s={})),(e=>{e.NEXT="next",e.PREV="prev",e.NEXT_UNIQUE="nextunique",e.PREV_UNIQUE="prevunique"})(i||(i={})),(e=>{e.DB_IMAGE="image",e.DB_HISTORY="history",e.DB_ORIGINAL="original",e.DB_PREVIOUS="previous",e.DB_RUNTIME="runtime"})(r||(r={})),(e=>{e.GROUP_INDEX="group"})(n||(n={}));const o="backups_FileSystemDirectoryHandle"},1305:(e,t,a)=>{a.d(t,{i:()=>o});var s=a(5524);var i=a(7552),r=a(4214),n=a(683);class o{name;version;static async withDB(e){const t=new o("group_speed_dial",10);try{return await e(t)}catch(t){throw(0,s.vV)("db operation failed",t,e.name),t}finally{t.close()}}promise;debugName;constructor(e,t){this.name=e,this.version=t,this.debugName=0,this.promise=this.open()}async open(){return this.promise=new Promise(((e,t)=>{const a=self.indexedDB.open(this.name,this.version);a.onupgradeneeded=e=>{(0,s.cO)("DB: onupgradeneeded");const r=a.result;r.onerror=r.onabort=t,r.objectStoreNames.contains(i.ew.DB_IMAGE)||r.createObjectStore(i.ew.DB_IMAGE,{keyPath:["url","group"]}),r.objectStoreNames.contains(i.ew.DB_ORIGINAL)||r.createObjectStore(i.ew.DB_ORIGINAL,{keyPath:["url","group"]}),r.objectStoreNames.contains(i.ew.DB_PREVIOUS)||r.createObjectStore(i.ew.DB_PREVIOUS,{keyPath:["url","group"]}),r.objectStoreNames.contains(i.ew.DB_HISTORY)||r.createObjectStore(i.ew.DB_HISTORY,{keyPath:"id",autoIncrement:!0}),r.objectStoreNames.contains(i.ew.DB_RUNTIME)||r.createObjectStore(i.ew.DB_RUNTIME,{keyPath:"key"});const n=a.transaction.objectStore(i.ew.DB_IMAGE);n.indexNames.contains(i.mU.GROUP_INDEX)||n.createIndex(i.mU.GROUP_INDEX,i.mU.GROUP_INDEX,{unique:!1})},a.onerror=t,a.onsuccess=()=>{const t=a.result;t.addEventListener("close",(()=>(0,s.cO)(`DB: closed unexpectedly ${this.debugName}`))),e(t)}}))}dbWeakTransactionStore(e,t,a){const i=e.transaction([t],a);return i.onerror=i.onabort=e=>(0,s.vV)(`DB ${t}`,e,a),i.objectStore(t)}dbTransaction(e,t,a){const i=e.transaction([t],a),r=new Promise(((e,r)=>{i.oncomplete=e,i.onerror=i.onabort=e=>{(0,s.vV)(`DB transaction ${t}`,e,a),r(e)}}));return[i,r]}async dbOperation(e,t,...a){return new Promise(((i,r)=>{const n=e[t].apply(e,a);n.onerror=e=>{(0,s.vV)(`DB op failed ${t}`,e,a),r(e)},n.onsuccess=()=>{i(n.result)}}))}async dbTransactionOperation(e,t,a,...s){const i=await this.promise;return new Promise((async(r,n)=>{const[o,l]=this.dbTransaction(i,e,t);this.dbOperation(o.objectStore(e),a,...s).then((e=>l.then((()=>r(e))))).catch(n)}))}async close(){(await this.promise).close()}async mapEachRecord(e,{map:t=((e,t)=>e),direction:a=i.Pb.NEXT,filter:r=((e,t)=>!0),filterMode:n="all"}={}){const o=(await this.promise).transaction([e],i.p0.DB_OP_READONLY);o.onerror=o.onabort=t=>(0,s.vV)(`DB mapEachRecord in ${e}`,t);const l=o.objectStore(e);return new Promise(((i,o)=>{const c=[];let d=0,u=0;const _=l.openCursor(null,a);_.onerror=t=>{(0,s.vV)(`DB ${e}`,t),o()},_.onsuccess=function(){const e=this.result;if(e){const a=r(e.value,u++);if("take_while"===n&&!a)return void i(c);a&&c.push(t(e.value,d++)),e.continue()}else i(c)}}))}async updateEachRecordAsync(e,t){const a=await this.dbTransactionOperation(e,i.p0.DB_OP_READONLY,"getAllKeys");return await(0,n.f)(a.map((a=>async()=>{const s=await this.dbTransactionOperation(e,i.p0.DB_OP_READONLY,"get",a).catch(console.error);if(!s)return!1;return await t(s)&&await this.dbTransactionOperation(e,i.p0.DB_OP_READ_WRITE,"put",s),!0})))}async getThumbnails(e){const t=await this.promise,a=this.dbWeakTransactionStore(t,i.ew.DB_IMAGE,i.p0.DB_OP_READONLY).index(i.mU.GROUP_INDEX),s=await this.dbOperation(a,"getAll",e);return(0,r.W)(s,"url")}async moveDbDial(e,t,a,s=a){const i=await this.getDbDial(e,a);return!!i&&(await this.removeDial(t,s),await this.updateDial(t,s,(e=>{const t=Object.assign(i,e);Object.assign(e,t)}),!0),!0)}async updateDial(e,t,a,r=!0,n=!0){const[o,l]=this.dbTransaction(await this.promise,i.ew.DB_IMAGE,i.p0.DB_OP_READ_WRITE),c=o.objectStore(i.ew.DB_IMAGE),d=await this.dbOperation(c,"get",[t,e]);if(!r&&!d)throw(0,s.vV)("forbidden dbDial creation",null,[t,e]),Error("forbidden dbDial creation");const u=d||{url:t,group:e};return n&&(this.backupPrevious({...u}),u.version=Date.now()),delete u.img,delete u.icon,a(u),await this.dbOperation(c,"put",u),await l,u}async backupPrevious(e){await this.dbTransactionOperation(i.ew.DB_PREVIOUS,i.p0.DB_OP_READ_WRITE,"put",e)}async getDialLikeData(e,t,a){if(!isNaN(e)&&t)return await this.dbTransactionOperation(a,i.p0.DB_OP_READONLY,"get",[t,e])}async getDbDial(e,t){return await this.getDialLikeData(e,t,i.ew.DB_IMAGE)}async removeDial(e,t){await this.dbTransactionOperation(i.ew.DB_IMAGE,i.p0.DB_OP_READ_WRITE,"delete",[t,e]),await this.dbTransactionOperation(i.ew.DB_PREVIOUS,i.p0.DB_OP_READ_WRITE,"delete",[t,e]),await this.dbTransactionOperation(i.ew.DB_ORIGINAL,i.p0.DB_OP_READ_WRITE,"delete",[t,e])}async deleteDbDial(e,t){if(isNaN(e)||!t)return;await this.dbTransactionOperation(i.ew.DB_IMAGE,i.p0.DB_OP_READ_WRITE,"delete",[t,e]);return!0}async getPrevious(e,t){return this.getDialLikeData(e,t,i.ew.DB_PREVIOUS)}async restorePreviousThumbnail(e,t){const a=await this.getPrevious(e,t);return!!a&&(await this.updateDial(e,t,(e=>{Object.assign(e,{hash:void 0},a,{version:e.version})}),!1),!0)}}},8289:(e,t,a)=>{a.d(t,{Z:()=>s});const s=e=>/^#(\d+)$/.test(e||"")},5444:(e,t,a)=>{a.d(t,{N:()=>n});var s=a(5229),i=a(8289),r=a(6672);function n(e){return e=(0,s.I)(e||""),(0,i.Z)(e)?"":(0,r.lX)(e,!0)}},1596:(e,t,a)=>{function s(e,t){let a=0;for(let s=0;s<e.length;s++)for(let i=0,r=e[s];i<r.dials.length;i++)if(t(r.dials[i],r,a++,i))return r.dials[i]}a.d(t,{E:()=>s})},3683:(e,t,a)=>{function s(e="",t=[]){if(!(e=e.trim())||t.some((t=>e.startsWith(t))))return"";try{return new URL(e).href}catch(t){try{return new URL("http://"+e).href}catch(e){return""}}}a.d(t,{d:()=>s})},5750:(e,t,a)=>{a.d(t,{n:()=>r,w:()=>n});var s=a(6683),i=a(303);function r(e){const t=e.colors.toReversed().join(",");switch(e.type){case s.hq.radialCircle:return`radial-gradient(circle, ${t})`;case s.hq.radialEllipse:return`radial-gradient(ellipse, ${t})`;case s.hq.linear:return`linear-gradient(${e.degree}deg, ${t})`;default:return"black"}}function n(e){const t=(()=>{switch(!0){case e.startsWith("linear-gradient("):return s.hq.linear;case e.startsWith("radial-gradient(circle"):return s.hq.radialCircle;case e.startsWith("radial-gradient(ellipse"):default:return s.hq.radialEllipse}})(),a=parseInt(e.match(new RegExp(String.raw`(\d+)deg`,"i"))?.at(1))??180;return{type:t,colors:(e.match(new RegExp(String.raw`#[0-9a-f]+|rgba?\(\d+,\s?\d+,\s?\d+(,\s?\d+)?\)`,"gi"))||["#ffa142","#420000"]).map((e=>e.startsWith("rgb")?(0,i.H)(e):e)).reverse(),degree:a}}},519:(e,t,a)=>{a.d(t,{ak:()=>o,mv:()=>r,rH:()=>n});var s=a(7302),i=a(7283);const r="svg/globe.svg",n=(0,s.Z)(r),o=(0,i.H)("icons/tags/tag (65).svg")},744:(e,t,a)=>{a.d(t,{b:()=>r});var s=a(4323);var i=a(6801);(0,a(2031).g)("non-background");const r=async function({name:e="",callback:t,retryCount:a,initialDelay:i=0,repeatDelay:r=0,increasingDelay:n=!1}){let o;i&&await(0,s.BK)(i);for(let e=0;e<a;e++){o=t(e);if(await o.then(s.x2,(e=>{})))break;await(0,s.BK)(n?r*e:r)}return o}({retryCount:12,repeatDelay:200,callback:()=>(0,i._z)({type:"health_check"}).then((e=>e||Promise.reject("BS not responding")))})},6635:(e,t,a)=>{a.d(t,{S:()=>p});var s=a(910),i=a(6062),r=a(9180),n=a(170);var o=a(8408),l=a(2036),c=a(7384),d=a(6801),u=a(4590),_=a(2846);const p=new class{storageKey;backgroundScriptCallback;storage;alarmName;constructor(e,t){this.storageKey=e,this.backgroundScriptCallback=t,this.storage=new s.F(this.storageKey,(()=>({lastEntered:Date.now(),isDisabled:!0,remindInHours:3}))),this.alarmName=`help_remember_${this.storageKey}`,i.Dy&&((0,n.Q)(),browser.alarms.onAlarm.addListener((({name:e,scheduledTime:t})=>{e===this.alarmName&&this.backgroundScriptCallback()})),this.checkAndSchedule())}async checkAndSchedule(){const{isDisabled:e,lastEntered:t,remindInHours:a}=await this.storage.get();if(e)return;const s=t+(0,r.xE)(a)-Date.now();browser.alarms.create(this.alarmName,{delayInMinutes:(0,r.$L)(s)})}async setState(e){await this.storage.update((t=>(t.isDisabled=!e,t))),e&&this.checkAndSchedule()}async restartNewCycle(e){await this.storage.reset(),await this.setState(e)}async remembered(){await this.storage.update((e=>(e.lastEntered=Date.now(),e.remindInHours=Math.min(720,2*e.remindInHours),e))),this.checkAndSchedule()}}("help_remember_pass",(async()=>{const[e]=await browser.tabs.query({title:(0,u.tr)("pwd_forget_warning")});if(e||!_.M.METADATA.hasPassword())return;const t=await(0,o.K)(l.KL,{inNewTab:!0,active:!1});await(0,c.p)(t.id),(0,d.hC)(t.id,{type:"help_remember_pwd"})}))},8204:(e,t,a)=>{a.d(t,{e:()=>u});var s=a(910),i=a(5017),r=a(6683),n=a(6801),o=a(7398),l=a(2062),c=a(4323),d=a(4721);class u{sessionStoreKey;getHashOptions;unlockOptions;verifyCRC_GetSecret;resetPasswordAndData;helpRememberPassword;cryptoStore;constructor(e,t,a,i,r,n){this.sessionStoreKey=e,this.getHashOptions=t,this.unlockOptions=a,this.verifyCRC_GetSecret=i,this.resetPasswordAndData=r,this.helpRememberPassword=n,this.cryptoStore=new s.F(this.sessionStoreKey,(()=>null),{storageArea:"session"})}get canResetPassword(){return!!this.resetPasswordAndData}get passwordHint(){return this.getHashOptions()?.hint}async savePassword(e){await this.cryptoStore.set({hash:e})}async resetPassword(){this.canResetPassword&&(await(this.helpRememberPassword?.setState(!1)),await(this.resetPasswordAndData?.()))}async verifyPassword(e,t=!0){const a=this.getHashOptions();if(!a)return!1;const s=await(0,o.Er)(e,a),i=await this.verifyHashAndGetSecret(s.hash),r=!!await new l.k(s).unwrapKey(i||a.secret).catch(c.s6);return r&&t&&await this.savePassword(s.hash),r}async verifyHashAndGetSecret(e){if(!this.verifyCRC_GetSecret)return"";const t=await(0,d.d)(e,"SHA-256");return this.verifyCRC_GetSecret?.(t)}async lock(){await this.cryptoStore.remove()}async isUnlocked(){return!!await this.cryptoStore.get()}async unlockIfNeeded(e){{const e=await this.cryptoStore.get();if(e)return await this.verifyHashAndGetSecret(e.hash),!0}const t=await(await(0,i.C)()).pwdPrompt(this,r.pK.unlock,e);return t&&(0,n._z)({type:"broadcast",message:{type:"redraw_dials"}}),t}async decryptData(e){await this.unlockIfNeeded();const t=await this.cryptoStore.get();if(t)return await(this.verifyCRC_GetSecret?.(await(0,d.d)(t.hash,"SHA-256"))),await e.decrypt(t.hash)}lockKeyVaultEverywhere(){(0,n._z)({type:"broadcast",message:{type:"keyVault_lock"}})}}},5017:(e,t,a)=>{a.d(t,{C:()=>s});const s=()=>Promise.all([a.e(274),a.e(353)]).then(a.bind(a,7774))},5296:(e,t,a)=>{a.d(t,{p:()=>_});var s=a(4323),i=a(1471),r=a(6004),n=a(3091),o=a(9598),l=a(6690);var c=a(7865),d=a(6777),u=a(1962);const _=(()=>{let e=s.lQ,t=!1;const a=()=>(0,u.$H)("message-box");return c.W.then((()=>function(e,{loadPositionOnStart:t=!0}={}){if(!e||e.firstElementChild?.hasAttribute("data-draggable-top"))return;e.insertAdjacentElement("afterbegin",(0,o.z)("draggable-top",{"data-draggable-top":0,style:"cursor: move; position: absolute; width: 100%; top: 0; left: 0; height: 15px;"}));const a=(0,n.$)(e,{dontMovePredicate:t=>t.target!==e&&!t.target.hasAttribute("data-draggable-top"),onMoveStart:s=>{if(!t)return;const i=e.getBoundingClientRect();a.setPosition(i.x,i.y),e.style.right=e.style.bottom="auto"}});a.setCallback(((t,a,s)=>{(0,r.eC)(e,"top",(0,l.px)(a)),(0,r.eC)(e,"left",(0,l.px)(t))}))}(a()))),{get isVisible(){return!a().classList.contains("hidden")},show:_,showError:function(e,s,i){_(e,s,i),t=!0,a().querySelectorAll("textarea[readonly]").forEach((e=>browser.runtime.getBrowserInfo().then((t=>browser.runtime.getPlatformInfo().then((a=>e.textContent=`${e.textContent}\nVersion: ${browser.runtime.getManifest().version}; OS: ${JSON.stringify(a)}; Browser: ${JSON.stringify(t)};`.trim()))))))},hide:p};function _(r,n,{yesText:o,noText:l,elseText:c,onYes:_=s.bJ,onNo:h=s.lQ,onElse:m=s.lQ,onClose:v=s.lQ,onFinally:g=s.lQ}={}){if(t)return;const O=a(),f=O.querySelector(".close-box");e(),e=v;const w=()=>{v(),I()};O.onkeydown=(0,i.ak)(w),O.classList.toggle("hidden",!1),(0,u.$H)("message-title").textContent=r,(0,u.$H)("message-text").replaceChildren(n),(0,u.$H)("message-yes").textContent=o||"",(0,u.$H)("message-no").textContent=l||"",(0,u.$H)("message-else").textContent=c||"",(0,u.$H)("message-yes").classList[o?"remove":"add"]("hidden"),(0,u.$H)("message-no").classList[l?"remove":"add"]("hidden"),(0,u.$H)("message-else").classList[c?"remove":"add"]("hidden");const b=!o&&!l&&!c;function I(){p(),g()}return O.onmousedown=e=>{b&&e.button===d.w.LEFT&&!e.composedPath().some((e=>e instanceof HTMLAnchorElement))&&e.composedPath().every((e=>!e?.hasAttribute?.("data-draggable-top")&&!e?.hasAttribute?.("data-resize-corner")))&&I()},f.classList[b?"add":"remove"]("hidden"),(0,u.$H)("message-yes").onclick=async()=>{!0!==await _()&&I()},(0,u.$H)("message-no").onclick=()=>{h(),I()},(0,u.$H)("message-else").onclick=()=>{m(),I()},f.onclick=w,O}function p(){a().classList.toggle("hidden",!0),e=s.lQ}})()},6258:(e,t,a)=>{a.d(t,{y:()=>o});var s=a(8408),i=a(7253),r=a(1374),n=a(2036);function o({links:e,inNewTab:t,cookieStoreId:a,containerName:o,active:l,inNewWindow:c,nextToCurrent:d,windowId:u,inIncognitoWindow:_,stopOpenerTabId:p}){const h=(0,r.BO)(e).map((e=>e.startsWith("#")&&!isNaN(parseInt(e.slice(1)))?n.KL+e:e));return(0,s.K)(h,{inNewTab:t,nextToCurrent:d,active:l,stopOpenerTabId:p,inNewWindow:c,windowId:u,forceIncognitoWindow:_,cookieStoreId:a||(0,i.Jz)(o)})}},1481:(e,t,a)=>{a.d(t,{f:()=>o});var s=a(1962),i=a(519),r=a(6672);const n=[["http://localhost","svg/localhost (7).svg"],["http",i.mv],["about:","png/domains/about-blank.svg"],[`${s.$b}://extensions`,"icons/tags/tag (25).svg"],[`${s.$b}://settings`,"svg/gear.svg"]];function o(e){for(const[t,a]of n){if("http"===t&&(0,r.K9)(e))return"svg/ip.svg";if(e.startsWith(t))return a}return i.mv}},4298:(e,t,a)=>{a.d(t,{Bq:()=>n,In:()=>r,kn:()=>o});var s=a(8282),i=a(2036);const r="/pro.png",n=s.tT,o=()=>({proIcon:(0,i.FJ)().then((e=>e?"":r)),proLink:n})},4424:(e,t,a)=>{a.d(t,{W:()=>s,q:()=>i});const s=(e,t)=>e%t,i=(e,t)=>Math.floor(e/t)},6801:(e,t,a)=>{a.d(t,{CB:()=>o,_z:()=>r,hC:()=>n});var s=a(6062),i=a(6304);const r=e=>browser.runtime.sendMessage(e),n=async(e,t,a)=>browser.tabs.sendMessage(e,t,a),o=async e=>s.Dy?(0,i.W)(e,{}):browser.runtime.sendMessage(e)},2542:(e,t,a)=>{a.d(t,{S:()=>i,Z:()=>s});const s=e=>e.type===i,i="cp"},1650:(e,t,a)=>{a.d(t,{v:()=>i});var s=a(4069);let i=!0;s.Vq.then((e=>{e&&(i=!1)}))},5717:(e,t,a)=>{a.d(t,{M6:()=>n,uP:()=>o});var s=a(6683),i=a(1484),r=a(1374);class n{static validateAndFixClusters(e){const t=[];for(let a=0;a<e.length;a++){const n=e[a],o=n.size||s.ZU.NORMAL;if(o===s.ZU.NORMAL){t.push(n);continue}const l=(0,i.Q)(o),c=(0,r.v6)(e.slice(a),((e,t)=>(e.size||s.ZU.NORMAL)===o&&t<l));t.push(...c),a+=Math.max(0,c.length-1);const d=l-c.length;d>0&&t.push(...Array.from({length:d},(()=>({size:o}))))}return t}static dialsToClusters(e){const t=Array();for(let a=0;a<e.length;a++){const r=e[a],n=r.size||s.ZU.NORMAL;if(n!==s.ZU.NORMAL){const s=Array(),r=(0,i.Q)(n),o=a;for(let t=0;t<r;t++,a++)s.push(e[a]);t.push(new l(s)),a=o+r-1}else t.push(new o(r))}return t}static clustersToDials(e){const t=Array();for(let a=0;a<e.length;a++){const s=e[a];s.dials?t.push(...s.dials):t.push(s.dial)}return t}equalsTo(e){return this.dial===e.dial}includes(e){return this.dial===e||!!this.dials?.includes(e)}}class o extends n{dial;dials;constructor(e){super(),this.dial=e,this.dials=void 0}isEmptyDial(){return this.dial.isEmptyDial()}}class l extends n{dials;dial;constructor(e){super(),this.dials=e,this.dial=void 0}isEmptyDial(){return this.dials.every((e=>e.isEmptyDial()))}equalsTo(e){return e.dials?.length===this.dials.length&&e.dials.every(((e,t)=>e===this.dials[t]))}}},7644:(e,t,a)=>{a.d(t,{_:()=>m});var s=a(6683),i=a(6419),r=a(2742),n=a(9501),o=a(8873),l=a(1416),c=a(2806),d=a(9719),u=a(6684),_=a(8032),p=a(7683),h=a(1360);function m(e,t,a){switch(t.type){case s.kh.URL:return new i.O(e,a,t);case s.kh.LIVE:return new r.r(e,a,t);case s.kh.GROUP:return new n.O(e,a,t);case s.kh.TEXT:return new o.i(e,a,t);case s.kh.SEARCH:return new l.t(e,a,t);case s.kh.MULTI:return new c.U(e,a,t);case s.kh.SESSION:return new u.F(e,a,t);case s.kh.TOP_SITES:return new _.O(e,a,t);case s.kh.TIMER:return new p.W(e,a,t);case s.kh.WEATHER:return new h.r(e,a,t);default:return new d.I(e,a,t)}}},4046:(e,t,a)=>{a.d(t,{h:()=>c});var s=a(6683),i=(a(4323),a(5048)),r=a(1305),n=a(4352),o=a(5444),l=a(1962);class c{index;groupId;domId;type;url;getAbsoluteURL(){return this.url||""}name;size;note;created;get gridAreaName(){return`d${this.created}`}get areaNumber(){return this.created||this.index+1e3}thumbnail;crop;reload;visual;settings;distraction;text;providers;live;multi;session;topSites;timer;weather;constructor(e,t){this.index=e,this.groupId=t,this.domId=`dial_${this.index}`,this.size||(this.size=s.ZU.NORMAL)}isSingleLinkDial(){return!1}isLinkDial(){return!1}getLinks(){return this.isSingleLinkDial()?[this.url]:this.multi?this.multi.links.map((e=>e.url)):[]}isGroupDial(){return!1}isTextDial(){return!1}isSearchDial(){return!1}isLiveDial(){return!1}isUrlDial(){return!1}isMultiDial(){return!1}isWeatherDial(){return!1}isTimerDial(){return!1}isSessionDial(){return!1}isTopSitesDial(){return!1}isEmptyDial(){return!1}isNotEmptyDial(){return!this.isEmptyDial()}includesLinkCore(e){return this.isSingleLinkDial()&&(0,i.Ty)(this.url)===e||!!this.multi?.links.some((t=>(0,i.Ty)(t.url)===e))}hash(){return`${this.type};${this.size};${this.name};${this.note};${this.created||0};${this.getLinks().join("")};${this.text?.value||""};${JSON.stringify(this.providers)}`}compare(e){return this.index===e.index&&this.groupId===e.groupId}canHaveThumbnail(){return!1}async hasCustomThumbnail(){if(!this.thumbnail||this.thumbnail.type===s.O8.AUTO_GENERATED||!this.canHaveThumbnail())return!1;const e=await r.i.withDB((async e=>e.getDbDial(this.groupId,this.url)));return!(!e?.imgBlob&&!e?.img)}isAlmostSameDomain(e){const t=(0,o.N)(this.url||""),a=(0,o.N)(e);return t===a||t.startsWith(a.slice(0,a.lastIndexOf(".")))}setSpinner(e=!0){(0,l.$H)(this.domId)?.classList.toggle("reloading",e)}upgrade(){this.size=s.ZU.NORMAL}static updateDB(e,t,a,s){return r.i.withDB((async i=>{await i.moveDbDial(e,a,t,s),(0,n.L)(e,a)}))}}},9719:(e,t,a)=>{a.d(t,{I:()=>r});var s=a(4046),i=a(4323);class r extends s.h{type=void 0;isEmptyDial(){return!0}size;get gridAreaName(){return`d${this.areaNumber}`}get areaNumber(){return this.index+1e3}constructor(e,t,a){super(e,t),Object.assign(this,a)}clone(){return new r(this.index,this.groupId,(0,i.WR)(this))}static createEmptyDial(e){return new r(-1,e,{})}}},7319:(e,t,a)=>{a.d(t,{$:()=>_});var s=a(4623),i=a(2846),r=a(4323);class n extends s.Y{clone(){return new n((0,r.WR)(this))}getSavingInfo(){return"-locked-"}async onBeforeOpen(){return!this.lock||await i.M.masterKeyVault.unlockIfNeeded()}async getDials(){return await this.isUnlocked()?super.getDials():[]}async getDialsToDraw(){return await this.isUnlocked()?this.getDials():[]}async isUnlocked(){return!this.lock||await i.M.masterKeyVault.isUnlocked()}}var o=a(9998),l=(a(6672),a(6419)),c=a(6683),d=a(519);class u extends n{clone(){return new u((0,r.WR)(this))}async getAutoReloadPoweredDials(){return[]}async findDuplicates(e){return[]}async getDials(){if(this.topSites&&o.Jk&&browser.topSites){return(await browser.topSites.get({includeFavicon:!0,newtab:!0,limit:100}).catch((()=>[]))).map((({title:e,url:t,favicon:a},s)=>{const i=a||d.rH;return new l.O(s,this.id,{name:e||"",url:t,thumbnail:{type:c.O8.URL,value:i,position:c.X.CENTER}})}))}return this.dials}}function _(e){switch(!0){case!!e.topSites:return new u(e);case!!e.lock:return new n(e);default:return new s.Y(e)}}},9501:(e,t,a)=>{a.d(t,{O:()=>_});var s=a(6683),i=a(489),r=a(5048),n=a(1589),o=a(7283),l=a(2846),c=a(519),d=a(2036),u=a(4323);class _ extends i.z{type=s.kh.GROUP;isGroupDial(){return!0}url;getAbsoluteURL(){return d.KL+this.url}thumbnail;crop;reload;visual;settings;#e=[];static fromUserInput(e,t,a,s,i){const n=new _(e,t,{name:"",...i,url:(0,r._V)(a)});return s&&n.#e.push(s),n}isSingleLinkDial(){return!0}isLinkDial(){return!0}canHaveThumbnail(){return!0}constructor(e,t,a){super(e,t),Object.assign(this,a)}async preSaveAction(e){for(const e of this.#e)await e();this.#e.length=0}getTargetGroupId(){return(0,r.m4)(this.url)}clone(){return new _(this.index,this.groupId,(0,u.WR)(this))}styleIcon(e,t){const a=l.M.groupById(this.getTargetGroupId()),s=a.iconId;return e.setAttribute("style",s?new n.v(0,"",s,a.color||o.e).getIconStyle():c.ak),e}}},2742:(e,t,a)=>{a.d(t,{r:()=>o});var s=a(489),i=a(6683),r=a(519),n=a(4323);class o extends s.z{type=i.kh.LIVE;isLiveDial(){return!0}url;live;thumbnail;crop;reload;visual;settings;constructor(e,t,a){super(e,t),Object.assign(this,a)}static fromUserInput(e,t,a,s,i){return new o(e,t,{name:"",...i,url:a,live:s})}isSingleLinkDial(){return!0}isLinkDial(){return!0}canHaveThumbnail(){return!0}clone(){return new o(this.index,this.groupId,(0,n.WR)(this))}styleIcon(e,t){return e.src=t||r.rH,e}}},2806:(e,t,a)=>{a.d(t,{U:()=>P});var s=a(6683),i=a(489),r=a(1374),n=a(9944),o=a(6672),l=a(3683),c=a(4323),d=a(2399),u=a(4590),_=a(2846),p=a(2036),h=a(3672),m=a(8289),v=a(9719),g=a(1009),O=a(4352),f=a(4099),w=a(7283),b=a(8794),I=a(5076),y=a(1962),T=a(5048),S=a(9501),E=a(6419);class A{fn;weakMap;constructor(e){this.fn=e,this.weakMap=new WeakMap}getOrFetch(e){if(this.weakMap.has(e))return this.weakMap.get(e);{const t=this.fn(e);return this.weakMap.set(e,t),t}}}var D=a(8282),N=a(3694),x=a(9676);class P extends i.z{type=s.kh.MULTI;isMultiDial(){return!0}multi;thumbnail;visual;settings;isLinkDial(){return!0}#t=new A((e=>(0,m.Z)(e.url)?new S.O(this.index,this.groupId,e):new E.O(this.index,this.groupId,e)));constructor(e,t,a){super(e,t),Object.assign(this,a)}getLinksAsDials(){return this.multi.links.map((e=>this.#t.getOrFetch(e)))}static fromUserInput(e,t,a,s){a.links=a.links.filter((e=>e.url)).map((e=>(e.url=function(e){return e.startsWith(p.KL)?(0,h.u)(e,p.KL):(0,m.Z)(e)?e:(0,l.d)(e)}(e.url),e)));const i=new P(e,t,{name:"",...s,multi:a});return i.normalizeLinks(),i}async postSaveAction(e){this.multi.links.forEach((t=>(0,f.O)(e,t.url)));const t=(await Promise.allSettled(this.multi.links.filter((e=>!e.name)).map((async e=>({url:e.url,title:await(0,x.w)(4e3,"",(()=>(0,g.E)(e.url)))}))))).filter(n.s).map((e=>e.value));this.multi.links.forEach(((e,a)=>{e.name||=t.find((({url:t})=>t===e.url))?.title||(0,o.QV)(e.url)})),this.normalizeLinks(),await _.M.action("replaceDial",{groupId:e,dial:this},(0,u.tr)("save_dial_names_saved")),(0,O.L)(e)}normalizeLinks(){this.multi.links.forEach(((e,t)=>{e.created||=(0,N.Sy)()+t,e.name||=(0,o.QV)(e.url),e.url||=D.pf})),this.multi.links=(0,r.vC)(this.multi.links,"url"),this.multi.sortBy&&this.multi.links.sort(((e,t)=>{switch(this.multi.sortBy){case s.oB.createdAsc:return e.created-t.created;case s.oB.createdDesc:return t.created-e.created;case s.oB.nameAsc:return e.name.localeCompare(t.name);case s.oB.nameDesc:return t.name.localeCompare(e.name);case s.oB.urlAsc:return e.url.localeCompare(t.url);case s.oB.urlDesc:return t.url.localeCompare(e.url);default:return 0}}))}static async mergeDials(e,t,a,s,i=!1){const r=s.clone(),n=_.M.groupById(e),o=(await Promise.all(t.map((e=>n.dialByIndex(e).then((e=>e?.clone())))))).filter(c.zz),l=r.name,p=(r.index,o.flatMap((e=>e.isMultiDial()?(0,c.WR)(e.multi.links):[{name:e.name||"",url:e.url||D.pf}]))),h=P.convertDialToMulti(r,p);await _.M.action("replaceDials",{list:[...i?[]:o.map((t=>({groupId:e,dial:new v.I(t.index,e,{})}))),{groupId:a,dial:h}]},(0,u.tr)("save_dial_moved",`${o.map((e=>`"${e.name}"`)).join(", ")} => "${l}"`)),(0,d.D)(a),i||(0,d.D)(e)}static convertDialToMulti(e,t,a=Number.MAX_SAFE_INTEGER){return e.isMultiDial()?(e.multi.links.splice(a,0,...t),e.normalizeLinks(),e):P.fromUserInput(e.index,e.groupId,{links:[{name:e.name,url:e.url},...t],titleAction:s.C2.openAll,linkAction:s.Q0.openLink},{name:"",thumbnail:e.thumbnail,visual:e.visual,settings:e.settings})}static async pasteLink(e,t){const a=P.getItemIndex(t),s=await b.L8.get();if(s){const t=e.index===s.dialIndex&&e.groupId===s.groupId?e:(await _.M.groupById(s.groupId).dialByIndex(s.dialIndex))?.clone();if(t&&t.isMultiDial()){const[i]=t.multi.links.splice(s.linkIndex,1),r=P.convertDialToMulti(e.clone(),[i],a);await _.M.action("replaceDials",{list:[{groupId:s.groupId,dial:t},{groupId:r.groupId,dial:r}]},(0,u.tr)("save_link_moved",`"${t.name}" => "${r.name}"`)),await b.L8.reset()}return}const i=await b._V.get();if(i?.length){const t=(await Promise.all(i.map((async e=>(await _.M.groupById(e.groupId).dialByIndex(e.dialIndex))?.clone())))).filter((t=>!!t&&!t.compare(e)&&(t.isMultiDial()||t.isLinkDial()))),s=t.flatMap((e=>e?.isMultiDial()?e.multi.links:e?[{name:e.name,url:e.url,created:e.created}]:[])),r=P.convertDialToMulti(e.clone(),s,a);await _.M.action("replaceDials",{list:[...t.map((e=>({groupId:e.groupId,dial:new v.I(e.index,e.groupId,{})}))),{groupId:r.groupId,dial:r}]},(0,u.tr)("save_link_pasted",`${t.map((e=>`"${e.name}"`)).join(", ")} => "${r.name}"`)),await b._V.reset()}}async removeClickedLinkAndSave(e){await(0,I.J)(P.getItemIndex(e),(async e=>{this.multi.links.splice(e,1),await _.M.action("replaceDial",{groupId:this.groupId,dial:this},(0,u.tr)("remove_from_multi"))}))}async cutLink(e){const t=P.getItemIndex(e)||0;await b.L8.set({groupId:this.groupId,dialIndex:this.index,linkIndex:t});const a=(0,y.EW)(e)?.closest(T.l8);Array.from(a?.querySelectorAll("ul > li")||[]).at(t)?.classList.add("is_cut")}static getItemIndex(e){const t=parseInt((0,y.EW)(e)?.closest("li")?.dataset.index||"");return isNaN(t)?void 0:t}clone(){return new P(this.index,this.groupId,(0,c.WR)(this))}styleIcon(e,t){return e.setAttribute("style",(0,w.H)("svg/multi (1).svg")),e}}},489:(e,t,a)=>{a.d(t,{z:()=>r});var s=a(4046),i=a(3694);class r extends s.h{type;name;size;note;created=(0,i.Sy)();distraction;constructor(e,t){super(e,t),this.name||(this.name="")}async preSaveAction(e){}postSaveAction(e){}}},1416:(e,t,a)=>{a.d(t,{t:()=>u});var s=a(6683),i=a(489),r=a(2542),n=a(6672),o=a(8168),l=a(4099),c=a(7283),d=a(4323);class u extends i.z{type=s.kh.SEARCH;isSearchDial(){return!0}providers;thumbnail;visual;settings;constructor(e,t,a){super(e,t),Object.assign(this,a)}static fromUserInput(e,t,a,s){return a.filter(r.Z).forEach((e=>{e.name??=(0,o.BB)((0,n.lX)(e.url,!0))})),new u(e,t,{name:"",...s,providers:a})}async postSaveAction(e){await Promise.all(this.providers.filter(r.Z).map((t=>(0,l.O)(e,t.url))))}clone(){return new u(this.index,this.groupId,(0,d.WR)(this))}styleIcon(e,t){return e.setAttribute("style",(0,c.H)("svg/search_d (3).svg")),e}}},6684:(e,t,a)=>{a.d(t,{F:()=>u});var s=a(6683),i=a(489),r=a(1650),n=a(2036),o=a(7283),l=a(4323),c=a(7137);const d=[n.Lf,"chrome://newtab","https://auth.tampermonkey.net/oauth"];class u extends i.z{type=s.kh.SESSION;isSessionDial(){return!0}session;thumbnail;visual;settings;isLinkDial(){return!0}constructor(e,t,a){super(e,t),Object.assign(this,a)}static fromUserInput(e,t,a,s){return new u(e,t,{name:"",...s,session:a})}async getRecentlyClosed(){if(!r.v||!browser.sessions)return[];const e=await browser.sessions.getRecentlyClosed(),t=e=>!e?.hidden&&!d.some((t=>e?.url?.startsWith(t)));return e.filter((e=>{const{window:a,tab:s}=e;return a?.tabs&&(a.tabs=a.tabs.filter(t),a.tabs.forEach((e=>e.sessionId=a.sessionId))),t(s)}))}async restoreSession(e){const{tab:t,window:a}=await browser.sessions.restore(e),s=t?await browser.windows.get(t.windowId):a;s.focused||await browser.windows.update(s.id,{focused:!0})}canHaveThumbnail(){return!1}static async askForPermission(){return(0,c.x)("sessions")}clone(){return new u(this.index,this.groupId,(0,l.WR)(this))}styleIcon(e,t){return e.setAttribute("style",(0,o.H)("svg/recent (2).svg")),e}}},8873:(e,t,a)=>{a.d(t,{i:()=>o});var s=a(6683),i=a(489),r=a(7283),n=a(4323);class o extends i.z{type=s.kh.TEXT;isTextDial(){return!0}text;thumbnail;visual;constructor(e,t,a){super(e,t),Object.assign(this,a)}static fromUserInput(e,t,a,s){return new o(e,t,{name:"",...s,text:a})}clone(){return new o(this.index,this.groupId,(0,n.WR)(this))}styleIcon(e,t){return e.setAttribute("style",(0,r.H)("svg/note_t.svg")),e}}},7683:(e,t,a)=>{a.d(t,{W:()=>g});var s=a(6683),i=a(489),r=a(6265),n=a(9598),o=a(4590),l=a(6004);class c extends r.w{index;id;value;type;constructor(e,t,a=""){super(e,t,s.$C.countdown,a),this.index=e,this.id=t,this.value=a,this.type=s.$C.countdown}async start(){browser.alarms.create(this.alarmName,{delayInMinutes:super.getMinutes()})}async stop(){await browser.alarms.clear(this.alarmName)}async renderHead(){return(0,l.nl)([(0,n.u)("label",`${(0,o.tr)("timer_type_0")}:`),super.formatSeconds(this.getSeconds())])}async renderBody(){const e=await this.getScheduledTime();return super.formatSeconds(e?(e-Date.now())/1e3:0)}}class d extends r.w{index;id;value;type;constructor(e,t,a=""){super(e,t,s.$C.alarm,a),this.index=e,this.id=t,this.value=a,this.type=s.$C.alarm}async start(){const{hours:e,minutes:t,seconds:a}=super.getTime(),s=new Date;s.setHours(e),s.setMinutes(t),s.setSeconds(a),s<new Date&&s.setDate(s.getDate()+1),browser.alarms.create(this.alarmName,{when:s.getTime()})}async stop(){await browser.alarms.clear(this.alarmName)}async renderHead(){return(0,l.nl)([(0,n.u)("label",`${(0,o.tr)("timer_type_1")}:`),(0,n.z)("span",{class:"timer_time",textContent:this.value})])}async renderBody(){const e=await this.getScheduledTime();return super.formatSeconds(e?(e-Date.now())/1e3:0)}}var u=a(910),_=a(2460),p=a(5524);class h extends r.w{index;id;type;store;runningIcons;pausedIcons;stoppedIcons;async getScheduledTime(){}constructor(e,t){super(e,t,s.$C.stopwatch),this.index=e,this.id=t,this.type=s.$C.stopwatch,this.store=new u.F(this.alarmName,(()=>{}),{storageArea:"localStorage"}),this.runningIcons=[1,0,1],this.pausedIcons=[1,1,0],this.stoppedIcons=[0,1,0]}async isPaused(){const e=await this.store.get(),t=e?.paused.at(-1);return Boolean(t?.start&&!t?.end)}async isRunning(){return!!await this.store.get()}async start(){await(await this.isRunning()?this.pause():this.store.set({paused:[],startTime:Date.now()}))}async stop(){return(0,p.cO)(`Stopwatch cleared: ${(await this.renderBody()).textContent}`),this.store.remove()}async pause(){let e=!1;return await this.store.update((t=>{if(t){const a=t.paused.at(-1);!a||a.end?t.paused.push({start:Date.now()}):(a.end=Date.now(),e=!0)}return t})),e}async measure(){const e=await this.store.get();if(!e)return 0;const t=Date.now(),a=(0,_.RM)(e.paused.map((e=>(e.end||t)-e.start)));return t-e.startTime-a}async renderHead(){return(0,n.u)("label",`${(0,o.tr)("timer_type_2")}:`)}async renderBody(){return super.formatSeconds(await this.measure()/1e3)}}var m=a(7283),v=a(4323);class g extends i.z{type=s.kh.TIMER;isTimerDial(){return!0}timer;thumbnail;visual;settings;isLinkDial(){return!1}canHaveThumbnail(){return!1}constructor(e,t,a){super(e,t),Object.assign(this,a)}static fromUserInput(e,t,a,s){return new g(e,t,{name:"",...s,timer:a})}getTimerControls(){return this.timer.timers.map(((e,t)=>{switch(e.type){case s.$C.countdown:return new c(t,this.created,e.value);case s.$C.alarm:return new d(t,this.created,e.value);case s.$C.stopwatch:return new h(t,this.created)}}))}clone(){return new g(this.index,this.groupId,(0,v.WR)(this))}styleIcon(e,t){return e.setAttribute("style",(0,m.H)("svg/timer (2).svg")),e}}},8032:(e,t,a)=>{a.d(t,{O:()=>d});var s=a(6683),i=a(489),r=a(9998),n=(a(6672),a(519)),o=a(7283),l=a(4323),c=a(7137);class d extends i.z{type=s.kh.TOP_SITES;isTopSitesDial(){return!0}topSites;thumbnail;visual;settings;isLinkDial(){return!0}constructor(e,t,a){super(e,t),Object.assign(this,a)}static fromUserInput(e,t,a,s){return new d(e,t,{name:"",...s,topSites:a})}async getTopSites(){if(!r.Jk||!browser.topSites)return[];return(await browser.topSites.get({includeFavicon:!0,newtab:!0,limit:100}).catch((()=>[]))).map((({title:e,url:t,favicon:a},s)=>({name:e||"",url:t,icon:a||n.rH})))}canHaveThumbnail(){return!1}static async askForPermission(){return(0,c.x)("topSites")}clone(){return new d(this.index,this.groupId,(0,l.WR)(this))}styleIcon(e,t){return e.setAttribute("style",(0,o.H)("svg/list-with-dots.svg")),e}}},6419:(e,t,a)=>{a.d(t,{O:()=>c});var s=a(489),i=a(6683),r=a(1962),n=a(7283),o=a(1481),l=a(4323);class c extends s.z{type=i.kh.URL;isUrlDial(){return!0}url="";thumbnail;crop;reload;visual;settings;constructor(e,t,a){super(e,t),Object.assign(this,a),this.url||(this.url="")}static fromUserInput(e,t,a,s){return new c(e,t,{name:"",...s,url:a})}isSingleLinkDial(){return!0}isLinkDial(){return!0}canHaveThumbnail(){return!0}clone(){return new c(this.index,this.groupId,(0,l.WR)(this))}styleIcon(e,t){return t?e.src=t:(e.src=r.RO,e.setAttribute("style",(0,n.H)((0,o.f)(this.url)))),e}}},1360:(e,t,a)=>{a.d(t,{r:()=>o});var s=a(6683),i=a(489),r=a(7283),n=a(4323);class o extends i.z{type=s.kh.WEATHER;isWeatherDial(){return!0}weather;thumbnail;visual;settings;isLinkDial(){return!1}canHaveThumbnail(){return!1}constructor(e,t,a){super(e,t),Object.assign(this,a)}static fromUserInput(e,t,a,s){return new o(e,t,{name:"",...s,weather:a})}getWeatherUUID(){return`${this.weather.units}_${this.weather.lat}_${this.weather.lon}`}clone(){return new o(this.index,this.groupId,(0,n.WR)(this))}styleIcon(e,t){return e.setAttribute("style",(0,r.H)("svg/weather.svg")),e}}},6808:(e,t,a)=>{a.d(t,{YK:()=>o,v3:()=>c,wh:()=>l});var s=a(4590),i=a(7319),r=a(4069),n=a(841);const o=3,l=4;function c(e,{name:t="",dimensions:a,archived:c=!1,isDefaultFirstGroup:d=!1,sourceGroup:u}={}){const _=d&&r.m0,{rows:p,cols:h}=a||(u?{rows:u.rows,cols:u.cols}:_?{rows:7,cols:3}:{rows:o,cols:l}),m=Object.assign({},{id:e,name:d?(0,s.tr)("default_home_group_name"):t||(0,s.ZB)("group_generated_name",e),iconId:d?37:void 0,rows:p,cols:h,..._?{dynamic:{width:n.v.androidWidth,height:n.v.androidHeight}}:{},dials:Array(p*h).fill(0).map((()=>({}))),archived:c,...u?{ratio:u.ratio,dynamic:u.dynamic,list:u.list,background:u.background,gestures:u.gestures,color:u.color,rowColor:u.rowColor,colColor:u.colColor}:{}});return(0,i.$)(m)}},4623:(e,t,a)=>{a.d(t,{Y:()=>f});var s=a(6795),i=a(1374),r=a(5048),n=a(6683),o=a(4323),l=a(7644),c=a(9719),d=a(5717),u=a(2846),_=a(8654),p=a(8794),h=a(1589),m=a(2036),v=a(7283),g=a(6664),O=a(5904);class f{clone(){return new f((0,o.WR)(this))}static DEFAULT_ROWS=3;static DEFAULT_COLS=4;id;name;getSavingInfo(){return this.name}cols;rows;dials;async getDials(){return this.dials}archived;background;createBackgroundFileURL(){return`about:blank#${this.id}`}getAbsoluteURL(){return m.KL+`#${this.id}`}colColor;color;distraction;gestures;options;container;getGestures(){return this.gestures||_.j}dynamic;list;grid;topSites;lock;ratio;rowColor;iconId;constructor(e){Object.assign(this,e),this.options??={},this.dials=e.dials.map(((t,a)=>(0,l._)(a,t,e.id)))}async onBeforeOpen(){return!0}async findDuplicates(e){const t=(0,r.Ty)(e);return(await this.getDials()).filter((e=>e.includesLinkCore(t)))}styleIcon(e=document.createElement("img"),t=this.color||v.e,a=0){const s=this.iconId||a;return s&&e.setAttribute("style",new h.v(0,"",s,t).getIconStyle()),e}async insertNewLink(e){const[t]=e.url?await this.findDuplicates(e.url):[];if(t)return"multi"in t||(t.name=e.name),{action:"update",dial:t};const a=(0,i.SL)(this.dials,(e=>e.isEmptyDial())),s=a>=0?a:this.dials.length;return this.replaceDial(e,s),{action:"insert",dial:e}}removeDial(e){const t=this.dials[e];return this.replaceDial(new c.I(e,this.id,t),e)}replaceDial(e,t=this.dials.length){const a=e.clone();t<0&&(t=this.dials.length);this.dials.length;const s=this.dials[t],i=this.dials[t]?.size??n.ZU.NORMAL;return this.dials=[...this.dials.slice(0,t),a,...this.dials.slice(t+1)],a.size=i,this.grid&&s?.created&&a.created&&(this.grid.areas=new O.x(this.grid.areas).replaceItem(s.created,a.created)),a}hasDynamicLayout(){return Boolean(this.dynamic||this.list||this.topSites||this.grid)}isFlexibleLayout(){return!(this.dynamic||this.list||this.ratio||this.grid&&this.grid.position!==s.Cr.fillSpace)}getLastEmptyDial(){const e=this.dials.at(-1);if(e?.isEmptyDial())return e}async isUnlocked(){return!0}getPosition(){return u.M.GROUPS.findIndex((e=>e.id===this.id))}getDialIndex(e){return this.dials.indexOf(e)}getOrCreateEmptyDialIndex(e=0){const t=this.dials.findIndex(((t,a)=>a>=e&&t.isEmptyDial()));return t>=0?t:(this.dials=this.dials.concat(c.I.createEmptyDial(this.id)),this.dials.length-1)}activateGroup(e){window.dispatchEvent(new CustomEvent("change_active_group",{detail:e??this.id}))}async getNeighbouringGroup(e,t,{isProductivityOn:a=!1}={}){const s=await u.M.getVisibleGroups();let i=this;for(const r of Array(s.length))if(i=i._getNeighbouringGroup(s,e,t),!i.distraction||!a)return i}_getNeighbouringGroup(e,t,a){const s=e.findIndex((e=>e.id===this.id)),i="next"===t?s+1:s-1;switch(a){case"loop":return e[i<0?e.length-1:i%e.length];case"stay":return e[i<0?0:i>=e.length?e.length-1:i];case"none":return i<0||i>=e.length?void 0:e[i]}}async executeGesture(e,t){const a=this.getGestures()[e];switch(a?.type){case s.EM.OPEN_GROUP:return this.activateGroup(a.groupId),!0;case s.EM.HOME_GROUP:return this.activateGroup(await p.ne.get()??u.M.GROUPS[0].id),!0;case s.EM.NEXT_GROUP:return this.activateGroup((await this.getNeighbouringGroup("next","loop",{isProductivityOn:t})).id),!0;case s.EM.PREV_GROUP:return this.activateGroup((await this.getNeighbouringGroup("prev","loop",{isProductivityOn:t})).id),!0}return!1}async getDialsToDraw(){return this.getDials()}async getAutoReloadPoweredDials(){return this.list?[]:(await this.getDials()).filter((e=>e.url&&e.reload&&(!e.thumbnail||e.thumbnail.type===n.O8.AUTO_GENERATED)))}async dialByIndex(e){return(await this.getDials()).at(e)}dialById(e){const t=(0,r.om)(e),a=this.dials[t];if(!a)throw`Dial not found!!! ${e} / ${this.id}`;return a}upgrade(){this.dials.forEach((e=>e.upgrade())),this.archived=!1,delete this.rowColor,delete this.colColor}serialize(){let e=this.dials.filter((e=>!e.isEmptyDial()||!(this.list||this.grid||this.dynamic&&!e.size))).map(((e,t)=>e.isEmptyDial()?{...e.size?{size:e.size}:{}}:{name:e.name,note:e.note,created:e.created&&(e.created<3e7?60*e.created+t:e.created),size:e.size,type:e.type,...e.url?{url:e.url}:{},...e.live?{live:e.live}:{},...e.text?{text:e.text}:{},...e.multi?{multi:Object.assign({links:[],titleAction:n.C2.openAll,linkAction:n.Q0.openLink},e.multi)}:{},...e.session?{session:e.session}:{},...e.topSites?{topSites:e.topSites}:{},...e.timer?{timer:e.timer}:{},...e.weather?{weather:e.weather}:{},...e.providers?{providers:e.providers}:{},...e.thumbnail?{thumbnail:e.thumbnail}:{},...e.reload?{reload:e.reload}:{},...e.crop?{crop:e.crop}:{},...e.settings?{settings:e.settings}:{},...e.distraction?{distraction:e.distraction}:{},...e.visual?{visual:e.visual}:{}}));if((this.list||this.grid)&&e.forEach((e=>e.size=n.ZU.NORMAL)),this.topSites)e.length=0;else if(this.dynamic||this.list||this.grid)e.push({});else{e=d.M6.validateAndFixClusters(e);const t=d.M6.dialsToClusters(this.dials),a=this.rows*this.cols;t.length>a&&(this.rows=Math.ceil(t.length/this.cols));for(let t=e.length;t<a;t++)e.push({})}return this.grid&&(this.grid=g.J.normalizeGrid(this.grid,e)),{id:this.id,name:this.name,rows:(0,o.Kg)(this.rows)?parseInt(this.rows):this.rows,cols:(0,o.Kg)(this.cols)?parseInt(this.cols):this.cols,ratio:this.ratio,dynamic:this.dynamic,list:this.list,grid:this.grid,topSites:this.topSites,background:this.background,color:this.color,iconId:this.iconId,archived:this.archived,rowColor:this.rowColor,colColor:this.colColor,distraction:this.distraction,container:this.container,gestures:this.gestures,options:this.options,lock:this.lock,dials:e}}}},7111:(e,t,a)=>{a.d(t,{j:()=>r});var s=a(6683),i=a(5048);function r(e,t,a){e.flatMap(((e,r,n)=>function(e,t,r){const n=[],o=(0,i._V)(e),l=(0,i._V)(t);return a?.forEach((a=>{a.group===e&&n.push((()=>a.group=t)),a.url===o&&n.push((()=>a.url=l))})),r.forEach((a=>{a.id===e&&n.push((()=>a.id=t)),a.dials.forEach((e=>{e.type===s.kh.GROUP&&e.url===o&&n.push((()=>e.url=l)),e.type===s.kh.MULTI&&e.multi?.links.forEach((e=>{e.url===o&&n.push((()=>e.url=l))}))}))})),n}(e.id,t+r,n))).forEach((e=>e()))}},2846:(e,t,a)=>{a.d(t,{M:()=>V});var s=a(6795),i=a(4323),r=a(6808),n=a(2801),o=a(4590),l=a(1374),c=a(2399),d=a(1038),u=a(9719),_=a(9),p=a(5717);function h(e,t){return(0,l.SL)(e,(e=>e===t||t.equalsTo(e)))}var m=a(1589);class v{masterPassword;tags;constructor(e){Object.assign(this,e),this.tags=(e.tags||[{id:1,icon:36,name:(0,o.tr)("tag_work"),color:"#0095ff"},{id:2,icon:29,name:(0,o.tr)("tag_play"),color:"#00d200"},{id:3,icon:31,name:(0,o.tr)("tag_shopping"),color:"#e94335"}].concat([])).map((e=>new m.v(e.id,e.name,e.icon,e.color)))}getUserTags(){return this.tags.map((e=>new m.v(e.id,e.name,e.icon,e.color)))}tagById(e){const t=this.tags.find((t=>t.id===e));return t?new m.v(t.id,t.name,t.icon,t.color):void 0}hasPassword(){return!!this.masterPassword}getMasterPasswordHint(){return this.masterPassword?.options.hint||""}}var g=a(6672);class O{optionsAutoSync;optionsManual;constructor(e){Object.assign(this,e)}}var f=a(6382),w=a(6062),b=a(5048),I=a(9830),y=a(910),T=a(7319),S=a(4352),E=a(1596),A=a(2542),D=a(1305);async function N(e,t,a){const s=(0,l.BO)(e.url||e.multi?.links.map((e=>e.url))||e.providers?.filter(A.Z).map((e=>e.url))||[]);for(const e of s)await D.i.withDB((s=>s.moveDbDial(t,a,e)))}var x=a(9180);var P=a(2221),k=a(8204),R=a(9114),L=a(6635),C=a(6801),U=(a(7139),a(5076)),B=a(2036),$=a(7111),G=a(2352),M=a(7384),H=a(4069),F=a(5904),K=a(6664);const W="masterPasswordHash"+(R.O?"_incognito":""),V=new class extends f.c{DATA_IS_UP_TO_DATE=new y.F("syncTime",(()=>Date.now()));DATA_LAST_CHANGE=new y.F("lastChangeInfo",i.s6);promise;fields={groups:"groups",metadata:"metadata",sync:"sync"};_executor=new n.V(1);_saveCallbacks=[];masterKeyVault=new k.e(W,(()=>this.METADATA.masterPassword?.options),void 0,void 0,(()=>this.action("removeMasterPassword",{})),L.S);_groups=[];_metadata=new v({});_sync=new O({});get GROUPS(){return this._groups}get METADATA(){return this._metadata}get SYNC(){return this._sync}hasOwnGroups=!0;constructor(){super(),this.promise=browser.storage.local.get([this.fields.groups,this.fields.metadata,this.fields.sync]).then((async({[this.fields.groups]:e,[this.fields.metadata]:t,[this.fields.sync]:a})=>(await Promise.all([P.j_,H.Vq,o.P$]),await this.loadGroups(e),this._metadata=new v(t||{}),this._sync=new O(a),this))),browser.storage.local.onChanged.addListener((async e=>{const t=e[I.J.key],a=e[this.DATA_IS_UP_TO_DATE.key],s=e[this.fields.groups],r=e[this.fields.metadata];(s||r||t)&&(r&&(this._metadata=new v(r.newValue||{})),s&&await this.loadGroups(s.newValue),super.notifyChange({type:s||r?"data":"sync",isDirty:!!a&&0===a.newValue,sync:this.SYNC,groups:this.GROUPS,metadata:this.METADATA,lastChangeInfo:e.lastChangeInfo?.newValue,serialize:()=>this.serialize()}),(0,i.XB)(this._saveCallbacks))}))}async loadGroups(e){if(!e?.length&&w.Dy){const e=(0,r.v3)(0,{isDefaultFirstGroup:!0});await this.action("addGroup",{newGroup:e,addonInit:!0})}else this._groups=(e||[]).map(T.$)}async action(e,t,a=""){switch(e){case"addGroup":{const{newGroup:e,position:s,addonInit:i}=t;return this._groups||(this._groups=[]),this._groups.splice(s??this._groups.length,0,(0,T.$)(e)),void await this.saveState(a||(0,o.tr)("save_group_created"),{dontUpdateVersion:i})}case"newSyncData":case"importData":{const{groups:s,metadata:r,sync:n,version:l,replaceExisting:c,source:d,dontUpdateVersion:u}=t,_="shared"===d;_&&(0,$.j)(s,this.getNewGroupId());const p=s.map(T.$);if(_&&!await(0,B.FJ)()&&p.forEach((e=>e.upgrade())),this._groups=c?p:this._groups.concat(p),r&&(this._metadata=new v(r)),n&&(this._sync=new O(n)),await this.saveState(a||(0,o.tr)("import_done_text"),{dontUpdateVersion:u,version:l,setDirty:"newSyncData"===e?Date.now():0}),_){(0,C.CB)({type:"download_missing_favicons"});const e=await(0,G.e6)();await(0,M.p)(e.id,(()=>browser.tabs.update(e.id,{url:`${B.KL}#${p[0].id}`}))),await(0,C.hC)(e.id,{type:"import_shared_complete",importedGroups:p.map((e=>e.id))}).catch(i.lQ)}return}case"importShared":{const{groupId:e}=t;return!1}case"moveGroup":{const{groupId:e,targetGroupId:s}=t,i=this.getGroupIndexById(e),r=this.getGroupIndexById(s);if(i<0||i>=this._groups.length||r<0||r>=this._groups.length)return;this._groups.splice(r,0,this._groups.splice(i,1)[0]);const n=this.groupById(e);return void await this.saveState(a||(0,o.tr)("save_group_moved",`Group: "${n.getSavingInfo()}"`))}case"deleteGroup":{const{groupId:e}=t,s=this.groupById(e);if(s){this._groups=(0,l.M$)(this._groups,(e=>e.id===s.id));const e=(0,b._V)(s.id);this._groups.forEach((t=>{t.dials.forEach(((a,s)=>{a.url===e&&t.removeDial(s)}))})),await this.saveState(a||(0,o.tr)("save_group_deleted",s.getSavingInfo()))}return}case"updateGroup":{const{groupId:e,update:s,newPosition:r}=t,n=this.groupById(e),c=s.name;if(c&&c!==n.name){const t=(0,b._V)(e);this.GROUPS.forEach((a=>{a.id===e&&(a.name=c),a.dials.forEach((e=>{e.url===t&&(e.name=c)}))}))}return Object.assign(n,s),(0,i.qS)(r)&&(0,l.VE)(this._groups,this.getGroupIndexById(e),r),void await this.saveState(a||(0,o.tr)("save_group_edited",n.getSavingInfo()),{forceCallback:!0})}case"insertLinksToGroup":{const{groupId:e,links:s}=t,i=this.groupById(e),r=await Promise.all(s.map((e=>i.insertNewLink(e))));return(0,l.RD)(this._groups,(e=>e.id===i.id),i),await this.saveState(a||(0,o.tr)("save_dial_edited",this.getDialLogInfo(r.map((e=>e.dial.name)).join(", "),i))),r}case"removeDial":{const{groupId:e,index:s}=t,i=this.groupById(e),r=i.dials[s];return(0,c.D)(e,r),i.removeDial(s),void await this.saveState(a||(0,o.tr)("save_dial_removed",this.getDialLogInfo(r.name,i)))}case"resizeDial":{const{groupId:e,dial:s,dialSize:i}=t,r=this.groupById(e),n=(0,d.f)(e,r.dials,s,i);return void(n&&(r.dials=n,await this.saveState(a||(0,o.tr)("save_dial_resized",this.getDialLogInfo(s.name,r)))))}case"updateDialNameIfNeeded":{const{groupId:e,url:s,newName:i}=t,r=this.groupById(e),n=i.trim().slice(0,128),l=r.dials.filter((e=>e.url&&e.url===s&&e.name!==n&&(e.name===(0,g.QV)(s)||e.settings?.FETCH_NEW_NAME)));return void(n&&l.length>0&&(l.forEach((e=>e.name=n)),await this.saveState(a||(0,o.tr)("save_dial_names_saved",this.getDialLogInfo(l.map((e=>e.name)).join(", "),r)))))}case"replaceDial":case"replaceDials":{const{list:s}="replaceDial"===e?{list:[t]}:t;return s.forEach((({dial:e,groupId:t,gridPlacement:a})=>{const s=this.groupById(t);if(s.replaceDial(e,e.index),a&&s.grid){const t=K.J.create(s).placeItem(e,a);t&&(s.grid.areas=t.areas)}})),void await this.saveState(a||(0,o.tr)("save_dial_edited",this.getDialLogInfo(s.map((e=>e.dial.name)).join(", "),this.groupById(s[0]?.groupId))),{forceCallback:!0,editedDialsTypes:s.map((e=>e.dial.type))})}case"swapDials":{const{srcGroupId:e,destGroupId:s,srcDialIndex:r,destDialIndex:n,operation:d,gridPlacement:m}=t;if(e===s&&r===n)return;const v=this.groupById(e),g=this.groupById(s),O=v.dials[r],f=n<0?g.getOrCreateEmptyDialIndex():n,w=g.dials[f];switch(d){case"swap":case"cut":case"copy":const e="swap"===d?w:"copy"===d?O:"cut"===d?u.I.createEmptyDial(v.id):(0,i.qb)("n/a");if(v===g&&g.grid)g.grid.areas=new F.x(g.grid.areas).swapItems(O.created,w.created);else if(v.replaceDial(e,O.index),g.replaceDial(O,w.index),m&&g.grid&&w.isEmptyDial()){const e=K.J.create(g).placeItem(O,m);e&&(g.grid.areas=e.areas)}break;case"up":case"down":case"left":case"right":const t=function(e,t,a,s){const r="left"===s||"right"===s,n="left"===s||"up"===s,o=!n,c=r?"row":"column";let d=(0,_.QY)(c,t,a);const u=t=>(t.dial?.isEmptyDial()||t.dial===e)&&!t.dials,m=(0,i.t1)(u);d.every((e=>!u(e)))&&(0,_.Ks)(t,r?"column":"row"),d=(0,_.QY)(c,t,a);const v=(0,l.SL)(d,(e=>e.includes(a)));v<0&&(0,i.qb)("bad dial index");const g=[d.slice(v),d.slice(0,v+1).reverse()],[O,f]=g;n&&g.reverse();const[w]=g.filter((e=>e.some(u))),b=w===O,I=!b,y=p.M6.dialsToClusters(t.dials),T=(0,l.v6)(w,m,{closedInterval:!0});return(0,l.qm)(T).slice(b&&o||I&&n?1:0).map((([e,t])=>{const a=h(y,e),s=h(y,t);return a>=0&&s>=0?()=>(0,l.VE)(y,a,s):i.lQ})).reverse().forEach(i.g7),t.dials=p.M6.clustersToDials(y),w.find(u).dial}(O,g,w,d),a=v.getDialIndex(O),s=g.getDialIndex(t);v.replaceDial(t,a),g.replaceDial(O,s)}return await this.saveState(a||(0,o.tr)("save_dial_moved",this.getDialLogInfo(O.name,g))),e!==s&&(await N(O,e,s),"swap"===d&&await N(w,s,e)),(0,S.L)(e,s),void(0,c.D)(s)}case"moveDials":{const{srcGroupId:e,destGroupId:s,srcDialIndexes:r,destDialIndex:n,operation:l}=t,d=this.groupById(e),_=this.groupById(s),p=r.map((e=>d.dials[e])).filter((e=>e.isNotEmptyDial()));p.forEach((e=>d.replaceDial(new u.I(e.index,d.id,{}),e.index)));for(const t of p){const a=_.getOrCreateEmptyDialIndex(n),r=_.dials[a];_.replaceDial(t,r.index),e!==s&&await N(t,e,s).catch(i.lQ)}return await this.saveState(a||(0,o.tr)("save_dial_moved",this.getDialLogInfo(p.map((e=>e.name)).join(", "),_))),(0,S.L)(e,s),void(0,c.D)(s)}case"removeDials":{const{srcGroupId:e,srcDialIndexes:s}=t,i=this.groupById(e),r=s.map((e=>i.dials[e]));return r.forEach((e=>i.removeDial(e.index))),await this.saveState(a||(0,o.tr)("save_dial_removed",this.getDialLogInfo(r.map((e=>e.name)).join(", "),i))),(0,S.L)(e,i.id),void(0,c.D)(i.id)}case"addDial":{const{groupId:e,dial:s}=t,i=this.groupById(e);return i.dials=i.dials.concat(s),void await this.saveState(a||(0,o.tr)("save_dial_edited",this.getDialLogInfo(s.name,i)))}case"deleteDial":return void(0,i.SJ)();case"updateProductivity":{const{selectedGroups:e,selectedDialsPerGroup:a}=t,s=JSON.stringify(this.GROUPS);return this.GROUPS.forEach((t=>{e.has(t.id)?t.distraction={}:t.distraction&&delete t.distraction;const s=a.get(t.id);t.dials.forEach(((e,t)=>{s.has(t)?e.distraction={}:e.distraction&&delete e.distraction}))})),void(s!==JSON.stringify(this.GROUPS)&&await this.saveState((0,o.tr)("save_productivity_selection_changed")))}case"saveMasterPassword":{const{pwdId:e,options:a}=t;return this.METADATA.masterPassword={id:e,options:a,name:"master password"},void await this.saveState((0,o.tr)("save_new_master_password"))}case"removeMasterPassword":return this._groups=this._groups.filter((e=>!e.lock?.passwordId)),this.METADATA.masterPassword=void 0,await this.saveState((0,o.tr)("save_removed_master_password")),(0,C._z)({type:"broadcast",message:{type:"redraw_dials"}}),void self.location.reload();case"updateTags":{const{tags:e,operation:a}=t;return this.METADATA.tags=e.map((e=>new m.v(e.id,e.name,e.icon,e.color))),void await this.saveState((0,o.tr)("save_tags_updated")+" - "+a)}}}async saveState(e,{dontUpdateVersion:t=!1,version:a=Date.now(),forceCallback:s=!1,editedDialsTypes:r=Array(),setDirty:n=0}={}){const o={...this.serialize(),lastChangeInfo:{date:Date.now(),name:e,editedDialsTypes:r.filter(i.zz)},[this.DATA_IS_UP_TO_DATE.key]:n||0,...t?{}:{[I.W.key]:a}};s&&(o._forceCallback=Date.now(),(0,U.J)(o.groups.at(0),(e=>e._forceCallback=Date.now()))),await this._executor.addWork((async()=>{await Promise.all([Promise.race([(0,i.BK)(500),new Promise((e=>this._saveCallbacks.push(e)))]),browser.storage.local.set(o)]),await(0,i.BK)(1)}))}getDialLogInfo(e,t){return t.lock?(0,o.tr)("save_locked_group_change"):`Group: "${t.name}"; Dial: "${(e||"").slice(0,32)}"`}async wasRecentlyChanged(){const e=await this.DATA_LAST_CHANGE.get();return!!e&&e.date+(0,x.xF)(2)>Date.now()}async getRecentChangeInfo(){return(await this.DATA_LAST_CHANGE.get())?.name||""}async isDirty(){return 0===await this.DATA_IS_UP_TO_DATE.get()}async clearDirty(){await this.DATA_IS_UP_TO_DATE.reset()}groupById(e){return this.GROUPS.find((t=>t.id===e))||this.GROUPS[0]}dialByUrl(e,t){return this.groupById(e).dials.find((e=>"url"in e&&e.url===t))}dialByCreated(e){return(0,E.E)(this._groups,(t=>t.created===e))}async findDuplicateDial(e){return await async function(e,t){for(let a=0;a<e.length;a++){const s=e[a];if(await t(s,a,e))return s}}(this.GROUPS,(async t=>(await t.findDuplicates(e)).length>0))}cloneGroups(){return this.GROUPS.map((e=>e.clone()))}getVisibleGroups(e=!1){return(0,l.dS)(e?this.cloneGroups():this.GROUPS,(async e=>!e.lock||e.lock.visibility!==s.Gj.HIDDEN||await e.isUnlocked()))}getNewGroupId(){return 1+Math.max(-1,...this.GROUPS.map((e=>e.id)))}serialize(){return{groups:this._groups.map((e=>e.serialize())),metadata:this._metadata}}getGroupIndexById(e){return this._groups.findIndex((t=>t.id===e))}isEmpty(){return 0===this._groups.length}}},1589:(e,t,a)=>{a.d(t,{v:()=>n});var s=a(4067),i=a(4590),r=a(7302);class n{id;name;icon;color;static TOTAL_TAGS=68;static GROUP_TAG=65;constructor(e,t,a,s){this.id=e,this.name=t,this.icon=a,this.color=s}getIconStyle(){return(0,s.W)((0,r.Z)(`/icons/tags/tag (${this.icon}).svg`),this.color)}static getEmptyTag(){return new n(0,(0,i.tr)("tag_none"),0,"#888888")}}},7283:(e,t,a)=>{a.d(t,{H:()=>n,e:()=>r});var s=a(4067),i=a(7302);const r="var(--primary)",n=e=>(0,s.W)((0,i.Z)(e),"var(--primary)")},5229:(e,t,a)=>{a.d(t,{I:()=>i});var s=a(3672);const i=e=>e.startsWith("ext+container")?(0,s.u)(e,"url=","&",!0):e},6265:(e,t,a)=>{a.d(t,{w:()=>l});var s=a(9598),i=a(3694),r=a(3635),n=a(7302),o=a(4323);class l{index;id;type;value;static ALARM_PREFIX="timer_";static TIMER_INDEX_DATASET="data-timer-index";timerName;alarmName;static getTimerDataFromAlarm(e){if(!e.startsWith(this.ALARM_PREFIX))return null;const[t,a,s,i]=e.split("_").map((e=>parseInt(e)));return{timerType:a,dialCreated:s,timerIndex:i}}domNodes;isRefreshing;runningIcons;pausedIcons;stoppedIcons;getTime(){const[e=0,t=0,a=0]=this.value.split(":").map((e=>parseInt(e)||0));return{hours:e,minutes:t,seconds:a}}getSeconds(){const{hours:e,minutes:t,seconds:a}=this.getTime();return 3600*e+60*t+a}getMinutes(){return this.getSeconds()/60}constructor(e,t,a,i=""){this.index=e,this.id=t,this.type=a,this.value=i,this.timerName=`${l.ALARM_PREFIX}${this.type}`,this.alarmName=`${this.timerName}_${this.id}_${this.index}`,this.isRefreshing=!1,this.runningIcons=[1,0,0],this.pausedIcons=[0,0,0],this.stoppedIcons=[0,1,0];const r=(0,s.z)("div",{class:"timer_head"}),o=(0,s.z)("div",{class:"timer_body"}),c=(0,s.z)("div",{class:"timer_actions"},[(0,s.z)("img",{"data-stop":"1",class:"timer_action invert icon-button",src:(0,n.Z)("svg/stop.svg")}),(0,s.z)("img",{"data-play":"1",class:"timer_action invert icon-button",src:(0,n.Z)("svg/play.svg")}),(0,s.z)("img",{"data-pause":"1",class:"timer_action invert icon-button",src:(0,n.Z)("svg/pause.svg")})]),d=(0,s.z)("li",{class:`flex ${this.timerName}`,[l.TIMER_INDEX_DATASET]:this.index},[(0,s.z)("div",{class:"timer_left flex-column"},[r,o]),c]);this.domNodes={head:r,body:o,actions:c,container:d},this.domNodes.container.onclick=async e=>{const t=e.target.dataset;switch(!0){case!!t.play:await this.start();break;case!!t.pause:await this.pause();break;case!!t.stop:await this.stop();break;default:await this.defaultAction()}await this.updateBodyDOM(),this.registerRefresher()}}async pause(){return!1}defaultAction(){Array.from(this.domNodes.actions.querySelectorAll(".timer_action:not(.hidden)")).at(-1).click()}isRunning(){return this.getScheduledTime().then(Boolean)}isPaused(){return Promise.resolve(!1)}async updateBodyDOM(){const[e,t,a]=await Promise.all([this.renderBody(),this.isRunning(),this.isPaused()]);this.domNodes.body.replaceChildren(e);const s=a?this.pausedIcons:t?this.runningIcons:this.stoppedIcons;for(const e of[0,1,2])this.domNodes.actions.children.item(e).classList.toggle("hidden",!s[e]);this.domNodes.container.classList.toggle("timer_active",t&&!a)}async getScheduledTime(){const e=await browser.alarms.get(this.alarmName);if(!(e&&e.scheduledTime<Date.now()))return e?.scheduledTime}formatSeconds(e){const t=(0,i.Xm)(Math.round(e)).map((e=>e.toString().padStart(2,"0"))).map(((e,t,a)=>(0,s.z)("span",{textContent:`${e}${t+1===a.length?"":":"}`,class:"00"===e?"zeros":""})));return(0,s.z)("span",{class:"timer_time"},t)}async buildDOM(e){const[t]=await Promise.all([this.isRunning(),this.updateBodyDOM(),this.renderHead().then((e=>this.domNodes.head.replaceChildren(e)))]);if(t){e((()=>this.updateScrollTop()));this.registerRefresher()}return this.domNodes.container}updateScrollTop(){const e=this.domNodes.container.parentElement;if(!e)return;const{top:t,height:a}=this.domNodes.container.getBoundingClientRect(),{top:s,height:i}=e.getBoundingClientRect();t<s?e.scrollTop-=s-t:t+a>s+i&&(e.scrollTop+=t+a-s-i)}async registerRefresher(){if(!this.isRefreshing)for(this.isRefreshing=!0,await(0,r.Q)((()=>this.domNodes.container.isConnected),{delay:100,initDelay:100});this.isRefreshing;)this.domNodes.container.isConnected?await this.updateBodyDOM():this.isRefreshing=!1,await(0,o.BK)(200)}}},9998:(e,t,a)=>{a.d(t,{$_:()=>n,Ct:()=>o,Jk:()=>r});var s=a(4069),i=(a(9773),a(8671));a(8408);let r=!0;s.Vq.then((e=>{e&&(r=!1)}));const n="about:home";async function o(){await(0,i.l)(n)}},8299:(e,t,a)=>{a.r(t),a.d(t,{loadOptionsPge:()=>Wa});a(5472);var s=a(7865),i=a(4590);s.W.then((()=>i.P$)).then((function(){const e=document.querySelectorAll("[data-i]");for(let t=0,a=e.length;t<a;t++){const a=e[t],s=a.dataset,r=s.i,n=s.p,o=n?(0,i.tr)(r,n.split("|")):(0,i.tr)(r);a.appendChild(document.createTextNode(o))}const t=document.querySelectorAll("[data-a]");for(let e=0,a=t.length;e<a;e++){const a=t[e];let[s,r]=a.dataset.a.split("|");r=(0,i.tr)(r),s?a.setAttribute(s,r):a.appendChild(document.createTextNode(r))}}));var r=a(5471),n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-app",{staticClass:"options_inspire"},[t("v-navigation-drawer",{attrs:{clipped:!0,app:"","mobile-breakpoint":e.mobileBreakpoint,width:e.OPTIONS.SIDE_BAR_SIZE||256},model:{value:e.drawer,callback:t=>{e.drawer=t},expression:"drawer"}},[t("v-list",{attrs:{dense:""}},[e.onDialsPage?e._e():[t("v-list-item",{on:{click:t=>e.addThisPageToDials()}},[t("v-list-item-icon",[t("v-icon",[e._v("fa-square-plus")])],1),e._v(" "),t("v-list-item-content",[t("v-list-item-title",{staticClass:"d-flex"},[t("span",{directives:[{name:"tr",rawName:"v-tr",value:"menu_page_to_dial",expression:"'menu_page_to_dial'"}]})])],1)],1),e._v(" "),t("v-divider")],e._v(" "),e.bookmarkAbleTabs>1?[t("pro_label",{attrs:{"offset-left":"-40px"}},[t("v-list-item",{attrs:{disabled:e.addingPagesToDials},on:{click:t=>e.addAllPagesToDials()}},[t("v-list-item-icon",[t("v-icon",[e._v("fa-folder-plus")])],1),e._v(" "),t("v-list-item-content",{staticClass:"pr-8"},[t("v-list-item-title",{staticClass:"d-flex"},[t("span",{directives:[{name:"tr",rawName:"v-tr",value:["menu_pages_to_dial",e.bookmarkAbleTabs],expression:"['menu_pages_to_dial', bookmarkAbleTabs]"}]})])],1)],1)],1),e._v(" "),t("v-divider")]:e._e(),e._v(" "),t("v-list-item",{class:{"v-list-item--active":e.activeTab===e.ActiveTab.Search},on:{click:t=>{e.activeTab=e.ActiveTab.Search}}},[t("v-list-item-icon",[t("v-icon",[e._v("fa-magnifying-glass")])],1),e._v(" "),t("v-list-item-content",[t("v-list-item-title",{directives:[{name:"tr",rawName:"v-tr",value:"search_search",expression:"'search_search'"}]})],1)],1),e._v(" "),t("v-divider"),e._v(" "),t("v-list-group",{attrs:{"prepend-icon":"fa-cog","append-icon":"","sub-group":""},on:{click:t=>{e.activeTab=e.DATA_LAST_OPENED_TAB.get()},mouseup:function(t){return"button"in t&&1!==t.button?null:e.openOptionsPage.apply(null,arguments)}},scopedSlots:e._u([{key:"activator",fn:()=>[t("v-list-item",{staticStyle:{"margin-right":"-26px"}},[t("v-list-item-content",[t("v-list-item-title",{staticClass:"flex"},[t("span",{directives:[{name:"tr",rawName:"v-tr",value:"menu_options",expression:"'menu_options'"}]}),e._v(" "),e.isInPopup?t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:"menu_dials_page",expression:"'menu_dials_page'",arg:"title"}],staticClass:"ml-auto",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.openOptionsPage.apply(null,arguments)}}},[t("v-icon",{attrs:{dense:"",small:"",title:e.tr("cm_open_new_tab")}},[e._v("fa-external-link-alt")])],1):e._e()],1)],1)],1)],proxy:!0}]),model:{value:e.optionsDrawer,callback:t=>{e.optionsDrawer=t},expression:"optionsDrawer"}},[e._v(" "),e._l(e.OptionsTabs,(a=>t("v-list-item",{key:a.tab,class:{"v-list-item--active":e.activeTab===a.tab},on:{click:t=>{e.activeTab=a.tab}}},[t("v-list-item-icon",[t("v-icon",[e._v(e._s(a.icon))])],1),e._v(" "),t("v-list-item-content",[t("v-list-item-title",{directives:[{name:"tr",rawName:"v-tr",value:a.name,expression:"menu.name"}]})],1)],1)))],2),e._v(" "),t("v-divider"),e._v(" "),t("v-list-item",{directives:[{name:"tr",rawName:"v-tr:title",value:"msg_pro_cloud_web",expression:"'msg_pro_cloud_web'",arg:"title"}],on:{click:e.openCloudDials,mouseup:function(t){return"button"in t&&1!==t.button?null:e.openCloudDials.apply(null,arguments)}}},[t("v-list-item-icon",[t("v-icon",[e._v("fa-cloud")])],1),e._v(" "),t("v-list-item-content",[t("v-list-item-title",{staticClass:"flex"},[t("span",{directives:[{name:"tr",rawName:"v-tr",value:"menu_cloud_dials",expression:"'menu_cloud_dials'"}]}),e._v(" "),t("v-icon",{staticClass:"ml-auto opacity-07",attrs:{dense:"",small:""}},[e._v("fa-external-link-alt")])],1)],1)],1),e._v(" "),t("v-divider"),e._v(" "),t("v-list-item",{class:{"v-list-item--active":e.activeTab===e.ActiveTab.Upgrade},on:{click:t=>{e.activeTab=e.ActiveTab.Upgrade}}},[t("v-list-item-icon",[t("v-icon",[e._v(e._s(e.l?"fa-heart-circle-check":"fa-lock-open"))])],1),e._v(" "),t("v-list-item-content",[t("v-list-item-title",{directives:[{name:"tr",rawName:"v-tr",value:e.l?["version_pro",e.getLicenseName(e.l)]:"pro_upgrade_label",expression:"l ? ['version_pro', getLicenseName(l)] : 'pro_upgrade_label'"}]})],1)],1),e._v(" "),t("v-divider"),e._v(" "),t("v-list-item",{class:{"v-list-item--active":e.activeTab===e.ActiveTab.About},on:{click:t=>{e.activeTab=e.ActiveTab.About}}},[t("v-list-item-icon",[t("v-icon",[e._v("fa-info")])],1),e._v(" "),t("v-list-item-content",[t("v-list-item-title",{directives:[{name:"tr",rawName:"v-tr",value:"o_tab_about",expression:"'o_tab_about'"}]})],1)],1),e._v(" "),t("v-divider"),e._v(" "),t("dark_theme_switch"),e._v(" "),t("reload_extension")],2)],1),e._v(" "),t("v-app-bar",{attrs:{"clipped-left":!0,app:""}},[t("v-toolbar-title",{staticClass:"ml-0 d-flex align-center",staticStyle:{"font-size":"1.1rem"}},[t("v-app-bar-nav-icon",{on:{click:t=>{t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),t("NameVersionComp",{staticClass:"hidden-xs-and-down ml-2",attrs:{"only-version":e.env.$IS_WEB}},[t("img",{attrs:{src:e.OPTIONS.ICON,height:"24"}}),e._v(" "),e.env.$IS_WEB?[t("div",{directives:[{name:"tr",rawName:"v-tr",value:"label_options",expression:"'label_options'"}],staticClass:"ml-2"}),e._v(" "),t("div",{directives:[{name:"tr",rawName:"v-tr",value:"menu_cloud_dials",expression:"'menu_cloud_dials'"}],staticClass:"ml-2"})]:e._e()],2)],1),e._v(" "),t("v-spacer"),e._v(" "),t("div",{attrs:{id:"quick-options"}},[t("div",{staticClass:"flex flex-space-between",attrs:{id:"login"}})]),e._v(" "),e.isInPopup&&e.OPTIONS.HIDE_TOP_BAR&&e.onDialsPage?t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:"menu_dials_page",expression:"'menu_dials_page'",arg:"title"}],staticClass:"ml-2",attrs:{icon:""},on:{click:e.openDialsPageMenu}},[t("v-icon",[e._v("fa-bars")])],1):e._e(),e._v(" "),e.isInPopup?t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:"cm_open_new_tab",expression:"'cm_open_new_tab'",arg:"title"}],staticClass:"ml-2",attrs:{icon:""},on:{click:e.openInNewTab}},[t("v-icon",[e._v("fa-square-arrow-up-right")])],1):e._e(),e._v(" "),e.isClosable?t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:"label_close",expression:"'label_close'",arg:"title"}],staticClass:"ml-2",attrs:{icon:""},on:{click:e.closePopup}},[t("v-icon",[e._v("fa-times")])],1):e._e()],1),e._v(" "),t("v-main",[t("v-container",{staticClass:"fill-height overflow-auto align-content-start",attrs:{fluid:""}},[t("keep-alive",[e.activeTab===e.ActiveTab.Search?t("popup_search"):e._e()],1),e._v(" "),e.activeTab===e.ActiveTab.OptionsGeneral?t("options_general",{on:{save:e.save,delayedSave:e.delayedSave,redrawAll:t=>e.redrawAll(),reloadPage:t=>e.redrawAll(!0),openTab:e.openTab}}):e._e(),e._v(" "),e.activeTab===e.ActiveTab.OptionsDials?t("options_dials",{on:{save:e.save,delayedSave:e.delayedSave,redrawAll:t=>e.redrawAll(),reloadPage:t=>e.redrawAll(!0)}}):e._e(),e._v(" "),e.activeTab===e.ActiveTab.OptionsGroups?t("options_groups",{on:{save:e.save,delayedSave:e.delayedSave,redrawAll:t=>e.redrawAll(),reloadPage:t=>e.redrawAll(!0)}}):e._e(),e._v(" "),e.activeTab===e.ActiveTab.OptionsBackground?t("options_background",{attrs:{openInNewTab:e.openInNewTab},on:{save:e.save,delayedSave:e.delayedSave,redrawAll:t=>e.redrawAll(),reloadPage:t=>e.redrawAll(!0)}}):e._e(),e._v(" "),e.activeTab===e.ActiveTab.OptionsContextMenu?t("options_context_menu",{on:{save:e.save,delayedSave:e.delayedSave}}):e._e(),e._v(" "),e.activeTab===e.ActiveTab.OptionsThumbnails?t("options_thumbnails",{on:{save:e.save,delayedSave:e.delayedSave}}):e._e(),e._v(" "),e.activeTab===e.ActiveTab.OptionsShortcuts?t("options_shortcuts",{on:{save:e.save,delayedSave:e.delayedSave}}):e._e(),e._v(" "),e.activeTab===e.ActiveTab.OptionsSynchronization?t("options_synchronization",{on:{save:e.save,delayedSave:e.delayedSave}}):e._e(),e._v(" "),e.activeTab===e.ActiveTab.OptionsImportBackup?t("options_import_backup",{attrs:{openInNewTab:e.openInNewTab,importExternal:e.importExternal},on:{save:e.save,delayedSave:e.delayedSave}}):e._e(),e._v(" "),e.activeTab===e.ActiveTab.Upgrade?t("upgrade_to_pro",{attrs:{l:e.l}}):e._e(),e._v(" "),e.activeTab===e.ActiveTab.StorageInfo?t("storage_info"):e._e(),e._v(" "),e.activeTab===e.ActiveTab.About?t("about_tab",{attrs:{cloud_page:e.HOST,firefox_store:e.FIREFOX_STORE,chrome_store:e.CHROME_STORE,edge_store:e.EDGE_STORE,github:e.GITHUB_ISSUES}}):e._e()],1)],1)],1)};n._withStripped=!0;var o=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.env.$IS_DEV?t("v-list-item",{on:{click:e.reload}},[t("v-list-item-action",[t("v-icon",[e._v("fa-undo-alt")])],1),e._v(" "),t("v-list-item-content",[e._v("\n        Reload add-on\n    ")])],1):e._e()};o._withStripped=!0;var l=a(7104),c=a(8528);const d=r.default.extend({name:"reload_extension",props:{},data:()=>({env:l._}),methods:{async reload(){(0,c.K)()}}});var u=a(4486);const _=(0,u.A)(d,o,[],!1,null,"8f31f80e",null).exports;var p=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"d-inline-flex align-center"},[e._t("default"),e._v(" "),t("div",{staticClass:"ml-2"},[e._v(e._s(e.onlyVersion?"":e.name)+" "+e._s(e.version))])],2)};p._withStripped=!0;const h=r.default.extend({name:"extension_name_version",props:{onlyVersion:Boolean},data(){const e=browser.runtime.getManifest();return{name:e.name,version:e.version}}});const m=(0,u.A)(h,p,[],!1,null,"b244467c",null).exports;var v=a(5278),g=function(){var e=this;return(0,e._self._c)("v-icon",[e._v(e._s(e.icon))])};g._withStripped=!0;var O=a(5574);const f={name:"donate_icon",data:()=>({icon:(0,O.z)(["fa-mug-saucer","fa-square-check","fa-mug-hot","fa-gift","fa-cake-candles","fa-pizza-slice","fa-heart","fa-star","fa-syringe","fa-briefcase-medical","fa-shield-heart","fa-sack-dollar","fa-credit-card","fa-hands-helping","fa-money-bill-alt","fa-hand-holding-medical","fa-hand-holding-usd"])})};const w=(0,u.A)(f,g,[],!1,null,null,null).exports;var b=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-card-text",[t("img",{staticClass:"juraj",attrs:{src:e.resource("/jm.jpg")}}),e._v(" "),t("b",{directives:[{name:"tr",rawName:"v-tr",value:"o_about_hello",expression:"'o_about_hello'"}]}),e._v(" "),t("p",{directives:[{name:"tr",rawName:"v-tr",value:["o_about_intro",e.tr("app_name")],expression:"['o_about_intro', tr('app_name')]"}]}),e._v(" "),t("p",{staticClass:"mb-0"},[t("span",{directives:[{name:"tr",rawName:"v-tr",value:"o_about_like_it",expression:"'o_about_like_it'"}]}),e._v(" "),t("span",[t("a",{attrs:{href:e.review.link,target:"_blank"},domProps:{textContent:e._s(e.review.browserName)}})]),e._v(".\n        ")]),e._v(" "),t("div",{staticStyle:{clear:"both"}}),e._v(" "),t("div",{staticClass:"d-flex flex-column links"},e._l(e.categories,(a=>t("div",{},[t("div",{staticClass:"mt-4"},[t("b",{domProps:{textContent:e._s(a.name)}}),e._v(" "),e._l(a.links,(a=>t("div",{},[t("a",{staticClass:"d-flex align-center mt-1",attrs:{href:a.link,target:"_blank"}},[t("img",{attrs:{src:a.icon}}),e._v(" "),t("div",{domProps:{textContent:e._s(a.name)}})])])))],2)]))),0)])],1),e._v(" "),e._t("default")],2)],1)};b._withStripped=!0;var I=a(7885),y=a(8282),T=a(1962);function S(e){const t=new URL(e);return`${t.origin}${t.pathname}/reviews/${t.search}`.replaceAll("//","/").replace(/\/$/,"")}var E=a(7302);const A=r.default.extend({name:"about_tab",props:{firefox_store:String,thunderbird_store:String,chrome_store:String,edge_store:String,safari_store:String,github:String,cloud_page:String},data(){const e=this,t=[{id:"safari",browserName:"Safari",name:(0,i.tr)("safari_store"),icon:(0,E.Z)("/utils/svg/safari.svg"),link:this.safari_store},{id:"firefox",browserName:"Firefox",name:(0,i.tr)("firefox_store"),icon:(0,E.Z)("/utils/svg/firefox.svg"),link:this.firefox_store},{id:"edge",browserName:"Edge",name:(0,i.tr)("edge_store"),icon:(0,E.Z)("/utils/svg/edge.svg"),link:this.edge_store},{id:"chrome",browserName:"Chrome",name:(0,i.tr)("chrome_store"),icon:(0,E.Z)("/utils/svg/chrome.svg"),link:this.chrome_store},{id:"thunderbird",browserName:"Thunderbird",name:(0,i.tr)("thunderbird_store"),icon:(0,E.Z)("/utils/svg/thunderbird.svg"),link:this.thunderbird_store}].filter((e=>e.link)),a=[{name:`${(0,i.tr)("homepage")}:`,links:[{name:"FastAddons.com",icon:(0,E.Z)("/utils/svg/fastaddons.svg"),link:y.F7},...this.cloud_page?[{name:`${browser.runtime.getManifest().name} (${this.cloud_page.slice(8)})`,icon:(0,E.Z)("/128.png"),link:this.cloud_page}]:[]]},{name:`${(0,i.tr)("addon_page")}:`,links:t},{name:(0,i.tr)("o_about_issues"),links:[{name:"GitHub",icon:(0,E.Z)("/utils/svg/github.svg"),link:this.github}]},{name:(0,i.tr)("o_about_contact"),links:[{name:(0,I.hS)(),icon:(0,E.Z)("/utils/svg/email(0).svg"),get link(){return e.mailToLink||y.pf}}]},{name:(0,i.tr)("o_about_social_media"),links:[{name:"Ko-fi",icon:(0,E.Z)("/utils/svg/donation/ko-fi.svg"),link:"https://ko-fi.com/fastaddons/posts"},{name:"Patreon",icon:(0,E.Z)("/utils/svg/donation/patreon.svg"),link:y.tT},{name:"Facebook",icon:(0,E.Z)("/utils/svg/facebook.svg"),link:y.px},{name:"Twitter",icon:(0,E.Z)("/utils/svg/twitter.svg"),link:y.Ac}]}],s=t.find((e=>e.id===T.$b))||t.at(0);return{review:{browserName:s.browserName,link:S(s.link)},tr:i.tr,mailToLink:"",email:(0,I.hS)(),categories:a.map((e=>(e.links=e.links.filter((e=>e.link)),e))).filter((e=>e.links.length>0))}},async created(){this.mailToLink=await(0,I.ow)()},methods:{resource:E.Z}});const D=(0,u.A)(A,b,[],!1,null,"7c52d107",null).exports;var N=a(3120),x=a(6801),P=a(8408),k=a(6690),R=a(4069),L=a(1319),C=a(690),U=a(9074),B=a(2221),$=a(5807),G=a(4162);const M=e=>{switch(e){case G.G_.Pro:return"Pro";case G.G_.Enterprise:return"Enterprise";default:return"Home"}};var H=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("div",{},[t("div",[t("v-card-title",{staticClass:"pb-0 pt-2 flex"},[t("span",{directives:[{name:"tr",rawName:"v-tr.cc",value:"o_theme",expression:"'o_theme'",modifiers:{cc:!0}}]}),e._v(" "),t("v-btn",{directives:[{name:"tr",rawName:"v-tr",value:"label_customize",expression:"'label_customize'"}],staticClass:"ml-auto text-lowercase helper opacity-07",attrs:{"x-small":"",elevation:"0",color:"transparent"},on:{click:t=>e.$emit("openTab",e.ActiveTab.OptionsDials)}})],1),e._v(" "),t("v-card-text",{staticClass:"flex-column flex-column-space-between pb-0"},[t("v-radio-group",{staticClass:"my-0",attrs:{row:"","hide-details":"",mandatory:"",dense:""},on:{change:e.redrawAll},model:{value:e.OPTIONS.THEME,callback:t=>{e.$set(e.OPTIONS,"THEME",t)},expression:"OPTIONS.THEME"}},e._l(e.themes,(a=>t("v-radio",{key:a.id,ref:"theme_"+a.id,refInFor:!0,staticClass:"pa-1",attrs:{label:a.name,value:a.id,tabindex:"1"},on:{change:e=>a.apply(),click:t=>{e.$refs["theme_"+a.id][0].$el.querySelector("input").focus()}}}))),1)],1)],1),e._v(" "),t("div",{staticClass:"align-self-start d-inline-block"},[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr.cc",value:"o_theme_style",expression:"'o_theme_style'",modifiers:{cc:!0}}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("v-radio-group",{staticClass:"my-0",attrs:{"hide-details":"",mandatory:"",row:""},on:{change:e.redrawAll},model:{value:e.OPTIONS.TEMPLATE_COLOR,callback:t=>{e.$set(e.OPTIONS,"TEMPLATE_COLOR",t)},expression:"OPTIONS.TEMPLATE_COLOR"}},e._l([{text:e.tr("theme_dark"),value:""},{text:e.tr("theme_light"),value:"white"}],((e,a)=>t("v-radio",{key:a,attrs:{label:e.text,value:e.value}}))),1)],1)],1),e._v(" "),t("div",{staticClass:"align-self-start d-inline-block"},[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr.cc",value:"tag_icon",expression:"'tag_icon'",modifiers:{cc:!0}}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("v-radio-group",{staticClass:"my-0",attrs:{"hide-details":"",mandatory:"",row:"",dense:""},on:{change:e.updateMainIcon},model:{value:e.OPTIONS.ICON,callback:t=>{e.$set(e.OPTIONS,"ICON",t)},expression:"OPTIONS.ICON"}},e._l([{value:"/128.png"},{value:"/icons/app/icon (2).png"},{value:"/icons/app/icon (1).png"}],((a,s)=>t("v-radio",{key:a.value,attrs:{value:a.value},scopedSlots:e._u([{key:"label",fn:()=>[t("img",{attrs:{src:e.resource(a.value),width:"24",height:"24"}})],proxy:!0}],null,!0)}))),1)],1)],1),e._v(" "),t("div",{staticClass:"align-self-start d-inline-block"},[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr.cc",value:"o_color_theme",expression:"'o_color_theme'",modifiers:{cc:!0}}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("color_picker_input",{attrs:{"default-value":e.DEFAULT_PRIMARY_COLOR,"show-reset":""},on:{input:e.delayedSave},model:{value:e.OPTIONS.PRIMARY_COLOR,callback:t=>{e.$set(e.OPTIONS,"PRIMARY_COLOR",t)},expression:"OPTIONS.PRIMARY_COLOR"}})],1)],1)]),e._v(" "),t("v-card-subtitle",{directives:[{name:"tr",rawName:"v-tr",value:"o_custom_css",expression:"'o_custom_css'"}],staticClass:"pb-1"}),e._v(" "),t("v-card-text",[t("v-textarea",{staticStyle:{"font-family":"monospace"},attrs:{outlined:"",dense:"","hide-details":"",placeholder:e.tr("o_custom_css_placeholder"),title:e.tr("o_custom_css_placeholder"),rows:"2"},on:{change:e.reloadPage},model:{value:e.OPTIONS.CUSTOM_CSS,callback:t=>{e.$set(e.OPTIONS,"CUSTOM_CSS",t)},expression:"OPTIONS.CUSTOM_CSS"}})],1)],1),e._v(" "),t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr.cc",value:"o_special_features",expression:"'o_special_features'",modifiers:{cc:!0}}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("v-checkbox",{attrs:{label:e.tr("o_group_icon_in_title"),dense:"","hide-details":""},on:{change:e.reloadPage},model:{value:e.OPTIONS.GROUP_ICON_IN_TITLE,callback:t=>{e.$set(e.OPTIONS,"GROUP_ICON_IN_TITLE",t)},expression:"OPTIONS.GROUP_ICON_IN_TITLE"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_group_name_as_title"),dense:"","hide-details":""},on:{change:e.reloadPage},model:{value:e.OPTIONS.GROUP_NAME_AS_TITLE,callback:t=>{e.$set(e.OPTIONS,"GROUP_NAME_AS_TITLE",t)},expression:"OPTIONS.GROUP_NAME_AS_TITLE"}}),e._v(" "),e.env.$IS_EXT?t("v-checkbox",{directives:[{name:"tr",rawName:"v-tr:title",value:"o_active_page_detection_title",expression:"'o_active_page_detection_title'",arg:"title"}],attrs:{label:e.tr("o_active_page_detection"),dense:"","hide-details":""},on:{change:e.redrawAll},model:{value:e.OPTIONS.ACTIVE_PAGE_DETECTION,callback:t=>{e.$set(e.OPTIONS,"ACTIVE_PAGE_DETECTION",t)},expression:"OPTIONS.ACTIVE_PAGE_DETECTION"}}):e._e(),e._v(" "),e.env.$IS_FIREFOX?t("v-checkbox",{attrs:{label:e.tr("o_prevent_new_tab_container"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.PREVENT_NEW_TAB_CONTAINER,callback:t=>{e.$set(e.OPTIONS,"PREVENT_NEW_TAB_CONTAINER",t)},expression:"OPTIONS.PREVENT_NEW_TAB_CONTAINER"}}):e._e(),e._v(" "),e.env.$IS_EXT?t("div",{staticClass:"flex flex-space-between_20 flex-wrap"},[t("v-checkbox",{attrs:{label:e.tr("o_instant_popup_redirect"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.INSTANT_POPUP_REDIRECT,callback:t=>{e.$set(e.OPTIONS,"INSTANT_POPUP_REDIRECT",t)},expression:"OPTIONS.INSTANT_POPUP_REDIRECT"}}),e._v(" "),t("v-checkbox",{staticClass:"ml-5",attrs:{label:e.tr("o_instant_popup_new_tab"),dense:"","hide-details":"",disabled:!e.OPTIONS.INSTANT_POPUP_REDIRECT},on:{change:e.save},model:{value:e.OPTIONS.INSTANT_POPUP_NEW_TAB,callback:t=>{e.$set(e.OPTIONS,"INSTANT_POPUP_NEW_TAB",t)},expression:"OPTIONS.INSTANT_POPUP_NEW_TAB"}})],1):e._e(),e._v(" "),e.env.$IS_FIREFOX?t("v-checkbox",{attrs:{label:"Google Favicons",dense:"",hint:e.tr("o_user_consent_google_favicon"),"persistent-hint":""},on:{change:e.save},model:{value:e.OPTIONS.USER_CONSENT_GOOGLE_FAVICON,callback:t=>{e.$set(e.OPTIONS,"USER_CONSENT_GOOGLE_FAVICON",t)},expression:"OPTIONS.USER_CONSENT_GOOGLE_FAVICON"}}):e._e(),e._v(" "),t("v-btn",{staticClass:"text-none mt-4",attrs:{color:""},on:{click:e.copyHomepageLink}},[t("v-icon",{attrs:{left:""}},[e._v(e._s(e.homepageCopied?"fa-check-circle":"fa-house"))]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"o_copy_link",expression:"'o_copy_link'"}]})],1),e._v(" "),e.env.$IS_EXT?t("v-select",{staticClass:"mt-4",attrs:{items:e.getEnumEntries(e.PostAddCurrentAction).map(((t,a)=>({value:a,text:e.tr(`o_add_current_after_action_${a}`)}))),label:e.tr("o_add_current_after_action"),dense:"","hide-details":"",outlined:""},on:{change:e.save},model:{value:e.OPTIONS.ADD_CURRENT_AFTER_ACTION,callback:t=>{e.$set(e.OPTIONS,"ADD_CURRENT_AFTER_ACTION",t)},expression:"OPTIONS.ADD_CURRENT_AFTER_ACTION"}}):e._e(),e._v(" "),e.env.$IS_EXT?t("v-text-field",{staticClass:"mt-4",attrs:{label:e.tr("o_redirect_url"),dense:"","hide-details":"",outlined:"",placeholder:e.tr("o_redirect_url_placeholder"),title:e.tr("o_redirect_url_title")},on:{change:e.validateRedirectUrlAndSave},model:{value:e.OPTIONS.REDIRECT_URL,callback:t=>{e.$set(e.OPTIONS,"REDIRECT_URL",t)},expression:"OPTIONS.REDIRECT_URL"}}):e._e(),e._v(" "),e.env.$IS_EXT?t("v-checkbox",{staticClass:"ml-5",attrs:{label:e.tr("o_key_force_page_focus"),dense:"","hide-details":"",disabled:!e.OPTIONS.REDIRECT_URL},on:{change:e.save},model:{value:e.OPTIONS.REDIRECT_URL_FORCE_PAGE_FOCUS,callback:t=>{e.$set(e.OPTIONS,"REDIRECT_URL_FORCE_PAGE_FOCUS",t)},expression:"OPTIONS.REDIRECT_URL_FORCE_PAGE_FOCUS"}}):e._e(),e._v(" "),e.env.$IS_CHROME?t("v-icon",{staticClass:"float-end mt-2 opacity-05",attrs:{"x-small":""},on:{click:t=>{e.showDebugOptions=!0}}},[e._v("fa fa-bug")]):e._e()],1)],1),e._v(" "),e.showDebugOptions?t("v-card",[t("v-card-title",{staticClass:"pb-0 pt-2"},[e._v("Debug options")]),e._v(" "),t("v-card-text",[t("v-checkbox",{attrs:{label:"Keep service worker alive",dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.DEBUG_KEEP_SW_ALIVE,callback:t=>{e.$set(e.OPTIONS,"DEBUG_KEEP_SW_ALIVE",t)},expression:"OPTIONS.DEBUG_KEEP_SW_ALIVE"}}),e._v(" "),t("v-checkbox",{attrs:{label:"Keep focus on reloading window",dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.DEBUG_FOCUSED_RELOAD,callback:t=>{e.$set(e.OPTIONS,"DEBUG_FOCUSED_RELOAD",t)},expression:"OPTIONS.DEBUG_FOCUSED_RELOAD"}})],1)],1):e._e()],1)],1)};H._withStripped=!0;var F=a(2960),K=a(6683),W=a(8671),V=a(2036),z=a(4323);var Y=a(8495);class j{o;get name(){return(0,i.tr)(`theme_name_${this.id}`)}static options=Object.freeze(["DIAL_BORDER_TYPE","DIAL_BORDER_RADIUS","DIAL_BORDER_COLOR","DIAL_HEADER_STYLE","DIAL_DARK_HEAD_BACKGROUND","DIAL_LIGHT_HEAD_BACKGROUND","DIAL_TITLE_CENTER","DIAL_TITLE_DOWN","NO_TITLE","DIAL_PADDING","DIAL_SHADOW_COLOR","DIAL_SHADOW_BLUR"]);constructor(e){this.o=e}apply(){const e=(0,B.qN)();j.options.forEach((t=>{this.o[t]=e[t]}))}postApply(){}}class q extends j{o;id;constructor(e){super(e),this.o=e,this.id="default"}}class X extends j{o;id;constructor(e){super(e),this.o=e,this.id="transparent"}apply(){super.apply(),this.o.DIAL_HEADER_STYLE=K.xk.transparent,this.o.DIAL_TITLE_CENTER=!0,this.o.DIAL_BORDER_RADIUS=12,this.o.DIAL_PADDING=16,super.postApply()}}class Z extends j{o;id;constructor(e){super(e),this.o=e,this.id="legacy"}apply(){super.apply(),this.o.DIAL_HEADER_STYLE=K.xk.legacy,this.o.DIAL_BORDER_TYPE=K.NO.shadow,this.o.DIAL_BORDER_RADIUS=4,this.o.DIAL_TITLE_CENTER=!1,super.postApply()}}class J extends j{o;id;constructor(e){super(e),this.o=e,this.id="sharp"}apply(){super.apply(),this.o.DIAL_HEADER_STYLE=K.xk.transparent,this.o.DIAL_TITLE_CENTER=!0,this.o.DIAL_BORDER_RADIUS=0,this.o.DIAL_TITLE_DOWN=!0,this.o.DIAL_BORDER_COLOR="#007CFF",this.o.DIAL_PADDING=20,super.postApply()}}class Q extends j{o;id;constructor(e){super(e),this.o=e,this.id="thumbnails"}apply(){super.apply(),this.o.DIAL_HEADER_STYLE=K.xk.solid,this.o.NO_TITLE=!0,this.o.DIAL_BORDER_RADIUS=24,this.o.DIAL_PADDING=30,super.postApply()}}class ee extends j{o;id;constructor(e){super(e),this.o=e,this.id="blue"}apply(){super.apply(),this.o.DIAL_HEADER_STYLE=K.xk.solid,this.o.DIAL_BORDER_COLOR="#0094FF",this.o.DIAL_DARK_HEAD_BACKGROUND="#005DA0",this.o.DIAL_LIGHT_HEAD_BACKGROUND="#69CDFF",this.o.DIAL_TITLE_CENTER=!0,this.o.DIAL_BORDER_RADIUS=0,this.o.DIAL_PADDING=16,super.postApply()}}var te=a(2447);class ae extends j{o;id;DATA_BACKUP;constructor(e){if(super(e),this.o=e,this.id="backup",this.DATA_BACKUP=new te.e("_theme_backup",(()=>{})),!this.DATA_BACKUP.get()){const e=Object.fromEntries(j.options.map((e=>[e,this.o[e]])));this.DATA_BACKUP.set(e)}}apply(){super.apply();const e=this.DATA_BACKUP.get();e&&j.options.forEach((t=>{this.o[t]=e[t]})),super.postApply()}}class se extends j{o;id;constructor(e){super(e),this.o=e,this.id="green"}apply(){super.apply(),this.o.DIAL_TITLE_CENTER=!0,this.o.DIAL_PADDING=18,this.o.DIAL_HEADER_STYLE=K.xk.solid,this.o.DIAL_DARK_HEAD_BACKGROUND="#008000",this.o.DIAL_LIGHT_HEAD_BACKGROUND="#00C000",this.o.DIAL_BORDER_TYPE=K.NO.shadow,this.o.DIAL_BORDER_COLOR="#00B400",this.o.DIAL_SHADOW_COLOR="#00B400",this.o.DIAL_SHADOW_BLUR=14,this.o.DIAL_BORDER_RADIUS=4,super.postApply()}}class ie extends j{o;id;constructor(e){super(e),this.o=e,this.id="neon"}apply(){super.apply(),this.o.DIAL_TITLE_CENTER=!0,this.o.DIAL_PADDING=20,this.o.DIAL_HEADER_STYLE=K.xk.solid,this.o.DIAL_DARK_HEAD_BACKGROUND="#C00000",this.o.DIAL_LIGHT_HEAD_BACKGROUND="#FF2C2C",this.o.DIAL_BORDER_TYPE=K.NO.shadow,this.o.DIAL_BORDER_COLOR="#FE0000",this.o.DIAL_SHADOW_COLOR="#FE0000",this.o.DIAL_SHADOW_BLUR=20,this.o.DIAL_BORDER_RADIUS=0,super.postApply()}}var re=a(3683),ne=a(6062);browser.runtime.onStartup.addListener((()=>{}));const oe="_ext_started",le=(async()=>{if(!ne.Dy)return!1;const{[oe]:e}=await browser.storage.session.get(oe);return!e&&(await browser.storage.session.set({[oe]:Date.now()}),!0)})();async function ce(){const{ICON:e}=await B.j_;await browser.browserAction.setIcon({path:e})}new Promise((e=>le.then((t=>t&&e())))).then(ce);var de=a(3778),ue=a(8794),_e=a(8642),pe=a(5048),he=a(779);const me=r.default.extend({props:{l:Number},name:"options_general",components:{color_picker_input:_e.A},data:()=>({env:l._,DEFAULT_PRIMARY_COLOR:pe.hx,showDebugOptions:!1,homepageCopied:!1,ActiveTab:he.g,themes:[new q(B.lw),new ee(B.lw),new se(B.lw),new ie(B.lw),new X(B.lw),new J(B.lw),new Q(B.lw),new Z(B.lw),new ae(B.lw)]}),async created(){},computed:{PostAddCurrentAction:()=>K.Px,OPTIONS:()=>B.lw},methods:{resource:E.Z,getEnumEntries:F._P,tr:i.tr,tro:Y.e,save(){this.$emit("save"),this.$forceUpdate()},delayedSave(){this.$emit("delayedSave"),this.$forceUpdate()},redrawAll(){this.$emit("redrawAll"),this.$forceUpdate()},reloadPage(){this.$emit("reloadPage"),this.$forceUpdate()},copyHomepageLink(){(0,W.l)(V.KL),async function(e,t){t(!0),await(0,z.BK)(e),t(!1)}(1200,(e=>this.homepageCopied=e))},validateRedirectUrlAndSave(e){this.OPTIONS.REDIRECT_URL=(0,re.d)(e||"",["moz-extension"].concat([browser.runtime.getURL("")])),this.save()},async updateMainIcon(e){await this.save(),await ce(),ue.u9.set(e),await(0,de.O)(),this.reloadPage()}}});const ve=(0,u.A)(me,H,[],!1,null,"4f4a2bed",null).exports;var ge=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr.cc",value:"o_backup_restore",expression:"'o_backup_restore'",modifiers:{cc:!0}}],staticClass:"py-2"}),e._v(" "),t("v-card-text",{staticClass:"flex-column"},[e.settingsDownloadLink?t("a",{directives:[{name:"tr",rawName:"v-tr:title",value:"o_export_dials_help",expression:"'o_export_dials_help'",arg:"title"}],staticClass:"mb-3",attrs:{href:e.settingsDownloadLink.url,download:e.settingsDownloadLink.filename,"data-downloadurl":e.settingsDownloadLink.downloadURL}},[t("v-btn",{staticClass:"text-none"},[t("v-icon",{attrs:{left:""}},[e._v("fa-download")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"o_export_dials",expression:"'o_export_dials'"}]})],1)],1):e._e(),e._v(" "),!1!==e.isExportingThumbnails?t("div",{staticClass:"flex flex-space-between_10"},[t("v-btn",{staticClass:"text-none",attrs:{large:"",disabled:e.isExportingThumbnails},on:{click:e.exportAlsoThumbnails}},[t("v-icon",{attrs:{left:""}},[e._v(e._s(e.isExportingThumbnails?"fa-spinner fa-spin":"fa-download"))]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:e.isExportingThumbnails?"sync_working":"o_export_all",expression:"isExportingThumbnails ? 'sync_working' : 'o_export_all'"}]})],1),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"o_export_thumbnails",expression:"'o_export_thumbnails'"}]})],1):t("div",{staticClass:"flex"},[t("v-btn",{staticClass:"text-none",attrs:{large:""},on:{click:e.showInExplorer}},[t("v-icon",{attrs:{left:""}},[e._v("fa-folder-open")]),e._v(" "),t("span",[e._v(e._s(e.tr("label_done"))+" "+e._s(e.tr("action_open_downloads_folder")))])],1)],1),e._v(" "),t("label",{directives:[{name:"tr",rawName:"v-tr",value:"o_cloud_backup_instead",expression:"'o_cloud_backup_instead'"}],staticClass:"mt-3"})])],1),e._v(" "),t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"o_import_backup",expression:"'o_import_backup'"}],staticClass:"py-2"}),e._v(" "),e.env.$IS_FIREFOX&&e.isInPopup?t("v-card-text",{staticClass:"flex flex-space-between_10"},[t("div",{directives:[{name:"tr",rawName:"v-tr",value:"firefox_import_in_tab",expression:"'firefox_import_in_tab'"}]}),e._v(" "),t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:"cm_open_new_tab",expression:"'cm_open_new_tab'",arg:"title"}],attrs:{icon:""},on:{click:t=>e.openInNewTab("import_backup")}},[t("v-icon",{attrs:{small:""}},[e._v("fa-external-link-alt")])],1)],1):e.isImportingDials?t("v-card-text",{staticClass:"flex flex-space-between_10"},[t("span",{directives:[{name:"tr",rawName:"v-tr",value:"sync_working",expression:"'sync_working'"}]}),e._v(" "),t("v-progress-linear",{attrs:{indeterminate:"",color:"primary"}})],1):!1===e.isImportingDials?t("v-card-text",[e._v(e._s(e.tr("import_finished")))]):t("v-card-text",{staticClass:"flex flex-wrap"},[t("v-file-input",{attrs:{label:e.tr("import_settings_button"),accept:`.${e.EXTENSION}`,outlined:"",dense:"","hide-details":"","prepend-inner-icon":"fa-upload","prepend-icon":""},on:{change:e.importBackup}}),e._v(" "),t("v-checkbox",{staticClass:"ml-5 mt-0 pt-0",attrs:{label:e.tr("o_replace_existing"),dense:"","hide-details":""},model:{value:e.replaceExisting,callback:t=>{e.replaceExisting=t},expression:"replaceExisting"}})],1)],1),e._v(" "),t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"automatic_local_backups",expression:"'automatic_local_backups'"}],staticClass:"py-2"}),e._v(" "),t("v-card-text",{staticClass:"flex flex-wrap"},[e.env.$IS_FIREFOX?t("div",{staticClass:"w100"},[t("v-checkbox",{staticClass:"mt-0",attrs:{label:e.tr("automatic_backups_firefox",e.OPTIONS.AUTO_BACKUP_FOLDER_NAME),dense:""},on:{change:e.enableAutoBackups},model:{value:e.OPTIONS.AUTO_BACKUP,callback:t=>{e.$set(e.OPTIONS,"AUTO_BACKUP",t)},expression:"OPTIONS.AUTO_BACKUP"}}),e._v(" "),e.OPTIONS.AUTO_BACKUP?t("div",[t("v-text-field",{attrs:{label:e.tr("backup_folder"),outlined:"",dense:"","prepend-inner-icon":"fa-folder","error-messages":e.verifyFolderName(e.OPTIONS.AUTO_BACKUP_FOLDER_NAME)?[]:[e.tr("validation_folder")],placeholder:e.tr("backup_folder_placeholder")},on:{input:e.onBackupFolderNameChange},model:{value:e.OPTIONS.AUTO_BACKUP_FOLDER_NAME,callback:t=>{e.$set(e.OPTIONS,"AUTO_BACKUP_FOLDER_NAME",t)},expression:"OPTIONS.AUTO_BACKUP_FOLDER_NAME"}}),e._v(" "),t("slider",{attrs:{"default-value":7,min:1,max:28,units:"unit_days","units-title":"unit_days",label:"backup_interval"},on:{change:e.delayedSave},model:{value:e.OPTIONS.AUTO_BACKUP_DAYS_INTERVAL,callback:t=>{e.$set(e.OPTIONS,"AUTO_BACKUP_DAYS_INTERVAL",t)},expression:"OPTIONS.AUTO_BACKUP_DAYS_INTERVAL"}})],1):e._e()],1):e.autoSaveHandle?t("div",{staticClass:"w100"},[t("div",{staticClass:"flex"},[t("label",[e._v(e._s(`${e.tr("backup_folder")} "${e.autoSaveHandle.name}"`))]),e._v(" "),t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:"label_remove",expression:"'label_remove'",arg:"title"}],staticClass:"ml-auto",attrs:{icon:""},on:{click:t=>e.removeSaveHandle()}},[t("v-icon",{attrs:{small:""}},[e._v("fa-trash-alt")])],1)],1),e._v(" "),t("div",[t("slider",{attrs:{"default-value":7,min:1,max:28,units:"unit_days","units-title":"unit_days",label:"backup_interval"},on:{change:e.delayedSave},model:{value:e.OPTIONS.AUTO_BACKUP_DAYS_INTERVAL,callback:t=>{e.$set(e.OPTIONS,"AUTO_BACKUP_DAYS_INTERVAL",t)},expression:"OPTIONS.AUTO_BACKUP_DAYS_INTERVAL"}}),e._v(" "),t("slider",{attrs:{"default-value":4,min:2,max:10,label:"backup_keep_count",label_param:`${e.OPTIONS.AUTO_BACKUP_KEEP_COUNT}`},on:{change:e.delayedSave},model:{value:e.OPTIONS.AUTO_BACKUP_KEEP_COUNT,callback:t=>{e.$set(e.OPTIONS,"AUTO_BACKUP_KEEP_COUNT",t)},expression:"OPTIONS.AUTO_BACKUP_KEEP_COUNT"}})],1)]):t("div",[t("v-btn",{directives:[{name:"tr",rawName:"v-tr",value:"select_backup_folder",expression:"'select_backup_folder'"}],staticClass:"text-none",on:{click:e.selectAutoSaveFolder}})],1),e._v(" "),(e.env.$IS_FIREFOX?e.OPTIONS.AUTO_BACKUP:e.autoSaveHandle)?t("v-btn",{staticClass:"text-none",attrs:{disabled:null!==e.isCreatingAutoBackup},on:{click:e.createAutoBackupNow}},[t("v-icon",{attrs:{left:""}},[e._v(e._s(null===e.isCreatingAutoBackup?"fa-file-circle-plus":e.isCreatingAutoBackup?"fa-spinner fa-spin":"fa-check-circle"))]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:null===e.isCreatingAutoBackup?"backup_now":e.isCreatingAutoBackup?"sync_working":"label_done",expression:"isCreatingAutoBackup === null ? 'backup_now' : isCreatingAutoBackup ? 'sync_working' : 'label_done'"}]})],1):e._e()],1)],1),e._v(" "),t("v-card",{ref:"importExternal",staticClass:"mt-9"},[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr.cc",value:"o_import_other_addons",expression:"'o_import_other_addons'",modifiers:{cc:!0}}],staticClass:"py-2"}),e._v(" "),e._l(e.externalAddons,(a=>[t("v-divider"),t("v-divider"),e._v(" "),t("v-card-subtitle",{staticClass:"flex"},[t("span",{staticClass:"font-weight-bold"},[e._v(e._s(a.name))]),e._v(" "),a.youtube?t("a",{staticClass:"ml-auto",attrs:{href:a.youtube,target:"_blank"}},[t("v-icon",{attrs:{left:"",small:""}},[e._v("fab fa-youtube")]),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"o_watch_youtube_import",expression:"'o_watch_youtube_import'"}]})],1):e._e()]),e._v(" "),e.env.$IS_FIREFOX&&e.isInPopup?t("v-card-text",{staticClass:"flex flex-space-between_10"},[t("div",{directives:[{name:"tr",rawName:"v-tr",value:"firefox_import_in_tab",expression:"'firefox_import_in_tab'"}]}),e._v(" "),t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:"cm_open_new_tab",expression:"'cm_open_new_tab'",arg:"title"}],attrs:{icon:""},on:{click:t=>e.openInNewTab()}},[t("v-icon",{attrs:{small:""}},[e._v("fa-external-link-alt")])],1)],1):a.importFinished?t("v-card-text",[t("p",[e._v(e._s(e.tr("import_finished")))])]):t("v-card-text",{staticClass:"flex flex-wrap"},[a.isTextInput?t("v-textarea",{attrs:{"prepend-icon":"fa-regular fa-paste",rows:"1",outlined:"",dense:"",placeholder:e.tr("o_paste_import_placeholder"),"error-messages":a.errors},model:{value:a.textInput,callback:t=>{e.$set(a,"textInput",t)},expression:"addon.textInput"}}):t("v-file-input",{attrs:{label:a.importLabel,accept:a.accept,"show-size":"",outlined:"",dense:"","error-messages":a.errors},on:{change:e=>a.startImport(e)}}),e._v(" "),t("v-checkbox",{staticClass:"ml-5 mt-0 mb-2 pt-0",attrs:{label:e.tr("o_replace_existing"),dense:""},model:{value:a.replace,callback:t=>{e.$set(a,"replace",t)},expression:"addon.replace"}}),e._v(" "),a.isTextInput?t("div",{staticStyle:{"flex-basis":"100%"}},[t("v-btn",{staticClass:"text-none",staticStyle:{"min-width":"50%"},attrs:{disabled:!a.textInput},on:{click:e=>a.startImport()}},[t("v-icon",{attrs:{left:""}},[e._v("fa-upload")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"o_import_btn",expression:"'o_import_btn'"}]})],1)],1):e._e()],1)]))],2),e._v(" "),t("v-card",{staticClass:"mt-5"},[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"o_export_to_html",expression:"'o_export_to_html'"}],staticClass:"py-2"}),e._v(" "),t("v-card-text",[e.htmlDownloadLink?t("a",{attrs:{href:e.htmlDownloadLink.url,download:e.htmlDownloadLink.filename,"data-downloadurl":e.htmlDownloadLink.downloadURL}},[t("v-btn",{staticClass:"text-none"},[t("v-icon",{attrs:{left:""}},[e._v("fa-download")]),e._v(" "),t("span",[e._v("bookmarks.html")])],1)],1):e._e(),e._v(" "),t("div",{staticClass:"mt-2"},[e._v(e._s(e.tr("o_export_links_to_html")))])])],1)],1)],1)};ge._withStripped=!0;var Oe=a(9598);var fe=a(2846),we=a(7552),be=a(7700);const Ie=Symbol();var ye=a(6836),Te=a(1470),Se=a(1305),Ee=a(5448);async function Ae(){return await Se.i.withDB((async e=>{await(0,Ee.G)(e);return async function(e){const t=[];for(let a=0;a<e.length;a++){const s=e[a],i=await s().catch((()=>Ie));i!==Ie&&t.push(i)}return t}(await e.mapEachRecord(we.ew.DB_IMAGE,{map:e=>async()=>({...e,icon:e.iconBlob?await(0,be.G)(e.iconBlob).catch(z.s6):void 0,img:e.imgBlob?await(0,be.G)(e.imgBlob).catch(z.s6):void 0,iconBlob:void 0,imgBlob:void 0})}))}))}async function De(e){return await Se.i.withDB((async t=>{for(const a of e)a.icon&&(a.iconBlob=await(0,ye.XZ)(a.icon)),a.img&&(a.imgBlob=await(0,ye.XZ)(a.img)),delete a.icon,delete a.img,await t.updateDial(a.group,a.url,(e=>Object.assign((0,Te.LP)(e),a)))}))}var Ne=a(416);var xe=a(7111),Pe=a(2895);class ke{youtube="";isTextInput=!1;textInput="";accept="";errors=[];replace=!0;importFinished=!1;async startImport(e){try{const t=this.import(e instanceof File?await e.text():this.textInput),{groups:a,thumbnails:s}=Array.isArray(t)?{groups:t,thumbnails:[]}:t;if(0===a.length||a.every((e=>e.dials.every((e=>!e.url)))))throw new Error("no dials found");return this.replace||(0,xe.j)(a,fe.M.getNewGroupId(),s),await fe.M.action("importData",{groups:a,replaceExisting:this.replace}),s.length&&await De(s),this.importFinished=!0,{success:!0,errors:[]}}catch(e){return this.errors=[(0,Pe.Nw)((0,i.tr)("import_error"),e)],{success:!1,errors:this.errors}}}}const Re=e=>(e||"").trim(),Le=e=>parseInt(String(e))||0;var Ce=a(5772);function Ue(e){e.forEach((e=>{const t=e.dials.length;for(let a=4;a<=50&&(e.cols=Math.min(20,a),e.rows=Math.min(50,a-1),!(e.cols*e.rows>=t));a++);if(e.cols>=8)e.cols=8,e.rows=Math.ceil(t/8),e.dynamic={width:300,height:225};else for(;e.dials.length<e.rows*e.cols;)e.dials.push({})}))}function Be(e,t){return(e||"").trim()||(0,i.ZB)("group_generated_name",t)}class $e extends ke{name="Speed Dial [FVD] by Nimbus Web";youtube="https://www.youtube.com/watch?v=H2maRJ9gFKU";importLabel=(0,i.tr)("o_paste_import_placeholder");isTextInput=!0;constructor(){super()}import(e){const t=JSON.parse(e),a=t.db?.groups||t.groups,s=t.db?.dials||t.dials,i=[],r=a.sort((0,Ce.s)("position")).map((e=>{const t=parseInt(e.id)||0,a=0+t;return{id:a,name:Be(e.name,t),cols:4,rows:3,dials:s.filter((e=>parseInt(e.group_id)===t)).sort((0,Ce.s)("position")).map((e=>{const t=Re(e.url);return e.thumb?.startsWith("data:image/")&&i.push({img:e.thumb,url:t,group:a}),{url:t,name:e.auto_title||Re(e.title),type:0}}))}}));return Ue(r),{groups:r,thumbnails:i}}}class Ge extends ke{name="Speed Dial 2 by speeddial2.com";youtube="https://www.youtube.com/watch?v=c3x116W1-S8";importLabel=(0,i.tr)("import_speed_dial_2_button");constructor(){super()}import(e){const t=e=>Array.isArray(e)?e:Object.entries(e||{}).sort((([e],[t])=>parseInt(e)-parseInt(t))).map((([e,t])=>t)),a=JSON.parse(e);let s=0;const r=[{id:0+s++,_tempId:0,name:(0,i.tr)("default_home_group_name"),cols:4,rows:3,dials:[]},...t(a.groups).map((e=>({name:Be(e.title,0+s),id:0+s++,_tempId:e.id,cols:4,rows:3,dials:[]})))];return t(a.dials).forEach((e=>{const t=r.find((t=>t._tempId==e.idgroup));t&&t.dials.push({url:e.url,name:Re(e.title),type:0})})),r.forEach((e=>delete e._tempId)),Ue(r),r}}class Me extends ke{name="Speed Dial by Speed Dial Dev";importLabel=(0,i.tr)("import_speed_dial_2_button");accept=".spd";constructor(){super()}import(e){const t=JSON.parse(e),a=t.categories,s=t.links,i=a.map((e=>{const t=Le(e.id);return{id:0+t,name:Be(e.name,t),cols:4,rows:3,dials:s.filter((e=>Le(e.category)===t)).map((e=>({url:Re(e.url),name:Re(e.title),type:0})))}}));return Ue(i),i}}class He extends ke{name="Fast Dial by telega";youtube="https://www.youtube.com/watch?v=Pn0fpzTLgJ4";importLabel=(0,i.tr)("import_fast_dial_button");accept=".json";constructor(){super()}import(e){const t=JSON.parse(e);let a=0;const s=[],r=e=>{const t=e.children||[],i=0+a++,n={id:i,name:e.title||"Group "+i,cols:4,rows:3,dials:[]};return s.push(n),n.dials=Array(Math.max(t.length,...t.map((e=>e.thumbIndex||0)))).fill(0).map((e=>({}))),t.forEach(((e,t)=>{n.dials[e.hasOwnProperty("thumbIndex")?e.thumbIndex:t]={url:e.isFolder?`#${r(e).id}`:e.url||"",type:e.isFolder?1:0,name:e.title||""}})),n};return r({children:t}),Ue(s),s[0].name=(0,i.tr)("default_home_group_name"),s}}class Fe extends ke{name="Super Start by cyberscorpio";youtube="https://www.youtube.com/watch?v=_PfRzIg9eTY";importLabel=(0,i.tr)("import_super_start_button");accept=".json";constructor(){super()}import(e){const t=JSON.parse(e);let a=0;const s=e=>"about:placeholder"===e?"":Re(e),r=[],n=e=>{const t=e=>!!e.sites,i=e.sites||[],o=0+a++,l={id:o,name:s(e.title)||Be("",o),cols:4,rows:3,dials:[]};return r.push(l),l.dials=i.map((e=>({url:t(e)?`#${n(e).id}`:s(e.url),type:t(e)?1:0,name:s(e.title)}))).map((e=>e.url?e:{})),l};return n(t),Ue(r),r[0].name=(0,i.tr)("default_home_group_name"),r}}class Ke extends ke{name="Speed Dial by Josep del Rio";youtube="https://www.youtube.com/watch?v=1qGPxWgazJk";importLabel=(0,i.tr)("import_josep_button");accept=".speeddial";constructor(){super()}import(e){const t="chrome://speeddial/content/speeddial.xul?group=",a=[];let s=1;const i=e.split("\n");return i.forEach((function(e){const t=r(e);t("group","columns",((e,t)=>n(e,parseInt(t)))),t("group","rows",((e,t)=>n(e,void 0,parseInt(t)))),t("group","title",((e,t)=>n(e,void 0,void 0,t)))})),a.sort((0,Ce.s)("id")),a.forEach((e=>{e.name=Be(e.name,e.id);const t=e.rows||3,a=e.cols||3;e.dials=new Array(t*a).fill(0).map((e=>({}))),e.dials.forEach((e=>e.tmpIndex=s++))})),i.forEach((function(e){const t=r(e);t("thumbnail","url",((e,t)=>o(e,t))),t("thumbnail","label",((e,t)=>o(e,void 0,t)))})),a.forEach((e=>e.dials.forEach((e=>delete e.tmpIndex)))),a;function r(e){return(t,a,s)=>{const i=new RegExp(`^${t}-([0-9]+)-${a}=(.*)$`,"g").exec(e);i&&s(parseInt(i[1]),i[2])}}function n(e,t,s,i){const r=0+e;let n=a.find((e=>e.id===r));n||a.push(n={}),t&&(n.cols=t),s&&(n.rows=s),i&&(n.name=decodeURI(i)),n.id=r}function o(e,s,i){let r=null;a.forEach((t=>t.dials.forEach((t=>{t.tmpIndex===e&&(r=t)})))),r&&(i&&(r.name=decodeURI(i)),s&&(s.startsWith(t)?(r.url="#"+(0+parseInt(s.replace(t,""))),r.type=K.kh.GROUP):(r.url=s,r.type=K.kh.URL)))}}}class We extends ke{name="Firefox bookmarks";youtube="https://www.youtube.com/watch?v=GImk9B4t6ss";importLabel=(0,i.tr)("import_firefox_button");accept=".json";constructor(){super()}import(e){const t=JSON.parse(e);let a=0;const s="text/x-moz-place-container",r=["text/x-moz-place",s],n=[],o=e=>{const t=e=>e.type===s,i=e.children||[],l=0+a++,c={id:l,name:Be(e.title,l),cols:4,rows:3,dials:[]};return n.push(c),c.dials=i.filter((e=>r.includes(e.type))).map((e=>({url:t(e)?`#${o(e).id}`:Re(e.uri),type:t(e)?1:0,name:Re(e.title)}))).filter((e=>!e.url.startsWith("place:"))),c};return o(t),Ue(n),n[0].name=(0,i.tr)("default_home_group_name"),n}}class Ve extends ke{name="Chrome bookmarks / Opera bookmarks (speed dial)";importLabel=(0,i.tr)("import_chrome_button");accept=".html";constructor(){super()}import(e){const t=(new DOMParser).parseFromString(e,"text/html"),a=Array.from(t.querySelectorAll("dl")).map(((e,t)=>({id:0+t,name:Be(e.previousElementSibling instanceof HTMLHeadingElement&&e.previousElementSibling.textContent||"",t),cols:4,rows:3,dials:Array.from(e.querySelectorAll(":scope > dt > a")).map((e=>({url:Re(e.href),name:Re(e.textContent),type:0})))})));return Ue(a),a}}var ze=a(7137);const Ye=new(a(910).F)("last_backup_time",(()=>0)),je=new class{getLastBackupTime(){return Ye.get()}updateLastBackupTime(){return Ye.set(Date.now())}async saveDirectoryHandle(e){const t={key:we.yH,value:e};await Se.i.withDB((e=>e.dbTransactionOperation(we.ew.DB_RUNTIME,we.p0.DB_OP_READ_WRITE,"put",t)))}async getDirectoryHandle(){return B.lw.AUTO_BACKUP?{name:B.lw.AUTO_BACKUP_FOLDER_NAME||"gsd",queryPermission:async()=>await browser.permissions.contains({permissions:["downloads"]})?"granted":"prompt",requestPermission:async()=>await(0,ze.x)("downloads")?"granted":"denied"}:void 0}async verifyGrantedPermission(){const e=await this.getDirectoryHandle();return"granted"===await(e?.requestPermission({mode:"readwrite"}))}async createNewBackup(e=!1){return await(0,x._z)({type:"create_automatic_backup",isManual:e})}async disable(){await Se.i.withDB((e=>e.dbTransactionOperation(we.ew.DB_RUNTIME,we.p0.DB_OP_READ_WRITE,"delete",we.yH))),await B.KY.update((e=>(e.AUTO_BACKUP=!1,e)))}};var qe=a(3015),Xe=a(2665),Ze=a(3694);const Je="group_speed_dial",Qe=()=>`backup_${(0,Ze.JY)()}`;a(5524),a(9180);async function et(e=!1){const t=await browser.storage.local.get().catch((async e=>{const[t]=(await Se.i.withDB((e=>e.dbTransactionOperation(we.ew.DB_HISTORY,we.p0.DB_OP_READONLY,"getAll"))).catch((async e=>{const{getLocalStorageBackup:t,getSyncBackups:a}=await(0,qe.D)(),s=await t().catch(z.lQ);return s?[s]:await a()}))).sort((0,Ce.s)("date",!1));if(!t)throw"no backup found, all storage is broken :(";return{groups:t.groups,metadata:t.metadata}}));return t.___thumbnails=e?await Ae().catch((()=>[])):[],delete t[Xe.$x],Object.keys(t).filter((e=>e.startsWith("thumb_version_"))).forEach((e=>delete t[e])),t}var tt=a(1368);const at=r.default.extend({props:{importExternal:{type:Boolean,required:!0},openInNewTab:{type:Function,required:!0}},name:"options_import_backup",components:{slider:tt.A},data:()=>({env:l._,EXTENSION:Je,isInPopup:$.U,replaceExisting:!0,isImportingDials:null,isExportingThumbnails:null,isCreatingAutoBackup:null,settingsDownloadLink:null,htmlDownloadLink:null,autoSaveHandle:void 0,externalAddons:[new $e,new Ge,new Me,new He,new Fe,new Ve,new We,new Ke]}),async created(){this.settingsDownloadLink=this.createDownloadLink(Qe(),Je,await et()),this.htmlDownloadLink=this.createDownloadLink("bookmarks","html",function(e){let t=Math.round(Date.now()/1e3);const a=()=>++t;return`<!DOCTYPE NETSCAPE-Bookmark-file-1>\n\x3c!-- This is an automatically generated file.\n     It will be read and overwritten.\n     DO NOT EDIT! --\x3e\n<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">\n<meta http-equiv="Content-Security-Policy"\n      content="default-src 'self'; script-src 'none'; img-src data: *; object-src 'none'"></meta>\n<TITLE>Bookmarks</TITLE>\n<H1>Bookmarks Menu</H1>\n\n<DL><p>${e.map((e=>{const t=e.dials.filter((e=>e.url?.startsWith("http")));return 0===t.length?"":`\n    <DT><H3 ADD_DATE="${a()}" LAST_MODIFIED="${a()}">${e.name||"no name"}</H3>\n    <DL><p>${t.map((e=>`\n        <DT><A HREF="${e.url}" ADD_DATE="${a()}" LAST_MODIFIED="${a()}">${e.name||"no name"}</A>`)).join("")}\n    </DL><p>`})).join("")}\n</DL>\n`}(fe.M.GROUPS)),this.autoSaveHandle=await je.getDirectoryHandle()},async mounted(){this.importExternal&&(await this.$nextTick(),this.$refs.importExternal.$el.scrollIntoView({behavior:"smooth"}))},computed:{OPTIONS:()=>B.lw},methods:{tr:i.tr,tro:Y.e,save(){this.$emit("save"),this.$forceUpdate()},delayedSave(){this.$emit("delayedSave"),this.$forceUpdate()},showInExplorer(){browser.downloads.showDefaultFolder()},verifyFolderName:e=>e&&!e.match(/^[.]|[<>:"|?*]|[.]$/),async enableAutoBackups(e){e&&!await(0,ze.x)("downloads")&&(B.lw.AUTO_BACKUP=!1),this.save()},async onBackupFolderNameChange(e){this.verifyFolderName(e)&&(this.delayedSave(),this.autoSaveHandle=await je.getDirectoryHandle())},async removeSaveHandle(){await je.disable(),this.autoSaveHandle=void 0},async selectAutoSaveFolder(){if($.U)return this.openInNewTab("import_backup");await async function(e,t){const a=await e;return null!=a?t(a):void 0}(window.showDirectoryPicker({id:"autoSaveFolder",mode:"readwrite"}),(async e=>{await je.saveDirectoryHandle(e),this.autoSaveHandle=e}))},async createAutoBackupNow(){await(0,Ne.$)((e=>this.isCreatingAutoBackup=e),(async()=>{if(!await je.verifyGrantedPermission())throw"err";await je.createNewBackup(!0)})).catch((()=>this.isCreatingAutoBackup=null))},createDownloadLink(e,t,a){const s=document.createElement("a"),{filename:i,url:r}=function(e,t,a,s,i="application/*"){const r=e.download=`${t}.${a}`,n=e.href=URL.createObjectURL(new Blob([(0,z.Kg)(s)?s:JSON.stringify(s)],{type:i}));return e.dataset.downloadurl=`${a}:${e.download}:${e.href}`,{url:n,filename:r}}(s,e,t,a);return{filename:i,url:r,downloadURL:s.dataset.downloadurl}},exportAlsoThumbnails(){(0,Ne.$)((e=>this.isExportingThumbnails=e),(async()=>{if(!await(0,ze.x)("downloads"))throw this.isExportingThumbnails=null;const e=this.createDownloadLink(Qe(),Je,await et(!0));await browser.downloads.download({url:e.url,filename:e.filename,...$.U?{saveAs:!1}:{}})}))},async importBackup(e){this.isImportingDials=!0;const t=JSON.parse(await e.text());Object.keys(t).filter((e=>e.startsWith("thumb_version_"))).forEach((e=>delete t[e]));const a=t.___thumbnails;if(delete t.___thumbnails,delete t.dataVersion,delete t.user,delete t._this_device_uuid,delete t.scheduledReloads,t.version=Date.now(),t.lastChangeInfo={date:Date.now(),name:(0,i.tr)("import_finished")},this.replaceExisting)await browser.storage.local.set(t);else{const e=t.groups;(0,xe.j)(e,fe.M.getNewGroupId(),a),await fe.M.action("importData",{groups:e,replaceExisting:!1})}a&&(await De(a),await(0,x._z)({type:"synchronize_thumbnails"}),(0,x._z)({type:"data_changed"})),this.isImportingDials=!1}}}),st=at;const it=(0,u.A)(st,ge,[],!1,null,"7daab758",null).exports;var rt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-row",[t("v-col",{attrs:{cols:"12"}},[e.getIsSmallDevice()?t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"o_android_min_size",expression:"'o_android_min_size'"}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("slider",{attrs:{"default-value":100,min:0,max:300,units:"pixels_short","units-title":"o_pixels",label:"o_android_min_dial_size"},on:{change:e.save},model:{value:e.OPTIONS.ANDROID_MIN_DIAL_SIZE,callback:t=>{e.$set(e.OPTIONS,"ANDROID_MIN_DIAL_SIZE",t)},expression:"OPTIONS.ANDROID_MIN_DIAL_SIZE"}})],1)],1):e._e(),e._v(" "),t("v-card",{ref:"layout"},[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"label_layout",expression:"'label_layout'"}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("v-checkbox",{attrs:{label:e.tr("o_dial_title_center"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.DIAL_TITLE_CENTER,callback:t=>{e.$set(e.OPTIONS,"DIAL_TITLE_CENTER",t)},expression:"OPTIONS.DIAL_TITLE_CENTER"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_dial_title_down"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.DIAL_TITLE_DOWN,callback:t=>{e.$set(e.OPTIONS,"DIAL_TITLE_DOWN",t)},expression:"OPTIONS.DIAL_TITLE_DOWN"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_dial_no_favicon"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.DIAL_NO_FAVICON,callback:t=>{e.$set(e.OPTIONS,"DIAL_NO_FAVICON",t)},expression:"OPTIONS.DIAL_NO_FAVICON"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_no_title"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.NO_TITLE,callback:t=>{e.$set(e.OPTIONS,"NO_TITLE",t)},expression:"OPTIONS.NO_TITLE"}}),e._v(" "),t("slider",{staticClass:"mb-0",attrs:{"default-value":12,min:0,max:30,units:"pixels_short","units-title":"o_pixels",label:"o_space_around_dials"},on:{change:e.save},model:{value:e.OPTIONS.DIAL_PADDING,callback:t=>{e.$set(e.OPTIONS,"DIAL_PADDING",t)},expression:"OPTIONS.DIAL_PADDING"}}),e._v(" "),t("slider",{staticClass:"mb-0",attrs:{"default-value":50,min:0,max:100,units:"%","units-title":"o_percent",label:"o_split_dial_gap"},on:{change:e.save},model:{value:e.OPTIONS.SPLIT_DIAL_GAP,callback:t=>{e.$set(e.OPTIONS,"SPLIT_DIAL_GAP",t)},expression:"OPTIONS.SPLIT_DIAL_GAP"}})],1)],1),e._v(" "),t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"label_style",expression:"'label_style'"}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("div",{directives:[{name:"tr",rawName:"v-tr.c",value:"o_dial_header_title",expression:"'o_dial_header_title'",modifiers:{c:!0}}],staticClass:"mt-2"}),e._v(" "),t("v-radio-group",{staticClass:"ml-5 mt-1",attrs:{mandatory:"",dense:"",row:""},on:{change:t=>{e.redrawAll()}},model:{value:e.OPTIONS.DIAL_HEADER_STYLE,callback:t=>{e.$set(e.OPTIONS,"DIAL_HEADER_STYLE",t)},expression:"OPTIONS.DIAL_HEADER_STYLE"}},e._l(e.getEnumValues(e.DIAL_HEADER),(a=>t("v-radio",{key:a,staticClass:"mb-0",attrs:{value:a,label:e.tr(`o_dial_header_${a}`)}}))),1),e._v(" "),e.OPTIONS.DIAL_HEADER_STYLE===e.DIAL_HEADER.solid&&e.OPTIONS.TEMPLATE_COLOR?t("color_picker_input",{staticClass:"ml-7",attrs:{"default-value":e.DEFAULT.DIAL_LIGHT_HEAD_BACKGROUND,label:e.tr("o_dial_header_background_color"),"show-reset":"",disabled:e.OPTIONS.DIAL_HEADER_STYLE!==e.DIAL_HEADER.solid},on:{input:e.delayedSave},model:{value:e.OPTIONS.DIAL_LIGHT_HEAD_BACKGROUND,callback:t=>{e.$set(e.OPTIONS,"DIAL_LIGHT_HEAD_BACKGROUND",t)},expression:"       OPTIONS.DIAL_LIGHT_HEAD_BACKGROUND"}}):e.OPTIONS.DIAL_HEADER_STYLE===e.DIAL_HEADER.solid?t("color_picker_input",{staticClass:"ml-7",attrs:{"default-value":e.DEFAULT.DIAL_DARK_HEAD_BACKGROUND,label:e.tr("o_dial_header_background_color"),"show-reset":"",disabled:e.OPTIONS.DIAL_HEADER_STYLE!==e.DIAL_HEADER.solid},on:{input:e.delayedSave},model:{value:e.OPTIONS.DIAL_DARK_HEAD_BACKGROUND,callback:t=>{e.$set(e.OPTIONS,"DIAL_DARK_HEAD_BACKGROUND",t)},expression:"       OPTIONS.DIAL_DARK_HEAD_BACKGROUND"}}):e._e(),e._v(" "),t("div",{staticClass:"flex flex-space-between_10 mt-5"},[t("v-select",{attrs:{items:e.fontFamilies,label:e.tro("o_dial_header_font",{column:!0}),dense:"","hide-details":"",outlined:""},on:{change:e.save},model:{value:e.OPTIONS.DIAL_FONT_FAMILY,callback:t=>{e.$set(e.OPTIONS,"DIAL_FONT_FAMILY",t)},expression:"OPTIONS.DIAL_FONT_FAMILY"}}),e._v(" "),t("v-btn",{staticClass:"text--secondary",attrs:{icon:""},on:{click:t=>e.nextFont(-1)}},[t("v-icon",[e._v("fa-regular fa-circle-left")])],1),e._v(" "),t("v-btn",{staticClass:"text--secondary ml-0",attrs:{icon:""},on:{click:t=>e.nextFont(1)}},[t("v-icon",[e._v("fa-regular fa-circle-right")])],1)],1),e._v(" "),t("slider",{attrs:{"default-value":16,min:8,max:28,units:"pixels_short","units-title":"o_pixels",label:"o_dial_font_size"},on:{change:e.save},model:{value:e.OPTIONS.DIAL_FONT_SIZE,callback:t=>{e.$set(e.OPTIONS,"DIAL_FONT_SIZE",t)},expression:"OPTIONS.DIAL_FONT_SIZE"}}),e._v(" "),t("div",{directives:[{name:"tr",rawName:"v-tr.c",value:"o_dial_border",expression:"'o_dial_border'",modifiers:{c:!0}}],staticClass:"mt-2"}),e._v(" "),t("v-radio-group",{staticClass:"ml-5 mt-1",attrs:{mandatory:"",dense:"",row:""},on:{change:t=>{e.redrawAll()}},model:{value:e.OPTIONS.DIAL_BORDER_TYPE,callback:t=>{e.$set(e.OPTIONS,"DIAL_BORDER_TYPE",t)},expression:"OPTIONS.DIAL_BORDER_TYPE"}},e._l(e.getEnumValues(e.DialBorderType),(a=>t("v-radio",{key:a,staticClass:"mb-0",attrs:{value:a,label:e.tr(`o_dial_border_${a}`)}}))),1),e._v(" "),t("div",{staticClass:"flex flex-space-between_10"},[e.OPTIONS.DIAL_BORDER_TYPE===e.DialBorderType.solid?t("color_picker_input",{key:e.OPTIONS.DIAL_BORDER_TYPE,staticClass:"ml-5",attrs:{"default-value":e.DEFAULT.DIAL_BORDER_COLOR,label:e.tr("o_dial_border_color"),"show-reset":""},on:{input:e.delayedSave},model:{value:e.OPTIONS.DIAL_BORDER_COLOR,callback:t=>{e.$set(e.OPTIONS,"DIAL_BORDER_COLOR",t)},expression:"       OPTIONS.DIAL_BORDER_COLOR"}}):e.OPTIONS.DIAL_BORDER_TYPE===e.DialBorderType.shadow?[t("color_picker_input",{key:e.OPTIONS.DIAL_BORDER_TYPE,staticClass:"ml-5",attrs:{"default-value":e.DEFAULT.DIAL_SHADOW_COLOR,label:e.tr("o_dial_shadow_color"),"show-reset":""},on:{input:e.delayedSave},model:{value:e.OPTIONS.DIAL_SHADOW_COLOR,callback:t=>{e.$set(e.OPTIONS,"DIAL_SHADOW_COLOR",t)},expression:"       OPTIONS.DIAL_SHADOW_COLOR"}}),e._v(" "),t("slider",{attrs:{"default-value":e.DEFAULT.DIAL_SHADOW_BLUR,min:0,max:20,units:"pixels_short","units-title":"o_pixels",label:"o_dial_shadow_blur"},on:{change:e.save},model:{value:e.OPTIONS.DIAL_SHADOW_BLUR,callback:t=>{e.$set(e.OPTIONS,"DIAL_SHADOW_BLUR",t)},expression:"OPTIONS.DIAL_SHADOW_BLUR"}})]:e._e()],2),e._v(" "),e.OPTIONS.DIAL_BORDER_TYPE!==e.DialBorderType.none?t("v-divider",{staticClass:"my-4"}):e._e(),e._v(" "),t("slider",{attrs:{"default-value":e.DEFAULT.DIAL_BORDER_RADIUS,min:0,max:42,units:"pixels_short","units-title":"o_pixels",label:"o_curved_edges"},on:{change:e.save},model:{value:e.OPTIONS.DIAL_BORDER_RADIUS,callback:t=>{e.$set(e.OPTIONS,"DIAL_BORDER_RADIUS",t)},expression:"OPTIONS.DIAL_BORDER_RADIUS"}}),e._v(" "),t("v-checkbox",{directives:[{name:"tr",rawName:"v-tr:title",value:"o_dial_numbers_title",expression:"'o_dial_numbers_title'",arg:"title"}],attrs:{label:e.tr("o_dial_numbers"),dense:"","hide-details":""},on:{change:e.redrawAll},model:{value:e.OPTIONS.DIAL_NUMBERS,callback:t=>{e.$set(e.OPTIONS,"DIAL_NUMBERS",t)},expression:"OPTIONS.DIAL_NUMBERS"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_on_hover_show_url"),dense:"","hide-details":""},on:{change:e.redrawAll},model:{value:e.OPTIONS.ON_HOVER_SHOW_URL,callback:t=>{e.$set(e.OPTIONS,"ON_HOVER_SHOW_URL",t)},expression:"OPTIONS.ON_HOVER_SHOW_URL"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_hide_empty_dials"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.HIDE_EMPTY_DIALS,callback:t=>{e.$set(e.OPTIONS,"HIDE_EMPTY_DIALS",t)},expression:"OPTIONS.HIDE_EMPTY_DIALS"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_no_dial_reflection"),dense:"","hide-details":""},on:{change:e.redrawAll},model:{value:e.OPTIONS.NO_DIAL_REFLECTION,callback:t=>{e.$set(e.OPTIONS,"NO_DIAL_REFLECTION",t)},expression:"OPTIONS.NO_DIAL_REFLECTION"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_hide_dial_plus"),dense:"","hide-details":""},on:{change:e.redrawAll},model:{value:e.OPTIONS.HIDE_DIAL_PLUS,callback:t=>{e.$set(e.OPTIONS,"HIDE_DIAL_PLUS",t)},expression:"OPTIONS.HIDE_DIAL_PLUS"}})],1)],1),e._v(" "),t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr.cc",value:"mouse_over_effects",expression:"'mouse_over_effects'",modifiers:{cc:!0}}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("v-checkbox",{attrs:{label:e.tr("o_hover_none"),dense:"","hide-details":""},on:{change:t=>{e.OPTIONS.HOVER_ZOOM=e.OPTIONS.HOVER_BOLD=!1,e.save()}},model:{value:e.OPTIONS.HOVER_NONE,callback:t=>{e.$set(e.OPTIONS,"HOVER_NONE",t)},expression:"OPTIONS.HOVER_NONE"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_hover_zoom"),dense:"","hide-details":"",disabled:e.OPTIONS.HOVER_NONE},on:{change:e.save},model:{value:e.OPTIONS.HOVER_ZOOM,callback:t=>{e.$set(e.OPTIONS,"HOVER_ZOOM",t)},expression:"OPTIONS.HOVER_ZOOM"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_hover_bold"),dense:"","hide-details":"",disabled:e.OPTIONS.HOVER_NONE},on:{change:e.save},model:{value:e.OPTIONS.HOVER_BOLD,callback:t=>{e.$set(e.OPTIONS,"HOVER_BOLD",t)},expression:"OPTIONS.HOVER_BOLD"}})],1)],1),e._v(" "),t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"label_actions",expression:"'label_actions'"}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("v-checkbox",{directives:[{name:"tr",rawName:"v-tr:title",value:"o_disable_quick_edit_title",expression:"'o_disable_quick_edit_title'",arg:"title"}],attrs:{label:e.tr("o_disable_quick_edit"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.DISABLE_QUICK_EDIT,callback:t=>{e.$set(e.OPTIONS,"DISABLE_QUICK_EDIT",t)},expression:"OPTIONS.DISABLE_QUICK_EDIT"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_disable_drag_and_drop"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.DISABLE_DRAG_AND_DROP,callback:t=>{e.$set(e.OPTIONS,"DISABLE_DRAG_AND_DROP",t)},expression:"OPTIONS.DISABLE_DRAG_AND_DROP"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_scrollable_thumbnails"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.SCROLLABLE_THUMBNAILS,callback:t=>{e.$set(e.OPTIONS,"SCROLLABLE_THUMBNAILS",t)},expression:"OPTIONS.SCROLLABLE_THUMBNAILS"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_open_always_new_window"),dense:"","hide-details":""},on:{change:t=>{e.OPTIONS.OPEN_ALWAYS_NEW_TAB=!1,e.save()}},model:{value:e.OPTIONS.OPEN_ALWAYS_NEW_WINDOW,callback:t=>{e.$set(e.OPTIONS,"OPEN_ALWAYS_NEW_WINDOW",t)},expression:"OPTIONS.OPEN_ALWAYS_NEW_WINDOW"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_open_always_new_tab"),dense:"","hide-details":""},on:{change:t=>{e.OPTIONS.OPEN_ALWAYS_NEW_WINDOW=!1,e.OPTIONS.OPEN_ALWAYS_FOCUSED=!0,e.save()}},model:{value:e.OPTIONS.OPEN_ALWAYS_NEW_TAB,callback:t=>{e.$set(e.OPTIONS,"OPEN_ALWAYS_NEW_TAB",t)},expression:"OPTIONS.OPEN_ALWAYS_NEW_TAB"}}),e._v(" "),t("v-checkbox",{staticClass:"ml-5",attrs:{label:e.tr("o_open_always_focused"),dense:"","hide-details":"",disabled:!e.OPTIONS.OPEN_ALWAYS_NEW_TAB},on:{change:e.save},model:{value:e.OPTIONS.OPEN_ALWAYS_FOCUSED,callback:t=>{e.$set(e.OPTIONS,"OPEN_ALWAYS_FOCUSED",t)},expression:"OPTIONS.OPEN_ALWAYS_FOCUSED"}}),e._v(" "),t("v-checkbox",{staticClass:"ml-5",attrs:{label:e.tr("o_open_always_include_group_dials"),dense:"","hide-details":"",disabled:!e.OPTIONS.OPEN_ALWAYS_NEW_TAB},on:{change:e.save},model:{value:e.OPTIONS.OPEN_ALWAYS_INCLUDE_GROUP_DIALS,callback:t=>{e.$set(e.OPTIONS,"OPEN_ALWAYS_INCLUDE_GROUP_DIALS",t)},expression:"OPTIONS.OPEN_ALWAYS_INCLUDE_GROUP_DIALS"}}),e._v(" "),t("v-checkbox",{staticClass:"ml-5",attrs:{label:e.tr("o_key_next_to_current"),dense:"","hide-details":"",disabled:!e.OPTIONS.OPEN_ALWAYS_NEW_TAB},on:{change:e.save},model:{value:e.OPTIONS.OPEN_ALWAYS_NEXT_TO_CURRENT,callback:t=>{e.$set(e.OPTIONS,"OPEN_ALWAYS_NEXT_TO_CURRENT",t)},expression:"OPTIONS.OPEN_ALWAYS_NEXT_TO_CURRENT"}}),e._v(" "),t("v-checkbox",{directives:[{name:"tr",rawName:"v-tr:title",value:"o_open_always_stop_opener_id_title",expression:"'o_open_always_stop_opener_id_title'",arg:"title"}],staticClass:"ml-5",attrs:{label:e.tr("o_open_always_stop_opener_id"),dense:"","hide-details":"",disabled:!e.OPTIONS.OPEN_ALWAYS_NEW_TAB},on:{change:e.save},model:{value:e.OPTIONS.OPEN_ALWAYS_STOP_OPENER_ID,callback:t=>{e.$set(e.OPTIONS,"OPEN_ALWAYS_STOP_OPENER_ID",t)},expression:"OPTIONS.OPEN_ALWAYS_STOP_OPENER_ID"}})],1)],1)],1)],1)};rt._withStripped=!0;var nt=a(179);const ot=r.default.extend({props:{l:Number},name:"options_dials",components:{Color_picker_input:_e.A,slider:tt.A},data:()=>({DIAL_HEADER:K.xk,DialBorderType:K.NO,DEFAULT:(0,B.qN)(),fontFamilies:["","Arial","Arial Black","Comic Sans MS","Courier New","Georgia","Impact","Lucida Console","Lucida Sans Unicode","Palatino Linotype","Tahoma","Times New Roman","Trebuchet MS","Verdana"].map((e=>({text:e||(0,Y.e)("label_default",{column:!1}),value:e})))}),mounted(){},computed:{OPTIONS:()=>B.lw,isAndroid:()=>R.m0},methods:{getIsSmallDevice:nt.ik,getEnumValues:F.w5,tr:i.tr,tro:Y.e,save(){this.$emit("save"),this.$forceUpdate()},delayedSave(){this.$emit("delayedSave"),this.$forceUpdate()},redrawAll(){this.$emit("redrawAll"),this.$forceUpdate()},nextFont(e){const t=this.fontFamilies.map((e=>e.value)),a=(t.indexOf(this.OPTIONS.DIAL_FONT_FAMILY)+e+t.length)%t.length;this.OPTIONS.DIAL_FONT_FAMILY=t[a],this.save()}}});const lt=(0,u.A)(ot,rt,[],!1,null,"3bfb5926",null).exports;var ct=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr.cc",value:"o_group_list",expression:"'o_group_list'",modifiers:{cc:!0}}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("slider",{attrs:{"default-value":e.DEFAULT_GROUPS_PADDING,min:0,max:30,units:"pixels_short","units-title":"o_pixels",label:"o_space_around_groups"},on:{change:e.recomputeHeight},model:{value:e.OPTIONS.GROUP_PADDING,callback:t=>{e.$set(e.OPTIONS,"GROUP_PADDING",t)},expression:"OPTIONS.GROUP_PADDING"}}),e._v(" "),t("slider",{attrs:{"default-value":e.DEFAULT_GROUP_FONT_SIZE,min:0,max:42,units:"pixels_short","units-title":"o_pixels",label:"o_group_list_size"},on:{change:e.recomputeHeight},model:{value:e.OPTIONS.GROUPS_SIZE,callback:t=>{e.$set(e.OPTIONS,"GROUPS_SIZE",t)},expression:"OPTIONS.GROUPS_SIZE"}}),e._v(" "),t("slider",{attrs:{"default-value":1,min:0,max:9,units:"o_rows",label:"o_group_list_height"},on:{change:e.recomputeHeight},model:{value:e.groupsHeightRows,callback:t=>{e.groupsHeightRows=t},expression:"groupsHeightRows"}}),e._v(" "),t("slider",{staticClass:"invisible_label",attrs:{"default-value":e.DEFAULT_GROUPS_HEIGHT,min:0,max:300,units:"pixels_short","units-title":"o_pixels",label:"o_group_list_height"},on:{change:e.redrawAll},model:{value:e.OPTIONS.GROUPS_HEIGHT,callback:t=>{e.$set(e.OPTIONS,"GROUPS_HEIGHT",t)},expression:"OPTIONS.GROUPS_HEIGHT"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_hide_top_bar"),dense:"","hide-details":""},on:{change:e.reloadPage},model:{value:e.OPTIONS.HIDE_TOP_BAR,callback:t=>{e.$set(e.OPTIONS,"HIDE_TOP_BAR",t)},expression:"OPTIONS.HIDE_TOP_BAR"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_hide_login_part"),dense:"","hide-details":""},on:{change:e.reloadPage},model:{value:e.OPTIONS.HIDE_LOGIN_PART,callback:t=>{e.$set(e.OPTIONS,"HIDE_LOGIN_PART",t)},expression:"OPTIONS.HIDE_LOGIN_PART"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_root_groups_only"),dense:"","hide-details":""},on:{change:e.redrawAll},model:{value:e.OPTIONS.ROOT_GROUPS_ONLY,callback:t=>{e.$set(e.OPTIONS,"ROOT_GROUPS_ONLY",t)},expression:"OPTIONS.ROOT_GROUPS_ONLY"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_hide_add_group"),dense:"","hide-details":""},on:{change:e.redrawAll},model:{value:e.OPTIONS.HIDE_ADD_GROUP,callback:t=>{e.$set(e.OPTIONS,"HIDE_ADD_GROUP",t)},expression:"OPTIONS.HIDE_ADD_GROUP"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_show_dials_count"),dense:"","hide-details":""},on:{change:e.redrawAll},model:{value:e.OPTIONS.SHOW_DIALS_COUNT,callback:t=>{e.$set(e.OPTIONS,"SHOW_DIALS_COUNT",t)},expression:"OPTIONS.SHOW_DIALS_COUNT"}})],1)],1),e._v(" "),t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"label_actions",expression:"'label_actions'"}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("v-checkbox",{attrs:{label:e.tr("o_remember_group"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.REMEMBER_GROUP,callback:t=>{e.$set(e.OPTIONS,"REMEMBER_GROUP",t)},expression:"OPTIONS.REMEMBER_GROUP"}}),e._v(" "),t("v-checkbox",{staticClass:"ml-5",attrs:{label:e.tr("o_remember_group_runtime"),dense:"","hide-details":"",disabled:!e.OPTIONS.REMEMBER_GROUP},on:{change:e.save},model:{value:e.OPTIONS.REMEMBER_GROUP_RUNTIME,callback:t=>{e.$set(e.OPTIONS,"REMEMBER_GROUP_RUNTIME",t)},expression:"OPTIONS.REMEMBER_GROUP_RUNTIME"}}),e._v(" "),t("v-checkbox",{directives:[{name:"tr",rawName:"v-tr:title",value:"o_scroll_groups_title",expression:"'o_scroll_groups_title'",arg:"title"}],attrs:{label:e.tr("o_scroll_groups"),dense:"","hide-details":""},on:{change:e.reloadPage},model:{value:e.OPTIONS.SCROLL_GROUPS,callback:t=>{e.$set(e.OPTIONS,"SCROLL_GROUPS",t)},expression:"OPTIONS.SCROLL_GROUPS"}}),e._v(" "),t("v-checkbox",{staticClass:"ml-5",attrs:{label:e.tr("o_scroll_groups_reverse"),dense:"","hide-details":"",disabled:!e.OPTIONS.SCROLL_GROUPS},on:{change:e.save},model:{value:e.OPTIONS.SCROLL_GROUPS_REVERSE,callback:t=>{e.$set(e.OPTIONS,"SCROLL_GROUPS_REVERSE",t)},expression:"OPTIONS.SCROLL_GROUPS_REVERSE"}}),e._v(" "),t("v-checkbox",{staticClass:"ml-5",attrs:{label:e.tr("o_scroll_groups_circle"),dense:"","hide-details":"",disabled:!e.OPTIONS.SCROLL_GROUPS},on:{change:e.save},model:{value:e.OPTIONS.SCROLL_GROUPS_CIRCLE,callback:t=>{e.$set(e.OPTIONS,"SCROLL_GROUPS_CIRCLE",t)},expression:"OPTIONS.SCROLL_GROUPS_CIRCLE"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_disable_auto_show_groups"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.DISABLE_AUTO_SHOW_GROUPS,callback:t=>{e.$set(e.OPTIONS,"DISABLE_AUTO_SHOW_GROUPS",t)},expression:"OPTIONS.DISABLE_AUTO_SHOW_GROUPS"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_activate_group_hover"),dense:"","hide-details":""},on:{change:e.reloadPage},model:{value:e.OPTIONS.ACTIVATE_GROUP_HOVER,callback:t=>{e.$set(e.OPTIONS,"ACTIVATE_GROUP_HOVER",t)},expression:"OPTIONS.ACTIVATE_GROUP_HOVER"}}),e._v(" "),t("slider",{staticClass:"ml-5",attrs:{"default-value":25,min:0,max:300,units:"o_milliseconds_short","units-title":"o_milliseconds",label:"label_delay",disabled:!e.OPTIONS.ACTIVATE_GROUP_HOVER},on:{change:e.save},model:{value:e.OPTIONS.ACTIVATE_GROUP_HOVER_DELAY,callback:t=>{e.$set(e.OPTIONS,"ACTIVATE_GROUP_HOVER_DELAY",t)},expression:"OPTIONS.ACTIVATE_GROUP_HOVER_DELAY"}})],1)],1)],1)],1)};ct._withStripped=!0;function dt(){return B.lw.GROUPS_SIZE+2*(B.lw.GROUP_PADDING+2)}const ut=r.default.extend({props:{l:Number},name:"options_groups",components:{slider:tt.A},data:()=>({DEFAULT_GROUPS_PADDING:pe.b3,DEFAULT_GROUPS_HEIGHT:pe.$K,DEFAULT_GROUP_FONT_SIZE:pe.O5,groupsHeightRows:Math.round(B.lw.GROUPS_HEIGHT/dt())}),watch:{groupsHeightRows(){}},async created(){},computed:{OPTIONS:()=>B.lw},methods:{tr:i.tr,tro:Y.e,save(){this.$emit("save"),this.$forceUpdate()},delayedSave(){this.$emit("delayedSave"),this.$forceUpdate()},redrawAll(){this.$emit("redrawAll"),this.$forceUpdate()},reloadPage(){this.$emit("reloadPage"),this.$forceUpdate()},recomputeHeight(){this.OPTIONS.GROUPS_HEIGHT=this.groupsHeightRows*dt(),this.redrawAll()}}});const _t=(0,u.A)(ut,ct,[],!1,null,"13818f80",null).exports;var pt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr.cc",value:"o_background_pic",expression:"'o_background_pic'",modifiers:{cc:!0}}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("v-radio-group",{staticClass:"mt-0",attrs:{value:e.radioOptions[e.selectedRadioIndex],mandatory:!0,"hide-details":""}},[t("v-expansion-panels",{on:{change:e.save},model:{value:e.selectedRadioIndex,callback:t=>{e.selectedRadioIndex=t},expression:"selectedRadioIndex"}},[t("v-expansion-panel",[t("v-expansion-panel-header",[t("v-radio",{attrs:{label:e.trType(e.GroupBackgroundType.NONE),value:e.GlobalBackground.NONE}})],1)],1),e._v(" "),t("v-expansion-panel",[t("v-expansion-panel-header",[t("v-radio",{attrs:{label:e.tr("o_picture_bing_of_the_day"),value:e.GlobalBackground.BING},on:{change:e.reloadPage}})],1),e._v(" "),t("v-expansion-panel-content",[t("a",{attrs:{href:"https://www.bing.com",target:"_blank"}},[e._v(e._s(e.tro("o_picture_bing_of_the_day_note",{capitalize:!0,substitutions:'"www.bing.com"'})))]),e._v(" "),t("div",{directives:[{name:"tr",rawName:"v-tr",value:"o_picture_bing_of_the_day_help",expression:"'o_picture_bing_of_the_day_help'"}],staticClass:"my-4 text--secondary"}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_bing_hide_dials"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.BING_HIDE_DIALS,callback:t=>{e.$set(e.OPTIONS,"BING_HIDE_DIALS",t)},expression:"OPTIONS.BING_HIDE_DIALS"}})],1)],1),e._v(" "),t("v-expansion-panel",[t("v-expansion-panel-header",[t("v-radio",{attrs:{label:e.trType(e.GroupBackgroundType.COLOR),value:e.GlobalBackground.COLOR}})],1),e._v(" "),t("v-expansion-panel-content",[t("color_picker_input",{staticStyle:{"max-width":"300px"},attrs:{"default-value":"#005B9CFF"},on:{input:e.delayedSave},model:{value:e.OPTIONS.BACKGROUND_COLOR,callback:t=>{e.$set(e.OPTIONS,"BACKGROUND_COLOR",t)},expression:"OPTIONS.BACKGROUND_COLOR"}})],1)],1),e._v(" "),t("v-expansion-panel",[t("v-expansion-panel-header",[t("v-radio",{attrs:{label:e.trType(e.GroupBackgroundType.GRADIENT),value:e.GlobalBackground.GRADIENT}})],1),e._v(" "),t("v-expansion-panel-content",[t("v-row",[t("v-col",{attrs:{cols:"12",sm:"6"}},[t("legend",{directives:[{name:"tr",rawName:"v-tr",value:"o_gradient_type",expression:"'o_gradient_type'"}]}),e._v(" "),t("v-radio-group",{staticClass:"mt-0",attrs:{dense:""},on:{change:e.save},model:{value:e.gradient.type,callback:t=>{e.$set(e.gradient,"type",t)},expression:"gradient.type"}},e._l(e.gradientTypes,(e=>t("v-radio",{key:e.value,attrs:{value:e.value,label:e.text}}))),1)],1),e._v(" "),t("v-col",{attrs:{cols:"12",sm:"6"}},[t("div",{staticClass:"flex"},[t("legend",{directives:[{name:"tr",rawName:"v-tr.c",value:"background_type_1",expression:"'background_type_1'",modifiers:{c:!0}}]}),e._v(" "),t("v-btn",{staticClass:"ml-auto mb-1",attrs:{color:"secondary",fab:"",small:"",tile:""},on:{click:e.addGradientColor}},[t("v-icon",{staticStyle:{opacity:"1"}},[e._v("fa-plus")])],1)],1),e._v(" "),e.updateColorsHack?t("draggable",e._b({attrs:{handle:"div",tag:"div"},on:{start:t=>{e.drag=!0},end:t=>{e.drag=!1},update:e.updateColors},model:{value:e.gradient.colors,callback:t=>{e.$set(e.gradient,"colors",t)},expression:"gradient.colors"}},"draggable",e.dragOptions,!1),e._l(e.gradient.colors,((a,s)=>t("div",{key:s,staticClass:"flex mt-1"},[t("color_picker_input",{staticClass:"mr-1",staticStyle:{"max-width":"300px"},attrs:{"default-value":"#0277BDFF"},on:{input:e.delayedSave},model:{value:e.gradient.colors[s],callback:t=>{e.$set(e.gradient.colors,s,t)},expression:"gradient.colors[index]"}}),e._v(" "),t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:"color_remove_color",expression:"'color_remove_color'",arg:"title"}],attrs:{fab:"",tile:"",small:"",disabled:e.gradient.colors.length<=2},on:{click:t=>e.removeGradientColor(s)}},[t("v-icon",{staticStyle:{opacity:"1"}},[e._v("fa-minus")])],1)],1))),0):e._e()],1),e._v(" "),t("v-col",{staticClass:"pt-0",attrs:{cols:"12",sm:"12"}},[e.gradient.type===e.GradientType.linear?t("slider",{attrs:{"default-value":0,min:0,max:360,units:"°",label:"gradient_direction"},on:{change:e.save},model:{value:e.gradient.degree,callback:t=>{e.$set(e.gradient,"degree",t)},expression:"gradient.degree"}}):e._e()],1)],1)],1)],1),e._v(" "),t("v-expansion-panel",[t("v-expansion-panel-header",[t("v-radio",{attrs:{label:e.trType(e.GroupBackgroundType.FILE),value:e.GlobalBackground.FILE}})],1),e._v(" "),t("v-expansion-panel-content",[t("v-file-input",{attrs:{label:e.tr("file_load_label"),accept:"image/*","show-size":"",outlined:"",dense:""},on:{click:e.onFileLoadInputClick,change:e.imageLoaded}}),e._v(" "),t("label",{directives:[{name:"tr",rawName:"v-tr",value:"o_big_picture_warning_title",expression:"'o_big_picture_warning_title'"}],staticClass:"text--secondary"})],1)],1),e._v(" "),t("v-expansion-panel",[t("v-expansion-panel-header",[t("v-radio",{attrs:{label:e.trType(e.GroupBackgroundType.URL),value:e.GlobalBackground.URL}})],1),e._v(" "),t("v-expansion-panel-content",[t("v-text-field",{attrs:{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",autofocus:"",type:"url",dense:"",outlined:""},on:{change:e.save},model:{value:e.OPTIONS.BACKGROUND_URL,callback:t=>{e.$set(e.OPTIONS,"BACKGROUND_URL",t)},expression:"OPTIONS.BACKGROUND_URL"}})],1)],1),e._v(" "),t("v-expansion-panel",[t("v-expansion-panel-header",[t("v-radio",{attrs:{label:e.tro("o_picture_is_web_page",{capitalize:!0}),value:e.GlobalBackground.PAGE}})],1),e._v(" "),t("v-expansion-panel-content",[t("v-text-field",{attrs:{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",autofocus:"",type:"url",dense:"",outlined:""},on:{change:e.save},model:{value:e.OPTIONS.BACKGROUND_PAGE_URL,callback:t=>{e.$set(e.OPTIONS,"BACKGROUND_PAGE_URL",t)},expression:"OPTIONS.BACKGROUND_PAGE_URL"}})],1)],1)],1)],1)],1)],1)],1)],1)};pt._withStripped=!0;var ht=a(432),mt=a.n(ht),vt=a(8698),gt=a(5750),Ot=a(984);const ft="background:",wt=(0,vt.U)(100,z.lQ,{maximumDelay:700}),bt=[K.cG.NONE,K.cG.BING,K.cG.COLOR,K.cG.GRADIENT,K.cG.FILE,K.cG.URL,K.cG.PAGE],It=r.default.extend({props:{l:Number,openInNewTab:{type:Function,required:!0}},name:"options_background",components:{slider:tt.A,draggable:mt(),color_picker_input:_e.A},data:()=>({radioOptions:bt,selectedRadioIndex:bt.indexOf(B.lw.BACKGROUND||K.cG.NONE),GlobalBackground:K.cG,GroupBackgroundType:K.sf,GradientType:K.hq,gradientTypes:(0,F.w5)(K.hq).map((e=>({value:e,text:(0,i.tr)(`gradient_type_${e}`)}))),gradient:(0,gt.w)((B.lw.GRADIENT_CACHE||"").slice(11)),drag:!1,updateColorsHack:!0,isInPopup:$.U,env:l._}),watch:{async selectedRadioIndex(e){B.lw.BACKGROUND=this.radioOptions[e]}},async created(){},computed:{OPTIONS:()=>B.lw,dragOptions:()=>({animation:200,group:"description",ghostClass:"drag_and_drop_ghost"})},methods:{tr:i.tr,tro:Y.e,trType:e=>(0,i.tr)(`background_type_${e}`),async save(){B.lw.GRADIENT_CACHE=ft+(0,gt.n)(this.gradient),await(0,z.BK)(50),this.$emit("save"),this.$forceUpdate()},reloadPage(){this.$emit("reloadPage"),this.$forceUpdate()},delayedSave(){wt((()=>this.save()))},addGradientColor(){const e=(0,Ot.S)((0,O.R)(360),100,50);this.gradient.colors.push(e),this.updateColors()},removeGradientColor(e){this.gradient.colors.splice(e,1),this.updateColors()},updateColors(){(0,Ne.$)((e=>this.updateColorsHack=!e),(()=>this.$nextTick())),this.save()},async onFileLoadInputClick(e){l._.$IS_FIREFOX&&$.U&&(e.preventDefault(),this.openInNewTab())},async imageLoaded(e){B.lw.BACKGROUND_DATA=await(0,be.G)(e),await this.save()}}});const yt=(0,u.A)(It,pt,[],!1,null,"74bdeba8",null).exports;var Tt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-row",{key:e.updateView},[t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr.cc",value:"o_context_menu",expression:"'o_context_menu'",modifiers:{cc:!0}}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("v-checkbox",{attrs:{"true-value":!1,"false-value":!0,label:e.quote(e.tr("add_page")),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.DISABLE_CONTEXT_MENU_ADD,callback:t=>{e.$set(e.OPTIONS,"DISABLE_CONTEXT_MENU_ADD",t)},expression:"OPTIONS.DISABLE_CONTEXT_MENU_ADD"}}),e._v(" "),e.env.$IS_FIREFOX?t("v-checkbox",{attrs:{"true-value":!1,"false-value":!0,label:e.quote(e.tr("add_dial")),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.DISABLE_CONTEXT_TAB_ADD,callback:t=>{e.$set(e.OPTIONS,"DISABLE_CONTEXT_TAB_ADD",t)},expression:"OPTIONS.DISABLE_CONTEXT_TAB_ADD"}}):e._e(),e._v(" "),t("v-checkbox",{attrs:{"true-value":!1,"false-value":!0,label:e.quote(e.tr("add_link")),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.DISABLE_CONTEXT_MENU_LINK_ADD,callback:t=>{e.$set(e.OPTIONS,"DISABLE_CONTEXT_MENU_LINK_ADD",t)},expression:"OPTIONS.DISABLE_CONTEXT_MENU_LINK_ADD"}}),e._v(" "),t("v-checkbox",{attrs:{"true-value":!1,"false-value":!0,label:e.quote(e.tr("use_image_as_thumbnail")),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.DISABLE_CONTEXT_MENU_IMAGE,callback:t=>{e.$set(e.OPTIONS,"DISABLE_CONTEXT_MENU_IMAGE",t)},expression:"OPTIONS.DISABLE_CONTEXT_MENU_IMAGE"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.quote(e.tr("o_context_menu_show_groups")),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.CONTEXT_MENU_SHOW_GROUPS,callback:t=>{e.$set(e.OPTIONS,"CONTEXT_MENU_SHOW_GROUPS",t)},expression:"OPTIONS.CONTEXT_MENU_SHOW_GROUPS"}})],1)],1),e._v(" "),t("v-card",[t("v-card-title",{staticClass:"pb-0 pt-2 flex flex-nowrap text-break"},[t("span",[e._v(e._s(e.tro("o_context_menu_dials_page",{column:!1}))+" - "+e._s(e.tro("o_dials",{column:!1})))]),e._v(" "),t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:"label_reset_all",expression:"'label_reset_all'",arg:"title"}],staticClass:"ml-auto text--secondary",attrs:{icon:"",right:""},on:{click:t=>e.resetMenus(e.OPTIONS.DISABLED_DIALS_MENU)}},[t("v-icon",{attrs:{size:"24"}},[e._v("fa-rotate-left")])],1)],1),e._v(" "),t("v-card-text",[t("disabled_context_menu_items",{attrs:{menus:e.CONTEXT_MENU_DIAL},on:{input:e.save},model:{value:e.OPTIONS.DISABLED_DIALS_MENU,callback:t=>{e.$set(e.OPTIONS,"DISABLED_DIALS_MENU",t)},expression:"OPTIONS.DISABLED_DIALS_MENU"}})],1)],1),e._v(" "),t("v-card",[t("v-card-title",{staticClass:"pb-0 pt-2 flex flex-nowrap text-break"},[t("span",[e._v(e._s(e.tro("o_context_menu_dials_page",{column:!1}))+" - "+e._s(e.tro("o_groups",{column:!1})))]),e._v(" "),t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:"label_reset_all",expression:"'label_reset_all'",arg:"title"}],staticClass:"ml-auto text--secondary",attrs:{icon:"",right:""},on:{click:t=>e.resetMenus(e.OPTIONS.DISABLED_GROUPS_MENU)}},[t("v-icon",{attrs:{size:"24"}},[e._v("fa-rotate-left")])],1)],1),e._v(" "),t("v-card-text",[t("disabled_context_menu_items",{attrs:{menus:e.CONTEXT_MENU_GROUP},on:{input:e.save},model:{value:e.OPTIONS.DISABLED_GROUPS_MENU,callback:t=>{e.$set(e.OPTIONS,"DISABLED_GROUPS_MENU",t)},expression:"OPTIONS.DISABLED_GROUPS_MENU"}})],1)],1)],1)],1)};Tt._withStripped=!0;var St=a(2663),Et=a(2630),At=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"disabled_cm"},[t("tree_check_list",{staticStyle:{"max-height":"100%",width:"max-content",padding:"4px 0"},on:{input:t=>{e.$emit("input",e.getUncheckedItems())}},model:{value:e.treeData,callback:t=>{e.treeData=t},expression:"treeData"}})],1)};At._withStripped=!0;var Dt=a(3986),Nt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"tree_check_list flex-column"},[0===e.value.length?t("div",{directives:[{name:"tr",rawName:"v-tr",value:"label_no_data",expression:"'label_no_data'"}],staticClass:"tree_check_list_no_results"}):e._e(),e._v(" "),t("tree_check_list_branch",{on:{input:t=>e.$emit("input",t)},model:{value:e.value,callback:t=>{e.value=t},expression:"value"}})],1)};Nt._withStripped=!0;var xt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"tree_check_list_branch flex-column"},e._l(e.value,(a=>t("div",{staticClass:"tree_check_list_item flex-column"},[t("div",{staticClass:"flex"},[t("label",{staticClass:"flex flex-space-between tree_check_list_leaf"},[t("input",{attrs:{type:"checkbox"},domProps:{checked:!!a.checked!=!!a.isInverted},on:{input:t=>e.checkChange(a)}}),e._v(" "),a.icon||a.iconStyle?t("img",{style:a.iconStyle,attrs:{src:a.icon,alt:""}}):e._e(),e._v(" "),t("span",[e._v(e._s(a.name))])]),e._v(" "),a.smallName?t("a",{staticClass:"tree_check_list_small_name",attrs:{href:a.smallName.url,target:"_blank"}},[e._v(e._s(a.smallName.name))]):e._e()]),e._v(" "),t("div",{staticClass:"tree_check_list_nested_branch"},[a.children&&a.children.length>0?t("tree_check_list_branch",{attrs:{__internal_parents:[...e.__internal_parents||[],a]},model:{value:a.children,callback:t=>{e.$set(a,"children",t)},expression:"item.children"}}):e._e()],1)]))),0)};xt._withStripped=!0;const Pt=r.default.extend({name:"tree_check_list_branch",props:{value:{type:Array,required:!0},__internal_parents:Array},data:()=>({}),created(){},computed:{},methods:{checkChange(e){e.checked=!e.checked;const t=e.isInverted?!e.checked:e.checked;e.children&&(e.children=(0,Dt.X$)(e.children,"children",{map:e=>(e.checked=t,e)})),t&&this.__internal_parents?.forEach((e=>e.checked=t)),this.$emit("input",this.value)}}});const kt=(0,u.A)(Pt,xt,[],!1,null,"77954880",null).exports,Rt=r.default.extend({name:"tree_check_list",components:{tree_check_list_branch:kt},props:{value:{type:Array,required:!0}},data:()=>({}),created(){},methods:{}});const Lt=(0,u.A)(Rt,Nt,[],!1,null,"2c2df9c4",null).exports;var Ct=a(4643),Ut=a(2689);const Bt=r.default.extend({name:"disabled_context_menu_items",components:{tree_check_list:Lt},props:{value:{type:Array,required:!0},menus:{type:Array,required:!0}},data:()=>({treeData:Array()}),async created(){await this.updateTree()},methods:{async updateTree(){const e=this.value||[],t=await(0,Ct.n)();this.treeData=await(0,Dt.xZ)(this.menus,"children",{map:async(a,s)=>{const i=t[a.action]||{nameFix:"----------------------------------------------------------",icon:"",fn:z.lQ},r={data:{},event:new Event(""),options:a.options||{}};return{children:s,isInverted:!!a.defaultOff,checked:!e.includes(a.action),icon:i.icon?(0,E.Z)(i.icon):T.RO,iconStyle:i.iconStyle,name:await(0,Ut.u)(i,r),value:a.action}}})},getUncheckedItems(){const e=Array();return(0,Dt.X$)(this.treeData,"children",{map:t=>{t.checked||e.push(t.value)}}),e}}});const $t=(0,u.A)(Bt,At,[],!1,null,"0c0b67dc",null).exports,Gt=r.default.extend({props:{l:Number},name:"options_context_menu",components:{Disabled_context_menu_items:$t},data:()=>({env:l._,CONTEXT_MENU_DIAL:St.X,CONTEXT_MENU_GROUP:Et.G,updateView:0}),async created(){},computed:{OPTIONS:()=>B.lw},methods:{quote:k.hD,tr:i.tr,tro:Y.e,save(){this.$emit("save"),this.$forceUpdate()},delayedSave(){this.$emit("delayedSave"),this.$forceUpdate()},async resetMenus(e){e.length=0,await this.save(),this.updateView++}}});const Mt=(0,u.A)(Gt,Tt,[],!1,null,"b2b9f2ea",null).exports;var Ht=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"o_tab_thumbnails",expression:"'o_tab_thumbnails'"}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("v-checkbox",{attrs:{label:e.tr("o_thumbnails_sync"),hint:e.tr("o_pro_thumbnail_sync"),"persistent-hint":"",dense:""},on:{change:t=>{e.save(),t&&e.syncThumbnails()}},model:{value:e.OPTIONS.PRO_THUMBNAIL_SYNC,callback:t=>{e.$set(e.OPTIONS,"PRO_THUMBNAIL_SYNC",t)},expression:"OPTIONS.PRO_THUMBNAIL_SYNC"}}),e._v(" "),t("pro_label",[t("v-checkbox",{staticClass:"ml-5",attrs:{label:e.tr("o_thumb_sync_auto_reload"),dense:"",disabled:!e.OPTIONS.PRO_THUMBNAIL_SYNC},on:{change:t=>{e.save(),t&&e.syncThumbnails()}},model:{value:e.OPTIONS.SYNC_AUTO_RELOAD,callback:t=>{e.$set(e.OPTIONS,"SYNC_AUTO_RELOAD",t)},expression:"OPTIONS.SYNC_AUTO_RELOAD"}})],1),e._v(" "),t("v-select",{staticClass:"mt-5",attrs:{items:e.reloadMethods,label:e.tr("refresh_method"),dense:"","hide-details":"",outlined:""},on:{change:e.save},model:{value:e.OPTIONS.DEFAULT_RELOAD_METHOD,callback:t=>{e.$set(e.OPTIONS,"DEFAULT_RELOAD_METHOD",t)},expression:"OPTIONS.DEFAULT_RELOAD_METHOD"}})],1)],1),e._v(" "),t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"o_ar_settings",expression:"'o_ar_settings'"}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("v-checkbox",{attrs:{label:e.tr("o_ar_disable_in_browser"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.AR_DISABLE_THIS_DEVICE,callback:t=>{e.$set(e.OPTIONS,"AR_DISABLE_THIS_DEVICE",t)},expression:"OPTIONS.AR_DISABLE_THIS_DEVICE"}})],1)],1),e._v(" "),t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"automatic_thumbnail_lookup",expression:"'automatic_thumbnail_lookup'"}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("v-textarea",{staticClass:"mt-3",attrs:{label:e.tr("automatic_thumbnail_lookup_pages"),hint:e.tr("automatic_thumbnail_lookup_pages_hint"),rows:3,outlined:"",dense:"","persistent-hint":""},on:{change:e.normalizePages},model:{value:e.OPTIONS.AUTO_THUMBNAIL_PAGES,callback:t=>{e.$set(e.OPTIONS,"AUTO_THUMBNAIL_PAGES",t)},expression:"OPTIONS.AUTO_THUMBNAIL_PAGES"}}),e._v(" "),t("v-select",{staticClass:"mt-3",attrs:{items:e.thumbnailPositions,label:e.tr("ed_position"),dense:"","hide-details":"",outlined:""},on:{change:e.save},model:{value:e.OPTIONS.AUTO_THUMBNAIL_POSITION,callback:t=>{e.$set(e.OPTIONS,"AUTO_THUMBNAIL_POSITION",t)},expression:"OPTIONS.AUTO_THUMBNAIL_POSITION"}})],1)],1),e._v(" "),t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"o_ar_screen_resolution",expression:"'o_ar_screen_resolution'"}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("v-radio-group",{attrs:{column:""},on:{change:e.enableCustomResolution},model:{value:e.OPTIONS.AR_SCREEN_RESOLUTION,callback:t=>{e.$set(e.OPTIONS,"AR_SCREEN_RESOLUTION",t)},expression:"OPTIONS.AR_SCREEN_RESOLUTION"}},[t("v-radio",{attrs:{label:e.tr("o_ar_auto_radio"),value:e.AutoReloadResolutionType.AUTO}}),e._v(" "),t("v-radio",{attrs:{value:e.AutoReloadResolutionType.CUSTOM},scopedSlots:e._u([{key:"label",fn:()=>[t("div",{staticClass:"flex"},[t("label",[e._v(e._s(e.tr("o_ar_custom_radio")))]),e._v(" "),t("v-text-field",{staticClass:"mx-2",attrs:{label:e.tr("screen_width"),outlined:"","hide-details":"",dense:"",disabled:e.OPTIONS.AR_SCREEN_RESOLUTION!==e.AutoReloadResolutionType.CUSTOM},on:{change:e.save},model:{value:e.OPTIONS.AR_SCREEN_WIDTH,callback:t=>{e.$set(e.OPTIONS,"AR_SCREEN_WIDTH",t)},expression:"OPTIONS.AR_SCREEN_WIDTH"}}),e._v(" "),t("label",[e._v("x")]),e._v(" "),t("v-text-field",{staticClass:"mx-2",attrs:{label:e.tr("screen_height"),outlined:"","hide-details":"",dense:"",disabled:e.OPTIONS.AR_SCREEN_RESOLUTION!==e.AutoReloadResolutionType.CUSTOM},on:{change:e.save},model:{value:e.OPTIONS.AR_SCREEN_HEIGHT,callback:t=>{e.$set(e.OPTIONS,"AR_SCREEN_HEIGHT",t)},expression:"OPTIONS.AR_SCREEN_HEIGHT"}})],1)],proxy:!0}])})],1),e._v(" "),t("label",[e._v(e._s(e.tr("o_ar_screen_resolution_help")))])],1)],1),e._v(" "),t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"o_vr_screen_resolution",expression:"'o_vr_screen_resolution'"}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("slider",{attrs:{"default-value":1280,min:640,max:3840,step:128,units:"pixels_short","units-title":"o_pixels",label:"o_vr_default_width"},on:{change:e.save},model:{value:e.OPTIONS.VR_DEFAULT_WIDTH,callback:t=>{e.$set(e.OPTIONS,"VR_DEFAULT_WIDTH",t)},expression:"OPTIONS.VR_DEFAULT_WIDTH"}})],1)],1),e._v(" "),t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"o_load_timeout",expression:"'o_load_timeout'"}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("slider",{staticClass:"mb-2",attrs:{"default-value":10,min:1,max:60,units:"o_seconds_short","units-title":"o_seconds",label:"o_load_timeout"},on:{change:e.save},model:{value:e.OPTIONS.MAX_FRAME_RELOAD_TIME,callback:t=>{e.$set(e.OPTIONS,"MAX_FRAME_RELOAD_TIME",t)},expression:"OPTIONS.MAX_FRAME_RELOAD_TIME"}}),e._v(" "),t("slider",{staticClass:"mb-2",attrs:{"default-value":5,min:1,max:60,units:"o_seconds_short","units-title":"o_seconds",label:"o_context_menu_plus_delay"},on:{change:e.save},model:{value:e.OPTIONS.RELOAD_PLUS_DELAY,callback:t=>{e.$set(e.OPTIONS,"RELOAD_PLUS_DELAY",t)},expression:"OPTIONS.RELOAD_PLUS_DELAY"}}),e._v(" "),t("slider",{staticClass:"mb-2",attrs:{"default-value":100,min:100,max:3e3,units:"o_milliseconds_short","units-title":"o_milliseconds",label:"o_normal_reload_fixed_delay"},on:{change:e.save},model:{value:e.OPTIONS.NORMAL_RELOAD_DELAY,callback:t=>{e.$set(e.OPTIONS,"NORMAL_RELOAD_DELAY",t)},expression:"OPTIONS.NORMAL_RELOAD_DELAY"}}),e._v(" "),t("slider",{staticClass:"mb-2",attrs:{"default-value":800,min:100,max:3e3,units:"o_milliseconds_short","units-title":"o_milliseconds",label:"o_reload_visit_fixed_delay"},on:{change:e.save},model:{value:e.OPTIONS.BY_VISIT_DELAY,callback:t=>{e.$set(e.OPTIONS,"BY_VISIT_DELAY",t)},expression:"OPTIONS.BY_VISIT_DELAY"}}),e._v(" "),t("label",[e._v(e._s(e.tr("o_thumbnails_delays_help")))])],1)],1),e._v(" "),t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"o_img_quality_reload_visit",expression:"'o_img_quality_reload_visit'"}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("v-checkbox",{attrs:{label:e.tr("o_visit_jpeg_high_resolution"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.VISIT_JPEG_HIGH_RESOLUTION,callback:t=>{e.$set(e.OPTIONS,"VISIT_JPEG_HIGH_RESOLUTION",t)},expression:"OPTIONS.VISIT_JPEG_HIGH_RESOLUTION"}})],1)],1)],1)],1)};Ht._withStripped=!0;var Ft=a(6663),Kt=a(5431);const Wt=r.default.extend({props:{l:Number},name:"options_thumbnails",components:{Pro_label:Kt.A,slider:tt.A},data:()=>({reloadMethods:(0,F._P)(Ft.P).map((([e,t])=>({text:{default:(0,Y.e)("label_default",{column:!1}),background:(0,i.tr)("cm_refresh_dial_background"),visit:(0,i.tr)("cm_refresh_visit"),hiddenVisit:(0,i.tr)("cm_refresh_dial_background")+" 2"}[e],value:t}))),thumbnailPositions:(0,F.w5)(K.X).map((e=>({value:e,text:(0,i.tr)(`ed_thumbnail_position_${e}`)})))}),async created(){},computed:{AutoReloadResolutionType:()=>K.d0,OPTIONS:()=>B.lw},methods:{tr:i.tr,tro:Y.e,save(){this.$emit("save"),this.$forceUpdate()},delayedSave(){this.$emit("delayedSave"),this.$forceUpdate()},enableCustomResolution(e){e===K.d0.CUSTOM&&(this.OPTIONS.AR_SCREEN_WIDTH=window.screen.availWidth,this.OPTIONS.AR_SCREEN_HEIGHT=window.screen.availHeight),this.delayedSave()},normalizePages(e){this.OPTIONS.AUTO_THUMBNAIL_PAGES=e.split("\n").map((e=>e.trim())).filter((e=>e)).join("\n"),this.save()},syncThumbnails(){(0,x._z)({type:"synchronize_thumbnails"})}}});const Vt=(0,u.A)(Wt,Ht,[],!1,null,"32ce440b",null).exports;var zt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:e.hasCtrlAddon?"o_tab_shot_keys":"o_short_keys",expression:"hasCtrlAddon ? 'o_tab_shot_keys' : 'o_short_keys'"}],staticClass:"pb-0 pt-2"}),e._v(" "),e.hasCtrlAddon?e._e():t("v-card-subtitle",{staticClass:"mt-1"},[t("a",{attrs:{href:"https://addons.mozilla.org/addon/ctrl_groupspeeddial/",target:"_blank"}},[e._v("Ctrl + Number for Group Speed Dial")])]),e._v(" "),t("v-card-text",[t("v-checkbox",{attrs:{label:e.tr("o_key_new_tab"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.KEY_NEW_TAB,callback:t=>{e.$set(e.OPTIONS,"KEY_NEW_TAB",t)},expression:"OPTIONS.KEY_NEW_TAB"}}),e._v(" "),t("v-checkbox",{staticClass:"ml-5",attrs:{label:e.tr("o_key_next_to_current"),dense:"","hide-details":"",disabled:!e.OPTIONS.KEY_NEW_TAB},on:{change:e.save},model:{value:e.OPTIONS.KEY_NEXT_TO_CURRENT,callback:t=>{e.$set(e.OPTIONS,"KEY_NEXT_TO_CURRENT",t)},expression:"OPTIONS.KEY_NEXT_TO_CURRENT"}}),e._v(" "),t("v-checkbox",{directives:[{name:"tr",rawName:"v-tr:title",value:"o_key_extended_mode_title",expression:"'o_key_extended_mode_title'",arg:"title"}],attrs:{label:e.tr("o_key_extended_mode"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.KEY_EXTENDED_MODE,callback:t=>{e.$set(e.OPTIONS,"KEY_EXTENDED_MODE",t)},expression:"OPTIONS.KEY_EXTENDED_MODE"}}),e._v(" "),t("v-checkbox",{directives:[{name:"tr",rawName:"v-tr:title",value:"o_dial_only_current_group_title",expression:"'o_dial_only_current_group_title'",arg:"title"}],attrs:{label:e.tr("o_dial_only_current_group"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.DIAL_ONLY_CURRENT_GROUP,callback:t=>{e.$set(e.OPTIONS,"DIAL_ONLY_CURRENT_GROUP",t)},expression:"OPTIONS.DIAL_ONLY_CURRENT_GROUP"}}),e._v(" "),t("slider",{staticClass:"my-5",attrs:{"default-value":950,min:1,max:2e3,units:"o_milliseconds_short","units-title":"o_milliseconds",label:"o_keys_delay"},on:{change:e.save},model:{value:e.OPTIONS.KEY_DELAY,callback:t=>{e.$set(e.OPTIONS,"KEY_DELAY",t)},expression:"OPTIONS.KEY_DELAY"}}),e._v(" "),t("v-select",{directives:[{name:"tr",rawName:"v-tr:title",value:"o_key_to_group_dial_title",expression:"'o_key_to_group_dial_title'",arg:"title"}],attrs:{items:["","ctrl","alt","shift"].map((t=>({value:t,text:t?e.tr(`key_name_${t}`):""}))),label:e.tr("o_key_to_group_dial"),dense:"","hide-details":"",outlined:""},on:{change:e.save},model:{value:e.OPTIONS.KEY_TO_GROUP_DIAL,callback:t=>{e.$set(e.OPTIONS,"KEY_TO_GROUP_DIAL",t)},expression:"OPTIONS.KEY_TO_GROUP_DIAL"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_key_force_page_focus"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.KEY_FORCE_PAGE_FOCUS,callback:t=>{e.$set(e.OPTIONS,"KEY_FORCE_PAGE_FOCUS",t)},expression:"OPTIONS.KEY_FORCE_PAGE_FOCUS"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_key_disable_alt"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.KEY_DISABLE_ALT,callback:t=>{e.$set(e.OPTIONS,"KEY_DISABLE_ALT",t)},expression:"OPTIONS.KEY_DISABLE_ALT"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_key_disable_zero"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.KEY_DISABLE_ZERO,callback:t=>{e.$set(e.OPTIONS,"KEY_DISABLE_ZERO",t)},expression:"OPTIONS.KEY_DISABLE_ZERO"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_key_disable_ctrl"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.KEY_DISABLE_CTRL,callback:t=>{e.$set(e.OPTIONS,"KEY_DISABLE_CTRL",t)},expression:"OPTIONS.KEY_DISABLE_CTRL"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_key_disable_shift"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.KEY_DISABLE_SHIFT,callback:t=>{e.$set(e.OPTIONS,"KEY_DISABLE_SHIFT",t)},expression:"OPTIONS.KEY_DISABLE_SHIFT"}}),e._v(" "),t("v-checkbox",{attrs:{label:e.tr("o_key_disable_f4"),dense:"","hide-details":""},on:{change:e.save},model:{value:e.OPTIONS.KEY_DISABLE_F4,callback:t=>{e.$set(e.OPTIONS,"KEY_DISABLE_F4",t)},expression:"OPTIONS.KEY_DISABLE_F4"}}),e._v(" "),t("v-checkbox",{staticClass:"ml-5",attrs:{label:e.tr("o_key_f4_active_here"),dense:"","hide-details":"",disabled:!e.OPTIONS.KEY_DISABLE_F4},on:{change:e.save},model:{value:e.OPTIONS.KEY_F4_ACTIVE_HERE,callback:t=>{e.$set(e.OPTIONS,"KEY_F4_ACTIVE_HERE",t)},expression:"OPTIONS.KEY_F4_ACTIVE_HERE"}})],1)],1)],1)],1)};zt._withStripped=!0;const Yt=r.default.extend({props:{l:Number},name:"options_shortcuts",components:{slider:tt.A},data:()=>({hasCtrlAddon:!1}),async created(){this.hasCtrlAddon=await(0,x._z)({type:"detect_ctrl_addon"}).then(z.x2,z.bJ)},computed:{OPTIONS:()=>B.lw},methods:{tr:i.tr,tro:Y.e,save(){this.$emit("save"),this.$forceUpdate()},delayedSave(){this.$emit("delayedSave"),this.$forceUpdate()}}});const jt=(0,u.A)(Yt,zt,[],!1,null,"cfd7f022",null).exports;var qt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"o_sync_dials",expression:"'o_sync_dials'"}],staticClass:"pb-0 pt-2"}),e._v(" "),e.hasAccount?e._e():t("v-card-subtitle",{staticClass:"mt-2"},[t("a",{attrs:{href:"https://group-speed-dial.fastaddons.com",target:"_blank"}},[e._v(e._s(e.tr("login_login_title")))])]),e._v(" "),t("v-card-text",[t("v-checkbox",{attrs:{label:e.tr("o_disable_dials_sync"),hint:`${e.tr("label_warning")} ${e.tr("o_disable_dials_sync_title")}`,"persistent-hint":"",dense:""},on:{change:e.save},model:{value:e.OPTIONS.DISABLE_DIALS_SYNC,callback:t=>{e.$set(e.OPTIONS,"DISABLE_DIALS_SYNC",t)},expression:"OPTIONS.DISABLE_DIALS_SYNC"}})],1)],1),e._v(" "),t("v-card",{attrs:{disabled:e.OPTIONS.DISABLE_DIALS_SYNC}},[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"o_sync_settings",expression:"'o_sync_settings'"}],staticClass:"pb-0 pt-2"}),e._v(" "),t("v-card-text",[t("pro_label",{attrs:{"offset-top":"-148px"}},[t("v-checkbox",{attrs:{label:e.tr("o_auto_options_sync"),dense:""},on:{change:e.save},model:{value:e.OPTIONS.AUTO_OPTIONS_SYNC,callback:t=>{e.$set(e.OPTIONS,"AUTO_OPTIONS_SYNC",t)},expression:"OPTIONS.AUTO_OPTIONS_SYNC"}}),e._v(" "),t("manual_options_sync",{on:{change:e.save}})],1)],1)],1)],1)],1)};qt._withStripped=!0;var Xt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"manual-options-sync"},[t("div",{staticClass:"flex flex-space-between_10 flex-wrap"},[t("label",[e._v(e._s(e.tr("o_manual_options_sync"))+":")]),e._v(" "),e.backups.length<5?t("v-btn",{staticClass:"ml-auto",attrs:{small:"",color:"primary"},on:{click:e.createBackup}},[t("v-icon",{attrs:{left:""}},[e._v("fa-plus-square")]),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"create_new_backup",expression:"'create_new_backup'"}]})],1):e._e()],1),e._v(" "),t("div",{staticClass:"my-2 manual_backups"},e._l(e.backups,(a=>t("div",{staticClass:"flex flex-space-between_10",class:{selected_backup:e.selectedItem===a},on:{click:t=>(t.stopPropagation(),e.itemClicked(a))}},[t("v-text-field",{attrs:{maxlength:64,dense:"",readonly:!a.isManual},on:{change:e.save},model:{value:a.name,callback:t=>{e.$set(a,"name",t)},expression:"backup.name"}}),e._v(" "),t("label",[e._v(e._s(e.getFormattedDateTime(a.created)))]),e._v(" "),t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:"label_remove",expression:"'label_remove'",arg:"title"}],staticClass:"mx-2",attrs:{icon:"",disabled:!a.isManual},on:{click:t=>e.removeItem(a)}},[t("v-icon",{attrs:{small:""}},[e._v("fa-trash-alt")])],1)],1))),0),e._v(" "),t("div",{staticClass:"flex flex-space-between_10 flex-wrap"},[t("v-btn",{attrs:{small:"",disabled:!e.isManualSelected},on:{click:t=>e.saveSetting(e.selectedItem)}},[t("v-icon",{attrs:{left:""}},[e._v("fa-save")]),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"save_settings",expression:"'save_settings'"}]})],1),e._v(" "),t("v-btn",{attrs:{small:"",disabled:!e.selectedItem},on:{click:t=>e.loadSettings(e.selectedItem)}},[t("v-icon",{attrs:{left:""}},[e._v("fa-cloud-download-alt")]),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"load_settings",expression:"'load_settings'"}]})],1)],1)])};Xt._withStripped=!0;var Zt=a(9830),Jt=a(8168),Qt=a(4214);const ea=["BACKGROUND_DATA"],ta=ea.concat("AUTO_OPTIONS_SYNC","AR_DISABLE_THIS_DEVICE","DISABLE_DIALS_SYNC","USER_CONSENT_PUBLIC_UPLOAD"),aa=e=>e?ea:ta;class sa{name;value;isManual;created;constructor(e,t,a){this.name=e,this.value=t,this.isManual=a,this.created=Date.now(),this.value=(0,z.WR)(t),aa(a).forEach((e=>delete this.value[e]))}}async function ia(e){if(!e?.value)return;const t=(0,z.WR)(e.value);await B.KY.update((a=>((0,Qt.X)(t,a,aa(e.isManual)),t)))}async function ra(e){const t=await Zt.J.get();t.optionsManual=e.filter((e=>e.isManual)),await na(t)}async function na(e){if(e?.optionsManual?.some((e=>Object.keys(e.value).length<30)))throw new Error("something is wrong, not enough keys in OPTIONS");return await Zt.J.setWith((0,z.WR)(e),{version:Date.now()})}const oa=r.default.extend({name:"manual_options_sync",components:{ProLabel:Kt.A},props:{},data:()=>({backups:[],selectedItem:void 0}),watch:{},async created(){await this.reloadBackups(),Zt.J.addOnChangeListener((()=>this.reloadBackups()))},computed:{isManualSelected(){return this.selectedItem?.isManual}},methods:{tr:i.tr,getFormattedDateTime:Ze.Ib,itemClicked(e){this.selectedItem=e},async reloadBackups(){const{optionsManual:e,optionsAutoSync:t}=await Zt.J.get();this.backups=[t,...e||[]].filter(z.zz)},async removeItem(e){await ra(this.backups.filter((t=>t!==e))),this.selectedItem=void 0},async save(){await ra(this.backups)},async saveSetting(e){e&&await async function(e,t,a=e.name){const s=await Zt.J.get(),i=s.optionsManual.find((t=>t.created===e.created));i&&(Object.assign(i,new sa(a,t,!0)),await na(s))}(e,B.lw)},async loadSettings(e){e&&await ia(e)},async createBackup(){await async function(){const e=await browser.runtime.getPlatformInfo().then((({os:e})=>`${(0,Jt.BB)("win"===e?"windows":e)} ${window.screen.availWidth}`)),t=await Zt.J.get();t.optionsManual=t.optionsManual||[],t.optionsManual.length>5||(t.optionsManual.push(new sa(`${(0,i.tr)("o_manual_options_sync")} - ${e}`,B.lw,!0)),await na(t))}(),await(0,z.BK)(100),this.selectedItem=this.backups.at(-1),await(0,z.BK)(10),document.querySelector(".selected_backup")?.scrollIntoView({behavior:"smooth"})}}});const la=(0,u.A)(oa,Xt,[],!1,null,"2dd9e320",null).exports,ca=r.default.extend({props:{l:Number},name:"options_synchronization",components:{Pro_label:Kt.A,manual_options_sync:la},data:()=>({hasAccount:!1}),async created(){this.hasAccount=!!await(0,V.wz)()},computed:{OPTIONS:()=>B.lw},methods:{tr:i.tr,tro:Y.e,save(){this.$emit("save"),this.$forceUpdate()},delayedSave(){this.$emit("delayedSave"),this.$forceUpdate()}}});const da=(0,u.A)(ca,qt,[],!1,null,"5f73684c",null).exports;var ua=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-row",[t("v-col",{attrs:{cols:"12"}},[e.l?t("v-card",[t("v-card-title",[t("span",{directives:[{name:"tr",rawName:"v-tr",value:["version_pro",e.getLicenseName(e.l)],expression:"['version_pro', getLicenseName(l)]"}],staticClass:"mr-2"}),e._v(" "),t("i",{staticClass:"opacity-07"},[e._v("[active]")])]),e._v(" "),t("v-card-text",[t("p",{directives:[{name:"tr",rawName:"v-tr",value:"about_thanks",expression:"'about_thanks'"}]}),e._v(" "),t("div",[t("v-btn",{attrs:{href:e.HOST,target:"_blank",width:"100%"}},[t("v-icon",{attrs:{left:""}},[e._v("fa-user-gear")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"cloud_account",expression:"'cloud_account'"}],staticClass:"text-none"})],1)],1),e._v(" "),t("div",{staticClass:"mt-3"},[t("v-btn",{attrs:{href:e.PRO_FEATURES_LINK,target:"_blank",width:"100%"}},[t("v-icon",{attrs:{left:""}},[e._v("fab fa-github")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"pro_features_list",expression:"'pro_features_list'"}],staticClass:"text-none"})],1)],1)])],1):t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"pro_upgrade_label",expression:"'pro_upgrade_label'"}]}),e._v(" "),t("v-card-text",[t("p",{directives:[{name:"tr",rawName:"v-tr",value:"msg_pro_support",expression:"'msg_pro_support'"}]}),e._v(" "),t("div",[t("v-btn",{attrs:{href:e.PRO_FEATURES_LINK,target:"_blank",width:"100%"}},[t("v-icon",{attrs:{left:""}},[e._v("fab fa-github")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"pro_features_list",expression:"'pro_features_list'"}],staticClass:"text-none"})],1)],1),e._v(" "),t("div",{staticClass:"mt-3"},[t("v-btn",{attrs:{color:"primary",href:e.PATREON_LINK,target:"_blank",width:"100%"}},[t("v-icon",{attrs:{left:""}},[e._v("fa-lock-open")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"pro_upgrade_label",expression:"'pro_upgrade_label'"}]})],1)],1),e._v(" "),e.loginLink?t("div",{staticClass:"mt-4"},[t("p",{directives:[{name:"tr",rawName:"v-tr",value:"pro_activate",expression:"'pro_activate'"}]}),e._v(" "),t("v-btn",{attrs:{href:e.loginLink,target:"_blank",width:"100%"}},[t("v-icon",{attrs:{left:""}},[e._v("fa-right-to-bracket")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"login_login_create",expression:"'login_login_create'"}],staticClass:"text-none"})],1)],1):e._e()])],1),e._v(" "),t("v-card",[t("v-card-title",[e._v("What do you support?")]),e._v(" "),t("v-card-text",[t("p",[e._v("Your money helps to keep me and all of my 17 extensions alive!")]),e._v(" "),t("p",[e._v("I'm developing extensions full-time, in my office in Dolný Kubín city in Slovakia. If you want to learn more about me, visit:")]),e._v(" "),t("div",[t("v-btn",{attrs:{href:e.FRIEND_OF_ADDONS,target:"_blank",width:"100%"}},[t("v-icon",{attrs:{left:""}},[e._v("fab fa-firefox-browser")]),e._v(" "),t("span",{staticClass:"text-none"},[e._v("Friend of Add-ons")])],1)],1),e._v(" "),t("div",{staticClass:"mt-3"},[t("v-btn",{attrs:{href:e.LINKED_IN_JURAJ,target:"_blank",width:"100%"}},[t("v-icon",{attrs:{left:""}},[e._v("fab fa-linkedin")]),e._v(" "),t("span",{staticClass:"text-none"},[e._v("LinkedIn")])],1)],1)])],1)],1)],1)};ua._withStripped=!0;const _a=r.default.extend({props:{l:{type:Number,required:!0}},name:"upgrade_to_pro",components:{color_picker_input:_e.A},data:()=>({tr:i.tr,account:null,PRO_FEATURES_LINK:U.Nd,FRIEND_OF_ADDONS:y.hr,LINKED_IN_JURAJ:y.FZ,PATREON_LINK:y.tT,HOST:U.jg,loginLink:""}),async created(){this.account=await(0,V.wz)(),this.account||(this.loginLink=U.jg)},computed:{},methods:{getLicenseName:M,loginToAccount(){(0,P.K)(U.jg,{inNewTab:!0,nextToCurrent:!0,active:!0})}}});const pa=(0,u.A)(_a,ua,[],!1,null,"36a3af38",null).exports;var ha=function(){var e=this._self._c;this._self._setupProxy;return e("v-row",[e("v-col",{attrs:{cols:"12"}})],1)};ha._withStripped=!0;const ma=r.default.extend({props:{l:Number},name:"storage_info",components:{},data:()=>({}),async created(){},computed:{},methods:{tr:i.tr,save(){this.$emit("save"),this.$forceUpdate()},delayedSave(){this.$emit("delayedSave"),this.$forceUpdate()}}});const va=(0,u.A)(ma,ha,[],!1,null,"5b21bd25",null).exports;var ga=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-row",{staticClass:"search_layout"},[t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{staticClass:"options_width",attrs:{autofocus:"",maxlength:"512","hide-details":"",outlined:"",dense:"",label:e.tr("search_search"),"append-icon":"fa-search"},on:{"click:append":t=>e.runSearch(!0),keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnterKey.apply(null,arguments)},keydown:e.onKeyDown},model:{value:e.search,callback:t=>{e.search=t},expression:"search"}})],1),e._v(" "),t("v-col",{staticClass:"search_by d-flex align-center flex-wrap pt-0",attrs:{cols:"12"}},e._l(e.searchByOptions,(a=>t("v-checkbox",{key:a.id,staticClass:"mt-0 ml-2 mr-1",attrs:{id:a.id,"hide-details":"",dense:"",label:a.label},on:{change:t=>e.runSearch()},model:{value:a.checked,callback:t=>{e.$set(a,"checked",t)},expression:"searchBy.checked"}}))),1),e._v(" "),t("v-col",{staticClass:"search_results",attrs:{cols:"12"}},[e.search.length>=2||e.searchResults.length?t("v-card",[t("v-card-subtitle",{directives:[{name:"tr",rawName:"v-tr",value:e.searchResults.length?"search_results":e.search?"ps_no_results":"",expression:"searchResults.length ? 'search_results' : search ? 'ps_no_results' : ''"}],staticClass:"pb-0 pt-2 font-weight-bold"}),e._v(" "),t("v-card-text",{staticClass:"searching_dials"},e._l(e.searchResults,((a,s)=>t("div",[t("div",{staticClass:"result searching_group",class:{active:e.activeResult===a}},[t("a",{attrs:{target:"_blank",href:a.getAbsoluteURL()},on:{click:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.closePopup.apply(null,arguments)}}},[t("group_favicon",{attrs:{group:a}}),e._v(" "),t("span",{domProps:{textContent:e._s(a.name+(a.dials.length?":":""))}})],1)]),e._v(" "),e._l(a.dials,(a=>t("div",{staticClass:"result searching_dial",class:{active:e.activeResult===a},attrs:{title:a.note}},[t("a",{attrs:{target:"_blank",href:a.getAbsoluteURL()},on:{click:t=>e.onDialClick(t,a),auxclick:t=>e.onDialClick(t,a)}},[t("dial_favicon",{attrs:{dial:a}}),e._v(" "),t("span",{domProps:{textContent:e._s(a.name)}})],1),e._v(" "),t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:"search_locate_dial",expression:"'search_locate_dial'",arg:"title"}],staticClass:"find_dial",attrs:{icon:""},on:{click:t=>e.locateDial(a)}},[t("v-icon",{staticClass:"opacity-05"},[e._v("fa-location-dot")])],1),e._v(" "),a.isMultiDial()?t("div",{staticClass:"d-flex flex-column result_multi_dial"},e._l(a.getLinksAsDials(),(a=>t("div",{staticClass:"result searching_dial",class:{active:e.activeResult===a}},[t("a",{attrs:{target:"_blank",href:a.getAbsoluteURL()},on:{click:t=>(t.stopPropagation(),e.onDialClick(t,a)),auxclick:t=>(t.stopPropagation(),e.onDialClick(t,a))}},[t("dial_favicon",{attrs:{dial:a}}),e._v(" "),t("span",{domProps:{textContent:e._s(a.name)}})],1)]))),0):e._e()],1)))],2))),0)],1):e._e()],1)],1)};ga._withStripped=!0;var Oa=a(2352),fa=a(7384),wa=a(3650),ba=a(4242),Ia=a(6554),ya=a(4046),Ta=a(2801),Sa=a(4261);class Ea{items;startIndex;roundSequence;constructor(e,t=0){this.items=e,this.startIndex=t,this.roundSequence=new Sa.E(t,0,e.length-1)}get current(){return this.items[this.roundSequence.current]}getNext(){return this.items[this.roundSequence.getNext()]}getPrevious(){return this.items[this.roundSequence.getPrevious()]}}var Aa=a(6777);const Da=r.default.extend({props:{l:Number},name:"popup_search",components:{Dial_favicon:Ia.A,Group_favicon:ba.A},data:()=>({search:"",searchByOptions:wa.cw.map((e=>(e.setPersistent(),e))),searchResults:[],activeResult:void 0,searchExecutor:new Ta.V(1),groups:[]}),async created(){await fe.M.promise,this.groups=await fe.M.getVisibleGroups(!0),this.resetSearch()},watch:{search(e){e.length>=2?this.runSearch():(this.activeResult=void 0,this.searchResults=[])}},computed:{flatResults(){return this.searchResults.flatMap((e=>[e,...e.dials.flatMap((e=>e.isMultiDial()?e.getLinksAsDials():[e]))]))}},methods:{getActiveElement:()=>document.querySelector(".searching_dials .active a"),tr:i.tr,closePopup:C.f,resetSearch(){this.searchResults=this.groups.map((e=>{const t=e.clone();return t.dials=[],t})),this.activeResult=this.searchResults[0]},async onEnterKey(e){if(this.activeResult){const t=this.getActiveElement().href;switch(!0){case e.altKey:return this.activeResult instanceof ya.h&&this.locateDial(this.activeResult);case e.shiftKey:return browser.windows.create({url:t});case e.ctrlKey:return(0,P.K)(t,{inNewTab:!0});default:return this.activeResult instanceof ya.h&&!this.activeResult.getAbsoluteURL()?(e.preventDefault(),await this.locateDial(this.activeResult)):t&&(0,P.K)(t,{inNewTab:!0,active:!0}),(0,C.f)()}}else this.runSearch(!0)},async onKeyDown(e){const t=this.activeResult?this.flatResults.indexOf(this.activeResult):-1,a=new Ea(this.flatResults,Math.max(0,t));switch(e.key){case"ArrowDown":this.activeResult=a.getNext();break;case"ArrowUp":this.activeResult=a.getPrevious();break;default:return}await(0,z.BK)(1),this.getActiveElement()?.scrollIntoView({block:"nearest"})},async onDialClick(e,t){e.button!==Aa.w.RIGHT&&(t.getAbsoluteURL()||(e.preventDefault(),await this.locateDial(t)),e.button===Aa.w.LEFT&&(0,C.f)())},runSearch(e=!1){return!e&&this.search.length<2?this.resetSearch():this.searchExecutor.addWork((async()=>{this.searchResults=await(0,wa.Tt)(this.search,this.groups);const[e,t]=this.flatResults;this.activeResult=t instanceof ya.h?t:e}))},async locateDial(e){let t=await(0,Oa.e6)();(0,V.yk)(t)||(t=await browser.tabs.create({url:V.KL}),await(0,fa.p)(t.id)),await(0,x.hC)(t.id,{type:"highlight_dial",groupId:e.groupId,dialDomId:e.domId,animated:!0,hideOthers:!0})}}});const Na=(0,u.A)(Da,ga,[],!1,null,"6fcf219a",null).exports;var xa=a(7813),Pa=a(5296),ka=a(9114),Ra=a(4298),La=a(6004);const Ca=(()=>{const[e,t]=(0,z.Mj)();ue.P3.addOnChangeListener((({newValue:t})=>async function(t){await e,u.onclick=null,t?(O=!0,(0,La.Gd)(h),u.href=U.jg):(O=!1,t={license:G.G_.Home,supporter:0,name:ka.N?"":(0,i.tr)("login_login_create")},(0,La.$$)(h),u.removeAttribute("href"),u.onclick=()=>{(0,La.Gd)(h),(0,x._z)({type:"sync",force:!0,withRedirect:!0})});const a=await B.j_;(ka.N||a.DISABLE_DIALS_SYNC||a.HIDE_LOGIN_PART)&&(0,La.$$)(g);m.textContent=t.name||"-",l.classList.toggle("hidden",!t.avatar),l.src=t.avatar||T.RO;const s=(0,V.R)(t),r=t.license||G.G_.Home,n=M(r);c.textContent="Enterprise"===n?"Ent":n,c.className=n.toLowerCase()+"-version",c.title=s?(0,i.tr)("version_pro",n):(0,i.tr)("version_free",n),r>0&&c.remove();const[o,_]=d.children;d.onclick=s?e=>e.preventDefault():z.lQ,o.style.filter=s?"hue-rotate(164deg)":"",_.textContent=s?(0,i.tr)("version_pro",n):(0,i.tr)("cm_upgrade_pro")}(t)),{dummyInitValue:(0,V.wz)()}),ue.wd.addOnChangeListener((({newValue:t})=>async function({state:t,message:a,details:s,data:l}){await e;const c=()=>[["p",(0,i.tr)("msg_correct_account")],["a",{href:U.jg,text:U.jg}],["p",(0,i.tr)("msg_replace_text")]];switch(p.textContent=a,h.title=s,[g,_].forEach((e=>e.classList.toggle("spinning","working"===t))),g.src=(0,E.Z)("synced"===t?"svg/done.svg":"working"===t?"svg/refresh.svg":"svg/offline(3).svg"),t){case"none":case"working":case"synced":case"error":break;case"no_permission":h.onclick=f;break;case"conflict":Pa.p.show((0,i.tr)("sync_conflict"),(0,La.Y6)([["p",(0,i.tr)("sync_conflict_body")],["p",(0,i.tr)("sync_conflict_body_2")]]),{yesText:(0,i.tr)("sync_conflict_replace_local"),noText:(0,i.tr)("sync_conflict_replace_server"),onYes:n,onNo:()=>r()});break;case"mismatch":Pa.p.show((0,i.tr)("sync_err_account_title"),(0,La.Y6)(c()),{yesText:(0,i.tr)("sync_err_account_replace_local"),noText:(0,i.tr)("sync_err_account_replace_cloud"),elseText:(0,i.tr)("sync_err_account_retry"),onYes:n,onNo:()=>r(l?.remoteUserId),onElse:o});break;case"not_empty":Pa.p.show((0,i.tr)("sync_not_empty_title"),(0,La.Y6)(c()),{yesText:(0,i.tr)("sync_not_empty_replace_local"),noText:(0,i.tr)("sync_not_empty_replace_cloud"),elseText:(0,i.tr)("sync_not_empty_replace_retry"),onYes:n,onNo:()=>r(l?.remoteUserId),onElse:o})}}(t)),{dummyInitValue:ue.wd.get()});const a=()=>(0,x._z)({type:"sync",force:!0,withDelay:!0,userClick:!0}),r=e=>{(0,x._z)({type:"sync",force:!0,withRedirect:!0,replaceRemote:!0,remoteUserId:e})},n=()=>{(0,x._z)({type:"sync",force:!0,withRedirect:!0,replaceLocal:!0})},o=()=>{(0,x._z)({type:"sync",force:!0,withRedirect:!0})};let l,c,d,u,_,p,h,m,v,g,O=!1;return{init:async function(){await s.W,(0,T.$H)("login").appendChild((0,La.nl)([c=(0,Oe.z)("a",{href:y.tT,style:"padding: 0 0 10px; user-select: none; font-weight: bold; cursor: cell; font-size: smaller;"}),g=(0,Oe.z)("img",{class:"invert icon-button spinning_1",height:30,width:30,style:"padding: 4px;",src:T.RO}),v=(0,Oe.z)("div",{id:"sync_state",class:"subtle_border theme_background theme_color"},[h=(0,Oe.z)("a",{class:"flex flex-space-between",handlers:{onclick:a,...(0,xa.lU)("animation-name: spin;animation-duration: 800ms;animation-iteration-count: 10;animation-timing-function: linear;",xa.O$.HOVER,{getNode:()=>_,restoreOriginalStyles:!1})}},[_=(0,Oe.z)("img",{class:"invert spinning_1",height:14,src:(0,E.Z)("svg/refresh.svg")}),p=(0,Oe.z)("div",{})]),u=(0,Oe.z)("a",{id:"login-link",title:(0,i.tr)("login_login_title"),class:"flex flex-space-between_10",style:"cursor: pointer;"},[l=(0,Oe.z)("img",{height:16}),m=(0,Oe.z)("div",{})]),(0,Oe.z)("a",{class:"flex flex-space-between_10 hidden",href:U.J8},[(0,Oe.z)("img",{height:16,src:(0,E.Z)("svg/question.svg")}),(0,Oe.z)("span",{textContent:(0,i.tr)("about_cloud_dials")})]),d=(0,Oe.z)("a",{class:"flex flex-space-between_10",href:y.tT},[(0,Oe.z)("img",{height:24,src:(0,E.Z)(Ra.In)}),(0,Oe.z)("span",{})])])])),t()},synchronizeManual:a,get isLoggedIn(){return O}};async function f(){await browser.permissions.request({origins:[y.P4]})&&a()}})();var Ua=a(1374);const Ba=["moz-extension","safari-web-extension","chrome","opera","edge","brave","vivaldi","about"];async function $a(e=!1){const t=await browser.tabs.query({highlighted:!0,currentWindow:!0}),a=(t.length>1||e?t:await browser.tabs.query({pinned:!1,...R.m0?{}:{currentWindow:!0},...R.cI?{hidden:!1}:{}})).filter((e=>{return!!(t=e.url)&&!Ba.some((e=>t?.startsWith(e)));var t}));return(0,Ua.vC)(a,"url")}const Ga=(0,vt.U)(100,z.lQ,{maximumDelay:700}),Ma=r.default.extend({props:{l:{type:Number,required:!0}},name:"editor",components:{options_synchronization:da,pro_label:Kt.A,Popup_search:Na,Storage_info:va,Upgrade_to_pro:pa,options_shortcuts:jt,options_thumbnails:Vt,options_context_menu:Mt,options_background:yt,options_groups:_t,options_dials:lt,options_import_backup:it,options_general:ve,draggable_top:N.A,donate_icon:w,about_tab:D,NameVersionComp:m,reload_extension:_,dark_theme_switch:v.A},data(){if(browser.runtime.onMessage.addListener((e=>{if("poison_pill_popup"===e.type)this.isInPopup&&(0,C.f)()})),!self.location.hash){const e=$.U?he.g[he.g.Search]:he.g[he.g.OptionsGeneral];self.history.replaceState(null,"",`${self.location.href}#${e}`)}return{DATA_LAST_OPENED_TAB:new te.e("_last_opened_options_tab",(()=>he.g.OptionsGeneral)),isDomainDisabledModel:!1,ActiveTab:he.g,activeTab:he.g.Search,importExternal:!1,isInIframe:(0,L.G)(),drawer:!0,optionsDrawer:self.location.hash.startsWith("#Options"),isClosable:!1,bookmarkAbleTabs:0,addingPagesToDials:!1,env:l._,CLOUD_DIALS:U.Qq,isInPopup:$.U,onDialsPage:!1,tab:void 0,dialog:!1,mobileBreakpoint:590,isLoaded:!1,FIREFOX_STORE:U.au,CHROME_STORE:U.nR,HOST:U.jg,EDGE_STORE:U.As,GITHUB_ISSUES:U.ve,OptionsTabs:[{tab:he.g.OptionsGeneral,icon:"fa-sliders-h",name:"o_tab_general"},{tab:he.g.OptionsDials,icon:"fa-table-cells-large",name:"o_tab_visual_dials"},{tab:he.g.OptionsGroups,icon:"fa-sitemap",name:"o_tab_visual_groups"},{tab:he.g.OptionsBackground,icon:"fa-panorama",name:"o_tab_background"},{tab:he.g.OptionsContextMenu,icon:"fa-rectangle-list",name:"o_tab_context_menu"},{tab:he.g.OptionsThumbnails,icon:"fa-images",name:"o_tab_thumbnails"},{tab:he.g.OptionsShortcuts,icon:"fa-keyboard",name:"o_tab_shot_keys"},{tab:he.g.OptionsSynchronization,icon:"fa-rotate",name:"o_tab_sync"},{tab:he.g.OptionsImportBackup,icon:"fa-file-import",name:"o_tab_import"}]}},async created(){this.navigateToTabFromURL_Hash(),document.documentElement.style.fontSize=(0,k.px)(18),window.addEventListener("keydown",(e=>this.keyHandler(e)),{capture:!0}),$a().then((e=>this.bookmarkAbleTabs=e.length)),await R.Vq&&(this.mobileBreakpoint=1280,async function(){await R.Vq&&window.addEventListener("click",(e=>{const t=e.target.closest("a");"_blank"===t?.target&&t.href&&(e.preventDefault(),(0,P.K)(t.href,{active:!0,inNewTab:!0}),(0,C.f)())}),{capture:!0})}()),await B.j_,B.KY.addOnChangeListener((({newValue:e,oldValue:t})=>{this.$forceUpdate();!async function(e,t){if(e.AUTO_OPTIONS_SYNC){const a=await Zt.J.get();t&&a.optionsAutoSync?await ia(a.optionsAutoSync):(a.optionsAutoSync=new sa((0,i.tr)("automatic_backup"),e,!1),await na(a))}}(e,!e?.AUTO_OPTIONS_SYNC&&!!t?.AUTO_OPTIONS_SYNC)})),this.isClosable=!!await browser.tabs.getCurrent(),this.tab=await(0,Oa.e6)(),this.onDialsPage=(0,V.yk)(this.tab)||!!this.tab.url?.startsWith(browser.runtime.getURL("")),Ca.init(),this.isLoaded=!0,window.addEventListener("hashchange",(()=>this.navigateToTabFromURL_Hash()))},computed:{isMobileDrawer(){return this.$vuetify.breakpoint.width<this.mobileBreakpoint},browser:()=>browser,OPTIONS:()=>B.lw,isAndroid:()=>R.m0},watch:{activeTab(e){document.querySelector(".container").scrollTop=0,self.location.hash=he.g[e],he.g[e].startsWith("Options")&&this.DATA_LAST_OPENED_TAB.set(e)}},methods:{tr:i.tr,async closePopup(){(0,C.f)()},getLicenseName:M,navigateToTabFromURL_Hash(){if(self.location.hash){this.importExternal=self.location.hash===`#${he.g[he.g.OptionsImport3rdParty]}`;const e=this.importExternal?he.g.OptionsImportBackup:he.g[self.location.hash.slice(1)];e&&(this.activeTab=e)}},openOptionsPage(){browser.runtime.openOptionsPage(),(0,C.f)()},openCloudDials(e){const t=e.button===Aa.w.LEFT;(0,P.K)(U.Qq,{active:t,inNewTab:!0,nextToCurrent:!0}),t&&(0,C.f)()},addThisPageToDials(){(0,x._z)({type:"add_current"}),(0,C.f)()},async addAllPagesToDials(){this.addingPagesToDials=!0,await(0,x._z)({type:"add_all_current"}),(0,C.f)()},keyHandler(e){const t=Symbol();t!==(()=>{if((!e.altKey||"r"!==e.key)&&"F2"!==e.key)return t})()&&(e.preventDefault(),e.stopPropagation())},async save(){await B.KY.set((0,z.WR)(this.OPTIONS)),this.$forceUpdate()},delayedSave(){Ga((()=>this.save()))},redrawAll(e=!1){Ga((async()=>{await this.save(),(0,x._z)(e?{type:"reload_page"}:{type:"redraw_dials"})}))},openTab(e){this.activeTab=e},openInNewTab(){(0,P.K)(location.origin+location.pathname+location.hash,{active:!0,inNewTab:!0,nextToCurrent:!0}),(0,C.f)()},openDialsPageMenu(){(0,x.hC)(this.tab.id,{type:"open_main_menu"}),(0,C.f)()}}}),Ha=Ma;const Fa=(0,u.A)(Ha,n,[],!1,null,null,null).exports;var Ka=a(97);async function Wa(){await s.W;const e=await(0,V.wz)().catch((()=>({license:0})));new r.default({el:"#vue_options_app",vuetify:(await(0,Ka.X)())(),render:t=>t(Fa,{props:{l:e?.license??G.G_.Home}})})}},779:(e,t,a)=>{var s;a.d(t,{g:()=>s}),(e=>{e[e.Search=0]="Search",e[e.OptionsGeneral=1]="OptionsGeneral",e[e.OptionsDials=2]="OptionsDials",e[e.OptionsGroups=3]="OptionsGroups",e[e.OptionsBackground=4]="OptionsBackground",e[e.OptionsContextMenu=5]="OptionsContextMenu",e[e.OptionsThumbnails=6]="OptionsThumbnails",e[e.OptionsShortcuts=7]="OptionsShortcuts",e[e.OptionsSynchronization=8]="OptionsSynchronization",e[e.OptionsImportBackup=9]="OptionsImportBackup",e[e.OptionsImport3rdParty=10]="OptionsImport3rdParty",e[e.StorageInfo=11]="StorageInfo",e[e.About=12]="About",e[e.Upgrade=13]="Upgrade"})(s||(s={}))},2037:(e,t,a)=>{a.d(t,{B8:()=>d,J8:()=>c});var s=a(9074),i=a(2665),r=a(4323),n=a(1470),o=a(235);const l=15e3;async function c(e,t,a,s){return(await async function(e,t,a,s){const r=a instanceof Blob,n=a instanceof FormData,c=await fetch(u(e,t),{method:"POST",signal:(0,o.n)(s?.timeout||l),body:r||n?a:a?JSON.stringify(a):void 0,headers:{Authorization:`Bearer ${await(0,i.c4)()}`,...n?{}:{"Content-Type":r?a.type:"application/json"},Accept:"application/json",...s?.headers}});return c}(e,t,a,s)).json()}async function d(e,t,a){return(await async function(e,t,a){return await fetch(u(e,t),{method:"GET",signal:(0,o.n)(a?.timeout||l),headers:{Authorization:`Bearer ${await(0,i.c4)()}`,...a?.headers}})}(e,t,a)).json()}function u(e,t){const a=new URLSearchParams((0,n.oD)(t)),i=e.replace(new RegExp(String.raw`:(\w+)`,"g"),(e=>{const t=e.slice(1),s=a.get(t)??(0,r.qb)(`missing parameter: ${t}`);return a.delete(t),s})),o=Array.from(a.keys()).length?`?${a}`:"";return`${s.Vd}/api/${i}${o}`}},3986:(e,t,a)=>{a.d(t,{X$:()=>s,xZ:()=>i});a(4323);function s(e,t,{filter:a,map:i}){const r=[];for(let n=0;n<e.length;n++){const o=e[n];if(a&&!a(o))continue;const l=o[t],c=l?s(l,t,{filter:a,map:i}):void 0;r.push(i(o,c))}return r}async function i(e,t,{filter:a,map:s}){const r=[];for(let n=0;n<e.length;n++){const o=e[n];if(a&&!await a(o))continue;const l=o[t],c=l?await i(l,t,{filter:a,map:s}):void 0;r.push(await s(o,c))}return r}},5772:(e,t,a)=>{a.d(t,{s:()=>s});const s=(e,t=!0)=>t?(t,a)=>(t[e]||0)-(a[e]||0):(t,a)=>(a[e]||0)-(t[e]||0)},7384:(e,t,a)=>{a.d(t,{p:()=>o});var s=a(4323),i=a(1374);const r=new Set,n=new Array;async function o(e,t){if(t&&(r.delete(e),await t()),!r.has(e))return new Promise(((t,a)=>{const r={tabId:e,resolve:t};n.push(r),(0,s.BK)(1e4).then((()=>{(0,i.E6)(n,r),a(new Error("timeout waiting for tab"))}))}))}browser.runtime.onMessage.addListener(((e,t)=>{if("___ext_tab_ready"===e.type){const e=t.tab?.id||0;r.add(e),n.forEach((({tabId:t,resolve:a})=>{t===e&&a()}))}}))},9114:(e,t,a)=>{a.d(t,{N:()=>i,O:()=>s});const s=!!browser.extension.inIncognitoContext,i=!1},7137:(e,t,a)=>{a.d(t,{x:()=>i});const s=new Map;async function i(e){if(s.has(e))return s.get(e);const t=browser.permissions.request({permissions:[e]}).catch((e=>!1));return s.set(e,t),t.finally((()=>s.delete(e)))}},984:(e,t,a)=>{function s(e,t,a){a/=100;const s=t*Math.min(a,1-a)/100,i=t=>{const i=(t+e/30)%12,r=a-s*Math.max(Math.min(i-3,9-i,1),-1);return Math.round(255*r).toString(16).padStart(2,"0")};return`#${i(0)}${i(8)}${i(4)}`}a.d(t,{S:()=>s})},303:(e,t,a)=>{a.d(t,{H:()=>r});var s=a(4323);const i=e=>{const t=e.toString(16);return 1==t.length?`0${t}`:t};function r(e){const[t,a=""]=e.split("("),r=a.split(",");if(r.length<3)return"";const[n,o,l,c]=r.map((e=>parseInt(e)));return isNaN(n)||isNaN(o)||isNaN(l)?"":`#${i(n)}${i(o)}${i(l)}${(0,s.kf)(c)?i(c):""}`}},2062:(e,t,a)=>{a.d(t,{k:()=>i});var s=a(9254);class i{keyPromise;constructor(e){this.keyPromise=i.getWrappingKey(e)}async wrapKey(e){const t=await self.crypto.subtle.wrapKey("raw",e,await this.keyPromise,"AES-KW");return(0,s.JR)(t)}async unwrapKey(e){return self.crypto.subtle.unwrapKey("raw",(0,s.Al)(e),await this.keyPromise,"AES-KW","AES-GCM",!0,["encrypt","decrypt"])}static async getWrappingKey(e){const t=await self.crypto.subtle.importKey("raw",(0,s.Al)(e.hash),"PBKDF2",!1,["deriveBits","deriveKey"]);return self.crypto.subtle.deriveKey({name:"PBKDF2",salt:new Uint8Array(e.options.salt),hash:"SHA-256",iterations:e.options.iterations<=1e6?e.options.iterations:1e5},t,{name:"AES-KW",length:256},!0,["wrapKey","unwrapKey"])}}},4721:(e,t,a)=>{a.d(t,{d:()=>i});var s=a(4323);async function i(e,t){const a=(0,s.Kg)(e)?(new TextEncoder).encode(e):e;return Array.from(new Uint8Array(await self.crypto.subtle.digest(t,a))).map((e=>e.toString(16).padStart(2,"0"))).join("")}},9254:(e,t,a)=>{function s(e){return self.crypto.subtle.importKey("raw",(new TextEncoder).encode(e),"PBKDF2",!1,["deriveBits","deriveKey"])}function i(e){return String.fromCharCode(...new Uint8Array(e))}function r(e){const t=new ArrayBuffer(e.length),a=new Uint8Array(t);for(let t=0,s=e.length;t<s;t++)a[t]=e.charCodeAt(t);return a}function n(e){return Array.from(self.crypto.getRandomValues(new Uint8Array(e/8)))}a.d(t,{Al:()=>r,JR:()=>i,Tc:()=>s,gU:()=>n})},7398:(e,t,a)=>{a.d(t,{Er:()=>n,mA:()=>o,qi:()=>l});var s=a(4716),i=a(9254),r=a(2062);async function n(e,t){const{hint:a="",name:r="PBKDF2",salt:n=[...self.crypto.getRandomValues(new Uint8Array(16))],iterations:o=1e5,hash:l="SHA-256"}=t,c=await(0,i.Tc)(e),d=await(0,s.e)(`Hashing with: ${r}, ${l}, ${o.toLocaleString()}`,(()=>self.crypto.subtle.deriveBits({name:r,salt:new Uint8Array(n),iterations:o,hash:l},c,256)));return{hash:(0,i.JR)(d),options:{name:r,salt:n,iterations:o,hash:l,hint:a,..."secret"in t?{secret:t.secret}:{}}}}async function o(e,t,a={}){const s=await n(e,a),i=await new r.k(s).wrapKey(t);return{hash:s.hash,options:{...s.options,secret:i}}}async function l(e,t,a,s={}){const i=await o(e,a,s),r=await o(t,a,{iterations:s.iterations||1e6,salt:[...self.crypto.getRandomValues(new Uint8Array(s.salt?.length||16))]});return{hash:i.hash,options:{...i.options,recoverySecret:r.options.secret,recoverySalt:r.options.salt}}}},3694:(e,t,a)=>{a.d(t,{Ib:()=>n,JY:()=>i,Sy:()=>s,Xm:()=>c,aG:()=>l,dR:()=>o,i5:()=>d,kG:()=>r});const s=()=>Math.floor(Date.now()/1e3),i=({date:e=new Date,separator:t="_"}={})=>[e.getFullYear(),e.getMonth()+1,e.getDate(),t,e.getHours(),e.getMinutes(),e.getSeconds()].map((e=>e===t?e:`${e}`.padStart(2,"0"))).join(t),r=(e,t,a=0)=>3600*e+60*t+a;function n(e=Date.now()){const t=new Date(e);return`${t.toLocaleDateString()} ${t.toLocaleTimeString()}`}function o(e,t,a,s){const i=new Date;return function(e,t){const a=t-e.getDay();e.setDate(e.getDate()+a)}(i,e),i.setHours(t,a,s,0),i}function l(e=new Date,t){return t(e),e.getTime()}function c(e){const t=e<0?"ceil":"floor";return e?[Math[t](e/3600),Math[t](e%3600/60),e%60]:[0,0,0]}function d(e){return(e<0?"-":"")+c(60*Math.abs(e)).slice(0,2).map((e=>`${e}`.padStart(2,"0"))).join(":")}},9180:(e,t,a)=>{a.d(t,{$L:()=>o,Lm:()=>n,n:()=>s,xE:()=>r,xF:()=>i});const s=e=>1e3*e,i=e=>6e4*e,r=e=>36e5*e,n=e=>864e5*e,o=e=>Math.round(e/6e4)},2031:(e,t,a)=>{a.d(t,{g:()=>s});a(6062);function s(e){}},7104:(e,t,a)=>{a.d(t,{_:()=>s});const s=Object.freeze({$IS_FIREFOX:!0,$IS_CHROME:!1,$IS_CHROMIUM:!1,$IS_THUNDERBIRD:!1,$IS_EDGE:!1,$IS_WEB:!1,$IS_EXT:!0,$IS_NODE:!1,$IS_TEST:!1,$IS_DEV:!1,$IS_PROD:!0})},9773:(e,t,a)=>{a.d(t,{n9:()=>i,qV:()=>s});const s=()=>!1,i=()=>!1},8698:(e,t,a)=>{a.d(t,{U:()=>i});var s=a(4323);function i(e,t,{maximumDelay:a=0}={}){let i=-1,r=-1,n=s.lQ;function o(){i>0&&self.clearTimeout(i),a&&r>0&&self.clearTimeout(r),i=r=-1,n=s.lQ}return l.flush=()=>n(),l.cancel=()=>(-1!==i||-1!==r)&&(o(),!0),l;function l(s=t,l=e){if(self.clearTimeout(i),i=-1,!1===l)return;const c=n=()=>{o(),s()};i=self.setTimeout(c,l),a&&r<0&&(r=self.setTimeout(c,a))}}},2780:(e,t,a)=>{a.d(t,{v:()=>s});class s{mode;workList;isRunning;constructor(e){this.mode=e,this.workList=[],this.isRunning=!1}addWork(e){return new Promise((t=>{this.workList.push({job:e,resolve:t}),this.startWork()}))}async startWork(){if(!this.isRunning&&this.workList.length){switch(this.isRunning=!0,this.mode){case"one_by_one":{const{job:e,resolve:t}=this.workList.shift();await e().then(t);break}case"one_by_last_one":const e=this.workList.slice();this.workList.length=0;const{job:t,resolve:a}=e.at(-1);await t(),e.forEach((e=>e.resolve()))}this.isRunning=!1,this.startWork()}}}},3635:(e,t,a)=>{a.d(t,{Q:()=>i});var s=a(4323);async function i(e,{delay:t,initDelay:a,maxDelay:i}){for(a&&await(0,s.BK)(a);;){const a=await e();if(a)return a;await(0,s.BK)(t),t*=2,i&&(t=Math.min(t,i))}}},416:(e,t,a)=>{async function s(e,t){e(!0);try{return await t()}finally{e(!1)}}a.d(t,{$:()=>s})},9676:(e,t,a)=>{a.d(t,{w:()=>i});var s=a(4323);function i(e,t,a){return new Promise(((i,r)=>{const n=setTimeout((()=>{try{i((0,s.oA)(t))}catch(e){r(e)}}),e);a().finally((()=>{clearTimeout(n)})).then(i,r)}))}},8063:(e,t,a)=>{a.d(t,{F:()=>o});var s=a(235),i=a(4323),r=a(9180);const n=new Map;async function o(e){const t=n.get(e)||fetch(e,{signal:(0,s.n)(12e3)});n.set(e,t);const a=await t;return(0,i.BK)((0,r.xF)(5)).then((()=>n.delete(e))),a.clone()}},235:(e,t,a)=>{function s(e){const t=new AbortController;return setTimeout((()=>t.abort()),e),t.signal}a.d(t,{n:()=>s})},1009:(e,t,a)=>{a.d(t,{E:()=>r});var s=a(1434),i=a(8063);async function r(e,t=!0){const a=await(await(t?i.F:fetch)(e)).text(),[{nodes:r}]=await(0,s.$)(a,[{query:"head > title",attributes:["textContent"]}]);return r?.at(0)?.textContent.trim()||""}},7700:(e,t,a)=>{a.d(t,{G:()=>s,T:()=>i});const s=e=>i(e,"readAsDataURL");function i(e,t){return new Promise(((a,s)=>{const i=new FileReader;i.onload=e=>a(i.result),i.onerror=i.onabort=s,i[t](e)}))}},9598:(e,t,a)=>{a.d(t,{u:()=>n,z:()=>r});var s=a(4323);const i=new Set(["svg","path","circle","text"]);function r(e,t,a=[]){const r=i.has(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);if(t){const e=(0,s.Kg)(t)?{textContent:t}:t;Object.entries(e).forEach((([t,a])=>{switch(t){case"text":case"textContent":r[t]=a;break;case"handlers":Object.assign(r,e.handlers);break;default:r.setAttribute(t,a)}}))}for(const e of a)r.appendChild(e);return r}function n(e,t){const a=document.createElement(e);return a.textContent=t,a}},3773:(e,t,a)=>{function s(e,t){const a=(new self.DOMParser).parseFromString(e,"text/html");return t.map((({query:e,attributes:t})=>({query:e,nodes:Array.from(a.querySelectorAll(e)).map((e=>Object.fromEntries(t.map((t=>[t,("textContent"===t?e.textContent:e.getAttribute(t))||""])))))})))}a.d(t,{x:()=>s})},1434:(e,t,a)=>{a.d(t,{$:()=>r});var s=a(9676),i=a(3773);async function r(e,t){if(self.DOMParser)return(0,i.x)(e,t);{const a={type:"_ext_dom_extractor_query",htmlText:e,queries:t},i=await(0,s.w)(5e3,null,(()=>browser.runtime.sendMessage(a).catch((()=>null))));if(i)return i}const a=(await browser.tabs.query({discarded:!1})).filter((e=>e.url?.startsWith("http"))).sort(((e,t)=>+t.active-+e.active)).slice(0,5);for(const r of a)try{return await(0,s.w)(5e3,(()=>Promise.reject()),(()=>browser.scripting.executeScript({target:{tabId:r.id,allFrames:!1},args:[e,t],func:i.x}).then((([e])=>e.result||t.map((e=>({query:e.query,nodes:[]})))))))}catch(e){}throw"DOMParser not available"}},1361:(e,t,a)=>{a.d(t,{G:()=>i});var s=a(4323);class i{_handlers=[];constructor(){}clearAll(){(0,s.XB)(this._handlers)}addListener(e,t,a,s){e.addEventListener(t,a,s),this._handlers.push((()=>e.removeEventListener(t,a,s)))}addClass(e,t){e.classList.add(t),this._handlers.push((()=>e.classList.remove(t)))}addOnClearHandler(e){this._handlers.push(e)}}},1181:(e,t,a)=>{a.d(t,{dG:()=>i,do:()=>s,jo:()=>r});const s=e=>t=>{r(t),e(t)},i=e=>e.stopPropagation();function r(e){e.preventDefault(),e.stopImmediatePropagation()}},7813:(e,t,a)=>{a.d(t,{O$:()=>n,Z5:()=>o,lU:()=>l});var s=a(4323),i=a(8168),r=a(1962);const n={HOVER:["onmouseenter","onmouseleave"],ACTIVE:["onmousedown","onmouseup"],DRAG:["ondragenter","ondragleave"]},o=(e,t="",a={})=>({...l(e,n.HOVER,a),...l(t,n.ACTIVE,a)});function l(e,[t,a],{getNode:n,important:o=!1,restoreOriginalStyles:l=!0}={}){const c=e.split(";").filter(s.zz).map((e=>e.trim())).map((e=>{const[t,a=""]=(0,i.$y)(e,":");return a.endsWith(r.d6)?[t,a,r.d6]:[t,a,""]})),d=[];return{[t]:function(e){const t=n?n():e.currentTarget;0===d.length&&function(e){const t=window.getComputedStyle(e);d.push(...c.map((([e,a])=>[e,t.getPropertyValue(e),t.getPropertyPriority(e)])))}(t);c.forEach((([e,a])=>t.style.setProperty(e,a,o?r.dc:void 0)))},[a]:function(e){const t=n?n():e.currentTarget;d.forEach((([e,a,s])=>l?t.style.setProperty(e,a,s?r.dc:s):t.style.removeProperty(e)))}}}},6004:(e,t,a)=>{a.d(t,{$$:()=>O,$A:()=>I,A0:()=>d,DT:()=>S,Gd:()=>f,LF:()=>v,QX:()=>x,Ub:()=>A,Xm:()=>b,Y6:()=>_,Zl:()=>m,_U:()=>T,dQ:()=>D,eC:()=>g,fq:()=>E,iT:()=>N,mj:()=>y,mx:()=>p,nl:()=>u,t$:()=>h});var s=a(4323),i=a(8168),r=a(4590),n=a(7302),o=a(1962),l=a(9598),c=a(5076);const d=e=>e instanceof HTMLInputElement&&e.setSelectionRange(0,e.value.length);function u(e){const t=document.createDocumentFragment();for(let a=0;a<e.length;a++)t.appendChild(e[a]);return t}function _(e){const[t,a,s]=e;return"string"!=typeof t?u(e.map((e=>e&&_(e)))):(0,l.z)(t,a,s?[_(s)]:void 0)}function p(e,t={}){return(0,l.z)("input",{type:"checkbox",...t,...e?{checked:!0}:{}})}function h(e,t={},a={},s={},[i,r]){const o=(0,l.z)("input",{type:"checkbox",...t,...e?{checked:!0}:{}}),c=(0,l.z)("img",{...s}),d=(0,l.z)("div",{...a},[o,c]),u=()=>c.src=(0,n.Z)(o.checked?i:r);return u(),o.addEventListener("change",u),Object.defineProperty(d,"checked",{get:()=>o.checked,set:e=>{o.checked=e,u()}}),d}const m=e=>(0,s.Kg)(e)?(0,o.$H)(e):e;function v(e,t){const a=window.getComputedStyle(e);Array.from(a).forEach((e=>t.style.setProperty(e,a.getPropertyValue(e),a.getPropertyPriority(e))))}const g=(e,t,a)=>e.style.setProperty(t,a,"important");function O(e){e&&(e.style.display="none")}function f(e){e&&(e.style.display="")}function w(e){e.style.visibility="hidden"}function b(e){e.style.visibility="visible"}async function I(e,t,{styleContainer:a="",styleImg:s="",styleLabel:i=""}={}){const o=_(["div",{class:"flex flex-space-between",style:a},[["img",{src:(0,n.Z)("svg/loading.svg"),style:`width: 18px;${s}`,class:"spinning"}],["label",{textContent:(0,r.tr)("sync_working"),style:i}]]]);return e.insertAdjacentElement("beforebegin",o),await async function(e,t){const a="display",[s,i]=[e.style.getPropertyValue(a),e.style.getPropertyPriority(a)];return e.style.setProperty(a,"none","important"),await t().finally((()=>{e.style.setProperty(a,s,i)}))}(e,t).finally((()=>{o.remove()}))}async function y(e,{time:t=1500,animate:a=!1,animationTime:i=200,removeAfter:r=!1}={}){return b(e),a?(e.style.transition=`opacity ${i}ms ease 0s`,await(0,s.BK)(t),e.style.opacity="0",await(0,s.BK)(i)):await(0,s.BK)(t),r?e.remove():w(e),e}const T=e=>e instanceof HTMLButtonElement||e instanceof HTMLFieldSetElement||e instanceof HTMLInputElement||e instanceof HTMLOptGroupElement||e instanceof HTMLOptionElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement;function S(e="",{important:t=!0,allToInitial:a=!0}={}){if(!a&&!t)return e;const s=e.split(";").filter((e=>e.trim())),i=a?["all: initial",`z-index: ${o.hx}`,"font-family: Verdana, system-ui, sans-serif, Helvetica","font-size: 12px",...s]:s;return(t?i.map((e=>`${e}!important;`)):i).join("")}function E(e,t){const a=t.split(";").filter((e=>e.trim())),s=e.style;a.forEach((e=>{const[t,a]=(0,i.$y)(e,":").map((e=>e.trim())),r=a.endsWith(o.d6),n=r?a.slice(0,o.d6.length).trim():a;s.setProperty(t,n,r?o.dc:"")}))}function A(e){(e=e.isCustomField?e.node:e).focus(),["text","search","url","tel","password"].includes(e.type)&&e.setSelectionRange(0,e.value.length)}const D="overflow: hidden; white-space: nowrap; text-overflow: ellipsis;",N=(e,t=document,a)=>(0,c.J)(t.querySelector(e),a);function x(e,t){for(let a=0;a<t;a++)e=e.parentElement||e;return e}},6346:(e,t,a)=>{a.d(t,{Q:()=>i,Z:()=>r});const s="__modal_window_custom_event",i=(e,t)=>e.dispatchEvent(new CustomEvent(s,{detail:t,bubbles:!0})),r=(e,t)=>e.addEventListener(s,(e=>t(e.detail)))},3091:(e,t,a)=>{a.d(t,{$:()=>r});var s=a(4323),i=a(6004);const r=(e,{rootNode:t=e,USE_PERCENT:a=!1,PERCENT_RATIO:r=100,elementWidth:n,dontMovePredicate:o=s.lQ,onMoveStart:l=s.lQ,onMoveEnd:c=s.lQ,autoLockFrames:d=!1,autoLockFramesContainer:u,keepInWindow:_}={})=>{let p=0,h=0,m=0,v=0,g=!1,O=s.lQ;const f=e=>Math.round(e*n/r),w=e=>Math.round(e*r/n),b=(e,t,s)=>a?O(w(e),w(t),s):O(e,t,s);return t.addEventListener("mousedown",(function(e){if(0!==e.button||o(e))return;l(e),g=!0,e.preventDefault(),d&&(a=u||t,a.querySelectorAll("iframe").forEach((e=>(0,i.eC)(e,"pointer-events","none"))));var a;p=e.pageX-m,h=e.pageY-v;const s=e=>{v=e.pageY-h,m=e.pageX-p,b(m,v,e)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",(e=>{document.removeEventListener("mousemove",s),g=!1,d&&function(e){e.querySelectorAll("iframe").forEach((e=>e.style.removeProperty("pointer-events")))}(u||t),_&&S(),c(e)}),{once:!0})})),_&&window.addEventListener("resize",(()=>S())),{node:e,getX:y,getY:I,shift:(e,t)=>{m+=e,v+=t,O(m,v)},setCallback:e=>O=e,isMoving:()=>g,setPosition:T,moveToViewport:S};function I(){return a?w(v):v}function y(){return a?w(m):m}function T(e=y(),t=I(),s=!1){a&&(e=f(e),t=f(t));const i=m!==e||v!==t;m=e,v=t,(i||s)&&b(m,v)}function S({pixelsToKeep:t}={}){const{top:a,left:i,bottom:r,right:n,height:o,width:l}=e.getBoundingClientRect();a<0&&T(void 0,0);const c=(0,s.qS)(t)?t:(0,s.qS)(_)?_:0,d=Math.max(0,l-c),u=Math.max(0,o-c);i<0-d&&T(0-d,void 0),r>window.innerHeight+u&&T(void 0,Math.max(0,window.innerHeight-o+u)),n>window.innerWidth+d&&T(Math.max(0,window.innerWidth-l+d),void 0)}}},6836:(e,t,a)=>{a.d(t,{XZ:()=>s});a(6062);const s=async e=>(await fetch(e)).blob()},4067:(e,t,a)=>{a.d(t,{W:()=>s});const s=(e,t)=>`background-color: ${t};\n-webkit-mask: url('${e}') center center / contain no-repeat;\nmask: url('${e}') center center / contain no-repeat;`},1471:(e,t,a)=>{a.d(t,{MO:()=>i,ak:()=>s});function s(e,t,a){return s=>{"Escape"===s.key&&e?e(s):"Enter"===s.key&&t?t(s):a&&a(s)}}function i({onKey:e,onArrowUp:t,onArrowDown:a,onEnter:s,onCtrlEnter:i,onEsc:r,preventDefaultOnMatch:n,stopPropagationOnMatch:o,stopPropagation:l}){return c=>{l&&c.stopPropagation(),e&&e(c);switch(c.key){case"Enter":s&&(s(c),d()),c.ctrlKey&&i&&(i(c),d());break;case"Escape":r&&(r(c),d());break;case"ArrowUp":t&&(t(c),d());break;case"ArrowDown":a&&(a(c),d())}function d(){n&&c.preventDefault(),o&&c.stopPropagation()}}}},2460:(e,t,a)=>{a.d(t,{FK:()=>i,RM:()=>s});const s=e=>{let t=0;for(let a=0;a<e.length;a++)t+=e[a];return t},i=e=>Math.floor(100*e)/100},6777:(e,t,a)=>{var s;a.d(t,{w:()=>s}),(e=>{e[e.LEFT=0]="LEFT",e[e.MIDDLE=1]="MIDDLE",e[e.RIGHT=2]="RIGHT"})(s||(s={}))},9100:(e,t,a)=>{a.d(t,{n:()=>s});const s=(e,t,a)=>Math.max(e,Math.min(t,a||0))},7526:(e,t,a)=>{a.d(t,{V:()=>s});const s=(()=>{let e=0;return()=>++e})()},5574:(e,t,a)=>{a.d(t,{R:()=>i,z:()=>s});const s=e=>e[Math.floor(Math.random()*e.length)],i=e=>Math.floor(Math.random()*e)},2804:(e,t,a)=>{"ontouchstart"in self||navigator.maxTouchPoints},1282:(e,t,a)=>{a.d(t,{tX:()=>s});const s=(e,t)=>new Set([...e].filter((e=>!t.has(e))))},2441:(e,t,a)=>{a.d(t,{_:()=>s});class s extends Map{get(e){return super.get(e)||[]}has(e){return this.get(e).length>0}push(e,t){const a=this.get(e);return a.push(t),super.set(e,a)}remove(e,t){const a=this.get(e),s=a.findIndex(t);return s>=0?(a.splice(s,1),0===a.length&&super.delete(e),1):0}}},6690:(e,t,a)=>{a.d(t,{KN:()=>i,hD:()=>r,px:()=>s});const s=e=>`${e}px`,i=e=>`${e}%`,r=e=>`"${e}"`},865:(e,t,a)=>{a.d(t,{aU:()=>i,d6:()=>r,uL:()=>s});const s=browser.tabs.getCurrent();let i=0;const r=s.then((e=>i=e?.id||0))},3941:(e,t,a)=>{async function s(e){return await browser.contextualIdentities.get(e.cookieStoreId).then((()=>!0),(()=>!1))}a.d(t,{M:()=>s})},3672:(e,t,a)=>{function s(e,t,a,s){let i=0,r=0,n=e.length;return t&&(i=(r=e.indexOf(t))+t.length),a&&(n=e.indexOf(a,i)),n<0&&s&&(n=e.length),n<0||r<0?"":e.substring(i,n)}a.d(t,{u:()=>s})},8168:(e,t,a)=>{a.d(t,{$y:()=>n,BB:()=>r,CF:()=>s,WL:()=>i});const s=(e,t=2,a="0")=>`${e}`.padStart(2,"0"),i=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,""),r=e=>e.charAt(0).toUpperCase()+e.substring(1);function n(e,t){const a=e.indexOf(t);return a<0?[e]:[e.substring(0,a),e.substring(a+1)]}},8671:(e,t,a)=>{async function s(e){navigator.clipboard?await navigator.clipboard.writeText(e).catch((e=>{})):function(e){const t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(t)}(e)}a.d(t,{l:()=>s})},7885:(e,t,a)=>{a.d(t,{hS:()=>n,ow:()=>o,ug:()=>c});var s=a(3877),i=a(1962);const r=e=>JSON.stringify(e).replaceAll(/{"|"}/g,"").replaceAll('","',", ").replaceAll('":"',": "),n=()=>"spam_here@fastaddons.com".replace("spam_here","admin"),o=()=>c().then((e=>`${"mailto:"+n()}?subject=${encodeURIComponent(e)}`)),l=()=>navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)?.[2]||"0";async function c(){const e=await(browser.runtime?.getBrowserInfo?.().catch((e=>({err:e,name:i.$b}))))||{name:i.$b,version:l()||navigator.userAgent.match(/Version\/([\d.]+)/)?.[1]},t=await(browser.runtime?.getPlatformInfo?.().catch((e=>({err:e}))))||{os:"unknown"};return`${(0,s.O)()}; ${r(e)}; ${r(t)};`}},4716:(e,t,a)=>{a.d(t,{e:()=>i,w:()=>s});class s{name;options;startTime;stopTime;logger;performance;constructor(e,t={}){this.name=e,this.options=t,this.startTime=0,this.stopTime=0,this.logger=this.options.logger||console,this.performance=this.options.performance||self.performance,this.options=Object.assign({startNow:!0,round:!0,logTimeAbove:0},t),this.options.startNow&&this.start()}start(){this.startTime=this.performance.now()}stop(e=""){if(!this.options.enableInProd)return;this.stopTime=this.performance.now();const t=this.stopTime-this.startTime;if(t<this.options.logTimeAbove)return;const a=`${this.name} ${e} time: ${(this.options.round?Math.round(t):t).toLocaleString("en-US")}`;return this.logger.log(a),a}diff(e=""){const t=this.startTime;this.stopTime&&(this.startTime=this.stopTime);const a=this.stop(e);return this.startTime=t,a}}async function i(e,t,a){const i=new s(e,a),r=await t();return i.stop(),r}},1319:(e,t,a)=>{a.d(t,{G:()=>i});var s=a(1055);const i=()=>{try{return!s.x&&window.self!==window.top}catch(e){return!0}}},3456:(e,t,a)=>{a.d(t,{k:()=>i});var s=a(1374);class i{_listeners=[];constructor(){}register(e){this._listeners.push(e)}unregister(e){(0,s.E6)(this._listeners,e)}notifyAll(e){this._listeners.forEach((t=>t(e)))}}},6672:(e,t,a)=>{a.d(t,{K9:()=>o,QV:()=>i,bZ:()=>n,lX:()=>r});var s=a(8168);const i=(e="")=>(0,s.BB)(e.trim().replace(/.*:\/\/(www\.)?|^www\./,"").replace(/\/$/,""));function r(e,t=!1){try{const a=new URL(e).hostname;return t&&a.startsWith("www.")?a.substring(4):a}catch(e){return""}}function n(e){try{return new URL(e).origin}catch(e){return""}}function o(e){return/^https?:\/\/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/.test(e)}},97:(e,t,a)=>{a.d(t,{X:()=>s});const s=()=>Promise.all([a.e(525),a.e(702)]).then(a.bind(a,6276)).then((e=>e.getVuetifyInstance))},6554:(e,t,a)=>{a.d(t,{A:()=>d});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("img",{directives:[{name:"intersect",rawName:"v-intersect.once",value:{handler:e.onIntersect,options:{rootMargin:"100px"}},expression:"{ handler: onIntersect, options: { rootMargin: '100px' } }",modifiers:{once:!0}}],key:e.updateView,style:e.getDialFavicon(e.dial).style,attrs:{src:e.getDialFavicon(e.dial).src}})};s._withStripped=!0;var i=a(5471),r=a(9510),n=a(489),o=a(1962);const l={},c=i.default.extend({props:{dial:{type:Object,required:!0}},name:"dial_favicon",data:()=>({updateView:0}),methods:{onIntersect(e,t,a){a&&this.updateFaviconStore(this.dial)},getDialFavicon(e){const t=document.createElement("img");return e instanceof n.z&&e.styleIcon(t,l[e.url]?.iconBlobURL),{style:t.style.cssText,src:t.src||o.RO}},async updateFaviconStore(e){if(e.url&&!l.hasOwnProperty(e.url)){l[e.url]=void 0;const t=await(0,r.Q)(e.groupId,e.url);t&&(l[e.url]=t,this.updateView++)}}}});const d=(0,a(4486).A)(c,s,[],!1,null,"cc55beca",null).exports},4242:(e,t,a)=>{a.d(t,{A:()=>l});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("img",{style:e.getGroupFavicon(e.group).style,attrs:{src:e.getGroupFavicon(e.group).src}})};s._withStripped=!0;var i=a(5471),r=a(1962),n=a(1589);const o=i.default.extend({props:{group:{type:Object,required:!0}},name:"group_favicon",methods:{getGroupFavicon(e){const t=e.styleIcon(void 0,e.color||(this.$vuetify.theme.dark?"#fff":"#000"),n.v.GROUP_TAG);return{style:t.style.cssText,src:t.src||r.RO}}}});const l=(0,a(4486).A)(o,s,[],!1,null,"800f50ee",null).exports},5431:(e,t,a)=>{a.d(t,{A:()=>u});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flex pro_label",attrs:{title:e.proTitle},on:{mousedown:e.redirectStore}},[t("div",{ref:"nested",class:e.className,style:e.disabledStyle},[e._t("default")],2),e._v(" "),e.isPro?e._e():t("img",{staticStyle:{height:"28px"},style:{marginLeft:e.offsetLeft,marginTop:e.offsetTop,zIndex:e.zIndex},attrs:{src:e.PRO_ICON,alt:""}})])};s._withStripped=!0;var i=a(4298),r=a(5471),n=a(2036),o=a(8408),l=a(4590),c=a(1181);const d=r.default.extend({name:"pro_label",props:{trTitle:String,title:String,allow:Boolean,offsetLeft:String,offsetTop:String,zIndex:String,className:String,autoWidth:Boolean},data:()=>({PRO_ICON:i.In}),async created(){await(0,n.FJ)()?this.PRO_ICON="":this.$refs.nested.querySelectorAll("input").forEach((e=>e.setAttribute("disabled","true")))},computed:{disabledStyle(){return this.isPro?{}:{opacity:"0.5","pointer-events":"none",...this.autoWidth?{width:"auto"}:{}}},proTitle(){const e=this.title||(this.trTitle?(0,l.tr)(this.trTitle):"");return this.isPro?e:`${(0,l.tr)("msg_pro_header")}\n${(0,l.tr)("msg_pro_support")}\n\n${e}`.trim()},isPro(){return this.allow||!this.PRO_ICON}},methods:{redirectStore(e){this.isPro||((0,c.jo)(e),(0,o.K)(i.Bq,{nextToCurrent:!0,active:!0,inNewTab:!0}))}}});const u=(0,a(4486).A)(d,s,[],!1,null,"ddf49c3c",null).exports},1368:(e,t,a)=>{a.d(t,{A:()=>n});var s=function(){var e=this,t=e._self._c;return t("v-slider",{staticClass:"my-2",attrs:{value:e.value??e.defaultValue,min:e.min,max:e.max,label:e.tr(e.label,e.label_param),disabled:e.disabled||!e.enabled,step:e.step,"thumb-label":"","hide-details":""},on:{input:e.emitValue},scopedSlots:e._u([{key:"prepend",fn:()=>[e.optional?t("v-checkbox",{staticClass:"mt-0 pt-0",attrs:{"hide-details":"",title:e.tr(e.enabled?"o_enabled":"o_disabled")},on:{change:t=>e.emitValue(e.enabled?e.defaultValue:void 0)},model:{value:e.enabled,callback:t=>{e.enabled=t},expression:"enabled"}}):e._e()],proxy:!0},{key:"append",fn:()=>[t("label",{staticClass:"nowrap text--secondary",attrs:{title:`${e.value} ${e.unitsTittle}`}},[e._v(e._s(e.value)+" "+e._s(e.unitsLabel))]),e._v(" "),t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:["field_set_default",e.defaultValue+e.unitsLabel],expression:"['field_set_default', defaultValue + unitsLabel]",arg:"title"}],staticClass:"ml-2 text--secondary",attrs:{"x-small":"",icon:"",right:"",disabled:e.disabled||!e.enabled},on:{click:t=>e.emitValue(e.defaultValue)}},[t("v-icon",[e._v("fa-rotate-left")])],1)],proxy:!0}])})};s._withStripped=!0;var i=a(4590);const r={name:"slider",props:{value:{type:Number,required:!1},label:{type:String,required:!0},label_param:{type:String},defaultValue:{type:Number,required:!0},min:{type:Number,required:!0},max:{type:Number,required:!0},disabled:{type:Boolean,default:!1},step:{type:Number,default:1},units:{type:String,default:""},unitsTitle:{type:String,default:""},optional:{type:Boolean,default:!1}},data(){return{enabled:Number.isInteger(this.value)}},computed:{unitsLabel(){return this.units.length<=1?this.units:(0,i.tr)(this.units)},unitsTittle(){return this.unitsTitle?(0,i.tr)(this.unitsTitle):this.unitsLabel}},methods:{tr:i.tr,emitValue(e){this.$emit("input",e),this.$emit("change",e)}}};const n=(0,a(4486).A)(r,s,[],!1,null,"453c9111",null).exports},8642:(e,t,a)=>{a.d(t,{A:()=>r});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"flex flex-space-between_10"},[t("v-text-field",{staticClass:"ma-0 pa-0 custom_picker",attrs:{value:e.value,solo:"",disabled:e.disabled,"hide-details":""},on:{input:t=>e.$emit("input",e.color)},scopedSlots:e._u([{key:"append",fn:()=>[e.showReset&&e.value!==e.defaultValue?t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:["field_set_default",e.defaultValue],expression:"['field_set_default', defaultValue]",arg:"title"}],staticClass:"mx-3 text--secondary",attrs:{small:"",icon:"",right:""},on:{click:t=>{e.color=e.defaultValue,e.$emit("input",e.defaultValue),e.$emit("change")}}},[t("v-icon",[e._v("fa-rotate-left")])],1):e._e(),e._v(" "),t("v-menu",{attrs:{top:"","nudge-bottom":"255","nudge-left":"16","close-on-content-click":!1},on:{input:t=>e.$emit("opened",t)},scopedSlots:e._u([{key:"activator",fn:({on:a})=>[t("div",e._g({style:e.swatchStyle},a))]}]),model:{value:e.menu,callback:t=>{e.menu=t},expression:"menu"}},[e._v(" "),t("v-card",[t("v-card-text",{staticClass:"pa-0"},[t("v-color-picker",{attrs:{value:e.value,flat:"","show-swatches":""},on:{input:t=>e.$emit("input",e.color)},model:{value:e.color,callback:t=>{e.color=t},expression:"color"}})],1)],1)],1)],proxy:!0}]),model:{value:e.color,callback:t=>{e.color=t},expression:"color"}})],1)};s._withStripped=!0;const i=a(5471).default.extend({name:"color_picker_input",props:{disabled:Boolean,value:String,defaultValue:String,showReset:Boolean},data(){return{color:this.value||this.defaultValue,menu:!1}},watch:{disabled(e){e||this.$emit("input",this.color)}},mounted(){this.$root.$el.addEventListener("keydown",(e=>{"Escape"===e.key&&(e.stopPropagation(),this.menu=!1)}))},computed:{swatchStyle(){return{backgroundColor:this.color,cursor:"pointer",height:"30px",width:"30px",borderRadius:this.menu?"50%":"4px",border:"1px solid #99999988",transition:"border-radius 200ms ease-in-out"}}}});const r=(0,a(4486).A)(i,s,[],!1,null,"4a76aa26",null).exports},5278:(e,t,a)=>{a.d(t,{A:()=>l});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-list-item",{on:{click:t=>e.theme.toggle()},scopedSlots:e._u([{key:"default",fn:({active:a})=>[t("v-list-item-action",[t("v-switch",{attrs:{value:e.theme.isDark,disabled:e.theme.isSystem},model:{value:e.isDark,callback:t=>{e.isDark=t},expression:"isDark"}},[e._t("label")],2)],1),e._v(" "),t("v-list-item-title",{domProps:{textContent:e._s(e.tr("dark_mode"))}}),e._v(" "),t("v-list-item-action",[t("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},scopedSlots:e._u([{key:"activator",fn:({on:a})=>[t("v-btn",e._g({attrs:{icon:""}},a),[t("v-icon",[e._v("fa-ellipsis-v")])],1)]}],null,!0),model:{value:e.menu,callback:t=>{e.menu=t},expression:"menu"}},[e._v(" "),t("v-card",[t("v-card-actions",[t("v-switch",{attrs:{label:e.tr("dark_mode_system")},model:{value:e.theme.isSystem,callback:t=>{e.$set(e.theme,"isSystem",t)},expression:"theme.isSystem"}})],1)],1)],1)],1)]}],null,!0)})};s._withStripped=!0;var i=a(5471),r=a(4590),n=a(7879);const o=i.default.extend({name:"dark_theme_switch",data:()=>({theme:n.H,isDark:n.H.isDark,menu:!1,tr:r.tr})});const l=(0,a(4486).A)(o,s,[],!1,null,"0c069577",null).exports},3120:(e,t,a)=>{a.d(t,{A:()=>o});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-spacer",{staticStyle:{height:"100%",cursor:"move"},attrs:{"data-draggable-top":""},on:{dblclick:function(t){return t.stopPropagation(),e.maximize.apply(null,arguments)}}})};s._withStripped=!0;var i=a(5471),r=a(6346);const n=i.default.extend({name:"draggable_top",methods:{maximize(){(0,r.Q)(this.$el,{type:"maximize"})}}});const o=(0,a(4486).A)(n,s,[],!1,null,null,null).exports}}]);
"use strict";"object"==typeof VApi&&VApi&&"function"==typeof VApi.d&&VApi.d(1);var e=e||"",t=t||"",l={g:0,y(e){n.M(e);let t=l;t.T.o=(e.mode||"")+""||"omni",t.T.t=0,t.I(2,!!e.currentWindow),t.I(4,(e.preferTabs||"").includes("new")),t.I(128,"from-start"===e.tree),t.I(8,!!e.tree),t.I(16,null),t.I(32,null),t.I(256,!!e.noTabs),t.I(512,!!e.hiddenTabs),t.I(2048,!!e.incognitoTabs),t.I(1024,!!e.noSessions),t.S=e;let r=e.engines;r instanceof Array&&(r=r.join()),"string"==typeof r&&r&&(r=(r.includes("bookmark")?1:0)+(r.includes("history")?2:0)+(r.includes("tab")?4:0)+(r.includes("search")?8:0)+(r.includes("domain")?16:0)),t.T.e=0|(r||0),t.T.e&&(t.T.o="omni"),t.$=null;let i,{url:a,keyword:o,p:u}=e,s=e.z,f=t.E=s<.98?1/s:1;if(t.A(e.w*t.C+24),t.T.r=Math.max(3,Math.min(0|(e.h/f/1-t.L-78)/t.R,t.O)),t.x&&t.x(e.t),t.U.fontSize=f>1?f+"px":"",o=(o||"")+"",null==a)return t.F(o&&o+" ");if(u)i=u.s,a=u.u,o||(o=u.k);else if(null===u)a=n.K(a).replace(/\s$/g,"%20"),!o&&/^https?:\/\//i.test(a)&&(t.$=115==(32|a.charCodeAt(4)),a=a.slice(t.$?0:7,a.indexOf("/",8)===a.length-1?-1:void 0));else{let e=a.trimRight().length!==a.length;a=n.K(a,decodeURIComponent),a=(e?a:a.trim()).replace(t.W," ")}return!o||u&&u.c?t.F(a):(i=(i||0)+o.length+1,t.F(o+" "+a,i,i+a.length))},B:false,V:1,S:null,D:"",P:"",Q:true,G:0,Z:null,J:0,X:Math.min(Math.max(3,0|window.VomnibarMaxPageNum||10),100),Y:false,ee:null,$:null,te:null,le:false,ne:-1,re:0,ie:0,ae:"",oe:false,ue:false,se:0,fe:false,ce:0,de:0,me:false,E:1,_e:0,pe:0,he:null,ge:null,U:null,we:null,ye:null,ve:null,ke:true,be:0,Me:0,Te:0,Ie:null,Se:null,$e:null,Ee:null,He:null,Ae:-1,Ce:0,Ne:0,Le:0,Re:0,Oe:0,xe:0,Ue:1,Fe:0,Ke:2,We:998,je:false,qe:2,Be:null,Ve:0,O:0,De:0,Pe:77,L:80,R:44,C:.8,ze:"",Qe:null,Ge:null,Ze:0,Je:0,Xe(){let e=l;e.ue=true,setTimeout(e.Ye,0),document.body.addEventListener("wheel",e.et,{passive:false,capture:true})},tt(e){let t=l,n=t.ge;t.B=t.ue=t.Y=t.fe=false,t.ee=t.he=null,t.se=t.ce=t.G=0,document.body.removeEventListener("wheel",t.et,{passive:false,capture:true}),t.Ne>0&&clearTimeout(t.Ne),window.onkeyup=null,removeEventListener("keyup",t.lt,true),e||r&&r.nt({H:11,t:2,o:!t.Ee,k:t.be}),n.blur(),t.we.visibility="hidden",t.rt(),t.U.cssText="",t.Ie.textContent=n.value="",t.Ie.style.height="",t.ve.remove("empty"),t.Ie.classList.remove("no-favicon"),t.lt(0),t.Ce=requestAnimationFrame(t.it),t.Ne=setTimeout(t.it,t.Ee?35:17)},it(){let e=l;e.Ce&&cancelAnimationFrame(e.Ce),e.Ne&&clearTimeout(e.Ne),e.Ce=e.Ne=0,e.pe&&e.at()},at(){r&&r.ot({N:0});let e=l;if(e.Ne=e.pe=e.re=e.ie=e.Re=e.Oe=e.ne=e.G=e.J=e.be=e.Me=e.xe=n.ut=0,e.E=1,e.S=e.Z=e.Se=e.te=e.$=null,e.T.q=e.P=e.D=e.ae="",e.T.o="omni",e.T.t=0,e.le=false,e.Ee&&r){if(document.hasFocus()&&0!==e.Ee[1]){let t=()=>{let e=l.Ee;clearTimeout(n),l.Ee=null,r&&e&&(e[0](),/a?/.test(""))},n=setTimeout(t,67);return void(e.$e=()=>{l.$e=null,setTimeout(t,1)})}setTimeout(e.Ee[0],1)}else/a?/.test("");e.Ee=null},F(e,t,n){let r=l;/^\+\d\d?$/.test(e.trim())&&(t=n=0,e=" "+e.trim()),r.D=e,r.Q=r.ue=false,r.te=r.$,r.T.q=r.P=e&&e.trim().replace(r.W," "),r.pe=0,r.it(),r.B=true,r.st(0),r.ft&&r.ft(),r.ge.value=r.D,t<=n&&r.ge.setSelectionRange(t,n)},Ye(e){let t=l;if(!t.ue)return t.se=0,void(t.fe=false);t.se=performance.now(),t.fe=false,false!==e?(t.ge.focus(),t.fe&&t.oe||(e=e?0|e:0)<5&&setTimeout(t.Ye,33,e+1)):r.nt({H:11,t:2,k:t.be})},st(e,t){let n=l;if(n.Se=t||null,e>=0){if(n.ee=null,n.Ne>0&&clearTimeout(n.Ne),0===e)return n.ct()}else{if(n.Ne>0)return;e=n.De}n.Ne=setTimeout(n.dt,e)},mt(){let e=l,t=e.oe,i=e.ce;if(e.ke=false,-1===e.Ae){e.te=e.$,e.Y=false,e.ge.value=e.D;let l=e._t.exec(e.D);if(l&&(!e.Z.length||"search"!==e.Z[0].e)){let t=e.D.length-l[0].length;e.ge.setSelectionRange(t,t)}return void(t||(e.Ye(),e.ce=i))}i&&t&&e.ge.blur();let a=e.Z[e.Ae];if(a.pt)return e.ht(a,a.pt);if(null==a.gt&&(a.gt=a.u.startsWith("https://")),"history"!==a.e&&"tab"!==a.e&&!("search"===a.e&&e.T.q.startsWith(":")))return null==a.pt&&(n.wt(a),a.pt=""),e.ht(a,a.t),void("math"===a.e&&!i&&e.ge.select());let o=!a.t,u=a.u,s=n.wt(a),f=o||!/[^\x00-\x7f]/.test(a.t),c=f?u:n.K(u,decodeURIComponent);!f&&c.length===u.length&&u.includes("%")&&(c=a.t,s&&(c=c.lastIndexOf("://",5)<0?(7===s?"http://":"https://")+c:c,c=u.endsWith("/")&&!c.endsWith("/")?c+"/":c)),r.nt({H:4,i:e.Ae,u:c})},pt({i:e,s:t}){let n=l.Z[e];if(n.pt=t?((l.T.e?8&l.T.e:l.T.o.endsWith("omni"))&&!l.ae?"":":o ")+t.k+" "+t.u+" ":l.ae+n.t,e===l.Ae)return l.ht(n,n.pt)},yt(){let e=l;if(e.Ae<0)return;if(e.ke)return e.D=e.ge.value,e.mt();let t=e.Z[e.Ae],n=e.ge.value.trim();return e.ae&&(n=n.slice(e.ae.length)),n=n===(t.title||t.u)?t.pt||e.ae+(t.title===t.t?t.u:t.t):e.ae+(t.title&&n===t.u?t.title:n===t.t?t.u:t.t),e.ht(t,n)},ht(e,t){let n=10*t.length,r=n>innerWidth-84;l.ge.value!==t&&(l.ge.value=t,"domain"===e.e&&l.ge.select()),r&&(l.ge.scrollLeft=n),l.te=e.gt&&t===e.t,l.Y=t!==e.pt||e.pt===e.t},vt(e){let t=l,n=t.Ie.children,r=t.Ae;(t.ke||-1===r)&&(t.D=t.ge.value),t.Ae=e,t.mt(),r>=1&&n[r-1].classList.remove("p"),r>=0&&n[r].classList.remove("s"),e>=1&&n[e-1].classList.add("p"),e>=0&&n[e].classList.add("s")},kt:["space","pageup","pagedown","end","home","left","up","right","down","","","","","insert","delete"],bt:["Semicolon","Equal","Comma","Minus","Period","Slash","Backquote","BracketLeft","Backslash","BracketRight","Quote","IntlBackslash"],Mt:{Alt:1,AltGraph:1,Control:1,Meta:1,OS:1,Shift:1},Tt:0,It(e){let t,n=e.keyCode;return n>31&&n<47?l.kt[n-32]:n<47||91===n||224===n&&!l.qe?8===n?"backspace":27===n?"esc":9===n?"tab":13===n?"enter":(n<19?n>15:n>90)?l.Ve>63&&l.Ve>>6===e.location?"modifier":18===n?"alt":" ":"":93===n&&true?"contextmenu":((t=e.key)?/^F\d/.test(t):n>111&&n<132)?"f"+(t?t.slice(1):n-111):t&&t.length>1&&!l.Mt[t]?t.toLowerCase():""},St:0,$t(e){let t=l.Et(e),n=e.key,r="Dead"===n||"Unidentified"===n,i=e.code;if(1&l.Ve||8&l.Ve&&e.altKey||r||n>"~"&&1===n.length){let a,o=i.slice(0,3),u=n.length<2||r;"Num"!==o&&("Key"!==o&&"Dig"!==o&&"Arr"!==o||(i=i.slice(i<"K"?5:3)),n=1===i.length&&u?!t||i<"0"||i>"9"?i:")!@#$%^&*("[+i]:l.Mt[n]?l.Ve>63&&l.Ve>>6===e.location?"modifier":"Alt"===n?n:"":"Escape"===n?"esc":i.length<2||!u?n.startsWith("Arrow")&&n.slice(5)||n:(a=l.bt.indexOf(i))<0?i:";=,-./`[\\]'\\:+<_>?~{|}\"|"[a+12*+t]),n=t&&n.length<2?n:n.toLowerCase()}else n=n.length>1||" "===n?(l.It(e)||n.toLowerCase()).trim():t?n.toUpperCase():n.toLowerCase();return n},Et(e){let t=e.key;return 1===t.length&&e.getModifierState("CapsLock")?t!==t.toUpperCase():e.shiftKey},Ht(e){let t,n=l.$t(e),r=n;if(n){let i=`${e.altKey?"a-":""}${e.ctrlKey?"c-":""}${e.metaKey?"m-":""}`,a=n.toLowerCase(),o=n.length>1,u=l.Et(e)&&(o||i&&n.toUpperCase()!==a)?i+"s-":i;r=o||u?u+a:n,l.Be&&(t=l.Be[r+":o"]||l.Be[r],t=t||(!o&&(t=l.Be[a])&&t.length<2&&(i=t.toUpperCase())!==t?u?u+t:n===a?t:i:""))}return t?{mapped:true,key:t}:{mapped:false,key:r}},At:{space:9,j:8,k:6,n:8,p:6,"[":1,"]":9,up:10,down:11,tab:6,delete:12},Ct:{tab:8,esc:1,pageup:10,pagedown:11,up:6,down:8,f1:4,f2:5},Nt(e){let t=l,n=e.keyCode,i=t.oe,{mapped:a,key:o}=229!==n?t.Ht(e):{mapped:false,key:""};if(t.be=t.qe||!e.metaKey?n:0,t.Me=e.shiftKey&&!(16===n&&!e.repeat)&&(16!==n&&1===o.length||t.Me),!o)return t.Le&&!t.Mt[e.key]&&t.lt(0),void(t.Te=!i||93===n&&t.qe||229===n?0:1);if(o.startsWith("v-"))return r.nt({H:39,k:`<${o}>`,l:n,e:i?[t.ge.localName,t.ge.id,t.ge.className]:["body","",""]}),void(t.Le&&t.lt(0));let u,s=0,f=o.slice(o.lastIndexOf("-")+1)||o&&"-",c=o.includes("-",1)?o[0]:"";if("a"===c){if("a-alt"===o||"a-modifier"===o)return t.Le||addEventListener("keyup",t.lt,true),void(t.Le=t.Le||setTimeout(t.lt,260,-1));if("down"===f||"up"===f||/^[jknp]$/.test(f))return t.Lt(f<"o"&&"k"!==f?8:6);t.Le&&t.lt(0)}if(c&&c<"s"&&i){if(!("left"!==f&&"right"!==f||t.qe&&o.includes("m-")))return s=(o.includes("s-")?f>"r"?71:72:f>"r"?70:66)-64,void t.Rt(s);if("backspace"===f)return void(c>"a"||!t.qe&&!o.includes("a-c-")?t.Rt(c<"m"?-1:o.includes("s-")?-3:-2):t.qe<2||o.includes("a-c-")||0?document.execCommand(o.includes("s-")?"redo":"undo"):t.Te=1)}if("a"===c||"m"===c){if("f2"===f)return t.Lt(i?3:2);if(f>="0"&&f<="9"&&(t.qe||/[cm]-/.test(o)))return u=+f||10,void(u<=t.Z.length&&t.Ot(true,u-1));if(i&&1===f.length&&f>"a"&&f<"g"&&"c"!==f&&!(t.qe&&"a-d"===o))return t.Rt(f.charCodeAt(0)-96);if("a-c-c"===o||"a-m-c"===o)return t.Lt(17);if("a"===c&&"enter"!==f)return void(t.Te=0)}if("enter"!==f){if("c"===c||"m"===c)if("c"===f)s=t.Ae>=0&&"Range"!==getSelection().type&&true?o.includes("s")?16:13:o.includes("s")?17:t.qe||"c-c"!==o?0:13;else if("c-v"!==o||t.qe){if("c-d"===o&&t.qe)return t.Rt(4);if(o.includes("s-"))s="f"===f?11:"b"===f?10:"v"===f?18:0;else{if("up"===f||"down"===f||"end"===f||"home"===f)return e.preventDefault(),t._e=e.timeStamp,t.Ze=-n,window.onkeyup=l.xt,void r.ot({N:6,k:o,b:f});"delete"===f||"tab"===f?t.Te=1:s="["===f?1:"]"===f?9:t.At[f]||0}}else s=18;else if("s"===c)s=(32!==n||!t.Me)&&t.At[f]||0;else if(s=t.Ct[f]||0);else{if(f>"f0"&&f<"f:")return void(t.Te=0);if(!i||"home"!==f&&"end"!==f){if(8===n)return void(i&&(t.Te=1));if("space"!==f);else if(i){if(!a&&(t.Ae>=0||t.Z.length<=1)&&t.ge.value.endsWith("  "))return t.Ot(true)}else s=2}else s=f>"h"?14:15}if(s)return t.Lt(s);i||1!==f.length||isNaN(u=parseInt(f,10))?t.Te=(i?!(93===n&&t.qe):o.length>1)?1:0:(u=u||10,u<=t.Z.length&&t.Ot(o,u-1))}else e.metaKey||"Enter"!==e.key&&13!==n?t.Ot(o):window.onkeyup=t.Ut.bind(null,o,a)},Lt(e){let t,i=l;switch(e){case 1:if("Range"!==getSelection().type||!i.oe)return i.tt();{let e=i.ge;t="backward"!==e.selectionDirection&&e.selectionEnd<e.value.length?e.selectionStart:e.selectionEnd,e.setSelectionRange(t,t)}break;case 2:i.Ye();break;case 3:i.ce=1,i.ge.blur();break;case 4:case 5:i.oe?5===e?i.Ye(false):document.execCommand("delete"):i.Ye();break;case 6:case 8:return i.Ne?(i.Se=()=>{i.Ae=-1,i.ke=false,i.Lt(e)},void(i.Ne>0&&i.st(0,i.Se))):(t=i.Z.length+1,t=(t+i.Ae+(e-6))%t-1,i.vt(t));case 9:return i.yt();case 10:case 11:return i.Ft(10!==e);case 12:return i.Kt();case 13:case 16:let l=i.Z[i.Ae],a=l.title,o=l.e,u="math"===o;return n.wt(l),a=16!==e||"search"===o||u||a===l.u||a===l.t?"":a,r.nt({H:42,t:u?l.textSplit+" = "+l.t:a,u:u?"":l.u});case 17:case 18:let s=navigator.clipboard,f=s&&17===e?getSelection()+"":"";17===e?f&&s.writeText(f):document.execCommand("paste"),17===e&&f&&r.nt({H:43,t:f});break;case 14:case 15:t=14===e?0:i.ge.value.length,i.ge.setSelectionRange(t,t),i.ge.scrollLeft=t?i.ge.scrollWidth:0}},Rt(e,t,n){let r,i=l.We>77?new RegExp("[^\\p{L}\\p{Nd}_]+","u"):/[^\w\u0386-\u03fb\u4e00-\u9fff]+/,a=4===e||e<0,o=a||e>6,u=e>3&&e<8,s=l.ge,f=/\s+/,{value:c,selectionStart:d,selectionEnd:m}=s,_="backward"!==s.selectionDirection,p=_?d:m,h=_?m:d,g=p,w=h;if(e<-1)g=0,w=e<-2?c.length:m;else if(a&&p!==h);else if(2===n)w+=u?w<c.length?1:0:w>0?-1:0,w+=w<c.length&&/[\udc00-\udcff]/.test(c[w])?u?1:-1:0;else if(u){let e=i.exec(c.slice(w)),t=e?e.index:0;r=e?e[0]:"",w=e?w+t+(o&&(e=/\S/.exec(r))?e.index||(t?0:(e=f.exec(r))?e.index+e[0].length:r.length):r.length):c.length}else{for(g=w=c.slice(0,w).trimRight().length;0<=--w&&i.test(c[w])&&(!o||!f.test(c[w])););if(!o||w===g-1)for(;0<=w&&!i.test(c[w]);)w--;g=p,w++}g===p&&w===h||(o||(g=w),s.setSelectionRange(w<g?w:g,w<g?g:w,w<g?"backward":"forward")),a&&g!==w&&document.execCommand("delete");let{scrollWidth:y,clientWidth:v}=s;if(y<v+1)return;let k=s.scrollLeft,b=getComputedStyle(s),M=b.font,T=(l.he||(l.he=document.createElement("canvas"))).getContext("2d");T.font!==M&&(T.font=M);let I=w+w<c.length,S=T.measureText(I?c.slice(0,w):c.slice(w)).width,$=(I?S+(0|+b.paddingLeft)+(0|+b.paddingRight):y-S)-v;(k<$+4?k<y-v:k>$+v-4&&k>0)&&(s.scrollLeft=Math.min(Math.max(0,k<$+4?$+40:$+v-40),y-v))},_t:/(?:^|\s)(\+\d{0,2})$/,Ft(e){let t=l;if(t.le)return;let n=t.Z.length,r=t.T.r,i=+e||-1,a=(t.ke||t.Ae<0?t.ge.value:t.D).trimRight(),o=t._t.exec(a),u=0|(o&&o[0]);if(n>=r)i*=r;else if(u>0&&i<0)i*=u>=r?r:1;else if(n<(n&&"tab"!==t.Z[0].e?r:3))return;let s=Math.min(Math.max(0,u+i),t.X*r-r);if(i>0&&(s===u||s>=t.J&&t.J>0))return;o&&(a=a.slice(0,-o[0].length)),a=a.trimRight(),u=Math.min(t.ge.selectionEnd,a.length),s>0&&(a+=" +"+s);let f=t.ge.selectionStart,c=t.ge.selectionDirection;t.ge.value=a,t.ge.setSelectionRange(f,u,c),t.ee=null,t.st(0)},Ot(e,t){var n;let i=l,a=i.S,o=null!=t?t:i.Ae;if("string"==typeof e&&(e=(e.includes("a-")?1:0)+(e.includes("c-")?2:0)+(e.includes("m-")?4:0)+(e.includes("s-")?8:0)),i.ne=null==e?i.ne:true===e?null:14&e&&a.clickLike?i.Wt(e):6&e?8&e?-2:-1:8&e?0:null,-1===o){let t=i.ge.value.trim();if(!t)return;if((false===a.searchInput||a.itemField)&&!e&&!t.includes("://"))try{new URL(t)}catch(e){return}}if(null==t&&i.Ne){if(!i.Y)return i.Ne>0?i.st(0,i.Ot):void(i.Se=i.Ot);o=-1}let u=o>=0,s=a.testUrl,f=u?i.Z[o]:{u:i.ge.value.trim()},c=a.sed,d=a.itemSedKeys||null,m=d?{r:true,k:d+""}:null,_=a.itemKeyword,p=a.itemField,h=null!==(n=i.ne)&&void 0!==n?n:a.newtab?-1:0,g=!u||null==f.s||m||_?{H:8,f:false,r:h,h:u?null:i.te,u:p&&u?p in f?f[p]+"":"":f.u,o:{i:a.incognito,s:u?m||{r:false,k:""}:"object"==typeof c&&c||{r:c,k:a.inputSedKeys||a.sedKeys||a.sedKey},k:(u||!p)&&_||null,p:a.position,t:u?!!s:null!=s?s:"whole"}}:null,w=g?null:{H:7,a:null===i.ne?1:-1===h?2:0,s:f.s},y=()=>{r&&(g?l.jt(g,h):l.qt(w,"tab"===f.e)),/a?/.test("")};if(!u&&e&&!0!==e&&1&e&&h>-2&&/^\w+(-\w+)?$/.test(f.u)){let e=i.Z.filter(e=>"domain"===e.e);g.u=e.length?e[0].u:`www.${f.u}.com`}h>-2||e&&!0!==e&&1&e?(i.Ee=[y,h],i.tt()):y()},Ut(e,t,n){let r=n.keyCode;if(n.isTrusted){window.onkeyup=null;let i=l,a="enter"!==e||t?e:(n.altKey||18===r?1:0)+(n.ctrlKey||17===r?2:0)+(n.metaKey||r>90&&r<94||224===r?4:0)+(n.shiftKey||16===r?8:0);if(!i.B)return;i.be=0,i.Ot(e,("string"==typeof a?"a-enter"===a:1===a)?!i.Ae&&i.ke?-1:i.Ae:null)}},Wt(e){let t=l,n=true===t.S.clickLike?"chrome":t.S.clickLike+"",r=6&e,i=8&e;return(n.endsWith("2")?n.includes("chro"):n.includes("viva"))?r?i?2:-2:-1:r?!!i!=!!t.S.activeOnCtrl?-1:-2:2},Kt(){if(l.Ae<0||l.Ne)return;let e=l.Z[l.Ae],t=e.e;"tab"===t||"history"===t&&true?(r.nt({H:25,t,s:e.s,u:e.u}),l.Bt()):r.nt({H:25,t:"e"})},Vt(e){let t=l,r=e.target;if(e.isTrusted&&!e.button&&r!==t.ge&&"Range"!==getSelection().type){if(r===t.ge.parentElement)return t.Ye();if(t.Ne)n.Dt(e,1);else{for(;r&&r.parentElement!==t.Ie;)r=r.parentElement;r&&(t.be=0,n.Dt(e,1),t.Ot(e.altKey|2*e.ctrlKey|4*e.metaKey|8*e.shiftKey,[].indexOf.call(t.Ie.children,r)))}}},Pt(e){let t,n=e.target,r=HTMLAnchorElement;if(n instanceof r||(n=n.parentElement),!(n instanceof r)||n.href)return;for(t=n;t&&t.parentElement!==l.Ie;t=t.parentElement);let i=[].indexOf.call(l.Ie.children,t);i>=0&&(n.href=l.Z[i].u)},zt(){let e=this;if(0!==e.selectionStart||"backward"!==e.selectionDirection)return;let t=e.value,l=e.selectionEnd-1;32===t.charCodeAt(l)&&l!==t.length-1&&(t=t.slice(0,l).trimRight(),t.includes(" ")||e.setSelectionRange(0,t.length,"backward"))},dt(){r&&l.B&&l.ct()},et(e){if(e.ctrlKey||e.metaKey||!e.isTrusted)return;let t=l,r=e.deltaY,i=Date.now(),a=e.deltaMode,o=e.target,u=t.ge,s=e.deltaX;if(s=!r||s&&Math.abs(s/r)>.66?s:0,t.B&&o==u&&!r&&(s<0?u.scrollLeft>0:u.scrollLeft+.01<u.scrollWidth-u.clientWidth))return;n.Dt(e,1);let f=Math.abs(r||s),c=1===a||!a&&!(s*r)&&(t.Fe?f>=Math.abs(t.Fe):f%10==0&&f>=150);if(r&&o===u)return void t.Rt(r<0!=(c!==t.Fe<0)?5:2,0,c?1:2);if(s||!r||!t.B||t.le||t.ye.contains(o)&&t.ye!==o)return;(i-t.Oe>(a||c?330:120)||i-t.Oe<-33)&&(t.xe=0,t.Re=0),t.Oe=i;let d=Math.max(1,1+Math.log(t.Ue)),m=t.xe+(c?100*r*t.Ue:c||a?300*r:r*d);Math.abs(m)<300||t.Re&&i-t.Re>-33&&i-t.Re<150/d?t.xe=m:(t.xe=Math.abs(m)%300*(m>0?1:-1),t.Re=i,t.Ft(r>0))},Qt(e){let t=l,n=t.P,r=t.ge.value,i=r.trim(),a=t.G;if(t.ce=t.G=0,i===(-1===t.Ae||t.ke?n:t.Z[t.Ae].t))return;if(1===t.re&&i.startsWith(n)&&(!i.includes(" /",n.length)||/^\/|\s\//.test(i.slice(0,n.length-1))||!(t.T.e?1&t.T.e:"bomni bookmarks".includes(t.T.o))))return;i||(t.te=t.$=null);let o,u=t.ge.selectionStart;if(u&&" "===r[u-1]&&i.length>5&&i.includes(" ")&&i.startsWith(n)&&" "!==r[u-2]&&(a=2),t.le);else if(u>r.length-2){if(r.endsWith(" +")&&!t.Ne&&i.slice(0,-2).trimRight()===n)return}else if((o=t._t.exec(n))&&i.endsWith(o[0])){let e=o[0].length,l=r.slice(0,r.trimRight().length-e);l.trim()!==n.slice(0,-e).trimRight()&&(t.ge.value=l.trimRight(),t.ge.setSelectionRange(u,u))}t.ee&&(!e||false===e.isComposing)&&(t.ee=null),t.st(a?0:-1,t.Le?t.lt:null)},Gt(e){let t=l,n=t.S.autoSelect,i=e.l,a=i.length,o=a>0,u=t.pe,s=t.Ie,f=t.pe=Math.ceil(o?a*t.R+t.L:t.Pe),c=t.E,d={N:2,h:f*c};if(!t.B)return;u||(d.m=Math.ceil(t.T.r*t.R+t.L)*c),f>u&&r.ot(d),t.J=e.t,t.de=e.i,t.re=e.m,t.ie=e.s,t.ae=e.r&&e.r+" ",t.Z=i,t.le=a>0&&"search"===i[0].e&&!i[0].n,t.Ae=t.le||(null==n?e.a:n&&o)?0:-1,t.ke=true,t.Z.forEach(t.Zt),t.He(t.Z,s),u||(t.V?setTimeout(()=>{l.we.visibility=""},17,t.V=0):t.we.visibility=""),t.Jt(),t.Xt("mozactionhint",t.le?"Search":"Go",1);let m=t.ve,_=s.classList,p="empty";o?m.remove(p):m.add(p),p="no-query",6&e.c?(m.remove(p),_.remove(p)):(m.add(p),_.add(p)),p="no-favicon",t.de?_.remove(p):_.add(p),o&&(0===t.Ae&&s.firstElementChild.classList.add("s"),s.lastElementChild.classList.add("b")),t.Se===t.lt&&(t.lt(0),t.Se=null),f>u?t.Yt():requestAnimationFrame(()=>{f!==u&&r.ot(d),l.Yt()})},Yt(){let e,t=l;if(t.ue||t.Xe(),!(t.Ne>0))return t.Ne=0,t.Y=false,(e=t.Se)?(t.Se=null,e()):void 0},Jt(){l.ee||l.Xt("inputmode",l.le||!/[\/:]/.test(l.P)?"search":"url")},Xt(e,t,n){n&&0===l.g&&(t=chrome.i18n.getMessage(t)||t),l.ge.getAttribute(e)!==t&&l.ge.setAttribute(e,t)},el(e){let t=l.ze&&` ${l.ze} `,n=` ${e.t} `,i=!t.includes(n),a=(i?t+e.t:t.replace(n," ")).trim().replace(l.W," ");l.tl(a),e.c||r.nt({H:29,t:e.t,o:1,e:i})},tl(e){l.ze=e,e=` ${e} `;let t=document.documentElement,n=document.body,r=e.includes(" dark ");l.S.d&&!e.includes(" ignore-filter ")?(l.Ge&&(l.Ge.style.display="none"),l.ze=e=(r?e.replace(" dark ",""):e+"dark ")+" filtered "):l.Ge&&(l.Ge.childElementCount||(l.Ge.textContent=r?"\u2600":"\u263d"),l.Ge.classList.toggle("toggled",r),l.Ge.style.display="");let i=e.includes(" mono-url ");l.Je=e.includes(" time ")?e.includes(" absolute-num-time ")?1:e.includes(" absolute-time ")?2:3:0,l.I(32,l.Je>0);let a=document.querySelectorAll("style[id]");for(let t=0;t<a.length;t++){let l=a[t],r=" "+l.id+" ",i=" custom "===r,o=i||e.includes(r);l.dataset.media?l.media=o?"":l.dataset.media:l.sheet.disabled=!o,i||n.classList.toggle("has-"+l.id,o),o&&(e=e.replace(r," "))}l.Ue=1,l.Fe=120,e=(e=e.replace(/\b([\w-]+)=([\w.]+)/g,(e,t,n)=>("wheel-speed"===t&&(l.Ue=Math.max(.1,Math.min(parseFloat(n)||1,10))),"wheel-min-step"===t&&(l.Fe=Math.max(-2e3,Math.min(parseInt(n)||0,2e3))),""))).trim().replace(l.W," "),t.className!==e&&(t.className=e),!!(16&l.T.f)!==i&&(l.I(16,i),l.B&&!l.ft&&l.Bt(document.hidden))},ll(e){let t=n.M(e.d),r=t.t;if(null!=r&&l.ze!==r&&l.tl(r),null!=t.c&&l.nl(t.c),null!=t.n&&(l.O=t.n),null!=t.i&&(l.De=t.i),void 0!==t.m&&(l.Be=t.m),null!=t.l&&(l.Ve=t.l),null!=t.s){let e=t.s.split(","),n=+e[0],r=Math.min,i=Math.max;l.Pe=i(24,r(n||77,320)),n=+e[1],l.L=i(24,r(l.Pe+(n||3),320)),n=+e[2],l.R=i(14,r(n||44,120)),n=e.length>3?+e[3]:0,l.C=i(.3,r(n||.8,.95))}},rl(e){let t=l,n=t.se&&performance.now()-t.se<120,i="blur"===e.type,a=e.target,o=a===window;e.isTrusted&&r&&(t.fe=true,i&&t.$e&&o&&t.$e(),o&&t.B?(t.se=0,n?t.rt(i):(setTimeout(t.rt,50,null),i?(l.lt(0),l.he=null):(r.nt({H:24,i:0}),0!==t.g&&r&&setTimeout(()=>{r&&!r.il&&r.ot({N:9})},50)))):a===t.ge&&(l.oe=!i)&&(l.ce=0))},rt(e){if(!l)return;let t=document,n=t.body.classList;!l.B||(null!=e?!e:t.hidden||t.hasFocus())?n.remove("inactive","transparent"):n.add("inactive","transparent")},ft(){let e=l;window.onclick=l.Vt,n.M(e.At),n.M(e.Ct),n.M(e.Mt);let t=e.Ie=document.getElementById("list"),r=addEventListener,i=e.ge=document.getElementById("input");if(e.ye=document.getElementById("bar"),e.ve=i.parentElement.classList,t.onmouseover=t.oncontextmenu=e.Pt,document.getElementById("close").onclick=()=>l.tt(),r("keydown",e.xt,true),r("focus",e.rl,true),r("blur",e.rl,true),i.oninput=e.Qt,i.onselect=e.zt,i.onpaste=()=>{l.G=1},e.He=n.al(document.getElementById("template").innerHTML),e.Qe&&document.head.append(e.Qe),e.Ge=document.querySelector("#toggle-dark"),e.Ge&&(e.Ge.onclick=t=>{e.S.d||l.el({t:"dark",c:t.ctrlKey}),l.ge.focus()}),e.tl(e.ze),0===e.g){let e=document.querySelectorAll("[title]");for(let t=0;t<e.length;t++){let l=e[t],n=chrome.i18n.getMessage(l.title.replace(" ","_"));n&&(l.title=n)}}if(e.ft=e.x=n.al=null,null!=e.we.d)return;let a,o=(document.querySelector("style")||{}).textContent||"",u=/\.([a-z]+)\s?\{(?:[^}]+;)?\s*d\s?:\s*path\r?\s?\(\s?['"](.+?)['"]\s?\)/g,s=Object.create(null);for(;a=u.exec(o);)s[a[1]]=a[2];e.ol=e=>{let t=e.e,l=s[t];return l?`${t}" d="${l}`:t}},nl(e){let t=l.Qe;if(!e)return t&&t.remove(),void(l.Qe=null);t||(t=l.Qe=document.querySelector("#custom")||document.createElement("style"),t.id="custom",l.ft||document.head.append(t)),t.textContent=e},ol:e=>e.e,x(e){let t=l,n=document.documentElement;t.U=n.style,t.we=document.body.style,t.g=e;let r=0;r=2,t.T.i=2},xt(e){if(!e.isTrusted)return;l.Te=2;let t=3,i=0;if(l.Ze){let n=e.keyCode,a=n>18||n<16,o=n===Math.abs(l.Ze);t=e.repeat||a&&o&&"keydown"===e.type?0:1,a&&!o?t=3:l.Ze>0?t="keyup"===e.type?2:0:(t||(i=e.timeStamp)-l._e>40||i<l._e)&&(r.ot({N:t?8:7}),l._e=i),t&&(l.Ze=a||t>1?0:Math.abs(l.Ze),l.Ze||(window.onkeyup=null))}3===t&&l.B&&l.Nt(e),0!==l.Te&&n.Dt(e,2===l.Te)},lt(e){let t,n=l.Le;if(t=-1!==e&&0!==e&&void 0!==e){let t=l.Ht(e).key;if(!("alt"===t||"a-alt"===t))return;e=n>0?-1:0}if(n!==(e=e||0)){if(-1===n!=!!e){document.body.classList.toggle("alt",!!e),(e&&!t?addEventListener:removeEventListener)("keyup",l.lt,true);for(let t=0,n=e?Math.min(l.Ie.childElementCount,10):0;t<n;t++)l.Ie.children[t].classList.add("alt-index")}n>0&&clearTimeout(n),l.Le=e}},ul:0,A(e){l.T.c=Math.floor(((e||innerWidth)/l.E-84)/(16&l.T.f?7.7:4))},I(e,t){let n=null==t;n&&(t=` ${l.ze} `.includes(e-32?" mono-url ":" time "));let r=l.T.f&~e|(t?e:0);l.T.f!==r&&(l.T.f=r,16!==e||n||l.A())},sl:null,T:{H:17,o:"omni",t:0,c:0,e:0,r:0,f:0,i:0,q:""},W:/\s+/g,ct(){let e,t=l,n=t.T,i=0;if(t.Ne=-1,t.Q){if(t.P=e=t.ge.value.trim(),t.ee){let l=t.ee[0],n=e.length-t.ee[1];e=e.slice(0,l)+e.slice(l,n).replace(/'/g,"")+e.slice(n)}if(e=e.replace(t.W," "),t.S.icase){let t=/^:[WBH] /.test(e)?3:0;e=t?e.slice(0,t)+e.slice(t).toLowerCase():e.toLowerCase()}if(e===n.q)return t.Yt();n.t=t.re<2||!e.startsWith(n.q)?0:3===t.re?e.includes(" ")?0:8:(i=t.re,t.ie),n.q=e,t.re=i,t.A()}else t.Q=true,t.S.icase&&(n.q=n.q.toLowerCase());r.nt(n),1024&n.f&&"start"===t.S.noSessions&&(n.f&=-1025)},fl:"",Zt(e){let t;e.r=l.me?`\n\t\t\t<span class="relevancy">${e.r}</span>`:"",(t=e.label)&&(e.label=` <span class="label">${t}</span>`)},cl(e,n){let r,i=n.slice(0,11).toLowerCase();return i.startsWith("vimium://")?1!==l.g?chrome.runtime.getURL("/pages/options.html"):location.protocol+"//"+t+"/pages/options.html":n.length>512||"javascript:"===i||i.startsWith("data:")?"":e.v||("history"===e.e||"tab"===e.e)&&n||(i.startsWith("http")||i.lastIndexOf("-",i.indexOf(":")+1||8)>0&&n.lastIndexOf("://",21)>0?(r=n.indexOf("/",n.indexOf("://")+3),r>0?n.slice(0,r+1):n+"/"):n)},jt(e,t){if(!/^javascript:/i.test(e.u))return r.nt(e),-2!==t||!l.B||l.P&&!/^\+\d{0,2}$/.exec(l.P)?void 0:l.Bt();r.ot({N:5,u:e.u})},qt(e,t){r.nt(e),l&&l.B&&l.Bt(t)},Bt(e){let t=e=>{let t=l.Ae,n=l.ke;l.Q=false,l.A(),l.st(e,()=>{if(!n&&t>=0){let e=Math.min(t,l.Z.length-1);l.ke=false,l.Ae<0&&l.Ae--,l.vt(e)}l.oe||l.ce||l.Ye()})};l.oe||getSelection().removeAllRanges(),e?window.onfocus=e=>{window.onfocus=null,e.isTrusted&&r.il&&t(17)}:t(150)},dl(e){!r||e&&!e.isTrusted||(l.B=false,l.Ne>0&&clearTimeout(l.Ne),r.ot({N:10}))}},n={M(e){return Object.setPrototypeOf(e,null)},al(e){let t=e.split(/\{\{(\w+)}}/g),r=new DOMParser;return(e,i)=>{let a="",o=t.length-1;n.ut=0;for(let r=0;r<e.length;r++){let i=0;for(;i<o;i+=2){a+=t[i];let o=t[i+1];a+="typeIcon"===o?l.ol(e[r]):"index"===o?r+1:"altIndex"===o?r>9?"":r<9?r+1:0:"time"===o?l.Je?n.ml(e[r].visit):"":"favIcon"===o?"":e[r][o]||""}a+=t[o]}i.innerHTML="",i.append(...r.parseFromString(a,"text/html").body.children),n._l(e,i)}},_l(e,t){let n=t.querySelectorAll(".icon");if(0===e.length||n.length!==e.length)return;let r=/"/g,i=()=>"%22",a=[];for(let t=0;t<e.length;t++){let l=e[t].favIcon;l&&(l.length<500?n[t].style.backgroundImage=`url("${l.replace(r,i)}")`:a.push([t,l]))}a.length>0&&setTimeout(()=>{if(l.Z===e)for(let[e,t]of a)n[e].style.backgroundImage=`url("${t.replace(r,i)}")`},17)},K(e,t){try{e=(t||decodeURI)(e)}catch(e){}return e},pl(e,t){if(l.qe>1&&e.startsWith("file://")){let t=e.indexOf("/",7);if(t<0||t===e.length-1)return t<0?e+"/":e;let l=7===t?":"===e.charAt(9)?3:"%3a"===e.substr(9,3).toLowerCase()?5:0:0;e=l?e[8].toUpperCase()+":\\"+e.slice(l+8):7===t?e:"\\\\"+e.slice(7);let n=/[?#]/.exec(e),r=n?n.index:0,i=r?e.slice(r):"";e=(e=(r?e.slice(0,r):e).replace(/\/\/+/g,"/")).replace(/([^<])\//g,"$1\\"),e=r?e+i:e}return t?e:n.K(e,decodeURIComponent)},wt(e){let{u:t,t:l}=e,r=t.slice(0,8).toLowerCase(),i=r.startsWith("http://")?7:"https://"===r?8:0;i>=t.length&&(i=0);let a=!i;if(8===i){let e=t.indexOf("/",i);(e>0?e<t.length:/:\d+\/?$/.test(t))&&(a=true)}return l?i&&(a&&!l.startsWith(r)&&(l=r+l),t.endsWith("/")&&!r.endsWith("/")&&r.includes("/")&&(l+="/")):l=!a&&i?t.slice(i):t,e.t=n.pl(l,!!e.t),(r=e.title)&&(e.title=r.replace(/<\/?match[^>]*?>/g,"").replace(/&(amp|apos|gt|lt|quot);|\u2026/g,n.onHTMLEntity)),i},onHTMLEntity:(e,t)=>"amp"===t?"&":"apos"===t?"'":"quot"===t?'"':"gt"===t?">":"lt"===t?"<":"",hl:0,ut:0,ml(e){let t,r,i=Intl.RelativeTimeFormat,a=document.documentElement.lang||navigator.language,o=a.startsWith("zh"),u=o?"zh-CN":a,s=o?"\u521a\u521a":a.startsWith("fr")?"tout \xe0 l'heure":"just now",f=0,c=["second","minute","hour","day","","month","year"];return n.ml=e=>{if(!e)return"";if(!n.ut){let e=new Date;n.ut=+e,f=6e4*e.getTimezoneOffset()}let a,d=parseInt((n.ut-e)/1e3),m=d<0?-d:d,_=m<10?-1:m<45?0:(m/=60)<49.5?1:(m/=60)<22?2:(m/=24)<5?3:m<26?4:m<304?5:6,p=new Date(e-f).toJSON().slice(0,-5).replace("T"," ");if("+"!==p[0]&&"-"!==p[0]||(p=p.replace(/^\+?(-?)0+/,"$1")),-1===_)a=s;else if(l.Je<3||!i)if(!t&&l.Je>1&&(t=new Intl.DateTimeFormat(u,{localeMatcher:"best fit",second:"2-digit",year:"numeric",month:"short",weekday:"long",day:"numeric",hour:"numeric",minute:"2-digit"})),l.Je<2)a=p,d>0&&"-"!==p[0]?a=_>3?(_>5?a.slice(0,-12):a.slice("0"===a[a.length-14]?-13:-14,-9)).replace("-"," / "):a.slice(_>2?"0"===a[a.length-11]?-10:-11:-8,_?-3:99):p="";else{a="";let l=t.formatToParts(e);for(let e=0,t=true;e<l.length;e++){let n=l[e].type;if("year"===n?_<6:"month"===n?_<4:"day"===n?_<3||_>5:"weekday"===n?_<3||_>4:"dayPeriod"===n||"hour"===n||"minute"===n?_>3:"second"===n?_>0:"literal"!==n)e+=t&&e+1<l.length&&"literal"===l[e+1].type?1:0;else{let r=t,i=l[e].value;t="literal"===n,!t&&("weekday"===n||"d"===n[0]&&"e"===n.slice(4,5))&&a&&/[.:-]/.test(a[a.length-1])&&(a=a.slice(0,-1)+" "),(!r||o&&("\u661f"===i[0]||"\u5468"===i[0]))&&!t&&a&&/[^\x00-\x7f]/.test(a[a.length-1])&&(a+=" "),a+=o&&"d"===n[0]&&"e"===n.slice(4,5)?(m=parseInt(p.slice(-8,-6),10),m>=12?m>=18?m>=21?"\u591c\u665a":"\u665a\u4e0a":m>=13?"\u4e0b\u5348":"\u4e2d\u5348":m>=6?m>=9?"\u4e0a\u5348":"\u65e9\u4e0a":m>0?"\u51cc\u6668":"\u5348\u591c"):i}}a=a.trim().replace(/[,.: -]+$/,"")}else r||(r=new i(u,{localeMatcher:"best fit",numeric:"auto",style:"long"})),a=r.format((Math.round(_<5?m:m/365.25+.25)||1)*(d>0?-1:1),c[4===_?3:_]),a=o?a.replace("\u79d2\u949f","\u79d2"):a;return`<span class="time" title="${p}">${a}</span>`},n.ml(e)},gl:[],wl(e){n.gl.length||(postMessage(0,"*"),n.yl&&(addEventListener("message",n.yl,true),n.yl=null)),n.gl.push(e)},yl(){for(let e of n.gl.splice(0,n.gl.length))e()},Dt(e,t){t&&e.preventDefault(),e.stopImmediatePropagation()}},r={il:null,ot:null,nt(e){try{(r.il||r.vl(264)).postMessage(e)}catch(e){r=null,this.ot({N:9})}},kl(e){let t=e.N;43===t?l.S&&l.Gt(e):44===t?l.pt(e):42===t?l.sl&&l.sl(e):45===t?r.ot({N:1,l:e.l}):46===t?l.el(e):47===t?l.ll(e):48===t&&!l.B&&e.d&&l.dl()},bl({data:e}){let t="number"==typeof e?e:e.N;0===t?l.y(e):2===t?l.Ye():1===t&&l.tt(1)},Ml(){r.il=null},vl(t){let l={name:e?"vimium-c."+t+"@3f08dd1":""+t},n=r.il=e?chrome.runtime.connect(e,l):chrome.runtime.connect(l);return n.onDisconnect.addListener(r.Ml),n.onMessage.addListener(r.kl),n}};window.chrome=browser,(()=>{function i(e){if(e.source===parent){let t=e.data;if(!(t&&3===t.length&&"VimiumC"===t[0]&&"string"==typeof t[1]&&"object"==typeof t[2]))return;u&&n.Dt(e,0),16===t[1].length&&f(t[1],e.ports[0],t[2])}}if("1.73"!==document.documentElement.dataset.version)return void(location.href="about:blank");let a;if(location.pathname.startsWith("/front/")||!(a=document.currentScript));else{if(!a.src.endsWith("/front/vomnibar.js")||/^(ht|s?f)tp/.test(a.src)||/^(ht|s?f)tp/.test(location.origin))return void a.remove();e=new URL(a.src).host,t=e,e=a.dataset.vimiumId||"vimium-c@gdh1995.cn"}let o=[],u=null===a,s="",f=(e,t,n)=>{s&&e===s?(s="1",clearTimeout(c),removeEventListener("message",i,true),r.ot=t.postMessage.bind(t),t.onmessage=r.bl,window.onunload=l.dl,r.ot({N:3,o:n?1:0}),n&&l.y(n)):s||o.push([e,t,n])},c=setTimeout(()=>{location.href="about:blank"},700);l.sl=({l:e,s:t})=>{if(l.sl=null,!t)return s="2",o.length=0,removeEventListener("message",i,true),void console.log("%cVimium C: warning: Vomnibar was unexpectedly opened without triggering Vomnibar.activate!!!","color: red; background: lightyellow;");l.qe=e.o,l.ze=e.t,l.ll({N:47,d:e}),s=t;for(let e of o)if(e[0]===t)return o.length=0,f(e[0],e[1],e[2])},addEventListener("message",i,true),r.vl(256)})();
(()=>{var e,t,n,o={21060:(e,t,n)=>{"use strict";n.d(t,{N:()=>c,O:()=>a});n(10865);var o=n(17840);function r(e,t=500){return new Promise((n=>{!function o(){e()?n():setTimeout(o,t)}()}))}const i={"中文(简体)":"zh",英语:"en",俄语:"ru",西班牙语:"es",法语:"fr",阿拉伯语:"ar",土耳其语:"tr",葡萄牙语:"pt",泰语:"th",印尼语:"id",意大利语:"it",越南语:"vi"};function a(e,t="",n=""){const o=i[n]||"auto",r=i[t]||"zh";return`https://translate.alibaba.com/#hcfy_text=${encodeURIComponent(e)}&hcfy_from=${o}&hcfy_to=${r}`}async function c(){if(window.location.origin+window.location.pathname!=="https://translate.alibaba.com/")return;const e=(0,o.q)(window.location.hash);if(!e.hcfy_text)return;const t=document.getElementsByClassName("language-list")[0];if(t){const n=e.hcfy_from;let o;if("auto"===n)o=t.querySelector("a[data-lang=auto]");else{const e=t.getElementsByClassName("source-list")[0];e&&(await r((()=>0!==e.children.length)),o=e.querySelector(`a[data-lang=${n}]`))}if(o){document.getElementsByClassName("source-lang")[0].click(),o.click()}const i=t.getElementsByClassName("target-list")[0];if(i){await r((()=>0!==i.children.length));const t=i.querySelector(`a[data-lang=${e.hcfy_to}]`);if(t){document.getElementsByClassName("target-lang")[0].click(),t.click()}}}const n=document.getElementById("original");n&&(n.value=decodeURIComponent(e.hcfy_text));const i=document.getElementsByClassName("translate")[0];i&&i.click()}},1707:(e,t,n)=>{"use strict";n.d(t,{D:()=>l,O:()=>c});n(10865);var o=n(17840),r=n(48983),i=n.n(r);const a={"":"自动识别","中文(简体)":"中文"};function c(e,t="中文",n=""){return`https://fanyi.qq.com/#hcfy_text=${encodeURIComponent(e)}&hcfy_from=${a[n]||n}&hcfy_to=${a[t]||t}`}async function l(){if(window.location.origin+window.location.pathname!=="https://fanyi.qq.com/")return;const e=(0,o.q)(window.location.hash);if(!e.hcfy_text)return;const t=document.createElement("div");t.setAttribute("onclick",'if(window.qtv)window.postMessage("HCFY_QQ_READY", "*")'),document.body.appendChild(t);const n=window.setInterval((()=>{t.click()}),500);window.addEventListener("message",(function o(r){if("HCFY_QQ_READY"!==r.data)return;window.removeEventListener("message",o),window.clearInterval(n),document.body.removeChild(t);const a=document.querySelector('[node-type="source_language_list"]');if(a){const t=a.querySelectorAll("li span");i()(t,(t=>{var n;if((null===(n=t.textContent)||void 0===n?void 0:n.trim())===e.hcfy_from)return document.querySelector('[node-type="source_language_button"]').click(),t.click(),!0}))}const c=document.querySelector('[node-type="target_language_list"]');if(c){const t=c.querySelectorAll("li span");i()(t,(t=>{var n;if((null===(n=t.textContent)||void 0===n?void 0:n.trim())===e.hcfy_from)return document.querySelector('[node-type="target_language_button"]').click(),t.click(),!0}))}const l=document.querySelector('[node-type="source-textarea"]');l&&(l.value=decodeURIComponent(e.hcfy_text));const s=document.querySelector('[node-type="translate_button"]');s&&s.click()}))}},10469:(e,t,n)=>{"use strict";n.d(t,{o:()=>a,Z:()=>i});const o=JSON.parse('{"中文(简体)":"zh-CHS","英语":"en","日语":"ja","西班牙语":"es","阿拉伯语":"ar","法语":"fr","韩语":"ko","俄语":"ru","德语":"de","葡萄牙语":"pt","意大利语":"it","希腊语":"el","荷兰语":"nl","芬兰语":"fi","丹麦语":"da","越南语":"vi","印地语":"hi","印尼语":"id","马来语":"ms"}');var r=n(17840);function i(e,t="",n=""){const r=o[n],i=o[t];return r&&i?`https://fanyi.youdao.com/#hcfy_text=${encodeURIComponent(e)}&hcfy_from=${r}&hcfy_to=${i}`:`http://fanyi.youdao.com/#hcfy_text=${encodeURIComponent(e)}`}function a(){if(window.location.origin+window.location.pathname!=="https://fanyi.youdao.com/")return;const e=(0,r.q)(window.location.hash);if(!e.hcfy_text)return;const t=document.getElementById("inputOriginal");if(t&&(t.value=decodeURIComponent(e.hcfy_text)),!e.hcfy_from){const e=document.getElementById("transMachine");return void(e&&e.click())}const n=document.getElementById("languageSelect");if(!n)return;const o=e.hcfy_from+"2"+e.hcfy_to,i=n.querySelector(`li[data-value=${o}] a`);i&&i.click()}},62503:(e,t,n)=>{"use strict";n(62234);window.navigator.userAgent.includes("Firefox")&&(window.requestAnimationFrame=window.requestAnimationFrame.bind(window),window.cancelAnimationFrame=window.cancelAnimationFrame.bind(window))},94646:()=>{window.WorkerGlobalScope=void 0},13370:(e,t,n)=>{"use strict";n(1363);var o=n(25873),r=(n(33873),n(47010),n(74874)),i=n.n(r),a=n(51127),c=n.n(a),l=n(16224),s=n(14041),d=n(42631),u=n(68802),m=n(78220),f=n(95805),h=n(96538),p=n(31085);const y=i()(l.g2,["pdfSnifferEnable"]);function g(){if(1===document.body.children.length&&document.body.firstElementChild instanceof HTMLEmbedElement&&"application/pdf"===document.body.firstElementChild.type)return[location.href];const e=document.querySelectorAll('embed[type="application/pdf"]');return Array.from(e).map((e=>e.src)).filter((e=>!!e))}function v(e){const{pdfUrls:t,unmount:n}=e,[o,r]=(0,s.useState)(null),[i,a]=(0,s.useState)(!1);return(0,h.A)(a),(0,s.useEffect)((()=>{o&&o.show({timeout:1e4,onDismiss(){setTimeout(n,300)},message:(0,p.jsxs)(p.Fragment,{children:["划词翻译检测到此页面有 ",t.length," 个 PDF 文件：",(0,p.jsx)(u.UL,{children:t.map(((e,t)=>(0,p.jsx)("li",{children:(0,p.jsx)("a",{style:{display:"inline-block",verticalAlign:"top",maxWidth:337,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},onClick:()=>{c().runtime.sendMessage({action:"open pdf viewer",params:e})},title:e,children:e})},t)))}),(0,p.jsx)("div",{className:`${m.KJG} ${m.E4k}`,children:"点击链接即可在划词翻译的内置 PDF 阅读器中打开这些 PDF 文件。"})]}),action:{text:"不再提示",onClick:()=>{c().storage.local.set({pdfSnifferEnable:!1})}}})}),[t,o,n]),(0,p.jsx)(f.V,{position:"bottom-right",ref:r,className:"app-toaster-container"+(i?` ${m.nd0}`:""),usePortal:!1})}c().storage.local.get(y).then((({pdfSnifferEnable:e})=>{if(!e)return;const t=g();if(!t.length)return;const n=document.createElement("div");n.style.all="initial",document.documentElement.appendChild(n);const r=(0,o.H)(n);r.render((0,p.jsx)(d.A,{cssText:".app-toaster-container{position:fixed !important;z-index:9999999999 !important}",children:()=>(0,p.jsx)(v,{pdfUrls:t,unmount:()=>{r.unmount(),document.documentElement.removeChild(n)}})}))}));var w=n(21060),b=n(1707),_=n(10469);(0,b.D)(),(0,w.N)(),(0,_.o)();var E=n(18861);const x=document.createElement("div");x.style.all="initial",document.documentElement.appendChild(x);(0,o.H)(x).render((0,p.jsx)(E.A,{}));const C=setInterval((()=>{document.documentElement.contains(x)||(document.documentElement.appendChild(x),clearInterval(C))}),300);setTimeout((()=>{clearInterval(C)}),1e3)},17840:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});n(33873),n(48605),n(47010);function o(e,t=!0){return(t?e.slice(1):e).split("&").reduce(((e,t)=>{const[n,o]=t.split("=");return e[n]=o?decodeURIComponent(o):"",e}),{})}},46172:(e,t,n)=>{"use strict";n.d(t,{Ye:()=>o.Ye});var o=n(74004);n(37508)},37508:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});n(33873),n(10865),n(47010);function o(e,t){return function(...n){return new Promise(((o,r)=>{e.call(t,...n,(e=>{const t=chrome.runtime.lastError;t?r(t):o(e)}))}))}}},74004:(e,t,n)=>{"use strict";n.d(t,{Ye:()=>r});var o=n(37508);const r=(0,o.F)(chrome.runtime.sendMessage);(0,o.F)(chrome.storage.local.set,chrome.storage.local),(0,o.F)(chrome.storage.local.get,chrome.storage.local),(0,o.F)(chrome.storage.local.remove,chrome.storage.local),(0,o.F)(chrome.storage.local.clear,chrome.storage.local),(0,o.F)(chrome.storage.local.getBytesInUse,chrome.storage.local)}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=o,e=[],i.O=(t,n,o,r)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,o,r]=e[d],c=!0,l=0;l<n.length;l++)(!1&r||a>=r)&&Object.keys(i.O).every((e=>i.O[e](n[l])))?n.splice(l--,1):(c=!1,r<a&&(a=r));if(c){e.splice(d--,1);var s=o();void 0!==s&&(t=s)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>({231:"blueprint-icons-split-paths-by-size-loader",824:"blueprint-icons-all-paths-loader",860:"blueprint-icons-all-paths"}[e]+".js"),i.miniCssF=e=>{},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},n="browser-extension:",i.l=(e,o,r,a)=>{if(t[e])t[e].push(o);else{var c,l;if(void 0!==r)for(var s=document.getElementsByTagName("script"),d=0;d<s.length;d++){var u=s[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==n+r){c=u;break}}c||(l=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.setAttribute("data-webpack",n+r),c.src=e),t[e]=[o];var m=(n,o)=>{c.onerror=c.onload=null,clearTimeout(f);var r=t[e];if(delete t[e],c.parentNode&&c.parentNode.removeChild(c),r&&r.forEach((e=>e(o))),n)return n(o)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=m.bind(null,c.onerror),c.onload=m.bind(null,c.onload),l&&document.head.appendChild(c)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.p="",(()=>{var e={390:0};i.f.j=(t,n)=>{var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=r);var a=i.p+i.u(t),c=new Error;i.l(a,(n=>{if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",c.name="ChunkLoadError",c.type=r,c.request=a,o[1](c)}}),"chunk-"+t,t)}},i.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[a,c,l]=n,s=0;if(a.some((t=>0!==e[t]))){for(o in c)i.o(c,o)&&(i.m[o]=c[o]);if(l)var d=l(i)}for(t&&t(n);s<a.length;s++)r=a[s],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},n=self.webpackChunkbrowser_extension=self.webpackChunkbrowser_extension||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),i.O(void 0,[375,492,167,267,224,984,756,643,189,701,49,861],(()=>i(62503))),i.O(void 0,[375,492,167,267,224,984,756,643,189,701,49,861],(()=>i(94646)));var a=i.O(void 0,[375,492,167,267,224,984,756,643,189,701,49,861],(()=>i(13370)));a=i.O(a)})();
"use strict";(globalThis.webpackChunk_eesel_app=globalThis.webpackChunk_eesel_app||[]).push([[179],{56629:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OnboardingBanner=void 0;const a=(0,n(3974).__importDefault)(n(30130)),o=n(16280),l=n(78042),r=n(41473),s=n(5310);t.OnboardingBanner=({onCloseClick:e,children:t})=>{const[n]=(0,s.useDocumentListPosition)();return n&&(null==n?void 0:n.x)?a.default.createElement(r.x.div,{alignItems:"start",backgroundColor:"primary",bottom:"0",boxShadow:"onBG",display:"flex",justifyContent:"flex-start",left:"0",position:"fixed",py:"2.5rem",w:"100%",zIndex:5},a.default.createElement(r.x.div,{maxWidth:`${null==n?void 0:n.width}px`,ml:`${null==n?void 0:n.x}px`,pl:"1rem"},t),a.default.createElement(l.ButtonIcon,{"aria-label":"Close",backgroundColor:"transparent",component:o.FiX,iconColor:"white",marginLeft:"auto",onClick:e,position:"absolute",right:".5rem",top:".5rem"})):null}},24179:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OnboardingBannerContainer=void 0;const a=n(3974),o=(0,a.__importDefault)(n(30130)),l=n(68132),r=n(22602),s=n(8223),i=n(8349),u=n(41473),d=(0,a.__importDefault)(n(21743)),c=n(56629),m=n(30944),C=n(68609),f=n(56674),h=n(24313),b=(0,d.default)(m.ButtonPrimary)`
  border: 1px solid white;
  height: 40px;
`;t.OnboardingBannerContainer=({isExtension:e=!1,isNewTab:t=!1,user:n,eeselShortCut:a,onCreateFolder:d,onInviteTeammates:m,onSharingLearnMore:w,updateActivity:p,onWorkspaceBannerClose:g,push:k})=>{const{folderList:v,refetch:y}=(0,r.useFolderAndFriendList)(),[{folderListCursor:E}]=(0,h.useSearch)(),T=o.default.useMemo((()=>E>-1?v[E]:void 0),[E,v]),B=o.default.useCallback((()=>{const{spotlightViewCount:e=0,newTabViewCount:t=0}=(null==n?void 0:n.activity)||{};null==p||p({newTabViewCountWhenLastBannerClosed:e+t})}),[n,p]),S=o.default.useCallback((async()=>{B(),T&&(await g(T.id),null==y||y())}),[B,T,g,y]),x=o.default.useCallback((async()=>{B(),await(null==p?void 0:p({bannerOnboardingEeselCloseCount:"+1"}))}),[p,B]),F=o.default.useCallback((()=>{B(),null==p||p({bannerOnboardingPressTabToFocusCloseCount:"+1"})}),[B,p]),L=o.default.useCallback((async()=>{B(),await(null==p?void 0:p({bannerNewTabSpotlightReminderCloseCount:"+1"}))}),[B,p]),V=o.default.useCallback((()=>{L(),null==k||k("/settings/preferences")}),[L,k]),W=o.default.useCallback((()=>{B(),null==p||p({bannerProductAddReminderCloseCount:"+1"})}),[B,p]),O=o.default.useCallback((()=>{W(),null==k||k("/settings/apps/add")}),[W,k]),_=o.default.useCallback((()=>{B(),null==p||p({bannerCommandsCloseCount:"+1"})}),[B,p]),A=o.default.useCallback((()=>{B(),null==p||p({bannerFolderAddReminderCloseCount:"+1"})}),[B,p]),P=o.default.useCallback((async()=>{A(),null==d||d()}),[A,d]),R=o.default.useCallback((()=>{null==p||p({bannerSharePagesCloseCount:"+1"})}),[p]),G=o.default.useCallback((()=>{R(),null==w||w()}),[R,w]),M=o.default.useMemo((()=>[{Component:({folder:e})=>o.default.createElement(o.default.Fragment,null,o.default.createElement(b,{onClick:()=>{e&&e.workspace&&m(e.id,e.workspace.slug)}},"Invite Teammates")),details:"This is your team's new home to share and organise your work. Once you’ve invited teammates, you’ll be able to add pages or folders to this workspace to make them available to your team.",matches:({folderSelected:e})=>Boolean(e)&&!(null==e?void 0:e.onboardingBannerClosed)&&(0,i.isWorkspaceFolder)(e,null==e?void 0:e.workspace)&&(0,s.isOwner)(null==e?void 0:e.accountAccess),onBannerClose:S,title:"Welcome to your new workspace"},{Component:()=>o.default.createElement(o.default.Fragment,null,o.default.createElement(b,{onClick:S},"Got it")),details:"This is your team's home to share and organise all your work. Explore the pages and folders your teammates have added, and add your work too when you’re ready.",matches:({folderSelected:e})=>Boolean(e)&&!(null==e?void 0:e.onboardingBannerClosed)&&(0,i.isWorkspaceFolder)(e,null==e?void 0:e.workspace),onBannerClose:S,title:"Welcome to your new workspace"},{Component:()=>o.default.createElement(o.default.Fragment,null,o.default.createElement(b,{onClick:x},"Got it!")),details:'We\'ve shared a "Getting started with eesel" page in your eesel. From sharing pages with teammates (just like this!)  to automating actions, use this guide to learn our key tips.',matches:({user:n,folderSelected:a})=>{if(!t||!e||a||!n)return!1;const{bannerOnboardingEeselCloseCount:o=0}=n.activity;return o<1},onBannerClose:x,title:"🎉 You’re all set!"},{Component:()=>o.default.createElement(o.default.Fragment,null,o.default.createElement(u.x.span,null,o.default.createElement(C.Shortcut,{backgroundColor:"white",borderColor:"black",color:"black",h:"2.25rem",size:"big"},o.default.createElement(u.x.div,{alignItems:"center",display:"flex",padding:"1rem",pl:".5rem"},o.default.createElement(f.IconTab,{size:13}),o.default.createElement(u.x.h3,{fontSize:"1.2rem",fontWeight:"500",mb:".1rem",ml:"0.2rem",mr:".5rem"},"TAB"))))),details:'Press "tab" on your keyboard to focus on eesel and start searching your work.',matches:({user:n,folderSelected:a})=>{if(!t||!e||a||!n)return!1;const{bannerOnboardingPressTabToFocusCloseCount:o,newTabViewCountWhenLastBannerClosed:l,newTabViewCount:r}=n.activity;return r>l&&0===o},onBannerClose:F,title:"⚡️ Dive straight into your work"},{Component:()=>o.default.createElement(o.default.Fragment,null,a&&a.data.keys.length>0?o.default.createElement(u.x.div,{ml:"-1rem"},o.default.createElement(C.ShortcutBar,{backgroundColor:"white",borderColor:"black",color:"black",fontSize:"2.25rem",shortcut:a.data})):o.default.createElement(b,{onClick:V},"Choose a shortcut")),details:a&&a.data.keys.length>0?`Don't forget that you can press "${null==a?void 0:a.data.toString()}" to open eesel from any page. Give it a try here!`:"You can open eesel from any page with a shortcut.",matches:({user:e,folderSelected:n})=>{if(!t||n||!e)return!1;const{bannerNewTabSpotlightReminderCloseCount:a,newTabViewCountWhenLastBannerClosed:o,newTabViewCount:l,spotlightViewCount:r}=e.activity;return 0===a&&l-o>10&&r<1},onBannerClose:L,title:"Access your work from any page"},{Component:()=>o.default.createElement(o.default.Fragment,null,o.default.createElement(b,{onClick:O},"Add new apps to eesel")),details:"eesel can save pages for anything you use in the browser.",matches:({user:t,folderSelected:n})=>{if(!e||n||!t)return!1;const{bannerProductAddReminderCloseCount:a,bannerNewTabSpotlightReminderCloseCount:o,newTabViewCountWhenLastBannerClosed:l,newTabViewCount:r,spotlightViewCount:s,appAddCount:i}=t.activity;return 0===a&&o>0&&r+s-l>10&&0===i},onBannerClose:W,title:"Missing some pages?"},{Component:()=>o.default.createElement(o.default.Fragment,null,o.default.createElement(b,{onClick:_},"Got it!")),details:"Create new documents, open issues with the right labels and automate any other action with commands. Type “/” in eesel to show the list of commands.",matches:({user:t,folderSelected:n})=>{if(!e||n||!t)return!1;const{bannerCommandsCloseCount:a,bannerNewTabSpotlightReminderCloseCount:o,newTabViewCountWhenLastBannerClosed:l,newTabViewCount:r,spotlightViewCount:s,commandExecutedCount:i}=t.activity;return 0===a&&o>0&&r+s-l>10&&i<2},onBannerClose:_,title:"Save clicks with commands"},{Component:()=>o.default.createElement(o.default.Fragment,null,o.default.createElement(b,{onClick:P},"Create folder")),details:"Get pages for a project or a customer automatically organised and up to date.",matches:({user:e,folderList:t,folderSelected:n})=>{if(n||!e)return!1;const{bannerFolderAddReminderCloseCount:a,bannerNewTabSpotlightReminderCloseCount:o,newTabViewCountWhenLastBannerClosed:l,newTabViewCount:r,spotlightViewCount:u}=e.activity,d=r+u,c=!(null==t?void 0:t.length)||(null==t?void 0:t.filter((e=>(0,s.isOwner)(e.accountAccess)&&!(0,i.isWorkspaceFolder)(e,e.workspace))).length)>0;return 0===a&&o>0&&d-l>10&&!c},onBannerClose:A,title:"Get your work organised"},{Component:()=>o.default.createElement(o.default.Fragment,null,o.default.createElement(b,{onClick:G},"Learn More")),details:"Send pages directly to your teammates' new tab with eesel.",matches:({user:e,folderSelected:t})=>{if(t||!e)return!1;const{bannerSharePagesCloseCount:n,bannerNewTabSpotlightReminderCloseCount:a,newTabViewCountWhenLastBannerClosed:o,newTabViewCount:l,spotlightViewCount:r}=e.activity,{documentSharedCount:s}=e;return 0===n&&a>0&&r+l-o>10&&s<1},onBannerClose:R,title:"Share pages without disruption"}]),[S,m,x,F,a,L,W,_,A,R,e,t,V,O,P,G]),D=o.default.useMemo((()=>M.find((e=>e.matches({folderList:v,folderSelected:T,user:n})))),[M,n,v,T]),I=o.default.useMemo((()=>n&&!(null==n?void 0:n.activity.bannerFeedbackCloseCount)),[n]),N=o.default.useCallback((()=>async e=>{var t;e.preventDefault(),e.stopPropagation(),"Getting Started with eesel"===e.target.innerText&&(await x(),null===(t=e.target)||void 0===t||t.dispatchEvent(e))}),[x]);return o.default.useEffect((()=>{var e;if(M[2].matches({user:n}))return null===(e=(0,l.getWindow)())||void 0===e||e.addEventListener("click",N),()=>{var e;return null===(e=(0,l.getWindow)())||void 0===e?void 0:e.removeEventListener("click",N)}}),[N,M,n]),o.default.useEffect((()=>{if(!M[3].matches({user:n}))return;const e=e=>{const{key:t}=e;"Tab"===t&&F()},t=(0,l.getWindow)();return null==t||t.addEventListener("keydown",(t=>e(t))),()=>null==t?void 0:t.removeEventListener("keydown",(t=>e(t)))}),[n,M,F]),o.default.useEffect((()=>{if(!M[6].matches({user:n}))return;const e=e=>{const{key:t}=e;"/"===t&&_()},t=(0,l.getWindow)();return null==t||t.addEventListener("keydown",e),()=>null==t?void 0:t.removeEventListener("keydown",e)}),[n,M,_]),!I&&D?o.default.createElement(c.OnboardingBanner,{onCloseClick:D.onBannerClose},o.default.createElement(u.x.h1,{color:"white",lineHeight:"1rem",text:"subTitle"},D.title),o.default.createElement(u.x.div,{color:"white",mt:".75rem"},D.details),o.default.createElement(u.x.div,{mt:"1.5rem"},o.default.createElement(D.Component,{folder:T}))):null}}}]);
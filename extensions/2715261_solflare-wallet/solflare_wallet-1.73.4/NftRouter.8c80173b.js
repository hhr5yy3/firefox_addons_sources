"use strict";(self.webpackChunk_solflare_extension=self.webpackChunk_solflare_extension||[]).push([["NftRouter"],{"./src/pages/NFT/index.tsx":(e,s,t)=>{t.r(s),t.d(s,{default:()=>ee});var n=t("../../../node_modules/react/jsx-runtime.js"),i=t("../../../node_modules/react/index.js"),o=t("../../../node_modules/react-router/dist/index.js"),r=t("../../libs/shared/dist/features/nfts/context/index.js"),l=t("../../libs/foundation-ui/dist/index.js"),a=t("../../libs/shared/dist/features/currencies/components/index.js"),c=t("../../libs/shared/dist/features/currencies/hooks/index.js"),d=t("../../libs/shared/dist/features/nfts/api/nfts.js"),u=t("../../../node_modules/react-i18next/dist/es/useTranslation.js"),x=t("../../libs/shared/dist/features/receive/modals/index.js"),f=t("../../libs/shared/dist/features/nfts/constants.js");const j=({address:e})=>{const{t:s}=(0,u.$)(),{setReceiveModalOpen:t,receiveModalOpen:i}=(0,r.$T)();return i?(0,n.jsx)(x.Z,{address:e,onClose:()=>t(!1),tRoute:"/receiveCollectibleRoute",tSource:"emptyGallery"}):(0,n.jsxs)("div",{children:[(0,n.jsx)(l.PageTitle,{center:"NFTs",textAlign:"left"}),(0,n.jsxs)(l.PageContent,{children:[(0,n.jsx)(l.EmptyState,{illustration:(0,n.jsx)("img",{src:f.vD,alt:"No NFTs"}),children:(0,n.jsx)(l.Paragraph,{textAlign:"center",children:s("nfts_you_dont_have_nfts")})}),(0,n.jsx)(l.Button,{onClick:()=>{t(!0)},variant:"secondary",width:"fitContent",style:{alignSelf:"center"},size:"m",children:s("action_receive")})]})]})};var h=t("../../../node_modules/@fortawesome/pro-light-svg-icons/index.mjs"),g=t("../../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs"),p=t("../../libs/shared/dist/storage/solflareService.js"),m=t("../../libs/shared/dist/features/shared/snackbar/index.js"),_=t("../../libs/shared/dist/features/nfts/hooks/useNftRouting.js"),C=t("../../libs/shared/dist/features/nfts/utils/transferUtils.js");const S=({nfts:e,isLoading:s,rawData:t})=>{const{t:o}=(0,u.$)(),{enqueueSnackbar:a}=(0,m.Ds)(),{setIsDrawerOpen:c,toggleVisibleContext:d,selectAll:x,isVisibleContextSelected:f,setSearchTerm:j,searchTerm:S,isJunkHidden:b,setIsJunkHidden:v,setUserJunkPreference:k,setReceiveModalOpen:T,isSelectMode:I,setIsTransferInProgress:w,nftsToTransfer:A,markedAsSpam:F,onMarkAsSpamClick:y,selectedIdsCount:D}=(0,r.$T)(),{goToGallery:N}=(0,_.p)(),L=(0,g.NL)(),P=(0,i.useRef)(null),M=!(D===e.length);return(0,n.jsxs)(l.ButtonGroup,{children:[(0,n.jsx)(l.TextField,{style:{width:"180px"},value:S,ref:P,disabled:s,onChange:e=>j(e.target.value),placeholder:"Search...",children:(0,n.jsx)(l.Icon,{size:"m",pointerEvents:s?"none":"all",onClick:()=>P?.current?.focus(),icon:h.wn1,color:"textPrimary"})}),(0,n.jsx)(l.IconButton,{disabled:s,icon:h.pw9,onClick:()=>c(!0),variant:"secondary"}),(0,n.jsxs)(l.DropdownMenu,{trigger:(0,n.jsx)(l.IconButton,{disabled:s,icon:h.Uwo,variant:"secondary"}),children:[M&&(0,n.jsx)(l.DropdownMenuItem,{onClick:()=>x(e.filter((e=>!e.disabled)),t),children:o("nfts_action_select_all")}),f&&(0,n.jsx)(l.DropdownMenuItem,{onClick:()=>d(e.filter((e=>!e.disabled)),t),children:o("nfts_action_unselect_all")}),!I&&(0,n.jsx)(l.DropdownMenuItem,{onClick:()=>T(!0),children:o("action_receive")}),I&&(0,C.tX)(A)&&(0,n.jsx)(l.DropdownMenuItem,{onClick:()=>w(!0),children:o("action_send")}),null!==b&&!I&&(0,n.jsx)(l.DropdownMenuItem,{onClick:async()=>{await p.Z.userJunkPreferenceIsHidden.set(!b),v((e=>!e)),k((e=>!e))},children:o(b?"nfts_action_show_blocklist":"nfts_action_hide_blocklist")}),I&&(0,C.uk)(A)&&(0,n.jsx)(l.DropdownMenuItem,{onClick:async()=>{const e=(0,C.eA)(F,A),s=(0,C.Xm)(F,e);N(),await y(e,s,"legitimate"),L.invalidateQueries(["nfts"]),a(o("nfts_marked_as_verified"),{variant:"info",autoHideDuration:1e3})},children:o("nfts_action_mark_as_verified")}),I&&!(0,C.vX)(A)&&(0,n.jsx)(l.DropdownMenuItem,{onClick:async()=>{const e=(0,C.B1)(F,A),s=(0,C.Iq)(F,e);N(),await y(e,s,"suspicious"),L.invalidateQueries(["nfts"]),a(o("nfts_marked_as_unverified"),{variant:"info",autoHideDuration:1e3})},children:o("nfts_action_mark_as_unverified")})]})]})},b=()=>{const{t:e}=(0,u.$)();return(0,n.jsx)(l.EmptyState,{illustration:(0,n.jsx)("img",{src:f.mr,style:{width:230,height:200},alt:"No NFTs"}),children:(0,n.jsx)(l.Paragraph,{textAlign:"center",children:e("nfts_not_found")})})};var v=t("../../../node_modules/@fortawesome/pro-regular-svg-icons/index.mjs");const k=({isSortingAllowed:e=!0})=>{const{setIsDrawerOpen:s,isDrawerOpen:t,handleGridClick:i,isGridView:o,handleSortGroupClick:a,sortedGroupKey:c}=(0,r.$T)();return(0,n.jsxs)(l.Drawer,{open:t,onOpenChange:()=>s((e=>!e)),children:[(0,n.jsx)(l.DrawerContent,{children:(0,n.jsxs)(l.Section,{children:[(0,n.jsxs)(l.ActionList,{children:[(0,n.jsx)("div",{style:{paddingLeft:20,paddingTop:10},children:(0,n.jsx)(l.SectionTitle,{title:"View"})}),(0,n.jsx)(l.ActionListItem,{onClick:()=>{i(!0),s(!1)},icon:(0,n.jsx)(l.Icon,{size:"l",icon:v.emM,color:o?"#FF842D":"default"}),title:"Grid View"}),(0,n.jsx)(l.ActionListItem,{onClick:()=>{i(!1),s(!1)},icon:(0,n.jsx)(l.Icon,{size:"l",icon:v.lYK,color:o?"default":"#FF842D"}),title:"List View"})]}),e&&(0,n.jsxs)(l.ActionList,{children:[(0,n.jsx)("div",{style:{paddingLeft:20},children:(0,n.jsx)(l.SectionTitle,{title:"Sort by"})}),(0,n.jsx)(l.ActionListItem,{onClick:()=>{a(f.dY.RARITY),s(!1)},icon:(0,n.jsx)(l.Icon,{size:"l",icon:v.fGT,color:c===f.dY.RARITY?"#FF842D":"default"}),title:"Rarest"}),(0,n.jsx)(l.ActionListItem,{onClick:()=>{a(f.dY.ALPHABETICALLY),s(!1)},icon:(0,n.jsx)(l.Icon,{size:"l",icon:v.bDz,color:c===f.dY.ALPHABETICALLY?"#FF842D":"default"}),title:"Alphabetically"})]})]})}),(0,n.jsx)(l.DrawerActions,{children:(0,n.jsx)(l.ButtonGroup,{children:(0,n.jsx)(l.Button,{variant:"secondary",onClick:()=>s(!1),children:"Close"})})})]})},T=({groupId:e})=>{const{setIsDrawerOpen:s,isDrawerOpen:t,handleGridClick:i,isGridView:o,handleSortClick:a,sortedKey:c}=(0,r.$T)();return e?(0,n.jsx)(k,{isSortingAllowed:"suspicious"!==e&&"scam"!==e}):(0,n.jsxs)(l.Drawer,{open:t,onOpenChange:()=>s((e=>!e)),children:[(0,n.jsx)(l.DrawerContent,{children:(0,n.jsxs)(l.Section,{children:[(0,n.jsxs)(l.ActionList,{children:[(0,n.jsx)("div",{style:{paddingLeft:20,paddingTop:10},children:(0,n.jsx)(l.SectionTitle,{title:"View"})}),(0,n.jsx)(l.ActionListItem,{onClick:()=>{i(!0),s(!1)},icon:(0,n.jsx)(l.Icon,{size:"l",icon:v.emM,color:o?"#FF842D":void 0}),title:"Grid View"}),(0,n.jsx)(l.ActionListItem,{onClick:()=>{i(!1),s(!1)},icon:(0,n.jsx)(l.Icon,{size:"l",icon:v.lYK,color:o?void 0:"#FF842D"}),title:"List View"})]}),(0,n.jsxs)(l.ActionList,{children:[(0,n.jsx)("div",{style:{paddingLeft:20},children:(0,n.jsx)(l.SectionTitle,{title:"Sort by"})}),(0,n.jsx)(l.ActionListItem,{onClick:()=>{a(f.dY.TOTAL_VALUE),s(!1)},icon:(0,n.jsx)(l.Icon,{size:"l",icon:v.egO,color:c===f.dY.TOTAL_VALUE?"#FF842D":void 0}),title:"Highest total value"}),(0,n.jsx)(l.ActionListItem,{onClick:()=>{a(f.dY.FLOOR_PRICE),s(!1)},icon:(0,n.jsx)(l.Icon,{size:"l",icon:v.tho,color:c===f.dY.FLOOR_PRICE?"#FF842D":void 0}),title:"Highest floor price"}),(0,n.jsx)(l.ActionListItem,{onClick:()=>{a(f.dY.BEST_PERFORMANCE),s(!1)},icon:(0,n.jsx)(l.Icon,{size:"l",icon:v.jGC,color:c===f.dY.BEST_PERFORMANCE?"#FF842D":void 0}),title:"Best performance"}),(0,n.jsx)(l.ActionListItem,{onClick:()=>{a(f.dY.ALPHABETICALLY),s(!1)},icon:(0,n.jsx)(l.Icon,{size:"l",icon:v.bDz,color:c===f.dY.ALPHABETICALLY?"#FF842D":void 0}),title:"Alphabetically"})]})]})}),(0,n.jsx)(l.DrawerActions,{children:(0,n.jsx)(l.ButtonGroup,{children:(0,n.jsx)(l.Button,{variant:"secondary",onClick:()=>s(!1),children:"Close"})})})]})},I=()=>{const{setSelectedIds:e,selectedIdsCount:s,setSelectedIdsCount:t,isVisibleContextSelected:i,setIsVisibleContextSelected:o,setIsTransferInProgress:a,nftsToTransfer:c,setNftsToTransfer:d,setIsSendTransfer:u}=(0,r.$T)(),{resetState:x}=(0,_.p)();return(0,n.jsxs)("div",{style:{padding:"16px 20px",backgroundColor:"#1a1d27",zIndex:1001,position:"fixed",bottom:0,left:0,width:"100%",alignItems:"center",justifyContent:"space-between",display:0===s?"none":"flex"},children:[(0,n.jsxs)("span",{children:[s," Selected"]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,n.jsx)(l.Button,{size:"s",variant:"secondary",onClick:()=>{e(new Map),t(0),a(!1),d([]),x(),i&&o(!1)},children:"Cancel"}),(0,n.jsx)(l.Button,{onClick:()=>{a(!0),(0,C.tX)(c)&&u(!1)},size:"s",children:(0,C.tX)(c)?"Burn":"Send"})]})]})};var w=t("../../libs/shared/dist/utils/common.js"),A=t("../../libs/shared/dist/features/nfts/hooks/useAddressBookNft.js");const F=()=>{const{t:e}=(0,u.$)(),{setIsTransferInProgress:s,setIsSendTransfer:t,setNftsToTransfer:o,nftsToTransfer:a}=(0,r.$T)(),{resetState:c}=(0,_.p)(),d=(0,C.um)(a),[x,f]=(0,i.useState)(!1),{submitBurn:j}=(0,A.M)({nfts:a??[]}),g=e=>{switch(e.group){case"scam":return"Blocklist";case"suspicious":return"Unverified";default:return e.subname}};return(0,n.jsxs)(l.PagePortal,{children:[(0,n.jsx)(l.PageTitle,{left:(0,n.jsx)(l.ActionableIcon,{icon:h.acZ,size:"l",onClick:()=>{s(!1),o([]),t(!0),c()}}),center:"Burn"}),(0,n.jsx)(l.PageContent,{overflow:!0,children:(0,n.jsx)("div",{style:{marginBottom:20,marginLeft:-16,marginRight:-16},children:a.map((e=>(0,n.jsx)(l.NftListItemSend,{image:e.image,id:e.mint,title:e.name,group:e.group,value:g(e),isStandardAmount:1===e.amount||Number.isNaN(e.amount),amount:!isNaN(e.amount)&&e.amount?(0,w.iP)(e.amount,0):void 0,onCancel:()=>{const t=a.filter((s=>s.mint!==e.mint));if(0===t.length)return s(!1),o([]),void c();o(t)}},e.mint)))})}),(0,n.jsxs)(l.FooterActions,{children:[!d&&(0,n.jsx)(l.Alert,{variant:"info",title:e("nft_burn_blocklist_alert_title"),message:e("nft_burn_blocklist_alert_message")}),d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Alert,{variant:"warning",title:e("nft_burn_unverified_alert_title"),message:e("nft_burn_unverified_alert_message")}),(0,n.jsx)(l.Control,{id:"warning-check",label:e("confirm_burn_checkbox"),action:(0,n.jsx)(l.Checkbox,{checked:x,onChange:()=>f((e=>!e))})})]}),(0,n.jsx)(l.Button,{onClick:j,type:"submit",disabled:d&&!x,children:e("action_burn")})]})]})},y=({nfts:e,rawData:s,isLoading:t})=>{const{t:o}=(0,u.$)(),{enqueueSnackbar:a}=(0,m.Ds)(),{setIsDrawerOpen:c,toggleVisibleContext:d,isVisibleContextSelected:x,setSearchTerm:f,searchTerm:j,isSelectMode:p,setReceiveModalOpen:S,setIsTransferInProgress:b,markedAsSpam:v,nftsToTransfer:k,selectedIdsCount:T,onMarkAsSpamClick:I,selectAll:w}=(0,r.$T)(),{goToGallery:A}=(0,_.p)(),F=(0,g.NL)(),y=(0,i.useRef)(null),D=!(T===e.length),N=e.some((e=>"suspicious"===e.group)),L=e.some((e=>"scam"===e.group));return(0,n.jsxs)(l.ButtonGroup,{children:[(0,n.jsx)(l.TextField,{style:{width:"180px"},value:j,ref:y,disabled:t,onChange:e=>f(e.target.value),placeholder:"Search...",children:(0,n.jsx)(l.Icon,{size:"m",pointerEvents:t?"none":"all",onClick:()=>y?.current?.focus(),icon:h.wn1,color:"textPrimary"})}),(0,n.jsx)(l.IconButton,{onClick:()=>c(!0),variant:"secondary",icon:h.pw9}),(0,n.jsxs)(l.DropdownMenu,{trigger:(0,n.jsx)(l.IconButton,{variant:"secondary",icon:h.Uwo}),children:[D&&(0,n.jsx)(l.DropdownMenuItem,{onClick:()=>w(e.filter((e=>!e.disabled)),s),children:o("nfts_action_select_all")}),x&&(0,n.jsx)(l.DropdownMenuItem,{onClick:()=>d(e.filter((e=>!e.disabled)),s),children:o("nfts_action_unselect_all")}),!p&&!L&&!N&&(0,n.jsx)(l.DropdownMenuItem,{onClick:()=>S(!0),children:o("action_receive")}),p&&(L||N)&&(0,n.jsx)(l.DropdownMenuItem,{onClick:()=>b(!0),children:"Send"}),p&&!L&&!N&&(0,n.jsx)(l.DropdownMenuItem,{onClick:async()=>{const e=(0,C.B1)(v,k),s=(0,C.Iq)(v,e);A(),await I(e,s,"suspicious"),F.invalidateQueries(["nfts"]),a(o("nfts_marked_as_unverified"),{variant:"info",autoHideDuration:1e3})},children:o("nfts_action_mark_as_unverified")}),p&&!L&&N&&(0,n.jsx)(l.DropdownMenuItem,{onClick:async()=>{const e=(0,C.eA)(v,k),s=(0,C.Xm)(v,e);A(),await I(e,s,"legitimate"),F.invalidateQueries(["nfts"]),a(o("nfts_marked_as_verified"),{variant:"info",autoHideDuration:1e3})},children:o("nfts_action_mark_as_verified")})]})]})};var D=t("../../libs/shared/dist/features/nfts/components/SingleNFTHeaderActionsMenu/index.js"),N=t("../../libs/shared/dist/features/nfts/components/SingleNFTStats/index.js"),L=t("../../libs/shared/dist/features/nfts/components/SingleNFTAttributes/index.js"),P=t("../../libs/shared/dist/features/nfts/hooks/index.js"),M=t("../../libs/shared/dist/features/nfts/modals/index.js"),B=t("../../libs/shared/dist/features/recipientInput/context/index.js"),R=t("../../libs/shared/dist/features/walletData/hooks/index.js");const U=()=>{const{publicKey:e}=(0,R.rT)(),{isTransferInProgress:s,isSendTransfer:t,isSelectMode:o,selectedIds:u,toggleSelected:f,isGridView:h,receiveModalOpen:g,setReceiveModalOpen:p}=(0,r.$T)(),{data:m,isLoading:_,isError:C}=(0,P.cw)(),{junkFilter:v,setJunkState:k}=(0,P.Pd)(),{filterFn:w}=(0,P.A1)(),A=(0,c.__)("nftFloorPrice"),y=(0,i.useMemo)((()=>{if(!m)return null;k(m);const e=(0,d.bH)(m,A),s=v(e);return{nfts:w(s)||[],heroUi:e.heroUi,heroUiSol:e.heroUiSol}}),[m,k,v,w,A]),{onNftClick:D}=(0,P.pN)();if(!_&&!C&&0===m?.nfts.length)return(0,n.jsx)(j,{address:e});const N=!_&&!C&&0===y?.nfts.length,L="0"!==y?.heroUi?.price||"0"!==y?.heroUiSol?.price;return(0,n.jsxs)(l.PageContent,{children:[(0,n.jsx)(l.PortfolioHero,{price:(0,n.jsx)(a.DR,{configKey:"nftFloorPrice",fiat:(0,n.jsx)(a.sp,{value:y?.heroUi?.price||"0"}),token:(0,n.jsx)(a.EI,{value:y?.heroUiSol?.price||"0"})}),showHeroHeader:L,variant:"fiat"===A?y?.heroUi?.variant:y?.heroUiSol?.variant,isLoading:_||C,subtext:(0,n.jsx)(a.DR,{configKey:"nftFloorPrice",fiat:(0,n.jsx)(a.sp,{value:y?.heroUi?.amountChange||"0",showSign:!0}),token:(0,n.jsx)(a.EI,{value:y?.heroUiSol?.amountChange||"0",showSign:!0,hideSymbol:!0})}),tag:(0,n.jsx)(a.DR,{configKey:"nftFloorPrice",fiat:(0,n.jsx)(a.Tf,{value:y?.heroUi?.percentageChange||"0",showSign:!0}),token:(0,n.jsx)(a.Tf,{value:y?.heroUiSol?.percentageChange||"0",showSign:!0})}),actions:(0,n.jsx)(S,{isLoading:_||C,nfts:y?.nfts||[],rawData:m})}),N&&(0,n.jsx)(b,{}),(0,n.jsx)(l.NftView,{selectMode:o,isLoading:_||C,isGridView:h,selectedIds:u,isSelectMode:o,onSelect:e=>!e.disabled&&f(e,e.collectionSelectableCount??"",m),onClick:e=>o?!e.disabled&&f(e,e.collectionSelectableCount??"",m):D({group:e.group||"",id:e.id}),nfts:y?.nfts??[]}),(0,n.jsx)(T,{}),(0,n.jsx)(I,{}),s&&(t?(0,n.jsx)(B.j,{children:(0,n.jsx)(M.e,{})}):(0,n.jsx)(F,{})),g&&(0,n.jsx)(x.Z,{address:e,onClose:()=>p(!1),tRoute:"/receiveCollectibleRoute",tSource:"galleryThreeDot"})]})};var G=t("../../libs/shared/dist/constants/routes.js"),O=t("../../libs/shared/dist/features/infoScreen/modals/index.js"),V=t("../../libs/shared/dist/hooks/index.js");const E=()=>{const[e,s]=(0,i.useState)(!1),t=(0,o.s0)(),{publicKey:u}=(0,R.rT)(),{id:f}=(0,V.nc)(["id"]),g=f,p="suspicious"===g,m="scam"===g,{isSelectMode:_,selectedIds:C,toggleSelected:S,isGridView:v,isTransferInProgress:k,isSendTransfer:w,receiveModalOpen:A,setReceiveModalOpen:D}=(0,r.$T)(),{data:N,isLoading:L}=(0,P.cw)(),{filterFn:U}=(0,P.A1)(),{goToGallery:E}=(0,P.pN)(),z=(0,c.__)("nftFloorPrice"),H=(0,i.useMemo)((()=>{if(!N)return null;const e=(0,d.Lu)(N,g);return e?{nfts:U(e.nfts||[]),heroUi:e.heroUi,heroUiSol:e.heroUiSol}:null}),[N,U,g]),{onNftClick:Y,resetState:$}=(0,P.pN)();if((0,i.useEffect)((()=>{L||H||E()}),[H,L]),!L&&0===N?.nfts.length)return(0,n.jsx)(j,{address:u});if(!L&&!H)return null;const K=!L&&0===H?.nfts.length,Z=("0"!==H?.heroUi?.price||"0"!==H?.heroUiSol?.price)&&!m;return(0,n.jsxs)(n.Fragment,{children:[(p||e)&&(0,n.jsx)(O.l,{open:e,onClose:()=>s(void 0)}),(0,n.jsx)(l.PageTitle,{center:H?.heroUi.name,left:(0,n.jsx)(l.ActionableIcon,{disabled:L,onClick:()=>{$(),t(G.yT.MAIN,{replace:!0})},icon:h.acZ,size:"l"}),right:p&&(0,n.jsx)(l.ActionableIcon,{icon:h.DBf,size:"l",onClick:()=>s(!0)})}),(0,n.jsxs)(l.PageContent,{overflow:!0,children:[(0,n.jsx)(l.NftCollectionHero,{showHeroHeader:Z,price:(0,n.jsx)(a.DR,{configKey:"nftFloorPrice",fiat:(0,n.jsx)(a.sp,{value:H?.heroUi?.price||"0"}),token:(0,n.jsx)(a.EI,{value:H?.heroUiSol?.price||"0"})}),variant:"fiat"===z?H?.heroUi?.variant:H?.heroUiSol?.variant,isLoading:L,subtext:{children:(0,n.jsx)(a.DR,{configKey:"nftFloorPrice",fiat:(0,n.jsx)(a.sp,{value:H?.heroUi?.amountChange||"0",showSign:!0}),token:(0,n.jsx)(a.EI,{value:H?.heroUiSol?.amountChange||"0",showSign:!0,hideSymbol:!0})})},tag:{children:(0,n.jsx)(a.DR,{configKey:"nftFloorPrice",fiat:(0,n.jsx)(a.Tf,{value:H?.heroUi?.percentageChange||"0",showSign:!0}),token:(0,n.jsx)(a.Tf,{value:H?.heroUiSol?.percentageChange||"0",showSign:!0})})},actions:(0,n.jsx)(y,{nfts:H?.nfts||[],rawData:N,isLoading:L})}),K&&(0,n.jsx)(b,{}),(0,n.jsx)(l.NftView,{selectMode:_,isLoading:L,isGridView:v,selectedIds:C,isSelectMode:_,onSelect:e=>!e.disabled&&S(e,e.collectionCount??"",N),onClick:e=>_?!e.disabled&&S(e,e.collectionCount??"",N):Y({group:e.group||"",id:e.id,redirectToSingle:!0}),nfts:H?.nfts??[]})]}),(0,n.jsx)(T,{groupId:f}),(0,n.jsx)(I,{}),k&&(w?(0,n.jsx)(B.j,{children:(0,n.jsx)(M.e,{})}):(0,n.jsx)(F,{})),A&&(0,n.jsx)(x.Z,{address:u,onClose:()=>D(!1),tRoute:"/receiveCollectibleRoute",tSource:"collectionThreeDot"})]})};var z=t("../../libs/shared/dist/context/scrollContentTo/index.js"),H=t("../../libs/shared/dist/features/featureFlags/index.js"),Y=t("../../libs/shared/dist/features/nfts/queries/nftData.js"),$=t("../../libs/shared/dist/features/nfts/utils/index.js"),K=t("../../libs/shared/dist/features/nfts/components/SingleNFTInstantSell/index.js"),Z=t("../../libs/shared/dist/features/nfts/components/SingleNFTInstantSell/SingleNFTInstantSellWidget.js"),q=t("../../libs/shared/dist/features/nfts/components/SingleNFTPreview/index.js");const J=()=>{const{t:e}=(0,u.$)(),{nft:s,isMarkedAsSpam:t,burn:o,send:r}=(0,P.ix)(),[a,c]=(0,i.useState)(!1),{data:{marketData:d}={}}=(0,Y.c)(s.id,{enabled:(0,$.Kl)(s)}),{delist:x}=(0,P.vg)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.NFTSingleHero,{heroElement:(0,n.jsx)(q.I,{}),actions:(0,n.jsxs)(l.NFTActions,{children:[(0,n.jsx)(l.ButtonGroup,{children:t?(0,n.jsx)(l.Button,{onClick:o,variant:"primary","data-id":"burn-action",children:e("action_burn")}):s.listed?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Button,{onClick:()=>c(!0),variant:"secondary","data-id":"edit-listing-action",children:e("action_edit")}),(0,n.jsx)(l.Button,{onClick:()=>x(s,d),variant:"secondary","data-id":"delist-action",children:e("action_delist")})]}):(0,n.jsxs)(n.Fragment,{children:[(0,$.oA)(s)&&(0,n.jsx)(l.Button,{onClick:()=>c(!0),variant:"secondary","data-id":"list-for-sale-action",children:e("action_list_for_sale")}),(0,n.jsx)(l.Button,{onClick:r,variant:"secondary","data-id":"send-action",children:e("action_send")})]})}),(0,n.jsx)(K.z,{nft:s,NFTInstantSellComponent:Z.o})]}),children:t&&(0,n.jsx)(l.Alert,{variant:"warning",title:e("nft_single_spam_alert_title"),message:e("nft_single_spam_alert_description")})}),a&&(0,n.jsx)(M.W,{nft:s,onClose:()=>c(!1)})]})},X=()=>{const{t:e}=(0,u.$)(),{burn:s}=(0,P.ix)();return(0,n.jsx)(l.NFTSingleHero,{heroElement:(0,n.jsx)(l.NFTImageBlocked,{title:e("nft_single_scam_alert_title"),description:e("nft_single_scam_alert_description")}),actions:(0,n.jsx)(l.NFTActions,{children:(0,n.jsx)(l.ButtonGroup,{children:(0,n.jsx)(l.Button,{onClick:s,variant:"primary",children:e("action_burn")})})})})};var Q=t("../../libs/shared/dist/hooks/useResizedImage.js");const W=()=>{const{mint:e}=(0,V.nc)(["mint"]),s=(0,o.s0)(),{t}=(0,u.$)(),{isTransferInProgress:a,isSendTransfer:c}=(0,r.$T)(),{data:d,isLoading:x}=(0,P.cw)(),{useScrollToTop:f}=(0,z.GR)(),j=(0,i.useMemo)((()=>d?.nfts?.find((s=>s.id===e))),[d,e]),g=(0,P.Vr)(j?.groupSingle),{url:p}=(0,Q.j)(g?.collectionImage);return f(),x?(0,n.jsx)(l.NFTSingleSkeleton,{}):j?(0,n.jsx)(r.V1,{nft:j,children:(0,n.jsxs)(l.PagePortal,{children:[(0,n.jsx)(l.PageTitle,{center:j.name||"",left:(0,n.jsx)(l.ActionableIcon,{disabled:x,onClick:()=>s(j.group?G.yT.GROUP(j.group):G.yT.MAIN,{replace:!0}),icon:h.acZ,size:"l"}),right:(0,n.jsx)(D.a,{})}),(0,n.jsx)(l.PageContent,{children:(0,n.jsx)(l.NFTSingleBase,{children:(0,$.gO)(j)?(0,n.jsx)(X,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(J,{}),(0,$.Kl)(j)&&(0,n.jsx)(N.i,{NFTStatsComponent:l.NFTStats,NFTStatComponent:l.NFTStat}),0!==j.attributes?.length&&(0,n.jsx)(L.j,{NFTAttributesComponent:l.NFTAttributes,NFTAttributeComponent:l.Attribute}),j.description&&(0,n.jsx)(l.NFTDescription,{title:t("nft_details_description"),text:j.description}),g?.marketplaceLink&&(0,n.jsx)(l.ViewCollection,{onClick:()=>{(0,H.dn)({collectionName:g?.name||""}),window.open(g?.marketplaceLink,"_blank")},image:p,title:g.name,subtitle:t("action_view_collection")})]})})}),a&&(c?(0,n.jsx)(B.j,{children:(0,n.jsx)(M.e,{})}):(0,n.jsx)(F,{}))]})}):(0,n.jsx)(o.Fg,{to:G.yT.MAIN,replace:!0})},ee=()=>(0,o.V$)([{path:"",element:(0,n.jsx)(r.PP,{children:(0,n.jsx)(o.j3,{})}),children:[{index:!0,element:(0,n.jsx)(U,{})},{path:"group/:id",element:(0,n.jsx)(E,{})},{path:"single/:mint",element:(0,n.jsx)(r.G7,{children:(0,n.jsx)(W,{})})}]}])},"../../libs/shared/dist/features/infoScreen/modals/index.js":(e,s,t)=>{t.d(s,{l:()=>i.l,v:()=>n.v});var n=t("../../libs/shared/dist/features/infoScreen/modals/InfoScreenJupiterSwap/index.js"),i=t("../../libs/shared/dist/features/infoScreen/modals/InfoScreenUnverifiedNftGuide/index.js")},"../../libs/shared/dist/features/nfts/hooks/useNftGroupSingle.js":(e,s,t)=>{t.d(s,{V:()=>o});var n=t("../../../node_modules/react/index.js"),i=t("../../libs/shared/dist/features/nfts/hooks/useNftData.js");const o=e=>{const{data:{groupsSingles:s=[]}={}}=(0,i.c)();return(0,n.useMemo)((()=>{if(e)return s.find((s=>s.id===e))}),[s,e])}}}]);
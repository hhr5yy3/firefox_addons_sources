function generate_password_item_click(e){document.getElementById("gen_passwordgenerator_list").value=document.getElementById("pref_passwordgenerator_list").value}function logout_item_click(e){browser.runtime.sendMessage({name:"on_logout_item_click"}),window.close()}function gen_generate_click(e){browser.runtime.sendMessage({name:"get_new_generate_password_fromscreen",generatorId:document.getElementById("gen_passwordgenerator_list").value},(function(response){null!=response&&set_password_generate(response.password)}))}function copy_generate_click(e){var password=document.querySelector("#pass_generate").value,copyFrom=document.createElement("textarea");copyFrom.textContent=password;var body=document.getElementsByTagName("body")[0];body.appendChild(copyFrom),copyFrom.select(),document.execCommand("copy"),body.removeChild(copyFrom),browser.runtime.sendMessage({name:"copy_to_clipboard_password",password:password},(function(response){}))}function set_password_generate(password){var password_field=document.querySelector("#pass_generate");null!=password_field&&(password_field.value=password)}function htmlEncode(str){return null!=str?str.startsWith("data:image")?str:String(str).replace(/[^\w. ]/gi,(function(c){return"&#"+c.charCodeAt(0)+";"})):""}function GetPreferences(){var ddlpref_passwordgenerator_list=document.querySelector("#gen_passwordgenerator_list");browser.runtime.sendMessage({name:"get_saved_preferences"},(function(response){""==response.response.BEDefaultPasswordList?ddlpref_passwordgenerator_list.selectedIndex=0:ddlpref_passwordgenerator_list.value=response.response.BEDefaultPasswordGenerator}))}document.addEventListener("DOMContentLoaded",(function(){var generate_password_item=document.querySelector("#generate_password_item"),gen_generate=document.querySelector("#gen_generate"),copy_generate=document.querySelector("#copy_generate"),gen_passwordgenerator_list=document.querySelector("#gen_passwordgenerator_list");generate_password_item.addEventListener("click",generate_password_item_click),gen_generate.addEventListener("click",gen_generate_click),copy_generate.addEventListener("click",copy_generate_click),browser.runtime.sendMessage({name:"get_passwordgeneratorlist"},(function(response){for(var generatoroptions="",j=0;j<response.response.length;j++)generatoroptions+="<option value="+htmlEncode(response.response[j].PasswordGeneratorID)+">"+htmlEncode(response.response[j].GeneratorName)+"</option>";gen_passwordgenerator_list.innerHTML=generatoroptions}))})),window.onload=function(){GetPreferences();for(var builds=document.querySelectorAll("#build"),i=builds.length-1;i>=0;i--)builds[i].appendChild(document.createTextNode(browser.extension.getBackgroundPage().GetBuild()));setTimeout((function(){gen_generate_click()}),100)};
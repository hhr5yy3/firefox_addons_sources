!function(e){function o(e){return r(e)?e:Promise.resolve(e)}function n(){let t,o;return{promise:new Promise((e,r)=>{t=e,o=r}),resolve:t,reject:o}}function r(e){return e instanceof Promise}o.resolve=Promise.resolve.bind(Promise),o.defer=n,o.promise=function(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");const r=n();try{e(r.resolve,r.reject,r.notify)}catch(e){r.reject(e)}return r.promise},o.race=Promise.race.bind(Promise),o.when=function(e,r,t){return o(e).then(r,t)},o.isPromise=r,o.reject=Promise.reject.bind(Promise),o.spread=function(e,r,t){return o(e).spread(r,t)},Promise.prototype.spread=function(r,e){return this.then(function(e){return Array.isArray(e)?r(...e):r(e)},e)},o.all=Promise.all.bind(Promise),o.allSettled=Promise.allSettled.bind(Promise),Promise.prototype.fail=Promise.prototype.catch,Promise.prototype.fin=Promise.prototype.finally,o.done=function(e,r,t){return o(e).done(r,t)},Promise.prototype.done=function(e,r){const t=e||r?this.then(e,r):this;return t.then(void 0,e=>{throw console.error("Unhandled rejection:",e),e})},o.timeout=function(e,r,t){return o(e).timeout(r,t)},Promise.prototype.timeout=function(e,r){const t=n(),o=setTimeout(function(){t.reject(new Error(r||"Timed out after "+e+" ms"))},e);return this.then(function(e){clearTimeout(o),t.resolve(e)},function(e){clearTimeout(o),t.reject(e)}),t.promise},o.delay=function(e,r){return void 0===r&&(r=e,e=void 0),o(e).delay(r)},Promise.prototype.delay=function(t){return this.then(function(e){const r=n();return setTimeout(function(){r.resolve(e)},t),r.promise})},e.Q=o}(Okta);
var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function r(){return Object.create(null)}function s(e){e.forEach(n)}function o(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let i;function a(e,t){return i||(i=document.createElement("a")),i.href=t,e===i.href}function l(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(e,t,n){e.$$.on_destroy.push(l(t,n))}function d(e,t,n,r){if(e){const s=f(e,t,n,r);return e[0](s)}}function f(e,n,r,s){return e[1]&&s?t(r.ctx.slice(),e[1](s(n))):r.ctx}function p(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}function $(e,t,n,r,s,o){if(s){const c=f(t,n,r,o);e.p(c,s)}}function m(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function h(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function g(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}function v(t){return t&&o(t.destroy)?t.destroy:e}function w(e,t){e.appendChild(t)}function b(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode&&e.parentNode.removeChild(e)}function x(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function k(e){return document.createElement(e)}function C(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function I(e){return document.createTextNode(e)}function S(){return I(" ")}function O(){return I("")}function T(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function q(e){return function(t){return t.preventDefault(),e.call(this,t)}}function L(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function _(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const P=["width","height"];function E(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set&&-1===P.indexOf(r)?e[r]=t[r]:_(e,r,t[r])}function M(e,t){for(const n in t)_(e,n,t[n])}function A(e,t){t=""+t,e.data!==t&&(e.data=t)}function R(e,t){e.value=null==t?"":t}function W(e,t,n,r){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function F(e,t,n){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function B(e,t,n){e.classList[n?"add":"remove"](t)}class N{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=C(t.nodeName):this.e=k(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)b(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(y)}}let z;function H(e){z=e}function j(){if(!z)throw new Error("Function called outside component initialization");return z}function D(e){j().$$.on_mount.push(e)}function U(e){j().$$.on_destroy.push(e)}function V(){const e=j();return(t,n,{cancelable:r=!1}={})=>{const s=e.$$.callbacks[t];if(s){const o=function(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,n,r,t),s}(t,n,{cancelable:r});return s.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}function Z(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const G=[],J=[];let Q=[];const X=[],Y=Promise.resolve();let K=!1;function ee(){K||(K=!0,Y.then(oe))}function te(e){Q.push(e)}function ne(e){X.push(e)}const re=new Set;let se=0;function oe(){if(0!==se)return;const e=z;do{try{for(;se<G.length;){const e=G[se];se++,H(e),ce(e.$$)}}catch(e){throw G.length=0,se=0,e}for(H(null),G.length=0,se=0;J.length;)J.pop()();for(let e=0;e<Q.length;e+=1){const t=Q[e];re.has(t)||(re.add(t),t())}Q.length=0}while(G.length);for(;X.length;)X.pop()();K=!1,re.clear(),H(e)}function ce(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(te)}}const ie=new Set;let ae;function le(){ae={r:0,c:[],p:ae}}function ue(){ae.r||s(ae.c),ae=ae.p}function de(e,t){e&&e.i&&(ie.delete(e),e.i(t))}function fe(e,t,n,r){if(e&&e.o){if(ie.has(e))return;ie.add(e),ae.c.push((()=>{ie.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}function pe(e,t){const n={},r={},s={$$scope:1};let o=e.length;for(;o--;){const c=e[o],i=t[o];if(i){for(const e in c)e in i||(r[e]=1);for(const e in i)s[e]||(n[e]=i[e],s[e]=1);e[o]=i}else for(const e in c)s[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function $e(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function me(e){e&&e.c()}function he(e,t,r,c){const{fragment:i,after_update:a}=e.$$;i&&i.m(t,r),c||te((()=>{const t=e.$$.on_mount.map(n).filter(o);e.$$.on_destroy?e.$$.on_destroy.push(...t):s(t),e.$$.on_mount=[]})),a.forEach(te)}function ge(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];Q.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),Q=t}(n.after_update),s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ve(t,n,o,c,i,a,l,u=[-1]){const d=z;H(t);const f=t.$$={fragment:null,ctx:[],props:a,update:e,not_equal:i,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};l&&l(f.root);let p=!1;if(f.ctx=o?o(t,n.props||{},((e,n,...r)=>{const s=r.length?r[0]:n;return f.ctx&&i(f.ctx[e],f.ctx[e]=s)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](s),p&&function(e,t){-1===e.$$.dirty[0]&&(G.push(e),ee(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),p=!0,s(f.before_update),f.fragment=!!c&&c(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(y)}else f.fragment&&f.fragment.c();n.intro&&de(t.$$.fragment),he(t,n.target,n.anchor,n.customElement),oe()}H(d)}class we{$destroy(){ge(this,1),this.$destroy=e}$on(t,n){if(!o(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function be(e){let n,r,s,o;const c=e[2].default,i=d(c,e,e[1],null);let a=[e[0]],l={};for(let e=0;e<a.length;e+=1)l=t(l,a[e]);return{c(){n=k("div"),i&&i.c(),E(n,l),B(n,"svelte-1jzk4ot",!0)},m(t,c){b(t,n,c),i&&i.m(n,null),r=!0,s||(o=T(n,"click",e[3]),s=!0)},p(e,[t]){i&&i.p&&(!r||2&t)&&$(i,c,e,e[1],r?p(c,e[1],t,null):m(e[1]),null),E(n,l=pe(a,[1&t&&e[0]])),B(n,"svelte-1jzk4ot",!0)},i(e){r||(de(i,e),r=!0)},o(e){fe(i,e),r=!1},d(e){e&&y(n),i&&i.d(e),s=!1,o()}}}function ye(e,n,r){const s=[];let o=g(n,s),{$$slots:c={},$$scope:i}=n;return e.$$set=e=>{n=t(t({},n),h(e)),r(0,o=g(n,s)),"$$scope"in e&&r(1,i=e.$$scope)},[o,i,c,function(t){Z.call(this,e,t)}]}class xe extends we{constructor(e){super(),ve(this,e,ye,be,c,{})}}function ke(e,t,n){const r=e.slice();return r[8]=t[n],r}function Ce(e){let t,n,r,s=e[8].name+"";return{c(){t=k("option"),n=I(s),t.__value=r=e[8].value,t.value=t.__value},m(e,r){b(e,t,r),w(t,n)},p(e,o){2&o&&s!==(s=e[8].name+"")&&A(n,s),2&o&&r!==(r=e[8].value)&&(t.__value=r,t.value=t.__value)},d(e){e&&y(t)}}}function Ie(t){let n,r,c,i=t[1],a=[];for(let e=0;e<i.length;e+=1)a[e]=Ce(ke(t,i,e));return{c(){n=k("select");for(let e=0;e<a.length;e+=1)a[e].c();_(n,"aria-label",t[3]),_(n,"class","svelte-13a0xyj"),void 0===t[0]&&te((()=>t[7].call(n)))},m(e,s){b(e,n,s);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(n,null);F(n,t[0],!0),r||(c=[T(n,"change",t[7]),T(n,"change",(function(){o(t[2])&&t[2].apply(this,arguments)})),T(n,"change",t[4]),T(n,"contextmenu",t[5]),T(n,"input",t[6])],r=!0)},p(e,[r]){if(t=e,2&r){let e;for(i=t[1],e=0;e<i.length;e+=1){const s=ke(t,i,e);a[e]?a[e].p(s,r):(a[e]=Ce(s),a[e].c(),a[e].m(n,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=i.length}8&r&&_(n,"aria-label",t[3]),3&r&&F(n,t[0])},i:e,o:e,d(e){e&&y(n),x(a,e),r=!1,s(c)}}}function Se(e,t,n){let{values:r}=t,{value:s}=t,{onChange:o}=t,{ariaLabel:c}=t;return e.$$set=e=>{"values"in e&&n(1,r=e.values),"value"in e&&n(0,s=e.value),"onChange"in e&&n(2,o=e.onChange),"ariaLabel"in e&&n(3,c=e.ariaLabel)},[s,r,o,c,function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(){s=function(e){const t=e.querySelector(":checked");return t&&t.__value}(this),n(0,s),n(1,r)}]}let Oe=class extends we{constructor(e){super(),ve(this,e,Se,Ie,c,{values:1,value:0,onChange:2,ariaLabel:3})}};function Te(t){let n,r;return{c(){n=C("svg"),r=C("path"),_(r,"d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"),_(n,"xmlns","http://www.w3.org/2000/svg"),_(n,"height","20px"),_(n,"viewBox","0 0 24 24"),_(n,"width","20px"),_(n,"fill","currentColor")},m(e,t){b(e,n,t),w(n,r)},p:e,i:e,o:e,d(e){e&&y(n)}}}class qe extends we{constructor(e){super(),ve(this,e,null,Te,c,{})}}function Le(t){let n,r;return{c(){n=C("svg"),r=C("path"),_(r,"d","m291-240-51-51 189-189-189-189 51-51 189 189 189-189 51 51-189 189 189 189-51 51-189-189-189 189Z"),_(n,"xmlns","http://www.w3.org/2000/svg"),_(n,"height","20px"),_(n,"viewBox","0 -960 960 960"),_(n,"width","20px"),_(n,"fill","currentColor")},m(e,t){b(e,n,t),w(n,r)},p:e,i:e,o:e,d(e){e&&y(n)}}}class _e extends we{constructor(e){super(),ve(this,e,null,Le,c,{})}}function Pe(n){let r,o,c,i=[n[1]],a={};for(let e=0;e<i.length;e+=1)a=t(a,i[e]);return{c(){r=k("input"),E(r,a),B(r,"svelte-z6c0dv",!0)},m(e,t){b(e,r,t),r.autofocus&&r.focus(),R(r,n[0]),o||(c=[T(r,"input",n[15]),T(r,"blur",n[2]),T(r,"change",n[3]),T(r,"click",n[4]),T(r,"contextmenu",n[5]),T(r,"focus",n[6]),T(r,"keydown",n[7]),T(r,"keypress",n[8]),T(r,"keyup",n[9]),T(r,"mouseover",n[10]),T(r,"mouseenter",n[11]),T(r,"mouseleave",n[12]),T(r,"paste",n[13]),T(r,"input",n[14])],o=!0)},p(e,[t]){E(r,a=pe(i,[2&t&&e[1]])),1&t&&r.value!==e[0]&&R(r,e[0]),B(r,"svelte-z6c0dv",!0)},i:e,o:e,d(e){e&&y(r),o=!1,s(c)}}}function Ee(e,n,r){const s=["value"];let o=g(n,s),{value:c}=n;return e.$$set=e=>{n=t(t({},n),h(e)),r(1,o=g(n,s)),"value"in e&&r(0,c=e.value)},[c,o,function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(){c=this.value,r(0,c)}]}class Me extends we{constructor(e){super(),ve(this,e,Ee,Pe,c,{value:0})}}function Ae(e){let n,r;const s=e[2].default,o=d(s,e,e[1],null);let c=[e[0]],i={};for(let e=0;e<c.length;e+=1)i=t(i,c[e]);return{c(){n=k("span"),o&&o.c(),E(n,i),B(n,"svelte-1auan3b",!0)},m(e,t){b(e,n,t),o&&o.m(n,null),r=!0},p(e,[t]){o&&o.p&&(!r||2&t)&&$(o,s,e,e[1],r?p(s,e[1],t,null):m(e[1]),null),E(n,i=pe(c,[1&t&&e[0]])),B(n,"svelte-1auan3b",!0)},i(e){r||(de(o,e),r=!0)},o(e){fe(o,e),r=!1},d(e){e&&y(n),o&&o.d(e)}}}function Re(e,n,r){const s=[];let o=g(n,s),{$$slots:c={},$$scope:i}=n;return e.$$set=e=>{n=t(t({},n),h(e)),r(0,o=g(n,s)),"$$scope"in e&&r(1,i=e.$$scope)},[o,i,c]}class We extends we{constructor(e){super(),ve(this,e,Re,Ae,c,{})}}const Fe=[];function Be(t,n=e){let r;const s=new Set;function o(e){if(c(t,e)&&(t=e,r)){const e=!Fe.length;for(const e of s)e[1](),Fe.push(e,t);if(e){for(let e=0;e<Fe.length;e+=2)Fe[e][0](Fe[e+1]);Fe.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(c,i=e){const a=[c,i];return s.add(a),1===s.size&&(r=n(o)||e),c(t),()=>{s.delete(a),0===s.size&&r&&(r(),r=null)}}}}function Ne(t,n,r){const c=!Array.isArray(t),i=c?[t]:t,a=n.length<2;return u=t=>{let r=!1;const u=[];let d=0,f=e;const p=()=>{if(d)return;f();const r=n(c?u[0]:u,t);a?t(r):f=o(r)?r:e},$=i.map(((e,t)=>l(e,(e=>{u[t]=e,d&=~(1<<t),r&&p()}),(()=>{d|=1<<t}))));return r=!0,p(),function(){s($),f(),r=!1}},{subscribe:Be(r,u).subscribe};var u}const ze=Be(null),He=Be(null);function je(e,t,n){const r=e.slice();return r[14]=t[n],r}function De(t){let n,r=(t[4].i18n.getMessage("excludeFromRedirecting")||"Excluded from redirecting")+"";return{c(){n=I(r)},m(e,t){b(e,n,t)},p:e,d(e){e&&y(n)}}}function Ue(e){let t,n;return t=new We({props:{$$slots:{default:[De]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,n){const r={};131072&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function Ve(e){let t,n,r,s,o,c,i,a,l,u,d,f;function p(t){e[7](t)}let $={placeholder:e[3],"aria-label":"Add url exception input"};function m(t){e[9](t)}void 0!==e[2]&&($.value=e[2]),n=new Me({props:$}),J.push((()=>$e(n,"value",p))),n.$on("keydown",e[8]);let h={values:[{value:"url",name:"URL"},{value:"regex",name:"Regex"}]};return void 0!==e[0]&&(h.value=e[0]),o=new Oe({props:h}),J.push((()=>$e(o,"value",m))),l=new qe({}),{c(){t=k("div"),me(n.$$.fragment),s=S(),me(o.$$.fragment),i=S(),a=k("button"),me(l.$$.fragment),_(a,"class","add svelte-kqf76d"),_(a,"aria-label","Add the url exception")},m(r,c){b(r,t,c),he(n,t,null),w(t,s),he(o,t,null),b(r,i,c),b(r,a,c),he(l,a,null),u=!0,d||(f=T(a,"click",e[6]),d=!0)},p(e,t){const s={};8&t&&(s.placeholder=e[3]),!r&&4&t&&(r=!0,s.value=e[2],ne((()=>r=!1))),n.$set(s);const i={};!c&&1&t&&(c=!0,i.value=e[0],ne((()=>c=!1))),o.$set(i)},i(e){u||(de(n.$$.fragment,e),de(o.$$.fragment,e),de(l.$$.fragment,e),u=!0)},o(e){fe(n.$$.fragment,e),fe(o.$$.fragment,e),fe(l.$$.fragment,e),u=!1},d(e){e&&y(t),ge(n),ge(o),e&&y(i),e&&y(a),ge(l),d=!1,f()}}}function Ze(e){let t,n,r,s,o,c,i,a=e[14]+"";function l(){return e[10](e[14])}return s=new _e({}),{c(){t=I(a),n=S(),r=k("button"),me(s.$$.fragment),_(r,"class","add svelte-kqf76d")},m(e,a){b(e,t,a),b(e,n,a),b(e,r,a),he(s,r,null),o=!0,c||(i=T(r,"click",l),c=!0)},p(n,r){e=n,(!o||2&r)&&a!==(a=e[14]+"")&&A(t,a)},i(e){o||(de(s.$$.fragment,e),o=!0)},o(e){fe(s.$$.fragment,e),o=!1},d(e){e&&y(t),e&&y(n),e&&y(r),ge(s),c=!1,i()}}}function Ge(e){let t,n,r,s;return t=new xe({props:{$$slots:{default:[Ze]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment),n=S(),r=k("hr")},m(e,o){he(t,e,o),b(e,n,o),b(e,r,o),s=!0},p(e,n){const r={};131074&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){s||(de(t.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),e&&y(r)}}}function Je(e){let t,n,r,s,o,c,i,a,l;t=new xe({props:{$$slots:{default:[Ue]},$$scope:{ctx:e}}}),s=new xe({props:{$$slots:{default:[Ve]},$$scope:{ctx:e}}});let u=[...e[1].exceptions.url,...e[1].exceptions.regex],d=[];for(let t=0;t<u.length;t+=1)d[t]=Ge(je(e,u,t));const f=e=>fe(d[e],1,1,(()=>{d[e]=null}));return{c(){me(t.$$.fragment),n=S(),r=k("div"),me(s.$$.fragment),o=S(),c=k("hr"),i=S(),a=k("div");for(let e=0;e<d.length;e+=1)d[e].c();_(a,"class","checklist"),_(r,"dir","ltr")},m(e,u){he(t,e,u),b(e,n,u),b(e,r,u),he(s,r,null),w(r,o),w(r,c),w(r,i),w(r,a);for(let e=0;e<d.length;e+=1)d[e]&&d[e].m(a,null);l=!0},p(e,[n]){const r={};131072&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const o={};if(131085&n&&(o.$$scope={dirty:n,ctx:e}),s.$set(o),34&n){let t;for(u=[...e[1].exceptions.url,...e[1].exceptions.regex],t=0;t<u.length;t+=1){const r=je(e,u,t);d[t]?(d[t].p(r,n),de(d[t],1)):(d[t]=Ge(r),d[t].c(),de(d[t],1),d[t].m(a,null))}for(le(),t=u.length;t<d.length;t+=1)f(t);ue()}},i(e){if(!l){de(t.$$.fragment,e),de(s.$$.fragment,e);for(let e=0;e<u.length;e+=1)de(d[e]);l=!0}},o(e){fe(t.$$.fragment,e),fe(s.$$.fragment,e),d=d.filter(Boolean);for(let e=0;e<d.length;e+=1)fe(d[e]);l=!1},d(e){ge(t,e),e&&y(n),e&&y(r),ge(s),x(d,e)}}}function Qe(e,t,n){let r;const s=window.browser||window.chrome;let o;const c=ze.subscribe((e=>n(1,o=e))),i=He.subscribe((e=>e));U((()=>{c(),i()}));let a="url",l="";function u(e){let t;t=o.exceptions.url.indexOf(e),t>-1?o.exceptions.url.splice(t,1):(t=o.exceptions.regex.indexOf(e),t>-1&&o.exceptions.regex.splice(t,1)),ze.set(o)}function d(){let e=!1;"url"==a&&/^(ftp|http|https):\/\/[^ "]+$/.test(l)?(e=!0,o.exceptions.url.includes(l)||o.exceptions.url.push(l)):"regex"==a&&(e=!0,o.exceptions.regex.includes(l)||o.exceptions.regex.push(l)),e&&(ze.set(o),n(2,l=""))}return e.$$.update=()=>{1&e.$$.dirty&&n(3,r="url"==a?"https://www.google.com":"https?://(www.|)youtube.com/")},[a,o,l,r,s,u,d,function(e){l=e,n(2,l)},e=>{"Enter"===e.key&&d()},function(e){a=e,n(0,a)},e=>u(e)]}class Xe extends we{constructor(e){super(),ve(this,e,Qe,Je,c,{})}}function Ye(e){let n,r,s,o;const c=e[3].default,i=d(c,e,e[2],null);let a=[e[0],e[1]],l={};for(let e=0;e<a.length;e+=1)l=t(l,a[e]);return{c(){n=k("button"),i&&i.c(),E(n,l),B(n,"svelte-efu498",!0)},m(t,c){b(t,n,c),i&&i.m(n,null),n.autofocus&&n.focus(),r=!0,s||(o=T(n,"click",e[4]),s=!0)},p(e,[t]){i&&i.p&&(!r||4&t)&&$(i,c,e,e[2],r?p(c,e[2],t,null):m(e[2]),null),E(n,l=pe(a,[1&t&&e[0],2&t&&e[1]])),B(n,"svelte-efu498",!0)},i(e){r||(de(i,e),r=!0)},o(e){fe(i,e),r=!1},d(e){e&&y(n),i&&i.d(e),s=!1,o()}}}function Ke(e,n,r){const s=[];let o=g(n,s),{$$slots:c={},$$scope:i}=n;return e.$$set=e=>{r(1,n=t(t({},n),h(e))),r(0,o=g(n,s)),"$$scope"in e&&r(2,i=e.$$scope)},n=h(n),[o,n,i,c,function(t){Z.call(this,e,t)}]}class et extends we{constructor(e){super(),ve(this,e,Ke,Ye,c,{})}}function tt(n){let r,s,o=[n[0],{xmlns:"http://www.w3.org/2000/svg"},{height:"24px"},{viewBox:"0 0 24 24"},{width:"24px"},{fill:"currentColor"}],c={};for(let e=0;e<o.length;e+=1)c=t(c,o[e]);return{c(){r=C("svg"),s=C("path"),_(s,"d","M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"),M(r,c)},m(e,t){b(e,r,t),w(r,s)},p(e,[t]){M(r,c=pe(o,[1&t&&e[0],{xmlns:"http://www.w3.org/2000/svg"},{height:"24px"},{viewBox:"0 0 24 24"},{width:"24px"},{fill:"currentColor"}]))},i:e,o:e,d(e){e&&y(r)}}}function nt(e,n,r){const s=[];let o=g(n,s);return e.$$set=e=>{n=t(t({},n),h(e)),r(0,o=g(n,s))},[o]}class rt extends we{constructor(e){super(),ve(this,e,nt,tt,c,{})}}function st(n){let r,s,o=[n[0],{xmlns:"http://www.w3.org/2000/svg"},{height:"24px"},{viewBox:"0 0 24 24"},{width:"24px"},{fill:"currentColor"}],c={};for(let e=0;e<o.length;e+=1)c=t(c,o[e]);return{c(){r=C("svg"),s=C("path"),_(s,"d","M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"),M(r,c)},m(e,t){b(e,r,t),w(r,s)},p(e,[t]){M(r,c=pe(o,[1&t&&e[0],{xmlns:"http://www.w3.org/2000/svg"},{height:"24px"},{viewBox:"0 0 24 24"},{width:"24px"},{fill:"currentColor"}]))},i:e,o:e,d(e){e&&y(r)}}}function ot(e,n,r){const s=[];let o=g(n,s);return e.$$set=e=>{n=t(t({},n),h(e)),r(0,o=g(n,s))},[o]}class ct extends we{constructor(e){super(),ve(this,e,ot,st,c,{})}}function it(n){let r,s,o,c=[{xmlns:"http://www.w3.org/2000/svg"},{"enable-background":"new 0 0 24 24"},{height:"24px"},{viewBox:"0 0 24 24"},{width:"24px"},{fill:"currentColor"},n[0]],i={};for(let e=0;e<c.length;e+=1)i=t(i,c[e]);return{c(){r=C("svg"),s=C("path"),o=C("path"),_(s,"d","M12,5V2L8,6l4,4V7c3.31,0,6,2.69,6,6c0,2.97-2.17,5.43-5,5.91v2.02c3.95-0.49,7-3.85,7-7.93C20,8.58,16.42,5,12,5z"),_(o,"d","M6,13c0-1.65,0.67-3.15,1.76-4.24L6.34,7.34C4.9,8.79,4,10.79,4,13c0,4.08,3.05,7.44,7,7.93v-2.02 C8.17,18.43,6,15.97,6,13z"),M(r,i)},m(e,t){b(e,r,t),w(r,s),w(r,o)},p(e,[t]){M(r,i=pe(c,[{xmlns:"http://www.w3.org/2000/svg"},{"enable-background":"new 0 0 24 24"},{height:"24px"},{viewBox:"0 0 24 24"},{width:"24px"},{fill:"currentColor"},1&t&&e[0]]))},i:e,o:e,d(e){e&&y(r)}}}function at(e,n,r){const s=[];let o=g(n,s);return e.$$set=e=>{n=t(t({},n),h(e)),r(0,o=g(n,s))},[o]}class lt extends we{constructor(e){super(),ve(this,e,at,it,c,{})}}function ut(e){return e[~~(e.length*Math.random())]}function dt(e){return new Promise((async t=>{let n,r=new XMLHttpRequest;r.timeout=5e3,r.ontimeout=()=>t(5e3),r.onerror=()=>t(),r.onreadystatechange=()=>{if(2==r.readyState)if(200==r.status){let e=(new Date).getTime();r.abort(),t(e-n)}else t(5e3+r.status)},r.open("GET",`${e}?_=${(new Date).getTime()}`,!0),n=(new Date).getTime(),r.send(null)}))}function ft(e){return new Promise((async t=>{let n,r=0;for(let s=0;s<3;s++)if(n=await dt(e),0!=s){if(n>=5e3)return void t(n);r+=n}r=parseInt(r/3),t(r)}))}function pt(e,t){let n=[];t>e.length&&(t=e.length);for(let r=0;r<t;r++){const t=e[Math.floor(Math.random()*e.length)];n.push(t)}return n}window.browser=window.browser||window.chrome;var $t={getRandomInstance:ut,getNextInstance:function(e,t){const n=t.indexOf(e);return-1===n?ut(t):t[(n+1)%t.length]},protocolHost:function(e){if(e.pathname=e.pathname.replace(/\/$/,""),e.username&&e.password)return`${e.protocol}//${e.username}:${e.password}@${e.host}${e.pathname}`;if("/TekstoLibre/"==e.pathname&&e.host.endsWith("github.io"))return`${e.protocol}//${e.host}${e.pathname.slice(0,-1)}`;const t="/"!=e.pathname?e.pathname:"";return`${e.protocol}//${e.host}${t}`},getList:function(e){return new Promise((t=>{let n;if("github"==e.fetchInstances)n="https://raw.githubusercontent.com/libredirect/instances/main/data.json";else{if("codeberg"!=e.fetchInstances)return t("disabled");n="https://codeberg.org/LibRedirect/instances/raw/branch/main/data.json"}const r=new XMLHttpRequest;r.open("GET",n,!0),r.onreadystatechange=()=>{if(200===r.status&&r.readyState==XMLHttpRequest.DONE)return t(JSON.parse(r.responseText))},r.onerror=()=>t(),r.ontimeout=()=>t(),r.send(null)}))},getBlacklist:function(e){return new Promise((t=>{let n;if("github"==e.fetchInstances)n="https://raw.githubusercontent.com/libredirect/instances/main/blacklist.json";else{if("codeberg"!=e.fetchInstances)return t("disabled");n="https://codeberg.org/LibRedirect/instances/raw/branch/main/blacklist.json"}const r=new XMLHttpRequest;r.open("GET",n,!0),r.onreadystatechange=()=>{200===r.status&&r.readyState==XMLHttpRequest.DONE&&t(JSON.parse(r.responseText))},r.onerror=()=>t(),r.ontimeout=()=>t(),r.send(null)}))},getConfig:function(){return new Promise((e=>{fetch("/config.json").then((e=>e.text())).then((t=>{e(JSON.parse(t))}))}))},getOptions:function(){return new Promise((e=>browser.storage.local.get("options",(t=>e(t.options)))))},getPingCache:function(){return new Promise((e=>browser.storage.local.get("pingCache",(t=>e(t.pingCache??{})))))},ping:ft,addressToLatLng:function(e){const t=new XMLHttpRequest;if(t.open("GET",`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(e)}&format=json&limit=1`,!1),t.send(),200==t.status){const e=JSON.parse(t.responseText)[0];return e?{coordinate:`${e.lat},${e.lon}`,boundingbox:`${e.boundingbox[2]},${e.boundingbox[1]},${e.boundingbox[3]},${e.boundingbox[0]}`}:{}}},getQuery:function(e){let t="";return e.searchParams.has("q")?t=e.searchParams.get("q"):e.searchParams.has("query")&&(t=e.searchParams.has("query")),t},prefsEncoded:function(e){return new URLSearchParams(e).toString()},convertMapCentre:function(e){let[t,n,r]=[null,null,null];const s=e.pathname.match(/@(-?\d[0-9.]*),(-?\d[0-9.]*),(\d{1,2})[.z]/);return s?[,n,t,r]=s:e.searchParams.has("center")&&([t,n]=e.searchParams.get("center").split(","),r=e.searchParams.get("zoom")??"17"),{zoom:r,lon:n,lat:t}},randomInstances:pt,style:function(e,t){const n=function(e,t){const n={text:"#fff",bgMain:"#121212",bgSecondary:"#202020",active:"#fbc117",danger:"#f04141",lightGrey:"#c3c3c3"},r={text:"black",bgMain:"white",bgSecondary:"#e4e4e4",active:"#fb9817",danger:"#f04141",lightGrey:"#c3c3c3"};return"dark"==e.theme?n:"light"==e.theme?r:t.matchMedia("(prefers-color-scheme: dark)").matches?n:r}(e,t);return`--text: ${n.text};\n  --bg-main: ${n.bgMain};\n  --bg-secondary: ${n.bgSecondary};\n  --active: ${n.active};\n  --danger: ${n.danger};\n  --light-grey: ${n.lightGrey};`},autoPickInstance:async function(e,t){if(t){const n=e.findIndex((e=>t.href.startsWith(e)));n>=0&&e.splice(n,1)}const n=pt(e,5),r=await Promise.all([...n.map((async e=>[e,await ft(e)]))]);return r.sort(((e,t)=>e[1]-t[1])),r[0][0]}};const mt=void 0===browser.runtime.getBrowserInfo;let ht,gt;async function vt(){gt=await $t.getOptions(),ht=await $t.getConfig()}function wt(e,t,n,r){let s=[];if(t)n[t]&&(s=n[t]);else for(const t in r.services[e].frontends)n[t]&&s.push(...n[t]);return s}function bt(e,t,n,r,s){let o=n.services[e].targets;s&&"excludeTargets"in n.services[e].frontends[s]&&("search"===e&&r.search.redirectGoogle||(o=o.filter((t=>!n.services[e].frontends[s].excludeTargets.includes(o.indexOf(t))))));for(const e in o){if(new RegExp(o[e]).test(t.href))return!0}return!1}function yt(e,t,n,r,s,o){if("main_frame"!=t&&"sub_frame"!=t&&"image"!=t)return;let c,i;if(o||1!=gt.redirectOnlyInIncognito||s){for(const a in ht.services){if(!o&&!gt[a].enabled)continue;if(!o&&1==gt[a].redirectOnlyInIncognito&&!s)continue;if(i=gt[a].frontend,ht.services[a].frontends[i].desktopApp&&"main_frame"!=t&&"main_frame"!=gt[a].redirectType&&(i=gt[a].embedFrontend),!bt(a,e,ht,gt,i)){i=null;continue}if("main_frame"!=t&&r&&"sub_frame"==gt[a].redirectType&&bt(a,r,ht,gt,i))return;if(ht.services[a].embeddable&&t!=gt[a].redirectType&&"both"!=gt[a].redirectType)return"block"==gt[a].unsupportedUrls?"CANCEL":void 0;let l=gt[i];if(void 0===l)break;if(ht.services[a].frontends[i].localhost&&"localhost"==gt[a].instance)c=`http://${i}.localhost:8080`;else{if(0===l.length)return`https://no-instance.libredirect.invalid?frontend=${encodeURIComponent(i)}&url=${encodeURIComponent(e.href)}`;c=$t.getRandomInstance(l)}if(n&&l.includes(n.origin))return"main_frame"==t?"BYPASSTAB":null;break}if(i)return function(e,t,n,r){switch(n){case"hyperpipe":for(const t of[...e.searchParams.keys()])"q"!==t&&e.searchParams.delete(t);return`${r}${e.pathname}${e.search}`.replace(/\/search\?q=.*/,(e=>e.replace("?q=","/")));case"searx":case"searxng":for(const t of[...e.searchParams.keys()])"q"!==t&&e.searchParams.delete(t);return`${r}/${e.search}`;case"whoogle":for(const t of[...e.searchParams.keys()])"q"!==t&&e.searchParams.delete(t);return`${r}/search${e.search}`;case"4get":{const t=e.searchParams.get("q");return null!==t?`${r}/web?s=${encodeURIComponent(t)}`:r}case"librey":for(const t in e.searchParams.keys())"q"!=t&&e.searchParams.delete(t);return`${r}/search.php${e.search}`;case"yattee":return e.searchParams.delete("si"),e.href.replace(/^https?:\/{2}/,"yattee://");case"freetube":case"freetubePwa":return e.searchParams.delete("si"),"freetube://"+e.href;case"poketube":if(e.searchParams.delete("si"),e.pathname.startsWith("/channel")){const t=/\/channel\/(.*)\/?$/.exec(e.pathname);if(t)return`${r}/channel?id=${t[1]}${e.search}`}return/\/@[a-z]+\//.exec(e.pathname)?r:`${r}${e.pathname}${e.search}`;case"libMedium":case"scribe":{const t=e.hostname.match(/^(link|cdn-images-\d+|.*)\.medium\.com/);if(t&&t.length>1){const n=t[1];if("link"!=n||!n.startsWith("cdn-images"))return`${r}/@${n}${e.pathname}${e.search}`}return`${r}${e.pathname}${e.search}`}case"translite":case"simplyTranslate":return`${r}/${e.search}`;case"send":case"mozhi":return r;case"libreTranslate":return`${r}/${e.search.replace("sl","source").replace("tl","target").replace("text","q")}`;case"osm":{if(t&&"earth.google.com"===t.host)return r;let n={layers:"mapnik"},s="#";const o=$t.convertMapCentre(e);if(o.zoom&&o.lon&&o.lat&&(s=`#map=${o.zoom}/${o.lon}/${o.lat}`),e.pathname.includes("/embed")){const t=$t.getQuery(e);let{coordinate:s,boundingbox:o}=$t.addressToLatLng(t);return n.bbox=o,n.marker=s,`${r}/export/embed.html?${$t.prefsEncoded(n)}`}if(e.pathname.includes("/dir")){if(e.searchParams.has("travelmode")){const t={driving:"fossgis_osrm_car",walking:"fossgis_osrm_foot",bicycling:"fossgis_osrm_bike",transit:"fossgis_osrm_car"};n.engine=t[e.searchParams.get("travelmode")]}const t=/\/dir\/([^@/]+)\/([^@/]+)\/@-?\d[0-9.]*,-?\d[0-9.]*,\d{1,2}[.z]/.exec(e.pathname),o=/\/dir\/([^@/]+)\//.exec(e.pathname);if(t){const e=$t.addressToLatLng(decodeURIComponent(t[1])).coordinate??"",r=$t.addressToLatLng(decodeURIComponent(t[2])).coordinate??"";n.route=`${e};${r}`}else if(o){const e=$t.addressToLatLng(decodeURIComponent(o[1])).coordinate??"";n.route=`${e};`}else{const t=$t.addressToLatLng(e.searchParams.get("origin")).coordinate??"",r=$t.addressToLatLng(e.searchParams.get("destination")).coordinate??"";n.route=`${t};${r}`}return`${r}/directions?${$t.prefsEncoded(n)}${s}`}const c=/\/place\/(.*?)\//;if(e.pathname.match(c))return`${r}/search?query=${e.pathname.match(c)[1]}${s}`;if(e.searchParams.has("ll")){const[t,n]=e.searchParams.get("ll").split(",");return`${r}/search?query=${t}%2C${n}`}if(e.searchParams.has("viewpoint")){const[t,n]=e.searchParams.get("viewpoint").split(",");return`${r}/search?query=${t}%2C${n}`}const i=$t.getQuery(e);return i?`${r}/search?query="${i}${s}&${$t.prefsEncoded(n)}`:`${r}/${s}&${$t.prefsEncoded(n)}`}case"breezeWiki":{let t,n="";return e.hostname.match(/^[a-zA-Z0-9-]+\.(?:fandom|wikia)\.com/)?(t=e.hostname.match(/^[a-zA-Z0-9-]+(?=\.(?:fandom|wikia)\.com)/),t="www"!=t&&t?`/${t}`:"",n=e.pathname):(t=e.pathname.match(/(?<=wiki\/w:c:)[a-zA-Z0-9-]+(?=:)/),t?(t="/"+t+"/wiki/",n=e.pathname.match(/(?<=wiki\/w:c:[a-zA-Z0-9-]+:).+/)):t=""),e.href.search(/Special:Search\?query/)>-1?`${r}${t}${n}${e.search}`.replace(/Special:Search\?query/,"search?q").replace(/\/wiki/,""):`${r}${t}${n}${e.search}`}case"rimgo":return e.href.search(/^https?:\/{2}(?:[im]\.)?stack\./)>-1?`${r}/stack${e.pathname}${e.search}`:`${r}${e.pathname}${e.search}`;case"redlib":case"libreddit":{const t=e.hostname.match(/^(?:(?:external-)?preview|i)(?=\.redd\.it)/);if(!t)return`${r}${e.pathname}${e.search}`;switch(t[0]){case"preview":return`${r}/preview/pre${e.pathname}${e.search}`;case"external-preview":return`${r}/preview/external-pre${e.pathname}${e.search}`;case"i":return`${r}/img${e.pathname}`}return r}case"teddit":return/^(?:(?:external-)?preview|i)\.redd\.it/.test(e.hostname)?""==e.search?`${r}${e.pathname}?teddit_proxy=${e.hostname}`:`${r}${e.pathname}${e.search}&teddit_proxy=${e.hostname}`:`${r}${e.pathname}${e.search}`;case"eddrit":return/^(?:(?:external-)?preview|i)\.redd\.it/.test(e.hostname)?r:`${r}${e.pathname}${e.search}`;case"neuters":{const t=e.pathname;return t.startsWith("/article/")||t.startsWith("/pf/")||t.startsWith("/arc/")||t.startsWith("/resizer/")?r:`${r}${t}`}case"dumb":return e.pathname.endsWith("-lyrics")?`${r}${e.pathname}`:`${r}${e.pathname}${e.search}`;case"intellectual":return`${r}${e.pathname}${e.search}`;case"ruralDictionary":return e.pathname.includes("/define.php")||e.pathname.includes("/random.php")||"/"==e.pathname?`${r}${e.pathname}${e.search}`:r;case"anonymousOverflow":{if("stackoverflow.com"==e.hostname){const t=/^\/a\/(\d+)\/?/.exec(e.pathname);return t?`${r}/questions/${t[1]}${e.search}`:`${r}${e.pathname}${e.search}`}if("/"==e.pathname||""==e.pathname)return`${r}${e.pathname}${e.search}`;const t=e.href.match(/https?:\/{2}(?:([a-zA-Z0-9-]+)\.)?stackexchange\.com\//);if(t&&t.length>1)return`${r}/exchange/${t[1]}${e.pathname}${e.search}`;const n=e.hostname.match(/(?:[a-zA-Z]+\.)?(?:askubuntu\.com|mathoverflow\.net|serverfault\.com|stackapps\.com|superuser\.com|stackoverflow\.com)/);return n?`${r}/exchange/${n[0]}${e.pathname}${e.search}`:`${r}${e.pathname}${e.search}`}case"biblioReads":return`${r}${e.pathname}${e.search}`;case"wikiless":{let t=e.host.split(".");return"wikipedia"!=t[0]&&"www"!=t[0]&&("m"==t[0]?e.searchParams.append("mobileaction","toggle_view_mobile"):e.searchParams.append("lang",t[0]),"m"==t[1]&&e.searchParams.append("mobileaction","toggle_view_mobile")),`${r}${e.pathname}${e.search}${e.hash}`}case"proxiTok":return e.pathname.startsWith("/email")?r:`${r}${e.pathname}${e.search}`;case"waybackClassic":{const t=/^\/\web\/(?:[0-9]+)?\*\/(.*)/.exec(e.pathname);if(t){const e=t[1];return`${r}/cgi-bin/history.cgi?utf8=âœ“&q=${encodeURIComponent(e)}`}const n=/(^\/\web\/([0-9]+)\/.*)/.exec(e.pathname);if(n){let e=n[1];return e=e.replace(n[2],n[2]+"if_"),`https://web.archive.org${e}`}return}case"gothub":return"gist.github.com"==e.hostname?`${r}/gist${e.pathname}${e.search}`:"raw.githubusercontent.com"==e.hostname?`${r}/raw${e.pathname}${e.search}`:`${r}${e.pathname}${e.search}`;case"mikuInvidious":if("bilibili.com"==e.hostname||"www.bilibili.com"==e.hostname||"b23.tv"==e.hostname)return`${r}${e.pathname}${e.search}`;if("space.bilibili.com"==e.hostname)return`${r}/space${e.pathname}${e.search}`;case"tent":if("bandcamp.com"==e.hostname&&"/search"==e.pathname){const t=e.searchParams.get("q");return`${r}/search.php?query=${encodeURIComponent(t)}`}if(e.hostname.endsWith("bandcamp.com")){const t=/^(.*)\.bandcamp\.com/.exec(e.hostname)[1];if("/"==e.pathname||"/music"==e.pathname)return`${r}/artist.php?name=${t}`;{const n=/^\/(.*)\/(.*)/.exec(e.pathname);if(n)return`${r}/release.php?artist=${t}&type=${n[1]}&name=${n[2]}`}}if("f4.bcbits.com"==e.hostname)return`${r}/image.php?file=${/\/img\/(.*)/.exec(e.pathname)[1]}`;if("t4.bcbits.com"==e.hostname){const t=/\/stream\/(.*)\/(.*)\/(.*)/.exec(e.pathname);if(t){const n=t[1],s=t[2],o=t[3],c=e.searchParams.get("token");return`${r}/audio.php/?directory=${n}&format=${s}&file=${o}&token=${encodeURIComponent(c)}`}}case"binternet":return"i.pinimg.com"==e.hostname?`${r}/image_proxy.php?url=${e.href}`:`${r}${e.pathname}${e.search}`;case"laboratory":{let t=e.pathname;return"/"==t&&(t=""),`${r}/${e.hostname}${t}${e.search}`}case"quetre":{const t=/([a-z]+)\.quora\.com/.exec(e.hostname);if(t){const n=t[1];return e.searchParams.append("lang",n),`${r}${e.pathname}${e.search}`}return`${r}${e.pathname}${e.search}`}case"liteXiv":case"pixivFe":{const t=/\/[a-z]{1,3}\/(.*)/.exec(e.pathname);return t?`${r}/${t[1]}${e.search}`:`${r}${e.pathname}${e.search}`}case"invidious":return e.searchParams.delete("si"),"youtu.be"==e.hostname||e.hostname.endsWith("youtube.com")&&e.pathname.startsWith("/live")?`${r}/watch?v=${e.pathname.substring(e.pathname.lastIndexOf("/")+1)}${e.search.replace("?","&")}`:e.hostname.endsWith("youtube.com")&&e.pathname.startsWith("/redirect?")?e.href:`${r}${e.pathname}${e.search}`;case"freetubeMusic":return"youtu.be"==e.hostname||e.hostname.endsWith("youtube.com")&&e.pathname.startsWith("/live")?`freetube://youtube.com/watch?v=${e.pathname.substring(e.pathname.lastIndexOf("/")+1)}`:"freetube://"+e.href;case"invidiousMusic":return"youtu.be"==e.hostname||e.hostname.endsWith("youtube.com")&&e.pathname.startsWith("/live")?`${r}/watch?v=${e.pathname.substring(e.pathname.lastIndexOf("/")+1)}`:`${r}${e.pathname}${e.search}`;case"materialious":if(e.searchParams.delete("si"),"youtu.be"==e.hostname||e.hostname.endsWith("youtube.com")&&e.pathname.startsWith("/live"))return`${r}/watch/${e.pathname.substring(e.pathname.lastIndexOf("/")+1)}${e.search.replace("?","&")}`;if(e.hostname.endsWith("youtube.com")){if(e.pathname.startsWith("/watch")){if(e.searchParams.has("v")){const t=e.searchParams.get("v");return e.searchParams.delete("v"),`${r}/watch/${t}${e.search.replace("?","&")}`}return`${r}/watch/${e.search.replace("?","&")}`}if(e.pathname.startsWith("/results")){if(e.searchParams.has("search_query")){const t=e.searchParams.get("search_query");return e.searchParams.delete("search_query"),`${r}/search/${t}${e.search.replace("?","&")}`}return`${r}/search/${e.search.replace("?","&")}`}if(e.pathname.startsWith("/redirect?"))return e.href}return`${r}${e.pathname}${e.search}`;case"libremdb":if(e.pathname.startsWith("/Name"))for(const[t,n]of e.searchParams.entries())return`${r}/title/${encodeURIComponent(t)}`;return`${r}${e.pathname}${e.search}`;case"tuboYoutube":return e.searchParams.delete("si"),e.pathname.startsWith("/channel")?`${r}/channel?url=${encodeURIComponent(e.href)}`:e.pathname.startsWith("/watch")?`${r}/stream?url=${encodeURIComponent(e.href)}`:r;case"tuboSoundcloud":return"/"==e.pathname?`${r}?kiosk?serviceId=1`:e.pathname.match(/^\/[^\/]+(\/$|$)/)?`${r}/channel?url=${encodeURIComponent(e.href)}`:e.pathname.match(/^\/[^\/]+\/[^\/]+/)?`${r}/stream?url=${encodeURIComponent(e.href)}`:r;case"twineo":case"safetwitch":return e.hostname.startsWith("clips.")?`${r}/clip${e.pathname}${e.search}`:`${r}${e.pathname}${e.search}`;case"tekstoLibre":return`${r}/?${e.pathname.slice(1)}`;case"skyview":return"/"==e.pathname?r:`${r}?url=${encodeURIComponent(e.href)}`;case"nitter":{let t=new URLSearchParams(e.search);if(t.delete("ref_src"),t.delete("ref_url"),t.delete("s"),t.delete("t"),t=t.toString(),""!==t&&(t=`?${t}`),"pbs"===e.host.split(".")[0]||"video"===e.host.split(".")[0])try{const[,n,s,o]=t.match(/(.*)\?format=(.*)&(.*)/),c=encodeURIComponent(`${n}.${s}?${o}`);return`${r}/pic${e.pathname}${c}`}catch{return`${r}/pic${e.pathname}${t}`}return e.pathname.split("/").includes("tweets")?`${r}${e.pathname.replace("/tweets","")}${t}`:"t.co"==e.host?`${r}/t.co${e.pathname}`:`${r}${e.pathname}${t}#m`}case"priviblur":{if("www.tumblr.com"==e.hostname)return`${r}${e.pathname}${e.search}`;if(e.hostname.startsWith("assets"))return`${r}/tblr/assets${e.pathname}${e.search}`;if(e.hostname.startsWith("static"))return`${r}/tblr/static${e.pathname}${e.search}`;const t=/^([0-9]+)\.media\.tumblr\.com/.exec(e.hostname);if(t)return`${r}/tblr/media/${t[1]}${e.pathname}${e.search}`;const n=/^(?:www\.)?([a-z\d-]+)\.tumblr\.com/.exec(e.hostname);if(n){const t=n[1];return e.pathname.startsWith("/post")?`${r}/${t}${e.pathname.slice(5)}${e.search}`:`${r}/${t}${e.pathname}${e.search}`}return`${r}${e.pathname}${e.search}`}case"freetar":if(e.pathname.startsWith("/search.php"))return e.searchParams.set("search_term",e.searchParams.get("value")),e.searchParams.delete("value"),e.searchParams.delete("search_type"),`${r}/search${e.search}`;if(e.pathname.startsWith("/artist"))return;return`${r}${e.pathname}${e.search}`;case"ratAintTieba":return e.searchParams.delete("ie"),`${r}${e.pathname}${e.search}`;case"shoelace":{const t=/^\/(?:(?:(?:[^\/])?\/post)|t)\/([^\/])/.exec(e.pathname);return t?`${r}/t/${t[1]}${e.search}`:`${r}${e.pathname}${e.search}`}case"skunkyArt":{if(e.pathname.startsWith("/search"))return`${r}${e.pathname}${e.search}&type=all`;const t=/^\/(.*?)\/art\/(.*)\/?/.exec(e.pathname);if(t)return`${r}/post/${t[1]}/${t[2]}${e.search}`;const n=/^\/([^\/]+)$/.exec(e.pathname);if(n)return`${r}/group_user?q=${n[1]}&type=about`;const s=/^\/(.*?)\/gallery(\/$|$)$/.exec(e.pathname);return s?`${r}/group_user?q=${s[1]}&type=gallery`:`${r}${e.pathname}${e.search}`}case"ytify":{if(e.pathname.startsWith("/watch"))return`${r}/?s=${encodeURIComponent(e.searchParams.get("v"))}`;const t=/\/channel\/([^\/]+)/.exec(e.pathname);return t?`${r}/list?channel=${t[1]}`:e.pathname.startsWith("/playlist")?`${r}/list?playlists=${encodeURIComponent(e.searchParams.get("list"))}`:`${r}${e.pathname}${e.search}`}case"koub":if(e.pathname.startsWith("/view/")||e.pathname.startsWith("/stories/"))return`${r}${e.pathname}${e.search}`;if(/^\/([^\/]+)\/?$/.exec(e.pathname))return`${r}/account${e.pathname}${e.search}`;case"piped":case"pipedMaterial":case"cloudtube":case"lightTube":case"viewtube":e.searchParams.delete("si");default:return`${r}${e.pathname}${e.search}`}}(e,n,i,c)}}async function xt(e){let t=await $t.getOptions(),n=await $t.getConfig();for(const r in n.services){let s=t[r].frontend;if(null!=t[s]&&(!(t[s].findIndex((t=>e.href.startsWith(t)))<0)||e.href.startsWith(`http://${s}.localhost:8080`)))switch(r){case"youtube":case"imdb":case"imgur":case"tiktok":case"reddit":case"imdb":case"snopes":case"urbanDictionary":case"quora":case"twitter":case"medium":return`${n.services[r].url}${e.pathname}${e.search}`;case"fandom":{let t=e.pathname.match(/^\/([a-zA-Z0-9-]+)\/wiki\/(.*)/);return t?`https://${t[1]}.fandom.com/wiki/${t[2]}`:void 0}case"wikipedia":{const t=e.searchParams.get("lang");return null!=t?`https://${t}.wikipedia.org${e.pathname}${e.search}${e.hash}`:`https://wikipedia.org${e.pathname}${e.search}${e.hash}`}case"stackOverflow":if(e.pathname.startsWith("/questions/"))return`https://stackoverflow.com${e.pathname}${e.search}`;if(e.pathname.startsWith("/exchange/")){const t=/\/exchange\/(.*?)(\/.*)/.exec(e.pathname);if(t)return`https://${t[1]}.stackexchange.com${t[2]}`}return;case"tekstowo":return`${n.services[r].url}/${e.search.slice(1)}`;case"goodreads":return`https://goodreads.com${e.pathname}${e.search}`;default:return}}}window.browser=window.browser||window.chrome,vt(),browser.storage.onChanged.addListener(vt);const kt={materialious:["https://app.materialio.us"],viewtube:["https://viewtube.io"],piped:["https://pipedapi-libre.kavin.rocks"],pipedMaterial:["https://piped-material.xn--17b.net"],cloudtube:["https://tube.cadence.moe"],lightTube:["https://tube.kuylar.dev"],poketube:["https://poketube.fun"],proxiTok:["https://proxitok.pabloferreiro.es"],redlib:["https://safereddit.com"],eddrit:["https://eddrit.com"],scribe:["https://scribe.rip"],libMedium:["https://md.vern.cc"],quetre:["https://quetre.iket.me"],libremdb:["https://libremdb.iket.me"],simplyTranslate:["https://simplytranslate.org"],translite:["https://tl.bloat.cat"],mozhi:["https://mozhi.aryak.me"],searxng:["https://search.bus-hit.me"],"4get":["https://4get.ca"],rimgo:["https://rimgo.vern.cc"],hyperpipe:["https://hyperpipe.surge.sh"],osm:["https://www.openstreetmap.org"],breezeWiki:["https://breezewiki.com"],neuters:["https://neuters.de"],dumb:["https://dm.vern.cc"],intellectual:["https://intellectual.insprill.net"],ruralDictionary:["https://rd.vern.cc"],anonymousOverflow:["https://code.whatever.social"],suds:["https://sd.vern.cc"],unfunny:["https://uf.vern.cc"],soprano:["https://sp.vern.cc"],meme:["https://mm.vern.cc"],waybackClassic:["https://wayback-classic.net"],tent:["https://tent.sny.sh"],wolfreeAlpha:["https://gqq.gitlab.io","https://uqq.gitlab.io"],laboratory:["https://lab.vern.cc"],binternet:["https://bn.bloat.cat"],pixivFe:["https://pixivfe.exozy.me"],liteXiv:["https://litexiv.exozy.me"],indestructables:["https://indestructables.private.coffee"],destructables:["https://ds.vern.cc"],safetwitch:["https://safetwitch.drgns.space"],twineo:["https://twineo.exozy.me"],proxigram:["https://ig.opnxng.com"],tuboYoutube:["https://tubo.migalmoreno.com"],tuboSoundcloud:["https://tubo.migalmoreno.com"],tekstoLibre:["https://davilarek.github.io/TekstoLibre"],skyview:["https://skyview.social"],priviblur:["https://pb.bloat.cat"],nitter:["https://nitter.privacydev.net"],pasted:["https://pasted.drakeerv.com"],freetar:["https://freetar.de"],ratAintTieba:["https://rat.fis.land"],shoelace:["https://shoelace.mint.lgbt"],skunkyArt:["https://skunky.bloat.cat"],ytify:["https://ytify.netlify.app"],nerdsForNerds:["https://nn.vern.cc"],koub:["https://koub.clovius.club"]};async function Ct(){let e=await $t.getConfig(),t={};for(const n in e.services){t[n]={};for(const r in e.services[n].options)t[n][r]=e.services[n].options[r];for(const r in e.services[n].frontends)e.services[n].frontends[r].instanceList&&(t[r]=[])}return t.exceptions={url:[],regex:[]},t.theme="detect",t.popupServices=["youtube","tiktok","imgur","reddit","quora","translate","maps"],t.fetchInstances="github",t.redirectOnlyInIncognito=!1,t={...t,...kt},t}var It={redirect:yt,redirectAsync:async function(e,t,n,r,s,o){return await vt(),yt(e,t,n,r,s,o)},computeServiceFrontend:async function(e){const t=await $t.getConfig(),n=await $t.getOptions();for(const r in t.services){if(bt(r,e,t,n))return{service:r,frontend:null};for(const s in t.services[r].frontends){const o=wt(r,s,n,t).findIndex((t=>e.href.startsWith(t)));if(o>=0)return{service:r,frontend:s}}}},reverse:xt,initDefaults:function(){return new Promise((e=>{browser.storage.local.clear((async()=>{gt=await Ct(),browser.storage.local.set({options:gt},(()=>e()))}))}))},processUpdate:function(e){return new Promise((async t=>{const n=await $t.getConfig();let r=e??await $t.getOptions();const s=await Ct();for(const e in r)if(e in s){if("object"==typeof e&&null!==e)for(const t in r[e])t in s[e]||delete r[e][t]}else delete r[e];r.popupServices=r.popupServices.filter((e=>e in n.services));for(const[e,t]of Object.entries(s))e in r||(r[e]=t);for(const[e,t]of Object.entries(n.services)){r[e].frontend in t.frontends||(r[e]=t.options);for(const n in t.options)n in r[e]||(r[e][n]=t.options[n])}browser.storage.local.clear((()=>{browser.storage.local.set({options:r},(()=>{t(r)}))}))}))},copyRaw:async function(e){const t=await xt(e);if(t)if(mt){var n=document.createElement("textarea");n.textContent=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),n.blur(),document.body.removeChild(n)}else navigator.clipboard.writeText(t)},switchInstance:function(e,t){return new Promise((async n=>{let r=await $t.getOptions(),s=await $t.getConfig();if($t.protocolHost(e),t){const s=r[r[t].frontend];if(void 0!==s){const t=$t.getNextInstance(e.origin,s);if(t)return n(`${t}${e.pathname}${e.search}`)}}else for(const t in s.services){let s=r[r[t].frontend];if(void 0===s)continue;const o=s.findIndex((t=>e.href.startsWith(t)));if(o<0)continue;if(s.splice(o,1),0===s.length)return n();const c=$t.getNextInstance(e.origin,s);if(c)return n(`${c}${e.pathname}${e.search}`)}n()}))},isException:function(e){if(!gt)return!1;if(!gt.exceptions)return!1;let t=gt.exceptions;if(t&&e){if(t.url)for(let n of t.url)if(n=new URL(n),n=n.href.replace(/^http:\/\//,"https://"),n==e.href)return!0;if(t.regex)for(const n of t.regex)if(new RegExp(n).test(e.href))return!0}return!1}};function St(t){let n,r,s,o,c=(t[2].i18n.getMessage("importSettings")||"Import Settings")+"";return n=new ct({props:{class:"margin margin_"+document.body.dir}}),{c(){me(n.$$.fragment),r=S(),s=I(c)},m(e,t){he(n,e,t),b(e,r,t),b(e,s,t),o=!0},p:e,i(e){o||(de(n.$$.fragment,e),o=!0)},o(e){fe(n.$$.fragment,e),o=!1},d(e){ge(n,e),e&&y(r),e&&y(s)}}}function Ot(t){let n,r,s,o,c=(t[2].i18n.getMessage("exportSettings")||"Export Settings")+"";return n=new rt({props:{class:"margin margin_"+document.body.dir}}),{c(){me(n.$$.fragment),r=S(),s=I(c)},m(e,t){he(n,e,t),b(e,r,t),b(e,s,t),o=!0},p:e,i(e){o||(de(n.$$.fragment,e),o=!0)},o(e){fe(n.$$.fragment,e),o=!1},d(e){ge(n,e),e&&y(r),e&&y(s)}}}function Tt(t){let n,r,s,o,c=(t[2].i18n.getMessage("exportSettingsToSync")||"Export Settings to Sync")+"";return n=new rt({props:{class:"margin margin_"+document.body.dir}}),{c(){me(n.$$.fragment),r=S(),s=I(c)},m(e,t){he(n,e,t),b(e,r,t),b(e,s,t),o=!0},p:e,i(e){o||(de(n.$$.fragment,e),o=!0)},o(e){fe(n.$$.fragment,e),o=!1},d(e){ge(n,e),e&&y(r),e&&y(s)}}}function qt(t){let n,r,s,o,c=(t[2].i18n.getMessage("importSettingsFromSync")||"Import Settings from Sync")+"";return n=new ct({props:{class:"margin margin_"+document.body.dir}}),{c(){me(n.$$.fragment),r=S(),s=I(c)},m(e,t){he(n,e,t),b(e,r,t),b(e,s,t),o=!0},p:e,i(e){o||(de(n.$$.fragment,e),o=!0)},o(e){fe(n.$$.fragment,e),o=!1},d(e){ge(n,e),e&&y(r),e&&y(s)}}}function Lt(t){let n,r,s,o,c=(t[2].i18n.getMessage("resetSettings")||"Reset Settings")+"";return n=new lt({props:{class:"margin margin_"+document.body.dir}}),{c(){me(n.$$.fragment),r=S(),s=I(c)},m(e,t){he(n,e,t),b(e,r,t),b(e,s,t),o=!0},p:e,i(e){o||(de(n.$$.fragment,e),o=!0)},o(e){fe(n.$$.fragment,e),o=!1},d(e){ge(n,e),e&&y(r),e&&y(s)}}}function _t(e){let t,n,r,s,o,c,i,a,l,u,d,f,p,$,m;return n=new et({props:{$$slots:{default:[St]},$$scope:{ctx:e}}}),n.$on("click",e[7]),c=new et({props:{$$slots:{default:[Ot]},$$scope:{ctx:e}}}),c.$on("click",e[3]),a=new et({props:{$$slots:{default:[Tt]},$$scope:{ctx:e}}}),a.$on("click",e[4]),u=new et({props:{$$slots:{default:[qt]},$$scope:{ctx:e}}}),u.$on("click",e[5]),f=new et({props:{$$slots:{default:[Lt]},$$scope:{ctx:e}}}),f.$on("click",e[6]),{c(){t=k("div"),me(n.$$.fragment),r=S(),s=k("input"),o=S(),me(c.$$.fragment),i=S(),me(a.$$.fragment),l=S(),me(u.$$.fragment),d=S(),me(f.$$.fragment),_(s,"type","file"),_(s,"accept",".json"),W(s,"display","none"),_(t,"class","buttons")},m(h,g){b(h,t,g),he(n,t,null),w(t,r),w(t,s),e[8](s),w(t,o),he(c,t,null),w(t,i),he(a,t,null),w(t,l),he(u,t,null),w(t,d),he(f,t,null),p=!0,$||(m=T(s,"change",e[9]),$=!0)},p(e,[t]){const r={};4096&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};4096&t&&(s.$$scope={dirty:t,ctx:e}),c.$set(s);const o={};4096&t&&(o.$$scope={dirty:t,ctx:e}),a.$set(o);const i={};4096&t&&(i.$$scope={dirty:t,ctx:e}),u.$set(i);const l={};4096&t&&(l.$$scope={dirty:t,ctx:e}),f.$set(l)},i(e){p||(de(n.$$.fragment,e),de(c.$$.fragment,e),de(a.$$.fragment,e),de(u.$$.fragment,e),de(f.$$.fragment,e),p=!0)},o(e){fe(n.$$.fragment,e),fe(c.$$.fragment,e),fe(a.$$.fragment,e),fe(u.$$.fragment,e),fe(f.$$.fragment,e),p=!1},d(r){r&&y(t),ge(n),e[8](null),ge(c),ge(a),ge(u),ge(f),$=!1,m()}}}function Pt(e,t,n){const r=window.browser||window.chrome;let s;let o,c;U(ze.subscribe((e=>s=e)));return e.$$.update=()=>{if(1&e.$$.dirty&&c){const e=new FileReader;e.readAsText(c[0]),e.onload=async()=>{let t=JSON.parse(e.result);t.version!=r.runtime.getManifest().version&&alert("Importing from a previous version. Be careful"),t=await It.processUpdate(t),ze.set(t)},e.onerror=e=>{console.log("error",e),alert("Error!")}}},[c,o,r,async function(){s.version=r.runtime.getManifest().version;const e=JSON.stringify(s,null,"  "),t=document.createElement("a");t.href="data:application/json;base64,"+btoa(e),t.download=`libredirect-settings-v${s.version}.json`,t.click()},async function(){s.version=r.runtime.getManifest().version,r.storage.sync.set({options:s})},async function(){r.storage.sync.get({options:ze},(async e=>{let t=e.options;t.version!=r.runtime.getManifest().version&&alert("Importing from a previous version. Be careful"),t=await It.processUpdate(t),ze.set(t)}))},async function(){r.storage.local.clear((async()=>{const e=await It.initDefaults();ze.set(e)}))},()=>o.click(),function(e){J[e?"unshift":"push"]((()=>{o=e,n(1,o)}))},function(){c=this.files,n(0,c)}]}class Et extends we{constructor(e){super(),ve(this,e,Pt,_t,c,{})}}function Mt(n){let r,c,i,a,l=[{class:c=document.body.dir},n[2],{type:"checkbox"}],u={};for(let e=0;e<l.length;e+=1)u=t(u,l[e]);return{c(){r=k("input"),E(r,u),B(r,"svelte-1i76whx",!0)},m(e,t){b(e,r,t),r.autofocus&&r.focus(),r.checked=n[0],i||(a=[T(r,"change",n[3]),T(r,"change",(function(){o(n[1])&&n[1].apply(this,arguments)}))],i=!0)},p(e,[t]){n=e,E(r,u=pe(l,[{class:c},4&t&&n[2],{type:"checkbox"}])),1&t&&(r.checked=n[0]),B(r,"svelte-1i76whx",!0)},i:e,o:e,d(e){e&&y(r),i=!1,s(a)}}}function At(e,n,r){const s=["checked","onChange"];let o=g(n,s),{checked:c}=n,{onChange:i}=n;return e.$$set=e=>{n=t(t({},n),h(e)),r(2,o=g(n,s)),"checked"in e&&r(0,c=e.checked),"onChange"in e&&r(1,i=e.onChange)},[c,i,o,function(){c=this.checked,r(0,c)}]}class Rt extends we{constructor(e){super(),ve(this,e,At,Mt,c,{checked:0,onChange:1})}}function Wt(t){let n,r=(t[3].i18n.getMessage("theme")||"Theme")+"";return{c(){n=I(r)},m(e,t){b(e,n,t)},p:e,d(e){e&&y(n)}}}function Ft(e){let t,n,r,s;return t=new We({props:{$$slots:{default:[Wt]},$$scope:{ctx:e}}}),r=new Oe({props:{values:[{value:"detect",name:e[3].i18n.getMessage("auto")||"Auto"},{value:"light",name:e[3].i18n.getMessage("light")||"Light"},{value:"dark",name:e[3].i18n.getMessage("dark")||"Dark"}],value:e[2].theme,onChange:e[4]}}),{c(){me(t.$$.fragment),n=S(),me(r.$$.fragment)},m(e,o){he(t,e,o),b(e,n,o),he(r,e,o),s=!0},p(e,n){const s={};512&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};4&n&&(o.value=e[2].theme),4&n&&(o.onChange=e[4]),r.$set(o)},i(e){s||(de(t.$$.fragment,e),de(r.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),fe(r.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),ge(r,e)}}}function Bt(t){let n,r=(t[3].i18n.getMessage("fetchPublicInstances")||"Fetch public instances")+"";return{c(){n=I(r)},m(e,t){b(e,n,t)},p:e,d(e){e&&y(n)}}}function Nt(e){let t,n,r,s;return t=new We({props:{$$slots:{default:[Bt]},$$scope:{ctx:e}}}),r=new Oe({props:{value:e[2].fetchInstances,values:[{value:"github",name:"GitHub"},{value:"codeberg",name:"Codeberg"},{value:"disable",name:e[3].i18n.getMessage("disable")||"Disable"}],onChange:e[5]}}),{c(){me(t.$$.fragment),n=S(),me(r.$$.fragment)},m(e,o){he(t,e,o),b(e,n,o),he(r,e,o),s=!0},p(e,n){const s={};512&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};4&n&&(o.value=e[2].fetchInstances),4&n&&(o.onChange=e[5]),r.$set(o)},i(e){s||(de(t.$$.fragment,e),de(r.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),fe(r.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),ge(r,e)}}}function zt(t){let n,r=(t[3].i18n.getMessage("redirectOnlyInIncognito")||"Redirect Only in Incognito")+"";return{c(){n=I(r)},m(e,t){b(e,n,t)},p:e,d(e){e&&y(n)}}}function Ht(e){let t,n,r,s;return t=new We({props:{$$slots:{default:[zt]},$$scope:{ctx:e}}}),r=new Rt({props:{checked:e[2].redirectOnlyInIncognito,onChange:e[6]}}),{c(){me(t.$$.fragment),n=S(),me(r.$$.fragment)},m(e,o){he(t,e,o),b(e,n,o),he(r,e,o),s=!0},p(e,n){const s={};512&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};4&n&&(o.checked=e[2].redirectOnlyInIncognito),4&n&&(o.onChange=e[6]),r.$set(o)},i(e){s||(de(t.$$.fragment,e),de(r.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),fe(r.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),ge(r,e)}}}function jt(e){let t,n;return t=new xe({props:{$$slots:{default:[Ut]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,n){const r={};514&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function Dt(t){let n,r=(t[3].i18n.getMessage("bookmarksMenu")||"Bookmarks menu")+"";return{c(){n=I(r)},m(e,t){b(e,n,t)},p:e,d(e){e&&y(n)}}}function Ut(e){let t,n,r,s,o;function c(t){e[7](t)}t=new We({props:{$$slots:{default:[Dt]},$$scope:{ctx:e}}});let i={};return void 0!==e[1]&&(i.checked=e[1]),r=new Rt({props:i}),J.push((()=>$e(r,"checked",c))),{c(){me(t.$$.fragment),n=S(),me(r.$$.fragment)},m(e,s){he(t,e,s),b(e,n,s),he(r,e,s),o=!0},p(e,n){const o={};512&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const c={};!s&&2&n&&(s=!0,c.checked=e[1],ne((()=>s=!1))),r.$set(c)},i(e){o||(de(t.$$.fragment,e),de(r.$$.fragment,e),o=!0)},o(e){fe(t.$$.fragment,e),fe(r.$$.fragment,e),o=!1},d(e){ge(t,e),e&&y(n),ge(r,e)}}}function Vt(e){let t,n,r,s,o,c,i,a,l,u,d,f;n=new xe({props:{$$slots:{default:[Ft]},$$scope:{ctx:e}}}),s=new xe({props:{$$slots:{default:[Nt]},$$scope:{ctx:e}}}),c=new xe({props:{$$slots:{default:[Ht]},$$scope:{ctx:e}}});let p=!1===e[0]&&jt(e);return l=new Xe({}),d=new Et({}),{c(){t=k("div"),me(n.$$.fragment),r=S(),me(s.$$.fragment),o=S(),me(c.$$.fragment),i=S(),p&&p.c(),a=S(),me(l.$$.fragment),u=S(),me(d.$$.fragment)},m(e,$){b(e,t,$),he(n,t,null),w(t,r),he(s,t,null),w(t,o),he(c,t,null),w(t,i),p&&p.m(t,null),w(t,a),he(l,t,null),w(t,u),he(d,t,null),f=!0},p(e,[r]){const o={};516&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o);const i={};516&r&&(i.$$scope={dirty:r,ctx:e}),s.$set(i);const l={};516&r&&(l.$$scope={dirty:r,ctx:e}),c.$set(l),!1===e[0]?p?(p.p(e,r),1&r&&de(p,1)):(p=jt(e),p.c(),de(p,1),p.m(t,a)):p&&(le(),fe(p,1,1,(()=>{p=null})),ue())},i(e){f||(de(n.$$.fragment,e),de(s.$$.fragment,e),de(c.$$.fragment,e),de(p),de(l.$$.fragment,e),de(d.$$.fragment,e),f=!0)},o(e){fe(n.$$.fragment,e),fe(s.$$.fragment,e),fe(c.$$.fragment,e),fe(p),fe(l.$$.fragment,e),fe(d.$$.fragment,e),f=!1},d(e){e&&y(t),ge(n),ge(s),ge(c),p&&p.d(),ge(l),ge(d)}}}function Zt(e,t,n){const r=window.browser||window.chrome;let s;U(ze.subscribe((e=>n(2,s=e))));let o,c=null;r.runtime.getPlatformInfo((e=>{switch(e.os){case"fuchsia":case"ios":case"android":n(0,c=!0);break;default:n(0,c=!1)}c||r.permissions.contains({permissions:["bookmarks"]},(e=>n(1,o=e)))}));return e.$$.update=()=>{3&e.$$.dirty&&null!==c&&!1===c&&(o?r.permissions.request({permissions:["bookmarks"]},(e=>n(1,o=e))):(r.permissions.remove({permissions:["bookmarks"]}),n(1,o=!1)))},[c,o,s,r,e=>{n(2,s.theme=e.target.options[e.target.options.selectedIndex].value,s),ze.set(s)},e=>{n(2,s.fetchInstances=e.target.options[e.target.options.selectedIndex].value,s),ze.set(s)},e=>{n(2,s.redirectOnlyInIncognito=e.target.checked,s),ze.set(s)},function(e){o=e,n(1,o),n(0,c)}]}class Gt extends we{constructor(e){super(),ve(this,e,Zt,Vt,c,{})}}var Jt=function(e){if("undefined"==typeof window){const{subscribe:t}=Be(e);return{subscribe:t}}const t=Be(window.location.href),n=history.pushState,r=history.replaceState,s=()=>t.set(window.location.href);return history.pushState=()=>{n.apply(this,arguments),s()},history.replaceState=()=>{r.apply(this,arguments),s()},window.addEventListener("popstate",s),window.addEventListener("hashchange",s),{subscribe:Ne(t,(e=>new URL(e))).subscribe}}();function Qt(n){let r,s,o=[n[0],{xmlns:"http://www.w3.org/2000/svg"},{"enable-background":"new 0 0 24 24"},{height:"26px"},{viewBox:"0 0 24 24"},{width:"26px"},{fill:"currentColor"}],c={};for(let e=0;e<o.length;e+=1)c=t(c,o[e]);return{c(){r=C("svg"),s=C("path"),_(s,"d","M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"),M(r,c)},m(e,t){b(e,r,t),w(r,s)},p(e,[t]){M(r,c=pe(o,[1&t&&e[0],{xmlns:"http://www.w3.org/2000/svg"},{"enable-background":"new 0 0 24 24"},{height:"26px"},{viewBox:"0 0 24 24"},{width:"26px"},{fill:"currentColor"}]))},i:e,o:e,d(e){e&&y(r)}}}function Xt(e,n,r){return e.$$set=e=>{r(0,n=t(t({},n),h(e)))},[n=h(n)]}class Yt extends we{constructor(e){super(),ve(this,e,Xt,Qt,c,{})}}function Kt(n){let r,s,o=[n[0],{xmlns:"http://www.w3.org/2000/svg"},{fill:"currentColor"},{height:"24px"},{viewBox:"0 -960 960 960"},{width:"24px"}],c={};for(let e=0;e<o.length;e+=1)c=t(c,o[e]);return{c(){r=C("svg"),s=C("path"),_(s,"d","m240-120 240-240 240 240H240ZM80-280v-480q0-33 23.5-56.5T160-840h640q33 0 56.5 23.5T880-760v480q0 33-23.5 56.5T800-200H680v-80h120v-480H160v480h120v80H160q-33 0-56.5-23.5T80-280Zm400-200Z"),M(r,c)},m(e,t){b(e,r,t),w(r,s)},p(e,[t]){M(r,c=pe(o,[1&t&&e[0],{xmlns:"http://www.w3.org/2000/svg"},{fill:"currentColor"},{height:"24px"},{viewBox:"0 -960 960 960"},{width:"24px"}]))},i:e,o:e,d(e){e&&y(r)}}}function en(e,n,r){return e.$$set=e=>{r(0,n=t(t({},n),h(e)))},[n=h(n)]}class tn extends we{constructor(e){super(),ve(this,e,en,Kt,c,{})}}function nn(n){let r,s,o=[n[0],{xmlns:"http://www.w3.org/2000/svg"},{height:"24px"},{viewBox:"0 -960 960 960"},{width:"24px"},{fill:"currentColor"}],c={};for(let e=0;e<o.length;e+=1)c=t(c,o[e]);return{c(){r=C("svg"),s=C("path"),_(s,"d","M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"),M(r,c)},m(e,t){b(e,r,t),w(r,s)},p(e,[t]){M(r,c=pe(o,[1&t&&e[0],{xmlns:"http://www.w3.org/2000/svg"},{height:"24px"},{viewBox:"0 -960 960 960"},{width:"24px"},{fill:"currentColor"}]))},i:e,o:e,d(e){e&&y(r)}}}function rn(e,n,r){return e.$$set=e=>{r(0,n=t(t({},n),h(e)))},[n=h(n)]}class sn extends we{constructor(e){super(),ve(this,e,rn,nn,c,{})}}function on(e){let t,n,r,s,o,c,i,a,l,u,d,f,p,$,m,h,g,v,x=(e[1].i18n.getMessage("general")||"General")+"",C=(e[1].i18n.getMessage("services")||"Services")+"",O=(e[1].i18n.getMessage("about")||"About")+"";return r=new Yt({props:{class:"margin margin_"+document.body.dir}}),l=new tn({props:{class:"margin margin_"+document.body.dir}}),m=new sn({props:{class:"margin margin_"+document.body.dir}}),{c(){t=k("div"),n=k("a"),me(r.$$.fragment),s=S(),o=I(x),i=S(),a=k("a"),me(l.$$.fragment),u=S(),d=I(C),p=S(),$=k("a"),me(m.$$.fragment),h=S(),g=I(O),_(n,"href","#general"),_(n,"style",c="#general"==e[0].hash&&"color: var(--active);"),_(n,"class","svelte-9vgfun"),_(a,"href","#services"),_(a,"style",f="#services"==e[0].hash&&"color: var(--active);"),_(a,"class","svelte-9vgfun"),_($,"href","https://libredirect.github.io"),_($,"target","_blank"),_($,"rel","noopener noreferrer"),_($,"class","svelte-9vgfun"),_(t,"class","svelte-9vgfun")},m(e,c){b(e,t,c),w(t,n),he(r,n,null),w(n,s),w(n,o),w(t,i),w(t,a),he(l,a,null),w(a,u),w(a,d),w(t,p),w(t,$),he(m,$,null),w($,h),w($,g),v=!0},p(e,[t]){(!v||1&t&&c!==(c="#general"==e[0].hash&&"color: var(--active);"))&&_(n,"style",c),(!v||1&t&&f!==(f="#services"==e[0].hash&&"color: var(--active);"))&&_(a,"style",f)},i(e){v||(de(r.$$.fragment,e),de(l.$$.fragment,e),de(m.$$.fragment,e),v=!0)},o(e){fe(r.$$.fragment,e),fe(l.$$.fragment,e),fe(m.$$.fragment,e),v=!1},d(e){e&&y(t),ge(r),ge(l),ge(m)}}}function cn(e,t,n){let r;u(e,Jt,(e=>n(0,r=e)));const s=window.browser||window.chrome;return[r,s]}class an extends we{constructor(e){super(),ve(this,e,cn,on,c,{})}}const ln=Math.min,un=Math.max,dn=Math.round,fn=Math.floor,pn=e=>({x:e,y:e}),$n={left:"right",right:"left",bottom:"top",top:"bottom"},mn={start:"end",end:"start"};function hn(e,t,n){return un(e,ln(t,n))}function gn(e,t){return"function"==typeof e?e(t):e}function vn(e){return e.split("-")[0]}function wn(e){return e.split("-")[1]}function bn(e){return"x"===e?"y":"x"}function yn(e){return"y"===e?"height":"width"}function xn(e){return["top","bottom"].includes(vn(e))?"y":"x"}function kn(e){return bn(xn(e))}function Cn(e){return e.replace(/start|end/g,(e=>mn[e]))}function In(e){return e.replace(/left|right|bottom|top/g,(e=>$n[e]))}function Sn(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function On(e,t,n){let{reference:r,floating:s}=e;const o=xn(t),c=kn(t),i=yn(c),a=vn(t),l="y"===o,u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[i]/2-s[i]/2;let p;switch(a){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(wn(t)){case"start":p[c]-=f*(n&&l?-1:1);break;case"end":p[c]+=f*(n&&l?-1:1)}return p}async function Tn(e,t){var n;void 0===t&&(t={});const{x:r,y:s,platform:o,rects:c,elements:i,strategy:a}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=gn(t,e),$=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(p),m=i[f?"floating"===d?"reference":"floating":d],h=Sn(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(i.floating)),boundary:l,rootBoundary:u,strategy:a})),g="floating"===d?{x:r,y:s,width:c.floating.width,height:c.floating.height}:c.reference,v=await(null==o.getOffsetParent?void 0:o.getOffsetParent(i.floating)),w=await(null==o.isElement?void 0:o.isElement(v))&&await(null==o.getScale?void 0:o.getScale(v))||{x:1,y:1},b=Sn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:g,offsetParent:v,strategy:a}):g);return{top:(h.top-b.top+$.top)/w.y,bottom:(b.bottom-h.bottom+$.bottom)/w.y,left:(h.left-b.left+$.left)/w.x,right:(b.right-h.right+$.right)/w.x}}function qn(){return"undefined"!=typeof window}function Ln(e){return En(e)?(e.nodeName||"").toLowerCase():"#document"}function _n(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Pn(e){var t;return null==(t=(En(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function En(e){return!!qn()&&(e instanceof Node||e instanceof _n(e).Node)}function Mn(e){return!!qn()&&(e instanceof Element||e instanceof _n(e).Element)}function An(e){return!!qn()&&(e instanceof HTMLElement||e instanceof _n(e).HTMLElement)}function Rn(e){return!(!qn()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof _n(e).ShadowRoot)}function Wn(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=jn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function Fn(e){return["table","td","th"].includes(Ln(e))}function Bn(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function Nn(e){const t=zn(),n=Mn(e)?jn(e):e;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function zn(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Hn(e){return["html","body","#document"].includes(Ln(e))}function jn(e){return _n(e).getComputedStyle(e)}function Dn(e){return Mn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Un(e){if("html"===Ln(e))return e;const t=e.assignedSlot||e.parentNode||Rn(e)&&e.host||Pn(e);return Rn(t)?t.host:t}function Vn(e){const t=Un(e);return Hn(t)?e.ownerDocument?e.ownerDocument.body:e.body:An(t)&&Wn(t)?t:Vn(t)}function Zn(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const s=Vn(e),o=s===(null==(r=e.ownerDocument)?void 0:r.body),c=_n(s);if(o){const e=Gn(c);return t.concat(c,c.visualViewport||[],Wn(s)?s:[],e&&n?Zn(e):[])}return t.concat(s,Zn(s,[],n))}function Gn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Jn(e){const t=jn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=An(e),o=s?e.offsetWidth:n,c=s?e.offsetHeight:r,i=dn(n)!==o||dn(r)!==c;return i&&(n=o,r=c),{width:n,height:r,$:i}}function Qn(e){return Mn(e)?e:e.contextElement}function Xn(e){const t=Qn(e);if(!An(t))return pn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Jn(t);let c=(o?dn(n.width):n.width)/r,i=(o?dn(n.height):n.height)/s;return c&&Number.isFinite(c)||(c=1),i&&Number.isFinite(i)||(i=1),{x:c,y:i}}const Yn=pn(0);function Kn(e){const t=_n(e);return zn()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Yn}function er(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const s=e.getBoundingClientRect(),o=Qn(e);let c=pn(1);t&&(r?Mn(r)&&(c=Xn(r)):c=Xn(e));const i=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==_n(e))&&t}(o,n,r)?Kn(o):pn(0);let a=(s.left+i.x)/c.x,l=(s.top+i.y)/c.y,u=s.width/c.x,d=s.height/c.y;if(o){const e=_n(o),t=r&&Mn(r)?_n(r):r;let n=e,s=Gn(n);for(;s&&r&&t!==n;){const e=Xn(s),t=s.getBoundingClientRect(),r=jn(s),o=t.left+(s.clientLeft+parseFloat(r.paddingLeft))*e.x,c=t.top+(s.clientTop+parseFloat(r.paddingTop))*e.y;a*=e.x,l*=e.y,u*=e.x,d*=e.y,a+=o,l+=c,n=_n(s),s=Gn(n)}}return Sn({width:u,height:d,x:a,y:l})}function tr(e,t){const n=Dn(e).scrollLeft;return t?t.left+n:er(Pn(e)).left+n}function nr(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=_n(e),r=Pn(e),s=n.visualViewport;let o=r.clientWidth,c=r.clientHeight,i=0,a=0;if(s){o=s.width,c=s.height;const e=zn();(!e||e&&"fixed"===t)&&(i=s.offsetLeft,a=s.offsetTop)}return{width:o,height:c,x:i,y:a}}(e,n);else if("document"===t)r=function(e){const t=Pn(e),n=Dn(e),r=e.ownerDocument.body,s=un(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=un(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+tr(e);const i=-n.scrollTop;return"rtl"===jn(r).direction&&(c+=un(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:c,y:i}}(Pn(e));else if(Mn(t))r=function(e,t){const n=er(e,!0,"fixed"===t),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=An(e)?Xn(e):pn(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:s*o.x,y:r*o.y}}(t,n);else{const n=Kn(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return Sn(r)}function rr(e,t){const n=Un(e);return!(n===t||!Mn(n)||Hn(n))&&("fixed"===jn(n).position||rr(n,t))}function sr(e,t,n){const r=An(t),s=Pn(t),o="fixed"===n,c=er(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const a=pn(0);if(r||!r&&!o)if(("body"!==Ln(t)||Wn(s))&&(i=Dn(t)),r){const e=er(t,!0,o,t);a.x=e.x+t.clientLeft,a.y=e.y+t.clientTop}else s&&(a.x=tr(s));let l=0,u=0;if(s&&!r&&!o){const e=s.getBoundingClientRect();u=e.top+i.scrollTop,l=e.left+i.scrollLeft-tr(s,e)}return{x:c.left+i.scrollLeft-a.x-l,y:c.top+i.scrollTop-a.y-u,width:c.width,height:c.height}}function or(e){return"static"===jn(e).position}function cr(e,t){if(!An(e)||"fixed"===jn(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Pn(e)===n&&(n=n.ownerDocument.body),n}function ir(e,t){const n=_n(e);if(Bn(e))return n;if(!An(e)){let t=Un(e);for(;t&&!Hn(t);){if(Mn(t)&&!or(t))return t;t=Un(t)}return n}let r=cr(e,t);for(;r&&Fn(r)&&or(r);)r=cr(r,t);return r&&Hn(r)&&or(r)&&!Nn(r)?n:r||function(e){let t=Un(e);for(;An(t)&&!Hn(t);){if(Nn(t))return t;if(Bn(t))return null;t=Un(t)}return null}(e)||n}const ar={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o="fixed"===s,c=Pn(r),i=!!t&&Bn(t.floating);if(r===c||i&&o)return n;let a={scrollLeft:0,scrollTop:0},l=pn(1);const u=pn(0),d=An(r);if((d||!d&&!o)&&(("body"!==Ln(r)||Wn(c))&&(a=Dn(r)),An(r))){const e=er(r);l=Xn(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+u.x,y:n.y*l.y-a.scrollTop*l.y+u.y}},getDocumentElement:Pn,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o="clippingAncestors"===n?Bn(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Zn(e,[],!1).filter((e=>Mn(e)&&"body"!==Ln(e))),s=null;const o="fixed"===jn(e).position;let c=o?Un(e):e;for(;Mn(c)&&!Hn(c);){const t=jn(c),n=Nn(c);n||"fixed"!==t.position||(s=null),(o?!n&&!s:!n&&"static"===t.position&&s&&["absolute","fixed"].includes(s.position)||Wn(c)&&!n&&rr(e,c))?r=r.filter((e=>e!==c)):s=t,c=Un(c)}return t.set(e,r),r}(t,this._c):[].concat(n),c=[...o,r],i=c[0],a=c.reduce(((e,n)=>{const r=nr(t,n,s);return e.top=un(r.top,e.top),e.right=ln(r.right,e.right),e.bottom=ln(r.bottom,e.bottom),e.left=un(r.left,e.left),e}),nr(t,i,s));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:ir,getElementRects:async function(e){const t=this.getOffsetParent||ir,n=this.getDimensions,r=await n(e.floating);return{reference:sr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Jn(e);return{width:t,height:n}},getScale:Xn,isElement:Mn,isRTL:function(e){return"rtl"===jn(e).direction}};function lr(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:i="function"==typeof IntersectionObserver,animationFrame:a=!1}=r,l=Qn(e),u=s||o?[...l?Zn(l):[],...Zn(t)]:[];u.forEach((e=>{s&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const d=l&&i?function(e,t){let n,r=null;const s=Pn(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function c(i,a){void 0===i&&(i=!1),void 0===a&&(a=1),o();const{left:l,top:u,width:d,height:f}=e.getBoundingClientRect();if(i||t(),!d||!f)return;const p={rootMargin:-fn(u)+"px "+-fn(s.clientWidth-(l+d))+"px "+-fn(s.clientHeight-(u+f))+"px "+-fn(l)+"px",threshold:un(0,ln(1,a))||1};let $=!0;function m(e){const t=e[0].intersectionRatio;if(t!==a){if(!$)return c();t?c(!1,t):n=setTimeout((()=>{c(!1,1e-7)}),1e3)}$=!1}try{r=new IntersectionObserver(m,{...p,root:s.ownerDocument})}catch(e){r=new IntersectionObserver(m,p)}r.observe(e)}(!0),o}(l,n):null;let f,p=-1,$=null;c&&($=new ResizeObserver((e=>{let[r]=e;r&&r.target===l&&$&&($.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=$)||e.observe(t)}))),n()})),l&&!a&&$.observe(l),$.observe(t));let m=a?er(e):null;return a&&function t(){const r=er(e);!m||r.x===m.x&&r.y===m.y&&r.width===m.width&&r.height===m.height||n();m=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{s&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=$)||e.disconnect(),$=null,a&&cancelAnimationFrame(f)}}const ur=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:c,middlewareData:i}=t,a=await async function(e,t){const{placement:n,platform:r,elements:s}=e,o=await(null==r.isRTL?void 0:r.isRTL(s.floating)),c=vn(n),i=wn(n),a="y"===xn(n),l=["left","top"].includes(c)?-1:1,u=o&&a?-1:1,d=gn(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:$}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return i&&"number"==typeof $&&(p="end"===i?-1*$:$),a?{x:p*u,y:f*l}:{x:f*l,y:p*u}}(t,e);return c===(null==(n=i.offset)?void 0:n.placement)&&null!=(r=i.arrow)&&r.alignmentOffset?{}:{x:s+a.x,y:o+a.y,data:{...a,placement:c}}}}},dr=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:c=!1,limiter:i={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...a}=gn(e,t),l={x:n,y:r},u=await Tn(t,a),d=xn(vn(s)),f=bn(d);let p=l[f],$=l[d];if(o){const e="y"===f?"bottom":"right";p=hn(p+u["y"===f?"top":"left"],p,p-u[e])}if(c){const e="y"===d?"bottom":"right";$=hn($+u["y"===d?"top":"left"],$,$-u[e])}const m=i.fn({...t,[f]:p,[d]:$});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:o,[d]:c}}}}}},fr=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:c,initialPlacement:i,platform:a,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:$="none",flipAlignment:m=!0,...h}=gn(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const g=vn(s),v=xn(i),w=vn(i)===i,b=await(null==a.isRTL?void 0:a.isRTL(l.floating)),y=f||(w||!m?[In(i)]:function(e){const t=In(e);return[Cn(e),t,Cn(t)]}(i)),x="none"!==$;!f&&x&&y.push(...function(e,t,n,r){const s=wn(e);let o=function(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:c;default:return[]}}(vn(e),"start"===n,r);return s&&(o=o.map((e=>e+"-"+s)),t&&(o=o.concat(o.map(Cn)))),o}(i,m,$,b));const k=[i,...y],C=await Tn(t,h),I=[];let S=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&I.push(C[g]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=wn(e),s=kn(e),o=yn(s);let c="x"===s?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(c=In(c)),[c,In(c)]}(s,c,b);I.push(C[e[0]],C[e[1]])}if(S=[...S,{placement:s,overflows:I}],!I.every((e=>e<=0))){var O,T;const e=((null==(O=o.flip)?void 0:O.index)||0)+1,t=k[e];if(t)return{data:{index:e,overflows:S},reset:{placement:t}};let n=null==(T=S.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:T.placement;if(!n)switch(p){case"bestFit":{var q;const e=null==(q=S.filter((e=>{if(x){const t=xn(e.placement);return t===v||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:q[0];e&&(n=e);break}case"initialPlacement":n=i}if(s!==n)return{reset:{placement:n}}}return{}}}},pr=(e,t,n)=>{const r=new Map,s={platform:ar,...n},o={...s.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:c}=n,i=o.filter(Boolean),a=await(null==c.isRTL?void 0:c.isRTL(t));let l=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:d}=On(l,r,a),f=r,p={},$=0;for(let n=0;n<i.length;n++){const{name:o,fn:m}=i[n],{x:h,y:g,data:v,reset:w}=await m({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:l,platform:c,elements:{reference:e,floating:t}});u=null!=h?h:u,d=null!=g?g:d,p={...p,[o]:{...p[o],...v}},w&&$<=50&&($++,"object"==typeof w&&(w.placement&&(f=w.placement),w.rects&&(l=!0===w.rects?await c.getElementRects({reference:e,floating:t,strategy:s}):w.rects),({x:u,y:d}=On(l,f,a))),n=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:p}})(e,t,{...s,platform:o})};function $r(e){let t,n;const r={autoUpdate:!0};let s=e;const o=t=>({...r,...e||{},...t||{}}),c=e=>{t&&n&&(s=o(e),pr(t,n,s).then((e=>{Object.assign(n.style,{position:e.strategy,left:`${e.x}px`,top:`${e.y}px`}),s?.onComputed&&s.onComputed(e)})))},i=e=>{U(e.subscribe((e=>{void 0===t?(t=e,c()):(Object.assign(t,e),c())})))};return[e=>{if("subscribe"in e)return i(e),{};t=e,c()},(e,r)=>{let i;n=e,s=o(r),setTimeout((()=>c(r)),0),c(r);const a=()=>{i&&(i(),i=void 0)},l=({autoUpdate:e}=s||{})=>{a(),!1!==e&&(ee(),Y).then((()=>lr(t,n,(()=>c(s)),!0===e?{}:e)))};return i=l(),{update(e){c(e),i=l(e)},destroy(){a()}}},c]}function mr({loadOptions:e,filterText:t,items:n,multiple:r,value:s,itemId:o,groupBy:c,filterSelectedItems:i,itemFilter:a,convertStringItemsToObjects:l,filterGroupedItems:u,label:d}){if(n&&e)return n;if(!n)return[];n&&n.length>0&&"object"!=typeof n[0]&&(n=l(n));let f=n.filter((e=>{let n=a(e[d],t,e);return n&&r&&s?.length&&(n=!s.some((t=>!!i&&t[o]===e[o]))),n}));return c&&(f=u(f)),f}async function hr({dispatch:e,loadOptions:t,convertStringItemsToObjects:n,filterText:r}){let s=await t(r).catch((t=>{console.warn("svelte-select loadOptions error :>> ",t),e("error",{type:"loadOptions",details:t})}));if(s&&!s.cancelled)return s?(s&&s.length>0&&"object"!=typeof s[0]&&(s=n(s)),e("loaded",{items:s})):s=[],{filteredItems:s,loading:!1,focused:!0,listOpen:!0}}function gr(t){let n,r;return{c(){n=C("svg"),r=C("path"),_(r,"fill","currentColor"),_(r,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747\n          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0\n          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502\n          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0\n          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),_(n,"width","100%"),_(n,"height","100%"),_(n,"viewBox","0 0 20 20"),_(n,"focusable","false"),_(n,"aria-hidden","true"),_(n,"class","svelte-qbd276")},m(e,t){b(e,n,t),w(n,r)},p:e,i:e,o:e,d(e){e&&y(n)}}}class vr extends we{constructor(e){super(),ve(this,e,null,gr,c,{})}}function wr(t){let n,r;return{c(){n=C("svg"),r=C("path"),_(r,"fill","currentColor"),_(r,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124\n    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),_(n,"width","100%"),_(n,"height","100%"),_(n,"viewBox","-2 -2 50 50"),_(n,"focusable","false"),_(n,"aria-hidden","true"),_(n,"role","presentation"),_(n,"class","svelte-whdbu1")},m(e,t){b(e,n,t),w(n,r)},p:e,i:e,o:e,d(e){e&&y(n)}}}class br extends we{constructor(e){super(),ve(this,e,null,wr,c,{})}}function yr(t){let n,r;return{c(){n=C("svg"),r=C("circle"),_(r,"class","circle_path svelte-1p3nqvd"),_(r,"cx","50"),_(r,"cy","50"),_(r,"r","20"),_(r,"fill","none"),_(r,"stroke","currentColor"),_(r,"stroke-width","5"),_(r,"stroke-miterlimit","10"),_(n,"class","loading svelte-1p3nqvd"),_(n,"viewBox","25 25 50 50")},m(e,t){b(e,n,t),w(n,r)},p:e,i:e,o:e,d(e){e&&y(n)}}}class xr extends we{constructor(e){super(),ve(this,e,null,yr,c,{})}}const kr=e=>({value:8&e[0]}),Cr=e=>({value:e[3]}),Ir=e=>({value:8&e[0]}),Sr=e=>({value:e[3]}),Or=e=>({listOpen:64&e[0]}),Tr=e=>({listOpen:e[6]}),qr=e=>({}),Lr=e=>({}),_r=e=>({}),Pr=e=>({}),Er=e=>({selection:8&e[0]}),Mr=e=>({selection:e[3]});function Ar(e,t,n){const r=e.slice();return r[126]=t[n],r[128]=n,r}const Rr=e=>({}),Wr=e=>({}),Fr=e=>({selection:8&e[0]}),Br=e=>({selection:e[126],index:e[128]}),Nr=e=>({}),zr=e=>({}),Hr=e=>({}),jr=e=>({}),Dr=e=>({}),Ur=e=>({});function Vr(e,t,n){const r=e.slice();return r[126]=t[n],r[128]=n,r}const Zr=e=>({item:16777216&e[0]}),Gr=e=>({item:e[126],index:e[128]}),Jr=e=>({filteredItems:16777216&e[0]}),Qr=e=>({filteredItems:e[24]}),Xr=e=>({}),Yr=e=>({});function Kr(e){let t,n,r,o,c,i,a,l,u=e[50]["list-prepend"]&&es(e);const d=[rs,ns,ts],f=[];function p(e,t){return e[50].list?0:e[24].length>0?1:e[19]?-1:2}~(r=p(e))&&(o=f[r]=d[r](e));let $=e[50]["list-append"]&&os(e);return{c(){t=k("div"),u&&u.c(),n=S(),o&&o.c(),c=S(),$&&$.c(),_(t,"class","svelte-select-list svelte-82qwg8"),_(t,"role","none"),B(t,"prefloat",e[28])},m(s,o){b(s,t,o),u&&u.m(t,null),w(t,n),~r&&f[r].m(t,null),w(t,c),$&&$.m(t,null),e[91](t),i=!0,a||(l=[v(e[49].call(null,t)),T(t,"scroll",e[41]),T(t,"pointerup",L(q(e[85]))),T(t,"mousedown",L(q(e[86])))],a=!0)},p(e,s){e[50]["list-prepend"]?u?(u.p(e,s),524288&s[1]&&de(u,1)):(u=es(e),u.c(),de(u,1),u.m(t,n)):u&&(le(),fe(u,1,1,(()=>{u=null})),ue());let a=r;r=p(e),r===a?~r&&f[r].p(e,s):(o&&(le(),fe(f[a],1,1,(()=>{f[a]=null})),ue()),~r?(o=f[r],o?o.p(e,s):(o=f[r]=d[r](e),o.c()),de(o,1),o.m(t,c)):o=null),e[50]["list-append"]?$?($.p(e,s),524288&s[1]&&de($,1)):($=os(e),$.c(),de($,1),$.m(t,null)):$&&(le(),fe($,1,1,(()=>{$=null})),ue()),(!i||268435456&s[0])&&B(t,"prefloat",e[28])},i(e){i||(de(u),de(o),de($),i=!0)},o(e){fe(u),fe(o),fe($),i=!1},d(n){n&&y(t),u&&u.d(),~r&&f[r].d(),$&&$.d(),e[91](null),a=!1,s(l)}}}function es(e){let t;const n=e[83]["list-prepend"],r=d(n,e,e[82],Yr);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,s){r&&r.p&&(!t||1048576&s[2])&&$(r,n,e,e[82],t?p(n,e[82],s,Xr):m(e[82]),Yr)},i(e){t||(de(r,e),t=!0)},o(e){fe(r,e),t=!1},d(e){r&&r.d(e)}}}function ts(t){let n;const r=t[83].empty,s=d(r,t,t[82],Ur),o=s||function(){let t;return{c(){t=k("div"),t.textContent="No options",_(t,"class","empty svelte-82qwg8")},m(e,n){b(e,t,n)},p:e,d(e){e&&y(t)}}}();return{c(){o&&o.c()},m(e,t){o&&o.m(e,t),n=!0},p(e,t){s&&s.p&&(!n||1048576&t[2])&&$(s,r,e,e[82],n?p(r,e[82],t,Dr):m(e[82]),Ur)},i(e){n||(de(o,e),n=!0)},o(e){fe(o,e),n=!1},d(e){o&&o.d(e)}}}function ns(e){let t,n,r=e[24],s=[];for(let t=0;t<r.length;t+=1)s[t]=ss(Vr(e,r,t));const o=e=>fe(s[e],1,1,(()=>{s[e]=null}));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=O()},m(e,r){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,r);b(e,t,r),n=!0},p(e,n){if(1627402376&n[0]|28672&n[1]|1048576&n[2]){let c;for(r=e[24],c=0;c<r.length;c+=1){const o=Vr(e,r,c);s[c]?(s[c].p(o,n),de(s[c],1)):(s[c]=ss(o),s[c].c(),de(s[c],1),s[c].m(t.parentNode,t))}for(le(),c=r.length;c<s.length;c+=1)o(c);ue()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)de(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)fe(s[e]);n=!1},d(e){x(s,e),e&&y(t)}}}function rs(e){let t;const n=e[83].list,r=d(n,e,e[82],Qr);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,s){r&&r.p&&(!t||16777216&s[0]|1048576&s[2])&&$(r,n,e,e[82],t?p(n,e[82],s,Jr):m(e[82]),Qr)},i(e){t||(de(r,e),t=!0)},o(e){fe(r,e),t=!1},d(e){r&&r.d(e)}}}function ss(e){let t,n,r,c,i,a,l,u;const f=e[83].item,h=d(f,e,e[82],Gr),g=h||function(e){let t,n=e[126]?.[e[12]]+"";return{c(){t=I(n)},m(e,n){b(e,t,n)},p(e,r){16781312&r[0]&&n!==(n=e[126]?.[e[12]]+"")&&A(t,n)},d(e){e&&y(t)}}}(e);function x(){return e[88](e[128])}function C(){return e[89](e[128])}function O(){return e[90](e[126],e[128])}return{c(){t=k("div"),n=k("div"),g&&g.c(),i=S(),_(n,"class","item svelte-82qwg8"),B(n,"list-group-title",e[126].groupHeader),B(n,"active",e[45](e[126],e[3],e[13])),B(n,"first",0===e[128]),B(n,"hover",e[7]===e[128]),B(n,"group-item",e[126].groupItem),B(n,"not-selectable",!1===e[126]?.selectable),_(t,"class","list-item svelte-82qwg8"),_(t,"tabindex","-1"),_(t,"role","none")},m(s,o){b(s,t,o),w(t,n),g&&g.m(n,null),w(t,i),a=!0,l||(u=[v(r=e[46].call(null,n,{scroll:e[45](e[126],e[3],e[13]),listDom:e[30]})),v(c=e[47].call(null,n,{scroll:e[29]===e[128],listDom:e[30]})),T(t,"mouseover",x),T(t,"focus",C),T(t,"click",L(O)),T(t,"keydown",L(q(e[87])))],l=!0)},p(t,s){e=t,h?h.p&&(!a||16777216&s[0]|1048576&s[2])&&$(h,f,e,e[82],a?p(f,e[82],s,Zr):m(e[82]),Gr):g&&g.p&&(!a||16781312&s[0])&&g.p(e,a?s:[-1,-1,-1,-1,-1]),r&&o(r.update)&&1090527240&s[0]&&r.update.call(null,{scroll:e[45](e[126],e[3],e[13]),listDom:e[30]}),c&&o(c.update)&&1610612736&s[0]&&c.update.call(null,{scroll:e[29]===e[128],listDom:e[30]}),(!a||16777216&s[0])&&B(n,"list-group-title",e[126].groupHeader),(!a||16785416&s[0]|16384&s[1])&&B(n,"active",e[45](e[126],e[3],e[13])),(!a||128&s[0])&&B(n,"hover",e[7]===e[128]),(!a||16777216&s[0])&&B(n,"group-item",e[126].groupItem),(!a||16777216&s[0])&&B(n,"not-selectable",!1===e[126]?.selectable)},i(e){a||(de(g,e),a=!0)},o(e){fe(g,e),a=!1},d(e){e&&y(t),g&&g.d(e),l=!1,s(u)}}}function os(e){let t;const n=e[83]["list-append"],r=d(n,e,e[82],jr);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,s){r&&r.p&&(!t||1048576&s[2])&&$(r,n,e,e[82],t?p(n,e[82],s,Hr):m(e[82]),jr)},i(e){t||(de(r,e),t=!0)},o(e){fe(r,e),t=!1},d(e){r&&r.d(e)}}}function cs(e){let t,n,r,s,o;return{c(){t=k("span"),n=I(e[32]),r=S(),s=k("span"),o=I(e[31]),_(t,"id","aria-selection"),_(t,"class","svelte-82qwg8"),_(s,"id","aria-context"),_(s,"class","svelte-82qwg8")},m(e,c){b(e,t,c),w(t,n),b(e,r,c),b(e,s,c),w(s,o)},p(e,t){2&t[1]&&A(n,e[32]),1&t[1]&&A(o,e[31])},d(e){e&&y(t),e&&y(r),e&&y(s)}}}function is(e){let t,n,r,s;const o=[ls,as],c=[];function i(e,t){return e[9]?0:1}return t=i(e),n=c[t]=o[t](e),{c(){n.c(),r=O()},m(e,n){c[t].m(e,n),b(e,r,n),s=!0},p(e,s){let a=t;t=i(e),t===a?c[t].p(e,s):(le(),fe(c[a],1,1,(()=>{c[a]=null})),ue(),n=c[t],n?n.p(e,s):(n=c[t]=o[t](e),n.c()),de(n,1),n.m(r.parentNode,r))},i(e){s||(de(n),s=!0)},o(e){fe(n),s=!1},d(e){c[t].d(e),e&&y(r)}}}function as(e){let t,n;const r=e[83].selection,s=d(r,e,e[82],Mr),o=s||function(e){let t,n=e[3][e[12]]+"";return{c(){t=I(n)},m(e,n){b(e,t,n)},p(e,r){4104&r[0]&&n!==(n=e[3][e[12]]+"")&&A(t,n)},d(e){e&&y(t)}}}(e);return{c(){t=k("div"),o&&o.c(),_(t,"class","selected-item svelte-82qwg8"),B(t,"hide-selected-item",e[35])},m(e,r){b(e,t,r),o&&o.m(t,null),n=!0},p(e,c){s?s.p&&(!n||8&c[0]|1048576&c[2])&&$(s,r,e,e[82],n?p(r,e[82],c,Er):m(e[82]),Mr):o&&o.p&&(!n||4104&c[0])&&o.p(e,n?c:[-1,-1,-1,-1,-1]),(!n||16&c[1])&&B(t,"hide-selected-item",e[35])},i(e){n||(de(o,e),n=!0)},o(e){fe(o,e),n=!1},d(e){e&&y(t),o&&o.d(e)}}}function ls(e){let t,n,r=e[3],s=[];for(let t=0;t<r.length;t+=1)s[t]=ds(Ar(e,r,t));const o=e=>fe(s[e],1,1,(()=>{s[e]=null}));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=O()},m(e,r){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,r);b(e,t,r),n=!0},p(e,n){if(67116040&n[0]|32&n[1]|1048576&n[2]){let c;for(r=e[3],c=0;c<r.length;c+=1){const o=Ar(e,r,c);s[c]?(s[c].p(o,n),de(s[c],1)):(s[c]=ds(o),s[c].c(),de(s[c],1),s[c].m(t.parentNode,t))}for(le(),c=r.length;c<s.length;c+=1)o(c);ue()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)de(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)fe(s[e]);n=!1},d(e){x(s,e),e&&y(t)}}}function us(e){let t,n,r,s;const o=e[83]["multi-clear-icon"],c=d(o,e,e[82],Wr),i=c||function(){let e,t;return e=new br({}),{c(){me(e.$$.fragment)},m(n,r){he(e,n,r),t=!0},i(n){t||(de(e.$$.fragment,n),t=!0)},o(n){fe(e.$$.fragment,n),t=!1},d(t){ge(e,t)}}}();function a(){return e[92](e[128])}return{c(){t=k("div"),i&&i.c(),_(t,"class","multi-item-clear svelte-82qwg8")},m(e,o){b(e,t,o),i&&i.m(t,null),n=!0,r||(s=T(t,"pointerup",L(q(a))),r=!0)},p(t,r){e=t,c&&c.p&&(!n||1048576&r[2])&&$(c,o,e,e[82],n?p(o,e[82],r,Rr):m(e[82]),Wr)},i(e){n||(de(i,e),n=!0)},o(e){fe(i,e),n=!1},d(e){e&&y(t),i&&i.d(e),r=!1,s()}}}function ds(e){let t,n,r,o,c,i,a;const l=e[83].selection,u=d(l,e,e[82],Br),f=u||function(e){let t,n=e[126][e[12]]+"";return{c(){t=I(n)},m(e,n){b(e,t,n)},p(e,r){4104&r[0]&&n!==(n=e[126][e[12]]+"")&&A(t,n)},d(e){e&&y(t)}}}(e);let h=!e[11]&&!e[10]&&br&&us(e);function g(){return e[93](e[128])}return{c(){t=k("div"),n=k("span"),f&&f.c(),r=S(),h&&h.c(),o=S(),_(n,"class","multi-item-text svelte-82qwg8"),_(t,"class","multi-item svelte-82qwg8"),_(t,"role","none"),B(t,"active",e[26]===e[128]),B(t,"disabled",e[11])},m(s,l){b(s,t,l),w(t,n),f&&f.m(n,null),w(t,r),h&&h.m(t,null),w(t,o),c=!0,i||(a=[T(t,"click",q(g)),T(t,"keydown",L(q(e[84])))],i=!0)},p(n,r){e=n,u?u.p&&(!c||8&r[0]|1048576&r[2])&&$(u,l,e,e[82],c?p(l,e[82],r,Fr):m(e[82]),Br):f&&f.p&&(!c||4104&r[0])&&f.p(e,c?r:[-1,-1,-1,-1,-1]),e[11]||e[10]||!br?h&&(le(),fe(h,1,1,(()=>{h=null})),ue()):h?(h.p(e,r),3072&r[0]&&de(h,1)):(h=us(e),h.c(),de(h,1),h.m(t,o)),(!c||67108864&r[0])&&B(t,"active",e[26]===e[128]),(!c||2048&r[0])&&B(t,"disabled",e[11])},i(e){c||(de(f,e),de(h),c=!0)},o(e){fe(f,e),fe(h),c=!1},d(e){e&&y(t),f&&f.d(e),h&&h.d(),i=!1,s(a)}}}function fs(e){let t,n;const r=e[83]["loading-icon"],s=d(r,e,e[82],Pr),o=s||function(){let e,t;return e=new xr({}),{c(){me(e.$$.fragment)},m(n,r){he(e,n,r),t=!0},i(n){t||(de(e.$$.fragment,n),t=!0)},o(n){fe(e.$$.fragment,n),t=!1},d(t){ge(e,t)}}}();return{c(){t=k("div"),o&&o.c(),_(t,"class","icon loading svelte-82qwg8"),_(t,"aria-hidden","true")},m(e,r){b(e,t,r),o&&o.m(t,null),n=!0},p(e,t){s&&s.p&&(!n||1048576&t[2])&&$(s,r,e,e[82],n?p(r,e[82],t,_r):m(e[82]),Pr)},i(e){n||(de(o,e),n=!0)},o(e){fe(o,e),n=!1},d(e){e&&y(t),o&&o.d(e)}}}function ps(e){let t,n,r,s;const o=e[83]["clear-icon"],c=d(o,e,e[82],Lr),i=c||function(){let e,t;return e=new br({}),{c(){me(e.$$.fragment)},m(n,r){he(e,n,r),t=!0},i(n){t||(de(e.$$.fragment,n),t=!0)},o(n){fe(e.$$.fragment,n),t=!1},d(t){ge(e,t)}}}();return{c(){t=k("button"),i&&i.c(),_(t,"type","button"),_(t,"class","icon clear-select svelte-82qwg8")},m(o,c){b(o,t,c),i&&i.m(t,null),n=!0,r||(s=T(t,"click",e[22]),r=!0)},p(e,t){c&&c.p&&(!n||1048576&t[2])&&$(c,o,e,e[82],n?p(o,e[82],t,qr):m(e[82]),Lr)},i(e){n||(de(i,e),n=!0)},o(e){fe(i,e),n=!1},d(e){e&&y(t),i&&i.d(e),r=!1,s()}}}function $s(e){let t,n;const r=e[83]["chevron-icon"],s=d(r,e,e[82],Tr),o=s||function(){let e,t;return e=new vr({}),{c(){me(e.$$.fragment)},m(n,r){he(e,n,r),t=!0},i(n){t||(de(e.$$.fragment,n),t=!0)},o(n){fe(e.$$.fragment,n),t=!1},d(t){ge(e,t)}}}();return{c(){t=k("div"),o&&o.c(),_(t,"class","icon chevron svelte-82qwg8"),_(t,"aria-hidden","true")},m(e,r){b(e,t,r),o&&o.m(t,null),n=!0},p(e,t){s&&s.p&&(!n||64&t[0]|1048576&t[2])&&$(s,r,e,e[82],n?p(r,e[82],t,Or):m(e[82]),Tr)},i(e){n||(de(o,e),n=!0)},o(e){fe(o,e),n=!1},d(e){e&&y(t),o&&o.d(e)}}}function ms(t){let n;const r=t[83].required,s=d(r,t,t[82],Cr),o=s||function(){let t;return{c(){t=k("select"),_(t,"class","required svelte-82qwg8"),t.required=!0,_(t,"tabindex","-1"),_(t,"aria-hidden","true")},m(e,n){b(e,t,n)},p:e,d(e){e&&y(t)}}}();return{c(){o&&o.c()},m(e,t){o&&o.m(e,t),n=!0},p(e,t){s&&s.p&&(!n||8&t[0]|1048576&t[2])&&$(s,r,e,e[82],n?p(r,e[82],t,kr):m(e[82]),Cr)},i(e){n||(de(o,e),n=!0)},o(e){fe(o,e),n=!1},d(e){o&&o.d(e)}}}function hs(e){let n,r,o,c,i,a,l,u,f,h,g,x,C,I,O,L,P,M,A,W,F=e[6]&&Kr(e),N=e[2]&&cs(e);const z=e[83].prepend,H=d(z,e,e[82],zr);let j=e[25]&&is(e),D=[{readOnly:h=!e[17]},e[27],{placeholder:e[33]},{style:e[18]},{disabled:e[11]}],U={};for(let e=0;e<D.length;e+=1)U=t(U,D[e]);let V=e[5]&&fs(e),Z=e[34]&&ps(e),G=e[20]&&$s(e);const J=e[83]["input-hidden"],Q=d(J,e,e[82],Sr),X=Q||function(e){let t,n;return{c(){t=k("input"),_(t,"name",e[8]),_(t,"type","hidden"),t.value=n=e[3]?JSON.stringify(e[3]):null,_(t,"class","svelte-82qwg8")},m(e,n){b(e,t,n)},p(e,r){256&r[0]&&_(t,"name",e[8]),8&r[0]&&n!==(n=e[3]?JSON.stringify(e[3]):null)&&(t.value=n)},d(e){e&&y(t)}}}(e);let Y=e[16]&&(!e[3]||0===e[3].length)&&ms(e);return{c(){n=k("div"),F&&F.c(),r=S(),o=k("span"),N&&N.c(),c=S(),i=k("div"),H&&H.c(),a=S(),l=k("div"),j&&j.c(),u=S(),f=k("input"),g=S(),x=k("div"),V&&V.c(),C=S(),Z&&Z.c(),I=S(),G&&G.c(),O=S(),X&&X.c(),L=S(),Y&&Y.c(),_(o,"aria-live","polite"),_(o,"aria-atomic","false"),_(o,"aria-relevant","additions text"),_(o,"class","a11y-text svelte-82qwg8"),_(i,"class","prepend svelte-82qwg8"),E(f,U),B(f,"svelte-82qwg8",!0),_(l,"class","value-container svelte-82qwg8"),_(x,"class","indicators svelte-82qwg8"),_(n,"class",P="svelte-select "+e[21]+" svelte-82qwg8"),_(n,"style",e[14]),_(n,"role","none"),B(n,"multi",e[9]),B(n,"disabled",e[11]),B(n,"focused",e[2]),B(n,"list-open",e[6]),B(n,"show-chevron",e[20]),B(n,"error",e[15])},m(t,s){b(t,n,s),F&&F.m(n,null),w(n,r),w(n,o),N&&N.m(o,null),w(n,c),w(n,i),H&&H.m(i,null),w(n,a),w(n,l),j&&j.m(l,null),w(l,u),w(l,f),f.autofocus&&f.focus(),e[94](f),R(f,e[4]),w(n,g),w(n,x),V&&V.m(x,null),w(x,C),Z&&Z.m(x,null),w(x,I),G&&G.m(x,null),w(n,O),X&&X.m(n,null),w(n,L),Y&&Y.m(n,null),e[96](n),M=!0,A||(W=[T(window,"click",e[42]),T(window,"keydown",e[37]),T(f,"keydown",e[37]),T(f,"blur",e[39]),T(f,"focus",e[38]),T(f,"input",e[95]),T(n,"pointerup",q(e[40])),v(e[48].call(null,n))],A=!0)},p(e,t){e[6]?F?(F.p(e,t),64&t[0]&&de(F,1)):(F=Kr(e),F.c(),de(F,1),F.m(n,r)):F&&(le(),fe(F,1,1,(()=>{F=null})),ue()),e[2]?N?N.p(e,t):(N=cs(e),N.c(),N.m(o,null)):N&&(N.d(1),N=null),H&&H.p&&(!M||1048576&t[2])&&$(H,z,e,e[82],M?p(z,e[82],t,Nr):m(e[82]),zr),e[25]?j?(j.p(e,t),33554432&t[0]&&de(j,1)):(j=is(e),j.c(),de(j,1),j.m(l,u)):j&&(le(),fe(j,1,1,(()=>{j=null})),ue()),E(f,U=pe(D,[(!M||131072&t[0]&&h!==(h=!e[17]))&&{readOnly:h},134217728&t[0]&&e[27],(!M||4&t[1])&&{placeholder:e[33]},(!M||262144&t[0])&&{style:e[18]},(!M||2048&t[0])&&{disabled:e[11]}])),16&t[0]&&f.value!==e[4]&&R(f,e[4]),B(f,"svelte-82qwg8",!0),e[5]?V?(V.p(e,t),32&t[0]&&de(V,1)):(V=fs(e),V.c(),de(V,1),V.m(x,C)):V&&(le(),fe(V,1,1,(()=>{V=null})),ue()),e[34]?Z?(Z.p(e,t),8&t[1]&&de(Z,1)):(Z=ps(e),Z.c(),de(Z,1),Z.m(x,I)):Z&&(le(),fe(Z,1,1,(()=>{Z=null})),ue()),e[20]?G?(G.p(e,t),1048576&t[0]&&de(G,1)):(G=$s(e),G.c(),de(G,1),G.m(x,null)):G&&(le(),fe(G,1,1,(()=>{G=null})),ue()),Q?Q.p&&(!M||8&t[0]|1048576&t[2])&&$(Q,J,e,e[82],M?p(J,e[82],t,Ir):m(e[82]),Sr):X&&X.p&&(!M||264&t[0])&&X.p(e,M?t:[-1,-1,-1,-1,-1]),!e[16]||e[3]&&0!==e[3].length?Y&&(le(),fe(Y,1,1,(()=>{Y=null})),ue()):Y?(Y.p(e,t),65544&t[0]&&de(Y,1)):(Y=ms(e),Y.c(),de(Y,1),Y.m(n,null)),(!M||2097152&t[0]&&P!==(P="svelte-select "+e[21]+" svelte-82qwg8"))&&_(n,"class",P),(!M||16384&t[0])&&_(n,"style",e[14]),(!M||2097664&t[0])&&B(n,"multi",e[9]),(!M||2099200&t[0])&&B(n,"disabled",e[11]),(!M||2097156&t[0])&&B(n,"focused",e[2]),(!M||2097216&t[0])&&B(n,"list-open",e[6]),(!M||3145728&t[0])&&B(n,"show-chevron",e[20]),(!M||2129920&t[0])&&B(n,"error",e[15])},i(e){M||(de(F),de(H,e),de(j),de(V),de(Z),de(G),de(X,e),de(Y),M=!0)},o(e){fe(F),fe(H,e),fe(j),fe(V),fe(Z),fe(G),fe(X,e),fe(Y),M=!1},d(t){t&&y(n),F&&F.d(),N&&N.d(),H&&H.d(t),j&&j.d(),e[94](null),V&&V.d(),Z&&Z.d(),G&&G.d(),X&&X.d(t),Y&&Y.d(),e[96](null),A=!1,s(W)}}}function gs(e){return e.map(((e,t)=>({index:t,value:e,label:`${e}`})))}function vs(e,t,n){let r,s,o,c,i,a,l,u,d,{$$slots:f={},$$scope:p}=t;const $=function(e){const t={};for(const n in e)t[n]=!0;return t}(f),m=V();let{justValue:h=null}=t,{filter:g=mr}=t,{getItems:v=hr}=t,{id:w=null}=t,{name:b=null}=t,{container:y}=t,{input:x}=t,{multiple:k=!1}=t,{multiFullItemClearable:C=!1}=t,{disabled:I=!1}=t,{focused:S=!1}=t,{value:O=null}=t,{filterText:T=""}=t,{placeholder:q="Please select"}=t,{placeholderAlwaysShow:L=!1}=t,{items:_=null}=t,{label:P="label"}=t,{itemFilter:E=(e,t,n)=>`${e}`.toLowerCase().includes(t.toLowerCase())}=t,{groupBy:M}=t,{groupFilter:A=e=>e}=t,{groupHeaderSelectable:R=!1}=t,{itemId:W="value"}=t,{loadOptions:F}=t,{containerStyles:B=""}=t,{hasError:N=!1}=t,{filterSelectedItems:z=!0}=t,{required:H=!1}=t,{closeListOnChange:G=!0}=t,{clearFilterTextOnBlur:Q=!0}=t,{createGroupHeaderItem:X=(e,t)=>({value:e,[P]:e})}=t;let Y,K,ee,te,ne,re,{searchable:se=!0}=t,{inputStyles:oe=""}=t,{clearable:ce=!0}=t,{loading:ie=!1}=t,{listOpen:ae=!1}=t,{debounce:le=(e,t=1)=>{clearTimeout(Y),Y=setTimeout(e,t)}}=t,{debounceWait:ue=300}=t,{hideEmptyState:de=!1}=t,{inputAttributes:fe={}}=t,{listAutoWidth:pe=!0}=t,{showChevron:$e=!1}=t,{listOffset:me=5}=t,{hoverItemIndex:he=0}=t,{floatingConfig:ge={}}=t,{class:ve=""}=t;function we(e){const t=[],n={};e.forEach((e=>{const r=M(e);t.includes(r)||(t.push(r),n[r]=[],r&&n[r].push(Object.assign(X(r,e),{id:r,groupHeader:!0,selectable:R}))),n[r].push(Object.assign({groupItem:!!r},e))}));const r=[];return A(t).forEach((e=>{n[e]&&r.push(...n[e])})),r}function be(e=0,t){n(7,he=e<0?0:e),!t&&M&&l[he]&&!l[he].selectable&&Fe(1)}var ye;function xe(){let e=!0;if(O){const t=[],r=[];O.forEach((n=>{t.includes(n[W])?e=!1:(t.push(n[W]),r.push(n))})),e||n(3,O=r)}return e}function ke(e){let t=e?e[W]:O[W];return _.find((e=>e[W]===t))}async function Ce(e){const t=O[e];1===O.length?n(3,O=void 0):n(3,O=O.filter((e=>e!==t))),m("clear",t)}function Ie(e){S&&x===document?.activeElement||(e&&m("focus",e),x?.focus(),n(2,S=!0))}async function Se(e){Me||(ae||S)&&(m("blur",e),Oe(),n(2,S=!1),n(26,K=void 0),x?.blur())}function Oe(){Q&&n(4,T=""),n(6,ae=!1)}ye=async()=>{n(78,ee=O),n(79,te=T),n(80,ne=k)},j().$$.before_update.push(ye),D((()=>{ae&&n(2,S=!0),S&&x&&x.focus()}));let{ariaValues:Te=e=>`Option ${e}, selected.`}=t,{ariaListOpen:qe=(e,t)=>`You are currently focused on option ${e}. There are ${t} results available.`}=t,{ariaFocused:Le=()=>"Select is focused, type to refine list, press down to open the menu."}=t;let _e,Pe=null;function Ee(){clearTimeout(_e),_e=setTimeout((()=>{Me=!1}),100)}U((()=>{Pe?.remove()}));let Me=!1;function Ae(e){e&&!1!==e.selectable&&function(e){if(e){n(4,T="");const t=Object.assign({},e);if(t.groupHeader&&!t.selectable)return;n(3,O=k?O?O.concat([t]):[t]:n(3,O=t)),setTimeout((()=>{G&&Oe(),n(26,K=void 0),m("change",O),m("select",e)}))}}(e)}function Re(e){Me||n(7,he=e)}function We(e){const{item:t,i:r}=e;if(!1!==t?.selectable)return O&&!k&&O[W]===t[W]?Oe():void(function(e){return e.groupHeader&&e.selectable||e.selectable||!e.hasOwnProperty("selectable")}(t)&&(n(7,he=r),Ae(t)))}function Fe(e){if(0===l.filter((e=>!Object.hasOwn(e,"selectable")||!0===e.selectable)).length)return n(7,he=0);e>0&&he===l.length-1?n(7,he=0):n(7,e<0&&0===he?he=l.length-1:he+=e);const t=l[he];t&&!1===t.selectable&&(1!==e&&-1!==e||Fe(e))}const Be=ze,Ne=ze;function ze(e){return{update(t){t.scroll&&(Ee(),e.scrollIntoView({behavior:"auto",block:"nearest"}))}}}let He={strategy:"absolute",placement:"bottom-start",middleware:[ur(me),fr(),dr()],autoUpdate:!1};const[je,De,Ue]=$r(He);let Ve=!0;return e.$$set=e=>{"justValue"in e&&n(52,h=e.justValue),"filter"in e&&n(53,g=e.filter),"getItems"in e&&n(54,v=e.getItems),"id"in e&&n(55,w=e.id),"name"in e&&n(8,b=e.name),"container"in e&&n(0,y=e.container),"input"in e&&n(1,x=e.input),"multiple"in e&&n(9,k=e.multiple),"multiFullItemClearable"in e&&n(10,C=e.multiFullItemClearable),"disabled"in e&&n(11,I=e.disabled),"focused"in e&&n(2,S=e.focused),"value"in e&&n(3,O=e.value),"filterText"in e&&n(4,T=e.filterText),"placeholder"in e&&n(56,q=e.placeholder),"placeholderAlwaysShow"in e&&n(57,L=e.placeholderAlwaysShow),"items"in e&&n(51,_=e.items),"label"in e&&n(12,P=e.label),"itemFilter"in e&&n(58,E=e.itemFilter),"groupBy"in e&&n(59,M=e.groupBy),"groupFilter"in e&&n(60,A=e.groupFilter),"groupHeaderSelectable"in e&&n(61,R=e.groupHeaderSelectable),"itemId"in e&&n(13,W=e.itemId),"loadOptions"in e&&n(62,F=e.loadOptions),"containerStyles"in e&&n(14,B=e.containerStyles),"hasError"in e&&n(15,N=e.hasError),"filterSelectedItems"in e&&n(63,z=e.filterSelectedItems),"required"in e&&n(16,H=e.required),"closeListOnChange"in e&&n(64,G=e.closeListOnChange),"clearFilterTextOnBlur"in e&&n(65,Q=e.clearFilterTextOnBlur),"createGroupHeaderItem"in e&&n(66,X=e.createGroupHeaderItem),"searchable"in e&&n(17,se=e.searchable),"inputStyles"in e&&n(18,oe=e.inputStyles),"clearable"in e&&n(68,ce=e.clearable),"loading"in e&&n(5,ie=e.loading),"listOpen"in e&&n(6,ae=e.listOpen),"debounce"in e&&n(69,le=e.debounce),"debounceWait"in e&&n(70,ue=e.debounceWait),"hideEmptyState"in e&&n(19,de=e.hideEmptyState),"inputAttributes"in e&&n(71,fe=e.inputAttributes),"listAutoWidth"in e&&n(72,pe=e.listAutoWidth),"showChevron"in e&&n(20,$e=e.showChevron),"listOffset"in e&&n(73,me=e.listOffset),"hoverItemIndex"in e&&n(7,he=e.hoverItemIndex),"floatingConfig"in e&&n(74,ge=e.floatingConfig),"class"in e&&n(21,ve=e.class),"ariaValues"in e&&n(75,Te=e.ariaValues),"ariaListOpen"in e&&n(76,qe=e.ariaListOpen),"ariaFocused"in e&&n(77,Le=e.ariaFocused),"$$scope"in e&&n(82,p=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty[0]|1048576&e.$$.dirty[1]&&O&&function(){if("string"==typeof O){let e=(_||[]).find((e=>e[W]===O));n(3,O=e||{[W]:O,label:O})}else k&&Array.isArray(O)&&O.length>0&&n(3,O=O.map((e=>"string"==typeof e?{value:e,label:e}:e)))}(),131072&e.$$.dirty[0]|512&e.$$.dirty[2]&&(!fe&&se||(n(27,re=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},fe)),w&&n(27,re.id=w,re),se||n(27,re.readonly=!0,re))),512&e.$$.dirty[0]&&k&&O&&(Array.isArray(O)?n(3,O=[...O]):n(3,O=[O])),512&e.$$.dirty[0]|262144&e.$$.dirty[2]&&ne&&!k&&O&&n(3,O=null),520&e.$$.dirty[0]&&k&&O&&O.length>1&&xe(),8&e.$$.dirty[0]&&O&&(k?JSON.stringify(O)!==JSON.stringify(ee)&&xe()&&m("input",O):ee&&JSON.stringify(O[W])===JSON.stringify(ee[W])||m("input",O)),520&e.$$.dirty[0]|65536&e.$$.dirty[2]&&!O&&k&&ee&&m("input",O),6&e.$$.dirty[0]&&!S&&x&&Oe(),16&e.$$.dirty[0]|131072&e.$$.dirty[2]&&T!==te&&(F||0!==T.length)&&(F?le((async function(){n(5,ie=!0);let e=await v({dispatch:m,loadOptions:F,convertStringItemsToObjects:gs,filterText:T});e?(n(5,ie=e.loading),n(6,ae=ae?e.listOpen:T.length>0),n(2,S=ae&&e.focused),n(51,_=M?we(e.filteredItems):e.filteredItems)):(n(5,ie=!1),n(2,S=!0),n(6,ae=!0))}),ue):(n(6,ae=!0),k&&n(26,K=void 0))),12824&e.$$.dirty[0]|407896064&e.$$.dirty[1]|3&e.$$.dirty[2]&&n(24,l=g({loadOptions:F,filterText:T,items:_,multiple:k,value:O,itemId:W,groupBy:M,label:P,filterSelectedItems:z,itemFilter:E,convertStringItemsToObjects:gs,filterGroupedItems:we})),16777800&e.$$.dirty[0]&&!k&&ae&&O&&l&&be(l.findIndex((e=>e[W]===O[W])),!0),576&e.$$.dirty[0]&&ae&&k&&n(7,he=0),16&e.$$.dirty[0]&&T&&n(7,he=0),128&e.$$.dirty[0]&&m("hoverItem",he),520&e.$$.dirty[0]&&n(25,r=k?O&&O.length>0:O),33554448&e.$$.dirty[0]&&n(35,s=r&&T.length>0),33556512&e.$$.dirty[0]|64&e.$$.dirty[2]&&n(34,o=r&&ce&&!I&&!ie),520&e.$$.dirty[0]|100663296&e.$$.dirty[1]&&n(33,c=L&&k||k&&0===O?.length?q:O?"":q),520&e.$$.dirty[0]&&n(32,i=O?function(e){let t;return t=e&&O.length>0?O.map((e=>e[P])).join(", "):O[P],Te(t)}(k):""),16777412&e.$$.dirty[0]&&n(31,a=function(){if(!l||0===l.length)return"";let e=l[he];if(ae&&e){let t=l?l.length:0;return qe(e[P],t)}return Le()}()),1048576&e.$$.dirty[1]&&function(e){e&&0!==e.length&&!e.some((e=>"object"!=typeof e))&&O&&(k?!O.some((e=>!e||!e[W])):O[W])&&(Array.isArray(O)?n(3,O=O.map((e=>ke(e)||e))):n(3,O=ke()||O))}(_),8712&e.$$.dirty[0]&&n(52,h=k?O?O.map((e=>e[W])):null:O?O[W]:O),520&e.$$.dirty[0]|65536&e.$$.dirty[2]&&(k||!ee||O||m("input",O)),16777800&e.$$.dirty[0]&&ae&&l&&!k&&!O&&be(),16777216&e.$$.dirty[0]&&function(e){ae&&m("filter",e)}(l),1&e.$$.dirty[0]|4096&e.$$.dirty[2]&&y&&void 0===ge?.autoUpdate&&n(81,He.autoUpdate=!0,He),1&e.$$.dirty[0]|528384&e.$$.dirty[2]&&y&&ge&&Ue(Object.assign(He,ge)),8388608&e.$$.dirty[0]&&n(30,u=!!Pe),8388672&e.$$.dirty[0]&&function(e,t){if(!e||!t)return n(28,Ve=!0);setTimeout((()=>{n(28,Ve=!1)}),0)}(Pe,ae),8388673&e.$$.dirty[0]&&ae&&y&&Pe&&function(){const{width:e}=y.getBoundingClientRect();n(23,Pe.style.width=pe?e+"px":"auto",Pe)}(),128&e.$$.dirty[0]&&n(29,d=he),70&e.$$.dirty[0]&&x&&ae&&!S&&Ie()},[y,x,S,O,T,ie,ae,he,b,k,C,I,P,W,B,N,H,se,oe,de,$e,ve,function(){m("clear",O),n(3,O=void 0),Oe(),Ie()},Pe,l,r,K,re,Ve,d,u,a,i,c,o,s,Ce,function(e){if(S)switch(e.stopPropagation(),e.key){case"Escape":e.preventDefault(),Oe();break;case"Enter":if(e.preventDefault(),ae){if(0===l.length)break;const e=l[he];if(O&&!k&&O[W]===e[W]){Oe();break}Ae(l[he])}break;case"ArrowDown":e.preventDefault(),ae?Fe(1):(n(6,ae=!0),n(26,K=void 0));break;case"ArrowUp":e.preventDefault(),ae?Fe(-1):(n(6,ae=!0),n(26,K=void 0));break;case"Tab":if(ae&&S){if(0===l.length||O&&O[W]===l[he][W])return Oe();e.preventDefault(),Ae(l[he]),Oe()}break;case"Backspace":if(!k||T.length>0)return;if(k&&O&&O.length>0){if(Ce(void 0!==K?K:O.length-1),0===K||void 0===K)break;n(26,K=O.length>K?K-1:void 0)}break;case"ArrowLeft":if(!O||!k||T.length>0)return;void 0===K?n(26,K=O.length-1):O.length>K&&0!==K&&n(26,K-=1);break;case"ArrowRight":if(!O||!k||T.length>0||void 0===K)return;K===O.length-1?n(26,K=void 0):K<O.length-1&&n(26,K+=1)}},Ie,Se,function(){if(!I)return T.length>0?n(6,ae=!0):void n(6,ae=!ae)},Ee,function(e){ae||S||!y||y.contains(e.target)||Pe?.contains(e.target)||Se()},Re,We,function(e,t,n){if(!k)return t&&t[n]===e[n]},Be,Ne,je,De,$,_,h,g,v,w,q,L,E,M,A,R,F,z,G,Q,X,()=>l,ce,le,ue,fe,pe,me,ge,Te,qe,Le,ee,te,ne,He,p,f,function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},function(t){Z.call(this,e,t)},e=>Re(e),e=>Re(e),(e,t)=>We({item:e,i:t}),function(e){J[e?"unshift":"push"]((()=>{Pe=e,n(23,Pe)}))},e=>Ce(e),e=>C?Ce(e):{},function(e){J[e?"unshift":"push"]((()=>{x=e,n(1,x)}))},function(){T=this.value,n(4,T)},function(e){J[e?"unshift":"push"]((()=>{y=e,n(0,y)}))}]}class ws extends we{constructor(e){super(),ve(this,e,vs,hs,c,{justValue:52,filter:53,getItems:54,id:55,name:8,container:0,input:1,multiple:9,multiFullItemClearable:10,disabled:11,focused:2,value:3,filterText:4,placeholder:56,placeholderAlwaysShow:57,items:51,label:12,itemFilter:58,groupBy:59,groupFilter:60,groupHeaderSelectable:61,itemId:13,loadOptions:62,containerStyles:14,hasError:15,filterSelectedItems:63,required:16,closeListOnChange:64,clearFilterTextOnBlur:65,createGroupHeaderItem:66,getFilteredItems:67,searchable:17,inputStyles:18,clearable:68,loading:5,listOpen:6,debounce:69,debounceWait:70,hideEmptyState:19,inputAttributes:71,listAutoWidth:72,showChevron:20,listOffset:73,hoverItemIndex:7,floatingConfig:74,class:21,handleClear:22,ariaValues:75,ariaListOpen:76,ariaFocused:77},null,[-1,-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[67]}get handleClear(){return this.$$.ctx[22]}}function bs(e){let t;function n(e,t){return"svgMono"==e[2]?xs:ys}let r=n(e),s=r(e);return{c(){s.c(),t=O()},m(e,n){s.m(e,n),b(e,t,n)},p(e,o){r===(r=n(e))&&s?s.p(e,o):(s.d(1),s=r(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&y(t)}}}function ys(e){let t,n,r;return{c(){t=k("img"),a(t.src,n=`/assets/images/${e[0].value}-icon.${e[2]}`)||_(t,"src",n),_(t,"alt",r=e[0].label)},m(e,n){b(e,t,n)},p(e,s){5&s&&!a(t.src,n=`/assets/images/${e[0].value}-icon.${e[2]}`)&&_(t,"src",n),1&s&&r!==(r=e[0].label)&&_(t,"alt",r)},d(e){e&&y(t)}}}function xs(e){let t;function n(e,t){return"dark"==e[1]?Cs:ks}let r=n(e),s=r(e);return{c(){s.c(),t=O()},m(e,n){s.m(e,n),b(e,t,n)},p(e,o){r===(r=n(e))&&s?s.p(e,o):(s.d(1),s=r(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&y(t)}}}function ks(e){let t,n,r;return{c(){t=k("img"),a(t.src,n=`/assets/images/${e[0].value}-icon.svg`)||_(t,"src",n),_(t,"alt",r=e[0].label)},m(e,n){b(e,t,n)},p(e,s){1&s&&!a(t.src,n=`/assets/images/${e[0].value}-icon.svg`)&&_(t,"src",n),1&s&&r!==(r=e[0].label)&&_(t,"alt",r)},d(e){e&&y(t)}}}function Cs(e){let t,n,r;return{c(){t=k("img"),a(t.src,n=`/assets/images/${e[0].value}-icon-light.svg`)||_(t,"src",n),_(t,"alt",r=e[0].label)},m(e,n){b(e,t,n)},p(e,s){1&s&&!a(t.src,n=`/assets/images/${e[0].value}-icon-light.svg`)&&_(t,"src",n),1&s&&r!==(r=e[0].label)&&_(t,"alt",r)},d(e){e&&y(t)}}}function Is(t){let n,r=t[2]&&bs(t);return{c(){r&&r.c(),n=O()},m(e,t){r&&r.m(e,t),b(e,n,t)},p(e,[t]){e[2]?r?r.p(e,t):(r=bs(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&y(n)}}}function Ss(e,t,n){let r,s,o,{details:c}=t,{selectedService:i}=t;const a=ze.subscribe((e=>n(4,s=e))),l=He.subscribe((e=>n(5,o=e)));let u;return U((()=>{a(),l()})),e.$$set=e=>{"details"in e&&n(0,c=e.details),"selectedService"in e&&n(3,i=e.selectedService)},e.$$.update=()=>{16&e.$$.dirty&&s&&("dark"==s.theme?n(1,u="dark"):"light"==s.theme?n(1,u="light"):window.matchMedia("(prefers-color-scheme: dark)").matches?n(1,u="dark"):n(1,u="light")),41&e.$$.dirty&&n(2,r=o.services[i].frontends[c.value].imageType)},[c,u,r,i,s,o]}class Os extends we{constructor(e){super(),ve(this,e,Ss,Is,c,{details:0,selectedService:3})}}function Ts(t){let n,r=(t[7].i18n.getMessage("redirectType")||"Redirect Type")+"";return{c(){n=I(r)},m(e,t){b(e,n,t)},p:e,d(e){e&&y(n)}}}function qs(e){let t,n,r,s;return t=new We({props:{$$slots:{default:[Ts]},$$scope:{ctx:e}}}),r=new Oe({props:{value:e[4].redirectType,onChange:e[9],values:e[6]}}),{c(){me(t.$$.fragment),n=S(),me(r.$$.fragment)},m(e,o){he(t,e,o),b(e,n,o),he(r,e,o),s=!0},p(e,n){const s={};32768&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};16&n&&(o.value=e[4].redirectType),18&n&&(o.onChange=e[9]),64&n&&(o.values=e[6]),r.$set(o)},i(e){s||(de(t.$$.fragment,e),de(r.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),fe(r.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),ge(r,e)}}}function Ls(e){let t,n;return t=new xe({props:{$$slots:{default:[Ms]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,n){const r={};32791&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function _s(t){let n,r=(t[7].i18n.getMessage("embedFrontend")||"Embed Frontend")+"";return{c(){n=I(r)},m(e,t){b(e,n,t)},p:e,d(e){e&&y(n)}}}function Ps(e){let t,n,r,s,o,c=e[14].label+"";return n=new Os({props:{details:e[14],selectedService:e[0]}}),{c(){t=k("div"),me(n.$$.fragment),r=S(),s=I(c),_(t,"class","slot"),_(t,"slot","item")},m(e,c){b(e,t,c),he(n,t,null),w(t,r),w(t,s),o=!0},p(e,t){const r={};16384&t&&(r.details=e[14]),1&t&&(r.selectedService=e[0]),n.$set(r),(!o||16384&t)&&c!==(c=e[14].label+"")&&A(s,c)},i(e){o||(de(n.$$.fragment,e),o=!0)},o(e){fe(n.$$.fragment,e),o=!1},d(e){e&&y(t),ge(n)}}}function Es(e){let t,n,r,s,o,c=e[13].label+"";return n=new Os({props:{details:e[13],selectedService:e[0]}}),{c(){t=k("div"),me(n.$$.fragment),r=S(),s=I(c),_(t,"class","slot"),_(t,"slot","selection")},m(e,c){b(e,t,c),he(n,t,null),w(t,r),w(t,s),o=!0},p(e,t){const r={};8192&t&&(r.details=e[13]),1&t&&(r.selectedService=e[0]),n.$set(r),(!o||8192&t)&&c!==(c=e[13].label+"")&&A(s,c)},i(e){o||(de(n.$$.fragment,e),o=!0)},o(e){fe(n.$$.fragment,e),o=!1},d(e){e&&y(t),ge(n)}}}function Ms(e){let t,n,r,s;return t=new We({props:{$$slots:{default:[_s]},$$scope:{ctx:e}}}),r=new ws({props:{clearable:!1,class:"svelte_select",value:e[4].embedFrontend,items:e[2],$$slots:{selection:[Es,({selection:e})=>({13:e}),({selection:e})=>e?8192:0],item:[Ps,({item:e})=>({14:e}),({item:e})=>e?16384:0]},$$scope:{ctx:e}}}),r.$on("change",e[10]),{c(){me(t.$$.fragment),n=S(),me(r.$$.fragment)},m(e,o){he(t,e,o),b(e,n,o),he(r,e,o),s=!0},p(e,n){const s={};32768&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};16&n&&(o.value=e[4].embedFrontend),4&n&&(o.items=e[2]),57345&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i(e){s||(de(t.$$.fragment,e),de(r.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),fe(r.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),ge(r,e)}}}function As(e){let t,n,r,s;t=new xe({props:{$$slots:{default:[qs]},$$scope:{ctx:e}}});let o=e[3].frontends[e[5]].desktopApp&&"main_frame"!=e[4].redirectType&&Ls(e);return{c(){me(t.$$.fragment),n=S(),o&&o.c(),r=O()},m(e,c){he(t,e,c),b(e,n,c),o&&o.m(e,c),b(e,r,c),s=!0},p(e,[n]){const s={};32850&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),e[3].frontends[e[5]].desktopApp&&"main_frame"!=e[4].redirectType?o?(o.p(e,n),56&n&&de(o,1)):(o=Ls(e),o.c(),de(o,1),o.m(r.parentNode,r)):o&&(le(),fe(o,1,1,(()=>{o=null})),ue())},i(e){s||(de(t.$$.fragment,e),de(o),s=!0)},o(e){fe(t.$$.fragment,e),fe(o),s=!1},d(e){ge(t,e),e&&y(n),o&&o.d(e),e&&y(r)}}}function Rs(e,t,n){let r,s,o;const c=window.browser||window.chrome;let i,a;const l=ze.subscribe((e=>n(1,i=e))),u=He.subscribe((e=>n(8,a=e)));U((()=>{l(),u()}));let d,{selectedService:f}=t,p=[];return e.$$set=e=>{"selectedService"in e&&n(0,f=e.selectedService)},e.$$.update=()=>{if(257&e.$$.dirty&&n(3,r=a.services[f]),3&e.$$.dirty&&n(4,s=i[f]),3&e.$$.dirty&&n(5,o=i[f].frontend),58&e.$$.dirty&&(r.frontends[o].embeddable?n(6,d=[{value:"both",name:c.i18n.getMessage("both")||"Both"},{value:"sub_frame",name:c.i18n.getMessage("onlyEmbedded")||"Only Embedded"},{value:"main_frame",name:c.i18n.getMessage("onlyNotEmbedded")||"Only Not Embedded"}]):r.frontends[o].desktopApp&&Object.values(r.frontends).some((e=>e.embeddable))?(n(6,d=[{value:"both",name:c.i18n.getMessage("both")||"Both"},{value:"main_frame",name:c.i18n.getMessage("onlyNotEmbedded")||"Only Not Embedded"}]),"sub_frame"==s.redirectType&&(n(4,s.redirectType="main_frame",s),ze.set(i))):(n(6,d=[{value:"main_frame",name:c.i18n.getMessage("onlyNotEmbedded")||"Only Not Embedded"}]),n(4,s.redirectType="main_frame",s),ze.set(i))),12&e.$$.dirty&&r){n(2,p=[]);for(const[e,t]of Object.entries(r.frontends))t.embeddable&&t.instanceList&&p.push({value:e,label:t.name})}},[f,i,p,r,s,o,d,c,a,e=>{n(4,s.redirectType=e.target.options[e.target.options.selectedIndex].value,s),ze.set(i)},e=>{n(4,s.embedFrontend=e.detail.value,s),ze.set(i)}]}class Ws extends we{constructor(e){super(),ve(this,e,Rs,As,c,{selectedService:0})}}function Fs(n){let r,s,o=[n[0],{xmlns:"http://www.w3.org/2000/svg"},{height:"20px"},{viewBox:"0 0 24 24"},{width:"20px"},{fill:"currentColor"}],c={};for(let e=0;e<o.length;e+=1)c=t(c,o[e]);return{c(){r=C("svg"),s=C("path"),_(s,"d","M10.45 15.5q.6.6 1.55.587.95-.012 1.4-.687L19 7l-8.4 5.6q-.675.45-.712 1.375-.038.925.562 1.525ZM12 4q1.475 0 2.838.412Q16.2 4.825 17.4 5.65l-1.9 1.2q-.825-.425-1.712-.637Q12.9 6 12 6 8.675 6 6.338 8.337 4 10.675 4 14q0 1.05.287 2.075Q4.575 17.1 5.1 18h13.8q.575-.95.838-1.975Q20 15 20 13.9q0-.9-.212-1.75-.213-.85-.638-1.65l1.2-1.9q.75 1.175 1.188 2.5.437 1.325.462 2.75.025 1.425-.325 2.725-.35 1.3-1.025 2.475-.275.45-.75.7-.475.25-1 .25H5.1q-.525 0-1-.25t-.75-.7q-.65-1.125-1-2.387Q2 15.4 2 14q0-2.075.788-3.888.787-1.812 2.15-3.175Q6.3 5.575 8.125 4.787 9.95 4 12 4Zm.175 7.825Z"),M(r,c)},m(e,t){b(e,r,t),w(r,s)},p(e,[t]){M(r,c=pe(o,[1&t&&e[0],{xmlns:"http://www.w3.org/2000/svg"},{height:"20px"},{viewBox:"0 0 24 24"},{width:"20px"},{fill:"currentColor"}]))},i:e,o:e,d(e){e&&y(r)}}}function Bs(e,n,r){const s=[];let o=g(n,s);return e.$$set=e=>{n=t(t({},n),h(e)),r(0,o=g(n,s))},[o]}class Ns extends we{constructor(e){super(),ve(this,e,Bs,Fs,c,{})}}function zs(n){let r,s,o=[n[0],{xmlns:"http://www.w3.org/2000/svg"},{height:"20px"},{viewBox:"0 -960 960 960"},{width:"20px"},{fill:"currentColor"}],c={};for(let e=0;e<o.length;e+=1)c=t(c,o[e]);return{c(){r=C("svg"),s=C("path"),_(s,"d","M144-144v-178l342-342-54-53 51-51 72 72 110.22-110.22q4.45-4.45 11.11-7.11Q683-816 691-816t15 2.5q7 2.5 12 7.5l87 88q4.55 5.83 7.27 12.64 2.73 6.8 2.73 14.58t-2.66 14.44q-2.67 6.66-7.11 11.1L696-556l72 73-51 51-54-54-341 342H144Zm72-72h76l320-320-75-76-321 320v76Zm424-385 90-91-38-39-91 90 39 40Zm0 0-39-40 39 40Z"),M(r,c)},m(e,t){b(e,r,t),w(r,s)},p(e,[t]){M(r,c=pe(o,[1&t&&e[0],{xmlns:"http://www.w3.org/2000/svg"},{height:"20px"},{viewBox:"0 -960 960 960"},{width:"20px"},{fill:"currentColor"}]))},i:e,o:e,d(e){e&&y(r)}}}function Hs(e,n,r){const s=[];let o=g(n,s);return e.$$set=e=>{n=t(t({},n),h(e)),r(0,o=g(n,s))},[o]}class js extends we{constructor(e){super(),ve(this,e,Hs,zs,c,{})}}function Ds(e,t,n){const r=e.slice();return r[23]=t[n][0],r[24]=t[n][1],r}function Us(e,t,n){const r=e.slice();return r[27]=t[n],r}function Vs(e,t,n){const r=e.slice();return r[27]=t[n],r}function Zs(e){let t,n,r,s,o,c,i,a,l,u,d,f,p,$;s=new et({props:{disabled:e[9],$$slots:{default:[Gs]},$$scope:{ctx:e}}}),s.$on("click",e[15]),c=new et({props:{disabled:e[8],$$slots:{default:[Js]},$$scope:{ctx:e}}}),c.$on("click",e[16]),a=new xe({props:{$$slots:{default:[Xs]},$$scope:{ctx:e}}}),d=new xe({props:{$$slots:{default:[Ys]},$$scope:{ctx:e}}});let m=e[1][e[0]],h=[];for(let t=0;t<m.length;t+=1)h[t]=no(Vs(e,m,t));const g=e=>fe(h[e],1,1,(()=>{h[e]=null}));let v="disabled"!==e[3]&&"disabled"!==e[6]&&ro(e);return{c(){t=k("hr"),n=S(),r=k("div"),me(s.$$.fragment),o=S(),me(c.$$.fragment),i=S(),me(a.$$.fragment),l=S(),u=k("div"),me(d.$$.fragment),f=S();for(let e=0;e<h.length;e+=1)h[e].c();p=S(),v&&v.c(),_(u,"dir","ltr")},m(e,m){b(e,t,m),b(e,n,m),b(e,r,m),he(s,r,null),w(r,o),he(c,r,null),b(e,i,m),he(a,e,m),b(e,l,m),b(e,u,m),he(d,u,null),w(u,f);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(u,null);w(u,p),v&&v.m(u,null),$=!0},p(e,t){const n={};512&t[0]&&(n.disabled=e[9]),2&t[1]&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const r={};256&t[0]&&(r.disabled=e[8]),2&t[1]&&(r.$$scope={dirty:t,ctx:e}),c.$set(r);const o={};2&t[1]&&(o.$$scope={dirty:t,ctx:e}),a.$set(o);const i={};if(128&t[0]|2&t[1]&&(i.$$scope={dirty:t,ctx:e}),d.$set(i),4131&t[0]){let n;for(m=e[1][e[0]],n=0;n<m.length;n+=1){const r=Vs(e,m,n);h[n]?(h[n].p(r,t),de(h[n],1)):(h[n]=no(r),h[n].c(),de(h[n],1),h[n].m(u,p))}for(le(),n=m.length;n<h.length;n+=1)g(n);ue()}"disabled"!==e[3]&&"disabled"!==e[6]?v?(v.p(e,t),72&t[0]&&de(v,1)):(v=ro(e),v.c(),de(v,1),v.m(u,null)):v&&(le(),fe(v,1,1,(()=>{v=null})),ue())},i(e){if(!$){de(s.$$.fragment,e),de(c.$$.fragment,e),de(a.$$.fragment,e),de(d.$$.fragment,e);for(let e=0;e<m.length;e+=1)de(h[e]);de(v),$=!0}},o(e){fe(s.$$.fragment,e),fe(c.$$.fragment,e),fe(a.$$.fragment,e),fe(d.$$.fragment,e),h=h.filter(Boolean);for(let e=0;e<h.length;e+=1)fe(h[e]);fe(v),$=!1},d(e){e&&y(t),e&&y(n),e&&y(r),ge(s),ge(c),e&&y(i),ge(a,e),e&&y(l),e&&y(u),ge(d),x(h,e),v&&v.d()}}}function Gs(t){let n,r,s,o,c=(t[11].i18n.getMessage("pingInstances")||"Ping Instances")+"";return n=new Ns({props:{class:"margin margin_"+document.body.dir}}),{c(){me(n.$$.fragment),r=S(),s=I(c)},m(e,t){he(n,e,t),b(e,r,t),b(e,s,t),o=!0},p:e,i(e){o||(de(n.$$.fragment,e),o=!0)},o(e){fe(n.$$.fragment,e),o=!1},d(e){ge(n,e),e&&y(r),e&&y(s)}}}function Js(t){let n,r,s,o,c=(t[11].i18n.getMessage("autoPickInstance")||"Auto Pick Instance")+"";return n=new js({props:{class:"margin margin_"+document.body.dir}}),{c(){me(n.$$.fragment),r=S(),s=I(c)},m(e,t){he(n,e,t),b(e,r,t),b(e,s,t),o=!0},p:e,i(e){o||(de(n.$$.fragment,e),o=!0)},o(e){fe(n.$$.fragment,e),o=!1},d(e){ge(n,e),e&&y(r),e&&y(s)}}}function Qs(t){let n,r=(t[11].i18n.getMessage("addYourFavoriteInstances")||"Add your favorite instances")+"";return{c(){n=I(r)},m(e,t){b(e,n,t)},p:e,d(e){e&&y(n)}}}function Xs(e){let t,n;return t=new We({props:{$$slots:{default:[Qs]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,n){const r={};2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function Ys(e){let t,n,r,s,o,c,i,a;function l(t){e[17](t)}let u={type:"url",placeholder:"https://instance.com","aria-label":"Add instance input"};return void 0!==e[7]&&(u.value=e[7]),t=new Me({props:u}),J.push((()=>$e(t,"value",l))),t.$on("keydown",e[18]),o=new qe({}),{c(){me(t.$$.fragment),r=S(),s=k("button"),me(o.$$.fragment),_(s,"class","add svelte-f3h0n0"),_(s,"aria-label","Add the instance")},m(n,l){he(t,n,l),b(n,r,l),b(n,s,l),he(o,s,null),c=!0,i||(a=T(s,"click",e[13]),i=!0)},p(e,r){const s={};!n&&128&r[0]&&(n=!0,s.value=e[7],ne((()=>n=!1))),t.$set(s)},i(e){c||(de(t.$$.fragment,e),de(o.$$.fragment,e),c=!0)},o(e){fe(t.$$.fragment,e),fe(o.$$.fragment,e),c=!1},d(e){ge(t,e),e&&y(r),e&&y(s),ge(o),i=!1,a()}}}function Ks(e){let t;return{c(){t=k("span"),t.textContent="custom",W(t,"color","grey")},m(e,n){b(e,t,n)},d(e){e&&y(t)}}}function eo(e){let t,n,r=e[5][e[27]].value+"";return{c(){t=k("span"),n=I(r),W(t,"color",e[5][e[27]].color)},m(e,r){b(e,t,r),w(t,n)},p(e,s){35&s[0]&&r!==(r=e[5][e[27]].value+"")&&A(n,r),35&s[0]&&W(t,"color",e[5][e[27]].color)},d(e){e&&y(t)}}}function to(e){let t,n,r,s,o,c,i,a,l,u,d,f,p=e[27]+"",$=e[12](e[27]),m=$&&Ks(),h=e[5]&&e[5][e[27]]&&eo(e);function g(){return e[19](e[27])}return l=new _e({}),{c(){t=k("span"),n=k("a"),r=I(p),o=S(),m&&m.c(),c=S(),h&&h.c(),i=S(),a=k("button"),me(l.$$.fragment),_(n,"href",s=e[27]),_(n,"target","_blank"),_(n,"rel","noopener noreferrer"),_(n,"class","svelte-f3h0n0"),_(a,"class","add svelte-f3h0n0"),_(a,"aria-label","Remove Instance")},m(e,s){b(e,t,s),w(t,n),w(n,r),w(t,o),m&&m.m(t,null),w(t,c),h&&h.m(t,null),b(e,i,s),b(e,a,s),he(l,a,null),u=!0,d||(f=T(a,"click",g),d=!0)},p(o,i){e=o,(!u||3&i[0])&&p!==(p=e[27]+"")&&A(r,p),(!u||3&i[0]&&s!==(s=e[27]))&&_(n,"href",s),3&i[0]&&($=e[12](e[27])),$?m||(m=Ks(),m.c(),m.m(t,c)):m&&(m.d(1),m=null),e[5]&&e[5][e[27]]?h?h.p(e,i):(h=eo(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},i(e){u||(de(l.$$.fragment,e),u=!0)},o(e){fe(l.$$.fragment,e),u=!1},d(e){e&&y(t),m&&m.d(),h&&h.d(),e&&y(i),e&&y(a),ge(l),d=!1,f()}}}function no(e){let t,n,r,s;return t=new xe({props:{$$slots:{default:[to]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment),n=S(),r=k("hr")},m(e,o){he(t,e,o),b(e,n,o),b(e,r,o),s=!0},p(e,n){const r={};35&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){s||(de(t.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),e&&y(r)}}}function ro(e){let t,n,r,s;const o=[oo,so],c=[];function i(e,t){return e[3][e[0]]&&e[3][e[0]].clearnet?0:1}return t=i(e),n=c[t]=o[t](e),{c(){n.c(),r=O()},m(e,n){c[t].m(e,n),b(e,r,n),s=!0},p(e,s){let a=t;t=i(e),t===a?c[t].p(e,s):(le(),fe(c[a],1,1,(()=>{c[a]=null})),ue(),n=c[t],n?n.p(e,s):(n=c[t]=o[t](e),n.c()),de(n,1),n.m(r.parentNode,r))},i(e){s||(de(n),s=!0)},o(e){fe(n),s=!1},d(e){c[t].d(e),e&&y(r)}}}function so(e){let t,n;return t=new xe({props:{$$slots:{default:[io]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,n){const r={};2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function oo(e){let t,n,r=Object.entries(e[2].networks),s=[];for(let t=0;t<r.length;t+=1)s[t]=go(Ds(e,r,t));const o=e=>fe(s[e],1,1,(()=>{s[e]=null}));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=O()},m(e,r){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,r);b(e,t,r),n=!0},p(e,n){if(111&n[0]){let c;for(r=Object.entries(e[2].networks),c=0;c<r.length;c+=1){const o=Ds(e,r,c);s[c]?(s[c].p(o,n),de(s[c],1)):(s[c]=go(o),s[c].c(),de(s[c],1),s[c].m(t.parentNode,t))}for(le(),c=r.length;c<s.length;c+=1)o(c);ue()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)de(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)fe(s[e]);n=!1},d(e){x(s,e),e&&y(t)}}}function co(e){let t;return{c(){t=I("No instances found.")},m(e,n){b(e,t,n)},d(e){e&&y(t)}}}function io(e){let t,n;return t=new We({props:{$$slots:{default:[co]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,n){const r={};2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function ao(e){let t,n,r,s,o,c,i,a;t=new xe({}),r=new xe({props:{$$slots:{default:[uo]},$$scope:{ctx:e}}});let l=e[3][e[0]][e[23]],u=[];for(let t=0;t<l.length;t+=1)u[t]=ho(Us(e,l,t));const d=e=>fe(u[e],1,1,(()=>{u[e]=null}));return{c(){me(t.$$.fragment),n=S(),me(r.$$.fragment),s=S(),o=k("hr"),c=S();for(let e=0;e<u.length;e+=1)u[e].c();i=O()},m(e,l){he(t,e,l),b(e,n,l),he(r,e,l),b(e,s,l),b(e,o,l),b(e,c,l);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(e,l);b(e,i,l),a=!0},p(e,t){const n={};if(4&t[0]|2&t[1]&&(n.$$scope={dirty:t,ctx:e}),r.$set(n),111&t[0]){let n;for(l=e[3][e[0]][e[23]],n=0;n<l.length;n+=1){const r=Us(e,l,n);u[n]?(u[n].p(r,t),de(u[n],1)):(u[n]=ho(r),u[n].c(),de(u[n],1),u[n].m(i.parentNode,i))}for(le(),n=l.length;n<u.length;n+=1)d(n);ue()}},i(e){if(!a){de(t.$$.fragment,e),de(r.$$.fragment,e);for(let e=0;e<l.length;e+=1)de(u[e]);a=!0}},o(e){fe(t.$$.fragment,e),fe(r.$$.fragment,e),u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)fe(u[e]);a=!1},d(e){ge(t,e),e&&y(n),ge(r,e),e&&y(s),e&&y(o),e&&y(c),x(u,e),e&&y(i)}}}function lo(e){let t,n=e[24].name+"";return{c(){t=I(n)},m(e,n){b(e,t,n)},p(e,r){4&r[0]&&n!==(n=e[24].name+"")&&A(t,n)},d(e){e&&y(t)}}}function uo(e){let t,n;return t=new We({props:{$$slots:{default:[lo]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,n){const r={};4&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function fo(e){let t;return{c(){t=k("a"),t.textContent="cloudflare",_(t,"href","https://libredirect.github.io/docs.html#instances"),_(t,"target","_blank"),_(t,"rel","noopener noreferrer"),W(t,"color","red"),_(t,"class","svelte-f3h0n0")},m(e,n){b(e,t,n)},d(e){e&&y(t)}}}function po(e){let t;return{c(){t=k("span"),t.textContent="chosen",W(t,"color","grey")},m(e,n){b(e,t,n)},d(e){e&&y(t)}}}function $o(e){let t,n,r=e[5][e[27]].value+"";return{c(){t=k("span"),n=I(r),W(t,"color",e[5][e[27]].color)},m(e,r){b(e,t,r),w(t,n)},p(e,s){45&s[0]&&r!==(r=e[5][e[27]].value+"")&&A(n,r),45&s[0]&&W(t,"color",e[5][e[27]].color)},d(e){e&&y(t)}}}function mo(e){let t,n,r,s,o,c,i,a,l,u,d,f,p,$=e[27]+"",m=e[6].cloudflare.includes(e[27]),h=e[1][e[0]].includes(e[27]),g=m&&fo(),v=h&&po(),x=e[5]&&e[5][e[27]]&&$o(e);function C(){return e[20](e[27])}return u=new qe({}),{c(){t=k("span"),n=k("a"),r=I($),o=S(),g&&g.c(),c=S(),v&&v.c(),i=S(),x&&x.c(),a=S(),l=k("button"),me(u.$$.fragment),_(n,"href",s=e[27]),_(n,"target","_blank"),_(n,"rel","noopener noreferrer"),_(n,"class","svelte-f3h0n0"),_(l,"class","add svelte-f3h0n0"),_(l,"aria-label","Add instance")},m(e,s){b(e,t,s),w(t,n),w(n,r),w(t,o),g&&g.m(t,null),w(t,c),v&&v.m(t,null),w(t,i),x&&x.m(t,null),b(e,a,s),b(e,l,s),he(u,l,null),d=!0,f||(p=T(l,"click",C),f=!0)},p(o,a){e=o,(!d||13&a[0])&&$!==($=e[27]+"")&&A(r,$),(!d||13&a[0]&&s!==(s=e[27]))&&_(n,"href",s),77&a[0]&&(m=e[6].cloudflare.includes(e[27])),m?g||(g=fo(),g.c(),g.m(t,c)):g&&(g.d(1),g=null),15&a[0]&&(h=e[1][e[0]].includes(e[27])),h?v||(v=po(),v.c(),v.m(t,i)):v&&(v.d(1),v=null),e[5]&&e[5][e[27]]?x?x.p(e,a):(x=$o(e),x.c(),x.m(t,null)):x&&(x.d(1),x=null)},i(e){d||(de(u.$$.fragment,e),d=!0)},o(e){fe(u.$$.fragment,e),d=!1},d(e){e&&y(t),g&&g.d(),v&&v.d(),x&&x.d(),e&&y(a),e&&y(l),ge(u),f=!1,p()}}}function ho(e){let t,n,r,s;return t=new xe({props:{$$slots:{default:[mo]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment),n=S(),r=k("hr")},m(e,o){he(t,e,o),b(e,n,o),b(e,r,o),s=!0},p(e,n){const r={};111&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){s||(de(t.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),e&&y(r)}}}function go(e){let t,n,r=e[3][e[0]]&&e[3][e[0]][e[23]]&&e[3][e[0]][e[23]].length>0&&ao(e);return{c(){r&&r.c(),t=O()},m(e,s){r&&r.m(e,s),b(e,t,s),n=!0},p(e,n){e[3][e[0]]&&e[3][e[0]][e[23]]&&e[3][e[0]][e[23]].length>0?r?(r.p(e,n),13&n[0]&&de(r,1)):(r=ao(e),r.c(),de(r,1),r.m(t.parentNode,t)):r&&(le(),fe(r,1,1,(()=>{r=null})),ue())},i(e){n||(de(r),n=!0)},o(e){fe(r),n=!1},d(e){r&&r.d(e),e&&y(t)}}}function vo(e){let t,n,r=e[10].frontends[e[0]].instanceList&&e[3]&&e[6]&&Zs(e);return{c(){r&&r.c(),t=O()},m(e,s){r&&r.m(e,s),b(e,t,s),n=!0},p(e,n){e[10].frontends[e[0]].instanceList&&e[3]&&e[6]?r?(r.p(e,n),1097&n[0]&&de(r,1)):(r=Zs(e),r.c(),de(r,1),r.m(t.parentNode,t)):r&&(le(),fe(r,1,1,(()=>{r=null})),ue())},i(e){n||(de(r),n=!0)},o(e){fe(r),n=!1},d(e){r&&r.d(e),e&&y(t)}}}function wo(e){let t,n;return e<5e3?(t=`${e}ms`,e<=1e3?n="green":e<=2e3&&(n="orange")):e>=5e3?(n="red",5e3==e&&(t="5000ms+"),e>5e3&&(t="Error: "+(e-5e3))):(n="red",t="Server not found"),{color:n,value:t}}function bo(e,t,n){let r;const s=window.browser||window.chrome;let o,c,{selectedService:i}=t,{selectedFrontend:a}=t;const l=ze.subscribe((e=>n(1,o=e))),u=He.subscribe((e=>n(2,c=e)));let d,f;U((()=>{l(),u()}));let p,$,m=[];function h(){const e=$t.protocolHost(new URL($));o[a].includes(e)||(o[a].push(e),n(7,$=""),ze.set(o))}D((async()=>{n(6,d=await $t.getBlacklist(o)),n(3,f=await $t.getList(o)),n(5,p=await $t.getPingCache())}));let g=!1,v=!1;return e.$$set=e=>{"selectedService"in e&&n(14,i=e.selectedService),"selectedFrontend"in e&&n(0,a=e.selectedFrontend)},e.$$.update=()=>{16388&e.$$.dirty[0]&&n(10,r=c.services[i]),27&e.$$.dirty[0]&&(n(4,m=[]),o[a]&&m.push(...o[a]),f&&f[a]&&m.push(...f[a].clearnet),n(4,m=[...new Set(m)])),32&e.$$.dirty[0]&&p&&s.storage.local.set({pingCache:p})},[a,o,c,f,m,p,d,$,g,v,r,s,function(e){if(f[a])for(const t in f[a])if(f[a][t].includes(e))return!1;return!0},h,i,async()=>{n(9,v=!0),n(5,p={});for(const e of m){n(5,p[e]={color:"lightblue",value:"pinging..."},p);const t=await $t.ping(e);n(5,p[e]=wo(t),p)}n(9,v=!1)},async()=>{n(8,g=!0);const e=f[a].clearnet;for(const t of o[a]){const n=e.indexOf(t);n>=0&&e.splice(n,1)}const t=await $t.autoPickInstance(e);o[a].push(t),ze.set(o),n(8,g=!1)},function(e){$=e,n(7,$)},e=>"Enter"===e.key&&h(),e=>{const t=o[a].indexOf(e);t>-1&&(o[a].splice(t,1),ze.set(o))},e=>{o[a]&&(o[a].includes(e)||(o[a].push(e),ze.set(o)))}]}class yo extends we{constructor(e){super(),ve(this,e,bo,vo,c,{selectedService:14,selectedFrontend:0},null,[-1,-1])}}function xo(e){let t;function n(e,t){return"svgMono"==e[2]?Co:ko}let r=n(e),s=r(e);return{c(){s.c(),t=O()},m(e,n){s.m(e,n),b(e,t,n)},p(e,o){r===(r=n(e))&&s?s.p(e,o):(s.d(1),s=r(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&y(t)}}}function ko(e){let t,n,r;return{c(){t=k("img"),a(t.src,n=`/assets/images/${e[0].value}-icon.${e[2]}`)||_(t,"src",n),_(t,"alt",r=e[0].label)},m(e,n){b(e,t,n)},p(e,s){5&s&&!a(t.src,n=`/assets/images/${e[0].value}-icon.${e[2]}`)&&_(t,"src",n),1&s&&r!==(r=e[0].label)&&_(t,"alt",r)},d(e){e&&y(t)}}}function Co(e){let t;function n(e,t){return"dark"==e[1]?So:Io}let r=n(e),s=r(e);return{c(){s.c(),t=O()},m(e,n){s.m(e,n),b(e,t,n)},p(e,o){r===(r=n(e))&&s?s.p(e,o):(s.d(1),s=r(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&y(t)}}}function Io(e){let t,n,r;return{c(){t=k("img"),a(t.src,n=`/assets/images/${e[0].value}-icon.svg`)||_(t,"src",n),_(t,"alt",r=e[0].label)},m(e,n){b(e,t,n)},p(e,s){1&s&&!a(t.src,n=`/assets/images/${e[0].value}-icon.svg`)&&_(t,"src",n),1&s&&r!==(r=e[0].label)&&_(t,"alt",r)},d(e){e&&y(t)}}}function So(e){let t,n,r;return{c(){t=k("img"),a(t.src,n=`/assets/images/${e[0].value}-icon-light.svg`)||_(t,"src",n),_(t,"alt",r=e[0].label)},m(e,n){b(e,t,n)},p(e,s){1&s&&!a(t.src,n=`/assets/images/${e[0].value}-icon-light.svg`)&&_(t,"src",n),1&s&&r!==(r=e[0].label)&&_(t,"alt",r)},d(e){e&&y(t)}}}function Oo(t){let n,r=t[2]&&xo(t);return{c(){r&&r.c(),n=O()},m(e,t){r&&r.m(e,t),b(e,n,t)},p(e,[t]){e[2]?r?r.p(e,t):(r=xo(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&y(n)}}}function To(e,t,n){let r,s,o,{details:c}=t;const i=ze.subscribe((e=>n(3,s=e))),a=He.subscribe((e=>n(4,o=e)));let l;return U((()=>{i(),a()})),e.$$set=e=>{"details"in e&&n(0,c=e.details)},e.$$.update=()=>{8&e.$$.dirty&&s&&("dark"==s.theme?n(1,l="dark"):"light"==s.theme?n(1,l="light"):window.matchMedia("(prefers-color-scheme: dark)").matches?n(1,l="dark"):n(1,l="light")),17&e.$$.dirty&&n(2,r=o.services[c.value].imageType)},[c,l,r,s,o]}class qo extends we{constructor(e){super(),ve(this,e,To,Oo,c,{details:0})}}function Lo(e){let t,n,r,s=(e[9].i18n.getMessage("service")||"Service")+"";return{c(){t=k("a"),n=I(s),_(t,"href",r=e[2].url),W(t,"text-decoration","underline"),_(t,"target","_blank"),_(t,"rel","noopener noreferrer")},m(e,r){b(e,t,r),w(t,n)},p(e,n){4&n[0]&&r!==(r=e[2].url)&&_(t,"href",r)},d(e){e&&y(t)}}}function _o(e){let t,n,r,s,o,c,i=e[30].label+"";return n=new qo({props:{details:e[30]}}),{c(){t=k("div"),me(n.$$.fragment),r=S(),s=I(i),_(t,"class",o="slot "+(!e[0][e[30].value].enabled&&"disabled")),_(t,"slot","item")},m(e,o){b(e,t,o),he(n,t,null),w(t,r),w(t,s),c=!0},p(e,r){const a={};1073741824&r[0]&&(a.details=e[30]),n.$set(a),(!c||1073741824&r[0])&&i!==(i=e[30].label+"")&&A(s,i),(!c||1073741825&r[0]&&o!==(o="slot "+(!e[0][e[30].value].enabled&&"disabled")))&&_(t,"class",o)},i(e){c||(de(n.$$.fragment,e),c=!0)},o(e){fe(n.$$.fragment,e),c=!1},d(e){e&&y(t),ge(n)}}}function Po(t){let n,r=(t[9].i18n.getMessage("searchService")||"Search Service")+"";return{c(){n=I(r)},m(e,t){b(e,n,t)},p:e,i:e,o:e,d(e){e&&y(n)}}}function Eo(e){let t,n,r,s,o=e[29].label+"";return t=new qo({props:{details:e[29]}}),{c(){me(t.$$.fragment),n=S(),r=I(o)},m(e,o){he(t,e,o),b(e,n,o),b(e,r,o),s=!0},p(e,n){const c={};536870912&n[0]&&(c.details=e[29]),t.$set(c),(!s||536870912&n[0])&&o!==(o=e[29].label+"")&&A(r,o)},i(e){s||(de(t.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),e&&y(r)}}}function Mo(e){let t,n,r,s,o;const c=[Eo,Po],i=[];function a(e,t){return e[4]?1:0}return n=a(e),r=i[n]=c[n](e),{c(){t=k("div"),r.c(),_(t,"class",s="slot "+(!e[0][e[29].value].enabled&&!e[4]&&"disabled")),_(t,"slot","selection")},m(e,r){b(e,t,r),i[n].m(t,null),o=!0},p(e,l){let u=n;n=a(e),n===u?i[n].p(e,l):(le(),fe(i[u],1,1,(()=>{i[u]=null})),ue(),r=i[n],r?r.p(e,l):(r=i[n]=c[n](e),r.c()),de(r,1),r.m(t,null)),(!o||536870929&l[0]&&s!==(s="slot "+(!e[0][e[29].value].enabled&&!e[4]&&"disabled")))&&_(t,"class",s)},i(e){o||(de(r),o=!0)},o(e){fe(r),o=!1},d(e){e&&y(t),i[n].d()}}}function Ao(t){let n;return{c(){n=k("div"),n.textContent="ðŸ®¦",W(n,"font-size","10px"),_(n,"slot","chevron-icon")},m(e,t){b(e,n,t)},p:e,d(e){e&&y(n)}}}function Ro(e){let t,n,r,o,c,i,a;return t=new We({props:{$$slots:{default:[Lo]},$$scope:{ctx:e}}}),o=new ws({props:{clearable:!1,class:"svelte_select",value:e[1],showChevron:!0,items:[...e[7].map(sc)],$$slots:{"chevron-icon":[Ao],selection:[Mo,({selection:e})=>({29:e}),({selection:e})=>[e?536870912:0]],item:[_o,({item:e})=>({30:e}),({item:e})=>[e?1073741824:0]]},$$scope:{ctx:e}}}),o.$on("change",e[11]),o.$on("pointerup",e[12]),o.$on("focus",e[13]),o.$on("blur",e[14]),{c(){me(t.$$.fragment),n=S(),r=k("div"),me(o.$$.fragment),_(r,"dir","ltr")},m(s,l){he(t,s,l),b(s,n,l),b(s,r,l),he(o,r,null),c=!0,i||(a=[T(r,"click",e[15]),T(r,"keydown",null)],i=!0)},p(e,n){const r={};4&n[0]|1&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const s={};2&n[0]&&(s.value=e[1]),128&n[0]&&(s.items=[...e[7].map(sc)]),1610612753&n[0]|1&n[1]&&(s.$$scope={dirty:n,ctx:e}),o.$set(s)},i(e){c||(de(t.$$.fragment,e),de(o.$$.fragment,e),c=!0)},o(e){fe(t.$$.fragment,e),fe(o.$$.fragment,e),c=!1},d(e){ge(t,e),e&&y(n),e&&y(r),ge(o),i=!1,s(a)}}}function Wo(t){let n,r=(t[9].i18n.getMessage("enable")||"Enable")+"";return{c(){n=I(r)},m(e,t){b(e,n,t)},p:e,d(e){e&&y(n)}}}function Fo(e){let t,n,r,s;return t=new We({props:{$$slots:{default:[Wo]},$$scope:{ctx:e}}}),r=new Rt({props:{checked:e[3].enabled,onChange:e[16]}}),{c(){me(t.$$.fragment),n=S(),me(r.$$.fragment)},m(e,o){he(t,e,o),b(e,n,o),he(r,e,o),s=!0},p(e,n){const s={};1&n[1]&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};8&n[0]&&(o.checked=e[3].enabled),9&n[0]&&(o.onChange=e[16]),r.$set(o)},i(e){s||(de(t.$$.fragment,e),de(r.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),fe(r.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),ge(r,e)}}}function Bo(t){let n,r=(t[9].i18n.getMessage("showInPopup")||"Show in popup")+"";return{c(){n=I(r)},m(e,t){b(e,n,t)},p:e,d(e){e&&y(n)}}}function No(e){let t,n,r,s;return t=new We({props:{$$slots:{default:[Bo]},$$scope:{ctx:e}}}),r=new Rt({props:{checked:e[0].popupServices.includes(e[1]),onChange:e[17]}}),{c(){me(t.$$.fragment),n=S(),me(r.$$.fragment)},m(e,o){he(t,e,o),b(e,n,o),he(r,e,o),s=!0},p(e,n){const s={};1&n[1]&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};3&n[0]&&(o.checked=e[0].popupServices.includes(e[1])),3&n[0]&&(o.onChange=e[17]),r.$set(o)},i(e){s||(de(t.$$.fragment,e),de(r.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),fe(r.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),ge(r,e)}}}function zo(e){let t,n,r=(e[9].i18n.getMessage("frontend")||"Frontend")+"";return{c(){t=k("a"),n=I(r),_(t,"href",e[8]),W(t,"text-decoration","underline"),_(t,"target","_blank"),_(t,"rel","noopener noreferrer")},m(e,r){b(e,t,r),w(t,n)},p(e,n){256&n[0]&&_(t,"href",e[8])},d(e){e&&y(t)}}}function Ho(e){let t,n,r,s,o,c=e[30].label+"";return n=new Os({props:{details:e[30],selectedService:e[1]}}),{c(){t=k("div"),me(n.$$.fragment),r=S(),s=I(c),_(t,"class","slot"),_(t,"slot","item")},m(e,c){b(e,t,c),he(n,t,null),w(t,r),w(t,s),o=!0},p(e,t){const r={};1073741824&t[0]&&(r.details=e[30]),2&t[0]&&(r.selectedService=e[1]),n.$set(r),(!o||1073741824&t[0])&&c!==(c=e[30].label+"")&&A(s,c)},i(e){o||(de(n.$$.fragment,e),o=!0)},o(e){fe(n.$$.fragment,e),o=!1},d(e){e&&y(t),ge(n)}}}function jo(t){let n,r=(t[9].i18n.getMessage("search_frontend")||"Search Frontend")+"";return{c(){n=I(r)},m(e,t){b(e,n,t)},p:e,i:e,o:e,d(e){e&&y(n)}}}function Do(e){let t,n,r,s,o=e[29].label+"";return t=new Os({props:{details:e[29],selectedService:e[1]}}),{c(){me(t.$$.fragment),n=S(),r=I(o)},m(e,o){he(t,e,o),b(e,n,o),b(e,r,o),s=!0},p(e,n){const c={};536870912&n[0]&&(c.details=e[29]),2&n[0]&&(c.selectedService=e[1]),t.$set(c),(!s||536870912&n[0])&&o!==(o=e[29].label+"")&&A(r,o)},i(e){s||(de(t.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),e&&y(r)}}}function Uo(e){let t,n,r,s;const o=[Do,jo],c=[];function i(e,t){return e[5]?1:0}return n=i(e),r=c[n]=o[n](e),{c(){t=k("div"),r.c(),_(t,"class","slot"),_(t,"slot","selection")},m(e,r){b(e,t,r),c[n].m(t,null),s=!0},p(e,s){let a=n;n=i(e),n===a?c[n].p(e,s):(le(),fe(c[a],1,1,(()=>{c[a]=null})),ue(),r=c[n],r?r.p(e,s):(r=c[n]=o[n](e),r.c()),de(r,1),r.m(t,null))},i(e){s||(de(r),s=!0)},o(e){fe(r),s=!1},d(e){e&&y(t),c[n].d()}}}function Vo(t){let n;return{c(){n=k("div"),n.textContent="ðŸ®¦",W(n,"font-size","10px"),_(n,"slot","chevron-icon")},m(e,t){b(e,n,t)},p:e,d(e){e&&y(n)}}}function Zo(e){let t,n,r,o,c,i,a;return t=new We({props:{$$slots:{default:[zo]},$$scope:{ctx:e}}}),o=new ws({props:{clearable:!1,dir:"ltr",class:"svelte_select",value:e[3].frontend,showChevron:!0,items:[...e[6].map(oc)],$$slots:{"chevron-icon":[Vo],selection:[Uo,({selection:e})=>({29:e}),({selection:e})=>[e?536870912:0]],item:[Ho,({item:e})=>({30:e}),({item:e})=>[e?1073741824:0]]},$$scope:{ctx:e}}}),o.$on("change",e[18]),o.$on("pointerup",e[19]),o.$on("focus",e[20]),o.$on("blur",e[21]),{c(){me(t.$$.fragment),n=S(),r=k("div"),me(o.$$.fragment),_(r,"dir","ltr")},m(s,l){he(t,s,l),b(s,n,l),b(s,r,l),he(o,r,null),c=!0,i||(a=[T(r,"click",e[22]),T(r,"keydown",null)],i=!0)},p(e,n){const r={};256&n[0]|1&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const s={};8&n[0]&&(s.value=e[3].frontend),64&n[0]&&(s.items=[...e[6].map(oc)]),1610612770&n[0]|1&n[1]&&(s.$$scope={dirty:n,ctx:e}),o.$set(s)},i(e){c||(de(t.$$.fragment,e),de(o.$$.fragment,e),c=!0)},o(e){fe(t.$$.fragment,e),fe(o.$$.fragment,e),c=!1},d(e){ge(t,e),e&&y(n),e&&y(r),ge(o),i=!1,s(a)}}}function Go(t){let n,r=(t[9].i18n.getMessage("unsupportedIframesHandling")||"Unsupported embeds handling")+"";return{c(){n=I(r)},m(e,t){b(e,n,t)},p:e,d(e){e&&y(n)}}}function Jo(e){let t,n,r,s;return t=new We({props:{$$slots:{default:[Go]},$$scope:{ctx:e}}}),r=new Oe({props:{value:e[3].unsupportedUrls,onChange:e[23],values:[{value:"bypass",name:e[9].i18n.getMessage("bypass")||"Bypass"},{value:"block",name:e[9].i18n.getMessage("block")||"Block"}]}}),{c(){me(t.$$.fragment),n=S(),me(r.$$.fragment)},m(e,o){he(t,e,o),b(e,n,o),he(r,e,o),s=!0},p(e,n){const s={};1&n[1]&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};8&n[0]&&(o.value=e[3].unsupportedUrls),9&n[0]&&(o.onChange=e[23]),r.$set(o)},i(e){s||(de(t.$$.fragment,e),de(r.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),fe(r.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),ge(r,e)}}}function Qo(t){let n,r=(t[9].i18n.getMessage("redirectOnlyInIncognito")||"Redirect Only in Incognito")+"";return{c(){n=I(r)},m(e,t){b(e,n,t)},p:e,d(e){e&&y(n)}}}function Xo(e){let t,n,r,s;return t=new We({props:{$$slots:{default:[Qo]},$$scope:{ctx:e}}}),r=new Rt({props:{checked:e[3].redirectOnlyInIncognito,onChange:e[24]}}),{c(){me(t.$$.fragment),n=S(),me(r.$$.fragment)},m(e,o){he(t,e,o),b(e,n,o),he(r,e,o),s=!0},p(e,n){const s={};1&n[1]&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};8&n[0]&&(o.checked=e[3].redirectOnlyInIncognito),9&n[0]&&(o.onChange=e[24]),r.$set(o)},i(e){s||(de(t.$$.fragment,e),de(r.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),fe(r.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),ge(r,e)}}}function Yo(e){let t,n,r,s;return t=new xe({props:{$$slots:{default:[ec]},$$scope:{ctx:e}}}),r=new xe({props:{$$slots:{default:[nc]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment),n=S(),me(r.$$.fragment)},m(e,o){he(t,e,o),b(e,n,o),he(r,e,o),s=!0},p(e,n){const s={};9&n[0]|1&n[1]&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};1&n[1]&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i(e){s||(de(t.$$.fragment,e),de(r.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),fe(r.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),ge(r,e)}}}function Ko(t){let n,r=(t[9].i18n.getMessage("redirectGoogle")||"Redirect Google")+"";return{c(){n=I(r)},m(e,t){b(e,n,t)},p:e,d(e){e&&y(n)}}}function ec(e){let t,n,r,s;return t=new We({props:{$$slots:{default:[Ko]},$$scope:{ctx:e}}}),r=new Rt({props:{checked:e[3].redirectGoogle,onChange:e[25]}}),{c(){me(t.$$.fragment),n=S(),me(r.$$.fragment)},m(e,o){he(t,e,o),b(e,n,o),he(r,e,o),s=!0},p(e,n){const s={};1&n[1]&&(s.$$scope={dirty:n,ctx:e}),t.$set(s);const o={};8&n[0]&&(o.checked=e[3].redirectGoogle),9&n[0]&&(o.onChange=e[25]),r.$set(o)},i(e){s||(de(t.$$.fragment,e),de(r.$$.fragment,e),s=!0)},o(e){fe(t.$$.fragment,e),fe(r.$$.fragment,e),s=!1},d(e){ge(t,e),e&&y(n),ge(r,e)}}}function tc(t){let n,r,s=(t[9].i18n.getMessage("searchHint")||'Set LibRedirect as Default Search Engine. For how to do in chromium browsers, click\n          <a\n            href="https://libredirect.github.io/docs.html#search_engine_chromium"\n            target="_blank"\n            rel="noopener noreferrer"\n            >here\n          </a>.')+"";return{c(){n=new N(!1),r=O(),n.a=r},m(e,t){n.m(s,e,t),b(e,r,t)},p:e,d(e){e&&y(r),e&&n.d()}}}function nc(e){let t,n;return t=new We({props:{$$slots:{default:[tc]},$$scope:{ctx:e}}}),{c(){me(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,n){const r={};1&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function rc(e){let t,n,r,s,o,c,i,a,l,u,d,f,p,$,m,h,g,v,x,C,I,O,T,q,L,P;n=new xe({props:{$$slots:{default:[Ro]},$$scope:{ctx:e}}}),c=new xe({props:{$$slots:{default:[Fo]},$$scope:{ctx:e}}}),a=new xe({props:{$$slots:{default:[No]},$$scope:{ctx:e}}}),d=new xe({props:{$$slots:{default:[Zo]},$$scope:{ctx:e}}}),p=new Ws({props:{selectedService:e[1]}}),m=new xe({props:{$$slots:{default:[Jo]},$$scope:{ctx:e}}}),v=new xe({props:{$$slots:{default:[Xo]},$$scope:{ctx:e}}});let E="search"==e[1]&&Yo(e);return O=new yo({props:{selectedService:e[1],selectedFrontend:e[2].frontends[e[3].frontend].desktopApp&&"main_frame"!=e[3].redirectType?e[3].embedFrontend:e[3].frontend}}),q=new xe({}),{c(){t=k("div"),me(n.$$.fragment),r=S(),s=k("hr"),o=S(),me(c.$$.fragment),i=S(),me(a.$$.fragment),l=S(),u=k("div"),me(d.$$.fragment),f=S(),me(p.$$.fragment),$=S(),me(m.$$.fragment),h=S(),g=k("div"),me(v.$$.fragment),C=S(),E&&E.c(),I=S(),me(O.$$.fragment),T=S(),me(q.$$.fragment),_(g,"style",x=e[0].redirectOnlyInIncognito&&"pointer-events: none;opacity: 0.4;user-select: none;"),_(u,"style",L=!e[3].enabled&&"pointer-events: none;opacity: 0.4;user-select: none;")},m(e,y){b(e,t,y),he(n,t,null),w(t,r),w(t,s),w(t,o),he(c,t,null),w(t,i),he(a,t,null),w(t,l),w(t,u),he(d,u,null),w(u,f),he(p,u,null),w(u,$),he(m,u,null),w(u,h),w(u,g),he(v,g,null),w(u,C),E&&E.m(u,null),w(u,I),he(O,u,null),w(u,T),he(q,u,null),P=!0},p(e,t){const r={};151&t[0]|1&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};9&t[0]|1&t[1]&&(s.$$scope={dirty:t,ctx:e}),c.$set(s);const o={};3&t[0]|1&t[1]&&(o.$$scope={dirty:t,ctx:e}),a.$set(o);const i={};379&t[0]|1&t[1]&&(i.$$scope={dirty:t,ctx:e}),d.$set(i);const l={};2&t[0]&&(l.selectedService=e[1]),p.$set(l);const f={};9&t[0]|1&t[1]&&(f.$$scope={dirty:t,ctx:e}),m.$set(f);const $={};9&t[0]|1&t[1]&&($.$$scope={dirty:t,ctx:e}),v.$set($),(!P||1&t[0]&&x!==(x=e[0].redirectOnlyInIncognito&&"pointer-events: none;opacity: 0.4;user-select: none;"))&&_(g,"style",x),"search"==e[1]?E?(E.p(e,t),2&t[0]&&de(E,1)):(E=Yo(e),E.c(),de(E,1),E.m(u,I)):E&&(le(),fe(E,1,1,(()=>{E=null})),ue());const h={};2&t[0]&&(h.selectedService=e[1]),12&t[0]&&(h.selectedFrontend=e[2].frontends[e[3].frontend].desktopApp&&"main_frame"!=e[3].redirectType?e[3].embedFrontend:e[3].frontend),O.$set(h),(!P||8&t[0]&&L!==(L=!e[3].enabled&&"pointer-events: none;opacity: 0.4;user-select: none;"))&&_(u,"style",L)},i(e){P||(de(n.$$.fragment,e),de(c.$$.fragment,e),de(a.$$.fragment,e),de(d.$$.fragment,e),de(p.$$.fragment,e),de(m.$$.fragment,e),de(v.$$.fragment,e),de(E),de(O.$$.fragment,e),de(q.$$.fragment,e),P=!0)},o(e){fe(n.$$.fragment,e),fe(c.$$.fragment,e),fe(a.$$.fragment,e),fe(d.$$.fragment,e),fe(p.$$.fragment,e),fe(m.$$.fragment,e),fe(v.$$.fragment,e),fe(E),fe(O.$$.fragment,e),fe(q.$$.fragment,e),P=!1},d(e){e&&y(t),ge(n),ge(c),ge(a),ge(d),ge(p),ge(m),ge(v),E&&E.d(),ge(O),ge(q)}}}const sc=([e,t])=>({value:e,label:t.name}),oc=([e,t])=>({value:e,label:t.name});function cc(e,t,n){let r,s,o,c,i,a;u(e,Jt,(e=>n(26,a=e)));const l=window.browser||window.chrome;let d,f;const p=ze.subscribe((e=>n(0,d=e))),$=He.subscribe((e=>n(10,f=e)));U((()=>{p(),$()}));let m=a.hash.startsWith("#services:")?a.hash.split(":")[1]:"youtube",h=!1,g=!1;return e.$$.update=()=>{1026&e.$$.dirty[0]&&n(2,r=f.services[m]),3&e.$$.dirty[0]&&n(3,s=d[m]),12&e.$$.dirty[0]&&n(8,o=r.frontends[s.frontend].url),1024&e.$$.dirty[0]&&n(7,c=Object.entries(f.services)),4&e.$$.dirty[0]&&n(6,i=Object.entries(r.frontends))},[d,m,r,s,h,g,i,c,o,l,f,e=>{n(1,m=e.detail.value),window.location.hash=`services:${e.detail.value}`,n(4,h=!1)},()=>n(4,h=!1),()=>n(4,h=!0),()=>n(4,h=!1),()=>n(4,h=!0),e=>{n(3,s.enabled=e.target.checked,s),ze.set(d)},e=>{if(e.target.checked&&!d.popupServices.includes(m))d.popupServices.push(m);else if(d.popupServices.includes(m)){const e=d.popupServices.indexOf(m);-1!==e&&d.popupServices.splice(e,1)}ze.set(d)},e=>{n(3,s.frontend=e.detail.value,s),ze.set(d),n(5,g=!1)},()=>n(4,h=!1),()=>n(5,g=!0),()=>n(5,g=!1),()=>n(5,g=!0),e=>{n(3,s.unsupportedUrls=e.target.options[e.target.options.selectedIndex].value,s),ze.set(d)},e=>{n(3,s.redirectOnlyInIncognito=e.target.checked,s),ze.set(d)},e=>{n(3,s.redirectGoogle=e.target.checked,s),ze.set(d)}]}class ic extends we{constructor(e){super(),ve(this,e,cc,rc,c,{},null,[-1,-1])}}function ac(t){let n;return{c(){n=k("p"),n.textContent="Loading..."},m(e,t){b(e,n,t)},p:e,i:e,o:e,d(e){e&&y(n)}}}function lc(e){let t,n,r,s,o,c,i;n=new an({});const a=[dc,uc],l=[];function u(e,t){return 8&t&&(s=null),e[3].hash&&"#general"!=e[3].hash?(null==s&&(s=!!e[3].hash.startsWith("#services")),s?1:-1):0}return~(o=u(e,-1))&&(c=l[o]=a[o](e)),{c(){var s;t=k("div"),me(n.$$.fragment),r=S(),c&&c.c(),_(t,"class",(null==(s=e[4])?"":s)+" svelte-1xshtt5"),_(t,"dir",e[4]),_(t,"style",e[2])},m(e,s){b(e,t,s),he(n,t,null),w(t,r),~o&&l[o].m(t,null),i=!0},p(e,n){let r=o;o=u(e,n),o!==r&&(c&&(le(),fe(l[r],1,1,(()=>{l[r]=null})),ue()),~o?(c=l[o],c||(c=l[o]=a[o](e),c.c()),de(c,1),c.m(t,null)):c=null),(!i||4&n)&&_(t,"style",e[2])},i(e){i||(de(n.$$.fragment,e),de(c),i=!0)},o(e){fe(n.$$.fragment,e),fe(c),i=!1},d(e){e&&y(t),ge(n),~o&&l[o].d()}}}function uc(e){let t,n;return t=new ic({}),{c(){me(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function dc(e){let t,n;return t=new Gt({}),{c(){me(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ge(t,e)}}}function fc(e){let t,n,r,s;const o=[lc,ac],c=[];function i(e,t){return e[0]&&e[1]?0:1}return t=i(e),n=c[t]=o[t](e),{c(){n.c(),r=O()},m(e,n){c[t].m(e,n),b(e,r,n),s=!0},p(e,[s]){let a=t;t=i(e),t===a?c[t].p(e,s):(le(),fe(c[a],1,1,(()=>{c[a]=null})),ue(),n=c[t],n?n.p(e,s):(n=c[t]=o[t](e),n.c()),de(n,1),n.m(r.parentNode,r))},i(e){s||(de(n),s=!0)},o(e){fe(n),s=!1},d(e){c[t].d(e),e&&y(r)}}}function pc(e,t,n){let r;u(e,Jt,(e=>n(3,r=e)));const s=window.browser||window.chrome;let o;const c=ze.subscribe((e=>{e&&(n(0,o=e),s.storage.local.set({options:e}))}));let i;const a=He.subscribe((e=>n(1,i=e)));let l;U((()=>{c(),a()})),D((async()=>{let e=await $t.getOptions();e||(await It.initDefaults(),e=await $t.getOptions()),ze.set(e),He.set(await $t.getConfig())}));const d=["ar","iw","ku","fa","ur"].includes(s.i18n.getUILanguage())?"rtl":"ltr";return document.body.dir=d,e.$$.update=()=>{1&e.$$.dirty&&o&&n(2,l=$t.style(o,window))},[o,i,l,r,d]}const $c=new class extends we{constructor(e){super(),ve(this,e,pc,fc,c,{})}}({target:document.body});return $c}();
//# sourceMappingURL=bundle.js.map

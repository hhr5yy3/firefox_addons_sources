"use strict";(globalThis.webpackChunkgroup_speed_dial=globalThis.webpackChunkgroup_speed_dial||[]).push([[992],{936:(e,t,a)=>{a.d(t,{runTutorial:()=>ae});var r=a(5471),s=a(6499),i=a(97),o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-app",{attrs:{id:"inspire"}},[t("v-app-bar",{attrs:{app:"",absolute:"","clipped-left":"",color:""}},[t("v-toolbar-title",{staticClass:"ml-0 d-flex align-center"},[t("v-icon",[e._v("$app_icon_48")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"welcome_header",expression:"'welcome_header'"}],staticClass:"hidden-xs-and-down ml-4"})],1),e._v(" "),t("draggable_top")],1),e._v(" "),t("v-main",{staticClass:"fill-height pl-0"},[t("v-container",{staticClass:"fill-height align-content-start pa-0",attrs:{fluid:""}},[t("v-stepper",{staticClass:"fill-height overflow-auto d-flex flex-column",attrs:{flat:"","alt-labels":"","non-linear":"",width:"100%"},model:{value:e.welcomeStep,callback:t=>{e.welcomeStep=t},expression:"welcomeStep"}},[t("v-stepper-header",[t("v-stepper-step",{attrs:{step:1,editable:""}},[e._v(e._s(e.tr("welcome_setup")))]),e._v(" "),t("v-divider"),e._v(" "),t("v-stepper-step",{attrs:{step:2,editable:""}},[e._v(e._s(e.tro("import_data_from",{column:!1})))]),e._v(" "),t("v-divider"),e._v(" "),t("v-stepper-step",{attrs:{step:3,editable:""}},[e._v(e._s(e.tr("op_help")))])],1),e._v(" "),t("v-stepper-items",[t("v-stepper-content",{attrs:{step:"1"}},[t("basic_setup")],1),e._v(" "),t("v-stepper-content",{attrs:{step:"2"}},[t("import_setup",{on:{data_imported:t=>{e.dataImported=!0}}})],1),e._v(" "),t("v-stepper-content",{attrs:{step:"3"}},[t("help_setup")],1)],1)],1)],1)],1),e._v(" "),t("v-footer",{attrs:{app:"",absolute:"",outlined:""}},[t("div",{staticClass:"d-flex",staticStyle:{width:"100%"}},[e.isFirstStep?e._e():t("v-btn",{attrs:{"x-large":"",color:""},on:{click:t=>{e.welcomeStep--}}},[t("v-icon",{attrs:{left:""}},[e._v("fa-caret-left")]),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"label_back",expression:"'label_back'"}]})],1),e._v(" "),t("v-spacer"),e._v(" "),e.isLastStep?t("v-btn",{attrs:{"x-large":"",color:"primary"},on:{click:e.finishTutorial}},[t("v-icon",{attrs:{left:""}},[e._v("fa-check-circle")]),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"title_got_it",expression:"'title_got_it'"}]})],1):e._e(),e._v(" "),t("v-spacer"),e._v(" "),e.isLastStep&&e.isAndroid?e._e():t("v-btn",{attrs:{"x-large":"",color:"primary",disabled:e.isLastStep},on:{click:t=>{e.welcomeStep++}}},[t("span",{directives:[{name:"tr",rawName:"v-tr",value:"label_next",expression:"'label_next'"}]}),t("v-icon",{attrs:{right:""}},[e._v("fa-caret-right")])],1)],1)])],1)};o._withStripped=!0;var n=a(3120),l=a(6346),c=a(4590),d=a(8495),p=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"initial_import"},[t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"import_data_from",expression:"'import_data_from'"}]}),e._v(" "),t("v-card-text",{},[t("v-row",{staticClass:"import_buttons",attrs:{dense:""},on:{click:t=>{e.isVisible=!0}}},[t("v-col",{attrs:{cols:"12",md:"6",sm:"12",title:e.cannotLoadBookmarks?e.tr("label_not_supported_by_browser"):""}},[t("v-btn",{attrs:{color:"secondary",disabled:e.cannotLoadBookmarks},on:{click:e.loadBookmarks}},[t("v-icon",{attrs:{left:""}},[e._v("fa-bookmark")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"load_bookmarks",expression:"'load_bookmarks'"}]})],1)],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6",sm:"12",title:e.cannotLoadTopPages?e.tr("label_not_supported_by_browser"):""}},[t("v-btn",{attrs:{color:"secondary",disabled:e.cannotLoadTopPages},on:{click:e.loadTopPages}},[t("v-icon",{attrs:{left:""}},[e._v("fa-history")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"load_top_pages",expression:"'load_top_pages'"}]})],1)],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[t("v-btn",{attrs:{color:"secondary"},on:{click:e.openOptionsImport}},[t("v-icon",{attrs:{left:""}},[e._v("fa-puzzle-piece")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr.cc",value:"o_import_other_addons",expression:"'o_import_other_addons'",modifiers:{cc:!0}}]})],1)],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[t("v-btn",{attrs:{color:"custom_blue"},on:{click:e.loginToAccount}},[t("v-icon",{attrs:{left:""}},[e._v("fa-cloud-download-alt")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr.cc",value:"login_login_create",expression:"'login_login_create'",modifiers:{cc:!0}}]})],1)],1)],1),e._v(" "),e.isVisible?t("tree_check_list",{staticStyle:{"max-height":"220px"},model:{value:e.treeData,callback:t=>{e.treeData=t},expression:"treeData"}}):e._e(),e._v(" "),t("v-card-actions",{staticClass:"d-flex justify-center"},[e.pagesCount||e.foldersCount?t("v-btn",{attrs:{color:"primary","x-large":"",block:""},on:{click:e.startImport}},[t("v-icon",{attrs:{left:""}},[e._v("fa-file-download")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:["import_pages_stats",e.pagesCount,e.foldersCount],expression:"['import_pages_stats', pagesCount, foldersCount]"}]})],1):e._e()],1)],1)],1)],1)],1)],1)};p._withStripped=!0;var v=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"tree_check_list flex-column"},[0===e.value.length?t("div",{directives:[{name:"tr",rawName:"v-tr",value:"label_no_data",expression:"'label_no_data'"}],staticClass:"tree_check_list_no_results"}):e._e(),e._v(" "),t("tree_check_list_branch",{on:{input:t=>e.$emit("input",t)},model:{value:e.value,callback:t=>{e.value=t},expression:"value"}})],1)};v._withStripped=!0;var _=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"tree_check_list_branch flex-column"},e._l(e.value,(a=>t("div",{staticClass:"tree_check_list_item flex-column"},[t("div",{staticClass:"flex"},[t("label",{staticClass:"flex flex-space-between tree_check_list_leaf"},[t("input",{attrs:{type:"checkbox"},domProps:{checked:!!a.checked!=!!a.isInverted},on:{input:t=>e.checkChange(a)}}),e._v(" "),a.icon||a.iconStyle?t("img",{style:a.iconStyle,attrs:{src:a.icon,alt:""}}):e._e(),e._v(" "),t("span",[e._v(e._s(a.name))])]),e._v(" "),a.smallName?t("a",{staticClass:"tree_check_list_small_name",attrs:{href:a.smallName.url,target:"_blank"}},[e._v(e._s(a.smallName.name))]):e._e()]),e._v(" "),t("div",{staticClass:"tree_check_list_nested_branch"},[a.children&&a.children.length>0?t("tree_check_list_branch",{attrs:{__internal_parents:[...e.__internal_parents||[],a]},model:{value:a.children,callback:t=>{e.$set(a,"children",t)},expression:"item.children"}}):e._e()],1)]))),0)};_._withStripped=!0;var m=a(3986);const u=r.default.extend({name:"tree_check_list_branch",props:{value:{type:Array,required:!0},__internal_parents:Array},data:()=>({}),created(){},computed:{},methods:{checkChange(e){e.checked=!e.checked;const t=e.isInverted?!e.checked:e.checked;e.children&&(e.children=(0,m.X$)(e.children,"children",{map:e=>(e.checked=t,e)})),t&&this.__internal_parents?.forEach((e=>e.checked=t)),this.$emit("input",this.value)}}});var h=a(4486);const g=(0,h.A)(u,_,[],!1,null,"77954880",null).exports,w=r.default.extend({name:"tree_check_list",components:{tree_check_list_branch:g},props:{value:{type:Array,required:!0}},data:()=>({}),created(){},methods:{}});const f=(0,h.A)(w,v,[],!1,null,"2c2df9c4",null).exports;var y=a(6672),k=a(4468);var b=a(4323),x=a(3694),S=a(7879),C=a(4069),O=a(6801),E=a(9501),I=a(6419),N=a(2846),T=a(7319),D=a(8032),z=a(779),P=a(519),$=a(7137);const L=r.default.extend({name:"initial_import",components:{tree_check_list:f},props:{},data:()=>({cannotLoadBookmarks:C.m0,cannotLoadTopPages:C.m0,isVisible:!1,treeData:Array()}),watch:{},computed:{foldersCount(){return(0,m.my)(this.treeData,"children",(e=>!!e.children&&e.checked),{skipNestedFalsy:!1})},pagesCount(){return(0,m.my)(this.treeData,"children",(e=>e.checked&&(!e.children||!e.children.length)),{skipNestedFalsy:!1})}},methods:{tr:c.tr,async startImport(){let e=(0,m.X$)(this.treeData,"children",{filter:e=>e.checked,map:(e,t)=>{const a=(0,b.WR)(e);return a.children=t,a}});for(;1===e.length&&e[0].children;)e=e[0].children;const t=[];let a=0;const r=e=>{const s=e=>!!e.children,i=e.children||[],o=a++,n=(0,T.$)({id:o,name:(l=e.name,d=o,(l||"").trim()||(0,c.ZB)("group_generated_name",d)),cols:4,rows:3,dials:[]});var l,d;return t.push(n),n.dials=i.map(((e,t)=>new(s(e)?E.O:I.O)(t,o,{url:s(e)?`#${r(e).id}`:e.value,name:e.name,created:(0,x.Sy)()+t-1e3}))),n};r({children:e,name:(0,c.tr)("default_home_group_name"),value:"",checked:!0}),t.forEach((e=>{const t=e.dials.length;for(let a=4;a<=50&&(e.cols=Math.min(20,a),e.rows=Math.min(50,a-1),!(e.cols*e.rows>=t));a++);if(e.cols>=8)e.cols=8,e.rows=Math.ceil(t/8),e.dynamic={width:300,height:225};else for(;e.dials.length<e.rows*e.cols;)e.dials.push({})})),t.at(0).iconId=37,await N.M.action("importData",{groups:t,replaceExisting:!0,dontUpdateVersion:!0},(0,c.tr)("import_done_text")),this.$emit("data_imported")},async loadBookmarks(e){await(0,$.x)("bookmarks");const t=await browser.bookmarks.getTree();this.treeData=(0,m.X$)(t,"children",{filter:e=>"folder"===e.type||"bookmark"===e.type&&!!e.url&&!e.url.startsWith("about:")&&!e.url.startsWith("moz-extension://"),map:(e,t)=>({children:t,checked:!t||0!==t.length,icon:"folder"===e.type?"svg/folder.svg":P.mv,iconStyle:"folder"!==e.type&&S.H.isDark?"filter: invert(1)":"",name:e.title||e.url||"",value:e.url,smallName:e.url?{name:(0,y.lX)(e.url,!0)||e.url,url:e.url}:void 0})})},async loadTopPages(e){await D.O.askForPermission();const t=await browser.topSites.get({includeFavicon:!0,newtab:!0,limit:100}).catch((()=>[]));this.treeData=t.map((e=>({checked:!0,name:e.title||e.url,value:e.url,icon:P.mv,iconStyle:S.H.isDark?"filter: invert(1)":"",smallName:{name:(0,y.lX)(e.url,!0),url:e.url}})))},async openOptionsImport(){await(0,k.h)(z.g.OptionsImport3rdParty)},loginToAccount(){(0,O._z)({type:"sync",force:!0,withRedirect:!0,replaceLocal:!0}),(0,l.Q)(this.$el,{type:"close"})}}});const A=(0,h.A)(L,p,[],!1,null,"48cb1e1c",null).exports;var F=function(){var e=this,t=e._self._c;return t("div",[t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"welcome_pick_color",expression:"'welcome_pick_color'"}]}),e._v(" "),t("v-card-text",[t("v-radio-group",{staticClass:"mt-0",attrs:{mandatory:"","hide-details":""},model:{value:e.theme,callback:t=>{e.theme=t},expression:"theme"}},[t("v-radio",{attrs:{label:e.tr("theme_light"),value:"white"}}),e._v(" "),t("v-radio",{staticClass:"font-weight-bold",attrs:{label:e.tr("theme_dark"),value:""}})],1)],1)],1)],1)],1),e._v(" "),t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"welcome_home_group",expression:"'welcome_home_group'"}],staticStyle:{"font-size":"1rem"}}),e._v(" "),t("v-card-text",[t("v-btn",{attrs:{color:"secondary"},on:{click:e.editCurrentGroup}},[t("v-icon",{attrs:{left:""}},[e._v("fa-edit")]),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"cm_edit_group",expression:"'cm_edit_group'"}]})],1)],1)],1)],1),e._v(" "),t("v-col",{attrs:{cols:"12",sm:"12"}})],1)],1)};F._withStripped=!0;var B=a(2901),H=a(7743),M=a(3943),U=a(2221);const R={name:"basic_setup",props:{},data:()=>({theme:U.lw.TEMPLATE_COLOR||M.z.dark}),watch:{theme(e){const t=e===M.z.light?M.z.light:M.z.dark;B.Q.update(t),U.KY.update((e=>(e.TEMPLATE_COLOR=t,e))),S.H.toggle(t===M.z.dark)}},methods:{tr:c.tr,editCurrentGroup(){(0,H.c)(N.M.GROUPS[0].id)}}};const G=(0,h.A)(R,F,[],!1,null,null,null).exports;var Q=function(){var e=this,t=e._self._c;return t("div",[t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"op_help_introduction",expression:"'op_help_introduction'"}]}),e._v(" "),t("v-card-text",{staticClass:"d-flex align-center subtitle-1"},[t("v-icon",{staticClass:"red--text",attrs:{left:""}},[e._v("fab fa-youtube")]),e._v(" "),t("a",{directives:[{name:"tr",rawName:"v-tr",value:"welcome_watch_video",expression:"'welcome_watch_video'"}],attrs:{href:e.LINK_YOUTUBE_INTRO,target:"_blank"}})],1)],1)],1)],1),e._v(" "),t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"online_help",expression:"'online_help'"}]}),e._v(" "),t("v-card-text",{staticClass:"d-flex align-center subtitle-1"},[t("v-icon",{staticClass:"blue--text",attrs:{left:""}},[e._v("fa-globe-americas")]),e._v(" "),t("a",{directives:[{name:"tr",rawName:"v-tr",value:"online_help_info",expression:"'online_help_info'"}],attrs:{href:e.GITHUB_WIKI,target:"_blank"}})],1)],1)],1)],1),e._v(" "),t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"privacy_info",expression:"'privacy_info'"}]}),e._v(" "),t("v-card-text",[t("p",{directives:[{name:"tr",rawName:"v-tr",value:["privacy_info_head",e.HOST],expression:"['privacy_info_head', HOST]"}]}),e._v(" "),t("p",{directives:[{name:"tr",rawName:"v-tr",value:"privacy_info_body_1",expression:"'privacy_info_body_1'"}]}),e._v(" "),t("p",{directives:[{name:"tr",rawName:"v-tr",value:"privacy_info_body_2",expression:"'privacy_info_body_2'"}]})])],1)],1)],1)],1)};Q._withStripped=!0;var V=a(9074);const W={name:"help_setup",props:{},data:()=>({HOST:V.jg,LINK_YOUTUBE_INTRO:V.Y6,GITHUB_WIKI:V.XO})};const X=(0,h.A)(W,Q,[],!1,null,null,null).exports;var K=a(5941),j=a(6683),Y=a(4623),Z=a(7644),q=a(7104);const J=r.default.extend({name:"tutorial_modal",props:{},components:{help_setup:X,basic_setup:G,import_setup:A,Draggable_top:n.A},data:()=>({env:q._,isAndroid:C.m0,welcomeStep:1,dataImported:!1}),watch:{welcomeStep(e){this.isLastStep&&(0,l.Q)(this.$el,{type:"changeOverlayCloseOnClick",value:!0})}},async created(){await U.j_,U.lw.TEMPLATE_COLOR===M.z.dark&&await S.H.toggle(!0)},beforeDestroy(){},mounted(){},computed:{isFirstStep(){return 1===this.welcomeStep},isLastStep(){return 3===this.welcomeStep}},methods:{tr:c.tr,tro:d.e,finishTutorial(){this.closeEditor()},save(){},async closeEditor(){await this.importExamplesGroup(),await(0,K.w)().then((e=>{e.refreshAllDials(j.Up.REFRESH_MISSING)})),(0,l.Q)(this.$el,{type:"close"})},async importExamplesGroup(){const e=new Y.Y(await(await fetch("dial/tutorial/example.group.json")).json());e.id=N.M.getNewGroupId(),S.H.isDark||(e.background.value="radial-gradient(ellipse, #FFFFFF, #7FB6FF)",e.color=void 0),C.m0&&(e.dials=e.dials.filter((e=>!e.isSessionDial()&&!e.isTopSitesDial())));const t=N.M.cloneGroups(),a=t.at(0);t.splice(1,0,e),a.dials.at(0).isEmptyDial()&&a.replaceDial((0,Z._)(0,{name:"Examples",url:`#${e.id}`,created:1674724069,size:0,type:1,visual:{noTitle:!1,padding:0}},a.id),0),await N.M.action("importData",{groups:t,replaceExisting:!0,dontUpdateVersion:!0},(0,c.tr)("import_done_text"))}}});const ee=(0,h.A)(J,o,[],!1,null,null,null).exports;var te=a(9225);async function ae(){const e=new r.default({el:(0,s.Q)(document.createElement("div"),{width:900,height:720,closeOnOverlayClick:!1,closeOnESC:!1,onClose(){te.m.set(1),e.$destroy()}}).node,vuetify:(await(0,i.X)())(),render:e=>e(ee,{})})}},4468:(e,t,a)=>{a.d(t,{h:()=>o});var r=a(779),s=a(7302),i=a(8408);const o=e=>(0,i.K)(`${(0,s.Z)("popup/popup.html")}#${r.g[e]}`,{inNewTab:!0,active:!0,nextToCurrent:!0})},779:(e,t,a)=>{var r;a.d(t,{g:()=>r}),(e=>{e[e.Search=0]="Search",e[e.OptionsGeneral=1]="OptionsGeneral",e[e.OptionsDials=2]="OptionsDials",e[e.OptionsGroups=3]="OptionsGroups",e[e.OptionsBackground=4]="OptionsBackground",e[e.OptionsContextMenu=5]="OptionsContextMenu",e[e.OptionsThumbnails=6]="OptionsThumbnails",e[e.OptionsShortcuts=7]="OptionsShortcuts",e[e.OptionsSynchronization=8]="OptionsSynchronization",e[e.OptionsImportBackup=9]="OptionsImportBackup",e[e.OptionsImport3rdParty=10]="OptionsImport3rdParty",e[e.StorageInfo=11]="StorageInfo",e[e.About=12]="About",e[e.Upgrade=13]="Upgrade"})(r||(r={}))},3986:(e,t,a)=>{a.d(t,{X$:()=>s,my:()=>i});var r=a(4323);function s(e,t,{filter:a,map:r}){const i=[];for(let o=0;o<e.length;o++){const n=e[o];if(a&&!a(n))continue;const l=n[t],c=l?s(l,t,{filter:a,map:r}):void 0;i.push(r(n,c))}return i}function i(e,t,a,{skipNestedFalsy:i=!0}={}){let o=0;return s(e,t,{map:r.lQ,filter:e=>{const t=a(e);return t&&o++,!i||t}}),o}},7879:(e,t,a)=>{a.d(t,{H:()=>o});var r=a(910),s=a(4323),i=a(1550);const o=new class{isDarkPromise;dataStore;_value=i.Uy.light;_isDark=!1;_callbacks=new Array;get value(){return this._value}get isDark(){return this._isDark}get isSystem(){return this._value===i.Uy.system}set isSystem(e){this.dataStore.set(e?i.Uy.system:(0,i.Rl)(this._isDark))}constructor(e=s.lQ,{prefName:t="_u_dark_theme_switch"}={}){this.dataStore=new r.F(t,(()=>i.Uy.light),{storageArea:"local"}),this.dataStore.addOnChangeListener((async t=>{const a=await this.updateDarkValue(t.newValue);e(a)})),this.updateDarkValue().then(e)}addCallback(e){this._callbacks.push(e)}async toggle(e){const t=(0,i.Rl)((0,s.Lm)(e)?e:!this._isDark);return await this.dataStore.set(t),await this.updateDarkValue(t)}async updateDarkValue(e=this.dataStore.get()){return this.isDarkPromise=(async()=>{this._value=await e;const t=this._isDark=Boolean(this._value===i.Uy.system?window.matchMedia?.(i.Co).matches:this._value);return this._callbacks.forEach((e=>e(t))),t})()}}},7104:(e,t,a)=>{a.d(t,{_:()=>r});const r=Object.freeze({$IS_FIREFOX:!0,$IS_CHROME:!1,$IS_CHROMIUM:!1,$IS_THUNDERBIRD:!1,$IS_EDGE:!1,$IS_WEB:!1,$IS_EXT:!0,$IS_NODE:!1,$IS_TEST:!1,$IS_DEV:!1,$IS_PROD:!0})},6499:(e,t,a)=>{a.d(t,{Q:()=>w});var r=a(6004),s=a(3091),i=a(4323),o=a(6690);var n=a(7302),l=a(1471),c=a(910),d=a(9598),p=a(8698),v=a(6346),_=a(1374),m=a(1181),u=a(9100),h=a(4590),g=a(4069);function w(e,{width:t=800,height:a=600,draggableStyle:w="",onClose:f=i.lQ,appendToBody:y=!0,rememberPositionKey:k="",closableOverlay:b=!0,overlayBackground:x="rgba(0, 0, 0, 0.3)",closeOnOverlayClick:S=!0,closeOnESC:C=!0}){const O={get node(){return e},get overlayNode(){return $},minimize:async function(e){G("0"),D.style.transition="top 550ms",D.classList.add("pointer_all"),D.title=(0,h.tr)("label_restore");const t=F.getY();F.setPosition(void 0,window.innerHeight-64),D.addEventListener("mousedown",(0,m.do)(A=()=>{G("100%"),D.classList.remove("pointer_all"),D.title="",(0,i.BK)(250).then((()=>D.style.removeProperty("transition"))),F.setPosition(void 0,t),e?.()}),{capture:!0,once:!0})},maximize:async function(){D.style.transition="top 250ms, left 250ms, width 250ms, height 250ms";F.setPosition(40,40),R.setPosition(window.innerWidth-80,window.innerHeight-80),await(0,i.BK)(250),D.style.removeProperty("transition")},closeModal:()=>{$.isConnected&&($.remove(),f(),(0,i.XB)(L),window.removeEventListener("keydown",E),g.m0&&document.body.focus({preventScroll:!0}))}},E=(0,l.ak)(O.closeModal);C&&window.addEventListener("keydown",E);const I=`\nz-index: 20;\nwidth: ${b?"100%":"0"};\nheight: 100%;\nbackground: ${x};\nposition: fixed;\ntop: 0;\nleft: 0;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\n`,N=`\ndisplay: flex;\nflex-direction: column;\nopacity: 0;\ntop: 0;\nleft: 0;\nposition: fixed;\nbackground: transparent;\nbox-shadow: rgba(0, 0, 0, 0.5) 0px 0px 5px;\nwidth: ${t}px;\nheight: ${a}px;\nmin-width: 320px;\nmin-height: 170px;\nmax-width: 100%;\nmax-height: 100%;\n/*border: 1px solid rgb(65, 65, 65);*/\n`,T=`\nz-index: 10;\ncursor: move;\nposition: absolute;\nwidth: 100%;\ntop: 0;\nleft: 0;\nheight: 15px;\n${w}\n`;let D;const z=new c.F(k,(()=>({}))),P=(0,p.U)(500),$=(0,d.z)("div",{"data-modal-overlay":1,style:I,handlers:{onmousedown:e=>{e.target===$&&($.onclick=e=>{e.target===$&&S&&O.closeModal()})}}},[D=(0,d.z)("div",{style:N},[(0,d.z)("div",{style:"\ndisplay: flex;\noverflow: auto;\nwidth: 100%;\nheight: 100%;\n"},[e]),(0,d.z)("draggable-top",{style:T,"data-draggable-top":0,handlers:{ondblclick:()=>{O.maximize()}}}),(0,d.z)("img",{style:"\nz-index: 10;\ncursor: nw-resize;\nwidth: 16px;\nheight: 16px;\nopacity: 0.8;\npadding: 2px;\nposition: absolute;\nright: 0;\nbottom: 0;\nuser-select: none;\n",src:(0,n.Z)("utils/svg/resize-corner.svg"),"data-resize-corner":0})])]),L=Array();let A=i.lQ;(0,v.Z)($,(e=>{switch(e.type){case"changeOpacity":$.style.opacity=e.opacity;break;case"changeTransparency":$.style.backgroundColor=e.isTransparent?"transparent":x;break;case"changeOverlayCloseOnClick":S=e.value;break;case"maximize":O.maximize();break;case"addOnCloseHandler":L.push(e.callback);break;case"removeOnCloseHandler":(0,_.E6)(L,e.callback);break;case"close":O.closeModal();break;case"minimize":O.minimize(e.restoreCallback);break;case"restore":A()}})),y&&document.body.appendChild($);const F=(0,s.$)(D,{autoLockFrames:!0,keepInWindow:250,dontMovePredicate:e=>e.target!==D&&!e.target.hasAttribute("data-draggable-top")});F.setCallback(((e,t,a)=>{(0,r.eC)(D,"top",(0,o.px)(t)),(0,r.eC)(D,"left",(0,o.px)(e)),k&&P((()=>z.update((({w:a,h:r})=>({x:e,y:t,w:a,h:r})))))}));const B=document.documentElement.clientWidth,H=document.documentElement.clientHeight,[M,U]=[B/2-t/2,H/2-a/2];F.setPosition((0,u.n)(0,B-t-10,M),(0,u.n)(0,H-a-10,U)),(0,r.eC)(D,"opacity","1");const R=function(e,{cornerNode:t=e.querySelector("[data-resize-corner]"),originalWidth:a,originalHeight:n,callback:l=i.lQ,autoLockFrames:c=!1}){let d=a,p=n;const v=(0,s.$)(t,c?{autoLockFrames:!0,autoLockFramesContainer:e}:{});return v.setCallback(((t,s,i)=>{d=a+t,p=n+s,(0,r.eC)(e,"width",(0,o.px)(d)),(0,r.eC)(e,"height",(0,o.px)(p)),l(d,p,i)})),{setPosition:(e,t,r)=>v.setPosition(e-a,t-n,r),getWidth:()=>d,getHeight:()=>p}}(D,{autoLockFrames:!0,originalWidth:t,originalHeight:a,callback:(e,t,a)=>{k&&z.update((({x:a,y:r})=>({w:e,h:t,x:a,y:r})))}});return k&&z.get().then((({x:e,y:t,w:a,h:r})=>{[e,t].every(i.Et)&&F.setPosition(e,t,!0),[a,r].every(i.Et)&&R.setPosition(a,r,!0),F.moveToViewport()})),O;function G(e){["width","height"].forEach((t=>$.style.setProperty(t,e)))}}},6346:(e,t,a)=>{a.d(t,{Q:()=>s,Z:()=>i});const r="__modal_window_custom_event",s=(e,t)=>e.dispatchEvent(new CustomEvent(r,{detail:t,bubbles:!0})),i=(e,t)=>e.addEventListener(r,(e=>t(e.detail)))},8495:(e,t,a)=>{a.d(t,{e:()=>s});var r=a(4590);const s=(e,t)=>{const{column:a,capitalize:s,substitutions:i}=t||{};let o=(0,r.tr)(e,i);return!0!==a&&!1!==a||(o.endsWith(":")?a||(o=o.slice(0,-1)):a&&(o+=":")),s&&(o=o[0].toLocaleUpperCase()+o.slice(1)),o}},97:(e,t,a)=>{a.d(t,{X:()=>r});const r=()=>Promise.all([a.e(525),a.e(702)]).then(a.bind(a,6276)).then((e=>e.getVuetifyInstance))},3120:(e,t,a)=>{a.d(t,{A:()=>n});var r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-spacer",{staticStyle:{height:"100%",cursor:"move"},attrs:{"data-draggable-top":""},on:{dblclick:function(t){return t.stopPropagation(),e.maximize.apply(null,arguments)}}})};r._withStripped=!0;var s=a(5471),i=a(6346);const o=s.default.extend({name:"draggable_top",methods:{maximize(){(0,i.Q)(this.$el,{type:"maximize"})}}});const n=(0,a(4486).A)(o,r,[],!1,null,null,null).exports}}]);
"use strict";(self.webpackChunkv4fire_1=self.webpackChunkv4fire_1||[]).push([[84910],{84910:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var n=r(13123),c=r(39910),a=r(40787),o=r(47138),l=r(94819),s=r(97071),u=r(84132),f=function(e,t,r,n){var c,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(c=e[l])&&(o=(a<3?c(o):a>3?c(t,r,o):c(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o};let i=class Offers extends u.ZP{constructor(){super(...arguments),this.baseURL="/offers"}};i.request=u.ZP.request({cacheStrategy:"forever"}),i=f([(0,u.Ap)("ext")],i);const d=i,p=n.default.namespace("init-offers");async function b(){const e=await async function(){try{const e=await(0,l.fr)();return null==e?void 0:e.url}catch(e){return void p.error("Failed to retrieve url of the current active tab",e)}}(),t=null!=e&&0!==e.length?new o.l(e).hostname:void 0;let r;0!==Object.size(e)&&(c.ZP.currentTabUrl=e,c.ZP.currentTabDomain=t),0!==Object.size(t)&&(r=await(new d).get({domain:t},{timeout:2..seconds()}).data.catch((()=>null))),null!=r&&(c.ZP.offers=Object.freeze(r)),null!=t&&null!=r&&(0,s.XN)(t,r.coupons.map((e=>e.uuid))),(0,a.Z)("offersReady")}}}]);
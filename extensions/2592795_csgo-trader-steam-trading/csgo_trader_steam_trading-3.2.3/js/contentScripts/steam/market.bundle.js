(()=>{var e={7856:function(e){
/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */
e.exports=function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:a,getOwnPropertyDescriptor:r}=Object;let{freeze:o,seal:i,create:s}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;l||(l=function(e,t,n){return e.apply(t,n)}),o||(o=function(e){return e}),i||(i=function(e){return e}),c||(c=function(e,t){return new e(...t)});const m=v(Array.prototype.forEach),d=v(Array.prototype.pop),u=v(Array.prototype.push),p=v(String.prototype.toLowerCase),_=v(String.prototype.toString),h=v(String.prototype.match),y=v(String.prototype.replace),f=v(String.prototype.indexOf),g=v(String.prototype.trim),b=v(RegExp.prototype.test),k=T(TypeError);function v(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return l(e,t,a)}}function T(e){return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return c(e,n)}}function w(e,a,r){var o;r=null!==(o=r)&&void 0!==o?o:p,t&&t(e,null);let i=a.length;for(;i--;){let t=a[i];if("string"==typeof t){const e=r(t);e!==t&&(n(a)||(a[i]=e),t=e)}e[t]=!0}return e}function I(t){const n=s(null);for(const[a,r]of e(t))n[a]=r;return n}function A(e,t){for(;null!==e;){const n=r(e,t);if(n){if(n.get)return v(n.get);if("function"==typeof n.value)return v(n.value)}e=a(e)}function n(e){return console.warn("fallback value for",e),null}return n}const E=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),x=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),S=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),M=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),C=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),N=o(["#text"]),R=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),L=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),O=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),P=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),B=i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$=i(/<%[\w\W]*|[\w\W]*%>/gm),F=i(/\${[\w\W]*}/gm),U=i(/^data-[\-\w.\u00B7-\uFFFF]/),H=i(/^aria-[\-\w]+$/),q=i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),W=i(/^(?:\w+script|data):/i),j=i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),z=i(/^html$/i);var G=Object.freeze({__proto__:null,MUSTACHE_EXPR:B,ERB_EXPR:$,TMPLIT_EXPR:F,DATA_ATTR:U,ARIA_ATTR:H,IS_ALLOWED_URI:q,IS_SCRIPT_OR_DATA:W,ATTR_WHITESPACE:j,DOCTYPE_NAME:z});const Y=()=>"undefined"==typeof window?null:window,K=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(n=t.getAttribute(a));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function V(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y();const n=e=>V(e);if(n.version="3.0.5",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;const a=t.document,r=a.currentScript;let{document:i}=t;const{DocumentFragment:s,HTMLTemplateElement:l,Node:c,Element:v,NodeFilter:T,NamedNodeMap:B=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:$,DOMParser:F,trustedTypes:U}=t,H=v.prototype,W=A(H,"cloneNode"),j=A(H,"nextSibling"),X=A(H,"childNodes"),Q=A(H,"parentNode");if("function"==typeof l){const e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let J,Z="";const{implementation:ee,createNodeIterator:te,createDocumentFragment:ne,getElementsByTagName:ae}=i,{importNode:re}=a;let oe={};n.isSupported="function"==typeof e&&"function"==typeof Q&&ee&&void 0!==ee.createHTMLDocument;const{MUSTACHE_EXPR:ie,ERB_EXPR:se,TMPLIT_EXPR:le,DATA_ATTR:ce,ARIA_ATTR:me,IS_SCRIPT_OR_DATA:de,ATTR_WHITESPACE:ue}=G;let{IS_ALLOWED_URI:pe}=G,_e=null;const he=w({},[...E,...x,...S,...M,...N]);let ye=null;const fe=w({},[...R,...L,...O,...P]);let ge=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,ke=null,ve=!0,Te=!0,we=!1,Ie=!0,Ae=!1,Ee=!1,xe=!1,Se=!1,De=!1,Me=!1,Ce=!1,Ne=!0,Re=!1;const Le="user-content-";let Oe=!0,Pe=!1,Be={},$e=null;const Fe=w({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ue=null;const He=w({},["audio","video","img","source","image","track"]);let qe=null;const We=w({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),je="http://www.w3.org/1998/Math/MathML",ze="http://www.w3.org/2000/svg",Ge="http://www.w3.org/1999/xhtml";let Ye=Ge,Ke=!1,Ve=null;const Xe=w({},[je,ze,Ge],_);let Qe;const Je=["application/xhtml+xml","text/html"],Ze="text/html";let et,tt=null;const nt=i.createElement("form"),at=function(e){return e instanceof RegExp||e instanceof Function},rt=function(e){if(!tt||tt!==e){if(e&&"object"==typeof e||(e={}),e=I(e),Qe=Qe=-1===Je.indexOf(e.PARSER_MEDIA_TYPE)?Ze:e.PARSER_MEDIA_TYPE,et="application/xhtml+xml"===Qe?_:p,_e="ALLOWED_TAGS"in e?w({},e.ALLOWED_TAGS,et):he,ye="ALLOWED_ATTR"in e?w({},e.ALLOWED_ATTR,et):fe,Ve="ALLOWED_NAMESPACES"in e?w({},e.ALLOWED_NAMESPACES,_):Xe,qe="ADD_URI_SAFE_ATTR"in e?w(I(We),e.ADD_URI_SAFE_ATTR,et):We,Ue="ADD_DATA_URI_TAGS"in e?w(I(He),e.ADD_DATA_URI_TAGS,et):He,$e="FORBID_CONTENTS"in e?w({},e.FORBID_CONTENTS,et):Fe,be="FORBID_TAGS"in e?w({},e.FORBID_TAGS,et):{},ke="FORBID_ATTR"in e?w({},e.FORBID_ATTR,et):{},Be="USE_PROFILES"in e&&e.USE_PROFILES,ve=!1!==e.ALLOW_ARIA_ATTR,Te=!1!==e.ALLOW_DATA_ATTR,we=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ie=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ae=e.SAFE_FOR_TEMPLATES||!1,Ee=e.WHOLE_DOCUMENT||!1,De=e.RETURN_DOM||!1,Me=e.RETURN_DOM_FRAGMENT||!1,Ce=e.RETURN_TRUSTED_TYPE||!1,Se=e.FORCE_BODY||!1,Ne=!1!==e.SANITIZE_DOM,Re=e.SANITIZE_NAMED_PROPS||!1,Oe=!1!==e.KEEP_CONTENT,Pe=e.IN_PLACE||!1,pe=e.ALLOWED_URI_REGEXP||q,Ye=e.NAMESPACE||Ge,ge=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ge.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ge.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ge.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ae&&(Te=!1),Me&&(De=!0),Be&&(_e=w({},[...N]),ye=[],!0===Be.html&&(w(_e,E),w(ye,R)),!0===Be.svg&&(w(_e,x),w(ye,L),w(ye,P)),!0===Be.svgFilters&&(w(_e,S),w(ye,L),w(ye,P)),!0===Be.mathMl&&(w(_e,M),w(ye,O),w(ye,P))),e.ADD_TAGS&&(_e===he&&(_e=I(_e)),w(_e,e.ADD_TAGS,et)),e.ADD_ATTR&&(ye===fe&&(ye=I(ye)),w(ye,e.ADD_ATTR,et)),e.ADD_URI_SAFE_ATTR&&w(qe,e.ADD_URI_SAFE_ATTR,et),e.FORBID_CONTENTS&&($e===Fe&&($e=I($e)),w($e,e.FORBID_CONTENTS,et)),Oe&&(_e["#text"]=!0),Ee&&w(_e,["html","head","body"]),_e.table&&(w(_e,["tbody"]),delete be.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');J=e.TRUSTED_TYPES_POLICY,Z=J.createHTML("")}else void 0===J&&(J=K(U,r)),null!==J&&"string"==typeof Z&&(Z=J.createHTML(""));o&&o(e),tt=e}},ot=w({},["mi","mo","mn","ms","mtext"]),it=w({},["foreignobject","desc","title","annotation-xml"]),st=w({},["title","style","font","a","script"]),lt=w({},x);w(lt,S),w(lt,D);const ct=w({},M);w(ct,C);const mt=function(e){let t=Q(e);t&&t.tagName||(t={namespaceURI:Ye,tagName:"template"});const n=p(e.tagName),a=p(t.tagName);return!!Ve[e.namespaceURI]&&(e.namespaceURI===ze?t.namespaceURI===Ge?"svg"===n:t.namespaceURI===je?"svg"===n&&("annotation-xml"===a||ot[a]):Boolean(lt[n]):e.namespaceURI===je?t.namespaceURI===Ge?"math"===n:t.namespaceURI===ze?"math"===n&&it[a]:Boolean(ct[n]):e.namespaceURI===Ge?!(t.namespaceURI===ze&&!it[a])&&!(t.namespaceURI===je&&!ot[a])&&!ct[n]&&(st[n]||!lt[n]):!("application/xhtml+xml"!==Qe||!Ve[e.namespaceURI]))},dt=function(e){u(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},ut=function(e,t){try{u(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){u(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ye[e])if(De||Me)try{dt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},pt=function(e){let t,n;if(Se)e="<remove></remove>"+e;else{const t=h(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Qe&&Ye===Ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const a=J?J.createHTML(e):e;if(Ye===Ge)try{t=(new F).parseFromString(a,Qe)}catch(e){}if(!t||!t.documentElement){t=ee.createDocument(Ye,"template",null);try{t.documentElement.innerHTML=Ke?Z:a}catch(e){}}const r=t.body||t.documentElement;return e&&n&&r.insertBefore(i.createTextNode(n),r.childNodes[0]||null),Ye===Ge?ae.call(t,Ee?"html":"body")[0]:Ee?t.documentElement:r},_t=function(e){return te.call(e.ownerDocument||e,e,T.SHOW_ELEMENT|T.SHOW_COMMENT|T.SHOW_TEXT,null,!1)},ht=function(e){return e instanceof $&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof B)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},yt=function(e){return"object"==typeof c?e instanceof c:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},ft=function(e,t,a){oe[e]&&m(oe[e],(e=>{e.call(n,t,a,tt)}))},gt=function(e){let t;if(ft("beforeSanitizeElements",e,null),ht(e))return dt(e),!0;const a=et(e.nodeName);if(ft("uponSanitizeElement",e,{tagName:a,allowedTags:_e}),e.hasChildNodes()&&!yt(e.firstElementChild)&&(!yt(e.content)||!yt(e.content.firstElementChild))&&b(/<[/\w]/g,e.innerHTML)&&b(/<[/\w]/g,e.textContent))return dt(e),!0;if(!_e[a]||be[a]){if(!be[a]&&kt(a)){if(ge.tagNameCheck instanceof RegExp&&b(ge.tagNameCheck,a))return!1;if(ge.tagNameCheck instanceof Function&&ge.tagNameCheck(a))return!1}if(Oe&&!$e[a]){const t=Q(e)||e.parentNode,n=X(e)||e.childNodes;if(n&&t)for(let a=n.length-1;a>=0;--a)t.insertBefore(W(n[a],!0),j(e))}return dt(e),!0}return e instanceof v&&!mt(e)?(dt(e),!0):"noscript"!==a&&"noembed"!==a&&"noframes"!==a||!b(/<\/no(script|embed|frames)/i,e.innerHTML)?(Ae&&3===e.nodeType&&(t=e.textContent,t=y(t,ie," "),t=y(t,se," "),t=y(t,le," "),e.textContent!==t&&(u(n.removed,{element:e.cloneNode()}),e.textContent=t)),ft("afterSanitizeElements",e,null),!1):(dt(e),!0)},bt=function(e,t,n){if(Ne&&("id"===t||"name"===t)&&(n in i||n in nt))return!1;if(Te&&!ke[t]&&b(ce,t));else if(ve&&b(me,t));else if(!ye[t]||ke[t]){if(!(kt(e)&&(ge.tagNameCheck instanceof RegExp&&b(ge.tagNameCheck,e)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(e))&&(ge.attributeNameCheck instanceof RegExp&&b(ge.attributeNameCheck,t)||ge.attributeNameCheck instanceof Function&&ge.attributeNameCheck(t))||"is"===t&&ge.allowCustomizedBuiltInElements&&(ge.tagNameCheck instanceof RegExp&&b(ge.tagNameCheck,n)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(n))))return!1}else if(qe[t]);else if(b(pe,y(n,ue,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==f(n,"data:")||!Ue[e])if(we&&!b(de,y(n,ue,"")));else if(n)return!1;return!0},kt=function(e){return e.indexOf("-")>0},vt=function(e){let t,a,r,o;ft("beforeSanitizeAttributes",e,null);const{attributes:i}=e;if(!i)return;const s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye};for(o=i.length;o--;){t=i[o];const{name:l,namespaceURI:c}=t;if(a="value"===l?t.value:g(t.value),r=et(l),s.attrName=r,s.attrValue=a,s.keepAttr=!0,s.forceKeepAttr=void 0,ft("uponSanitizeAttribute",e,s),a=s.attrValue,s.forceKeepAttr)continue;if(ut(l,e),!s.keepAttr)continue;if(!Ie&&b(/\/>/i,a)){ut(l,e);continue}Ae&&(a=y(a,ie," "),a=y(a,se," "),a=y(a,le," "));const m=et(e.nodeName);if(bt(m,r,a)){if(!Re||"id"!==r&&"name"!==r||(ut(l,e),a=Le+a),J&&"object"==typeof U&&"function"==typeof U.getAttributeType)if(c);else switch(U.getAttributeType(m,r)){case"TrustedHTML":a=J.createHTML(a);break;case"TrustedScriptURL":a=J.createScriptURL(a)}try{c?e.setAttributeNS(c,l,a):e.setAttribute(l,a),d(n.removed)}catch(e){}}}ft("afterSanitizeAttributes",e,null)},Tt=function e(t){let n;const a=_t(t);for(ft("beforeSanitizeShadowDOM",t,null);n=a.nextNode();)ft("uponSanitizeShadowNode",n,null),gt(n)||(n.content instanceof s&&e(n.content),vt(n));ft("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t,r,o,i,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ke=!e,Ke&&(e="\x3c!--\x3e"),"string"!=typeof e&&!yt(e)){if("function"!=typeof e.toString)throw k("toString is not a function");if("string"!=typeof(e=e.toString()))throw k("dirty is not a string, aborting")}if(!n.isSupported)return e;if(xe||rt(l),n.removed=[],"string"==typeof e&&(Pe=!1),Pe){if(e.nodeName){const t=et(e.nodeName);if(!_e[t]||be[t])throw k("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)t=pt("\x3c!----\x3e"),r=t.ownerDocument.importNode(e,!0),1===r.nodeType&&"BODY"===r.nodeName||"HTML"===r.nodeName?t=r:t.appendChild(r);else{if(!De&&!Ae&&!Ee&&-1===e.indexOf("<"))return J&&Ce?J.createHTML(e):e;if(t=pt(e),!t)return De?null:Ce?Z:""}t&&Se&&dt(t.firstChild);const m=_t(Pe?e:t);for(;o=m.nextNode();)gt(o)||(o.content instanceof s&&Tt(o.content),vt(o));if(Pe)return e;if(De){if(Me)for(i=ne.call(t.ownerDocument);t.firstChild;)i.appendChild(t.firstChild);else i=t;return(ye.shadowroot||ye.shadowrootmode)&&(i=re.call(a,i,!0)),i}let d=Ee?t.outerHTML:t.innerHTML;return Ee&&_e["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&b(z,t.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+d),Ae&&(d=y(d,ie," "),d=y(d,se," "),d=y(d,le," ")),J&&Ce?J.createHTML(d):d},n.setConfig=function(e){rt(e),xe=!0},n.clearConfig=function(){tt=null,xe=!1},n.isValidAttribute=function(e,t,n){tt||rt({});const a=et(e),r=et(t);return bt(a,r,n)},n.addHook=function(e,t){"function"==typeof t&&(oe[e]=oe[e]||[],u(oe[e],t))},n.removeHook=function(e){if(oe[e])return d(oe[e])},n.removeHooks=function(e){oe[e]&&(oe[e]=[])},n.removeAllHooks=function(){oe={}},n}return V()}()},7388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcidFadeCalculator=t.AmberFadeCalculator=t.FadeCalculator=void 0;const a=n(6243),r=n(6038),o=n(7976);t.FadeCalculator=new a.default,t.AmberFadeCalculator=new r.default,t.AcidFadeCalculator=new o.default},7976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(5428);class r extends a.default{constructor(){super(...arguments),this.weapons=["SSG 08"],this.reversedWeapons=["SSG 08"],this.tradeUpWeapons=["SSG 08"],this.configs={default:{pattern_offset_x_start:-2.4,pattern_offset_x_end:-2.1,pattern_offset_y_start:0,pattern_offset_y_end:0,pattern_rotate_start:-55,pattern_rotate_end:-65}}}}t.default=r},6038:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(5428);class r extends a.default{constructor(){super(...arguments),this.weapons=["AUG","Galil AR","MAC-10","P2000","R8 Revolver","Sawed-Off"],this.reversedWeapons=[],this.tradeUpWeapons=["AUG","Galil AR","MAC-10","P2000","R8 Revolver","Sawed-Off"],this.configs={default:{pattern_offset_x_start:-.7,pattern_offset_x_end:-.7,pattern_offset_y_start:-.7,pattern_offset_y_end:-.7,pattern_rotate_start:-55,pattern_rotate_end:-65}}}}t.default=r},5428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(3738);t.default=class{constructor(){this.minPercentage=80}getSupportedWeapons(){return this.weapons}getFadePercentage(e,t){return this.getFadePercentages(e)[t]}getAllFadePercentages(){return this.weapons.map((e=>({weapon:e,percentages:this.getFadePercentages(e)})))}getFadePercentages(e){if(!this.weapons.includes(e))throw new Error(`The weapon "${e}" is currently not supported.`);const t=this.configs[e]||this.configs.default,n=[],r=this.tradeUpWeapons.includes(e)?1e3:999;for(let e=0;e<=r;e+=1){const r=new a.default;r.setSeed(e);const o=r.randomFloat(t.pattern_offset_x_start,t.pattern_offset_x_end);r.randomFloat(t.pattern_offset_y_start,t.pattern_offset_y_end);const i=r.randomFloat(t.pattern_rotate_start,t.pattern_rotate_end);let s;const l=t.pattern_rotate_start!==t.pattern_rotate_end,c=t.pattern_offset_x_start!==t.pattern_offset_x_end;s=l&&c?i*o:l?i:o,n.push(s)}let o,i;this.reversedWeapons.includes(e)?(o=Math.min(...n),i=Math.max(...n)):(o=Math.max(...n),i=Math.min(...n));const s=i-o,l=n.map((e=>(i-e)/s)),c=[...l].sort(((e,t)=>e-t));return l.map(((e,t)=>({seed:t,percentage:this.minPercentage+e*(100-this.minPercentage),ranking:Math.min(c.indexOf(e)+1,c.length-c.indexOf(e))})))}}},6243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(5428);class r extends a.default{constructor(){super(...arguments),this.weapons=["AWP","Bayonet","Bowie Knife","Butterfly Knife","Classic Knife","Falchion Knife","Flip Knife","Glock-18","Gut Knife","Huntsman Knife","Karambit","Kukri Knife","M4A1-S","M9 Bayonet","MAC-10","MP7","Navaja Knife","Nomad Knife","Paracord Knife","R8 Revolver","Shadow Daggers","Skeleton Knife","Stiletto Knife","Survival Knife","Talon Knife","UMP-45","Ursus Knife"],this.reversedWeapons=["AWP","Karambit","MP7","Talon Knife"],this.tradeUpWeapons=["AWP","Glock-18","M4A1-S","MAC-10","MP7","R8 Revolver","UMP-45"],this.configs={default:{pattern_offset_x_start:-.7,pattern_offset_x_end:-.7,pattern_offset_y_start:-.7,pattern_offset_y_end:-.7,pattern_rotate_start:-55,pattern_rotate_end:-65},MP7:{pattern_offset_x_start:-.9,pattern_offset_x_end:-.3,pattern_offset_y_start:-.7,pattern_offset_y_end:-.5,pattern_rotate_start:-55,pattern_rotate_end:-65},"M4A1-S":{pattern_offset_x_start:-.14,pattern_offset_x_end:.05,pattern_offset_y_start:0,pattern_offset_y_end:0,pattern_rotate_start:-45,pattern_rotate_end:-45}}}}t.default=r},3738:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.mIdum=0,this.mIy=0,this.mIv=[],this.NTAB=32,this.IA=16807,this.IM=2147483647,this.IQ=127773,this.IR=2836,this.NDIV=1+(this.IM-1)/this.NTAB,this.AM=1/this.IM,this.RNMX=1-12e-8}setSeed(e){this.mIdum=e,e>=0&&(this.mIdum=-e),this.mIy=0}generateRandomNumber(){let e,t;if(this.mIdum<=0||0===this.mIy){for(-this.mIdum<1?this.mIdum=1:this.mIdum=-this.mIdum,t=this.NTAB+7;t>=0;t-=1)e=Math.floor(this.mIdum/this.IQ),this.mIdum=Math.floor(this.IA*(this.mIdum-e*this.IQ)-this.IR*e),this.mIdum<0&&(this.mIdum+=this.IM),t<this.NTAB&&(this.mIv[t]=this.mIdum);[this.mIy]=this.mIv}return e=Math.floor(this.mIdum/this.IQ),this.mIdum=Math.floor(this.IA*(this.mIdum-e*this.IQ)-this.IR*e),this.mIdum<0&&(this.mIdum+=this.IM),t=Math.floor(this.mIy/this.NDIV),this.mIy=Math.floor(this.mIv[t]),this.mIv[t]=this.mIdum,this.mIy}randomFloat(e,t){let n=this.AM*this.generateRandomNumber();return n>this.RNMX&&(n=this.RNMX),n*(t-e)+e}}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(7856),t=n.n(e);chrome.i18n.getMessage("fn_long"),chrome.i18n.getMessage("fn_short"),chrome.i18n.getMessage("mw_long"),chrome.i18n.getMessage("mw_short"),chrome.i18n.getMessage("ft_long"),chrome.i18n.getMessage("ft_short"),chrome.i18n.getMessage("ww_long"),chrome.i18n.getMessage("ww_short"),chrome.i18n.getMessage("bs_long"),chrome.i18n.getMessage("bs_short");const a={short:"USD",long:"United States dollar",sign:"$"},r={short:"EUR",long:"Euro",sign:"â‚¬"},o={name:"csgotrader",long:"CS2 Trader",short:"CS",url:"http://csgotrader.app/prices/",description:"The extension's own pricing, aims to be accurate and to provide some kind of price for every item.",pricing_modes:{csgotrader:{description:"CS2 Trader price",name:"csgotrader",long:"CS2 Trader price"}}},i={bid_price:{key:"bid_price",name:"Bid price - Current highest buy order",description:"Bid price - The value of the current highest buy order / bid for the item, also known as instant sell"},mid_price:{key:"mid_price",name:"Mid price - Average of the ask and bid prices",description:"Mid price - The average of ask and bid prices"},ask_price:{key:"ask_price",name:"Ask price - Current lowest listing / starting at",description:"The asking price, the price of the current lowest listing for the item, also known as the starting at price"}},s={1:"USD",2:"GBP",3:"EUR",4:"CHF",5:"RUB",6:"PLN",7:"BRL",9:"NOK",10:"IDR",11:"MYR",12:"PHP",13:"SGD",14:"THB",15:"VND",16:"KRW",17:"TRY",18:"UAH",19:"MXN",20:"CAD",21:"AUD",22:"NZD",23:"CNY",24:"INR",25:"CLP",26:"PEN",27:"COP",28:"ZAR",29:"HKD",30:"TWD",31:"SAR",32:"AED",34:"ARS",35:"ILS",36:"BYN",37:"KZT",38:"KWD",39:"QAR",40:"CRC",41:"UYU",9e3:"RMB"},l={common:{internal_name:"Rarity_Common",name:"common",prettyName:"Common"},common_weapon:{internal_name:"Rarity_Common_Weapon",name:"common",prettyName:"Common Weapon"},uncommon:{internal_name:"Rarity_Uncommon",name:"uncommon",prettyName:"Uncommon"},uncommon_weapon:{internal_name:"Rarity_Uncommon_Weapon",name:"uncommon",prettyName:"Uncommon Weapon"},rare:{internal_name:"Rarity_Rare",name:"rare",prettyName:"Rare"},rare_weapon:{internal_name:"Rarity_Rare_Weapon",name:"rare",prettyName:"Rare Weapon"},rare_character:{internal_name:"Rarity_Rare_Character",name:"rare",prettyName:"Distinguished Agent"},mythical:{internal_name:"Rarity_Mythical",name:"mythical",prettyName:"Mythical"},mythical_weapon:{internal_name:"Rarity_Mythical_Weapon",name:"mythical",prettyName:"Mythical Weapon"},mythical_character:{internal_name:"Rarity_Mythical_Character",name:"mythical",prettyName:"Exceptional Agent"},legendary:{internal_name:"Rarity_Legendary",name:"legendary",prettyName:"Legendary"},legendary_weapon:{internal_name:"Rarity_Legendary_Weapon",name:"legendary",prettyName:"Legendary Weapon"},legendary_character:{internal_name:"Rarity_Legendary_Character",name:"legendary",prettyName:"Superior Agent"},ancient:{internal_name:"Rarity_Ancient",name:"ancient",prettyName:"Ancient"},ancient_weapon:{internal_name:"Rarity_Ancient_Weapon",name:"ancient",prettyName:"Ancient Weapon"},ancient_character:{internal_name:"Rarity_Ancient_Character",name:"ancient",prettyName:"Master Agent"},contraband:{internal_name:"Rarity_Contraband",name:"contraband",prettyName:"Contraband"},contraband_weapon:{internal_name:"Rarity_Contraband_Weapon",name:"contraband",prettyName:"Contraband Weapon"},default:{internal_name:"Rarity_Default",name:"stock",prettyName:"Default"},default_weapon:{internal_name:"Rarity_Default_Weapon",name:"stock",prettyName:"Default Weapon"}},c=(l.common.name,l.common.prettyName,l.uncommon.name,l.uncommon.prettyName,l.rare.name,l.rare.prettyName,l.mythical.name,l.mythical.prettyName,l.legendary.name,l.legendary.prettyName,l.ancient.name,l.ancient.prettyName,l.contraband.name,l.contraband.prettyName,(e,t)=>`https://steamcommunity.com/market/listings/${e}/${t}`),m=(chrome.runtime.getURL("/index.html").includes("chrome-extension"),(e,t,n,a)=>{const r=document.createElement("div");r.setAttribute("onreset",`${e};`),r.dispatchEvent(new CustomEvent("reset")),r.removeAttribute("onreset"),r.remove();const o=["steamidOfLoggedinUser","steamidOfProfileOwner","tradePartnerSteamID","inventoryOwnerID","listingsInfo","inventoryInfo","allItemsLoaded","offerInventoryInfo","steamWalletCurrency","steamWallet","formattedToInt","intToFormatted","priceAfterFees","sessionid","offerID","partnerName","userAppInfo","csgoFloat","commentExtendedData"].includes(a)?document.querySelector("body").getAttribute(a):null;return null!==o&&document.querySelector("body").removeAttribute(a),o}),d={default:{key:"default",name:"Default (position last to first)"},reverse:{key:"reverse",name:"Reverse (position first to last)"},price_desc:{key:"price_desc",name:"Price (expensive to cheap)"},price_asc:{key:"price_asc",name:"Price (cheap to expensive)"},name_asc:{key:"name_asc",name:"Alphabetical (a to z)"},name_desc:{key:"name_desc",name:"Alphabetical (z to a)"},tradability_desc:{key:"tradability_desc",name:"Tradability (untradable to tradable)"},tradability_asc:{key:"tradability_asc",name:"Tradability (tradable to untradable)"},float_asc:{key:"float_asc",name:"Float (lowest to highest)"},float_desc:{key:"float_desc",name:"Float (highest to lowest)"},sticker_price_asc:{key:"sticker_price_asc",name:"Sticker price (cheap to expensive)"},sticker_price_desc:{key:"sticker_price_desc",name:"Sticker price (expensive to cheap)"},charm_price_asc:{key:"charm_price_asc",name:"Charm price (cheap to expensive)"},charm_price_desc:{key:"charm_price_desc",name:"Charm price (expensive to cheap)"}},u={key:"default",name:"Default Steam Order"},p={key:"profile_private",pretty:"Private profile",description:"The user has a private Steam profile",with_value:!1},_={key:"steam_level_under",pretty:"Steam level under",description:"User' Steam profile lever is under or the same as the set number",with_value:!0,value_type:"number",default_value:5},h={key:"vac_banned",pretty:"Vac banned",description:"The user has VAC ban(s) on their account",with_value:!1},y={key:"community_banned",pretty:"Community banned",description:"The user is community banned on Steam",with_value:!1},f={key:"trade_banned",pretty:"Trade banned",description:"The user is trade banned or on trade ban probation",with_value:!1},g={key:"inventory_private",pretty:"Private inventory",description:"The user's inventory is not publicly viewable",with_value:!1},b={key:"ignore",pretty:"Ignore",description:"Ignore friend request"},k={key:"accept",pretty:"Accept",description:"Accept trade offer"},v={key:"decline",pretty:"Decline",description:"Decline trade offer"},T={key:"notify",pretty:"Notify",description:"Send a browser notification"},w={key:"profit_over",pretty:"Profit over",description:"Projected profit equal or over the specified value",with_value:!0,value_type:"number",default_value:5},I={key:"profit_percentage_over",pretty:"Profit percentage over",description:"Projected profit percentage equal or over the specified value",with_value:!0,value_type:"number",default_value:10},A={key:"no_message",pretty:"Has no message",description:"The offer has no message attached",with_value:!1},E={key:"message_includes",pretty:"Message includes",description:"The offer message includes the specified string",with_value:!0,value_type:"string",default_value:"please"},x={key:"receiving_items_under",pretty:"Receiving fewer than x items",description:"Receiving fewer than x items in the offer",with_value:!0,value_type:"number",default_value:1},S={key:"giving_items_under",pretty:"Giving fewer than x items",description:"Giving fewer than x items in the offer",with_value:!0,value_type:"number",default_value:1},D={key:"and",pretty:"AND",description:"AND operator"},M=(o.name,o.pricing_modes.csgotrader.name,a.short,d.default.key,d.default.key,a.short,r.short,Date.now(),Date.now(),p.key,b.key,_.key,b.key,h.key,b.key,y.key,b.key,f.key,b.key,g.key,b.key,Date.now(),3e3),C=15e3,N=(i.ask_price.key,Date.now(),a.short,u.key,S.key,A.key,D.key,T.key,w.key,w.default_value,T.key,I.key,I.default_value,T.key,x.key,A.key,D.key,v.key,x.key,E.key,E.default_value,D.key,k.key,new Date("2020-01-01T00:00:00.000Z").getTime(),{active:!1,jobs:[],delaySuccess:M,delayFailure:C,lastJobSuccessful:!0,localCache:{},cleanupFunction:()=>{}}),R=()=>JSON.parse(m("document.querySelector('body').setAttribute('steamWallet', JSON.stringify(\"g_rgWalletInfo\" in window ? g_rgWalletInfo : null));",0,0,"steamWallet")),L=(e,t)=>new Promise(((n,a)=>{chrome.storage.local.get(["currency"],(({currency:r})=>{const o=R();let i=1;if(null!==o)i=o.wallet_currency;else for(const[e,t]of Object.entries(s))t===r&&(i=e);chrome.runtime.sendMessage({getBuyOrderInfo:{appID:e,currencyID:i,marketHashName:t}},(e=>{"error"!==e?n(e.getBuyOrderInfo.highest_buy_order):a("error")}))}))})),O=(e,t)=>new Promise(((n,a)=>{chrome.storage.local.get(["currency"],(({currency:r})=>{const o=R();let i=1;if(null!==o)i=o.wallet_currency;else for(const[e,t]of Object.entries(s))t===r&&(i=e);const l=new Request(`${c(e,t)}/render/?query=&start=0&count=10&country=US&language=english&currency=${i}`);fetch(l).then((e=>(e.ok||(console.log(`Error code: ${e.status} Status: ${e.statusText}`),a({status:e.status,statusText:e.statusText})),e.json()))).then((e=>{if(null===e)a("success:false");else if(!0===e.success){if(e.listinginfo){const t=Object.values(e.listinginfo);if(0!==t.length){for(const e of t)if(void 0!==e.converted_price&&void 0!==e.converted_fee)return void n(e.converted_price+e.converted_fee);a("no_prices_on_listings")}else a("empty_listings_array")}else a("no listing data");n(e)}else a("success:false")})).catch((e=>{console.log(e),a(e)}))}))})),P=()=>{N.lastJobSuccessful=!0,setTimeout((()=>{N.active=!1,F()}),N.delaySuccess)},B=(e,t)=>{console.log(e,t),N.lastJobSuccessful=!1,"empty_listings_array"!==e&&"highest_order_undef_or_null"!==e?(N.jobs.push({...t,retries:t.retries+1}),setTimeout((()=>{N.active=!1,F()}),N.delayFailure)):P()},$=()=>{N.active=!1,F()},F=()=>{0!==N.jobs.length?N.active||(N.active=!0,chrome.storage.local.get(["priceQueueActivity"],(({priceQueueActivity:e})=>{const t=N.jobs.shift();var n,a;(Date.now()-new Date(e.lastUsed))/1e3>10||e.usedAt===window.location.pathname?t.retries<5?("my_buy_order"===t.type||"inventory_mass_sell_instant_sell"===t.type||t.type===`offer_${i.bid_price.key}`||t.type===`offers_${i.bid_price.key}`||t.type===`inventory_${i.bid_price.key}`?void 0!==N.localCache[t.appID+t.market_hash_name+t.type]?("my_buy_order"===t.type?t.callBackFunction(t,N.localCache[t.appID+t.market_hash_name+t.type]):"inventory_mass_sell_instant_sell"!==t.type&&t.type!==`offer_${i.highest_order.key}`||t.callBackFunction(t.market_hash_name,N.localCache[t.appID+t.market_hash_name+t.type],t.appID,t.assetID,t.contextID),$()):L(t.appID,t.market_hash_name).then((e=>{void 0!==e?("my_buy_order"===t.type?t.callBackFunction(t,e):"inventory_mass_sell_instant_sell"!==t.type&&t.type!==`offer_${i.bid_price.key}`||t.callBackFunction(t.market_hash_name,e,t.appID,t.assetID,t.contextID),N.localCache[t.appID+t.market_hash_name+t.type]=e,P()):B("highestBuyOrder is undefined",t)}),(e=>{B(e,t)})):"inventory_mass_sell_starting_at"===t.type||t.type===`offer_${i.ask_price.key}`||t.type===`offers_${i.ask_price.key}`||t.type===`inventory_${i.ask_price.key}`||"my_listing"===t.type||"history_row"===t.type?void 0!==N.localCache[t.appID+t.market_hash_name+t.type]?("my_listing"===t.type?t.callBackFunction(t.listingID,N.localCache[t.appID+t.market_hash_name+t.type]):"history_row"===t.type?t.callBackFunction(t.rowID,N.localCache[t.appID+t.market_hash_name+t.type]):t.callBackFunction(t.market_hash_name,N.localCache[t.appID+t.market_hash_name+t.type],t.appID,t.assetID,t.contextID,t.type,t.showContrastingLook),$()):O(t.appID,t.market_hash_name).then((e=>{void 0!==e?("my_listing"===t.type?t.callBackFunction(t.listingID,e):"history_row"===t.type?t.callBackFunction(t.rowID,e):t.callBackFunction(t.market_hash_name,e,t.appID,t.assetID,t.contextID,t.type,t.showContrastingLook),N.localCache[t.appID+t.market_hash_name+t.type]=e,P()):B("lowest_price is undefined",t)}),(e=>{B(e,t)})):t.type!==`offer_${i.mid_price.key}`&&t.type!==`offers_${i.mid_price.key}`&&t.type!==`inventory_${i.mid_price.key}`&&"inventory_mass_sell_mid_price"!==t.type||(void 0!==N.localCache[t.appID+t.market_hash_name+t.type]?(t.callBackFunction(t.market_hash_name,N.localCache[t.appID+t.market_hash_name+t.type],t.appID,t.assetID,t.contextID,t.type,t.showContrastingLook),$()):(n=t.appID,a=t.market_hash_name,new Promise(((e,t)=>{L(n,a).then((r=>{if(null!=r){let o=0;try{o=parseFloat(r)}catch(e){console.log(e)}O(n,a).then((t=>{void 0!==t&&e((o+t)/2)})).catch((e=>{console.log(e),t(e)}))}else t("highest_order_undef_or_null")})).catch((e=>{console.log(e),t(e)}))}))).then((e=>{t.callBackFunction(t.market_hash_name,e,t.appID,t.assetID,t.contextID,t.type,t.showContrastingLook),N.localCache[t.appID+t.market_hash_name+t.type]=e,P()}),(e=>{B(e,t)}))),chrome.storage.local.set({priceQueueActivity:{lastUsed:Date.now(),usedAt:window.location.pathname}})):F():B("other_active_pricequeue",t)}))):(N.cleanupFunction(),N.active=!1)},U=e=>{const n=`document.querySelector('body').setAttribute('intToFormatted', v_currencyformat(${t().sanitize(e.toString())}, GetCurrencyCode(g_rgWalletInfo.wallet_currency)));`;return m(n,0,0,"intToFormatted")},H=e=>{const n=`document.querySelector('body').setAttribute('formattedToInt', GetPriceValueAsInt('${t().sanitize(e).toString()}'));`;return m(n,0,0,"formattedToInt")},{FadeCalculator:q}=n(7388),W=()=>{let e=fetch;try{e=void 0!==content?content.fetch:fetch}catch(e){}return e};const j=()=>m("document.querySelector('body').setAttribute('sessionid', g_sessionID);",0,0,"sessionid"),z=e=>new Promise(((t,n)=>{const a=new Headers;a.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");const r=new Request(`https://steamcommunity.com/market/removelisting/${e}`,{method:"POST",headers:a,body:`sessionid=${j()}`});W()(r).then((e=>{e.ok?t("success"):(console.log(`Error code: ${e.status} Status: ${e.statusText}`),n({status:e.status,statusText:e.statusText}))})).catch((e=>{console.log(e),n(e)}))})),G=e=>new Promise(((t,n)=>{const a=new Headers;a.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");const r=new Request("https://steamcommunity.com/market/cancelbuyorder/",{method:"POST",headers:a,body:`sessionid=${j()}&buy_orderid=${e}`});W()(r).then((e=>{e.ok?t("success"):(console.log(`Error code: ${e.status} Status: ${e.statusText}`),n({status:e.status,statusText:e.statusText}))})).catch((e=>{console.log(e),n(e)}))})),Y=(e,t)=>new Promise(((n,a)=>{const r=new Headers;r.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");const o=new Request(`https://steamcommunity.com/market/myhistory/?start=${e}&count=${t}`,{method:"POST",headers:r,body:`sessionid=${j()}`});W()(o).then((e=>(e.ok||(console.log(`Error code: ${e.status} Status: ${e.statusText}`),a({status:e.status,statusText:e.statusText})),e.json()))).then((e=>{null===e?a("success:false"):!0===e.success?n(e):a("success:false")})).catch((e=>{console.log(e),a(e)}))})),K={history:[],from:0,to:1e6,progress:0,inProgress:!1,lastRequestSuccessful:!0};let V=!1;const X=e=>e.id.split("mylisting_")[1],Q=e=>e.id.split("mybuyorder_")[1],J=e=>{0===e.querySelectorAll(".market_listing_row.market_recent_listing_row").length&&document.getElementById("tabContentsMyActiveMarketListings_btn_next").click()},Z=e=>({appID:e.split("listings/")[1].split("/")[0],marketHashName:e.split("listings/")[1].split("/")[1]}),ee=e=>{let t;switch(e.querySelector(".market_listing_gainorloss").innerText.trim()){case"+":t="purchase";break;case"-":t="sale";break;default:t=e.querySelector(".market_listing_whoactedwith").innerText.replace(/\s/g,"")}return t},te=(e,n)=>{const a=(e=>document.getElementById(`mylisting_${e}`))(e);if(null!==a){if(null===a.querySelector(".startingAtPrice")){const e=a.querySelector(".market_listing_price"),r=e.querySelectorAll("span")[1].innerText,o=U(n),i=r===o?"cheapest":"not_cheapest";e.insertAdjacentHTML("beforeend",t().sanitize(`<div class="startingAtPrice ${i}" title="This is the price of the lowest listing right now.">\n                ${o}\n             </div>`))}}},ne=(e,n)=>{const a=document.getElementById(e);if(null!==a){if(null===a.querySelector(".startingAtPrice")){const e=a.querySelector(".market_listing_price"),r=U(n);e.insertAdjacentHTML("beforeend",t().sanitize(`<div class="startingAtPrice" title="This is the price of the lowest listing right now.">\n                ${r}\n             </div>`))}}},ae=e=>{let n=0,a=0;e.querySelectorAll(".market_listing_row.market_recent_listing_row").forEach((e=>{if("true"!==e.getAttribute("csgotrader_processed")){const r=e.querySelector(".market_listing_right_cell.market_listing_my_price");null!==r&&r.insertAdjacentHTML("beforebegin",t().sanitize('\n            <div class="market_listing_right_cell market_listing_edit_buttons">\n                <input type="checkbox">\n            </div>'));const o=e.querySelector(".market_listing_item_name_link");if(null!==o){const t=o.getAttribute("href"),r=Z(t).appID,i=Z(t).marketHashName,s=X(e),l=e.querySelector(".market_listing_price"),c=l.querySelectorAll("span")[1].innerText,m=l.querySelectorAll("span")[2].innerText.split("(")[1].split(")")[0];n+=parseInt(H(c)),a+=parseInt(H(m)),V&&(N.jobs.push({type:"my_listing",listingID:s,appID:r,market_hash_name:i,retries:0,callBackFunction:te}),N.active||F())}e.setAttribute("csgotrader_processed","true")}}));const r=document.getElementById("listingsTotal");null!==r&&r.remove(),e.insertAdjacentHTML("afterend",t().sanitize(`<div id='listingsTotal' style="margin: -15px 0 15px;">\n                Total listed price: ${U(n)} You will receive: ${U(a)} (on this page)\n            </div>`))},re=()=>{if(K.inProgress){const e=K.lastRequestSuccessful?5e3:3e4;Y(K.from+K.progress,50).then((n=>{K.lastRequestSuccessful=!0,K.progress+=50,K.history=K.history.concat(((e,n,a)=>{const r=document.createElement("div");r.innerHTML=t().sanitize(e);const o=[];return r.querySelectorAll(".market_listing_row.market_recent_listing_row").forEach((e=>{const t=e.querySelector(".market_listing_item_name").innerText,r=e.querySelector(".market_listing_game_name").innerText,i=e.querySelectorAll(".market_listing_listed_date")[1].innerText.trim(),s=e.querySelectorAll(".market_listing_listed_date")[0].innerText.trim(),l=e.querySelector(".market_listing_price").innerText.trim(),c=H(l),m=ee(e);let d=null,u=null,p=null,_=null,h=null,y=null,f=null,g=null,b=!1;if("sale"===m||"purchase"===m){const t=e.id,r=n.split(`${t}_name`)[1].split(");")[0].split(",");d=parseInt(r[1]),u=parseInt(r[2].split("'")[1]),p=r[3].split("'")[1];const o=a[d][u][p];_=o.classid,h=o.instanceid,y=o.unowned_contextid,f=o.unowned_id,g=o.market_hash_name,b=!0}o.push({itemName:t,gameName:r,listedOn:i,actedOn:s,displayPrice:l,priceInCents:c,type:m,marketName:g,appID:d,contextID:u,assetID:p,classID:_,instanceID:h,unOwnedContextID:y,unOwnedID:f,detailedRow:b})})),r.remove(),o})(n.results_html,n.hovers,n.assets));const a=document.getElementById("requestProgress");a.innerText=(parseInt(a.innerText)+1).toString();const r=document.getElementById("timeRemaining");r.innerText=(parseInt(r.innerText)-5).toString(),K.progress>=K.to-K.from?(K.inProgress=!1,(()=>{const e=document.getElementById("excludeNonTransaction").checked;let t="Item Name,Game Name,Listed On,Acted On, Display Price, Price in Cents, Type, Market Name, App Id, Context Id, Asset Id, Instance Id, Class Id, Unowned Context Id, Unowned Id\n";for(let n=0;n<K.to-K.from;n+=1){const a=K.history[n];e&&"purchase"!==a.type&&"sale"!==a.type||(t+=a.detailedRow?`"${a.itemName}","${a.gameName}","${a.listedOn}","${a.actedOn}","${a.displayPrice}","${a.priceInCents}","${a.type}","${a.marketName}","${a.appID}","${a.contextID}","${a.assetID}","${a.instanceID}","${a.classID}","${a.unOwnedContextID}","${a.unOwnedID}"\n`:`"${a.itemName}","${a.gameName}","${a.listedOn}","${a.actedOn}","${a.displayPrice}","${a.priceInCents}","${a.type}",,,,,,,,,\n`)}const n=`data:text/csv;charset=utf-8,${encodeURIComponent(t)}`,a=document.getElementById("market_history_download");a.setAttribute("href",n),a.classList.remove("hidden")})(),document.getElementById("exportHelperMessage").innerText="Export finished, you can now download the result!",document.getElementById("exportProgress").classList.add("hidden")):setTimeout((()=>{re()}),e)}),(e=>{K.lastRequestSuccessful=!1,console.log(e)}))}},oe=(e,n)=>{const a=U(n),r=(o=e.orderID,document.getElementById(`mybuyorder_${o}`));var o;if(null!==r){const e=r.querySelector(".market_listing_price");if(null!==e.offsetParent){const r=parseInt(H(e.innerText))>=n?"highest":"not_highest";e.insertAdjacentHTML("beforeend",t().sanitize(`<div class="highestOrderPrice ${r}" title="This is the price of the highest buy order right now.">\n                ${a}\n             </div>`))}}};chrome.storage.local.get(["marketMainPagePricesAutoLoad"],(({marketMainPagePricesAutoLoad:e})=>{var t;V=e,chrome.storage.local.get(["realTimePricesFreqSuccess","realTimePricesFreqFailure"],(({realTimePricesFreqSuccess:e,realTimePricesFreqFailure:n})=>{N.delaySuccess=e,N.delayFailure=n,N.cleanupFunction=void 0!==t?t:()=>{}}))})),(()=>{const{version:e}=chrome.runtime.getManifest();console.log(`CS2 Trader - Steam Trading Enhancer ${e} is running on this page. Changelog at: https://csgotrader.app/changelog/`),console.log("If you see any errors that seem related to the extension please email support@csgotrader.app.")})(),chrome.storage.local.get(["steamAcessToken","steamAcessTokenValid"],(({steamAcessToken:e,steamAcessTokenValid:t})=>{const n=document.getElementById("application_config")?.getAttribute("data-loyalty_webapi_token")?.replace('"',"").replace('"',"");!t||t&&e!==n?chrome.runtime.sendMessage({accessTokenToValidate:n},(e=>{e.valid?chrome.storage.local.set({steamAcessToken:n,steamAcessTokenValid:!0},(()=>{console.log("Steam access token updated")})):console.log("Steam access token could not be validated")})):console.log("Access token not changed")})),chrome.storage.local.get("marketHistoryEventsToShow",(({marketHistoryEventsToShow:e})=>{((e,t,n)=>{const a=document.getElementById(t);null!==a&&a.remove();const r=document.createElement("script");r.id=t,n&&(r.dataset.params=JSON.stringify(n)),r.src=chrome.runtime.getURL(`js/injectToPage/${e}.js`),(document.head||document.documentElement).appendChild(r)})("LoadMarketHistory","LoadMarketHistoryScript",{marketHistoryEventsToShow:e})})),(()=>{const e=(()=>{const e=R();if(e){const n=`\n  document.querySelector('body').setAttribute('steamWalletCurrency', GetCurrencyCode(${t().sanitize(e.wallet_currency)}));\n  `;return m(n,0,0,"steamWalletCurrency")}return null})();chrome.storage.local.set({userSteamWalletCurrency:"Unknown"!==e&&null!=e?e:a.short})})(),(()=>{const e=m("document.querySelector('body').setAttribute('steamidOfLoggedinUser', g_steamID);",0,0,"steamidOfLoggedinUser");"false"!==e&&!1!==e&&null!==e&&chrome.storage.local.set({steamIDOfUser:e,steamSessionID:j()},(()=>{}))})(),(()=>{const e=document.getElementById("account_pulldown");if(null!==e){const t=e.innerText;chrome.storage.local.set({nickNameOfUser:t},(()=>{}))}})(),chrome.storage.local.get(["showUpdatedRibbon"],(({showUpdatedRibbon:e})=>{e&&(document.querySelector("body").insertAdjacentHTML("afterbegin",t().sanitize(`<div id="extensionUpdatedRibbon">\n                       CS2 Trader Extension was updated to ${chrome.runtime.getManifest().version}. Check out the \n                      <a href="https://csgotrader.app/changelog/" target="_blank" title="Open CS2Trader Changelog">\n                          Changelog\n                      </a>\n                      for details\n                      <span class="clickable" id="closeUpdatedRibbon" title="Close ribbon until the next update">Close</span>\n                    </div>`,{ADD_ATTR:["target"]})),document.getElementById("closeUpdatedRibbon").addEventListener("click",(()=>{chrome.storage.local.set({showUpdatedRibbon:!1},(()=>{document.getElementById("extensionUpdatedRibbon").classList.add("hidden")}))})))})),chrome.runtime.onMessage.addListener(((e,t,n)=>{if(e.acceptOffer){let t=1;const a=setInterval((()=>{var r,o;t<=5&&(t+=1,(r=e.acceptOffer.offerID,o=e.acceptOffer.partnerID,new Promise(((e,t)=>{chrome.storage.local.get(["steamSessionID"],(({steamSessionID:n})=>{const a=new Headers;a.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");const i=new Request(`https://steamcommunity.com/tradeoffer/${r}/accept`,{method:"POST",headers:a,referrer:`https://steamcommunity.com/tradeoffer/${r}/`,body:`sessionid=${n}&serverid=1&tradeofferid=${r}&partner=${o}&captcha=`});fetch(i).then((e=>{if(e.ok)return e.json();console.log(`Error code: ${e.status} Status: ${e.statusText}`),t({status:e.status,statusText:e.statusText})})).then((t=>{e(t)})).catch((e=>{console.log(e),t(e)}))}))}))).then((()=>{clearInterval(a),n({success:!0})})).catch((e=>{console.log(e),n({success:!1})}))),clearInterval(a)}),5e3)}return!0})),setInterval((()=>{chrome.runtime?.id||window.location.reload()}),5e3),((e,t)=>{if(null===document.getElementById(t)){const n=document.createElement("style");n.id=t,n.innerHTML=e,document.querySelector("body").appendChild(n)}})("\n.market_listing_edit_buttons {\n    width: 120px;\n}","editColumnWidth");const ie=document.getElementById("tabContentsMyActiveMarketListingsTable");if(null!==ie){const e=ie.querySelector(".market_listing_table_header");if(null!==e){const n=document.getElementById("tabContentsMyActiveMarketListingsRows");if(null!==n){new MutationObserver((()=>{"none"!==ie.parentElement.style.display&&ae(ie)})).observe(n,{subtree:!1,childList:!0,attributes:!1})}const a=e.querySelector(".market_listing_right_cell.market_listing_edit_buttons.placeholder");a.innerText="REMOVE ALL",a.setAttribute("title","Click here to remove all listings from this page!"),a.classList.add("clickable"),a.insertAdjacentHTML("afterend",t().sanitize('\n        <span id="removeSelected" class="market_listing_right_cell market_listing_edit_buttons placeholder clickable" title="Click to remove the selected listings.">\n            REMOVE\n        </span>')),document.getElementById("removeSelected").addEventListener("click",(()=>{ie.querySelectorAll(".market_listing_row.market_recent_listing_row").forEach((e=>{if(e.querySelector("input").checked){const t=X(e);z(t).then((()=>{e.remove(),J(ie)}))}}))})),a.addEventListener("click",(()=>{ie.querySelectorAll(".market_listing_row.market_recent_listing_row").forEach((e=>{const t=X(e);z(t).then((()=>{e.remove(),J(ie)}))}))})),setTimeout((()=>{ae(ie)}),1e3)}}const se=document.querySelectorAll(".my_listing_section.market_content_block.market_home_listing_table"),le=2===se.length?se[1]:se[2];if(le){const e=le.querySelectorAll(".market_listing_row.market_recent_listing_row");0!==e.length&&chrome.storage.local.get(["outBidPercentage"],(({outBidPercentage:n})=>{let a=0;const r=10*H(document.getElementById("header_wallet_balance").innerText);e.forEach((e=>{e.style["padding-bottom"]="15px";const r=e.querySelector(".market_listing_right_cell.market_listing_my_price");null!==r&&(r.insertAdjacentHTML("beforebegin",t().sanitize(`\n            <div class="market_listing_right_cell market_listing_edit_buttons" style="line-height: 20px">\n                <div>\n                    <input type="checkbox" />\n                </div>\n                <div>\n                    <button type="submit" class="outbid outBidButton btn_green_white_innerfade btn_small" title="Cancel the current order and place the highest buy order">\n                        Outbid\n                    </button>\n                </div>\n                <div>\n                    <button type="submit" class="outbidByPercent outBidButton btn_green_white_innerfade btn_small" title="Cancel the current order and place a higher order by 1% than the current highest">\n                        Outbid by ${n}%\n                    </button>\n                </div>\n            </div>`)),e.querySelectorAll(".outBidButton").forEach((a=>{a.addEventListener("click",(()=>{const r=a.classList.contains("outbidByPercent")?"percentage":"highest",o=Q(e),i=parseInt(e.querySelector(".market_listing_right_cell.market_listing_my_price.market_listing_buyorder_qty").innerText);G(o).then((()=>{const o=e.querySelector(".market_listing_item_name_link").getAttribute("href"),s=o.split("market/listings/")[1].split("/")[0],l=o.split("market/listings/")[1].split("/")[1];L(s,l).then((o=>{const c=parseInt(o),m="highest"===r?c+1:c>=100?Math.floor(c*(1+n/100)):c+n;((e,t,n,a,r={billing_address:"",billing_address_two:"",billing_city:"",billing_country:"",billing_postal_code:"",billing_state:"",first_name:"",last_name:""})=>new Promise(((o,i)=>{const s=R().wallet_currency,l=new Headers;l.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");const c=new Request("https://steamcommunity.com/market/createbuyorder/",{method:"POST",headers:l,body:`sessionid=${j()}&currency=${s}&appid=${e}&market_hash_name=${t}&price_total=${n*a}&quantity=${a}&first_name=${r.first_name}&last_name=${r.last_name}&billing_address=${r.billing_address}&billing_address_two=${r.billing_address_two}&billing_country=${r.billing_country}&billing_city=${r.billing_city}&billing_state=${r.billing_state}&billing_postal_code=${r.billing_postal_code}&save_my_address=1`});W()(c).then((e=>(e.ok||(console.log(`Error code: ${e.status} Status: ${e.statusText}`),i({status:e.status,statusText:e.statusText})),e.json()))).then((e=>{null===e?i("Error placing buy order!"):1===e.success?o(e):i(e.message)})).catch((e=>{console.log(e),i(e)}))})))(s,l,m,i).then((()=>{const t=e.querySelector(".highestOrderPrice");t&&(t.innerText=U(m),t.classList.add("highest"),t.classList.remove("not_highest")),a.innerText="Order placed"})).catch((e=>{document.querySelector(".ordersTotal").insertAdjacentHTML("afterend",t().sanitize(`<div class="listingError">\n                                ${e}\n                            </div>`))}))}))}))}))})));const o=e.querySelector(".market_listing_item_name_link");if(null!==o){const t=o.getAttribute("href"),n=Z(t).appID,r=Z(t).marketHashName,i=Q(e),s=e.querySelector(".market_listing_price").innerText,l=e.querySelector(".market_listing_buyorder_qty").innerText;a+=parseInt(H(s))*parseInt(l),V&&(N.jobs.push({type:"my_buy_order",orderID:i,appID:n,market_hash_name:r,retries:0,callBackFunction:oe}),N.active||F())}}));const o=a>r?"":`You can set more orders totaling: ${U(r-a)}`;le.insertAdjacentHTML("afterend",t().sanitize(`<div class="ordersTotal">\n                   Orders placed total value: ${U(a)}\n                   Max allowed by current balance: \n                   <span\n                    class="${a>r?"loss":"profit"}"\n                    title="${a>r?"You can't place new orders right now!":"You can place new orders up to this amount!"}">\n                        ${U(r)}\n                   </span>\n                   <span>\n                        ${o} \n                   </span>\n               </div>`));const i=le.querySelector(".market_listing_table_header").querySelector(".market_listing_right_cell.market_listing_edit_buttons.placeholder");i.innerText="CANCEL ALL",i.setAttribute("title","Click here to cancel all your buy orders!"),i.classList.add("clickable"),i.insertAdjacentHTML("afterend",t().sanitize('<span\n                id="cancelSelected"\n                class="market_listing_right_cell market_listing_edit_buttons placeholder clickable"\n                title="Click to cancel the selected buy orders."\n              >\n                CANCEL\n              </span>')),document.getElementById("cancelSelected").addEventListener("click",(()=>{e.forEach((e=>{if(e.querySelector("input").checked){const t=Q(e);G(t).then((()=>{e.remove()}))}}))})),i.addEventListener("click",(()=>{i.getAttribute("data-confirm")?e.forEach(((e,t)=>{setTimeout((()=>{G(Q(e)).then((()=>{e.remove()}))}),1e3*t)})):(i.setAttribute("data-confirm",!0),i.innerText="Click again to remove all!")}))}))}const ce=document.getElementById("tabContentsMyMarketHistory");if(null!==ce){new MutationObserver((e=>{"none"!==ie.style.display&&("tabContentsMyMarketHistory"!==e[0].target.id&&"tabContentsMyMarketHistoryRows"!==e[0].target.id||(ce.querySelectorAll(".market_listing_row.market_recent_listing_row").forEach((e=>{const n=e.getAttribute("data-name");if(null!==n){const a=e.getAttribute("data-appid"),r=e.querySelector(".market_listing_item_name"),o=r.innerText;r.innerHTML=t().sanitize(`<a href="${c(a,n)}" target="_blank">\n                          ${o}\n                      </a>`,{ADD_ATTR:["target"]}),V&&N.jobs.push({type:"history_row",rowID:e.id,appID:a,market_hash_name:n,retries:0,callBackFunction:ne})}const a=ee(e);e.classList.add(a)})),N.active||F()))})).observe(ce,{subtree:!0,childList:!0,attributes:!1})}const me=document.getElementById("tabMyMarketHistory"),de=document.getElementById("tabMyListings");if(null!==me){me.insertAdjacentHTML("afterend",t().sanitize('<a id="tabMyMarketHistoryExport" class="market_tab_well_tab market_tab_well_tab_inactive" href="#">\n                <span class="market_tab_well_tab_contents">Export Market History</span>\n            </a>')),document.getElementById("myListings").insertAdjacentHTML("beforeend",t().sanitize('<div id="tabContentsMyMarketHistoryExport" class="my_listing_section market_content_block" style="display: none;">\n            <h1 class="historyExportTitle">Export Market History (<span class="numberOfHistoryEvents">0</span> history events)</h1> \n            <p>\n                Exporting your market history can be great if you want to analyse it in a spreadsheet for example.\n                A history event is either one of these four actions: a purchase, a sale, a listing creation or a listing cancellation.\n                The result is a .csv file that you can open in Microsoft Excel or use programmatically.\n                It is in utf-8 charset, if you see weird characters in your Excel you should try\n                <a href="https://www.itg.ias.edu/content/how-import-csv-file-uses-utf-8-character-encoding-0" target="_blank">importing it as such</a>.\n            </p>\n            <p>\n                The item names will be in the language you have set on Steam at the moment.\n                Unfortunately Steam only returns day accuracy, that means you won\'t be able to tell at what specific time you transacted.\n                You also won\'t be able to easily tell which year the event is from.\n            </p>\n            <p>\n                The most recent history event is event 0, the first one is the event with the highest number\n                (<span class="numberOfHistoryEvents">0</span> in your case).\n                Your market history is requested in chunks and might take a while if do lots of transactions.\n            </p>\n            <p>\n                Range: Events <input type="number" min="0" max="1000000" value="0" id="exportFrom"/> to <input type="number" min="50" max="1000000" value="50" id="exportTo"/> \n                Exclude non-transaction events<input type="checkbox" id="excludeNonTransaction"/>\n                <span id="exportMarketHistory" class="clickable underline"> Start history export!</span>\n            </p>\n            <div>\n                <span id="exportHelperMessage"></span> \n                <span id="exportProgress" class="hidden">\n                    Request <span id="requestProgress">0</span>/<span id="numberOfRequests">0</span> Estimated time remaining: <span id="timeRemaining">0</span> seconds\n                </span>\n            </div>\n            <div>\n                <a class="hidden" id="market_history_download" href="" download="market_history.csv">Download market_history.csv</a> \n            </div>\n        </div>    \n    ',{ADD_ATTR:["target"]}));const e=document.getElementById("exportMarketHistory"),n=document.getElementById("tabContentsMyMarketHistoryExport"),a=document.getElementById("tabMyMarketHistoryExport");[me,de].forEach((e=>{e.addEventListener("click",(()=>{a.classList.remove("market_tab_well_tab_active"),a.classList.add("market_tab_well_tab_inactive"),n.style.display="none"}))})),document.querySelectorAll("#exportFrom, #exportTo").forEach((e=>{e.addEventListener("change",(()=>{const e=document.getElementById("exportFrom"),t=document.getElementById("exportTo");parseInt(e.value)>=parseInt(t.value)&&(e.value=0,t.value=t.getAttribute("max"))}))})),e.addEventListener("click",(()=>{if(K.inProgress)document.getElementById("exportHelperMessage").innerText="Exporting is already in progress!";else{K.inProgress=!0,K.history=[],K.progress=0,document.getElementById("requestProgress").innerText="0",document.getElementById("exportHelperMessage").innerText="Exporting market history...",K.from=parseInt(document.getElementById("exportFrom").value),K.to=parseInt(document.getElementById("exportTo").value);const e=Math.ceil((K.to-K.from)/50);document.getElementById("numberOfRequests").innerText=e.toString(),document.getElementById("timeRemaining").innerText=(5*e).toString(),document.getElementById("exportProgress").classList.remove("hidden"),re()}})),a.addEventListener("click",(()=>{a.classList.add("market_tab_well_tab_active"),a.classList.remove("market_tab_well_tab_inactive"),me.classList.remove("market_tab_well_tab_active"),me.classList.add("market_tab_well_tab_inactive"),de.classList.remove("market_tab_well_tab_active"),de.classList.add("market_tab_well_tab_inactive"),n.style.display="block",ie.parentElement.style.display="none",ce.style.display="none",Y(0,50).then((e=>{document.getElementById("exportFrom").setAttribute("max",e.total_count);const t=document.getElementById("exportTo");t.setAttribute("max",e.total_count),t.value=e.total_count,document.querySelectorAll(".numberOfHistoryEvents").forEach((t=>{t.innerText=e.total_count}))}))}))}})()})();
//# sourceMappingURL=market.bundle.js.map
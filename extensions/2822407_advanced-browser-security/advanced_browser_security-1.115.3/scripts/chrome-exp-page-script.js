(()=>{"use strict";var e={4950:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AbsDomEvent=t.AbsDomEventId=void 0,t.AbsDomEventId="absDomEvent";class n extends CustomEvent{constructor(e){super(t.AbsDomEventId,{detail:e})}}t.AbsDomEvent=n},5766:(e,t)=>{var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.isChromeExpMessage=t.ChromeExpMessageKind=t.functionNames=t.FunctionOptions=void 0,(i=t.FunctionOptions||(t.FunctionOptions={})).Prevent="prevent",i.OnlyTrack="onlyTrack",t.functionNames={showSaveFilePicker:"showSaveFilePicker",showDirectoryPicker:"showDirectoryPicker"},function(e){e.FunctionCalled="functionCalled",e.SetConfiguration="setConfiguration",e.RequestConfiguration="requestConfiguration"}(n=t.ChromeExpMessageKind||(t.ChromeExpMessageKind={})),t.isChromeExpMessage=function(e){if(!e||"object"!=typeof e)return!1;const{kind:t}=e;return!(!t||!Object.values(n).includes(t))}},6186:(e,t)=>{var n,i,o,s;Object.defineProperty(t,"__esModule",{value:!0}),t.isManagementMessage=t.ContentScriptBaseMessageKind=t.ContentScriptIdentifier=t.PageScriptIdentifier=t.ContentScriptManagementOperation=void 0,(s=t.ContentScriptManagementOperation||(t.ContentScriptManagementOperation={})).Initialize="Initialize",s.Uninitialize="Uninitialize",(o=t.PageScriptIdentifier||(t.PageScriptIdentifier={})).ObjectUrlPageScript="objectUrlPageScript",o.SafariDownloadClickPageScript="safariDownloadClickPageScript",o.ChromeExpPageScript="chromeExpPageScript",o.UploadDetectionPageScript="uploadDetectionPageScript",(i=t.ContentScriptIdentifier||(t.ContentScriptIdentifier={})).ChromeExp="chromeExp",i.BlobDownload="blobDownload",i.DetectionRescan="detectionRescan",i.PageInfo="pageInfo",i.Timers="timers",i.SignInEnforcementInteractionsDisabling="signInEnforcementInteractionsDisabling",i.DomainDefinedSDD="domainDefinedSDD",i.SafariDownloadClickContentScript="safariDownloadClickContentScript",i.UploadDetectionContentScript="uploadDetectionContentScript",function(e){e.Management="management"}(n=t.ContentScriptBaseMessageKind||(t.ContentScriptBaseMessageKind={})),t.isManagementMessage=function(e){if(!e||"object"!=typeof e)return!1;const{kind:t}=e;return t===n.Management}},3098:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DomEventBase=void 0,t.DomEventBase=class{constructor(e,t=document.head){this.id=e,this.target=t,this.tagName=t instanceof HTMLBodyElement?"div":"meta",this.querySelector=`${this.tagName}#${e}`,this.mutationObserver=new MutationObserver(this.handleMutation.bind(this)),this.mutationObserver.observe(t,{subtree:!0,childList:!0})}find(){return document.querySelector(this.querySelector)||void 0}isCandidate(e){return e.nodeType===Node.ELEMENT_NODE&&e.tagName.toLowerCase()===this.tagName.toLowerCase()&&e.id===this.id}done(){var e,t;null===(e=this.element)||void 0===e||e.remove(),this.element=void 0,null===(t=this.mutationObserver)||void 0===t||t.disconnect(),this.mutationObserver=void 0}}},4240:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DomListener=void 0;const i=n(3098);class o extends i.DomEventBase{handleMutation(e){var t;for(const n of e)if("childList"===n.type)if(void 0!==this.element)for(const e of n.removedNodes){const t=e;if(this.element===t){this.done();break}}else for(const e of n.addedNodes){const n=e;if(this.isCandidate(n)){this.element=n,null===(t=this.callback)||void 0===t||t.call(this,this.element);break}}}subscribe(e){this.callback=e;const t=this.find();void 0!==t&&(this.element=t,this.callback(t))}done(){this.callback=void 0,super.done()}}t.DomListener=o},9503:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessagePortSender=void 0,t.MessagePortSender=class{constructor(){this.aggregatedMessages=[]}start(e){let t=this.aggregatedMessages.pop();for(;void 0!==t;)e.postMessage(t),t=this.aggregatedMessages.pop();this.port=e}send(e){try{this.port?this.port.postMessage(e):this.aggregatedMessages.push(e)}catch(e){}}}},916:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.isScriptsMessage=t.ScriptsMessageKind=void 0,function(e){e.RequestPort="requestPort",e.TransferPort="transferPort"}(n=t.ScriptsMessageKind||(t.ScriptsMessageKind={})),t.isScriptsMessage=function(e){if(!e||"object"!=typeof e)return!1;const{kind:t}=e;return!(!t||!Object.values(n).includes(t))}},4873:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.waitForChannel=void 0;const i=n(4240),o=n(916),s=n(4319);t.waitForChannel=function(e,t,n){const r=s.getDomEventId(e,t),a=new i.DomListener(r);a.subscribe((()=>{!function(e,t,n){s.onMessageRecieved(window,((i,s)=>{if(o.isScriptsMessage(i.data)&&i.data.originator!==t&&i.data.target===t&&i.data.originator===e&&i.data.kind===o.ScriptsMessageKind.TransferPort){s();const{port:e}=i.data;n(e)}}));const i={kind:o.ScriptsMessageKind.RequestPort,originator:t,target:e};window.postMessage(i,"*")}(e,t,(e=>{a.done(),n(e)}))}))}},4319:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.onMessageRecieved=t.whenHeadIsReady=t.getDomEventId=void 0;const i=n(4950);t.getDomEventId=function(e,t){return`${e}-${t}`},t.whenHeadIsReady=function(e){document.head?e():document.documentElement.addEventListener(i.AbsDomEventId,(t=>{const n=t;"rootElementAdded"===n.detail.type&&"head"===n.detail.rootElement&&e()}),{once:!0})},t.onMessageRecieved=function(e,t){const n=i=>{t(i,(()=>e.removeEventListener("message",n)))};e.addEventListener("message",n)}}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}(()=>{const e=n(6186),t=n(4319),i=n(5766),o=n(4873),s=n(9503);let r={showSaveFilePicker:i.FunctionOptions.OnlyTrack,showDirectoryPicker:i.FunctionOptions.OnlyTrack};const a=Reflect.getOwnPropertyDescriptor(window,i.functionNames.showSaveFilePicker),c=Reflect.getOwnPropertyDescriptor(window,i.functionNames.showDirectoryPicker);Reflect.defineProperty(window,i.functionNames.showSaveFilePicker,Object.assign(Object.assign({},a),{value:function(){const e={kind:i.ChromeExpMessageKind.FunctionCalled,functionName:i.functionNames.showSaveFilePicker,url:window.location.href};return d.send(e),r.showSaveFilePicker===i.FunctionOptions.Prevent?Promise.resolve():Reflect.apply(null==a?void 0:a.value,this,arguments)}}))||console.error(`Failed to override ${i.functionNames.showSaveFilePicker}`),Reflect.defineProperty(window,i.functionNames.showDirectoryPicker,Object.assign(Object.assign({},c),{value:function(){const e={kind:i.ChromeExpMessageKind.FunctionCalled,functionName:i.functionNames.showDirectoryPicker,url:window.location.href};return d.send(e),r.showDirectoryPicker===i.FunctionOptions.Prevent?Promise.resolve():Reflect.apply(null==c?void 0:c.value,this,arguments)}}))||console.error(`Failed to override ${i.functionNames.showDirectoryPicker}`);const d=new s.MessagePortSender;d.send({kind:i.ChromeExpMessageKind.RequestConfiguration}),t.whenHeadIsReady((()=>{o.waitForChannel(e.ContentScriptIdentifier.ChromeExp,e.PageScriptIdentifier.ChromeExpPageScript,(e=>{d.start(e),null==e||e.addEventListener("message",(e=>{i.isChromeExpMessage(e.data)&&function(e){if(e.kind===i.ChromeExpMessageKind.SetConfiguration){const{config:t}=e;r=t}}(e.data)})),null==e||e.start()}))}))})()})();
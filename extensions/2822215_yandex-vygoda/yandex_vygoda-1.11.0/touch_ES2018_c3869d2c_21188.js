"use strict";(self.webpackChunkv4fire_1=self.webpackChunkv4fire_1||[]).push([[21188],{21188:(t,e,n)=>{n.r(e),n.d(e,{default:()=>P});var a=n(93385),c=n(72031),s=n(40787),i=n(13123),o=n(39910),r=n(81667),l=n(59153),u=n(84132),f=function(t,e,n,a){var c,s=arguments.length,i=s<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,a);else for(var o=t.length-1;o>=0;o--)(c=t[o])&&(i=(s<3?c(i):s>3?c(e,n,i):c(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i};let d=class Account extends u.ZP{constructor(){super(...arguments),this.baseURL="/account"}};d.request=u.ZP.request({cacheStrategy:"never"}),d=f([(0,u.Ap)("ext")],d);const p=d;var w=n(94819);const v=i.default.namespace("initSession");async function h(){var t;try{return(await(new p).get()).data}catch(e){e instanceof l.Z&&(null===(t=e.details.response)||void 0===t?void 0:t.status)===r.Z.UNAUTHORIZED||v.error("getUserAccounts",e)}}const y="lastUserUid";async function Z(){let t;return t=w.Bh?await(0,w.Kk)(y):await(0,w.fp)(y),null!=t?t:void 0}async function P(){let t=!1;const[e,n]=await Promise.all([h(),Z()]);if(null!=e&&(t=!0,function(t){t&&(o.ZP.account=t)}(e)),t?await(0,a.t8)(!0):await(0,a.ZH)(),(null==e?void 0:e.puid)!==n){const t=[];null!=n&&t.push((0,c.VS)()),t.push(async function(t){const e=null!=t?t:null;w.Bh?await(0,w.jw)(y,e):await(0,w.pj)(y,e)}(null==e?void 0:e.puid)),await Promise.all(t)}(0,s.Z)("sessionReady")}}}]);
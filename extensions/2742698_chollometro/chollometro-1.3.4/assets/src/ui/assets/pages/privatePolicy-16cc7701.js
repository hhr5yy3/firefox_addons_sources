import { a as jsxs, j as jsx, R as ReactDOM } from "../../../../index-3699c331.js";
/* empty css                          */import { r as reactExports } from "../../../../index-3da6bb4f.js";
import { S as SvgCholloLogoDarkdatauri } from "../../../../chollo_logo_dark.datauri-4a67f6d4.js";
import { B as Button } from "../../../../Button-e5b90d65.js";
import { g as getExtensionPage, b as browser, p as privatePolicyData } from "../../../../urlAccess-93f11c64.js";
import { m as metricsInstall } from "../../../../metricsInstall.api-01d1c521.js";
const wrapper = "_wrapper_idgyj_1";
const styles$1 = {
  wrapper
};
const ppContainer = "_ppContainer_g0rmd_1";
const ppIcon = "_ppIcon_g0rmd_24";
const text = "_text_g0rmd_28";
const logo = "_logo_g0rmd_41";
const checkPPText = "_checkPPText_g0rmd_49";
const buttonWrapper = "_buttonWrapper_g0rmd_63";
const styles = {
  ppContainer,
  ppIcon,
  text,
  logo,
  checkPPText,
  buttonWrapper
};
const SvgPrivacityMain = (props) => /* @__PURE__ */ reactExports.createElement("svg", { width: 191, height: 165, viewBox: "0 0 191 165", fill: "none", xmlns: "http://www.w3.org/2000/svg", ...props }, /* @__PURE__ */ reactExports.createElement("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M119.477 155C139.07 155 154.977 157.24 154.977 160C154.977 162.76 139.07 165 119.477 165C99.8832 165 83.9766 162.76 83.9766 160C83.9766 157.24 99.8832 155 119.477 155Z", fill: "#F0E8E4" }), /* @__PURE__ */ reactExports.createElement("g", { clipPath: "url(#clip0_802_3786)" }, /* @__PURE__ */ reactExports.createElement("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M112.076 11.0159C111.869 10.9596 111.651 11.0531 111.527 11.2258C111.402 11.3992 111.395 11.629 111.507 11.8098C117.656 21.8254 116.501 30.655 112.398 33.6845C104.045 39.8531 86.7917 49.4309 78.139 58.0314C68.0173 68.0921 61.7772 81.8407 61.7772 96.9906C61.7772 127.794 87.5729 152.803 119.346 152.803C149.199 152.803 173.775 130.725 176.636 102.506C178.653 82.6166 171.66 58.1818 156.874 45.6099C156.701 45.4662 156.456 45.447 156.262 45.5616C156.068 45.6762 155.969 45.9003 156.014 46.1196C157.518 53.445 155.255 57.9905 149.992 58.7132C146.96 59.1299 141.091 57.679 144.163 45.4929C145.767 39.1317 149.009 21.0872 112.076 11.0159Z", fill: "#FFBE00" }), /* @__PURE__ */ reactExports.createElement("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M83.3499 69.66C86.4799 66.68 89.9184 65.6345 93.0929 65.5039C94.1105 65.4621 95.0836 65.59 96.03 65.7281C96.6798 65.8233 97.3146 65.9173 97.9317 66.0619C98.9315 66.2973 99.8839 66.4865 100.75 66.9007C101.394 67.2076 102.026 67.403 102.569 67.8113C103.311 68.6727 104.613 68.7758 105.482 68.0414C106.349 67.3069 106.452 66.0115 105.714 65.1501C104.969 63.8091 103.925 62.6993 102.646 61.6646C101.851 61.0212 100.925 60.5469 99.9403 60.1253C99.0057 59.7255 97.994 59.4533 96.9438 59.311C95.4604 59.1101 93.8998 59.1537 92.3423 59.4754C88.2006 60.3307 83.9818 62.7556 80.7836 67.527C80.1902 68.2302 80.2822 69.279 80.9913 69.8676C81.7003 70.4563 82.7565 70.3632 83.3499 69.66Z", fill: "#E18B00" }), /* @__PURE__ */ reactExports.createElement("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M151.614 66.9112C150.006 63.9369 147.046 61.7067 143.631 60.3383C142.213 59.77 140.711 59.4229 139.189 59.2632C137.068 59.0408 134.888 59.2123 132.932 59.9249C131.689 60.378 130.514 61.0117 129.532 61.8908C128.105 63.1647 126.948 64.6616 126.236 66.6075C125.652 67.5797 125.972 68.8397 126.951 69.4195C127.93 69.999 129.2 69.6805 129.785 68.7083C130.286 68.1727 130.882 67.8634 131.449 67.4668C132.259 66.8988 133.164 66.6169 134.078 66.2952C134.68 66.0828 135.3 65.9372 135.929 65.792C136.911 65.5654 137.908 65.371 138.931 65.3324C142.681 65.1916 146.604 66.2047 148.861 68.8026C149.386 69.5568 150.431 69.745 151.19 69.2233C151.95 68.7012 152.14 67.6654 151.614 66.9112Z", fill: "#E18B00" }), /* @__PURE__ */ reactExports.createElement("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M119.042 137.109C121.106 137.137 126.823 137.224 132.512 135.414C138.578 133.484 144.56 129.461 146.634 121.329C146.956 120.068 146.186 118.785 144.916 118.465C143.647 118.146 142.354 118.91 142.033 120.171C140.436 126.434 135.735 129.439 131.064 130.925C126.016 132.53 120.939 132.421 119.107 132.396C117.798 132.378 116.719 133.419 116.701 134.72C116.683 136.021 117.732 137.091 119.042 137.109Z", fill: "#5F2C00" }), /* @__PURE__ */ reactExports.createElement("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M93.4551 78.4986C85.8054 79.1058 79.8079 88.7475 80.3975 100.239C80.987 111.739 85.6889 120.882 94.496 120.181C105.086 119.342 107.881 109.751 107.299 98.2518C106.709 86.7599 101.112 77.8915 93.4551 78.4986Z", fill: "#F5F3F3" }), /* @__PURE__ */ reactExports.createElement("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M104.756 113.838C103.768 114.642 102.596 115.164 101.243 115.329C94.1645 116.192 91.5181 110.014 90.542 102.127C89.5689 94.2407 92.779 87.3499 97.7099 86.7489C102.113 86.2127 104.762 88.3044 106.382 91.8102C106.865 93.8224 107.174 95.9877 107.293 98.2532C107.601 104.31 106.972 109.84 104.756 113.838Z", fill: "#5F2C00" }), /* @__PURE__ */ reactExports.createElement("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M129.175 98.4327C129.586 98.2869 129.997 98.1522 130.414 98.0275C133.027 97.2448 135.775 96.8106 138.553 96.8727C141.267 96.9344 144.015 97.4082 146.688 98.4935C149.058 99.4566 151.363 100.832 153.566 102.753C154.482 103.427 154.677 104.711 153.997 105.622C153.32 106.532 152.024 106.724 151.108 106.051C149.078 104.806 147.028 104.066 145.007 103.558C142.855 103.017 140.74 102.91 138.656 103.025C136.48 103.147 134.366 103.596 132.319 104.224C130.169 104.884 128.09 105.716 126.178 106.752C125.161 107.323 123.905 107.287 122.922 106.657C121.939 106.026 121.39 104.906 121.495 103.748C122.468 96.1128 126.758 90.5181 132.496 87.1957C138.302 83.8334 145.464 82.759 151.479 84.0489C152.39 84.2011 153.003 85.0593 152.852 85.9629C152.698 86.8674 151.832 87.4786 150.921 87.3265C145.762 86.7011 139.844 88.155 135.19 91.3807C132.634 93.1513 130.496 95.5071 129.175 98.4327Z", fill: "#5F2C00" })), /* @__PURE__ */ reactExports.createElement("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M30.8602 4.3372C13.8871 6.72261 1.7502 21.1276 3.8893 36.3481C6.02842 51.5687 21.6657 62.0703 38.6388 59.6849C41.0636 59.3441 43.2354 58.8036 45.3749 58.0326C49.9196 59.9808 55.0283 61.1441 59.975 61.1545C57.6346 58.8965 55.4821 56.377 53.7385 53.5648C61.4989 48.0059 66.0957 39.1289 65.6811 29.7804C65.5838 29.0886 65.7068 28.3657 65.6096 27.6739C63.4705 12.4534 47.8331 1.95181 30.8602 4.3372Z", fill: "#FF7900" }), /* @__PURE__ */ reactExports.createElement("g", { filter: "url(#filter0_d_802_3786)" }, /* @__PURE__ */ reactExports.createElement("path", { fillRule: "evenodd", clipRule: "evenodd", d: "M48.639 22.8639L38.1936 24.7057C37.4559 23.5895 36.4794 22.5859 35.299 21.7593C30.0943 18.115 22.8874 19.3858 19.2431 24.5904C15.5988 29.795 16.8695 37.0019 22.0742 40.6462C27.2788 44.2906 34.4857 43.0198 38.13 37.8152C38.9566 36.6347 39.5122 35.3845 39.8424 34.0564L43.8107 33.3567L46.4594 29.5739L50.2422 32.2227L50.2878 32.2146C52.8877 31.7562 54.5972 29.3148 54.1388 26.7149C53.6615 24.1417 51.2202 22.4323 48.639 22.8639V22.8639V22.8639ZM28.4585 31.243C28.8633 33.4056 27.8998 35.4097 26.3034 35.6912C24.7069 35.9727 23.0973 34.4458 22.7112 32.2564C22.3252 30.067 23.3155 28.0816 24.912 27.8001C26.5084 27.5186 28.0993 29.0724 28.4585 31.243V31.243V31.243Z", fill: "white" })), /* @__PURE__ */ reactExports.createElement("defs", null, /* @__PURE__ */ reactExports.createElement("filter", { id: "filter0_d_802_3786", x: 15.843, y: 19.6797, width: 39.69, height: 25.6863, filterUnits: "userSpaceOnUse", colorInterpolationFilters: "sRGB" }, /* @__PURE__ */ reactExports.createElement("feFlood", { floodOpacity: 0, result: "BackgroundImageFix" }), /* @__PURE__ */ reactExports.createElement("feColorMatrix", { in: "SourceAlpha", type: "matrix", values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0", result: "hardAlpha" }), /* @__PURE__ */ reactExports.createElement("feOffset", { dy: 1.32009 }), /* @__PURE__ */ reactExports.createElement("feGaussianBlur", { stdDeviation: 0.660045 }), /* @__PURE__ */ reactExports.createElement("feColorMatrix", { type: "matrix", values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.0884284 0" }), /* @__PURE__ */ reactExports.createElement("feBlend", { mode: "normal", in2: "BackgroundImageFix", result: "effect1_dropShadow_802_3786" }), /* @__PURE__ */ reactExports.createElement("feBlend", { mode: "normal", in: "SourceGraphic", in2: "effect1_dropShadow_802_3786", result: "shape" })), /* @__PURE__ */ reactExports.createElement("clipPath", { id: "clip0_802_3786" }, /* @__PURE__ */ reactExports.createElement("rect", { width: 143, height: 142, fill: "white", transform: "translate(47.9766 11)" }))));
const PrivatePolicy = ({ isAccepted = false, ppCallback, inputCallback }) => /* @__PURE__ */ jsxs("div", { className: styles.ppContainer, children: [
  /* @__PURE__ */ jsxs("aside", { className: styles.aside, children: [
    /* @__PURE__ */ jsx("div", { className: styles.ppIcon, children: /* @__PURE__ */ jsx(SvgPrivacityMain, {}) }),
    /* @__PURE__ */ jsxs("div", { className: styles.text, children: [
      /* @__PURE__ */ jsx("h3", { children: "¡Ya casi estamos!" }),
      /* @__PURE__ */ jsx("p", { children: "Pero para poder acompañarte en tus compras, necesitamos tu autorización" })
    ] })
  ] }),
  /* @__PURE__ */ jsxs("main", { children: [
    /* @__PURE__ */ jsx("div", { className: styles.logo, children: /* @__PURE__ */ jsx(SvgCholloLogoDarkdatauri, {}) }),
    /* @__PURE__ */ jsxs("section", { className: styles.pp, children: [
      /* @__PURE__ */ jsx("h3", { children: "Tu privacidad es importante para nosotros" }),
      /* @__PURE__ */ jsx("p", { children: "Para continuar con la instalación necesitamos que aceptes nuestra política de privacidad." }),
      /* @__PURE__ */ jsxs("div", { className: styles.checkPPText, children: [
        /* @__PURE__ */ jsx("input", { type: "checkbox", onChange: inputCallback }),
        /* @__PURE__ */ jsxs("p", { children: [
          "Permitir que la extensión de Chollometro obtenga mis datos de navegación para mostrarme los precios y cupones disponibles. Para más información, consulta la",
          " ",
          /* @__PURE__ */ jsx("a", { href: getExtensionPage("privacyConsent.html"), target: "_blank", children: "política de privacidad" }),
          "."
        ] })
      ] }),
      /* @__PURE__ */ jsx("div", { className: styles.buttonWrapper, children: /* @__PURE__ */ jsx(
        Button,
        {
          text: "Finalizar instalación",
          size: "m",
          disabled: !isAccepted,
          onClick: ppCallback,
          radius: true
        }
      ) })
    ] })
  ] })
] });
metricsInstall.connect();
const PPView = () => {
  const [isAccepted, setIsAccepted] = reactExports.useState(false);
  const ppCallback = async () => {
    setTimeout(async () => {
      browser.runtime.reload();
      window.close();
    }, 500);
    await metricsInstall.methods.installMetric({ name: "ext-event-install" });
    await privatePolicyData.set({ isPolicyAuth: true });
    browser.tabs.create({
      url: "https://extension.chollometro.com/onboarding"
    });
  };
  const inputCallback = () => {
    setIsAccepted(!isAccepted);
  };
  return /* @__PURE__ */ jsx("div", { className: styles$1.wrapper, children: /* @__PURE__ */ jsx(
    PrivatePolicy,
    {
      isAccepted,
      ppCallback,
      inputCallback
    }
  ) });
};
ReactDOM.render(/* @__PURE__ */ jsx(PPView, {}), document.querySelector(".root"));

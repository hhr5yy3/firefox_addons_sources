var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(t)}function r(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(e,t){e.appendChild(t)}function a(e,t,n){e.insertBefore(t,n||null)}function l(e){e.parentNode&&e.parentNode.removeChild(e)}function c(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(e){return document.createElement(e)}function d(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function p(e){return document.createTextNode(e)}function f(){return p(" ")}function m(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function g(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function b(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let v;function h(e){v=e}function y(){if(!v)throw new Error("Function called outside component initialization");return v}function x(e){y().$$.on_mount.push(e)}function q(){const e=y();return(t,n,{cancelable:s=!1}={})=>{const r=e.$$.callbacks[t];if(r){const i=function(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,s,t),r}(t,n,{cancelable:s});return r.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}const $=[],C=[],N=[],w=[],k=Promise.resolve();let A=!1;function j(e){N.push(e)}function O(e){w.push(e)}const E=new Set;let S=0;function M(){const e=v;do{for(;S<$.length;){const e=$[S];S++,h(e),L(e.$$)}for(h(null),$.length=0,S=0;C.length;)C.pop()();for(let e=0;e<N.length;e+=1){const t=N[e];E.has(t)||(E.add(t),t())}N.length=0}while($.length);for(;w.length;)w.pop()();A=!1,E.clear(),h(e)}function L(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}const V=new Set;let D;function I(){D={r:0,c:[],p:D}}function R(){D.r||s(D.c),D=D.p}function H(e,t){e&&e.i&&(V.delete(e),e.i(t))}function P(e,t,n,s){if(e&&e.o){if(V.has(e))return;V.add(e),D.c.push((()=>{V.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}else s&&s()}function T(e,t,n){const s=e.$$.props[t];void 0!==s&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function U(e){e&&e.c()}function G(e,n,i,o){const{fragment:a,after_update:l}=e.$$;a&&a.m(n,i),o||j((()=>{const n=e.$$.on_mount.map(t).filter(r);e.$$.on_destroy?e.$$.on_destroy.push(...n):s(n),e.$$.on_mount=[]})),l.forEach(j)}function K(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function X(e,t){-1===e.$$.dirty[0]&&($.push(e),A||(A=!0,k.then(M)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function B(t,r,i,o,a,c,u,d=[-1]){const p=v;h(t);const f=t.$$={fragment:null,ctx:[],props:c,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(p?p.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:r.target||p.$$.root};u&&u(f.root);let m=!1;if(f.ctx=i?i(t,r.props||{},((e,n,...s)=>{const r=s.length?s[0]:n;return f.ctx&&a(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),m&&X(t,e)),n})):[],f.update(),m=!0,s(f.before_update),f.fragment=!!o&&o(f.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);f.fragment&&f.fragment.l(e),e.forEach(l)}else f.fragment&&f.fragment.c();r.intro&&H(t.$$.fragment),G(t,r.target,r.anchor,r.customElement),M()}h(p)}class F{$destroy(){K(this,1),this.$destroy=e}$on(t,n){if(!r(n))return e;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const e=s.indexOf(n);-1!==e&&s.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function W(t){let n;return{c(){n=u("nav"),n.innerHTML='<div class="svelte-9qp7ap"><svg viewBox="0 0 16 16" style="enable-background:new 0 0 16 16;" xml:space="preserve" class="svelte-9qp7ap"><g><path d="M15.7,0.8c-0.1-0.3-0.3-0.5-0.5-0.5C14.9,0.2,8.4-1.1,4.6,2.7C1.3,6,1.9,11.4,2.1,12.9l-1.9,1.9c-0.3,0.3-0.3,0.7,0,1C0.3,15.9,0.5,16,0.7,16s0.4-0.1,0.5-0.2l1.9-1.9c0.5,0.1,1.4,0.2,2.6,0.2c2.3,0,5.4-0.5,7.6-2.7C17.1,7.6,15.8,1.1,15.7,0.8z M12.3,10.4c-2.8,2.8-7.4,2.3-8.9,2.1c-0.2-1.5-0.6-6.1,2.1-8.9c2.8-2.8,7.4-2.3,8.9-2.1C14.7,3,15.1,7.7,12.3,10.4z"></path><path d="M11.6,3.9L7.9,8.6l-1.6-2c-0.2-0.3-0.7-0.4-1-0.1c-0.3,0.2-0.4,0.7-0.1,1l2.1,2.7c0.1,0.2,0.3,0.3,0.5,0.3c0.2,0,0.4-0.1,0.5-0.3l4.2-5.4c0.2-0.3,0.2-0.7-0.1-1C12.2,3.6,11.8,3.6,11.6,3.9z"></path></g><title>Logo NumÉcoDiag</title></svg> \n        <h1 class="svelte-9qp7ap"><a href="#header" class="svelte-9qp7ap">NumÉcoDiag</a></h1></div> \n    <ul class="svelte-9qp7ap"><li class="svelte-9qp7ap"><a href="#resultats" class="svelte-9qp7ap">Résultats</a></li> \n        <li class="svelte-9qp7ap"><a href="#diagnostic" class="svelte-9qp7ap">Diagnostic</a></li> \n        <li class="svelte-9qp7ap"><a href="#a-propos" class="svelte-9qp7ap">À propos</a></li></ul>',g(n,"class","svelte-9qp7ap")},m(e,t){a(e,n,t)},p:e,i:e,o:e,d(e){e&&l(n)}}}class Y extends F{constructor(e){super(),B(this,e,null,W,i,{})}}function z(t){let n;return{c(){n=u("div"),n.innerHTML='<svg><circle cx="75" cy="75" r="50" style="stroke-dasharray: 0px, 0px;" class="svelte-17tn8rr"></circle><circle cx="75" cy="75" r="50" style="stroke-dasharray: 0px, 0px;" class="svelte-17tn8rr"></circle><circle cx="75" cy="75" r="50" style="stroke-dasharray: 0px, 0px;" class="svelte-17tn8rr"></circle><circle cx="75" cy="75" r="50" style="stroke-dasharray: 0px, 0px;" class="svelte-17tn8rr"></circle></svg>',g(n,"class","donut svelte-17tn8rr"),g(n,"aria-hidden","true"),g(n,"focusable","false")},m(e,t){a(e,n,t)},p:e,i:e,o:e,d(e){e&&l(n)}}}function J(e,t,n){let s,{counters:r}=t,{nbOfCriteria:i}=t;function o(e){let t=document.querySelectorAll(".donut circle");const n=100*Math.PI;let s=0,r=n;for(let i of e)i>0?(t[s].style.strokeDasharray=r+" "+n,r-=i/100*n,t[s].style.display="initial"):t[s].style.display="none",s++}return x((()=>o(s))),e.$$set=e=>{"counters"in e&&n(0,r=e.counters),"nbOfCriteria"in e&&n(1,i=e.nbOfCriteria)},e.$$.update=()=>{3&e.$$.dirty&&n(2,s=[((i-(r.satisfied+r.rejected+r.notApplicable))/i*100).toFixed(2),(r.satisfied/i*100).toFixed(2),(r.rejected/i*100).toFixed(2),(r.notApplicable/i*100).toFixed(2)]),4&e.$$.dirty&&document.querySelector(".donut")&&o(s)},[r,i,s]}class Z extends F{constructor(e){super(),B(this,e,J,z,i,{counters:0,nbOfCriteria:1})}}function Q(t){let n,s,r,i,c,d,m,v,h,y,x,q,$,C,N,w,k,A,j,O,E,S,M,L,V,D,I,R,H,P,T,U,G,K,X,B,F,W,Y,z=t[1]-t[3]+"",J=t[0].satisfied+"",Z=t[0].rejected+"",Q=t[0].notApplicable+"",_="NaN"!==t[2]?t[2]+" %":"Indisponible";return{c(){n=u("table"),s=u("tr"),r=u("th"),r.textContent="Total critères",i=f(),c=u("td"),d=p(t[1]),m=f(),v=u("tr"),h=u("th"),h.textContent="À évaluer",y=f(),x=u("td"),q=p(z),$=f(),C=u("tr"),N=u("th"),N.textContent="Conformes",w=f(),k=u("td"),A=p(J),j=f(),O=u("tr"),E=u("th"),E.textContent="Non conformes",S=f(),M=u("td"),L=p(Z),V=f(),D=u("tr"),I=u("th"),I.textContent="Non applicables",R=f(),H=u("td"),P=p(Q),T=f(),U=u("tr"),G=u("th"),K=p("Conformité ("),X=p(t[3]),B=p(" critères évalués)"),F=f(),W=u("td"),Y=p(_),g(r,"class","svelte-5yj1ox"),g(c,"class","svelte-5yj1ox"),g(h,"class","donut-ref notEvaluated svelte-5yj1ox"),g(x,"class","svelte-5yj1ox"),g(N,"class","donut-ref satisfied svelte-5yj1ox"),g(k,"class","svelte-5yj1ox"),g(E,"class","donut-ref rejected svelte-5yj1ox"),g(M,"class","svelte-5yj1ox"),g(I,"class","donut-ref not-applicable svelte-5yj1ox"),g(H,"class","svelte-5yj1ox"),g(G,"class","svelte-5yj1ox"),g(W,"class","svelte-5yj1ox"),g(n,"class","svelte-5yj1ox")},m(e,t){a(e,n,t),o(n,s),o(s,r),o(s,i),o(s,c),o(c,d),o(n,m),o(n,v),o(v,h),o(v,y),o(v,x),o(x,q),o(n,$),o(n,C),o(C,N),o(C,w),o(C,k),o(k,A),o(n,j),o(n,O),o(O,E),o(O,S),o(O,M),o(M,L),o(n,V),o(n,D),o(D,I),o(D,R),o(D,H),o(H,P),o(n,T),o(n,U),o(U,G),o(G,K),o(G,X),o(G,B),o(U,F),o(U,W),o(W,Y)},p(e,[t]){2&t&&b(d,e[1]),10&t&&z!==(z=e[1]-e[3]+"")&&b(q,z),1&t&&J!==(J=e[0].satisfied+"")&&b(A,J),1&t&&Z!==(Z=e[0].rejected+"")&&b(L,Z),1&t&&Q!==(Q=e[0].notApplicable+"")&&b(P,Q),8&t&&b(X,e[3]),4&t&&_!==(_="NaN"!==e[2]?e[2]+" %":"Indisponible")&&b(Y,_)},i:e,o:e,d(e){e&&l(n)}}}function _(e,t,n){let s,r,{counters:i}=t,{nbOfCriteria:o}=t;return e.$$set=e=>{"counters"in e&&n(0,i=e.counters),"nbOfCriteria"in e&&n(1,o=e.nbOfCriteria)},e.$$.update=()=>{1&e.$$.dirty&&n(3,s=i.satisfied+i.rejected+i.notApplicable),1&e.$$.dirty&&n(2,r=(i.satisfied/(79-i.notApplicable)*100).toFixed(0))},[i,o,r,s]}class ee extends F{constructor(e){super(),B(this,e,_,Q,i,{counters:0,nbOfCriteria:1})}}function te(e){let t,n,s,r,i,c,d,p;return i=new Z({props:{counters:e[0],nbOfCriteria:e[1]}}),d=new ee({props:{counters:e[0],nbOfCriteria:e[1]}}),{c(){t=u("section"),n=u("h2"),n.textContent="Résultats",s=f(),r=u("div"),U(i.$$.fragment),c=f(),U(d.$$.fragment),g(r,"class","svelte-zaiv6o"),g(t,"id","resultats"),g(t,"class","page-anchor svelte-zaiv6o")},m(e,l){a(e,t,l),o(t,n),o(t,s),o(t,r),G(i,r,null),o(r,c),G(d,r,null),p=!0},p(e,[t]){const n={};1&t&&(n.counters=e[0]),2&t&&(n.nbOfCriteria=e[1]),i.$set(n);const s={};1&t&&(s.counters=e[0]),2&t&&(s.nbOfCriteria=e[1]),d.$set(s)},i(e){p||(H(i.$$.fragment,e),H(d.$$.fragment,e),p=!0)},o(e){P(i.$$.fragment,e),P(d.$$.fragment,e),p=!1},d(e){e&&l(t),K(i),K(d)}}}function ne(e,t,n){let{counters:s}=t,{nbOfCriteria:r}=t;return e.$$set=e=>{"counters"in e&&n(0,s=e.counters),"nbOfCriteria"in e&&n(1,r=e.nbOfCriteria)},[s,r]}class se extends F{constructor(e){super(),B(this,e,ne,te,i,{counters:0,nbOfCriteria:1})}}function re(e,t,n){const s=e.slice();s[12]=t[n];const r=s[12].id.replace(".","-");return s[13]=r,s}function ie(e,t,n){const s=e.slice();return s[16]=t[n],s}function oe(t){let n,s,r,i,c=t[16]+"";return{c(){n=u("li"),s=u("a"),r=p(c),g(s,"href",i="#"+t[16])},m(e,t){a(e,n,t),o(n,s),o(s,r)},p:e,d(e){e&&l(n)}}}function ae(e){let t,n,s,r=e[12].thematique+"";return{c(){t=u("h3"),n=p(r),g(t,"id",s=e[12].thematique),g(t,"class","svelte-1gpqes7")},m(e,s){a(e,t,s),o(t,n)},p(e,i){1&i&&r!==(r=e[12].thematique+"")&&b(n,r),1&i&&s!==(s=e[12].thematique)&&g(t,"id",s)},d(e){e&&l(t)}}}function le(e){let t,n,r,i,c,v,h,y,x,q,$,C,N,w,k,A,j,O,E,S,M,L,V,D,I,R,H,P,T,U,G,K,X,B,F,W,Y,z,J,Z,Q,_,ee,te,ne,se,re,ie,oe,le,ce,ue,de,pe,fe,me,ge,be,ve,he=e[3](e[12].thematique),ye=e[12].id+"",xe=e[12].critere+"",qe=he&&ae(e);function $e(...t){return e[5](e[12],...t)}function Ce(...t){return e[6](e[12],...t)}function Ne(...t){return e[7](e[12],...t)}function we(...t){return e[8](e[12],...t)}function ke(...t){return e[9](e[12],...t)}return{c(){qe&&qe.c(),t=f(),n=u("div"),r=u("h4"),i=p(ye),c=p(" : "),v=p(xe),h=f(),y=u("a"),x=d("svg"),q=d("path"),C=f(),N=u("div"),w=u("div"),k=u("label"),A=u("input"),E=f(),S=u("span"),S.textContent="À évaluer",L=f(),V=u("label"),D=u("input"),H=f(),P=u("span"),P.textContent="Conforme",U=f(),G=u("label"),K=u("input"),F=f(),W=u("span"),W.textContent="Non conforme",z=f(),J=u("label"),Z=u("input"),ee=f(),te=u("span"),te.textContent="Non applicable",se=f(),re=u("div"),ie=u("h5"),ie.textContent="Commentaire",oe=f(),le=u("label"),ce=p("Votre commentaire"),de=f(),pe=u("textarea"),me=f(),g(q,"d","M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"),g(x,"viewBox","0 0 24 24"),g(x,"class","svelte-1gpqes7"),g(y,"href",$=e[12].url),g(y,"target","_blank"),g(y,"title","Ouvrir le permalien du critère dans un nouvel onglet pour en apprendre plus"),g(r,"class","criterion__title svelte-1gpqes7"),g(A,"id",j="status-"+e[13]+"-undefined"),g(A,"name",O="status-"+e[13]),g(A,"type","radio"),A.value="undefined",A.checked=!0,g(A,"class","svelte-1gpqes7"),g(S,"class","svelte-1gpqes7"),g(k,"for",M="status-"+e[13]+"-undefined"),g(k,"class","svelte-1gpqes7"),g(D,"id",I="status-"+e[13]+"-satisfied"),g(D,"name",R="status-"+e[13]),g(D,"type","radio"),D.value="satisfied",g(D,"class","svelte-1gpqes7"),g(P,"class","svelte-1gpqes7"),g(V,"for",T="status-"+e[13]+"-satisfied"),g(V,"class","svelte-1gpqes7"),g(K,"id",X="status-"+e[13]+"-rejected"),g(K,"name",B="status-"+e[13]),g(K,"type","radio"),K.value="rejected",g(K,"class","svelte-1gpqes7"),g(W,"class","svelte-1gpqes7"),g(G,"for",Y="status-"+e[13]+"-rejected"),g(G,"class","svelte-1gpqes7"),g(Z,"id",Q="status-"+e[13]+"-not-applicable"),g(Z,"name",_="status-"+e[13]),g(Z,"type","radio"),Z.value="not-applicable",g(Z,"class","svelte-1gpqes7"),g(te,"class","svelte-1gpqes7"),g(J,"for",ne="status-"+e[13]+"-not-applicable"),g(J,"class","svelte-1gpqes7"),g(w,"class","svelte-1gpqes7"),g(N,"class","criterion__status svelte-1gpqes7"),g(ie,"class","svelte-1gpqes7"),g(le,"for",ue="analysis-"+e[12].id),g(le,"class","svelte-1gpqes7"),g(pe,"name",fe="analysis-"+e[12].id),g(pe,"class","svelte-1gpqes7"),g(re,"class","criterion__analysis svelte-1gpqes7"),g(n,"class","criterion svelte-1gpqes7"),g(n,"id",ge=e[13])},m(e,s){qe&&qe.m(e,s),a(e,t,s),a(e,n,s),o(n,r),o(r,i),o(r,c),o(r,v),o(r,h),o(r,y),o(y,x),o(x,q),o(n,C),o(n,N),o(N,w),o(w,k),o(k,A),o(k,E),o(k,S),o(w,L),o(w,V),o(V,D),o(V,H),o(V,P),o(w,U),o(w,G),o(G,K),o(G,F),o(G,W),o(w,z),o(w,J),o(J,Z),o(J,ee),o(J,te),o(n,se),o(n,re),o(re,ie),o(re,oe),o(re,le),o(le,ce),o(re,de),o(re,pe),o(n,me),be||(ve=[m(A,"change",$e),m(D,"change",Ce),m(K,"change",Ne),m(Z,"change",we),m(pe,"input",ke)],be=!0)},p(s,r){e=s,1&r&&(he=e[3](e[12].thematique)),he?qe?qe.p(e,r):(qe=ae(e),qe.c(),qe.m(t.parentNode,t)):qe&&(qe.d(1),qe=null),1&r&&ye!==(ye=e[12].id+"")&&b(i,ye),1&r&&xe!==(xe=e[12].critere+"")&&b(v,xe),1&r&&$!==($=e[12].url)&&g(y,"href",$),1&r&&j!==(j="status-"+e[13]+"-undefined")&&g(A,"id",j),1&r&&O!==(O="status-"+e[13])&&g(A,"name",O),1&r&&M!==(M="status-"+e[13]+"-undefined")&&g(k,"for",M),1&r&&I!==(I="status-"+e[13]+"-satisfied")&&g(D,"id",I),1&r&&R!==(R="status-"+e[13])&&g(D,"name",R),1&r&&T!==(T="status-"+e[13]+"-satisfied")&&g(V,"for",T),1&r&&X!==(X="status-"+e[13]+"-rejected")&&g(K,"id",X),1&r&&B!==(B="status-"+e[13])&&g(K,"name",B),1&r&&Y!==(Y="status-"+e[13]+"-rejected")&&g(G,"for",Y),1&r&&Q!==(Q="status-"+e[13]+"-not-applicable")&&g(Z,"id",Q),1&r&&_!==(_="status-"+e[13])&&g(Z,"name",_),1&r&&ne!==(ne="status-"+e[13]+"-not-applicable")&&g(J,"for",ne),1&r&&ue!==(ue="analysis-"+e[12].id)&&g(le,"for",ue),1&r&&fe!==(fe="analysis-"+e[12].id)&&g(pe,"name",fe),1&r&&ge!==(ge=e[13])&&g(n,"id",ge)},d(e){qe&&qe.d(e),e&&l(t),e&&l(n),be=!1,s(ve)}}}function ce(t){let n,s,r,i,d,m,v,h,y,x,q,$,C,N,w,k,A,j,O,E,S,M,L,V,D=t[0].version+"",I=t[1].byCounters.satisfied+t[1].byCounters.rejected+t[1].byCounters.notApplicable+"",R=t[0].criteres.length+"",H=t[2],P=[];for(let e=0;e<H.length;e+=1)P[e]=oe(ie(t,H,e));let T=t[0].criteres,U=[];for(let e=0;e<T.length;e+=1)U[e]=le(re(t,T,e));return{c(){n=u("form"),s=u("h2"),r=p("Auto-diagnostic "),i=u("a"),i.textContent="RGESN",d=p(" version "),m=p(D),v=f(),h=u("p"),y=u("b"),x=p(I),q=p(" critère(s) évalué(s)"),$=p(" sur "),C=p(R),N=f(),w=u("h3"),w.textContent="Thématiques",k=f(),A=u("ol");for(let e=0;e<P.length;e+=1)P[e].c();j=f(),O=u("h3"),O.textContent="À propos de l'évaluation",E=f(),S=u("p"),S.innerHTML='Cette évaluation déclarative se base sur le RGESN, <a href="https://ecoresponsable.numerique.gouv.fr/publications/referentiel-general-ecoconception/" target="_blank">Référentiel Général d’Écoconception des Services Numériques</a>, publié par la MiNumEco et copiloté par la DINUM, le ministère de la Transition écologique, l&#39;ADEME et l&#39;INR pour la mise en conformité des services numériques de l’administration française et partagé avec l’ensemble des acteurs du numérique.',M=f(),L=u("p"),L.innerHTML='Cette auto-évaluation vous permet de situer le niveau d’écoconception de votre service numérique et de l’afficher sur vos outils de communication (<a href="#resultats">en téléchargeant un badge HTML</a>).\n\t\tVous n’êtes pas obligés de répondre à toutes les questions pour obtenir un premier résultat. Il est important de réaliser cette évaluation avec l&#39;ensemble de l&#39;équipe et des parties prenantes de votre projet.\n\t\tPour chaque critère, 4 options sont disponibles : À évaluer, Conforme, Non conforme et Non applicable dans votre contexte projet. Il est important de justifier en commentaire lorsqu&#39;un critère est conforme ou non applicable.',V=f();for(let e=0;e<U.length;e+=1)U[e].c();g(i,"href","https://ecoresponsable.numerique.gouv.fr/publications/referentiel-general-ecoconception/"),g(i,"target","_blank"),g(w,"class","svelte-1gpqes7"),g(O,"class","svelte-1gpqes7"),g(n,"id","diagnostic"),g(n,"class","page-anchor")},m(e,t){a(e,n,t),o(n,s),o(s,r),o(s,i),o(s,d),o(s,m),o(n,v),o(n,h),o(h,y),o(y,x),o(y,q),o(h,$),o(h,C),o(n,N),o(n,w),o(n,k),o(n,A);for(let e=0;e<P.length;e+=1)P[e].m(A,null);o(n,j),o(n,O),o(n,E),o(n,S),o(n,M),o(n,L),o(n,V);for(let e=0;e<U.length;e+=1)U[e].m(n,null)},p(e,[t]){if(1&t&&D!==(D=e[0].version+"")&&b(m,D),2&t&&I!==(I=e[1].byCounters.satisfied+e[1].byCounters.rejected+e[1].byCounters.notApplicable+"")&&b(x,I),1&t&&R!==(R=e[0].criteres.length+"")&&b(C,R),4&t){let n;for(H=e[2],n=0;n<H.length;n+=1){const s=ie(e,H,n);P[n]?P[n].p(s,t):(P[n]=oe(s),P[n].c(),P[n].m(A,null))}for(;n<P.length;n+=1)P[n].d(1);P.length=H.length}if(25&t){let s;for(T=e[0].criteres,s=0;s<T.length;s+=1){const r=re(e,T,s);U[s]?U[s].p(r,t):(U[s]=le(r),U[s].c(),U[s].m(n,null))}for(;s<U.length;s+=1)U[s].d(1);U.length=T.length}},i:e,o:e,d(e){e&&l(n),c(P,e),c(U,e)}}}function ue(e,t,n){let{referential:s}=t,{audit:r}=t;let i=q(),o="";function a(e,t,n){i("updated",{prop:e,criterionId:t,value:n})}x((()=>{const e=Object.keys(r.byCriteria),t=Object.values(r.byCriteria);for(let n=0,s=e.length;n<s;n++){let s=document.getElementById(e[n].replace(".","-"));t[n].status&&(s.querySelector(`input[value="${t[n].status}"]`).checked=!0),t[n].analysis&&(s.querySelector("textarea").value=t[n].analysis)}}));return e.$$set=e=>{"referential"in e&&n(0,s=e.referential),"audit"in e&&n(1,r=e.audit)},[s,r,["Stratégie","Spécifications","Architecture","UX/UI","Contenus","Frontend","Backend","Hébergement"],function(e){return e!==o&&(o=e,!0)},a,(e,t)=>a("status",e.id,t.target.value),(e,t)=>a("status",e.id,t.target.value),(e,t)=>a("status",e.id,t.target.value),(e,t)=>a("status",e.id,t.target.value),(e,t)=>a("analysis",e.id,t.target.value)]}class de extends F{constructor(e){super(),B(this,e,ue,ce,i,{referential:0,audit:1})}}function pe(t){let n,r,i,o,c,d,p;return{c(){n=u("button"),n.textContent="Exporter les résultats (CSV)",r=f(),i=u("button"),i.textContent="Télécharger le badge HTML",o=f(),c=u("button"),c.textContent="Réinitialiser le diagnostic",g(n,"class","svelte-ey7cfn"),g(i,"class","svelte-ey7cfn"),g(c,"class","svelte-ey7cfn")},m(e,s){a(e,n,s),a(e,r,s),a(e,i,s),a(e,o,s),a(e,c,s),d||(p=[m(n,"click",t[1]),m(i,"click",t[2]),m(c,"click",t[3])],d=!0)},p:e,i:e,o:e,d(e){e&&l(n),e&&l(r),e&&l(i),e&&l(o),e&&l(c),d=!1,s(p)}}}function fe(e){let t=q();return[t,()=>t("exportAudit"),()=>t("buildBadge"),()=>t("resetAudit")]}class me extends F{constructor(e){super(),B(this,e,fe,pe,i,{})}}function ge(t){let n;return{c(){n=u("section"),n.innerHTML='<h2>À propos</h2> \n    <div class="svelte-1eaarzx"><img src="./static/logo-minumeco.svg" alt="Logo MiNumEco" class="svelte-1eaarzx"/> \n        <p>Cet outil développé et mis à disposition gratuitement par la <a href="https://ecoresponsable.numerique.gouv.fr/" target="_blank">MiNumEco</a> facilite l&#39;auto-diagnostic de l’écoconception d’un service numérique, conformément au <a href="https://ecoresponsable.numerique.gouv.fr/publications/referentiel-general-ecoconception/" target="_blank">Référentiel Général d&#39;Écoconception de Services Numériques</a> (RGESN).</p></div> \n    <p>Le RGESN est sous <a href="https://www.etalab.gouv.fr/licence-ouverte-open-licence" target="_blank">licence ouverte Etalab v2</a>.<br/> \n        Cet outil est sous <a href="https://joinup.ec.europa.eu/sites/default/files/inline-files/EUPL%20v1_2%20FR.txt" target="_blank">licence European Union Public License 1</a>.</p> \n    <p><b>Sécurité et protection des données :</b> les données sont stockées uniquement dans votre navigateur. Aucune donnée n&#39;est collectée. NumÉcoDiag fonctionne seule sans communication réseau. Un export CSV est disponible pour exploiter les résultats du diagnostic. Le code est audité automatiquement par l&#39;outil d&#39;audit de sécurité <a href="https://marketplace.visualstudio.com/items?itemName=snyk-security.snyk-vulnerability-scanner" target="_blank">Snyk</a>.</p> \n    <p><b>Pour contribuer à l&#39;amélioration de cet outil</b> (report de bugs, pistes d&#39;amélioration, etc.), visitez <a href="https://github.com/DISIC/NumEcoDiag" target="_blank">le dépôt GitHub officiel du projet</a>. Pour en savoir plus, <a href="https://ecoresponsable.numerique.gouv.fr/publications/referentiel-general-ecoconception/numecodiag/" target="_blank">consulter la page officielle NumÉcoDiag</a>.</p> \n    <p><b>Réalisation :</b>  <a href="https://ecoresponsable.numerique.gouv.fr/" target="_blank">MiNumEco</a>, <a href="https://www.temesis.com/" target="_blank">Temesis</a>.</p>',g(n,"id","a-propos"),g(n,"class","page-anchor")},m(e,t){a(e,n,t)},p:e,i:e,o:e,d(e){e&&l(n)}}}class be extends F{constructor(e){super(),B(this,e,null,ge,i,{})}}function ve(t){let n;return{c(){n=u("section"),n.innerHTML='<div class="svelte-1myeh55"><img src="./static/logo-minumeco.svg" alt="Logo MiNumEco" class="svelte-1myeh55"/> \n        <p>NumÉcoDiag est proposée par la MiNumEco, mission interministérielle pour le numérique écoresponsable co-portée par la DINUM (Direction interministérielle du Numérique - Services de la Première Ministre) et le Ministère Transition Écologique. Son objectif est d’accompagner les ministères dans la transition écologique numérique, elle met à disposition les outils qu’elle développe pour les administrations françaises.</p></div>',g(n,"class","page-anchor"),g(n,"id","header")},m(e,t){a(e,n,t)},p:e,i:e,o:e,d(e){e&&l(n)}}}class he extends F{constructor(e){super(),B(this,e,null,ve,i,{})}}function ye(t){let n,s,r=t[2],o=xe(t);return{c(){o.c(),n=p("")},m(e,t){o.m(e,t),a(e,n,t),s=!0},p(t,s){4&s&&i(r,r=t[2])?(I(),P(o,1,1,e),R(),o=xe(t),o.c(),H(o,1),o.m(n.parentNode,n)):o.p(t,s)},i(e){s||(H(o),s=!0)},o(e){P(o),s=!1},d(e){e&&l(n),o.d(e)}}}function xe(e){let t,n,s,r,i,o,c,u;function d(t){e[8](t)}function p(t){e[9](t)}let m={};return void 0!==e[1][$e].byCounters&&(m.counters=e[1][$e].byCounters),void 0!==e[0].criteres.length&&(m.nbOfCriteria=e[0].criteres.length),t=new se({props:m}),C.push((()=>T(t,"counters",d))),C.push((()=>T(t,"nbOfCriteria",p))),i=new me({}),i.$on("changeVersion",e[10]),i.$on("resetAudit",e[11]),i.$on("buildBadge",e[12]),i.$on("exportAudit",e[6]),c=new de({props:{audit:e[1][$e],referential:e[0]}}),c.$on("updated",e[5]),{c(){U(t.$$.fragment),r=f(),U(i.$$.fragment),o=f(),U(c.$$.fragment)},m(e,n){G(t,e,n),a(e,r,n),G(i,e,n),a(e,o,n),G(c,e,n),u=!0},p(e,r){const i={};!n&&2&r&&(n=!0,i.counters=e[1][$e].byCounters,O((()=>n=!1))),!s&&1&r&&(s=!0,i.nbOfCriteria=e[0].criteres.length,O((()=>s=!1))),t.$set(i);const o={};2&r&&(o.audit=e[1][$e]),1&r&&(o.referential=e[0]),c.$set(o)},i(e){u||(H(t.$$.fragment,e),H(i.$$.fragment,e),H(c.$$.fragment,e),u=!0)},o(e){P(t.$$.fragment,e),P(i.$$.fragment,e),P(c.$$.fragment,e),u=!1},d(e){K(t,e),e&&l(r),K(i,e),e&&l(o),K(c,e)}}}function qe(e){let t,n,s,r,i,c,d,p;n=new Y({}),r=new he({});let m=e[0]&&ye(e);return d=new be({}),{c(){t=u("main"),U(n.$$.fragment),s=f(),U(r.$$.fragment),i=f(),m&&m.c(),c=f(),U(d.$$.fragment)},m(e,l){a(e,t,l),G(n,t,null),o(t,s),G(r,t,null),o(t,i),m&&m.m(t,null),o(t,c),G(d,t,null),p=!0},p(e,[n]){e[0]?m?(m.p(e,n),1&n&&H(m,1)):(m=ye(e),m.c(),H(m,1),m.m(t,c)):m&&(I(),P(m,1,1,(()=>{m=null})),R())},i(e){p||(H(n.$$.fragment,e),H(r.$$.fragment,e),H(m),H(d.$$.fragment,e),p=!0)},o(e){P(n.$$.fragment,e),P(r.$$.fragment,e),P(m),P(d.$$.fragment,e),p=!1},d(e){e&&l(t),K(n),K(r),m&&m.d(),K(d)}}}let $e=0;function Ce(e,t,n){let s,r=[{byCriteria:{},byCounters:{satisfied:0,rejected:0,notApplicable:0},selectedVersion:"v1"}],i=!1;const o=void 0===window.browser?window.chrome:window.browser;function a(e){return new Promise(((t,n)=>{fetch(`./rgesn/${e}.json`).then((e=>{e.ok?e.text().then((e=>{try{t(JSON.parse(e))}catch(e){n("Lecture du référentiel impossible")}})):n("Ouverture du référentiel impossible")}))})).then((e=>n(0,s=e))).catch((e=>console.error(e)))}function l(e){e!==r[$e].selectedVersion?c(e)&&a(e):alert("Vous utilisez déjà cette version du référentiel")}function c(e="v1"){return!!confirm("Attention : cette action entraîne la perte de toutes les données non exportées saisies jusqu'à présent. Souhaitez-vous poursuivre ?")&&(n(1,r[$e].byCriteria={},r),n(1,r[$e].byCounters.satisfied=0,r),n(1,r[$e].byCounters.rejected=0,r),n(1,r[$e].byCounters.notApplicable=0,r),n(1,r[$e].selectedVersion=e,r),o.storage.local.set({audits:JSON.stringify(r)}),n(2,i=!i),!0)}function u(){alert("Retrouvez votre badge en HTML dans votre dossier téléchargement. Vous pouvez afficher ce badge dans vos communications losque 100% des critères sont évalués.");const e=s.criteres.length,t=r[$e].byCounters,n=((t.satisfied+t.rejected+t.notApplicable)/e*100).toFixed(0),i=(t.satisfied/(e-t.notApplicable)*100).toFixed(0);let o=new Blob([`<div class="numecodiag-badge" style="display:flex; align-items: center; gap: 1em; max-width: 60ch; padding: 1em"><img src=" data:image/png;base64,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" alt="Logo MiNum_Eco"><p>Après auto-évaluation, ce service numérique a un taux de conformité de ${i}% pour ${n}% des critères évalués selon le <a href="https://ecoresponsable.numerique.gouv.fr/publications/referentiel-general-ecoconception/" target="_blank">Référentiel Général d'Écoconception de Services Numériques</a> (RGESN). </p></div>`],{}),a=document.createElement("a");a.setAttribute("href",window.URL.createObjectURL(o)),a.setAttribute("download","badge.html"),a.click(),a.remove()}new Promise(((e,t)=>{o.storage.local.get(["audits"]).then((n=>void 0!==n.audits?e(n):t("Absence d'historique")))})).then((e=>n(1,r=JSON.parse(e.audits)))).catch((e=>console.warn(e))).finally((()=>a(r[$e].selectedVersion).then((()=>{window.onscroll=()=>o.storage.local.set({scrollPosY:window.scrollY}),o.storage.local.get("scrollPosY").then((e=>window.scroll(0,e.scrollPosY||0)))}))));return[s,r,i,l,c,function(e){const t={prop:e.detail.prop,id:e.detail.criterionId,value:e.detail.value};if(r[$e].byCriteria[t.id]||n(1,r[$e].byCriteria[t.id]={status:"undefined",analysis:""},r),"status"===t.prop){const e=r[$e].byCriteria[t.id].status,s=t.value;if("undefined"!==e)switch(e){case"satisfied":n(1,r[$e].byCounters.satisfied--,r);break;case"rejected":n(1,r[$e].byCounters.rejected--,r);break;case"not-applicable":n(1,r[$e].byCounters.notApplicable--,r)}if("undefined"!==s)switch(s){case"satisfied":n(1,r[$e].byCounters.satisfied++,r);break;case"rejected":n(1,r[$e].byCounters.rejected++,r);break;case"not-applicable":n(1,r[$e].byCounters.notApplicable++,r)}}n(1,r[$e].byCriteria[t.id][t.prop]=t.value,r),o.storage.local.set({audits:JSON.stringify(r)})},function(){let e="ID;Thématique;Libellé du critère;Évaluation;Commentaire;\n";for(const t of s.criteres){e+=`${t.id};${t.thematique};${t.critere};`;const n=r[$e].byCriteria[t.id];if(void 0!==n)switch(n.status){case"satisfied":e+="conforme;";break;case"rejected":e+="non conforme;";break;case"not-applicable":e+="non applicable;";break;default:e+="à évaluer;"}else e+="à évaluer;";void 0!==n&&void 0!==n.analysis?e+=`"${n.analysis}"`:e+=";",e+=";\n"}let t=new Blob([e],{}),n=document.createElement("a");n.setAttribute("href",window.URL.createObjectURL(t)),n.setAttribute("download","NumÉcoDiag.csv"),n.click(),n.remove()},u,function(t){e.$$.not_equal(r[$e].byCounters,t)&&(r[$e].byCounters=t,n(1,r))},function(t){e.$$.not_equal(s.criteres.length,t)&&(s.criteres.length=t,n(0,s))},e=>l(e.detail.versionToApply),()=>c(void 0),()=>u()]}return new class extends F{constructor(e){super(),B(this,e,Ce,qe,i,{})}}({target:document.body})}();
//# sourceMappingURL=app.js.map
